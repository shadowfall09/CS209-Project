{"items":[{"tags":["java","elasticsearch","migration","liquibase","flyway"],"answers":[{"tags":[],"owner":{"account_id":2482616,"reputation":8222,"user_id":2161778,"display_name":"Slam"},"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1697480629,"creation_date":1438959827,"answer_id":31880978,"question_id":23977688,"body_markdown":"From this point of view/need, ES have a huge limitations:\r\n\r\n- despite having dynamic mapping, ES is __not__ schemaless but schema-intensive. Mappings cant be changed in case when this change conflicting with existing documents (practically, if any of documents have not-null field which new mapping affects, this will result in exception)\r\n- documents in ES is immutable: once you&#39;ve indexed one, you can retrieve/delete in only. The syntactic sugar around this is partial update, which makes thread-safe delete + index (with same id) on ES side\r\n\r\nWhat does that mean in context of your question? You, basically, can&#39;t have classic migration tools for ES. And here&#39;s what can make your work with ES easier:\r\n\r\n * use strict mapping (`&quot;dynamic&quot;: &quot;strict&quot;` and/or `index.mapper.dynamic: false`, take a look at [mapping docs][1]). This will protect your indexes/types from being accidentally dynamically mapped with wrong type\r\n  - get explicit error in case when you miss some error in data-mapping relation\r\n\r\n - you can fetch actual ES mapping and compare it with your data models. If your PL have high enough level library for ES, this should be pretty easy\r\n\r\n - you can leverage [index aliases][2] for migrations\r\n\r\n---\r\nSo, a little bit of experience. For me, currently reasonable flow is this:\r\n\r\n - All data structures described as models in code. This models actually provide ORM abstraction too.\r\n - Index/mapping creation call is simple model&#39;s method.\r\n - Every index has alias (i.e. `news`) which points to actual index (i.e. `news_index_{revision}_{date_created}`).\r\n\r\nEvery time code being deployed, you\r\n\r\n 1. Try to put model(type) mapping. If it&#39;s done w/o error, this means that you&#39;ve either\r\n - put the same mapping \r\n - put mapping that is pure superset of old one (only new fields was provided, old stays untouched)\r\n - no documents have values in fields affected by new mapping\r\n\r\n All of this actually means that you&#39;re good to go with mappping/data you have, just work with data as always.\r\n\r\n 2. If ES provide exception about new mapping, you\r\n  - create new index/type with new mapping (named like `name_{revision}_{date}`\r\n  - redirect your alias to new index\r\n  - fire up migration code that makes [`bulk`][3] requests for fast reindexing\r\n During this reindexing you can safely index new documents normally through the alias. The drawback is that historical data is partially available during reindexing.\r\n\r\nThis is production-tested solution. Caveats around such approach:\r\n\r\n- you cannot do such, if your read requests require consistent historical data\r\n- you&#39;re required to reindex whole index. If you have 1 type per index (viable solution) then its fine. But sometimes you need multi-type indexes\r\n- data network roundtrip. Can be pain sometimes\r\n\r\n---\r\nTo sum up this:\r\n\r\n - try to have good abstraction in your models, this always helps\r\n - try keeping historical data/fields stale. Just build your code with this idea in mind, that&#39;s easier than sounds at first\r\n - I strongly recommend to avoid relying on migration tools that leverage ES experimental tools. Those can be changed anytime, like `river-*` tools did.\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-mapping.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html","title":"Liquibase or Flyway database migration alternative for Elasticsearch","body":"<p>From this point of view/need, ES have a huge limitations:</p>\n<ul>\n<li>despite having dynamic mapping, ES is <strong>not</strong> schemaless but schema-intensive. Mappings cant be changed in case when this change conflicting with existing documents (practically, if any of documents have not-null field which new mapping affects, this will result in exception)</li>\n<li>documents in ES is immutable: once you've indexed one, you can retrieve/delete in only. The syntactic sugar around this is partial update, which makes thread-safe delete + index (with same id) on ES side</li>\n</ul>\n<p>What does that mean in context of your question? You, basically, can't have classic migration tools for ES. And here's what can make your work with ES easier:</p>\n<ul>\n<li>use strict mapping (<code>&quot;dynamic&quot;: &quot;strict&quot;</code> and/or <code>index.mapper.dynamic: false</code>, take a look at <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-mapping.html\" rel=\"nofollow noreferrer\">mapping docs</a>). This will protect your indexes/types from being accidentally dynamically mapped with wrong type</li>\n</ul>\n<ul>\n<li><p>get explicit error in case when you miss some error in data-mapping relation</p>\n</li>\n<li><p>you can fetch actual ES mapping and compare it with your data models. If your PL have high enough level library for ES, this should be pretty easy</p>\n</li>\n<li><p>you can leverage <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html\" rel=\"nofollow noreferrer\">index aliases</a> for migrations</p>\n</li>\n</ul>\n<hr />\n<p>So, a little bit of experience. For me, currently reasonable flow is this:</p>\n<ul>\n<li>All data structures described as models in code. This models actually provide ORM abstraction too.</li>\n<li>Index/mapping creation call is simple model's method.</li>\n<li>Every index has alias (i.e. <code>news</code>) which points to actual index (i.e. <code>news_index_{revision}_{date_created}</code>).</li>\n</ul>\n<p>Every time code being deployed, you</p>\n<ol>\n<li>Try to put model(type) mapping. If it's done w/o error, this means that you've either</li>\n</ol>\n<ul>\n<li>put the same mapping</li>\n<li>put mapping that is pure superset of old one (only new fields was provided, old stays untouched)</li>\n<li>no documents have values in fields affected by new mapping</li>\n</ul>\n<p>All of this actually means that you're good to go with mappping/data you have, just work with data as always.</p>\n<ol start=\"2\">\n<li>If ES provide exception about new mapping, you</li>\n</ol>\n<ul>\n<li>create new index/type with new mapping (named like <code>name_{revision}_{date}</code></li>\n<li>redirect your alias to new index</li>\n<li>fire up migration code that makes <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html\" rel=\"nofollow noreferrer\"><code>bulk</code></a> requests for fast reindexing\nDuring this reindexing you can safely index new documents normally through the alias. The drawback is that historical data is partially available during reindexing.</li>\n</ul>\n<p>This is production-tested solution. Caveats around such approach:</p>\n<ul>\n<li>you cannot do such, if your read requests require consistent historical data</li>\n<li>you're required to reindex whole index. If you have 1 type per index (viable solution) then its fine. But sometimes you need multi-type indexes</li>\n<li>data network roundtrip. Can be pain sometimes</li>\n</ul>\n<hr />\n<p>To sum up this:</p>\n<ul>\n<li>try to have good abstraction in your models, this always helps</li>\n<li>try keeping historical data/fields stale. Just build your code with this idea in mind, that's easier than sounds at first</li>\n<li>I strongly recommend to avoid relying on migration tools that leverage ES experimental tools. Those can be changed anytime, like <code>river-*</code> tools did.</li>\n</ul>\n"}],"owner":{"account_id":1199242,"reputation":992,"user_id":1170257,"accept_rate":87,"display_name":"Istvano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13665,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":31880978,"answer_count":1,"score":41,"last_activity_date":1697480629,"creation_date":1401608032,"question_id":23977688,"body_markdown":"I am pretty new to ES. I have been trying to search for a db migration tool for long and I could not find one. I am wondering if anyone could help to point me to the right direction.\r\n\r\nI would be using Elasticsearch as a primary datastore in my project. I would like to version all mapping and configuration changes / data import / data upgrades scripts which I run as I develop new modules in my project.\r\n\r\nIn the past I used database versioning tools like Flyway or Liquibase. \r\n\r\nAre there any frameworks / scripts or methods I could use with ES to achieve something similar ?\r\n\r\nDoes anyone have any experience doing this by hand using scripts and run migration scripts at least upgrade scripts.\r\n\r\nThanks in advance!\r\n","title":"Liquibase or Flyway database migration alternative for Elasticsearch","body":"<p>I am pretty new to ES. I have been trying to search for a db migration tool for long and I could not find one. I am wondering if anyone could help to point me to the right direction.</p>\n\n<p>I would be using Elasticsearch as a primary datastore in my project. I would like to version all mapping and configuration changes / data import / data upgrades scripts which I run as I develop new modules in my project.</p>\n\n<p>In the past I used database versioning tools like Flyway or Liquibase. </p>\n\n<p>Are there any frameworks / scripts or methods I could use with ES to achieve something similar ?</p>\n\n<p>Does anyone have any experience doing this by hand using scripts and run migration scripts at least upgrade scripts.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","unit-testing","maven","junit"],"comments":[{"owner":{"account_id":3269456,"reputation":771,"user_id":2753136,"display_name":"ppuskar"},"score":0,"creation_date":1415948099,"post_id":26924372,"comment_id":42395850,"body_markdown":"i do not think that you need any classpath settings to run unit test cases in maven. If your project is in same structure you have defined, then maven will run the test cases every time you build your project(can be turned off using -options). Let me know if i am deviating from the question.","body":"i do not think that you need any classpath settings to run unit test cases in maven. If your project is in same structure you have defined, then maven will run the test cases every time you build your project(can be turned off using -options). Let me know if i am deviating from the question."},{"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"score":0,"creation_date":1415948409,"post_id":26924372,"comment_id":42395963,"body_markdown":"@ppuskar I was also expecting the same but , the problem is exactly as I have told above.","body":"@ppuskar I was also expecting the same but , the problem is exactly as I have told above."},{"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"score":0,"creation_date":1415964931,"post_id":26924372,"comment_id":42403710,"body_markdown":"@ps06756 Your comments below show that there is information missing in the question. Please edit the question to include the missing information.","body":"@ps06756 Your comments below show that there is information missing in the question. Please edit the question to include the missing information."}],"answers":[{"tags":[],"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415948535,"creation_date":1415948535,"answer_id":26924646,"question_id":26924372,"body_markdown":"When using the [Maven Standard Directory Layout][1] (which I always recommend as Maven is all about conventions), the following directories are always part of the classpath when running the tests:\r\n\r\n    src/main/java\r\n    src/main/resources\r\n    src/test/java\r\n    src/test/resources\r\n\r\nSo there is no need to manually adjust anything for running the tests. The `mvn test` command simply does what you want.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"How to add classpaths for unit tests in maven ?","body":"<p>When using the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow\">Maven Standard Directory Layout</a> (which I always recommend as Maven is all about conventions), the following directories are always part of the classpath when running the tests:</p>\n\n<pre><code>src/main/java\nsrc/main/resources\nsrc/test/java\nsrc/test/resources\n</code></pre>\n\n<p>So there is no need to manually adjust anything for running the tests. The <code>mvn test</code> command simply does what you want.</p>\n"},{"tags":[],"owner":{"account_id":4960895,"reputation":189,"user_id":3992047,"accept_rate":60,"display_name":"Obuli Sundar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415949496,"creation_date":1415949496,"answer_id":26924861,"question_id":26924372,"body_markdown":"Maven Directory structure is always added in the class path. if you are using eclipse just got to Run as-&gt;maven build.(make sure you  have maven plugin installed) otherwise you can directly use the mvn clean , mvn install  command for building the project in maven.","title":"How to add classpaths for unit tests in maven ?","body":"<p>Maven Directory structure is always added in the class path. if you are using eclipse just got to Run as->maven build.(make sure you  have maven plugin installed) otherwise you can directly use the mvn clean , mvn install  command for building the project in maven.</p>\n"}],"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5316,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1697480138,"creation_date":1415947292,"question_id":26924372,"body_markdown":"I am using maven to make a simple application and writing unit tests for it. I am new to both using maven as well as writing unit tests with Junit.\r\n\r\nMy directory structure is as follows :- \r\n\r\nThe source code classes used in my project are in the directory : -\r\n\r\n` project-name/src/main/java/com/somename/app/packagename ` \r\n\r\nMain file (which contains static main method) is in :- \r\n\r\n `project-name/src/main/java/com/somename/app/App.java`   \r\n\r\nThe default unit test provided by Maven is in :- \r\n\r\n  `project-name/src/test/java/com/somename/app/AppTest.java `\r\n\r\nNow, I have added a unit test in the above directory (in which AppTest.java) is there and this unit test needs to access the classes defined in the &quot;packagename&quot; directory as described above.   \r\n\r\nIf it were a simple commandline , I would have added the classpath to the directory when compiling and running the application.   \r\n\r\nHow should I do the same in Maven ? Also, is there any alternative to adding the classpath directly in maven ? \r\n              ","title":"How to add classpaths for unit tests in maven ?","body":"<p>I am using maven to make a simple application and writing unit tests for it. I am new to both using maven as well as writing unit tests with Junit.</p>\n\n<p>My directory structure is as follows :- </p>\n\n<p>The source code classes used in my project are in the directory : -</p>\n\n<p><code>project-name/src/main/java/com/somename/app/packagename</code> </p>\n\n<p>Main file (which contains static main method) is in :- </p>\n\n<p><code>project-name/src/main/java/com/somename/app/App.java</code>   </p>\n\n<p>The default unit test provided by Maven is in :- </p>\n\n<p><code>project-name/src/test/java/com/somename/app/AppTest.java</code></p>\n\n<p>Now, I have added a unit test in the above directory (in which AppTest.java) is there and this unit test needs to access the classes defined in the \"packagename\" directory as described above.   </p>\n\n<p>If it were a simple commandline , I would have added the classpath to the directory when compiling and running the application.   </p>\n\n<p>How should I do the same in Maven ? Also, is there any alternative to adding the classpath directly in maven ? </p>\n"},{"tags":["java","spring","oracle","ucp"],"answers":[{"tags":[],"owner":{"account_id":9757092,"reputation":304,"user_id":7233446,"display_name":"Kuassi Mensah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697479828,"creation_date":1697479828,"answer_id":77304120,"question_id":77271874,"body_markdown":"That was a bug fixed in the recent releases.\r\nWhich UCP release are you using? If not fixed in your release, please submit an Oracle Support service request to get a one-off patch.","title":"How to use SQLExceptionTranslator and Oracle UCP together","body":"<p>That was a bug fixed in the recent releases.\nWhich UCP release are you using? If not fixed in your release, please submit an Oracle Support service request to get a one-off patch.</p>\n"}],"owner":{"account_id":14086883,"reputation":37,"user_id":10176413,"display_name":"koli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697479828,"creation_date":1697017309,"question_id":77271874,"body_markdown":"I use Oracle UCP as connection pool driver.\r\nI try to use [SQLExceptionTranslator][1] in my JdbcTemplate but there is a problem.\r\nWhen I implement my own SqlExceptionTranslator implementation with overrided customTranslate() and if there is an Exception on db side I have the following:\r\n\r\n``` lang-java\r\n...java.sql.SQLException: Exception occurred while getting connection: oracle.ucp.UniversalConnectionPoolException: Universal Connection Pool internal error: **java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException** (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader &#39;platform&#39;)\r\n            at oracle.ucp.util.UCPErrorHandler.newSQLException(UCPErrorHandler.java:498) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.util.UCPErrorHandler.throwSQLException(UCPErrorHandler.java:175) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1899) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            ... 33 more\r\n    Caused by: oracle.ucp.UniversalConnectionPoolException: Universal Connection Pool internal error: java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader &#39;platform&#39;)\r\n            at oracle.ucp.util.UCPErrorHandler.newUniversalConnectionPoolException(UCPErrorHandler.java:378) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:68) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:91) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:164) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.Core.growBorrowed(Core.java:1289) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.helpGrowBorrowed(UniversalConnectionPoolImpl.java:406) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionWithoutCountingRequests(UniversalConnectionPoolImpl.java:349) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidateHelper(UniversalConnectionPoolImpl.java:205) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidate(UniversalConnectionPoolImpl.java:165) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnection(UniversalConnectionPoolImpl.java:138) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.JDBCConnectionPool.borrowConnection(JDBCConnectionPool.java:184) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.borrowConnection(OracleJDBCConnectionPool.java:610) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.oracle.OracleConnectionConnectionPool.borrowConnection(OracleConnectionConnectionPool.java:118) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1879) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            ... 33 more\r\n    Caused by: java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader &#39;platform&#39;)\r\n            at oracle.ucp.common.Service.create(Service.java:897) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.Service.create(Service.java:644) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.Topology.create(Topology.java:163) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.Core.growBorrowed(Core.java:1279) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.helpGrowBorrowed(UniversalConnectionPoolImpl.java:406) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionWithoutCountingRequests(UniversalConnectionPoolImpl.java:349) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidateHelper(UniversalConnectionPoolImpl.java:205) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidate(UniversalConnectionPoolImpl.java:165) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnection(UniversalConnectionPoolImpl.java:138) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.JDBCConnectionPool.borrowConnection(JDBCConnectionPool.java:184) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.borrowConnection(OracleJDBCConnectionPool.java:610) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.oracle.OracleConnectionConnectionPool.borrowConnection(OracleConnectionConnectionPool.java:118) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1879) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            ... 33 more\r\n```\r\n\r\nI suppose that the reason is that the oracle.ucp.UniversalConnectionPoolException extends java.lang.Exception - a customTranslate overrided method requires java.sql.SQLException.\r\n\r\nBut, how to use SQLExceptionTranslator/jdbcTemplate.setExceptionTranslator feature with Oracle UCP ?\r\n\r\nBest Regards\r\n\r\nkoli\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/support/class-use/SQLExceptionTranslator.html","title":"How to use SQLExceptionTranslator and Oracle UCP together","body":"<p>I use Oracle UCP as connection pool driver.\nI try to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/support/class-use/SQLExceptionTranslator.html\" rel=\"nofollow noreferrer\">SQLExceptionTranslator</a> in my JdbcTemplate but there is a problem.\nWhen I implement my own SqlExceptionTranslator implementation with overrided customTranslate() and if there is an Exception on db side I have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...java.sql.SQLException: Exception occurred while getting connection: oracle.ucp.UniversalConnectionPoolException: Universal Connection Pool internal error: **java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException** (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader 'platform')\n            at oracle.ucp.util.UCPErrorHandler.newSQLException(UCPErrorHandler.java:498) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.util.UCPErrorHandler.throwSQLException(UCPErrorHandler.java:175) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1899) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            ... 33 more\n    Caused by: oracle.ucp.UniversalConnectionPoolException: Universal Connection Pool internal error: java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader 'platform')\n            at oracle.ucp.util.UCPErrorHandler.newUniversalConnectionPoolException(UCPErrorHandler.java:378) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:68) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:91) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:164) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.Core.growBorrowed(Core.java:1289) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.helpGrowBorrowed(UniversalConnectionPoolImpl.java:406) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionWithoutCountingRequests(UniversalConnectionPoolImpl.java:349) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidateHelper(UniversalConnectionPoolImpl.java:205) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidate(UniversalConnectionPoolImpl.java:165) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnection(UniversalConnectionPoolImpl.java:138) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.JDBCConnectionPool.borrowConnection(JDBCConnectionPool.java:184) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.borrowConnection(OracleJDBCConnectionPool.java:610) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.oracle.OracleConnectionConnectionPool.borrowConnection(OracleConnectionConnectionPool.java:118) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1879) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            ... 33 more\n    Caused by: java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader 'platform')\n            at oracle.ucp.common.Service.create(Service.java:897) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.Service.create(Service.java:644) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.Topology.create(Topology.java:163) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.Core.growBorrowed(Core.java:1279) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.helpGrowBorrowed(UniversalConnectionPoolImpl.java:406) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionWithoutCountingRequests(UniversalConnectionPoolImpl.java:349) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidateHelper(UniversalConnectionPoolImpl.java:205) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidate(UniversalConnectionPoolImpl.java:165) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnection(UniversalConnectionPoolImpl.java:138) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.JDBCConnectionPool.borrowConnection(JDBCConnectionPool.java:184) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.borrowConnection(OracleJDBCConnectionPool.java:610) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.oracle.OracleConnectionConnectionPool.borrowConnection(OracleConnectionConnectionPool.java:118) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1879) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            ... 33 more\n</code></pre>\n<p>I suppose that the reason is that the oracle.ucp.UniversalConnectionPoolException extends java.lang.Exception - a customTranslate overrided method requires java.sql.SQLException.</p>\n<p>But, how to use SQLExceptionTranslator/jdbcTemplate.setExceptionTranslator feature with Oracle UCP ?</p>\n<p>Best Regards</p>\n<p>koli</p>\n"},{"tags":["java","kubernetes","ignite"],"owner":{"account_id":29612205,"reputation":11,"user_id":22695175,"display_name":"Lovababu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697479508,"creation_date":1696594924,"question_id":77244401,"body_markdown":"We have a legacy Apache Ignite Servers (v2.9.1) deployed on set of VMs and trying to connect to servers with thick client from service deployed on Kubernetes.\r\n\r\n\r\n\r\nWe tried this configuration \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    &lt;bean id=&quot;ignite.cfg&quot; class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\r\n        &lt;!-- Set to true to enable distributed class loading for examples, default is false. --&gt;\r\n        &lt;property name=&quot;peerClassLoadingEnabled&quot; value=&quot;false&quot;/&gt;\r\n        &lt;!-- Enable client mdoe. --&gt;\r\n        &lt;property name=&quot;clientMode&quot; value=&quot;true&quot;/&gt;\r\n        &lt;!-- Work Dir --&gt;\r\n        &lt;property name=&quot;workDirectory&quot; value=&quot;/tmp&quot;/&gt;\r\n        &lt;!-- Network Segmentation (Split Brain) --&gt;\r\n        &lt;property name=&quot;segmentationPolicy&quot; value=&quot;NOOP&quot;/&gt;\r\n        &lt;property name=&quot;segmentCheckFrequency&quot; value=&quot;60000&quot;/&gt;\r\n\r\n        &lt;property name=&quot;clientFailureDetectionTimeout&quot; value=&quot;60000&quot;/&gt;\r\n\r\n        &lt;!-- Enable task execution events for examples. --&gt;\r\n        &lt;property name=&quot;includeEventTypes&quot;&gt;\r\n            &lt;list&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n\r\n        &lt;property name=&quot;discoverySpi&quot;&gt;\r\n            &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\r\n                &lt;property name=&quot;networkTimeout&quot; value=&quot;15000&quot;/&gt;\r\n                &lt;property name=&quot;socketTimeout&quot; value=&quot;15000&quot;/&gt;\r\n                &lt;property name=&quot;ackTimeout&quot; value=&quot;15000&quot;/&gt;\r\n                &lt;property name=&quot;statisticsPrintFrequency&quot; value=&quot;30&quot;/&gt;\r\n                &lt;property name=&quot;ipFinder&quot;&gt;\r\n                    &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder&quot;&gt;\r\n                        &lt;property name=&quot;addresses&quot; value=&quot;server-1.my-domain.com,server-2.my-domain.com,server-3.my-domain.com&quot;/&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;communicationSpi&quot;&gt;\r\n            &lt;bean class=&quot;org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi&quot;&gt;\r\n                &lt;property name=&quot;forceClientToServerConnections&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;conversionService&quot;\r\n            class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;/&gt;\r\n&lt;/beans&gt;\r\n```\r\nbut failing with below errors,\r\nClient logs:\r\n\r\n```\r\nSEVERE: Failed to send message: null\r\njava.io.IOException: Failed to get acknowledge for message: TcpDiscoveryClientMetricsUpdateMessage [super=TcpDiscoveryAbstractMessage [sndNodeId=null, id=57c6bd40b81-6c95ce16-6b3a-4046-80fa-6cdaac6c4831, verifierNodeId=null, topVer=0, pendingIdx=0, failedNodes=null, isClient=true]]\r\n        at org.apache.ignite.spi.discovery.tcp.ClientImpl$SocketWriter.body(ClientImpl.java:1471)\r\n        at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58)\r\n...\r\n...\r\nSEVERE: Got exception while starting (will rollback startup routine).\r\nclass org.apache.ignite.IgniteCheckedException: Failed to start manager: GridManagerAdapter [enabled=true, name=org.apache.ignite.internal.managers.discovery.GridDiscoveryManager]\r\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1921)\r\n        at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1279)\r\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052)\r\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698)\r\n        at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114)\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634)\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:575)\r\n        at org.apache.ignite.Ignition.getOrStart(Ignition.java:419)\r\n        at my.IgniteClientService.getIgnite(PRIgniteService.java:575)\r\n        at my.IgniteClientService.startIgniteService(IgniteClientService.java:926)\r\n        at my.IgniteClientService.&lt;init&gt;(IgniteClientService.java:100)\r\n        at my.IgniteClientService.&lt;init&gt;(IgniteClientService.java:78)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: class org.apache.ignite.IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi [addrRslvr=null, sockTimeout=15000, ackTimeout=15000, marsh=JdkMarshaller [clsFilter=org.apache.ignite.marshaller.MarshallerUtils$1@68c517], reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=0, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false]\r\n        at org.apache.ignite.internal.managers.GridManagerAdapter.startSpi(GridManagerAdapter.java:302)\r\n        at org.apache.ignite.internal.managers.discovery.GridDiscoveryManager.start(GridDiscoveryManager.java:974)\r\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1916)\r\n        ... 32 more\r\nCaused by: class org.apache.ignite.spi.IgniteSpiException: Failed to connect to cluster, connection failed and failed to reconnect.\r\n        at org.apache.ignite.spi.discovery.tcp.ClientImpl$Reconnector.body(ClientImpl.java:1691)\r\n        at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58)\r\n\r\n\r\n```\r\n\r\nServer logs:\r\n\r\n```\r\n[12:00:51,574][WARNING][disco-event-worker-#323][GridDiscoveryManager] Node FAILED: TcpDiscoveryNode [id=6c95ce16-6b3a-4046-80fa-6cdaac6c4831, consistentId=6c95ce16-6b3a-4046-80fa-6cdaac6c4831, addrs=ArrayList [10.244.8.141, 127.0.0.1], sockAddrs=HashSet [/10.244.8.141:0, /127.0.0.1:0], discPort=0, order=2126, intOrder=1071, lastExchangeTime=1696593572069, loc=false, ver=2.9.1#20201203-sha1:adcce517, isClient=true]\r\n```\r\n\r\n\r\nHere 10.244.8.141 is the ip address of POD.\r\nSomeone who has similar setup working, please help us!!\r\n\r\n","title":"Apache Ignite client running on Kubernetes failed to join cluster with Ignite servers deployed outside Kubernetes","body":"<p>We have a legacy Apache Ignite Servers (v2.9.1) deployed on set of VMs and trying to connect to servers with thick client from service deployed on Kubernetes.</p>\n<p>We tried this configuration</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    &lt;bean id=&quot;ignite.cfg&quot; class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\n        &lt;!-- Set to true to enable distributed class loading for examples, default is false. --&gt;\n        &lt;property name=&quot;peerClassLoadingEnabled&quot; value=&quot;false&quot;/&gt;\n        &lt;!-- Enable client mdoe. --&gt;\n        &lt;property name=&quot;clientMode&quot; value=&quot;true&quot;/&gt;\n        &lt;!-- Work Dir --&gt;\n        &lt;property name=&quot;workDirectory&quot; value=&quot;/tmp&quot;/&gt;\n        &lt;!-- Network Segmentation (Split Brain) --&gt;\n        &lt;property name=&quot;segmentationPolicy&quot; value=&quot;NOOP&quot;/&gt;\n        &lt;property name=&quot;segmentCheckFrequency&quot; value=&quot;60000&quot;/&gt;\n\n        &lt;property name=&quot;clientFailureDetectionTimeout&quot; value=&quot;60000&quot;/&gt;\n\n        &lt;!-- Enable task execution events for examples. --&gt;\n        &lt;property name=&quot;includeEventTypes&quot;&gt;\n            &lt;list&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n\n        &lt;property name=&quot;discoverySpi&quot;&gt;\n            &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\n                &lt;property name=&quot;networkTimeout&quot; value=&quot;15000&quot;/&gt;\n                &lt;property name=&quot;socketTimeout&quot; value=&quot;15000&quot;/&gt;\n                &lt;property name=&quot;ackTimeout&quot; value=&quot;15000&quot;/&gt;\n                &lt;property name=&quot;statisticsPrintFrequency&quot; value=&quot;30&quot;/&gt;\n                &lt;property name=&quot;ipFinder&quot;&gt;\n                    &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder&quot;&gt;\n                        &lt;property name=&quot;addresses&quot; value=&quot;server-1.my-domain.com,server-2.my-domain.com,server-3.my-domain.com&quot;/&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;communicationSpi&quot;&gt;\n            &lt;bean class=&quot;org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi&quot;&gt;\n                &lt;property name=&quot;forceClientToServerConnections&quot; value=&quot;true&quot;/&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;conversionService&quot;\n            class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>but failing with below errors,\nClient logs:</p>\n<pre><code>SEVERE: Failed to send message: null\njava.io.IOException: Failed to get acknowledge for message: TcpDiscoveryClientMetricsUpdateMessage [super=TcpDiscoveryAbstractMessage [sndNodeId=null, id=57c6bd40b81-6c95ce16-6b3a-4046-80fa-6cdaac6c4831, verifierNodeId=null, topVer=0, pendingIdx=0, failedNodes=null, isClient=true]]\n        at org.apache.ignite.spi.discovery.tcp.ClientImpl$SocketWriter.body(ClientImpl.java:1471)\n        at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58)\n...\n...\nSEVERE: Got exception while starting (will rollback startup routine).\nclass org.apache.ignite.IgniteCheckedException: Failed to start manager: GridManagerAdapter [enabled=true, name=org.apache.ignite.internal.managers.discovery.GridDiscoveryManager]\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1921)\n        at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1279)\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052)\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698)\n        at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114)\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634)\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:575)\n        at org.apache.ignite.Ignition.getOrStart(Ignition.java:419)\n        at my.IgniteClientService.getIgnite(PRIgniteService.java:575)\n        at my.IgniteClientService.startIgniteService(IgniteClientService.java:926)\n        at my.IgniteClientService.&lt;init&gt;(IgniteClientService.java:100)\n        at my.IgniteClientService.&lt;init&gt;(IgniteClientService.java:78)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: class org.apache.ignite.IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi [addrRslvr=null, sockTimeout=15000, ackTimeout=15000, marsh=JdkMarshaller [clsFilter=org.apache.ignite.marshaller.MarshallerUtils$1@68c517], reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=0, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false]\n        at org.apache.ignite.internal.managers.GridManagerAdapter.startSpi(GridManagerAdapter.java:302)\n        at org.apache.ignite.internal.managers.discovery.GridDiscoveryManager.start(GridDiscoveryManager.java:974)\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1916)\n        ... 32 more\nCaused by: class org.apache.ignite.spi.IgniteSpiException: Failed to connect to cluster, connection failed and failed to reconnect.\n        at org.apache.ignite.spi.discovery.tcp.ClientImpl$Reconnector.body(ClientImpl.java:1691)\n        at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58)\n\n\n</code></pre>\n<p>Server logs:</p>\n<pre><code>[12:00:51,574][WARNING][disco-event-worker-#323][GridDiscoveryManager] Node FAILED: TcpDiscoveryNode [id=6c95ce16-6b3a-4046-80fa-6cdaac6c4831, consistentId=6c95ce16-6b3a-4046-80fa-6cdaac6c4831, addrs=ArrayList [10.244.8.141, 127.0.0.1], sockAddrs=HashSet [/10.244.8.141:0, /127.0.0.1:0], discPort=0, order=2126, intOrder=1071, lastExchangeTime=1696593572069, loc=false, ver=2.9.1#20201203-sha1:adcce517, isClient=true]\n</code></pre>\n<p>Here 10.244.8.141 is the ip address of POD.\nSomeone who has similar setup working, please help us!!</p>\n"},{"tags":["java","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":6782076,"reputation":168048,"user_id":5221944,"accept_rate":86,"display_name":"Mikhail Berlyant"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697479153,"creation_date":1697479153,"answer_id":77304059,"question_id":77303490,"body_markdown":"Consider below option         \r\n\r\n    create temp function  extract_keys(input string) returns array&lt;string&gt; language js as &quot;&quot;&quot;\r\n      return Object.keys(JSON.parse(input));\r\n      &quot;&quot;&quot;;\r\n    create temp function  extract_values(input string) returns array&lt;string&gt; language js as &quot;&quot;&quot;\r\n      return Object.values(JSON.parse(input));\r\n      &quot;&quot;&quot;;\r\n    select format(&#39;{%s}&#39;, string_agg(r))\r\n    from (\r\n      select format(&#39;&quot;%s&quot;: %T&#39;, key,array_agg(val)) r\r\n      from your_table t,\r\n      unnest(extract_keys(to_json_string(t))) key with offset\r\n      join unnest(extract_values(to_json_string(t))) val with offset\r\n      using(offset)      \r\n      group by key\r\n    )    \r\n\r\nif applied to sample data in your question - output is           \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D67rA.png","title":"Big Query function to convert query results into JSON with column name as key and row values List","body":"<p>Consider below option</p>\n<pre><code>create temp function  extract_keys(input string) returns array&lt;string&gt; language js as &quot;&quot;&quot;\n  return Object.keys(JSON.parse(input));\n  &quot;&quot;&quot;;\ncreate temp function  extract_values(input string) returns array&lt;string&gt; language js as &quot;&quot;&quot;\n  return Object.values(JSON.parse(input));\n  &quot;&quot;&quot;;\nselect format('{%s}', string_agg(r))\nfrom (\n  select format('&quot;%s&quot;: %T', key,array_agg(val)) r\n  from your_table t,\n  unnest(extract_keys(to_json_string(t))) key with offset\n  join unnest(extract_values(to_json_string(t))) val with offset\n  using(offset)      \n  group by key\n)    \n</code></pre>\n<p>if applied to sample data in your question - output is</p>\n<p><a href=\"https://i.stack.imgur.com/D67rA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D67rA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1076732,"reputation":71,"user_id":1074711,"accept_rate":33,"display_name":"sandeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697479153,"creation_date":1697472871,"question_id":77303490,"body_markdown":"I have a complex requirement to return big query results in JSON structure with key as column names and all values of column as a single list.\r\nBelow is an example.\r\n\r\n| FirstName   | LastName       |\r\n| --------    | -------------- |\r\n| First1      | row1            |\r\n| First2      | row2            |\r\n| First3      | row3            |\r\n| First4      | row4            |\r\n\r\nThe expected results like below\r\n\r\n``{\r\n&quot;FirstName&quot;: [&quot;First1&quot;,&quot;First2&quot;,&quot;First3&quot;,&quot;First4&quot;],\r\n&quot;LastName&quot;: [&quot;row1&quot;,&quot;row2&quot;,&quot;row3&quot;,&quot;row4&quot;]\r\n}`` \r\n\r\nAlso column names should not be hardcoded in query. Because we have large number of columns and huge data in BQ.\r\nI tried using functions TO_JSON_STRING, STRUCT but not meet criteria.\r\nI am able to achieve using JAVA code and google libraries, but performance was impacted.\r\nAppreciate help.\r\n","title":"Big Query function to convert query results into JSON with column name as key and row values List","body":"<p>I have a complex requirement to return big query results in JSON structure with key as column names and all values of column as a single list.\nBelow is an example.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>FirstName</th>\n<th>LastName</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>First1</td>\n<td>row1</td>\n</tr>\n<tr>\n<td>First2</td>\n<td>row2</td>\n</tr>\n<tr>\n<td>First3</td>\n<td>row3</td>\n</tr>\n<tr>\n<td>First4</td>\n<td>row4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The expected results like below</p>\n<p><code>{ &quot;FirstName&quot;: [&quot;First1&quot;,&quot;First2&quot;,&quot;First3&quot;,&quot;First4&quot;], &quot;LastName&quot;: [&quot;row1&quot;,&quot;row2&quot;,&quot;row3&quot;,&quot;row4&quot;] }</code></p>\n<p>Also column names should not be hardcoded in query. Because we have large number of columns and huge data in BQ.\nI tried using functions TO_JSON_STRING, STRUCT but not meet criteria.\nI am able to achieve using JAVA code and google libraries, but performance was impacted.\nAppreciate help.</p>\n"},{"tags":["java","eclipse-juno"],"comments":[{"owner":{"account_id":1303014,"reputation":527,"user_id":1252561,"display_name":"Kay"},"score":0,"creation_date":1361499440,"post_id":14968580,"comment_id":21097106,"body_markdown":"Since you mention this does not happen on another laptop computer of yours, some wild guess: I saw this similar issues on Linux with older versions of Eclipse. There it was related Eclipse using a web browser library to render tool tips. On some of Linux setups that resulted in crashes. There would be a crash dump that indicated xulrunner as part of the issue. Your example is different: Windows, and a much newer version of Eclipse. Still, maybe the difference between your laptop computer where all is fine and the problematic computer is also in the available web browsers on those systems?","body":"Since you mention this does not happen on another laptop computer of yours, some wild guess: I saw this similar issues on Linux with older versions of Eclipse. There it was related Eclipse using a web browser library to render tool tips. On some of Linux setups that resulted in crashes. There would be a crash dump that indicated xulrunner as part of the issue. Your example is different: Windows, and a much newer version of Eclipse. Still, maybe the difference between your laptop computer where all is fine and the problematic computer is also in the available web browsers on those systems?"},{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1361530498,"post_id":14968580,"comment_id":21107846,"body_markdown":"Possibly, but both computers are Win7 x64, same java version, and newest Juno.","body":"Possibly, but both computers are Win7 x64, same java version, and newest Juno."},{"owner":{"account_id":1303014,"reputation":527,"user_id":1252561,"display_name":"Kay"},"score":0,"creation_date":1361621532,"post_id":14968580,"comment_id":21140074,"body_markdown":"Since you&#39;re on an `x64` Windows, the Eclipse launcher uses `-arch x86_64`. Your Java runtime seems to be from `c:\\Windows\\system32\\javaw.exe`. Is that a true 64 bit Java runtime? Maybe check via Help/About/Installation Details/Configuration which `java.home` is really used, look for things like `java.vm.name=Java HotSpot(TM) 64-Bit Server VM`\n and `sun.arch.data.model=64` to verify that it&#39;s running as 64 bit. And compare those values between your two computers, the one where it all works and where it doesn&#39;t.","body":"Since you&#39;re on an <code>x64</code> Windows, the Eclipse launcher uses <code>-arch x86_64</code>. Your Java runtime seems to be from <code>c:\\Windows\\system32\\javaw.exe</code>. Is that a true 64 bit Java runtime? Maybe check via Help/About/Installation Details/Configuration which <code>java.home</code> is really used, look for things like <code>java.vm.name=Java HotSpot(TM) 64-Bit Server VM</code>  and <code>sun.arch.data.model=64</code> to verify that it&#39;s running as 64 bit. And compare those values between your two computers, the one where it all works and where it doesn&#39;t."},{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1361624519,"post_id":14968580,"comment_id":21140702,"body_markdown":"It&#39;s definitely x64 java (I&#39;ve removed all others and the ones in sys32, then installed just one version to be sure). I&#39;ll check the java home variables between to check differences.","body":"It&#39;s definitely x64 java (I&#39;ve removed all others and the ones in sys32, then installed just one version to be sure). I&#39;ll check the java home variables between to check differences."},{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1361987224,"post_id":14968580,"comment_id":21276410,"body_markdown":"Ok, I&#39;ve checked the Java Home variable and it was different - corrected it to point where it should. Still getting the exact same crash though =/. The other variables (vm name, sun arch model) are both 64 bit as well and the same between both computers","body":"Ok, I&#39;ve checked the Java Home variable and it was different - corrected it to point where it should. Still getting the exact same crash though =/. The other variables (vm name, sun arch model) are both 64 bit as well and the same between both computers"},{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1365148878,"post_id":14968580,"comment_id":22518097,"body_markdown":"Just to add if anyone&#39;s viewing - still occurring.","body":"Just to add if anyone&#39;s viewing - still occurring."},{"owner":{"account_id":66813,"reputation":22616,"user_id":195823,"display_name":"Adrien Plisson"},"score":0,"creation_date":1370701328,"post_id":14968580,"comment_id":24563380,"body_markdown":"i don&#39;t know if you still have this problem, but i was able to get rid of it. see the answer below.","body":"i don&#39;t know if you still have this problem, but i was able to get rid of it. see the answer below."}],"answers":[{"tags":[],"owner":{"account_id":66813,"reputation":22616,"user_id":195823,"display_name":"Adrien Plisson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1370701283,"creation_date":1370701283,"answer_id":17000436,"question_id":14968580,"body_markdown":"__Warning__: _the solution described below corrected the problem on my computer, but the problem may not be the same on your computer... YMMV._\r\n\r\nSo, the incriminated popups are displaying an HTML snippet. This snippet is rendered using _mshtml.dll_.\r\n\r\nThe same _mshtml.dll_ is used to render HTML Help files (files with extension _.chm_). On my computer, i discovered that i was not able to open any HTML Help file: the HTML Help Executable (_hh.exe_) was crashing at launch. \r\n\r\nAfter some more research (i won&#39;t go through all the details of the search), it appeared that the drivers for my display adapter, which is an nVidia GeForce 540M, were at fault. They were outdated, and their installation got probably corrupted.\r\n\r\nAfter updating the drivers, the system was back to normal: i can open HTML Help files again, and Eclipse is no more crashing when displaying those little HTML filled popups !\r\n\r\nSo, the first step for you would be to check that you can open an HTML Help file correctly. Then you should check your display adapter driver installation... If it does not solve your problem, there can be many reasons for mshtml.dll file to crash, try to make something using mshtml.dll crash: this crash might give you more information than when eclipse brutally exits.\r\n\r\n(note that the corrupted drivers prevented the execution of the standard driver installer package downloaded from nVidia. I had to go to the device manager, open the properties for my display adapter, then click the &quot;update driver&quot; button. everything went smoothly, and automatically, from there)\r\n\r\n(note also that my system is running Windows 7 64-bit)","title":"Eclipse Juno - Constant crash (805306369) when highlighting anything","body":"<p><strong>Warning</strong>: <em>the solution described below corrected the problem on my computer, but the problem may not be the same on your computer... YMMV.</em></p>\n\n<p>So, the incriminated popups are displaying an HTML snippet. This snippet is rendered using <em>mshtml.dll</em>.</p>\n\n<p>The same <em>mshtml.dll</em> is used to render HTML Help files (files with extension <em>.chm</em>). On my computer, i discovered that i was not able to open any HTML Help file: the HTML Help Executable (<em>hh.exe</em>) was crashing at launch. </p>\n\n<p>After some more research (i won't go through all the details of the search), it appeared that the drivers for my display adapter, which is an nVidia GeForce 540M, were at fault. They were outdated, and their installation got probably corrupted.</p>\n\n<p>After updating the drivers, the system was back to normal: i can open HTML Help files again, and Eclipse is no more crashing when displaying those little HTML filled popups !</p>\n\n<p>So, the first step for you would be to check that you can open an HTML Help file correctly. Then you should check your display adapter driver installation... If it does not solve your problem, there can be many reasons for mshtml.dll file to crash, try to make something using mshtml.dll crash: this crash might give you more information than when eclipse brutally exits.</p>\n\n<p>(note that the corrupted drivers prevented the execution of the standard driver installer package downloaded from nVidia. I had to go to the device manager, open the properties for my display adapter, then click the \"update driver\" button. everything went smoothly, and automatically, from there)</p>\n\n<p>(note also that my system is running Windows 7 64-bit)</p>\n"},{"tags":[],"owner":{"account_id":3443625,"reputation":1063,"user_id":2884925,"accept_rate":20,"display_name":"DrOli"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1381897572,"creation_date":1381896539,"answer_id":19395080,"question_id":14968580,"body_markdown":"After many many permutations of everything, including all the different JDK&#39;s etc etc ..\r\n\r\nThis worked for me (Fedora19/64, ADT 4.3/SDK 22.x,OpenJDK 1.8, Opteron64):  add this line to the `eclipse.ini` file\r\n\r\n    -Dorg.eclipse.swt.browser.DefaultType=mozilla\r\n\r\n\r\napparantly the tooltip bits launch different browsers at different times with &quot;collisions&quot;, but retricting to mozilla only seems to do the trick\r\n\r\nfound it here (https://bugs.launchpad.net/ubuntu-gnome/+bug/1163501)","title":"Eclipse Juno - Constant crash (805306369) when highlighting anything","body":"<p>After many many permutations of everything, including all the different JDK's etc etc ..</p>\n\n<p>This worked for me (Fedora19/64, ADT 4.3/SDK 22.x,OpenJDK 1.8, Opteron64):  add this line to the <code>eclipse.ini</code> file</p>\n\n<pre><code>-Dorg.eclipse.swt.browser.DefaultType=mozilla\n</code></pre>\n\n<p>apparantly the tooltip bits launch different browsers at different times with \"collisions\", but retricting to mozilla only seems to do the trick</p>\n\n<p>found it here (<a href=\"https://bugs.launchpad.net/ubuntu-gnome/+bug/1163501\">https://bugs.launchpad.net/ubuntu-gnome/+bug/1163501</a>)</p>\n"},{"tags":[],"owner":{"account_id":29685749,"reputation":1,"user_id":22751346,"display_name":"Matheus Buss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697479042,"creation_date":1697479042,"answer_id":77304049,"question_id":14968580,"body_markdown":"This worked for me\r\n\r\n&gt;     export WEBKIT_DISABLE_COMPOSITING_MODE=1","title":"Eclipse Juno - Constant crash (805306369) when highlighting anything","body":"<p>This worked for me</p>\n<blockquote>\n<pre><code>export WEBKIT_DISABLE_COMPOSITING_MODE=1\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2170,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":17000436,"answer_count":3,"score":5,"last_activity_date":1697479042,"creation_date":1361312154,"question_id":14968580,"body_markdown":"Whenever I mouse over any imported.. anything in Juno, Eclipse immediately hangs.\r\n\r\nEditing Java files - types, classes, annotations, the import itself - mousing over anything to view the javadoc will instantly hang eclipse.  \r\nAlso happens with auto-completes if the popup stays open for more than a second.\r\n\r\nHere&#39;s the error:  \r\n![Juno Error 805306369][1]\r\n\r\nRunning:\r\n\r\n    java version &quot;1.7.0_15&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_15-b03)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 23.7-b01, mixed mode)\r\n\r\nThe latest Eclipse Juno (Java EE) 64bit  \r\nWin7 x64.\r\n\r\nThere shouldn&#39;t be any incompatibilities there (All x64).\r\n\r\nLooking around the proposed fixes are either related to Java 6, or say to delete `Mylyn`, which I&#39;ve done but no fix.\r\n\r\nThis error happens consistently every single time.\r\n\r\nEdit:\r\nAnd to make things more annoying, the log in the .metadata folder is empty.  \r\nI&#39;m assuming I&#39;m missing something obvious as the *exact same setup* on my other laptop works fine. And searching just gets me unreadable mailing lists, or bug trackers saying it&#39;s fixed - when clearly it&#39;s not in this case.\r\n\r\n  [1]: http://i.stack.imgur.com/wjxlD.png","title":"Eclipse Juno - Constant crash (805306369) when highlighting anything","body":"<p>Whenever I mouse over any imported.. anything in Juno, Eclipse immediately hangs.</p>\n\n<p>Editing Java files - types, classes, annotations, the import itself - mousing over anything to view the javadoc will instantly hang eclipse.<br>\nAlso happens with auto-completes if the popup stays open for more than a second.</p>\n\n<p>Here's the error:<br>\n<img src=\"https://i.stack.imgur.com/wjxlD.png\" alt=\"Juno Error 805306369\"></p>\n\n<p>Running:</p>\n\n<pre><code>java version \"1.7.0_15\"\nJava(TM) SE Runtime Environment (build 1.7.0_15-b03)\nJava HotSpot(TM) 64-Bit Server VM (build 23.7-b01, mixed mode)\n</code></pre>\n\n<p>The latest Eclipse Juno (Java EE) 64bit<br>\nWin7 x64.</p>\n\n<p>There shouldn't be any incompatibilities there (All x64).</p>\n\n<p>Looking around the proposed fixes are either related to Java 6, or say to delete <code>Mylyn</code>, which I've done but no fix.</p>\n\n<p>This error happens consistently every single time.</p>\n\n<p>Edit:\nAnd to make things more annoying, the log in the .metadata folder is empty.<br>\nI'm assuming I'm missing something obvious as the <em>exact same setup</em> on my other laptop works fine. And searching just gets me unreadable mailing lists, or bug trackers saying it's fixed - when clearly it's not in this case.</p>\n"},{"tags":["java","spring","spring-mvc","jsp","file-upload"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697197326,"post_id":77286519,"comment_id":136252860,"body_markdown":"How do you want to get a controller parameters if you are not sending them?","body":"How do you want to get a controller parameters if you are not sending them?"},{"owner":{"account_id":27164079,"reputation":1,"user_id":20701833,"display_name":"Ashok kumar"},"score":0,"creation_date":1697473645,"post_id":77286519,"comment_id":136281455,"body_markdown":"Thanks for the response, I did&#39;t understand, please elloborate.","body":"Thanks for the response, I did&#39;t understand, please elloborate."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697478397,"creation_date":1697476605,"answer_id":77303822,"question_id":77286519,"body_markdown":"Your form submission is not accepting parameters because you are not sending them.\r\n\r\nThe request to the controller is `POST`, that contains `multipart/form-data` MIME type. In this way it could be parsed by parts. Some of them should include form data values stored from input fields. But you use `&lt;button&gt;` value to store a required parameter value. This element is not added to the form data because it is not an `&lt;input&gt;` field. Instead, you should use `&lt;input type=&quot;submit&quot;&gt;` for the button or buttons with the hidden input field. When the button is clicked set the value of the hidden field.\r\n\r\n```html\r\n     &lt;input type=&quot;submit&quot; \r\n            id=&quot;add_sign&quot; \r\n            name=&quot;form_action&quot; \r\n            value=&quot;sign&quot;\r\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \r\n            style=&quot;margin-top:  10px&quot;&gt;\r\n        Add Signature\r\n    \r\n    &lt;input type=&quot;submit&quot; \r\n            id=&quot;verify_sign&quot; \r\n            name=&quot;form_action&quot;\r\n            value=&quot;verify&quot;\r\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\r\n            style=&quot;margin-top: 10px&quot;&gt;\r\n        Verify Signature\r\n```\r\nOr\r\n\r\n```html\r\n     &lt;button type=&quot;submit&quot; \r\n            id=&quot;add_sign&quot; \r\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \r\n            style=&quot;margin-top:  10px&quot;\r\n            onclick=&quot;this.form.form_action=&#39;sign&#39;&quot;&gt;\r\n        Add Signature\r\n    &lt;/button&gt;\r\n\r\n    &lt;button type=&quot;submit&quot; \r\n            id=&quot;verify_sign&quot; \r\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\r\n            style=&quot;margin-top: 10px&quot;    \r\n            onclick=&quot;this.form.form_action=&#39;verify&#39;&quot;&gt;\r\n        Verify Signature\r\n    &lt;/button&gt;\r\n\r\n    &lt;input type=&quot;hidden&quot;\r\n            name=&quot;form_action&quot;&gt;\r\n    \r\n```","title":"Form submission is not accepting parameters","body":"<p>Your form submission is not accepting parameters because you are not sending them.</p>\n<p>The request to the controller is <code>POST</code>, that contains <code>multipart/form-data</code> MIME type. In this way it could be parsed by parts. Some of them should include form data values stored from input fields. But you use <code>&lt;button&gt;</code> value to store a required parameter value. This element is not added to the form data because it is not an <code>&lt;input&gt;</code> field. Instead, you should use <code>&lt;input type=&quot;submit&quot;&gt;</code> for the button or buttons with the hidden input field. When the button is clicked set the value of the hidden field.</p>\n<pre class=\"lang-html prettyprint-override\"><code>     &lt;input type=&quot;submit&quot; \n            id=&quot;add_sign&quot; \n            name=&quot;form_action&quot; \n            value=&quot;sign&quot;\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \n            style=&quot;margin-top:  10px&quot;&gt;\n        Add Signature\n    \n    &lt;input type=&quot;submit&quot; \n            id=&quot;verify_sign&quot; \n            name=&quot;form_action&quot;\n            value=&quot;verify&quot;\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\n            style=&quot;margin-top: 10px&quot;&gt;\n        Verify Signature\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-html prettyprint-override\"><code>     &lt;button type=&quot;submit&quot; \n            id=&quot;add_sign&quot; \n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \n            style=&quot;margin-top:  10px&quot;\n            onclick=&quot;this.form.form_action='sign'&quot;&gt;\n        Add Signature\n    &lt;/button&gt;\n\n    &lt;button type=&quot;submit&quot; \n            id=&quot;verify_sign&quot; \n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\n            style=&quot;margin-top: 10px&quot;    \n            onclick=&quot;this.form.form_action='verify'&quot;&gt;\n        Verify Signature\n    &lt;/button&gt;\n\n    &lt;input type=&quot;hidden&quot;\n            name=&quot;form_action&quot;&gt;\n    \n</code></pre>\n"}],"owner":{"account_id":27164079,"reputation":1,"user_id":20701833,"display_name":"Ashok kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697478738,"creation_date":1697188576,"question_id":77286519,"body_markdown":"I have a form that contains a file input field and 2 buttons with `name=&quot;action&quot;` and values as `&#39;sign&#39;` and `&#39;verify&#39;` respectively.\r\nI am trying to get that file and parameter of buttons upon submitting the form\r\nBut my controller is not receiving the parameters and its giving `null`.\r\n\r\n**This my controller code for the URL Mapping of my form action:**\r\n\r\n    @RequestMapping(value=&quot;/secure/pqca/verifydoc&quot;)\r\n\tpublic String verifiedDoc(@RequestParam(&quot;form_action&quot;) String form_action, \r\n                              @RequestParam(&quot;document&quot;) MultipartFile file, \r\n                              Model model, HttpServletRequest request) {\r\n\t\t\r\n\t\tSystem.out.print(&quot;hiii   &quot; + request.getParameter(&quot;form_action&quot;));\r\n\t\tpqcaService.verifiedDoc(form_action, file, model, request);\r\n\t\treturn &quot;pqca/verifyDocument&quot;;\r\n\t}\r\n\r\n\r\n**This is form:**\r\n```html\r\n&lt;form id=&quot;add_sign_form&quot; \r\n      action=&quot;/pqra/secure/pqca/verifydoc&quot;\r\n      method=&quot;post&quot; \r\n      enctype=&quot;multipart/form-data&quot;&gt;\r\n\r\n    &lt;div class=&quot;col-lg-8&quot;&gt;\r\n        &lt;input type=&quot;file&quot;\r\n               name=&quot;document&quot;\r\n               path=&quot;doc&quot;\r\n               class=&quot;form-control&quot;\r\n               placeholder=&quot;document&quot;\r\n               maxlength=&quot;50&quot; /&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;button type=&quot;submit&quot; \r\n            id=&quot;add_sign&quot; \r\n            name=&quot;form_action&quot; \r\n            value=&quot;sign&quot;\r\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \r\n            style=&quot;margin-top:  10px&quot;&gt;\r\n        Add Signature\r\n    &lt;/button&gt;\r\n\r\n    &lt;button type=&quot;submit&quot; \r\n            id=&quot;verify_sign&quot; \r\n            name=&quot;form_action&quot;\r\n            value=&quot;verify&quot;\r\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\r\n            style=&quot;margin-top: 10px&quot;&gt;\r\n        Verify Signature\r\n    &lt;/button&gt;\r\n&lt;/form&gt;\r\n```","title":"Form submission is not accepting parameters","body":"<p>I have a form that contains a file input field and 2 buttons with <code>name=&quot;action&quot;</code> and values as <code>'sign'</code> and <code>'verify'</code> respectively.\nI am trying to get that file and parameter of buttons upon submitting the form\nBut my controller is not receiving the parameters and its giving <code>null</code>.</p>\n<p><strong>This my controller code for the URL Mapping of my form action:</strong></p>\n<pre><code>@RequestMapping(value=&quot;/secure/pqca/verifydoc&quot;)\npublic String verifiedDoc(@RequestParam(&quot;form_action&quot;) String form_action, \n                          @RequestParam(&quot;document&quot;) MultipartFile file, \n                          Model model, HttpServletRequest request) {\n    \n    System.out.print(&quot;hiii   &quot; + request.getParameter(&quot;form_action&quot;));\n    pqcaService.verifiedDoc(form_action, file, model, request);\n    return &quot;pqca/verifyDocument&quot;;\n}\n</code></pre>\n<p><strong>This is form:</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=&quot;add_sign_form&quot; \n      action=&quot;/pqra/secure/pqca/verifydoc&quot;\n      method=&quot;post&quot; \n      enctype=&quot;multipart/form-data&quot;&gt;\n\n    &lt;div class=&quot;col-lg-8&quot;&gt;\n        &lt;input type=&quot;file&quot;\n               name=&quot;document&quot;\n               path=&quot;doc&quot;\n               class=&quot;form-control&quot;\n               placeholder=&quot;document&quot;\n               maxlength=&quot;50&quot; /&gt;\n    &lt;/div&gt;\n\n    &lt;button type=&quot;submit&quot; \n            id=&quot;add_sign&quot; \n            name=&quot;form_action&quot; \n            value=&quot;sign&quot;\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \n            style=&quot;margin-top:  10px&quot;&gt;\n        Add Signature\n    &lt;/button&gt;\n\n    &lt;button type=&quot;submit&quot; \n            id=&quot;verify_sign&quot; \n            name=&quot;form_action&quot;\n            value=&quot;verify&quot;\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\n            style=&quot;margin-top: 10px&quot;&gt;\n        Verify Signature\n    &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["java","arrays","inputstream"],"comments":[{"owner":{"account_id":18037,"reputation":7471,"user_id":40961,"accept_rate":75,"display_name":"David d C e Freitas"},"score":18,"creation_date":1316687693,"post_id":1264709,"comment_id":9099014,"body_markdown":"See the reverse: byte[] to InputStream here: http://stackoverflow.com/questions/2091454/byte-to-inputstream-or-outputstream","body":"See the reverse: byte[] to InputStream here: <a href=\"http://stackoverflow.com/questions/2091454/byte-to-inputstream-or-outputstream\" title=\"byte to inputstream or outputstream\">stackoverflow.com/questions/2091454/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":5,"up_vote_count":499,"is_accepted":false,"score":494,"last_activity_date":1587317548,"creation_date":1250062230,"answer_id":1264737,"question_id":1264709,"body_markdown":"You need to read each byte from your `InputStream` and write it to a `ByteArrayOutputStream`. \r\n\r\nYou can then retrieve the underlying byte array by calling `toByteArray()`:\r\n\r\n    InputStream is = ...\r\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    \r\n    int nRead;\r\n    byte[] data = new byte[16384];\r\n    \r\n    while ((nRead = is.read(data, 0, data.length)) != -1) {\r\n      buffer.write(data, 0, nRead);\r\n    }\r\n    \r\n    return buffer.toByteArray();\r\n\r\n","title":"Convert InputStream to byte array in Java","body":"<p>You need to read each byte from your <code>InputStream</code> and write it to a <code>ByteArrayOutputStream</code>. </p>\n\n<p>You can then retrieve the underlying byte array by calling <code>toByteArray()</code>:</p>\n\n<pre><code>InputStream is = ...\nByteArrayOutputStream buffer = new ByteArrayOutputStream();\n\nint nRead;\nbyte[] data = new byte[16384];\n\nwhile ((nRead = is.read(data, 0, data.length)) != -1) {\n  buffer.write(data, 0, nRead);\n}\n\nreturn buffer.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":25,"up_vote_count":1302,"is_accepted":true,"score":1277,"last_activity_date":1449855209,"creation_date":1250062554,"answer_id":1264756,"question_id":1264709,"body_markdown":"You can use Apache [Commons IO][1] to handle this and similar tasks.\r\n\r\nThe `IOUtils` type has a static method to read an `InputStream` and return a `byte[]`.\r\n\r\n    InputStream is;\r\n    byte[] bytes = IOUtils.toByteArray(is);\r\n\r\nInternally this creates a `ByteArrayOutputStream` and copies the bytes to the output, then calls `toByteArray()`. It handles large files by copying the bytes in blocks of 4KiB.\r\n\r\n\r\n  [1]: http://commons.apache.org/io/","title":"Convert InputStream to byte array in Java","body":"<p>You can use Apache <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">Commons IO</a> to handle this and similar tasks.</p>\n\n<p>The <code>IOUtils</code> type has a static method to read an <code>InputStream</code> and return a <code>byte[]</code>.</p>\n\n<pre><code>InputStream is;\nbyte[] bytes = IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Internally this creates a <code>ByteArrayOutputStream</code> and copies the bytes to the output, then calls <code>toByteArray()</code>. It handles large files by copying the bytes in blocks of 4KiB.</p>\n"},{"tags":[],"owner":{"account_id":44167,"reputation":4624,"user_id":129474,"accept_rate":73,"display_name":"firstthumb"},"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1250062708,"creation_date":1250062708,"answer_id":1264767,"question_id":1264709,"body_markdown":"Below Codes\r\n    \r\n    public static byte[] serializeObj(Object obj) throws IOException {\r\n      ByteArrayOutputStream baOStream = new ByteArrayOutputStream();\r\n      ObjectOutputStream objOStream = new ObjectOutputStream(baOStream);\r\n    \r\n      objOStream.writeObject(obj); \r\n      objOStream.flush();\r\n      objOStream.close();\r\n      return baOStream.toByteArray(); \r\n    } \r\n\r\n \r\n  \r\nOR\r\n\r\n    BufferedImage img = ...\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(1000);\r\n    ImageIO.write(img, &quot;jpeg&quot;, baos);\r\n    baos.flush();\r\n    byte[] result = baos.toByteArray();\r\n    baos.close();","title":"Convert InputStream to byte array in Java","body":"<p>Below Codes</p>\n\n<pre><code>public static byte[] serializeObj(Object obj) throws IOException {\n  ByteArrayOutputStream baOStream = new ByteArrayOutputStream();\n  ObjectOutputStream objOStream = new ObjectOutputStream(baOStream);\n\n  objOStream.writeObject(obj); \n  objOStream.flush();\n  objOStream.close();\n  return baOStream.toByteArray(); \n} \n</code></pre>\n\n<p>OR</p>\n\n<pre><code>BufferedImage img = ...\nByteArrayOutputStream baos = new ByteArrayOutputStream(1000);\nImageIO.write(img, \"jpeg\", baos);\nbaos.flush();\nbyte[] result = baos.toByteArray();\nbaos.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1352122970,"creation_date":1250064859,"answer_id":1264879,"question_id":1264709,"body_markdown":"Do you really need the image as a `byte[]`? What exactly do you expect in the `byte[]` - the complete content of an image file, encoded in whatever format the image file is in, or RGB pixel values?\r\n\r\nOther answers here show you how to read a file into a `byte[]`. Your `byte[]` will contain the exact contents of the file, and you&#39;d need to decode that to do anything with the image data.\r\n\r\nJava&#39;s standard API for reading (and writing) images is the ImageIO API, which you can find in the package `javax.imageio`. You can read in an image from a file with just a single line of code:\r\n\r\n    BufferedImage image = ImageIO.read(new File(&quot;image.jpg&quot;));\r\n\r\nThis will give you a `BufferedImage`, not a `byte[]`. To get at the image data, you can call `getRaster()` on the `BufferedImage`. This will give you a `Raster` object, which has methods to access the pixel data (it has several `getPixel()` / `getPixels()` methods).\r\n\r\nLookup the API documentation for `javax.imageio.ImageIO`, `java.awt.image.BufferedImage`, `java.awt.image.Raster` etc.\r\n\r\nImageIO supports a number of image formats by default: JPEG, PNG, BMP, WBMP and GIF. It&#39;s possible to add support for more formats (you&#39;d need a plug-in that implements the ImageIO service provider interface).\r\n\r\nSee also the following tutorial: [Working with Images][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/2d/images/index.html","title":"Convert InputStream to byte array in Java","body":"<p>Do you really need the image as a <code>byte[]</code>? What exactly do you expect in the <code>byte[]</code> - the complete content of an image file, encoded in whatever format the image file is in, or RGB pixel values?</p>\n\n<p>Other answers here show you how to read a file into a <code>byte[]</code>. Your <code>byte[]</code> will contain the exact contents of the file, and you'd need to decode that to do anything with the image data.</p>\n\n<p>Java's standard API for reading (and writing) images is the ImageIO API, which you can find in the package <code>javax.imageio</code>. You can read in an image from a file with just a single line of code:</p>\n\n<pre><code>BufferedImage image = ImageIO.read(new File(\"image.jpg\"));\n</code></pre>\n\n<p>This will give you a <code>BufferedImage</code>, not a <code>byte[]</code>. To get at the image data, you can call <code>getRaster()</code> on the <code>BufferedImage</code>. This will give you a <code>Raster</code> object, which has methods to access the pixel data (it has several <code>getPixel()</code> / <code>getPixels()</code> methods).</p>\n\n<p>Lookup the API documentation for <code>javax.imageio.ImageIO</code>, <code>java.awt.image.BufferedImage</code>, <code>java.awt.image.Raster</code> etc.</p>\n\n<p>ImageIO supports a number of image formats by default: JPEG, PNG, BMP, WBMP and GIF. It's possible to add support for more formats (you'd need a plug-in that implements the ImageIO service provider interface).</p>\n\n<p>See also the following tutorial: <a href=\"http://java.sun.com/docs/books/tutorial/2d/images/index.html\" rel=\"noreferrer\">Working with Images</a></p>\n"},{"tags":[],"owner":{"account_id":619492,"reputation":141,"user_id":360220,"display_name":"Aturio"},"down_vote_count":5,"up_vote_count":15,"is_accepted":false,"score":10,"last_activity_date":1537375395,"creation_date":1275901192,"answer_id":2988151,"question_id":1264709,"body_markdown":"    Input Stream is ...\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    int next = in.read();\r\n    while (next &gt; -1) {\r\n        bos.write(next);\r\n        next = in.read();\r\n    }\r\n    bos.flush();\r\n    byte[] result = bos.toByteArray();\r\n    bos.close();","title":"Convert InputStream to byte array in Java","body":"<pre><code>Input Stream is ...\nByteArrayOutputStream bos = new ByteArrayOutputStream();\nint next = in.read();\nwhile (next &gt; -1) {\n    bos.write(next);\n    next = in.read();\n}\nbos.flush();\nbyte[] result = bos.toByteArray();\nbos.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":760259,"reputation":1,"user_id":779677,"display_name":"Madhu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1307018702,"creation_date":1306941721,"answer_id":6203611,"question_id":1264709,"body_markdown":"    /*InputStream class_InputStream = null;\r\n    I am reading class from DB \r\n    class_InputStream = rs.getBinaryStream(1);\r\n    Your Input stream could be from any source\r\n    */\r\n    int thisLine;\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    while ((thisLine = class_InputStream.read()) != -1) {\r\n    \tbos.write(thisLine);\r\n    }\r\n    bos.flush();\r\n    byte [] yourBytes = bos.toByteArray();\r\n    \r\n    /*Don&#39;t forget in the finally block to close ByteArrayOutputStream &amp; InputStream\r\n     In my case the IS is from resultset so just closing the rs will do it*/\r\n    \r\n    if (bos != null){\r\n        bos.close();\r\n    }","title":"Convert InputStream to byte array in Java","body":"<pre><code>/*InputStream class_InputStream = null;\nI am reading class from DB \nclass_InputStream = rs.getBinaryStream(1);\nYour Input stream could be from any source\n*/\nint thisLine;\nByteArrayOutputStream bos = new ByteArrayOutputStream();\nwhile ((thisLine = class_InputStream.read()) != -1) {\n    bos.write(thisLine);\n}\nbos.flush();\nbyte [] yourBytes = bos.toByteArray();\n\n/*Don't forget in the finally block to close ByteArrayOutputStream &amp; InputStream\n In my case the IS is from resultset so just closing the rs will do it*/\n\nif (bos != null){\n    bos.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13250,"reputation":6025,"user_id":26494,"accept_rate":49,"display_name":"pihentagy"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1307521849,"creation_date":1307521849,"answer_id":6276139,"question_id":1264709,"body_markdown":"@Adamski: You can avoid buffer entirely.\r\n\r\nCode copied from http://www.exampledepot.com/egs/java.io/File2ByteArray.html (Yes, it is very verbose, but needs half the size of memory as the other solution.)\r\n\r\n    // Returns the contents of the file in a byte array.\r\n    public static byte[] getBytesFromFile(File file) throws IOException {\r\n        InputStream is = new FileInputStream(file);\r\n    \r\n        // Get the size of the file\r\n        long length = file.length();\r\n    \r\n        // You cannot create an array using a long type.\r\n        // It needs to be an int type.\r\n        // Before converting to an int type, check\r\n        // to ensure that file is not larger than Integer.MAX_VALUE.\r\n        if (length &gt; Integer.MAX_VALUE) {\r\n            // File is too large\r\n        }\r\n    \r\n        // Create the byte array to hold the data\r\n        byte[] bytes = new byte[(int)length];\r\n    \r\n        // Read in the bytes\r\n        int offset = 0;\r\n        int numRead = 0;\r\n        while (offset &lt; bytes.length\r\n               &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\r\n            offset += numRead;\r\n        }\r\n    \r\n        // Ensure all the bytes have been read in\r\n        if (offset &lt; bytes.length) {\r\n            throw new IOException(&quot;Could not completely read file &quot;+file.getName());\r\n        }\r\n    \r\n        // Close the input stream and return bytes\r\n        is.close();\r\n        return bytes;\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>@Adamski: You can avoid buffer entirely.</p>\n\n<p>Code copied from <a href=\"http://www.exampledepot.com/egs/java.io/File2ByteArray.html\">http://www.exampledepot.com/egs/java.io/File2ByteArray.html</a> (Yes, it is very verbose, but needs half the size of memory as the other solution.)</p>\n\n<pre><code>// Returns the contents of the file in a byte array.\npublic static byte[] getBytesFromFile(File file) throws IOException {\n    InputStream is = new FileInputStream(file);\n\n    // Get the size of the file\n    long length = file.length();\n\n    // You cannot create an array using a long type.\n    // It needs to be an int type.\n    // Before converting to an int type, check\n    // to ensure that file is not larger than Integer.MAX_VALUE.\n    if (length &gt; Integer.MAX_VALUE) {\n        // File is too large\n    }\n\n    // Create the byte array to hold the data\n    byte[] bytes = new byte[(int)length];\n\n    // Read in the bytes\n    int offset = 0;\n    int numRead = 0;\n    while (offset &lt; bytes.length\n           &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\n        offset += numRead;\n    }\n\n    // Ensure all the bytes have been read in\n    if (offset &lt; bytes.length) {\n        throw new IOException(\"Could not completely read file \"+file.getName());\n    }\n\n    // Close the input stream and return bytes\n    is.close();\n    return bytes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"down_vote_count":7,"up_vote_count":148,"is_accepted":false,"score":141,"last_activity_date":1542314753,"creation_date":1327501873,"answer_id":9004347,"question_id":1264709,"body_markdown":"Use vanilla Java&#39;s `DataInputStream` and its `readFully` Method (exists since at least Java 1.4):\r\n\r\n    ...\r\n    byte[] bytes = new byte[(int) file.length()];\r\n    DataInputStream dis = new DataInputStream(new FileInputStream(file));\r\n    dis.readFully(bytes);\r\n    ...\r\n\r\nThere are some other flavors of this method, but I use this all the time for this use case.","title":"Convert InputStream to byte array in Java","body":"<p>Use vanilla Java's <code>DataInputStream</code> and its <code>readFully</code> Method (exists since at least Java 1.4):</p>\n\n<pre><code>...\nbyte[] bytes = new byte[(int) file.length()];\nDataInputStream dis = new DataInputStream(new FileInputStream(file));\ndis.readFully(bytes);\n...\n</code></pre>\n\n<p>There are some other flavors of this method, but I use this all the time for this use case.</p>\n"},{"tags":[],"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1363764145,"creation_date":1363764145,"answer_id":15517584,"question_id":1264709,"body_markdown":"I tried to edit @numan&#39;s answer with a fix for writing garbage data but edit was rejected. While this short piece of code is nothing brilliant I can&#39;t see any other better answer. Here&#39;s what makes most sense to me:\r\n\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    byte[] buffer = new byte[1024]; // you can configure the buffer size\r\n    int length;\r\n\r\n    while ((length = in.read(buffer)) != -1) out.write(buffer, 0, length); //copy streams\r\n    in.close(); // call this in a finally block\r\n    \r\n    byte[] result = out.toByteArray();\r\n\r\nbtw ByteArrayOutputStream need not be closed. try/finally constructs omitted for readability","title":"Convert InputStream to byte array in Java","body":"<p>I tried to edit @numan's answer with a fix for writing garbage data but edit was rejected. While this short piece of code is nothing brilliant I can't see any other better answer. Here's what makes most sense to me:</p>\n\n<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\nbyte[] buffer = new byte[1024]; // you can configure the buffer size\nint length;\n\nwhile ((length = in.read(buffer)) != -1) out.write(buffer, 0, length); //copy streams\nin.close(); // call this in a finally block\n\nbyte[] result = out.toByteArray();\n</code></pre>\n\n<p>btw ByteArrayOutputStream need not be closed. try/finally constructs omitted for readability</p>\n"},{"tags":[],"owner":{"account_id":3093460,"reputation":743,"user_id":2619133,"display_name":"oliverkn"},"down_vote_count":5,"up_vote_count":53,"is_accepted":false,"score":48,"last_activity_date":1524910895,"creation_date":1374762823,"answer_id":17861016,"question_id":1264709,"body_markdown":"    public static byte[] getBytesFromInputStream(InputStream is) throws IOException {\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\t\r\n        byte[] buffer = new byte[0xFFFF];\r\n        for (int len = is.read(buffer); len != -1; len = is.read(buffer)) {\t\r\n\t\t    os.write(buffer, 0, len);\r\n        }\r\n        return os.toByteArray();\r\n\t}","title":"Convert InputStream to byte array in Java","body":"<pre><code>public static byte[] getBytesFromInputStream(InputStream is) throws IOException {\n    ByteArrayOutputStream os = new ByteArrayOutputStream(); \n    byte[] buffer = new byte[0xFFFF];\n    for (int len = is.read(buffer); len != -1; len = is.read(buffer)) { \n        os.write(buffer, 0, len);\n    }\n    return os.toByteArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1315457,"reputation":2897,"user_id":1262447,"display_name":"YulCheney"},"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1383272706,"creation_date":1383272706,"answer_id":19719877,"question_id":1264709,"body_markdown":"\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\tbyte[] buffer = new byte[1024];\r\n\twhile (true) {\r\n\t\tint r = in.read(buffer);\r\n\t\tif (r == -1) break;\r\n\t\tout.write(buffer, 0, r);\r\n\t}\r\n\r\n\tbyte[] ret = out.toByteArray();","title":"Convert InputStream to byte array in Java","body":"<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\nbyte[] buffer = new byte[1024];\nwhile (true) {\n    int r = in.read(buffer);\n    if (r == -1) break;\n    out.write(buffer, 0, r);\n}\n\nbyte[] ret = out.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234362,"reputation":17407,"user_id":500451,"accept_rate":86,"display_name":"Bertie"},"down_vote_count":1,"up_vote_count":140,"is_accepted":false,"score":139,"last_activity_date":1627382740,"creation_date":1399199862,"answer_id":23455220,"question_id":1264709,"body_markdown":"If you happen to use [Google Guava][1], it&#39;ll be as simple as using [`ByteStreams`][2]:\r\n\r\n    byte[] bytes = ByteStreams.toByteArray(inputStream);\r\n\r\n\r\n  [1]: https://guava.dev/\r\n  [2]: https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/io/ByteStreams.html","title":"Convert InputStream to byte array in Java","body":"<p>If you happen to use <a href=\"https://guava.dev/\" rel=\"noreferrer\">Google Guava</a>, it'll be as simple as using <a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/io/ByteStreams.html\" rel=\"noreferrer\"><code>ByteStreams</code></a>:</p>\n<pre><code>byte[] bytes = ByteStreams.toByteArray(inputStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1412009,"reputation":826,"user_id":1338417,"display_name":"Kristian Kraljic"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1410962654,"creation_date":1410962654,"answer_id":25892791,"question_id":1264709,"body_markdown":"If you don&#39;t want to use the Apache commons-io library, this snippet is taken from the sun.misc.IOUtils class. It&#39;s nearly twice as fast as the common implementation using ByteBuffers:\r\n\r\n    public static byte[] readFully(InputStream is, int length, boolean readAll)\r\n            throws IOException {\r\n        byte[] output = {};\r\n        if (length == -1) length = Integer.MAX_VALUE;\r\n        int pos = 0;\r\n        while (pos &lt; length) {\r\n            int bytesToRead;\r\n            if (pos &gt;= output.length) { // Only expand when there&#39;s no room\r\n                bytesToRead = Math.min(length - pos, output.length + 1024);\r\n                if (output.length &lt; pos + bytesToRead) {\r\n                    output = Arrays.copyOf(output, pos + bytesToRead);\r\n                }\r\n            } else {\r\n                bytesToRead = output.length - pos;\r\n            }\r\n            int cc = is.read(output, pos, bytesToRead);\r\n            if (cc &lt; 0) {\r\n                if (readAll &amp;&amp; length != Integer.MAX_VALUE) {\r\n                    throw new EOFException(&quot;Detect premature EOF&quot;);\r\n                } else {\r\n                    if (output.length != pos) {\r\n                        output = Arrays.copyOf(output, pos);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            pos += cc;\r\n        }\r\n        return output;\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>If you don't want to use the Apache commons-io library, this snippet is taken from the sun.misc.IOUtils class. It's nearly twice as fast as the common implementation using ByteBuffers:</p>\n\n<pre><code>public static byte[] readFully(InputStream is, int length, boolean readAll)\n        throws IOException {\n    byte[] output = {};\n    if (length == -1) length = Integer.MAX_VALUE;\n    int pos = 0;\n    while (pos &lt; length) {\n        int bytesToRead;\n        if (pos &gt;= output.length) { // Only expand when there's no room\n            bytesToRead = Math.min(length - pos, output.length + 1024);\n            if (output.length &lt; pos + bytesToRead) {\n                output = Arrays.copyOf(output, pos + bytesToRead);\n            }\n        } else {\n            bytesToRead = output.length - pos;\n        }\n        int cc = is.read(output, pos, bytesToRead);\n        if (cc &lt; 0) {\n            if (readAll &amp;&amp; length != Integer.MAX_VALUE) {\n                throw new EOFException(\"Detect premature EOF\");\n            } else {\n                if (output.length != pos) {\n                    output = Arrays.copyOf(output, pos);\n                }\n                break;\n            }\n        }\n        pos += cc;\n    }\n    return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134817,"reputation":5210,"user_id":337221,"display_name":"Christian d&#39;Heureuse"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535330672,"creation_date":1428201131,"answer_id":29453515,"question_id":1264709,"body_markdown":"Here is an optimized version, that tries to avoid copying data bytes as much as possible:\r\n\r\n    private static byte[] loadStream (InputStream stream) throws IOException {\r\n       int available = stream.available();\r\n       int expectedSize = available &gt; 0 ? available : -1;\r\n       return loadStream(stream, expectedSize);\r\n    }\r\n\r\n    private static byte[] loadStream (InputStream stream, int expectedSize) throws IOException {\r\n       int basicBufferSize = 0x4000;\r\n       int initialBufferSize = (expectedSize &gt;= 0) ? expectedSize : basicBufferSize;\r\n       byte[] buf = new byte[initialBufferSize];\r\n       int pos = 0;\r\n       while (true) {\r\n          if (pos == buf.length) {\r\n             int readAhead = -1;\r\n             if (pos == expectedSize) {\r\n                readAhead = stream.read();       // test whether EOF is at expectedSize\r\n                if (readAhead == -1) {\r\n                   return buf;\r\n                }\r\n             }\r\n             int newBufferSize = Math.max(2 * buf.length, basicBufferSize);\r\n             buf = Arrays.copyOf(buf, newBufferSize);\r\n             if (readAhead != -1) {\r\n                buf[pos++] = (byte)readAhead;\r\n             }\r\n          }\r\n          int len = stream.read(buf, pos, buf.length - pos);\r\n          if (len &lt; 0) {\r\n             return Arrays.copyOf(buf, pos);\r\n          }\r\n          pos += len;\r\n       }\r\n    }\r\n","title":"Convert InputStream to byte array in Java","body":"<p>Here is an optimized version, that tries to avoid copying data bytes as much as possible:</p>\n\n<pre><code>private static byte[] loadStream (InputStream stream) throws IOException {\n   int available = stream.available();\n   int expectedSize = available &gt; 0 ? available : -1;\n   return loadStream(stream, expectedSize);\n}\n\nprivate static byte[] loadStream (InputStream stream, int expectedSize) throws IOException {\n   int basicBufferSize = 0x4000;\n   int initialBufferSize = (expectedSize &gt;= 0) ? expectedSize : basicBufferSize;\n   byte[] buf = new byte[initialBufferSize];\n   int pos = 0;\n   while (true) {\n      if (pos == buf.length) {\n         int readAhead = -1;\n         if (pos == expectedSize) {\n            readAhead = stream.read();       // test whether EOF is at expectedSize\n            if (readAhead == -1) {\n               return buf;\n            }\n         }\n         int newBufferSize = Math.max(2 * buf.length, basicBufferSize);\n         buf = Arrays.copyOf(buf, newBufferSize);\n         if (readAhead != -1) {\n            buf[pos++] = (byte)readAhead;\n         }\n      }\n      int len = stream.read(buf, pos, buf.length - pos);\n      if (len &lt; 0) {\n         return Arrays.copyOf(buf, pos);\n      }\n      pos += len;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1309732,"reputation":4219,"user_id":1257986,"accept_rate":63,"display_name":"Simple-Solution"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1433330836,"creation_date":1433330836,"answer_id":30618794,"question_id":1264709,"body_markdown":"I know it&#39;s too late but here I think is cleaner solution that&#39;s more readable...\r\n\r\n    /**\r\n     * method converts {@link InputStream} Object into byte[] array.\r\n     * \r\n     * @param stream the {@link InputStream} Object.\r\n     * @return the byte[] array representation of received {@link InputStream} Object.\r\n     * @throws IOException if an error occurs.\r\n     */\r\n    public static byte[] streamToByteArray(InputStream stream) throws IOException {\r\n\r\n        byte[] buffer = new byte[1024];\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\r\n        int line = 0;\r\n        // read bytes from stream, and store them in buffer\r\n        while ((line = stream.read(buffer)) != -1) {\r\n            // Writes bytes from byte array (buffer) into output stream.\r\n            os.write(buffer, 0, line);\r\n        }\r\n        stream.close();\r\n        os.flush();\r\n        os.close();\r\n        return os.toByteArray();\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>I know it's too late but here I think is cleaner solution that's more readable...</p>\n\n<pre><code>/**\n * method converts {@link InputStream} Object into byte[] array.\n * \n * @param stream the {@link InputStream} Object.\n * @return the byte[] array representation of received {@link InputStream} Object.\n * @throws IOException if an error occurs.\n */\npublic static byte[] streamToByteArray(InputStream stream) throws IOException {\n\n    byte[] buffer = new byte[1024];\n    ByteArrayOutputStream os = new ByteArrayOutputStream();\n\n    int line = 0;\n    // read bytes from stream, and store them in buffer\n    while ((line = stream.read(buffer)) != -1) {\n        // Writes bytes from byte array (buffer) into output stream.\n        os.write(buffer, 0, line);\n    }\n    stream.close();\n    os.flush();\n    os.close();\n    return os.toByteArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436860997,"creation_date":1436860997,"answer_id":31401078,"question_id":1264709,"body_markdown":"The other case to get correct byte array via stream, after send request to server and waiting for the response.\r\n\r\n    /**\r\n             * Begin setup TCP connection to PC app\r\n             * to open integrate connection between mobile app and pc app (or mobile app)\r\n             */\r\n            mSocket = new Socket(IP, port);\r\n           // mSocket.setSoTimeout(30000);\r\n\r\n            DataOutputStream mDos = new DataOutputStream(mSocket.getOutputStream());\r\n\r\n            String str = &quot;MobileRequest#&quot; + params[0] + &quot;#&lt;EOF&gt;&quot;;\r\n\r\n            mDos.write(str.getBytes());\r\n\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            /* Since data are accepted as byte, all of them will be collected in the\r\n            following byte array which initialised with accepted data length. */\r\n            DataInputStream mDis = new DataInputStream(mSocket.getInputStream());\r\n            byte[] data = new byte[mDis.available()];\r\n\r\n            // Collecting data into byte array\r\n            for (int i = 0; i &lt; data.length; i++)\r\n                data[i] = mDis.readByte();\r\n\r\n            // Converting collected data in byte array into String.\r\n            String RESPONSE = new String(data);","title":"Convert InputStream to byte array in Java","body":"<p>The other case to get correct byte array via stream, after send request to server and waiting for the response.</p>\n\n<pre><code>/**\n         * Begin setup TCP connection to PC app\n         * to open integrate connection between mobile app and pc app (or mobile app)\n         */\n        mSocket = new Socket(IP, port);\n       // mSocket.setSoTimeout(30000);\n\n        DataOutputStream mDos = new DataOutputStream(mSocket.getOutputStream());\n\n        String str = \"MobileRequest#\" + params[0] + \"#&lt;EOF&gt;\";\n\n        mDos.write(str.getBytes());\n\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        /* Since data are accepted as byte, all of them will be collected in the\n        following byte array which initialised with accepted data length. */\n        DataInputStream mDis = new DataInputStream(mSocket.getInputStream());\n        byte[] data = new byte[mDis.available()];\n\n        // Collecting data into byte array\n        for (int i = 0; i &lt; data.length; i++)\n            data[i] = mDis.readByte();\n\n        // Converting collected data in byte array into String.\n        String RESPONSE = new String(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1438255603,"creation_date":1438254012,"answer_id":31721973,"question_id":1264709,"body_markdown":"You&#39;re doing an extra copy if you use ByteArrayOutputStream. If you know the length of the stream before you start reading it (e.g. the InputStream is actually a FileInputStream, and you can call file.length() on the file, or the InputStream is a zipfile entry InputStream, and you can call zipEntry.length()), then it&#39;s far better to write directly into the byte[] array -- it uses half the memory, and saves time.\r\n\r\n    // Read the file contents into a byte[] array\r\n    byte[] buf = new byte[inputStreamLength];\r\n    int bytesRead = Math.max(0, inputStream.read(buf));\r\n\r\n    // If needed: for safety, truncate the array if the file may somehow get\r\n    // truncated during the read operation\r\n    byte[] contents = bytesRead == inputStreamLength ? buf\r\n                      : Arrays.copyOf(buf, bytesRead);\r\n\r\nN.B. the last line above deals with files getting truncated while the stream is being read, if you need to handle that possibility, but if the file gets *longer* while the stream is being read, the contents in the byte[] array will not be lengthened to include the new file content, the array will simply be truncated to the old length *inputStreamLength*.","title":"Convert InputStream to byte array in Java","body":"<p>You're doing an extra copy if you use ByteArrayOutputStream. If you know the length of the stream before you start reading it (e.g. the InputStream is actually a FileInputStream, and you can call file.length() on the file, or the InputStream is a zipfile entry InputStream, and you can call zipEntry.length()), then it's far better to write directly into the byte[] array -- it uses half the memory, and saves time.</p>\n\n<pre><code>// Read the file contents into a byte[] array\nbyte[] buf = new byte[inputStreamLength];\nint bytesRead = Math.max(0, inputStream.read(buf));\n\n// If needed: for safety, truncate the array if the file may somehow get\n// truncated during the read operation\nbyte[] contents = bytesRead == inputStreamLength ? buf\n                  : Arrays.copyOf(buf, bytesRead);\n</code></pre>\n\n<p>N.B. the last line above deals with files getting truncated while the stream is being read, if you need to handle that possibility, but if the file gets <em>longer</em> while the stream is being read, the contents in the byte[] array will not be lengthened to include the new file content, the array will simply be truncated to the old length <em>inputStreamLength</em>.</p>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1440583014,"creation_date":1440583014,"answer_id":32223442,"question_id":1264709,"body_markdown":"This works for me,\r\n\r\n    if(inputStream != null){\r\n                    ByteArrayOutputStream contentStream = readSourceContent(inputStream);\r\n                    String stringContent = contentStream.toString();\r\n                    byte[] byteArr = encodeString(stringContent);\r\n                }\r\n\r\nreadSourceContent()\r\n\r\n    public static ByteArrayOutputStream readSourceContent(InputStream inputStream) throws IOException {\r\n    \t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    \t\tint nextChar;\r\n    \t\ttry {\r\n    \t\t\twhile ((nextChar = inputStream.read()) != -1) {\r\n    \t\t\t\toutputStream.write(nextChar);\r\n    \t\t\t}\r\n    \t\t\toutputStream.flush();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthrow new IOException(&quot;Exception occurred while reading content&quot;, e);\r\n    \t\t}\r\n    \r\n    \t\treturn outputStream;\r\n    \t}\r\n\r\nencodeString()\r\n\r\n    public static byte[] encodeString(String content) throws UnsupportedEncodingException {\r\n            byte[] bytes;\r\n            try {\r\n                bytes = content.getBytes();\r\n    \r\n            } catch (UnsupportedEncodingException e) {\r\n                String msg = ENCODING + &quot; is unsupported encoding type&quot;;\r\n                log.error(msg,e);\r\n                throw new UnsupportedEncodingException(msg, e);\r\n            }\r\n            return bytes;\r\n        }","title":"Convert InputStream to byte array in Java","body":"<p>This works for me,</p>\n\n<pre><code>if(inputStream != null){\n                ByteArrayOutputStream contentStream = readSourceContent(inputStream);\n                String stringContent = contentStream.toString();\n                byte[] byteArr = encodeString(stringContent);\n            }\n</code></pre>\n\n<p>readSourceContent()</p>\n\n<pre><code>public static ByteArrayOutputStream readSourceContent(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextChar;\n        try {\n            while ((nextChar = inputStream.read()) != -1) {\n                outputStream.write(nextChar);\n            }\n            outputStream.flush();\n        } catch (IOException e) {\n            throw new IOException(\"Exception occurred while reading content\", e);\n        }\n\n        return outputStream;\n    }\n</code></pre>\n\n<p>encodeString()</p>\n\n<pre><code>public static byte[] encodeString(String content) throws UnsupportedEncodingException {\n        byte[] bytes;\n        try {\n            bytes = content.getBytes();\n\n        } catch (UnsupportedEncodingException e) {\n            String msg = ENCODING + \" is unsupported encoding type\";\n            log.error(msg,e);\n            throw new UnsupportedEncodingException(msg, e);\n        }\n        return bytes;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1955192,"reputation":61,"user_id":1758331,"display_name":"yichouangle"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1442587820,"creation_date":1441641625,"answer_id":32442463,"question_id":1264709,"body_markdown":"See the `InputStream.available()` documentation:\r\n\r\n&gt; It is particularly important to realize that you must not use this\r\n&gt; method to size a container and assume that you can read the entirety\r\n&gt; of the stream without needing to resize the container. Such callers\r\n&gt; should probably write everything they read to a ByteArrayOutputStream\r\n&gt; and convert that to a byte array. Alternatively, if you&#39;re reading\r\n&gt; from a file, File.length returns the current length of the file\r\n&gt; (though assuming the file&#39;s length can&#39;t change may be incorrect,\r\n&gt; reading a file is inherently racy).","title":"Convert InputStream to byte array in Java","body":"<p>See the <code>InputStream.available()</code> documentation:</p>\n\n<blockquote>\n  <p>It is particularly important to realize that you must not use this\n  method to size a container and assume that you can read the entirety\n  of the stream without needing to resize the container. Such callers\n  should probably write everything they read to a ByteArrayOutputStream\n  and convert that to a byte array. Alternatively, if you're reading\n  from a file, File.length returns the current length of the file\n  (though assuming the file's length can't change may be incorrect,\n  reading a file is inherently racy).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4322684,"reputation":335,"user_id":3530337,"display_name":"cchcc"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1452661540,"creation_date":1452661540,"answer_id":34758758,"question_id":1264709,"body_markdown":"I use this.\r\n\r\n    public static byte[] toByteArray(InputStream is) throws IOException {\r\n            ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n            try {\r\n                byte[] b = new byte[4096];\r\n                int n = 0;\r\n                while ((n = is.read(b)) != -1) {\r\n                    output.write(b, 0, n);\r\n                }\r\n                return output.toByteArray();\r\n            } finally {\r\n                output.close();\r\n            }\r\n        }","title":"Convert InputStream to byte array in Java","body":"<p>I use this.</p>\n\n<pre><code>public static byte[] toByteArray(InputStream is) throws IOException {\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        try {\n            byte[] b = new byte[4096];\n            int n = 0;\n            while ((n = is.read(b)) != -1) {\n                output.write(b, 0, n);\n            }\n            return output.toByteArray();\n        } finally {\n            output.close();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1457669414,"creation_date":1457669414,"answer_id":35932047,"question_id":1264709,"body_markdown":"This is my copy-paste version:\r\n\r\n\r\n    @SuppressWarnings(&quot;empty-statement&quot;)\r\n    public static byte[] inputStreamToByte(InputStream is) throws IOException {\r\n        if (is == null) {\r\n            return null;\r\n        }\r\n        // Define a size if you have an idea of it.\r\n        ByteArrayOutputStream r = new ByteArrayOutputStream(2048);\r\n        byte[] read = new byte[512]; // Your buffer size.\r\n        for (int i; -1 != (i = is.read(read)); r.write(read, 0, i));\r\n        is.close();\r\n        return r.toByteArray();\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>This is my copy-paste version:</p>\n\n<pre><code>@SuppressWarnings(\"empty-statement\")\npublic static byte[] inputStreamToByte(InputStream is) throws IOException {\n    if (is == null) {\n        return null;\n    }\n    // Define a size if you have an idea of it.\n    ByteArrayOutputStream r = new ByteArrayOutputStream(2048);\n    byte[] read = new byte[512]; // Your buffer size.\n    for (int i; -1 != (i = is.read(read)); r.write(read, 0, i));\n    is.close();\n    return r.toByteArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1458460564,"creation_date":1458460564,"answer_id":36111438,"question_id":1264709,"body_markdown":"Java 7 and later:\r\n\r\n    import sun.misc.IOUtils;\r\n    ...\r\n    InputStream in = ...;\r\n\tbyte[] buf = IOUtils.readFully(in, -1, false);\r\n\r\n","title":"Convert InputStream to byte array in Java","body":"<p>Java 7 and later:</p>\n\n<pre><code>import sun.misc.IOUtils;\n...\nInputStream in = ...;\nbyte[] buf = IOUtils.readFully(in, -1, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":464,"is_accepted":false,"score":464,"last_activity_date":1508307972,"creation_date":1465307417,"answer_id":37681322,"question_id":1264709,"body_markdown":"Finally, after twenty years, theres a simple solution without the need for a 3rd party library, thanks to [Java&#160;9](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--):\r\n\r\n    InputStream is;\r\n    \r\n    byte[] array = is.readAllBytes();\r\n\r\nNote also the convenience methods [`readNBytes(byte[] b, int off, int len)`](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readNBytes-byte:A-int-int-) and [`transferTo(OutputStream)`](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#transferTo-java.io.OutputStream-) addressing recurring needs.","title":"Convert InputStream to byte array in Java","body":"<p>Finally, after twenty years, theres a simple solution without the need for a 3rd party library, thanks to <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"noreferrer\">Java9</a>:</p>\n\n<pre><code>InputStream is;\n\nbyte[] array = is.readAllBytes();\n</code></pre>\n\n<p>Note also the convenience methods <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readNBytes-byte:A-int-int-\" rel=\"noreferrer\"><code>readNBytes(byte[] b, int off, int len)</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#transferTo-java.io.OutputStream-\" rel=\"noreferrer\"><code>transferTo(OutputStream)</code></a> addressing recurring needs.</p>\n"},{"tags":[],"owner":{"account_id":315980,"reputation":10348,"user_id":631911,"display_name":"Tatarize"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480753344,"creation_date":1480753344,"answer_id":40945744,"question_id":1264709,"body_markdown":"Wrap it in a DataInputStream if that is off the table for some reason, just use read to hammer on it until it gives you a -1 or the entire block you asked for.\r\n\r\n\r\n    public int readFully(InputStream in, byte[] data) throws IOException {\r\n        int offset = 0;\r\n        int bytesRead;\r\n        boolean read = false;\r\n        while ((bytesRead = in.read(data, offset, data.length - offset)) != -1) {\r\n            read = true;\r\n            offset += bytesRead;\r\n            if (offset &gt;= data.length) {\r\n                break;\r\n            }\r\n        }\r\n        return (read) ? offset : -1;\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>Wrap it in a DataInputStream if that is off the table for some reason, just use read to hammer on it until it gives you a -1 or the entire block you asked for.</p>\n\n<pre><code>public int readFully(InputStream in, byte[] data) throws IOException {\n    int offset = 0;\n    int bytesRead;\n    boolean read = false;\n    while ((bytesRead = in.read(data, offset, data.length - offset)) != -1) {\n        read = true;\n        offset += bytesRead;\n        if (offset &gt;= data.length) {\n            break;\n        }\n    }\n    return (read) ? offset : -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1488315323,"creation_date":1488315323,"answer_id":42518568,"question_id":1264709,"body_markdown":"Java 9 will give you finally a nice method:\r\n\r\n    InputStream in = ...;\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    in.transferTo( bos );\r\n    byte[] bytes = bos.toByteArray();\r\n","title":"Convert InputStream to byte array in Java","body":"<p>Java 9 will give you finally a nice method:</p>\n\n<pre><code>InputStream in = ...;\nByteArrayOutputStream bos = new ByteArrayOutputStream();\nin.transferTo( bos );\nbyte[] bytes = bos.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":2,"up_vote_count":70,"is_accepted":false,"score":68,"last_activity_date":1492523993,"creation_date":1492523993,"answer_id":43474349,"question_id":1264709,"body_markdown":"As always, also [Spring framework][1] (spring-core since 3.2.2) has something for you: `StreamUtils.copyToByteArray()`\r\n\r\n\r\n  [1]: https://projects.spring.io/spring-framework/","title":"Convert InputStream to byte array in Java","body":"<p>As always, also <a href=\"https://projects.spring.io/spring-framework/\" rel=\"noreferrer\">Spring framework</a> (spring-core since 3.2.2) has something for you: <code>StreamUtils.copyToByteArray()</code></p>\n"},{"tags":[],"owner":{"account_id":4420650,"reputation":3193,"user_id":3600738,"accept_rate":57,"display_name":"harsh_v"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1601138491,"creation_date":1492794563,"answer_id":43548453,"question_id":1264709,"body_markdown":"In-case someone is still looking for a solution without dependency and **If you have a file**.\r\n\r\n&gt;  DataInputStream\r\n\r\n     byte[] data = new byte[(int) file.length()];\r\n     DataInputStream dis = new DataInputStream(new FileInputStream(file));\r\n     dis.readFully(data);\r\n     dis.close();\r\n\r\n\r\n&gt;  ByteArrayOutputStream\r\n\r\n     InputStream is = new FileInputStream(file);\r\n     ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n     int nRead;\r\n     byte[] data = new byte[(int) file.length()];\r\n     while ((nRead = is.read(data, 0, data.length)) != -1) {\r\n         buffer.write(data, 0, nRead);\r\n     }\r\n\r\n&gt;  RandomAccessFile\r\n\r\n     RandomAccessFile raf = new RandomAccessFile(file, &quot;r&quot;);\r\n     byte[] data = new byte[(int) raf.length()];\r\n     raf.readFully(data);","title":"Convert InputStream to byte array in Java","body":"<p>In-case someone is still looking for a solution without dependency and <strong>If you have a file</strong>.</p>\n<blockquote>\n<p>DataInputStream</p>\n</blockquote>\n<pre><code> byte[] data = new byte[(int) file.length()];\n DataInputStream dis = new DataInputStream(new FileInputStream(file));\n dis.readFully(data);\n dis.close();\n</code></pre>\n<blockquote>\n<p>ByteArrayOutputStream</p>\n</blockquote>\n<pre><code> InputStream is = new FileInputStream(file);\n ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n int nRead;\n byte[] data = new byte[(int) file.length()];\n while ((nRead = is.read(data, 0, data.length)) != -1) {\n     buffer.write(data, 0, nRead);\n }\n</code></pre>\n<blockquote>\n<p>RandomAccessFile</p>\n</blockquote>\n<pre><code> RandomAccessFile raf = new RandomAccessFile(file, &quot;r&quot;);\n byte[] data = new byte[(int) raf.length()];\n raf.readFully(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4369907,"reputation":2936,"user_id":3564590,"accept_rate":60,"display_name":"Ilya Bystrov"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1507015941,"creation_date":1493841395,"answer_id":43768910,"question_id":1264709,"body_markdown":"Java 8 way (thanks to **BufferedReader** and [Adam Bien][1])\r\n\r\n    private static byte[] readFully(InputStream input) throws IOException {\r\n        try (BufferedReader buffer = new BufferedReader(new InputStreamReader(input))) {\r\n            return buffer.lines().collect(Collectors.joining(&quot;\\n&quot;)).getBytes(&lt;charset_can_be_specified&gt;);\r\n        }\r\n    }\r\n\r\n**Note** that this solution wipes **carriage return** (&#39;\\r&#39;) and can be inappropriate.\r\n\r\n  [1]: http://www.adam-bien.com/roller/abien/entry/reading_inputstream_into_string_with","title":"Convert InputStream to byte array in Java","body":"<p>Java 8 way (thanks to <strong>BufferedReader</strong> and <a href=\"http://www.adam-bien.com/roller/abien/entry/reading_inputstream_into_string_with\" rel=\"nofollow noreferrer\">Adam Bien</a>)</p>\n\n<pre><code>private static byte[] readFully(InputStream input) throws IOException {\n    try (BufferedReader buffer = new BufferedReader(new InputStreamReader(input))) {\n        return buffer.lines().collect(Collectors.joining(\"\\n\")).getBytes(&lt;charset_can_be_specified&gt;);\n    }\n}\n</code></pre>\n\n<p><strong>Note</strong> that this solution wipes <strong>carriage return</strong> ('\\r') and can be inappropriate.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1503838720,"creation_date":1503838720,"answer_id":45905192,"question_id":1264709,"body_markdown":"You can try [Cactoos](http://www.cactoos.org):\r\n\r\n    byte[] array = new BytesOf(stream).bytes();","title":"Convert InputStream to byte array in Java","body":"<p>You can try <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a>:</p>\n\n<pre><code>byte[] array = new BytesOf(stream).bytes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5134668,"reputation":679,"user_id":4113809,"accept_rate":50,"display_name":"Bharathiraja S"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528115917,"creation_date":1528115917,"answer_id":50680834,"question_id":1264709,"body_markdown":"We are seeing some delay for few AWS transaction, while converting S3 object to ByteArray.\r\n\r\nNote: S3 Object is PDF document (max size is 3 mb).\r\n\r\nWe are using the option #1 (org.apache.commons.io.IOUtils) to convert the S3 object to ByteArray. We have noticed S3 provide the inbuild IOUtils method to convert the S3 object to ByteArray, we are request you to confirm what is the best way to convert the S3 object to ByteArray to avoid the delay.\r\n\r\nOption #1:\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    is = s3object.getObjectContent();\r\n    content =IOUtils.toByteArray(is);\r\n\r\nOption #2:\r\n\r\n    import com.amazonaws.util.IOUtils;\r\n    is = s3object.getObjectContent();\r\n    content =IOUtils.toByteArray(is);\r\n\r\nAlso let me know if we have any other better way to convert the s3 object to bytearray","title":"Convert InputStream to byte array in Java","body":"<p>We are seeing some delay for few AWS transaction, while converting S3 object to ByteArray.</p>\n\n<p>Note: S3 Object is PDF document (max size is 3 mb).</p>\n\n<p>We are using the option #1 (org.apache.commons.io.IOUtils) to convert the S3 object to ByteArray. We have noticed S3 provide the inbuild IOUtils method to convert the S3 object to ByteArray, we are request you to confirm what is the best way to convert the S3 object to ByteArray to avoid the delay.</p>\n\n<p>Option #1:</p>\n\n<pre><code>import org.apache.commons.io.IOUtils;\nis = s3object.getObjectContent();\ncontent =IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Option #2:</p>\n\n<pre><code>import com.amazonaws.util.IOUtils;\nis = s3object.getObjectContent();\ncontent =IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Also let me know if we have any other better way to convert the s3 object to bytearray</p>\n"},{"tags":[],"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1666783378,"creation_date":1542425630,"answer_id":53347936,"question_id":1264709,"body_markdown":"# Safe solution (close streams correctly):\r\n\r\n - **Java 9 and newer:**\r\n        \r\n        final byte[] bytes;\r\n\t\ttry (inputStream) {\r\n\t\t\tbytes = inputStream.readAllBytes();\r\n\t\t}\r\n***\r\n - **Java 8 and older:**\r\n\r\n\t\tpublic static byte[] readAllBytes(InputStream inputStream) throws IOException {\r\n\t\t\tfinal int bufLen = 4 * 0x400; // 4KB\r\n\t\t\tbyte[] buf = new byte[bufLen];\r\n\t\t\tint readLen;\r\n\t\t\tIOException exception = null;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\ttry (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n\t\t\t\t\twhile ((readLen = inputStream.read(buf, 0, bufLen)) != -1)\r\n\t\t\t\t\t\toutputStream.write(buf, 0, readLen);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn outputStream.toByteArray();\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\texception = e;\r\n\t\t\t\tthrow e;\r\n\t\t\t} finally {\r\n\t\t\t\tif (exception == null) inputStream.close();\r\n\t\t\t\telse try {\r\n\t\t\t\t\tinputStream.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\texception.addSuppressed(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n***\r\n - ***Kotlin*** (when Java 9+ isn&#39;t accessible):\r\n\r\n        @Throws(IOException::class)\r\n        fun InputStream.readAllBytes(): ByteArray {\r\n            val bufLen = 4 * 0x400 // 4KB\r\n            val buf = ByteArray(bufLen)\r\n            var readLen: Int = 0\r\n    \r\n            ByteArrayOutputStream().use { o -&gt;\r\n                this.use { i -&gt;\r\n                    while (i.read(buf, 0, bufLen).also { readLen = it } != -1)\r\n                        o.write(buf, 0, readLen)\r\n                }\r\n    \r\n                return o.toByteArray()\r\n            }\r\n        }\r\n\r\n    *To avoid nested `use` see [here][1].*\r\n***\r\n  - ***Scala*** (when Java 9+ isn&#39;t accessible) (By [@Joan][2]. Thx):\r\n\r\n        def readAllBytes(inputStream: InputStream): Array[Byte] =\r\n          Stream.continually(inputStream.read).takeWhile(_ != -1).map(_.toByte).toArray\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53348190/5318303\r\n  [2]: https://stackoverflow.com/users/599728/joan","title":"Convert InputStream to byte array in Java","body":"<h1>Safe solution (close streams correctly):</h1>\n<ul>\n<li><p><strong>Java 9 and newer:</strong></p>\n<pre><code> final byte[] bytes;\n try (inputStream) {\n     bytes = inputStream.readAllBytes();\n }\n</code></pre>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><strong>Java 8 and older:</strong></p>\n<pre><code> public static byte[] readAllBytes(InputStream inputStream) throws IOException {\n     final int bufLen = 4 * 0x400; // 4KB\n     byte[] buf = new byte[bufLen];\n     int readLen;\n     IOException exception = null;\n\n     try {\n         try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n             while ((readLen = inputStream.read(buf, 0, bufLen)) != -1)\n                 outputStream.write(buf, 0, readLen);\n\n             return outputStream.toByteArray();\n         }\n     } catch (IOException e) {\n         exception = e;\n         throw e;\n     } finally {\n         if (exception == null) inputStream.close();\n         else try {\n             inputStream.close();\n         } catch (IOException e) {\n             exception.addSuppressed(e);\n         }\n     }\n }\n</code></pre>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><em><strong>Kotlin</strong></em> (when Java 9+ isn't accessible):</p>\n<pre><code> @Throws(IOException::class)\n fun InputStream.readAllBytes(): ByteArray {\n     val bufLen = 4 * 0x400 // 4KB\n     val buf = ByteArray(bufLen)\n     var readLen: Int = 0\n\n     ByteArrayOutputStream().use { o -&gt;\n         this.use { i -&gt;\n             while (i.read(buf, 0, bufLen).also { readLen = it } != -1)\n                 o.write(buf, 0, readLen)\n         }\n\n         return o.toByteArray()\n     }\n }\n</code></pre>\n<p><em>To avoid nested <code>use</code> see <a href=\"https://stackoverflow.com/a/53348190/5318303\">here</a>.</em></p>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><em><strong>Scala</strong></em> (when Java 9+ isn't accessible) (By <a href=\"https://stackoverflow.com/users/599728/joan\">@Joan</a>. Thx):</p>\n<pre><code>def readAllBytes(inputStream: InputStream): Array[Byte] =\n  Stream.continually(inputStream.read).takeWhile(_ != -1).map(_.toByte).toArray\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589629217,"creation_date":1589628771,"answer_id":61836068,"question_id":1264709,"body_markdown":"Solution in Kotlin (will work in Java too, of course), which includes both cases of when you know the size or not:\r\n\r\n```kt\r\n    fun InputStream.readBytesWithSize(size: Long): ByteArray? {\r\n        return when {\r\n            size &lt; 0L -&gt; this.readBytes()\r\n            size == 0L -&gt; ByteArray(0)\r\n            size &gt; Int.MAX_VALUE -&gt; null\r\n            else -&gt; {\r\n                val sizeInt = size.toInt()\r\n                val result = ByteArray(sizeInt)\r\n                readBytesIntoByteArray(result, sizeInt)\r\n                result\r\n            }\r\n        }\r\n    }\r\n\r\n    fun InputStream.readBytesIntoByteArray(byteArray: ByteArray,bytesToRead:Int=byteArray.size) {\r\n        var offset = 0\r\n        while (true) {\r\n            val read = this.read(byteArray, offset, bytesToRead - offset)\r\n            if (read == -1)\r\n                break\r\n            offset += read\r\n            if (offset &gt;= bytesToRead)\r\n                break\r\n        }\r\n    }\r\n```\r\n\r\nIf you know the size, it saves you on having double the memory used compared to the other solutions (in a brief moment, but still could be useful). That&#39;s because you have to read the entire stream to the end, and then convert it to a byte array (similar to ArrayList which you convert to just an array).\r\n\r\nSo, if you are on Android, for example, and you got some Uri to handle, you can try to get the size using this:\r\n\r\n```\r\n    fun getStreamLengthFromUri(context: Context, uri: Uri): Long {\r\n        context.contentResolver.query(uri, arrayOf(MediaStore.MediaColumns.SIZE), null, null, null)?.use {\r\n            if (!it.moveToNext())\r\n                return@use\r\n            val fileSize = it.getLong(it.getColumnIndex(MediaStore.MediaColumns.SIZE))\r\n            if (fileSize &gt; 0)\r\n                return fileSize\r\n        }\r\n        //if you wish, you can also get the file-path from the uri here, and then try to get its size, using this: https://stackoverflow.com/a/61835665/878126\r\n        FileUtilEx.getFilePathFromUri(context, uri, false)?.use {\r\n            val file = it.file\r\n            val fileSize = file.length()\r\n            if (fileSize &gt; 0)\r\n                return fileSize\r\n        }\r\n        context.contentResolver.openInputStream(uri)?.use { inputStream -&gt;\r\n            if (inputStream is FileInputStream)\r\n                return inputStream.channel.size()\r\n            else {\r\n                var bytesCount = 0L\r\n                while (true) {\r\n                    val available = inputStream.available()\r\n                    if (available == 0)\r\n                        break\r\n                    val skip = inputStream.skip(available.toLong())\r\n                    if (skip &lt; 0)\r\n                        break\r\n                    bytesCount += skip\r\n                }\r\n                if (bytesCount &gt; 0L)\r\n                    return bytesCount\r\n            }\r\n        }\r\n        return -1L\r\n    }\r\n```","title":"Convert InputStream to byte array in Java","body":"<p>Solution in Kotlin (will work in Java too, of course), which includes both cases of when you know the size or not:</p>\n\n<pre><code>    fun InputStream.readBytesWithSize(size: Long): ByteArray? {\n        return when {\n            size &lt; 0L -&gt; this.readBytes()\n            size == 0L -&gt; ByteArray(0)\n            size &gt; Int.MAX_VALUE -&gt; null\n            else -&gt; {\n                val sizeInt = size.toInt()\n                val result = ByteArray(sizeInt)\n                readBytesIntoByteArray(result, sizeInt)\n                result\n            }\n        }\n    }\n\n    fun InputStream.readBytesIntoByteArray(byteArray: ByteArray,bytesToRead:Int=byteArray.size) {\n        var offset = 0\n        while (true) {\n            val read = this.read(byteArray, offset, bytesToRead - offset)\n            if (read == -1)\n                break\n            offset += read\n            if (offset &gt;= bytesToRead)\n                break\n        }\n    }\n</code></pre>\n\n<p>If you know the size, it saves you on having double the memory used compared to the other solutions (in a brief moment, but still could be useful). That's because you have to read the entire stream to the end, and then convert it to a byte array (similar to ArrayList which you convert to just an array).</p>\n\n<p>So, if you are on Android, for example, and you got some Uri to handle, you can try to get the size using this:</p>\n\n<pre><code>    fun getStreamLengthFromUri(context: Context, uri: Uri): Long {\n        context.contentResolver.query(uri, arrayOf(MediaStore.MediaColumns.SIZE), null, null, null)?.use {\n            if (!it.moveToNext())\n                return@use\n            val fileSize = it.getLong(it.getColumnIndex(MediaStore.MediaColumns.SIZE))\n            if (fileSize &gt; 0)\n                return fileSize\n        }\n        //if you wish, you can also get the file-path from the uri here, and then try to get its size, using this: https://stackoverflow.com/a/61835665/878126\n        FileUtilEx.getFilePathFromUri(context, uri, false)?.use {\n            val file = it.file\n            val fileSize = file.length()\n            if (fileSize &gt; 0)\n                return fileSize\n        }\n        context.contentResolver.openInputStream(uri)?.use { inputStream -&gt;\n            if (inputStream is FileInputStream)\n                return inputStream.channel.size()\n            else {\n                var bytesCount = 0L\n                while (true) {\n                    val available = inputStream.available()\n                    if (available == 0)\n                        break\n                    val skip = inputStream.skip(available.toLong())\n                    if (skip &lt; 0)\n                        break\n                    bytesCount += skip\n                }\n                if (bytesCount &gt; 0L)\n                    return bytesCount\n            }\n        }\n        return -1L\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17213890,"reputation":1600,"user_id":12462444,"display_name":"andreoss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593553273,"creation_date":1593553273,"answer_id":62666559,"question_id":1264709,"body_markdown":"You can use [cactoos](https://github.com/yegor256/cactoos/) library with provides reusable [object-oriented](https://www.elegantobjects.org/#principles) Java components.\r\nOOP is emphasized by this library, so no static methods, NULLs, and so on, only [real objects](https://www.yegor256.com/2014/11/20/seven-virtues-of-good-object.html) and their contracts (interfaces).\r\nA simple operation like reading InputStream, can be performed like that\r\n```\r\nfinal InputStream input = ...;\r\nfinal Bytes bytes = new BytesOf(input);\r\nfinal byte[] array = bytes.asBytes();\r\nAssert.assertArrayEquals(\r\n    array,\r\n    new byte[]{65, 66, 67}\r\n);\r\n```\r\nHaving a dedicated type `Bytes` for working with data structure `byte[]` enables us to use OOP tactics for solving tasks at hand.\r\nSomething that a procedural &quot;utility&quot; method will forbid us to do.\r\nFor example, you need to enconde bytes you&#39;ve read from this `InputStream` to Base64.\r\nIn this case you will use [Decorator pattern](https://www.yegor256.com/2015/02/26/composable-decorators.html) and wrap Bytes object within implementation for Base64.\r\n[cactoos](https://github.com/yegor256/cactoos/) already provides such implementation:\r\n```java\r\nfinal Bytes encoded = new BytesBase64(\r\n    new BytesOf(\r\n        new InputStreamOf(&quot;XYZ&quot;)\r\n    )\r\n);\r\nAssert.assertEquals(new TextOf(encoded).asString(), &quot;WFla&quot;);\r\n```\r\nYou can decode them in the same manner, by using Decorator pattern\r\n```\r\nfinal Bytes decoded = new Base64Bytes(\r\n    new BytesBase64(\r\n        new BytesOf(\r\n            new InputStreamOf(&quot;XYZ&quot;)\r\n        )\r\n    )\r\n);\r\nAssert.assertEquals(new TextOf(decoded).asString(), &quot;XYZ&quot;);\r\n```\r\nWhatever your task is you will be able to create own implementation of `Bytes` to solve it.\r\n","title":"Convert InputStream to byte array in Java","body":"<p>You can use <a href=\"https://github.com/yegor256/cactoos/\" rel=\"nofollow noreferrer\">cactoos</a> library with provides reusable <a href=\"https://www.elegantobjects.org/#principles\" rel=\"nofollow noreferrer\">object-oriented</a> Java components.\nOOP is emphasized by this library, so no static methods, NULLs, and so on, only <a href=\"https://www.yegor256.com/2014/11/20/seven-virtues-of-good-object.html\" rel=\"nofollow noreferrer\">real objects</a> and their contracts (interfaces).\nA simple operation like reading InputStream, can be performed like that</p>\n<pre><code>final InputStream input = ...;\nfinal Bytes bytes = new BytesOf(input);\nfinal byte[] array = bytes.asBytes();\nAssert.assertArrayEquals(\n    array,\n    new byte[]{65, 66, 67}\n);\n</code></pre>\n<p>Having a dedicated type <code>Bytes</code> for working with data structure <code>byte[]</code> enables us to use OOP tactics for solving tasks at hand.\nSomething that a procedural &quot;utility&quot; method will forbid us to do.\nFor example, you need to enconde bytes you've read from this <code>InputStream</code> to Base64.\nIn this case you will use <a href=\"https://www.yegor256.com/2015/02/26/composable-decorators.html\" rel=\"nofollow noreferrer\">Decorator pattern</a> and wrap Bytes object within implementation for Base64.\n<a href=\"https://github.com/yegor256/cactoos/\" rel=\"nofollow noreferrer\">cactoos</a> already provides such implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Bytes encoded = new BytesBase64(\n    new BytesOf(\n        new InputStreamOf(&quot;XYZ&quot;)\n    )\n);\nAssert.assertEquals(new TextOf(encoded).asString(), &quot;WFla&quot;);\n</code></pre>\n<p>You can decode them in the same manner, by using Decorator pattern</p>\n<pre><code>final Bytes decoded = new Base64Bytes(\n    new BytesBase64(\n        new BytesOf(\n            new InputStreamOf(&quot;XYZ&quot;)\n        )\n    )\n);\nAssert.assertEquals(new TextOf(decoded).asString(), &quot;XYZ&quot;);\n</code></pre>\n<p>Whatever your task is you will be able to create own implementation of <code>Bytes</code> to solve it.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661579250,"creation_date":1661579250,"answer_id":73508669,"question_id":1264709,"body_markdown":"You can use [Cactoos](https://www.cactoos.org) (I&#39;m one of its developers):\r\n\r\n```java\r\nimport org.cactoos.bytes.BytesOf;\r\nbyte[] array = new BytesOf(stream).asBytes();\r\n```\r\n\r\nYou can also convert a stream to a `String`:\r\n\r\n```java\r\nimport org.cactoos.text.TextOf;\r\nString txt = new TextOf(stream).asString();\r\n```\r\n\r\nBoth `asBytes()` and `asString()` methods throw checked `Exception`. If you don&#39;t want to catch it, use `Unchecked*` decorators, for example:\r\n\r\n```java\r\nimport org.cactoos.bytes.BytesOf;\r\nimport org.cactoos.bytes.UncheckedBytes;\r\nbyte[] array = new UncheckedBytes(new BytesOf(stream)).asBytes();\r\n```\r\n","title":"Convert InputStream to byte array in Java","body":"<p>You can use <a href=\"https://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a> (I'm one of its developers):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.cactoos.bytes.BytesOf;\nbyte[] array = new BytesOf(stream).asBytes();\n</code></pre>\n<p>You can also convert a stream to a <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.cactoos.text.TextOf;\nString txt = new TextOf(stream).asString();\n</code></pre>\n<p>Both <code>asBytes()</code> and <code>asString()</code> methods throw checked <code>Exception</code>. If you don't want to catch it, use <code>Unchecked*</code> decorators, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.cactoos.bytes.BytesOf;\nimport org.cactoos.bytes.UncheckedBytes;\nbyte[] array = new UncheckedBytes(new BytesOf(stream)).asBytes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3361884,"reputation":5549,"user_id":2823516,"accept_rate":86,"display_name":"Joaquin Iurchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697478702,"creation_date":1697478702,"answer_id":77304012,"question_id":1264709,"body_markdown":"For Android developers dealing with the inter-op between Java and Kotlin:\r\n\r\n    byte[] myByteArray = ByteStreamsKt.readBytes(fileInputStream);","title":"Convert InputStream to byte array in Java","body":"<p>For Android developers dealing with the inter-op between Java and Kotlin:</p>\n<pre><code>byte[] myByteArray = ByteStreamsKt.readBytes(fileInputStream);\n</code></pre>\n"}],"owner":{"account_id":47576,"reputation":12757,"user_id":140962,"accept_rate":99,"display_name":"JGC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192087,"favorite_count":0,"down_vote_count":2,"up_vote_count":1003,"accepted_answer_id":1264756,"answer_count":35,"score":1001,"last_activity_date":1697478702,"creation_date":1250062042,"question_id":1264709,"body_markdown":"How do I read an entire `InputStream` into a byte array?","title":"Convert InputStream to byte array in Java","body":"<p>How do I read an entire <code>InputStream</code> into a byte array?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1606647815,"post_id":65059299,"comment_id":115018598,"body_markdown":"which `@NotNull` annotation have you imported? `javax.validation.constraints.NotNull` or from jetbrains or ... Have you generated the tables via hibernate or manually?","body":"which <code>@NotNull</code> annotation have you imported? <code>javax.validation.constraints.NotNull</code> or from jetbrains or ... Have you generated the tables via hibernate or manually?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1606648062,"post_id":65059299,"comment_id":115018650,"body_markdown":"*I expected the number can be null but I was wrong.* No `int` is a pimitive type which cannot be null use `Integer` instead","body":"<i>I expected the number can be null but I was wrong.</i> No <code>int</code> is a pimitive type which cannot be null use <code>Integer</code> instead"},{"owner":{"account_id":17554117,"reputation":21,"user_id":12733938,"display_name":"MarFor9"},"score":0,"creation_date":1606648702,"post_id":65059299,"comment_id":115018781,"body_markdown":"@Jens I use `com.sun.istack.NotNull;`. I also found that when I write: `@Column private int number;` (because `@Column` has default nullable set on true.) I can insert null value but I not sure is good practice.","body":"@Jens I use <code>com.sun.istack.NotNull;</code>. I also found that when I write: <code>@Column private int number;</code> (because <code>@Column</code> has default nullable set on true.) I can insert null value but I not sure is good practice."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1606648795,"post_id":65059299,"comment_id":115018803,"body_markdown":"Do you want Bean Validation to trigger when you persist the entity? If so, use `javax.validation.constraints.NotNull`. If not, just use `@Column(nullable = false)`. Hibernate does not understand what `com.sun.istack.NotNull` is","body":"Do you want Bean Validation to trigger when you persist the entity? If so, use <code>javax.validation.constraints.NotNull</code>. If not, just use <code>@Column(nullable = false)</code>. Hibernate does not understand what <code>com.sun.istack.NotNull</code> is"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1606648862,"post_id":65059299,"comment_id":115018817,"body_markdown":"As a side note, if you use `int`, and make the column nullable when creating the DB schema yourself, Hibernate *will* allow such a thing. You&#39;ll just get a NPE whenever Hibernate actually *finds* a `NULL` in the column when trying to map it onto the entity. So, it probably doesn&#39;t make much sense","body":"As a side note, if you use <code>int</code>, and make the column nullable when creating the DB schema yourself, Hibernate <i>will</i> allow such a thing. You&#39;ll just get a NPE whenever Hibernate actually <i>finds</i> a <code>NULL</code> in the column when trying to map it onto the entity. So, it probably doesn&#39;t make much sense"}],"answers":[{"tags":[],"owner":{"account_id":18989609,"reputation":284,"user_id":13859175,"display_name":"Yusuf eng&#252;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606647278,"creation_date":1606647278,"answer_id":65059330,"question_id":65059299,"body_markdown":"First of all you need to add @Entity tag beginning of your model and you can use @Notnull tag where you want such as:\r\n\r\n    @Entity\r\n    public class Item {\r\n \r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n \r\n    @NotNull\r\n    private BigDecimal price;\r\n}\r\n\r\nfore more information you can take a look that [link][1] \r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-notnull-vs-nullable","title":"How can I set the not null field? Spring boot, Hibernate","body":"<p>First of all you need to add @Entity tag beginning of your model and you can use @Notnull tag where you want such as:</p>\n<pre><code>@Entity\npublic class Item {\n\n@Id\n@GeneratedValue\nprivate Long id;\n\n@NotNull\nprivate BigDecimal price;\n</code></pre>\n<p>}</p>\n<p>fore more information you can take a look that <a href=\"https://www.baeldung.com/hibernate-notnull-vs-nullable\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":9799895,"reputation":31,"user_id":7261574,"display_name":"Isuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697478681,"creation_date":1697478681,"answer_id":77304011,"question_id":65059299,"body_markdown":"First of all you need to add below dependency.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\nThen you can @Notnull from javax.validation.constraints.NotNull;\r\n\r\n    @NotNull\r\n    private String foo;\r\n\r\nor you can use @Column annotation from Java persistent API as below.\r\n\r\n    @Column(nullable = false)\r\n    private String foo;","title":"How can I set the not null field? Spring boot, Hibernate","body":"<p>First of all you need to add below dependency.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you can @Notnull from javax.validation.constraints.NotNull;</p>\n<pre><code>@NotNull\nprivate String foo;\n</code></pre>\n<p>or you can use @Column annotation from Java persistent API as below.</p>\n<pre><code>@Column(nullable = false)\nprivate String foo;\n</code></pre>\n"}],"owner":{"account_id":17554117,"reputation":21,"user_id":12733938,"display_name":"MarFor9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3037,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697478681,"creation_date":1606647023,"question_id":65059299,"body_markdown":"I&#39;m new as java programmer. I am writing a simple app with spring boot and hibernate.\r\n\r\nI have problem with not null field. How can I set them, because when I write: \r\n\r\n    @NotNull\r\n    private String foo;\r\n\r\nI see in database (postgres) I can insert null value but I expected that I can&#39;t.\r\n\r\nAlso when I write:\r\n\r\n    private int number;\r\nI expected the `number` can be null but I was wrong.\r\n\r\nSo how can I set nullable and not nullable values on `string, int, double`?\r\n\r\nThank you for all your answers!","title":"How can I set the not null field? Spring boot, Hibernate","body":"<p>I'm new as java programmer. I am writing a simple app with spring boot and hibernate.</p>\n<p>I have problem with not null field. How can I set them, because when I write:</p>\n<pre><code>@NotNull\nprivate String foo;\n</code></pre>\n<p>I see in database (postgres) I can insert null value but I expected that I can't.</p>\n<p>Also when I write:</p>\n<pre><code>private int number;\n</code></pre>\n<p>I expected the <code>number</code> can be null but I was wrong.</p>\n<p>So how can I set nullable and not nullable values on <code>string, int, double</code>?</p>\n<p>Thank you for all your answers!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-boot-test"],"owner":{"account_id":23330599,"reputation":11,"user_id":17407051,"display_name":"Code xyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697478679,"creation_date":1697478679,"question_id":77304010,"body_markdown":"I wanted to get rid of spring datasource related configuration from my test YAML file.\r\n\r\nI have an integration test case annotated with @SpringBootTest. When this test case runs, it auto-configures the database-related configuration, including JDBC Template and Spring Data. This test case has its own YAML configuration.\r\n\r\n\r\n\r\n```\r\n@SpringBootTest\r\n@ActiveProfile(&quot;test&quot;)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass myIntgTest{\r\n \r\n}\r\n```\r\n\r\nI&#39;ve attempted to exclude DataSourceAutoConfiguration and HibernateJPAAutoConfiguration using @EnableAutoConfiguration and spring.autoconfigure.exclude, but neither of these methods is working. Unfortunately, I can&#39;t use @MockBean or @Profile on my application configuration because of some inter-dependencies.\r\n\r\nCould someone please assist me in preventing the loading of these database-related configurations when my integration test case runs? This way, I don&#39;t have to include datasource-related details in my test YAML file.\r\n\r\nThank you in advance. \r\n\r\nTried exclude option using @EnableAutoConfiguration, spring.autoconfigure.exclude, @MockBean and @Profile, @TestPropery, @ComponentScan.","title":"Disable database related autoconfigurations in integration test","body":"<p>I wanted to get rid of spring datasource related configuration from my test YAML file.</p>\n<p>I have an integration test case annotated with @SpringBootTest. When this test case runs, it auto-configures the database-related configuration, including JDBC Template and Spring Data. This test case has its own YAML configuration.</p>\n<pre><code>@SpringBootTest\n@ActiveProfile(&quot;test&quot;)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass myIntgTest{\n \n}\n</code></pre>\n<p>I've attempted to exclude DataSourceAutoConfiguration and HibernateJPAAutoConfiguration using @EnableAutoConfiguration and spring.autoconfigure.exclude, but neither of these methods is working. Unfortunately, I can't use @MockBean or @Profile on my application configuration because of some inter-dependencies.</p>\n<p>Could someone please assist me in preventing the loading of these database-related configurations when my integration test case runs? This way, I don't have to include datasource-related details in my test YAML file.</p>\n<p>Thank you in advance.</p>\n<p>Tried exclude option using @EnableAutoConfiguration, spring.autoconfigure.exclude, @MockBean and @Profile, @TestPropery, @ComponentScan.</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697477445,"post_id":77303867,"comment_id":136282083,"body_markdown":"This is nothing that Java or JavaDoc enforces. You should ask your instructor how the assignment is intended to be handed in. Everything else is just guessing: add the parameterless constructor manually and add a JavaDoc, add a private parameterless constructor so the (tester) class cannot be instantiated, etc. We really can&#39;t know, because we don&#39;t know what your assignment checker is checking.","body":"This is nothing that Java or JavaDoc enforces. You should ask your instructor how the assignment is intended to be handed in. Everything else is just guessing: add the parameterless constructor manually and add a JavaDoc, add a private parameterless constructor so the (tester) class cannot be instantiated, etc. We really can&#39;t know, because we don&#39;t know what your assignment checker is checking."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697479790,"post_id":77303867,"comment_id":136282461,"body_markdown":"Add the error text.","body":"Add the error text."},{"owner":{"account_id":2641744,"reputation":1155,"user_id":2285234,"display_name":"Zastai"},"score":0,"creation_date":1702045303,"post_id":77303867,"comment_id":136852763,"body_markdown":"This diagnostic seems to be new in Java 21; it gets issued because `CalculatorTester` specifies no explicit constructor. That means that if code does `new CalculatorTester()`, no JavaDoc is available. As @knittl suggests, add an explicit default constructor, either as `private` (seems to be applicable here - your class only acts as a container for the `main` method), or as public with appropriate JavaDoc for it.","body":"This diagnostic seems to be new in Java 21; it gets issued because <code>CalculatorTester</code> specifies no explicit constructor. That means that if code does <code>new CalculatorTester()</code>, no JavaDoc is available. As @knittl suggests, add an explicit default constructor, either as <code>private</code> (seems to be applicable here - your class only acts as a container for the <code>main</code> method), or as public with appropriate JavaDoc for it."}],"answers":[{"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697478559,"creation_date":1697478559,"answer_id":77303997,"question_id":77303867,"body_markdown":"Are you building javadoc with the `-Xdoclint` flag? You could avoid doing that, or perhaps specify something like `-Xdoclint:all,-missing`.\r\n\r\nhttps://github.com/plume-lib/require-javadoc discusses how to avoid this while requiring other javadoc features.","title":"When trying to generate a Javadoc for my program I get the error message &#39;use of default constructor, which does not provide a comment&#39; What is wrong?","body":"<p>Are you building javadoc with the <code>-Xdoclint</code> flag? You could avoid doing that, or perhaps specify something like <code>-Xdoclint:all,-missing</code>.</p>\n<p><a href=\"https://github.com/plume-lib/require-javadoc\" rel=\"nofollow noreferrer\">https://github.com/plume-lib/require-javadoc</a> discusses how to avoid this while requiring other javadoc features.</p>\n"}],"owner":{"account_id":26697914,"reputation":1,"user_id":20305449,"display_name":"Milo Vibes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697478559,"creation_date":1697477086,"question_id":77303867,"body_markdown":"The issue seems to be with the tester class, though I don&#39;t understand what exactly the issue is or what to change. It doesn&#39;t interfere with how the program runs or functions, but i need the Javadoc in order to submit the assignment.\r\n\r\nI have tried altering, adding, and removing the comments for the CalculatorTester class which seems to be the issue, but each change has only produced separate issues without actually resolving the original.\r\n\r\nThis is the object used for the calculator program. No Javadoc issues here\r\n```\r\n/**\r\n * A Calculator Object\r\n * \r\n * @author wesal\r\n * @version 1.0\r\n */\r\npublic class Calculator {\r\n    double numone;\r\n    double numtwo;\r\n    double added;\r\n    double subtracted;\r\n    double multiplied;\r\n    double divided;\r\n    int exponential;\r\n    \r\n    /**\r\n    * This object stores the pair of number used in the calculations\r\n    *\r\n    * @param num1 The storage of the first number\r\n    * @param num2 The storage of the second number\r\n    */\r\n    public Calculator(double num1, double num2){       \r\n        numone = num1;\r\n        numtwo = num2;\r\n    }\r\n    \r\n    /**\r\n    * This method adds the pair of numbers stored in the Calculator object\r\n    * @return The result of the two added numbers\r\n    */\r\n    public double add(){\r\n        added = numone + numtwo;\r\n        return added;\r\n    }\r\n    \r\n    /**\r\n    * This method subtracts the second number from the first\r\n    * @return The result of the subtraction operation\r\n    */\r\n    public double subtract(){\r\n        subtracted = numone - numtwo;\r\n        return subtracted;\r\n    }\r\n    \r\n    /**\r\n    * This method multiplies the two numbers together\r\n    * @return The result of the multiplication operation\r\n    */\r\n    public double multiply(){\r\n        multiplied = numone * numtwo;\r\n        return multiplied;\r\n    }\r\n    \r\n    /**\r\n    * This method divides the first number by the second\r\n    * @return The result of the division operation\r\n    */\r\n    public double divide(){\r\n        divided = numone / numtwo;\r\n        return divided;\r\n    }\r\n    \r\n    /**\r\n    * This method takes the integer value of the two numbers \r\n    * through typecasting and raises the first to the power of \r\n    * the second\r\n    * \r\n    * @return The value result of the Math.pow operation\r\n    */\r\n    public int power(){\r\n        exponential = (int) Math.pow((int) numone, (int) numtwo);\r\n        return exponential;\r\n    }\r\n    \r\n    \r\n}\r\n\r\n```\r\n\r\n\r\nThis is the tester class causing the Javadoc error, notably `public class CalculatorTester{}`\r\n```\r\n/**\r\n * A Calculator \r\n * \r\n * @author wesal\r\n * @version 1.0\r\n */\r\npublic class CalculatorTester{  \r\n    \r\n    /**\r\n     * The main of the function, where the executable code is written\r\n     * \r\n     * @param args The command line arguments\r\n     */\r\n    public static void main(String[] args){\r\n        double num1;\r\n        double num2;\r\n\r\n        /**\r\n        * This segment prints out the text asking for user entry as well as accepting and storing the requested input\r\n        */\r\n        System.out.print(&quot;Enter the first number: &quot; );\r\n        Scanner in = new Scanner(System.in);\r\n        num1 = in.nextDouble();\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;Enter the second number: &quot; );\r\n        num2 = in.nextDouble();\r\n        System.out.println(&quot; &quot;);\r\n\r\n        /**\r\n        * This constructs the new calculator object with the entered data stored\r\n        */\r\n        Calculator calc = new Calculator(num1,num2);\r\n        \r\n        /**\r\n        * This segment calls back to the methods for the mathematical operations and prints the results\r\n        */\r\n        System.out.println(&quot;The Arithmetic Opreations Results: &quot;);\r\n        System.out.println(num1 + &quot; + &quot; + num2 + &quot; = &quot; + calc.add());\r\n        System.out.println(num1 + &quot; - &quot; + num2 + &quot; = &quot; + calc.subtract());\r\n        System.out.println(num1 + &quot; * &quot; + num2 + &quot; = &quot; + calc.multiply());\r\n        System.out.println(num1 + &quot; / &quot; + num2 + &quot; = &quot; + calc.divide());\r\n        System.out.println((int) num1 + &quot; ^ &quot; + (int) num2 + &quot; = &quot; + calc.power());\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"When trying to generate a Javadoc for my program I get the error message &#39;use of default constructor, which does not provide a comment&#39; What is wrong?","body":"<p>The issue seems to be with the tester class, though I don't understand what exactly the issue is or what to change. It doesn't interfere with how the program runs or functions, but i need the Javadoc in order to submit the assignment.</p>\n<p>I have tried altering, adding, and removing the comments for the CalculatorTester class which seems to be the issue, but each change has only produced separate issues without actually resolving the original.</p>\n<p>This is the object used for the calculator program. No Javadoc issues here</p>\n<pre><code>/**\n * A Calculator Object\n * \n * @author wesal\n * @version 1.0\n */\npublic class Calculator {\n    double numone;\n    double numtwo;\n    double added;\n    double subtracted;\n    double multiplied;\n    double divided;\n    int exponential;\n    \n    /**\n    * This object stores the pair of number used in the calculations\n    *\n    * @param num1 The storage of the first number\n    * @param num2 The storage of the second number\n    */\n    public Calculator(double num1, double num2){       \n        numone = num1;\n        numtwo = num2;\n    }\n    \n    /**\n    * This method adds the pair of numbers stored in the Calculator object\n    * @return The result of the two added numbers\n    */\n    public double add(){\n        added = numone + numtwo;\n        return added;\n    }\n    \n    /**\n    * This method subtracts the second number from the first\n    * @return The result of the subtraction operation\n    */\n    public double subtract(){\n        subtracted = numone - numtwo;\n        return subtracted;\n    }\n    \n    /**\n    * This method multiplies the two numbers together\n    * @return The result of the multiplication operation\n    */\n    public double multiply(){\n        multiplied = numone * numtwo;\n        return multiplied;\n    }\n    \n    /**\n    * This method divides the first number by the second\n    * @return The result of the division operation\n    */\n    public double divide(){\n        divided = numone / numtwo;\n        return divided;\n    }\n    \n    /**\n    * This method takes the integer value of the two numbers \n    * through typecasting and raises the first to the power of \n    * the second\n    * \n    * @return The value result of the Math.pow operation\n    */\n    public int power(){\n        exponential = (int) Math.pow((int) numone, (int) numtwo);\n        return exponential;\n    }\n    \n    \n}\n\n</code></pre>\n<p>This is the tester class causing the Javadoc error, notably <code>public class CalculatorTester{}</code></p>\n<pre><code>/**\n * A Calculator \n * \n * @author wesal\n * @version 1.0\n */\npublic class CalculatorTester{  \n    \n    /**\n     * The main of the function, where the executable code is written\n     * \n     * @param args The command line arguments\n     */\n    public static void main(String[] args){\n        double num1;\n        double num2;\n\n        /**\n        * This segment prints out the text asking for user entry as well as accepting and storing the requested input\n        */\n        System.out.print(&quot;Enter the first number: &quot; );\n        Scanner in = new Scanner(System.in);\n        num1 = in.nextDouble();\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Enter the second number: &quot; );\n        num2 = in.nextDouble();\n        System.out.println(&quot; &quot;);\n\n        /**\n        * This constructs the new calculator object with the entered data stored\n        */\n        Calculator calc = new Calculator(num1,num2);\n        \n        /**\n        * This segment calls back to the methods for the mathematical operations and prints the results\n        */\n        System.out.println(&quot;The Arithmetic Opreations Results: &quot;);\n        System.out.println(num1 + &quot; + &quot; + num2 + &quot; = &quot; + calc.add());\n        System.out.println(num1 + &quot; - &quot; + num2 + &quot; = &quot; + calc.subtract());\n        System.out.println(num1 + &quot; * &quot; + num2 + &quot; = &quot; + calc.multiply());\n        System.out.println(num1 + &quot; / &quot; + num2 + &quot; = &quot; + calc.divide());\n        System.out.println((int) num1 + &quot; ^ &quot; + (int) num2 + &quot; = &quot; + calc.power());\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","linux","eclipse","wrapper","executable"],"comments":[{"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"score":1,"creation_date":1428055284,"post_id":29429976,"comment_id":47029697,"body_markdown":"why you wanna make .sh file for linux only? i guess the beauty of java is cross platform you just need to install JRE and one single jar will run perfectly OK on any OS.","body":"why you wanna make .sh file for linux only? i guess the beauty of java is cross platform you just need to install JRE and one single jar will run perfectly OK on any OS."},{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":0,"creation_date":1428055432,"post_id":29429976,"comment_id":47029757,"body_markdown":"I have tried making a .sh file but it doesn&#39;t work. The reason is because I have a main program that is fixed and written by someone else and I can only pass in my program as a Linux executable (not a .jar) to it. And I am developing it using Java.","body":"I have tried making a .sh file but it doesn&#39;t work. The reason is because I have a main program that is fixed and written by someone else and I can only pass in my program as a Linux executable (not a .jar) to it. And I am developing it using Java."},{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1428055471,"post_id":29429976,"comment_id":47029776,"body_markdown":"The easiest way is to dump the contents of the `.jar` into a [here doc](http://tldp.org/LDP/abs/html/here-docs.html) then write the rest of the script to unpack the data into a `.jar` and run it.","body":"The easiest way is to dump the contents of the <code>.jar</code> into a <a href=\"http://tldp.org/LDP/abs/html/here-docs.html\" rel=\"nofollow noreferrer\">here doc</a> then write the rest of the script to unpack the data into a <code>.jar</code> and run it."},{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":0,"creation_date":1428055565,"post_id":29429976,"comment_id":47029811,"body_markdown":"No it can&#39;t be a .jar. It has to be a Linux executable because I am passing it as an argument to another program. The program only takes Linux executable as an argument.","body":"No it can&#39;t be a .jar. It has to be a Linux executable because I am passing it as an argument to another program. The program only takes Linux executable as an argument."},{"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"score":1,"creation_date":1428056044,"post_id":29429976,"comment_id":47029992,"body_markdown":"@pythonhiew :  i guess you can also run jar using command like, java -jar fileName.jar. why don&#39;t you make a bash which run command and up your JAR.","body":"@pythonhiew :  i guess you can also run jar using command like, java -jar fileName.jar. why don&#39;t you make a bash which run command and up your JAR."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1428060416,"post_id":29429976,"comment_id":47031971,"body_markdown":"I don&#39;t see why .sh script would be any different than &quot;linux executable&quot;, it&#39;s executable as well. Large portion of linux executables are actually scripts - if that doesn&#39;t work then I don&#39;t see how any other executable would work either. Also: Launch4j is for creating native windows executables, I don&#39;t see how that would help you in Linux environment.","body":"I don&#39;t see why .sh script would be any different than &quot;linux executable&quot;, it&#39;s executable as well. Large portion of linux executables are actually scripts - if that doesn&#39;t work then I don&#39;t see how any other executable would work either. Also: Launch4j is for creating native windows executables, I don&#39;t see how that would help you in Linux environment."},{"owner":{"account_id":4503911,"reputation":1666,"user_id":3661794,"display_name":"muued"},"score":1,"creation_date":1428060976,"post_id":29429976,"comment_id":47032232,"body_markdown":"Make sure your .sh file is really executable (chmod +x yourfile.sh), maybe that&#39;s the problem. If the tool you are passing the shell script to doesn&#39;t like the .sh ending, just rename it omitting the .sh ending.","body":"Make sure your .sh file is really executable (chmod +x yourfile.sh), maybe that&#39;s the problem. If the tool you are passing the shell script to doesn&#39;t like the .sh ending, just rename it omitting the .sh ending."},{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":0,"creation_date":1428067178,"post_id":29429976,"comment_id":47035395,"body_markdown":"Hi folks thanks for all your sincere effort to help. I have found the solution and posted my answer below. Pretty useful and valuable after literally hours of searching on the internet and trying multiple different stuff.","body":"Hi folks thanks for all your sincere effort to help. I have found the solution and posted my answer below. Pretty useful and valuable after literally hours of searching on the internet and trying multiple different stuff."}],"answers":[{"tags":[],"owner":{"account_id":4171489,"reputation":479,"user_id":3419147,"display_name":"Bram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428062028,"creation_date":1428060088,"answer_id":29431246,"question_id":29429976,"body_markdown":"What you can do is make a tiny little C-program, that calls the one of the exec functions (see man 3 exec) to the &quot;java&quot; binary, passing &quot;-jar&quot;, &quot;xxx.jar&quot; as arguments, see also https://stackoverflow.com/questions/5270083/forking-a-new-process-in-c-and-executing-a-jar-file","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>What you can do is make a tiny little C-program, that calls the one of the exec functions (see man 3 exec) to the \"java\" binary, passing \"-jar\", \"xxx.jar\" as arguments, see also <a href=\"https://stackoverflow.com/questions/5270083/forking-a-new-process-in-c-and-executing-a-jar-file\">Forking a new process in C++ and executing a .jar file</a></p>\n"},{"tags":[],"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1428067474,"creation_date":1428066997,"answer_id":29432954,"question_id":29429976,"body_markdown":"I found a solution, which is exactly what I want after hours of searching and trying. It is to use the **gcj** command in linux. \r\n\r\nIt works like gcc for C and g++ for C++ which compile C or C++ programs into executables. \r\n\r\nFirst install gcj by using the terminal by typing:\r\n\r\n    sudo apt-get install gcj-jdk\r\n\r\nAfter that, cd into the directory of where the .jar file is located, let&#39;s say the .jar file is myFile.jar, then do:\r\n    \r\n    gcj myFile.jar -o newNameofTheFile --main=theMainClassNameofTheFile\r\n\r\nto compile the .jar file. And it should work like an executable by just running it in the command line like this:\r\n\r\n    ./newNameofTheFile\r\n\r\n\r\n\r\n\r\n\r\n    ","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>I found a solution, which is exactly what I want after hours of searching and trying. It is to use the <strong>gcj</strong> command in linux. </p>\n\n<p>It works like gcc for C and g++ for C++ which compile C or C++ programs into executables. </p>\n\n<p>First install gcj by using the terminal by typing:</p>\n\n<pre><code>sudo apt-get install gcj-jdk\n</code></pre>\n\n<p>After that, cd into the directory of where the .jar file is located, let's say the .jar file is myFile.jar, then do:</p>\n\n<pre><code>gcj myFile.jar -o newNameofTheFile --main=theMainClassNameofTheFile\n</code></pre>\n\n<p>to compile the .jar file. And it should work like an executable by just running it in the command line like this:</p>\n\n<pre><code>./newNameofTheFile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1141390,"reputation":1154,"user_id":1125191,"accept_rate":60,"display_name":"Dyorgio"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1534512902,"creation_date":1485264428,"answer_id":41829433,"question_id":29429976,"body_markdown":"Let&#39;s say that you have a runnable jar named helloworld.jar\r\n\r\nCopy the Bash script below to a file named stub.sh\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    #!/bin/sh\r\n    MYSELF=`which &quot;$0&quot; 2&gt;/dev/null`\r\n    [ $? -gt 0 -a -f &quot;$0&quot; ] &amp;&amp; MYSELF=&quot;./$0&quot;\r\n    java=java\r\n    if test -n &quot;$JAVA_HOME&quot;; then\r\n        java=&quot;$JAVA_HOME/bin/java&quot;\r\n    fi\r\n    java_args=-Xmx1g\r\n    exec &quot;$java&quot; $java_args -jar $MYSELF &quot;$@&quot;\r\n    exit 1 \r\n\r\nThan append the jar file to the saved script and grant the execute permission to the file resulting with the following command:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    cat stub.sh helloworld.jar &gt; helloworld.run &amp;&amp; chmod +x helloworld.run \r\n\r\nThat&#39;s all!\r\n\r\nNow you can execute the app just typing helloworld.run on your shell terminal.\r\n\r\nThe script is smart enough to pass any command line parameters to the Java application transparently.\r\n\r\nCredits: Paolo Di Tommaso\r\n\r\nSource: [https://coderwall.com/p/ssuaxa/how-to-make-a-jar-file-linux-executable][1]\r\n\r\n\r\n  [1]: https://coderwall.com/p/ssuaxa/how-to-make-a-jar-file-linux-executable","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>Let's say that you have a runnable jar named helloworld.jar</p>\n\n<p>Copy the Bash script below to a file named stub.sh</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/sh\nMYSELF=`which \"$0\" 2&gt;/dev/null`\n[ $? -gt 0 -a -f \"$0\" ] &amp;&amp; MYSELF=\"./$0\"\njava=java\nif test -n \"$JAVA_HOME\"; then\n    java=\"$JAVA_HOME/bin/java\"\nfi\njava_args=-Xmx1g\nexec \"$java\" $java_args -jar $MYSELF \"$@\"\nexit 1 \n</code></pre>\n\n<p>Than append the jar file to the saved script and grant the execute permission to the file resulting with the following command:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>cat stub.sh helloworld.jar &gt; helloworld.run &amp;&amp; chmod +x helloworld.run \n</code></pre>\n\n<p>That's all!</p>\n\n<p>Now you can execute the app just typing helloworld.run on your shell terminal.</p>\n\n<p>The script is smart enough to pass any command line parameters to the Java application transparently.</p>\n\n<p>Credits: Paolo Di Tommaso</p>\n\n<p>Source: <a href=\"https://coderwall.com/p/ssuaxa/how-to-make-a-jar-file-linux-executable\" rel=\"noreferrer\">https://coderwall.com/p/ssuaxa/how-to-make-a-jar-file-linux-executable</a></p>\n"},{"tags":[],"owner":{"account_id":1059897,"reputation":1791,"user_id":1061751,"accept_rate":20,"display_name":"czheo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571383053,"creation_date":1571382209,"answer_id":58445558,"question_id":29429976,"body_markdown":"Another simple trick to convert a jar to a Linux executable is just putting a shebang before the jar file.\r\n\r\nSay we have a hello.jar file.\r\n\r\n    $ java -jar hello.jar\r\n    hello world!\r\n\r\nYou can create an executable in following steps.\r\n\r\n    $ echo &quot;#! /usr/bin/env java -jar&quot; &gt; hello\r\n    $ cat hello.jar &gt;&gt; hello\r\n    $ chmod +x hello\r\n\r\nThen, you will be able to execute the hello file directly.\r\n\r\n    $ ./hello\r\n    hello world!","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>Another simple trick to convert a jar to a Linux executable is just putting a shebang before the jar file.</p>\n\n<p>Say we have a hello.jar file.</p>\n\n<pre><code>$ java -jar hello.jar\nhello world!\n</code></pre>\n\n<p>You can create an executable in following steps.</p>\n\n<pre><code>$ echo \"#! /usr/bin/env java -jar\" &gt; hello\n$ cat hello.jar &gt;&gt; hello\n$ chmod +x hello\n</code></pre>\n\n<p>Then, you will be able to execute the hello file directly.</p>\n\n<pre><code>$ ./hello\nhello world!\n</code></pre>\n"}],"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25413,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":29432954,"answer_count":4,"score":8,"last_activity_date":1697478501,"creation_date":1428055155,"question_id":29429976,"body_markdown":"I have been searching for many similar posts about this but I still can&#39;t find my answer. I want to convert a .java program into a Linux executable file, without the .jar extension. How can I do it? I am trying to use Launch4j java wrapper, JWrapper, IzPack, making a .sh, making a .bat, running it using java -jar myFile.jar etc. but none of them worked. Some procedures are complicated and difficult to debug. Is there any straightforward way to convert a .java file or .jar file into a Linux executable file? \r\n\r\nI need to pass this program as a Linux executable as a whole into another program that takes this program as an argument. ","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>I have been searching for many similar posts about this but I still can't find my answer. I want to convert a .java program into a Linux executable file, without the .jar extension. How can I do it? I am trying to use Launch4j java wrapper, JWrapper, IzPack, making a .sh, making a .bat, running it using java -jar myFile.jar etc. but none of them worked. Some procedures are complicated and difficult to debug. Is there any straightforward way to convert a .java file or .jar file into a Linux executable file? </p>\n\n<p>I need to pass this program as a Linux executable as a whole into another program that takes this program as an argument. </p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":5668267,"reputation":2415,"user_id":4483806,"display_name":"UDID"},"score":0,"creation_date":1697170644,"post_id":77285015,"comment_id":136248836,"body_markdown":"@RequestMapping path matches the form action in your HTML. ?","body":"@RequestMapping path matches the form action in your HTML. ?"},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697170763,"post_id":77285015,"comment_id":136248846,"body_markdown":"@UDID Yes. `th:action=&quot;@{/validateLogin}&quot;` and `@RequestMapping(path = &quot;/validateLogin&quot;, method = RequestMethod.POST)`","body":"@UDID Yes. <code>th:action=&quot;@{&#47;validateLogin}&quot;</code> and <code>@RequestMapping(path = &quot;&#47;validateLogin&quot;, method = RequestMethod.POST)</code>"},{"owner":{"account_id":5668267,"reputation":2415,"user_id":4483806,"display_name":"UDID"},"score":2,"creation_date":1697170958,"post_id":77285015,"comment_id":136248859,"body_markdown":"couple of thing. 1. is you debugger reaching to controller. as i can see you are returning `userName`. after that you must have to redirect ... something like that `return &quot;redirect:/home&quot;;` (whatevr the page you are looking like landing page)","body":"couple of thing. 1. is you debugger reaching to controller. as i can see you are returning <code>userName</code>. after that you must have to redirect ... something like that <code>return &quot;redirect:&#47;home&quot;;</code> (whatevr the page you are looking like landing page)"},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697220798,"post_id":77285015,"comment_id":136257476,"body_markdown":"@UDID. It is not even reaching the Controller and throwing the exception.","body":"@UDID. It is not even reaching the Controller and throwing the exception."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697354743,"post_id":77285015,"comment_id":136267528,"body_markdown":"Did you try removing the `action=&quot;#&quot;` from the `&lt;form&gt;` in the login.html?","body":"Did you try removing the <code>action=&quot;#&quot;</code> from the <code>&lt;form&gt;</code> in the login.html?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697355636,"post_id":77285015,"comment_id":136267596,"body_markdown":"And please also show the HTML in the browser (using the devtools). Where is the login.html file located?","body":"And please also show the HTML in the browser (using the devtools). Where is the login.html file located?"},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697356822,"post_id":77285015,"comment_id":136267683,"body_markdown":"@dan1st. Yes, I had removed the `action=&quot;#&quot;` and used `&lt;form class=&quot;row g-4&quot; th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot;&gt;`.  The `login.html` is located in `/src/main/resources/static`.","body":"@dan1st. Yes, I had removed the <code>action=&quot;#&quot;</code> and used <code>&lt;form class=&quot;row g-4&quot; th:action=&quot;@{&#47;validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot;&gt;</code>.  The <code>login.html</code> is located in <code>&#47;src&#47;main&#47;resources&#47;static</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697356971,"post_id":77285015,"comment_id":136267692,"body_markdown":"The `static` directory is served 1:1 without being processed by Thymeleaf as stated in the answer.","body":"The <code>static</code> directory is served 1:1 without being processed by Thymeleaf as stated in the answer."},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697357122,"post_id":77285015,"comment_id":136267698,"body_markdown":"Actually, i had set `spring.thymeleaf.enabled=false`, `spring.thymeleaf.check-template-location=false` in my `application.properties` for the time being, to get the basic thing to work first.","body":"Actually, i had set <code>spring.thymeleaf.enabled=false</code>, <code>spring.thymeleaf.check-template-location=false</code> in my <code>application.properties</code> for the time being, to get the basic thing to work first."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697357365,"post_id":77285015,"comment_id":136267718,"body_markdown":"Remove all the properties related to thymleaf from application.properties.","body":"Remove all the properties related to thymleaf from application.properties."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697469861,"creation_date":1697356260,"answer_id":77295720,"question_id":77285015,"body_markdown":"I have found the issue. There are multiple issues I have seen.\r\n\r\nDon&#39;t access **logic.html** directly by keep it into `/static`. It doesn&#39;t work in that way.\r\n\r\n---\r\n\r\n**Note:** By default, **Thymeleaf** checks for `.html` files in the `/templates` directory only.\r\n\r\n---\r\n\r\nFirst of all, your **logic.html** should be in the `/templates` directory and not in the `/static` directory.\r\n\r\n\r\nOn the other hand, you were trying to tell thymeleaf that you will populate/bind values in an object `userInfo` in the **logic.html** but where did you get that object. You didn&#39;t create and pass that object anywhere.\r\n\r\nSo, you will need to create and pass that **Users** (`userInfo`) object from controller to that page.\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**pom.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo-thymleaf&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo-thymleaf&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI have fixed your **login.html**:\r\n\r\n\r\n    &lt;!--&lt;div th:if=&quot;${param.error}&quot;&gt;Invalid username and/or password.&lt;/div&gt;--&gt;\r\n    &lt;form th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot; class=&quot;row g-4&quot;&gt;\r\n       &lt;div class=&quot;col-12&quot;&gt;\r\n          &lt;label&gt;Username&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n          &lt;div class=&quot;input-group&quot;&gt;\r\n             &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-person-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n             &lt;label&gt;\r\n             &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Username&quot; th:field=&quot;*{username}&quot;&gt;\r\n             &lt;/label&gt;\r\n          &lt;/div&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;col-12&quot;&gt;\r\n          &lt;label&gt;Password&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n          &lt;div class=&quot;input-group&quot;&gt;\r\n             &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-lock-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n             &lt;label&gt;\r\n             &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Password&quot; th:field=&quot;*{password}&quot;&gt;\r\n             &lt;/label&gt;\r\n          &lt;/div&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;col-sm-6&quot;&gt;\r\n          &lt;div class=&quot;form-check&quot;&gt;\r\n             &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; id=&quot;inlineFormCheck&quot;&gt;\r\n             &lt;label class=&quot;form-check-label&quot; for=&quot;inlineFormCheck&quot;&gt;Remember me&lt;/label&gt;\r\n          &lt;/div&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;col-sm-6&quot;&gt;\r\n          &lt;a href=&quot;#&quot; class=&quot;float-end text-primary&quot;&gt;Forgot Password?&lt;/a&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;col-12&quot;&gt;\r\n          &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary px-4 float-end mt-4&quot;&gt;login&lt;/button&gt;\r\n       &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nRemove the unnecessary `action=#` from `&lt;form&gt;` tag.\r\n\r\nI have prepared an Users class based on the info you have provided for testing.\r\n\r\n    public class Users {\r\n    \t\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \r\n        // constructor, getter and setters\r\n    }\r\n\r\nTo show success of `/validateLogin`, I have created a **success.html** too.\r\n\r\n    &lt;body&gt;\r\n    \t&lt;p&gt;User Name: &lt;strong th:text=&quot;${userInfo.username}&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\r\n    \t&lt;p&gt;Password: &lt;strong th:text=&quot;${userInfo.password}&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\r\n    &lt;/body&gt;\r\n\r\nUpdate the controller to something like this:\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class AuthenticationController {\r\n    \t\r\n    \t@GetMapping(&quot;login-page&quot;)\r\n        public ModelAndView loginPage(){\r\n    \t\tModelAndView view = new ModelAndView();\r\n    \t    view.setViewName(&quot;login&quot;);\r\n    \t    view.addObject(&quot;userInfo&quot;, new Users());\r\n    \t    return view;\r\n        }\r\n    \r\n        @PostMapping(&quot;validateLogin&quot;)\r\n        public ModelAndView validateLogin(@ModelAttribute Users userInfo){\r\n           ModelAndView view = new ModelAndView();\r\n           view.setViewName(&quot;success&quot;);\r\n           view.addObject(&quot;userInfo&quot;, userInfo);\r\n           return view;\r\n        }\r\n    }\r\n\r\n---\r\n**Note:** You have to create and pass an `Users` model object/bean with no data via `ModelAndView` to the respective `login.html` file via thymeleaf before the page is parsed/opened. \r\n\r\nBasically, it was expecting a plain target model object/bean for the bean name that you have used via `th:object` in the request attribute.\r\n\r\n&gt; By definition, the `th:object` attribute is used for binding the\r\n&gt; fields of the form to a model object.\r\n\r\nIn short, the thymeleaf doesn&#39;t have any idea from where `userInfo` will come as there is no model bean/object with that name exist when you declared `th:object=&quot;${userInfo}&quot;`. \r\n\r\nWhen you passed the field values from login page, `th:object` was trying to find the bean with the name in the spring container to the bind values but it couldn&#39;t find as you didn&#39;t pass any.\r\n\r\nSo, that&#39;s why, you got this error (which you probably missed to look at).\r\n\r\n    Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;userInfo&#39; available as request attribute\r\n\r\nTo fix this, you will have to provide a bean initially. That&#39;s all, I can explain.\r\n\r\nOutput:\r\n\r\n    http://localhost:8080/login-page\r\n\r\n[![enter image description here][2]][2]\r\n\r\nClick on the Submit button. It will call `http://localhost:8080/validateLogin`\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis will work.\r\n \r\nYou don&#39;t need to touch `application.properties` for thymeleaf unless you want to override default behaviour.\r\n\r\n**Update:**\r\n\r\nBy looking at your controller code [here][4], this needs a complete correction:\r\n\r\n**Change your controller code to this:**\r\n\r\n\r\n    import in.sandeep.campusconvene.model.Users;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.boot.web.servlet.error.ErrorController;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    /**\r\n     * The type RoutingController.\r\n     *\r\n     * @author sandeep\r\n     * @version 1.0\r\n     */\r\n    @RestController\r\n    public class RoutingController implements ErrorController {\r\n    \r\n        private static final String MAIN_APPLICATION_PATH = &quot;/&quot;;\r\n        private static final String LOGIN_VALIDATOR_PATH = &quot;/validateLogin&quot;;\r\n        private static final String ERROR_PATH = &quot;/error&quot;;\r\n    \r\n        private ModelAndView modelAndView = new ModelAndView();\r\n    \r\n        /**\r\n         * Gets Login Page.\r\n         *\r\n         * @return the Login Page\r\n         */\r\n        @RequestMapping(value = MAIN_APPLICATION_PATH, method = RequestMethod.GET)\r\n        public ModelAndView getLoginPage() {\r\n            modelAndView.setViewName(&quot;login&quot;);\r\n            modelAndView.addObject(&quot;userInfo&quot;, new Users());\r\n            return modelAndView;\r\n        }\r\n    \r\n        /**\r\n         * Handle Any Errors\r\n         *\r\n         * @return the Error Page\r\n         */\r\n        @RequestMapping(value = ERROR_PATH)\r\n        public ModelAndView handleError() {\r\n            modelAndView.setViewName(&quot;error_page&quot;);\r\n            return modelAndView;\r\n        }\r\n    \r\n        /**\r\n         * Validate Login.\r\n         *\r\n         * @param request the request\r\n         * @return the Home Page, if login is successful, else redirect to Login Page\r\n         */\r\n        @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\r\n        @ResponseStatus(value= HttpStatus.OK)\r\n        public ModelAndView validateLogin(@ModelAttribute Users userInfo){\r\n            modelAndView.setViewName(&quot;welcomePage&quot;); // REDIRECT TO USER HOME.\r\n            modelAndView.addObject (&quot;userInfo&quot;,userInfo);\r\n            System.out.println (&quot;ENTERED USERNAME =&gt; &quot; + userInfo.getUsername ());\r\n            System.out.println (&quot;ENTERED PASSWORD =&gt; &quot; + userInfo.getPassword ());\r\n            return modelAndView;\r\n        }\r\n    }\r\n\r\n**Fixes:**\r\n\r\n- I have removed all the `.html` word from all the `setViewName` method used. Use only the name of the html file in the `modelAndView.setViewName()`. For example: if you want to show *index.html*, then put `modelAndView.setViewName(&quot;index&quot;);`\r\n\r\n- Set `modelAndView.addObject(&quot;userInfo&quot;, new Users())` in the `/` GET endpoint;\r\n\r\n**Note:** Please create the **error_page.html** too. Your application is showing error that it&#39;s missing.\r\n\r\n**Screenshot:**\r\n\r\n**Welcome Back Page:**\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Login Page:**\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VgHYN.png\r\n  [2]: https://i.stack.imgur.com/GgPbv.png\r\n  [3]: https://i.stack.imgur.com/jhbzm.png\r\n  [4]: https://github.com/sndpchatterjee07/campusconvene\r\n  [5]: https://i.stack.imgur.com/ygnMa.png\r\n  [6]: https://i.stack.imgur.com/JwGwL.png","title":"org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported","body":"<p>I have found the issue. There are multiple issues I have seen.</p>\n<p>Don't access <strong>logic.html</strong> directly by keep it into <code>/static</code>. It doesn't work in that way.</p>\n<hr />\n<p><strong>Note:</strong> By default, <strong>Thymeleaf</strong> checks for <code>.html</code> files in the <code>/templates</code> directory only.</p>\n<hr />\n<p>First of all, your <strong>logic.html</strong> should be in the <code>/templates</code> directory and not in the <code>/static</code> directory.</p>\n<p>On the other hand, you were trying to tell thymeleaf that you will populate/bind values in an object <code>userInfo</code> in the <strong>logic.html</strong> but where did you get that object. You didn't create and pass that object anywhere.</p>\n<p>So, you will need to create and pass that <strong>Users</strong> (<code>userInfo</code>) object from controller to that page.</p>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/VgHYN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VgHYN.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-thymleaf&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo-thymleaf&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have fixed your <strong>login.html</strong>:</p>\n<pre><code>&lt;!--&lt;div th:if=&quot;${param.error}&quot;&gt;Invalid username and/or password.&lt;/div&gt;--&gt;\n&lt;form th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot; class=&quot;row g-4&quot;&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;label&gt;Username&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n      &lt;div class=&quot;input-group&quot;&gt;\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-person-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n         &lt;label&gt;\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Username&quot; th:field=&quot;*{username}&quot;&gt;\n         &lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;label&gt;Password&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n      &lt;div class=&quot;input-group&quot;&gt;\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-lock-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n         &lt;label&gt;\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Password&quot; th:field=&quot;*{password}&quot;&gt;\n         &lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-sm-6&quot;&gt;\n      &lt;div class=&quot;form-check&quot;&gt;\n         &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; id=&quot;inlineFormCheck&quot;&gt;\n         &lt;label class=&quot;form-check-label&quot; for=&quot;inlineFormCheck&quot;&gt;Remember me&lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-sm-6&quot;&gt;\n      &lt;a href=&quot;#&quot; class=&quot;float-end text-primary&quot;&gt;Forgot Password?&lt;/a&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary px-4 float-end mt-4&quot;&gt;login&lt;/button&gt;\n   &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Remove the unnecessary <code>action=#</code> from <code>&lt;form&gt;</code> tag.</p>\n<p>I have prepared an Users class based on the info you have provided for testing.</p>\n<pre><code>public class Users {\n    \n    private String username;\n    private String password;\n\n    // constructor, getter and setters\n}\n</code></pre>\n<p>To show success of <code>/validateLogin</code>, I have created a <strong>success.html</strong> too.</p>\n<pre><code>&lt;body&gt;\n    &lt;p&gt;User Name: &lt;strong th:text=&quot;${userInfo.username}&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\n    &lt;p&gt;Password: &lt;strong th:text=&quot;${userInfo.password}&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n<p>Update the controller to something like this:</p>\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class AuthenticationController {\n    \n    @GetMapping(&quot;login-page&quot;)\n    public ModelAndView loginPage(){\n        ModelAndView view = new ModelAndView();\n        view.setViewName(&quot;login&quot;);\n        view.addObject(&quot;userInfo&quot;, new Users());\n        return view;\n    }\n\n    @PostMapping(&quot;validateLogin&quot;)\n    public ModelAndView validateLogin(@ModelAttribute Users userInfo){\n       ModelAndView view = new ModelAndView();\n       view.setViewName(&quot;success&quot;);\n       view.addObject(&quot;userInfo&quot;, userInfo);\n       return view;\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Note:</strong> You have to create and pass an <code>Users</code> model object/bean with no data via <code>ModelAndView</code> to the respective <code>login.html</code> file via thymeleaf before the page is parsed/opened.</p>\n<p>Basically, it was expecting a plain target model object/bean for the bean name that you have used via <code>th:object</code> in the request attribute.</p>\n<blockquote>\n<p>By definition, the <code>th:object</code> attribute is used for binding the\nfields of the form to a model object.</p>\n</blockquote>\n<p>In short, the thymeleaf doesn't have any idea from where <code>userInfo</code> will come as there is no model bean/object with that name exist when you declared <code>th:object=&quot;${userInfo}&quot;</code>.</p>\n<p>When you passed the field values from login page, <code>th:object</code> was trying to find the bean with the name in the spring container to the bind values but it couldn't find as you didn't pass any.</p>\n<p>So, that's why, you got this error (which you probably missed to look at).</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'userInfo' available as request attribute\n</code></pre>\n<p>To fix this, you will have to provide a bean initially. That's all, I can explain.</p>\n<p>Output:</p>\n<pre><code>http://localhost:8080/login-page\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GgPbv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GgPbv.png\" alt=\"enter image description here\" /></a></p>\n<p>Click on the Submit button. It will call <code>http://localhost:8080/validateLogin</code></p>\n<p><a href=\"https://i.stack.imgur.com/jhbzm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jhbzm.png\" alt=\"enter image description here\" /></a></p>\n<p>This will work.</p>\n<p>You don't need to touch <code>application.properties</code> for thymeleaf unless you want to override default behaviour.</p>\n<p><strong>Update:</strong></p>\n<p>By looking at your controller code <a href=\"https://github.com/sndpchatterjee07/campusconvene\" rel=\"nofollow noreferrer\">here</a>, this needs a complete correction:</p>\n<p><strong>Change your controller code to this:</strong></p>\n<pre><code>import in.sandeep.campusconvene.model.Users;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.boot.web.servlet.error.ErrorController;\nimport org.springframework.core.Ordered;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.ModelAndView;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\n\nimport java.io.IOException;\n\n/**\n * The type RoutingController.\n *\n * @author sandeep\n * @version 1.0\n */\n@RestController\npublic class RoutingController implements ErrorController {\n\n    private static final String MAIN_APPLICATION_PATH = &quot;/&quot;;\n    private static final String LOGIN_VALIDATOR_PATH = &quot;/validateLogin&quot;;\n    private static final String ERROR_PATH = &quot;/error&quot;;\n\n    private ModelAndView modelAndView = new ModelAndView();\n\n    /**\n     * Gets Login Page.\n     *\n     * @return the Login Page\n     */\n    @RequestMapping(value = MAIN_APPLICATION_PATH, method = RequestMethod.GET)\n    public ModelAndView getLoginPage() {\n        modelAndView.setViewName(&quot;login&quot;);\n        modelAndView.addObject(&quot;userInfo&quot;, new Users());\n        return modelAndView;\n    }\n\n    /**\n     * Handle Any Errors\n     *\n     * @return the Error Page\n     */\n    @RequestMapping(value = ERROR_PATH)\n    public ModelAndView handleError() {\n        modelAndView.setViewName(&quot;error_page&quot;);\n        return modelAndView;\n    }\n\n    /**\n     * Validate Login.\n     *\n     * @param request the request\n     * @return the Home Page, if login is successful, else redirect to Login Page\n     */\n    @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\n    @ResponseStatus(value= HttpStatus.OK)\n    public ModelAndView validateLogin(@ModelAttribute Users userInfo){\n        modelAndView.setViewName(&quot;welcomePage&quot;); // REDIRECT TO USER HOME.\n        modelAndView.addObject (&quot;userInfo&quot;,userInfo);\n        System.out.println (&quot;ENTERED USERNAME =&gt; &quot; + userInfo.getUsername ());\n        System.out.println (&quot;ENTERED PASSWORD =&gt; &quot; + userInfo.getPassword ());\n        return modelAndView;\n    }\n}\n</code></pre>\n<p><strong>Fixes:</strong></p>\n<ul>\n<li><p>I have removed all the <code>.html</code> word from all the <code>setViewName</code> method used. Use only the name of the html file in the <code>modelAndView.setViewName()</code>. For example: if you want to show <em>index.html</em>, then put <code>modelAndView.setViewName(&quot;index&quot;);</code></p>\n</li>\n<li><p>Set <code>modelAndView.addObject(&quot;userInfo&quot;, new Users())</code> in the <code>/</code> GET endpoint;</p>\n</li>\n</ul>\n<p><strong>Note:</strong> Please create the <strong>error_page.html</strong> too. Your application is showing error that it's missing.</p>\n<p><strong>Screenshot:</strong></p>\n<p><strong>Welcome Back Page:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ygnMa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ygnMa.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Login Page:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/JwGwL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JwGwL.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77295720,"answer_count":1,"score":2,"last_activity_date":1697477819,"creation_date":1697170368,"question_id":77285015,"body_markdown":"I am working on the login module of my `Java`, `Springboot`, `React` and `Thymeleaf` application and I am encountering `org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported` when I submit the HTML login form. Not sure how to proceed. I have gone through similar posts but it did not help me resolve the issue.\r\n\r\n**Project Structure**\r\n\r\n[![Project Structure](https://i.stack.imgur.com/67KkJ.png)](https://i.stack.imgur.com/67KkJ.png)\r\n\r\n\r\n**login.html**\r\n\r\n```\r\n&lt;!--&lt;div th:if=&quot;${param.error}&quot;&gt;Invalid username and/or password.&lt;/div&gt;--&gt;\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot; class=&quot;row g-4&quot;&gt;\r\n   &lt;div class=&quot;col-12&quot;&gt;\r\n      &lt;label&gt;Username&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n      &lt;div class=&quot;input-group&quot;&gt;\r\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-person-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n         &lt;label&gt;\r\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Username&quot; th:field=&quot;*{username}&quot;&gt;\r\n         &lt;/label&gt;\r\n      &lt;/div&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=&quot;col-12&quot;&gt;\r\n      &lt;label&gt;Password&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n      &lt;div class=&quot;input-group&quot;&gt;\r\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-lock-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n         &lt;label&gt;\r\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Password&quot; th:field=&quot;*{password}&quot;&gt;\r\n         &lt;/label&gt;\r\n      &lt;/div&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=&quot;col-sm-6&quot;&gt;\r\n      &lt;div class=&quot;form-check&quot;&gt;\r\n         &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; id=&quot;inlineFormCheck&quot;&gt;\r\n         &lt;label class=&quot;form-check-label&quot; for=&quot;inlineFormCheck&quot;&gt;Remember me&lt;/label&gt;\r\n      &lt;/div&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=&quot;col-sm-6&quot;&gt;\r\n      &lt;a href=&quot;#&quot; class=&quot;float-end text-primary&quot;&gt;Forgot Password?&lt;/a&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=&quot;col-12&quot;&gt;\r\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary px-4 float-end mt-4&quot;&gt;login&lt;/button&gt;\r\n   &lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n```\r\n\r\n**AuthenticationController**\r\n\r\n```\r\nimport in.sandeep.campusconvene.model.Users;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller\r\npublic class AuthenticationController {\r\n\r\n    @RequestMapping(path = &quot;/validateLogin&quot;, method = RequestMethod.POST)\r\n    public String validateLogin(@ModelAttribute Users userInfo){\r\n        return userInfo.getUsername ();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Exception Stacktrace**\r\n\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nFri Oct 13 09:15:25 IST 2023\r\nThere was an unexpected error (type=Method Not Allowed, status=405).\r\nMethod &#39;POST&#39; is not supported.\r\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported\r\n\tat org.springframework.web.servlet.support.WebContentGenerator.checkRequest(WebContentGenerator.java:381)\r\n\tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:164)\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n \r\n```\r\n\r\nI am expecting to retrieve the `username` and `password` from the `login.html` and authenticate the user and route it to appropriate landing pages.\r\n\r\n\r\n\r\n\r\n**EDIT 1:**\r\n\r\nI have updated the code as below, removed the `AuthenticationController` class and created a `RoutingController` class which implements `org.springframework.boot.web.servlet.error.ErrorController` and `org.springframework.web.servlet.config.annotation.WebMvcConfigurer`.\r\n\r\n    import in.sandeep.campusconvene.model.Users;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import org.springframework.boot.web.servlet.error.ErrorController;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @RestController\r\n    public class RoutingController implements ErrorController, WebMvcConfigurer {\r\n    \r\n        private static final String MAIN_APPLICATION_PATH = &quot;/&quot;;\r\n        private static final String LOGIN_VALIDATOR_PATH = &quot;/validateLogin&quot;;\r\n        private static final String ERROR_PATH = &quot;/error&quot;;\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(MAIN_APPLICATION_PATH)\r\n                    .setViewName(&quot;forward:/login.html&quot;);\r\n            registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        }\r\n    \r\n        @RequestMapping(value = ERROR_PATH)\r\n        public String handleError(HttpServletRequest request) {\r\n            Integer statusCode = (Integer) request.getAttribute(&quot;javax.servlet.error.status_code&quot;);\r\n            Exception exception = (Exception) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n            return String.format(&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;%s&lt;/b&gt;&lt;/div&gt;&quot; +\r\n                            &quot;&lt;div&gt;Exception Message: &lt;b&gt;%s&lt;/b&gt;&lt;/div&gt;&lt;body&gt;&lt;/html&gt;&quot;,\r\n                    statusCode, exception == null ? &quot;N/A&quot; : exception.getMessage());\r\n        }\r\n    \r\n        @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\r\n        @ResponseStatus(value= HttpStatus.OK)\r\n        public String validateLogin(@RequestBody Users users, Model model){\r\n            System.out.println (&quot;INSIDE validateLogin.....&quot;);\r\n            return &quot;LET&#39;S AUTHENTICATE&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\nNow, when I am trying to submit the form, this is what I encounter on the browser and on the console respectively. It&#39;s not even reaching the `validateLogin` method.\r\n\r\nNeed help on how to get this sorted.\r\n\r\n[![Error Page][1]][1]\r\n\r\n\r\n    2023-10-14T12:17:15.890+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/&quot;, parameters={masked}\r\n    2023-10-14T12:17:15.891+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view=&quot;forward:/login.html&quot;]\r\n    2023-10-14T12:17:15.901+05:30  WARN 10130 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported]\r\n    2023-10-14T12:17:15.901+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\r\n    2023-10-14T12:17:15.902+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={masked}\r\n    2023-10-14T12:17:15.904+05:30 DEBUG 10130 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#handleError(HttpServletRequest)\r\n    2023-10-14T12:17:15.927+05:30 DEBUG 10130 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]\r\n    2023-10-14T12:17:15.928+05:30 DEBUG 10130 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Exception Message: &lt;b&gt;N/A&lt;/b&gt; (truncated)...&quot;]\r\n    2023-10-14T12:17:15.930+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405\r\n\r\n\r\n**EDIT 2:**\r\n\r\nWith the current version of `validateLogin` method\r\n\r\n    @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    public String validateLogin(HttpServletRequest request) {\r\n      String username = request.getParameter(&quot;username&quot;);\r\n      String password = request.getParameter(&quot;password&quot;);\r\n      return username + password;\r\n    }\r\n\r\nI am now getting a response as expected on the API Tester as well as on the console as below\r\n\r\n    2023-10-14T23:24:50.091+05:30 DEBUG 7663 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/validateLogin&quot;, parameters={masked}\r\n    2023-10-14T23:24:50.091+05:30 DEBUG 7663 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#validateLogin(HttpServletRequest)\r\n    2023-10-14T23:24:50.093+05:30 DEBUG 7663 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/plain&#39;, given [*/*] and supported [text/plain, */*, application/json, application/*+json]\r\n    2023-10-14T23:24:50.093+05:30 DEBUG 7663 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;user1 foo&quot;]\r\n    2023-10-14T23:24:50.094+05:30 DEBUG 7663 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n\r\n\r\n[![API Tester][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e3m6q.png\r\n  [2]: https://i.stack.imgur.com/KxLgR.png\r\n\r\n\r\nBut when I am trying to submit the form through the browser, I still encounter `405 METHOD_NOT_ALLOWED`\r\n\r\n\r\n    2023-10-14T23:28:30.723+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST &quot;/&quot;, parameters={masked}\r\n    2023-10-14T23:28:30.724+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view=&quot;forward:/login.html&quot;]\r\n    2023-10-14T23:28:30.724+05:30  WARN 7663 --- [io-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported]\r\n    2023-10-14T23:28:30.724+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\r\n    2023-10-14T23:28:30.725+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={masked}\r\n    2023-10-14T23:28:30.725+05:30 DEBUG 7663 --- [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#handleError(HttpServletRequest)\r\n    2023-10-14T23:28:30.727+05:30 DEBUG 7663 --- [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]\r\n    2023-10-14T23:28:30.728+05:30 DEBUG 7663 --- [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Exception Message: &lt;b&gt;N/A&lt;/b&gt; (truncated)...&quot;]\r\n    2023-10-14T23:28:30.729+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405","title":"org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported","body":"<p>I am working on the login module of my <code>Java</code>, <code>Springboot</code>, <code>React</code> and <code>Thymeleaf</code> application and I am encountering <code>org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported</code> when I submit the HTML login form. Not sure how to proceed. I have gone through similar posts but it did not help me resolve the issue.</p>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/67KkJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67KkJ.png\" alt=\"Project Structure\" /></a></p>\n<p><strong>login.html</strong></p>\n<pre><code>&lt;!--&lt;div th:if=&quot;${param.error}&quot;&gt;Invalid username and/or password.&lt;/div&gt;--&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot; class=&quot;row g-4&quot;&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;label&gt;Username&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n      &lt;div class=&quot;input-group&quot;&gt;\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-person-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n         &lt;label&gt;\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Username&quot; th:field=&quot;*{username}&quot;&gt;\n         &lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;label&gt;Password&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n      &lt;div class=&quot;input-group&quot;&gt;\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-lock-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n         &lt;label&gt;\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Password&quot; th:field=&quot;*{password}&quot;&gt;\n         &lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-sm-6&quot;&gt;\n      &lt;div class=&quot;form-check&quot;&gt;\n         &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; id=&quot;inlineFormCheck&quot;&gt;\n         &lt;label class=&quot;form-check-label&quot; for=&quot;inlineFormCheck&quot;&gt;Remember me&lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-sm-6&quot;&gt;\n      &lt;a href=&quot;#&quot; class=&quot;float-end text-primary&quot;&gt;Forgot Password?&lt;/a&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary px-4 float-end mt-4&quot;&gt;login&lt;/button&gt;\n   &lt;/div&gt;\n&lt;/form&gt;\n\n</code></pre>\n<p><strong>AuthenticationController</strong></p>\n<pre><code>import in.sandeep.campusconvene.model.Users;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\npublic class AuthenticationController {\n\n    @RequestMapping(path = &quot;/validateLogin&quot;, method = RequestMethod.POST)\n    public String validateLogin(@ModelAttribute Users userInfo){\n        return userInfo.getUsername ();\n    }\n}\n\n</code></pre>\n<p><strong>Exception Stacktrace</strong></p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nFri Oct 13 09:15:25 IST 2023\nThere was an unexpected error (type=Method Not Allowed, status=405).\nMethod 'POST' is not supported.\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported\n    at org.springframework.web.servlet.support.WebContentGenerator.checkRequest(WebContentGenerator.java:381)\n    at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:164)\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n \n</code></pre>\n<p>I am expecting to retrieve the <code>username</code> and <code>password</code> from the <code>login.html</code> and authenticate the user and route it to appropriate landing pages.</p>\n<p><strong>EDIT 1:</strong></p>\n<p>I have updated the code as below, removed the <code>AuthenticationController</code> class and created a <code>RoutingController</code> class which implements <code>org.springframework.boot.web.servlet.error.ErrorController</code> and <code>org.springframework.web.servlet.config.annotation.WebMvcConfigurer</code>.</p>\n<pre><code>import in.sandeep.campusconvene.model.Users;\nimport jakarta.servlet.http.HttpServletRequest;\nimport org.springframework.boot.web.servlet.error.ErrorController;\nimport org.springframework.core.Ordered;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@RestController\npublic class RoutingController implements ErrorController, WebMvcConfigurer {\n\n    private static final String MAIN_APPLICATION_PATH = &quot;/&quot;;\n    private static final String LOGIN_VALIDATOR_PATH = &quot;/validateLogin&quot;;\n    private static final String ERROR_PATH = &quot;/error&quot;;\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(MAIN_APPLICATION_PATH)\n                .setViewName(&quot;forward:/login.html&quot;);\n        registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    }\n\n    @RequestMapping(value = ERROR_PATH)\n    public String handleError(HttpServletRequest request) {\n        Integer statusCode = (Integer) request.getAttribute(&quot;javax.servlet.error.status_code&quot;);\n        Exception exception = (Exception) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\n        return String.format(&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;%s&lt;/b&gt;&lt;/div&gt;&quot; +\n                        &quot;&lt;div&gt;Exception Message: &lt;b&gt;%s&lt;/b&gt;&lt;/div&gt;&lt;body&gt;&lt;/html&gt;&quot;,\n                statusCode, exception == null ? &quot;N/A&quot; : exception.getMessage());\n    }\n\n    @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\n    @ResponseStatus(value= HttpStatus.OK)\n    public String validateLogin(@RequestBody Users users, Model model){\n        System.out.println (&quot;INSIDE validateLogin.....&quot;);\n        return &quot;LET'S AUTHENTICATE&quot;;\n    }\n}\n</code></pre>\n<p>Now, when I am trying to submit the form, this is what I encounter on the browser and on the console respectively. It's not even reaching the <code>validateLogin</code> method.</p>\n<p>Need help on how to get this sorted.</p>\n<p><a href=\"https://i.stack.imgur.com/e3m6q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e3m6q.png\" alt=\"Error Page\" /></a></p>\n<pre><code>2023-10-14T12:17:15.890+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/&quot;, parameters={masked}\n2023-10-14T12:17:15.891+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view=&quot;forward:/login.html&quot;]\n2023-10-14T12:17:15.901+05:30  WARN 10130 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]\n2023-10-14T12:17:15.901+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\n2023-10-14T12:17:15.902+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={masked}\n2023-10-14T12:17:15.904+05:30 DEBUG 10130 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#handleError(HttpServletRequest)\n2023-10-14T12:17:15.927+05:30 DEBUG 10130 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]\n2023-10-14T12:17:15.928+05:30 DEBUG 10130 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Exception Message: &lt;b&gt;N/A&lt;/b&gt; (truncated)...&quot;]\n2023-10-14T12:17:15.930+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405\n</code></pre>\n<p><strong>EDIT 2:</strong></p>\n<p>With the current version of <code>validateLogin</code> method</p>\n<pre><code>@RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\n@ResponseStatus(value = HttpStatus.OK)\npublic String validateLogin(HttpServletRequest request) {\n  String username = request.getParameter(&quot;username&quot;);\n  String password = request.getParameter(&quot;password&quot;);\n  return username + password;\n}\n</code></pre>\n<p>I am now getting a response as expected on the API Tester as well as on the console as below</p>\n<pre><code>2023-10-14T23:24:50.091+05:30 DEBUG 7663 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/validateLogin&quot;, parameters={masked}\n2023-10-14T23:24:50.091+05:30 DEBUG 7663 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#validateLogin(HttpServletRequest)\n2023-10-14T23:24:50.093+05:30 DEBUG 7663 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]\n2023-10-14T23:24:50.093+05:30 DEBUG 7663 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;user1 foo&quot;]\n2023-10-14T23:24:50.094+05:30 DEBUG 7663 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KxLgR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KxLgR.png\" alt=\"API Tester\" /></a></p>\n<p>But when I am trying to submit the form through the browser, I still encounter <code>405 METHOD_NOT_ALLOWED</code></p>\n<pre><code>2023-10-14T23:28:30.723+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST &quot;/&quot;, parameters={masked}\n2023-10-14T23:28:30.724+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view=&quot;forward:/login.html&quot;]\n2023-10-14T23:28:30.724+05:30  WARN 7663 --- [io-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]\n2023-10-14T23:28:30.724+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\n2023-10-14T23:28:30.725+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={masked}\n2023-10-14T23:28:30.725+05:30 DEBUG 7663 --- [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#handleError(HttpServletRequest)\n2023-10-14T23:28:30.727+05:30 DEBUG 7663 --- [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]\n2023-10-14T23:28:30.728+05:30 DEBUG 7663 --- [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Exception Message: &lt;b&gt;N/A&lt;/b&gt; (truncated)...&quot;]\n2023-10-14T23:28:30.729+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405\n</code></pre>\n"},{"tags":["java","android","xml","listview"],"answers":[{"tags":[],"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"down_vote_count":1,"up_vote_count":498,"is_accepted":true,"score":497,"last_activity_date":1385311598,"creation_date":1385311088,"answer_id":20177019,"question_id":20177003,"body_markdown":"Change\r\n\r\n    dateTime.setText(app.getTotalDl());\r\n\r\nTo\r\n\r\n    dateTime.setText(String.valueOf(app.getTotalDl()));\r\n\r\nThere are different versions of `setText` - one takes a String and one takes an int resource id. If you pass it an integer it will try to look for the corresponding string resource id - which it can&#39;t find, which is your error.\r\n\r\nI guess `app.getTotalDl()` returns an int. You need to specifically tell `setText` to set it to the String value of this int.\r\n\r\n[setText (int resid)][1] vs [ setText (CharSequence text)][2]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/TextView.html#setText%28int%29\r\n  [2]: http://developer.android.com/reference/android/widget/TextView.html#setText%28java.lang.CharSequence%29","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>Change</p>\n\n<pre><code>dateTime.setText(app.getTotalDl());\n</code></pre>\n\n<p>To</p>\n\n<pre><code>dateTime.setText(String.valueOf(app.getTotalDl()));\n</code></pre>\n\n<p>There are different versions of <code>setText</code> - one takes a String and one takes an int resource id. If you pass it an integer it will try to look for the corresponding string resource id - which it can't find, which is your error.</p>\n\n<p>I guess <code>app.getTotalDl()</code> returns an int. You need to specifically tell <code>setText</code> to set it to the String value of this int.</p>\n\n<p><a href=\"http://developer.android.com/reference/android/widget/TextView.html#setText%28int%29\">setText (int resid)</a> vs <a href=\"http://developer.android.com/reference/android/widget/TextView.html#setText%28java.lang.CharSequence%29\"> setText (CharSequence text)</a></p>\n"},{"tags":[],"owner":{"account_id":7907921,"reputation":1533,"user_id":5972828,"accept_rate":40,"display_name":"Soni Kumar"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1472899945,"creation_date":1472893581,"answer_id":39305183,"question_id":20177003,"body_markdown":"Replace\r\n\r\n    dateTime.setText(app.getTotalDl());\r\n\r\nWith\r\n\r\n    dateTime.setText(&quot;&quot;+app.getTotalDl());","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>Replace</p>\n\n<pre><code>dateTime.setText(app.getTotalDl());\n</code></pre>\n\n<p>With</p>\n\n<pre><code>dateTime.setText(\"\"+app.getTotalDl());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10530972,"reputation":11,"user_id":7760327,"display_name":"Shayona Consultant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490365331,"creation_date":1490360194,"answer_id":43000108,"question_id":20177003,"body_markdown":"When you try to set text in `Edittext` or `textview` you\r\nshould pass only String format.\r\n\r\n    dateTime.setText(app.getTotalDl());\r\n\r\nto\r\n\r\n    dateTime.setText(String.valueOf(app.getTotalDl()));","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>When you try to set text in <code>Edittext</code> or <code>textview</code> you\nshould pass only String format.</p>\n\n<pre><code>dateTime.setText(app.getTotalDl());\n</code></pre>\n\n<p>to</p>\n\n<pre><code>dateTime.setText(String.valueOf(app.getTotalDl()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5539585,"reputation":6127,"user_id":5710014,"accept_rate":37,"display_name":"blackHawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514804194,"creation_date":1514804194,"answer_id":48049073,"question_id":20177003,"body_markdown":"The evaluated value for settext was integer so it went to see a resource attached to it but it was not found, you wanted to set text so it should be string so convert integer into string by attaching `.toStringe`  or `String.valueOf(int)` will solve your problem!","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>The evaluated value for settext was integer so it went to see a resource attached to it but it was not found, you wanted to set text so it should be string so convert integer into string by attaching <code>.toStringe</code>  or <code>String.valueOf(int)</code> will solve your problem!</p>\n"},{"tags":[],"owner":{"account_id":15673812,"reputation":701,"user_id":11309536,"display_name":"Om Prakash Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571153295,"creation_date":1567678564,"answer_id":57803255,"question_id":20177003,"body_markdown":"You can do it. this is a easy way.\r\n\r\n \r\n\r\n    txtTopicNo.setText(10+&quot;&quot;);","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>You can do it. this is a easy way.</p>\n\n<pre><code>txtTopicNo.setText(10+\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14943891,"reputation":1727,"user_id":10789722,"display_name":"MEGHA RAMOLIYA"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570183772,"creation_date":1570181601,"answer_id":58233662,"question_id":20177003,"body_markdown":"If we get the value as `int` and we set it to `String`, the error occurs. PFB my solution,\r\n    \r\n    Textview = tv_property_count;\r\n    int property_id;\r\n    tv_property_count.setText(String.valueOf(property_id));","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>If we get the value as <code>int</code> and we set it to <code>String</code>, the error occurs. PFB my solution,</p>\n\n<pre><code>Textview = tv_property_count;\nint property_id;\ntv_property_count.setText(String.valueOf(property_id));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5318793,"reputation":703,"user_id":4242794,"accept_rate":60,"display_name":"S Kranthi Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578983821,"creation_date":1578983821,"answer_id":59728623,"question_id":20177003,"body_markdown":"if you get the values in int you have to use string for that it is throwing the error\r\n\r\nbefore\r\n\r\n      holder.villageName.setText(villageModelList.get(position).getVillageName());\r\n        holder.villageCount.setText(villageModelList.get(position).getPeopleCount());\r\n        holder.peopleCount.setText(villageModelList.get(position).getPeopleCount());\r\n\r\nafter\r\n\r\n      holder.villageName.setText(villageModelList.get(position).getVillageName());\r\n        holder.villageCount.setText(String.valueOf(villageModelList.get(position).getPeopleCount()));\r\n        holder.peopleCount.setText(String.valueOf(villageModelList.get(position).getPeopleCount()));\r\n\r\n\r\nyou can solve the error by adding the **String.valueOf**","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>if you get the values in int you have to use string for that it is throwing the error</p>\n\n<p>before</p>\n\n<pre><code>  holder.villageName.setText(villageModelList.get(position).getVillageName());\n    holder.villageCount.setText(villageModelList.get(position).getPeopleCount());\n    holder.peopleCount.setText(villageModelList.get(position).getPeopleCount());\n</code></pre>\n\n<p>after</p>\n\n<pre><code>  holder.villageName.setText(villageModelList.get(position).getVillageName());\n    holder.villageCount.setText(String.valueOf(villageModelList.get(position).getPeopleCount()));\n    holder.peopleCount.setText(String.valueOf(villageModelList.get(position).getPeopleCount()));\n</code></pre>\n\n<p>you can solve the error by adding the <strong>String.valueOf</strong></p>\n"},{"tags":[],"owner":{"account_id":19939560,"reputation":217,"user_id":14611548,"display_name":"Ronnie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629192073,"creation_date":1629191601,"answer_id":68814708,"question_id":20177003,"body_markdown":"If you are using Kotlin\r\n```\r\ndateTime.setText(\r\n    app.getTotalDl().toString()\r\n)\r\n```\r\nIf the problem persists and you are using `data binding` in case, please recheck your `android:text` attribute.","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>If you are using Kotlin</p>\n<pre><code>dateTime.setText(\n    app.getTotalDl().toString()\n)\n</code></pre>\n<p>If the problem persists and you are using <code>data binding</code> in case, please recheck your <code>android:text</code> attribute.</p>\n"},{"tags":[],"owner":{"account_id":24253117,"reputation":1,"user_id":18203903,"display_name":"Spineli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697477077,"creation_date":1697477077,"answer_id":77303866,"question_id":20177003,"body_markdown":"You can use\r\n\r\n    dateTime.setText(String.valueOf(app.getTotalDl()));\r\n\r\nor \r\n\r\n    dateTime.setText(app.getTotalDl() + &quot;&quot;);\r\n\r\nWhen the data is not String","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>You can use</p>\n<pre><code>dateTime.setText(String.valueOf(app.getTotalDl()));\n</code></pre>\n<p>or</p>\n<pre><code>dateTime.setText(app.getTotalDl() + &quot;&quot;);\n</code></pre>\n<p>When the data is not String</p>\n"}],"owner":{"account_id":3439296,"reputation":2340,"user_id":2881604,"accept_rate":52,"display_name":"user2881604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139725,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"accepted_answer_id":20177019,"answer_count":9,"score":173,"last_activity_date":1697477077,"creation_date":1385311013,"question_id":20177003,"body_markdown":"I&#39;m developing an Android app which reads data from MySQL database and I faced this error. I have this XML layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n    android:layout_width=&quot;match_parent&quot; \r\n    android:layout_height=&quot;match_parent&quot; \r\n    android:orientation=&quot;vertical&quot; &gt; \r\n    \r\n           \t        \r\n            &lt;TextView android:id=&quot;@+id/wardNumber&quot; \r\n\t            android:layout_width=&quot;wrap_content&quot; \r\n\t            android:layout_height=&quot;wrap_content&quot; \r\n\t          \tandroid:layout_marginLeft=&quot;3dp&quot; \r\n\t            android:text=&quot;Ward Number&quot; \r\n\t            android:textSize=&quot;22dp&quot;/&gt; \r\n            \r\n                           \r\n            &lt;TextView android:id=&quot;@+id/dateTime&quot; \r\n                android:layout_width=&quot;wrap_content&quot; \r\n                android:layout_height=&quot;wrap_content&quot; \r\n                android:layout_below=&quot;@id/wardNumber&quot; \r\n                android:layout_alignParentRight=&quot;true&quot; \r\n                android:layout_marginRight=&quot;3dp&quot; \r\n                android:text=&quot;Date-Time&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/name&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignBaseline=&quot;@+id/dateTime&quot;\r\n                android:layout_alignBottom=&quot;@+id/dateTime&quot;\r\n                android:layout_alignLeft=&quot;@+id/wardNumber&quot;\r\n                android:layout_marginLeft=&quot;3dp&quot; \r\n                android:text=&quot;Name&quot; /&gt;\r\n                \r\n    &lt;/RelativeLayout&gt; \r\n\r\n\r\nAnd this is the my Java file:\r\n\r\n\r\n    \r\n    public ApplicationAdapter(Context context, List&lt;Application&gt; items) {\r\n        super(context, R.layout.app_custom_list, items);\r\n        this.items = items;\r\n    }\r\n    \r\n    @Override\r\n    public int getCount() {\r\n        return items.size();\r\n    }\r\n    \r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        View v = convertView;\r\n        \r\n        if(v == null) {\r\n            LayoutInflater li = LayoutInflater.from(getContext());\r\n            v = li.inflate(R.layout.app_custom_list, null);            \r\n        }\r\n        \r\n        Application app = items.get(position);\r\n        \r\n        if(app != null) {\r\n          //  ImageView icon = (ImageView)v.findViewById(R.id.appIcon);\r\n            TextView wardNumber = (TextView)v.findViewById(R.id.wardNumber);\r\n            TextView name = (TextView)v.findViewById(R.id.name);\r\n          //  LinearLayout ratingCntr = (LinearLayout)v.findViewById(R.id.ratingCntr);\r\n            TextView dateTime = (TextView)v.findViewById(R.id.dateTime);\r\n            \r\n      //      if(icon != null) {\r\n      //          Resources res = getContext().getResources();\r\n       //         String sIcon = &quot;com.sj.jsondemo:drawable/&quot; + app.getIcon();\r\n       //         icon.setImageDrawable(res.getDrawable(res.getIdentifier(sIcon, null, null)));\r\n       //     }\r\n            \r\n            if(wardNumber != null) wardNumber.setText(app.getTitle());\r\n            \r\n            if(name != null) name.setText(app.getTitle());\r\n            \r\n            if(dateTime != null) {\r\n            \tdateTime.setText(app.getTotalDl());\r\n              //  NumberFormat nf = NumberFormat.getNumberInstance();\r\n              //  dateTime.setText(nf.format(app.getTotalDl())+&quot; dl&quot;);            \r\n            }\r\n            \r\n           \r\n        }\r\n        \r\n        return v;\r\n    }\r\n    }\r\n\r\n\r\nWhen this Activity is called, I receive this error message:\r\n\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251):  FATAL EXCEPTION: main\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): android.content.res.Resources$NotFoundException: String resource ID #0x0\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.content.res.Resources.getText(Resources.java:201)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.TextView.setText(TextView.java:2863)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat com.sj.jsondemo.Appl icationAdapter.getView(ApplicationAdapter.java:53)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.AbsListView.obtainView(AbsListView.java:1430)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.ListView.measureHeightOfChildren(ListView.java:1216)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.ListView.onMeasure(ListView.java:1127)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1017)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.LinearLayout.measureHorizontal(LinearLayout.java:701)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.LinearLayout.onMeasure(LinearLayout.java:311)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.LinearLayout.measureVertical(LinearLayout.java:531)\r\n    11-24 21:12:03.633: E/AndroidRuntime(1251): \tat android.widget.LinearLayout.onMeasure(LinearLayout.java:309)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat  android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.ViewRoot.performTraversals(ViewRoot.java:839)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.ViewRoot.handleMessage(ViewRoot.java:1859)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.os.Looper.loop(Looper.java:130)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.app.ActivityThread.main(ActivityThread.java:3683)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat java.lang.reflect.Method.invoke(Method.java:507)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat dalvik.system.NativeStart.main(Native Method)\r\n    11-24 21:12:08.922: I/Process(1251): Sending signal. PID: 1251 SIG: 9\r\n\r\n\r\n\r\n\r\nI don&#39;t know how to fix this error.\r\n\r\n","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>I'm developing an Android app which reads data from MySQL database and I faced this error. I have this XML layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" \nandroid:layout_width=\"match_parent\" \nandroid:layout_height=\"match_parent\" \nandroid:orientation=\"vertical\" &gt; \n\n\n        &lt;TextView android:id=\"@+id/wardNumber\" \n            android:layout_width=\"wrap_content\" \n            android:layout_height=\"wrap_content\" \n            android:layout_marginLeft=\"3dp\" \n            android:text=\"Ward Number\" \n            android:textSize=\"22dp\"/&gt; \n\n\n        &lt;TextView android:id=\"@+id/dateTime\" \n            android:layout_width=\"wrap_content\" \n            android:layout_height=\"wrap_content\" \n            android:layout_below=\"@id/wardNumber\" \n            android:layout_alignParentRight=\"true\" \n            android:layout_marginRight=\"3dp\" \n            android:text=\"Date-Time\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/name\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignBaseline=\"@+id/dateTime\"\n            android:layout_alignBottom=\"@+id/dateTime\"\n            android:layout_alignLeft=\"@+id/wardNumber\"\n            android:layout_marginLeft=\"3dp\" \n            android:text=\"Name\" /&gt;\n\n&lt;/RelativeLayout&gt; \n</code></pre>\n\n<p>And this is the my Java file:</p>\n\n<pre><code>public ApplicationAdapter(Context context, List&lt;Application&gt; items) {\n    super(context, R.layout.app_custom_list, items);\n    this.items = items;\n}\n\n@Override\npublic int getCount() {\n    return items.size();\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View v = convertView;\n\n    if(v == null) {\n        LayoutInflater li = LayoutInflater.from(getContext());\n        v = li.inflate(R.layout.app_custom_list, null);            \n    }\n\n    Application app = items.get(position);\n\n    if(app != null) {\n      //  ImageView icon = (ImageView)v.findViewById(R.id.appIcon);\n        TextView wardNumber = (TextView)v.findViewById(R.id.wardNumber);\n        TextView name = (TextView)v.findViewById(R.id.name);\n      //  LinearLayout ratingCntr = (LinearLayout)v.findViewById(R.id.ratingCntr);\n        TextView dateTime = (TextView)v.findViewById(R.id.dateTime);\n\n  //      if(icon != null) {\n  //          Resources res = getContext().getResources();\n   //         String sIcon = \"com.sj.jsondemo:drawable/\" + app.getIcon();\n   //         icon.setImageDrawable(res.getDrawable(res.getIdentifier(sIcon, null, null)));\n   //     }\n\n        if(wardNumber != null) wardNumber.setText(app.getTitle());\n\n        if(name != null) name.setText(app.getTitle());\n\n        if(dateTime != null) {\n            dateTime.setText(app.getTotalDl());\n          //  NumberFormat nf = NumberFormat.getNumberInstance();\n          //  dateTime.setText(nf.format(app.getTotalDl())+\" dl\");            \n        }\n\n\n    }\n\n    return v;\n}\n}\n</code></pre>\n\n<p>When this Activity is called, I receive this error message:</p>\n\n<pre><code>11-24 21:12:03.633:  E/AndroidRuntime(1251):  FATAL EXCEPTION: main\n11-24 21:12:03.633:  E/AndroidRuntime(1251): android.content.res.Resources$NotFoundException: String resource ID #0x0\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.content.res.Resources.getText(Resources.java:201)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.TextView.setText(TextView.java:2863)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.sj.jsondemo.Appl icationAdapter.getView(ApplicationAdapter.java:53)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.AbsListView.obtainView(AbsListView.java:1430)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.ListView.measureHeightOfChildren(ListView.java:1216)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.ListView.onMeasure(ListView.java:1127)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1017)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:701)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:311)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:531)\n11-24 21:12:03.633: E/AndroidRuntime(1251):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:309)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at  android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewRoot.performTraversals(ViewRoot.java:839)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewRoot.handleMessage(ViewRoot.java:1859)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.os.Handler.dispatchMessage(Handler.java:99)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.os.Looper.loop(Looper.java:130)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.app.ActivityThread.main(ActivityThread.java:3683)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at java.lang.reflect.Method.invokeNative(Native Method)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at java.lang.reflect.Method.invoke(Method.java:507)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at dalvik.system.NativeStart.main(Native Method)\n11-24 21:12:08.922: I/Process(1251): Sending signal. PID: 1251 SIG: 9\n</code></pre>\n\n<p>I don't know how to fix this error.</p>\n"},{"tags":["java","sftp","jsch","public-key","key-pair"],"answers":[{"tags":[],"owner":{"account_id":329091,"reputation":996,"user_id":2654084,"display_name":"Ben Damer"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1431409317,"creation_date":1431409317,"answer_id":30182638,"question_id":30178936,"body_markdown":"Disabling the `StrictHostKeyChecking` option will make the connection less secure than having the option enabled, because it will let you connect to remote servers without verifying their SSH host keys. If the option is enabled, you will only be able to connect to servers which keys are known to your SSH client. \r\n\r\nYou will have to decide what that means for your specific use case - are the servers you are connecting on a private, local network or do you connect over the internet? Is this a testing or production environment? \r\n\r\nWhen in doubt, it is better to err on the side of more security. I would recommend enabling `StricktHostKeyChecking` and using the [`setKnownHosts` method][1] to provide a file which contains the remote host keys.\r\n\r\n\r\n  [1]: http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#setKnownHosts(java.lang.String)","title":"JSch SFTP security with session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);","body":"<p>Disabling the <code>StrictHostKeyChecking</code> option will make the connection less secure than having the option enabled, because it will let you connect to remote servers without verifying their SSH host keys. If the option is enabled, you will only be able to connect to servers which keys are known to your SSH client. </p>\n\n<p>You will have to decide what that means for your specific use case - are the servers you are connecting on a private, local network or do you connect over the internet? Is this a testing or production environment? </p>\n\n<p>When in doubt, it is better to err on the side of more security. I would recommend enabling <code>StricktHostKeyChecking</code> and using the <a href=\"http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#setKnownHosts(java.lang.String)\" rel=\"noreferrer\"><code>setKnownHosts</code> method</a> to provide a file which contains the remote host keys.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561452092,"creation_date":1431409393,"answer_id":30182652,"question_id":30178936,"body_markdown":"Yes, it will make the connection (and the transfer) less secure. Particularly, it makes the connection open to [Man-in-the-middle attacks](https://en.wikipedia.org/wiki/Man-in-the-middle_attack).\r\n\r\nYou should never set the `StrictHostKeyChecking` to `no`, unless you do not care about security (such as when connecting within a private network).\r\n\r\nIt&#39;s not true that *&quot;Without this line, JSch does not work&quot;*. You just have to make your code accept the expected server&#39;s host key. Either via the [`setKnownHosts`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setKnownHosts-java.lang.String-) or the [`setHostKeyRepository`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setHostKeyRepository-com.jcraft.jsch.HostKeyRepository-) methods.\r\n\r\nFor examples, see https://stackoverflow.com/q/32852906/850848\r\n\r\n---\r\n\r\nYou can read my article on [verifying the host key](https://winscp.net/eng/docs/ssh_verifying_the_host_key) to understand its importance. It&#39;s about WinSCP SSH/SFTP client, but it&#39;s generally true for any SSH client/library.","title":"JSch SFTP security with session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);","body":"<p>Yes, it will make the connection (and the transfer) less secure. Particularly, it makes the connection open to <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noreferrer\">Man-in-the-middle attacks</a>.</p>\n\n<p>You should never set the <code>StrictHostKeyChecking</code> to <code>no</code>, unless you do not care about security (such as when connecting within a private network).</p>\n\n<p>It's not true that <em>\"Without this line, JSch does not work\"</em>. You just have to make your code accept the expected server's host key. Either via the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setKnownHosts-java.lang.String-\" rel=\"nofollow noreferrer\"><code>setKnownHosts</code></a> or the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setHostKeyRepository-com.jcraft.jsch.HostKeyRepository-\" rel=\"nofollow noreferrer\"><code>setHostKeyRepository</code></a> methods.</p>\n\n<p>For examples, see <a href=\"https://stackoverflow.com/q/32852906/850848\">How to resolve Java UnknownHostKey, while using JSch SFTP library?</a></p>\n\n<hr>\n\n<p>You can read my article on <a href=\"https://winscp.net/eng/docs/ssh_verifying_the_host_key\" rel=\"nofollow noreferrer\">verifying the host key</a> to understand its importance. It's about WinSCP SSH/SFTP client, but it's generally true for any SSH client/library.</p>\n"}],"owner":{"account_id":4263520,"reputation":613,"user_id":3487237,"accept_rate":75,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17756,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":30182638,"answer_count":2,"score":7,"last_activity_date":1697476990,"creation_date":1431384816,"question_id":30178936,"body_markdown":"I use JSch with private key to FTP file \r\n\r\n```\r\njsch.addIdentity(privatekeyfile);\r\nSession session = jsch.getSession(&quot;user&quot;, &quot;example.com&quot;, 22);    \r\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n```\r\nLine 3 is in question. Without this line, JSch does not work.\r\n\r\nMy question is:\r\nWill line 3 make SFTP transfer insecure?\r\n","title":"JSch SFTP security with session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);","body":"<p>I use JSch with private key to FTP file</p>\n<pre><code>jsch.addIdentity(privatekeyfile);\nSession session = jsch.getSession(&quot;user&quot;, &quot;example.com&quot;, 22);    \nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n</code></pre>\n<p>Line 3 is in question. Without this line, JSch does not work.</p>\n<p>My question is:\nWill line 3 make SFTP transfer insecure?</p>\n"},{"tags":["java","list","sorting","reverse","one-liner"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697472198,"post_id":77303425,"comment_id":136281189,"body_markdown":"IIRC, the problem is that the type inference will breakdown across method invocations. I think it will work if you use `persons.sort(Comparator.&lt;Person&gt;comparing(person -&gt; person.age).reversed());`","body":"IIRC, the problem is that the type inference will breakdown across method invocations. I think it will work if you use <code>persons.sort(Comparator.&lt;Person&gt;comparing(person -&gt; person.age).reversed());</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697472462,"post_id":77303425,"comment_id":136281252,"body_markdown":"Or use a method instead of accessing the field, `persons.sort(Comparator.comparingInt(Person::getAge).reversed());`","body":"Or use a method instead of accessing the field, <code>persons.sort(Comparator.comparingInt(Person::getAge).reverse&zwnj;&#8203;d());</code>"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1697472580,"post_id":77303425,"comment_id":136281266,"body_markdown":"You can also do it like this `persons.sort(Comparator.comparing((Person person) -&gt; person.age).reversed());`","body":"You can also do it like this <code>persons.sort(Comparator.comparing((Person person) -&gt; person.age).reversed());</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697472698,"post_id":77303425,"comment_id":136281284,"body_markdown":"Forth option: `persons.sort(Collections.reverseOrder(Comparator.comparing(person -&gt; person.age)));`.","body":"Forth option: <code>persons.sort(Collections.reverseOrder(Comparator.comparing(p&zwnj;&#8203;erson -&gt; person.age)));</code>."}],"answers":[{"tags":[],"owner":{"account_id":29618416,"reputation":1,"user_id":22699990,"display_name":"bhagwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697476808,"creation_date":1697476808,"answer_id":77303842,"question_id":77303425,"body_markdown":"One of the way using lambda\r\n \r\n`persons.sort((p1, p2) -&gt; Integer.compare(p2.age, p1.age));`\r\n","title":"Sub Type Comparator One Liner Issue","body":"<p>One of the way using lambda</p>\n<p><code>persons.sort((p1, p2) -&gt; Integer.compare(p2.age, p1.age));</code></p>\n"}],"owner":{"account_id":4822249,"reputation":389,"user_id":4598712,"display_name":"Thomas Mathew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697476808,"creation_date":1697472073,"question_id":77303425,"body_markdown":"Why do I need a temporary variable as personAgentComparator needed here and to call reversed() on that? \r\n\r\n```\r\npublic class SubTypeComparatorIssue {\r\n\r\n  public void sortAgeFromOldToYoung(List&lt;Person&gt; persons) {\r\n    //persons.sort(Comparator.comparing(person -&gt; person.age).reversed());\r\n      Comparator&lt;Person&gt; personAgeComparator = Comparator.comparing(person -&gt; person.age);\r\n      persons.sort(personAgeComparator.reversed());\r\n  }\r\n}\r\n\r\nclass Person {\r\n  int age;\r\n}\r\n```\r\n\r\nHow do I get the sorting and reversing to with the comparator as a one-liner? I am getting an error in the lambda expression under `person.age` when currying the `reversed()` on that commented line.  If the reversed() is not added, I don&#39;t get that error even!  Hence did for now in two lines with that temporary `personAgentComparator` and called `reversed()` on it while calling the `sort()`.  \r\n\r\nBasically, how do I get a oneliner to do this whole operation?\r\n\r\nI expect a correction on this line to have it as a oneliner to get the `persons` list reverse sorted by person&#39;s age.\r\n\r\n```\r\npersons.sort(Comparator.comparing(person -&gt; person.age).reversed());\r\n```","title":"Sub Type Comparator One Liner Issue","body":"<p>Why do I need a temporary variable as personAgentComparator needed here and to call reversed() on that?</p>\n<pre><code>public class SubTypeComparatorIssue {\n\n  public void sortAgeFromOldToYoung(List&lt;Person&gt; persons) {\n    //persons.sort(Comparator.comparing(person -&gt; person.age).reversed());\n      Comparator&lt;Person&gt; personAgeComparator = Comparator.comparing(person -&gt; person.age);\n      persons.sort(personAgeComparator.reversed());\n  }\n}\n\nclass Person {\n  int age;\n}\n</code></pre>\n<p>How do I get the sorting and reversing to with the comparator as a one-liner? I am getting an error in the lambda expression under <code>person.age</code> when currying the <code>reversed()</code> on that commented line.  If the reversed() is not added, I don't get that error even!  Hence did for now in two lines with that temporary <code>personAgentComparator</code> and called <code>reversed()</code> on it while calling the <code>sort()</code>.</p>\n<p>Basically, how do I get a oneliner to do this whole operation?</p>\n<p>I expect a correction on this line to have it as a oneliner to get the <code>persons</code> list reverse sorted by person's age.</p>\n<pre><code>persons.sort(Comparator.comparing(person -&gt; person.age).reversed());\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-graphql"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687940537,"creation_date":1687940537,"answer_id":76571309,"question_id":76571133,"body_markdown":"The stacktrace shows that a required class is missing, here a type from Reactor. the `spring-graphql` project has a compile dependency on that, so your application should have it.\r\n\r\nTwo possibilities:\r\n* your build is explicitly excluding `reactor-core` from its dependencies, you can check that with `mvn dependency:tree`\r\n* the `reactor-core` dependency is corrupted in your local repository, try running `mvn dependency:purge-local-repository`.","title":"Issues while adding Spring for GraphQL to an existing Spring 3 project","body":"<p>The stacktrace shows that a required class is missing, here a type from Reactor. the <code>spring-graphql</code> project has a compile dependency on that, so your application should have it.</p>\n<p>Two possibilities:</p>\n<ul>\n<li>your build is explicitly excluding <code>reactor-core</code> from its dependencies, you can check that with <code>mvn dependency:tree</code></li>\n<li>the <code>reactor-core</code> dependency is corrupted in your local repository, try running <code>mvn dependency:purge-local-repository</code>.</li>\n</ul>\n"}],"owner":{"display_name":"user22143675"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697476568,"creation_date":1687938999,"question_id":76571133,"body_markdown":"I am trying to implement Spring for GraphQL in a existing Spring Boot 3 project. I have followed the steps in the beginners guide, however when I try to run the application, I get several errors. Part of the `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSecurity config:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Value(&quot;${password:MISSING&quot;)\r\n    private String endpointPassword;\r\n\r\n    @Autowired\r\n    public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(&quot;user&quot;).password(passwordEncoder().encode(endpointPassword))\r\n                .authorities(&quot;ROLE_USER&quot;);\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n                .requestMatchers(&quot;/graphql&quot;, &quot;/graphiql&quot;, &quot;/vendor/**&quot;).permitAll()\r\n                .anyRequest().authenticated().and().httpBasic();\r\n\r\n        http.csrf().disable();\r\n        http.headers().xssProtection().disable();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n```\r\n[Stacktrace](https://pastebin.com/8NG63FHf)","title":"Issues while adding Spring for GraphQL to an existing Spring 3 project","body":"<p>I am trying to implement Spring for GraphQL in a existing Spring Boot 3 project. I have followed the steps in the beginners guide, however when I try to run the application, I get several errors. Part of the <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Value(&quot;${password:MISSING&quot;)\n    private String endpointPassword;\n\n    @Autowired\n    public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(&quot;user&quot;).password(passwordEncoder().encode(endpointPassword))\n                .authorities(&quot;ROLE_USER&quot;);\n    }\n\n    @Bean\n    SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\n                .requestMatchers(&quot;/graphql&quot;, &quot;/graphiql&quot;, &quot;/vendor/**&quot;).permitAll()\n                .anyRequest().authenticated().and().httpBasic();\n\n        http.csrf().disable();\n        http.headers().xssProtection().disable();\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://pastebin.com/8NG63FHf\" rel=\"nofollow noreferrer\">Stacktrace</a></p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1349031087,"post_id":12663968,"comment_id":17086983,"body_markdown":"So why isn&#39;t this code in the server package?","body":"So why isn&#39;t this code in the server package?"},{"owner":{"account_id":161761,"reputation":4953,"user_id":382783,"accept_rate":98,"display_name":"Boris B."},"score":0,"creation_date":1349031825,"post_id":12663968,"comment_id":17087172,"body_markdown":"@stark Because these classes are shared between server and client packages. I need them on both sides, but some of the methods I need only on server side, and I&#39;d like to somehow mark those methods as &quot;not compilable to JS&quot;.","body":"@stark Because these classes are shared between server and client packages. I need them on both sides, but some of the methods I need only on server side, and I&#39;d like to somehow mark those methods as &quot;not compilable to JS&quot;."},{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":1,"creation_date":1349036816,"post_id":12663968,"comment_id":17088427,"body_markdown":"The code for a subclass doesn&#39;t have to be in the base class","body":"The code for a subclass doesn&#39;t have to be in the base class"}],"answers":[{"tags":[],"owner":{"account_id":173861,"reputation":388,"user_id":402834,"accept_rate":73,"display_name":"timwoj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349032685,"creation_date":1349032685,"answer_id":12664241,"question_id":12663968,"body_markdown":"We had some similar issues with some DTO objects in a project recently.  We ended up splitting the data away from the methods, creating a second set of classes that contained static methods for dealing with the data.  As far as I can tell, there isn&#39;t any way to annotate methods in a class to prevent gwtc from trying to convert them to javascript.","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>We had some similar issues with some DTO objects in a project recently.  We ended up splitting the data away from the methods, creating a second set of classes that contained static methods for dealing with the data.  As far as I can tell, there isn't any way to annotate methods in a class to prevent gwtc from trying to convert them to javascript.</p>\n"},{"tags":[],"owner":{"account_id":435192,"reputation":40814,"user_id":821657,"accept_rate":89,"display_name":"Andrei Volgin"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1349039341,"creation_date":1349039341,"answer_id":12665145,"question_id":12663968,"body_markdown":"A detailed discussion of this issue:\r\n\r\nhttp://code.google.com/p/google-web-toolkit/issues/detail?id=3769","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>A detailed discussion of this issue:</p>\n\n<p><a href=\"http://code.google.com/p/google-web-toolkit/issues/detail?id=3769\" rel=\"nofollow\">http://code.google.com/p/google-web-toolkit/issues/detail?id=3769</a></p>\n"},{"tags":[],"owner":{"account_id":161761,"reputation":4953,"user_id":382783,"accept_rate":98,"display_name":"Boris B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372963916,"creation_date":1372963916,"answer_id":17476643,"question_id":12663968,"body_markdown":"It seems that Google implemented it in [r11570][1].\r\n\r\n\r\n  [1]: https://code.google.com/p/google-web-toolkit/source/detail?r=11570 &quot;r11570&quot;","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>It seems that Google implemented it in <a href=\"https://code.google.com/p/google-web-toolkit/source/detail?r=11570\" rel=\"nofollow\" title=\"r11570\">r11570</a>.</p>\n"},{"tags":[],"owner":{"account_id":1377376,"reputation":467,"user_id":2391554,"display_name":"RLHawk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697476443,"creation_date":1697476443,"answer_id":77303812,"question_id":12663968,"body_markdown":"This was added in GWT 2.6. You can now use the @GwtIncompatible annotation to mark certain methods as incompatible with GWT. GWT will not try to compile these methods.","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>This was added in GWT 2.6. You can now use the @GwtIncompatible annotation to mark certain methods as incompatible with GWT. GWT will not try to compile these methods.</p>\n"}],"owner":{"account_id":161761,"reputation":4953,"user_id":382783,"accept_rate":98,"display_name":"Boris B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12665145,"answer_count":4,"score":3,"last_activity_date":1697476443,"creation_date":1349030745,"question_id":12663968,"body_markdown":"I have a GWT app which contains, besides traditional &quot;client&quot; and &quot;server&quot; packages, also a &quot;shared&quot; package, which contains POJO DTOs that travel back/forth through RPC. I need to create some methods in those DTOs which should exist only on server-side (i.e. they should not be compiled to JS, because they&#39;d use code which is not compile-able to JS), especially the `static()` method. \r\n\r\nIs this possible in GWT (some attribute, ifdef, ...)?\r\n\r\nBackground:\r\nI have some generic validators which require &quot;registration&quot; of the class to be validated (via a static method `register(Class&lt;T&gt;)`, and since I can&#39;t find any GWT init() method I&#39;d put the registration in static constructors of the DTOs, so when (if) the class gets loaded it registers itself for validation.","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>I have a GWT app which contains, besides traditional \"client\" and \"server\" packages, also a \"shared\" package, which contains POJO DTOs that travel back/forth through RPC. I need to create some methods in those DTOs which should exist only on server-side (i.e. they should not be compiled to JS, because they'd use code which is not compile-able to JS), especially the <code>static()</code> method. </p>\n\n<p>Is this possible in GWT (some attribute, ifdef, ...)?</p>\n\n<p>Background:\nI have some generic validators which require \"registration\" of the class to be validated (via a static method <code>register(Class&lt;T&gt;)</code>, and since I can't find any GWT init() method I'd put the registration in static constructors of the DTOs, so when (if) the class gets loaded it registers itself for validation.</p>\n"},{"tags":["java","flutter","dart","gradle","visual-studio-code"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1620417377,"post_id":67440953,"comment_id":119204220,"body_markdown":"Without knowing what exactly you configured back then, it may be challenging to find the exact setting to reconfigure. Have you taken a look at [this answer](https://stackoverflow.com/a/21212790/4216641)? Also, try to look whether VS Code has some settings to configure the JDK home for gradle. Maybe it is configured there.","body":"Without knowing what exactly you configured back then, it may be challenging to find the exact setting to reconfigure. Have you taken a look at <a href=\"https://stackoverflow.com/a/21212790/4216641\">this answer</a>? Also, try to look whether VS Code has some settings to configure the JDK home for gradle. Maybe it is configured there."},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":1,"creation_date":1620417708,"post_id":67440953,"comment_id":119204310,"body_markdown":"Is this a windows machine? Should probably use either / slashes or \\\\ for a path","body":"Is this a windows machine? Should probably use either / slashes or \\\\ for a path"},{"owner":{"account_id":21526211,"reputation":13,"user_id":15866445,"display_name":"Jan Tomczak"},"score":0,"creation_date":1620418187,"post_id":67440953,"comment_id":119204466,"body_markdown":"so in JAVA_HOME i should use \\\\? cause previously i was using \\","body":"so in JAVA_HOME i should use \\\\? cause previously i was using \\"}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620525355,"creation_date":1620525355,"answer_id":67453672,"question_id":67440953,"body_markdown":"Open **Command Palette--&gt; Java: Configure Java Runtime--&gt; Java Tooling Runtime**, if your JDK is installed correctly and JAVA_HOME is added to PATH, Java extension will detect it automatically.\r\n\r\nYou can choose the one you wanted and set it as `JDK for Language Server`, which is equivalent to add the following configurations in Settings.json:\r\n\r\n    &quot;java.home&quot;: &quot;C:\\\\...\\\\AdoptOpenJDK&quot;,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDon&#39;t forget to **reload window** to make the change effective.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OszB0.png","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>Open <strong>Command Palette--&gt; Java: Configure Java Runtime--&gt; Java Tooling Runtime</strong>, if your JDK is installed correctly and JAVA_HOME is added to PATH, Java extension will detect it automatically.</p>\n<p>You can choose the one you wanted and set it as <code>JDK for Language Server</code>, which is equivalent to add the following configurations in Settings.json:</p>\n<pre><code>&quot;java.home&quot;: &quot;C:\\\\...\\\\AdoptOpenJDK&quot;,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OszB0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OszB0.png\" alt=\"enter image description here\" /></a></p>\n<p>Don't forget to <strong>reload window</strong> to make the change effective.</p>\n"},{"tags":[],"owner":{"account_id":21526211,"reputation":13,"user_id":15866445,"display_name":"Jan Tomczak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620643160,"creation_date":1620643160,"answer_id":67469006,"question_id":67440953,"body_markdown":"So I fixed the problem by deleting temporal files, optimalizing storages and clearing Windows cache (also cache of VSCode). I also restarted my laptop after the process\r\n\r\n    [https://www.drivereasy.com/knowledge/how-to-clear-cache-on-windows-10/#b][1]\r\n\r\n\r\n\r\n","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>So I fixed the problem by deleting temporal files, optimalizing storages and clearing Windows cache (also cache of VSCode). I also restarted my laptop after the process</p>\n<pre><code>[https://www.drivereasy.com/knowledge/how-to-clear-cache-on-windows-10/#b][1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5105567,"reputation":1321,"user_id":4093727,"display_name":"Michael M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649178816,"creation_date":1649178816,"answer_id":71755835,"question_id":67440953,"body_markdown":"I also experienced a confusing issue with a Gradle project I was trying to build in Visual Studio Code.  It couldn&#39;t find the Gradle dependencies.  Thus it couldn&#39;t resolve a number of the artifacts (variables, annotations, etc.) that were unrecognized.\r\n\r\n**To fix this issue, I did the following**:\r\n\r\n 1. Set the `java.jdt.ls.java.home` property to reference the Java Home location.\r\n 2. Confirm that you have a Java Runtime of at least Java 11 set (at least for the current plugin requirements)\r\n 3. Installed the &quot;Gradle for Java&quot; extension (VS Code) from Microsoft\r\n 4. Cleared the cache and cleaned the VS Code cache.\r\n 5. Restarted VS Code.\r\n\r\nBy clearing the **VS Code cache** it re-initiated Gradle when I re-opened the project, and it was able to resolve the missing artifacts.  Those that did not resolve automatically were now recognized through code complete and the contextual tools provided by VS Code and the Gradle plugin.\r\n\r\nI would expect the tooling for Gradle would allow a re-load of it&#39;s attributes and project references, but a restart did it automatically for me.\r\n\r\n**Example of Java Settings in settings.json file:**\r\n\r\n    {\r\n      &quot;java.configuration.runtimes&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\JAVA\\\\JAVA_1.8_..._x86_64&quot;,\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\JAVA\\\\Java11_..._x86_64&quot;\r\n          }\r\n        ],\r\n        &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\JAVA\\\\Java11_..._x86_64&quot;\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qfrMS.png","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>I also experienced a confusing issue with a Gradle project I was trying to build in Visual Studio Code.  It couldn't find the Gradle dependencies.  Thus it couldn't resolve a number of the artifacts (variables, annotations, etc.) that were unrecognized.</p>\n<p><strong>To fix this issue, I did the following</strong>:</p>\n<ol>\n<li>Set the <code>java.jdt.ls.java.home</code> property to reference the Java Home location.</li>\n<li>Confirm that you have a Java Runtime of at least Java 11 set (at least for the current plugin requirements)</li>\n<li>Installed the &quot;Gradle for Java&quot; extension (VS Code) from Microsoft</li>\n<li>Cleared the cache and cleaned the VS Code cache.</li>\n<li>Restarted VS Code.</li>\n</ol>\n<p>By clearing the <strong>VS Code cache</strong> it re-initiated Gradle when I re-opened the project, and it was able to resolve the missing artifacts.  Those that did not resolve automatically were now recognized through code complete and the contextual tools provided by VS Code and the Gradle plugin.</p>\n<p>I would expect the tooling for Gradle would allow a re-load of it's attributes and project references, but a restart did it automatically for me.</p>\n<p><strong>Example of Java Settings in settings.json file:</strong></p>\n<pre><code>{\n  &quot;java.configuration.runtimes&quot;: [\n      {\n        &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n        &quot;path&quot;: &quot;C:\\\\JAVA\\\\JAVA_1.8_..._x86_64&quot;,\n      },\n      {\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\n        &quot;path&quot;: &quot;C:\\\\JAVA\\\\Java11_..._x86_64&quot;\n      }\n    ],\n    &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\JAVA\\\\Java11_..._x86_64&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qfrMS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qfrMS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25850720,"reputation":1,"user_id":19584753,"display_name":"Benj&#225;min Bosk&#243;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668150758,"creation_date":1668150758,"answer_id":74399108,"question_id":67440953,"body_markdown":"In my case the invalid `javaHome` was set in the workspace storage. I found the wrong path in one of the directories under the `c:\\Users\\&lt;username&gt;\\AppData\\Roaming\\Code\\User\\workspaceStorage\\` folder. I just simply deleted the whole directory and after it I had to reopen the project folder.","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>In my case the invalid <code>javaHome</code> was set in the workspace storage. I found the wrong path in one of the directories under the <code>c:\\Users\\&lt;username&gt;\\AppData\\Roaming\\Code\\User\\workspaceStorage\\</code> folder. I just simply deleted the whole directory and after it I had to reopen the project folder.</p>\n"},{"tags":[],"owner":{"account_id":12061826,"reputation":624,"user_id":8820559,"display_name":"Linden X. Quan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670869821,"creation_date":1670869821,"answer_id":74775741,"question_id":67440953,"body_markdown":"For me I solved this issue by editing `android/gradle.properties` file. I added the following line.\r\n\r\n    org.gradle.java.home=/Path/To/Your/Working/Jdk/home\r\n\r\n\r\n","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>For me I solved this issue by editing <code>android/gradle.properties</code> file. I added the following line.</p>\n<pre><code>org.gradle.java.home=/Path/To/Your/Working/Jdk/home\n</code></pre>\n"}],"owner":{"account_id":21526211,"reputation":13,"user_id":15866445,"display_name":"Jan Tomczak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1697476065,"creation_date":1620417243,"question_id":67440953,"body_markdown":"I once had a problem with Flutter and I had to download jdk. I gave it a path *D:/jdk* but then i made new partition and downloaded it again on *C:\\Program Files\\Java\\jdk-16.0.1*. Now when I&#39;m running an app in Visual Studio Code there is an error:\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nSupplied javaHome must be a valid directory. You supplied: D:\\jdk\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nI don&#39;t know what do, I already reinstalled gradle, jdk and VSCode. Whjat I have to do to delete this path from VSCode memory? \r\n\r\n\r\nEDIT: FIXED \r\n\r\n\r\n\r\nSo I fixed the problem by deleting temporal files, optimalizing storages and clearing Windows cache (also cache of VSCode). I also restarted my laptop after the process\r\n\r\nI answered this question with a link to tutorial how to do it, there are also additional steps like doing it with some program, in my case it wasn&#39;t required. Hope it helps someone\r\n","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>I once had a problem with Flutter and I had to download jdk. I gave it a path <em>D:/jdk</em> but then i made new partition and downloaded it again on <em>C:\\Program Files\\Java\\jdk-16.0.1</em>. Now when I'm running an app in Visual Studio Code there is an error:</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong:\nSupplied javaHome must be a valid directory. You supplied: D:\\jdk</p>\n</li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n</ul>\n<p>I don't know what do, I already reinstalled gradle, jdk and VSCode. Whjat I have to do to delete this path from VSCode memory?</p>\n<p>EDIT: FIXED</p>\n<p>So I fixed the problem by deleting temporal files, optimalizing storages and clearing Windows cache (also cache of VSCode). I also restarted my laptop after the process</p>\n<p>I answered this question with a link to tutorial how to do it, there are also additional steps like doing it with some program, in my case it wasn't required. Hope it helps someone</p>\n"},{"tags":["java","http","tomcat","http-headers","load-balancing"],"comments":[{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351266652,"post_id":13090082,"comment_id":17787296,"body_markdown":"I feel this is related to spoofing.  I tried to find this out in forums    but I haven&#39;t got a clear idea yet on how my issue can be resolved.","body":"I feel this is related to spoofing.  I tried to find this out in forums    but I haven&#39;t got a clear idea yet on how my issue can be resolved."}],"answers":[{"tags":[],"owner":{"account_id":162919,"reputation":53263,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351286250,"creation_date":1351282018,"answer_id":13093695,"question_id":13090082,"body_markdown":"IMO this question is weird.  \r\nIf you have a load balancer that means that you distribute the load between 2 backend servers i.e. who deploy the same applications and which must be **consistent**, meaning that both parts must have exactly the same database (since the same client could be served from one server in one connection or the other in a next request depending also on the configuration of the load balancer).  \r\nSo in this case and since both parts *should* be in sync and the database essentially *mirrored* if you send a specific request that has a certain interpretation it does not matter which server receives it. The other server should also understand that this request came since the data are mirrored.  \r\nI.e. just make a specific update in the database and let the servers reload as soon as the database update is visible in the other server as well.  \r\nUnless you are not using a load balancer or you are not using it properly...  \r\n\r\nAnd to answer your question how to bypass the load balancer. When you use a load balancer you use either a virtual IP or a specific domain name that &quot;points&quot; to the load balancer and the load balancer redirects to an available server. So you could bypass the loadbalancer if you use directly the IP of the servers instead of the IP of the load balancer.","title":"Bypassing load balancer to specific server for different web apps","body":"<p>IMO this question is weird.<br>\nIf you have a load balancer that means that you distribute the load between 2 backend servers i.e. who deploy the same applications and which must be <strong>consistent</strong>, meaning that both parts must have exactly the same database (since the same client could be served from one server in one connection or the other in a next request depending also on the configuration of the load balancer).<br>\nSo in this case and since both parts <em>should</em> be in sync and the database essentially <em>mirrored</em> if you send a specific request that has a certain interpretation it does not matter which server receives it. The other server should also understand that this request came since the data are mirrored.<br>\nI.e. just make a specific update in the database and let the servers reload as soon as the database update is visible in the other server as well.<br>\nUnless you are not using a load balancer or you are not using it properly...  </p>\n\n<p>And to answer your question how to bypass the load balancer. When you use a load balancer you use either a virtual IP or a specific domain name that \"points\" to the load balancer and the load balancer redirects to an available server. So you could bypass the loadbalancer if you use directly the IP of the servers instead of the IP of the load balancer.</p>\n"},{"tags":[],"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351541179,"creation_date":1351541179,"answer_id":13128822,"question_id":13090082,"body_markdown":"Here is the solution I am going to try.  It seemes worked for a small proof of concept and i am going to try in actual application.  \r\n\r\nSolution:\r\n\r\n1. The URL should be the IP address or server host name of the webserver.  \r\nEx: http://&lt;IP-ADDRESS&gt;/\r\n\r\n2. For the HTTP request set the &quot;Host&quot; header as the actual domain name that u want to access.  In my case, it is the second webapp (test.myapp2.com) that i have deployed in my tomcat.  \r\n\r\n3. Send the HTTP request.\r\n\r\nFirst it worked when i tried with the &quot;Poster&quot; addon in firefox but it didnt work in my Java code.  It did not show any error either.  It simply ignored the &quot;Host&quot; header that I set.  The java library restricts overriding some of the Request header values and &quot;Host&quot; is one of them.  So I had to set it explicitly to accept the restricted headers.\r\n\r\nThe initial code I had is:\r\n\r\n    URL url = new URL(&quot;http://&lt;IP-ADDRESS&gt;/&quot;);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestProperty(&quot;Host&quot;, &quot;test.myapp2.com&quot;);\r\n    BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\r\nNew Fix:\r\n\r\n    String allowRestrictedHeader = System.getProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;);\r\n    System.setProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;, &quot;true&quot;);\r\n    try {\r\n        URL url = new URL(&quot;http://&lt;IP-ADDRESS&gt;/&quot;);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestProperty(&quot;Host&quot;, &quot;test.myapp2.com&quot;);\r\n        // use connection\r\n        .\r\n        .\r\n        .\r\n    }\r\n    finally {\r\n\t\tif (allowRestrictedHeader == null) {\r\n\t\t\tSystem.clearProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.setProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;,\r\n\t\t\t\t\tallowRestrictedHeader);\r\n\t\t}\r\n    }","title":"Bypassing load balancer to specific server for different web apps","body":"<p>Here is the solution I am going to try.  It seemes worked for a small proof of concept and i am going to try in actual application.  </p>\n\n<p>Solution:</p>\n\n<ol>\n<li><p>The URL should be the IP address or server host name of the webserver.<br>\nEx: http:///</p></li>\n<li><p>For the HTTP request set the \"Host\" header as the actual domain name that u want to access.  In my case, it is the second webapp (test.myapp2.com) that i have deployed in my tomcat.  </p></li>\n<li><p>Send the HTTP request.</p></li>\n</ol>\n\n<p>First it worked when i tried with the \"Poster\" addon in firefox but it didnt work in my Java code.  It did not show any error either.  It simply ignored the \"Host\" header that I set.  The java library restricts overriding some of the Request header values and \"Host\" is one of them.  So I had to set it explicitly to accept the restricted headers.</p>\n\n<p>The initial code I had is:</p>\n\n<pre><code>URL url = new URL(\"http://&lt;IP-ADDRESS&gt;/\");\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestProperty(\"Host\", \"test.myapp2.com\");\nBufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n</code></pre>\n\n<p>New Fix:</p>\n\n<pre><code>String allowRestrictedHeader = System.getProperty(\"sun.net.http.allowRestrictedHeaders\");\nSystem.setProperty(\"sun.net.http.allowRestrictedHeaders\", \"true\");\ntry {\n    URL url = new URL(\"http://&lt;IP-ADDRESS&gt;/\");\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestProperty(\"Host\", \"test.myapp2.com\");\n    // use connection\n    .\n    .\n    .\n}\nfinally {\n    if (allowRestrictedHeader == null) {\n        System.clearProperty(\"sun.net.http.allowRestrictedHeaders\");\n    } else {\n        System.setProperty(\"sun.net.http.allowRestrictedHeaders\",\n                allowRestrictedHeader);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10650,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697476065,"creation_date":1351266122,"question_id":13090082,"body_markdown":"I have 2 webservers in load balanced environment and both webservers have 2 webapps deployed in their tomcat servers. Two different domain names are used to access these two web applications.\r\n\r\nI am struck up in a situation where I have to reload something in both webservers for both web apps separately.  So I have to a send http request to each webserver and each webapp to reload (Basically I want to bypass the load-balancer).\r\n\r\nIs there a way to add a HTTP header so that I can send my request to specific webserver at runtime for specif domain names?  Or is there any other way to achieve this?\r\n\r\nNote:  This HTTP request can be sent from java code deployed in any one of the webserver. So basically we can assume it as the communication between the webservers within the local network.","title":"Bypassing load balancer to specific server for different web apps","body":"<p>I have 2 webservers in load balanced environment and both webservers have 2 webapps deployed in their tomcat servers. Two different domain names are used to access these two web applications.</p>\n\n<p>I am struck up in a situation where I have to reload something in both webservers for both web apps separately.  So I have to a send http request to each webserver and each webapp to reload (Basically I want to bypass the load-balancer).</p>\n\n<p>Is there a way to add a HTTP header so that I can send my request to specific webserver at runtime for specif domain names?  Or is there any other way to achieve this?</p>\n\n<p>Note:  This HTTP request can be sent from java code deployed in any one of the webserver. So basically we can assume it as the communication between the webservers within the local network.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":4361066,"reputation":2144,"user_id":3558133,"display_name":"Marcinek"},"score":0,"creation_date":1453307554,"post_id":34905333,"comment_id":57546914,"body_markdown":"Which ide are you using?","body":"Which ide are you using?"},{"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"score":0,"creation_date":1453312823,"post_id":34905333,"comment_id":57550462,"body_markdown":"using Eclipse Sir.. but I guess JVM needs to give some sort of support.. maybe some VM arg (?)","body":"using Eclipse Sir.. but I guess JVM needs to give some sort of support.. maybe some VM arg (?)"},{"owner":{"account_id":3686352,"reputation":3327,"user_id":3070062,"display_name":"Falco"},"score":0,"creation_date":1453465537,"post_id":34905333,"comment_id":57624556,"body_markdown":"If there are not too many threads in your application, you can also set a breakpoint on Thread.start() and evaluate other variables to discern if it is the right Thread being started.","body":"If there are not too many threads in your application, you can also set a breakpoint on Thread.start() and evaluate other variables to discern if it is the right Thread being started."}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454578992,"creation_date":1453308617,"answer_id":34905821,"question_id":34905333,"body_markdown":"You can use `new Throwable().getStackTrace()` to get a full stack trace. To get the `start` stack you must extend `Thread`, one of the few times it is actually necessary to do so (mostly using `Runnable` is preferred).\r\n\r\n    class C extends Thread {\r\n        StackTraceElement[] constructed;\r\n        StackTraceElement[] started;\r\n        \r\n        public C() {\r\n            constructed = new Throwable().getStackTrace();\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            // Your suuff.\r\n        }\r\n\r\n        @Override\r\n        public synchronized void start() {\r\n            started = new Throwable().getStackTrace();\r\n            super.start();\r\n        }\r\n        \r\n    }\r\n","title":"In run method, how to find from where start was called?","body":"<p>You can use <code>new Throwable().getStackTrace()</code> to get a full stack trace. To get the <code>start</code> stack you must extend <code>Thread</code>, one of the few times it is actually necessary to do so (mostly using <code>Runnable</code> is preferred).</p>\n\n<pre><code>class C extends Thread {\n    StackTraceElement[] constructed;\n    StackTraceElement[] started;\n\n    public C() {\n        constructed = new Throwable().getStackTrace();\n    }\n\n    @Override\n    public void run() {\n        // Your suuff.\n    }\n\n    @Override\n    public synchronized void start() {\n        started = new Throwable().getStackTrace();\n        super.start();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697476010,"creation_date":1453866495,"answer_id":35028531,"question_id":34905333,"body_markdown":"I found a crude and effective technique using Eclipse or any other IDE. Suppose you have a breakpoint in your Runnable or Callable, and thread pauses there... indeed, one can&#39;t figure out from where start was called right away... &lt;i&gt;but&lt;/i&gt;, just right click Runnable/Callable constructor and click &#39;show call hierarchy&#39;.. that&#39;s it!! You will come to know where the Runnable/Callable was constructed.. and start is called right after that!&lt;br&gt;\r\nIn Eclipse, if Runnable/Callable has no no-arg constructor, right click on class name and select &#39;show call hierarchy&#39;.. problem solved.. what a relief.","title":"In run method, how to find from where start was called?","body":"<p>I found a crude and effective technique using Eclipse or any other IDE. Suppose you have a breakpoint in your Runnable or Callable, and thread pauses there... indeed, one can't figure out from where start was called right away... <i>but</i>, just right click Runnable/Callable constructor and click 'show call hierarchy'.. that's it!! You will come to know where the Runnable/Callable was constructed.. and start is called right after that!<br>\nIn Eclipse, if Runnable/Callable has no no-arg constructor, right click on class name and select 'show call hierarchy'.. problem solved.. what a relief.</p>\n"}],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697476010,"creation_date":1453307238,"question_id":34905333,"body_markdown":"I am debugging some code. My debugger shows that the origin of code is from Thread.run(). I need to know from which part of code Thread.start() was called! Is there a way to find this out?","title":"In run method, how to find from where start was called?","body":"<p>I am debugging some code. My debugger shows that the origin of code is from Thread.run(). I need to know from which part of code Thread.start() was called! Is there a way to find this out?</p>\n"},{"tags":["java","android","kotlin","rx-java3"],"owner":{"account_id":23818504,"reputation":1,"user_id":22751021,"display_name":"RJKC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697475989,"creation_date":1697475867,"question_id":77303768,"body_markdown":"Attempting to solve an issue in a flow that requires multiple callbacks and responses from the same endpoint.\r\n\r\nFor example, there is endpoint &quot;/endpoint/action&quot;\r\n\r\nEach time I hit said endpoint I get a response, depending on that response I modify its response object and send that back to the server on the same &quot;/endpoint/action&quot;, this whole process can repeat X number of times until the response on &quot;/endpoint/action&quot; signifies that the server is NOT asking for any more details.\r\n\r\nFor Example:\r\n\r\n - App -&gt; Sends Request for &quot;/endpoint/action&quot;\r\n   \r\n - Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response code 200 +\r\n   requesting data A\r\n   \r\n - App -&gt; Sends Request for &quot;/endpoint/action&quot; including data A\r\n   \r\n - Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response code 200 +\r\n   requesting data B\r\n   \r\n - App -&gt; Sends Request for &quot;/endpoint/action&quot; including data B\r\n   \r\n - ... \r\n- ... \r\n- ... \r\n- Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response\r\n   code 302\r\n- App -&gt; Sees the 302 and breaks the loop\r\n\r\nThis loop could include any number of iterations.\r\n\r\n\r\nI&#39;ve attempted to use the &quot;repeatUntil&quot; functionality but that simply repeats the same request over and over instead of using the updated body between each request (as the requested data will change on every request as demonstrated above).\r\n\r\nI&#39;ve also looked at chaining Flatmaps, but this seems to require you to know the total number of requests that need to be made at the start, but this is all driven by the server, it may need to repeat 7 times, 8 times, 12 times, etc.\r\n\r\nUsing old fashion While loops have no context of the RxJava thread so it ends up calling the next iteration of the while loop before the request has finished so the condition for attempting another request has not yet been evaluated.\r\n\r\nAny examples/suggestion would be appreciated!\r\n\r\n","title":"RxJava: Looping Multiple Requests With Changing Parameters","body":"<p>Attempting to solve an issue in a flow that requires multiple callbacks and responses from the same endpoint.</p>\n<p>For example, there is endpoint &quot;/endpoint/action&quot;</p>\n<p>Each time I hit said endpoint I get a response, depending on that response I modify its response object and send that back to the server on the same &quot;/endpoint/action&quot;, this whole process can repeat X number of times until the response on &quot;/endpoint/action&quot; signifies that the server is NOT asking for any more details.</p>\n<p>For Example:</p>\n<ul>\n<li><p>App -&gt; Sends Request for &quot;/endpoint/action&quot;</p>\n</li>\n<li><p>Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response code 200 +\nrequesting data A</p>\n</li>\n<li><p>App -&gt; Sends Request for &quot;/endpoint/action&quot; including data A</p>\n</li>\n<li><p>Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response code 200 +\nrequesting data B</p>\n</li>\n<li><p>App -&gt; Sends Request for &quot;/endpoint/action&quot; including data B</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response\ncode 302</p>\n</li>\n<li><p>App -&gt; Sees the 302 and breaks the loop</p>\n</li>\n</ul>\n<p>This loop could include any number of iterations.</p>\n<p>I've attempted to use the &quot;repeatUntil&quot; functionality but that simply repeats the same request over and over instead of using the updated body between each request (as the requested data will change on every request as demonstrated above).</p>\n<p>I've also looked at chaining Flatmaps, but this seems to require you to know the total number of requests that need to be made at the start, but this is all driven by the server, it may need to repeat 7 times, 8 times, 12 times, etc.</p>\n<p>Using old fashion While loops have no context of the RxJava thread so it ends up calling the next iteration of the while loop before the request has finished so the condition for attempting another request has not yet been evaluated.</p>\n<p>Any examples/suggestion would be appreciated!</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1697474443,"post_id":77303605,"comment_id":136281588,"body_markdown":"It means youre seeing the default toString representation of those instances. Youd probably want to look at the docs for the interfaces used. Or check out a tutorial.","body":"It means youre seeing the default toString representation of those instances. Youd probably want to look at the docs for the interfaces used. Or check out a tutorial."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1697475257,"post_id":77303605,"comment_id":136281717,"body_markdown":"@DaveNewton I see. Thanks. Also, should I be using `response.setContentType(&quot;application/json&quot;);` in doGet instead of `response.setContentType(&quot;text/plain&quot;);` since they are sending JSON ?","body":"@DaveNewton I see. Thanks. Also, should I be using <code>response.setContentType(&quot;application&#47;json&quot;);</code> in doGet instead of <code>response.setContentType(&quot;text&#47;plain&quot;);</code> since they are sending JSON ?"}],"answers":[{"tags":[],"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697475483,"creation_date":1697475483,"answer_id":77303735,"question_id":77303605,"body_markdown":"The output you&#39;re seeing in your doPost method suggests that you are printing the objects representing the HttpServletRequest and HttpServletResponse rather than the content of the request and response.\r\n\r\nIn the code you provided, these lines are printing the objects themselves:`\r\n\r\n    System.out.println(&quot;HttpServletRequest below&quot;);\r\n    System.out.println(request);\r\n    System.out.println(&quot;HttpServletResponse below&quot;);\r\n    System.out.println(response);\r\n\r\nTo get the content of the request and response (which should contain the JSON data you expect), you should access the methods and properties of the request and response objects.\r\n\r\nFor example, if you want to access the request&#39;s body (the JSON data), you can do something like this:\r\n\r\n    public void doPost(HttpServletRequest request, HttpServletResponse response)\r\n      throws ServletException, java.io.IOException {\r\n        BufferedReader reader = request.getReader();\r\n        StringBuilder jsonRequest = new StringBuilder();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            jsonRequest.append(line);\r\n        }\r\n    \r\n        System.out.println(&quot;JSON Request:&quot;);\r\n        System.out.println(jsonRequest.toString());\r\n    }\r\n\r\nThis code reads the JSON data from the request&#39;s input stream and prints it. Maybe this can help :)","title":"Getting HttpServletRequestFilterable response in doPost","body":"<p>The output you're seeing in your doPost method suggests that you are printing the objects representing the HttpServletRequest and HttpServletResponse rather than the content of the request and response.</p>\n<p>In the code you provided, these lines are printing the objects themselves:`</p>\n<pre><code>System.out.println(&quot;HttpServletRequest below&quot;);\nSystem.out.println(request);\nSystem.out.println(&quot;HttpServletResponse below&quot;);\nSystem.out.println(response);\n</code></pre>\n<p>To get the content of the request and response (which should contain the JSON data you expect), you should access the methods and properties of the request and response objects.</p>\n<p>For example, if you want to access the request's body (the JSON data), you can do something like this:</p>\n<pre><code>public void doPost(HttpServletRequest request, HttpServletResponse response)\n  throws ServletException, java.io.IOException {\n    BufferedReader reader = request.getReader();\n    StringBuilder jsonRequest = new StringBuilder();\n    String line;\n    while ((line = reader.readLine()) != null) {\n        jsonRequest.append(line);\n    }\n\n    System.out.println(&quot;JSON Request:&quot;);\n    System.out.println(jsonRequest.toString());\n}\n</code></pre>\n<p>This code reads the JSON data from the request's input stream and prints it. Maybe this can help :)</p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77303735,"answer_count":1,"score":0,"last_activity_date":1697475483,"creation_date":1697474166,"question_id":77303605,"body_markdown":"I&#39;m using [Mailgun webhooks][1] to send an email and the following servlet to capture the postback. \r\n\r\n\r\n    public class MyServlet extends HttpServlet {\r\n    \r\n      @Override\r\n    \r\n      public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \r\n      throws ServletException, java.io.IOException {\r\n    \r\n        StringWriter stringWriter = new StringWriter();\r\n    \r\n        PrintWriter printWriter = new PrintWriter(stringWriter);\r\n    \r\n        printWriter.println(&quot;MyServlet&quot;);\r\n    \r\n        response.setContentType(&quot;text/plain&quot;);\r\n    \r\n        //response.setContentType(&quot;application/json&quot;);\r\n    \r\n        response.getOutputStream().print(stringWriter.toString());\r\n    \r\n      }\r\n    \r\n      @Override\r\n    \r\n      public void doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \r\n      throws ServletException, java.io.IOException {\r\n    \r\n        System.out.println(&quot;HttpServletRequest below&quot;);\r\n    \r\n        System.out.println(request);\r\n    \r\n        System.out.println(&quot;HttpServletResponse below&quot;);\r\n    \r\n        System.out.println(response);\r\n    \r\n      }\r\n\r\n\r\nAnd in my `doPost`, I keep getting the following for my print statements:\r\n\r\n    HttpServletRequest below\r\n    org.sitemesh.webapp.contentfilter.HttpServletRequestFilterable@4439aa1f\r\n    \r\n    HttpServletResponse below\r\n    org.sitemesh.webapp.contentfilter.ContentBufferingFilter$1@4fa69476\r\n\r\n\r\n\r\nWhat does this mean? I was expecting a JSON response as they have mentioned in their documentation that they are sending JSON response.\r\n  [1]: https://documentation.mailgun.com/en/latest/api-webhooks.html","title":"Getting HttpServletRequestFilterable response in doPost","body":"<p>I'm using [Mailgun webhooks][1] to send an email and the following servlet to capture the postback.</p>\n<pre><code>public class MyServlet extends HttpServlet {\n\n  @Override\n\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\n\n  throws ServletException, java.io.IOException {\n\n    StringWriter stringWriter = new StringWriter();\n\n    PrintWriter printWriter = new PrintWriter(stringWriter);\n\n    printWriter.println(&quot;MyServlet&quot;);\n\n    response.setContentType(&quot;text/plain&quot;);\n\n    //response.setContentType(&quot;application/json&quot;);\n\n    response.getOutputStream().print(stringWriter.toString());\n\n  }\n\n  @Override\n\n  public void doPost(HttpServletRequest request, HttpServletResponse response)\n\n  throws ServletException, java.io.IOException {\n\n    System.out.println(&quot;HttpServletRequest below&quot;);\n\n    System.out.println(request);\n\n    System.out.println(&quot;HttpServletResponse below&quot;);\n\n    System.out.println(response);\n\n  }\n</code></pre>\n<p>And in my <code>doPost</code>, I keep getting the following for my print statements:</p>\n<pre><code>HttpServletRequest below\norg.sitemesh.webapp.contentfilter.HttpServletRequestFilterable@4439aa1f\n\nHttpServletResponse below\norg.sitemesh.webapp.contentfilter.ContentBufferingFilter$1@4fa69476\n</code></pre>\n<p>What does this mean? I was expecting a JSON response as they have mentioned in their documentation that they are sending JSON response.\n[1]: <a href=\"https://documentation.mailgun.com/en/latest/api-webhooks.html\" rel=\"nofollow noreferrer\">https://documentation.mailgun.com/en/latest/api-webhooks.html</a></p>\n"},{"tags":["java","native"],"owner":{"account_id":29685324,"reputation":1,"user_id":22751025,"display_name":"param yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697475482,"creation_date":1697475482,"question_id":77303734,"body_markdown":"Can&#39;t find native library [LcdECW]\r\n\r\n\r\nCheck bashrc path is correct, java version is correct.\r\n\r\nFolder permission is correct\r\nLibrary path is correct \r\n\r\nMatched with other computer , where it is working .\r\n\r\nOther settings, graphics are also matched \r\n","title":"Can&#39;t find native library [LcdECW]","body":"<p>Can't find native library [LcdECW]</p>\n<p>Check bashrc path is correct, java version is correct.</p>\n<p>Folder permission is correct\nLibrary path is correct</p>\n<p>Matched with other computer , where it is working .</p>\n<p>Other settings, graphics are also matched</p>\n"},{"tags":["java","spring-boot","hibernate","e-commerce"],"comments":[{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":2,"creation_date":1697475252,"post_id":77303655,"comment_id":136281714,"body_markdown":"This is only an entity, which is a representation of your table. If you want to &quot;filter&quot; you would need to write a query to filter the data, or write a view to display the query  you want and a readonly entity/repository over that.","body":"This is only an entity, which is a representation of your table. If you want to &quot;filter&quot; you would need to write a query to filter the data, or write a view to display the query  you want and a readonly entity/repository over that."},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1697480589,"post_id":77303655,"comment_id":136282585,"body_markdown":"How you normally do queries with Spring Data JPA is like this: you write methods in a repository interface that represent the queries you want to do. See [a tutorial about Spring Data JPA](https://spring.io/guides/gs/accessing-data-jpa/) as an example.","body":"How you normally do queries with Spring Data JPA is like this: you write methods in a repository interface that represent the queries you want to do. See <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">a tutorial about Spring Data JPA</a> as an example."}],"answers":[{"tags":[],"owner":{"account_id":1225328,"reputation":105,"user_id":1190988,"display_name":"ramindroid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697474864,"creation_date":1697474864,"answer_id":77303672,"question_id":77303655,"body_markdown":"Your question is not clear. Please ask specific examples by mentioning which attribute to be used for filtering.","title":"How to filter data using Spring Boot 3","body":"<p>Your question is not clear. Please ask specific examples by mentioning which attribute to be used for filtering.</p>\n"}],"owner":{"account_id":20860219,"reputation":1,"user_id":15322643,"display_name":"ttarikose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697474864,"creation_date":1697474689,"question_id":77303655,"body_markdown":"I am trying to build an e-commerce api using Spring Boot 3 and Hibernate 6. I am stuck with filtering Products.Java class. I could not find any kind of result on the internet etc. How can i filter some of those fields using Hibernate 6? I need a way to do it, if someone can provide me i would appreciate a lot.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;t_product&quot;)\r\npublic class Product {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false)\r\n\t@Size(min = 10, message = &quot;{validation.sku.size.too_short}&quot;)\r\n\t@Size(max = 100, message = &quot;{validation.sku.size.too_long}&quot;)\r\n\tprivate String sku;\r\n\r\n\t@Column(nullable = false)\r\n\t@Size(min = 5, message = &quot;{validation.title.size.too_short}&quot;)\r\n\t@Size(max = 150, message = &quot;{validation.title.size.too_long}&quot;)\r\n\tprivate String title;\r\n\r\n\t@Column(length = 300)\r\n\tprivate String short_desc;\r\n\r\n\t@Column\r\n\tprivate String long_desc;\r\n\r\n\t@Column\r\n\tprivate BigDecimal price;\r\n\r\n\t@Column\r\n\tprivate BigDecimal tax;\r\n\r\n\t@Min(0)\r\n\t@Max(100)\r\n\t@Column\r\n\tprivate int discount;\r\n\r\n\t@Column\r\n\tprivate int stock_amount;\r\n\r\n\t@Column\r\n\tprivate int stock_alarm_limit;\r\n\r\n\t@NotBlank\r\n\t@Size(min = 5, max = 200)\r\n\t@URL\r\n\t@Column(nullable = false, length = 200)\r\n\tprivate String slug;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate boolean featured = false;\r\n\r\n\t@Column\r\n\tprivate String image;\r\n\r\n\t@Column\r\n\tprivate boolean new_product;\r\n\r\n\t@Column\r\n\tprivate int likes = 0;\r\n\r\n\t@NotNull(message = &quot;Status field can not be null&quot;)\r\n\t@Column(nullable = false)\r\n\tprivate StatusZeroAndOne status;\r\n\r\n\t@Column\r\n\tprivate double witdh;\r\n\r\n\t@Column\r\n\tprivate double length;\r\n\r\n\t@Column\r\n\tprivate double height;\r\n\r\n\t@Column\r\n\tprivate boolean builtIn = false;\r\n\t\r\n\t\r\n\r\n\t@NotNull(message = &quot;Please provide your brand&quot;)\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;brand_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n\tprivate Brand brand;\r\n\r\n\t@NotNull(message = &quot;Please provide your category&quot;)\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n\tprivate Category category;\r\n\r\n\t@NotNull(message = &quot;Creation Time can not be null&quot;)\r\n\t@CreationTimestamp\r\n\t@DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n\t@Column(name = &quot;create_at&quot;, updatable = false, nullable = false)\r\n\tprivate OffsetDateTime createAt;\r\n\r\n\t@UpdateTimestamp\r\n\t@DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n\t@Column(name = &quot;update_at&quot;)\r\n\tprivate OffsetDateTime updateAt;\r\n\r\n}\r\n```\r\n\r\n\r\n\r\ni looked on the internet and they says i can not use the Criteria API with Hibernate 6. I am looking for a best practice to filter those data optionally.","title":"How to filter data using Spring Boot 3","body":"<p>I am trying to build an e-commerce api using Spring Boot 3 and Hibernate 6. I am stuck with filtering Products.Java class. I could not find any kind of result on the internet etc. How can i filter some of those fields using Hibernate 6? I need a way to do it, if someone can provide me i would appreciate a lot.</p>\n<pre><code>@Entity\n@Table(name = &quot;t_product&quot;)\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    @Size(min = 10, message = &quot;{validation.sku.size.too_short}&quot;)\n    @Size(max = 100, message = &quot;{validation.sku.size.too_long}&quot;)\n    private String sku;\n\n    @Column(nullable = false)\n    @Size(min = 5, message = &quot;{validation.title.size.too_short}&quot;)\n    @Size(max = 150, message = &quot;{validation.title.size.too_long}&quot;)\n    private String title;\n\n    @Column(length = 300)\n    private String short_desc;\n\n    @Column\n    private String long_desc;\n\n    @Column\n    private BigDecimal price;\n\n    @Column\n    private BigDecimal tax;\n\n    @Min(0)\n    @Max(100)\n    @Column\n    private int discount;\n\n    @Column\n    private int stock_amount;\n\n    @Column\n    private int stock_alarm_limit;\n\n    @NotBlank\n    @Size(min = 5, max = 200)\n    @URL\n    @Column(nullable = false, length = 200)\n    private String slug;\n\n    @Column(nullable = false)\n    private boolean featured = false;\n\n    @Column\n    private String image;\n\n    @Column\n    private boolean new_product;\n\n    @Column\n    private int likes = 0;\n\n    @NotNull(message = &quot;Status field can not be null&quot;)\n    @Column(nullable = false)\n    private StatusZeroAndOne status;\n\n    @Column\n    private double witdh;\n\n    @Column\n    private double length;\n\n    @Column\n    private double height;\n\n    @Column\n    private boolean builtIn = false;\n    \n    \n\n    @NotNull(message = &quot;Please provide your brand&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;brand_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Brand brand;\n\n    @NotNull(message = &quot;Please provide your category&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Category category;\n\n    @NotNull(message = &quot;Creation Time can not be null&quot;)\n    @CreationTimestamp\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n    @Column(name = &quot;create_at&quot;, updatable = false, nullable = false)\n    private OffsetDateTime createAt;\n\n    @UpdateTimestamp\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n    @Column(name = &quot;update_at&quot;)\n    private OffsetDateTime updateAt;\n\n}\n</code></pre>\n<p>i looked on the internet and they says i can not use the Criteria API with Hibernate 6. I am looking for a best practice to filter those data optionally.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2792617,"reputation":1108,"user_id":2402558,"accept_rate":69,"display_name":"Christopher Wirt"},"score":2,"creation_date":1404743737,"post_id":24613025,"comment_id":38139911,"body_markdown":"If this is an exercise, perhaps you should be doing this yourself.","body":"If this is an exercise, perhaps you should be doing this yourself."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1404743747,"post_id":24613025,"comment_id":38139921,"body_markdown":"Try to use a [decision table](http://en.wikipedia.org/wiki/Decision_table) to see which options/combinations have the same results and which conditions to use.","body":"Try to use a <a href=\"http://en.wikipedia.org/wiki/Decision_table\" rel=\"nofollow noreferrer\">decision table</a> to see which options/combinations have the same results and which conditions to use."},{"owner":{"account_id":4331685,"reputation":110,"user_id":3537029,"display_name":"Liviu Jianu"},"score":0,"creation_date":1404744243,"post_id":24613025,"comment_id":38140271,"body_markdown":"@ChristopherWirt, yes, I am doing it. That was an alternate way. I want to find several alternate solutions to it using only the basic things in java. I want to find an optimized way of doing it.","body":"@ChristopherWirt, yes, I am doing it. That was an alternate way. I want to find several alternate solutions to it using only the basic things in java. I want to find an optimized way of doing it."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404749425,"post_id":24613025,"comment_id":38143726,"body_markdown":"It can, of course, be done without any `if` statements at all.","body":"It can, of course, be done without any <code>if</code> statements at all."}],"answers":[{"tags":[],"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404743759,"creation_date":1404743759,"answer_id":24613177,"question_id":24613025,"body_markdown":"First of all, you might be better off posting this type of question to [CodeReview][1].\r\n\r\nDon&#39;t do it in the way you did, no matter how many if there are, because the solution is extremely narrow to a specific case (think of having to use 3 numbers now) and it does not make any use of Java-typical features. Better try to think of a more general solution and make use of at least Java classes.\r\n\r\nIndependently from that remark, just iterate through your source lists/arrays until you have enough in your target.\r\n\r\n\r\n  [1]: https://codereview.stackexchange.com/","title":"How would you solve this with as few ifs as possible?","body":"<p>First of all, you might be better off posting this type of question to <a href=\"https://codereview.stackexchange.com/\">CodeReview</a>.</p>\n\n<p>Don't do it in the way you did, no matter how many if there are, because the solution is extremely narrow to a specific case (think of having to use 3 numbers now) and it does not make any use of Java-typical features. Better try to think of a more general solution and make use of at least Java classes.</p>\n\n<p>Independently from that remark, just iterate through your source lists/arrays until you have enough in your target.</p>\n"},{"tags":[],"owner":{"account_id":3975478,"reputation":7417,"user_id":3283790,"display_name":"Jamie Cockburn"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1404746677,"creation_date":1404744044,"answer_id":24613273,"question_id":24613025,"body_markdown":"Use some loops!\r\n\r\n    public static int[] make2(int[]... arrays) {\r\n    \tint[] result = new int[2];\r\n    \tint i = 0;\r\n    \tfor (int[] array : arrays) {\r\n    \t\tfor (int value : array) {\r\n    \t\t\tresult[i++] = value;\r\n    \t\t\tif (i &gt; 1)\r\n    \t\t\t\treturn result;\r\n    \t\t}\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\nIf you don&#39;t like the varargs parameter, you can do this instead:\r\n\r\n    public static int[] make2(int[] a, int[] b) {\r\n   \t\tint[][] arrays = new int[][] {a, b};\r\n        ...\r\n    }\r\n\r\n    \t","title":"How would you solve this with as few ifs as possible?","body":"<p>Use some loops!</p>\n\n<pre><code>public static int[] make2(int[]... arrays) {\n    int[] result = new int[2];\n    int i = 0;\n    for (int[] array : arrays) {\n        for (int value : array) {\n            result[i++] = value;\n            if (i &gt; 1)\n                return result;\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>If you don't like the varargs parameter, you can do this instead:</p>\n\n<pre><code>public static int[] make2(int[] a, int[] b) {\n    int[][] arrays = new int[][] {a, b};\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1404745610,"creation_date":1404745279,"answer_id":24613726,"question_id":24613025,"body_markdown":"Probably not what the creator of this problem had in mind, but what the heck:\r\n\r\n    static Integer[] combine( Integer[] a, Integer[]b ){\r\n        List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\r\n        intList.addAll( Arrays.asList( a ) );\r\n        intList.addAll( Arrays.asList( b ) );\r\n        return Arrays.copyOf( intList.toArray( a ), 2 );\r\n    }\r\n\r\nIn a more conventional approach:\r\n\r\n    static Integer[] combine( Integer[] a, Integer[]b ){\r\n        if( a.length &gt;= 2 ){\r\n            return Arrays.copyOf( a, 2 );\r\n        } else {\r\n            if( a.length == 1 ){\r\n                return new Integer[]{ a[0], b[0] };\r\n            } else {\r\n                return Arrays.copyOf( b, 2 );\r\n            }\r\n        }\r\n    }\r\n","title":"How would you solve this with as few ifs as possible?","body":"<p>Probably not what the creator of this problem had in mind, but what the heck:</p>\n\n<pre><code>static Integer[] combine( Integer[] a, Integer[]b ){\n    List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\n    intList.addAll( Arrays.asList( a ) );\n    intList.addAll( Arrays.asList( b ) );\n    return Arrays.copyOf( intList.toArray( a ), 2 );\n}\n</code></pre>\n\n<p>In a more conventional approach:</p>\n\n<pre><code>static Integer[] combine( Integer[] a, Integer[]b ){\n    if( a.length &gt;= 2 ){\n        return Arrays.copyOf( a, 2 );\n    } else {\n        if( a.length == 1 ){\n            return new Integer[]{ a[0], b[0] };\n        } else {\n            return Arrays.copyOf( b, 2 );\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9293645,"reputation":11,"user_id":6901329,"display_name":"Brendan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475175563,"creation_date":1475175563,"answer_id":39778046,"question_id":24613025,"body_markdown":"This is the way I solved it. Total of 2 if statements.\r\n\r\n    public int[] make2(int[] a, int[] b) {\r\n        if (a.length == 0) {\r\n            return new int[] {b[0], b[1]};\r\n        }\r\n        if (a.length &gt; 1) {\r\n            return new int[] {a[0], a[1]};\r\n        }\r\n        return new int[] {a[0], b[0]};\r\n    }","title":"How would you solve this with as few ifs as possible?","body":"<p>This is the way I solved it. Total of 2 if statements.</p>\n\n<pre><code>public int[] make2(int[] a, int[] b) {\n    if (a.length == 0) {\n        return new int[] {b[0], b[1]};\n    }\n    if (a.length &gt; 1) {\n        return new int[] {a[0], a[1]};\n    }\n    return new int[] {a[0], b[0]};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25655663,"reputation":1,"user_id":19422117,"display_name":"Dmitrii Reznichenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697474777,"creation_date":1697425974,"answer_id":77299206,"question_id":24613025,"body_markdown":"My solution is dynamic and pretty short:\r\n\r\n```java\r\npublic int[] make2(int[] a, int[] b) {\r\n    int[] result = new int[2];\r\n    for (int i = 0; i &lt; result.length; i++) {\r\n        if (i &lt; a.length) {\r\n            result[i] = a[i];\r\n        } else\r\n            result[i] = b[Math.abs(i - a.length)];\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n","title":"How would you solve this with as few ifs as possible?","body":"<p>My solution is dynamic and pretty short:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] make2(int[] a, int[] b) {\n    int[] result = new int[2];\n    for (int i = 0; i &lt; result.length; i++) {\n        if (i &lt; a.length) {\n            result[i] = a[i];\n        } else\n            result[i] = b[Math.abs(i - a.length)];\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":4331685,"reputation":110,"user_id":3537029,"display_name":"Liviu Jianu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":5,"score":-2,"last_activity_date":1697474777,"creation_date":1404743343,"question_id":24613025,"body_markdown":"Given 2 int arrays, a and b, return a new array length 2 containing, as much as will fit, the elements from a followed by the elements from b. The arrays may be any length, including 0, but there will be 2 or more elements available between the 2 arrays. \r\n\r\n    make2({4, 5}, {1, 2, 3})  {4, 5}\r\n    make2({4}, {1, 2, 3})  {4, 1}\r\n    make2({}, {1, 2})  {1, 2}\r\n\r\nA basic way would be this:\r\n    \r\n    public int[] make2(int[] a, int[] b) {\r\n    int[] c = new int[]{0,0};\r\n    if(a.length&lt;1 &amp;&amp; b.length&gt;1)\r\n      c = new int[]{b[0],b[1]};\r\n    if(a.length ==1 &amp;&amp; b.length==1)\r\n      c = new int[]{a[0],b[0]};\r\n    if(a.length ==1 &amp;&amp; b.length&gt;=2)\r\n      c = new int[]{a[0],b[0]};\r\n    if(a.length &gt;=2 &amp;&amp; b.length&lt;2)\r\n      c = new int[]{a[0],a[1]};\r\n    if((a.length&gt;=2)&amp;&amp;(b.length&gt;=2))\r\n      c= new int[]{a[0],a[1]};\r\n    return c;\r\n    } \r\n\r\n\r\nThe exercise is from [CodingBat.com](http://codingbat.com)","title":"How would you solve this with as few ifs as possible?","body":"<p>Given 2 int arrays, a and b, return a new array length 2 containing, as much as will fit, the elements from a followed by the elements from b. The arrays may be any length, including 0, but there will be 2 or more elements available between the 2 arrays. </p>\n\n<pre><code>make2({4, 5}, {1, 2, 3})  {4, 5}\nmake2({4}, {1, 2, 3})  {4, 1}\nmake2({}, {1, 2})  {1, 2}\n</code></pre>\n\n<p>A basic way would be this:</p>\n\n<pre><code>public int[] make2(int[] a, int[] b) {\nint[] c = new int[]{0,0};\nif(a.length&lt;1 &amp;&amp; b.length&gt;1)\n  c = new int[]{b[0],b[1]};\nif(a.length ==1 &amp;&amp; b.length==1)\n  c = new int[]{a[0],b[0]};\nif(a.length ==1 &amp;&amp; b.length&gt;=2)\n  c = new int[]{a[0],b[0]};\nif(a.length &gt;=2 &amp;&amp; b.length&lt;2)\n  c = new int[]{a[0],a[1]};\nif((a.length&gt;=2)&amp;&amp;(b.length&gt;=2))\n  c= new int[]{a[0],a[1]};\nreturn c;\n} \n</code></pre>\n\n<p>The exercise is from <a href=\"http://codingbat.com\" rel=\"nofollow\">CodingBat.com</a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1697469911,"post_id":77299158,"comment_id":136280754,"body_markdown":"I would suggest using a `Dialog`. Try to alter `Custom Login Dialog` from https://code.makery.ch/blog/javafx-dialogs-official/.","body":"I would suggest using a <code>Dialog</code>. Try to alter <code>Custom Login Dialog</code> from <a href=\"https://code.makery.ch/blog/javafx-dialogs-official/\" rel=\"nofollow noreferrer\">code.makery.ch/blog/javafx-dialogs-official</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1697473626,"post_id":77299158,"comment_id":136281453,"body_markdown":"If you do not use a `Dialog`, you will have to pass the data to the new view using [this](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) or [this](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml). You will have to get the results back.  I would also recommend setting the stage initOwner and modality. See [this](https://stackoverflow.com/questions/31046945/javafx-stage-modality)","body":"If you do not use a <code>Dialog</code>, you will have to pass the data to the new view using <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">this</a> or <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">this</a>. You will have to get the results back.  I would also recommend setting the stage initOwner and modality. See <a href=\"https://stackoverflow.com/questions/31046945/javafx-stage-modality\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697474147,"creation_date":1697473135,"answer_id":77303515,"question_id":77299158,"body_markdown":"I would suggest using a `Dialog`. I edited the code from [here](https://stackoverflow.com/questions/77298240/left-justify-buttons-inside-of-an-hbox-inside-a-pagnition-if-that-matters) and [here](https://code.makery.ch/blog/javafx-dialogs-official/). \r\n```\r\nimport javafx.application.Application;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.Optional;\r\nimport javafx.application.Platform;\r\nimport javafx.beans.Observable;\r\nimport javafx.beans.property.ObjectProperty;\r\nimport javafx.beans.property.SimpleObjectProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.control.ButtonBar.ButtonData;\r\n\r\npublic class App extends Application\r\n{\r\n    public class MyEvent{\r\n        private final StringProperty title = new SimpleStringProperty(); \r\n        private final ObjectProperty&lt;LocalDate&gt; when = new SimpleObjectProperty();\r\n        \r\n        public MyEvent( String title , LocalDate when ) \r\n        { \r\n            this.title.set(title);\r\n            this.when.set(when);\r\n        }\r\n\r\n        public String getTitle() {\r\n            return title.get();\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title.set(title);\r\n        }\r\n\r\n        public StringProperty titleProperty(){\r\n            return this.title;\r\n        }\r\n        \r\n        public LocalDate getWhen() {\r\n            return when.get();\r\n        }\r\n\r\n        public void setWhen(LocalDate when) {\r\n            this.when.set(when);\r\n        }        \r\n\r\n        public ObjectProperty&lt;LocalDate&gt; whenProperty(){\r\n            return when;\r\n        }      \r\n    }\r\n    \r\n    @Override\r\n    public void start ( Stage stage ) throws IOException\r\n    {        \r\n        List&lt;MyEvent&gt; myEvents = new ArrayList();\r\n        myEvents.add(new MyEvent ( &quot;A bit of text&quot; , LocalDate.now ()));\r\n        myEvents.add(new MyEvent ( &quot;Even more text than that.&quot; , LocalDate.now ( ).plusDays ( 1 ) ));\r\n        myEvents.add(new MyEvent ( &quot;Lots and lots and lots of text for a very long line.&quot; , LocalDate.now ( ).plusDays ( 2 ) ));\r\n        ObservableList &lt; MyEvent &gt; events = FXCollections.observableArrayList(myEvent -&gt; new Observable[]{myEvent.whenProperty(), myEvent.titleProperty()});\r\n        events.setAll(myEvents);\r\n        \r\n        ListView &lt; MyEvent &gt; eventView = new ListView &lt;&gt; ( events );\r\n        eventView.setCellFactory (( ListView &lt; MyEvent &gt; listView ) -&gt; new ListCell &lt; MyEvent &gt; ( )\r\n        {\r\n            Button editButton = new Button ( &quot;Edit&quot; );\r\n            Button completedButton = new Button ( &quot;Completed&quot; );\r\n            Label label = new Label (  );\r\n            Label labelTwo = new Label( );\r\n            Region spacer = new Region ( );\r\n            VBox vBox = new VBox(label, labelTwo);\r\n            HBox rowBox = new HBox ( vBox , spacer , editButton , completedButton );            \r\n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd&quot;);\r\n            {\r\n                // Mind the gap between label and buttons.\r\n                HBox.setHgrow ( spacer , Priority.ALWAYS );\r\n                rowBox.setAlignment ( Pos.CENTER );\r\n                rowBox.setSpacing ( 7 );\r\n            }\r\n                   \r\n            \r\n            @Override\r\n            protected void updateItem ( MyEvent item , boolean empty )\r\n            {\r\n                super.updateItem ( item , empty );\r\n                if ( empty || item == null )\r\n                {\r\n                    setText ( null );\r\n                    setGraphic ( null );\r\n                } \r\n                else\r\n                {                   \r\n                    label.setText(item.getTitle());\r\n                    labelTwo.setText(&quot;\\tDue: &quot; + item.getWhen().format(dateTimeFormatter));\r\n                    editButton.setOnAction (actionEvent -&gt;\r\n                    {                        \r\n                        System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.getTitle());\r\n                        createCustomEditMyEventDialog(item);                     \r\n                    });\r\n                    completedButton.setOnAction ( actionEvent -&gt;\r\n                    {\r\n                        System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.getTitle());\r\n                    });\r\n                    \r\n                    setGraphic ( rowBox );\r\n                }\r\n            }\r\n        } );\r\n\r\n        BorderPane pane = new BorderPane ( );\r\n        pane.setCenter ( eventView );\r\n\r\n        Scene scene = new Scene ( pane , 700 , 300 );\r\n        stage.setScene ( scene );\r\n        stage.setTitle ( &quot;Schedule Example&quot; );\r\n        stage.show ( );\r\n    }\r\n\r\n    public void createCustomEditMyEventDialog(MyEvent item)\r\n    {\r\n        // Create the custom dialog.\r\n        Dialog&lt;MyEvent&gt; dialog = new Dialog&lt;&gt;();\r\n        dialog.setTitle(&quot;Edit Dialog&quot;);\r\n        dialog.setHeaderText(&quot;Edit &quot; + item.getTitle());\r\n\r\n\r\n        // Set the button types.\r\n        ButtonType doneButtonType = new ButtonType(&quot;Done&quot;, ButtonData.OK_DONE);\r\n        dialog.getDialogPane().getButtonTypes().addAll(doneButtonType, ButtonType.CANCEL);\r\n\r\n        // Create the username and password labels and fields.\r\n        GridPane grid = new GridPane();\r\n        grid.setHgap(10);\r\n        grid.setVgap(10);\r\n        grid.setPadding(new Insets(20, 150, 10, 10));\r\n\r\n        TextField tfTitle = new TextField(item.getTitle());\r\n        tfTitle.setPromptText(&quot;Title&quot;);\r\n        DatePicker dpDate = new DatePicker(item.getWhen());\r\n\r\n        grid.add(new Label(&quot;Date:&quot;), 0, 0);\r\n        grid.add(tfTitle, 1, 0);\r\n        grid.add(new Label(&quot;Password:&quot;), 0, 1);\r\n        grid.add(dpDate, 1, 1);\r\n\r\n        Node doneButton = dialog.getDialogPane().lookupButton(doneButtonType);\r\n        doneButton.setDisable(true);\r\n\r\n        // Do some validation (using the Java 8 lambda syntax).\r\n        tfTitle.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n            doneButton.setDisable(newValue.trim().isEmpty());\r\n        });\r\n\r\n        dialog.getDialogPane().setContent(grid);\r\n\r\n        // Request focus on the tfTitle field by default.\r\n        Platform.runLater(() -&gt; tfTitle.requestFocus());\r\n\r\n        dialog.setResultConverter(dialogButton -&gt; {\r\n            if (dialogButton == doneButtonType) {\r\n                return new MyEvent(tfTitle.getText(), dpDate.getValue());\r\n            }\r\n            return null;\r\n        });\r\n\r\n        Optional&lt;MyEvent&gt; result = dialog.showAndWait();\r\n        result.ifPresent(myEvent -&gt;{\r\n            item.setTitle(myEvent.getTitle());\r\n            item.setWhen(myEvent.getWhen());\r\n        });\r\n    }\r\n    \r\n    public static void main ( String[] args )\r\n    {\r\n        launch ( );\r\n    }\r\n}\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U5Qxh.gif","title":"Can&#39;t update Label with String from Pagination createPage() funcion","body":"<p>I would suggest using a <code>Dialog</code>. I edited the code from <a href=\"https://stackoverflow.com/questions/77298240/left-justify-buttons-inside-of-an-hbox-inside-a-pagnition-if-that-matters\">here</a> and <a href=\"https://code.makery.ch/blog/javafx-dialogs-official/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Optional;\nimport javafx.application.Platform;\nimport javafx.beans.Observable;\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.geometry.Insets;\nimport javafx.scene.Node;\nimport javafx.scene.control.ButtonBar.ButtonData;\n\npublic class App extends Application\n{\n    public class MyEvent{\n        private final StringProperty title = new SimpleStringProperty(); \n        private final ObjectProperty&lt;LocalDate&gt; when = new SimpleObjectProperty();\n        \n        public MyEvent( String title , LocalDate when ) \n        { \n            this.title.set(title);\n            this.when.set(when);\n        }\n\n        public String getTitle() {\n            return title.get();\n        }\n\n        public void setTitle(String title) {\n            this.title.set(title);\n        }\n\n        public StringProperty titleProperty(){\n            return this.title;\n        }\n        \n        public LocalDate getWhen() {\n            return when.get();\n        }\n\n        public void setWhen(LocalDate when) {\n            this.when.set(when);\n        }        \n\n        public ObjectProperty&lt;LocalDate&gt; whenProperty(){\n            return when;\n        }      \n    }\n    \n    @Override\n    public void start ( Stage stage ) throws IOException\n    {        \n        List&lt;MyEvent&gt; myEvents = new ArrayList();\n        myEvents.add(new MyEvent ( &quot;A bit of text&quot; , LocalDate.now ()));\n        myEvents.add(new MyEvent ( &quot;Even more text than that.&quot; , LocalDate.now ( ).plusDays ( 1 ) ));\n        myEvents.add(new MyEvent ( &quot;Lots and lots and lots of text for a very long line.&quot; , LocalDate.now ( ).plusDays ( 2 ) ));\n        ObservableList &lt; MyEvent &gt; events = FXCollections.observableArrayList(myEvent -&gt; new Observable[]{myEvent.whenProperty(), myEvent.titleProperty()});\n        events.setAll(myEvents);\n        \n        ListView &lt; MyEvent &gt; eventView = new ListView &lt;&gt; ( events );\n        eventView.setCellFactory (( ListView &lt; MyEvent &gt; listView ) -&gt; new ListCell &lt; MyEvent &gt; ( )\n        {\n            Button editButton = new Button ( &quot;Edit&quot; );\n            Button completedButton = new Button ( &quot;Completed&quot; );\n            Label label = new Label (  );\n            Label labelTwo = new Label( );\n            Region spacer = new Region ( );\n            VBox vBox = new VBox(label, labelTwo);\n            HBox rowBox = new HBox ( vBox , spacer , editButton , completedButton );            \n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd&quot;);\n            {\n                // Mind the gap between label and buttons.\n                HBox.setHgrow ( spacer , Priority.ALWAYS );\n                rowBox.setAlignment ( Pos.CENTER );\n                rowBox.setSpacing ( 7 );\n            }\n                   \n            \n            @Override\n            protected void updateItem ( MyEvent item , boolean empty )\n            {\n                super.updateItem ( item , empty );\n                if ( empty || item == null )\n                {\n                    setText ( null );\n                    setGraphic ( null );\n                } \n                else\n                {                   \n                    label.setText(item.getTitle());\n                    labelTwo.setText(&quot;\\tDue: &quot; + item.getWhen().format(dateTimeFormatter));\n                    editButton.setOnAction (actionEvent -&gt;\n                    {                        \n                        System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.getTitle());\n                        createCustomEditMyEventDialog(item);                     \n                    });\n                    completedButton.setOnAction ( actionEvent -&gt;\n                    {\n                        System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.getTitle());\n                    });\n                    \n                    setGraphic ( rowBox );\n                }\n            }\n        } );\n\n        BorderPane pane = new BorderPane ( );\n        pane.setCenter ( eventView );\n\n        Scene scene = new Scene ( pane , 700 , 300 );\n        stage.setScene ( scene );\n        stage.setTitle ( &quot;Schedule Example&quot; );\n        stage.show ( );\n    }\n\n    public void createCustomEditMyEventDialog(MyEvent item)\n    {\n        // Create the custom dialog.\n        Dialog&lt;MyEvent&gt; dialog = new Dialog&lt;&gt;();\n        dialog.setTitle(&quot;Edit Dialog&quot;);\n        dialog.setHeaderText(&quot;Edit &quot; + item.getTitle());\n\n\n        // Set the button types.\n        ButtonType doneButtonType = new ButtonType(&quot;Done&quot;, ButtonData.OK_DONE);\n        dialog.getDialogPane().getButtonTypes().addAll(doneButtonType, ButtonType.CANCEL);\n\n        // Create the username and password labels and fields.\n        GridPane grid = new GridPane();\n        grid.setHgap(10);\n        grid.setVgap(10);\n        grid.setPadding(new Insets(20, 150, 10, 10));\n\n        TextField tfTitle = new TextField(item.getTitle());\n        tfTitle.setPromptText(&quot;Title&quot;);\n        DatePicker dpDate = new DatePicker(item.getWhen());\n\n        grid.add(new Label(&quot;Date:&quot;), 0, 0);\n        grid.add(tfTitle, 1, 0);\n        grid.add(new Label(&quot;Password:&quot;), 0, 1);\n        grid.add(dpDate, 1, 1);\n\n        Node doneButton = dialog.getDialogPane().lookupButton(doneButtonType);\n        doneButton.setDisable(true);\n\n        // Do some validation (using the Java 8 lambda syntax).\n        tfTitle.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n            doneButton.setDisable(newValue.trim().isEmpty());\n        });\n\n        dialog.getDialogPane().setContent(grid);\n\n        // Request focus on the tfTitle field by default.\n        Platform.runLater(() -&gt; tfTitle.requestFocus());\n\n        dialog.setResultConverter(dialogButton -&gt; {\n            if (dialogButton == doneButtonType) {\n                return new MyEvent(tfTitle.getText(), dpDate.getValue());\n            }\n            return null;\n        });\n\n        Optional&lt;MyEvent&gt; result = dialog.showAndWait();\n        result.ifPresent(myEvent -&gt;{\n            item.setTitle(myEvent.getTitle());\n            item.setWhen(myEvent.getWhen());\n        });\n    }\n    \n    public static void main ( String[] args )\n    {\n        launch ( );\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/U5Qxh.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U5Qxh.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697474147,"creation_date":1697424480,"question_id":77299158,"body_markdown":"Learning JavaFx, made another post recently \r\n\r\nMy problem: I have a label in my scene &quot;editScene&quot; which I want to update based on which edit button is pressed. Right now I have a Pagination of a ListView, (on my &quot;displayScene&quot;) containing a Label, and two buttons, one being an edit button. When this is pressed, I would like to take the contents of the label before it, and output it onto the new label on the next scene. However it won&#39;t work. No matter what I can&#39;t update the label anywhere but initialize() which doesn&#39;t have access to the item I want. Below is all code that might be necessary.\r\n```\r\n@FXML\r\n    public void initialize(){\r\n        //input for schedule\r\n        inputOutput = new InputOutput();\r\n        schedule = inputOutput.inputSchedule();\r\n        Collections.sort(schedule);\r\n        //set mainView = mainImage\r\n        mainView.setImage(mainImage);\r\n        //set up display pages\r\n        displayPagination.setPageCount((int)Math.ceil((double) schedule.size()/maxPerPage));\r\n        displayPagination.setPageFactory(this::createPage);\r\n    }\r\n```\r\n\r\n```\r\n@FXML\r\n public void switchToEditScene(ActionEvent event) throws IOException{\r\n        root = FXMLLoader.load(getClass().getResource(&quot;editScene.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        scene.getStylesheets().add(css);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n```\r\n\r\n```\r\n@FXML\r\n    public Node createPage(int pageIndex){\r\n        ListView&lt;Event&gt; eventView = new ListView&lt;&gt;();\r\n        int fromIndex = pageIndex * maxPerPage;\r\n        int toIndex = Math.min(fromIndex + maxPerPage, schedule.size());\r\n        List&lt;Event&gt; eventString = schedule.subList(fromIndex, toIndex);\r\n        //testing buttons\r\n        eventView.setCellFactory(param -&gt; new ListCell&lt;Event&gt;(){\r\n            @Override\r\n            protected void updateItem(Event item, boolean empty){\r\n                super.updateItem(item,empty);\r\n                if(empty || item == null){\r\n                    setText(null);\r\n                    setGraphic(null);\r\n                } else{\r\n                    Label label = new Label(item.display());\r\n\r\n                    Button editButton = new Button (&quot;Edit&quot;);\r\n\r\n                    Button completedButton = new Button (&quot;Completed&quot;);\r\n                    Label test = new Label(item.display());\r\n                    editLabel = test;\r\n                    editButton.setOnAction(event -&gt;{\r\n                        edittedTask = item;\r\n                        try{\r\n                             switchToEditScene(event);\r\n                        } catch(IOException e){\r\n                            e.printStackTrace();\r\n                    }\r\n\r\n                    });\r\n                    \r\n                    completedButton.setOnAction(event -&gt;{\r\n                        System.out.println(&quot;done&quot;);\r\n                        System.out.println(item);\r\n                    });\r\n                    \r\n                    HBox eventHbox = new HBox(label);\r\n\r\n                    HBox buttonHbox = new HBox(editButton,completedButton);\r\n\r\n                    buttonHbox.setSpacing(50);\r\n\r\n                    buttonHbox.setAlignment(Pos.CENTER_RIGHT);\r\n\r\n                    HBox.setMargin(buttonHbox,new Insets(0,0,0,400));\r\n                    \r\n                    HBox hbox = new HBox(eventHbox,buttonHbox);\r\n                    \r\n                    setGraphic(hbox);\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        ObservableList&lt;Event&gt; observableEventList = FXCollections.observableArrayList((eventString));\r\n        eventView.setItems(observableEventList);\r\n        return eventView;\r\n    }\r\n    @FXML\r\n    public void handlePreviousPage(){\r\n        if(currentPage &gt; 0){\r\n            currentPage--;\r\n            displayPagination.setCurrentPageIndex(currentPage);\r\n        }\r\n    }\r\n    @FXML\r\n    public void handleNextPage(){\r\n        if(currentPage &lt; displayPagination.getPageCount()-1){\r\n            currentPage++;\r\n            displayPagination.setCurrentPageIndex(currentPage);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\nI have tried to use a memeber variable, in which I assign item to, and then have a conditional checking if null in my initialize() and otherwise assigning the label, however the variable is always considered null, even tho after assigning variable = item, and then sout(variable) i can see it contains the data I need, just not when it gets to initialize()\r\n\r\n\r\nalso if u responded to my last post and wondering why I&#39;m still using ListView i&#39;ll swap soon just got preoccupied with this.","title":"Can&#39;t update Label with String from Pagination createPage() funcion","body":"<p>Learning JavaFx, made another post recently</p>\n<p>My problem: I have a label in my scene &quot;editScene&quot; which I want to update based on which edit button is pressed. Right now I have a Pagination of a ListView, (on my &quot;displayScene&quot;) containing a Label, and two buttons, one being an edit button. When this is pressed, I would like to take the contents of the label before it, and output it onto the new label on the next scene. However it won't work. No matter what I can't update the label anywhere but initialize() which doesn't have access to the item I want. Below is all code that might be necessary.</p>\n<pre><code>@FXML\n    public void initialize(){\n        //input for schedule\n        inputOutput = new InputOutput();\n        schedule = inputOutput.inputSchedule();\n        Collections.sort(schedule);\n        //set mainView = mainImage\n        mainView.setImage(mainImage);\n        //set up display pages\n        displayPagination.setPageCount((int)Math.ceil((double) schedule.size()/maxPerPage));\n        displayPagination.setPageFactory(this::createPage);\n    }\n</code></pre>\n<pre><code>@FXML\n public void switchToEditScene(ActionEvent event) throws IOException{\n        root = FXMLLoader.load(getClass().getResource(&quot;editScene.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        scene.getStylesheets().add(css);\n        stage.setScene(scene);\n        stage.show();\n    }\n</code></pre>\n<pre><code>@FXML\n    public Node createPage(int pageIndex){\n        ListView&lt;Event&gt; eventView = new ListView&lt;&gt;();\n        int fromIndex = pageIndex * maxPerPage;\n        int toIndex = Math.min(fromIndex + maxPerPage, schedule.size());\n        List&lt;Event&gt; eventString = schedule.subList(fromIndex, toIndex);\n        //testing buttons\n        eventView.setCellFactory(param -&gt; new ListCell&lt;Event&gt;(){\n            @Override\n            protected void updateItem(Event item, boolean empty){\n                super.updateItem(item,empty);\n                if(empty || item == null){\n                    setText(null);\n                    setGraphic(null);\n                } else{\n                    Label label = new Label(item.display());\n\n                    Button editButton = new Button (&quot;Edit&quot;);\n\n                    Button completedButton = new Button (&quot;Completed&quot;);\n                    Label test = new Label(item.display());\n                    editLabel = test;\n                    editButton.setOnAction(event -&gt;{\n                        edittedTask = item;\n                        try{\n                             switchToEditScene(event);\n                        } catch(IOException e){\n                            e.printStackTrace();\n                    }\n\n                    });\n                    \n                    completedButton.setOnAction(event -&gt;{\n                        System.out.println(&quot;done&quot;);\n                        System.out.println(item);\n                    });\n                    \n                    HBox eventHbox = new HBox(label);\n\n                    HBox buttonHbox = new HBox(editButton,completedButton);\n\n                    buttonHbox.setSpacing(50);\n\n                    buttonHbox.setAlignment(Pos.CENTER_RIGHT);\n\n                    HBox.setMargin(buttonHbox,new Insets(0,0,0,400));\n                    \n                    HBox hbox = new HBox(eventHbox,buttonHbox);\n                    \n                    setGraphic(hbox);\n                }\n            }\n\n        });\n\n        ObservableList&lt;Event&gt; observableEventList = FXCollections.observableArrayList((eventString));\n        eventView.setItems(observableEventList);\n        return eventView;\n    }\n    @FXML\n    public void handlePreviousPage(){\n        if(currentPage &gt; 0){\n            currentPage--;\n            displayPagination.setCurrentPageIndex(currentPage);\n        }\n    }\n    @FXML\n    public void handleNextPage(){\n        if(currentPage &lt; displayPagination.getPageCount()-1){\n            currentPage++;\n            displayPagination.setCurrentPageIndex(currentPage);\n        }\n    }\n</code></pre>\n<p>I have tried to use a memeber variable, in which I assign item to, and then have a conditional checking if null in my initialize() and otherwise assigning the label, however the variable is always considered null, even tho after assigning variable = item, and then sout(variable) i can see it contains the data I need, just not when it gets to initialize()</p>\n<p>also if u responded to my last post and wondering why I'm still using ListView i'll swap soon just got preoccupied with this.</p>\n"},{"tags":["java","spring","http","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639118969,"creation_date":1639118969,"answer_id":70300714,"question_id":70299241,"body_markdown":"You can not, but you can modify the session&#39;s length to obtain a similar effect:\r\n\r\n```lang-java\r\nfinal HttpServletRequest req = ...;\r\nfinal HttpSession session = req.getSession();\r\nfinal long idleTimeMs = Instant.now().toEpochMilli() - session.getLastAccessedTime();\r\nfinal int maxInactiveSec = session.getMaxInactiveInterval() - (int)(idleTimeMs / 1000);\r\nsession.setMaxInactiveInterval(maxInactiveSec);\r\n```","title":"How can I disable specified request to refresh session timeout in spring/servlet/struts2 framework?","body":"<p>You can not, but you can modify the session's length to obtain a similar effect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final HttpServletRequest req = ...;\nfinal HttpSession session = req.getSession();\nfinal long idleTimeMs = Instant.now().toEpochMilli() - session.getLastAccessedTime();\nfinal int maxInactiveSec = session.getMaxInactiveInterval() - (int)(idleTimeMs / 1000);\nsession.setMaxInactiveInterval(maxInactiveSec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16077388,"reputation":1,"user_id":14701464,"display_name":"Anton Ignatiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697474092,"creation_date":1697473549,"answer_id":77303549,"question_id":70299241,"body_markdown":"At first, create custom classes:\r\n```\r\n\r\n    public class CustomSessionRegistryImpl extends SessionRegistryImpl {\r\n        private Set&lt;String&gt; disabledNextRefreshRequests = ConcurrentHashMap.newKeySet();\r\n    \r\n        public CustomSessionRegistryImpl() {\r\n            super();\r\n        }\r\n    \r\n        public void preventNextRefreshLastRequest(String sessionId) {\r\n            Assert.hasText(sessionId, &quot;SessionId required as per interface contract&quot;);\r\n            disabledNextRefreshRequests.add(sessionId);\r\n        }\r\n    \r\n        @Override\r\n        public void refreshLastRequest(String sessionId) {\r\n            Assert.hasText(sessionId, &quot;SessionId required as per interface contract&quot;);\r\n    \r\n            SessionInformation info = getSessionInformation(sessionId);\r\n    \r\n            if (info != null &amp;&amp; !disabledNextRefreshRequests.contains(sessionId)) {\r\n                info.refreshLastRequest();\r\n            }\r\n            disabledNextRefreshRequests.remove(sessionId);\r\n        }\r\n    }\r\n\r\n```\r\n```\r\n\r\n    @RequiredArgsConstructor\r\n    public class CustomPreConcurrentSessionFilter extends GenericFilterBean {\r\n        @Autowired\r\n        private final SessionRegistry sessionRegistry;\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n                throws ServletException, IOException {\r\n            HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpSession session = request.getSession(false);\r\n            if (session != null) {\r\n                SessionInformation info = sessionRegistry.getSessionInformation(session.getId());\r\n                if (info != null &amp;&amp; !info.isExpired() &amp;&amp; sessionRegistry instanceof CustomSessionRegistryImpl) {\r\n                    boolean shouldPrevent = URL_IGNORE_UPDATE_SESSION_LIFETIME.contains(request.getServletPath());\r\n                    if (shouldPrevent) {\r\n                        ((CustomSessionRegistryImpl) sessionRegistry).preventNextRefreshLastRequest(info.getSessionId());\r\n                    }\r\n                }\r\n                if (info != null &amp;&amp; !info.isExpired()\r\n                        &amp;&amp; (new Date().getTime() - info.getLastRequest().getTime())/1000 &gt;= session.getMaxInactiveInterval()\r\n                ) {\r\n                        //the session has timed out\r\n                        info.expireNow();\r\n                }\r\n            }\r\n            chain.doFilter(req, res);\r\n        }\r\n    }\r\n\r\n```\r\nand then inside @Configuration\r\n```\r\n    @Bean\r\n    public SessionRegistry sessionRegistry() {\r\n        return new CustomSessionRegistryImpl();\r\n    }\r\n    \r\n    @Bean\r\n    public GenericFilterBean getCustomPreConcurrentSessionFilter() {\r\n        return new CustomPreConcurrentSessionFilter(sessionRegistry());\r\n    }\r\n\r\n    ...\r\n    http.sessionManagement()\r\n                .maximumSessions(-1)\r\n                .sessionRegistry(sessionRegistry());\r\n    http.addFilterBefore(getCustomPreConcurrentSessionFilter(), ConcurrentSessionFilter.class);\r\n\r\n```\r\n","title":"How can I disable specified request to refresh session timeout in spring/servlet/struts2 framework?","body":"<p>At first, create custom classes:</p>\n<pre><code>\n    public class CustomSessionRegistryImpl extends SessionRegistryImpl {\n        private Set&lt;String&gt; disabledNextRefreshRequests = ConcurrentHashMap.newKeySet();\n    \n        public CustomSessionRegistryImpl() {\n            super();\n        }\n    \n        public void preventNextRefreshLastRequest(String sessionId) {\n            Assert.hasText(sessionId, &quot;SessionId required as per interface contract&quot;);\n            disabledNextRefreshRequests.add(sessionId);\n        }\n    \n        @Override\n        public void refreshLastRequest(String sessionId) {\n            Assert.hasText(sessionId, &quot;SessionId required as per interface contract&quot;);\n    \n            SessionInformation info = getSessionInformation(sessionId);\n    \n            if (info != null &amp;&amp; !disabledNextRefreshRequests.contains(sessionId)) {\n                info.refreshLastRequest();\n            }\n            disabledNextRefreshRequests.remove(sessionId);\n        }\n    }\n\n</code></pre>\n<pre><code>\n    @RequiredArgsConstructor\n    public class CustomPreConcurrentSessionFilter extends GenericFilterBean {\n        @Autowired\n        private final SessionRegistry sessionRegistry;\n    \n        @Override\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n                throws ServletException, IOException {\n            HttpServletRequest request = (HttpServletRequest) req;\n            HttpSession session = request.getSession(false);\n            if (session != null) {\n                SessionInformation info = sessionRegistry.getSessionInformation(session.getId());\n                if (info != null &amp;&amp; !info.isExpired() &amp;&amp; sessionRegistry instanceof CustomSessionRegistryImpl) {\n                    boolean shouldPrevent = URL_IGNORE_UPDATE_SESSION_LIFETIME.contains(request.getServletPath());\n                    if (shouldPrevent) {\n                        ((CustomSessionRegistryImpl) sessionRegistry).preventNextRefreshLastRequest(info.getSessionId());\n                    }\n                }\n                if (info != null &amp;&amp; !info.isExpired()\n                        &amp;&amp; (new Date().getTime() - info.getLastRequest().getTime())/1000 &gt;= session.getMaxInactiveInterval()\n                ) {\n                        //the session has timed out\n                        info.expireNow();\n                }\n            }\n            chain.doFilter(req, res);\n        }\n    }\n\n</code></pre>\n<p>and then inside @Configuration</p>\n<pre><code>    @Bean\n    public SessionRegistry sessionRegistry() {\n        return new CustomSessionRegistryImpl();\n    }\n    \n    @Bean\n    public GenericFilterBean getCustomPreConcurrentSessionFilter() {\n        return new CustomPreConcurrentSessionFilter(sessionRegistry());\n    }\n\n    ...\n    http.sessionManagement()\n                .maximumSessions(-1)\n                .sessionRegistry(sessionRegistry());\n    http.addFilterBefore(getCustomPreConcurrentSessionFilter(), ConcurrentSessionFilter.class);\n\n</code></pre>\n"}],"owner":{"account_id":15409810,"reputation":99,"user_id":11116853,"display_name":"wo4wangle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697474092,"creation_date":1639105172,"question_id":70299241,"body_markdown":"here is the case: \r\nI run a web app in tomcat, the session timeout is 15 minutes.\r\n\r\nSo all request will refresh it&#39;s session timeout.\r\n\r\nI have a request from front-end with path &quot;/not/refresh/sessiontimeout&quot;\r\n\r\nI want &quot;/not/refresh/sessiontimeout&quot; request do not refresh session timeout.\r\n\r\nHow to implement it?","title":"How can I disable specified request to refresh session timeout in spring/servlet/struts2 framework?","body":"<p>here is the case:\nI run a web app in tomcat, the session timeout is 15 minutes.</p>\n<p>So all request will refresh it's session timeout.</p>\n<p>I have a request from front-end with path &quot;/not/refresh/sessiontimeout&quot;</p>\n<p>I want &quot;/not/refresh/sessiontimeout&quot; request do not refresh session timeout.</p>\n<p>How to implement it?</p>\n"},{"tags":["java","xsd","java-11"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1697480898,"post_id":77303594,"comment_id":136282635,"body_markdown":"You need to make sure that the JAXB API jar is included in the classpath when you compile the source code that requires it.","body":"You need to make sure that the JAXB API jar is included in the classpath when you compile the source code that requires it."}],"owner":{"account_id":3089365,"reputation":798,"user_id":2615836,"accept_rate":66,"display_name":"Codes with Hammer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697474072,"creation_date":1697474072,"question_id":77303594,"body_markdown":"I&#39;m converting a large project from Java 8 to Java 11.  I&#39;m running into a common issue, &quot;package javax.xml.bind.annotation does not exist&quot;.  The project does NOT have an IDE supported in Java 11.\r\n\r\nIn one module of this project, I resolved this issue by adding the appropriate JAXB and `javax.activation` dependencies to `ivy.xml`. So far so good.\r\n\r\nAnother module consists solely of `xsd` files.  That module collects the files into a `jar` file, for use by other modules.  This module already had the necessary dependencies in its `ivy.xml` file, but did not compile anything.\r\n\r\nThe consumer module extracts the `jar` and runs `xjc` on the desired `xsd` file, turning `foo.xsd` into `source/generated/foo.java`.  This source file depends on `javax.xml.bind`.\r\n\r\nThe consumer&#39;s build.xml then calls `javac` on the generated Java file.  This step does not pick up the jaxb dependencies in the consumer&#39;s `ivy.xml` file, and so errors out trying to find jaxb.\r\n\r\nShould I move the compilation of the generated jaxb classes into the compilation of the main consumer module?  Or something else?","title":"Compiling XSD files in Java 11, package javax.xml.bind... does not exist","body":"<p>I'm converting a large project from Java 8 to Java 11.  I'm running into a common issue, &quot;package javax.xml.bind.annotation does not exist&quot;.  The project does NOT have an IDE supported in Java 11.</p>\n<p>In one module of this project, I resolved this issue by adding the appropriate JAXB and <code>javax.activation</code> dependencies to <code>ivy.xml</code>. So far so good.</p>\n<p>Another module consists solely of <code>xsd</code> files.  That module collects the files into a <code>jar</code> file, for use by other modules.  This module already had the necessary dependencies in its <code>ivy.xml</code> file, but did not compile anything.</p>\n<p>The consumer module extracts the <code>jar</code> and runs <code>xjc</code> on the desired <code>xsd</code> file, turning <code>foo.xsd</code> into <code>source/generated/foo.java</code>.  This source file depends on <code>javax.xml.bind</code>.</p>\n<p>The consumer's build.xml then calls <code>javac</code> on the generated Java file.  This step does not pick up the jaxb dependencies in the consumer's <code>ivy.xml</code> file, and so errors out trying to find jaxb.</p>\n<p>Should I move the compilation of the generated jaxb classes into the compilation of the main consumer module?  Or something else?</p>\n"},{"tags":["java","arraylist","bufferedreader"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697408473,"post_id":77298567,"comment_id":136272755,"body_markdown":"With questions of this type, it helps to highlight the line(s) in the source code pointed to by the exception message.  So, which is line 28 in the source file for `LoadData&quot; ?","body":"With questions of this type, it helps to highlight the line(s) in the source code pointed to by the exception message.  So, which is line 28 in the source file for `LoadData&quot; ?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697439069,"post_id":77298567,"comment_id":136275118,"body_markdown":"By the way, you can reduce that entire vehicle class to a one-liner: `public record ToyotaVehicle( int modelYear, String modelName, String modelCode, String engine, boolean sedan, String funFact ) {}`","body":"By the way, you can reduce that entire vehicle class to a one-liner: <code>public record ToyotaVehicle( int modelYear, String modelName, String modelCode, String engine, boolean sedan, String funFact ) {}</code>"},{"owner":{"account_id":26779220,"reputation":1,"user_id":20374339,"display_name":"herb"},"score":0,"creation_date":1697465051,"post_id":77298567,"comment_id":136279791,"body_markdown":"@OldDogProgrammer Got it thanks","body":"@OldDogProgrammer Got it thanks"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697408081,"creation_date":1697408081,"answer_id":77298644,"question_id":77298567,"body_markdown":"There&#39;s a blank line in the input file. Possibly at the end. This results in the result of `.split(&quot;,&quot;)` to be a zero-length array, thus resulting in an `ArrayIndexOutOfBoundsException` when trying `fields[0]`. Trivially\r\n by checking for this in your loop:\r\n\r\n```\r\nwhile((line = br.readLine()) != null) {\r\n  if (line.isEmpty()) continue; // add this\r\n  String[] fields = line.split(&quot;,&quot;);\r\n  int modelYear = Integer.parseInt(fields[0]);\r\n  ....\r\n}\r\n```","title":"Problem inputting values from CSV file into ArrayList","body":"<p>There's a blank line in the input file. Possibly at the end. This results in the result of <code>.split(&quot;,&quot;)</code> to be a zero-length array, thus resulting in an <code>ArrayIndexOutOfBoundsException</code> when trying <code>fields[0]</code>. Trivially\nby checking for this in your loop:</p>\n<pre><code>while((line = br.readLine()) != null) {\n  if (line.isEmpty()) continue; // add this\n  String[] fields = line.split(&quot;,&quot;);\n  int modelYear = Integer.parseInt(fields[0]);\n  ....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697473725,"creation_date":1697414069,"answer_id":77298834,"question_id":77298567,"body_markdown":"&gt; _&quot;... When I run the code, I get this error message: ...&quot;_\r\n\r\nThe _[ArrayIndexOutOfBoundsException](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html)_ class is _thrown_ when an _array_ is accessed with an invalid index.\\\r\nFor example, if you had _5_ values and tried to access the _6th_.\r\n\r\nAccording to the error, it was thrown from the _load_ method.\\\r\nThe only _array_ in _load_, is _fields_, so this means that one of the _CSV_ lines is not formatted correctly.\r\n\r\nHere is a way to resolve the error.\r\n\r\nFirst, use a _&amp;minus;1_ _limit_ parameter, with the _[split](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String,int))_ method.\\\r\nThis will preserve trailing commas as empty values, e.g., _&quot;1,2,3,,,&quot;_.\r\n\r\n```java\r\nString[] fields = line.split(&quot;,&quot;, -1);\r\n```\r\n\r\nSkip over any line that does not have _6_ elements.\\\r\nAdditionally, create a _List_ to hold the ill-formatted lines for debugging.\r\n\r\n```java\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n```\r\n\r\n```java\r\nString[] fields = line.split(&quot;,&quot;, -1);\r\nif (fields.length != 6) {\r\n    list.add(line);\r\n    continue;\r\n}\r\n```\r\n\r\nHere is the re-factor.\r\n\r\n```java\r\nvoid load() {\r\n    toyotaVehicleCatalog = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    try(BufferedReader br = new BufferedReader(new FileReader(&quot;./src/files/80stoyota.csv&quot;))) {\r\n        String line = &quot;&quot;;\r\n        while((line = br.readLine()) != null) {\r\n            String[] fields = line.split(&quot;,&quot;, -1);\r\n            if (fields.length != 6) {\r\n                list.add(line);\r\n                continue;\r\n            }\r\n            int modelYear = Integer.parseInt(fields[0]);\r\n            String modelName = fields[1];\r\n            String modelCode = fields[2];\r\n            String modelEngine = fields[3];\r\n            boolean sedan = fields[4].length() &gt; 0 ? true : false;\r\n            String funFact = fields[5];\r\n\r\n            ToyotaVehicle vehicle = new ToyotaVehicle(modelYear, modelName, modelCode, modelEngine, sedan,                   funFact);\r\n            toyotaVehicleCatalog.add(vehicle);\r\n        }\r\n\r\n    } catch(IOException ex) {\r\n        ex.printStackTrace();\r\n    }\r\n\r\n    list.forEach(System.out::println);\r\n\r\n    for(int i = 0; i &lt; toyotaVehicleCatalog.size(); i++) {\r\n        System.out.println(toyotaVehicleCatalog.get(i));\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere are a some additional un-related recommendations.\r\n\r\nOptionally, just use  _&quot;src/files/80stoyota.csv&quot;_.\\\r\nThe _[File](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html#%3Cinit%3E(java.lang.String))_ class infers a relative path.\r\n\r\nUse the _[Scanner](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html)_ class, instead of _BufferedReader_.\r\n\r\n```java\r\ntry(Scanner in = new Scanner(new File(&quot;src/files/80stoyota.csv&quot;)))\r\n```\r\n\r\nAnd, use a _[record class](https://docs.oracle.com/en/java/javase/20/language/records.html)_ instead of a _class_.\r\n```java\r\nrecord ToyotaVehicle(int y, String n, String c, String e, boolean s, String f) { }\r\n```\r\n\r\nHere is an additional re-factor.\r\n\r\n```java\r\nvoid load() {\r\n    toyotaVehicleCatalog = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    try(Scanner in = new Scanner(&quot;src/files/80stoyota.csv&quot;)) {\r\n        String line = &quot;&quot;, f[];\r\n        while((line = in.nextLine()) != null) {\r\n            f = line.split(&quot;,&quot;, -1);\r\n            if (f.length != 6) {\r\n                list.add(line);\r\n                continue;\r\n            }\r\n            toyotaVehicleCatalog.add(\r\n                new ToyotaVehicle(Integer.parseInt(f[0]), f[1], f[2], f[3], !f[4].isEmpty(), f[5]));\r\n        }\r\n\r\n    }\r\n\r\n    list.forEach(System.out::println);\r\n\r\n    toyotaVehicleCatalog.forEach(System.out::println);\r\n\r\n}\r\n```\r\n\r\n----------\r\nEdit\r\n\r\n&gt; _&quot;... I have commas included in data so it&#39;s splitting it and creating more fields than there should be. I tried using double quotes around fields that contain a comma but no luck. ...&quot;_\r\n\r\nThere are a few ways to resolve this.\r\n\r\nIf you had created the _CSV_ file, just use a different delimiter other than a comma.\\\r\nA _comma_ is not required.\\\r\n_[Wikipedia &amp;ndash; Delimiter-separated values](https://en.wikipedia.org/wiki/Delimiter-separated_values)_.\r\n\r\nIf not, try parsing with a _regular expression pattern_.\\\r\nHere is a relevant question and answer.\\\r\n_[StackOverflow &amp;ndash; Java: splitting a comma-separated string but ignoring commas in quotes](https://stackoverflow.com/questions/1757065/java-splitting-a-comma-separated-string-but-ignoring-commas-in-quotes)_.\r\n\r\nOr, utilize a _third-party library_, I&#39;ve heard that _Apache Commons_ works well for this.\\\r\n_[Apache Commons &amp;ndash; CSV](https://commons.apache.org/proper/commons-csv/)_.","title":"Problem inputting values from CSV file into ArrayList","body":"<blockquote>\n<p><em>&quot;... When I run the code, I get this error message: ...&quot;</em></p>\n</blockquote>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">ArrayIndexOutOfBoundsException</a></em> class is <em>thrown</em> when an <em>array</em> is accessed with an invalid index.<br />\nFor example, if you had <em>5</em> values and tried to access the <em>6th</em>.</p>\n<p>According to the error, it was thrown from the <em>load</em> method.<br />\nThe only <em>array</em> in <em>load</em>, is <em>fields</em>, so this means that one of the <em>CSV</em> lines is not formatted correctly.</p>\n<p>Here is a way to resolve the error.</p>\n<p>First, use a <em>1</em> <em>limit</em> parameter, with the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String,int)\" rel=\"nofollow noreferrer\">split</a></em> method.<br />\nThis will preserve trailing commas as empty values, e.g., <em>&quot;1,2,3,,,&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] fields = line.split(&quot;,&quot;, -1);\n</code></pre>\n<p>Skip over any line that does not have <em>6</em> elements.<br />\nAdditionally, create a <em>List</em> to hold the ill-formatted lines for debugging.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String[] fields = line.split(&quot;,&quot;, -1);\nif (fields.length != 6) {\n    list.add(line);\n    continue;\n}\n</code></pre>\n<p>Here is the re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void load() {\n    toyotaVehicleCatalog = new ArrayList&lt;&gt;();\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    try(BufferedReader br = new BufferedReader(new FileReader(&quot;./src/files/80stoyota.csv&quot;))) {\n        String line = &quot;&quot;;\n        while((line = br.readLine()) != null) {\n            String[] fields = line.split(&quot;,&quot;, -1);\n            if (fields.length != 6) {\n                list.add(line);\n                continue;\n            }\n            int modelYear = Integer.parseInt(fields[0]);\n            String modelName = fields[1];\n            String modelCode = fields[2];\n            String modelEngine = fields[3];\n            boolean sedan = fields[4].length() &gt; 0 ? true : false;\n            String funFact = fields[5];\n\n            ToyotaVehicle vehicle = new ToyotaVehicle(modelYear, modelName, modelCode, modelEngine, sedan,                   funFact);\n            toyotaVehicleCatalog.add(vehicle);\n        }\n\n    } catch(IOException ex) {\n        ex.printStackTrace();\n    }\n\n    list.forEach(System.out::println);\n\n    for(int i = 0; i &lt; toyotaVehicleCatalog.size(); i++) {\n        System.out.println(toyotaVehicleCatalog.get(i));\n    }\n\n}\n</code></pre>\n<p>Here are a some additional un-related recommendations.</p>\n<p>Optionally, just use  <em>&quot;src/files/80stoyota.csv&quot;</em>.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/File.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">File</a></em> class infers a relative path.</p>\n<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class, instead of <em>BufferedReader</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(Scanner in = new Scanner(new File(&quot;src/files/80stoyota.csv&quot;)))\n</code></pre>\n<p>And, use a <em><a href=\"https://docs.oracle.com/en/java/javase/20/language/records.html\" rel=\"nofollow noreferrer\">record class</a></em> instead of a <em>class</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record ToyotaVehicle(int y, String n, String c, String e, boolean s, String f) { }\n</code></pre>\n<p>Here is an additional re-factor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void load() {\n    toyotaVehicleCatalog = new ArrayList&lt;&gt;();\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    try(Scanner in = new Scanner(&quot;src/files/80stoyota.csv&quot;)) {\n        String line = &quot;&quot;, f[];\n        while((line = in.nextLine()) != null) {\n            f = line.split(&quot;,&quot;, -1);\n            if (f.length != 6) {\n                list.add(line);\n                continue;\n            }\n            toyotaVehicleCatalog.add(\n                new ToyotaVehicle(Integer.parseInt(f[0]), f[1], f[2], f[3], !f[4].isEmpty(), f[5]));\n        }\n\n    }\n\n    list.forEach(System.out::println);\n\n    toyotaVehicleCatalog.forEach(System.out::println);\n\n}\n</code></pre>\n<hr />\n<p>Edit</p>\n<blockquote>\n<p><em>&quot;... I have commas included in data so it's splitting it and creating more fields than there should be. I tried using double quotes around fields that contain a comma but no luck. ...&quot;</em></p>\n</blockquote>\n<p>There are a few ways to resolve this.</p>\n<p>If you had created the <em>CSV</em> file, just use a different delimiter other than a comma.<br />\nA <em>comma</em> is not required.<br />\n<em><a href=\"https://en.wikipedia.org/wiki/Delimiter-separated_values\" rel=\"nofollow noreferrer\">Wikipedia  Delimiter-separated values</a></em>.</p>\n<p>If not, try parsing with a <em>regular expression pattern</em>.<br />\nHere is a relevant question and answer.<br />\n<em><a href=\"https://stackoverflow.com/questions/1757065/java-splitting-a-comma-separated-string-but-ignoring-commas-in-quotes\">StackOverflow  Java: splitting a comma-separated string but ignoring commas in quotes</a></em>.</p>\n<p>Or, utilize a <em>third-party library</em>, I've heard that <em>Apache Commons</em> works well for this.<br />\n<em><a href=\"https://commons.apache.org/proper/commons-csv/\" rel=\"nofollow noreferrer\">Apache Commons  CSV</a></em>.</p>\n"}],"owner":{"account_id":26779220,"reputation":1,"user_id":20374339,"display_name":"herb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697473725,"creation_date":1697406058,"question_id":77298567,"body_markdown":"I am trying to build a terminal mode application that allows a user to input certain attributes as a filtered search of Toyota vehicles released in the 80s. This is an assignment for a class so there are restrictions like having the original data in a CSV file and the data must be loaded into an ArrayList of objects (Toyota vehicles in my case). I decided to use a BufferedReader to read the data and set the values from the CSV file as arguments for instantiating new vehicles and adding them to the ArrayList. \r\n\r\nHere is the method implementing what I just explained: \r\n\r\n    public void load() {\r\n            toyotaVehicleCatalog = new ArrayList&lt;&gt;();\r\n            try(BufferedReader br = new BufferedReader(new FileReader(&quot;./src/files/80stoyota.csv&quot;))) {\r\n                String line = &quot;&quot;;\r\n                while((line = br.readLine()) != null) {\r\n                    String[] fields = line.split(&quot;,&quot;);\r\n                    int modelYear = Integer.parseInt(fields[0]); //Line 28\r\n                    String modelName = fields[1];\r\n                    String modelCode = fields[2];\r\n                    String modelEngine = fields[3];\r\n                    boolean sedan = fields[4].length() &gt; 0 ? true : false;\r\n                    String funFact = fields[5];\r\n    \r\n                    ToyotaVehicle vehicle = new ToyotaVehicle(modelYear, modelName, modelCode, modelEngine, sedan,                   funFact);\r\n                    toyotaVehicleCatalog.add(vehicle);\r\n                }\r\n    \r\n            } catch(IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n            \r\n            for(int i = 0; i &lt; toyotaVehicleCatalog.size(); i++) {\r\n                System.out.println(toyotaVehicleCatalog.get(i));\r\n            }\r\n    \r\n        } \r\n\r\nMy ToyotaVehicle class:\r\n\r\n    public class ToyotaVehicle {\r\n        private String modelCode;\r\n    \r\n        private int modelYear;\r\n    \r\n        private String modelName;\r\n    \r\n        private String engine;\r\n    \r\n        private boolean sedan;\r\n    \r\n        private String funFact;\r\n    \r\n        public ToyotaVehicle(int modelYear, String modelName, String modelCode, String engine, boolean sedan, String funFact) {\r\n            this.modelCode = modelCode;\r\n            this.modelYear = modelYear;\r\n            this.modelName = modelName;\r\n            this.engine = engine;\r\n            this.sedan = sedan;\r\n            this.funFact = funFact;\r\n        }\r\n    \r\n        public ToyotaVehicle() {\r\n        }\r\n    \r\n        public String getModelCode() {\r\n            return modelCode;\r\n        }\r\n    \r\n        public void setModelCode(String modelCode) {\r\n            this.modelCode = modelCode;\r\n        }\r\n    \r\n        public int getModelYear() {\r\n            return modelYear;\r\n        }\r\n    \r\n        public void setModelYear(int modelYear) {\r\n            this.modelYear = modelYear;\r\n        }\r\n    \r\n        public String getModelName() {\r\n            return modelName;\r\n        }\r\n    \r\n        public void setModelName(String modelName) {\r\n            this.modelName = modelName;\r\n        }\r\n    \r\n        public String getEngine() {\r\n            return engine;\r\n        }\r\n    \r\n        public void setEngine(String engine) {\r\n            this.engine = engine;\r\n        }\r\n    \r\n        public boolean isSedan() {\r\n            return sedan;\r\n        }\r\n    \r\n        public void setSedan(boolean sedan) {\r\n            this.sedan = sedan;\r\n        }\r\n    \r\n        public String getFunFact() {\r\n            return funFact;\r\n        }\r\n    \r\n        public void setFunFact(String funFact) {\r\n            this.funFact = funFact;\r\n        }\r\n    \r\n    }\r\n\r\nWhen I run the code, I get this error message: \r\n\r\n`Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0\r\n\tat data.LoadData.load(LoadData.java:28)\r\n\tat Driver.main(Driver.java:7)`\r\n\r\n\r\nI apologize in advance if I seem to be missing an obvious mistake here. The only thing I&#39;ve tried is at first I used the `files[]` array values as direct arguments rather than setting variables for each array value, no luck. I&#39;ve read up on most forums/posts relating to this same issue and have yet to find a solution. I&#39;ve used BufferedReader a handful of times before and have never ran into this problem. Any help would be appreciated, thanks.","title":"Problem inputting values from CSV file into ArrayList","body":"<p>I am trying to build a terminal mode application that allows a user to input certain attributes as a filtered search of Toyota vehicles released in the 80s. This is an assignment for a class so there are restrictions like having the original data in a CSV file and the data must be loaded into an ArrayList of objects (Toyota vehicles in my case). I decided to use a BufferedReader to read the data and set the values from the CSV file as arguments for instantiating new vehicles and adding them to the ArrayList.</p>\n<p>Here is the method implementing what I just explained:</p>\n<pre><code>public void load() {\n        toyotaVehicleCatalog = new ArrayList&lt;&gt;();\n        try(BufferedReader br = new BufferedReader(new FileReader(&quot;./src/files/80stoyota.csv&quot;))) {\n            String line = &quot;&quot;;\n            while((line = br.readLine()) != null) {\n                String[] fields = line.split(&quot;,&quot;);\n                int modelYear = Integer.parseInt(fields[0]); //Line 28\n                String modelName = fields[1];\n                String modelCode = fields[2];\n                String modelEngine = fields[3];\n                boolean sedan = fields[4].length() &gt; 0 ? true : false;\n                String funFact = fields[5];\n\n                ToyotaVehicle vehicle = new ToyotaVehicle(modelYear, modelName, modelCode, modelEngine, sedan,                   funFact);\n                toyotaVehicleCatalog.add(vehicle);\n            }\n\n        } catch(IOException ex) {\n            ex.printStackTrace();\n        }\n        \n        for(int i = 0; i &lt; toyotaVehicleCatalog.size(); i++) {\n            System.out.println(toyotaVehicleCatalog.get(i));\n        }\n\n    } \n</code></pre>\n<p>My ToyotaVehicle class:</p>\n<pre><code>public class ToyotaVehicle {\n    private String modelCode;\n\n    private int modelYear;\n\n    private String modelName;\n\n    private String engine;\n\n    private boolean sedan;\n\n    private String funFact;\n\n    public ToyotaVehicle(int modelYear, String modelName, String modelCode, String engine, boolean sedan, String funFact) {\n        this.modelCode = modelCode;\n        this.modelYear = modelYear;\n        this.modelName = modelName;\n        this.engine = engine;\n        this.sedan = sedan;\n        this.funFact = funFact;\n    }\n\n    public ToyotaVehicle() {\n    }\n\n    public String getModelCode() {\n        return modelCode;\n    }\n\n    public void setModelCode(String modelCode) {\n        this.modelCode = modelCode;\n    }\n\n    public int getModelYear() {\n        return modelYear;\n    }\n\n    public void setModelYear(int modelYear) {\n        this.modelYear = modelYear;\n    }\n\n    public String getModelName() {\n        return modelName;\n    }\n\n    public void setModelName(String modelName) {\n        this.modelName = modelName;\n    }\n\n    public String getEngine() {\n        return engine;\n    }\n\n    public void setEngine(String engine) {\n        this.engine = engine;\n    }\n\n    public boolean isSedan() {\n        return sedan;\n    }\n\n    public void setSedan(boolean sedan) {\n        this.sedan = sedan;\n    }\n\n    public String getFunFact() {\n        return funFact;\n    }\n\n    public void setFunFact(String funFact) {\n        this.funFact = funFact;\n    }\n\n}\n</code></pre>\n<p>When I run the code, I get this error message:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 0 at data.LoadData.load(LoadData.java:28) at Driver.main(Driver.java:7)</code></p>\n<p>I apologize in advance if I seem to be missing an obvious mistake here. The only thing I've tried is at first I used the <code>files[]</code> array values as direct arguments rather than setting variables for each array value, no luck. I've read up on most forums/posts relating to this same issue and have yet to find a solution. I've used BufferedReader a handful of times before and have never ran into this problem. Any help would be appreciated, thanks.</p>\n"},{"tags":["java","android","android-layout","spinner"],"owner":{"account_id":2546847,"reputation":2087,"user_id":2211491,"accept_rate":83,"display_name":"Fat Monk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697473651,"creation_date":1697473147,"question_id":77303518,"body_markdown":"There are numerous questions on SO about spinner/drop-down selections not displaying, but this problem is a bit different as it is very intermittent.\r\n\r\nThe spinner in question work perfectly, and changing the spinner selection triggers various things in my app. However, every so often the spinner is blank when it is not dropped down.\r\n\r\nClicking the blank space drops down the selection panel and all options are present as expected, but when an option is selected the spinner remains blank and the actions that should follow a selection do not happen.\r\n\r\nI have uploaded a video [here][1] that shows the problem.\r\n\r\n(In the video every time the drop down list disappears it is because I have tapped on an option. For some reson my screen recorded did not shows the clicks. When I select an option, one of the resulting actions shoudl be that the button at the top of the screen should change to show the selected region&#39;s Amazon URL - this is hoe you can see that the `setOnItemSelectedListener` is not firing either.)\r\n\r\nThere doesn&#39;t seem to be any real pattern to when the spinner appears blank. It has happened:\r\n - when opening the app afresh after a long time (so cold app start effectively)\r\n - when returning to the activity from another activity\r\n - when returning to the app from another app or the home screen\r\n\r\nBUT it only happens very infrequently.\r\n\r\nIf it only happened when returning to the activity then (the second and third cases above) then I would suspect that I was failing to do something in `onResume()`, but it also happens sometimes when the app is started fresh.\r\n\r\nAs you can see in the video, rotating the screen restores the correct functionality. As does exiting the app and swiping it from the running apps, then restarting.\r\n\r\nI have tried various solutions to similar problems posted on here, but none have made any difference. [This question][2] and its answers seemed most likley to help. Sadly not.\r\n\r\nThe spinner is defined in the layout as follows:\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatSpinner\r\n        android:id=&quot;@+id/spin_aff_id&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:paddingLeft=&quot;8dp&quot;\r\n        android:paddingRight=&quot;8dp&quot;\r\n        android:paddingBottom=&quot;2dp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:spinnerMode=&quot;dropdown&quot; /&gt;\r\n\r\n\r\nAnd it is populated with options as follows:\r\n\r\n\r\n    private void _populate_ids_spinner() {\r\n\r\n        amalfi.get_affids_fromprefs(affiliateRegions);\r\n        amalfi.affiliate_ids_string.clear();\r\n        amalfi.regions_present_in_affid_spinner.clear();\r\n\r\n        Object assoc_id_for_region;\r\n        Object spinner_text_for_region;\r\n\r\n        for (String region : affiliateRegions.regionIds) {\r\n            assoc_id_for_region = amalfi.assoc_ids.get(region);\r\n            spinner_text_for_region = amalfi.spinner_text.get(region);\r\n            if (assoc_id_for_region != null &amp;&amp; spinner_text_for_region != null &amp;&amp; assoc_id_for_region.toString().length() &gt; 0) {\r\n                amalfi.affiliate_ids_string.add(spinner_text_for_region.toString());\r\n                amalfi.regions_present_in_affid_spinner.add(region);\r\n            }\r\n        }\r\n\r\n        // viewBinding.spinAffId.setAdapter(new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_dropdown_item, amalfi.affiliate_ids_string));\r\n        idsSpinnerArrayAdapter =new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_dropdown_item, amalfi.affiliate_ids_string);\r\n        viewBinding.spinAffId.setAdapter(idsSpinnerArrayAdapter);\r\n        idsSpinnerArrayAdapter.notifyDataSetChanged();\r\n    }\r\n\r\n\r\nWith `_populate_ids_spinner()` being called in both `onStart()` and `onResume()`.\r\n\r\nAs I say, the important thing here seems to be that the spinner works perfectly 99% of the time, but when it gets into the invisible state it take either an orientation change or app restart to correct it (I need to experiment more, but I **don&#39;t** think starting a new activity and returning to the main activity where this spinner lives fixes it).\r\n\r\n  [1]: https://drive.google.com/file/d/1yc-5wRY-QfWZx0MS0flZn9_LcIdzzAvm/view?usp=sharing\r\n  [2]: https://stackoverflow.com/questions/34530584/why-does-an-spinner-disappear-and-reappear-again-on-touch","title":"Android Spinner selection /sometimes/ not showing or detectable","body":"<p>There are numerous questions on SO about spinner/drop-down selections not displaying, but this problem is a bit different as it is very intermittent.</p>\n<p>The spinner in question work perfectly, and changing the spinner selection triggers various things in my app. However, every so often the spinner is blank when it is not dropped down.</p>\n<p>Clicking the blank space drops down the selection panel and all options are present as expected, but when an option is selected the spinner remains blank and the actions that should follow a selection do not happen.</p>\n<p>I have uploaded a video <a href=\"https://drive.google.com/file/d/1yc-5wRY-QfWZx0MS0flZn9_LcIdzzAvm/view?usp=sharing\" rel=\"nofollow noreferrer\">here</a> that shows the problem.</p>\n<p>(In the video every time the drop down list disappears it is because I have tapped on an option. For some reson my screen recorded did not shows the clicks. When I select an option, one of the resulting actions shoudl be that the button at the top of the screen should change to show the selected region's Amazon URL - this is hoe you can see that the <code>setOnItemSelectedListener</code> is not firing either.)</p>\n<p>There doesn't seem to be any real pattern to when the spinner appears blank. It has happened:</p>\n<ul>\n<li>when opening the app afresh after a long time (so cold app start effectively)</li>\n<li>when returning to the activity from another activity</li>\n<li>when returning to the app from another app or the home screen</li>\n</ul>\n<p>BUT it only happens very infrequently.</p>\n<p>If it only happened when returning to the activity then (the second and third cases above) then I would suspect that I was failing to do something in <code>onResume()</code>, but it also happens sometimes when the app is started fresh.</p>\n<p>As you can see in the video, rotating the screen restores the correct functionality. As does exiting the app and swiping it from the running apps, then restarting.</p>\n<p>I have tried various solutions to similar problems posted on here, but none have made any difference. <a href=\"https://stackoverflow.com/questions/34530584/why-does-an-spinner-disappear-and-reappear-again-on-touch\">This question</a> and its answers seemed most likley to help. Sadly not.</p>\n<p>The spinner is defined in the layout as follows:</p>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatSpinner\n    android:id=&quot;@+id/spin_aff_id&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;48dp&quot;\n    android:layout_weight=&quot;1&quot;\n    android:paddingLeft=&quot;8dp&quot;\n    android:paddingRight=&quot;8dp&quot;\n    android:paddingBottom=&quot;2dp&quot;\n    android:textColor=&quot;#000000&quot;\n    android:spinnerMode=&quot;dropdown&quot; /&gt;\n</code></pre>\n<p>And it is populated with options as follows:</p>\n<pre><code>private void _populate_ids_spinner() {\n\n    amalfi.get_affids_fromprefs(affiliateRegions);\n    amalfi.affiliate_ids_string.clear();\n    amalfi.regions_present_in_affid_spinner.clear();\n\n    Object assoc_id_for_region;\n    Object spinner_text_for_region;\n\n    for (String region : affiliateRegions.regionIds) {\n        assoc_id_for_region = amalfi.assoc_ids.get(region);\n        spinner_text_for_region = amalfi.spinner_text.get(region);\n        if (assoc_id_for_region != null &amp;&amp; spinner_text_for_region != null &amp;&amp; assoc_id_for_region.toString().length() &gt; 0) {\n            amalfi.affiliate_ids_string.add(spinner_text_for_region.toString());\n            amalfi.regions_present_in_affid_spinner.add(region);\n        }\n    }\n\n    // viewBinding.spinAffId.setAdapter(new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_dropdown_item, amalfi.affiliate_ids_string));\n    idsSpinnerArrayAdapter =new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_spinner_dropdown_item, amalfi.affiliate_ids_string);\n    viewBinding.spinAffId.setAdapter(idsSpinnerArrayAdapter);\n    idsSpinnerArrayAdapter.notifyDataSetChanged();\n}\n</code></pre>\n<p>With <code>_populate_ids_spinner()</code> being called in both <code>onStart()</code> and <code>onResume()</code>.</p>\n<p>As I say, the important thing here seems to be that the spinner works perfectly 99% of the time, but when it gets into the invisible state it take either an orientation change or app restart to correct it (I need to experiment more, but I <strong>don't</strong> think starting a new activity and returning to the main activity where this spinner lives fixes it).</p>\n"},{"tags":["java","codenameone"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52134,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696214183,"creation_date":1696214183,"answer_id":77213004,"question_id":77207937,"body_markdown":"I answered it [here](https://www.reddit.com/r/cn1/comments/16we6yl/javalang_error_message_after_adding_textbox_to_my/) copied for reference.\r\n\r\nI&#39;m assuming `SoccerSession` is your main class. Notice your code is in the constructor of that class. It should be in the `init(Object)` or `start()` method.\r\n\r\nFonts always exist, this is the default system font. The problem is that since `init(Object)` wasn&#39;t yet invoked it means that Codename One itself hasn&#39;t finished loading yet at this stage. The implementation itself isn&#39;t ready.","title":"java.lang Error Message after adding textbox to my class in Codename One Project","body":"<p>I answered it <a href=\"https://www.reddit.com/r/cn1/comments/16we6yl/javalang_error_message_after_adding_textbox_to_my/\" rel=\"nofollow noreferrer\">here</a> copied for reference.</p>\n<p>I'm assuming <code>SoccerSession</code> is your main class. Notice your code is in the constructor of that class. It should be in the <code>init(Object)</code> or <code>start()</code> method.</p>\n<p>Fonts always exist, this is the default system font. The problem is that since <code>init(Object)</code> wasn't yet invoked it means that Codename One itself hasn't finished loading yet at this stage. The implementation itself isn't ready.</p>\n"},{"tags":[],"owner":{"account_id":29557990,"reputation":41,"user_id":22653206,"display_name":"curtjacobs1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697473649,"creation_date":1697473649,"answer_id":77303561,"question_id":77207937,"body_markdown":"I was working on another part of the Codename One app (Maven Setup) and found out what I was doing wrong. The java.lang error was thrown when the javase files were building. I had a statement in the code that java didn&#39;t like, which was bringing the error. Once my code was clean to java&#39;s perspective, the error disappeared.","title":"java.lang Error Message after adding textbox to my class in Codename One Project","body":"<p>I was working on another part of the Codename One app (Maven Setup) and found out what I was doing wrong. The java.lang error was thrown when the javase files were building. I had a statement in the code that java didn't like, which was bringing the error. Once my code was clean to java's perspective, the error disappeared.</p>\n"}],"owner":{"account_id":29557990,"reputation":41,"user_id":22653206,"display_name":"curtjacobs1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697473649,"creation_date":1696097695,"question_id":77207937,"body_markdown":"Using NetBeans 18, developing a Codename One app built with Initializr.\r\nI got my last issue resolved by re-creating the project and transferring everything in. Now that I started adding elements, I resolved the issues that needed correcting in the code, and the project would build. I have commented out the elements I need to work on, trying to get the general look in the Simulator. \r\nWhen I try to run the app, I get the following error. I have looked in CodenameOneImplementation.createFont and do not see any issues with the createFont instance in the Codename One Library.\r\n\r\n\r\n```\r\n\r\n`your text`java.lang.NullPointerException: Cannot invoke &quot;com.codename1.impl.CodenameOneImplementation.createFont(int, int, int)&quot; because &quot;i&quot; is null\r\n\tat com.codename1.ui.Font.&lt;init&gt;(Font.java:99)\r\n\tat com.codename1.ui.Font.createSystemFont(Font.java:399)\r\n\tat com.codename1.ui.plaf.UIManager.resetThemeProps(UIManager.java:427)\r\n\tat com.codename1.ui.plaf.UIManager.&lt;init&gt;(UIManager.java:108)\r\n\tat com.codename1.ui.plaf.UIManager.getInstance(UIManager.java:126)\r\n\tat com.codename1.ui.Component.getUIManager(Component.java:951)\r\n\tat com.codename1.ui.Component.&lt;init&gt;(Component.java:722)\r\n\tat com.codename1.ui.TextArea.&lt;init&gt;(TextArea.java:423)\r\n\tat com.codename1.ui.TextArea.&lt;init&gt;(TextArea.java:298)\r\n\tat com.codename1.ui.TextField.&lt;init&gt;(TextField.java:265)\r\n\tat com.kcconsulting.soccersession.SoccerSession.&lt;init&gt;(SoccerSession.java:37)\r\n\tat `your text`java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstruct`your text`orHandleAccessor.java:67)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n\tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n\tat `your text`java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:304)\r\n\tat java.base/java.lang.Class.newInstance(Class.java:685)\r\n\tat com.codename1.impl.javase.Executor$3.run(Executor.java:266)\r\n\tat java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat `your text`java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\nJava Result: 1\r\n```\r\nThis is my app setup:\r\n\r\n```\r\n    package com.kcconsulting.soccersession;\r\n    import static com.codename1.ui.CN.*;\r\n    import com.codename1.ui.Display;\r\n    import com.codename1.ui.Form;\r\n    import com.codename1.ui.Container;\r\n    import com.codename1.ui.Dialog;\r\n    import com.codename1.ui.Label;\r\n    import com.codename1.ui.Button;\r\n    import com.codename1.ui.plaf.UIManager;\r\n    import com.codename1.ui.util.Resources;\r\n    import com.codename1.io.Log;\r\n    import com.codename1.ui.Toolbar;\r\n    import java.io.IOException;\r\n    import com.codename1.ui.layouts.BoxLayout;\r\n    import com.codename1.io.NetworkEvent;\r\n    import com.codename1.ui.layouts.BorderLayout;\r\n    import com.codename1.ui.layouts.Layout;\r\n    import com.codename1.io.NetworkEvent;\r\n    import com.codename1.ui.Image;\r\n    import com.codename1.ui.TextField;\r\n    import static com.codename1.ui.layouts.BorderLayout.centerEastWest;\r\n    import static com.codename1.ui.layouts.BoxLayout.Y_AXIS;\r\n    import com.codename1.ui.table.TableLayout;\r\n    /**\r\n     * This file was generated by &lt;a href=&quot;https://www.codenameone.com/&quot;&gt;Codename One&lt;/a&gt; for         the purpose \r\n     * of building native mobile applications using Java.\r\n     */\r\n    public class SoccerSession {\r\n        private Form current = new Form();\r\n        private Resources theme;\r\n        private Label sessionLabel = new Label(&quot;Name&quot;);            \r\n        public void init(Object context) {\r\n        // use two network threads instead of one\r\n            updateNetworkThreadCount(2);\r\n            theme = UIManager.initFirstTheme(&quot;/scr/css/theme.css&quot;);\r\n        // Enable Toolbar on all Forms by default\r\n            Toolbar.setGlobalToolbar(true);\r\n        // Pro only feature\r\n            Log.bindCrashProtection(true);\r\n            addNetworkErrorListener(err -&gt; {\r\n            // prevent the event from propagating\r\n                err.consume();\r\n                if(err.getError() != null) {\r\n                    Log.e(err.getError());\r\n                }\r\n                Log.sendLogAsync();\r\n                Dialog.show(&quot;Connection Error&quot;, &quot;There was a networking error in the connection to &quot; + err.getConnectionRequest().getUrl(), &quot;OK&quot;, null);\r\n            });        \r\n        }\r\n\r\n    \r\n        public void start() {\r\n            if(current != null){\r\n                current.show();\r\n                return;            }\r\n        \r\n             Button r = new Button(&quot;Rondos&quot;);\r\n             Button p = new Button(&quot;Plays&quot;);\r\n             Button n = new Button(&quot;New&quot;);\r\n             Button s = new Button(&quot;Capture Screen&quot;);\r\n             Container headerContainer = new Container();\r\n             Container bodyContainer = new Container();\r\n//        Container sessionName = new Container(tl);\r\n //       String pathToImageSortBy = &quot;soccersession/src/main/resources/WorkingField&quot;;\r\n //       Image bg = protected Image(Object image);\r\n //       bg = new Image(getClass().getClassLoader().getResource(pathToImageSortBy));\r\n       \r\n//\tbodyContainer.addImage(bg);\r\n            Container footerBar = new Container();\r\n            Container footerContainer = new Container();\r\n            Container leftPanel = new Container();\r\n            Container rightPanel = new Container();\r\n //       Container maincontainer = new Container(new BorderLayout());\r\n            BorderLayout forSession = new BorderLayout();\r\n //       forSession.setLayout(centerEastWest(sessionText, null, sessionLabel))\r\n            footerContainer.setLayout(new BorderLayout(centerEastWest(sessionText, null, sessionLabel)));\r\n            BoxLayout bl = new BoxLayout(Y_AXIS);\r\n            leftPanel.setLayout(bl);\r\n            rightPanel.setLayout(bl);        \r\n            TableLayout tl = new TableLayout(1, 3); \r\n            footerBar.add(tl.createConstraint().widthPercentage(20).heightPercentage(100), n);\r\n            footerBar.add(tl.createConstraint().widthPercentage(60).heightPercentage(100), footerContainer);\r\n            footerBar.add(tl.createConstraint().widthPercentage(20).heightPercentage(100), s);     \r\n            Form hi = new Form(&quot;Welcome to Soccer Session - Landscape Orientation&quot;, new BorderLayout());\r\n            hi.add(BorderLayout.CENTER, bodyContainer).\r\n            add(BorderLayout.SOUTH, footerBar).\r\n            add(BorderLayout.NORTH, headerContainer).\r\n            add(BorderLayout.EAST, rightPanel).\r\n            add(BorderLayout.WEST, leftPanel);\r\n            leftPanel.add(r);\r\n            leftPanel.add(p);     \r\n            hi.show();\t   \r\n        }\r\n        public void stop() {\r\n            current = getCurrentForm();\r\n            if(current instanceof Dialog) {\r\n                ((Dialog)current).dispose();\r\n                current = getCurrentForm();\r\n            }\r\n        }   \r\n        public void destroy() {\r\n        }\r\n   }\r\n```\r\n\r\n\r\n\r\n\r\nI am confused at why the app is trying to create a new font because I do not need that yet. I have looked in the 2 forums and cannot find any instance of createFont, though there were a few instances of the null error.\r\nDo I need to go through each of the 27 instances, or can I correct this in my code? I can&#39;t start changing the look without getting to the simulator. Thanks.","title":"java.lang Error Message after adding textbox to my class in Codename One Project","body":"<p>Using NetBeans 18, developing a Codename One app built with Initializr.\nI got my last issue resolved by re-creating the project and transferring everything in. Now that I started adding elements, I resolved the issues that needed correcting in the code, and the project would build. I have commented out the elements I need to work on, trying to get the general look in the Simulator.\nWhen I try to run the app, I get the following error. I have looked in CodenameOneImplementation.createFont and do not see any issues with the createFont instance in the Codename One Library.</p>\n<pre><code>\n`your text`java.lang.NullPointerException: Cannot invoke &quot;com.codename1.impl.CodenameOneImplementation.createFont(int, int, int)&quot; because &quot;i&quot; is null\n    at com.codename1.ui.Font.&lt;init&gt;(Font.java:99)\n    at com.codename1.ui.Font.createSystemFont(Font.java:399)\n    at com.codename1.ui.plaf.UIManager.resetThemeProps(UIManager.java:427)\n    at com.codename1.ui.plaf.UIManager.&lt;init&gt;(UIManager.java:108)\n    at com.codename1.ui.plaf.UIManager.getInstance(UIManager.java:126)\n    at com.codename1.ui.Component.getUIManager(Component.java:951)\n    at com.codename1.ui.Component.&lt;init&gt;(Component.java:722)\n    at com.codename1.ui.TextArea.&lt;init&gt;(TextArea.java:423)\n    at com.codename1.ui.TextArea.&lt;init&gt;(TextArea.java:298)\n    at com.codename1.ui.TextField.&lt;init&gt;(TextField.java:265)\n    at com.kcconsulting.soccersession.SoccerSession.&lt;init&gt;(SoccerSession.java:37)\n    at `your text`java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstruct`your text`orHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at `your text`java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:304)\n    at java.base/java.lang.Class.newInstance(Class.java:685)\n    at com.codename1.impl.javase.Executor$3.run(Executor.java:266)\n    at java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:318)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at `your text`java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:87)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nJava Result: 1\n</code></pre>\n<p>This is my app setup:</p>\n<pre><code>    package com.kcconsulting.soccersession;\n    import static com.codename1.ui.CN.*;\n    import com.codename1.ui.Display;\n    import com.codename1.ui.Form;\n    import com.codename1.ui.Container;\n    import com.codename1.ui.Dialog;\n    import com.codename1.ui.Label;\n    import com.codename1.ui.Button;\n    import com.codename1.ui.plaf.UIManager;\n    import com.codename1.ui.util.Resources;\n    import com.codename1.io.Log;\n    import com.codename1.ui.Toolbar;\n    import java.io.IOException;\n    import com.codename1.ui.layouts.BoxLayout;\n    import com.codename1.io.NetworkEvent;\n    import com.codename1.ui.layouts.BorderLayout;\n    import com.codename1.ui.layouts.Layout;\n    import com.codename1.io.NetworkEvent;\n    import com.codename1.ui.Image;\n    import com.codename1.ui.TextField;\n    import static com.codename1.ui.layouts.BorderLayout.centerEastWest;\n    import static com.codename1.ui.layouts.BoxLayout.Y_AXIS;\n    import com.codename1.ui.table.TableLayout;\n    /**\n     * This file was generated by &lt;a href=&quot;https://www.codenameone.com/&quot;&gt;Codename One&lt;/a&gt; for         the purpose \n     * of building native mobile applications using Java.\n     */\n    public class SoccerSession {\n        private Form current = new Form();\n        private Resources theme;\n        private Label sessionLabel = new Label(&quot;Name&quot;);            \n        public void init(Object context) {\n        // use two network threads instead of one\n            updateNetworkThreadCount(2);\n            theme = UIManager.initFirstTheme(&quot;/scr/css/theme.css&quot;);\n        // Enable Toolbar on all Forms by default\n            Toolbar.setGlobalToolbar(true);\n        // Pro only feature\n            Log.bindCrashProtection(true);\n            addNetworkErrorListener(err -&gt; {\n            // prevent the event from propagating\n                err.consume();\n                if(err.getError() != null) {\n                    Log.e(err.getError());\n                }\n                Log.sendLogAsync();\n                Dialog.show(&quot;Connection Error&quot;, &quot;There was a networking error in the connection to &quot; + err.getConnectionRequest().getUrl(), &quot;OK&quot;, null);\n            });        \n        }\n\n    \n        public void start() {\n            if(current != null){\n                current.show();\n                return;            }\n        \n             Button r = new Button(&quot;Rondos&quot;);\n             Button p = new Button(&quot;Plays&quot;);\n             Button n = new Button(&quot;New&quot;);\n             Button s = new Button(&quot;Capture Screen&quot;);\n             Container headerContainer = new Container();\n             Container bodyContainer = new Container();\n//        Container sessionName = new Container(tl);\n //       String pathToImageSortBy = &quot;soccersession/src/main/resources/WorkingField&quot;;\n //       Image bg = protected Image(Object image);\n //       bg = new Image(getClass().getClassLoader().getResource(pathToImageSortBy));\n       \n//  bodyContainer.addImage(bg);\n            Container footerBar = new Container();\n            Container footerContainer = new Container();\n            Container leftPanel = new Container();\n            Container rightPanel = new Container();\n //       Container maincontainer = new Container(new BorderLayout());\n            BorderLayout forSession = new BorderLayout();\n //       forSession.setLayout(centerEastWest(sessionText, null, sessionLabel))\n            footerContainer.setLayout(new BorderLayout(centerEastWest(sessionText, null, sessionLabel)));\n            BoxLayout bl = new BoxLayout(Y_AXIS);\n            leftPanel.setLayout(bl);\n            rightPanel.setLayout(bl);        \n            TableLayout tl = new TableLayout(1, 3); \n            footerBar.add(tl.createConstraint().widthPercentage(20).heightPercentage(100), n);\n            footerBar.add(tl.createConstraint().widthPercentage(60).heightPercentage(100), footerContainer);\n            footerBar.add(tl.createConstraint().widthPercentage(20).heightPercentage(100), s);     \n            Form hi = new Form(&quot;Welcome to Soccer Session - Landscape Orientation&quot;, new BorderLayout());\n            hi.add(BorderLayout.CENTER, bodyContainer).\n            add(BorderLayout.SOUTH, footerBar).\n            add(BorderLayout.NORTH, headerContainer).\n            add(BorderLayout.EAST, rightPanel).\n            add(BorderLayout.WEST, leftPanel);\n            leftPanel.add(r);\n            leftPanel.add(p);     \n            hi.show();     \n        }\n        public void stop() {\n            current = getCurrentForm();\n            if(current instanceof Dialog) {\n                ((Dialog)current).dispose();\n                current = getCurrentForm();\n            }\n        }   \n        public void destroy() {\n        }\n   }\n</code></pre>\n<p>I am confused at why the app is trying to create a new font because I do not need that yet. I have looked in the 2 forums and cannot find any instance of createFont, though there were a few instances of the null error.\nDo I need to go through each of the 27 instances, or can I correct this in my code? I can't start changing the look without getting to the simulator. Thanks.</p>\n"},{"tags":["java","postman","spring-webflux","server-sent-events"],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697473612,"creation_date":1697473612,"question_id":77303557,"body_markdown":"I have a ms that a client can connect to to recieve incoming notifications. When the client first connects a call to the db is made to retrieve all stored notifications. \r\n\r\n**The problem:** \r\nWhen I connect, even though there are 3 notifications in the db the client only recieves 1. Except on the first connect of the system, that for some reason returns the 3 notifications. That reason I assume is because when the system starts up for the first time the result of the SELECT statement from the database is not yet cached so it takes longer to get that data.\r\n\r\n**My thinking of why this is happening:**\r\nI believe this is happening because the data that comes from the db is being subscribed to the Flux before client connection is fully established, and so it only catches the last notification. \r\n\r\n**My solution:**\r\nI used the method `delaySubscription()` to delay subscription of the data and it works. However I dont feel very &quot;safe&quot; using it this way because if for some reason the connection takes longer the notifications will not be recieved. It is a even bigger problem because I intend to delete the notifications when they are sent. \r\n\r\n**Question:** \r\nIs there a way to check if connection is fully established before subscribing to the flux&#39;s? \r\n\r\n**Another solution that might work:**\r\nMaybe I could after establishing the connection in the client have another call to the ms that requests the initial notifications to be subscribed to the flux. However I believe this will not work in a distributed system, has the call can go to a container that the client is not subscribed to hence no notification will be sent. \r\n\r\n**Question2:** \r\nAm I overthinking this, and should I just have a diferent method for getting the initial notifications that just returns normal objects instead of a flux and then do the subscription? \r\n\r\nHere is a bit of my code: \r\n\r\n    return Flux.merge(\r\n             findAndCreateInitialNotifications(mainId).delaySubscription(Duration.ofSeconds(DURATION_OF_TIME_BEFORE_FIRST_NOTIFICATION)),\r\n             data.filter(notification -&gt; mainId.equals(((NotificationDto) notification.data()).getUserToSendNotificationTo()))\r\n                                 .switchIfEmpty(Flux.empty()).delaySubscription(Duration.ofSeconds(DURATION_OF_TIME_BEFORE_FIRST_NOTIFICATION)),\r\n             heartBeat).onBackpressureBuffer();\r\n\r\n\r\n\r\n\r\n","title":"Webflux How to subscribe only when client connection is fully established","body":"<p>I have a ms that a client can connect to to recieve incoming notifications. When the client first connects a call to the db is made to retrieve all stored notifications.</p>\n<p><strong>The problem:</strong>\nWhen I connect, even though there are 3 notifications in the db the client only recieves 1. Except on the first connect of the system, that for some reason returns the 3 notifications. That reason I assume is because when the system starts up for the first time the result of the SELECT statement from the database is not yet cached so it takes longer to get that data.</p>\n<p><strong>My thinking of why this is happening:</strong>\nI believe this is happening because the data that comes from the db is being subscribed to the Flux before client connection is fully established, and so it only catches the last notification.</p>\n<p><strong>My solution:</strong>\nI used the method <code>delaySubscription()</code> to delay subscription of the data and it works. However I dont feel very &quot;safe&quot; using it this way because if for some reason the connection takes longer the notifications will not be recieved. It is a even bigger problem because I intend to delete the notifications when they are sent.</p>\n<p><strong>Question:</strong>\nIs there a way to check if connection is fully established before subscribing to the flux's?</p>\n<p><strong>Another solution that might work:</strong>\nMaybe I could after establishing the connection in the client have another call to the ms that requests the initial notifications to be subscribed to the flux. However I believe this will not work in a distributed system, has the call can go to a container that the client is not subscribed to hence no notification will be sent.</p>\n<p><strong>Question2:</strong>\nAm I overthinking this, and should I just have a diferent method for getting the initial notifications that just returns normal objects instead of a flux and then do the subscription?</p>\n<p>Here is a bit of my code:</p>\n<pre><code>return Flux.merge(\n         findAndCreateInitialNotifications(mainId).delaySubscription(Duration.ofSeconds(DURATION_OF_TIME_BEFORE_FIRST_NOTIFICATION)),\n         data.filter(notification -&gt; mainId.equals(((NotificationDto) notification.data()).getUserToSendNotificationTo()))\n                             .switchIfEmpty(Flux.empty()).delaySubscription(Duration.ofSeconds(DURATION_OF_TIME_BEFORE_FIRST_NOTIFICATION)),\n         heartBeat).onBackpressureBuffer();\n</code></pre>\n"},{"tags":["java","sealed-class","java-15","java-sealed-type"],"comments":[{"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"score":3,"creation_date":1599912855,"post_id":63860110,"comment_id":112925808,"body_markdown":"@Ayox take a look at this link:   https://openjdk.java.net/jeps/360   *Motivation* part","body":"@Ayox take a look at this link:   <a href=\"https://openjdk.java.net/jeps/360\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/360</a>   <i>Motivation</i> part"},{"owner":{"account_id":6289028,"reputation":711,"user_id":4887297,"accept_rate":36,"display_name":"Ayox"},"score":0,"creation_date":1599912921,"post_id":63860110,"comment_id":112925827,"body_markdown":"Already read that (otherwise I wouldn&#39;t reference it myself) but I didn&#39;t understand it thats why I am asking.","body":"Already read that (otherwise I wouldn&#39;t reference it myself) but I didn&#39;t understand it thats why I am asking."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":3,"creation_date":1599914371,"post_id":63860110,"comment_id":112926179,"body_markdown":"&quot;Providing the &quot;non-sealed&quot; keyword will invite the developer for hacks.&quot; - Why do you think this is bad? What &#39;hacks&#39; are you talking about?","body":"&quot;Providing the &quot;non-sealed&quot; keyword will invite the developer for hacks.&quot; - Why do you think this is bad? What &#39;hacks&#39; are you talking about?"}],"answers":[{"tags":[],"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599916469,"creation_date":1599913648,"answer_id":63860325,"question_id":63860110,"body_markdown":"Imagin you wanna write a class `Shape` in your code. You can make this class `abstract` too if you don&#39;t wanna instantiate it. You want to extend it in some classes like `Circle` , `Triangle`, and `Rectangle`. Now that you have implemented it you want to make sure that no one will be able to extend your `Shape` class. Can you do it without the `sealed` keyword? &lt;br&gt;\r\nNo, because you will have to either make it `final` in which case you won&#39;t be able to extend it to have any subclasses. This is where the `sealed` keyword comes in! You make an abstract class sealed and restrict that which classes will be able to extend it:\r\n\r\n    public abstract sealed class Shape \r\n        permits Circle, Triangle, Rectangle {...}\r\n\r\nRemember if your subclasses are not in the same package as `Shape` class, you will have to mention their name with packages:\r\n\r\n    public abstract sealed class Shape\r\n        permits com.example.Circle    { ... }\r\nNow, when you are declaring those three subclasses you have to make them `final`, `sealed` or `non-sealed` **(One and only one of these modifiers should be used)**.&lt;br&gt;\r\n\r\nNow when you can extend `Circle` in desired classes? Only when you tell Java it can be extended by unknown subclasses by using `non-sealed` keyword:\r\n\r\n    public non-sealed class Circle {...} \r\n\r\n","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>Imagin you wanna write a class <code>Shape</code> in your code. You can make this class <code>abstract</code> too if you don't wanna instantiate it. You want to extend it in some classes like <code>Circle</code> , <code>Triangle</code>, and <code>Rectangle</code>. Now that you have implemented it you want to make sure that no one will be able to extend your <code>Shape</code> class. Can you do it without the <code>sealed</code> keyword? <br>\nNo, because you will have to either make it <code>final</code> in which case you won't be able to extend it to have any subclasses. This is where the <code>sealed</code> keyword comes in! You make an abstract class sealed and restrict that which classes will be able to extend it:</p>\n<pre><code>public abstract sealed class Shape \n    permits Circle, Triangle, Rectangle {...}\n</code></pre>\n<p>Remember if your subclasses are not in the same package as <code>Shape</code> class, you will have to mention their name with packages:</p>\n<pre><code>public abstract sealed class Shape\n    permits com.example.Circle    { ... }\n</code></pre>\n<p>Now, when you are declaring those three subclasses you have to make them <code>final</code>, <code>sealed</code> or <code>non-sealed</code> <strong>(One and only one of these modifiers should be used)</strong>.<br></p>\n<p>Now when you can extend <code>Circle</code> in desired classes? Only when you tell Java it can be extended by unknown subclasses by using <code>non-sealed</code> keyword:</p>\n<pre><code>public non-sealed class Circle {...} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1600901750,"creation_date":1599914070,"answer_id":63860381,"question_id":63860110,"body_markdown":"I think the following example from the [JEP 360](https://openjdk.java.net/jeps/360) is showing it:\r\n\r\n```java\r\npackage com.example.geometry;\r\n\r\npublic abstract sealed class Shape\r\n    permits Circle, Rectangle, Square {...}\r\n\r\npublic final class Circle extends Shape {...}\r\n\r\npublic sealed class Rectangle extends Shape \r\n    permits TransparentRectangle, FilledRectangle {...}\r\npublic final class TransparentRectangle extends Rectangle {...}\r\npublic final class FilledRectangle extends Rectangle {...}\r\n\r\npublic non-sealed class Square extends Shape {...}\r\n```\r\n\r\nYou want to permit only the specified classes to extend `Shape`. Now what&#39;s the point in making `Square` `non-sealed`? Because you want to allow any other class to extend `Square` (and the hierarchy).\r\n\r\nThink of it like that: Any class that wants to extend `Shape` will have to do that with either `Circle`, `Rectangle` or `Square` ***in between***. So every extending class of this sub-hierarchy will be either a `Circle`, `Rectangle` or a `Square` (is-a relationship).\r\n\r\nThe `sealed`/`non-sealed`-combination allows you to &quot;seal&quot; only parts of your hierarchy, not all of it (starting from a root).\r\n\r\n---\r\n\r\nNotice what the [JEP 360](https://openjdk.java.net/jeps/360) tells us about the permitted classes:\r\n\r\n&gt; Every permitted subclass must choose a modifier to describe how it continues the sealing initiated by its superclass:\r\n\r\nThe options are: `final`, `sealed` or `non-sealed`. You are forced to be explicit, so we need `non-sealed` to &quot;break the seal&quot;.\r\n\r\n---\r\n\r\nBrian Goetz has [posted](https://stackoverflow.com/a/63887136/12323248) a realistic use case and explained what the real life benefits are. I want to add another example:\r\n\r\nImagine you are developing a game with heroes and monsters. Some classes could be like that:\r\n\r\n```java\r\npublic sealed class Character permits Hero, Monster {}\r\n\r\npublic sealed class Hero extends Character permits Jack, Luci {}\r\npublic non-sealed class Monster extends Character {}\r\n\r\npublic final class Jack extends Hero {}\r\npublic final class Luci extends Hero {}\r\n```\r\n\r\nThe game has two main characters and there are several enemies. The main characters are set in stone *but* there can be as many different monsters as you like. *Every* character in the game is either a hero or a monster.\r\n\r\nThis is a minimal example, which is hopefully a little more illustrative, and there might be changes, e.g. the addition of a class `CustomHero` that enables modders to create custom heroes.","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>I think the following example from the <a href=\"https://openjdk.java.net/jeps/360\" rel=\"noreferrer\">JEP 360</a> is showing it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.geometry;\n\npublic abstract sealed class Shape\n    permits Circle, Rectangle, Square {...}\n\npublic final class Circle extends Shape {...}\n\npublic sealed class Rectangle extends Shape \n    permits TransparentRectangle, FilledRectangle {...}\npublic final class TransparentRectangle extends Rectangle {...}\npublic final class FilledRectangle extends Rectangle {...}\n\npublic non-sealed class Square extends Shape {...}\n</code></pre>\n<p>You want to permit only the specified classes to extend <code>Shape</code>. Now what's the point in making <code>Square</code> <code>non-sealed</code>? Because you want to allow any other class to extend <code>Square</code> (and the hierarchy).</p>\n<p>Think of it like that: Any class that wants to extend <code>Shape</code> will have to do that with either <code>Circle</code>, <code>Rectangle</code> or <code>Square</code> <em><strong>in between</strong></em>. So every extending class of this sub-hierarchy will be either a <code>Circle</code>, <code>Rectangle</code> or a <code>Square</code> (is-a relationship).</p>\n<p>The <code>sealed</code>/<code>non-sealed</code>-combination allows you to &quot;seal&quot; only parts of your hierarchy, not all of it (starting from a root).</p>\n<hr />\n<p>Notice what the <a href=\"https://openjdk.java.net/jeps/360\" rel=\"noreferrer\">JEP 360</a> tells us about the permitted classes:</p>\n<blockquote>\n<p>Every permitted subclass must choose a modifier to describe how it continues the sealing initiated by its superclass:</p>\n</blockquote>\n<p>The options are: <code>final</code>, <code>sealed</code> or <code>non-sealed</code>. You are forced to be explicit, so we need <code>non-sealed</code> to &quot;break the seal&quot;.</p>\n<hr />\n<p>Brian Goetz has <a href=\"https://stackoverflow.com/a/63887136/12323248\">posted</a> a realistic use case and explained what the real life benefits are. I want to add another example:</p>\n<p>Imagine you are developing a game with heroes and monsters. Some classes could be like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed class Character permits Hero, Monster {}\n\npublic sealed class Hero extends Character permits Jack, Luci {}\npublic non-sealed class Monster extends Character {}\n\npublic final class Jack extends Hero {}\npublic final class Luci extends Hero {}\n</code></pre>\n<p>The game has two main characters and there are several enemies. The main characters are set in stone <em>but</em> there can be as many different monsters as you like. <em>Every</em> character in the game is either a hero or a monster.</p>\n<p>This is a minimal example, which is hopefully a little more illustrative, and there might be changes, e.g. the addition of a class <code>CustomHero</code> that enables modders to create custom heroes.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1655008376,"creation_date":1600096438,"answer_id":63887136,"question_id":63860110,"body_markdown":"Because in real-world APIs, sometimes we want to support specific extension points while restricting others.  The `Shape` examples are not particularly evocative, though, which is why it might seem an odd thing to allow.\r\n\r\nSealed classes are about having finer control over _who_ can extend a given extensible type.  There are several reasons you might want to do this, and &quot;ensuring that no one extends the hierarchy ever&quot; is only one of them.  \r\n\r\nThere are many cases where an API has several &quot;built in&quot; abstractions and then an &quot;escape hatch&quot; abstraction; this allows API authors to guide would-be extenders to the escape hatches that are designed for extension.\r\n\r\nFor example, suppose you have a system using the `Command` pattern, there are several built-in commands for which you want to control the implementation, and a `UserPluginCommand` for extension:\r\n\r\n    sealed interface Command\r\n        permits LoginCommand, LogoutCommand, ShowProfileCommand, UserPluginCommand { ... }\r\n\r\n    // final implementations of built-in commands\r\n\r\n    non-sealed abstract class UserPluginCommand extends Command {\r\n        // plugin-specific API\r\n    }\r\n\r\nSuch a hierarchy accomplishes two things: \r\n\r\n - All extension is funneled through the `UserPluginCommand`, which can be designed defensively for extension and provide an API suited to user extension, but we can still use interface-based polymorphism in our design, knowing that completely uncontrolled subtypes will not appear;\r\n\r\n - The system can still rely on the fact that the four permitted types cover all implementations of Command.  So internal code can use pattern matching and be confident in its exhaustiveness:\r\n\r\n```\r\nswitch (command) {\r\n    case LoginCommand(...): ... handle login ...;\r\n    case LogoutCommand(...): ... handle logout ...;\r\n    case ShowProfileCommand(...): ... handle query ...;\r\n    case UserPluginCommand uc: \r\n        // interact with plugin API\r\n    // no default needed, this switch is exhaustive\r\n```\r\n\r\nThere may be a zillion subtypes of `UserPluginCommand`, but the system can still confidently reason that it can cover the waterfront with these four cases.\r\n\r\nAn example of an API that will take advantage of this in the JDK is `java.lang.constant`, where there are two subtypes designed for extension -- dynamic constants and dynamic callsites.  ","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>Because in real-world APIs, sometimes we want to support specific extension points while restricting others.  The <code>Shape</code> examples are not particularly evocative, though, which is why it might seem an odd thing to allow.</p>\n<p>Sealed classes are about having finer control over <em>who</em> can extend a given extensible type.  There are several reasons you might want to do this, and &quot;ensuring that no one extends the hierarchy ever&quot; is only one of them.</p>\n<p>There are many cases where an API has several &quot;built in&quot; abstractions and then an &quot;escape hatch&quot; abstraction; this allows API authors to guide would-be extenders to the escape hatches that are designed for extension.</p>\n<p>For example, suppose you have a system using the <code>Command</code> pattern, there are several built-in commands for which you want to control the implementation, and a <code>UserPluginCommand</code> for extension:</p>\n<pre><code>sealed interface Command\n    permits LoginCommand, LogoutCommand, ShowProfileCommand, UserPluginCommand { ... }\n\n// final implementations of built-in commands\n\nnon-sealed abstract class UserPluginCommand extends Command {\n    // plugin-specific API\n}\n</code></pre>\n<p>Such a hierarchy accomplishes two things:</p>\n<ul>\n<li><p>All extension is funneled through the <code>UserPluginCommand</code>, which can be designed defensively for extension and provide an API suited to user extension, but we can still use interface-based polymorphism in our design, knowing that completely uncontrolled subtypes will not appear;</p>\n</li>\n<li><p>The system can still rely on the fact that the four permitted types cover all implementations of Command.  So internal code can use pattern matching and be confident in its exhaustiveness:</p>\n</li>\n</ul>\n<pre><code>switch (command) {\n    case LoginCommand(...): ... handle login ...;\n    case LogoutCommand(...): ... handle logout ...;\n    case ShowProfileCommand(...): ... handle query ...;\n    case UserPluginCommand uc: \n        // interact with plugin API\n    // no default needed, this switch is exhaustive\n</code></pre>\n<p>There may be a zillion subtypes of <code>UserPluginCommand</code>, but the system can still confidently reason that it can cover the waterfront with these four cases.</p>\n<p>An example of an API that will take advantage of this in the JDK is <code>java.lang.constant</code>, where there are two subtypes designed for extension -- dynamic constants and dynamic callsites.</p>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635348172,"creation_date":1635347769,"answer_id":69741256,"question_id":63860110,"body_markdown":"\r\nAccording to this [documentation][1], the `non-sealed` class allows opening part of the inheritance hierarchy to the world. It means the root sealed class permits only a closed set of subclasses to extend it. \r\n\r\nHowever, the subclasses can still allow themselves to be extended by any number of subclasses by using the non-sealed keyword. \r\n\r\n    public sealed class NumberSystem\r\n        // The permits clause has been omitted\r\n        // as all the subclasses exists in the same file.\r\n    { }\r\n    final class Binary extends NumberSystem { .. }\r\n\r\n    final class Octal extends NumberSystem { .. }\r\n\r\n    final class HexaDecimal extends NumberSystem { .. }\r\n\r\n    non-sealed class Decimal extends NumberSystem { .. }\r\n\r\n    final class NonRecurringDecimal extends Decimal {..}\r\n    final class RecurringDecimal extends Decimal {..}\r\n\r\n\r\n  [1]: https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>According to this <a href=\"https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/\" rel=\"nofollow noreferrer\">documentation</a>, the <code>non-sealed</code> class allows opening part of the inheritance hierarchy to the world. It means the root sealed class permits only a closed set of subclasses to extend it.</p>\n<p>However, the subclasses can still allow themselves to be extended by any number of subclasses by using the non-sealed keyword.</p>\n<pre><code>public sealed class NumberSystem\n    // The permits clause has been omitted\n    // as all the subclasses exists in the same file.\n{ }\nfinal class Binary extends NumberSystem { .. }\n\nfinal class Octal extends NumberSystem { .. }\n\nfinal class HexaDecimal extends NumberSystem { .. }\n\nnon-sealed class Decimal extends NumberSystem { .. }\n\nfinal class NonRecurringDecimal extends Decimal {..}\nfinal class RecurringDecimal extends Decimal {..}\n</code></pre>\n"}],"owner":{"account_id":6289028,"reputation":711,"user_id":4887297,"accept_rate":36,"display_name":"Ayox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8384,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":63887136,"answer_count":4,"score":55,"last_activity_date":1697473221,"creation_date":1599912200,"question_id":63860110,"body_markdown":"I don&#39;t really understand why there is a `non-sealed` keyword in JEP-360 / Java 15. For me, an extension of a `sealed`-class should only be `final` or a `sealed`-class itself. \r\n\r\nProviding the `non-sealed` keyword will invite the developer for hacks. \r\nWhy are we allowing a `sealed`-class to be extended to a `non-sealed`-class?","title":"What is the point of extending a sealed class with a non-sealed class?","body":"<p>I don't really understand why there is a <code>non-sealed</code> keyword in JEP-360 / Java 15. For me, an extension of a <code>sealed</code>-class should only be <code>final</code> or a <code>sealed</code>-class itself.</p>\n<p>Providing the <code>non-sealed</code> keyword will invite the developer for hacks.\nWhy are we allowing a <code>sealed</code>-class to be extended to a <code>non-sealed</code>-class?</p>\n"},{"tags":["java","spring","database","configuration"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696776958,"post_id":77254074,"comment_id":136193827,"body_markdown":"Please add the complete stacktrace","body":"Please add the complete stacktrace"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696836238,"post_id":77254074,"comment_id":136198837,"body_markdown":"Remove the `org.hibernate` dependencies, those are already part of `spring-boot-starter-data-jpa` and interfere with the correct version management.","body":"Remove the <code>org.hibernate</code> dependencies, those are already part of <code>spring-boot-starter-data-jpa</code> and interfere with the correct version management."}],"owner":{"account_id":29626074,"reputation":1,"user_id":22705770,"display_name":"Vladimir.Vasiliev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697473089,"creation_date":1696776800,"question_id":77254074,"body_markdown":"Good afternoon\r\n\r\nPlease help me with this problem  \r\n  \r\nHere&#39;s the message I get  \r\n  \r\n\r\n&gt; Error creating bean with name &#39;entityManagerFactory&#39; defined in class\r\n&gt; path resource: Class\r\n&gt; org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider\r\n&gt; does not implement the requested interface\r\n&gt; jakarta.persistence.spi.PersistenceProvider\r\n\r\nconfig:\r\n\r\n```\r\npackage ru.spring.rest.Config;\r\n\r\nimport com.zaxxer.hikari.HikariDataSource;\r\nimport jakarta.annotation.Resource;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.orm.jpa.JpaVendorAdapter;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n\r\nimport java.util.Properties;\r\n\r\n@Configuration\r\n@EnableJpaRepositories(basePackages = &quot;ru.spring.rest&quot;)\r\npublic class DbConfig {\r\n\r\n    @Resource\r\n    Environment env;\r\n\r\n    private static final String DRIVER_CLASS_NAME=&quot;db.driver-class-name&quot;;\r\n    private static final String URL=&quot;db.url&quot;;\r\n    private static final String USERNAME=&quot;db.username&quot;;\r\n    private static final String PASSWORD=&quot;db.password&quot;;\r\n\r\n\r\n    @Bean\r\n    @Primary\r\n    public HikariDataSource getDataSource() {\r\n        HikariDataSource dataSource = new HikariDataSource();\r\n        dataSource.setDriverClassName(env.getProperty(DRIVER_CLASS_NAME));\r\n        dataSource.setJdbcUrl(env.getProperty(URL));\r\n        dataSource.setUsername(env.getProperty(USERNAME));\r\n        dataSource.setPassword(env.getProperty(PASSWORD));\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean(&quot;entityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean getManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        localContainerEntityManagerFactoryBean.setPersistenceUnitName(&quot;name&quot;);\r\n        localContainerEntityManagerFactoryBean.setDataSource(getDataSource());\r\n        localContainerEntityManagerFactoryBean.setPackagesToScan(&quot;ru.spring.rest.Entities&quot;);\r\n        JpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\r\n        localContainerEntityManagerFactoryBean.setJpaVendorAdapter(jpaVendorAdapter);\r\n        localContainerEntityManagerFactoryBean.setJpaProperties(hibernateProperties());\r\n        return localContainerEntityManagerFactoryBean;\r\n    }\r\n\r\n    private Properties hibernateProperties() {\r\n        Properties hibernateProperties = new Properties();\r\n        hibernateProperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n        hibernateProperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL82Dialect&quot;);\r\n        return hibernateProperties;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nRepository:\r\n\r\n```\r\npackage ru.spring.rest.Repositories;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport ru.spring.rest.Entities.UserEntity;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserEntity, String&gt; {\r\n    List&lt;UserEntity&gt; getAll();\r\n}\r\n\r\n\r\n```\r\n\r\nEntity:\r\n\r\n```\r\npackage ru.spring.rest.Entities;\r\n\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\nimport jakarta.validation.constraints.Email;\r\nimport lombok.*;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Table(schema = &quot;rest&quot;, name = &quot;users&quot;)\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private String id;\r\n\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n\r\n    @Column(name = &quot;second_name&quot;)\r\n    private String secondName;\r\n\r\n    @Column(name = &quot;patronymic&quot;)\r\n    private String patronymic;\r\n\r\n    @Email\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n\r\n    @Column(name = &quot;login&quot;)\r\n    private String login;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n}\r\n```\r\n\r\nbuild gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;my.test.rest&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    implementation &#39;org.projectlombok:lombok:1.18.26&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.postgresql:postgresql:42.2.6&#39;\r\n    implementation &#39;org.hibernate:hibernate-core:5.6.9.Final&#39;\r\n    implementation &#39;org.hibernate:hibernate-entitymanager:5.6.9.Final&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI have already tried changing dependency versions and adding properties to hibernateProperties\r\n\r\nRemove the org.hibernate dependencies helped, but an error has appear:\r\n&gt; Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource null\r\n\r\nStackTrace:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource: null\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat ru.spring.rest.RestApplication.main(RestApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n\tat org.hibernate.dialect.PostgreSQLDialect.contributeTypes(PostgreSQLDialect.java:1249) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:386) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.RuntimeException: Could not initialize PostgreSQLPGObjectJdbcType\r\n\tat org.hibernate.dialect.PostgreSQLIntervalSecondJdbcType.&lt;clinit&gt;(PostgreSQLIntervalSecondJdbcType.java:78) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 28 common frames omitted\r\nCaused by: java.lang.NoSuchMethodException: org.postgresql.util.PGInterval.getWholeSeconds()\r\n\tat java.base/java.lang.Class.getDeclaredMethod(Class.java:2728) ~[na:na]\r\n\tat org.hibernate.dialect.PostgreSQLIntervalSecondJdbcType.&lt;clinit&gt;(PostgreSQLIntervalSecondJdbcType.java:74) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\t... 28 common frames omitted\r\n```","title":"Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface","body":"<p>Good afternoon</p>\n<p>Please help me with this problem</p>\n<p>Here's the message I get</p>\n<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class\npath resource: Class\norg.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider\ndoes not implement the requested interface\njakarta.persistence.spi.PersistenceProvider</p>\n</blockquote>\n<p>config:</p>\n<pre><code>package ru.spring.rest.Config;\n\nimport com.zaxxer.hikari.HikariDataSource;\nimport jakarta.annotation.Resource;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.orm.jpa.JpaVendorAdapter;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\n\nimport java.util.Properties;\n\n@Configuration\n@EnableJpaRepositories(basePackages = &quot;ru.spring.rest&quot;)\npublic class DbConfig {\n\n    @Resource\n    Environment env;\n\n    private static final String DRIVER_CLASS_NAME=&quot;db.driver-class-name&quot;;\n    private static final String URL=&quot;db.url&quot;;\n    private static final String USERNAME=&quot;db.username&quot;;\n    private static final String PASSWORD=&quot;db.password&quot;;\n\n\n    @Bean\n    @Primary\n    public HikariDataSource getDataSource() {\n        HikariDataSource dataSource = new HikariDataSource();\n        dataSource.setDriverClassName(env.getProperty(DRIVER_CLASS_NAME));\n        dataSource.setJdbcUrl(env.getProperty(URL));\n        dataSource.setUsername(env.getProperty(USERNAME));\n        dataSource.setPassword(env.getProperty(PASSWORD));\n        return dataSource;\n    }\n\n    @Bean(&quot;entityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean getManagerFactory() {\n        LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n        localContainerEntityManagerFactoryBean.setPersistenceUnitName(&quot;name&quot;);\n        localContainerEntityManagerFactoryBean.setDataSource(getDataSource());\n        localContainerEntityManagerFactoryBean.setPackagesToScan(&quot;ru.spring.rest.Entities&quot;);\n        JpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter();\n        localContainerEntityManagerFactoryBean.setJpaVendorAdapter(jpaVendorAdapter);\n        localContainerEntityManagerFactoryBean.setJpaProperties(hibernateProperties());\n        return localContainerEntityManagerFactoryBean;\n    }\n\n    private Properties hibernateProperties() {\n        Properties hibernateProperties = new Properties();\n        hibernateProperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        hibernateProperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.PostgreSQL82Dialect&quot;);\n        return hibernateProperties;\n    }\n\n}\n\n\n</code></pre>\n<p>Repository:</p>\n<pre><code>package ru.spring.rest.Repositories;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport ru.spring.rest.Entities.UserEntity;\n\nimport java.util.List;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserEntity, String&gt; {\n    List&lt;UserEntity&gt; getAll();\n}\n\n\n</code></pre>\n<p>Entity:</p>\n<pre><code>package ru.spring.rest.Entities;\n\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport jakarta.validation.constraints.Email;\nimport lombok.*;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(schema = &quot;rest&quot;, name = &quot;users&quot;)\npublic class UserEntity {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private String id;\n\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n\n    @Column(name = &quot;second_name&quot;)\n    private String secondName;\n\n    @Column(name = &quot;patronymic&quot;)\n    private String patronymic;\n\n    @Email\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n\n    @Column(name = &quot;login&quot;)\n    private String login;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n</code></pre>\n<p>build gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.5'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'my.test.rest'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.projectlombok:lombok:1.18.26'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.postgresql:postgresql:42.2.6'\n    implementation 'org.hibernate:hibernate-core:5.6.9.Final'\n    implementation 'org.hibernate:hibernate-entitymanager:5.6.9.Final'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have already tried changing dependency versions and adding properties to hibernateProperties</p>\n<p>Remove the org.hibernate dependencies helped, but an error has appear:</p>\n<blockquote>\n<p>Error creating bean with name 'entityManagerFactory' defined in class path resource null</p>\n</blockquote>\n<p>StackTrace:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource: null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at ru.spring.rest.RestApplication.main(RestApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ExceptionInInitializerError: null\n    at org.hibernate.dialect.PostgreSQLDialect.contributeTypes(PostgreSQLDialect.java:1249) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:386) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1348) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1419) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 16 common frames omitted\nCaused by: java.lang.RuntimeException: Could not initialize PostgreSQLPGObjectJdbcType\n    at org.hibernate.dialect.PostgreSQLIntervalSecondJdbcType.&lt;clinit&gt;(PostgreSQLIntervalSecondJdbcType.java:78) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 28 common frames omitted\nCaused by: java.lang.NoSuchMethodException: org.postgresql.util.PGInterval.getWholeSeconds()\n    at java.base/java.lang.Class.getDeclaredMethod(Class.java:2728) ~[na:na]\n    at org.hibernate.dialect.PostgreSQLIntervalSecondJdbcType.&lt;clinit&gt;(PostgreSQLIntervalSecondJdbcType.java:74) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    ... 28 common frames omitted\n</code></pre>\n"},{"tags":["java","sealed-class","java-15","java-sealed-type"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1600540747,"post_id":63972130,"comment_id":113122831,"body_markdown":"[A permitted subclass may be declared non-sealed so that its part of the hierarchy reverts to being open for extension by unknown subclasses. (A sealed class cannot prevent its permitted subclasses from doing this.)](https://openjdk.java.net/jeps/360)","body":"<a href=\"https://openjdk.java.net/jeps/360\" rel=\"nofollow noreferrer\">A permitted subclass may be declared non-sealed so that its part of the hierarchy reverts to being open for extension by unknown subclasses. (A sealed class cannot prevent its permitted subclasses from doing this.)</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":3,"creation_date":1600543218,"post_id":63972130,"comment_id":113123499,"body_markdown":"A `final` class can never be subclassed (old, old functionality). A `non-sealed` class is specifically opening up a class to be subclassed, which is needed when its base class is `sealed`.","body":"A <code>final</code> class can never be subclassed (old, old functionality). A <code>non-sealed</code> class is specifically opening up a class to be subclassed, which is needed when its base class is <code>sealed</code>."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":2,"creation_date":1601129600,"post_id":63972130,"comment_id":113312174,"body_markdown":"Sealing is a generalization of finality; a final class can be extended by nothing, a sealed class by the explicit list of permitted subtypes.  (A final class is like a selaed one with an empty permits list.)  Other languages have gone the route that a permitted subtype of a sealed type can be arbitrarily extended, but this often surprises people and can lead to bugs.  So Java requires you to be explicit about it: for a subtype of a sealed type, you have to pick one: final, sealed, or open for extension.  (Records are implicitly final so you don&#39;t have to say it explicitly.)","body":"Sealing is a generalization of finality; a final class can be extended by nothing, a sealed class by the explicit list of permitted subtypes.  (A final class is like a selaed one with an empty permits list.)  Other languages have gone the route that a permitted subtype of a sealed type can be arbitrarily extended, but this often surprises people and can lead to bugs.  So Java requires you to be explicit about it: for a subtype of a sealed type, you have to pick one: final, sealed, or open for extension.  (Records are implicitly final so you don&#39;t have to say it explicitly.)"}],"answers":[{"tags":[],"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1600896516,"creation_date":1600540837,"answer_id":63972185,"question_id":63972130,"body_markdown":"- As you&#39;ve marked `Cat` as `final`, no other class can extend `Cat`. \r\n- As you&#39;ve marked `Duck` as `non-sealed`, any class can extend `Duck`.\r\n\r\n---\r\n\r\nWhen marking a class as `sealed`, all directly extending classes (the ones after the `permits` clause) have to be marked either as `final`, `sealed` or `non-sealed`:\r\n\r\n- Marking a class that extends a `sealed` class as `sealed`, applies the same effect on it: Only classes specified after the `permits` clause are allowed to extend it.\r\n\r\n- `non-sealed` just &quot;breaks the seal&quot;, so the effect doesn&#39;t have to be carried on down the hierarchy. The extending class is open (again) for being extended by unknown subclasses itself.\r\n\r\n- `final` is *effectively* the same as `sealed` without any class specified after the `permits` clause. Notice that specifying nothing after `permits` is not possible, so `sealed` cannot replace `final`.","title":"What is the difference between a final and a non-sealed class in Java 15&#39;s sealed-classes feature?","body":"<ul>\n<li>As you've marked <code>Cat</code> as <code>final</code>, no other class can extend <code>Cat</code>.</li>\n<li>As you've marked <code>Duck</code> as <code>non-sealed</code>, any class can extend <code>Duck</code>.</li>\n</ul>\n<hr />\n<p>When marking a class as <code>sealed</code>, all directly extending classes (the ones after the <code>permits</code> clause) have to be marked either as <code>final</code>, <code>sealed</code> or <code>non-sealed</code>:</p>\n<ul>\n<li><p>Marking a class that extends a <code>sealed</code> class as <code>sealed</code>, applies the same effect on it: Only classes specified after the <code>permits</code> clause are allowed to extend it.</p>\n</li>\n<li><p><code>non-sealed</code> just &quot;breaks the seal&quot;, so the effect doesn't have to be carried on down the hierarchy. The extending class is open (again) for being extended by unknown subclasses itself.</p>\n</li>\n<li><p><code>final</code> is <em>effectively</em> the same as <code>sealed</code> without any class specified after the <code>permits</code> clause. Notice that specifying nothing after <code>permits</code> is not possible, so <code>sealed</code> cannot replace <code>final</code>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635349776,"creation_date":1635349776,"answer_id":69741769,"question_id":63972130,"body_markdown":"A final class has zero subclasses, meaning no other class can extend it.\r\nAny class can extend the non-sealed class.\r\n\r\nWhen you mark a class as sealed, only the permitted subclasses can extend it and can have only these modifiers final, sealed, or non-sealed:\r\n\r\n    public sealed class NumberSystem\r\n        // The permits clause has been omitted\r\n        // as all the subclasses exists in the same file.\r\n    { }\r\n    non-sealed class Decimal extends NumberSystem { .. }\r\n    final class NonRecurringDecimal extends Decimal {..}\r\n    final class RecurringDecimal extends Decimal {..}\r\n\r\nThough, the NumberSystem root level hierarchy is closed to set of known classes, you can allow the sub hierarchies to be open by using the non-sealed keyword.\r\n\r\nThe sealed and non-sealed combination allows you to restrict parts of your hierarchy but not all.\r\n\r\nIn the below diagram, we restricted the root hierarchy of the sealed class NumberSystem to a known set of subclasses. However, the [non-sealed][1] Decimal class allows any unknown subclass such as RecurringDecimal to extend it.\r\n\r\n\r\n  [1]: https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/","title":"What is the difference between a final and a non-sealed class in Java 15&#39;s sealed-classes feature?","body":"<p>A final class has zero subclasses, meaning no other class can extend it.\nAny class can extend the non-sealed class.</p>\n<p>When you mark a class as sealed, only the permitted subclasses can extend it and can have only these modifiers final, sealed, or non-sealed:</p>\n<pre><code>public sealed class NumberSystem\n    // The permits clause has been omitted\n    // as all the subclasses exists in the same file.\n{ }\nnon-sealed class Decimal extends NumberSystem { .. }\nfinal class NonRecurringDecimal extends Decimal {..}\nfinal class RecurringDecimal extends Decimal {..}\n</code></pre>\n<p>Though, the NumberSystem root level hierarchy is closed to set of known classes, you can allow the sub hierarchies to be open by using the non-sealed keyword.</p>\n<p>The sealed and non-sealed combination allows you to restrict parts of your hierarchy but not all.</p>\n<p>In the below diagram, we restricted the root hierarchy of the sealed class NumberSystem to a known set of subclasses. However, the <a href=\"https://tedblob.com/sealed-classes-and-interfaces-in-jdk-17/\" rel=\"nofollow noreferrer\">non-sealed</a> Decimal class allows any unknown subclass such as RecurringDecimal to extend it.</p>\n"},{"tags":[],"owner":{"account_id":17913302,"reputation":31,"user_id":13014883,"display_name":"Moniruzzaman rony"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697472836,"creation_date":1673354607,"answer_id":75070169,"question_id":63972130,"body_markdown":"**Final and non-sealed classes have some differences.**\r\n\r\n**final class:** you can&#39;t inherit this class, it&#39;s impossible to extend this class to other class on the other hand.\r\n\r\n**non-sealed class:** it&#39;s possible to inherit this class from others.\r\n\r\nFor example:&lt;br&gt;\r\nThis sealed interface which interface only permitted for Cat &amp; Duck class. Note that Cat &amp; Duck must be final, non-sealed, or sealed class:\r\n\r\n```java\r\npublic sealed interface Animal permits Cat, Duck {\r\n\tString makeSound();\r\n}\r\n```\r\n\r\nNow, I am creating Cat &amp; Duck class. Here Cat is the final class and another one is non-sealed class.\r\n\r\n```java\r\npublic final class Cat implements Animal {\r\n\r\n\t@Override\r\n\tpublic String makeSound() {\r\n\t\treturn &quot;miau&quot;;\r\n\t}\r\n}\r\n\r\npublic non-sealed class Duck implements Animal {\r\n\r\n\t@Override\r\n\tpublic String makeSound() {\r\n\t\treturn &quot;quack&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n**So if you can try to inherit the Cat class, you can&#39;t, got compilation error because Cat class is final. On another hand, the Duck class is extendable because it&#39;s non-sealed class** Like,\r\n\r\n```java\r\n//Got Error\r\npublic class MyCat extends Cat {\r\n\t.......\r\n}\r\n\r\n//Error not show.Duck class is extendable\r\npublic class MyDuck extends Duck {\r\n\t.....\r\n}\r\n```","title":"What is the difference between a final and a non-sealed class in Java 15&#39;s sealed-classes feature?","body":"<p><strong>Final and non-sealed classes have some differences.</strong></p>\n<p><strong>final class:</strong> you can't inherit this class, it's impossible to extend this class to other class on the other hand.</p>\n<p><strong>non-sealed class:</strong> it's possible to inherit this class from others.</p>\n<p>For example:<br>\nThis sealed interface which interface only permitted for Cat &amp; Duck class. Note that Cat &amp; Duck must be final, non-sealed, or sealed class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed interface Animal permits Cat, Duck {\n    String makeSound();\n}\n</code></pre>\n<p>Now, I am creating Cat &amp; Duck class. Here Cat is the final class and another one is non-sealed class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Cat implements Animal {\n\n    @Override\n    public String makeSound() {\n        return &quot;miau&quot;;\n    }\n}\n\npublic non-sealed class Duck implements Animal {\n\n    @Override\n    public String makeSound() {\n        return &quot;quack&quot;;\n    }\n}\n</code></pre>\n<p><strong>So if you can try to inherit the Cat class, you can't, got compilation error because Cat class is final. On another hand, the Duck class is extendable because it's non-sealed class</strong> Like,</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Got Error\npublic class MyCat extends Cat {\n    .......\n}\n\n//Error not show.Duck class is extendable\npublic class MyDuck extends Duck {\n    .....\n}\n</code></pre>\n"}],"owner":{"account_id":14527583,"reputation":4962,"user_id":10493338,"display_name":"Michael Kemmerzell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2406,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":63972185,"answer_count":3,"score":15,"last_activity_date":1697472836,"creation_date":1600540448,"question_id":63972130,"body_markdown":"I have the following sealed interface (Java 15):    \r\n\r\n    public sealed interface Animal permits Cat, Duck {\r\n    \r\n        String makeSound();\r\n    }\r\n\r\nThis interface is implemented by 2 classes:\r\n\r\n    public final class Cat implements Animal {\r\n    \r\n        @Override\r\n        public String makeSound() {\r\n            return &quot;miau&quot;;\r\n        }\r\n    }\r\n\r\n    public non-sealed class Duck implements Animal {\r\n    \r\n        @Override\r\n        public String makeSound() {\r\n            return &quot;quack&quot;;\r\n        }\r\n    }\r\n\r\nCan someone tell me the difference between `final` and `non-sealed`? `final` stops me from creating other sub-classes but what behavior does `non-sealed` apply to `Duck`?","title":"What is the difference between a final and a non-sealed class in Java 15&#39;s sealed-classes feature?","body":"<p>I have the following sealed interface (Java 15):</p>\n<pre><code>public sealed interface Animal permits Cat, Duck {\n\n    String makeSound();\n}\n</code></pre>\n<p>This interface is implemented by 2 classes:</p>\n<pre><code>public final class Cat implements Animal {\n\n    @Override\n    public String makeSound() {\n        return &quot;miau&quot;;\n    }\n}\n\npublic non-sealed class Duck implements Animal {\n\n    @Override\n    public String makeSound() {\n        return &quot;quack&quot;;\n    }\n}\n</code></pre>\n<p>Can someone tell me the difference between <code>final</code> and <code>non-sealed</code>? <code>final</code> stops me from creating other sub-classes but what behavior does <code>non-sealed</code> apply to <code>Duck</code>?</p>\n"},{"tags":["java","security","random","java-17"],"answers":[{"tags":[],"owner":{"account_id":2562085,"reputation":4946,"user_id":2223027,"display_name":"pyb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697472394,"creation_date":1697472394,"answer_id":77303457,"question_id":76757196,"body_markdown":"&gt; But it does not say, there is no need to use java.security.egd.\r\n\r\nI think you&#39;ve hit the nail on the head.\r\n\r\nFirst, searching &quot;EGD&quot; in `$JAVA_HOME/conf/security/java.security` provides documentation for `securerandom.source`, not for `java.security.egd`.\r\n\r\nSecond, that documentation states:\r\n\r\n&gt; By default, an attempt is made to use the entropy gathering device specified by the &quot;securerandom.source&quot; Security property.\r\n&gt;\r\n&gt; The entropy gathering device can also be specified with the System property &quot;java.security.egd&quot;.\r\n&gt;\r\n&gt; Specifying this System property will override the &quot;securerandom.source&quot; Security property.\r\n\r\nFrom these two clues I understand the official setting is `securerandom.source` and that `java.security.egd` is still supported for compatibility reasons.\r\n\r\n\r\nFull quote:\r\n\r\n&lt;!-- language: ini --&gt;\r\n\r\n```\r\n#\r\n# Sun Provider SecureRandom seed source.\r\n#\r\n# Select the primary source of seed data for the &quot;NativePRNG&quot;, &quot;SHA1PRNG&quot;\r\n# and &quot;DRBG&quot; SecureRandom implementations in the &quot;Sun&quot; provider.\r\n# (Other SecureRandom implementations might also use this property.)\r\n#\r\n# On Unix-like systems (for example, Linux/MacOS), the\r\n# &quot;NativePRNG&quot;, &quot;SHA1PRNG&quot; and &quot;DRBG&quot; implementations obtains seed data from\r\n# special device files such as file:/dev/random.\r\n#\r\n# On Windows systems, specifying the URLs &quot;file:/dev/random&quot; or\r\n# &quot;file:/dev/urandom&quot; will enable the native Microsoft CryptoAPI seeding\r\n# mechanism for SHA1PRNG and DRBG.\r\n#\r\n# By default, an attempt is made to use the entropy gathering device\r\n# specified by the &quot;securerandom.source&quot; Security property.  If an\r\n# exception occurs while accessing the specified URL:\r\n#\r\n#     NativePRNG:\r\n#         a default value of /dev/random will be used.  If neither\r\n#         are available, the implementation will be disabled.\r\n#         &quot;file&quot; is the only currently supported protocol type.\r\n#\r\n#     SHA1PRNG and DRBG:\r\n#         the traditional system/thread activity algorithm will be used.\r\n#\r\n# The entropy gathering device can also be specified with the System\r\n# property &quot;java.security.egd&quot;. For example:\r\n#\r\n#   % java -Djava.security.egd=file:/dev/random MainClass\r\n#\r\n# Specifying this System property will override the\r\n# &quot;securerandom.source&quot; Security property.\r\n#\r\n# In addition, if &quot;file:/dev/random&quot; or &quot;file:/dev/urandom&quot; is\r\n# specified, the &quot;NativePRNG&quot; implementation will be more preferred than\r\n# DRBG and SHA1PRNG in the Sun provider.\r\n#\r\nsecurerandom.source=file:/dev/random\r\n```","title":"securerandom.source vs java.security.egd Java System properties difference","body":"<blockquote>\n<p>But it does not say, there is no need to use java.security.egd.</p>\n</blockquote>\n<p>I think you've hit the nail on the head.</p>\n<p>First, searching &quot;EGD&quot; in <code>$JAVA_HOME/conf/security/java.security</code> provides documentation for <code>securerandom.source</code>, not for <code>java.security.egd</code>.</p>\n<p>Second, that documentation states:</p>\n<blockquote>\n<p>By default, an attempt is made to use the entropy gathering device specified by the &quot;securerandom.source&quot; Security property.</p>\n<p>The entropy gathering device can also be specified with the System property &quot;java.security.egd&quot;.</p>\n<p>Specifying this System property will override the &quot;securerandom.source&quot; Security property.</p>\n</blockquote>\n<p>From these two clues I understand the official setting is <code>securerandom.source</code> and that <code>java.security.egd</code> is still supported for compatibility reasons.</p>\n<p>Full quote:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>#\n# Sun Provider SecureRandom seed source.\n#\n# Select the primary source of seed data for the &quot;NativePRNG&quot;, &quot;SHA1PRNG&quot;\n# and &quot;DRBG&quot; SecureRandom implementations in the &quot;Sun&quot; provider.\n# (Other SecureRandom implementations might also use this property.)\n#\n# On Unix-like systems (for example, Linux/MacOS), the\n# &quot;NativePRNG&quot;, &quot;SHA1PRNG&quot; and &quot;DRBG&quot; implementations obtains seed data from\n# special device files such as file:/dev/random.\n#\n# On Windows systems, specifying the URLs &quot;file:/dev/random&quot; or\n# &quot;file:/dev/urandom&quot; will enable the native Microsoft CryptoAPI seeding\n# mechanism for SHA1PRNG and DRBG.\n#\n# By default, an attempt is made to use the entropy gathering device\n# specified by the &quot;securerandom.source&quot; Security property.  If an\n# exception occurs while accessing the specified URL:\n#\n#     NativePRNG:\n#         a default value of /dev/random will be used.  If neither\n#         are available, the implementation will be disabled.\n#         &quot;file&quot; is the only currently supported protocol type.\n#\n#     SHA1PRNG and DRBG:\n#         the traditional system/thread activity algorithm will be used.\n#\n# The entropy gathering device can also be specified with the System\n# property &quot;java.security.egd&quot;. For example:\n#\n#   % java -Djava.security.egd=file:/dev/random MainClass\n#\n# Specifying this System property will override the\n# &quot;securerandom.source&quot; Security property.\n#\n# In addition, if &quot;file:/dev/random&quot; or &quot;file:/dev/urandom&quot; is\n# specified, the &quot;NativePRNG&quot; implementation will be more preferred than\n# DRBG and SHA1PRNG in the Sun provider.\n#\nsecurerandom.source=file:/dev/random\n</code></pre>\n"}],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77303457,"answer_count":1,"score":1,"last_activity_date":1697472394,"creation_date":1690223767,"question_id":76757196,"body_markdown":"I turns out that not possible to find full list of Java properties other than [basic][1].\r\n\r\nI want to understand difference of `securerandom.source` vs `java.security.egd`\r\n\r\nWhen I run printing out from within Java main method:\r\n\r\n```java\r\nSystem.out.println(&quot;Secure random source: &quot; + Security.getProperty(&quot;securerandom.source&quot;));\r\nSystem.out.println(&quot;java.security.egd: &quot; + System.getProperty(&quot;java.security.egd&quot;));\r\n```\r\n\r\nI get (on JDK 17):\r\n\r\n    Secure random source: file:/dev/random\r\n    java.security.egd: null\r\n\r\nJDK 11 https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-9DC4ADD5-6D01-4B2E-9E85-B88E3BEE7453\r\nand JDK 17 https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html#GUID-C4706FFE-D08F-4E29-B0BE-CCE8C93DD940\r\nboth say `file:/dev/random` is already default, and setting it is not needed.\r\n\r\n&gt; if the entropy gathering device in java.security is set to file:/dev/urandom or file:/dev/random, then NativePRNG is preferred to SHA1PRNG\r\n\r\nBut NativePRNG algorithm is already used by default:\r\n\r\n```java\r\nSecureRandom secureRandom = new SecureRandom();\r\nSystem.out.println(&quot;Algorithm: &quot; + secureRandom.getAlgorithm());\r\n```\r\n\r\nOutput\r\n```\r\nAlgorithm: NativePRNG\r\n```\r\n\r\nMy feelings are that specifying `java.security.egd` is not needed,\r\nbut I cannot get documentation prove of it.\r\n\r\nThe https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html\r\nsays\r\n\r\n&gt; SHA1PRNG and NativePRNG were fixed to properly respect the SecureRandom seed source properties in the java.security file.  The obscure workaround using file:///dev/urandom and file:/dev/./urandom is no longer required\r\n\r\nBut it does not say, there is no need to use `java.security.egd`.\r\n\r\n\r\n**What is `securerandom.source` vs `java.security.egd` Java System properties difference  ?**\r\n\r\nYes, this is [older staff][2] in [many places][3]\r\n\r\nhttps://cwiki.apache.org/confluence/display/TOMCAT/HowTo+FasterStartUp (last edit 2017)\r\nhas\r\n\r\n&gt; There is a way to configure JRE to use a non-blocking entropy source by setting the following system property: -Djava.security.egd=file:/dev/./urandom\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\r\n  [2]: https://stackoverflow.com/questions/20315022/java-slow-entropy-related-issue\r\n  [3]: https://stackoverflow.com/questions/59564269/deprecated-java-security-egd-file-dev-urandom-for-spring-boot-applications","title":"securerandom.source vs java.security.egd Java System properties difference","body":"<p>I turns out that not possible to find full list of Java properties other than <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/sysprop.html\" rel=\"nofollow noreferrer\">basic</a>.</p>\n<p>I want to understand difference of <code>securerandom.source</code> vs <code>java.security.egd</code></p>\n<p>When I run printing out from within Java main method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Secure random source: &quot; + Security.getProperty(&quot;securerandom.source&quot;));\nSystem.out.println(&quot;java.security.egd: &quot; + System.getProperty(&quot;java.security.egd&quot;));\n</code></pre>\n<p>I get (on JDK 17):</p>\n<pre><code>Secure random source: file:/dev/random\njava.security.egd: null\n</code></pre>\n<p>JDK 11 <a href=\"https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-9DC4ADD5-6D01-4B2E-9E85-B88E3BEE7453\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/security/oracle-providers.html#GUID-9DC4ADD5-6D01-4B2E-9E85-B88E3BEE7453</a>\nand JDK 17 <a href=\"https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html#GUID-C4706FFE-D08F-4E29-B0BE-CCE8C93DD940\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/security/oracle-providers.html#GUID-C4706FFE-D08F-4E29-B0BE-CCE8C93DD940</a>\nboth say <code>file:/dev/random</code> is already default, and setting it is not needed.</p>\n<blockquote>\n<p>if the entropy gathering device in java.security is set to file:/dev/urandom or file:/dev/random, then NativePRNG is preferred to SHA1PRNG</p>\n</blockquote>\n<p>But NativePRNG algorithm is already used by default:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecureRandom secureRandom = new SecureRandom();\nSystem.out.println(&quot;Algorithm: &quot; + secureRandom.getAlgorithm());\n</code></pre>\n<p>Output</p>\n<pre><code>Algorithm: NativePRNG\n</code></pre>\n<p>My feelings are that specifying <code>java.security.egd</code> is not needed,\nbut I cannot get documentation prove of it.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html</a>\nsays</p>\n<blockquote>\n<p>SHA1PRNG and NativePRNG were fixed to properly respect the SecureRandom seed source properties in the java.security file.  The obscure workaround using file:///dev/urandom and file:/dev/./urandom is no longer required</p>\n</blockquote>\n<p>But it does not say, there is no need to use <code>java.security.egd</code>.</p>\n<p><strong>What is <code>securerandom.source</code> vs <code>java.security.egd</code> Java System properties difference  ?</strong></p>\n<p>Yes, this is <a href=\"https://stackoverflow.com/questions/20315022/java-slow-entropy-related-issue\">older staff</a> in <a href=\"https://stackoverflow.com/questions/59564269/deprecated-java-security-egd-file-dev-urandom-for-spring-boot-applications\">many places</a></p>\n<p><a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/HowTo+FasterStartUp\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/TOMCAT/HowTo+FasterStartUp</a> (last edit 2017)\nhas</p>\n<blockquote>\n<p>There is a way to configure JRE to use a non-blocking entropy source by setting the following system property: -Djava.security.egd=file:/dev/./urandom</p>\n</blockquote>\n"},{"tags":["java","exception","jdbc","spring-data-jpa","upsert"],"comments":[{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566550954,"post_id":57622937,"comment_id":101699865,"body_markdown":"Why don&#39;t you remove the duplicates before saving ?","body":"Why don&#39;t you remove the duplicates before saving ?"},{"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"score":1,"creation_date":1566552635,"post_id":57622937,"comment_id":101700748,"body_markdown":"That&#39;s a viable option but I would like to avoid remove.\nIs it possible to have a solution that does &quot;on duplicate do nothing&quot; instead of bulk removing very long lists of items?","body":"That&#39;s a viable option but I would like to avoid remove. Is it possible to have a solution that does &quot;on duplicate do nothing&quot; instead of bulk removing very long lists of items?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1566553345,"post_id":57622937,"comment_id":101701099,"body_markdown":"No that&#39;s not the the duty of the repository layer. If you are using java.util.Set you could implement equals() based on the unique fields","body":"No that&#39;s not the the duty of the repository layer. If you are using java.util.Set you could implement equals() based on the unique fields"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566553573,"post_id":57622937,"comment_id":101701214,"body_markdown":"I wouldn&#39;t try to suppress DB errors, I think that the client code should provide the correct values to insert.","body":"I wouldn&#39;t try to suppress DB errors, I think that the client code should provide the correct values to insert."},{"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"score":0,"creation_date":1566556388,"post_id":57622937,"comment_id":101702615,"body_markdown":"I agree with Arnaud and with the first sentence of Simon, but building a filtering logic in the client would imply that other I have to source ALL the information first other I have to access many times the DB for reads, both cases are pretty slow in performances","body":"I agree with Arnaud and with the first sentence of Simon, but building a filtering logic in the client would imply that other I have to source ALL the information first other I have to access many times the DB for reads, both cases are pretty slow in performances"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566556610,"post_id":57622937,"comment_id":101702731,"body_markdown":"How many rows do you have ? You could make a single query to do that like `SELECT id FROM t WHERE id IN (ids_list_you_want_to_insert)` and then filter your collection using the returned id. I agree that it&#39;s not perfect, but at least you won&#39;t have to rely on DB error","body":"How many rows do you have ? You could make a single query to do that like <code>SELECT id FROM t WHERE id IN (ids_list_you_want_to_insert)</code> and then filter your collection using the returned id. I agree that it&#39;s not perfect, but at least you won&#39;t have to rely on DB error"},{"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"score":2,"creation_date":1566556798,"post_id":57622937,"comment_id":101702829,"body_markdown":"Your case works only if the number of elements is below 1000 (oracle in clause limit). In my case there are between 500.000 ~ 1.000.000 elements","body":"Your case works only if the number of elements is below 1000 (oracle in clause limit). In my case there are between 500.000 ~ 1.000.000 elements"},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566557375,"post_id":57622937,"comment_id":101703103,"body_markdown":"Do you frequently have to insert ? By the way, if you have 1M elements, you have at least 1M insert query. Adding 1000 select queries (1000x1000 ids) that only manipulate ids is not very costly","body":"Do you frequently have to insert ? By the way, if you have 1M elements, you have at least 1M insert query. Adding 1000 select queries (1000x1000 ids) that only manipulate ids is not very costly"},{"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"score":0,"creation_date":1566558034,"post_id":57622937,"comment_id":101703456,"body_markdown":"Not really, this workload is done twice per month more or less.","body":"Not really, this workload is done twice per month more or less."},{"owner":{"account_id":10496592,"reputation":3058,"user_id":7736617,"display_name":"Arnaud Claudel"},"score":0,"creation_date":1566558423,"post_id":57622937,"comment_id":101703652,"body_markdown":"Then adding several thousands of select queries on the `id` per month is nothing.","body":"Then adding several thousands of select queries on the <code>id</code> per month is nothing."},{"owner":{"account_id":4014463,"reputation":1644,"user_id":3307037,"accept_rate":50,"display_name":"Enoobong"},"score":2,"creation_date":1576762980,"post_id":57622937,"comment_id":105008944,"body_markdown":"Hey man. Having the same issue. Any ideas about how you resolved without looping?","body":"Hey man. Having the same issue. Any ideas about how you resolved without looping?"},{"owner":{"account_id":7680215,"reputation":679,"user_id":5819664,"accept_rate":83,"display_name":"Onkar"},"score":1,"creation_date":1638900191,"post_id":57622937,"comment_id":124208834,"body_markdown":"Any finding on this? I am having something similar issue, In my case, I have List&lt;Entity&gt; which is having some records as new and some are there to update, when I use saveAll() method, it giving issue when there are many records. Surprising thing is when there some 1k records it works perfect.","body":"Any finding on this? I am having something similar issue, In my case, I have List&lt;Entity&gt; which is having some records as new and some are there to update, when I use saveAll() method, it giving issue when there are many records. Surprising thing is when there some 1k records it works perfect."}],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665221173,"creation_date":1665221173,"answer_id":73995836,"question_id":57622937,"body_markdown":"You could use an `@Query` annotation to define your own custom repo method to accomplish this.\r\n\r\n    @Query(&quot;INSERT IGNORE INTO table (COLUMNS) values (...)&quot;)\r\n    public List&lt;S&gt; saveAllInsertIgnore(List&lt;&gt; list);\r\n\r\nReference: \r\n\r\nhttps://stackoverflow.com/a/70574062/6784846","title":"How to ignore duplicate insertion for save operation using jpa repository saveAll?","body":"<p>You could use an <code>@Query</code> annotation to define your own custom repo method to accomplish this.</p>\n<pre><code>@Query(&quot;INSERT IGNORE INTO table (COLUMNS) values (...)&quot;)\npublic List&lt;S&gt; saveAllInsertIgnore(List&lt;&gt; list);\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://stackoverflow.com/a/70574062/6784846\">https://stackoverflow.com/a/70574062/6784846</a></p>\n"},{"tags":[],"owner":{"account_id":9981674,"reputation":42,"user_id":7384417,"display_name":"amit kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675631204,"creation_date":1675631204,"answer_id":75355513,"question_id":57622937,"body_markdown":"Why do not you implement `equals()` and `hashCode()` functions for your objects on columns based on which you want uniqueness? Store your objects in a *Set* and it will automatically remove duplicates following which you can use `saveAll()` without any exception.","title":"How to ignore duplicate insertion for save operation using jpa repository saveAll?","body":"<p>Why do not you implement <code>equals()</code> and <code>hashCode()</code> functions for your objects on columns based on which you want uniqueness? Store your objects in a <em>Set</em> and it will automatically remove duplicates following which you can use <code>saveAll()</code> without any exception.</p>\n"}],"owner":{"account_id":7672655,"reputation":143,"user_id":5814378,"display_name":"Gianluca Vasaturo"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9480,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1697472330,"creation_date":1566550762,"question_id":57622937,"body_markdown":"I need to be able to use saveAll() method of a spring data CrudRepository and ignore duplicate insertion on a unique constraint.\r\n\r\nIn my current project I&#39;m currently using spring boot -&gt; jpa stack and I have to process an import of a excel file that ends up into saving multiple entities into a database. I&#39;m using liquibase to track changes on the DB and I&#39;m using spring profiles to manage two different environments (one is using Postgres DB and the other one is using Oracle 19-c). The excel files are uploaded from time to time via an external ftp service. I have a Folder Watch service that waits for a file change in that folder and triggers the import when a new file is created. \r\n\r\nThe problem is that I have an unique constraint and the file MIGHT have new rows along with the old ones. The processing of the Excel file via POI is pretty heavy and I&#39;m saving the result of the computation in memory via java.util.Set until I reach the point in time where I have to persist the Set with the saveAll() method of the CrudRepository.\r\n\r\n**I am currently experiencing**: \r\n*ERROR: duplicate key value violates unique constraint &quot;csspd_avoid_duplicates&quot;*\r\n\r\n*org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only*\r\n\r\nand the import stops on the first encountered duplicate.\r\n\r\n\r\nI had, for the same project, a similar problem with a single insertion in a loop (single save()) and I&#39;ve managed to workaround the issue with the following snippet:\r\n\r\n\r\n                    try {\r\n\r\n                        repository.save(entity);\r\n                    } catch (DataIntegrityViolationException e) {\r\n                        this.log.debug(&quot;Duplicate found, skipping&quot;);\r\n                    }\r\n\r\nI&#39;ve tried the same approach with the bulk save without any luck.\r\n\r\nThis is the interested method:\r\n\r\n\r\n    public boolean triggerExcelImport(Path path) {\r\n        try {\r\n\r\n            ExcelDataDTO excelExtractedData;\r\n            if (path == null) {\r\n                excelExtractedData = excelImporterService.importExcelFiles();\r\n            } else {\r\n                excelExtractedData = excelImporterService.importStandardXLSXFiles(path);\r\n            }\r\n            \r\n            staticProductDataRepository.saveAll(excelExtractedData.getProductData());  // &lt;-- This saveAll might have duplicates\r\n\r\n            for (Set&lt;AllocationChartData&gt; allocationList : excelExtractedData.getAllocationMap().values()) {\r\n                allocationChartDataRepository.saveAll(allocationList);   // &lt;-- This saveAll might have duplicates\r\n            }\r\n            \r\n            performanceRepository.saveAll(excelExtractedData.getPerformanceData());    // &lt;-- This saveAll might have duplicates\r\n            \r\n            return true;\r\n        } catch (DataIntegrityViolationException e) {\r\n            this.log.debug(&quot;Duplicate found, skipping&quot;);\r\n        }\r\n        return false;\r\n    }\r\n\r\n  \r\n\r\nI would like to have the import process to actually finish the import avoiding termination on the first duplicate. The solution has to be database independent (I am using Postgres and Oracle managed with liquibase context) \r\n\r\nthis is the actual exception I&#39;m having:\r\n\r\n\r\n            org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:533) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at com.juliusbaer.ims.toolbox.services.CenshareService$$EnhancerBySpringCGLIB$$8e7529c1.triggerCenshareExcelImport(&lt;generated&gt;) ~[classes/:?]\r\n            at com.juliusbaer.ims.toolbox.services.FolderWatchService.readAndCleanUpFile(FolderWatchService.java:168) ~[classes/:?]\r\n            at com.juliusbaer.ims.toolbox.services.FolderWatchService.initializeFileImportAtStartup(FolderWatchService.java:99) ~[classes/:?]\r\n            at com.juliusbaer.ims.toolbox.services.FolderWatchService.setUp(FolderWatchService.java:93) ~[classes/:?]\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n            at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n            at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n            at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n            at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:363) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:307) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:414) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) [spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) [spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n            at com.juliusbaer.ims.toolbox.Application.main(Application.java:12) [classes/:?]\r\n\r\n\r\nThank you for the help.\r\n\r\n**EDIT:**\r\nJust to give you a brief more explanation, the unique constraint is not based on a single identifier id, it&#39;s a composition of multiple columns (8 in total)\r\n","title":"How to ignore duplicate insertion for save operation using jpa repository saveAll?","body":"<p>I need to be able to use saveAll() method of a spring data CrudRepository and ignore duplicate insertion on a unique constraint.</p>\n\n<p>In my current project I'm currently using spring boot -> jpa stack and I have to process an import of a excel file that ends up into saving multiple entities into a database. I'm using liquibase to track changes on the DB and I'm using spring profiles to manage two different environments (one is using Postgres DB and the other one is using Oracle 19-c). The excel files are uploaded from time to time via an external ftp service. I have a Folder Watch service that waits for a file change in that folder and triggers the import when a new file is created. </p>\n\n<p>The problem is that I have an unique constraint and the file MIGHT have new rows along with the old ones. The processing of the Excel file via POI is pretty heavy and I'm saving the result of the computation in memory via java.util.Set until I reach the point in time where I have to persist the Set with the saveAll() method of the CrudRepository.</p>\n\n<p><strong>I am currently experiencing</strong>: \n<em>ERROR: duplicate key value violates unique constraint \"csspd_avoid_duplicates\"</em></p>\n\n<p><em>org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only</em></p>\n\n<p>and the import stops on the first encountered duplicate.</p>\n\n<p>I had, for the same project, a similar problem with a single insertion in a loop (single save()) and I've managed to workaround the issue with the following snippet:</p>\n\n<pre><code>                try {\n\n                    repository.save(entity);\n                } catch (DataIntegrityViolationException e) {\n                    this.log.debug(\"Duplicate found, skipping\");\n                }\n</code></pre>\n\n<p>I've tried the same approach with the bulk save without any luck.</p>\n\n<p>This is the interested method:</p>\n\n<pre><code>public boolean triggerExcelImport(Path path) {\n    try {\n\n        ExcelDataDTO excelExtractedData;\n        if (path == null) {\n            excelExtractedData = excelImporterService.importExcelFiles();\n        } else {\n            excelExtractedData = excelImporterService.importStandardXLSXFiles(path);\n        }\n\n        staticProductDataRepository.saveAll(excelExtractedData.getProductData());  // &lt;-- This saveAll might have duplicates\n\n        for (Set&lt;AllocationChartData&gt; allocationList : excelExtractedData.getAllocationMap().values()) {\n            allocationChartDataRepository.saveAll(allocationList);   // &lt;-- This saveAll might have duplicates\n        }\n\n        performanceRepository.saveAll(excelExtractedData.getPerformanceData());    // &lt;-- This saveAll might have duplicates\n\n        return true;\n    } catch (DataIntegrityViolationException e) {\n        this.log.debug(\"Duplicate found, skipping\");\n    }\n    return false;\n}\n</code></pre>\n\n<p>I would like to have the import process to actually finish the import avoiding termination on the first duplicate. The solution has to be database independent (I am using Postgres and Oracle managed with liquibase context) </p>\n\n<p>this is the actual exception I'm having:</p>\n\n<pre><code>        org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:533) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98) ~[spring-tx-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688) ~[spring-aop-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at com.juliusbaer.ims.toolbox.services.CenshareService$$EnhancerBySpringCGLIB$$8e7529c1.triggerCenshareExcelImport(&lt;generated&gt;) ~[classes/:?]\n        at com.juliusbaer.ims.toolbox.services.FolderWatchService.readAndCleanUpFile(FolderWatchService.java:168) ~[classes/:?]\n        at com.juliusbaer.ims.toolbox.services.FolderWatchService.initializeFileImportAtStartup(FolderWatchService.java:99) ~[classes/:?]\n        at com.juliusbaer.ims.toolbox.services.FolderWatchService.setUp(FolderWatchService.java:93) ~[classes/:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n        at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:363) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:307) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:136) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:414) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) [spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) [spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) [spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\n        at com.juliusbaer.ims.toolbox.Application.main(Application.java:12) [classes/:?]\n</code></pre>\n\n<p>Thank you for the help.</p>\n\n<p><strong>EDIT:</strong>\nJust to give you a brief more explanation, the unique constraint is not based on a single identifier id, it's a composition of multiple columns (8 in total)</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"score":0,"creation_date":1697470218,"post_id":77303198,"comment_id":136280805,"body_markdown":"Have you looked into either Github actions or Gitlab Runners? Some kind of CI/CD will help you solve this issue.","body":"Have you looked into either Github actions or Gitlab Runners? Some kind of CI/CD will help you solve this issue."},{"owner":{"account_id":12735124,"reputation":1673,"user_id":9250303,"display_name":"meaningqo"},"score":0,"creation_date":1697472096,"post_id":77303198,"comment_id":136281170,"body_markdown":"this sounds like you&#39;re using &lt;latest&gt; tag on staging environment and probably don&#39;t really pull the newest image because an image with that latest is already present on that machine. best way would be to go with @GabeRAMturn&#39;s sugestion and pick up some kind of cicd solution. if that&#39;s not an option right now, before running docker pull, run docker image rm &lt;user&gt;:&lt;app-name&gt;","body":"this sounds like you&#39;re using &lt;latest&gt; tag on staging environment and probably don&#39;t really pull the newest image because an image with that latest is already present on that machine. best way would be to go with @GabeRAMturn&#39;s sugestion and pick up some kind of cicd solution. if that&#39;s not an option right now, before running docker pull, run docker image rm &lt;user&gt;:&lt;app-name&gt;"},{"owner":{"account_id":12735124,"reputation":1673,"user_id":9250303,"display_name":"meaningqo"},"score":0,"creation_date":1697472236,"post_id":77303198,"comment_id":136281199,"body_markdown":"another option would be to declare an env var in your dockerfile corresponding to the commit-sha of your application and check that with the container running on your staging env","body":"another option would be to declare an env var in your dockerfile corresponding to the commit-sha of your application and check that with the container running on your staging env"}],"owner":{"account_id":8532,"reputation":13097,"user_id":15452,"accept_rate":57,"display_name":"Vihung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697470421,"creation_date":1697469953,"question_id":77303198,"body_markdown":"I am running an Angular app on top of a Java Spring based API in a Docker container.\r\n\r\nWhen making code changes, I do the following;\r\n\r\n1. Build my angular app with `ng build` if the changes are to the front end\r\n2. Copy my built Angular app&#39;s `/dist` folder contents into my Spring codebase&#39;s `src/main/resources/static` folder (also, only if the changes are to the front end)\r\n3. Build my Spring app with `./gradlew build`\r\n4. Build my local docker container with `docker build --no-cache -t &lt;user&gt;:&lt;app-name&gt;`\r\n5. Run my local Docker container with `docker run &lt;user&gt;:&lt;app-name&gt;`\r\n\r\nWhen ready to run the app on a staging server, I then from my dev machine, I do a \r\n\r\n6. Push the latest image with `docker push &lt;user&gt;:&lt;app-name&gt;`\r\n\r\nAnd on the staging server, \r\n\r\n7. Pull the latest image with `docker pull &lt;user&gt;:&lt;app-name&gt;`\r\n8. And then run it with `docker run &lt;user&gt;:&lt;app-name&gt;` \r\n\r\nRecently, I have noticed when making changes and running locally (Steps 1-5), the image does not have the latest code, but code from when the image was last pushed.\r\n\r\nHow do I ensure that the code gets copied correctly.\r\n\r\nMy DOCKERFILE is \r\n```\r\nFROM adoptopenjdk/openjdk11\r\nCOPY ./build/libs/&lt;app-name&gt;-0.0.1-SNAPSHOT.jar /app/&lt;app-name&gt;.jar\r\nEXPOSE 8080\r\nWORKDIR /app\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/&lt;app-name&gt;.jar&quot;]\r\n```\r\n\r\nI know for sure that the `./build/libs/&lt;app-name&gt;-0.0.1-SNAPSHOT.jar` file is definitely being built and updated correctly, and by looking at the files inside my container I can see that the file `/app/&lt;app-name&gt;.jar` is not the latest.\r\n\r\nIt seems to me that the `COPY` step in the Dockerfile is not happening.\r\n\r\n**Update**: I am aware that some kind of CI/CD pipeline will benefit me hugely. I fully intend to use one. I want to make sure that each step, manually step-by-step, works before I automate this.","title":"How do I ensure my Java code built with Gradle gets updated in my Docker container?","body":"<p>I am running an Angular app on top of a Java Spring based API in a Docker container.</p>\n<p>When making code changes, I do the following;</p>\n<ol>\n<li>Build my angular app with <code>ng build</code> if the changes are to the front end</li>\n<li>Copy my built Angular app's <code>/dist</code> folder contents into my Spring codebase's <code>src/main/resources/static</code> folder (also, only if the changes are to the front end)</li>\n<li>Build my Spring app with <code>./gradlew build</code></li>\n<li>Build my local docker container with <code>docker build --no-cache -t &lt;user&gt;:&lt;app-name&gt;</code></li>\n<li>Run my local Docker container with <code>docker run &lt;user&gt;:&lt;app-name&gt;</code></li>\n</ol>\n<p>When ready to run the app on a staging server, I then from my dev machine, I do a</p>\n<ol start=\"6\">\n<li>Push the latest image with <code>docker push &lt;user&gt;:&lt;app-name&gt;</code></li>\n</ol>\n<p>And on the staging server,</p>\n<ol start=\"7\">\n<li>Pull the latest image with <code>docker pull &lt;user&gt;:&lt;app-name&gt;</code></li>\n<li>And then run it with <code>docker run &lt;user&gt;:&lt;app-name&gt;</code></li>\n</ol>\n<p>Recently, I have noticed when making changes and running locally (Steps 1-5), the image does not have the latest code, but code from when the image was last pushed.</p>\n<p>How do I ensure that the code gets copied correctly.</p>\n<p>My DOCKERFILE is</p>\n<pre><code>FROM adoptopenjdk/openjdk11\nCOPY ./build/libs/&lt;app-name&gt;-0.0.1-SNAPSHOT.jar /app/&lt;app-name&gt;.jar\nEXPOSE 8080\nWORKDIR /app\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app/&lt;app-name&gt;.jar&quot;]\n</code></pre>\n<p>I know for sure that the <code>./build/libs/&lt;app-name&gt;-0.0.1-SNAPSHOT.jar</code> file is definitely being built and updated correctly, and by looking at the files inside my container I can see that the file <code>/app/&lt;app-name&gt;.jar</code> is not the latest.</p>\n<p>It seems to me that the <code>COPY</code> step in the Dockerfile is not happening.</p>\n<p><strong>Update</strong>: I am aware that some kind of CI/CD pipeline will benefit me hugely. I fully intend to use one. I want to make sure that each step, manually step-by-step, works before I automate this.</p>\n"},{"tags":["java","spring","maven","spring-boot","objectmapper"],"comments":[{"owner":{"account_id":9564590,"reputation":2759,"user_id":7104283,"display_name":"Incepter"},"score":0,"creation_date":1525792923,"post_id":50236951,"comment_id":87491533,"body_markdown":"Just remove this dependency... check your dependency tree `mvn dependency:tree` and you ll find multiple ones... it comes with spring boot starter web especially the version you are using!","body":"Just remove this dependency... check your dependency tree <code>mvn dependency:tree</code> and you ll find multiple ones... it comes with spring boot starter web especially the version you are using!"},{"owner":{"account_id":4093554,"reputation":205,"user_id":3360964,"display_name":"ahumblenerd"},"score":0,"creation_date":1525793231,"post_id":50236951,"comment_id":87491741,"body_markdown":"Try `mvn dependency:purge-local-repository`. This should clean everything and might solve the issue.","body":"Try <code>mvn dependency:purge-local-repository</code>. This should clean everything and might solve the issue."}],"answers":[{"tags":[],"owner":{"account_id":2134379,"reputation":7299,"user_id":1894517,"accept_rate":79,"display_name":"Vinay Prajapati"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1525792685,"creation_date":1525792685,"answer_id":50237024,"question_id":50236951,"body_markdown":"remove the version for jackson  dependency `jackson-databind` i.e. just write \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nin your `pom.xml`. And let spring-boot decide the version for you.\r\n\r\nFeel free to remove the jars from classpath.","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>remove the version for jackson  dependency <code>jackson-databind</code> i.e. just write </p>\n\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>in your <code>pom.xml</code>. And let spring-boot decide the version for you.</p>\n\n<p>Feel free to remove the jars from classpath.</p>\n"},{"tags":[],"owner":{"account_id":4093554,"reputation":205,"user_id":3360964,"display_name":"ahumblenerd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525793758,"creation_date":1525793758,"answer_id":50237405,"question_id":50236951,"body_markdown":"Remove                                                   \r\n                                                         \r\n     &lt;dependency&gt;                                         \r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;    \r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;        \r\n        &lt;version&gt;2.9.0&lt;/version&gt; &lt;--- remove this\r\n     &lt;/dependency&gt;                                        \r\n\r\nAlso take a look into the effective pom by **right clicking pom.xml** if you are on intellij **Maven &gt; Show Effective POM** . Check for conflicts there.\r\n                                                    \r\n     &lt;dependency&gt;                                         \r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;    \r\n     &lt;/dependency&gt;                                        \r\n                                                         \r\nand then try                                             \r\n                                                         \r\n     mvn dependency:purge-local-repository;\r\n\r\nThis will first resolve the entire dependency tree, then delete the contents from the local repository, and then re-resolve the dependencies from the remote repository.","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>Remove                                                   </p>\n\n<pre><code> &lt;dependency&gt;                                         \n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;    \n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;        \n    &lt;version&gt;2.9.0&lt;/version&gt; &lt;--- remove this\n &lt;/dependency&gt;                                        \n</code></pre>\n\n<p>Also take a look into the effective pom by <strong>right clicking pom.xml</strong> if you are on intellij <strong>Maven > Show Effective POM</strong> . Check for conflicts there.</p>\n\n<pre><code> &lt;dependency&gt;                                         \n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;    \n &lt;/dependency&gt;                                        \n</code></pre>\n\n<p>and then try                                             </p>\n\n<pre><code> mvn dependency:purge-local-repository;\n</code></pre>\n\n<p>This will first resolve the entire dependency tree, then delete the contents from the local repository, and then re-resolve the dependencies from the remote repository.</p>\n"},{"tags":[],"owner":{"account_id":16765914,"reputation":111,"user_id":12119587,"display_name":"Priyanka B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697194431,"creation_date":1697194431,"answer_id":77287158,"question_id":50236951,"body_markdown":"Above solution did not work for me. If you are still facing this issue then alternative solution is to add following dependency-\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson.datatype.jsr310.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nKindly upvote this solution, if it helped you. :) ","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>Above solution did not work for me. If you are still facing this issue then alternative solution is to add following dependency-</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.datatype.jsr310.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Kindly upvote this solution, if it helped you. :)</p>\n"},{"tags":[],"owner":{"account_id":29683818,"reputation":1,"user_id":22749900,"display_name":"Shivar Roopnarain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697470303,"creation_date":1697462443,"answer_id":77302335,"question_id":50236951,"body_markdown":"If you&#39;re coding in Kotlin, add this into your build.gradle.kts (Module :app) then sync your gradle:\r\n\r\n    implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.15.3&quot;)","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>If you're coding in Kotlin, add this into your build.gradle.kts (Module :app) then sync your gradle:</p>\n<pre><code>implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.15.3&quot;)\n</code></pre>\n"}],"owner":{"account_id":10772096,"reputation":143,"user_id":7925294,"display_name":"Felipe Bed&#234;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32508,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":50237024,"answer_count":4,"score":5,"last_activity_date":1697470303,"creation_date":1525792491,"question_id":50236951,"body_markdown":"I&#39;m trying to create a JSON file and i&#39;m having trouble while trying to use ObjectMapper class. heres my class code: \r\n\r\n\r\n\r\n    import java.math.BigDecimal;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import desafiodimensiva.entities.Desafio2;\r\n    \r\n    @RestController\r\n    public class Desafio2Controller {\r\n    \r\n    \t@RequestMapping(value = &quot;/teste&quot;)\r\n    \tpublic String index() {\r\n    \t\treturn &quot;Greetings from Spring Boot!&quot;;\r\n    \t}\r\n    \t@RequestMapping(&quot;/desafio2&quot;)\r\n    \tpublic Desafio2 novoDesafio2() {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \r\n    \t\tDesafio2 pessoa = new Desafio2();\r\n    \t\tBigDecimal valorFinanceiroPessoa = new BigDecimal(&quot;0.00&quot;);\r\n    \t\tpessoa.setNomePessoa(&quot;-----------                            &quot;);\r\n    \t\tpessoa.setIdPessoa(&quot;0000&quot;);\r\n    \t\tpessoa.setValorFinanceiro(valorFinanceiroPessoa);\r\n    \r\n    \t\treturn pessoa;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nand there&#39;s my pom.xml : \r\n\r\n    `&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.desafio.dimensiva&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;desafiodimensiva&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;Desafio Dimensiva&lt;/name&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.5.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.6.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.6.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.1.22&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.5-pre3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;desafiodimensiva&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;true&lt;/executable&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    \r\n    \r\n    &lt;/project&gt;`\r\n\r\nI cannot import ObjectMapper class even with the `jackson-databind` dependency added at the `pom.xml` file. and the jars `jackson-annotations-2.9.0.jar, jackson-core-2.9.5.jar, jackson-databind-2.9.0.jar` are at the classpath.","title":"The import com.fasterxml.jackson.databind.ObjectMapper cannot be resolved","body":"<p>I'm trying to create a JSON file and i'm having trouble while trying to use ObjectMapper class. heres my class code: </p>\n\n<pre><code>import java.math.BigDecimal;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport desafiodimensiva.entities.Desafio2;\n\n@RestController\npublic class Desafio2Controller {\n\n    @RequestMapping(value = \"/teste\")\n    public String index() {\n        return \"Greetings from Spring Boot!\";\n    }\n    @RequestMapping(\"/desafio2\")\n    public Desafio2 novoDesafio2() {\n        ObjectMapper mapper = new ObjectMapper();\n\n        Desafio2 pessoa = new Desafio2();\n        BigDecimal valorFinanceiroPessoa = new BigDecimal(\"0.00\");\n        pessoa.setNomePessoa(\"-----------                            \");\n        pessoa.setIdPessoa(\"0000\");\n        pessoa.setValorFinanceiro(valorFinanceiroPessoa);\n\n        return pessoa;\n    }\n}\n</code></pre>\n\n<p>and there's my pom.xml : </p>\n\n<pre><code>`&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.desafio.dimensiva&lt;/groupId&gt;\n    &lt;artifactId&gt;desafiodimensiva&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Desafio Dimensiva&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0.BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat&lt;/artifactId&gt;\n            &lt;version&gt;8.5.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;0.9.5-pre3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;desafiodimensiva&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n\n\n&lt;/project&gt;`\n</code></pre>\n\n<p>I cannot import ObjectMapper class even with the <code>jackson-databind</code> dependency added at the <code>pom.xml</code> file. and the jars <code>jackson-annotations-2.9.0.jar, jackson-core-2.9.5.jar, jackson-databind-2.9.0.jar</code> are at the classpath.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697470106,"creation_date":1697470106,"answer_id":77303215,"question_id":77301607,"body_markdown":"Your solution is a pretty acceptable way to go, but indeed, it has some corner cases. While it should not break on prefetch, it may be broken if downstream code applies operators such as `.take(2)`. In such cases, the `cancel` signal will be promoted to upstream operators, and your code will not throw an exception even if the required condition is not met.\r\n\r\nAnother way is to manually track the condition and check it on `complete` and `cancel` signals. (or even on `error` depending on your needs). It is not so elegant but more reliable.\r\n\r\np.s. sorry for kotlin kode, but it&#39;s close to java so I think you understand the idea.\r\n\r\n```kotlin\r\nfun main() {\r\n    val sourceFlux = Flux.range(1, 3)\r\n        .log()\r\n    ConditionalFlux(sourceFlux)\r\n        .takeUntil { it == 5 }\r\n        .doOnNext { println(&quot;hello $it&quot;) }\r\n        .doOnError { println(&quot;condition was not meet&quot;) }\r\n        .blockLast()\r\n}\r\n\r\nclass ConditionalFlux&lt;T : Any&gt;(\r\n    private val origin: Flux&lt;T&gt;\r\n) {\r\n    private val meetCondition = AtomicBoolean()\r\n    private val guardAction = {\r\n        if (!meetCondition.get()) {\r\n            throw RuntimeException()\r\n        }\r\n    }\r\n\r\n    fun takeUntil(predicate: (T) -&gt; Boolean): Flux&lt;T&gt; =\r\n        origin\r\n            .doOnNext {\r\n                if (predicate(it)) {\r\n                    meetCondition.set(true)\r\n                }\r\n            }\r\n            .doOnCancel { guardAction() }\r\n            .doOnComplete { guardAction() }\r\n            .takeUntil(predicate)\r\n}\r\n```","title":"Distinguish between Flux takeUntil condition or upstream complete","body":"<p>Your solution is a pretty acceptable way to go, but indeed, it has some corner cases. While it should not break on prefetch, it may be broken if downstream code applies operators such as <code>.take(2)</code>. In such cases, the <code>cancel</code> signal will be promoted to upstream operators, and your code will not throw an exception even if the required condition is not met.</p>\n<p>Another way is to manually track the condition and check it on <code>complete</code> and <code>cancel</code> signals. (or even on <code>error</code> depending on your needs). It is not so elegant but more reliable.</p>\n<p>p.s. sorry for kotlin kode, but it's close to java so I think you understand the idea.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    val sourceFlux = Flux.range(1, 3)\n        .log()\n    ConditionalFlux(sourceFlux)\n        .takeUntil { it == 5 }\n        .doOnNext { println(&quot;hello $it&quot;) }\n        .doOnError { println(&quot;condition was not meet&quot;) }\n        .blockLast()\n}\n\nclass ConditionalFlux&lt;T : Any&gt;(\n    private val origin: Flux&lt;T&gt;\n) {\n    private val meetCondition = AtomicBoolean()\n    private val guardAction = {\n        if (!meetCondition.get()) {\n            throw RuntimeException()\n        }\n    }\n\n    fun takeUntil(predicate: (T) -&gt; Boolean): Flux&lt;T&gt; =\n        origin\n            .doOnNext {\n                if (predicate(it)) {\n                    meetCondition.set(true)\n                }\n            }\n            .doOnCancel { guardAction() }\n            .doOnComplete { guardAction() }\n            .takeUntil(predicate)\n}\n</code></pre>\n"}],"owner":{"account_id":1683292,"reputation":1594,"user_id":1547080,"accept_rate":43,"display_name":"ChrisDekker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697470106,"creation_date":1697455774,"question_id":77301607,"body_markdown":"How can I determine what caused my `Flux` to complete?\r\n\r\nImagine this example stream:\r\n```\r\n    Flux.range(1, 10)\r\n        .log()\r\n        .takeUntil(i -&gt; i == 5)\r\n        .doOnNext(System.out::println)\r\n        .blockLast();\r\n```\r\nWill log `1,2,3,4,5` and terminate.\r\n\r\nHowever, if we change the source stream to terminate early:\r\n\r\n```\r\n    Flux.range(1, 3)\r\n        .log()\r\n        .takeUntil(i -&gt; i == 5)\r\n        .doOnNext(System.out::println)\r\n        .blockLast();\r\n```\r\n\r\nIt will log `1,2,3` and also terminate.\r\n\r\nI&#39;d like to throw an error whenever the source stream completes before the `takeUntil` condition is met. What is the best way to achieve this using Reactor?\r\n\r\nPutting a `doOnComplete` before the `takeUntil` will work, but this feels flaky and error prone. I can imagine this breaks depending on the source&#39;s prefetch.\r\n\r\n```\r\n    Flux.range(1, 3)\r\n        .log()\r\n        .doOnComplete(() -&gt; { throw new RuntimeException(); })\r\n        .takeUntil(i -&gt; i == 5)\r\n        .doOnNext(System.out::println)\r\n        .blockLast();\r\n```","title":"Distinguish between Flux takeUntil condition or upstream complete","body":"<p>How can I determine what caused my <code>Flux</code> to complete?</p>\n<p>Imagine this example stream:</p>\n<pre><code>    Flux.range(1, 10)\n        .log()\n        .takeUntil(i -&gt; i == 5)\n        .doOnNext(System.out::println)\n        .blockLast();\n</code></pre>\n<p>Will log <code>1,2,3,4,5</code> and terminate.</p>\n<p>However, if we change the source stream to terminate early:</p>\n<pre><code>    Flux.range(1, 3)\n        .log()\n        .takeUntil(i -&gt; i == 5)\n        .doOnNext(System.out::println)\n        .blockLast();\n</code></pre>\n<p>It will log <code>1,2,3</code> and also terminate.</p>\n<p>I'd like to throw an error whenever the source stream completes before the <code>takeUntil</code> condition is met. What is the best way to achieve this using Reactor?</p>\n<p>Putting a <code>doOnComplete</code> before the <code>takeUntil</code> will work, but this feels flaky and error prone. I can imagine this breaks depending on the source's prefetch.</p>\n<pre><code>    Flux.range(1, 3)\n        .log()\n        .doOnComplete(() -&gt; { throw new RuntimeException(); })\n        .takeUntil(i -&gt; i == 5)\n        .doOnNext(System.out::println)\n        .blockLast();\n</code></pre>\n"},{"tags":["java","android","android-studio","webview","android-webview"],"answers":[{"tags":[],"owner":{"account_id":15432110,"reputation":356,"user_id":11133251,"display_name":"Umut G&#252;ltekin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629353925,"creation_date":1629353925,"answer_id":68842907,"question_id":68842258,"body_markdown":"I think you don&#39;t have start_bubble view in your activity_main layout. \r\n\r\nYou should add button to your activity_main and after that u should change this line to this.\r\n\r\n`View startBubble = findViewById(R.id.start_bubble);`\r\n\r\n`Button startBubble = findViewById(R.id.start_bubble);`","title":"Webview causing app to crash instantly on launch","body":"<p>I think you don't have start_bubble view in your activity_main layout.</p>\n<p>You should add button to your activity_main and after that u should change this line to this.</p>\n<p><code>View startBubble = findViewById(R.id.start_bubble);</code></p>\n<p><code>Button startBubble = findViewById(R.id.start_bubble);</code></p>\n"},{"tags":[],"owner":{"account_id":16617578,"reputation":25,"user_id":12008790,"display_name":"Kian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629506186,"creation_date":1629506186,"answer_id":68869276,"question_id":68842258,"body_markdown":"As it turns out, I was trying to select a webview in a layout that wasn&#39;t active which caused the crash, the fix was to simply select the layout with the webview in it","title":"Webview causing app to crash instantly on launch","body":"<p>As it turns out, I was trying to select a webview in a layout that wasn't active which caused the crash, the fix was to simply select the layout with the webview in it</p>\n"},{"tags":[],"owner":{"account_id":11740512,"reputation":67,"user_id":8593001,"display_name":"Murat Gungor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697469830,"creation_date":1697469452,"answer_id":77303151,"question_id":68842258,"body_markdown":"This is also very useful for those to handle webview crash and recover from it.\r\n\r\nTermination Handling API\r\nThe Termination Handling API handles cases where the renderer process for a WebView object goes away, either because the system kills the renderer to reclaim necessary memory or because the renderer process crashes. By using this API, you let your app continue executing, even though the renderer process goes away.\r\n\r\n\r\nhttps://developer.android.com/develop/ui/views/layout/webapps/managing-webview#termination-handle\r\n\r\n\r\n    public class MyRendererTrackingWebViewClient extends WebViewClient {\r\n    private WebView mWebView;\r\n\r\n    @Override\r\n    public boolean onRenderProcessGone(WebView view,\r\n            RenderProcessGoneDetail detail) {\r\n        if (!detail.didCrash()) {\r\n            // Renderer is killed because the system ran out of memory. The app\r\n            // can recover gracefully by creating a new WebView instance in the\r\n            // foreground.\r\n            Log.e(&quot;MY_APP_TAG&quot;, &quot;System killed the WebView rendering process &quot; +\r\n                    &quot;to reclaim memory. Recreating...&quot;);\r\n\r\n            if (mWebView != null) {\r\n                ViewGroup webViewContainer =\r\n                        (ViewGroup) findViewById(R.id.my_web_view_container);\r\n                webViewContainer.removeView(mWebView);\r\n                mWebView.destroy();\r\n                mWebView = null;\r\n            }\r\n\r\n            // By this point, the instance variable &quot;mWebView&quot; is guaranteed to\r\n            // be null, so it&#39;s safe to reinitialize it.\r\n\r\n            return true; // The app continues executing.\r\n        }\r\n\r\n        // Renderer crashes because of an internal error, such as a memory\r\n        // access violation.\r\n        Log.e(&quot;MY_APP_TAG&quot;, &quot;The WebView rendering process crashed!&quot;);\r\n\r\n        // In this example, the app itself crashes after detecting that the\r\n        // renderer crashed. If you handle the crash more gracefully and let\r\n        // your app continues executing, you must destroy the current WebView\r\n        // instance, specify logic for how the app continues executing, and\r\n        // return &quot;true&quot; instead.\r\n        return false;\r\n    }\r\n}\r\n\r\nDestroying webview\r\n\r\n     private void destroyWebview() {\r\n        if (webView != null) {\r\n            Utilities.logThis(&quot;MainActivity destroyWebview  DESTROY WebView ... ACTION&quot;);\r\n            //ViewGroup webViewContainer = (ViewGroup) findViewById(R.id.webview_container);\r\n            webviewContainer.removeView(webView);\r\n            webView.stopLoading();  // Stop any ongoing loading in case of a crash\r\n            webView.onPause();      // Pause JavaScript execution\r\n            webView.clearHistory(); // Clear WebView history\r\n            webView.clearFormData();\r\n            webView.removeAllViews(); // Remove all child views\r\n            webView.clearCache(true);\r\n            webView.destroy();  // Destroy the WebView\r\n            webView = null; // Set the WebView reference to null\r\n            webViewClient = null;\r\n        }\r\n    }\r\n\r\nReconstruction it programmatically\r\n\r\n\r\n     public void setupWebview() {  \r\n\r\n        //webView = (WebView) findViewById(R.id.webview);\r\n        // Create a new WebView instance\r\n        webView = new WebView(this);\r\n        webView.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\r\n\r\n        // Add the WebView to the container\r\n        webviewContainer.addView(webView);\r\n\r\n\r\n        Log.d(&quot;setupWebview&quot;, &quot;Webview created &quot; + webView);\r\n\r\n        //Enabling hardware acceleration for WebView can improve performance but may also lead to crashes. You can disable it if it&#39;s causing issues:\r\n        webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\r\n\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.getSettings().setDomStorageEnabled(true);\r\n        webView.getSettings().setLoadsImagesAutomatically(true);\r\n        webView.getSettings().setAllowContentAccess(true);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        //webView.getSettings().setAppCacheEnabled(true);\r\n        //webView.getSettings().setAppCacheMaxSize(1024 * 1024 * 8); // 8MB\r\n        webView.getSettings().setUseWideViewPort(true);\r\n\r\n        webView.getSettings().setMediaPlaybackRequiresUserGesture(false);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            webView.getSettings().setSafeBrowsingEnabled(false);\r\n        }\r\n\r\n        webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\r\n\r\n        //webView.setWebViewClient(new WebViewClient()); //https://stackoverflow.com/questions/48054518/android-app-not-connecting-to-internet-on-emulator\r\n\r\n        webView.setRendererPriorityPolicy(WebView.RENDERER_PRIORITY_BOUND, true);\r\n        //webViewClient = new MyRendererTrackingWebViewClient(this, webView);\r\n        webViewClient = new MyWebViewClient();\r\n\r\n        webView.setWebViewClient(webViewClient);\r\n       \r\n\r\n        CookieManager cookieManager = CookieManager.getInstance();\r\n        cookieManager.setAcceptCookie(false);\r\n        cookieManager.setAcceptThirdPartyCookies( webView, false);\r\n    }\r\n\r\n","title":"Webview causing app to crash instantly on launch","body":"<p>This is also very useful for those to handle webview crash and recover from it.</p>\n<p>Termination Handling API\nThe Termination Handling API handles cases where the renderer process for a WebView object goes away, either because the system kills the renderer to reclaim necessary memory or because the renderer process crashes. By using this API, you let your app continue executing, even though the renderer process goes away.</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/layout/webapps/managing-webview#termination-handle\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/layout/webapps/managing-webview#termination-handle</a></p>\n<pre><code>public class MyRendererTrackingWebViewClient extends WebViewClient {\nprivate WebView mWebView;\n\n@Override\npublic boolean onRenderProcessGone(WebView view,\n        RenderProcessGoneDetail detail) {\n    if (!detail.didCrash()) {\n        // Renderer is killed because the system ran out of memory. The app\n        // can recover gracefully by creating a new WebView instance in the\n        // foreground.\n        Log.e(&quot;MY_APP_TAG&quot;, &quot;System killed the WebView rendering process &quot; +\n                &quot;to reclaim memory. Recreating...&quot;);\n\n        if (mWebView != null) {\n            ViewGroup webViewContainer =\n                    (ViewGroup) findViewById(R.id.my_web_view_container);\n            webViewContainer.removeView(mWebView);\n            mWebView.destroy();\n            mWebView = null;\n        }\n\n        // By this point, the instance variable &quot;mWebView&quot; is guaranteed to\n        // be null, so it's safe to reinitialize it.\n\n        return true; // The app continues executing.\n    }\n\n    // Renderer crashes because of an internal error, such as a memory\n    // access violation.\n    Log.e(&quot;MY_APP_TAG&quot;, &quot;The WebView rendering process crashed!&quot;);\n\n    // In this example, the app itself crashes after detecting that the\n    // renderer crashed. If you handle the crash more gracefully and let\n    // your app continues executing, you must destroy the current WebView\n    // instance, specify logic for how the app continues executing, and\n    // return &quot;true&quot; instead.\n    return false;\n}\n</code></pre>\n<p>}</p>\n<p>Destroying webview</p>\n<pre><code> private void destroyWebview() {\n    if (webView != null) {\n        Utilities.logThis(&quot;MainActivity destroyWebview  DESTROY WebView ... ACTION&quot;);\n        //ViewGroup webViewContainer = (ViewGroup) findViewById(R.id.webview_container);\n        webviewContainer.removeView(webView);\n        webView.stopLoading();  // Stop any ongoing loading in case of a crash\n        webView.onPause();      // Pause JavaScript execution\n        webView.clearHistory(); // Clear WebView history\n        webView.clearFormData();\n        webView.removeAllViews(); // Remove all child views\n        webView.clearCache(true);\n        webView.destroy();  // Destroy the WebView\n        webView = null; // Set the WebView reference to null\n        webViewClient = null;\n    }\n}\n</code></pre>\n<p>Reconstruction it programmatically</p>\n<pre><code> public void setupWebview() {  \n\n    //webView = (WebView) findViewById(R.id.webview);\n    // Create a new WebView instance\n    webView = new WebView(this);\n    webView.setLayoutParams(new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT));\n\n    // Add the WebView to the container\n    webviewContainer.addView(webView);\n\n\n    Log.d(&quot;setupWebview&quot;, &quot;Webview created &quot; + webView);\n\n    //Enabling hardware acceleration for WebView can improve performance but may also lead to crashes. You can disable it if it's causing issues:\n    webView.setLayerType(View.LAYER_TYPE_SOFTWARE, null);\n\n    webView.getSettings().setJavaScriptEnabled(true);\n    webView.getSettings().setDomStorageEnabled(true);\n    webView.getSettings().setLoadsImagesAutomatically(true);\n    webView.getSettings().setAllowContentAccess(true);\n    webView.getSettings().setLoadWithOverviewMode(true);\n    //webView.getSettings().setAppCacheEnabled(true);\n    //webView.getSettings().setAppCacheMaxSize(1024 * 1024 * 8); // 8MB\n    webView.getSettings().setUseWideViewPort(true);\n\n    webView.getSettings().setMediaPlaybackRequiresUserGesture(false);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        webView.getSettings().setSafeBrowsingEnabled(false);\n    }\n\n    webView.getSettings().setMixedContentMode(WebSettings.MIXED_CONTENT_ALWAYS_ALLOW);\n\n    //webView.setWebViewClient(new WebViewClient()); //https://stackoverflow.com/questions/48054518/android-app-not-connecting-to-internet-on-emulator\n\n    webView.setRendererPriorityPolicy(WebView.RENDERER_PRIORITY_BOUND, true);\n    //webViewClient = new MyRendererTrackingWebViewClient(this, webView);\n    webViewClient = new MyWebViewClient();\n\n    webView.setWebViewClient(webViewClient);\n   \n\n    CookieManager cookieManager = CookieManager.getInstance();\n    cookieManager.setAcceptCookie(false);\n    cookieManager.setAcceptThirdPartyCookies( webView, false);\n}\n</code></pre>\n"}],"owner":{"account_id":16617578,"reputation":25,"user_id":12008790,"display_name":"Kian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697469830,"creation_date":1629349238,"question_id":68842258,"body_markdown":"I am trying to create a WebView app capable of behaving like the Facebook Messenger chat bubble that can overlay above other apps using the following github project:\r\nhttps://github.com/siddharth2010/Bubbles\r\n\r\nI downloaded the project and launched it, it works just fine with default parameters, but when clicking the &quot;bubble&quot; I want it to display a website instead of the placeholder image and text it currently has.\r\n\r\nHere are the modifications I made:\r\n\r\nsample_view.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;WebView android:id=&quot;@+id/webView&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\nMainActivity.java\r\n```\r\npackage com.irunawiki.irunawiki;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport com.irunawiki.bubbles.FloatingBubblePermissions;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        WebView view = (WebView) findViewById(R.id.webView);\r\n        view.getSettings().setJavaScriptEnabled(true);\r\n        view.getSettings().getDomStorageEnabled();\r\n        view.setWebViewClient(new WebViewClient());\r\n        view.loadUrl(&quot;https://google.com&quot;);\r\n\r\n        FloatingBubblePermissions.startPermissionRequest(this);\r\n        View startBubble = findViewById(R.id.start_bubble);\r\n        startBubble.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startService(new Intent(getApplicationContext(), SimpleService.class));\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAndroidManifest.xml\r\n```\r\nadded these:\r\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n\r\nAttempting to run this in either the VM or an actual device will result in an immediate crash.\r\n\r\nCuriously, it launches just find when only \r\n`WebView view = (WebView) findViewById(R.id.webView);` is uncommented, but any of the getSettings, setWebViewClient, loadUrl will cause the app to crash instantly on launch.\r\n\r\nWhat exactly is causing the crash? I&#39;m fairly new to Android Development but after hours of looking up stackoverflow posts with similar issues I have not been able to get it working...","title":"Webview causing app to crash instantly on launch","body":"<p>I am trying to create a WebView app capable of behaving like the Facebook Messenger chat bubble that can overlay above other apps using the following github project:\n<a href=\"https://github.com/siddharth2010/Bubbles\" rel=\"nofollow noreferrer\">https://github.com/siddharth2010/Bubbles</a></p>\n<p>I downloaded the project and launched it, it works just fine with default parameters, but when clicking the &quot;bubble&quot; I want it to display a website instead of the placeholder image and text it currently has.</p>\n<p>Here are the modifications I made:</p>\n<p>sample_view.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;WebView android:id=&quot;@+id/webView&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_width=&quot;match_parent&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>package com.irunawiki.irunawiki;\n\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport com.irunawiki.bubbles.FloatingBubblePermissions;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        WebView view = (WebView) findViewById(R.id.webView);\n        view.getSettings().setJavaScriptEnabled(true);\n        view.getSettings().getDomStorageEnabled();\n        view.setWebViewClient(new WebViewClient());\n        view.loadUrl(&quot;https://google.com&quot;);\n\n        FloatingBubblePermissions.startPermissionRequest(this);\n        View startBubble = findViewById(R.id.start_bubble);\n        startBubble.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startService(new Intent(getApplicationContext(), SimpleService.class));\n            }\n        });\n    }\n}\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>added these:\n    &lt;uses-permission android:name=&quot;android.permission.SYSTEM_ALERT_WINDOW&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n<p>Attempting to run this in either the VM or an actual device will result in an immediate crash.</p>\n<p>Curiously, it launches just find when only\n<code>WebView view = (WebView) findViewById(R.id.webView);</code> is uncommented, but any of the getSettings, setWebViewClient, loadUrl will cause the app to crash instantly on launch.</p>\n<p>What exactly is causing the crash? I'm fairly new to Android Development but after hours of looking up stackoverflow posts with similar issues I have not been able to get it working...</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":14425529,"reputation":290,"user_id":10420415,"display_name":"Markus Ridziauskas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697441592,"creation_date":1697441592,"answer_id":77300102,"question_id":77299882,"body_markdown":"I assume that you want to allow all url&#39;s except `/RemoteHandlerServices/Handle`.\r\n\r\nThe problem is that you have a `.denyAll()` modifier next to matcher that matches all the url&#39;s. You should have `.permitAll()` instead, which would permit requests to urls that match your matcher (`/**` - which means any url).","title":"Spring security filter not working as intended","body":"<p>I assume that you want to allow all url's except <code>/RemoteHandlerServices/Handle</code>.</p>\n<p>The problem is that you have a <code>.denyAll()</code> modifier next to matcher that matches all the url's. You should have <code>.permitAll()</code> instead, which would permit requests to urls that match your matcher (<code>/**</code> - which means any url).</p>\n"}],"owner":{"account_id":9117693,"reputation":48,"user_id":6784294,"display_name":"PDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697469397,"creation_date":1697439346,"question_id":77299882,"body_markdown":"The spring blocks all the requests (throws 403) even though i have added a filter to allow a specific URL which is authenticated.\r\n\r\nCould someone explain me why this is happening?\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        @Bean\r\n        @Order(1)\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            try{\r\n\r\n                 http\r\n                         .authorizeRequests(\r\n                                auth -&gt; auth\r\n                                        .antMatchers(HttpMethod.POST,&quot;/RemoteHandlerServices/Handle&quot;).authenticated()\r\n                                        .antMatchers(&quot;/**&quot;).denyAll()\r\n                         )\r\n                         .oauth2ResourceServer()\r\n                        .jwt()\r\n                        .jwtAuthenticationConverter(getJwtAuthenticationConverter());\r\n                http.headers().contentSecurityPolicy(CONTENT_SECURITY_POLICY);\r\n                return http.build();\r\n\r\n        } catch(Exception e){\r\n                throw new RuntimeException(&quot;Authentication is failed&quot;);\r\n            }\r\n        }\r\n\r\n\r\n    Converter&lt;Jwt, AbstractAuthenticationToken&gt; getJwtAuthenticationConverter() {\r\n            TokenAuthenticationConverter converter = new TokenAuthenticationConverter(xsuaaServiceConfiguration);\r\n            converter.setLocalScopeAsAuthorities(true);\r\n            return converter;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**application.yaml**\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    spring:\r\n      config.activate.on-profile: xsuaa\r\n      datasource:\r\n        url: &quot;jdbc:sqlite:file::memory:?cache=shared&quot;\r\n        driver-class-name: org.sqlite.JDBC\r\n      sql:\r\n        init:\r\n          mode: always\r\n          continue-on-error: true\r\n    cds:\r\n      errors:\r\n        extended: true\r\n      security:\r\n        xsuaa:\r\n          enabled: true\r\n        mock:\r\n          enabled: false\r\n        authentication:\r\n          mode: always\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Spring security filter not working as intended","body":"<p>The spring blocks all the requests (throws 403) even though i have added a filter to allow a specific URL which is authenticated.</p>\n<p>Could someone explain me why this is happening?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Order(1)\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        try{\n\n             http\n                     .authorizeRequests(\n                            auth -&gt; auth\n                                    .antMatchers(HttpMethod.POST,&quot;/RemoteHandlerServices/Handle&quot;).authenticated()\n                                    .antMatchers(&quot;/**&quot;).denyAll()\n                     )\n                     .oauth2ResourceServer()\n                    .jwt()\n                    .jwtAuthenticationConverter(getJwtAuthenticationConverter());\n            http.headers().contentSecurityPolicy(CONTENT_SECURITY_POLICY);\n            return http.build();\n\n    } catch(Exception e){\n            throw new RuntimeException(&quot;Authentication is failed&quot;);\n        }\n    }\n\n\nConverter&lt;Jwt, AbstractAuthenticationToken&gt; getJwtAuthenticationConverter() {\n        TokenAuthenticationConverter converter = new TokenAuthenticationConverter(xsuaaServiceConfiguration);\n        converter.setLocalScopeAsAuthorities(true);\n        return converter;\n    }\n</code></pre>\n\n<p><strong>application.yaml</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>spring:\n  config.activate.on-profile: xsuaa\n  datasource:\n    url: &quot;jdbc:sqlite:file::memory:?cache=shared&quot;\n    driver-class-name: org.sqlite.JDBC\n  sql:\n    init:\n      mode: always\n      continue-on-error: true\ncds:\n  errors:\n    extended: true\n  security:\n    xsuaa:\n      enabled: true\n    mock:\n      enabled: false\n    authentication:\n      mode: always\n</code></pre>\n\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697407387,"post_id":77298240,"comment_id":136272687,"body_markdown":"Use a [TableView](https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/TableView.html), not a ListView.  Remember to add TableColumns to your TableView.","body":"Use a <a href=\"https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/TableView.html\" rel=\"nofollow noreferrer\">TableView</a>, not a ListView.  Remember to add TableColumns to your TableView."},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697408921,"post_id":77298240,"comment_id":136272797,"body_markdown":"Thank You!!. Like I said just now learning so honestly alot of this is from chatgpt. Slowly learning the shit myself and can kinda make their code more practical.","body":"Thank You!!. Like I said just now learning so honestly alot of this is from chatgpt. Slowly learning the shit myself and can kinda make their code more practical."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697417769,"post_id":77298240,"comment_id":136273388,"body_markdown":"Did you want each row of your `ListView` to be composed of three elements across: text, button, button? If so, why not add your 3 elements to a single `HBox`? Why create two separate `HBox` objects?","body":"Did you want each row of your <code>ListView</code> to be composed of three elements across: text, button, button? If so, why not add your 3 elements to a single <code>HBox</code>? Why create two separate <code>HBox</code> objects?"},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697419866,"post_id":77298240,"comment_id":136273533,"body_markdown":"@BasilBourque the thought was I could have the buttons in one with their own spacing, and the task in another, and then just push them both to either sides. i want both buttons on the right side basically rn to each other","body":"@BasilBourque the thought was I could have the buttons in one with their own spacing, and the task in another, and then just push them both to either sides. i want both buttons on the right side basically rn to each other"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1697424798,"post_id":77298240,"comment_id":136273808,"body_markdown":"Show an image of your GUI and a diagram of what you are trying to achieve.","body":"Show an image of your GUI and a diagram of what you are trying to achieve."},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697427088,"post_id":77298240,"comment_id":136273957,"body_markdown":"@SedJ601 I added photos. ik the color scheme awful just idk","body":"@SedJ601 I added photos. ik the color scheme awful just idk"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697446671,"post_id":77298240,"comment_id":136276353,"body_markdown":"_alot of this is from chatgpt_ I&#39;m certain that those who are commenting or answering did not learn JavaFX from ChatGPT. There are many [good] books on learning JavaFX. Perhaps you should consider investing in [at least] one of them?","body":"<i>alot of this is from chatgpt</i> I&#39;m certain that those who are commenting or answering did not learn JavaFX from ChatGPT. There are many [good] books on learning JavaFX. Perhaps you should consider investing in [at least] one of them?"},{"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"score":0,"creation_date":1697464816,"post_id":77298240,"comment_id":136279743,"body_markdown":"@Abra Do you have any suggestion? im not against investing just I&#39;ve been doing as much as I can self taught before anything else.","body":"@Abra Do you have any suggestion? im not against investing just I&#39;ve been doing as much as I can self taught before anything else."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1697465380,"post_id":77298240,"comment_id":136279858,"body_markdown":"Are you asking for me to recommend a book? Different books cater to different people. A book that helped me a lot may not help you (and vice versa). Just Google for _JavaFX books_ Alternatively, try this [tutorial](https://docs.oracle.com/javase/8/javase-clienttechnologies.htm).","body":"Are you asking for me to recommend a book? Different books cater to different people. A book that helped me a lot may not help you (and vice versa). Just Google for <i>JavaFX books</i> Alternatively, try this <a href=\"https://docs.oracle.com/javase/8/javase-clienttechnologies.htm\" rel=\"nofollow noreferrer\">tutorial</a>."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697466461,"post_id":77298240,"comment_id":136280099,"body_markdown":"Be sure to study materials for JavaFX 8 and later. Youll find much material for earlier versions, but JavaFX evolved dramatically in later versions.","body":"Be sure to study materials for JavaFX 8 and later. Youll find much material for earlier versions, but JavaFX evolved dramatically in later versions."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697469217,"creation_date":1697433736,"answer_id":77299545,"question_id":77298240,"body_markdown":"# Use `Region` as a spacer-filler in a single `HBox`\r\n\r\n[Caveat: I am not an expert on JavaFX.]\r\n\r\nI asked [a similar Question][1], more narrowly focused on a way to accomplish this label-button-button layout with just one `HBox` rather than nesting multiple `HBox` objects. \r\n\r\nThe [Answer there by makki saud alghamdi][2] provides at least part of a possible solution for you. That Answer involves using a [`Region`][3] object as a space between the label and the buttons, to fill the void, effectively pushing the buttons to the right.\r\n\r\nThe key lines of code are:\r\n\r\n```java\r\n// Mind the gap between label and buttons.\r\nRegion spacer = new Region ( );\r\nHBox.setHgrow ( spacer , Priority.ALWAYS );\r\n\r\nHBox rowBox = new HBox ( label , spacer , editButton , completedButton );\r\n```\r\n\r\n\r\nHere is an entire example app.\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.*;\r\nimport javafx.scene.layout.*;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.util.List;\r\n\r\npublic class HelloApplication  extends Application\r\n{\r\n    @Override\r\n    public void start ( Stage stage ) throws IOException\r\n    {\r\n        record Event( String title , LocalDate when ) { }\r\n        ObservableList &lt; Event &gt; events =\r\n                FXCollections.observableList (\r\n                        List.of (\r\n                                new Event ( &quot;A bit of text&quot; , LocalDate.now ( ) ) ,\r\n                                new Event ( &quot;Even more text than that.&quot; , LocalDate.now ( ).plusDays ( 1 ) ) ,\r\n                                new Event ( &quot;Lots and lots and lots of text for a very long line.&quot; , LocalDate.now ( ).plusDays ( 2 ) )\r\n                        )\r\n                );\r\n        ListView &lt; Event &gt; eventView = new ListView &lt;&gt; ( events );\r\n        eventView.setCellFactory ( ( ListView &lt; Event &gt; listView ) -&gt; new ListCell &lt; Event &gt; ( )\r\n        {\r\n            Button editButton = new Button ( &quot;Edit&quot; );\r\n            Button completedButton = new Button ( &quot;Completed&quot; );\r\n            Label label = new Label (  );\r\n            Label labelTwo = new Label( );\r\n            Region spacer = new Region ( );\r\n            VBox vBox = new VBox(label, labelTwo);\r\n            HBox rowBox = new HBox ( vBox , spacer , editButton , completedButton );            \r\n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd&quot;);\r\n            {\r\n                // Mind the gap between label and buttons.\r\n                HBox.setHgrow ( spacer , Priority.ALWAYS );\r\n                rowBox.setAlignment ( Pos.CENTER );\r\n                rowBox.setSpacing ( 7 );\r\n            }\r\n                   \r\n            \r\n            @Override\r\n            protected void updateItem ( Event item , boolean empty )\r\n            {\r\n                super.updateItem ( item , empty );\r\n                if ( empty || item == null )\r\n                {\r\n                    setText ( null );\r\n                    setGraphic ( null );\r\n                } \r\n                else\r\n                {                   \r\n                    label.setText(item.title());\r\n                    labelTwo.setText(&quot;\\tDue: &quot; + item.when().format(dateTimeFormatter));\r\n                    editButton.setOnAction ( actionEvent -&gt;\r\n                    {                        \r\n                        System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.title() );\r\n                    });\r\n                    completedButton.setOnAction ( actionEvent -&gt;\r\n                    {\r\n                        System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.title());\r\n                    });\r\n                    \r\n                    setGraphic ( rowBox );\r\n                }\r\n            }\r\n        } );\r\n\r\n        BorderPane pane = new BorderPane ( );\r\n        pane.setCenter ( eventView );\r\n\r\n        Scene scene = new Scene ( pane , 700 , 300 );\r\n        stage.setScene ( scene );\r\n        stage.setTitle ( &quot;Schedule Example&quot; );\r\n        stage.show ( );\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        launch ( );\r\n    }\r\n}\r\n```\r\n\r\nAnd a screenshot.\r\n\r\n[![Screenshot of example app with a ListView showing buttons pushed to the right][4]][4]\r\n\r\nI might not consider this solution complete. If the user narrows the width of the window, the buttons disappear off the right edge of the window. Ideally the buttons would always stay visible within the window, and the too-long label would truncate. I do not know the solution to that issue.\r\n\r\n## Binding domain object to your action buttons\r\n\r\n&gt;also eventually I will need to figure out how to send the element the button is aligned with into the function for when the button is pressed if anyone has tips for that\r\n\r\nBinding each domain object to your buttons is an orthogonal issue from layout of widgets. So you should compose a separate Question on that specific issue.\r\n\r\nBut briefly\r\n\r\nNotice that your [cell factory][5] is handed a reference to the item, an object of your `Event` class, which is to be displayed by the [`ListView`][6]. In this line:\r\n\r\n    protected void updateItem ( Event item , boolean empty )  \r\n\r\n that first parameter `Event item` is the key. Notice how I used that reference in my call to `item.toString` while instantiating each `Label`.\r\n\r\n    Label label = new Label ( item.toString ( ) );\r\n\r\nWe can add similar calls in your button action handlers as well. \r\n\r\n\r\n```java\r\nButton editButton = new Button ( &quot;Edit&quot; );\r\nButton completedButton = new Button ( &quot;Completed&quot; );\r\neditButton.setOnAction ( ( ActionEvent actionEvent ) -&gt;\r\n{\r\n    System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.toString ( ) );\r\n} );\r\ncompletedButton.setOnAction ( ( ActionEvent actionEvent ) -&gt;\r\n{\r\n    System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.toString ( ) );\r\n} );\r\n```\r\n\r\n----------\r\n\r\nBy the way, especially while learning, and often more generally, you may find it handy to expand the parameter types in your lambdas. Doing so helps keep it straight in you head as to exactly what objects are in play at every point.\r\n\r\nSo this:\r\n\r\n    editButton.setOnAction ( ( ActionEvent actionEvent ) -&gt; \r\n\r\n instead of this:\r\n\r\n    editButton.setOnAction ( actionEvent -&gt; \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/77299333/642706\r\n  [2]: https://stackoverflow.com/a/77299349/642706\r\n  [3]: https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/layout/Region.html\r\n  [4]: https://i.stack.imgur.com/X3w5X.png\r\n  [5]: https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/ListView.html#setCellFactory(javafx.util.Callback)\r\n  [6]: https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/ListView.html","title":"Left Justify Buttons Inside of an HBox (inside a pagnition if that matters)","body":"<h1>Use <code>Region</code> as a spacer-filler in a single <code>HBox</code></h1>\n<p>[Caveat: I am not an expert on JavaFX.]</p>\n<p>I asked <a href=\"https://stackoverflow.com/q/77299333/642706\">a similar Question</a>, more narrowly focused on a way to accomplish this label-button-button layout with just one <code>HBox</code> rather than nesting multiple <code>HBox</code> objects.</p>\n<p>The <a href=\"https://stackoverflow.com/a/77299349/642706\">Answer there by makki saud alghamdi</a> provides at least part of a possible solution for you. That Answer involves using a <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/layout/Region.html\" rel=\"nofollow noreferrer\"><code>Region</code></a> object as a space between the label and the buttons, to fill the void, effectively pushing the buttons to the right.</p>\n<p>The key lines of code are:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Mind the gap between label and buttons.\nRegion spacer = new Region ( );\nHBox.setHgrow ( spacer , Priority.ALWAYS );\n\nHBox rowBox = new HBox ( label , spacer , editButton , completedButton );\n</code></pre>\n<p>Here is an entire example app.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.*;\nimport javafx.stage.Stage;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.List;\n\npublic class HelloApplication  extends Application\n{\n    @Override\n    public void start ( Stage stage ) throws IOException\n    {\n        record Event( String title , LocalDate when ) { }\n        ObservableList &lt; Event &gt; events =\n                FXCollections.observableList (\n                        List.of (\n                                new Event ( &quot;A bit of text&quot; , LocalDate.now ( ) ) ,\n                                new Event ( &quot;Even more text than that.&quot; , LocalDate.now ( ).plusDays ( 1 ) ) ,\n                                new Event ( &quot;Lots and lots and lots of text for a very long line.&quot; , LocalDate.now ( ).plusDays ( 2 ) )\n                        )\n                );\n        ListView &lt; Event &gt; eventView = new ListView &lt;&gt; ( events );\n        eventView.setCellFactory ( ( ListView &lt; Event &gt; listView ) -&gt; new ListCell &lt; Event &gt; ( )\n        {\n            Button editButton = new Button ( &quot;Edit&quot; );\n            Button completedButton = new Button ( &quot;Completed&quot; );\n            Label label = new Label (  );\n            Label labelTwo = new Label( );\n            Region spacer = new Region ( );\n            VBox vBox = new VBox(label, labelTwo);\n            HBox rowBox = new HBox ( vBox , spacer , editButton , completedButton );            \n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd&quot;);\n            {\n                // Mind the gap between label and buttons.\n                HBox.setHgrow ( spacer , Priority.ALWAYS );\n                rowBox.setAlignment ( Pos.CENTER );\n                rowBox.setSpacing ( 7 );\n            }\n                   \n            \n            @Override\n            protected void updateItem ( Event item , boolean empty )\n            {\n                super.updateItem ( item , empty );\n                if ( empty || item == null )\n                {\n                    setText ( null );\n                    setGraphic ( null );\n                } \n                else\n                {                   \n                    label.setText(item.title());\n                    labelTwo.setText(&quot;\\tDue: &quot; + item.when().format(dateTimeFormatter));\n                    editButton.setOnAction ( actionEvent -&gt;\n                    {                        \n                        System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.title() );\n                    });\n                    completedButton.setOnAction ( actionEvent -&gt;\n                    {\n                        System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.title());\n                    });\n                    \n                    setGraphic ( rowBox );\n                }\n            }\n        } );\n\n        BorderPane pane = new BorderPane ( );\n        pane.setCenter ( eventView );\n\n        Scene scene = new Scene ( pane , 700 , 300 );\n        stage.setScene ( scene );\n        stage.setTitle ( &quot;Schedule Example&quot; );\n        stage.show ( );\n    }\n\n    public static void main ( String[] args )\n    {\n        launch ( );\n    }\n}\n</code></pre>\n<p>And a screenshot.</p>\n<p><a href=\"https://i.stack.imgur.com/X3w5X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X3w5X.png\" alt=\"Screenshot of example app with a ListView showing buttons pushed to the right\" /></a></p>\n<p>I might not consider this solution complete. If the user narrows the width of the window, the buttons disappear off the right edge of the window. Ideally the buttons would always stay visible within the window, and the too-long label would truncate. I do not know the solution to that issue.</p>\n<h2>Binding domain object to your action buttons</h2>\n<blockquote>\n<p>also eventually I will need to figure out how to send the element the button is aligned with into the function for when the button is pressed if anyone has tips for that</p>\n</blockquote>\n<p>Binding each domain object to your buttons is an orthogonal issue from layout of widgets. So you should compose a separate Question on that specific issue.</p>\n<p>But briefly</p>\n<p>Notice that your <a href=\"https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/ListView.html#setCellFactory(javafx.util.Callback)\" rel=\"nofollow noreferrer\">cell factory</a> is handed a reference to the item, an object of your <code>Event</code> class, which is to be displayed by the <a href=\"https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/ListView.html\" rel=\"nofollow noreferrer\"><code>ListView</code></a>. In this line:</p>\n<pre><code>protected void updateItem ( Event item , boolean empty )  \n</code></pre>\n<p> that first parameter <code>Event item</code> is the key. Notice how I used that reference in my call to <code>item.toString</code> while instantiating each <code>Label</code>.</p>\n<pre><code>Label label = new Label ( item.toString ( ) );\n</code></pre>\n<p>We can add similar calls in your button action handlers as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Button editButton = new Button ( &quot;Edit&quot; );\nButton completedButton = new Button ( &quot;Completed&quot; );\neditButton.setOnAction ( ( ActionEvent actionEvent ) -&gt;\n{\n    System.out.println ( &quot;DEBUG - Edit the Event: &quot; + item.toString ( ) );\n} );\ncompletedButton.setOnAction ( ( ActionEvent actionEvent ) -&gt;\n{\n    System.out.println ( &quot;DEBUG - Completed the Event: &quot; + item.toString ( ) );\n} );\n</code></pre>\n<hr />\n<p>By the way, especially while learning, and often more generally, you may find it handy to expand the parameter types in your lambdas. Doing so helps keep it straight in you head as to exactly what objects are in play at every point.</p>\n<p>So this:</p>\n<pre><code>editButton.setOnAction ( ( ActionEvent actionEvent ) -&gt; \n</code></pre>\n<p> instead of this:</p>\n<pre><code>editButton.setOnAction ( actionEvent -&gt; \n</code></pre>\n"}],"owner":{"account_id":29678443,"reputation":23,"user_id":22745750,"display_name":"Wyatt Cake"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77299545,"answer_count":1,"score":2,"last_activity_date":1697469217,"creation_date":1697398890,"question_id":77298240,"body_markdown":"Been learning JavaFX in my freetime, and thought a simple schedule application would be a good practice. My current goal is output all members of an ArrayList, and have buttons for each, allowing to mark task as completed, or edit a task. However I&#39;m struggling with button placement, I have an HBox containing a label and two buttons, I can get them spaced, but since the task are different sized strings, I cant get the buttons to line up with each other. Is there any way to have them base their position on the left side, and not on the right after the string?\r\n\r\nHere is my current code:\r\n\r\n\r\n\r\n\t@FXML\r\n\tpublic Node createPage(int pageIndex){\r\n\t\tListView&lt;Event&gt; eventView = new ListView&lt;&gt;();\r\n\t\tint fromIndex = pageIndex * maxPerPage;\r\n\t\tint toIndex = Math.min(fromIndex + maxPerPage, schedule.size());\r\n\t\tList&lt;Event&gt; eventString = schedule.subList(fromIndex, toIndex);\r\n\t\t//testing buttons\r\n\t\teventView.setCellFactory(param -&gt; new ListCell&lt;Event&gt;(){\r\n\t\t\t@Override\r\n\t\t\tprotected void updateItem(Event item, boolean empty){\r\n\t\t\t\tsuper.updateItem(item,empty);\r\n\t\t\t\tif(empty || item == null){\r\n\t\t\t\t\tsetText(null);\r\n\t\t\t\t\tsetGraphic(null);\r\n\t\t\t\t} else{\r\n\t\t\t\t\tLabel label = new Label(item.display());\r\n\r\n\t\t\t\t\tButton editButton = new Button (&quot;Edit&quot;);\r\n\r\n\t\t\t\t\tButton completedButton = new Button (&quot;Completed&quot;);\r\n\r\n\t\t\t\t\teditButton.setOnAction(event -&gt;{\r\n\t\t\t\t\t\tSystem.out.println(&quot;done&quot;);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tcompletedButton.setOnAction(event -&gt;{\r\n\t\t\t\t\t\tSystem.out.println(&quot;done&quot;);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tHBox eventHbox = new HBox(label);\r\n\r\n\t\t\t\t\tHBox buttonHbox = new HBox(editButton,completedButton);\r\n\r\n\t\t\t\t\tbuttonHbox.setSpacing(50);\r\n\r\n\t\t\t\t\tbuttonHbox.setAlignment(Pos.CENTER_RIGHT);\r\n\r\n\t\t\t\t\tHBox.setMargin(buttonHbox,new Insets(0,0,0,200));\r\n\r\n\t\t\t\t\tHBox hbox = new HBox(eventHbox,buttonHbox);\r\n\r\n\t\t\t\t\tsetGraphic(hbox);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t});\r\n    }\r\n\r\n\r\nalso eventually I will need to figure out how to send the element the button is aligned with into the function for when the button is pressed if anyone has tips for that\r\n \r\n\r\nI have tried using `BASELINE_RIGHT` instead of `CENTER_RIGHT` and if I change the passing in `setMargin()` anymore or to like max or something it&#39;ll make me scroll over to see it\r\n\r\n\r\nEDIT::\r\ntrying to figure out TableView but not getting it, for person who wanted photos, (the want to have is created with data that is all same size, ideally button placemen does not depend on data length)\r\n\r\nhere is what I currently have:[![currently have][1]][1]\r\n\r\n\r\nand here is what I want to have [![want to have][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/el7Pf.png\r\n  [2]: https://i.stack.imgur.com/8uJlD.png","title":"Left Justify Buttons Inside of an HBox (inside a pagnition if that matters)","body":"<p>Been learning JavaFX in my freetime, and thought a simple schedule application would be a good practice. My current goal is output all members of an ArrayList, and have buttons for each, allowing to mark task as completed, or edit a task. However I'm struggling with button placement, I have an HBox containing a label and two buttons, I can get them spaced, but since the task are different sized strings, I cant get the buttons to line up with each other. Is there any way to have them base their position on the left side, and not on the right after the string?</p>\n<p>Here is my current code:</p>\n<pre><code>@FXML\npublic Node createPage(int pageIndex){\n    ListView&lt;Event&gt; eventView = new ListView&lt;&gt;();\n    int fromIndex = pageIndex * maxPerPage;\n    int toIndex = Math.min(fromIndex + maxPerPage, schedule.size());\n    List&lt;Event&gt; eventString = schedule.subList(fromIndex, toIndex);\n    //testing buttons\n    eventView.setCellFactory(param -&gt; new ListCell&lt;Event&gt;(){\n        @Override\n        protected void updateItem(Event item, boolean empty){\n            super.updateItem(item,empty);\n            if(empty || item == null){\n                setText(null);\n                setGraphic(null);\n            } else{\n                Label label = new Label(item.display());\n\n                Button editButton = new Button (&quot;Edit&quot;);\n\n                Button completedButton = new Button (&quot;Completed&quot;);\n\n                editButton.setOnAction(event -&gt;{\n                    System.out.println(&quot;done&quot;);\n                });\n\n                completedButton.setOnAction(event -&gt;{\n                    System.out.println(&quot;done&quot;);\n                });\n\n                HBox eventHbox = new HBox(label);\n\n                HBox buttonHbox = new HBox(editButton,completedButton);\n\n                buttonHbox.setSpacing(50);\n\n                buttonHbox.setAlignment(Pos.CENTER_RIGHT);\n\n                HBox.setMargin(buttonHbox,new Insets(0,0,0,200));\n\n                HBox hbox = new HBox(eventHbox,buttonHbox);\n\n                setGraphic(hbox);\n            }\n        }\n\n    });\n}\n</code></pre>\n<p>also eventually I will need to figure out how to send the element the button is aligned with into the function for when the button is pressed if anyone has tips for that</p>\n<p>I have tried using <code>BASELINE_RIGHT</code> instead of <code>CENTER_RIGHT</code> and if I change the passing in <code>setMargin()</code> anymore or to like max or something it'll make me scroll over to see it</p>\n<p>EDIT::\ntrying to figure out TableView but not getting it, for person who wanted photos, (the want to have is created with data that is all same size, ideally button placemen does not depend on data length)</p>\n<p>here is what I currently have:<a href=\"https://i.stack.imgur.com/el7Pf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/el7Pf.png\" alt=\"currently have\" /></a></p>\n<p>and here is what I want to have <a href=\"https://i.stack.imgur.com/8uJlD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8uJlD.png\" alt=\"want to have\" /></a></p>\n"},{"tags":["java","spring","multithreading","spring-batch","spring-rabbit"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697196793,"post_id":77287184,"comment_id":136252764,"body_markdown":"I would also consider [AsyncItemProcessor](https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#asynchronous-processors) as an alternative to SynchronizedItemStreamReader. It is often forgotten because it belongs to spring-batch-integration.","body":"I would also consider <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-integration.html#asynchronous-processors\" rel=\"nofollow noreferrer\">AsyncItemProcessor</a> as an alternative to SynchronizedItemStreamReader. It is often forgotten because it belongs to spring-batch-integration."},{"owner":{"account_id":24471298,"reputation":3,"user_id":18390996,"display_name":"Niko Arts"},"score":0,"creation_date":1697198355,"post_id":77287184,"comment_id":136253004,"body_markdown":"@Pino I was contemplating the use of it, but I couldn&#39;t find a suitable example demonstrating how to convert a message from a queue that contains an array of objects without relying on JsonItemReader. I will try it with AsyncItemProcessor one more time.","body":"@Pino I was contemplating the use of it, but I couldn&#39;t find a suitable example demonstrating how to convert a message from a queue that contains an array of objects without relying on JsonItemReader. I will try it with AsyncItemProcessor one more time."},{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697200329,"post_id":77287184,"comment_id":136253372,"body_markdown":"JSON is a string.  JsonItemReader uses Jackson internally.  You could read strings from the queue and then use Jackson in the processor.  In this way the processing of invalid JSON strings would happen in the processor, as it should be.","body":"JSON is a string.  JsonItemReader uses Jackson internally.  You could read strings from the queue and then use Jackson in the processor.  In this way the processing of invalid JSON strings would happen in the processor, as it should be."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697468887,"creation_date":1697468887,"answer_id":77303093,"question_id":77287184,"body_markdown":"&gt; So, my main question is whether my approach is generally correct, or if I should explore an alternative solution.\r\n\r\nSpring Batch does not seem the right solution to this streaming requirement. I believe a pool of workers listening on the queue to do the validation in parallel is easier to implement and better suited for the problem than using a Spring Batch job. You could probably use Spring Batch as a library to leverage the JSON reader.","title":"Recommended approach for Spring batch multi-threaded job that consumes from RabbitMQ","body":"<blockquote>\n<p>So, my main question is whether my approach is generally correct, or if I should explore an alternative solution.</p>\n</blockquote>\n<p>Spring Batch does not seem the right solution to this streaming requirement. I believe a pool of workers listening on the queue to do the validation in parallel is easier to implement and better suited for the problem than using a Spring Batch job. You could probably use Spring Batch as a library to leverage the JSON reader.</p>\n"}],"owner":{"account_id":24471298,"reputation":3,"user_id":18390996,"display_name":"Niko Arts"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77303093,"answer_count":1,"score":0,"last_activity_date":1697468887,"creation_date":1697194666,"question_id":77287184,"body_markdown":"I&#39;m working on implementing a Spring Batch job that will consume messages from a RabbitMQ queue and process their validation. Each message is an array of objects, like the example below:\r\n\r\n&gt; \\[JSON object }, { // JSON object } \\]\r\n\r\nMy goal is to retrieve the JSON objects and pass them to the processor for validation. However, a major challenge I&#39;m facing is that the JSON objects in the queue may be in the wrong format, with missing brackets or quotes. It is crucial for me to handle these errors properly and return the messages with errors as a response when manually running the job.\r\n\r\nMy initial idea was to implement a fault tolerant step that will use chunking, which would be executed by a `ThreadPoolTaskExecutor`. I attempted to create my own multi-resource reader based on the `MultiResourceItemReader`, which delegates the reading of JSON files to the `JsonItemReader`. Essentially, my custom reader is similar to the one provided by Spring, but I added exception handling for cases when errors occur during `delegate.read()` and `delegate.open(new ExecutionContext())`, which can happen when reading JSON files with typos. If an exception occurs during reading, I write the message ID from the current resource to the job execution context. After the job execution, I can extract these message IDs from the job context.\r\n\r\nMy custom reader is decorated by `SynchronizedItemStreamReader` to ensure that the reading process is synchronized. However, I suspect there might still be concurrency issues, as I consistently end up with fewer message IDs associated with errors than expected. For example, if I&#39;m processing 4 messages with typos, each containing 1000 objects, and there are 3 failed messages in the job execution context, it&#39;s perplexing that the read operation is considered successful. If I process only the missing message together with other correct messages, I get one error message in the job context, indicating that the exception handling works in that case. However, for multiple invalid messages, I don&#39;t even see an error for the missing message in the log.\r\n\r\nSo, my main question is whether my approach is generally correct, or if I should explore an alternative solution. The key requirement is to perform resource reading and JSON object processing in parallel while capturing the message IDs for which reading failed. Here is my step code\r\n\r\n```\r\n@Bean\r\npublic Step rabbitStep() {\r\n    return new StepBuilder(&quot;rabbitValidateStep&quot;, jobRepository)\r\n            .&lt;ProcessRequest, Void&gt;chunk(chunkSize, transactionManager)\r\n            .reader(rabbitSynchronizedItemStreamReader())\r\n            .processor(rabbitItemProcessor())\r\n            .writer(item -&gt; {\r\n            })\r\n            .faultTolerant()\r\n            .skip(ParseException.class)\r\n            .noRetry(ParseException.class)\r\n            .noRollback(ParseException.class)\r\n            .skip(ItemStreamException.class)\r\n            .noRetry(ItemStreamException.class)\r\n            .noRollback(ItemStreamException.class)\r\n            .skipLimit(1000)\r\n            .taskExecutor(rabbitDelegatingSecurityContextAsyncTaskExecutor(rabbitValidateThreadPoolTaskExecutor()))\r\n            .throttleLimit(getWorkingThreads())\r\n            .build();\r\n}\r\n```","title":"Recommended approach for Spring batch multi-threaded job that consumes from RabbitMQ","body":"<p>I'm working on implementing a Spring Batch job that will consume messages from a RabbitMQ queue and process their validation. Each message is an array of objects, like the example below:</p>\n<blockquote>\n<p>[JSON object }, { // JSON object } ]</p>\n</blockquote>\n<p>My goal is to retrieve the JSON objects and pass them to the processor for validation. However, a major challenge I'm facing is that the JSON objects in the queue may be in the wrong format, with missing brackets or quotes. It is crucial for me to handle these errors properly and return the messages with errors as a response when manually running the job.</p>\n<p>My initial idea was to implement a fault tolerant step that will use chunking, which would be executed by a <code>ThreadPoolTaskExecutor</code>. I attempted to create my own multi-resource reader based on the <code>MultiResourceItemReader</code>, which delegates the reading of JSON files to the <code>JsonItemReader</code>. Essentially, my custom reader is similar to the one provided by Spring, but I added exception handling for cases when errors occur during <code>delegate.read()</code> and <code>delegate.open(new ExecutionContext())</code>, which can happen when reading JSON files with typos. If an exception occurs during reading, I write the message ID from the current resource to the job execution context. After the job execution, I can extract these message IDs from the job context.</p>\n<p>My custom reader is decorated by <code>SynchronizedItemStreamReader</code> to ensure that the reading process is synchronized. However, I suspect there might still be concurrency issues, as I consistently end up with fewer message IDs associated with errors than expected. For example, if I'm processing 4 messages with typos, each containing 1000 objects, and there are 3 failed messages in the job execution context, it's perplexing that the read operation is considered successful. If I process only the missing message together with other correct messages, I get one error message in the job context, indicating that the exception handling works in that case. However, for multiple invalid messages, I don't even see an error for the missing message in the log.</p>\n<p>So, my main question is whether my approach is generally correct, or if I should explore an alternative solution. The key requirement is to perform resource reading and JSON object processing in parallel while capturing the message IDs for which reading failed. Here is my step code</p>\n<pre><code>@Bean\npublic Step rabbitStep() {\n    return new StepBuilder(&quot;rabbitValidateStep&quot;, jobRepository)\n            .&lt;ProcessRequest, Void&gt;chunk(chunkSize, transactionManager)\n            .reader(rabbitSynchronizedItemStreamReader())\n            .processor(rabbitItemProcessor())\n            .writer(item -&gt; {\n            })\n            .faultTolerant()\n            .skip(ParseException.class)\n            .noRetry(ParseException.class)\n            .noRollback(ParseException.class)\n            .skip(ItemStreamException.class)\n            .noRetry(ItemStreamException.class)\n            .noRollback(ItemStreamException.class)\n            .skipLimit(1000)\n            .taskExecutor(rabbitDelegatingSecurityContextAsyncTaskExecutor(rabbitValidateThreadPoolTaskExecutor()))\n            .throttleLimit(getWorkingThreads())\n            .build();\n}\n</code></pre>\n"},{"tags":["java","spring","character-encoding","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":62516,"reputation":20965,"user_id":185723,"accept_rate":89,"display_name":"dimitrisli"},"down_vote_count":1,"up_vote_count":27,"is_accepted":true,"score":26,"last_activity_date":1630518717,"creation_date":1369995808,"answer_id":16855077,"question_id":16854993,"body_markdown":"I&#39;ve done it using [GreenMail][1]. Take a look at [my blog post about it][2] where you&#39;ll also find a working example.\r\n\r\n\r\n  [1]: https://greenmail-mail-test.github.io/greenmail/\r\n  [2]: https://dimitrisli.wordpress.com/2012/09/17/spring-email-testing-using-greenmail/","title":"How do I test the JavaMailSender of Spring","body":"<p>I've done it using <a href=\"https://greenmail-mail-test.github.io/greenmail/\" rel=\"nofollow noreferrer\">GreenMail</a>. Take a look at <a href=\"https://dimitrisli.wordpress.com/2012/09/17/spring-email-testing-using-greenmail/\" rel=\"nofollow noreferrer\">my blog post about it</a> where you'll also find a working example.</p>\n"},{"tags":[],"owner":{"account_id":84846,"reputation":5030,"user_id":236936,"accept_rate":67,"display_name":"TrueDub"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1529483213,"creation_date":1369998746,"answer_id":16855945,"question_id":16854993,"body_markdown":"You can use a test SMTP server, like [Dumbster][1]. See the example below:\r\n\r\n    @Test\r\n    \tpublic void sendSimpleEmailWithCC() {\r\n    \t\t// Runs a Dumbster simple SMTP server - default config\r\n    \t\tSimpleSmtpServer server = SimpleSmtpServer.start();\r\n    \t\tString from = &quot;whoever@from.com&quot;;\r\n    \t\tString to = &quot;whoever@to.com&quot;;\r\n    \t\tString messageText = &quot;Good message&quot;;\r\n    \t\tString title = &quot;Test message&quot;;\r\n    \t\tString cc = &quot;whoever@cc.com&quot;;\r\n    \t\tAssert.assertTrue(mailSender\r\n    \t\t\t\t.sendEmail(from, to, cc, title, messageText));\r\n    \t\tserver.stop();\r\n    \t\tAssert.assertTrue(server.getReceivedEmailSize() == 1);\r\n    \t\tIterator emailIter = server.getReceivedEmail();\r\n    \t\tSmtpMessage email = (SmtpMessage) emailIter.next();\r\n    \t\tAssert.assertTrue(email.getHeaderValue(&quot;From&quot;).equals(from));\r\n    \t\tAssert.assertTrue(email.getHeaderValue(&quot;To&quot;).equals(to));\r\n    \t\tAssert.assertTrue(email.getHeaderValue(&quot;Cc&quot;).equals(cc));\r\n    \t\tAssert.assertTrue(email.getHeaderValue(&quot;Subject&quot;)\r\n    \t\t\t\t.equals(&quot;Test message&quot;));\r\n    \t\tAssert.assertTrue(email.getBody().equals(messageText));\r\n    \t}\r\n\r\n\r\n  [1]: https://github.com/kirviq/dumbster","title":"How do I test the JavaMailSender of Spring","body":"<p>You can use a test SMTP server, like <a href=\"https://github.com/kirviq/dumbster\" rel=\"nofollow noreferrer\">Dumbster</a>. See the example below:</p>\n\n<pre><code>@Test\n    public void sendSimpleEmailWithCC() {\n        // Runs a Dumbster simple SMTP server - default config\n        SimpleSmtpServer server = SimpleSmtpServer.start();\n        String from = \"whoever@from.com\";\n        String to = \"whoever@to.com\";\n        String messageText = \"Good message\";\n        String title = \"Test message\";\n        String cc = \"whoever@cc.com\";\n        Assert.assertTrue(mailSender\n                .sendEmail(from, to, cc, title, messageText));\n        server.stop();\n        Assert.assertTrue(server.getReceivedEmailSize() == 1);\n        Iterator emailIter = server.getReceivedEmail();\n        SmtpMessage email = (SmtpMessage) emailIter.next();\n        Assert.assertTrue(email.getHeaderValue(\"From\").equals(from));\n        Assert.assertTrue(email.getHeaderValue(\"To\").equals(to));\n        Assert.assertTrue(email.getHeaderValue(\"Cc\").equals(cc));\n        Assert.assertTrue(email.getHeaderValue(\"Subject\")\n                .equals(\"Test message\"));\n        Assert.assertTrue(email.getBody().equals(messageText));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550919019,"creation_date":1550880743,"answer_id":54836897,"question_id":16854993,"body_markdown":"If your goal is to use just Junit/Mockito and test how MimeMessage was formed before sending then the configuration below should be sufficient:\r\n\r\n    public class EmailServiceTest {\r\n    \t\r\n    \tprivate EmailServiceImpl emailServiceImpl;\r\n    \t\r\n        private JavaMailSender javaMailSender;\r\n        \r\n        private MimeMessage mimeMessage;\r\n    \r\n    \t@Before\r\n    \tpublic void before() {\r\n    \t\tmimeMessage = new MimeMessage((Session)null);\r\n    \t\tjavaMailSender = mock(JavaMailSender.class);\r\n    \t\twhen(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\r\n    \t\temailServiceImpl = new EmailService(javaMailSender);\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void emailTest() {\r\n    \t\tString recipient = &quot;example@example.com&quot;\r\n    \t    EmailRequest request = new EmailRequest();\r\n    \t    request.setRecipient(recipient);\r\n    \t\temailServiceImpl.send(request);\r\n    \t    assertEquals(recipient, mimeMessage.getRecipients(RecipientType.TO)[0].toString());\r\n    \t}\r\n    }","title":"How do I test the JavaMailSender of Spring","body":"<p>If your goal is to use just Junit/Mockito and test how MimeMessage was formed before sending then the configuration below should be sufficient:</p>\n\n<pre><code>public class EmailServiceTest {\n\n    private EmailServiceImpl emailServiceImpl;\n\n    private JavaMailSender javaMailSender;\n\n    private MimeMessage mimeMessage;\n\n    @Before\n    public void before() {\n        mimeMessage = new MimeMessage((Session)null);\n        javaMailSender = mock(JavaMailSender.class);\n        when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\n        emailServiceImpl = new EmailService(javaMailSender);\n    }\n\n    @Test\n    public void emailTest() {\n        String recipient = \"example@example.com\"\n        EmailRequest request = new EmailRequest();\n        request.setRecipient(recipient);\n        emailServiceImpl.send(request);\n        assertEquals(recipient, mimeMessage.getRecipients(RecipientType.TO)[0].toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635265058,"creation_date":1635265058,"answer_id":69726646,"question_id":16854993,"body_markdown":"To add a more recent answer to this question and as the linked blog post from 2012 seems to be down occasionally, here&#39;s a full example of using GreenMail for writing integration tests with JUnit 5 (assuming you&#39;re using Spring Boot&#39;s auto-configuration for the `JavaMailSender`).\r\n\r\nFirst, make sure to override the credentials and location of the mail server. You can add an `application.yml` file inside `src/test/resources` for this purpose:\r\n\r\n    spring:\r\n      mail:\r\n        password: springboot\r\n        username: duke\r\n        host: 127.0.0.1\r\n        port: 3025 # default protocol port + 3000 as offset\r\n        protocol: smtp\r\n        test-connection: true\r\n\r\n\r\nNext, Spring Boot&#39;s auto-configuration will configure the `JavaMailSender` to connect to GreenMail for your tests. You can use GreenMail&#39;s JUnit Jupiter extension to conveniently start/stop a GreenMail server for your tests:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.icegreen&lt;/groupId&gt;\r\n      &lt;artifactId&gt;greenmail-junit5&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n... resulting in the following sample test:\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    class JavaMailSenderIT {\r\n    \r\n      @RegisterExtension\r\n      static GreenMailExtension greenMail = new GreenMailExtension(ServerSetupTest.SMTP)\r\n        .withConfiguration(GreenMailConfiguration.aConfig().withUser(&quot;duke&quot;, &quot;springboot&quot;))\r\n        .withPerMethodLifecycle(false);\r\n    \r\n      @Autowired\r\n      private JavaMailSender javaMailSender;\r\n    \r\n      @Test\r\n      void shouldUseGreenMail() throws Exception {\r\n    \r\n        SimpleMailMessage mail = new SimpleMailMessage();\r\n        mail.setFrom(&quot;admin@spring.io&quot;);\r\n        mail.setSubject(&quot;A new message for you&quot;);\r\n        mail.setText(&quot;Hello GreenMail!&quot;);\r\n        mail.setTo(&quot;test@greenmail.io&quot;);\r\n    \r\n    \r\n        javaMailSender.send(mail);\r\n    \r\n        // awaitility\r\n        await().atMost(2, SECONDS).untilAsserted(() -&gt; {\r\n          MimeMessage[] receivedMessages = greenMail.getReceivedMessages();\r\n          assertEquals(1, receivedMessages.length);\r\n    \r\n          MimeMessage receivedMessage = receivedMessages[0];\r\n          assertEquals(&quot;Hello GreenMail!&quot;, GreenMailUtil.getBody(receivedMessage));\r\n          assertEquals(1, receivedMessage.getAllRecipients().length);\r\n          assertEquals(&quot;test@greenmail.io&quot;, receivedMessage.getAllRecipients()[0].toString());\r\n        });\r\n      }\r\n    }\r\n\r\nYou can also [use Testcontainers to start a local GreenMail container][1] as your local sandbox email server.\r\n\r\n\r\n  [1]: https://rieckpil.de/use-greenmail-for-spring-mail-javamailsender-junit-5-integration-tests/","title":"How do I test the JavaMailSender of Spring","body":"<p>To add a more recent answer to this question and as the linked blog post from 2012 seems to be down occasionally, here's a full example of using GreenMail for writing integration tests with JUnit 5 (assuming you're using Spring Boot's auto-configuration for the <code>JavaMailSender</code>).</p>\n<p>First, make sure to override the credentials and location of the mail server. You can add an <code>application.yml</code> file inside <code>src/test/resources</code> for this purpose:</p>\n<pre><code>spring:\n  mail:\n    password: springboot\n    username: duke\n    host: 127.0.0.1\n    port: 3025 # default protocol port + 3000 as offset\n    protocol: smtp\n    test-connection: true\n</code></pre>\n<p>Next, Spring Boot's auto-configuration will configure the <code>JavaMailSender</code> to connect to GreenMail for your tests. You can use GreenMail's JUnit Jupiter extension to conveniently start/stop a GreenMail server for your tests:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.icegreen&lt;/groupId&gt;\n  &lt;artifactId&gt;greenmail-junit5&lt;/artifactId&gt;\n  &lt;version&gt;1.6.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>... resulting in the following sample test:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass JavaMailSenderIT {\n\n  @RegisterExtension\n  static GreenMailExtension greenMail = new GreenMailExtension(ServerSetupTest.SMTP)\n    .withConfiguration(GreenMailConfiguration.aConfig().withUser(&quot;duke&quot;, &quot;springboot&quot;))\n    .withPerMethodLifecycle(false);\n\n  @Autowired\n  private JavaMailSender javaMailSender;\n\n  @Test\n  void shouldUseGreenMail() throws Exception {\n\n    SimpleMailMessage mail = new SimpleMailMessage();\n    mail.setFrom(&quot;admin@spring.io&quot;);\n    mail.setSubject(&quot;A new message for you&quot;);\n    mail.setText(&quot;Hello GreenMail!&quot;);\n    mail.setTo(&quot;test@greenmail.io&quot;);\n\n\n    javaMailSender.send(mail);\n\n    // awaitility\n    await().atMost(2, SECONDS).untilAsserted(() -&gt; {\n      MimeMessage[] receivedMessages = greenMail.getReceivedMessages();\n      assertEquals(1, receivedMessages.length);\n\n      MimeMessage receivedMessage = receivedMessages[0];\n      assertEquals(&quot;Hello GreenMail!&quot;, GreenMailUtil.getBody(receivedMessage));\n      assertEquals(1, receivedMessage.getAllRecipients().length);\n      assertEquals(&quot;test@greenmail.io&quot;, receivedMessage.getAllRecipients()[0].toString());\n    });\n  }\n}\n</code></pre>\n<p>You can also <a href=\"https://rieckpil.de/use-greenmail-for-spring-mail-javamailsender-junit-5-integration-tests/\" rel=\"nofollow noreferrer\">use Testcontainers to start a local GreenMail container</a> as your local sandbox email server.</p>\n"},{"tags":[],"owner":{"account_id":13169033,"reputation":1,"user_id":9512131,"display_name":"Mehran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668482870,"creation_date":1668099680,"answer_id":74392744,"question_id":16854993,"body_markdown":"Regarding test with GreenMail, you don&#39;t want any end to end encryption as it&#39;s in your local machine, and for that you need to add this properties to your `application-test.properties` file:\r\n\r\n    spring:\r\n      mail:\r\n        username: xxxx@gmail.com\r\n        password: *********\r\n        host: 127.0.0.1\r\n        port: 3025\r\n        protocol: smtp\r\n        test-connection: false\r\n        properties:\r\n          mail:\r\n            smtp:\r\n              starttls:\r\n                required: false\r\n                enable: false\r\n    \r\n\r\nOtherwise you&#39;ll get an error: STARTTLS is required but host does not support STARTTLS.","title":"How do I test the JavaMailSender of Spring","body":"<p>Regarding test with GreenMail, you don't want any end to end encryption as it's in your local machine, and for that you need to add this properties to your <code>application-test.properties</code> file:</p>\n<pre><code>spring:\n  mail:\n    username: xxxx@gmail.com\n    password: *********\n    host: 127.0.0.1\n    port: 3025\n    protocol: smtp\n    test-connection: false\n    properties:\n      mail:\n        smtp:\n          starttls:\n            required: false\n            enable: false\n</code></pre>\n<p>Otherwise you'll get an error: STARTTLS is required but host does not support STARTTLS.</p>\n"},{"tags":[],"owner":{"account_id":239746,"reputation":6175,"user_id":509565,"accept_rate":69,"display_name":"lrkwz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697468790,"creation_date":1697468790,"answer_id":77303085,"question_id":16854993,"body_markdown":"Elaborating on @justinas-jakavonis answer I would suggesto to include this configuration bean in your `src/test/java`\r\n\r\n```java\r\n@Configuration\r\npublic class JavaMailSenderTestConfiguration {\r\n\r\n\tprivate JavaMailSender javaMailSender;\r\n\r\n\tprivate MimeMessage mimeMessage;\r\n\r\n\t@Bean\r\n\tJavaMailSender mockMailSender() {\r\n\t\tmimeMessage = Mockito.mock(MimeMessage.class);\r\n\t\tjavaMailSender = Mockito.mock(JavaMailSender.class);\r\n\t\tMockito.when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\r\n\t\treturn javaMailSender;\r\n\t}\r\n}\r\n```","title":"How do I test the JavaMailSender of Spring","body":"<p>Elaborating on @justinas-jakavonis answer I would suggesto to include this configuration bean in your <code>src/test/java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JavaMailSenderTestConfiguration {\n\n    private JavaMailSender javaMailSender;\n\n    private MimeMessage mimeMessage;\n\n    @Bean\n    JavaMailSender mockMailSender() {\n        mimeMessage = Mockito.mock(MimeMessage.class);\n        javaMailSender = Mockito.mock(JavaMailSender.class);\n        Mockito.when(javaMailSender.createMimeMessage()).thenReturn(mimeMessage);\n        return javaMailSender;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1126566,"reputation":3898,"user_id":1113715,"accept_rate":90,"display_name":"Jordi P.S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30012,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":16855077,"answer_count":6,"score":21,"last_activity_date":1697468790,"creation_date":1369995491,"question_id":16854993,"body_markdown":"I have a service that has injected the JavaMailSender.\r\nMy service configures it and sends a mail.\r\nI&#39;d like to intercept the raw mail to ensure the information is the correct. I&#39;d like to do that in a JUnit.\r\n\r\nHow would you guys do that?\r\n\r\n    @Service\r\n    public class MyServiceImpl {\r\n\r\n        @Autowired\r\n        private JavaMailSender _mailSender;\r\n     \r\n        public void sendMail(String to, String body, String subject){\r\n            ...\r\n            _mailSender.something\r\n            ...\r\n        }\r\n    }","title":"How do I test the JavaMailSender of Spring","body":"<p>I have a service that has injected the JavaMailSender.\nMy service configures it and sends a mail.\nI'd like to intercept the raw mail to ensure the information is the correct. I'd like to do that in a JUnit.</p>\n\n<p>How would you guys do that?</p>\n\n<pre><code>@Service\npublic class MyServiceImpl {\n\n    @Autowired\n    private JavaMailSender _mailSender;\n\n    public void sendMail(String to, String body, String subject){\n        ...\n        _mailSender.something\n        ...\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache","maven","classnotfoundexception"],"answers":[{"tags":[],"owner":{"account_id":268522,"reputation":2088,"user_id":557329,"accept_rate":61,"display_name":"Arasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490357541,"creation_date":1490357541,"answer_id":42999205,"question_id":42998957,"body_markdown":"Please check whether the apache poi jars got downloaded,\r\n\r\nAlso try using the below dependecy for poi-ooxml-schemas\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n        &lt;version&gt;3.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>Please check whether the apache poi jars got downloaded,</p>\n\n<p>Also try using the below dependecy for poi-ooxml-schemas</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-schemas --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n    &lt;version&gt;3.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490546962,"creation_date":1490357567,"answer_id":42999213,"question_id":42998957,"body_markdown":"Clean your project, delete content of {User_Directory}/.m2 folder and re-run your project \r\n\r\n&gt; Under windows system you can find maven repo path as\r\n&gt; **C:\\\\Users\\\\{user_name}\\\\.m2**\r\n&gt; \r\n&gt; Under linux system you can find maven repo path as **/home/{user_name}/.m2**","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>Clean your project, delete content of {User_Directory}/.m2 folder and re-run your project </p>\n\n<blockquote>\n  <p>Under windows system you can find maven repo path as\n  <strong>C:\\Users\\{user_name}\\.m2</strong></p>\n  \n  <p>Under linux system you can find maven repo path as <strong>/home/{user_name}/.m2</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":457711,"reputation":343,"user_id":857184,"display_name":"David Stanley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490383436,"creation_date":1490358037,"answer_id":42999359,"question_id":42998957,"body_markdown":"It looks like you&#39;re running this in a servlet container, which probably means that container has its own set of jar files.  With Tomcat, for instance, that would be in the Tomcat/lib directory.  Check which jars your servlet container is using, to see if one of them is incompatible with what you&#39;re using.  \r\n\r\nWhat you&#39;d be looking for is an old version of poi that doesn&#39;t have the class you need.  If such a jar exists and gets loaded before the correct one, it can cause the problems you&#39;re seeing, even though your web app itself has the right version in it.  ","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>It looks like you're running this in a servlet container, which probably means that container has its own set of jar files.  With Tomcat, for instance, that would be in the Tomcat/lib directory.  Check which jars your servlet container is using, to see if one of them is incompatible with what you're using.  </p>\n\n<p>What you'd be looking for is an old version of poi that doesn't have the class you need.  If such a jar exists and gets loaded before the correct one, it can cause the problems you're seeing, even though your web app itself has the right version in it.  </p>\n"},{"tags":[],"owner":{"account_id":27549328,"reputation":1,"user_id":21024672,"display_name":"Rakesh Pradhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673934141,"creation_date":1673934141,"answer_id":75142329,"question_id":42998957,"body_markdown":"Clean your project, delete content of {User_Directory}/.m2 folder and re-run your project , This method works for me .\r\n","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>Clean your project, delete content of {User_Directory}/.m2 folder and re-run your project , This method works for me .</p>\n"}],"owner":{"account_id":9980355,"reputation":83,"user_id":7383506,"display_name":"Hello Kitty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1697468760,"creation_date":1490356757,"question_id":42998957,"body_markdown":"I&#39;m trying to access an excel file the Apache Workbook module. The code runs perfectly sometimes, but mostly I get an error saying:\r\n\r\n&gt;**exception** \r\n\r\n&gt;javax.servlet.ServletException: Servlet execution threw an exception\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\r\n&gt;**root cause** \r\n\r\n&gt;java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook\r\n\r\n&gt;**root cause** \r\n\r\n&gt;java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook\r\n\r\nI looked it up and read that it is a jar file problem. Tried to fix it from my side but I&#39;m still getting the same error.\r\n\r\nHere is my `pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;XYZ&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ABC&lt;/artifactId&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;ScriptsGenerator Maven Webapp&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n          &lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n          \t&lt;version&gt;3.15&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.lucee&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n          \t&lt;version&gt;3.15.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n         \t\t&lt;version&gt;3.15&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n\r\n      \t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n      \t&lt;dependency&gt;\r\n         \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n          \t&lt;version&gt;3.1.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n          \t&lt;version&gt;1.1.1&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n          \t&lt;version&gt;1.2&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n         \t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n         \t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n         \t\t&lt;version&gt;1.10&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n          \t&lt;version&gt;1.2.17&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n          \t&lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\r\n          \t&lt;version&gt;2.5.8&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlbeans/xmlbeans --&gt;\r\n      \t&lt;dependency&gt;\r\n          \t&lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n      \t\t&lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n          \t&lt;version&gt;2.6.0&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;!-- https://mvnrepository.com/artifact/dom4j/dom4j --&gt;\r\n      \t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n      \t&lt;dependency&gt;\r\n       \t   &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n       \t   &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n       \t   &lt;version&gt;4.1&lt;/version&gt;\r\n      \t&lt;/dependency&gt;\r\n      \t&lt;dependency&gt;\r\n      &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      \t\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n          &lt;finalName&gt;AAAA&lt;/finalName&gt;\r\n        &lt;/build&gt;\r\n      &lt;/project&gt;\r\n\r\n\r\nWhere am I going wrong?\r\n","title":"java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook","body":"<p>I'm trying to access an excel file the Apache Workbook module. The code runs perfectly sometimes, but mostly I get an error saying:</p>\n\n<blockquote>\n  <p><strong>exception</strong> </p>\n  \n  <p>javax.servlet.ServletException: Servlet execution threw an exception\n      org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)</p>\n  \n  <p><strong>root cause</strong> </p>\n  \n  <p>java.lang.NoClassDefFoundError: org/apache/poi/ss/usermodel/Workbook</p>\n  \n  <p><strong>root cause</strong> </p>\n  \n  <p>java.lang.ClassNotFoundException: org.apache.poi.ss.usermodel.Workbook</p>\n</blockquote>\n\n<p>I looked it up and read that it is a jar file problem. Tried to fix it from my side but I'm still getting the same error.</p>\n\n<p>Here is my <code>pom.xml</code>:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;XYZ&lt;/groupId&gt;\n    &lt;artifactId&gt;ABC&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ScriptsGenerator Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.15&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lucee&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n        &lt;version&gt;3.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.10&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n        &lt;artifactId&gt;struts2-core&lt;/artifactId&gt;\n        &lt;version&gt;2.5.8&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!-- https://mvnrepository.com/artifact/org.apache.xmlbeans/xmlbeans --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n        &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/dom4j/dom4j --&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n       &lt;version&gt;4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n  &lt;version&gt;1.2&lt;/version&gt;\n  &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n      &lt;finalName&gt;AAAA&lt;/finalName&gt;\n    &lt;/build&gt;\n  &lt;/project&gt;\n</code></pre>\n\n<p>Where am I going wrong?</p>\n"},{"tags":["java","hibernate","jpa","join","hql"],"owner":{"account_id":7264540,"reputation":23,"user_id":5539824,"display_name":"v1t0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697468606,"creation_date":1697468606,"question_id":77303070,"body_markdown":"So I have following entities in a project I&#39;m working (it&#39;s all huge so I will post a simplification):\r\n\r\n    public class A {\r\n        .\r\n        .\r\n        .\r\n        private String dateKey;\r\n        .\r\n        .\r\n        .\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;b_key&quot;, referencedColumn = &quot;b_key&quot;)\r\n        private B b;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;c_key&quot;, referencedColumn = &quot;c_key&quot;)\r\n        private C c;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;d_key&quot;, referencedColumn = &quot;d_key&quot;)\r\n        private D d;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;e_key&quot;, referencedColumn = &quot;e_key&quot;)\r\n        private E e;\r\n    }\r\n\r\n    public class B {\r\n        .\r\n        .\r\n        .\r\n        @OneToMany\r\n        @JoinColumn(name = &quot;b_key&quot;, referencedColumn = &quot;b_key&quot;)\r\n        private List&lt;B_details&gt; b;\r\n\r\n    }\r\n\r\n    public class B_details {\r\n        private Long b_key;\r\n\r\n        private String dateKey;\r\n\r\n        private boolean valid;\r\n\r\n    }\r\n\r\n    public class C {\r\n        //irrelevant fields\r\n\r\n    }\r\n\r\n    public class D {\r\n        //irrelevant fields\r\n\r\n    }\r\n\r\n    public class E {\r\n        //irrelevant fields\r\n    }\r\n\r\nThe relations between *B* and *B_details* is defined as *@OneToMany* because the details change and differ by date. Then there&#39;s this monstrosity of a HQL query:\r\n\r\n    select a from A a \r\n    inner join fetch a.b b \r\n    join fetch b.b_details\r\n    join fetch a.c\r\n    join fetch a.d\r\n    join fetch a.e\r\n    where a.dateKey = :date\r\n    and //... more conditions related to c d e fields\r\n\r\nI want to focus on the relation between **B** and **B_details**. I would expect to get a list of **B_details** for each **B** and said collection should contain a number of distinct objects. But what I get instead is **B** with a collection of **B_details** where each **B_details** is exactly the same instance of the same object. The number of elements in the collection is correct but they are all the same, like only the first one was taken and the copied multiple times.\r\n\r\nI&#39;ve read multiple posts and articles and I still can&#39;t get where I want to be with the result. Ideally, I wanted to get only one **B_details** for a **B** by adding something like `join fetch b.b_details bd ON bd.dateKey = :date` but I understand it&#39;s not allowed as I get errors in type of `with-clause not allowed on fetched associations. This is also a big problem as I wanted to join with a smaller, filtered collection, it&#39;s a read-only app.\r\n\r\nI haven&#39;t worked with HQL or SQL joins too much in the past and I can&#39;t wrap my head around the problem I&#39;m facing. In my understanding it should work and I con&#39;t understand why of all things, I get these duplicates instead of a collection with unique, true to the fact objects.\r\n\r\nPlease feel free to ask for more details as these are really huge entities and it would take me ages to provide a full representation and I can&#39;t just copy the code 1:1.","title":"Multiple joins in HQL Query, duplicate instances of only one object in resulting collection","body":"<p>So I have following entities in a project I'm working (it's all huge so I will post a simplification):</p>\n<pre><code>public class A {\n    .\n    .\n    .\n    private String dateKey;\n    .\n    .\n    .\n    @ManyToOne\n    @JoinColumn(name = &quot;b_key&quot;, referencedColumn = &quot;b_key&quot;)\n    private B b;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;c_key&quot;, referencedColumn = &quot;c_key&quot;)\n    private C c;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;d_key&quot;, referencedColumn = &quot;d_key&quot;)\n    private D d;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;e_key&quot;, referencedColumn = &quot;e_key&quot;)\n    private E e;\n}\n\npublic class B {\n    .\n    .\n    .\n    @OneToMany\n    @JoinColumn(name = &quot;b_key&quot;, referencedColumn = &quot;b_key&quot;)\n    private List&lt;B_details&gt; b;\n\n}\n\npublic class B_details {\n    private Long b_key;\n\n    private String dateKey;\n\n    private boolean valid;\n\n}\n\npublic class C {\n    //irrelevant fields\n\n}\n\npublic class D {\n    //irrelevant fields\n\n}\n\npublic class E {\n    //irrelevant fields\n}\n</code></pre>\n<p>The relations between <em>B</em> and <em>B_details</em> is defined as <em>@OneToMany</em> because the details change and differ by date. Then there's this monstrosity of a HQL query:</p>\n<pre><code>select a from A a \ninner join fetch a.b b \njoin fetch b.b_details\njoin fetch a.c\njoin fetch a.d\njoin fetch a.e\nwhere a.dateKey = :date\nand //... more conditions related to c d e fields\n</code></pre>\n<p>I want to focus on the relation between <strong>B</strong> and <strong>B_details</strong>. I would expect to get a list of <strong>B_details</strong> for each <strong>B</strong> and said collection should contain a number of distinct objects. But what I get instead is <strong>B</strong> with a collection of <strong>B_details</strong> where each <strong>B_details</strong> is exactly the same instance of the same object. The number of elements in the collection is correct but they are all the same, like only the first one was taken and the copied multiple times.</p>\n<p>I've read multiple posts and articles and I still can't get where I want to be with the result. Ideally, I wanted to get only one <strong>B_details</strong> for a <strong>B</strong> by adding something like <code>join fetch b.b_details bd ON bd.dateKey = :date</code> but I understand it's not allowed as I get errors in type of `with-clause not allowed on fetched associations. This is also a big problem as I wanted to join with a smaller, filtered collection, it's a read-only app.</p>\n<p>I haven't worked with HQL or SQL joins too much in the past and I can't wrap my head around the problem I'm facing. In my understanding it should work and I con't understand why of all things, I get these duplicates instead of a collection with unique, true to the fact objects.</p>\n<p>Please feel free to ask for more details as these are really huge entities and it would take me ages to provide a full representation and I can't just copy the code 1:1.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1259687198,"post_id":1827212,"comment_id":1718885,"body_markdown":"Could you post a link to the description of the initial problem that you described?","body":"Could you post a link to the description of the initial problem that you described?"}],"answers":[{"tags":[],"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1259687463,"creation_date":1259686896,"answer_id":1827541,"question_id":1827212,"body_markdown":"This method is still available in [`ConfigurableApplicationContext`][1] and implemented by [`AbstractApplicationContext`][2].\r\n\r\nSo you might be able to do this\r\n\r\n    ApplicationContext ctx = ...;\r\n    if (ctx instanceof ConfigurableApplicationContext) {\r\n        ((ConfigurableApplicationContext)ctx).registerShutdownHook();\r\n    }\r\n\r\nAlternatively, you could simply call `((ConfigurableApplicationContext)ctx).close()` yourself while closing down the application or using your own shutdown hook:\r\n\r\n    Runtime.getRuntime().addShutdownHook(new Thread() {\r\n        public void run(){\r\n           if (ctx instanceof ConfigurableApplicationContext) {\r\n               ((ConfigurableApplicationContext)ctx).close();\r\n           }\r\n        }\r\n     });\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/context/ConfigurableApplicationContext.html#registerShutdownHook()\r\n  [2]: http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/context/support/AbstractApplicationContext.html#registerShutdownHook()","title":"Registering a shutdown hook in Spring 2.5","body":"<p>This method is still available in <a href=\"http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/context/ConfigurableApplicationContext.html#registerShutdownHook()\" rel=\"noreferrer\"><code>ConfigurableApplicationContext</code></a> and implemented by <a href=\"http://static.springsource.org/spring/docs/2.5.6/api/org/springframework/context/support/AbstractApplicationContext.html#registerShutdownHook()\" rel=\"noreferrer\"><code>AbstractApplicationContext</code></a>.</p>\n\n<p>So you might be able to do this</p>\n\n<pre><code>ApplicationContext ctx = ...;\nif (ctx instanceof ConfigurableApplicationContext) {\n    ((ConfigurableApplicationContext)ctx).registerShutdownHook();\n}\n</code></pre>\n\n<p>Alternatively, you could simply call <code>((ConfigurableApplicationContext)ctx).close()</code> yourself while closing down the application or using your own shutdown hook:</p>\n\n<pre><code>Runtime.getRuntime().addShutdownHook(new Thread() {\n    public void run(){\n       if (ctx instanceof ConfigurableApplicationContext) {\n           ((ConfigurableApplicationContext)ctx).close();\n       }\n    }\n });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2689639,"reputation":1575,"user_id":2323234,"accept_rate":20,"display_name":"MRK187"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697468346,"creation_date":1426102626,"answer_id":28995797,"question_id":1827212,"body_markdown":"So many upvotes, but the second statement is totally wrong, a `System.exit` in java would terminate the spring before ever getting to your shutdownhook, the right way to go are these 4 ways\r\n\r\n1. InitializingBean and DisposableBean callback interfaces\r\n2. Other Aware interfaces for specific behavior\r\n3. custom init() and destroy() methods in bean configuration file\r\n4. @PostConstruct and @PreDestroy annotations\r\n\r\nSee [here](http://howtodoinjava.com/2013/05/07/spring-bean-life-cycle/)!\r\n","title":"Registering a shutdown hook in Spring 2.5","body":"<p>So many upvotes, but the second statement is totally wrong, a <code>System.exit</code> in java would terminate the spring before ever getting to your shutdownhook, the right way to go are these 4 ways</p>\n<ol>\n<li>InitializingBean and DisposableBean callback interfaces</li>\n<li>Other Aware interfaces for specific behavior</li>\n<li>custom init() and destroy() methods in bean configuration file</li>\n<li>@PostConstruct and @PreDestroy annotations</li>\n</ol>\n<p>See <a href=\"http://howtodoinjava.com/2013/05/07/spring-bean-life-cycle/\" rel=\"nofollow noreferrer\">here</a>!</p>\n"}],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17711,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":1827541,"answer_count":2,"score":9,"last_activity_date":1697468346,"creation_date":1259684125,"question_id":1827212,"body_markdown":"I have a spring application which is not calling bean destroy methods on shutdown. I&#39;ve seen references to this being due to instantiation in a beanRefFactory, and that this can be circumvented through manually calling registerShutdownHook() on an the application context.This method seems to have disappeared from spring between versions 2.0 - 2.5. \r\n\r\nCan someone point me in the direction of how this is now done?\r\n\r\nThanks.","title":"Registering a shutdown hook in Spring 2.5","body":"<p>I have a spring application which is not calling bean destroy methods on shutdown. I've seen references to this being due to instantiation in a beanRefFactory, and that this can be circumvented through manually calling registerShutdownHook() on an the application context.This method seems to have disappeared from spring between versions 2.0 - 2.5. </p>\n\n<p>Can someone point me in the direction of how this is now done?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":12638355,"reputation":9413,"user_id":9186783,"display_name":"cameron1024"},"score":0,"creation_date":1564410302,"post_id":57255774,"comment_id":101011361,"body_markdown":"You probably mean &quot;dynamic&quot;","body":"You probably mean &quot;dynamic&quot;"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1564410304,"post_id":57255774,"comment_id":101011362,"body_markdown":"Using `ListView&lt;Button&gt;` and `ListView&lt;TextField&gt;` are bad ideas. You should have something like `ListView&lt;POJO&gt;` or `ListView&lt;String&gt;`. Then use the `CellFactory` to create the Button and TextField.","body":"Using <code>ListView&lt;Button&gt;</code> and <code>ListView&lt;TextField&gt;</code> are bad ideas. You should have something like <code>ListView&lt;POJO&gt;</code> or <code>ListView&lt;String&gt;</code>. Then use the <code>CellFactory</code> to create the Button and TextField."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697467830,"creation_date":1564412253,"answer_id":57256420,"question_id":57255774,"body_markdown":"Here is a demo that adds a `Button` and `TextField` to `ListView`. The [POJO][1] I created named `CellData` just keeps track of the `TextField`s prompt text and the `Button`s text. The key to this is using a `CellFactory`.\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.ListCell;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Priority;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    /**\r\n     *\r\n     * @author blj0011\r\n     */\r\n    public class JavaFXTestingGround extends Application{\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            ListView&lt;CellData&gt; listView = new ListView();\r\n            listView.setCellFactory((ListView&lt;CellData&gt; param) -&gt; {\r\n                ListCell&lt;CellData&gt; cell = new ListCell&lt;CellData&gt;() {\r\n                    TextField textField = new TextField();\r\n                    Button button = new Button();\r\n                    HBox hBox = new HBox(textField, button);\r\n                    {\r\n                        HBox.setHgrow(textField, Priority.ALWAYS);\r\n                    }\r\n    \r\n                    @Override\r\n                    protected void updateItem(CellData item, boolean empty) {\r\n                        super.updateItem(item, empty);\r\n                        if (item != null) {\r\n                            textField.setPromptText(item.getTextFieldPromptText());\r\n                            button.setText(item.getButtonText());\r\n                            button.setOnAction((actionEvent) -&gt; {\r\n                                System.out.println(&quot;You clicked &quot; + button.getText() + &quot;. TextField Prompt text is &quot; + textField.getPromptText() + &quot;.&quot;);\r\n                            });\r\n    \r\n                            setGraphic(hBox);\r\n                        } else {\r\n                            setGraphic(null);\r\n                        }\r\n                    }\r\n                };\r\n                return cell;\r\n            });        \r\n    \r\n            AtomicInteger i = new AtomicInteger(1);        \r\n            Button button = new Button(&quot;Add Item&quot;);\r\n            button.setOnAction((event) -&gt; {\r\n                listView.getItems().add(new CellData(&quot;Prompt Text: &quot; + i.get(), &quot;Button: &quot; + i.getAndIncrement()));\r\n            });\r\n    \r\n            VBox root = new VBox(button, listView);\r\n            stage.setScene(new Scene(root));\r\n            stage.show();\r\n        }    \r\n    }\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Plain_old_Java_object\r\n  [2]: https://i.stack.imgur.com/zUvXT.png","title":"JavaFX : How to dynamically add textfields and buttons on user input","body":"<p>Here is a demo that adds a <code>Button</code> and <code>TextField</code> to <code>ListView</code>. The <a href=\"https://en.m.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">POJO</a> I created named <code>CellData</code> just keeps track of the <code>TextField</code>s prompt text and the <code>Button</code>s text. The key to this is using a <code>CellFactory</code>.</p>\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n/**\n *\n * @author blj0011\n */\npublic class JavaFXTestingGround extends Application{\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        ListView&lt;CellData&gt; listView = new ListView();\n        listView.setCellFactory((ListView&lt;CellData&gt; param) -&gt; {\n            ListCell&lt;CellData&gt; cell = new ListCell&lt;CellData&gt;() {\n                TextField textField = new TextField();\n                Button button = new Button();\n                HBox hBox = new HBox(textField, button);\n                {\n                    HBox.setHgrow(textField, Priority.ALWAYS);\n                }\n\n                @Override\n                protected void updateItem(CellData item, boolean empty) {\n                    super.updateItem(item, empty);\n                    if (item != null) {\n                        textField.setPromptText(item.getTextFieldPromptText());\n                        button.setText(item.getButtonText());\n                        button.setOnAction((actionEvent) -&gt; {\n                            System.out.println(&quot;You clicked &quot; + button.getText() + &quot;. TextField Prompt text is &quot; + textField.getPromptText() + &quot;.&quot;);\n                        });\n\n                        setGraphic(hBox);\n                    } else {\n                        setGraphic(null);\n                    }\n                }\n            };\n            return cell;\n        });        \n\n        AtomicInteger i = new AtomicInteger(1);        \n        Button button = new Button(&quot;Add Item&quot;);\n        button.setOnAction((event) -&gt; {\n            listView.getItems().add(new CellData(&quot;Prompt Text: &quot; + i.get(), &quot;Button: &quot; + i.getAndIncrement()));\n        });\n\n        VBox root = new VBox(button, listView);\n        stage.setScene(new Scene(root));\n        stage.show();\n    }    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zUvXT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUvXT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15755958,"reputation":43,"user_id":11369132,"display_name":"Martin Strotbek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57256420,"answer_count":1,"score":2,"last_activity_date":1697467830,"creation_date":1564409921,"question_id":57255774,"body_markdown":"I&#39;m a bit new to Java and I&#39;m trying to make an User Interface in JavaFX that dynamically adds a TextField and an &quot;edit&quot; Button next to it whenever the user presses a &quot;+&quot; button.\r\nI understand that it is a good idea to try and store these buttons and text fields in a list, but I&#39;m not sure how to have them put on the interface\r\n\r\n```java\r\nListView&lt;Button&gt; dinamicButtons = new ListView&lt;Button&gt;();\r\nListView&lt;TextField&gt; dinamicTextFields = new ListView&lt;TextField&gt;();\r\nint quantityOfDinamicFieldsAdded =0;\r\n Button add= new Button (&quot;+&quot;);\r\n        add.setOnAction(e -&gt; {\r\n        \tdinamicButtons .add(quantityOfDinamicFieldsAdded , new Button(&quot;Edit&quot;));\r\n        \tdinamicTextFields .add(quantityOfDinamicFieldsAdded , new TextField(&quot;nome do Componente&quot;));\r\n        \tquantityOfDinamicFieldsAdded ++;\r\n        \t//remove dynamically added buttons and text fields\r\n        \tfor (int i=0 ; i&lt;quantityOfDinamicFieldsAdded ; i++){\r\n        \t\t//add them all back\r\n        \t}\r\n        });\r\n```","title":"JavaFX : How to dynamically add textfields and buttons on user input","body":"<p>I'm a bit new to Java and I'm trying to make an User Interface in JavaFX that dynamically adds a TextField and an &quot;edit&quot; Button next to it whenever the user presses a &quot;+&quot; button.\nI understand that it is a good idea to try and store these buttons and text fields in a list, but I'm not sure how to have them put on the interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>ListView&lt;Button&gt; dinamicButtons = new ListView&lt;Button&gt;();\nListView&lt;TextField&gt; dinamicTextFields = new ListView&lt;TextField&gt;();\nint quantityOfDinamicFieldsAdded =0;\n Button add= new Button (&quot;+&quot;);\n        add.setOnAction(e -&gt; {\n            dinamicButtons .add(quantityOfDinamicFieldsAdded , new Button(&quot;Edit&quot;));\n            dinamicTextFields .add(quantityOfDinamicFieldsAdded , new TextField(&quot;nome do Componente&quot;));\n            quantityOfDinamicFieldsAdded ++;\n            //remove dynamically added buttons and text fields\n            for (int i=0 ; i&lt;quantityOfDinamicFieldsAdded ; i++){\n                //add them all back\n            }\n        });\n</code></pre>\n"},{"tags":["java","multithreading","software-design"],"comments":[{"owner":{"account_id":5399448,"reputation":1859,"user_id":4847311,"display_name":"Sven Nilsson"},"score":0,"creation_date":1697466142,"post_id":77302588,"comment_id":136280015,"body_markdown":"Nice images and explanation, but I think your question is a bit too broad","body":"Nice images and explanation, but I think your question is a bit too broad"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1697466486,"post_id":77302588,"comment_id":136280109,"body_markdown":"You should avoid distracting yourself with irrelevant details. The file and its 4000 lines are irrelevant. Your question is about dealing with 4000&#215;4 HTTP requests. There is no point in breaking the file into chunks or use threading policies aligned at the CPU cores when your actual task is about I/O. And its entirely unclear what stack error you got with more threads.","body":"You should avoid distracting yourself with irrelevant details. The file and its 4000 lines are irrelevant. Your question is about dealing with 4000&#215;4 HTTP requests. There is no point in breaking the file into chunks or use threading policies aligned at the CPU cores when your actual task is about I/O. And its entirely unclear what stack error you got with more threads."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1697488668,"post_id":77302588,"comment_id":136283780,"body_markdown":"I think It is..  because every line has unavoidable 4 http requests and I cannot execute the lines sequentially. I don&#39;t exactly remember the stack error, but when I googled it I realized it is because of the thread count more than what system can handle.","body":"I think It is..  because every line has unavoidable 4 http requests and I cannot execute the lines sequentially. I don&#39;t exactly remember the stack error, but when I googled it I realized it is because of the thread count more than what system can handle."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697634030,"post_id":77302588,"comment_id":136304318,"body_markdown":"You did it again. So I have to tell you again, your issue is *dealing with 4000&#215;4 HTTP requests*. It doesnt matter whether your program sends these HTTP requests while processing lines of a text file or because little gnomes from Alpha Centauri told it to do so. You keep focusing on the irrelevant thing and are over-complicating the design. On the other hand, you did not post anything about the relevant operation. How do you send these HTTP requests, just using `URL`, using the builtin `HttpClient`, or a 3rd party library? Some frameworks do already deal with concurrency and load balancing.","body":"You did it again. So I have to tell you again, your issue is <i>dealing with 4000&#215;4 HTTP requests</i>. It doesnt matter whether your program sends these HTTP requests while processing lines of a text file or because little gnomes from Alpha Centauri told it to do so. You keep focusing on the irrelevant thing and are over-complicating the design. On the other hand, you did not post anything about the relevant operation. How do you send these HTTP requests, just using <code>URL</code>, using the builtin <code>HttpClient</code>, or a 3rd party library? Some frameworks do already deal with concurrency and load balancing."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1697637756,"post_id":77302588,"comment_id":136305189,"body_markdown":"I use Spring RestTemplate backed by apache HttpClient. I am still not clear on the concurrency that we can apply on HTTPClient. All 4 Http calls are not independent.","body":"I use Spring RestTemplate backed by apache HttpClient. I am still not clear on the concurrency that we can apply on HTTPClient. All 4 Http calls are not independent."}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1697466582,"creation_date":1697466083,"answer_id":77302768,"question_id":77302588,"body_markdown":"If you need four different diagrams to convey a solutation for iterating a file and doing two http requests per line, your solution might be excessively complicated ...\r\n\r\nRather than trying to prune the excess complexity, let&#39;s take this from other direction: Start with the simplest possible implementation, and make it more complicated until it meets the performance target.\r\n\r\nThe simplest solution is this:\r\n\r\n    for (var line : lines) {\r\n        var data = parse(line);\r\n        var firstResponse = firstCall(data);\r\n        var secondResponse = secondCall(data);\r\n        var c = compare(firstResponse, secondResponse);\r\n        var result = ...;\r\n    }\r\n\r\nThis solution has an execution time of 4000 * (0.5 + 0.5) = 4000 seconds. The big multiplier is the 4000, so let&#39;s tackle that:\r\n\r\n    var executor = ...;\r\n    var futures = new ArrayList&lt;Future&lt;Result&gt;&gt;();\r\n    for (var line : lines) {\r\n        var data = parse(line);\r\n        futures.add(executor.submit(() -&gt; {\r\n            var firstResponse = firstCall(data);\r\n            var secondResponse = secondCall(data);\r\n            var c = compare(firstResponse, secondResponse);\r\n            return ...;\r\n        }));\r\n    }\r\n\r\n    for (var future : futures) {\r\n        var result = future.get();\r\n        // do something with result\r\n    }\r\n    \r\nThis code had execution time (0.5 + 0.5) seconds, if you have enough threads to send 4000 requests in parallel. In practice, the limiting factor will be the other system.\r\n\r\nAnd so, we are done. There is no need to parse the data in separate threads, because parsing is fast. There is no need to send the two requests in separate threads, because it only buys us half a second.\r\n\r\nIn sizing the executor, we&#39;ll want to ensure that we don&#39;t overwhelm the other system. It might be advisable to ask whoever is operating these services how many requests per second you&#39;re allowed to send, and then pick a thread number in a safe range. \r\n\r\n(If the file were too large to fit into memory, you would need to ensure that only a limited number of lines is being processed at a time, streaming both the file and response. But since 4000 lines easily fit into memory, that&#39;s not necessary here)","title":"Process a file with 4000 lines using Java threads","body":"<p>If you need four different diagrams to convey a solutation for iterating a file and doing two http requests per line, your solution might be excessively complicated ...</p>\n<p>Rather than trying to prune the excess complexity, let's take this from other direction: Start with the simplest possible implementation, and make it more complicated until it meets the performance target.</p>\n<p>The simplest solution is this:</p>\n<pre><code>for (var line : lines) {\n    var data = parse(line);\n    var firstResponse = firstCall(data);\n    var secondResponse = secondCall(data);\n    var c = compare(firstResponse, secondResponse);\n    var result = ...;\n}\n</code></pre>\n<p>This solution has an execution time of 4000 * (0.5 + 0.5) = 4000 seconds. The big multiplier is the 4000, so let's tackle that:</p>\n<pre><code>var executor = ...;\nvar futures = new ArrayList&lt;Future&lt;Result&gt;&gt;();\nfor (var line : lines) {\n    var data = parse(line);\n    futures.add(executor.submit(() -&gt; {\n        var firstResponse = firstCall(data);\n        var secondResponse = secondCall(data);\n        var c = compare(firstResponse, secondResponse);\n        return ...;\n    }));\n}\n\nfor (var future : futures) {\n    var result = future.get();\n    // do something with result\n}\n</code></pre>\n<p>This code had execution time (0.5 + 0.5) seconds, if you have enough threads to send 4000 requests in parallel. In practice, the limiting factor will be the other system.</p>\n<p>And so, we are done. There is no need to parse the data in separate threads, because parsing is fast. There is no need to send the two requests in separate threads, because it only buys us half a second.</p>\n<p>In sizing the executor, we'll want to ensure that we don't overwhelm the other system. It might be advisable to ask whoever is operating these services how many requests per second you're allowed to send, and then pick a thread number in a safe range.</p>\n<p>(If the file were too large to fit into memory, you would need to ensure that only a limited number of lines is being processed at a time, streaming both the file and response. But since 4000 lines easily fit into memory, that's not necessary here)</p>\n"}],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1697467794,"creation_date":1697464574,"question_id":77302588,"body_markdown":"I am trying to process a 4000-line file with in 2 minutes using a java program. I cannot post the code here, but Ill try my level best to describe it. \r\n\r\nProcessing of each line involves 2 sets of HTTP requests with each set containing 2 sequential/dependent HTTP requests. Each of these requests will take approximately 300  500 milli seconds. I need to compare the response of both the sets. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs depicted above, the sets are independent of each other. Hence, I decided to start each of them as two separate threads from a pool: internalExecutorService. Lets call this process as LINE_PROCSSOR.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    ExecutorService internalExecutorService = Executors.newFixedThreadPool(90);\r\n\r\n\r\nI need to deal with multiple such lines. So, each line is processed by different threads. Second thread pool (lineExecutorService) supplies threads for that. Lets call this process as LINE_LIST_PROCESSOR\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    ExecutorService lineExecutorService = Executors.newFixedThreadPool(40);\r\n\r\nTo deal with 4000 such lines, I decided to break them into chunks of 500 each. Then each chunk is processed in separate thread. A new thread pool was created for that. I will call it as chunkExecutorService.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n    ExecutorService chunkExecutorService = Executors.newFixedThreadPool(7);\r\n\r\nThe pool sizes are selected based on,\r\n\r\nchunkExecutorService = 7.   I use a CPU with 8 cores. So decided to go with 7. 1 is for main thread. lineExecutorService = 40. Random select based on various runs. I ended up with stack error with more threads. internalExecutorService = 90. Just the double of above with some buffer threads as each line needs 2 threads.\r\n\r\nI did a POC with the above setup. It did work locally. But I am not at all convinced with the way I have designed it and I believe my threads pool size selection doesnt make any sense. It may not work well when deployed to server. \r\n[Note: I did not opted for java parallel streams as I felt ExecutorService gives better handle of thread pool].\r\nI haven&#39;t worked with threads extensively, so I am looking for an expert advice from you to evaluate my design and suggest if there are better ways to deal with it.\r\n\r\n*************** UPDATE **************\r\n\r\nThis is a server side application that will have to deal with concurrent (1-5 requests at the same time) file processing requests. \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qzlm1.png\r\n  [2]: https://i.stack.imgur.com/lyFmx.png\r\n  [3]: https://i.stack.imgur.com/pzixv.png\r\n  [4]: https://i.stack.imgur.com/L08sb.png","title":"Process a file with 4000 lines using Java threads","body":"<p>I am trying to process a 4000-line file with in 2 minutes using a java program. I cannot post the code here, but Ill try my level best to describe it.</p>\n<p>Processing of each line involves 2 sets of HTTP requests with each set containing 2 sequential/dependent HTTP requests. Each of these requests will take approximately 300  500 milli seconds. I need to compare the response of both the sets.</p>\n<p><a href=\"https://i.stack.imgur.com/qzlm1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzlm1.png\" alt=\"enter image description here\" /></a></p>\n<p>As depicted above, the sets are independent of each other. Hence, I decided to start each of them as two separate threads from a pool: internalExecutorService. Lets call this process as LINE_PROCSSOR.</p>\n<p><a href=\"https://i.stack.imgur.com/lyFmx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lyFmx.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>ExecutorService internalExecutorService = Executors.newFixedThreadPool(90);\n</code></pre>\n<p>I need to deal with multiple such lines. So, each line is processed by different threads. Second thread pool (lineExecutorService) supplies threads for that. Lets call this process as LINE_LIST_PROCESSOR</p>\n<p><a href=\"https://i.stack.imgur.com/pzixv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pzixv.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>ExecutorService lineExecutorService = Executors.newFixedThreadPool(40);\n</code></pre>\n<p>To deal with 4000 such lines, I decided to break them into chunks of 500 each. Then each chunk is processed in separate thread. A new thread pool was created for that. I will call it as chunkExecutorService.</p>\n<p><a href=\"https://i.stack.imgur.com/L08sb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L08sb.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>ExecutorService chunkExecutorService = Executors.newFixedThreadPool(7);\n</code></pre>\n<p>The pool sizes are selected based on,</p>\n<p>chunkExecutorService = 7.   I use a CPU with 8 cores. So decided to go with 7. 1 is for main thread. lineExecutorService = 40. Random select based on various runs. I ended up with stack error with more threads. internalExecutorService = 90. Just the double of above with some buffer threads as each line needs 2 threads.</p>\n<p>I did a POC with the above setup. It did work locally. But I am not at all convinced with the way I have designed it and I believe my threads pool size selection doesnt make any sense. It may not work well when deployed to server.\n[Note: I did not opted for java parallel streams as I felt ExecutorService gives better handle of thread pool].\nI haven't worked with threads extensively, so I am looking for an expert advice from you to evaluate my design and suggest if there are better ways to deal with it.</p>\n<p>*************** UPDATE **************</p>\n<p>This is a server side application that will have to deal with concurrent (1-5 requests at the same time) file processing requests.</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":7318394,"reputation":508,"user_id":5575169,"display_name":"Dipak Prajapati"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697467610,"creation_date":1598422262,"answer_id":63591485,"question_id":63583946,"body_markdown":"With the help of `ServletContextListener`, `LifecycleListener` and reflection I am able to achieve what I was expecting.\r\n\r\nSo here we are first capturing event of `ServletContextListener` to get the `ServletContext` and then using reflection and we are accessing private fields to add listener in `ServletContext` implementation of Tomcat\r\n\r\nCustomServletListener.java\r\n\r\n    import org.apache.catalina.core.ApplicationContext;\r\n    import org.apache.catalina.core.ApplicationContextFacade;\r\n    import org.apache.catalina.core.StandardContext;\r\n    \r\n    import javax.servlet.ServletContextEvent;\r\n    import javax.servlet.ServletContextListener;\r\n    import javax.servlet.http.HttpSession;\r\n    import javax.servlet.http.HttpSessionEvent;\r\n    import javax.servlet.http.HttpSessionListener;\r\n    import java.lang.reflect.Field;\r\n    \r\n    public final class CustomServletListener implements ServletContextListener {\r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n        }\r\n\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            addLifeCycleListener(event);\r\n        }\r\n\r\n        /**\r\n         * Tomcat Implementation of ServletContext in ApplicationContextFacade, ApplicationContext,StandardContext as to addListener is located in StandardContext \r\n         * @param event\r\n         */\r\n        private void addLifeCycleListener(ServletContextEvent event) {\r\n            ApplicationContextFacade source = (ApplicationContextFacade) event.getSource();\r\n            ApplicationContext objApplicationContext=get(source, &quot;context&quot;);\r\n            StandardContext objStandardContext = get(objApplicationContext, &quot;context&quot;);\r\n            objStandardContext.addLifecycleListener(new TomcatListener());\r\n        }\r\n\r\n        /**\r\n         * Get class field using reflection as it is no way to direct access\r\n         * @param object\r\n         * @param fieldName\r\n         * @param &lt;V&gt;\r\n         * @return\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private &lt;V&gt; V get(Object object, String fieldName) {\r\n            Class&lt;?&gt; clazz = object.getClass();\r\n            Field field = null;\r\n            boolean wasAccessible = false;\r\n            while (clazz != null) {\r\n                try {\r\n                    field = clazz.getDeclaredField(fieldName);\r\n                    wasAccessible = field.isAccessible();\r\n                    if (!wasAccessible) {\r\n                        field.setAccessible(true);\r\n                    }\r\n                    return (V) field.get(object);\r\n                } catch (NoSuchFieldException e) {\r\n                    clazz = clazz.getSuperclass();\r\n                } catch (IllegalAccessException e) {\r\n                    throw new IllegalStateException(e);\r\n                } finally {\r\n                    // Revert the Accessibility flag to previous state\r\n                    if(null != field &amp;&amp; field.isAccessible() != wasAccessible){\r\n                        field.setAccessible(wasAccessible); \r\n                    }\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\nTomcatListener.java\r\n\r\n    \r\n    import org.apache.catalina.Lifecycle;\r\n    import org.apache.catalina.LifecycleEvent;\r\n    import org.apache.catalina.LifecycleListener;\r\n    \r\n    public class TomcatListener implements LifecycleListener {\r\n        @Override\r\n        public void lifecycleEvent(LifecycleEvent event) {\r\n            if (Lifecycle.AFTER_START_EVENT.equals(event.getType())) {\r\n                System.out.print(&quot;Tomcat successfully started&quot;);\r\n            }\r\n        }\r\n    }","title":"Add tomcat listener LifecycleListener without changing server.xml or tomcat/web.xml","body":"<p>With the help of <code>ServletContextListener</code>, <code>LifecycleListener</code> and reflection I am able to achieve what I was expecting.</p>\n<p>So here we are first capturing event of <code>ServletContextListener</code> to get the <code>ServletContext</code> and then using reflection and we are accessing private fields to add listener in <code>ServletContext</code> implementation of Tomcat</p>\n<p>CustomServletListener.java</p>\n<pre><code>import org.apache.catalina.core.ApplicationContext;\nimport org.apache.catalina.core.ApplicationContextFacade;\nimport org.apache.catalina.core.StandardContext;\n\nimport javax.servlet.ServletContextEvent;\nimport javax.servlet.ServletContextListener;\nimport javax.servlet.http.HttpSession;\nimport javax.servlet.http.HttpSessionEvent;\nimport javax.servlet.http.HttpSessionListener;\nimport java.lang.reflect.Field;\n\npublic final class CustomServletListener implements ServletContextListener {\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        addLifeCycleListener(event);\n    }\n\n    /**\n     * Tomcat Implementation of ServletContext in ApplicationContextFacade, ApplicationContext,StandardContext as to addListener is located in StandardContext \n     * @param event\n     */\n    private void addLifeCycleListener(ServletContextEvent event) {\n        ApplicationContextFacade source = (ApplicationContextFacade) event.getSource();\n        ApplicationContext objApplicationContext=get(source, &quot;context&quot;);\n        StandardContext objStandardContext = get(objApplicationContext, &quot;context&quot;);\n        objStandardContext.addLifecycleListener(new TomcatListener());\n    }\n\n    /**\n     * Get class field using reflection as it is no way to direct access\n     * @param object\n     * @param fieldName\n     * @param &lt;V&gt;\n     * @return\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private &lt;V&gt; V get(Object object, String fieldName) {\n        Class&lt;?&gt; clazz = object.getClass();\n        Field field = null;\n        boolean wasAccessible = false;\n        while (clazz != null) {\n            try {\n                field = clazz.getDeclaredField(fieldName);\n                wasAccessible = field.isAccessible();\n                if (!wasAccessible) {\n                    field.setAccessible(true);\n                }\n                return (V) field.get(object);\n            } catch (NoSuchFieldException e) {\n                clazz = clazz.getSuperclass();\n            } catch (IllegalAccessException e) {\n                throw new IllegalStateException(e);\n            } finally {\n                // Revert the Accessibility flag to previous state\n                if(null != field &amp;&amp; field.isAccessible() != wasAccessible){\n                    field.setAccessible(wasAccessible); \n                }\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>TomcatListener.java</p>\n<pre><code>import org.apache.catalina.Lifecycle;\nimport org.apache.catalina.LifecycleEvent;\nimport org.apache.catalina.LifecycleListener;\n\npublic class TomcatListener implements LifecycleListener {\n    @Override\n    public void lifecycleEvent(LifecycleEvent event) {\n        if (Lifecycle.AFTER_START_EVENT.equals(event.getType())) {\n            System.out.print(&quot;Tomcat successfully started&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7318394,"reputation":508,"user_id":5575169,"display_name":"Dipak Prajapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697467610,"creation_date":1598375599,"question_id":63583946,"body_markdown":"I have below code which required below entry in server.xml and file must placed in tomcat/lib. \r\n\r\nI want to add tomcat listener and ***do not want*** to make any changes in **tomcat server configuration**. Is there any way I can achieve this?\r\n\r\nNote : I have already tried &quot;ServletContextListener&quot; but it is not accurate as LifecycleListener.\r\n\r\nServer.xml \r\n\r\n    &lt;Listener className=&quot;com.tomcat.listener.TomcatListener&quot;/&gt;\r\n\r\nJava file\r\n\r\n    package com.tomcat.listener;\r\n\r\n    import org.apache.catalina.Lifecycle;\r\n    import org.apache.catalina.LifecycleEvent;\r\n    import org.apache.catalina.LifecycleListener;\r\n    \r\n    public class TomcatListener implements LifecycleListener {\r\n        @Override\r\n        public void lifecycleEvent(LifecycleEvent event) {\r\n            if(Lifecycle.AFTER_START_EVENT.equals(event.getType())){\r\n                System.out.print(&quot;Tomcat successfully started&quot;);\r\n            }\r\n        }\r\n    }","title":"Add tomcat listener LifecycleListener without changing server.xml or tomcat/web.xml","body":"<p>I have below code which required below entry in server.xml and file must placed in tomcat/lib.</p>\n<p>I want to add tomcat listener and <em><strong>do not want</strong></em> to make any changes in <strong>tomcat server configuration</strong>. Is there any way I can achieve this?</p>\n<p>Note : I have already tried &quot;ServletContextListener&quot; but it is not accurate as LifecycleListener.</p>\n<p>Server.xml</p>\n<pre><code>&lt;Listener className=&quot;com.tomcat.listener.TomcatListener&quot;/&gt;\n</code></pre>\n<p>Java file</p>\n<pre><code>package com.tomcat.listener;\n\nimport org.apache.catalina.Lifecycle;\nimport org.apache.catalina.LifecycleEvent;\nimport org.apache.catalina.LifecycleListener;\n\npublic class TomcatListener implements LifecycleListener {\n    @Override\n    public void lifecycleEvent(LifecycleEvent event) {\n        if(Lifecycle.AFTER_START_EVENT.equals(event.getType())){\n            System.out.print(&quot;Tomcat successfully started&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697458875,"creation_date":1697458875,"answer_id":77301918,"question_id":77301528,"body_markdown":"TestCustomIntrospector2 :\r\n\r\n    public class TestCustomIntrospector2 extends JacksonAnnotationIntrospector {\r\n    \r\n            @Override\r\n            public JsonIgnoreProperties.Value findPropertyIgnoralByName(MapperConfig&lt;?&gt; config, Annotated a){\r\n                return JsonIgnoreProperties.Value.empty();\r\n            }\r\n    }\r\n\r\n","title":"How can i ignore @JsonIgnoreProperties in ObjectMapper","body":"<p>TestCustomIntrospector2 :</p>\n<pre><code>public class TestCustomIntrospector2 extends JacksonAnnotationIntrospector {\n\n        @Override\n        public JsonIgnoreProperties.Value findPropertyIgnoralByName(MapperConfig&lt;?&gt; config, Annotated a){\n            return JsonIgnoreProperties.Value.empty();\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28677842,"reputation":11,"user_id":21959607,"display_name":"Noah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697467484,"creation_date":1697467484,"answer_id":77302943,"question_id":77301528,"body_markdown":"You are making your property available for deserialization (json to object) but not for serialization (object to json) by using: \r\n\r\n    allowSetters=true\r\n\r\nIf you want to be able to convert your object to json, you want to serialize that object, and then you should use allowGetters=true instead:\r\n\r\n    @JsonIgnoreProperties(value = {&quot;myProperty&quot;}, allowGetters = true)\r\n    public class Test {\r\n        private String myProperty;\r\n\r\n        // getter and setter \r\n    }\r\n\r\nAnd for improved readability:\r\n\r\n    public class Test {\r\n\r\n        @JsonIgnoreProperties(allowGetters = true)\r\n        private String myProperty;\r\n\r\n        // getter and setter \r\n    }\r\n\r\nIf you want to serialize and deserialize you should get rid of the annotation.","title":"How can i ignore @JsonIgnoreProperties in ObjectMapper","body":"<p>You are making your property available for deserialization (json to object) but not for serialization (object to json) by using:</p>\n<pre><code>allowSetters=true\n</code></pre>\n<p>If you want to be able to convert your object to json, you want to serialize that object, and then you should use allowGetters=true instead:</p>\n<pre><code>@JsonIgnoreProperties(value = {&quot;myProperty&quot;}, allowGetters = true)\npublic class Test {\n    private String myProperty;\n\n    // getter and setter \n}\n</code></pre>\n<p>And for improved readability:</p>\n<pre><code>public class Test {\n\n    @JsonIgnoreProperties(allowGetters = true)\n    private String myProperty;\n\n    // getter and setter \n}\n</code></pre>\n<p>If you want to serialize and deserialize you should get rid of the annotation.</p>\n"}],"owner":{"account_id":6318685,"reputation":41,"user_id":4907658,"display_name":"Pooria Alimardani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77301918,"answer_count":2,"score":0,"last_activity_date":1697467484,"creation_date":1697455090,"question_id":77301528,"body_markdown":"I have following class in my Java application:\r\n\r\n```\r\n@JsonIgnoreProperties(value = {&quot;myProperty&quot;}, allowSetters = true)\r\npublic class Test {\r\n\r\n    private String myProperty;\r\n\r\n// getter and setter \r\n}\r\n```\r\n\r\nI want convert this object to json with ObjectMapper, but &#39;myProperty&#39; does not convert and i want ignore that annotation(@JsonIgnoreProperties) but remember that i want still use another annotation.\r\nbefore ask question i try fix it and define kind of custom Introspector and setAnnotationIntrospector to my object mapper separately and test it but problem not resolve:\r\n\r\n```\r\npublic class TestCustomIntrospector1 extends JacksonAnnotationIntrospector {\r\n\r\n    @Override\r\n    public PropertyName findNameForSerialization(Annotated a) {\r\n        if (a.getAnnotated().equals(JsonIgnoreProperties.class)) {\r\n            return null;\r\n        }\r\n        return super.findNameForSerialization(a);\r\n    }\r\n}\r\n\r\npublic class TestMain  {\r\n\r\n    public static void main(String[] args) {\r\n        Test obj = new Test();\r\n        obj.setMyProperty(&quot;this is for test&quot;);\r\n        try {\r\n            String json = new ObjectMapper()\r\n                    .setAnnotationIntrospector(new TestCustomIntrospector1())\r\n                    .writerWithDefaultPrettyPrinter().writeValueAsString(obj);\r\n            System.out.println(json);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nanother Introspector :\r\n\r\n```\r\npublic class TestCustomIntrospector2 extends JacksonAnnotationIntrospector {\r\n\r\n    @Override\r\n    public boolean isAnnotationBundle(Annotation ann) {\r\n        if (ann.annotationType() == JsonIgnoreProperties.class) {\r\n            return false;\r\n        }\r\n        return super.isAnnotationBundle(ann);\r\n    }\r\n\r\n    @Override\r\n    public boolean hasIgnoreMarker(AnnotatedMember m) {\r\n        JsonIgnoreProperties ignoreProperties = m.getAnnotation(JsonIgnoreProperties.class);\r\n        if (ignoreProperties != null) {\r\n            return ignoreProperties.ignoreUnknown();\r\n        }\r\n        return super.hasIgnoreMarker(m);\r\n    }\r\n}\r\n\r\npublic class TestMain  {\r\n\r\n    public static void main(String[] args) {\r\n        Test obj = new Test();\r\n        obj.setMyProperty(&quot;this is for test&quot;);\r\n        try {\r\n            String json = new ObjectMapper()\r\n                    .setAnnotationIntrospector(new TestCustomIntrospector2())\r\n                    .writerWithDefaultPrettyPrinter().writeValueAsString(obj);\r\n            System.out.println(json);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI want following result:\r\n\r\n```\r\n{\r\n  &quot;myProperty&quot;: &quot;this is for test&quot;\r\n}\r\n```\r\n\r\ncan any one help me?\r\n","title":"How can i ignore @JsonIgnoreProperties in ObjectMapper","body":"<p>I have following class in my Java application:</p>\n<pre><code>@JsonIgnoreProperties(value = {&quot;myProperty&quot;}, allowSetters = true)\npublic class Test {\n\n    private String myProperty;\n\n// getter and setter \n}\n</code></pre>\n<p>I want convert this object to json with ObjectMapper, but 'myProperty' does not convert and i want ignore that annotation(@JsonIgnoreProperties) but remember that i want still use another annotation.\nbefore ask question i try fix it and define kind of custom Introspector and setAnnotationIntrospector to my object mapper separately and test it but problem not resolve:</p>\n<pre><code>public class TestCustomIntrospector1 extends JacksonAnnotationIntrospector {\n\n    @Override\n    public PropertyName findNameForSerialization(Annotated a) {\n        if (a.getAnnotated().equals(JsonIgnoreProperties.class)) {\n            return null;\n        }\n        return super.findNameForSerialization(a);\n    }\n}\n\npublic class TestMain  {\n\n    public static void main(String[] args) {\n        Test obj = new Test();\n        obj.setMyProperty(&quot;this is for test&quot;);\n        try {\n            String json = new ObjectMapper()\n                    .setAnnotationIntrospector(new TestCustomIntrospector1())\n                    .writerWithDefaultPrettyPrinter().writeValueAsString(obj);\n            System.out.println(json);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n</code></pre>\n<p>another Introspector :</p>\n<pre><code>public class TestCustomIntrospector2 extends JacksonAnnotationIntrospector {\n\n    @Override\n    public boolean isAnnotationBundle(Annotation ann) {\n        if (ann.annotationType() == JsonIgnoreProperties.class) {\n            return false;\n        }\n        return super.isAnnotationBundle(ann);\n    }\n\n    @Override\n    public boolean hasIgnoreMarker(AnnotatedMember m) {\n        JsonIgnoreProperties ignoreProperties = m.getAnnotation(JsonIgnoreProperties.class);\n        if (ignoreProperties != null) {\n            return ignoreProperties.ignoreUnknown();\n        }\n        return super.hasIgnoreMarker(m);\n    }\n}\n\npublic class TestMain  {\n\n    public static void main(String[] args) {\n        Test obj = new Test();\n        obj.setMyProperty(&quot;this is for test&quot;);\n        try {\n            String json = new ObjectMapper()\n                    .setAnnotationIntrospector(new TestCustomIntrospector2())\n                    .writerWithDefaultPrettyPrinter().writeValueAsString(obj);\n            System.out.println(json);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>I want following result:</p>\n<pre><code>{\n  &quot;myProperty&quot;: &quot;this is for test&quot;\n}\n</code></pre>\n<p>can any one help me?</p>\n"},{"tags":["java","apache-camel","authorization","influxdb-2"],"owner":{"account_id":1689409,"reputation":1059,"user_id":1552080,"accept_rate":64,"display_name":"WolfiG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697467260,"creation_date":1697467260,"question_id":77302912,"body_markdown":"I created a &quot;write&quot; token for influxDB 2.71 via the InfluxDB Web UI where I ticked on only the target bucket for a write operation I want to perform. In addition to that I already created a admin-token as well via the UI.\r\n\r\nThen, I send Influx points via an Apache Camel producer. This works fine if I use the admin token. However, when I use the write token, I get an error message in the Java console:\r\n\r\n    com.influxdb.exceptions.UnauthorizedException: HTTP status code: 401; Message: write:orgs is unauthorized\r\n\r\nBesides the token, which is kept in an application.yml file, the code is exactly the same...","title":"InfluxDB2 &quot;Unauthorized&quot; issue when sending data point to influxdb via apache camel","body":"<p>I created a &quot;write&quot; token for influxDB 2.71 via the InfluxDB Web UI where I ticked on only the target bucket for a write operation I want to perform. In addition to that I already created a admin-token as well via the UI.</p>\n<p>Then, I send Influx points via an Apache Camel producer. This works fine if I use the admin token. However, when I use the write token, I get an error message in the Java console:</p>\n<pre><code>com.influxdb.exceptions.UnauthorizedException: HTTP status code: 401; Message: write:orgs is unauthorized\n</code></pre>\n<p>Besides the token, which is kept in an application.yml file, the code is exactly the same...</p>\n"},{"tags":["java","intellij-idea","dll","nao-robot"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676648851,"post_id":75486313,"comment_id":133185704,"body_markdown":"Your Java 8 is probably a 64-bit Java, in which case you need to use 64-bit DLL.","body":"Your Java 8 is probably a 64-bit Java, in which case you need to use 64-bit DLL."},{"owner":{"account_id":6141164,"reputation":38981,"user_id":4788546,"display_name":"CristiFati"},"score":0,"creation_date":1676742178,"post_id":75486313,"comment_id":133200232,"body_markdown":"https://stackoverflow.com/a/72222002/4788546","body":"<a href=\"https://stackoverflow.com/a/72222002/4788546\">stackoverflow.com/a/72222002/4788546</a>"}],"answers":[{"tags":[],"owner":{"account_id":4744969,"reputation":2149,"user_id":3836562,"display_name":"Victor Pal&#233;ologue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697466976,"creation_date":1697466976,"answer_id":77302875,"question_id":75486313,"body_markdown":"You would need a win32 Java installation to load the win32 DLLs.","title":"&#39;qi.dll: %1 is not a valid Win32 application&#39; from com.aldebaran.qi.Application NAO robot","body":"<p>You would need a win32 Java installation to load the win32 DLLs.</p>\n"}],"owner":{"account_id":27812953,"reputation":1,"user_id":21234983,"display_name":"Lucas Hilgevoord"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697466976,"creation_date":1676648178,"question_id":75486313,"body_markdown":"I am trying to develop for the NAO robot from aldebaran. Sadly it does not work when I try to execute this piece of code in Java with the following error:\r\n\r\nI am using the following JDKs:\r\n - java-naoqi-sdk-2.5.6.5-win32-vs2013.jar\r\n - jdk1.8.0_281\r\n\r\n```\r\nimport com.aldebaran.qi.Application;\r\nimport com.aldebaran.qi.helper.proxies.ALTextToSpeech;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String robotUrl = &quot;tcp://nao.local:9559&quot;;\r\n        // Create a new application\r\n        Application application = new Application(args, robotUrl);\r\n        // Start your application\r\n        application.start();\r\n        // Create an ALTextToSpeech object and link it to your current session\r\n        ALTextToSpeech tts = new ALTextToSpeech(application.session());\r\n        // Make your robot say something\r\n        tts.say(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\lucas\\AppData\\Local\\Temp\\qi.dll: %1 is not a valid Win32 application\r\n\tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n\tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1934)\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1817)\r\n\tat java.lang.Runtime.load0(Runtime.java:810)\r\n\tat java.lang.System.load(System.java:1086)\r\n\tat com.aldebaran.qi.SharedLibrary.extractAndLoad(SharedLibrary.java:133)\r\n\tat com.aldebaran.qi.SharedLibrary.loadLibHelper(SharedLibrary.java:72)\r\n\tat com.aldebaran.qi.SharedLibrary.loadLib(SharedLibrary.java:34)\r\n\tat com.aldebaran.qi.EmbeddedTools.loadEmbeddedLibraries(EmbeddedTools.java:138)\r\n\tat com.aldebaran.qi.Application.&lt;clinit&gt;(Application.java:16)\r\n\tat Main.main(Main.java:9)\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nDoes anyone know how to fix this?\r\n\r\n\r\nIt should be compiling and it should connect to the robot.","title":"&#39;qi.dll: %1 is not a valid Win32 application&#39; from com.aldebaran.qi.Application NAO robot","body":"<p>I am trying to develop for the NAO robot from aldebaran. Sadly it does not work when I try to execute this piece of code in Java with the following error:</p>\n<p>I am using the following JDKs:</p>\n<ul>\n<li>java-naoqi-sdk-2.5.6.5-win32-vs2013.jar</li>\n<li>jdk1.8.0_281</li>\n</ul>\n<pre><code>import com.aldebaran.qi.Application;\nimport com.aldebaran.qi.helper.proxies.ALTextToSpeech;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        String robotUrl = &quot;tcp://nao.local:9559&quot;;\n        // Create a new application\n        Application application = new Application(args, robotUrl);\n        // Start your application\n        application.start();\n        // Create an ALTextToSpeech object and link it to your current session\n        ALTextToSpeech tts = new ALTextToSpeech(application.session());\n        // Make your robot say something\n        tts.say(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\lucas\\AppData\\Local\\Temp\\qi.dll: %1 is not a valid Win32 application\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1934)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1817)\n    at java.lang.Runtime.load0(Runtime.java:810)\n    at java.lang.System.load(System.java:1086)\n    at com.aldebaran.qi.SharedLibrary.extractAndLoad(SharedLibrary.java:133)\n    at com.aldebaran.qi.SharedLibrary.loadLibHelper(SharedLibrary.java:72)\n    at com.aldebaran.qi.SharedLibrary.loadLib(SharedLibrary.java:34)\n    at com.aldebaran.qi.EmbeddedTools.loadEmbeddedLibraries(EmbeddedTools.java:138)\n    at com.aldebaran.qi.Application.&lt;clinit&gt;(Application.java:16)\n    at Main.main(Main.java:9)\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Does anyone know how to fix this?</p>\n<p>It should be compiling and it should connect to the robot.</p>\n"},{"tags":["java","swing","jdialog"],"comments":[{"owner":{"account_id":560770,"reputation":313,"user_id":882241,"display_name":"SoboLAN"},"score":0,"creation_date":1312670761,"post_id":6969164,"comment_id":8311940,"body_markdown":"Well, I never used a JDialog before today. And I did look at that javadoc a few dozen times (I needed to see what methods it contains). But I didn&#39;t see anything about closing it.","body":"Well, I never used a JDialog before today. And I did look at that javadoc a few dozen times (I needed to see what methods it contains). But I didn&#39;t see anything about closing it."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":1,"creation_date":1312677412,"post_id":6969164,"comment_id":8312623,"body_markdown":"@SoboLAN two methods: `dispose()` &amp; `setVisible(false)`","body":"@SoboLAN two methods: <code>dispose()</code> &amp; <code>setVisible(false)</code>"}],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1532715042,"creation_date":1312667793,"answer_id":6969183,"question_id":6969164,"body_markdown":"In the `actionPerformed()` method of `ActionListener` you&#39;ll want something like:\r\n\r\n    dialog.setVisible(false);\r\n\r\nIf you want to get rid of the dialog permanently (free it from memory) then you would *also* call:\r\n\r\n    dialog.dispose(); \r\n\r\n...where dialog is the name of your dialog. If `dialog` is a local variable, you&#39;ll need to make it final to access it in this way (or just make sure it&#39;s &quot;effectively final&quot; from Java 8 onwards).\r\n\r\nIf you&#39;re adding the button as part of a subclass of JDialog (i.e. if you&#39;ve got `class MyDialog extends JDialog` and you&#39;re adding the action listener in `MyDialog`) you&#39;ll want:\r\n\r\n    MyDialog.this.setVisible(false);\r\n","title":"Button for closing a JDialog","body":"<p>In the <code>actionPerformed()</code> method of <code>ActionListener</code> you'll want something like:</p>\n\n<pre><code>dialog.setVisible(false);\n</code></pre>\n\n<p>If you want to get rid of the dialog permanently (free it from memory) then you would <em>also</em> call:</p>\n\n<pre><code>dialog.dispose(); \n</code></pre>\n\n<p>...where dialog is the name of your dialog. If <code>dialog</code> is a local variable, you'll need to make it final to access it in this way (or just make sure it's \"effectively final\" from Java 8 onwards).</p>\n\n<p>If you're adding the button as part of a subclass of JDialog (i.e. if you've got <code>class MyDialog extends JDialog</code> and you're adding the action listener in <code>MyDialog</code>) you'll want:</p>\n\n<pre><code>MyDialog.this.setVisible(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1312667996,"creation_date":1312667996,"answer_id":6969206,"question_id":6969164,"body_markdown":"You can have the `ActionListener` dispatch a `WindowEvent.WINDOW_CLOSING`, as shown [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5540354/java-swing-the-right-action-to-take-upon-closing-windows/5540802#5540802","title":"Button for closing a JDialog","body":"<p>You can have the <code>ActionListener</code> dispatch a <code>WindowEvent.WINDOW_CLOSING</code>, as shown <a href=\"https://stackoverflow.com/questions/5540354/java-swing-the-right-action-to-take-upon-closing-windows/5540802#5540802\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":463580,"reputation":995,"user_id":866576,"display_name":"Mohammed Aslam"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1312684778,"creation_date":1312680040,"answer_id":6970105,"question_id":6969164,"body_markdown":"    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    public class YourDialog extends JDialog implements ActionListener {\r\n    \r\n      JButton button;\r\n    \r\n      public YourDialog() {\r\n         button = new JButton(&quot;Close&quot;);\r\n         button.addActionListener(this);\r\n         add(button);\r\n         pack();\r\n         setVisible(true);\r\n      }\r\n      \r\n      public void actionPerformed(ActionEvent e) {\r\n          dispose();\r\n      }\r\n    }\r\n\r\n - \r\n\r\nclose only dialolg using `dispose()` method parent frame not closed. reason that JVM not terminated.","title":"Button for closing a JDialog","body":"<pre><code>import java.awt.event.*;\nimport javax.swing.*;\n\npublic class YourDialog extends JDialog implements ActionListener {\n\n  JButton button;\n\n  public YourDialog() {\n     button = new JButton(\"Close\");\n     button.addActionListener(this);\n     add(button);\n     pack();\n     setVisible(true);\n  }\n\n  public void actionPerformed(ActionEvent e) {\n      dispose();\n  }\n}\n</code></pre>\n\n<ul>\n<li><p>close only dialolg using <code>dispose()</code> method parent frame not closed. reason that JVM not terminated.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697466551,"creation_date":1532701024,"answer_id":51559880,"question_id":6969164,"body_markdown":"In addition to other answers, you can set it as the default button for the dialog root pane:\r\n\r\n    JButton myButton = new JButton(&quot;Close&quot;);\r\n    myButton.addActionListener(e -&gt; {\r\n            dispose(); // Or whatever else\r\n            setVisible(false);\r\n    });\r\n    getRootPane().setDefaultButton(myButton);\r\n\r\nThat way, its `ActionListener` will be called whenever &lt;kbd&gt;Enter&lt;/kbd&gt; is pressed.","title":"Button for closing a JDialog","body":"<p>In addition to other answers, you can set it as the default button for the dialog root pane:</p>\n<pre><code>JButton myButton = new JButton(&quot;Close&quot;);\nmyButton.addActionListener(e -&gt; {\n        dispose(); // Or whatever else\n        setVisible(false);\n});\ngetRootPane().setDefaultButton(myButton);\n</code></pre>\n<p>That way, its <code>ActionListener</code> will be called whenever <kbd>Enter</kbd> is pressed.</p>\n"},{"tags":[],"owner":{"account_id":3809506,"reputation":77,"user_id":3160898,"display_name":"Gaurang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564346390,"creation_date":1549704997,"answer_id":54604988,"question_id":6969164,"body_markdown":"I have done this slightly differently and it serves the purpose. I have several classes. They extend JPanel, serve different purposes and use JDialogs to get users&#39; inputs. \r\n\r\nA typical class would contain necessary fields, save and cancel buttons.\r\n\r\npublic class EnterpriseGUI extends javax.swing.JPanel {...} would look like this:\r\n\r\n[![JPanel class in designer mode][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RYDfc.png\r\n\r\nClass EnterpriseGUI has a private variable jdialog and a method to set jdialog. Also ActionEvent for &#39;save&#39; button and &#39;cancel&#39; button.\r\n\r\n    private JDialog jdialog;\r\n    public void setJDialog(JDialog jdialog) {\r\n        this.jdialog = jdialog;\r\n    }\r\n    private void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        // Do your stuff..\r\n        jdialog.dispose();\r\n    } \r\n    private void btnCancelActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        // Discard your stuff..\r\n        jdialog.dispose();\r\n    } \r\n\r\nFinally, I create an instance of EnterpriseGUI from any other class as needed and embed it into JDialog.\r\n\r\n    Class OtherClass{\r\n    private JDialog dialog;\r\n    private EnterpriseGUI = new enterprisegui();\r\n        private void button1ActionPerformed(java.awt.event.ActionEvent evt) {                                             \r\n            this.dialog = new JDialog(this, &quot;My dialog&quot;, true);\r\n            this.dialog.setResizable(false);\r\n            enterprisegui.setJDialog(dialog);\r\n            this.dialog.getContentPane().add(enterprisegui);\r\n            this.dialog.pack();\r\n                   \r\n            Dimension Size = Toolkit.getDefaultToolkit().getScreenSize();\r\n            this.dialog.setLocation(new Double((Size.getWidth()/2) - \r\n                    (dialog.getWidth()/2)).intValue(), new Double((Size.getHeight()/2) - \r\n                            (dialog.getHeight()/2)).intValue());\r\n            this.dialog.setVisible(true);\r\n            \r\n        }  \r\n    }","title":"Button for closing a JDialog","body":"<p>I have done this slightly differently and it serves the purpose. I have several classes. They extend JPanel, serve different purposes and use JDialogs to get users' inputs. </p>\n\n<p>A typical class would contain necessary fields, save and cancel buttons.</p>\n\n<p>public class EnterpriseGUI extends javax.swing.JPanel {...} would look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RYDfc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RYDfc.png\" alt=\"JPanel class in designer mode\"></a></p>\n\n<p>Class EnterpriseGUI has a private variable jdialog and a method to set jdialog. Also ActionEvent for 'save' button and 'cancel' button.</p>\n\n<pre><code>private JDialog jdialog;\npublic void setJDialog(JDialog jdialog) {\n    this.jdialog = jdialog;\n}\nprivate void btnSaveActionPerformed(java.awt.event.ActionEvent evt) {                                        \n    // Do your stuff..\n    jdialog.dispose();\n} \nprivate void btnCancelActionPerformed(java.awt.event.ActionEvent evt) {                                          \n    // Discard your stuff..\n    jdialog.dispose();\n} \n</code></pre>\n\n<p>Finally, I create an instance of EnterpriseGUI from any other class as needed and embed it into JDialog.</p>\n\n<pre><code>Class OtherClass{\nprivate JDialog dialog;\nprivate EnterpriseGUI = new enterprisegui();\n    private void button1ActionPerformed(java.awt.event.ActionEvent evt) {                                             \n        this.dialog = new JDialog(this, \"My dialog\", true);\n        this.dialog.setResizable(false);\n        enterprisegui.setJDialog(dialog);\n        this.dialog.getContentPane().add(enterprisegui);\n        this.dialog.pack();\n\n        Dimension Size = Toolkit.getDefaultToolkit().getScreenSize();\n        this.dialog.setLocation(new Double((Size.getWidth()/2) - \n                (dialog.getWidth()/2)).intValue(), new Double((Size.getHeight()/2) - \n                        (dialog.getHeight()/2)).intValue());\n        this.dialog.setVisible(true);\n\n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":560770,"reputation":313,"user_id":882241,"display_name":"SoboLAN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94311,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":6970105,"answer_count":5,"score":31,"last_activity_date":1697466551,"creation_date":1312667577,"question_id":6969164,"body_markdown":"I want to add a button (JButton) at the bottom of a JDialog which should close the JDialog when pressed. The problem is I don&#39;t know what to write in the ActionListener of that button. I don&#39;t want the button to exit the program, just close the dialog.\r\n\r\nThe JDialog is created by explicitly calling one of JDialog&#39;s constructors, not by calling one of the methods from JOptionPane.\r\n\r\nI was extremely surprised that I was unable to find an answer to this using Google. I expected that a problem that is so often encoutered would be widely covered on a lot of programming sites. Pretty weird that it is not.","title":"Button for closing a JDialog","body":"<p>I want to add a button (JButton) at the bottom of a JDialog which should close the JDialog when pressed. The problem is I don't know what to write in the ActionListener of that button. I don't want the button to exit the program, just close the dialog.</p>\n\n<p>The JDialog is created by explicitly calling one of JDialog's constructors, not by calling one of the methods from JOptionPane.</p>\n\n<p>I was extremely surprised that I was unable to find an answer to this using Google. I expected that a problem that is so often encoutered would be widely covered on a lot of programming sites. Pretty weird that it is not.</p>\n"},{"tags":["java","spring-boot","couchbase","sql++","spring-data-couchbase"],"comments":[{"owner":{"account_id":6514907,"reputation":483,"user_id":5041060,"display_name":"Laurent Doguin"},"score":0,"creation_date":1692010553,"post_id":76875458,"comment_id":135563374,"body_markdown":"I can&#39;t reproduce it, any chance you could share a pubilc repo with that specific problem ?","body":"I can&#39;t reproduce it, any chance you could share a pubilc repo with that specific problem ?"}],"answers":[{"tags":[],"owner":{"account_id":19444711,"reputation":399,"user_id":14222513,"display_name":"Michael Reiche"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692037713,"creation_date":1692037713,"answer_id":76901352,"question_id":76875458,"body_markdown":"&quot;org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional; nested exception is java.lang.IllegalStateException: Required property docTypeVersion not found for class java.util.Optional&quot;\r\n\r\nThe stack trace is always useful - it might shed some insight into why the framework thinks the result should be an Optional.\r\n\r\nAlso - shouldn&#39;t the query methods return a List/Iterator/Optional? In case there is zero (or more than one) matching results?  Maybe the framework assumes Optional&lt;DTO&gt; if you have specified just DTO (just speculating).\r\n\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional","body":"<p>&quot;org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional; nested exception is java.lang.IllegalStateException: Required property docTypeVersion not found for class java.util.Optional&quot;</p>\n<p>The stack trace is always useful - it might shed some insight into why the framework thinks the result should be an Optional.</p>\n<p>Also - shouldn't the query methods return a List/Iterator/Optional? In case there is zero (or more than one) matching results?  Maybe the framework assumes Optional if you have specified just DTO (just speculating).</p>\n"},{"tags":[],"owner":{"account_id":19872745,"reputation":26,"user_id":14558489,"display_name":"Esin Akdoan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697466543,"creation_date":1697466543,"answer_id":77302814,"question_id":76875458,"body_markdown":"I had the same problem as you and making the return type optional did not work for me. Making it List works, however when you know that you are selecting a unique document, you dont want to retrieve in a list. \r\nYou are using the entity class in your repo and trying to retrieve it as a dto. One solution is, make repo use your dto class. Modify it like this: \r\n\r\n    @Repository\r\n    @Scope(&quot;efatura_islem&quot;)\r\n    @Collection(&quot;gib_thread_process_non_verified&quot;)\r\n    public interface ThreadProcessCouchbaseRepository extends CouchbaseRepository&lt; ResponseDto, String&gt; {\r\n    \r\n        @Query(&quot;SELECT meta(gtp).id AS __id , gtp.doc_type_version FROM gib_thread_process_non_verified AS gtp WHERE gtp.zip_path=$documentInstanceIdentifier&quot;)\r\n        ResponseDto selectApplicationResponseInfo(String documentInstanceIdentifier);\r\n    }\r\n\r\nIf you dont want to modify your repo, or write a seperate one for the dto, you should make your dto extend the entity class like this: \r\n\r\n    @Data\r\n    @Document\r\n    public class ResponseDto extends ThreadProcessCouchbaseEntity {...}\r\n\r\nThen you will not need to use Optional or List. It worked for me, i hope this works for you too. \r\n\r\n\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional","body":"<p>I had the same problem as you and making the return type optional did not work for me. Making it List works, however when you know that you are selecting a unique document, you dont want to retrieve in a list.\nYou are using the entity class in your repo and trying to retrieve it as a dto. One solution is, make repo use your dto class. Modify it like this:</p>\n<pre><code>@Repository\n@Scope(&quot;efatura_islem&quot;)\n@Collection(&quot;gib_thread_process_non_verified&quot;)\npublic interface ThreadProcessCouchbaseRepository extends CouchbaseRepository&lt; ResponseDto, String&gt; {\n\n    @Query(&quot;SELECT meta(gtp).id AS __id , gtp.doc_type_version FROM gib_thread_process_non_verified AS gtp WHERE gtp.zip_path=$documentInstanceIdentifier&quot;)\n    ResponseDto selectApplicationResponseInfo(String documentInstanceIdentifier);\n}\n</code></pre>\n<p>If you dont want to modify your repo, or write a seperate one for the dto, you should make your dto extend the entity class like this:</p>\n<pre><code>@Data\n@Document\npublic class ResponseDto extends ThreadProcessCouchbaseEntity {...}\n</code></pre>\n<p>Then you will not need to use Optional or List. It worked for me, i hope this works for you too.</p>\n"}],"owner":{"account_id":13931993,"reputation":53,"user_id":10059979,"display_name":"Anl Emre &#214;z&#231;elik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77302814,"answer_count":2,"score":1,"last_activity_date":1697466543,"creation_date":1691668072,"question_id":76875458,"body_markdown":"When i try to select some part of couchbase document using a dto class,getting this error.\r\nI tried several possible solutions like changing return type of query method `Optional&lt;ResponseDto&gt;` and getting from `Optional` class but did not fixed.I dont understand why it look for `&#39;docTypeVersion&#39;` in `Optional` class.I did not try to get `docTypeVersion` from `Optional` class.\r\n\r\n    org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional; nested exception is java.lang.IllegalStateException: Required property docTypeVersion not found for class java.util.Optional \r\n\r\nRepository class:\r\n\r\n    @Repository\r\n    @Scope(&quot;efatura_islem&quot;)\r\n    @Collection(&quot;gib_thread_process_non_verified&quot;)\r\n    public interface ThreadProcessCouchbaseRepository extends CouchbaseRepository&lt;ThreadProcessCouchbaseEntity, String&gt; {\r\n    \r\n        @Query(&quot;SELECT meta(gtp).id AS __id , gtp.doc_type_version FROM gib_thread_process_non_verified AS gtp WHERE gtp.zip_path=$documentInstanceIdentifier&quot;)\r\n        ResponseDto selectApplicationResponseInfo(String documentInstanceIdentifier);\r\n    }\r\n\r\nDTO class:\r\n\r\n    @Data\r\n    @Document\r\n    public class ResponseDto implements Serializable {\r\n       \r\n        @Field(&quot;doc_type_version&quot;)\r\n        private String docTypeVersion;\r\n    }\r\n\r\nDocument is below that:\r\n\r\n    {\r\n      &quot;_class&quot;: &quot;tr.gov.gib.efatura.core.entity.couchbase.ThreadProcessCouchbaseEntity&quot;,\r\n      &quot;calc_hash&quot;: &quot;6DB58D42B042F975A7E68464C8E18FE5&quot;,\r\n      &quot;client&quot;: &quot;10.233.92.0&quot;,\r\n      &quot;doc_date_time&quot;: &quot;2023-08-09T19:24:53&quot;,\r\n      &quot;doc_type&quot;: &quot;SYSTEMENVELOPE&quot;,\r\n      &quot;doc_type_version&quot;: &quot;1.2&quot;,\r\n      &quot;error&quot;: &quot;ZARF_BASARIYLA_ISLENDI&quot;,\r\n      &quot;issue_date&quot;: &quot;2023-08-09&quot;,\r\n      &quot;gib_elements&quot;: [\r\n        {\r\n          &quot;element_type&quot;: &quot;APPLICATIONRESPONSE&quot;,\r\n          &quot;fKey&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB&quot;,\r\n          &quot;item_count&quot;: 1,\r\n          &quot;oid&quot;: &quot;31ll52grm01001&quot;\r\n        }\r\n      ],\r\n     \r\n      &quot;header_version&quot;: &quot;1.0&quot;,\r\n      &quot;state_code&quot;: &quot;1200&quot;,\r\n      &quot;zip_path&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB.zip&quot;\r\n    }\r\n\r\nAnd metadata is below that:\r\n\r\n\r\n    {\r\n      &quot;meta&quot;: {\r\n        &quot;id&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB&quot;,\r\n        &quot;rev&quot;: &quot;1178-177a01ea20e300000000000002000000&quot;,\r\n        &quot;expiration&quot;: 0,\r\n        &quot;flags&quot;: 33554432,\r\n        &quot;type&quot;: &quot;json&quot;\r\n      },\r\n      &quot;xattrs&quot;: {}\r\n    }\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional","body":"<p>When i try to select some part of couchbase document using a dto class,getting this error.\nI tried several possible solutions like changing return type of query method <code>Optional&lt;ResponseDto&gt;</code> and getting from <code>Optional</code> class but did not fixed.I dont understand why it look for <code>'docTypeVersion'</code> in <code>Optional</code> class.I did not try to get <code>docTypeVersion</code> from <code>Optional</code> class.</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Required property docTypeVersion not found for class java.util.Optional; nested exception is java.lang.IllegalStateException: Required property docTypeVersion not found for class java.util.Optional \n</code></pre>\n<p>Repository class:</p>\n<pre><code>@Repository\n@Scope(&quot;efatura_islem&quot;)\n@Collection(&quot;gib_thread_process_non_verified&quot;)\npublic interface ThreadProcessCouchbaseRepository extends CouchbaseRepository&lt;ThreadProcessCouchbaseEntity, String&gt; {\n\n    @Query(&quot;SELECT meta(gtp).id AS __id , gtp.doc_type_version FROM gib_thread_process_non_verified AS gtp WHERE gtp.zip_path=$documentInstanceIdentifier&quot;)\n    ResponseDto selectApplicationResponseInfo(String documentInstanceIdentifier);\n}\n</code></pre>\n<p>DTO class:</p>\n<pre><code>@Data\n@Document\npublic class ResponseDto implements Serializable {\n   \n    @Field(&quot;doc_type_version&quot;)\n    private String docTypeVersion;\n}\n</code></pre>\n<p>Document is below that:</p>\n<pre><code>{\n  &quot;_class&quot;: &quot;tr.gov.gib.efatura.core.entity.couchbase.ThreadProcessCouchbaseEntity&quot;,\n  &quot;calc_hash&quot;: &quot;6DB58D42B042F975A7E68464C8E18FE5&quot;,\n  &quot;client&quot;: &quot;10.233.92.0&quot;,\n  &quot;doc_date_time&quot;: &quot;2023-08-09T19:24:53&quot;,\n  &quot;doc_type&quot;: &quot;SYSTEMENVELOPE&quot;,\n  &quot;doc_type_version&quot;: &quot;1.2&quot;,\n  &quot;error&quot;: &quot;ZARF_BASARIYLA_ISLENDI&quot;,\n  &quot;issue_date&quot;: &quot;2023-08-09&quot;,\n  &quot;gib_elements&quot;: [\n    {\n      &quot;element_type&quot;: &quot;APPLICATIONRESPONSE&quot;,\n      &quot;fKey&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB&quot;,\n      &quot;item_count&quot;: 1,\n      &quot;oid&quot;: &quot;31ll52grm01001&quot;\n    }\n  ],\n \n  &quot;header_version&quot;: &quot;1.0&quot;,\n  &quot;state_code&quot;: &quot;1200&quot;,\n  &quot;zip_path&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB.zip&quot;\n}\n</code></pre>\n<p>And metadata is below that:</p>\n<pre><code>{\n  &quot;meta&quot;: {\n    &quot;id&quot;: &quot;20548227-BDB9-4A7E-B873-FB7B8E3E2BCB&quot;,\n    &quot;rev&quot;: &quot;1178-177a01ea20e300000000000002000000&quot;,\n    &quot;expiration&quot;: 0,\n    &quot;flags&quot;: 33554432,\n    &quot;type&quot;: &quot;json&quot;\n  },\n  &quot;xattrs&quot;: {}\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1697461829,"post_id":77301931,"comment_id":136279083,"body_markdown":"You need to post code in order to receive help.\n\nYou need to be specific.  For example are you successful in consuming messages?\n\nIf yes, there is no such thing as (one go).  You can just modify the https://stackoverflow.com/questions/59308824/does-a-kafka-consumer-default-batch-size in order to batch consume by specific amounts.","body":"You need to post code in order to receive help.  You need to be specific.  For example are you successful in consuming messages?  If yes, there is no such thing as (one go).  You can just modify the <a href=\"https://stackoverflow.com/questions/59308824/does-a-kafka-consumer-default-batch-size\" title=\"does a kafka consumer default batch size\">stackoverflow.com/questions/59308824/&hellip;</a> in order to batch consume by specific amounts."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697466363,"creation_date":1697462110,"answer_id":77302295,"question_id":77301931,"body_markdown":"By default; Kafka maintains a last committed offset pointer for each consumer group/partition.\r\n\r\nWhen the consumer starts, the default behavior is to start from that offset. `auto.offset.reset=earliest` only applies when there is no committed offset for a consumer (generally, the first time the consumer is started).\r\n\r\nTo always start from the beginning, you need to perform seek operations when the partitions are assigned.\r\n\r\nWhen using Spring, this can easily be done by having the listener extend `AbstractConsumerSeekAware` and calling `seekToBeginning()` when the partitions are assigned.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek","title":"How to consume all kafka messages of one kafka topic every second from the beginning using spring boot?","body":"<p>By default; Kafka maintains a last committed offset pointer for each consumer group/partition.</p>\n<p>When the consumer starts, the default behavior is to start from that offset. <code>auto.offset.reset=earliest</code> only applies when there is no committed offset for a consumer (generally, the first time the consumer is started).</p>\n<p>To always start from the beginning, you need to perform seek operations when the partitions are assigned.</p>\n<p>When using Spring, this can easily be done by having the listener extend <code>AbstractConsumerSeekAware</code> and calling <code>seekToBeginning()</code> when the partitions are assigned.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#seek</a></p>\n"}],"owner":{"account_id":29647293,"reputation":25,"user_id":22722037,"display_name":"vijay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77302295,"answer_count":1,"score":1,"last_activity_date":1697466363,"creation_date":1697459000,"question_id":77301931,"body_markdown":"I&#39;m very new to kafka and I need to print all the messages from the kafka topic continuously(every second) from the start to end using spring boot.\r\n\r\nAlso need to get all the message at a time, not one by one.\r\n\r\nI used..\r\nauto.offset.reset=earliest and enable.auto.commit=false and random/new group.id but nothing works for me :(\r\n\r\n\r\n    @KafkaListener(topics = &quot;retry-events&quot;, groupId = &quot;my-consumer-group&quot;)\r\n        public void consumeMessage(String message) {\r\n            System.out.println(&quot;Received message: &quot; + message);\r\n        }\r\n\r\nHere, If i send one message to kafka, thenits printing the latest message. I need to print every message again and again from the start each second.","title":"How to consume all kafka messages of one kafka topic every second from the beginning using spring boot?","body":"<p>I'm very new to kafka and I need to print all the messages from the kafka topic continuously(every second) from the start to end using spring boot.</p>\n<p>Also need to get all the message at a time, not one by one.</p>\n<p>I used..\nauto.offset.reset=earliest and enable.auto.commit=false and random/new group.id but nothing works for me :(</p>\n<pre><code>@KafkaListener(topics = &quot;retry-events&quot;, groupId = &quot;my-consumer-group&quot;)\n    public void consumeMessage(String message) {\n        System.out.println(&quot;Received message: &quot; + message);\n    }\n</code></pre>\n<p>Here, If i send one message to kafka, thenits printing the latest message. I need to print every message again and again from the start each second.</p>\n"},{"tags":["java","sql","oracle"],"comments":[{"owner":{"account_id":18733535,"reputation":8774,"user_id":13658399,"display_name":"NickW"},"score":0,"creation_date":1697447350,"post_id":77299316,"comment_id":136276477,"body_markdown":"Hi - doesn&#39;t executeQuery return the error reason in SQLException? If it does, why not have a single try/catch statement and process the different error types in the catch? At the moment your code seems to be assuming what the different types of error might be based on the different positions of your various try/catch statements","body":"Hi - doesn&#39;t executeQuery return the error reason in SQLException? If it does, why not have a single try/catch statement and process the different error types in the catch? At the moment your code seems to be assuming what the different types of error might be based on the different positions of your various try/catch statements"},{"owner":{"account_id":5243359,"reputation":15773,"user_id":4189814,"display_name":"Koen Lostrie"},"score":0,"creation_date":1697454697,"post_id":77299316,"comment_id":136277785,"body_markdown":"This question is about java but you have not tagged java ?","body":"This question is about java but you have not tagged java ?"}],"owner":{"account_id":14333621,"reputation":383,"user_id":10353761,"display_name":"maria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697465595,"creation_date":1697428304,"question_id":77299316,"body_markdown":"I&#39;m trying to create a java program that accepts an SQL query. It has a try catch function in case the table name has an invalid name/special characters, not found in database, or I/O exception. I&#39;m wondering is there any way I can catch a corrupted output or not accessible data after the query?\r\n\r\nHere&#39;s my current implementation:\r\n\r\n    String sql = &quot;SELECT * FROM &quot; + table + &quot;&#39;;&quot;;\r\n    \t\ttry {\r\n    \t\t\tconn = ConnDelegation.supplyConnection();\r\n    \t\t\tPreparedStatement ps = conn.prepareStatement(sql);\r\n    \r\n    \t\t\tResultSet rs = ps.executeQuery();\r\n    \t\t\tif(!rs.next()) {\r\n    \t\t\t\trCode.setValue(MSG_CATALOG_ENTRY_NOT_FOUND);\r\n    \t\t\t} else {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\trCode.setValue(MSG_OPERATION_SUCCESSFUL);\r\n    \t\t\t\t}catch (SQLException e) {\r\n    \t\t\t\t\trCode.setValue(MSG_CATALOG_NOT_ACCESSIBLE);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}catch (SQLException e) {\r\n\r\n                rCode.setValue(MSG_PARAMLIST_IO_ERROR);\r\n    \t\t}\r\n\r\nI assumed that if the data was found but has an issue/error, that was the correct time to catch. But I&#39;m hoping to have a specific error code that only specifies on corrupted or non accessible output.","title":"How to catch a corrupted or not accessible java sql query output","body":"<p>I'm trying to create a java program that accepts an SQL query. It has a try catch function in case the table name has an invalid name/special characters, not found in database, or I/O exception. I'm wondering is there any way I can catch a corrupted output or not accessible data after the query?</p>\n<p>Here's my current implementation:</p>\n<pre><code>String sql = &quot;SELECT * FROM &quot; + table + &quot;';&quot;;\n        try {\n            conn = ConnDelegation.supplyConnection();\n            PreparedStatement ps = conn.prepareStatement(sql);\n\n            ResultSet rs = ps.executeQuery();\n            if(!rs.next()) {\n                rCode.setValue(MSG_CATALOG_ENTRY_NOT_FOUND);\n            } else {\n                try {\n                    rCode.setValue(MSG_OPERATION_SUCCESSFUL);\n                }catch (SQLException e) {\n                    rCode.setValue(MSG_CATALOG_NOT_ACCESSIBLE);\n                }\n            }\n            \n        }catch (SQLException e) {\n\n            rCode.setValue(MSG_PARAMLIST_IO_ERROR);\n        }\n</code></pre>\n<p>I assumed that if the data was found but has an issue/error, that was the correct time to catch. But I'm hoping to have a specific error code that only specifies on corrupted or non accessible output.</p>\n"},{"tags":["java","string","replace"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697358442,"creation_date":1697358442,"answer_id":77295823,"question_id":77295784,"body_markdown":"You could place word boundaries around `B` and `C`, i.e. match on `\\bB\\b` and `\\bC\\b`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String newFormula = formula.replaceAll(&quot;\\\\bB\\\\b&quot;, &quot;X&quot;)\r\n                               .replaceAll(&quot;\\\\bC\\\\b&quot;, &quot;Y&quot;);","title":"Replacing specific values in a formula without affecting others in Java with Spring boot","body":"<p>You could place word boundaries around <code>B</code> and <code>C</code>, i.e. match on <code>\\bB\\b</code> and <code>\\bC\\b</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String newFormula = formula.replaceAll(&quot;\\\\bB\\\\b&quot;, &quot;X&quot;)\n                           .replaceAll(&quot;\\\\bC\\\\b&quot;, &quot;Y&quot;);\n</code></pre>\n"}],"owner":{"account_id":14006714,"reputation":29,"user_id":10116632,"display_name":"lpdevlop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77295823,"answer_count":1,"score":-1,"last_activity_date":1697465528,"creation_date":1697357465,"question_id":77295784,"body_markdown":"I have a mathematical formula represented as a string, like this:\r\n\r\n**&quot;A+AB+A/B-BB+BC+C&quot;**\r\nI need to replace the values of B and C with new values, let&#39;s say X and Y, respectively, without affecting other occurrences of BC in the formula. I&#39;m using Java for this task.\r\n\r\nHere&#39;s the Java code I have so far:\r\n\r\n    String formula = &quot;A+AB+A/B-BB+BC+C&quot;;\r\n    String newFormula = formula.replaceAll(&quot;B&quot;, &quot;X&quot;).replaceAll(&quot;C&quot;, &quot;Y&quot;);\r\n\r\nHowever, this code replaces all occurrences of &#39;B&#39; and &#39;C&#39; in the formula, including the &#39;BC&#39; term. What I want to achieve is to replace only individual &#39;B&#39; and &#39;C&#39; without changing &#39;BC&#39;. How can I modify this code to achieve this?\r\n\r\n\r\n","title":"Replacing specific values in a formula without affecting others in Java with Spring boot","body":"<p>I have a mathematical formula represented as a string, like this:</p>\n<p><strong>&quot;A+AB+A/B-BB+BC+C&quot;</strong>\nI need to replace the values of B and C with new values, let's say X and Y, respectively, without affecting other occurrences of BC in the formula. I'm using Java for this task.</p>\n<p>Here's the Java code I have so far:</p>\n<pre><code>String formula = &quot;A+AB+A/B-BB+BC+C&quot;;\nString newFormula = formula.replaceAll(&quot;B&quot;, &quot;X&quot;).replaceAll(&quot;C&quot;, &quot;Y&quot;);\n</code></pre>\n<p>However, this code replaces all occurrences of 'B' and 'C' in the formula, including the 'BC' term. What I want to achieve is to replace only individual 'B' and 'C' without changing 'BC'. How can I modify this code to achieve this?</p>\n"},{"tags":["java","jvm","jfr"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697532337,"post_id":77302674,"comment_id":136288362,"body_markdown":"Its an educated guess, but it looks like youre looking at statistics only. Youd have to make a heap dump, to be able to look at actual data. Im not even able to tell the language of the labels in the screenshot, not to speak of their meaning. And Im afraid Im not the only one.","body":"Its an educated guess, but it looks like youre looking at statistics only. Youd have to make a heap dump, to be able to look at actual data. Im not even able to tell the language of the labels in the screenshot, not to speak of their meaning. And Im afraid Im not the only one."},{"owner":{"account_id":8847661,"reputation":15,"user_id":6607944,"accept_rate":50,"display_name":"winfield"},"score":0,"creation_date":1697559780,"post_id":77302674,"comment_id":136294038,"body_markdown":"@Holger Sorry it&#39;s in Chinese, maybe because of my laptop&#39;s language. But I think you are right. I need to dump the heap.","body":"@Holger Sorry it&#39;s in Chinese, maybe because of my laptop&#39;s language. But I think you are right. I need to dump the heap."}],"owner":{"account_id":8847661,"reputation":15,"user_id":6607944,"accept_rate":50,"display_name":"winfield"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697465374,"creation_date":1697465374,"question_id":77302674,"body_markdown":"This is a screenshot of JProfiler. You see, I can only know `byte[]` has the most biggest size (235MB). However, it&#39;s not detailed. I don&#39;t know where the array is and the related variable name in my program.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/v6nII.png)](https://i.stack.imgur.com/v6nII.png)\r\n\r\nI&#39;ve tried adding some JVM args. But none of them effected.\r\n\r\nBelow is the JVM args.\r\n\r\n```\r\n  &#39;-XX:+FlightRecorder&#39; \\\r\n  &#39;-XX:StartFlightRecording=duration=180s,settings=/opt/amazon/brazil-config/app/my_jfr_config.jfc,filename=myrecording.jfr&#39; \\\r\n```\r\nmy_jfr_config.jfc\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration version=&quot;2.0&quot; label=&quot;Continuous&quot; description=&quot;Low overhead configuration safe for continuous use in production environments, typically less than 1 % overhead.&quot; provider=&quot;Oracle&quot;&gt;\r\n    &lt;event name=&quot;jdk.ObjectCount&quot;&gt;\r\n      &lt;setting name=&quot;enabled&quot; control=&quot;memory-profiling-enabled-all&quot;&gt;true&lt;/setting&gt;\r\n      &lt;setting name=&quot;enabled&quot; control=&quot;heap-statistics-enabled&quot;&gt;true&lt;/setting&gt;\r\n      &lt;setting name=&quot;period&quot;&gt;everyChunk&lt;/setting&gt;\r\n    &lt;/event&gt;\r\n&lt;/configuration&gt;\r\n```\r\nAnd the JDK version is `openjdk 11.0.20 2023-07-18 LTS`.","title":"About JFR, how can I get the detailed info of the objects in memory view?","body":"<p>This is a screenshot of JProfiler. You see, I can only know <code>byte[]</code> has the most biggest size (235MB). However, it's not detailed. I don't know where the array is and the related variable name in my program.</p>\n<p><a href=\"https://i.stack.imgur.com/v6nII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6nII.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried adding some JVM args. But none of them effected.</p>\n<p>Below is the JVM args.</p>\n<pre><code>  '-XX:+FlightRecorder' \\\n  '-XX:StartFlightRecording=duration=180s,settings=/opt/amazon/brazil-config/app/my_jfr_config.jfc,filename=myrecording.jfr' \\\n</code></pre>\n<p>my_jfr_config.jfc</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration version=&quot;2.0&quot; label=&quot;Continuous&quot; description=&quot;Low overhead configuration safe for continuous use in production environments, typically less than 1 % overhead.&quot; provider=&quot;Oracle&quot;&gt;\n    &lt;event name=&quot;jdk.ObjectCount&quot;&gt;\n      &lt;setting name=&quot;enabled&quot; control=&quot;memory-profiling-enabled-all&quot;&gt;true&lt;/setting&gt;\n      &lt;setting name=&quot;enabled&quot; control=&quot;heap-statistics-enabled&quot;&gt;true&lt;/setting&gt;\n      &lt;setting name=&quot;period&quot;&gt;everyChunk&lt;/setting&gt;\n    &lt;/event&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And the JDK version is <code>openjdk 11.0.20 2023-07-18 LTS</code>.</p>\n"},{"tags":["java","android","build.gradle","apk","android-studio-3.0"],"comments":[{"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"score":0,"creation_date":1697460152,"post_id":77301061,"comment_id":136278742,"body_markdown":"update gradle version and may be some dependency not work properly so update project because i facing same issue i update project it works me.","body":"update gradle version and may be some dependency not work properly so update project because i facing same issue i update project it works me."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1697468256,"post_id":77301061,"comment_id":136280450,"body_markdown":"Old projects need old Java/JDK versions (8 or 11). Make sure `JAVA_HOME` points to an JDK8 or in Android Studio JDK 8 is selected to be used with Gradle.","body":"Old projects need old Java/JDK versions (8 or 11). Make sure <code>JAVA_HOME</code> points to an JDK8 or in Android Studio JDK 8 is selected to be used with Gradle."}],"answers":[{"tags":[],"owner":{"account_id":1197390,"reputation":1157,"user_id":4467687,"display_name":"Crispert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697453975,"creation_date":1697453975,"answer_id":77301403,"question_id":77301061,"body_markdown":"Sounds like a JDK compatibility issue. Try using a different version of JDK, like [11][1]. You will probably have to specify the path to the jdk in local.properties.\r\nAlso, have a look at this\r\nhttps://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html","title":"Failed to generate apk for my project in android studio","body":"<p>Sounds like a JDK compatibility issue. Try using a different version of JDK, like <a href=\"https://www.oracle.com/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">11</a>. You will probably have to specify the path to the jdk in local.properties.\nAlso, have a look at this\n<a href=\"https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072\" rel=\"nofollow noreferrer\">https://github.com/fluttercommunity/flutter_workmanager/issues/287#issuecomment-893476072</a></p>\n"}],"owner":{"account_id":17299381,"reputation":3,"user_id":12529378,"display_name":"Jahash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77301403,"answer_count":1,"score":0,"last_activity_date":1697464204,"creation_date":1697450843,"question_id":77301061,"body_markdown":"I am working on existing project of android app with java, i imported the project successfully and synced it with gradle successfully but getting to build apk I cale across this problem \r\n\r\n\r\n&gt; {Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @6edd9065}\r\n\r\nI have tried many things but still getting same error message","title":"Failed to generate apk for my project in android studio","body":"<p>I am working on existing project of android app with java, i imported the project successfully and synced it with gradle successfully but getting to build apk I cale across this problem</p>\n<blockquote>\n<p>{Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @6edd9065}</p>\n</blockquote>\n<p>I have tried many things but still getting same error message</p>\n"},{"tags":["java","arrays","combinations","unique","schedule"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1697464698,"post_id":77302509,"comment_id":136279721,"body_markdown":"[Round-robin tournament](https://en.wikipedia.org/wiki/Round-robin_tournament)","body":"<a href=\"https://en.wikipedia.org/wiki/Round-robin_tournament\" rel=\"nofollow noreferrer\">Round-robin tournament</a>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1697465025,"post_id":77302509,"comment_id":136279787,"body_markdown":"https://stackoverflow.com/questions/26471421/round-robin-algorithm-implementation-java","body":"<a href=\"https://stackoverflow.com/questions/26471421/round-robin-algorithm-implementation-java\" title=\"round robin algorithm implementation java\">stackoverflow.com/questions/26471421/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697465666,"post_id":77302509,"comment_id":136279912,"body_markdown":"If you are doing this for an actual league, and not for a programming assignment or practice problem, there are pre-prepared round-robin schedules.","body":"If you are doing this for an actual league, and not for a programming assignment or practice problem, there are pre-prepared round-robin schedules."}],"owner":{"account_id":29683837,"reputation":1,"user_id":22749916,"display_name":"ap1kay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697463991,"creation_date":1697463912,"question_id":77302509,"body_markdown":"I have a simulator in Java in which I am trying to create a schedule of unique team matchups for a given sports league. In soccer, each team will play each other exactly ONCE with the first numTeams-1 matchweeks. \r\n\r\nFor example, in a 20 match league, there will be 19 matchweeks. In all 19 matchweeks, team 0 will play a unique team {1,2,3,4,...19,20}. Team 1 will play a unique team each week {0,2,3,4,..,19,20}, etc., up until the 20th team who will play teams {0,1,2,3,4,..18,19}.\r\n\r\nFor simplicity, I wrote my algorithm to select two side by side index pairs using a random shuffle of the array {0,1,2,..19,20}. If my generated array was {6,4,11,1,...0,18}, the pairs following would be {(6,4),(11,1),...(0,18)}. The next matchweek, i would shift all even values twice left, in this example leaving an array {11,4,13,1,...,0,6} and the resulting pairs for that week would be {(11,4),(13,1)...(0,6)}. Continuing this pattern (numTeams/2) times, we will get the first 10 unique weeks (in a 20 team league). \r\n\r\nTo finish the latter 10 matchweeks, I made a brute force method where I would generate a new random array of the 20 teams, and use the same shifting to generate the full 10 weeks. I would then run a test on  the whole 20 matchweeks and see if a collision occurred, and if it did, the calculation would rerun, else it would return the final array.\r\n\r\nThis did not work, and I cannot think of a good way to generate a second half of the matchweeks. If their is a flaw in working with the first half I have, I should change that too. Regardless, any tips to help solve this problem would be appreciated.\r\n\r\nIn the code below, each time the test fails I rerun the entire thing, not just the latter matchweek half, but neither method is able to exit the loop quickly.\r\n\r\n```\r\npublic Integer[][] uniqueMatchGenerator(int numTeams){\r\n    Integer[][] randomIndicies = new Integer[numTeams-1][numTeams];\r\n\r\n    //returns array of random unique numbers from 0 to numTeams\r\n    randomIndicies[0] = randomIndexArray(numTeams, null);\r\n\r\n    //FIRST half of pairs\r\n    for(int i=1;i&lt;(numTeams-1)/2;i++){\r\n        for(int j=0;j&lt;numTeams;j++){\r\n            if(j%2==0){ //even shift\r\n                randomIndicies[i][j] = randomIndicies[i-1][(j+2)%numTeams];\r\n            }else{\r\n                randomIndicies[i][j] = randomIndicies[i-1][j];\r\n            }\r\n        } \r\n    }\r\n\r\n    //second half of pairs\r\n    randomIndicies[(numTeams-1)/2] = randomIndexArray(numTeams, null);\r\n\r\n    for(int i=(numTeams-1)/2+1;i&lt;numTeams-1;i++){\r\n        for(int j=0;j&lt;numTeams;j++){\r\n            if(j%2==0){ //odd shift\r\n                randomIndicies[i][j] = randomIndicies[i-1][(j+2)%numTeams];\r\n            }else{\r\n                randomIndicies[i][j] = randomIndicies[i-1][j];\r\n            }\r\n        } \r\n    }\r\n\r\n    boolean failed = false;\r\n\r\n    //brute force test\r\n\r\n    //for each matchweek\r\n    int i =0;\r\n    while(i&lt;numTeams-2){\r\n        //for each pair in our arrays\r\n        int m=0;\r\n        while(m&lt;numTeams&amp;&amp;!failed){\r\n            int[] checking = {randomIndicies[i][m],randomIndicies[i][m+1]};\r\n            System.out.println(&quot;checking {&quot; + randomIndicies[i][m] +&quot;,&quot;+randomIndicies[i][m+1]+&quot;}&quot;);\r\n            int k=1;\r\n            while((k&lt;numTeams-1)&amp;&amp;!failed){\r\n                int j=0;\r\n                while(j&lt;numTeams&amp;&amp;!failed){\r\n                    int[] against = {randomIndicies[k][j],randomIndicies[k][j+1]}; \r\n                    System.out.println(&quot;against {&quot; + randomIndicies[k][j] +&quot;,&quot;+randomIndicies[k][j+1]+&quot;}&quot;);\r\n                    if(Arrays.equals(checking,against)){\r\n                        System.out.println(&quot;FAILEDFAILEDFAILEDFAILEDFAILEDFAILED &quot;);\r\n                        failed = true;\r\n                    }j=j+2;\r\n                }k++;\r\n            }m=m+2;\r\n        }i++;\r\n    }\r\n\r\n    if(failed){\r\n        return uniqueMatchGenerator(numTeams);\r\n    }else{\r\n        return randomIndicies;\r\n    }\r\n}\r\n```\r\n\r\nI would like to have one, no-collision group of unique parings. I was not able to find success with this method.","title":"Given an array of size n, find a way to arrange it such that no two side-by-side index pairs match for n-1 different arrays (team scheduling)","body":"<p>I have a simulator in Java in which I am trying to create a schedule of unique team matchups for a given sports league. In soccer, each team will play each other exactly ONCE with the first numTeams-1 matchweeks.</p>\n<p>For example, in a 20 match league, there will be 19 matchweeks. In all 19 matchweeks, team 0 will play a unique team {1,2,3,4,...19,20}. Team 1 will play a unique team each week {0,2,3,4,..,19,20}, etc., up until the 20th team who will play teams {0,1,2,3,4,..18,19}.</p>\n<p>For simplicity, I wrote my algorithm to select two side by side index pairs using a random shuffle of the array {0,1,2,..19,20}. If my generated array was {6,4,11,1,...0,18}, the pairs following would be {(6,4),(11,1),...(0,18)}. The next matchweek, i would shift all even values twice left, in this example leaving an array {11,4,13,1,...,0,6} and the resulting pairs for that week would be {(11,4),(13,1)...(0,6)}. Continuing this pattern (numTeams/2) times, we will get the first 10 unique weeks (in a 20 team league).</p>\n<p>To finish the latter 10 matchweeks, I made a brute force method where I would generate a new random array of the 20 teams, and use the same shifting to generate the full 10 weeks. I would then run a test on  the whole 20 matchweeks and see if a collision occurred, and if it did, the calculation would rerun, else it would return the final array.</p>\n<p>This did not work, and I cannot think of a good way to generate a second half of the matchweeks. If their is a flaw in working with the first half I have, I should change that too. Regardless, any tips to help solve this problem would be appreciated.</p>\n<p>In the code below, each time the test fails I rerun the entire thing, not just the latter matchweek half, but neither method is able to exit the loop quickly.</p>\n<pre><code>public Integer[][] uniqueMatchGenerator(int numTeams){\n    Integer[][] randomIndicies = new Integer[numTeams-1][numTeams];\n\n    //returns array of random unique numbers from 0 to numTeams\n    randomIndicies[0] = randomIndexArray(numTeams, null);\n\n    //FIRST half of pairs\n    for(int i=1;i&lt;(numTeams-1)/2;i++){\n        for(int j=0;j&lt;numTeams;j++){\n            if(j%2==0){ //even shift\n                randomIndicies[i][j] = randomIndicies[i-1][(j+2)%numTeams];\n            }else{\n                randomIndicies[i][j] = randomIndicies[i-1][j];\n            }\n        } \n    }\n\n    //second half of pairs\n    randomIndicies[(numTeams-1)/2] = randomIndexArray(numTeams, null);\n\n    for(int i=(numTeams-1)/2+1;i&lt;numTeams-1;i++){\n        for(int j=0;j&lt;numTeams;j++){\n            if(j%2==0){ //odd shift\n                randomIndicies[i][j] = randomIndicies[i-1][(j+2)%numTeams];\n            }else{\n                randomIndicies[i][j] = randomIndicies[i-1][j];\n            }\n        } \n    }\n\n    boolean failed = false;\n\n    //brute force test\n\n    //for each matchweek\n    int i =0;\n    while(i&lt;numTeams-2){\n        //for each pair in our arrays\n        int m=0;\n        while(m&lt;numTeams&amp;&amp;!failed){\n            int[] checking = {randomIndicies[i][m],randomIndicies[i][m+1]};\n            System.out.println(&quot;checking {&quot; + randomIndicies[i][m] +&quot;,&quot;+randomIndicies[i][m+1]+&quot;}&quot;);\n            int k=1;\n            while((k&lt;numTeams-1)&amp;&amp;!failed){\n                int j=0;\n                while(j&lt;numTeams&amp;&amp;!failed){\n                    int[] against = {randomIndicies[k][j],randomIndicies[k][j+1]}; \n                    System.out.println(&quot;against {&quot; + randomIndicies[k][j] +&quot;,&quot;+randomIndicies[k][j+1]+&quot;}&quot;);\n                    if(Arrays.equals(checking,against)){\n                        System.out.println(&quot;FAILEDFAILEDFAILEDFAILEDFAILEDFAILED &quot;);\n                        failed = true;\n                    }j=j+2;\n                }k++;\n            }m=m+2;\n        }i++;\n    }\n\n    if(failed){\n        return uniqueMatchGenerator(numTeams);\n    }else{\n        return randomIndicies;\n    }\n}\n</code></pre>\n<p>I would like to have one, no-collision group of unique parings. I was not able to find success with this method.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"score":0,"creation_date":1697449639,"post_id":77300929,"comment_id":136276906,"body_markdown":"switch-case does no longer work with android&#39;s IDs. Use an if-else chain instead.","body":"switch-case does no longer work with android&#39;s IDs. Use an if-else chain instead."}],"answers":[{"tags":[],"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697449972,"creation_date":1697449972,"answer_id":77300970,"question_id":77300929,"body_markdown":"Use If else insted of switch case not working in case of android id in java only :\r\n\r\n     if (id == R.id.nav_item1 ) {\r\n       \r\n     }else if (id == R.id.nav_item2 ) {\r\n       \r\n     }","title":"Navigation Drawer Android","body":"<p>Use If else insted of switch case not working in case of android id in java only :</p>\n<pre><code> if (id == R.id.nav_item1 ) {\n   \n }else if (id == R.id.nav_item2 ) {\n   \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697450548,"creation_date":1697450548,"answer_id":77301036,"question_id":77300929,"body_markdown":"You can still use the switch cases if you add\r\n\r\n    android.nonFinalResIds=false\r\n\r\nto gradle.properties file.","title":"Navigation Drawer Android","body":"<p>You can still use the switch cases if you add</p>\n<pre><code>android.nonFinalResIds=false\n</code></pre>\n<p>to gradle.properties file.</p>\n"}],"owner":{"account_id":27623532,"reputation":29,"user_id":21084003,"display_name":"Sriram S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697463375,"creation_date":1697449526,"question_id":77300929,"body_markdown":"I have created a app with app drawer, It shows error in switch case at Id. I tried to change but shows error in this line only.\r\n\r\nBelow is my java code, when I build it shows constant expression required\r\n\r\n```\r\npackage com.example.dwcsongs;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport androidx.annotation.NonNull;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\npublic class drawer_left extends AppCompatActivity {\r\n\r\n    private DrawerLayout drawerLayout;\r\n    private NavigationView navigationView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_drawer_left);\r\n\r\n        drawerLayout = findViewById(R.id.drawer_layout);\r\n        navigationView = findViewById(R.id.navigation_view);\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                // Handle item selection here\r\n                switch (item.getItemId()) {\r\n                    case R.id.nav_item1 :\r\n                        // Handle item 1 selection\r\n                        break;\r\n                    case R.id.nav_item2:\r\n                        // Handle item 2 selection\r\n                        break;\r\n                    // Add more cases for other menu items\r\n                }\r\n\r\n                drawerLayout.closeDrawers(); // Close the drawer\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nnavigation_menu.xml\r\n\r\n```\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/nav_item1&quot;\r\n        android:title=&quot;Item 1&quot; /&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/nav_item2&quot;\r\n        android:title=&quot;Item 2&quot; /&gt;\r\n    &lt;!-- Add more items as needed --&gt;\r\n&lt;/menu&gt;\r\n```","title":"Navigation Drawer Android","body":"<p>I have created a app with app drawer, It shows error in switch case at Id. I tried to change but shows error in this line only.</p>\n<p>Below is my java code, when I build it shows constant expression required</p>\n<pre><code>package com.example.dwcsongs;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport androidx.annotation.NonNull;\nimport com.google.android.material.navigation.NavigationView;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\npublic class drawer_left extends AppCompatActivity {\n\n    private DrawerLayout drawerLayout;\n    private NavigationView navigationView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_drawer_left);\n\n        drawerLayout = findViewById(R.id.drawer_layout);\n        navigationView = findViewById(R.id.navigation_view);\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                // Handle item selection here\n                switch (item.getItemId()) {\n                    case R.id.nav_item1 :\n                        // Handle item 1 selection\n                        break;\n                    case R.id.nav_item2:\n                        // Handle item 2 selection\n                        break;\n                    // Add more cases for other menu items\n                }\n\n                drawerLayout.closeDrawers(); // Close the drawer\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n<p>navigation_menu.xml</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_item1&quot;\n        android:title=&quot;Item 1&quot; /&gt;\n    &lt;item\n        android:id=&quot;@+id/nav_item2&quot;\n        android:title=&quot;Item 2&quot; /&gt;\n    &lt;!-- Add more items as needed --&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","salesforce","dataloader"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697460452,"post_id":77301297,"comment_id":136278813,"body_markdown":"Posts on stackoverflow get nothing from me.","body":"Posts on stackoverflow get nothing from me."}],"answers":[{"tags":[],"owner":{"account_id":28866538,"reputation":21,"user_id":22109185,"display_name":"iluvcode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697461531,"creation_date":1697461531,"answer_id":77302227,"question_id":77301297,"body_markdown":"After not succeeding with the desired version,\r\nI downloaded a previous version of DataLoader: &quot;dataloader_win_v57.0.1&quot;,\r\nand it worked just fine. \r\n\r\nBTW if it helps anybody - I had to add to Path in the environment variables the &#39;C:\\Windows\\System32&#39; directory so the installation should work, it wouldn&#39;t work otherwise.","title":"Salesforce Problem with Data Loader, Java version and installing the software","body":"<p>After not succeeding with the desired version,\nI downloaded a previous version of DataLoader: &quot;dataloader_win_v57.0.1&quot;,\nand it worked just fine.</p>\n<p>BTW if it helps anybody - I had to add to Path in the environment variables the 'C:\\Windows\\System32' directory so the installation should work, it wouldn't work otherwise.</p>\n"},{"tags":[],"owner":{"account_id":29206892,"reputation":1,"user_id":22375794,"display_name":"cra ramaro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697463101,"creation_date":1697463101,"answer_id":77302407,"question_id":77301297,"body_markdown":"I&#39;ve added the path of the installed Zulu to JAVA_HOME and it works","title":"Salesforce Problem with Data Loader, Java version and installing the software","body":"<p>I've added the path of the installed Zulu to JAVA_HOME and it works</p>\n"}],"owner":{"account_id":28866538,"reputation":21,"user_id":22109185,"display_name":"iluvcode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697463101,"creation_date":1697453052,"question_id":77301297,"body_markdown":"i&#39;v installed the latest version of Zulu Jdk and DataLoader to get Data Loader on my computer, but after extracting the files from the compressed file of the DataLoader, and trying to run the install.bat file, I get this message in a command prompt that pops up and disappears right away:\r\n&quot;Data Loader requires Java JRE 17 or later. Checking if it is installed...&quot;\r\n\r\nwhen verifying the version of java on my computer I see that I do have a late enough version of java - as you can see in this image:[![the existing v of java I have installed](https://i.stack.imgur.com/tpMSP.png)](https://i.stack.imgur.com/tpMSP.png)\r\n\r\nso what can the problem be?\r\n\r\ndoes anyone know?\r\n\r\nI looked around numerous times to find an answer or at least a direction to be able to progress with the problem using different wordings, but did not find any solution, or anyone posting a question that mentions having a similar issue.\r\n","title":"Salesforce Problem with Data Loader, Java version and installing the software","body":"<p>i'v installed the latest version of Zulu Jdk and DataLoader to get Data Loader on my computer, but after extracting the files from the compressed file of the DataLoader, and trying to run the install.bat file, I get this message in a command prompt that pops up and disappears right away:\n&quot;Data Loader requires Java JRE 17 or later. Checking if it is installed...&quot;</p>\n<p>when verifying the version of java on my computer I see that I do have a late enough version of java - as you can see in this image:<a href=\"https://i.stack.imgur.com/tpMSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tpMSP.png\" alt=\"the existing v of java I have installed\" /></a></p>\n<p>so what can the problem be?</p>\n<p>does anyone know?</p>\n<p>I looked around numerous times to find an answer or at least a direction to be able to progress with the problem using different wordings, but did not find any solution, or anyone posting a question that mentions having a similar issue.</p>\n"},{"tags":["java","spring-security","spring-websocket"],"owner":{"account_id":28330682,"reputation":1,"user_id":21665017,"display_name":"1Stack1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697463067,"creation_date":1697287738,"question_id":77292856,"body_markdown":"I now have a need to obtain the user information saved in SpringSecurity by the previous login request when the WebsocketSession connection of SpringBoot Websocket is established.\r\ni have save the userPrincipal into the a session after login success.\r\n```\r\nSecurityContextHolder.getContext().setAuthentication(authenticateToSession);\r\n```\r\nand then i will make a websocket request,but when i can get the Authentication when run the afterConnectionEstablished method.\r\n\r\n```\r\n@Component\r\npublic class ChatHandler extends AbstractWebSocketHandler {\r\n\r\n    \r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n        SecurityContextHolder.getContext().getAuthentication();\r\n    }\r\n```\r\nthe result is null.\r\n\r\n\r\n\r\nSo i want to know how get the Authentication ","title":"how to get the userPrincipal saved in SecurityContext when websocket after connection","body":"<p>I now have a need to obtain the user information saved in SpringSecurity by the previous login request when the WebsocketSession connection of SpringBoot Websocket is established.\ni have save the userPrincipal into the a session after login success.</p>\n<pre><code>SecurityContextHolder.getContext().setAuthentication(authenticateToSession);\n</code></pre>\n<p>and then i will make a websocket request,but when i can get the Authentication when run the afterConnectionEstablished method.</p>\n<pre><code>@Component\npublic class ChatHandler extends AbstractWebSocketHandler {\n\n    \n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        SecurityContextHolder.getContext().getAuthentication();\n    }\n</code></pre>\n<p>the result is null.</p>\n<p>So i want to know how get the Authentication</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1539270274,"post_id":52763204,"comment_id":92449659,"body_markdown":"That part is supposed to show the Javadoc. Does the separate javadoc view work? (Window -&gt; Show View -&gt; Javadoc)","body":"That part is supposed to show the Javadoc. Does the separate javadoc view work? (Window -&gt; Show View -&gt; Javadoc)"},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":1,"creation_date":1539271031,"post_id":52763204,"comment_id":92450156,"body_markdown":"What OS and desktop environment are you using? This &quot;black tool tips&quot; problem seems to be [quite common with eclipse](https://stackoverflow.com/search?q=eclipse+tooltip+black), and different reasons and fixes seem to be possible.","body":"What OS and desktop environment are you using? This &quot;black tool tips&quot; problem seems to be <a href=\"https://stackoverflow.com/search?q=eclipse+tooltip+black\">quite common with eclipse</a>, and different reasons and fixes seem to be possible."},{"owner":{"account_id":11410634,"reputation":9,"user_id":8364878,"display_name":"Flox"},"score":0,"creation_date":1539294469,"post_id":52763204,"comment_id":92461432,"body_markdown":"Yea I was trying to search for it before posting, but couldn&#39;t quite figure out the name of the &quot;javadoc&quot;. Going to the answer below helped solve the program. It was white so I just changed it to another colour and it fixed itself.","body":"Yea I was trying to search for it before posting, but couldn&#39;t quite figure out the name of the &quot;javadoc&quot;. Going to the answer below helped solve the program. It was white so I just changed it to another colour and it fixed itself."}],"answers":[{"tags":[],"owner":{"account_id":6195706,"reputation":21,"user_id":4827042,"display_name":"Miguel Angel Leyva Guadalupe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539271542,"creation_date":1539271321,"answer_id":52763682,"question_id":52763204,"body_markdown":"Try to change color in General&gt;Appearance&gt;Colors and Fonts&gt;Basic&gt;\r\n*Information background color\r\n*Information text color\r\n\r\n[![Screenshot][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/JfvGJ.png","title":"Eclipse hovering over variables blackscreen","body":"<p>Try to change color in General>Appearance>Colors and Fonts>Basic>\n*Information background color\n*Information text color</p>\n\n<p><a href=\"https://i.stack.imgur.com/JfvGJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JfvGJ.png\" alt=\"Screenshot\"></a></p>\n"},{"tags":[],"owner":{"account_id":17384819,"reputation":1,"user_id":12596334,"display_name":"Jaeger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697462831,"creation_date":1697462831,"answer_id":77302380,"question_id":52763204,"body_markdown":"It&#39;s worked for me:\r\n**Window&gt;Preferences&gt;Appearance**:\r\nchoose **Theme: Light**\r\n       **Color and Font theme: Default**\r\n\r\n**Window&gt;Preferences&gt;Appearance&gt;Color and Fonts** click &quot;**Restore Defaults**&quot;, then &quot;**Apply**&quot; and finally &quot;**Apply and Close**&quot;. \r\n\r\nRestart Eclipse if necessary!","title":"Eclipse hovering over variables blackscreen","body":"<p>It's worked for me:\n<strong>Window&gt;Preferences&gt;Appearance</strong>:\nchoose <strong>Theme: Light</strong>\n<strong>Color and Font theme: Default</strong></p>\n<p><strong>Window&gt;Preferences&gt;Appearance&gt;Color and Fonts</strong> click &quot;<strong>Restore Defaults</strong>&quot;, then &quot;<strong>Apply</strong>&quot; and finally &quot;<strong>Apply and Close</strong>&quot;.</p>\n<p>Restart Eclipse if necessary!</p>\n"}],"owner":{"account_id":11410634,"reputation":9,"user_id":8364878,"display_name":"Flox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697462831,"creation_date":1539269812,"question_id":52763204,"body_markdown":"Whenever I hover over a variable or try and see an object&#39;s methods, eclipse keeps giving me a black screen. I can highlight the text and see it that way but it&#39;s super inconvenient. I&#39;ve tried going into preferences and resetting the &quot;hover&quot;, restarted eclipse, closed and reopened the program, but it doesn&#39;t seem to fix anything.\r\n\r\n![image](https://i.stack.imgur.com/XAvsS.png)\r\n\r\nHere&#39;s what it looks like. Any help would be appreciated.","title":"Eclipse hovering over variables blackscreen","body":"<p>Whenever I hover over a variable or try and see an object's methods, eclipse keeps giving me a black screen. I can highlight the text and see it that way but it's super inconvenient. I've tried going into preferences and resetting the \"hover\", restarted eclipse, closed and reopened the program, but it doesn't seem to fix anything.</p>\n\n<p><img src=\"https://i.stack.imgur.com/XAvsS.png\" alt=\"image\"></p>\n\n<p>Here's what it looks like. Any help would be appreciated.</p>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697463048,"post_id":77302378,"comment_id":136279357,"body_markdown":"non Java files must be in `src/main/resources` if you don&#39;t place them there they wil be ignored by maven.","body":"non Java files must be in <code>src&#47;main&#47;resources</code> if you don&#39;t place them there they wil be ignored by maven."},{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1697463809,"post_id":77302378,"comment_id":136279541,"body_markdown":"if you just want to reuse `changelog-master.yaml` in any project it might be possible to just put it in some common directory at the same level as the very base level of the project and add this directory as resource folder for any project that needs it. for maven the configuration could be found here: https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html","body":"if you just want to reuse <code>changelog-master.yaml</code> in any project it might be possible to just put it in some common directory at the same level as the very base level of the project and add this directory as resource folder for any project that needs it. for maven the configuration could be found here: <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-resources-plugin/examples/&hellip;</a>"}],"owner":{"account_id":10334390,"reputation":31,"user_id":7623075,"display_name":"DigitalMachine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697462817,"creation_date":1697462817,"question_id":77302378,"body_markdown":"I have here a multimodule project in SpringBoot.\r\n\r\nThe task is to create the DB environment based on liquibase, but the data definition is stored in another subpackage\r\n\r\nFirst there is a project containing shared database code:\r\n\r\n    db-common\r\n    - src\r\n    -- main\r\n    --- java\r\n    ---- com\r\n    ----- myproject\r\n    ------ dbcommon\r\n    ------- dbdao\r\n    -------- ProductDAO.java\r\n    -------- CustomerDAO.java\r\n    ------- db\r\n    -------- changelog\r\n    --------- changelog-master.yaml\r\n\r\n\r\nChangelog-master.yaml is the file containing all data liquibase should use to create the database. Due to the project architecture db-common is just a library.\r\n\r\nDatabase set up should be done from another project customerservice which uses db-common:\r\n\r\n    customerservice\r\n    - src\r\n    -- main\r\n    --- java\r\n    ---- com\r\n    ----- myproject\r\n    ------ customerservice\r\n    \r\nIn customerservice application.properties the following is defined:\r\n\r\n    spring.liquibase.change-log=classpath:com/myproject/dbcommon/db/changelog/changelog-master.yaml\r\n\r\nHowever, Liquibase says: \r\n\r\n    Liquibase failed to start because no change log could be found at classpath:com/myproject/dbcommon/db/changelog/changelog-master.yaml\r\n\r\nRelated dependency in pom.xml of customerservice is set properly, I can use all of those DAOs.\r\n\r\nAny idea how to get liquibase to use changelog-master.yaml from db-common?","title":"Liquibase in SpringBoot load changelog from different module","body":"<p>I have here a multimodule project in SpringBoot.</p>\n<p>The task is to create the DB environment based on liquibase, but the data definition is stored in another subpackage</p>\n<p>First there is a project containing shared database code:</p>\n<pre><code>db-common\n- src\n-- main\n--- java\n---- com\n----- myproject\n------ dbcommon\n------- dbdao\n-------- ProductDAO.java\n-------- CustomerDAO.java\n------- db\n-------- changelog\n--------- changelog-master.yaml\n</code></pre>\n<p>Changelog-master.yaml is the file containing all data liquibase should use to create the database. Due to the project architecture db-common is just a library.</p>\n<p>Database set up should be done from another project customerservice which uses db-common:</p>\n<pre><code>customerservice\n- src\n-- main\n--- java\n---- com\n----- myproject\n------ customerservice\n</code></pre>\n<p>In customerservice application.properties the following is defined:</p>\n<pre><code>spring.liquibase.change-log=classpath:com/myproject/dbcommon/db/changelog/changelog-master.yaml\n</code></pre>\n<p>However, Liquibase says:</p>\n<pre><code>Liquibase failed to start because no change log could be found at classpath:com/myproject/dbcommon/db/changelog/changelog-master.yaml\n</code></pre>\n<p>Related dependency in pom.xml of customerservice is set properly, I can use all of those DAOs.</p>\n<p>Any idea how to get liquibase to use changelog-master.yaml from db-common?</p>\n"},{"tags":["java","android","storage","version","device"],"comments":[{"owner":{"account_id":20725364,"reputation":836,"user_id":15218726,"display_name":"Ammar Abdullah"},"score":1,"creation_date":1663589153,"post_id":73773081,"comment_id":130267960,"body_markdown":"Go for Internal storage directories. It&#39;s same for all android version https://developer.android.com/training/data-storage/app-specific","body":"Go for Internal storage directories. It&#39;s same for all android version <a href=\"https://developer.android.com/training/data-storage/app-specific\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/app-specific</a>"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663594263,"creation_date":1663589876,"answer_id":73773235,"question_id":73773081,"body_markdown":"For all versions you can store to: storage/emulated/0/Android/data/APP_PACKAGE/. \r\n\r\nOr in general to `getExternalFilesDir()`.\r\n\r\nAlso for all versions you can store to:\r\n\r\n    File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\r\n           , &quot;MyFolder&quot;);\r\n\r\nUpdate: getExternalFilesDir is not private on Android Q-;\r\n\r\nFor an app private storage location for all versions use `getFilesDir()`.\r\n\r\nFor `media` use getExternalMediaDirs() available since Lollipop but not private on Q- And not private on higher versions for apps with MANAGE_EXTERNAL_STORAGE. And never for file manager apps.","title":"How to save images in storage for all android versions and devices","body":"<p>For all versions you can store to: storage/emulated/0/Android/data/APP_PACKAGE/.</p>\n<p>Or in general to <code>getExternalFilesDir()</code>.</p>\n<p>Also for all versions you can store to:</p>\n<pre><code>File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\n       , &quot;MyFolder&quot;);\n</code></pre>\n<p>Update: getExternalFilesDir is not private on Android Q-;</p>\n<p>For an app private storage location for all versions use <code>getFilesDir()</code>.</p>\n<p>For <code>media</code> use getExternalMediaDirs() available since Lollipop but not private on Q- And not private on higher versions for apps with MANAGE_EXTERNAL_STORAGE. And never for file manager apps.</p>\n"},{"tags":[],"owner":{"account_id":24564822,"reputation":21,"user_id":18472094,"display_name":"Abhishek Garala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697462739,"creation_date":1697462739,"answer_id":77302368,"question_id":73773081,"body_markdown":"### Kotlin Code for Saving an Image to Internal Storage (Android 13)\r\n\r\nYou can optimize the code for saving an image to internal storage in Android using Kotlin with the following improved code:\r\n\r\n```kotlin\r\nprivate fun saveToInternalStorage(imageUri: Uri) {\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\r\n        val contentValues = ContentValues().apply {\r\n            put(MediaStore.Images.Media.TITLE, imageUri.toString())\r\n            put(MediaStore.Images.Media.DISPLAY_NAME, imageUri.toString())\r\n            put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)\r\n        }\r\n\r\n        val contentResolver = this.contentResolver\r\n        val uri: Uri? = contentResolver.insert(MediaStore.Downloads.EXTERNAL_CONTENT_URI, contentValues)\r\n\r\n        uri?.let {\r\n            val fileDescriptor = contentResolver.openFileDescriptor(it, &quot;w&quot;)?.fileDescriptor\r\n            val inputStream: InputStream? = this.getUriInputStream(imageUri)\r\n\r\n            inputStream?.use { input -&gt;\r\n                fileDescriptor?.let { descriptor -&gt;\r\n                    val outputStream = FileOutputStream(descriptor)\r\n                    val buffer = ByteArray(4096)\r\n                    var bytesRead: Int\r\n\r\n                    while (input.read(buffer).also { bytesRead = it } != -1) {\r\n                        outputStream.write(buffer, 0, bytesRead)\r\n                    }\r\n\r\n                    outputStream.flush()\r\n                    outputStream.close()\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","title":"How to save images in storage for all android versions and devices","body":"<h3>Kotlin Code for Saving an Image to Internal Storage (Android 13)</h3>\n<p>You can optimize the code for saving an image to internal storage in Android using Kotlin with the following improved code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun saveToInternalStorage(imageUri: Uri) {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.TIRAMISU) {\n        val contentValues = ContentValues().apply {\n            put(MediaStore.Images.Media.TITLE, imageUri.toString())\n            put(MediaStore.Images.Media.DISPLAY_NAME, imageUri.toString())\n            put(MediaStore.Images.Media.MIME_TYPE, &quot;image/jpeg&quot;)\n        }\n\n        val contentResolver = this.contentResolver\n        val uri: Uri? = contentResolver.insert(MediaStore.Downloads.EXTERNAL_CONTENT_URI, contentValues)\n\n        uri?.let {\n            val fileDescriptor = contentResolver.openFileDescriptor(it, &quot;w&quot;)?.fileDescriptor\n            val inputStream: InputStream? = this.getUriInputStream(imageUri)\n\n            inputStream?.use { input -&gt;\n                fileDescriptor?.let { descriptor -&gt;\n                    val outputStream = FileOutputStream(descriptor)\n                    val buffer = ByteArray(4096)\n                    var bytesRead: Int\n\n                    while (input.read(buffer).also { bytesRead = it } != -1) {\n                        outputStream.write(buffer, 0, bytesRead)\n                    }\n\n                    outputStream.flush()\n                    outputStream.close()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21992727,"reputation":39,"user_id":16265809,"display_name":"Urvish Vocsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":911,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1697462739,"creation_date":1663589008,"question_id":73773081,"body_markdown":"I need to save images in storage from my android application, my code is working but not for all devices and android versions.\r\n\r\ni need some solution or code from you that can save my images in all device and android versions.\r\n\r\ni need to store data into android folder for my application privacy. i&#39;m wanna to use storage like whatsapp. whatsapp can store images, videos, document all is in storage/emulated/0/Android/media/ without spacial permission and access easily, so what can i do, how can i manage it.\r\n\r\nbut i got issue with some samsung device. to store images in file manager\r\n\r\n**NOTE: I need to save images in all type android version like [Android version 8, 9, 10, 11, 12, etc...] and any device like, [MI, Samsung, Oneplus, etc....]**\r\n","title":"How to save images in storage for all android versions and devices","body":"<p>I need to save images in storage from my android application, my code is working but not for all devices and android versions.</p>\n<p>i need some solution or code from you that can save my images in all device and android versions.</p>\n<p>i need to store data into android folder for my application privacy. i'm wanna to use storage like whatsapp. whatsapp can store images, videos, document all is in storage/emulated/0/Android/media/ without spacial permission and access easily, so what can i do, how can i manage it.</p>\n<p>but i got issue with some samsung device. to store images in file manager</p>\n<p><strong>NOTE: I need to save images in all type android version like [Android version 8, 9, 10, 11, 12, etc...] and any device like, [MI, Samsung, Oneplus, etc....]</strong></p>\n"},{"tags":["java","fonts","pdfbox"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1697462849,"post_id":77302346,"comment_id":136279317,"body_markdown":"Try to disable ligatures for the font, you can do it setting the rendering mode to `RenderingMode.FILL`.","body":"Try to disable ligatures for the font, you can do it setting the rendering mode to <code>RenderingMode.FILL</code>."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1697464556,"post_id":77302346,"comment_id":136279690,"body_markdown":"Please link to the font, or mention it.","body":"Please link to the font, or mention it."},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697465119,"post_id":77302346,"comment_id":136279803,"body_markdown":"@TilmanHausherr Unfortunately I am not able to link to the font. But I can confirm it has an &#39;ft&#39; ligature which is just an empty space","body":"@TilmanHausherr Unfortunately I am not able to link to the font. But I can confirm it has an &#39;ft&#39; ligature which is just an empty space"},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697466293,"post_id":77302346,"comment_id":136280057,"body_markdown":"@DiegoBorba setting the rendering mode does not disable ligatures for me","body":"@DiegoBorba setting the rendering mode does not disable ligatures for me"},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697469618,"post_id":77302346,"comment_id":136280706,"body_markdown":"@TilmanHausherr This also has no effect.","body":"@TilmanHausherr This also has no effect."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1697470907,"post_id":77302346,"comment_id":136280930,"body_markdown":"I looked into the code and I couldn&#39;t find how to disable it. And worse, I couldn&#39;t easily find a way to add this as a feature that could be switched on and off :-(","body":"I looked into the code and I couldn&#39;t find how to disable it. And worse, I couldn&#39;t easily find a way to add this as a feature that could be switched on and off :-("},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1697471855,"post_id":77302346,"comment_id":136281121,"body_markdown":"Out of curiosity, *&quot;But I can confirm it has an &#39;ft&#39; ligature which is just an empty space&quot;* - Can you not switch to a font that either has an &#39;ft&#39; ligature that displays as &#39;ft&#39;, or that has no &#39;ft&#39; ligature to start with?","body":"Out of curiosity, <i>&quot;But I can confirm it has an &#39;ft&#39; ligature which is just an empty space&quot;</i> - Can you not switch to a font that either has an &#39;ft&#39; ligature that displays as &#39;ft&#39;, or that has no &#39;ft&#39; ligature to start with?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1697479167,"post_id":77302346,"comment_id":136282369,"body_markdown":"I&#39;ve created https://issues.apache.org/jira/browse/PDFBOX-5700 . My feeling is that it&#39;s a design flaw. Can you find out whether there is an updated version of that font? Or complain to the vendor?","body":"I&#39;ve created <a href=\"https://issues.apache.org/jira/browse/PDFBOX-5700\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-5700</a> . My feeling is that it&#39;s a design flaw. Can you find out whether there is an updated version of that font? Or complain to the vendor?"},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697525600,"post_id":77302346,"comment_id":136287248,"body_markdown":"@mkl unfortunately it is a proprietary font that must be used. I will contact the vendor in the meantime","body":"@mkl unfortunately it is a proprietary font that must be used. I will contact the vendor in the meantime"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1697544816,"post_id":77302346,"comment_id":136290852,"body_markdown":"*&quot;unfortunately it is a proprietary font that must be used&quot;* - Have you considered repairing it in a font editor?","body":"<i>&quot;unfortunately it is a proprietary font that must be used&quot;</i> - Have you considered repairing it in a font editor?"},{"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"score":0,"creation_date":1697698438,"post_id":77302346,"comment_id":136313033,"body_markdown":"@mkl this appears to be the way forward for now. Thanks","body":"@mkl this appears to be the way forward for now. Thanks"}],"owner":{"account_id":29683654,"reputation":21,"user_id":22749769,"display_name":"ab572210"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1697462557,"creation_date":1697462557,"question_id":77302346,"body_markdown":"I am having an issue with PDFBox 3.0 that does not happen in PDFBox 2. When displaying text in a loaded TTF font, all occurences of the string &#39;ft&#39; are replaced with &#39; &#39;. I&#39;ve narrowed this down to a ligature for &#39;ft&#39; missing from the font file. In previous versions this would simply print &#39;ft&#39; but in 3.0 this is now empty space. Is there any way to switch off ligatures for the font or a fallback so the text will print correctly?\r\n\r\nCode sample:\r\n\r\n```\r\nPDFont font = PDType0Font.load(doc, getClass().getResourceAsStream(PATH_TO_FONT));\r\ncontentStream.setFont(font, 20);\r\ncontentStream.beginText();\r\ncontentStream.showText(&quot;This is a gift message. f t.&quot;);\r\ncontentStream.endText();\r\n```\r\n\r\nThis will display &#39;This is a gi  message. f t.&#39; on the PDF. (This works fine with the built in fonts.)\r\n\r\nI have also tried the below with no success:\r\n\r\n```\r\nTrueTypeFont ttf = new TTFParser().parse(...);\r\nttf.disableGsubFeature(&quot;liga&quot;);\r\nPDFont font = PDType0Font.load(doc, ttf, false);","title":"Missing ligature in font causing missing text in PDFBox 3.0","body":"<p>I am having an issue with PDFBox 3.0 that does not happen in PDFBox 2. When displaying text in a loaded TTF font, all occurences of the string 'ft' are replaced with ' '. I've narrowed this down to a ligature for 'ft' missing from the font file. In previous versions this would simply print 'ft' but in 3.0 this is now empty space. Is there any way to switch off ligatures for the font or a fallback so the text will print correctly?</p>\n<p>Code sample:</p>\n<pre><code>PDFont font = PDType0Font.load(doc, getClass().getResourceAsStream(PATH_TO_FONT));\ncontentStream.setFont(font, 20);\ncontentStream.beginText();\ncontentStream.showText(&quot;This is a gift message. f t.&quot;);\ncontentStream.endText();\n</code></pre>\n<p>This will display 'This is a gi  message. f t.' on the PDF. (This works fine with the built in fonts.)</p>\n<p>I have also tried the below with no success:</p>\n<pre><code>TrueTypeFont ttf = new TTFParser().parse(...);\nttf.disableGsubFeature(&quot;liga&quot;);\nPDFont font = PDType0Font.load(doc, ttf, false);\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":3298842,"reputation":14301,"user_id":2775450,"accept_rate":71,"display_name":"Codebender"},"score":2,"creation_date":1439366469,"post_id":31959352,"comment_id":51826566,"body_markdown":"Did you take a look at `String.replace()` method?","body":"Did you take a look at <code>String.replace()</code> method?"},{"owner":{"account_id":541043,"reputation":566,"user_id":909447,"accept_rate":60,"display_name":"Tator"},"score":4,"creation_date":1439366516,"post_id":31959352,"comment_id":51826591,"body_markdown":"i just googled the title of your question - the results were shocking","body":"i just googled the title of your question - the results were shocking"},{"owner":{"account_id":205351,"reputation":3275,"user_id":454063,"accept_rate":86,"display_name":"Chris"},"score":0,"creation_date":1439366807,"post_id":31959352,"comment_id":51826774,"body_markdown":"possible duplicate of [String replace a Backslash](http://stackoverflow.com/questions/5596458/string-replace-a-backslash) or at least very similar (no need for separate question for replacing any possible character)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5596458/string-replace-a-backslash\">String replace a Backslash</a> or at least very similar (no need for separate question for replacing any possible character)"},{"owner":{"account_id":111584,"reputation":2209,"user_id":294696,"accept_rate":100,"display_name":"Mikk"},"score":1,"creation_date":1439366818,"post_id":31959352,"comment_id":51826778,"body_markdown":"possible duplicate of [replace String with another in java](http://stackoverflow.com/questions/5216272/replace-string-with-another-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5216272/replace-string-with-another-in-java\">replace String with another in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":3210103,"reputation":1587,"user_id":2710264,"accept_rate":20,"display_name":"wawek"},"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1439366494,"creation_date":1439366494,"answer_id":31959392,"question_id":31959352,"body_markdown":"    str = str.replaceAll(&quot;\\&#39;&quot;,&quot;&quot;);","title":"Remove single quotes in a string Java","body":"<pre><code>str = str.replaceAll(\"\\'\",\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017202,"reputation":5167,"user_id":4725592,"accept_rate":65,"display_name":"Harshit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439366497,"creation_date":1439366497,"answer_id":31959396,"question_id":31959352,"body_markdown":"Use this\r\n\r\n    String str = &quot;The State of the water = &#39;ICE&#39;&quot;;\r\n    str = str.replaceAll(&quot;&#39;&quot;,&quot;&quot;);","title":"Remove single quotes in a string Java","body":"<p>Use this</p>\n\n<pre><code>String str = \"The State of the water = 'ICE'\";\nstr = str.replaceAll(\"'\",\"\");\n</code></pre>\n"}],"owner":{"account_id":1875033,"reputation":1104,"user_id":1696421,"accept_rate":53,"display_name":"fiddle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25409,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":31959392,"answer_count":2,"score":7,"last_activity_date":1697462415,"creation_date":1439366388,"question_id":31959352,"body_markdown":"I need some help to replace all the single quotes in a string.\r\n\r\nThis is my string:\r\n\r\n    String myString = &quot;The State of the water = &#39;ICE&#39;&quot;;\r\n\r\n    // I want to remove the single quotes around ICE\r\n\r\n    System.out.println(myString); // The State of the water = ICE","title":"Remove single quotes in a string Java","body":"<p>I need some help to replace all the single quotes in a string.</p>\n<p>This is my string:</p>\n<pre><code>String myString = &quot;The State of the water = 'ICE'&quot;;\n\n// I want to remove the single quotes around ICE\n\nSystem.out.println(myString); // The State of the water = ICE\n</code></pre>\n"},{"tags":["java","arraylist","multidimensional-array"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634867263,"post_id":69670506,"comment_id":123148022,"body_markdown":"Your are storing EMP records but are searching use a String.","body":"Your are storing EMP records but are searching use a String."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1634867297,"post_id":69670506,"comment_id":123148031,"body_markdown":"As per the javadocs *Returns the index of the first occurrence of the specified element in this list, or -1 if this list does not contain the element.*  If you have an ID of `Fred` it will not be found because Your list does not contain a String Object `Fred` - see this answer https://stackoverflow.com/a/13139071/2310289","body":"As per the javadocs <i>Returns the index of the first occurrence of the specified element in this list, or -1 if this list does not contain the element.</i>  If you have an ID of <code>Fred</code> it will not be found because Your list does not contain a String Object <code>Fred</code> - see this answer <a href=\"https://stackoverflow.com/a/13139071/2310289\">stackoverflow.com/a/13139071/2310289</a>"}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634867789,"creation_date":1634867529,"answer_id":69670564,"question_id":69670506,"body_markdown":"You can simply use `removeIf` and provide a predicate like this:\r\n\r\n```java\r\nid = IDin.getText();\r\nrecord.removeIf(emp -&gt; emp.getId().equals(id)); //add null check if needed\r\n```\r\n\r\n[boolean removeIf(Predicate&lt;? super E&gt; filter)][1]\r\n\r\n&gt; Removes all of the elements of this collection that satisfy the given\r\n&gt; predicate. Errors or runtime exceptions thrown during iteration or by\r\n&gt; the predicate are relayed to the caller.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#removeIf-java.util.function.Predicate-","title":"Multidimensional arrayList get ID and remove the entire list from the arrayList","body":"<p>You can simply use <code>removeIf</code> and provide a predicate like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>id = IDin.getText();\nrecord.removeIf(emp -&gt; emp.getId().equals(id)); //add null check if needed\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">boolean removeIf(Predicate&lt;? super E&gt; filter)</a></p>\n<blockquote>\n<p>Removes all of the elements of this collection that satisfy the given\npredicate. Errors or runtime exceptions thrown during iteration or by\nthe predicate are relayed to the caller.</p>\n</blockquote>\n"}],"owner":{"account_id":22910360,"reputation":15,"user_id":17047723,"display_name":"EverGreat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69670564,"answer_count":1,"score":0,"last_activity_date":1697462352,"creation_date":1634866718,"question_id":69670506,"body_markdown":"```\r\nclass Emp {\r\n\r\n    String ID, FName, LName, ASalary, StartDate;\r\n\r\n    Emp(String _ID, String _FName, String _LName, String _ASalary, String _StartDate) {\r\n        ID = _ID;\r\n        FName = _FName;\r\n        LName = _LName;\r\n        ASalary = _ASalary;\r\n        StartDate = _StartDate;\r\n    }\r\n}\r\n\r\nArrayList&lt; Emp&gt; Record = new ArrayList&lt; Emp&gt;();\r\n\r\n\r\n private void btnRemoveActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        String ID;\r\n\r\n        ID = IDin.getText();\r\n     \r\n        int firstIndex = Record.indexOf(ID);\r\n        Record.remove(firstIndex);\r\n        Display.setText(&quot;remove &quot; + ID + &quot; Indext of &quot; + firstIndex);\r\n}      \r\n```\r\nIt returns -1 as it couldn&#39;t find ID in the ArrayList, I just need to get ID number and remove the entire ArrayList with that ID number ","title":"Multidimensional arrayList get ID and remove the entire list from the arrayList","body":"<pre><code>class Emp {\n\n    String ID, FName, LName, ASalary, StartDate;\n\n    Emp(String _ID, String _FName, String _LName, String _ASalary, String _StartDate) {\n        ID = _ID;\n        FName = _FName;\n        LName = _LName;\n        ASalary = _ASalary;\n        StartDate = _StartDate;\n    }\n}\n\nArrayList&lt; Emp&gt; Record = new ArrayList&lt; Emp&gt;();\n\n\n private void btnRemoveActionPerformed(java.awt.event.ActionEvent evt) {                                          \n        String ID;\n\n        ID = IDin.getText();\n     \n        int firstIndex = Record.indexOf(ID);\n        Record.remove(firstIndex);\n        Display.setText(&quot;remove &quot; + ID + &quot; Indext of &quot; + firstIndex);\n}      \n</code></pre>\n<p>It returns -1 as it couldn't find ID in the ArrayList, I just need to get ID number and remove the entire ArrayList with that ID number</p>\n"},{"tags":["java","spring","tomcat","spring-boot","nosuchmethoderror"],"comments":[{"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"score":1,"creation_date":1447275869,"post_id":33658460,"comment_id":55093161,"body_markdown":"Consider adding &lt;version&gt;${spring.version}&lt;/version&gt; to your Spring dependencies.","body":"Consider adding &lt;version&gt;${spring.version}&lt;/version&gt; to your Spring dependencies."},{"owner":{"account_id":7245590,"reputation":870,"user_id":5527604,"display_name":"Kabir"},"score":0,"creation_date":1447276066,"post_id":33658460,"comment_id":55093262,"body_markdown":"ah yes! You&#39;re correct.  Its a spring class method :)","body":"ah yes! You&#39;re correct.  Its a spring class method :)"},{"owner":{"account_id":4012264,"reputation":59,"user_id":3305325,"accept_rate":50,"display_name":"Puls"},"score":0,"creation_date":1447322850,"post_id":33658460,"comment_id":55110679,"body_markdown":"@JustinKSU if i add spring.version i become this warnung: `This expression evaluates to 4.1.8.RELEASE The property is defined in org.springframework.boot:spring-boot-dependencies:1.2.7.RELEASE`","body":"@JustinKSU if i add spring.version i become this warnung: <code>This expression evaluates to 4.1.8.RELEASE The property is defined in org.springframework.boot:spring-boot-dependencies:1.2.7.RELE&zwnj;&#8203;ASE</code>"},{"owner":{"account_id":4012264,"reputation":59,"user_id":3305325,"accept_rate":50,"display_name":"Puls"},"score":0,"creation_date":1447323455,"post_id":33658460,"comment_id":55111075,"body_markdown":"@JustinKSU i get the same exception with &lt;version&gt;${spring.version}&lt;/version&gt;","body":"@JustinKSU i get the same exception with &lt;version&gt;${spring.version}&lt;/version&gt;"},{"owner":{"account_id":1177806,"reputation":927,"user_id":1153366,"accept_rate":30,"display_name":"djnose"},"score":1,"creation_date":1447324039,"post_id":33658460,"comment_id":55111465,"body_markdown":"If you get a NoSuchMethod, it is very likely that this class is loaded already in a different version. Best way to find out is to check the dependencies like: `mvn dependency:tree &gt; c:\\dep.txt`","body":"If you get a NoSuchMethod, it is very likely that this class is loaded already in a different version. Best way to find out is to check the dependencies like: <code>mvn dependency:tree &gt; c:\\dep.txt</code>"}],"answers":[{"tags":[],"owner":{"account_id":4012264,"reputation":59,"user_id":3305325,"accept_rate":50,"display_name":"Puls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447324108,"creation_date":1447324108,"answer_id":33669291,"question_id":33658460,"body_markdown":"I found my mistake. I would have also add spring-android-core in my project shared library *lisa*.\r\n\r\n&gt; Dont use **spring-android-core** and **spring-core** in classpath.","title":"Spring Boot throws NoSuchMethodError org.springframework.util.StringUtils.isEmpty on external tomcat deployment","body":"<p>I found my mistake. I would have also add spring-android-core in my project shared library <em>lisa</em>.</p>\n\n<blockquote>\n  <p>Dont use <strong>spring-android-core</strong> and <strong>spring-core</strong> in classpath.</p>\n</blockquote>\n"}],"owner":{"account_id":4012264,"reputation":59,"user_id":3305325,"accept_rate":50,"display_name":"Puls"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697461651,"creation_date":1447270499,"question_id":33658460,"body_markdown":"I deloy a spring rest service as war file on external tomcat with spring-boot.\r\n\r\n&gt; Caused by: java.lang.NoSuchMethodError: org.springframework.util.StringUtils.isEmpty(Ljava/lang/Object;)Z\r\n\r\nThe spring versions are managed by *spring-boot-starter-parent* in maven but always i get an exception which typical for incompatible spring version. I test with:\r\n\r\n - spring-boot-starter-parent v*1.2.7.RELEASE* and v*1.3.0.BUILD-SNAPSHOT*\r\n\r\n - tomcat v8.0.3 and 8.0.28\r\n\r\nThe strange is i also deployed as runnable jar file that is bug-free. I have also decompile war file and found [org.springframework.util.StringUtils.isEmpty][1] in *\\WEB-INF\\lib\\spring-core-4.1.8.RELEASE*.\r\n\r\nI checked also maven debug output and find only one spring-core artifact with correct version (4.1.8.RELEASE).\r\n\r\nIt is possible that tomcat use spring-core also internal and there is a conflict?\r\n\r\n**Exception in Tomcat logfile by deployment:**\r\n\r\n    Caused by: java.lang.NoSuchMethodError: org.springframework.util.StringUtils.isEmpty(Ljava/lang/Object;)Z\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.getLogger(LogbackLoggingSystem.java:159)\r\n    \tat org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:91)\r\n    \tat org.springframework.boot.logging.LoggingApplicationListener.onApplicationStartedEvent(LoggingApplicationListener.java:155)\r\n    \tat org.springframework.boot.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:141)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:151)\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.publishEvent(EventPublishingRunListener.java:100)\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.started(EventPublishingRunListener.java:54)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:278)\r\n    \tat org.springframework.boot.context.web.SpringBootServletInitializer.run(SpringBootServletInitializer.java:134)\r\n    \tat org.springframework.boot.context.web.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:125)\r\n    \tat org.springframework.boot.context.web.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:81)\r\n    \tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5170)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \t... 45 more\r\n\r\n**My pom.xml:**\r\n\r\n    ...\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;properties&gt;\r\n    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;de.cherrypit&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;lisa&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.1.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;5.0.2.Final&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n    \t&lt;repository&gt;\r\n    \t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t&lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n    \t&lt;pluginRepository&gt;\r\n    \t\t&lt;id&gt;spring-releases&lt;/id&gt;\r\n    \t\t&lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\r\n    \t&lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    ...\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.1.8.RELEASE/javadoc-api/","title":"Spring Boot throws NoSuchMethodError org.springframework.util.StringUtils.isEmpty on external tomcat deployment","body":"<p>I deloy a spring rest service as war file on external tomcat with spring-boot.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.NoSuchMethodError: org.springframework.util.StringUtils.isEmpty(Ljava/lang/Object;)Z</p>\n</blockquote>\n\n<p>The spring versions are managed by <em>spring-boot-starter-parent</em> in maven but always i get an exception which typical for incompatible spring version. I test with:</p>\n\n<ul>\n<li><p>spring-boot-starter-parent v*1.2.7.RELEASE* and v*1.3.0.BUILD-SNAPSHOT*</p></li>\n<li><p>tomcat v8.0.3 and 8.0.28</p></li>\n</ul>\n\n<p>The strange is i also deployed as runnable jar file that is bug-free. I have also decompile war file and found <a href=\"http://docs.spring.io/spring/docs/4.1.8.RELEASE/javadoc-api/\" rel=\"nofollow\">org.springframework.util.StringUtils.isEmpty</a> in <em>\\WEB-INF\\lib\\spring-core-4.1.8.RELEASE</em>.</p>\n\n<p>I checked also maven debug output and find only one spring-core artifact with correct version (4.1.8.RELEASE).</p>\n\n<p>It is possible that tomcat use spring-core also internal and there is a conflict?</p>\n\n<p><strong>Exception in Tomcat logfile by deployment:</strong></p>\n\n<pre><code>Caused by: java.lang.NoSuchMethodError: org.springframework.util.StringUtils.isEmpty(Ljava/lang/Object;)Z\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.getLogger(LogbackLoggingSystem.java:159)\n    at org.springframework.boot.logging.logback.LogbackLoggingSystem.beforeInitialize(LogbackLoggingSystem.java:91)\n    at org.springframework.boot.logging.LoggingApplicationListener.onApplicationStartedEvent(LoggingApplicationListener.java:155)\n    at org.springframework.boot.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:141)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:151)\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:128)\n    at org.springframework.boot.context.event.EventPublishingRunListener.publishEvent(EventPublishingRunListener.java:100)\n    at org.springframework.boot.context.event.EventPublishingRunListener.started(EventPublishingRunListener.java:54)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:278)\n    at org.springframework.boot.context.web.SpringBootServletInitializer.run(SpringBootServletInitializer.java:134)\n    at org.springframework.boot.context.web.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:125)\n    at org.springframework.boot.context.web.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:81)\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:175)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5170)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 45 more\n</code></pre>\n\n<p><strong>My pom.xml:</strong></p>\n\n<pre><code>...\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.2.7.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.cherrypit&lt;/groupId&gt;\n        &lt;artifactId&gt;lisa&lt;/artifactId&gt;\n        &lt;version&gt;0.1.1-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.0.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;spring-releases&lt;/id&gt;\n        &lt;url&gt;https://repo.spring.io/libs-release&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n...\n</code></pre>\n"},{"tags":["java","console-application"],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1245157499,"creation_date":1245157499,"answer_id":1001353,"question_id":1001335,"body_markdown":"I don&#39;t think there&#39;s a built-in function to do that in Java.  There&#39;s a Java curses library called [JCurses][1] that you can use though.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/","title":"Move console cursor to specified position","body":"<p>I don't think there's a built-in function to do that in Java.  There's a Java curses library called <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"noreferrer\">JCurses</a> that you can use though.</p>\n"},{"tags":[],"owner":{"account_id":35995,"reputation":40081,"user_id":102371,"accept_rate":100,"display_name":"John Weldon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1245157539,"creation_date":1245157539,"answer_id":1001357,"question_id":1001335,"body_markdown":"Not without pulling in a console `curses` style library...\r\n\r\nYou can try [javacurses][1] and see if that helps you.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/javacurses/","title":"Move console cursor to specified position","body":"<p>Not without pulling in a console <code>curses</code> style library...</p>\n\n<p>You can try <a href=\"http://sourceforge.net/projects/javacurses/\" rel=\"nofollow noreferrer\">javacurses</a> and see if that helps you.</p>\n"},{"tags":[],"owner":{"account_id":32598,"reputation":13160,"user_id":90573,"display_name":"Tom Jefferys"},"down_vote_count":1,"up_vote_count":43,"is_accepted":true,"score":42,"last_activity_date":1245160405,"creation_date":1245157622,"answer_id":1001368,"question_id":1001335,"body_markdown":"If by gotoxy(x,y), you want to reposition your cursor somewhere specific on the console, you can usually use VT100 control codes to do this.  See http://www.termsys.demon.co.uk/vtansi.htm.\r\n\r\nDo something like\r\n\r\n    char escCode = 0x1B;\r\n    int row = 10; int column = 10;\r\n    System.out.print(String.format(&quot;%c[%d;%df&quot;,escCode,row,column));\r\n\r\nWhich should move the cursor to position 10,10 on the console.\r\n\r\n","title":"Move console cursor to specified position","body":"<p>If by gotoxy(x,y), you want to reposition your cursor somewhere specific on the console, you can usually use VT100 control codes to do this.  See <a href=\"http://www.termsys.demon.co.uk/vtansi.htm\" rel=\"noreferrer\">http://www.termsys.demon.co.uk/vtansi.htm</a>.</p>\n\n<p>Do something like</p>\n\n<pre><code>char escCode = 0x1B;\nint row = 10; int column = 10;\nSystem.out.print(String.format(\"%c[%d;%df\",escCode,row,column));\n</code></pre>\n\n<p>Which should move the cursor to position 10,10 on the console.</p>\n"},{"tags":[],"owner":{"account_id":262850,"reputation":5367,"user_id":548020,"accept_rate":75,"display_name":"CodeZombie"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665504207,"creation_date":1366638981,"answer_id":16148982,"question_id":1001335,"body_markdown":"I found [Lanterna][1] to be a very good library. It does not dependend on any native library but runs 100% in pure Java.\r\n\r\nIt offers a `Screen` class which allows text output based on a coordinate system. For OS with a graphical environment it uses a Swing based terminal emulator. Unfortunately, you are not able to force terminal mode on Windows, so if you really need the terminal, use one of the solutions in the other answers.\r\n\r\n  [1]: https://github.com/mabe02/lanterna/","title":"Move console cursor to specified position","body":"<p>I found <a href=\"https://github.com/mabe02/lanterna/\" rel=\"nofollow noreferrer\">Lanterna</a> to be a very good library. It does not dependend on any native library but runs 100% in pure Java.</p>\n<p>It offers a <code>Screen</code> class which allows text output based on a coordinate system. For OS with a graphical environment it uses a Swing based terminal emulator. Unfortunately, you are not able to force terminal mode on Windows, so if you really need the terminal, use one of the solutions in the other answers.</p>\n"},{"tags":[],"owner":{"account_id":24296451,"reputation":11,"user_id":18240597,"display_name":"ItsMorze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697460408,"creation_date":1697380407,"answer_id":77297100,"question_id":1001335,"body_markdown":"The easiest way to do that in my opinion is using [*ANSI escape sequences*][1].  \r\n\r\nFor this specific operation we&#39;ll use the escape sequence `H`, to move to the point x,y we&#39;ll print to the screen `ESC x;yH`.  \r\n\r\nIn java that will be `System.out.print(&quot;\\u001B&quot; + x + &quot;;&quot; + y + &quot;H&quot;);`\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ANSI_escape_code","title":"Move console cursor to specified position","body":"<p>The easiest way to do that in my opinion is using <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\"><em>ANSI escape sequences</em></a>.</p>\n<p>For this specific operation we'll use the escape sequence <code>H</code>, to move to the point x,y we'll print to the screen <code>ESC x;yH</code>.</p>\n<p>In java that will be <code>System.out.print(&quot;\\u001B&quot; + x + &quot;;&quot; + y + &quot;H&quot;);</code></p>\n"}],"owner":{"account_id":34192,"reputation":3560,"user_id":96389,"accept_rate":75,"display_name":"setzamora"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53643,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":1001368,"answer_count":5,"score":28,"last_activity_date":1697460408,"creation_date":1245157271,"question_id":1001335,"body_markdown":"I&#39;m writing a simple console application (80x24) in Java.\r\n\r\nIs there a `gotoxy(x,y)` equivalent for the console?","title":"Move console cursor to specified position","body":"<p>I'm writing a simple console application (80x24) in Java.</p>\n<p>Is there a <code>gotoxy(x,y)</code> equivalent for the console?</p>\n"},{"tags":["java","swing","fest"],"comments":[{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1342967743,"post_id":11601094,"comment_id":15355953,"body_markdown":"Are you using a background thread for this?","body":"Are you using a background thread for this?"},{"owner":{"account_id":1180001,"reputation":1268,"user_id":1155122,"accept_rate":52,"display_name":"whomaniac"},"score":0,"creation_date":1342968487,"post_id":11601094,"comment_id":15356082,"body_markdown":"There is the multithreaded gui program and the test is running on a seperate thread. I have a sleep call before calling the finder.","body":"There is the multithreaded gui program and the test is running on a seperate thread. I have a sleep call before calling the finder."},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1342968605,"post_id":11601094,"comment_id":15356109,"body_markdown":"But you&#39;re absolutely sure that the call to set the JOptionPane visible and the code above are on two completely distinct threads, right?","body":"But you&#39;re absolutely sure that the call to set the JOptionPane visible and the code above are on two completely distinct threads, right?"},{"owner":{"account_id":1180001,"reputation":1268,"user_id":1155122,"accept_rate":52,"display_name":"whomaniac"},"score":0,"creation_date":1342968952,"post_id":11601094,"comment_id":15356169,"body_markdown":"yes. This part of an automation test. So the JOptionPane&#39;s visibilty configuration is not in the test code. Maybe in the gui code i need to correctly pass the parent frame of my OptionPane popup when I create it?","body":"yes. This part of an automation test. So the JOptionPane&#39;s visibilty configuration is not in the test code. Maybe in the gui code i need to correctly pass the parent frame of my OptionPane popup when I create it?"},{"owner":{"account_id":1180001,"reputation":1268,"user_id":1155122,"accept_rate":52,"display_name":"whomaniac"},"score":1,"creation_date":1342973585,"post_id":11601094,"comment_id":15357105,"body_markdown":"Yup the problem was a null parent frame","body":"Yup the problem was a null parent frame"},{"owner":{"account_id":247613,"reputation":284087,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1342973733,"post_id":11601094,"comment_id":15357136,"body_markdown":"argh, good pick up. It&#39;s always the little things that get you. Thanks for letting us know how you resolved this. 1+ You might want to post your comment above as an answer for the benefit of future coders who run into the same problem.","body":"argh, good pick up. It&#39;s always the little things that get you. Thanks for letting us know how you resolved this. 1+ You might want to post your comment above as an answer for the benefit of future coders who run into the same problem."},{"owner":{"account_id":102133,"reputation":8546,"user_id":274350,"accept_rate":100,"display_name":"Richard Neish"},"score":0,"creation_date":1434549671,"post_id":11601094,"comment_id":49826916,"body_markdown":"@whomaniac please post your comment as an answer and accept it to make your question useful to other StackOverflow users.","body":"@whomaniac please post your comment as an answer and accept it to make your question useful to other StackOverflow users."},{"owner":{"account_id":1389840,"reputation":1793,"user_id":1320945,"accept_rate":75,"display_name":"Bertram Nudelbach"},"score":0,"creation_date":1437672077,"post_id":11601094,"comment_id":51140016,"body_markdown":"Just wanted to let you know that you could use AssertJ Swing in future; FEST is outdated and not maintained anymore. AssertJ Swing is the fork of FEST so the transition will be easy. Even if the development speed is slow, it is being maintained ;)","body":"Just wanted to let you know that you could use AssertJ Swing in future; FEST is outdated and not maintained anymore. AssertJ Swing is the fork of FEST so the transition will be easy. Even if the development speed is slow, it is being maintained ;)"}],"answers":[{"tags":[],"owner":{"account_id":29677605,"reputation":1,"user_id":22745119,"display_name":"Mr Krust"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697460259,"creation_date":1697388485,"answer_id":77297633,"question_id":11601094,"body_markdown":"You must recognize type of element, that you want to find.\r\n\r\nFor example, I use `JOptionPane.showMessageDialog()` and its create an object of `javax.swing.JOptionPane`.\r\n\r\nBut, by default `JOptionPaneFinder.findOptionPane()` find not `javax.swing.JOptionPane`.\r\n\r\nFor fix, you must use this:\r\n\r\n```java\r\nJOptionPane t = (JOptionPane) managerFixture.robot.finder().find(c -&gt; c instanceof JOptionPane);\r\n```","title":"JAVA FEST Can&#39;t find OptionsPane","body":"<p>You must recognize type of element, that you want to find.</p>\n<p>For example, I use <code>JOptionPane.showMessageDialog()</code> and its create an object of <code>javax.swing.JOptionPane</code>.</p>\n<p>But, by default <code>JOptionPaneFinder.findOptionPane()</code> find not <code>javax.swing.JOptionPane</code>.</p>\n<p>For fix, you must use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JOptionPane t = (JOptionPane) managerFixture.robot.finder().find(c -&gt; c instanceof JOptionPane);\n</code></pre>\n"}],"owner":{"account_id":1180001,"reputation":1268,"user_id":1155122,"accept_rate":52,"display_name":"whomaniac"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697460259,"creation_date":1342967245,"question_id":11601094,"body_markdown":"I am trying to get Java FEST to find a pop up dialogue and click on the the yes button.\r\nI have the following code:\r\n\r\n    JOptionPaneFixture fixture = JOptionPaneFinder.findOptionPane().using(TestSite.myRobot);\r\n    fixture.buttonWithText(&quot;Yes&quot; ).click();\r\n\r\nOn the first line the following exception is thrown:\r\n\r\n*org.fest.swing.exception.WaitTimedOutError: Timed out waiting for component to be found using matcher org.fest.swing.core.TypeMatcher[type=javax.swing.JOptionPane, requireShowing=true]\r\nUnable to find component using matcher org.fest.swing.core.TypeMatcher[type=javax.swing.JOptionPane, requireShowing=true].*\r\n\r\nThe option pane of course did pop up on my gui, yet FEST doesn&#39;t find it.\r\n\r\nI tried using the window finder as mentioned here:\r\nhttps://stackoverflow.com/questions/10626357/fest-swing-new-frame-on-click-cant-make-new-frame-fixture\r\n\r\nBut to no avail!!\r\n\r\nPlease help!","title":"JAVA FEST Can&#39;t find OptionsPane","body":"<p>I am trying to get Java FEST to find a pop up dialogue and click on the the yes button.\nI have the following code:</p>\n\n<pre><code>JOptionPaneFixture fixture = JOptionPaneFinder.findOptionPane().using(TestSite.myRobot);\nfixture.buttonWithText(\"Yes\" ).click();\n</code></pre>\n\n<p>On the first line the following exception is thrown:</p>\n\n<p><em>org.fest.swing.exception.WaitTimedOutError: Timed out waiting for component to be found using matcher org.fest.swing.core.TypeMatcher[type=javax.swing.JOptionPane, requireShowing=true]\nUnable to find component using matcher org.fest.swing.core.TypeMatcher[type=javax.swing.JOptionPane, requireShowing=true].</em></p>\n\n<p>The option pane of course did pop up on my gui, yet FEST doesn't find it.</p>\n\n<p>I tried using the window finder as mentioned here:\n<a href=\"https://stackoverflow.com/questions/10626357/fest-swing-new-frame-on-click-cant-make-new-frame-fixture\">FEST Swing new frame on click, can&#39;t make new frame fixture</a></p>\n\n<p>But to no avail!!</p>\n\n<p>Please help!</p>\n"},{"tags":["java","list","kotlin","jsonlines"],"answers":[{"tags":[],"owner":{"account_id":22539323,"reputation":11,"user_id":16730095,"display_name":""},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640104312,"creation_date":1640103003,"answer_id":70438361,"question_id":70438068,"body_markdown":"```\r\nimport com.alibaba.fastjson.JSONArray;\r\n\r\nfor (int i = 0; i &lt; personList.size(); i++) {\r\n    JSONObject obj = (JSONObject)array.get(i);\r\n    System.out.println(obj.toJSONString());\r\n}\r\n\r\n```","title":"Java conversion from list to JSONL","body":"<pre><code>import com.alibaba.fastjson.JSONArray;\n\nfor (int i = 0; i &lt; personList.size(); i++) {\n    JSONObject obj = (JSONObject)array.get(i);\n    System.out.println(obj.toJSONString());\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17374836,"reputation":146,"user_id":12588118,"display_name":"Lokeshwar G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657110056,"creation_date":1657110056,"answer_id":72883468,"question_id":70438068,"body_markdown":"```\r\nimport org.json.simple.JSONObject;\r\n\r\npublic static void main(String[] args) throws IOException {\r\n        File fout = new File(&quot;output.jsonl&quot;);\r\n        FileOutputStream fos = new FileOutputStream(fout);\r\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos));\r\n        for(int i=0;i&lt;5;i++)\r\n        {\r\n            JSONObject jsonObject = new JSONObject();\r\n            jsonObject.put(&quot;source&quot;, &quot;main()&quot;);\r\n            jsonObject.put(&quot;path&quot;, &quot;main.java&quot;);\r\n            bw.write(jsonObject.toJSONString());\r\n            bw.newLine();\r\n    }\r\n        bw.close();\r\n    }\r\n```","title":"Java conversion from list to JSONL","body":"<pre><code>import org.json.simple.JSONObject;\n\npublic static void main(String[] args) throws IOException {\n        File fout = new File(&quot;output.jsonl&quot;);\n        FileOutputStream fos = new FileOutputStream(fout);\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos));\n        for(int i=0;i&lt;5;i++)\n        {\n            JSONObject jsonObject = new JSONObject();\n            jsonObject.put(&quot;source&quot;, &quot;main()&quot;);\n            jsonObject.put(&quot;path&quot;, &quot;main.java&quot;);\n            bw.write(jsonObject.toJSONString());\n            bw.newLine();\n    }\n        bw.close();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557006,"reputation":338,"user_id":2970515,"display_name":"abilng"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1697459777,"creation_date":1697459174,"answer_id":77301956,"question_id":70438068,"body_markdown":"You can use [ndjson][ndjson] for generating JSONL. It uses [jackson][jackson] for serialization and deserialization\r\n\r\n```java\r\n    NdJsonObjectMapper ndJsonObjectMapper = new NdJsonObjectMapper();\r\n    OutputStream out = ... ;\r\n    Stream &lt; Person&gt; personStream = ...;\r\n    ndJsonObjectMapper.writeValue(out, personStream);\r\n```\r\n\r\nDisclaimer: I developed ndjson for my personal use.  \r\n\r\n\r\n  [ndjson]: https://github.com/abilng/ndjson\r\n  [jackson]: https://github.com/FasterXML/jackson","title":"Java conversion from list to JSONL","body":"<p>You can use <a href=\"https://github.com/abilng/ndjson\" rel=\"nofollow noreferrer\">ndjson</a> for generating JSONL. It uses <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">jackson</a> for serialization and deserialization</p>\n<pre class=\"lang-java prettyprint-override\"><code>    NdJsonObjectMapper ndJsonObjectMapper = new NdJsonObjectMapper();\n    OutputStream out = ... ;\n    Stream &lt; Person&gt; personStream = ...;\n    ndJsonObjectMapper.writeValue(out, personStream);\n</code></pre>\n<p>Disclaimer: I developed ndjson for my personal use.</p>\n"}],"owner":{"account_id":1568594,"reputation":61,"user_id":1456819,"display_name":"Roberto Santos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697459777,"creation_date":1640101554,"question_id":70438068,"body_markdown":"I&#39;d like to convert a list of objects to JSONL where each object in the list will be a line in the json.\r\n\r\ne:g: Let&#39;s say I have a list of Person and I want to convert that list to a separate file in the JSONL format\r\n\r\n    List&lt;Person&gt; personList = Stream.of(\r\n                    new Person(&quot;John&quot;, &quot;Peter&quot;, 34),\r\n                    new Person(&quot;Nick&quot;, &quot;young&quot;, 75),\r\n                    new Person(&quot;Jones&quot;, &quot;slater&quot;, 21 ),\r\n                    new Person(&quot;Mike&quot;, &quot;hudson&quot;, 55))\r\n                    .collect(Collectors.toList());\r\n\r\n### Convert List of person to JSONL \r\n\r\n    {&quot;firstName&quot; : &quot;Mike&quot;,&quot;lastName&quot; : &quot;harvey&quot;,&quot;age&quot; : 34}\r\n    {&quot;firstName&quot; : &quot;Nick&quot;,&quot;lastName&quot; : &quot;young&quot;,&quot;age&quot; : 75}\r\n    {&quot;firstName&quot; : &quot;Jack&quot;,&quot;lastName&quot; : &quot;slater&quot;,&quot;age&quot; : 21}\r\n    {&quot;firstName&quot; : &quot;gary&quot;,&quot;lastName&quot; : &quot;hudson&quot;,&quot;age&quot; : 55}\r\n\r\n","title":"Java conversion from list to JSONL","body":"<p>I'd like to convert a list of objects to JSONL where each object in the list will be a line in the json.</p>\n<p>e:g: Let's say I have a list of Person and I want to convert that list to a separate file in the JSONL format</p>\n<pre><code>List&lt;Person&gt; personList = Stream.of(\n                new Person(&quot;John&quot;, &quot;Peter&quot;, 34),\n                new Person(&quot;Nick&quot;, &quot;young&quot;, 75),\n                new Person(&quot;Jones&quot;, &quot;slater&quot;, 21 ),\n                new Person(&quot;Mike&quot;, &quot;hudson&quot;, 55))\n                .collect(Collectors.toList());\n</code></pre>\n<h3>Convert List of person to JSONL</h3>\n<pre><code>{&quot;firstName&quot; : &quot;Mike&quot;,&quot;lastName&quot; : &quot;harvey&quot;,&quot;age&quot; : 34}\n{&quot;firstName&quot; : &quot;Nick&quot;,&quot;lastName&quot; : &quot;young&quot;,&quot;age&quot; : 75}\n{&quot;firstName&quot; : &quot;Jack&quot;,&quot;lastName&quot; : &quot;slater&quot;,&quot;age&quot; : 21}\n{&quot;firstName&quot; : &quot;gary&quot;,&quot;lastName&quot; : &quot;hudson&quot;,&quot;age&quot; : 55}\n</code></pre>\n"},{"tags":["java","rascal"],"comments":[{"owner":{"account_id":6567,"reputation":15154,"user_id":11098,"accept_rate":100,"display_name":"Davy Landman"},"score":1,"creation_date":1697460834,"post_id":77301834,"comment_id":136278910,"body_markdown":"just fyi, currently rascal is not compiled yet. the `tpl` files are type check files. We are getting close to having a compiler form, but that would just be regular class files.","body":"just fyi, currently rascal is not compiled yet. the <code>tpl</code> files are type check files. We are getting close to having a compiler form, but that would just be regular class files."},{"owner":{"account_id":19266108,"reputation":89,"user_id":14081020,"display_name":"Wayne"},"score":0,"creation_date":1697461601,"post_id":77301834,"comment_id":136279045,"body_markdown":"Noted, I was mistaking them for the compiled form.","body":"Noted, I was mistaking them for the compiled form."}],"answers":[{"tags":[],"owner":{"account_id":1969083,"reputation":6498,"user_id":1768565,"display_name":"Jurgen Vinju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697459696,"creation_date":1697459696,"answer_id":77302007,"question_id":77301834,"body_markdown":"If the `run-main` jar has a `META-INF/RASCAL.MF` in it with `Project-Name: run-main` in it, then the Rascal URI name resolver automatically registers `lib://run-main` and lets it point to the root of the jar. So that would enable you to do this:\r\n\r\n```\r\nISourceLocation tmp =  URIUtil.correctLocation(&quot;lib&quot;,&quot;run-main&quot;,&quot;&quot;);\r\n```\r\n\r\nInstead of this, you can also use the `jar` scheme. But this requires you to find the jar file location:\r\n\r\n```\r\njar+file:///path/to/run-main.jar/!/\r\n```\r\n\r\nAfter the `!` is where the path _into_ the jar files starts, and where `.rsc` files can be found. The earlier `lib` scheme does exactly that, but automatically based on searching through the classpath for RASCAL.MF files.","title":"How do I use the Rascal Evaluator to access Rascal functions from a compiled JAR?","body":"<p>If the <code>run-main</code> jar has a <code>META-INF/RASCAL.MF</code> in it with <code>Project-Name: run-main</code> in it, then the Rascal URI name resolver automatically registers <code>lib://run-main</code> and lets it point to the root of the jar. So that would enable you to do this:</p>\n<pre><code>ISourceLocation tmp =  URIUtil.correctLocation(&quot;lib&quot;,&quot;run-main&quot;,&quot;&quot;);\n</code></pre>\n<p>Instead of this, you can also use the <code>jar</code> scheme. But this requires you to find the jar file location:</p>\n<pre><code>jar+file:///path/to/run-main.jar/!/\n</code></pre>\n<p>After the <code>!</code> is where the path <em>into</em> the jar files starts, and where <code>.rsc</code> files can be found. The earlier <code>lib</code> scheme does exactly that, but automatically based on searching through the classpath for RASCAL.MF files.</p>\n"}],"owner":{"account_id":19266108,"reputation":89,"user_id":14081020,"display_name":"Wayne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77302007,"answer_count":1,"score":1,"last_activity_date":1697459696,"creation_date":1697458008,"question_id":77301834,"body_markdown":"I have the a jar with the following structure:\r\n```\r\nmain-app/\r\n META-INF/\r\n   maven.org.rascalmpl.runmain/\r\n     pom.xml\r\n     pom.properties\r\n   MANIFEST.MF\r\n rascal/\r\n   Main.tpl\r\n   MyModule.tpl\r\n Main.rsc\r\n MyModule.rsc\r\n```\r\n\r\nand I&#39;m writing an Evaluator to run function from the JAR, so far I have the following:\r\n\r\n```final IValueFactory vf = ValueFactoryFactory.getValueFactory();\r\n    final GlobalEnvironment heap = new GlobalEnvironment();\r\n    final ModuleEnvironment top = new ModuleEnvironment(&quot;test&quot;, heap);\r\n    Evaluator eval = new Evaluator(vf, System.in, System.err, System.out, top, heap);\r\n    eval.addRascalSearchPathContributor(StandardLibraryContributor.getInstance());\r\n    eval.addRascalSearchPath(URIUtil.rootLocation(&quot;std&quot;));\r\n\r\n\r\n\r\n    ISourceLocation tmp =  URIUtil.correctLocation(&quot;jar&quot;, &quot;&quot;, &quot;/path/to/runmain-0.1.0-SNAPSHOT.jar!&quot;);\r\n\r\n    eval.addRascalSearchPath(tmp);\r\n\r\n    eval.doImport(null, &quot;Main&quot;);\r\n    eval.doImport(null, &quot;MyModule&quot;);\r\n    \r\n    System.out.println(eval.getHeap().existsModule(&quot;Main&quot;)); // Check if module has been added to heap\r\n\r\n    eval.call(&quot;main&quot;, tmp, null);\r\n\r\n```\r\n\r\nWhen I try to run this, it just prints out `false`, and then the following exception:\r\n\r\n```Exception in thread &quot;main&quot; org.rascalmpl.interpreter.staticErrors.ModuleImport: Could not import module Main: can not find in search path```\r\n\r\nHow can I access either the `.tpl` files or `.rsc` files in the JAR to call arbitrary functions? \r\n\r\nP.S: When I compiled the JAR the RASCAL.MF was not included in the output, is it necessary?","title":"How do I use the Rascal Evaluator to access Rascal functions from a compiled JAR?","body":"<p>I have the a jar with the following structure:</p>\n<pre><code>main-app/\n META-INF/\n   maven.org.rascalmpl.runmain/\n     pom.xml\n     pom.properties\n   MANIFEST.MF\n rascal/\n   Main.tpl\n   MyModule.tpl\n Main.rsc\n MyModule.rsc\n</code></pre>\n<p>and I'm writing an Evaluator to run function from the JAR, so far I have the following:</p>\n<pre><code>    final GlobalEnvironment heap = new GlobalEnvironment();\n    final ModuleEnvironment top = new ModuleEnvironment(&quot;test&quot;, heap);\n    Evaluator eval = new Evaluator(vf, System.in, System.err, System.out, top, heap);\n    eval.addRascalSearchPathContributor(StandardLibraryContributor.getInstance());\n    eval.addRascalSearchPath(URIUtil.rootLocation(&quot;std&quot;));\n\n\n\n    ISourceLocation tmp =  URIUtil.correctLocation(&quot;jar&quot;, &quot;&quot;, &quot;/path/to/runmain-0.1.0-SNAPSHOT.jar!&quot;);\n\n    eval.addRascalSearchPath(tmp);\n\n    eval.doImport(null, &quot;Main&quot;);\n    eval.doImport(null, &quot;MyModule&quot;);\n    \n    System.out.println(eval.getHeap().existsModule(&quot;Main&quot;)); // Check if module has been added to heap\n\n    eval.call(&quot;main&quot;, tmp, null);\n\n</code></pre>\n<p>When I try to run this, it just prints out <code>false</code>, and then the following exception:</p>\n<p><code>Exception in thread &quot;main&quot; org.rascalmpl.interpreter.staticErrors.ModuleImport: Could not import module Main: can not find in search path</code></p>\n<p>How can I access either the <code>.tpl</code> files or <code>.rsc</code> files in the JAR to call arbitrary functions?</p>\n<p>P.S: When I compiled the JAR the RASCAL.MF was not included in the output, is it necessary?</p>\n"},{"tags":["java","android-styles"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":2,"creation_date":1697263761,"post_id":77291749,"comment_id":136260805,"body_markdown":"don&#39;t post images of text","body":"don&#39;t post images of text"},{"owner":{"account_id":23440519,"reputation":3,"user_id":17498081,"display_name":"LZS Tanjiro"},"score":0,"creation_date":1697266950,"post_id":77291749,"comment_id":136260980,"body_markdown":"How about that?","body":"How about that?"}],"answers":[{"tags":[],"owner":{"account_id":18000638,"reputation":531,"user_id":13082664,"display_name":"Meet Bhavsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697459572,"creation_date":1697459572,"answer_id":77301994,"question_id":77291749,"body_markdown":"```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.InterstitialAdsActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/aduserL&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;\r\n        android:layout_marginVertical=&quot;4dp&quot;\r\n        android:hint=&quot;Username&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/aduser&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:drawableStart=&quot;@drawable/ic_star&quot;\r\n            android:drawablePadding=&quot;16dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;text&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textColorHint=&quot;#000000&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/adpass&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginHorizontal=&quot;10dp&quot;\r\n        android:layout_marginVertical=&quot;4dp&quot;\r\n        android:hint=&quot;Password&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/aduserL&quot;\r\n        app:passwordToggleEnabled=&quot;true&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:drawableStart=&quot;@drawable/ic_star&quot;\r\n            android:drawablePadding=&quot;16dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textColorHint=&quot;#000000&quot;\r\n            android:textSize=&quot;18dp&quot;\r\n            android:textStyle=&quot;bold&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nif you some video recommend watch this [youtubeVideo][1]\r\n\r\n[![output][2]][2]\r\n\r\n\r\n  [1]: https://youtu.be/EKIgPueafIU?si=xv_Q8EsoaYXDgxK-\r\n  [2]: https://i.stack.imgur.com/QuDWg.png","title":"Android Studio (how can i fix it?)","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.InterstitialAdsActivity&quot;&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/aduserL&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:layout_marginVertical=&quot;4dp&quot;\n        android:hint=&quot;Username&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/aduser&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:drawableStart=&quot;@drawable/ic_star&quot;\n            android:drawablePadding=&quot;16dp&quot;\n            android:ems=&quot;10&quot;\n            android:inputType=&quot;text&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textColorHint=&quot;#000000&quot;\n            android:textSize=&quot;18dp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/adpass&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:layout_marginVertical=&quot;4dp&quot;\n        android:hint=&quot;Password&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/aduserL&quot;\n        app:passwordToggleEnabled=&quot;true&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:drawableStart=&quot;@drawable/ic_star&quot;\n            android:drawablePadding=&quot;16dp&quot;\n            android:ems=&quot;10&quot;\n            android:inputType=&quot;textPassword&quot;\n            android:textColor=&quot;#000000&quot;\n            android:textColorHint=&quot;#000000&quot;\n            android:textSize=&quot;18dp&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>if you some video recommend watch this <a href=\"https://youtu.be/EKIgPueafIU?si=xv_Q8EsoaYXDgxK-\" rel=\"nofollow noreferrer\">youtubeVideo</a></p>\n<p><a href=\"https://i.stack.imgur.com/QuDWg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QuDWg.png\" alt=\"output\" /></a></p>\n"}],"owner":{"account_id":23440519,"reputation":3,"user_id":17498081,"display_name":"LZS Tanjiro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1697459572,"creation_date":1697262099,"question_id":77291749,"body_markdown":"How can I align the Password textbox to the Username textbox to look like [this design][1] or what can I do to fix it? \r\n\r\n**Code**\r\n```\r\n&lt;EditText\r\n    android:id=&quot;@+id/aduser&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;55dp&quot;\r\n    android:layout_marginEnd=&quot;32dp&quot;\r\n    android:layout_marginStart=&quot;32dp&quot;\r\n    android:layout_marginTop=&quot;16dp&quot;\r\n    android:drawableStart=&quot;@drawable/userconfig1&quot;\r\n    android:drawablePadding=&quot;16dp&quot;\r\n    android:hint=&quot;Username&quot;\r\n    android:textColorHint=&quot;#000000&quot;\r\n    android:textStyle=&quot;bold&quot;\r\n    android:textSize=&quot;18dp&quot;\r\n    android:background=&quot;@drawable/button_bg&quot;\r\n    android:ems=&quot;10&quot;\r\n    android:inputType=&quot;text&quot;\r\n    android:textColor=&quot;#000000&quot;\r\n\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@+id/imageView2&quot; /&gt;\r\n\r\n\r\n&lt;com.google.android.material.textfield.TextInputLayout\r\n    android:id=&quot;@+id/adpass&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;55dp&quot;\r\n    android:layout_marginStart=&quot;32dp&quot;\r\n    android:layout_marginEnd=&quot;32dp&quot;\r\n    android:layout_marginTop=&quot;24dp&quot;\r\n    android:hint=&quot;Password&quot;\r\n\r\n    app:passwordToggleEnabled=&quot;true&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@+id/aduser&quot; &gt;\r\n\r\n&lt;com.google.android.material.textfield.TextInputEditText\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/button_bg&quot;\r\n    android:drawableStart=&quot;@drawable/baseline_info_24&quot;\r\n    android:drawablePadding=&quot;16dp&quot;\r\n    android:ems=&quot;10&quot;\r\n    android:inputType=&quot;textPassword&quot;\r\n    android:textColor=&quot;#000000&quot;\r\n    android:textColorHint=&quot;#000000&quot;\r\n    android:textSize=&quot;18dp&quot;\r\n    android:textStyle=&quot;bold&quot; /&gt;\r\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n```\r\nHow can my design be improved? I apologize; I&#39;m new to Android Studio and am currently testing designs.\r\n\r\nThe design I expect is that the username and password are *equal* and the color of the password is not far from the username, and the show/hide password is enabled. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/41cP0.png\r\n  [2]: https://i.stack.imgur.com/6P7bT.png\r\n  [3]: https://i.stack.imgur.com/uBI7d.png","title":"Android Studio (how can i fix it?)","body":"<p>How can I align the Password textbox to the Username textbox to look like <a href=\"https://i.stack.imgur.com/41cP0.png\" rel=\"nofollow noreferrer\">this design</a> or what can I do to fix it?</p>\n<p><strong>Code</strong></p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/aduser&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;55dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:drawableStart=&quot;@drawable/userconfig1&quot;\n    android:drawablePadding=&quot;16dp&quot;\n    android:hint=&quot;Username&quot;\n    android:textColorHint=&quot;#000000&quot;\n    android:textStyle=&quot;bold&quot;\n    android:textSize=&quot;18dp&quot;\n    android:background=&quot;@drawable/button_bg&quot;\n    android:ems=&quot;10&quot;\n    android:inputType=&quot;text&quot;\n    android:textColor=&quot;#000000&quot;\n\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/imageView2&quot; /&gt;\n\n\n&lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/adpass&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;55dp&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:layout_marginTop=&quot;24dp&quot;\n    android:hint=&quot;Password&quot;\n\n    app:passwordToggleEnabled=&quot;true&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/aduser&quot; &gt;\n\n&lt;com.google.android.material.textfield.TextInputEditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/button_bg&quot;\n    android:drawableStart=&quot;@drawable/baseline_info_24&quot;\n    android:drawablePadding=&quot;16dp&quot;\n    android:ems=&quot;10&quot;\n    android:inputType=&quot;textPassword&quot;\n    android:textColor=&quot;#000000&quot;\n    android:textColorHint=&quot;#000000&quot;\n    android:textSize=&quot;18dp&quot;\n    android:textStyle=&quot;bold&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p>How can my design be improved? I apologize; I'm new to Android Studio and am currently testing designs.</p>\n<p>The design I expect is that the username and password are <em>equal</em> and the color of the password is not far from the username, and the show/hide password is enabled.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1624603569,"post_id":68123093,"comment_id":120408235,"body_markdown":"Your persistence module should add a requires for the SQL stuff. Else that class isn&#39;t available. imho the issue is the other way around, Intellij uses proper modules whereas your command line doesn&#39;t (which is why it works).","body":"Your persistence module should add a requires for the SQL stuff. Else that class isn&#39;t available. imho the issue is the other way around, Intellij uses proper modules whereas your command line doesn&#39;t (which is why it works)."},{"owner":{"account_id":15013752,"reputation":67,"user_id":10837378,"display_name":"Yucehan Kucukmotor"},"score":0,"creation_date":1624610516,"post_id":68123093,"comment_id":120410847,"body_markdown":"Hey. @M.Deinum thanks for the reply. For those who may come across the same problem trying to build a project using JPMS, my solution to this problem was adding ```requires org.apache.tomcat.embed.core;``` to my module-info.java file.","body":"Hey. @M.Deinum thanks for the reply. For those who may come across the same problem trying to build a project using JPMS, my solution to this problem was adding <code>requires org.apache.tomcat.embed.core;</code> to my module-info.java file."}],"answers":[{"tags":[],"owner":{"account_id":15013752,"reputation":67,"user_id":10837378,"display_name":"Yucehan Kucukmotor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624610694,"creation_date":1624610694,"answer_id":68128063,"question_id":68123093,"body_markdown":"Editing `module-info.java` as the following resolved the problem for me\r\n```\r\nopen module webapp {\r\n    requires spring.web;\r\n    requires spring.boot;\r\n    requires spring.boot.autoconfigure;\r\n    requires spring.context;\r\n    \r\n    requires org.apache.tomcat.embed.core;\r\n}\r\n```","title":"Spring Boot Application won&#39;t start (IllegalStateException could not evaluate condition on DevToolsDataSourceAutoConfiguration)","body":"<p>Editing <code>module-info.java</code> as the following resolved the problem for me</p>\n<pre><code>open module webapp {\n    requires spring.web;\n    requires spring.boot;\n    requires spring.boot.autoconfigure;\n    requires spring.context;\n    \n    requires org.apache.tomcat.embed.core;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22026487,"reputation":1,"user_id":16294398,"display_name":"bo gao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697458659,"creation_date":1697458659,"answer_id":77301899,"question_id":68123093,"body_markdown":"I had a similar problem with Java 17 and solved it by adding to my open module in modules-info.java, the following:\r\n\r\n```java\r\nrequires java.sql;\r\n```\r\n\r\nUsing Spring Framework 6, Spring Boot 3.\r\n\r\n","title":"Spring Boot Application won&#39;t start (IllegalStateException could not evaluate condition on DevToolsDataSourceAutoConfiguration)","body":"<p>I had a similar problem with Java 17 and solved it by adding to my open module in modules-info.java, the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>requires java.sql;\n</code></pre>\n<p>Using Spring Framework 6, Spring Boot 3.</p>\n"}],"owner":{"account_id":15013752,"reputation":67,"user_id":10837378,"display_name":"Yucehan Kucukmotor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1849,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68128063,"answer_count":2,"score":2,"last_activity_date":1697458659,"creation_date":1624571407,"question_id":68123093,"body_markdown":"I&#39;ve tried to start my Spring Boot Application using IntelliJ. However, I cannot seem to make it work no matter whatever solutions I tried to implement to fix it. I believe it has something to do with `spring.autoconfigure` package, yet the root problem remains a mystery to me. \r\n\r\nI am trying to take advantage of both `Maven Multi Module System` as well as `Java Platform Module System`. Below is my `pom.xml`, `module-info.java` files and project structure.\r\n\r\n**Project Structure**\r\n\r\n[![Simplified Project Structure][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KDi4U.png\r\n\r\nNote that there is a parent `pom.xml` file and each sub-module has its own `pom.xml` file. Each sub-module has its own `module-info.java` file as well.\r\n\r\n**Parent pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;name&gt;Demo Project&lt;/name&gt;\r\n    &lt;description&gt;Demo Project Description&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;!--Add each module here --&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;webapp&lt;/module&gt;\r\n        &lt;module&gt;persistence&lt;/module&gt;\r\n        &lt;module&gt;facade&lt;/module&gt;\r\n        &lt;module&gt;service&lt;/module&gt;\r\n        &lt;module&gt;security&lt;/module&gt;\r\n        &lt;module&gt;domain&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;com.example.MainApplication&lt;/mainClass&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;!-- For testing --&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n**webapp pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;version&gt;0.0.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;!--    &lt;version&gt;0.0.1&lt;/version&gt;--&gt;\r\n\r\n    &lt;artifactId&gt;webapp&lt;/artifactId&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Add dependencies for `webapp` module here --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;facade&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n            &lt;artifactId&gt;domain&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.1&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n**webapp module-info.java**\r\n```\r\nmodule webapp {\r\n    requires domain;\r\n    requires facade;\r\n\r\n    requires spring.web;\r\n    requires spring.boot;\r\n    requires spring.boot.autoconfigure;\r\n    requires spring.context;\r\n}\r\n```\r\n\r\n**Below is what I tried:**\r\nSo when I run the application as it is I get the following exception\r\n```\r\nException in thread &quot;restartedMain&quot; java.lang.IllegalAccessException: class org.springframework.boot.devtools.restart.RestartLauncher (in module spring.boot.devtools) cannot access class com.example.MainApplication (in module webapp) because module webapp does not export com.example to module spring.boot.devtools\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:558)\r\n\tat spring.boot.devtools@2.5.1/org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\n```\r\nWhat I did to tackle this problem was changing webapp/module-info.java from\r\n```\r\nmodule webapp {\r\n}\r\n```\r\nto \r\n```\r\nopen module webapp {\r\n}\r\n```\r\nAftwerwards, though, I got the following exception\r\n```\r\njava.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration due to javax/sql/DataSource not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\r\n\tat spring.boot.autoconfigure@2.5.1/org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:54) ~[spring-boot-autoconfigure-2.5.1.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:489) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.context@5.3.8/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.8.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.1.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.1.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.1.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.1.jar:na]\r\n\tat spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.1.jar:na]\r\n\tat webapp/com.example.MainApplication.main(MainApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat spring.boot.devtools@2.5.1/org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.1.jar:na]\r\nCaused by: java.lang.NoClassDefFoundError: javax/sql/DataSource\r\n\tat spring.boot.devtools@2.5.1/org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration$DevToolsDataSourceCondition.getMatchOutcome(DevToolsDataSourceAutoConfiguration.java:183) ~[spring-boot-devtools-2.5.1.jar:na]\r\n\tat spring.boot.autoconfigure@2.5.1/org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.5.1.jar:na]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: javax.sql.DataSource\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\t... 23 common frames omitted\r\n``` \r\n\r\n- I tried setting `spring.devtools.restart.enabled=false`. Same error followed.\r\n- I tried removing `spring-boot-devtools` from the list of dependencies. No error log yet start process exits with error code 0\r\n- I tried adding `h2` database dependency just to see what happens. No good.\r\n- I tried changing `spring-boot-devtools` `&lt;scope&gt;` value and even commenting it out. No good.\r\n- I tried excluding `DevToolsDataSourceAutoConfiguration.class` from AutoConfiguration. No good.\r\n- I tried adding ```exports com.example;``` to module-info.java. No good.\r\n\r\n- If I run ```mvn test```, ```mvn clean install```, ```mvn spring-boot:run```, I don&#39;t get a single error and server is running just fine.\r\n\r\n- `MainApplication.java` resides at `webapp/src/main/java/com/example/MainApplication.java`.\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\n@SpringBootApplication\r\npublic class MainApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MainApplication.class, args);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhy is `spring.autoconfigure` trying to find a `DataSource`? Is `IntelliJ`&#39;s classpath messed up, and I need to update its dependencies manually? If I configure a proper database (such as `mssql`), would I still be facing this issue going forward?\r\n\r\nWhat confuses me the most is that I get no error triggering the server to run by typing `mvn spring-boot:run` command. To be honest, this is what makes me think the problem has to do with `IntelliJ&#39;s` classpath settings rather than project structure and configuration.\r\n\r\nAny help would be greatly appreciated. Thanks.\r\n\r\n","title":"Spring Boot Application won&#39;t start (IllegalStateException could not evaluate condition on DevToolsDataSourceAutoConfiguration)","body":"<p>I've tried to start my Spring Boot Application using IntelliJ. However, I cannot seem to make it work no matter whatever solutions I tried to implement to fix it. I believe it has something to do with <code>spring.autoconfigure</code> package, yet the root problem remains a mystery to me.</p>\n<p>I am trying to take advantage of both <code>Maven Multi Module System</code> as well as <code>Java Platform Module System</code>. Below is my <code>pom.xml</code>, <code>module-info.java</code> files and project structure.</p>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KDi4U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KDi4U.png\" alt=\"Simplified Project Structure\" /></a></p>\n<p>Note that there is a parent <code>pom.xml</code> file and each sub-module has its own <code>pom.xml</code> file. Each sub-module has its own <code>module-info.java</code> file as well.</p>\n<p><strong>Parent pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;name&gt;Demo Project&lt;/name&gt;\n    &lt;description&gt;Demo Project Description&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;!--Add each module here --&gt;\n    &lt;modules&gt;\n        &lt;module&gt;webapp&lt;/module&gt;\n        &lt;module&gt;persistence&lt;/module&gt;\n        &lt;module&gt;facade&lt;/module&gt;\n        &lt;module&gt;service&lt;/module&gt;\n        &lt;module&gt;security&lt;/module&gt;\n        &lt;module&gt;domain&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;mainClass&gt;com.example.MainApplication&lt;/mainClass&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;${java.version}&lt;/source&gt;\n                        &lt;target&gt;${java.version}&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;!-- For testing --&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>webapp pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;parent&lt;/artifactId&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;!--    &lt;version&gt;0.0.1&lt;/version&gt;--&gt;\n\n    &lt;artifactId&gt;webapp&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Add dependencies for `webapp` module here --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;facade&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example&lt;/groupId&gt;\n            &lt;artifactId&gt;domain&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>webapp module-info.java</strong></p>\n<pre><code>module webapp {\n    requires domain;\n    requires facade;\n\n    requires spring.web;\n    requires spring.boot;\n    requires spring.boot.autoconfigure;\n    requires spring.context;\n}\n</code></pre>\n<p><strong>Below is what I tried:</strong>\nSo when I run the application as it is I get the following exception</p>\n<pre><code>Exception in thread &quot;restartedMain&quot; java.lang.IllegalAccessException: class org.springframework.boot.devtools.restart.RestartLauncher (in module spring.boot.devtools) cannot access class com.example.MainApplication (in module webapp) because module webapp does not export com.example to module spring.boot.devtools\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:361)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:591)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:558)\n    at spring.boot.devtools@2.5.1/org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\n</code></pre>\n<p>What I did to tackle this problem was changing webapp/module-info.java from</p>\n<pre><code>module webapp {\n}\n</code></pre>\n<p>to</p>\n<pre><code>open module webapp {\n}\n</code></pre>\n<p>Aftwerwards, though, I got the following exception</p>\n<pre><code>java.lang.IllegalStateException: Could not evaluate condition on org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration due to javax/sql/DataSource not found. Make sure your own configuration does not rely on that class. This can also happen if you are @ComponentScanning a springframework package (e.g. if you put a @ComponentScan in the default package by mistake)\n    at spring.boot.autoconfigure@2.5.1/org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:54) ~[spring-boot-autoconfigure-2.5.1.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader$TrackedConditionEvaluator.shouldSkip(ConfigurationClassBeanDefinitionReader.java:489) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:140) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.8.jar:na]\n    at spring.context@5.3.8/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.8.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.1.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.1.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.1.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.1.jar:na]\n    at spring.boot@2.5.1/org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.1.jar:na]\n    at webapp/com.example.MainApplication.main(MainApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at spring.boot.devtools@2.5.1/org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.1.jar:na]\nCaused by: java.lang.NoClassDefFoundError: javax/sql/DataSource\n    at spring.boot.devtools@2.5.1/org.springframework.boot.devtools.autoconfigure.DevToolsDataSourceAutoConfiguration$DevToolsDataSourceCondition.getMatchOutcome(DevToolsDataSourceAutoConfiguration.java:183) ~[spring-boot-devtools-2.5.1.jar:na]\n    at spring.boot.autoconfigure@2.5.1/org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-2.5.1.jar:na]\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.sql.DataSource\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 23 common frames omitted\n</code></pre>\n<ul>\n<li><p>I tried setting <code>spring.devtools.restart.enabled=false</code>. Same error followed.</p>\n</li>\n<li><p>I tried removing <code>spring-boot-devtools</code> from the list of dependencies. No error log yet start process exits with error code 0</p>\n</li>\n<li><p>I tried adding <code>h2</code> database dependency just to see what happens. No good.</p>\n</li>\n<li><p>I tried changing <code>spring-boot-devtools</code> <code>&lt;scope&gt;</code> value and even commenting it out. No good.</p>\n</li>\n<li><p>I tried excluding <code>DevToolsDataSourceAutoConfiguration.class</code> from AutoConfiguration. No good.</p>\n</li>\n<li><p>I tried adding <code>exports com.example;</code> to module-info.java. No good.</p>\n</li>\n<li><p>If I run <code>mvn test</code>, <code>mvn clean install</code>, <code>mvn spring-boot:run</code>, I don't get a single error and server is running just fine.</p>\n</li>\n<li><p><code>MainApplication.java</code> resides at <code>webapp/src/main/java/com/example/MainApplication.java</code>.</p>\n</li>\n</ul>\n<pre><code>package com.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class MainApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MainApplication.class, args);\n    }\n}\n\n</code></pre>\n<p>Why is <code>spring.autoconfigure</code> trying to find a <code>DataSource</code>? Is <code>IntelliJ</code>'s classpath messed up, and I need to update its dependencies manually? If I configure a proper database (such as <code>mssql</code>), would I still be facing this issue going forward?</p>\n<p>What confuses me the most is that I get no error triggering the server to run by typing <code>mvn spring-boot:run</code> command. To be honest, this is what makes me think the problem has to do with <code>IntelliJ's</code> classpath settings rather than project structure and configuration.</p>\n<p>Any help would be greatly appreciated. Thanks.</p>\n"},{"tags":["java","android","flutter","android-intent","build"],"comments":[{"owner":{"account_id":11671167,"reputation":5710,"user_id":8546205,"display_name":"Rahul Kushwaha"},"score":0,"creation_date":1697448490,"post_id":77300666,"comment_id":136276688,"body_markdown":"use this plugin to open the app https://pub.dev/packages/android_intent_plus","body":"use this plugin to open the app <a href=\"https://pub.dev/packages/android_intent_plus\" rel=\"nofollow noreferrer\">pub.dev/packages/android_intent_plus</a>"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1697810764,"post_id":77300666,"comment_id":136330337,"body_markdown":"Have you checked the logcat to see if there are any relevant error mesages that would indicate why it doesn&#39;t switch to the other app? Don&#39;t filter the logcat or you might miss something important/relevant.","body":"Have you checked the logcat to see if there are any relevant error mesages that would indicate why it doesn&#39;t switch to the other app? Don&#39;t filter the logcat or you might miss something important/relevant."},{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":0,"creation_date":1699173892,"post_id":77300666,"comment_id":136496182,"body_markdown":"Does this answer your question? [Intent - if activity is running, bring it to front, else start a new one (from notification)](https://stackoverflow.com/questions/19039189/intent-if-activity-is-running-bring-it-to-front-else-start-a-new-one-from-n)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19039189/intent-if-activity-is-running-bring-it-to-front-else-start-a-new-one-from-n\">Intent - if activity is running, bring it to front, else start a new one (from notification)</a>"}],"owner":{"account_id":28541508,"reputation":23,"user_id":21847504,"display_name":"DongHyeon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1697458084,"creation_date":1697447039,"question_id":77300666,"body_markdown":"Before change my computer, \r\n\r\n\r\n```\r\nIntent intent = context.getPackageManager().getLaunchIntentForPackage(&quot;com.x.y&quot;);\r\n    if (intent != null) {\r\n    // We found the activity now start the activity\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        Bundle b = new Bundle();\r\n        b.putString(_key, _data);\r\n        intent.putExtras(b); //Put your id to your next Intent\r\n        context.startActivity(intent);\r\n\r\n        return true;\r\n}\r\n```\r\n\r\nI could open and switch com.x.y app. It worked well, but a few months ago, I changed my computer and downloaded the latest version of Android Studio.\r\n\r\nThere are no problems to build, but when I run this code, my Flutter app just opens app com.x.y and not switching. Before changing my computer, it opened and switched to app com.x.y well.\r\n\r\nAlso, it works well in device using Android 8.1, but not in a device using Android 13.\r\n","title":"How to open and switch other app using intent","body":"<p>Before change my computer,</p>\n<pre><code>Intent intent = context.getPackageManager().getLaunchIntentForPackage(&quot;com.x.y&quot;);\n    if (intent != null) {\n    // We found the activity now start the activity\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        Bundle b = new Bundle();\n        b.putString(_key, _data);\n        intent.putExtras(b); //Put your id to your next Intent\n        context.startActivity(intent);\n\n        return true;\n}\n</code></pre>\n<p>I could open and switch com.x.y app. It worked well, but a few months ago, I changed my computer and downloaded the latest version of Android Studio.</p>\n<p>There are no problems to build, but when I run this code, my Flutter app just opens app com.x.y and not switching. Before changing my computer, it opened and switched to app com.x.y well.</p>\n<p>Also, it works well in device using Android 8.1, but not in a device using Android 13.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","kafka-producer-api","spring-kafka"],"comments":[{"owner":{"account_id":2800928,"reputation":1363,"user_id":2409190,"accept_rate":57,"display_name":"Avinash"},"score":0,"creation_date":1519826295,"post_id":46932127,"comment_id":85067017,"body_markdown":"Hey Prakash, how many partitions are there in your topic that you are using to  publish the messages?","body":"Hey Prakash, how many partitions are there in your topic that you are using to  publish the messages?"},{"owner":{"account_id":4322888,"reputation":3672,"user_id":4408364,"accept_rate":42,"display_name":"Prakash P"},"score":0,"creation_date":1520168142,"post_id":46932127,"comment_id":85196171,"body_markdown":"topic has 5 partitions","body":"topic has 5 partitions"},{"owner":{"account_id":4948901,"reputation":4288,"user_id":3983547,"accept_rate":80,"display_name":"dbustosp"},"score":0,"creation_date":1529183711,"post_id":46932127,"comment_id":88784311,"body_markdown":"Hey @CodeX, were you able to solve the problem?","body":"Hey @CodeX, were you able to solve the problem?"}],"answers":[{"tags":[],"owner":{"account_id":10064498,"reputation":606,"user_id":7440073,"display_name":"meiskalt7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528886428,"creation_date":1528886428,"answer_id":50835137,"question_id":46932127,"body_markdown":"Change default bootstrap-servers property:\r\n\r\n    private List&lt;String&gt; bootstrapServers = new ArrayList&lt;String&gt;(\r\n    \t\t\tCollections.singletonList(&quot;localhost:9092&quot;));\r\n\r\nto yours:\r\n\r\n    spring.kafka.bootstrap-servers: ${kafka.binder.broker}:${kafka.binder.defaultBrokerPort}","title":"Kafka Failed to update metadata","body":"<p>Change default bootstrap-servers property:</p>\n\n<pre><code>private List&lt;String&gt; bootstrapServers = new ArrayList&lt;String&gt;(\n            Collections.singletonList(\"localhost:9092\"));\n</code></pre>\n\n<p>to yours:</p>\n\n<pre><code>spring.kafka.bootstrap-servers: ${kafka.binder.broker}:${kafka.binder.defaultBrokerPort}\n</code></pre>\n"}],"owner":{"account_id":4322888,"reputation":3672,"user_id":4408364,"accept_rate":42,"display_name":"Prakash P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8870,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1697458010,"creation_date":1508933520,"question_id":46932127,"body_markdown":"I am using Kafka v0.10.1.1 with **Spring-boot**.\r\n\r\nI am trying to produce a message in a Kafka topic `mobile-user` using the below producer code: \r\n\r\n**Topic `mobile-user` have 5 partitions and 2 replication factor**. I have attached my **Kafka settings at the end of the question**.\r\n\r\n    package com.service;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.kafka.support.SendResult;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.util.concurrent.ListenableFuture;\r\n    import org.springframework.util.concurrent.ListenableFutureCallback;\r\n    \r\n    import com.shephertz.karma.constant.Constants;\r\n    import com.shephertz.karma.exception.KarmaException;\r\n    import com.shephertz.karma.util.Utils;\r\n    \r\n    /**\r\n     * @author Prakash Pandey\r\n     */\r\n    @Service\r\n    public class NotificationSender {\r\n    \r\n    \t@Autowired\r\n    \tprivate KafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n    \r\n    \tprivate static Logger LOGGER = LoggerFactory.getLogger(NotificationSender.class);\r\n    \r\n    \t// Send Message\r\n    \tpublic void sendMessage(String topicName, String message) throws KarmaException {\r\n    \t\tLOGGER.debug(&quot;========topic Name===== &quot; + topicName + &quot;=========message=======&quot; + message);\r\n    \t\tListenableFuture&lt;SendResult&lt;String, String&gt;&gt; result = kafkaTemplate.send(topicName, message);\r\n    \t\tresult.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onSuccess(SendResult&lt;String, String&gt; result) {\r\n    \t\t\t\tLOGGER.info(&quot;sent message=&#39;{}&#39;&quot; + &quot; to partition={}&quot; + &quot; with offset={}&quot;, message,\r\n    \t\t\t\t\t\tresult.getRecordMetadata().partition(), result.getRecordMetadata().offset());\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onFailure(Throwable ex) {\r\n    \t\t\t\tLOGGER.error(Constants.PRODUCER_MESSAGE_EXCEPTION.getValue() + Utils.getStackTrace(ex));\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tLOGGER.debug(&quot;Payload sent to kafka&quot;);\r\n    \t\tLOGGER.debug(&quot;topic: &quot; + topicName + &quot;, payload: &quot; + message);\r\n    \t}\r\n    }\r\n\r\n**Problem:** \r\n\r\nI am successfully able to sent message to kafka but sometimes I am receiving this error:\r\n\r\n    org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\r\n    2017-10-25 06:21:48, [ERROR] [karma-unified-notification-dispatcher - NotificationDispatcherSender - onFailure:43] Exception in sending message to kafka for queryorg.springframework.kafka.core.KafkaProducerException: Failed to send; nested exception is org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\r\n            at org.springframework.kafka.core.KafkaTemplate$1.onCompletion(KafkaTemplate.java:255)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:486)\r\n            at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:436)\r\n            at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:156)\r\n            at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:241)\r\n            at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:151)\r\n    Caused by: org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\t\r\n\r\n**Kafka properties**:\r\n\r\n    spring.kafka.producer.retries=5\r\n    spring.kafka.producer.batch-size=1000\r\n    spring.kafka.producer.request.timeout.ms=60000\r\n    spring.kafka.producer.linger.ms=10\r\n    spring.kafka.producer.acks=1\r\n    spring.kafka.producer.buffer-memory=33554432\r\n    spring.kafka.producer.max.block.ms=5000\r\n    spring.kafka.topic.retention=86400000\r\n    \r\n    spring.zookeeper.hosts=192.20.1.19:2181,10.20.1.20:2181,10.20.1.26:2181\r\n    spring.kafka.session.timeout=30000\r\n    spring.kafka.connection.timeout=10000\r\n    spring.kafka.topic.partition=5\r\n    spring.kafka.message.replication=2\r\n    \r\n    spring.kafka.listener.concurrency=1\r\n    spring.kafka.listener.poll-timeout=3000\r\n    spring.kafka.consumer.auto-commit-interval=1000\r\n    spring.kafka.consumer.enable-auto-commit=false\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.max-poll-records=200\r\n    spring.kafka.consumer.max-poll-interval-ms=300000\r\n\r\nIt would be very helpful if you could help me solving this problem.\r\nThanks.\r\n\r\n**Please note:** I am not receiving this above message every time. I am successfully able to produce a message to `kafka-topic` and successfully consume it on `consumer`. This above error comes approxmately after `1000` successfully produced message.","title":"Kafka Failed to update metadata","body":"<p>I am using Kafka v0.10.1.1 with <strong>Spring-boot</strong>.</p>\n\n<p>I am trying to produce a message in a Kafka topic <code>mobile-user</code> using the below producer code: </p>\n\n<p><strong>Topic <code>mobile-user</code> have 5 partitions and 2 replication factor</strong>. I have attached my <strong>Kafka settings at the end of the question</strong>.</p>\n\n<pre><code>package com.service;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.SendResult;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.concurrent.ListenableFuture;\nimport org.springframework.util.concurrent.ListenableFutureCallback;\n\nimport com.shephertz.karma.constant.Constants;\nimport com.shephertz.karma.exception.KarmaException;\nimport com.shephertz.karma.util.Utils;\n\n/**\n * @author Prakash Pandey\n */\n@Service\npublic class NotificationSender {\n\n    @Autowired\n    private KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    private static Logger LOGGER = LoggerFactory.getLogger(NotificationSender.class);\n\n    // Send Message\n    public void sendMessage(String topicName, String message) throws KarmaException {\n        LOGGER.debug(\"========topic Name===== \" + topicName + \"=========message=======\" + message);\n        ListenableFuture&lt;SendResult&lt;String, String&gt;&gt; result = kafkaTemplate.send(topicName, message);\n        result.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, String&gt;&gt;() {\n            @Override\n            public void onSuccess(SendResult&lt;String, String&gt; result) {\n                LOGGER.info(\"sent message='{}'\" + \" to partition={}\" + \" with offset={}\", message,\n                        result.getRecordMetadata().partition(), result.getRecordMetadata().offset());\n            }\n\n            @Override\n            public void onFailure(Throwable ex) {\n                LOGGER.error(Constants.PRODUCER_MESSAGE_EXCEPTION.getValue() + Utils.getStackTrace(ex));\n\n            }\n        });\n\n        LOGGER.debug(\"Payload sent to kafka\");\n        LOGGER.debug(\"topic: \" + topicName + \", payload: \" + message);\n    }\n}\n</code></pre>\n\n<p><strong>Problem:</strong> </p>\n\n<p>I am successfully able to sent message to kafka but sometimes I am receiving this error:</p>\n\n<pre><code>org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\n2017-10-25 06:21:48, [ERROR] [karma-unified-notification-dispatcher - NotificationDispatcherSender - onFailure:43] Exception in sending message to kafka for queryorg.springframework.kafka.core.KafkaProducerException: Failed to send; nested exception is org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.\n        at org.springframework.kafka.core.KafkaTemplate$1.onCompletion(KafkaTemplate.java:255)\n        at org.apache.kafka.clients.producer.KafkaProducer.doSend(KafkaProducer.java:486)\n        at org.apache.kafka.clients.producer.KafkaProducer.send(KafkaProducer.java:436)\n        at org.springframework.kafka.core.DefaultKafkaProducerFactory$CloseSafeProducer.send(DefaultKafkaProducerFactory.java:156)\n        at org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:241)\n        at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:151)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 5000 ms.    \n</code></pre>\n\n<p><strong>Kafka properties</strong>:</p>\n\n<pre><code>spring.kafka.producer.retries=5\nspring.kafka.producer.batch-size=1000\nspring.kafka.producer.request.timeout.ms=60000\nspring.kafka.producer.linger.ms=10\nspring.kafka.producer.acks=1\nspring.kafka.producer.buffer-memory=33554432\nspring.kafka.producer.max.block.ms=5000\nspring.kafka.topic.retention=86400000\n\nspring.zookeeper.hosts=192.20.1.19:2181,10.20.1.20:2181,10.20.1.26:2181\nspring.kafka.session.timeout=30000\nspring.kafka.connection.timeout=10000\nspring.kafka.topic.partition=5\nspring.kafka.message.replication=2\n\nspring.kafka.listener.concurrency=1\nspring.kafka.listener.poll-timeout=3000\nspring.kafka.consumer.auto-commit-interval=1000\nspring.kafka.consumer.enable-auto-commit=false\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.max-poll-records=200\nspring.kafka.consumer.max-poll-interval-ms=300000\n</code></pre>\n\n<p>It would be very helpful if you could help me solving this problem.\nThanks.</p>\n\n<p><strong>Please note:</strong> I am not receiving this above message every time. I am successfully able to produce a message to <code>kafka-topic</code> and successfully consume it on <code>consumer</code>. This above error comes approxmately after <code>1000</code> successfully produced message.</p>\n"},{"tags":["java","redis","transactions","high-availability","sentinel"],"comments":[{"owner":{"account_id":2670317,"reputation":6716,"user_id":2307873,"display_name":"Adam Marshall"},"score":0,"creation_date":1697471824,"post_id":77301298,"comment_id":136281114,"body_markdown":"It sounds to me that this issue is happening because your replicas (note: Redis deprecated the use of the word &quot;slave&quot; and replaced it with &quot;replica&quot; some time ago) are quite a bit behind the master. So when the master fails and Sentinel fails over to a replica, it doesn&#39;t have recent data. However, since this is most likely solved with _configuration_ rather than _software_, I don&#39;t think this fits on SO. I&#39;d recommend you ask this question on the StackExchange site ServerFault. Because it doesn&#39;t fit on SO, I&#39;m marking that this question be closed in favor of a question on ServerFault.","body":"It sounds to me that this issue is happening because your replicas (note: Redis deprecated the use of the word &quot;slave&quot; and replaced it with &quot;replica&quot; some time ago) are quite a bit behind the master. So when the master fails and Sentinel fails over to a replica, it doesn&#39;t have recent data. However, since this is most likely solved with <i>configuration</i> rather than <i>software</i>, I don&#39;t think this fits on SO. I&#39;d recommend you ask this question on the StackExchange site ServerFault. Because it doesn&#39;t fit on SO, I&#39;m marking that this question be closed in favor of a question on ServerFault."},{"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"score":0,"creation_date":1697474665,"post_id":77301298,"comment_id":136281616,"body_markdown":"@AdamMarshall thank you i will ask question on StackExchange","body":"@AdamMarshall thank you i will ask question on StackExchange"}],"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697457309,"creation_date":1697453061,"question_id":77301298,"body_markdown":"I am using UnifiedJedis to perform read and write operations on Redis. I&#39;m facing an issue with data loss when there is a master and slave.\r\n\r\nThe issue with the Jedis transaction was when we shut down the master POD and another slave became the master, that time some of the objects were lost even though we got the OK response from the transaction.\r\n\r\nIn Unified Jedis I tried with `waitReplias()`, but I&#39;m still facing the same issue.\r\n\r\nHow do I resolve this issue?\r\n","title":"Data loss during Redis master slave transition","body":"<p>I am using UnifiedJedis to perform read and write operations on Redis. I'm facing an issue with data loss when there is a master and slave.</p>\n<p>The issue with the Jedis transaction was when we shut down the master POD and another slave became the master, that time some of the objects were lost even though we got the OK response from the transaction.</p>\n<p>In Unified Jedis I tried with <code>waitReplias()</code>, but I'm still facing the same issue.</p>\n<p>How do I resolve this issue?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":27897431,"reputation":372,"user_id":21302428,"display_name":"Arpita Shrivastava"},"score":0,"creation_date":1696346360,"post_id":77199478,"comment_id":136139442,"body_markdown":"Hi @Tobi, Will these 2 links help you in resolving your issue. [Link1](https://cloud.google.com/java/docs/reference/gax/latest/com.google.api.gax.core.ExecutorProvider.html) and [Link2](https://cloud.google.com/java/docs/reference/google-cloud-pubsub/latest/com.google.cloud.pubsub.v1.Subscriber.Builder#com_google_cloud_pubsub_v1_Subscriber_Builder_setExecutorProvider_com_google_api_gax_core_ExecutorProvider_).","body":"Hi @Tobi, Will these 2 links help you in resolving your issue. <a href=\"https://cloud.google.com/java/docs/reference/gax/latest/com.google.api.gax.core.ExecutorProvider.html\" rel=\"nofollow noreferrer\">Link1</a> and <a href=\"https://cloud.google.com/java/docs/reference/google-cloud-pubsub/latest/com.google.cloud.pubsub.v1.Subscriber.Builder#com_google_cloud_pubsub_v1_Subscriber_Builder_setExecutorProvider_com_google_api_gax_core_ExecutorProvider_\" rel=\"nofollow noreferrer\">Link2</a>."},{"owner":{"account_id":1055293,"reputation":1513,"user_id":5115898,"display_name":"Tobi"},"score":0,"creation_date":1696391255,"post_id":77199478,"comment_id":136145196,"body_markdown":"Hey @ArpitaShrivastava, I am aware of the API. Can you please elaborate on how these links help to answer my question?","body":"Hey @ArpitaShrivastava, I am aware of the API. Can you please elaborate on how these links help to answer my question?"}],"answers":[{"tags":[],"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697457226,"creation_date":1697457226,"answer_id":77301743,"question_id":77199478,"body_markdown":"The use of `executorProvider.getExecutor().isShutdown()` to determine whether or not to rebuild the subscriber does not seem like the best condition, agreed. The sample should and will be updated. It is especially unusual because calling `getExecutor()` creates a brand new executor. \r\n\r\nThe subscriber should only be recreated in the `failed()` method of `addListener` if the condition can be remedied. For example, one might check the status of the error to see if the subscription didn&#39;t exist and if not, create it:\r\n\r\n```\r\n  subscriber.addListener(\r\n      new Subscriber.Listener() {\r\n        public void failed(Subscriber.State from, Throwable failure) {\r\n          System.out.println(failure.getStackTrace());\r\n\r\n          if (failure instance of NotFoundException) {\r\n            createSubscription(projectId, topicId, subscriptionId);\r\n            subscribeWithErrorListenerExample(projectId, subscriptionId);\r\n          }\r\n        }\r\n      },\r\n      MoreExecutors.directExecutor());\r\n\r\n  void createSubscription(String projectId, String topicId, String subscriptionId) {\r\n    try (SubscriptionAdminClient subscriptionAdminClient = SubscriptionAdminClient.create()) {\r\n      TopicName topicName = TopicName.of(projectId, topicId);\r\n      SubscriptionName subscriptionName = SubscriptionName.of(projectId, subscriptionId);\r\n      Subscription subscription =\r\n          subscriptionAdminClient.createSubscription(\r\n              subscriptionName, topicName, PushConfig.getDefaultInstance(), 10);\r\n    }\r\n```\r\n","title":"When should a subscriber failed listener rebuild the subscriber?","body":"<p>The use of <code>executorProvider.getExecutor().isShutdown()</code> to determine whether or not to rebuild the subscriber does not seem like the best condition, agreed. The sample should and will be updated. It is especially unusual because calling <code>getExecutor()</code> creates a brand new executor.</p>\n<p>The subscriber should only be recreated in the <code>failed()</code> method of <code>addListener</code> if the condition can be remedied. For example, one might check the status of the error to see if the subscription didn't exist and if not, create it:</p>\n<pre><code>  subscriber.addListener(\n      new Subscriber.Listener() {\n        public void failed(Subscriber.State from, Throwable failure) {\n          System.out.println(failure.getStackTrace());\n\n          if (failure instance of NotFoundException) {\n            createSubscription(projectId, topicId, subscriptionId);\n            subscribeWithErrorListenerExample(projectId, subscriptionId);\n          }\n        }\n      },\n      MoreExecutors.directExecutor());\n\n  void createSubscription(String projectId, String topicId, String subscriptionId) {\n    try (SubscriptionAdminClient subscriptionAdminClient = SubscriptionAdminClient.create()) {\n      TopicName topicName = TopicName.of(projectId, topicId);\n      SubscriptionName subscriptionName = SubscriptionName.of(projectId, subscriptionId);\n      Subscription subscription =\n          subscriptionAdminClient.createSubscription(\n              subscriptionName, topicName, PushConfig.getDefaultInstance(), 10);\n    }\n</code></pre>\n"}],"owner":{"account_id":1055293,"reputation":1513,"user_id":5115898,"display_name":"Tobi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77301743,"answer_count":1,"score":0,"last_activity_date":1697457226,"creation_date":1695962324,"question_id":77199478,"body_markdown":"I am trying to understand the Pub/Sub example code for [handling errors using the high-level client library][1]. In particular, I am trying to understand [the following if statement of the subscriber rebuild logic][2]:\r\n\r\n```java\r\nif (!executorProvider.getExecutor().isShutdown()) {\r\n    subscribeWithErrorListenerExample(projectId, subscriptionId);\r\n}\r\n```\r\n\r\nWhy is this check necessary, and why should we only rebuild if the executor is *not* shut down? `subscribeWithErrorListenerExample` will in any case, rebuild and restart a subscriber and [recreate the `executorProvider`][3].\r\n\r\nMy first thought was that if we need this check, maybe it should say: &quot;only rebuild if the executor *is* shut down&quot; (i.e., remove the negation `!` in the if statement). Or, maybe the executor gets already shut down when the subscriber fails, in which case I am wondering why this check is needed in the first place.\r\n\r\nAppreciate it if anyone has some thoughts or input.\r\n\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pull#handle_errors_using_the_high-level_client_library\r\n  [2]: https://github.com/googleapis/java-pubsub/blob/6d1c7d33b5cbd559611690da2d0f5e10451799ee/samples/snippets/src/main/java/pubsub/SubscribeWithErrorListenerExample.java#L71C19-L71C19\r\n  [3]: https://github.com/googleapis/java-pubsub/blob/6d1c7d33b5cbd559611690da2d0f5e10451799ee/samples/snippets/src/main/java/pubsub/SubscribeWithErrorListenerExample.java#L57","title":"When should a subscriber failed listener rebuild the subscriber?","body":"<p>I am trying to understand the Pub/Sub example code for <a href=\"https://cloud.google.com/pubsub/docs/pull#handle_errors_using_the_high-level_client_library\" rel=\"nofollow noreferrer\">handling errors using the high-level client library</a>. In particular, I am trying to understand <a href=\"https://github.com/googleapis/java-pubsub/blob/6d1c7d33b5cbd559611690da2d0f5e10451799ee/samples/snippets/src/main/java/pubsub/SubscribeWithErrorListenerExample.java#L71C19-L71C19\" rel=\"nofollow noreferrer\">the following if statement of the subscriber rebuild logic</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!executorProvider.getExecutor().isShutdown()) {\n    subscribeWithErrorListenerExample(projectId, subscriptionId);\n}\n</code></pre>\n<p>Why is this check necessary, and why should we only rebuild if the executor is <em>not</em> shut down? <code>subscribeWithErrorListenerExample</code> will in any case, rebuild and restart a subscriber and <a href=\"https://github.com/googleapis/java-pubsub/blob/6d1c7d33b5cbd559611690da2d0f5e10451799ee/samples/snippets/src/main/java/pubsub/SubscribeWithErrorListenerExample.java#L57\" rel=\"nofollow noreferrer\">recreate the <code>executorProvider</code></a>.</p>\n<p>My first thought was that if we need this check, maybe it should say: &quot;only rebuild if the executor <em>is</em> shut down&quot; (i.e., remove the negation <code>!</code> in the if statement). Or, maybe the executor gets already shut down when the subscriber fails, in which case I am wondering why this check is needed in the first place.</p>\n<p>Appreciate it if anyone has some thoughts or input.</p>\n"},{"tags":["java","c++","windows","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1697444908,"post_id":77300412,"comment_id":136276055,"body_markdown":"Can you explain why you think the linked answer does not apply or how you could not get it to work? The JVM is, after all, just another DLL to be loaded... Alternatively, have you considered the generic LoadLibrary/GetProcAddress route? You only need `JNI_CreateJavaVM`, after all...","body":"Can you explain why you think the linked answer does not apply or how you could not get it to work? The JVM is, after all, just another DLL to be loaded... Alternatively, have you considered the generic LoadLibrary/GetProcAddress route? You only need <code>JNI_CreateJavaVM</code>, after all..."},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1697447125,"post_id":77300412,"comment_id":136276431,"body_markdown":"It doesn&#39;t apply because you can&#39;t just simply copy `jvm.dll` and paste it in the same location with .exe file. It doesn&#39;t work like that. And if this doesn&#39;t work, then it will look into Windows, and of course it is not there, which it means it will then will look into PATH, and this is what I want to avoid.","body":"It doesn&#39;t apply because you can&#39;t just simply copy <code>jvm.dll</code> and paste it in the same location with .exe file. It doesn&#39;t work like that. And if this doesn&#39;t work, then it will look into Windows, and of course it is not there, which it means it will then will look into PATH, and this is what I want to avoid."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1697447253,"post_id":77300412,"comment_id":136276451,"body_markdown":"Have you read the second and third answers in that thread? There are other options than bundling jvm.dll with your exe or searching PATH, namely SetDllDirectory and LoadLibrary(Ex) as I hinted at in my first comment.","body":"Have you read the second and third answers in that thread? There are other options than bundling jvm.dll with your exe or searching PATH, namely SetDllDirectory and LoadLibrary(Ex) as I hinted at in my first comment."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1697449347,"post_id":77300412,"comment_id":136276852,"body_markdown":"See [this question](/questions/28778933/deploying-jre-via-jni-jvm-dll-not-designed-to-run-on-windows-or) for a snippet you can steal: it loads the jvm.dll by absolute pathname, which you can get from querying %JAVA_HOME%, the registry, specific configuration somewhere, or just searching the filesystem.","body":"See <a href=\"/questions/28778933/deploying-jre-via-jni-jvm-dll-not-designed-to-run-on-windows-or\">this question</a> for a snippet you can steal: it loads the jvm.dll by absolute pathname, which you can get from querying %JAVA_HOME%, the registry, specific configuration somewhere, or just searching the filesystem."},{"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"score":0,"creation_date":1697456847,"post_id":77300412,"comment_id":136278168,"body_markdown":"Yes, it did work with LoadLibrary. I had some problems before, but now I managed to make it work. Thank you.","body":"Yes, it did work with LoadLibrary. I had some problems before, but now I managed to make it work. Thank you."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1697456875,"post_id":77300412,"comment_id":136278171,"body_markdown":"Suggest you write a self-answer for other people to find, then :)","body":"Suggest you write a self-answer for other people to find, then :)"}],"answers":[{"tags":[],"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697457172,"creation_date":1697457172,"answer_id":77301737,"question_id":77300412,"body_markdown":"Using the suggestion @Botje gave (thank you!), I tried yet again using `LoadLibraryA`, and this time I managed to make it work:\r\n\r\n```\r\n#include &lt;string&gt;\r\n#include &lt;iostream&gt;\r\n#include &lt;chrono&gt;\r\n#include &lt;thread&gt;\r\n#include &lt;jni.h&gt;\r\n#include &lt;Windows.h&gt;\r\n\r\nJavaVM* jvm = nullptr;\r\n\r\nstd::string createVM(std::string location) {\r\n\tstd::string jvmLocation = location;\r\n\tjvmLocation.append(&quot;ThirdParty\\\\Eclipse Adoptium\\\\jre-17.0.7.7-hotspot\\\\bin\\\\servers\\\\jvm.dll&quot;);\r\n\tHMODULE hJVMDLL = LoadLibraryA(jvmLocation.c_str());\r\n\ttypedef jint(JNICALL* fpCJV)(JavaVM**, void**, void*);\r\n\tif (hJVMDLL != NULL) {\r\n\t\tfpCJV JNI_CreateJavaVM = (fpCJV)::GetProcAddress(hJVMDLL, &quot;JNI_CreateJavaVM&quot;);\r\n\t\tlocation.insert(0, &quot;-Djava.class.path=&quot;);\r\n\t\tlocation.append(&quot;Data\\\\Java&quot;);\r\n\t\tJavaVMInitArgs vm_args;\r\n\t\tJavaVMOption* options = new JavaVMOption[1];\r\n\t\toptions[0].optionString = &amp;location[0];\r\n\t\tvm_args.version = JNI_VERSION_10;\r\n\t\tvm_args.nOptions = 1;\r\n\t\tvm_args.options = options;\r\n\t\tvm_args.ignoreUnrecognized = false;\r\n\t\tJNIEnv* env = nullptr;\r\n\t\tjint rc = JNI_OK;\r\n\t\tif (jvm == nullptr) {\r\n\t\t\trc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\r\n\t\t}\r\n\t\telse {\r\n\t\t\trc = jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\r\n\t\t}\r\n\t\tdelete[] options;\r\n\t\tif (rc != JNI_OK) {\r\n\t\t\tif (rc == JNI_EVERSION)\r\n\t\t\t\treturn &quot;JNI_EVERSION&quot;;\r\n\t\t\telse if (rc == JNI_ENOMEM)\r\n\t\t\t\treturn &quot;JNI_ENOMEM&quot;;\r\n\t\t\telse if (rc == JNI_EINVAL)\r\n\t\t\t\treturn &quot;JNI_EINVAL&quot;;\r\n\t\t\telse if (rc == JNI_EEXIST)\r\n\t\t\t\treturn &quot;JNI_EEXIST&quot;;\r\n\t\t\telse\r\n\t\t\t\treturn &quot;JNI_FATALERROR&quot;;\r\n\t\t}\r\n\t\treturn &quot;JNI_CREATED&quot;;\r\n\t}\r\n\telse {\r\n\t\treturn &quot;ERROR_LOADING_DLL&quot;;\r\n\t}\r\n}\r\n\r\n//This is just a test for a function I have written in Java, which doesn&#39;t take any parameters, and returns a String\r\nstd::string createIdentification() {\r\n\tJNIEnv* env;\r\n\tjvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\r\n\tjclass jClass = env-&gt;FindClass(&quot;JavaMethods&quot;);\r\n\r\n\tif (jClass == nullptr) {\r\n\t\treturn &quot;ClassNotFound cI&quot;;\r\n\t}\r\n\telse {\r\n\t\tjmethodID methodID = env-&gt;GetStaticMethodID(jClass, &quot;createIdentification&quot;, &quot;()Ljava/lang/String;&quot;);\r\n\t\tif (methodID == nullptr) {\r\n\t\t\treturn &quot;MethodNotFound cI&quot;;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tjboolean isCopy;\r\n\t\t\tjstring jResult = (jstring)env-&gt;CallStaticObjectMethod(jClass, methodID);\r\n\t\t\tconst char* string = env-&gt;GetStringUTFChars(jResult, &amp;isCopy);\r\n\t\t\tstd::string result = string;\r\n\t\t\tenv-&gt;ReleaseStringUTFChars(jResult, string);\r\n\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nint main() {\r\n\tstd::cout &lt;&lt; createVM(&quot;D:\\\\Program Files\\\\MyApp\\\\&quot;).c_str() &lt;&lt; std::endl;\r\n\tif (jvm != NULL) {\r\n\t\tstd::cout &lt;&lt; createIdentification().c_str();\r\n\t}\r\n\r\n\tstd::this_thread::sleep_for(std::chrono::milliseconds(2000));\r\n\treturn 0;\r\n}\r\n```","title":"How to use JNI without having to add jvm.dll location into Environment Variables Path","body":"<p>Using the suggestion @Botje gave (thank you!), I tried yet again using <code>LoadLibraryA</code>, and this time I managed to make it work:</p>\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;chrono&gt;\n#include &lt;thread&gt;\n#include &lt;jni.h&gt;\n#include &lt;Windows.h&gt;\n\nJavaVM* jvm = nullptr;\n\nstd::string createVM(std::string location) {\n    std::string jvmLocation = location;\n    jvmLocation.append(&quot;ThirdParty\\\\Eclipse Adoptium\\\\jre-17.0.7.7-hotspot\\\\bin\\\\servers\\\\jvm.dll&quot;);\n    HMODULE hJVMDLL = LoadLibraryA(jvmLocation.c_str());\n    typedef jint(JNICALL* fpCJV)(JavaVM**, void**, void*);\n    if (hJVMDLL != NULL) {\n        fpCJV JNI_CreateJavaVM = (fpCJV)::GetProcAddress(hJVMDLL, &quot;JNI_CreateJavaVM&quot;);\n        location.insert(0, &quot;-Djava.class.path=&quot;);\n        location.append(&quot;Data\\\\Java&quot;);\n        JavaVMInitArgs vm_args;\n        JavaVMOption* options = new JavaVMOption[1];\n        options[0].optionString = &amp;location[0];\n        vm_args.version = JNI_VERSION_10;\n        vm_args.nOptions = 1;\n        vm_args.options = options;\n        vm_args.ignoreUnrecognized = false;\n        JNIEnv* env = nullptr;\n        jint rc = JNI_OK;\n        if (jvm == nullptr) {\n            rc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n        }\n        else {\n            rc = jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\n        }\n        delete[] options;\n        if (rc != JNI_OK) {\n            if (rc == JNI_EVERSION)\n                return &quot;JNI_EVERSION&quot;;\n            else if (rc == JNI_ENOMEM)\n                return &quot;JNI_ENOMEM&quot;;\n            else if (rc == JNI_EINVAL)\n                return &quot;JNI_EINVAL&quot;;\n            else if (rc == JNI_EEXIST)\n                return &quot;JNI_EEXIST&quot;;\n            else\n                return &quot;JNI_FATALERROR&quot;;\n        }\n        return &quot;JNI_CREATED&quot;;\n    }\n    else {\n        return &quot;ERROR_LOADING_DLL&quot;;\n    }\n}\n\n//This is just a test for a function I have written in Java, which doesn't take any parameters, and returns a String\nstd::string createIdentification() {\n    JNIEnv* env;\n    jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\n    jclass jClass = env-&gt;FindClass(&quot;JavaMethods&quot;);\n\n    if (jClass == nullptr) {\n        return &quot;ClassNotFound cI&quot;;\n    }\n    else {\n        jmethodID methodID = env-&gt;GetStaticMethodID(jClass, &quot;createIdentification&quot;, &quot;()Ljava/lang/String;&quot;);\n        if (methodID == nullptr) {\n            return &quot;MethodNotFound cI&quot;;\n        }\n        else {\n            jboolean isCopy;\n            jstring jResult = (jstring)env-&gt;CallStaticObjectMethod(jClass, methodID);\n            const char* string = env-&gt;GetStringUTFChars(jResult, &amp;isCopy);\n            std::string result = string;\n            env-&gt;ReleaseStringUTFChars(jResult, string);\n\n            return result;\n        }\n    }\n}\n\nint main() {\n    std::cout &lt;&lt; createVM(&quot;D:\\\\Program Files\\\\MyApp\\\\&quot;).c_str() &lt;&lt; std::endl;\n    if (jvm != NULL) {\n        std::cout &lt;&lt; createIdentification().c_str();\n    }\n\n    std::this_thread::sleep_for(std::chrono::milliseconds(2000));\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":25635399,"reputation":31,"user_id":19405069,"display_name":"John"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77301737,"answer_count":1,"score":1,"last_activity_date":1697457172,"creation_date":1697444587,"question_id":77300412,"body_markdown":"One way to make JNI work is to go into `Environment Variables` and add into `User` or `System` `Path` the folder where `jvm.dll` is located (`.../bin/server`). But this means that on a client machine, when your app is launched, you need to check if the path is added, and if it isn&#39;t, to add it.\r\n\r\nBut instead of doing this, can you give the location to `JavaVMOption`, or using another way, but inside the code and not having to add that location to `Environment Variables`?\r\n\r\nI&#39;m using `Eclipse Adoptium` which will be added with the app files with a license agreement, so the location will be dependent to where the app is placed/installed, making the option with `Environment Variables` a bit annoying as the location could change, so you need to remove the old one and add the new one each time in this situation.\r\n\r\nThis is what I use to create the `JVM`, where `javaLocation` is `std::string`, and it is given as a parameter for the function which contains the location of the app folder:\r\n```\r\n\tjavaLocation.insert(0, &quot;-Djava.class.path=&quot;);\r\n\tjavaLocation.append(&quot;Data\\\\Java&quot;);\r\n\tJavaVMInitArgs vm_args;\r\n\tJavaVMOption* options = new JavaVMOption[1];\r\n\toptions[0].optionString = &amp;javaLocation[0];\r\n\tvm_args.version = JNI_VERSION_10;\r\n\tvm_args.nOptions = 1;\r\n\tvm_args.options = options;\r\n\tvm_args.ignoreUnrecognized = false;\r\n\tJNIEnv* env = nullptr;\r\n\tjint rc = JNI_OK;\r\n\tif (jvm == nullptr) {\r\n\t\trc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\r\n\t}\r\n\telse {\r\n\t\trc = jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\r\n\t}\r\n\tdelete[] options;\r\n\tif (rc != JNI_OK) {\r\n\t\tif (rc == JNI_EVERSION)\r\n\t\t\treturn &quot;JNI_EVERSION&quot;;\r\n\t\telse if (rc == JNI_ENOMEM)\r\n\t\t\treturn &quot;JNI_ENOMEM&quot;;\r\n\t\telse if (rc == JNI_EINVAL)\r\n\t\t\treturn &quot;JNI_EINVAL&quot;;\r\n\t\telse if (rc == JNI_EEXIST)\r\n\t\t\treturn &quot;JNI_EEXIST&quot;;\r\n\t\telse\r\n\t\t\treturn &quot;JNI_FATALERROR&quot;;\r\n\t}\r\n\treturn &quot;JNI_CREATED&quot;;\r\n```\r\n\r\nThis question was asked before in [this][1] thread and was marked as &quot;**This question already has answers here**&quot;, but unfortunately the answer given there doesn&#39;t apply to JNI, and it is a general solution for **DLL** files.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75243074/using-jni-without-having-to-add-jvm-dll-path-inside-environment-variables-user","title":"How to use JNI without having to add jvm.dll location into Environment Variables Path","body":"<p>One way to make JNI work is to go into <code>Environment Variables</code> and add into <code>User</code> or <code>System</code> <code>Path</code> the folder where <code>jvm.dll</code> is located (<code>.../bin/server</code>). But this means that on a client machine, when your app is launched, you need to check if the path is added, and if it isn't, to add it.</p>\n<p>But instead of doing this, can you give the location to <code>JavaVMOption</code>, or using another way, but inside the code and not having to add that location to <code>Environment Variables</code>?</p>\n<p>I'm using <code>Eclipse Adoptium</code> which will be added with the app files with a license agreement, so the location will be dependent to where the app is placed/installed, making the option with <code>Environment Variables</code> a bit annoying as the location could change, so you need to remove the old one and add the new one each time in this situation.</p>\n<p>This is what I use to create the <code>JVM</code>, where <code>javaLocation</code> is <code>std::string</code>, and it is given as a parameter for the function which contains the location of the app folder:</p>\n<pre><code>    javaLocation.insert(0, &quot;-Djava.class.path=&quot;);\n    javaLocation.append(&quot;Data\\\\Java&quot;);\n    JavaVMInitArgs vm_args;\n    JavaVMOption* options = new JavaVMOption[1];\n    options[0].optionString = &amp;javaLocation[0];\n    vm_args.version = JNI_VERSION_10;\n    vm_args.nOptions = 1;\n    vm_args.options = options;\n    vm_args.ignoreUnrecognized = false;\n    JNIEnv* env = nullptr;\n    jint rc = JNI_OK;\n    if (jvm == nullptr) {\n        rc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n    }\n    else {\n        rc = jvm-&gt;AttachCurrentThread((void**)&amp;env, NULL);\n    }\n    delete[] options;\n    if (rc != JNI_OK) {\n        if (rc == JNI_EVERSION)\n            return &quot;JNI_EVERSION&quot;;\n        else if (rc == JNI_ENOMEM)\n            return &quot;JNI_ENOMEM&quot;;\n        else if (rc == JNI_EINVAL)\n            return &quot;JNI_EINVAL&quot;;\n        else if (rc == JNI_EEXIST)\n            return &quot;JNI_EEXIST&quot;;\n        else\n            return &quot;JNI_FATALERROR&quot;;\n    }\n    return &quot;JNI_CREATED&quot;;\n</code></pre>\n<p>This question was asked before in <a href=\"https://stackoverflow.com/questions/75243074/using-jni-without-having-to-add-jvm-dll-path-inside-environment-variables-user\">this</a> thread and was marked as &quot;<strong>This question already has answers here</strong>&quot;, but unfortunately the answer given there doesn't apply to JNI, and it is a general solution for <strong>DLL</strong> files.</p>\n"},{"tags":["java","android","storage","android-developer-api","saf"],"comments":[{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697435632,"post_id":77299441,"comment_id":136274629,"body_markdown":"@blackapps I think it is needed as i am storing the treeUri after opening it once so the permission is needed i think .","body":"@blackapps I think it is needed as i am storing the treeUri after opening it once so the permission is needed i think ."},{"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"score":0,"creation_date":1697436788,"post_id":77299441,"comment_id":136274773,"body_markdown":"Show me your manifest.xml","body":"Show me your manifest.xml"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697437443,"post_id":77299441,"comment_id":136274875,"body_markdown":"@Laxmikant \n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\nThese are the permissions that i have added and rest is unchanged","body":"@Laxmikant   &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;  These are the permissions that i have added and rest is unchanged"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697437768,"post_id":77299441,"comment_id":136274924,"body_markdown":"@blackapps removing it didn&#39;t solve the problem","body":"@blackapps removing it didn&#39;t solve the problem"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697439542,"post_id":77299441,"comment_id":136275193,"body_markdown":"And dont show a manifest as comment. Unreadable. Moreover there is not any reason to ask for a manifest.","body":"And dont show a manifest as comment. Unreadable. Moreover there is not any reason to ask for a manifest."},{"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"score":0,"creation_date":1697439577,"post_id":77299441,"comment_id":136275201,"body_markdown":"Need to add Read uri permission in your manifest file and these permission work for below android 10 ,","body":"Need to add Read uri permission in your manifest file and these permission work for below android 10 ,"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1697439664,"post_id":77299441,"comment_id":136275213,"body_markdown":"@Laxmi kant. Please stop giving wrong advises. SAF does not need any permission or stuff in manifest.","body":"@Laxmi kant. Please stop giving wrong advises. SAF does not need any permission or stuff in manifest."},{"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"score":0,"creation_date":1697439690,"post_id":77299441,"comment_id":136275219,"body_markdown":"and one thing is more use ActivityLauncher andoid 10 or above","body":"and one thing is more use ActivityLauncher andoid 10 or above"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697440123,"post_id":77299441,"comment_id":136275277,"body_markdown":"&lt;intent-filter&gt;--&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;--&gt;\n          &lt;category android:name=&quot;android.intent.action.OPEN_DOCUMENT_TREE&quot; /&gt;--&gt;\n       &lt;/intent-filter&gt;--&gt;\n\n@Laxmikant i did this earlier \ndid you mean this","body":"&lt;intent-filter&gt;--&gt;                 &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;--&gt;           &lt;category android:name=&quot;android.intent.action.OPEN_DOCUMENT_TREE&quot; /&gt;--&gt;        &lt;/intent-filter&gt;--&gt;  @Laxmikant i did this earlier  did you mean this"},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697440152,"post_id":77299441,"comment_id":136275281,"body_markdown":"@blackapps do you have any fix for it , i need it.","body":"@blackapps do you have any fix for it , i need it."},{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1697452463,"post_id":77299441,"comment_id":136277404,"body_markdown":"Maybe the issue is exactly that: there is no app installed to support this.\nSeems you have already put some tools in your app to return issues. So you could check if FILE is installed when the app can&#39;t find any app, then return this info as part of the logs. Obviously it&#39;ll not fix your issue but I least you&#39;ll have a better understanding of it.","body":"Maybe the issue is exactly that: there is no app installed to support this. Seems you have already put some tools in your app to return issues. So you could check if FILE is installed when the app can&#39;t find any app, then return this info as part of the logs. Obviously it&#39;ll not fix your issue but I least you&#39;ll have a better understanding of it."},{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1697452542,"post_id":77299441,"comment_id":136277422,"body_markdown":"@blackapps Please be nice, everybody here is trying to help. ","body":"@blackapps Please be nice, everybody here is trying to help. "},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697456072,"post_id":77299441,"comment_id":136278040,"body_markdown":"Thanks @Eselfar for taking a look\nActually there is some file app there in the device\nBut you actually want to say to install some files app in the device like google files or something , Right?","body":"Thanks @Eselfar for taking a look Actually there is some file app there in the device But you actually want to say to install some files app in the device like google files or something , Right?"},{"owner":{"account_id":2047476,"reputation":3789,"user_id":1827254,"accept_rate":62,"display_name":"Eselfar"},"score":0,"creation_date":1697497367,"post_id":77299441,"comment_id":136284855,"body_markdown":"You have access to the device? I thought you knew about the error because of some user&#39;s report.","body":"You have access to the device? I thought you knew about the error because of some user&#39;s report."},{"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"score":0,"creation_date":1697505308,"post_id":77299441,"comment_id":136285479,"body_markdown":"@Eselfar yes i have the access to device. Can you please elaborate your  first comment?","body":"@Eselfar yes i have the access to device. Can you please elaborate your  first comment?"}],"owner":{"account_id":24118422,"reputation":21,"user_id":18087969,"display_name":"Ayush Sharma"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697457123,"creation_date":1697431507,"question_id":77299441,"body_markdown":"     Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n     startActivityForResult(intent, REQUEST_CODE_OPEN_DIRECTORY);\r\n              \r\nI am trying to open  file directory in an android supported Interactive Flat panel name BENQ having android 11 . I try to open the file directory but this line of code gave me error \r\n\r\nandroid.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.OPEN_DOCUMENT_TREE flg=0x1 }\r\n\r\nDoes any one know how to fix this or any alternative?\r\n\r\n&quot;Some have suggested it might be very likely related to the fact that some users have disabled the FILES app on their devices, since MOST PROBABLY the error is not occurring on all the devices models listed above, but for a subset&quot;\r\n\r\nabove is the solution suggested by some but i can not find how to activate the files app , i am not able to do anything.\r\n\r\nalso if some can please tell how can i read data from usb device in android without SAF in android 11 or above it will be of great help.\r\n\r\nNote - My code working on almost all devices but this is the special case but it important for me to fix it.\r\n\r\n\r\n","title":"No Activity found to handle Intent { act=android.intent.action.OPEN_DOCUMENT_TREE flg=0x1 }","body":"<pre><code> Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n startActivityForResult(intent, REQUEST_CODE_OPEN_DIRECTORY);\n          \n</code></pre>\n<p>I am trying to open  file directory in an android supported Interactive Flat panel name BENQ having android 11 . I try to open the file directory but this line of code gave me error</p>\n<p>android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.OPEN_DOCUMENT_TREE flg=0x1 }</p>\n<p>Does any one know how to fix this or any alternative?</p>\n<p>&quot;Some have suggested it might be very likely related to the fact that some users have disabled the FILES app on their devices, since MOST PROBABLY the error is not occurring on all the devices models listed above, but for a subset&quot;</p>\n<p>above is the solution suggested by some but i can not find how to activate the files app , i am not able to do anything.</p>\n<p>also if some can please tell how can i read data from usb device in android without SAF in android 11 or above it will be of great help.</p>\n<p>Note - My code working on almost all devices but this is the special case but it important for me to fix it.</p>\n"},{"tags":["java","angular","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1697315298,"post_id":77294278,"comment_id":136265411,"body_markdown":"To login you have to call `/login` instead of `&quot;user/login&quot;`. If you call `&quot;user/login&quot;` you are not logged in and redirected to your login page.","body":"To login you have to call <code>&#47;login</code> instead of <code>&quot;user&#47;login&quot;</code>. If you call <code>&quot;user&#47;login&quot;</code> you are not logged in and redirected to your login page."},{"owner":{"account_id":29672585,"reputation":1,"user_id":22741445,"display_name":"mVirtuoso"},"score":0,"creation_date":1697316438,"post_id":77294278,"comment_id":136265521,"body_markdown":"@dur i tried using `/login` instead of `/user/login`, but I&#39;m still getting the same error. I tried `login` instead of `/login` and it worked. So I changed &#39;/user/login&#39; to `user/login` and it also worked. Can you please elaborate? Tutorials I have seen used `/something`","body":"@dur i tried using <code>&#47;login</code> instead of <code>&#47;user&#47;login</code>, but I&#39;m still getting the same error. I tried <code>login</code> instead of <code>&#47;login</code> and it worked. So I changed &#39;/user/login&#39; to <code>user&#47;login</code> and it also worked. Can you please elaborate? Tutorials I have seen used <code>&#47;something</code>"},{"owner":{"account_id":29672585,"reputation":1,"user_id":22741445,"display_name":"mVirtuoso"},"score":0,"creation_date":1697317164,"post_id":77294278,"comment_id":136265573,"body_markdown":"@dur also should I update any of my existing urls in the security configuration?","body":"@dur also should I update any of my existing urls in the security configuration?"}],"owner":{"account_id":29672585,"reputation":1,"user_id":22741445,"display_name":"mVirtuoso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697456763,"creation_date":1697313207,"question_id":77294278,"body_markdown":"I am trying to build a web app for a local supermarket using Angular 16 for the frontend and Spring boot (3.1.3) for the backend.\r\n\r\nIn angular, this is how I&#39;m submitting my form:\r\n```\r\nlogin() {\r\n    console.log(this.loginFormGroup.value);\r\n    this.loginFormGroup.markAllAsTouched();\r\n    if (this.loginFormGroup.valid) {\r\n      this.loginSubscription = this.userService.login({\r\n        username: this.loginFormGroup.controls[&quot;username&quot;].value,\r\n        password: this.loginFormGroup.controls[&quot;password&quot;].value,\r\n        rememberMe: this.loginFormGroup.controls[&quot;rememberMe&quot;].value as string,\r\n      }).subscribe({\r\n        next: (response: Response) =&gt; {\r\n          if (response.errorCode === &quot;5&quot;) {\r\n            // this.router.navigateByUrl(&quot;/home&quot;).catch((error) =&gt; {\r\n            //   console.error(&#39;Navigation failed!&#39;, error);\r\n            // });\r\n            console.log(&quot;testing&quot;);\r\n          }\r\n          else {\r\n            alert(response.body.message);\r\n          }\r\n        },\r\n        error: (error) =&gt; {\r\n          alert(error);\r\n        }\r\n      });\r\n    } else {\r\n      console.log(this.loginFormGroup.errors);\r\n    }\r\n  }\r\n```\r\n\r\nUserService service: \r\n\r\n```\r\npublic login(loginInfo: any): Observable&lt;Response&gt; {\r\n    const url: string = environment.apiUrl + &quot;user/login&quot;;\r\n    return this.http.post&lt;Response&gt;(url, JSON.stringify(loginInfo));\r\n  }\r\n```\r\n\r\n(where `environment.apiUrl` is equal to `&quot;http://localhost:8080/&quot;`)\r\n\r\n\r\nIn spring boot, I have the following security configuration where some requests are allowed to certain endpoints, some are allowed if the user is a `CUSTOMER` or `ADMIN` roles, and some are allowed if the user is an `ADMIN`:\r\n\r\n```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        return httpSecurity.cors(Customizer.withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(&quot;/product/**&quot;, &quot;/auth/**&quot;, &quot;/user/**&quot;)\r\n                        .permitAll()\r\n                        .requestMatchers(&quot;/hello&quot;) //for testing purposes\r\n                        .hasAnyRole(Role.ADMIN.name(), Role.CUSTOMER.name())\r\n                        .requestMatchers(&quot;/helloAdmin&quot;) //for testing purposes\r\n                        .hasRole(Role.ADMIN.name())\r\n                        .anyRequest()\r\n                        .authenticated())\r\n                .formLogin(httpSecurityFormLoginConfigurer -&gt; httpSecurityFormLoginConfigurer.loginProcessingUrl(&quot;/user/login&quot;))\r\n                .logout(httpSecurityLogoutConfigurer -&gt; httpSecurityLogoutConfigurer.logoutUrl(&quot;/user/logout&quot;).deleteCookies(&quot;JSESSIONID&quot;))\r\n                .rememberMe(httpSecurityRememberMeConfigurer -&gt; httpSecurityRememberMeConfigurer.rememberMeParameter(&quot;rememberMe&quot;).key(&quot;some key&quot;))\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .exceptionHandling(exc -&gt; exc.authenticationEntryPoint((request, response, authException) -&gt;\r\n                        restExceptionHandler.handleUnauthenticatedUser(request, response)))\r\n                .build();\r\n    }\r\n```\r\n\r\nIn the `handleUnauthenticatedUser`, I send a custom response.\r\n\r\nHere&#39;s my login endpoint (for testing purposes of course):\r\n```\r\n@PostMapping(&quot;/user/login&quot;)\r\n    public Response login(@RequestBody HashMap&lt;String, String&gt; request, HttpServletResponse httpServletResponse) {\r\n        HashMap&lt;String, String&gt; body = new HashMap&lt;&gt;();\r\n        body.put(&quot;message&quot;, &quot;User logged in successfully&quot;);\r\n        return new Response(&quot;5&quot;, body);\r\n    }\r\n```\r\n\r\nEach time a request is made from angular, I get this exception `HttpRequestMethodNotSupportedException`. I tried changing the login endpoint from `@PostMapping` to `@GetMapping` and it works just fine (and in angular too). However, it&#39;s not best to send user information in a get request. And I also want to know why I am getting this exception? I searched for tutorials for spring security form login, and they were all the same and they used POST. \r\n\r\nI tried messing with the `httpSecurityFormLoginConfigurer` a bit, but to no avail (loginPage, successHandler...).\r\n\r\nIt&#39;s also worth noting that in the network tab, there are two requests (when I&#39;m using POST):\r\n1. Request URL: http://localhost:8080/user/login\r\n Request Method: POST\r\nStatus Code: 302 Found\r\n2. Request URL: http://localhost:8080/login?error\r\nRequest Method: GET\r\nStatus Code: 200 OK which includes a custom response (no mapping for this request)\r\n\r\nAny help would be appreciated, thanks a lot :)","title":"Getting HttpRequestMethodNotSupportedException when using spring security formLogin","body":"<p>I am trying to build a web app for a local supermarket using Angular 16 for the frontend and Spring boot (3.1.3) for the backend.</p>\n<p>In angular, this is how I'm submitting my form:</p>\n<pre><code>login() {\n    console.log(this.loginFormGroup.value);\n    this.loginFormGroup.markAllAsTouched();\n    if (this.loginFormGroup.valid) {\n      this.loginSubscription = this.userService.login({\n        username: this.loginFormGroup.controls[&quot;username&quot;].value,\n        password: this.loginFormGroup.controls[&quot;password&quot;].value,\n        rememberMe: this.loginFormGroup.controls[&quot;rememberMe&quot;].value as string,\n      }).subscribe({\n        next: (response: Response) =&gt; {\n          if (response.errorCode === &quot;5&quot;) {\n            // this.router.navigateByUrl(&quot;/home&quot;).catch((error) =&gt; {\n            //   console.error('Navigation failed!', error);\n            // });\n            console.log(&quot;testing&quot;);\n          }\n          else {\n            alert(response.body.message);\n          }\n        },\n        error: (error) =&gt; {\n          alert(error);\n        }\n      });\n    } else {\n      console.log(this.loginFormGroup.errors);\n    }\n  }\n</code></pre>\n<p>UserService service:</p>\n<pre><code>public login(loginInfo: any): Observable&lt;Response&gt; {\n    const url: string = environment.apiUrl + &quot;user/login&quot;;\n    return this.http.post&lt;Response&gt;(url, JSON.stringify(loginInfo));\n  }\n</code></pre>\n<p>(where <code>environment.apiUrl</code> is equal to <code>&quot;http://localhost:8080/&quot;</code>)</p>\n<p>In spring boot, I have the following security configuration where some requests are allowed to certain endpoints, some are allowed if the user is a <code>CUSTOMER</code> or <code>ADMIN</code> roles, and some are allowed if the user is an <code>ADMIN</code>:</p>\n<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity.cors(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(&quot;/product/**&quot;, &quot;/auth/**&quot;, &quot;/user/**&quot;)\n                        .permitAll()\n                        .requestMatchers(&quot;/hello&quot;) //for testing purposes\n                        .hasAnyRole(Role.ADMIN.name(), Role.CUSTOMER.name())\n                        .requestMatchers(&quot;/helloAdmin&quot;) //for testing purposes\n                        .hasRole(Role.ADMIN.name())\n                        .anyRequest()\n                        .authenticated())\n                .formLogin(httpSecurityFormLoginConfigurer -&gt; httpSecurityFormLoginConfigurer.loginProcessingUrl(&quot;/user/login&quot;))\n                .logout(httpSecurityLogoutConfigurer -&gt; httpSecurityLogoutConfigurer.logoutUrl(&quot;/user/logout&quot;).deleteCookies(&quot;JSESSIONID&quot;))\n                .rememberMe(httpSecurityRememberMeConfigurer -&gt; httpSecurityRememberMeConfigurer.rememberMeParameter(&quot;rememberMe&quot;).key(&quot;some key&quot;))\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .exceptionHandling(exc -&gt; exc.authenticationEntryPoint((request, response, authException) -&gt;\n                        restExceptionHandler.handleUnauthenticatedUser(request, response)))\n                .build();\n    }\n</code></pre>\n<p>In the <code>handleUnauthenticatedUser</code>, I send a custom response.</p>\n<p>Here's my login endpoint (for testing purposes of course):</p>\n<pre><code>@PostMapping(&quot;/user/login&quot;)\n    public Response login(@RequestBody HashMap&lt;String, String&gt; request, HttpServletResponse httpServletResponse) {\n        HashMap&lt;String, String&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;message&quot;, &quot;User logged in successfully&quot;);\n        return new Response(&quot;5&quot;, body);\n    }\n</code></pre>\n<p>Each time a request is made from angular, I get this exception <code>HttpRequestMethodNotSupportedException</code>. I tried changing the login endpoint from <code>@PostMapping</code> to <code>@GetMapping</code> and it works just fine (and in angular too). However, it's not best to send user information in a get request. And I also want to know why I am getting this exception? I searched for tutorials for spring security form login, and they were all the same and they used POST.</p>\n<p>I tried messing with the <code>httpSecurityFormLoginConfigurer</code> a bit, but to no avail (loginPage, successHandler...).</p>\n<p>It's also worth noting that in the network tab, there are two requests (when I'm using POST):</p>\n<ol>\n<li>Request URL: http://localhost:8080/user/login\nRequest Method: POST\nStatus Code: 302 Found</li>\n<li>Request URL: http://localhost:8080/login?error\nRequest Method: GET\nStatus Code: 200 OK which includes a custom response (no mapping for this request)</li>\n</ol>\n<p>Any help would be appreciated, thanks a lot :)</p>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1695499900,"post_id":77162664,"comment_id":136033614,"body_markdown":"I have a vague notion in my head that I&#39;ve run into issues with `TreeView` / `TreeTableView` graphics in the past. I can&#39;t remember if I found the issue came with relying on the graphic property of the items or not. What happens if you don&#39;t set any `TreeItem.graphic` property and instead have the `TreeCell` implementation be entirely responsible for setting the correct graphic?","body":"I have a vague notion in my head that I&#39;ve run into issues with <code>TreeView</code> / <code>TreeTableView</code> graphics in the past. I can&#39;t remember if I found the issue came with relying on the graphic property of the items or not. What happens if you don&#39;t set any <code>TreeItem.graphic</code> property and instead have the <code>TreeCell</code> implementation be entirely responsible for setting the correct graphic?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1695511891,"post_id":77162664,"comment_id":136034599,"body_markdown":"*&quot;Should I give JavaFX 20 a try where the first bug was fixed?&quot;* -&gt; Of course.  If you suspect a bug in the platform, then test with the most recent version (currently 21 for JDK and JavaFX), to see if the suspected bug was addressed.  If not, provide a [mcve] (please read and understand the linked page), that is specialized minimal code that reproduces only the issue via copy and paste with no change or addition.","body":"<i>&quot;Should I give JavaFX 20 a try where the first bug was fixed?&quot;</i> -&gt; Of course.  If you suspect a bug in the platform, then test with the most recent version (currently 21 for JDK and JavaFX), to see if the suspected bug was addressed.  If not, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (please read and understand the linked page), that is specialized minimal code that reproduces only the issue via copy and paste with no change or addition."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1695589583,"post_id":77162664,"comment_id":136041078,"body_markdown":"Playing around with `TreeView` a little bit, I only saw missing graphics when I set the graphic of the `TreeItem`s. If I let the `TreeCell` be fully responsible for the graphics, I didn&#39;t notice any problems (though I may have simply missed it, as the missing graphics from the former approach happened rarely). It makes more sense for the `TreeCell` to be responsible for the graphics, anyway. It limits the number of nodes to the number of cells, instead of having potentially thousands of nodes in memory because they&#39;re associated with the items.","body":"Playing around with <code>TreeView</code> a little bit, I only saw missing graphics when I set the graphic of the <code>TreeItem</code>s. If I let the <code>TreeCell</code> be fully responsible for the graphics, I didn&#39;t notice any problems (though I may have simply missed it, as the missing graphics from the former approach happened rarely). It makes more sense for the <code>TreeCell</code> to be responsible for the graphics, anyway. It limits the number of nodes to the number of cells, instead of having potentially thousands of nodes in memory because they&#39;re associated with the items."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1695589651,"post_id":77162664,"comment_id":136041083,"body_markdown":"In my opinion, giving `TreeItem` a `graphic` property was an API mistake.","body":"In my opinion, giving <code>TreeItem</code> a <code>graphic</code> property was an API mistake."},{"owner":{"account_id":7122142,"reputation":544,"user_id":5446381,"display_name":"Florian Kirmaier"},"score":1,"creation_date":1695729490,"post_id":77162664,"comment_id":136060725,"body_markdown":"You can use https://github.com/JonathanGiles/scenic-view to check whether the scenegraph is wrong, or the rendering is broken.","body":"You can use <a href=\"https://github.com/JonathanGiles/scenic-view\" rel=\"nofollow noreferrer\">github.com/JonathanGiles/scenic-view</a> to check whether the scenegraph is wrong, or the rendering is broken."}],"answers":[{"tags":[],"owner":{"account_id":6069963,"reputation":315,"user_id":4739118,"display_name":"Thorsten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697456648,"creation_date":1697456648,"answer_id":77301680,"question_id":77162664,"body_markdown":"We tried Slaws approach and created a new graphic in the updateItem method whenever it is called.\r\n\r\nWith this the problem was gone. Voil&#225;!\r\n\r\nMaybe Slaw is also right that TreeItem should not have a graphic property. Nevertheless, thanks to all!","title":"Missing graphics in TreeCells / TreeItems of JavaFX TreeView","body":"<p>We tried Slaws approach and created a new graphic in the updateItem method whenever it is called.</p>\n<p>With this the problem was gone. Voil!</p>\n<p>Maybe Slaw is also right that TreeItem should not have a graphic property. Nevertheless, thanks to all!</p>\n"}],"owner":{"account_id":6069963,"reputation":315,"user_id":4739118,"display_name":"Thorsten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697456648,"creation_date":1695465648,"question_id":77162664,"body_markdown":"We have developed a JavaFX application and got some strange behaviour with TreeView and TreeCells:\r\n\r\nThe graphics of the tree elements are sometimes gone and we do not know the reason.\r\n\r\nI created a small repo with a file manager application:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd we were able to repoduce the problem with this simple example:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nMy example is a very limited file manager that displays files and directories in a tree on the left and details on the right side. It allows navigating through the tree, opening and closing directories and using right mouse click for a context menu with file operations. Also drag and drop is allowed as we wanted to implement a small example for that in a TreeView.\r\n\r\nThe interesting parts are the classes FileTreeCell and FileTreeItem.\r\n\r\nIn FileTreeCell the drag and drop handler is registered and the method updateItem is overwritten. The implementation of updateItem is based on code from JavaFX tutorial (https://docs.oracle.com/javafx/2/ui_controls/tree-view.htm).\r\n\r\n    /**\r\n     * Instances of this class are used to render tree items.\r\n     */\r\n    public class FileTreeCell extends TreeCell&lt;File&gt; {\r\n    \t/**\r\n    \t * Creates a new instance.\r\n    \t * @param dragHandler the handler this tree cell should notify on drag and drop operations.\r\n    \t */\r\n    \tpublic FileTreeCell(DragDropHandler dragHandler) {\r\n    \t\tsetOnDragDetected((MouseEvent event) -&gt; dragHandler.handleDragDetected(event, this));\r\n    \t\tsetOnDragOver((DragEvent event) -&gt; dragHandler.handleDragOver(event, this));\r\n    \t\tsetOnDragEntered((DragEvent event) -&gt; dragHandler.handleOnDragEntered(event, this));\r\n    \t\tsetOnDragExited((DragEvent event) -&gt; dragHandler.handleOnDragExited(event, this));\r\n    \t\tsetOnDragDropped((DragEvent event) -&gt; dragHandler.handleDragDropped(event, this));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void updateItem(File file, boolean empty) {\r\n    \t\tsuper.updateItem(file, empty);\r\n    \t\tif (empty) {\r\n    \t\t\tsetText(null);\r\n    \t\t\tsetGraphic(null);\r\n    \t\t} else {\r\n    \t\t\tif (file == null) {\r\n    \t\t\t\tsetText(&quot;&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tsetText(file.getName());\r\n    \t\t\t\tFileTreeItem fileTreeItem = (FileTreeItem) getTreeItem();\r\n    \t\t\t\tsetContextMenu(fileTreeItem.createContextMenu());\r\n    \t\t\t}\r\n    \t\t\tsetGraphic(getTreeItem().getGraphic());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe FileTreeItem is based on documentation from JavaFX API (https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeItem.html). I added code to support lazy loading of a directory when it is expanded in the tree. The load is done asynchronously using a CompletableFuture. The Supplier method (get) and the BiConsumer method (accept) are both implemented in this class to keep things short and easy. Also an hour glass icon is shown during load that is animated until load is completed.\r\n\r\n    /**\r\n     * Instances of this class are used as tree items in the FileManager navigation.\r\n     * \r\n     * Base on https://docs.oracle.com/javafx/2/api/javafx/scene/control/TreeItem.html\r\n     */\r\n    public class FileTreeItem extends TreeItem&lt;File&gt; implements Supplier&lt;File[]&gt;, BiConsumer&lt;File[], Throwable&gt; {\r\n    \t/** The folder icon image. */\r\n    \tprivate static final Image FOLDER_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;folder.png&quot;));\r\n    \t/** The file icon image. */\r\n    \tprivate static final Image FILE_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;file.png&quot;));\r\n    \t/** The hour glass icon image. */\r\n    \tprivate static final Image HOURGLASS_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;hourglass.png&quot;));\r\n    \t/** Cache flag for leaf (plain file) or not (directory). */\r\n    \tprivate boolean isLeaf;\r\n    \t/** Indicator used to do leaf testing only once. */\r\n    \tprivate boolean isFirstTimeLeaf = true;\r\n    \t/** A completable future used for asynchronous loading. */\r\n    \tprivate CompletableFuture&lt;File[]&gt; completableFuture;\r\n    \t/** Time line used for animation. */\r\n    \tprivate Timeline timeLine;\r\n    \t/** A dialog handler used to show dialogs. */\r\n    \tprivate DialogHandler dialogHandler;\r\n    \r\n    \t/**\r\n    \t * Creates a new instance.\r\n    \t * @param file the underlying file.\r\n    \t * @param dialogHandler the dialog handler used to show dialogs.\r\n    \t */\r\n    \tpublic FileTreeItem(File file, DialogHandler dialogHandler) {\r\n    \t\tsuper(file, new ImageView(file.isDirectory() ? FOLDER_ICON : FILE_ICON));\r\n    \t\tthis.dialogHandler = dialogHandler;\r\n    \t\texpandedProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldEpxanded,\r\n    \t\t\t\t\tBoolean newExpanded) {\r\n    \t\t\t\tif (newExpanded != null &amp;&amp; newExpanded.booleanValue()) {\r\n    \t\t\t\t\tapplyGraphic(HOURGLASS_ICON, true);\r\n    \t\t\t\t\tcompletableFuture = CompletableFuture.supplyAsync(FileTreeItem.this);\r\n    \t\t\t\t\tcompletableFuture.whenComplete(FileTreeItem.this);\r\n    \t\t\t\t} else\r\n    \t\t\t\t\tgetChildren().clear();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isLeaf() {\r\n    \t\tif (isFirstTimeLeaf) {\r\n    \t\t\tisFirstTimeLeaf = false;\r\n    \t\t\tFile f = (File) getValue();\r\n    \t\t\tisLeaf = f.isFile();\r\n    \t\t}\r\n    \t\treturn isLeaf;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn getValue().getName();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Reloads this tree item.\r\n    \t */\r\n    \tpublic void refresh() {\r\n    \t\tsetExpanded(false);\r\n    \t\tsetExpanded(true);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Loads the children of a directory.\r\n    \t * \r\n    \t * The method implements the Supplier interface and is invoked asynchronously.\r\n    \t * \r\n    \t * Any RunTimeExceptions and Errors thrown inside this method will be forwarded\r\n    \t * to the BiConsumer method.\r\n    \t */\r\n    \t@Override\r\n    \tpublic File[] get() {\r\n    \t\tFile[] retval = new File[0];\r\n    \t\tFile file = getValue();\r\n    \t\tif (file != null &amp;&amp; file.isDirectory()) {\r\n    \t\t\tretval = file.listFiles();\r\n    \t\t\tif (retval == null)\r\n    \t\t\t\tretval = new File[0];\r\n    \t\t\telse\r\n    \t\t\t\tArrays.sort(retval);\r\n    \t\t}\r\n    \t\treturn retval;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Handles the result after loading the children of a directory.\r\n    \t * \r\n    \t * The method implements the BiConsumer interface.\r\n    \t * \r\n    \t * @param files     the loaded children of a directory.\r\n    \t * @param throwable any Throwable thrown during the load operation or null if\r\n    \t *                  load was successful.\r\n    \t */\r\n    \t@Override\r\n    \tpublic void accept(File[] files, Throwable throwable) {\r\n    \t\tif (throwable != null) {\r\n    \t\t\tdialogHandler.showError(throwable);\r\n    \t\t\tresetFolderIcon();\r\n    \t\t} else {\r\n    \t\t\ttry {\r\n    \t\t\t\t// avoid NullPointerException\r\n    \t\t\t\tif (files == null)\r\n    \t\t\t\t\tfiles = new File[0];\r\n    \t\t\t\t// create FileTreeItem container for all files (outside JavaFX thread)\r\n    \t\t\t\tFileTreeItem[] treeItems = new FileTreeItem[files.length];\r\n    \t\t\t\tfor (int i = 0; i &lt; files.length; i++)\r\n    \t\t\t\t\ttreeItems[i] = new FileTreeItem(files[i], dialogHandler);\r\n    \t\t\t\t// add all children to this item (in JavaFX thread)\r\n    \t\t\t\tPlatform.runLater(new Runnable() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void run() {\r\n    \t\t\t\t\t\tgetChildren().setAll(treeItems);\r\n    \t\t\t\t\t\tresetFolderIcon();\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t});\r\n    \t\t\t} catch (RuntimeException e) {\r\n    \t\t\t\tdialogHandler.showError(e);\r\n    \t\t\t\tresetFolderIcon();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Checks whether this FileTreeItem is an ancestor of another FileTreeItem.\r\n    \t * @param other the other FileTreeItem.\r\n    \t * @return true, if this FileTreeItem is an ancestor of other FileTreeItem, false otherwise.\r\n    \t */\r\n    \tpublic boolean isAncestor(FileTreeItem other) {\r\n    \t\tFileTreeItem current = other;\r\n    \t\tFileTreeItem last = null;\r\n    \t\tboolean retval = false;\r\n    \t\twhile (current != null &amp;&amp; last != current) {\r\n    \t\t\tif (equals(current)) {\r\n    \t\t\t\tretval = true;\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\tlast = current;\r\n    \t\t\tcurrent = (FileTreeItem) current.getParent();\r\n    \t\t}\r\n    \t\treturn retval;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Creates a context menu for this FileTreeItem.\r\n    \t * @return a context menu for this FileTreeItem.\r\n    \t */\r\n    \tpublic ContextMenu createContextMenu() {\r\n    \t\tContextMenu contextMenu = new ContextMenu();\r\n    \t\tObservableList&lt;MenuItem&gt; menuItems = contextMenu.getItems();\r\n    \t\tif (getValue().isDirectory()) {\r\n    \t\t\t/*\r\n    \t\t\t * Refresh Action\r\n    \t\t\t */\r\n    \t\t\tMenuItem refresh = new MenuItem(&quot;Refresh&quot;);\r\n    \t\t\tmenuItems.add(refresh);\r\n    \t\t\t// We simply close and reopen the folder tree item which will empty the children\r\n    \t\t\t// list.\r\n    \t\t\t// But only if it was already open before refresh.\r\n    \t\t\trefresh.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void handle(ActionEvent event) {\r\n    \t\t\t\t\tif (isExpanded()) {\r\n    \t\t\t\t\t\trefresh();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\t/*\r\n    \t\t\t * Separator\r\n    \t\t\t */\r\n    \t\t\tSeparatorMenuItem separatorMenuItem = new SeparatorMenuItem();\r\n    \t\t\tmenuItems.add(separatorMenuItem);\r\n    \t\t\t/*\r\n    \t\t\t * Create New File Action\r\n    \t\t\t */\r\n    \t\t\tMenuItem newFile = new MenuItem(&quot;New File&quot;);\r\n    \t\t\tmenuItems.add(newFile);\r\n    \t\t\tnewFile.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void handle(ActionEvent event) {\r\n    \t\t\t\t\tFile dir = getValue();\r\n    \t\t\t\t\tif (!dir.isDirectory())\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\tString fileName = dialogHandler.showTextInputDialog(&quot;New File&quot;, &quot;Creating New File&quot;, &quot;Please enter name of new file:&quot;, &quot;file.txt&quot;);\r\n    \t\t\t\t\tif (fileName == null)\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\tFile file = new File(dir, fileName);\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tif (file.exists()) {\r\n    \t\t\t\t\t\t\tdialogHandler.showAlert(AlertType.WARNING, &quot;Warning&quot;, &quot;File exists: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t\t&quot;Sorry, ignoring your request because file already exists!&quot;);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tfile.createNewFile();\r\n    \t\t\t\t\t\t\tFileTreeItem newTreeItem = new FileTreeItem(file, dialogHandler);\r\n    \t\t\t\t\t\t\tObservableList&lt;TreeItem&lt;File&gt;&gt; children = getChildren();\r\n    \t\t\t\t\t\t\tchildren.add(newTreeItem);\r\n    \t\t\t\t\t\t\tchildren.sort(Util.COMPARATOR);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tsetExpanded(true);\r\n    \t\t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\t\tdialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;, &quot;Error creating File: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t&quot;Sorry, failed to create file: &quot; + e.getMessage());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\t/*\r\n    \t\t\t * Create New Directory Action\r\n    \t\t\t */\r\n    \t\t\tMenuItem newDir = new MenuItem(&quot;New Directory&quot;);\r\n    \t\t\tmenuItems.add(newDir);\r\n    \t\t\tnewDir.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void handle(ActionEvent event) {\r\n    \t\t\t\t\tFile dir = getValue();\r\n    \t\t\t\t\tif (!dir.isDirectory())\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\tString dirName = dialogHandler.showTextInputDialog(&quot;New Directory&quot;, &quot;Creating New Directory&quot;, &quot;Please enter name of new directory:&quot;, &quot;directory&quot;);\r\n    \t\t\t\t\tif (dirName == null)\r\n    \t\t\t\t\t\treturn;\r\n    \t\t\t\t\tFile file = new File(dir, dirName);\r\n    \t\t\t\t\tif (file.exists()) {\r\n    \t\t\t\t\t\tdialogHandler.showAlert(AlertType.WARNING, &quot;Warning&quot;, &quot;Directory exists: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t&quot;Sorry, ignoring your request because directory already exists!&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tboolean success = file.mkdir();\r\n    \t\t\t\t\t\tif (!success) {\r\n    \t\t\t\t\t\t\tdialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;,\r\n    \t\t\t\t\t\t\t\t\t&quot;Error creating Directory: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t\t&quot;Sorry, failed to create directory!&quot;);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tFileTreeItem newTreeItem = new FileTreeItem(file, dialogHandler);\r\n    \t\t\t\t\t\t\tObservableList&lt;TreeItem&lt;File&gt;&gt; children = getChildren();\r\n    \t\t\t\t\t\t\tchildren.add(newTreeItem);\r\n    \t\t\t\t\t\t\tchildren.sort(Util.COMPARATOR);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tsetExpanded(true);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\t/*\r\n    \t\t * Delete File Action\r\n    \t\t */\r\n    \t\tMenuItem deleteFile = new MenuItem(&quot;Delete&quot;);\r\n    \t\tmenuItems.add(deleteFile);\r\n    \t\tdeleteFile.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void handle(ActionEvent event) {\r\n    \t\t\t\tFile file = getValue();\r\n    \t\t\t\tboolean result = dialogHandler.showConfirmation(&quot;Delete File&quot;, &quot;Delete File: &quot; + file.getName(),\r\n    \t\t\t\t\t\t&quot;Are you sure?&quot;);\r\n    \t\t\t\tif (result) {\r\n    \t\t\t\t\tboolean delete = file.delete();\r\n    \t\t\t\t\tif (!delete) {\r\n    \t\t\t\t\t\tdialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;, &quot;Error deleting File: &quot; + file.getName(),\r\n    \t\t\t\t\t\t\t\t&quot;Sorry, deletion failed! Maybe non-empty directory?&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tFileTreeItem parent = (FileTreeItem) getParent();\r\n    \t\t\t\t\t\tparent.getChildren().remove(FileTreeItem.this);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\treturn contextMenu;\r\n    \t}\r\n    \r\n    \t// private methods\r\n    \r\n    \t/**\r\n    \t * Sets the icon of this FileTreeItem.\r\n    \t * @param image the icon of this FileTreeItem.\r\n    \t */\r\n    \tprivate void applyGraphic(Image image) {\r\n    \t\tapplyGraphic(image, false);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Sets the icon of this FileTreeItem.\r\n    \t * @param image the icon of this FileTreeItem.\r\n    \t * @param animate true, if the icon should be animated.\r\n    \t */\r\n    \tprivate void applyGraphic(Image image, boolean animate) {\r\n    \t\tImageView icon = new ImageView(image);\r\n    \t\tsetGraphic(icon);\r\n    \t\tif (animate) {\r\n    \t\t\ttimeLine = new Timeline(\r\n    \t\t\t\t\tnew KeyFrame(Duration.seconds(0), new KeyValue(icon.rotateProperty(), 0)),\r\n    \t\t\t\t\tnew KeyFrame(Duration.seconds(1), new KeyValue(icon.rotateProperty(), 360)));\r\n    \t\t\ttimeLine.setCycleCount(Animation.INDEFINITE);\r\n    \t\t\ttimeLine.play();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Resets the folder icon to its default and stops the animation.\r\n    \t*/\r\n    \tprivate void resetFolderIcon() {\r\n    \t\ttimeLine.stop();\r\n    \t\tapplyGraphic(FOLDER_ICON);\r\n    \t}\r\n    }\r\n\r\nI do not create new ImagesIcons when updateItem in TreeCell is called. I am using the graphics from TreeItem that have been created recently in the constructor or during start and stop of the load process. I thought that this is the correct approach according to the documentation and the tutorial. Am I right?\r\n\r\nThe whole project can be found at GitHub:\r\n\r\n - https://github.com/treimers/FileManager.\r\n\r\nI found two bugs looking similar to my problem:\r\n\r\n - https://bugs.openjdk.org/browse/JDK-8209017\r\n - https://bugs.openjdk.org/browse/JDK-8190331\r\n\r\nAm I running into the same or a similar problem?\r\n\r\nMy environment\r\n\r\nJava\r\nopenjdk version &quot;15.0.2&quot; 2021-01-19\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 15.0.2+7)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15.0.2+7, mixed mode, sharing)\r\n\r\nJavaFX\r\n17.0.8\r\n\r\nShould I give JavaFX 20 a try where the first bug was fixed?\r\n\r\nAnd I found this thread where a TreeView.refresh is recommended, but discouraged in an answer below:\r\n\r\n - https://stackoverflow.com/questions/27984156/update-treeview-item-graphic\r\n\r\n  [1]: https://i.stack.imgur.com/JjfVG.png\r\n  [2]: https://i.stack.imgur.com/4QVIo.png","title":"Missing graphics in TreeCells / TreeItems of JavaFX TreeView","body":"<p>We have developed a JavaFX application and got some strange behaviour with TreeView and TreeCells:</p>\n<p>The graphics of the tree elements are sometimes gone and we do not know the reason.</p>\n<p>I created a small repo with a file manager application:</p>\n<p><a href=\"https://i.stack.imgur.com/JjfVG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JjfVG.png\" alt=\"enter image description here\" /></a></p>\n<p>And we were able to repoduce the problem with this simple example:</p>\n<p><a href=\"https://i.stack.imgur.com/4QVIo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4QVIo.png\" alt=\"enter image description here\" /></a></p>\n<p>My example is a very limited file manager that displays files and directories in a tree on the left and details on the right side. It allows navigating through the tree, opening and closing directories and using right mouse click for a context menu with file operations. Also drag and drop is allowed as we wanted to implement a small example for that in a TreeView.</p>\n<p>The interesting parts are the classes FileTreeCell and FileTreeItem.</p>\n<p>In FileTreeCell the drag and drop handler is registered and the method updateItem is overwritten. The implementation of updateItem is based on code from JavaFX tutorial (<a href=\"https://docs.oracle.com/javafx/2/ui_controls/tree-view.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/ui_controls/tree-view.htm</a>).</p>\n<pre><code>/**\n * Instances of this class are used to render tree items.\n */\npublic class FileTreeCell extends TreeCell&lt;File&gt; {\n    /**\n     * Creates a new instance.\n     * @param dragHandler the handler this tree cell should notify on drag and drop operations.\n     */\n    public FileTreeCell(DragDropHandler dragHandler) {\n        setOnDragDetected((MouseEvent event) -&gt; dragHandler.handleDragDetected(event, this));\n        setOnDragOver((DragEvent event) -&gt; dragHandler.handleDragOver(event, this));\n        setOnDragEntered((DragEvent event) -&gt; dragHandler.handleOnDragEntered(event, this));\n        setOnDragExited((DragEvent event) -&gt; dragHandler.handleOnDragExited(event, this));\n        setOnDragDropped((DragEvent event) -&gt; dragHandler.handleDragDropped(event, this));\n    }\n\n    @Override\n    protected void updateItem(File file, boolean empty) {\n        super.updateItem(file, empty);\n        if (empty) {\n            setText(null);\n            setGraphic(null);\n        } else {\n            if (file == null) {\n                setText(&quot;&quot;);\n            } else {\n                setText(file.getName());\n                FileTreeItem fileTreeItem = (FileTreeItem) getTreeItem();\n                setContextMenu(fileTreeItem.createContextMenu());\n            }\n            setGraphic(getTreeItem().getGraphic());\n        }\n    }\n}\n</code></pre>\n<p>The FileTreeItem is based on documentation from JavaFX API (<a href=\"https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeItem.html\" rel=\"nofollow noreferrer\">https://openjfx.io/javadoc/11/javafx.controls/javafx/scene/control/TreeItem.html</a>). I added code to support lazy loading of a directory when it is expanded in the tree. The load is done asynchronously using a CompletableFuture. The Supplier method (get) and the BiConsumer method (accept) are both implemented in this class to keep things short and easy. Also an hour glass icon is shown during load that is animated until load is completed.</p>\n<pre><code>/**\n * Instances of this class are used as tree items in the FileManager navigation.\n * \n * Base on https://docs.oracle.com/javafx/2/api/javafx/scene/control/TreeItem.html\n */\npublic class FileTreeItem extends TreeItem&lt;File&gt; implements Supplier&lt;File[]&gt;, BiConsumer&lt;File[], Throwable&gt; {\n    /** The folder icon image. */\n    private static final Image FOLDER_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;folder.png&quot;));\n    /** The file icon image. */\n    private static final Image FILE_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;file.png&quot;));\n    /** The hour glass icon image. */\n    private static final Image HOURGLASS_ICON = new Image(FileTreeItem.class.getResourceAsStream(&quot;hourglass.png&quot;));\n    /** Cache flag for leaf (plain file) or not (directory). */\n    private boolean isLeaf;\n    /** Indicator used to do leaf testing only once. */\n    private boolean isFirstTimeLeaf = true;\n    /** A completable future used for asynchronous loading. */\n    private CompletableFuture&lt;File[]&gt; completableFuture;\n    /** Time line used for animation. */\n    private Timeline timeLine;\n    /** A dialog handler used to show dialogs. */\n    private DialogHandler dialogHandler;\n\n    /**\n     * Creates a new instance.\n     * @param file the underlying file.\n     * @param dialogHandler the dialog handler used to show dialogs.\n     */\n    public FileTreeItem(File file, DialogHandler dialogHandler) {\n        super(file, new ImageView(file.isDirectory() ? FOLDER_ICON : FILE_ICON));\n        this.dialogHandler = dialogHandler;\n        expandedProperty().addListener(new ChangeListener&lt;Boolean&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Boolean&gt; observable, Boolean oldEpxanded,\n                    Boolean newExpanded) {\n                if (newExpanded != null &amp;&amp; newExpanded.booleanValue()) {\n                    applyGraphic(HOURGLASS_ICON, true);\n                    completableFuture = CompletableFuture.supplyAsync(FileTreeItem.this);\n                    completableFuture.whenComplete(FileTreeItem.this);\n                } else\n                    getChildren().clear();\n            }\n        });\n    }\n\n    @Override\n    public boolean isLeaf() {\n        if (isFirstTimeLeaf) {\n            isFirstTimeLeaf = false;\n            File f = (File) getValue();\n            isLeaf = f.isFile();\n        }\n        return isLeaf;\n    }\n\n    @Override\n    public String toString() {\n        return getValue().getName();\n    }\n\n    /**\n     * Reloads this tree item.\n     */\n    public void refresh() {\n        setExpanded(false);\n        setExpanded(true);\n    }\n\n    /**\n     * Loads the children of a directory.\n     * \n     * The method implements the Supplier interface and is invoked asynchronously.\n     * \n     * Any RunTimeExceptions and Errors thrown inside this method will be forwarded\n     * to the BiConsumer method.\n     */\n    @Override\n    public File[] get() {\n        File[] retval = new File[0];\n        File file = getValue();\n        if (file != null &amp;&amp; file.isDirectory()) {\n            retval = file.listFiles();\n            if (retval == null)\n                retval = new File[0];\n            else\n                Arrays.sort(retval);\n        }\n        return retval;\n    }\n\n    /**\n     * Handles the result after loading the children of a directory.\n     * \n     * The method implements the BiConsumer interface.\n     * \n     * @param files     the loaded children of a directory.\n     * @param throwable any Throwable thrown during the load operation or null if\n     *                  load was successful.\n     */\n    @Override\n    public void accept(File[] files, Throwable throwable) {\n        if (throwable != null) {\n            dialogHandler.showError(throwable);\n            resetFolderIcon();\n        } else {\n            try {\n                // avoid NullPointerException\n                if (files == null)\n                    files = new File[0];\n                // create FileTreeItem container for all files (outside JavaFX thread)\n                FileTreeItem[] treeItems = new FileTreeItem[files.length];\n                for (int i = 0; i &lt; files.length; i++)\n                    treeItems[i] = new FileTreeItem(files[i], dialogHandler);\n                // add all children to this item (in JavaFX thread)\n                Platform.runLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        getChildren().setAll(treeItems);\n                        resetFolderIcon();\n                    }\n\n                });\n            } catch (RuntimeException e) {\n                dialogHandler.showError(e);\n                resetFolderIcon();\n            }\n        }\n    }\n\n    /**\n     * Checks whether this FileTreeItem is an ancestor of another FileTreeItem.\n     * @param other the other FileTreeItem.\n     * @return true, if this FileTreeItem is an ancestor of other FileTreeItem, false otherwise.\n     */\n    public boolean isAncestor(FileTreeItem other) {\n        FileTreeItem current = other;\n        FileTreeItem last = null;\n        boolean retval = false;\n        while (current != null &amp;&amp; last != current) {\n            if (equals(current)) {\n                retval = true;\n                break;\n            }\n            last = current;\n            current = (FileTreeItem) current.getParent();\n        }\n        return retval;\n    }\n\n    /**\n     * Creates a context menu for this FileTreeItem.\n     * @return a context menu for this FileTreeItem.\n     */\n    public ContextMenu createContextMenu() {\n        ContextMenu contextMenu = new ContextMenu();\n        ObservableList&lt;MenuItem&gt; menuItems = contextMenu.getItems();\n        if (getValue().isDirectory()) {\n            /*\n             * Refresh Action\n             */\n            MenuItem refresh = new MenuItem(&quot;Refresh&quot;);\n            menuItems.add(refresh);\n            // We simply close and reopen the folder tree item which will empty the children\n            // list.\n            // But only if it was already open before refresh.\n            refresh.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override\n                public void handle(ActionEvent event) {\n                    if (isExpanded()) {\n                        refresh();\n                    }\n                }\n            });\n            /*\n             * Separator\n             */\n            SeparatorMenuItem separatorMenuItem = new SeparatorMenuItem();\n            menuItems.add(separatorMenuItem);\n            /*\n             * Create New File Action\n             */\n            MenuItem newFile = new MenuItem(&quot;New File&quot;);\n            menuItems.add(newFile);\n            newFile.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override\n                public void handle(ActionEvent event) {\n                    File dir = getValue();\n                    if (!dir.isDirectory())\n                        return;\n                    String fileName = dialogHandler.showTextInputDialog(&quot;New File&quot;, &quot;Creating New File&quot;, &quot;Please enter name of new file:&quot;, &quot;file.txt&quot;);\n                    if (fileName == null)\n                        return;\n                    File file = new File(dir, fileName);\n                    try {\n                        if (file.exists()) {\n                            dialogHandler.showAlert(AlertType.WARNING, &quot;Warning&quot;, &quot;File exists: &quot; + file.getName(),\n                                    &quot;Sorry, ignoring your request because file already exists!&quot;);\n                        } else {\n                            file.createNewFile();\n                            FileTreeItem newTreeItem = new FileTreeItem(file, dialogHandler);\n                            ObservableList&lt;TreeItem&lt;File&gt;&gt; children = getChildren();\n                            children.add(newTreeItem);\n                            children.sort(Util.COMPARATOR);\n                        }\n                        setExpanded(true);\n                    } catch (IOException e) {\n                        dialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;, &quot;Error creating File: &quot; + file.getName(),\n                                &quot;Sorry, failed to create file: &quot; + e.getMessage());\n                    }\n                }\n            });\n            /*\n             * Create New Directory Action\n             */\n            MenuItem newDir = new MenuItem(&quot;New Directory&quot;);\n            menuItems.add(newDir);\n            newDir.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override\n                public void handle(ActionEvent event) {\n                    File dir = getValue();\n                    if (!dir.isDirectory())\n                        return;\n                    String dirName = dialogHandler.showTextInputDialog(&quot;New Directory&quot;, &quot;Creating New Directory&quot;, &quot;Please enter name of new directory:&quot;, &quot;directory&quot;);\n                    if (dirName == null)\n                        return;\n                    File file = new File(dir, dirName);\n                    if (file.exists()) {\n                        dialogHandler.showAlert(AlertType.WARNING, &quot;Warning&quot;, &quot;Directory exists: &quot; + file.getName(),\n                                &quot;Sorry, ignoring your request because directory already exists!&quot;);\n                    } else {\n                        boolean success = file.mkdir();\n                        if (!success) {\n                            dialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;,\n                                    &quot;Error creating Directory: &quot; + file.getName(),\n                                    &quot;Sorry, failed to create directory!&quot;);\n                        } else {\n                            FileTreeItem newTreeItem = new FileTreeItem(file, dialogHandler);\n                            ObservableList&lt;TreeItem&lt;File&gt;&gt; children = getChildren();\n                            children.add(newTreeItem);\n                            children.sort(Util.COMPARATOR);\n                        }\n                    }\n                    setExpanded(true);\n                }\n            });\n        }\n        /*\n         * Delete File Action\n         */\n        MenuItem deleteFile = new MenuItem(&quot;Delete&quot;);\n        menuItems.add(deleteFile);\n        deleteFile.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent event) {\n                File file = getValue();\n                boolean result = dialogHandler.showConfirmation(&quot;Delete File&quot;, &quot;Delete File: &quot; + file.getName(),\n                        &quot;Are you sure?&quot;);\n                if (result) {\n                    boolean delete = file.delete();\n                    if (!delete) {\n                        dialogHandler.showAlert(AlertType.ERROR, &quot;Error&quot;, &quot;Error deleting File: &quot; + file.getName(),\n                                &quot;Sorry, deletion failed! Maybe non-empty directory?&quot;);\n                    } else {\n                        FileTreeItem parent = (FileTreeItem) getParent();\n                        parent.getChildren().remove(FileTreeItem.this);\n                    }\n                }\n            }\n        });\n        return contextMenu;\n    }\n\n    // private methods\n\n    /**\n     * Sets the icon of this FileTreeItem.\n     * @param image the icon of this FileTreeItem.\n     */\n    private void applyGraphic(Image image) {\n        applyGraphic(image, false);\n    }\n\n    /**\n     * Sets the icon of this FileTreeItem.\n     * @param image the icon of this FileTreeItem.\n     * @param animate true, if the icon should be animated.\n     */\n    private void applyGraphic(Image image, boolean animate) {\n        ImageView icon = new ImageView(image);\n        setGraphic(icon);\n        if (animate) {\n            timeLine = new Timeline(\n                    new KeyFrame(Duration.seconds(0), new KeyValue(icon.rotateProperty(), 0)),\n                    new KeyFrame(Duration.seconds(1), new KeyValue(icon.rotateProperty(), 360)));\n            timeLine.setCycleCount(Animation.INDEFINITE);\n            timeLine.play();\n        }\n    }\n\n    /**\n     * Resets the folder icon to its default and stops the animation.\n    */\n    private void resetFolderIcon() {\n        timeLine.stop();\n        applyGraphic(FOLDER_ICON);\n    }\n}\n</code></pre>\n<p>I do not create new ImagesIcons when updateItem in TreeCell is called. I am using the graphics from TreeItem that have been created recently in the constructor or during start and stop of the load process. I thought that this is the correct approach according to the documentation and the tutorial. Am I right?</p>\n<p>The whole project can be found at GitHub:</p>\n<ul>\n<li><a href=\"https://github.com/treimers/FileManager\" rel=\"nofollow noreferrer\">https://github.com/treimers/FileManager</a>.</li>\n</ul>\n<p>I found two bugs looking similar to my problem:</p>\n<ul>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8209017\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8209017</a></li>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-8190331\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8190331</a></li>\n</ul>\n<p>Am I running into the same or a similar problem?</p>\n<p>My environment</p>\n<p>Java\nopenjdk version &quot;15.0.2&quot; 2021-01-19\nOpenJDK Runtime Environment AdoptOpenJDK (build 15.0.2+7)\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15.0.2+7, mixed mode, sharing)</p>\n<p>JavaFX\n17.0.8</p>\n<p>Should I give JavaFX 20 a try where the first bug was fixed?</p>\n<p>And I found this thread where a TreeView.refresh is recommended, but discouraged in an answer below:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/27984156/update-treeview-item-graphic\">Update TreeView item graphic</a></li>\n</ul>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":1,"creation_date":1596003678,"post_id":63147411,"comment_id":111665449,"body_markdown":"show your build.gradle  project level","body":"show your build.gradle  project level"},{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1596003865,"post_id":63147411,"comment_id":111665534,"body_markdown":"Move to androidX at first","body":"Move to androidX at first"}],"answers":[{"tags":[],"owner":{"account_id":11018085,"reputation":420,"user_id":8093325,"display_name":"Muhammad Waqas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1596004012,"creation_date":1596003811,"answer_id":63147509,"question_id":63147411,"body_markdown":"**Try this**   \r\n\r\n     compile &#39;com.amitshekhar.android:android-networking:1.0.2&#39;\r\n\r\n**When using it with Jackson Parser**\r\n\r\n    implementation &#39;com.amitshekhar.android:jackson-android-networking:1.0.2&#39;\r\n\r\n**When using it with RxJava**\r\n\r\n    implementation &#39;com.amitshekhar.android:rx-android-networking:1.0.2&#39;\r\n\r\n**When using it with RxJava2**\r\n\r\n    compile &#39;com.amitshekhar.android:rx2-android-networking:1.0.2&#39;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p><strong>Try this</strong></p>\n<pre><code> compile 'com.amitshekhar.android:android-networking:1.0.2'\n</code></pre>\n<p><strong>When using it with Jackson Parser</strong></p>\n<pre><code>implementation 'com.amitshekhar.android:jackson-android-networking:1.0.2'\n</code></pre>\n<p><strong>When using it with RxJava</strong></p>\n<pre><code>implementation 'com.amitshekhar.android:rx-android-networking:1.0.2'\n</code></pre>\n<p><strong>When using it with RxJava2</strong></p>\n<pre><code>compile 'com.amitshekhar.android:rx2-android-networking:1.0.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8603229,"reputation":81,"user_id":6444094,"display_name":"Evgeny"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1622100270,"creation_date":1622100270,"answer_id":67717475,"question_id":63147411,"body_markdown":"I know this is the old question, but I saw such a problem after removing jcenter() from repositories in gradle file:\r\n\r\n    repositories {\r\n            google()\r\n            jcenter()\r\n        }","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p>I know this is the old question, but I saw such a problem after removing jcenter() from repositories in gradle file:</p>\n<pre><code>repositories {\n        google()\n        jcenter()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23574973,"reputation":1,"user_id":17614744,"display_name":"Youness Goudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651989077,"creation_date":1651989077,"answer_id":72158464,"question_id":63147411,"body_markdown":"add this line in gradle.properties:\r\n\r\n    # Automatically convert third-party libraries to use AndroidX\r\n    android.enableJetifier=true","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p>add this line in gradle.properties:</p>\n<pre><code># Automatically convert third-party libraries to use AndroidX\nandroid.enableJetifier=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6133361,"reputation":279,"user_id":4782928,"display_name":"David Kiarie Macharia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653574733,"creation_date":1653574733,"answer_id":72393313,"question_id":63147411,"body_markdown":"    allprojects {\r\n\t\trepositories {\r\n\t\t\t...\r\n\t\t\tmaven { url &#39;https://jitpack.io&#39; }\r\n\t\t}\r\n\t}\r\nthis worked for me ,i had to add jitpack.io","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<pre><code>allprojects {\n    repositories {\n        ...\n        maven { url 'https://jitpack.io' }\n    }\n}\n</code></pre>\n<p>this worked for me ,i had to add jitpack.io</p>\n"},{"tags":[],"owner":{"account_id":16034800,"reputation":1,"user_id":11572794,"display_name":"Ayush Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697455996,"creation_date":1697078372,"answer_id":77277383,"question_id":63147411,"body_markdown":"Well this was resolved a while ago, but I was working on this now and found a perfect way. \r\n\r\nWe should add 2 things here:\r\n\r\n1. `jcenter()` in `settings.gradle` file under both `pluginManagement` and `dependencyResolutionManagement`\r\n2. add `android.enableJetifier=true` in `gradle.properties` file\r\n\r\n","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p>Well this was resolved a while ago, but I was working on this now and found a perfect way.</p>\n<p>We should add 2 things here:</p>\n<ol>\n<li><code>jcenter()</code> in <code>settings.gradle</code> file under both <code>pluginManagement</code> and <code>dependencyResolutionManagement</code></li>\n<li>add <code>android.enableJetifier=true</code> in <code>gradle.properties</code> file</li>\n</ol>\n"}],"owner":{"account_id":17404170,"reputation":39,"user_id":12612563,"display_name":"sahar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6783,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1697455996,"creation_date":1596003355,"question_id":63147411,"body_markdown":"i am trying to import network library , but android studio shows up with this meessage:ERROR: Unable to resolve dependency for &#39;:app@debug/compileClasspath&#39;: Could not resolve com.amitshekhar.android:android-networking:1.0.2.\r\n\r\nhere is the build.gradle:\r\n \r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        buildToolsVersion &quot;29.0.3&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.myfaild&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 28\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:28.0.0&#39;\r\n        implementation &#39;androidx.annotation:annotation:1.1.0&#39;\r\n        implementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n        implementation &#39;com.amitshekhar.android:android-networking:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    }\r\n\r\n\r\n\r\n","title":"Could not resolve com.amitshekhar.android:android-networking:1.0.2","body":"<p>i am trying to import network library , but android studio shows up with this meessage:ERROR: Unable to resolve dependency for ':app@debug/compileClasspath': Could not resolve com.amitshekhar.android:android-networking:1.0.2.</p>\n<p>here is the build.gradle:</p>\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 28\n    buildToolsVersion &quot;29.0.3&quot;\n    defaultConfig {\n        applicationId &quot;com.example.myfaild&quot;\n        minSdkVersion 16\n        targetSdkVersion 28\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'androidx.annotation:annotation:1.1.0'\n    implementation 'com.android.support:support-v4:28.0.0'\n    implementation 'com.amitshekhar.android:android-networking:1.0.2'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n</code></pre>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":971196,"reputation":24175,"user_id":993742,"display_name":"isnot2bad"},"score":10,"creation_date":1385022456,"post_id":20115672,"comment_id":29975437,"body_markdown":"Nice question! What should we learn from this: Don&#39;t do it! ;)","body":"Nice question! What should we learn from this: Don&#39;t do it! ;)"}],"answers":[{"tags":[],"owner":{"account_id":220539,"reputation":10492,"user_id":477997,"display_name":"Leonidos"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1385022249,"creation_date":1385022249,"answer_id":20115754,"question_id":20115672,"body_markdown":"1,0 is correct.\r\n\r\nWhen the class is loaded all static data is initialized in oder they are declared. By default int is 0. \r\n\r\n - first A is created. num1 and num2 becoming 1 and 1 \r\n - than `static int num1;` does nothing \r\n - than `static int num2=0;` this writes 0 to num2","title":"How does the static modifier affect this code?","body":"<p>1,0 is correct.</p>\n\n<p>When the class is loaded all static data is initialized in oder they are declared. By default int is 0. </p>\n\n<ul>\n<li>first A is created. num1 and num2 becoming 1 and 1 </li>\n<li>than <code>static int num1;</code> does nothing </li>\n<li>than <code>static int num2=0;</code> this writes 0 to num2</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"down_vote_count":0,"up_vote_count":116,"is_accepted":false,"score":116,"last_activity_date":1393842283,"creation_date":1385022254,"answer_id":20115756,"question_id":20115672,"body_markdown":"In Java two phases take place: 1. Identification, 2. Execution\n\n\n 1. In **identification** phase all static variables are detected and initialized with default values.\n\n     So now the values are:  \n`A obj=null`  \n`num1=0`  \n`num2=0`\n       \n     \n\n 2. The second phase, **execution**, starts from top to bottom. In Java, the execution starts from the first static members.  \nHere your first static variable is `static A obj = new A();`,  so first it will create the object of that variable and call the constructor, hence the value of `num1` and `num2` becomes `1`.  \nAnd then, again, `static int num2=0;` will be executed, which makes `num2 = 0;`.\n\n\n\nNow, suppose your constructor is like this:\n      \n     private A(){\n        num1++;\n        num2++;\n        System.out.println(obj.toString());\n     }\n\nThis will throw a `NullPointerException` as `obj` still has not got a reference of  `class A`.\n\n","title":"How does the static modifier affect this code?","body":"<p>In Java two phases take place: 1. Identification, 2. Execution</p>\n<ol>\n<li><p>In <strong>identification</strong> phase all static variables are detected and initialized with default values.</p>\n<p>So now the values are:<br />\n<code>A obj=null</code><br />\n<code>num1=0</code><br />\n<code>num2=0</code></p>\n</li>\n<li><p>The second phase, <strong>execution</strong>, starts from top to bottom. In Java, the execution starts from the first static members.<br />\nHere your first static variable is <code>static A obj = new A();</code>,  so first it will create the object of that variable and call the constructor, hence the value of <code>num1</code> and <code>num2</code> becomes <code>1</code>.<br />\nAnd then, again, <code>static int num2=0;</code> will be executed, which makes <code>num2 = 0;</code>.</p>\n</li>\n</ol>\n<p>Now, suppose your constructor is like this:</p>\n<pre><code> private A(){\n    num1++;\n    num2++;\n    System.out.println(obj.toString());\n }\n</code></pre>\n<p>This will throw a <code>NullPointerException</code> as <code>obj</code> still has not got a reference of  <code>class A</code>.</p>\n"},{"tags":[],"owner":{"account_id":2569717,"reputation":22819,"user_id":2228771,"accept_rate":77,"display_name":"Domi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1386245758,"creation_date":1385022320,"answer_id":20115783,"question_id":20115672,"body_markdown":"It is due to the order of the static initializers. Static expressions in classes are evaluated  in a top-down order.\r\n\r\nThe first to be called is the constructor of `A`, which sets `num1` and `num2` both to 1:\r\n\r\n`static A obj = new A();`\r\n\r\nThen,\r\n\r\n    static int num2=0;\r\n\r\nis called and sets num2=0 again.\r\n\r\nThat is why `num1` is 1 and `num2` is 0.\r\n\r\nAs a side note, a constructor should not modify static variables, that is very bad design. Instead, try a different approach to [implementing a Singleton in Java](https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java).","title":"How does the static modifier affect this code?","body":"<p>It is due to the order of the static initializers. Static expressions in classes are evaluated  in a top-down order.</p>\n\n<p>The first to be called is the constructor of <code>A</code>, which sets <code>num1</code> and <code>num2</code> both to 1:</p>\n\n<p><code>static A obj = new A();</code></p>\n\n<p>Then,</p>\n\n<pre><code>static int num2=0;\n</code></pre>\n\n<p>is called and sets num2=0 again.</p>\n\n<p>That is why <code>num1</code> is 1 and <code>num2</code> is 0.</p>\n\n<p>As a side note, a constructor should not modify static variables, that is very bad design. Instead, try a different approach to <a href=\"https://stackoverflow.com/questions/70689/what-is-an-efficient-way-to-implement-a-singleton-pattern-in-java\">implementing a Singleton in Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":2790397,"reputation":3354,"user_id":2400740,"accept_rate":52,"display_name":"rachana"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1385022428,"creation_date":1385022428,"answer_id":20115796,"question_id":20115672,"body_markdown":"The static keyword is used in java mainly for memory management. We may apply static keyword with variables, methods, blocks and nested class. The static keyword belongs to the class than instance of the class.For brief explanation about static keyword :\r\n\r\n\r\nhttp://www.javatpoint.com/static-keyword-in-java","title":"How does the static modifier affect this code?","body":"<p>The static keyword is used in java mainly for memory management. We may apply static keyword with variables, methods, blocks and nested class. The static keyword belongs to the class than instance of the class.For brief explanation about static keyword :</p>\n\n<p><a href=\"http://www.javatpoint.com/static-keyword-in-java\" rel=\"nofollow\">http://www.javatpoint.com/static-keyword-in-java</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1386024026,"creation_date":1385022809,"answer_id":20115914,"question_id":20115672,"body_markdown":"What the `static` modifier means when applied to a variable declaration is that the variable is a class variable rather than an instance variable.  In other words ... there is only one `num1` variable, and only one `num2` variable.\r\n\r\n(Aside: a  static variable is *like* a global variable in some other languages, except that its name is not visible everywhere.  Even if it is declared as a `public static`, the unqualified name is only visible if it is declared in the current class or a superclass, or if it is imported using a static import.  That&#39;s the distinction.  A true global is visible without qualification anywhere.)\r\n\r\nSo when you refer to `obj.num1` and `obj.num2`, you are actually referring to *the* static variables whose real designations are `A.num1` and `A.num2`.  And similarly, when the constructor increments `num1` and `num2`, it is incrementing the same variables (respectively).\r\n\r\nThe confusing wrinkle in your example is in the class initialization.  A class is initialized by first *default initializing* all of the static variables, and then executing the declared static initializers (and static initializer blocks) in the order that they appear in the class.  In this case, you have this:\r\n\r\n    static A obj = new A();\r\n    static int num1;\r\n    static int num2=0;\r\n\r\nIt happens like this:\r\n\r\n  1. The statics start out with their default initial values; `A.obj` is `null` and `A.num1` / `A.num2` are zero.\r\n\r\n  1. The first declaration (`A.obj`) creates an instance of `A()`, and the constructor for `A` increments `A.num1` and `A.num2`.  When the declaration completes, `A.num1` and `A.num2` are both `1`, and `A.obj` refers to the newly constructed `A` instance.\r\n\r\n  1. The second declaration (`A.num1`) has no initializer, so `A.num1` doesn&#39;t change.\r\n\r\n  1. The third declaration (`A.num2`) has an initializer that assigns zero to `A.num2`.\r\n\r\nThus, at the end of the class initialization, `A.num1` is `1` and `A.num2` is `0` ... and that&#39;s what your print statements show.\r\n\r\nThis confusing behaviour is really down to the fact that you are creating an instance before the static initialization has completed, and that the constructor you are using depends on *and modifies* a static that is yet to be initialized.  This something that you should avoid doing in real code.\r\n\r\n","title":"How does the static modifier affect this code?","body":"<p>What the <code>static</code> modifier means when applied to a variable declaration is that the variable is a class variable rather than an instance variable.  In other words ... there is only one <code>num1</code> variable, and only one <code>num2</code> variable.</p>\n\n<p>(Aside: a  static variable is <em>like</em> a global variable in some other languages, except that its name is not visible everywhere.  Even if it is declared as a <code>public static</code>, the unqualified name is only visible if it is declared in the current class or a superclass, or if it is imported using a static import.  That's the distinction.  A true global is visible without qualification anywhere.)</p>\n\n<p>So when you refer to <code>obj.num1</code> and <code>obj.num2</code>, you are actually referring to <em>the</em> static variables whose real designations are <code>A.num1</code> and <code>A.num2</code>.  And similarly, when the constructor increments <code>num1</code> and <code>num2</code>, it is incrementing the same variables (respectively).</p>\n\n<p>The confusing wrinkle in your example is in the class initialization.  A class is initialized by first <em>default initializing</em> all of the static variables, and then executing the declared static initializers (and static initializer blocks) in the order that they appear in the class.  In this case, you have this:</p>\n\n<pre><code>static A obj = new A();\nstatic int num1;\nstatic int num2=0;\n</code></pre>\n\n<p>It happens like this:</p>\n\n<ol>\n<li><p>The statics start out with their default initial values; <code>A.obj</code> is <code>null</code> and <code>A.num1</code> / <code>A.num2</code> are zero.</p></li>\n<li><p>The first declaration (<code>A.obj</code>) creates an instance of <code>A()</code>, and the constructor for <code>A</code> increments <code>A.num1</code> and <code>A.num2</code>.  When the declaration completes, <code>A.num1</code> and <code>A.num2</code> are both <code>1</code>, and <code>A.obj</code> refers to the newly constructed <code>A</code> instance.</p></li>\n<li><p>The second declaration (<code>A.num1</code>) has no initializer, so <code>A.num1</code> doesn't change.</p></li>\n<li><p>The third declaration (<code>A.num2</code>) has an initializer that assigns zero to <code>A.num2</code>.</p></li>\n</ol>\n\n<p>Thus, at the end of the class initialization, <code>A.num1</code> is <code>1</code> and <code>A.num2</code> is <code>0</code> ... and that's what your print statements show.</p>\n\n<p>This confusing behaviour is really down to the fact that you are creating an instance before the static initialization has completed, and that the constructor you are using depends on <em>and modifies</em> a static that is yet to be initialized.  This something that you should avoid doing in real code.</p>\n"},{"tags":[],"owner":{"account_id":1412960,"reputation":107,"user_id":1339209,"accept_rate":40,"display_name":"deepak tiwari"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1390557753,"creation_date":1385044260,"answer_id":20123643,"question_id":20115672,"body_markdown":"java does not  initializes the value of any static or non static data member till it is not called but it creates it.\r\n\r\nso So that here when  num1 and num2 will be called in main then it will get initialized with values\r\n\r\n num1 = 0+1; and\r\n\r\n num2=0;","title":"How does the static modifier affect this code?","body":"<p>java does not  initializes the value of any static or non static data member till it is not called but it creates it.</p>\n\n<p>so So that here when  num1 and num2 will be called in main then it will get initialized with values</p>\n\n<p>num1 = 0+1; and</p>\n\n<p>num2=0;</p>\n"},{"tags":[],"owner":{"account_id":1448148,"reputation":14121,"user_id":1365960,"accept_rate":65,"display_name":"StarPinkER"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1385086603,"creation_date":1385086603,"answer_id":20135759,"question_id":20115672,"body_markdown":"A section in JLS can be found: [&#167;12.4.2][1]. \r\n\r\n&gt; Detailed Initialization Procedure:\r\n&gt; \r\n&gt;  9.Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\r\n&gt; in textual order, **as though they were a single block, except that\r\n&gt; final class variables and fields of interfaces whose values are\r\n&gt; compile-time constants are initialized first**\r\n\r\n\r\nSo the three static variable will be initialized one by one in textual order. \r\n\r\nSo \r\n  \r\n    static A obj = new A();\r\n    //num1 = 1, num2 = 1;\r\n    static int num1;\r\n    //this is initilized first, see below.\r\n    static int num2=0;\r\n    //num1 = 1, num2 = 0;\r\n\r\nIf I change the order to:\r\n\r\n    static int num1;\r\n    static int num2=0;\r\n    static A obj = new A();\r\n\r\nThe result will be `1,1`.\r\n\r\nNote that the `static int num1;` is not a variable initializer because([&#167;8.3.2][2]): \r\n\r\n&gt; If a field declarator contains a variable initializer, then it has the\r\n&gt; semantics of an assignment (&#167;15.26) to the declared variable, and: If\r\n&gt; the declarator is for a class variable (that is, a static field), then\r\n&gt; the variable initializer is evaluated and the assignment performed\r\n&gt; exactly once, when the class is initialized\r\n\r\nAnd this class variable is initialized when the class is created. This happens first([&#167;4.12.5][3]).\r\n\r\n&gt; Every variable in a program must have a value before its value is\r\n&gt; used: Each class variable, instance variable, or array component is\r\n&gt; initialized with a default value when it is created (&#167;15.9, &#167;15.10):\r\n&gt; For type byte, the default value is zero, that is, the value of\r\n&gt; (byte)0. For type short, the default value is zero, that is, the value\r\n&gt; of (short)0. For type int, the default value is zero, that is, 0. For\r\n&gt; type long, the default value is zero, that is, 0L. For type float, the\r\n&gt; default value is positive zero, that is, 0.0f. For type double, the\r\n&gt; default value is positive zero, that is, 0.0d. For type char, the\r\n&gt; default value is the null character, that is, &#39;\\u0000&#39;. For type\r\n&gt; boolean, the default value is false. For all reference types (&#167;4.3),\r\n&gt; the default value is null.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#44557\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#38010\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#96595","title":"How does the static modifier affect this code?","body":"<p>A section in JLS can be found: <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#44557\">12.4.2</a>. </p>\n\n<blockquote>\n  <p>Detailed Initialization Procedure:</p>\n  \n  <p>9.Next, execute either the class variable initializers and static initializers of the class, or the field initializers of the interface,\n  in textual order, <strong>as though they were a single block, except that\n  final class variables and fields of interfaces whose values are\n  compile-time constants are initialized first</strong></p>\n</blockquote>\n\n<p>So the three static variable will be initialized one by one in textual order. </p>\n\n<p>So </p>\n\n<pre><code>static A obj = new A();\n//num1 = 1, num2 = 1;\nstatic int num1;\n//this is initilized first, see below.\nstatic int num2=0;\n//num1 = 1, num2 = 0;\n</code></pre>\n\n<p>If I change the order to:</p>\n\n<pre><code>static int num1;\nstatic int num2=0;\nstatic A obj = new A();\n</code></pre>\n\n<p>The result will be <code>1,1</code>.</p>\n\n<p>Note that the <code>static int num1;</code> is not a variable initializer because(<a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#38010\">8.3.2</a>): </p>\n\n<blockquote>\n  <p>If a field declarator contains a variable initializer, then it has the\n  semantics of an assignment (15.26) to the declared variable, and: If\n  the declarator is for a class variable (that is, a static field), then\n  the variable initializer is evaluated and the assignment performed\n  exactly once, when the class is initialized</p>\n</blockquote>\n\n<p>And this class variable is initialized when the class is created. This happens first(<a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#96595\">4.12.5</a>).</p>\n\n<blockquote>\n  <p>Every variable in a program must have a value before its value is\n  used: Each class variable, instance variable, or array component is\n  initialized with a default value when it is created (15.9, 15.10):\n  For type byte, the default value is zero, that is, the value of\n  (byte)0. For type short, the default value is zero, that is, the value\n  of (short)0. For type int, the default value is zero, that is, 0. For\n  type long, the default value is zero, that is, 0L. For type float, the\n  default value is positive zero, that is, 0.0f. For type double, the\n  default value is positive zero, that is, 0.0d. For type char, the\n  default value is the null character, that is, '\\u0000'. For type\n  boolean, the default value is false. For all reference types (4.3),\n  the default value is null.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1554056,"reputation":677,"user_id":1445730,"display_name":"Goran"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1697455280,"creation_date":1385091632,"answer_id":20136611,"question_id":20115672,"body_markdown":"Maybe it will help to think of it in this way.\r\n\r\nClasses are blueprints for objects.\r\n\r\nObjects can have variables when they are instantiated.\r\n\r\nClasses can also have variables. These are declared as static. So they are set on the class rather than the object instances.\r\n\r\nYou can only every have one of any class in an application so it&#39;s kind of like global storage specifically for that class. These static variables can of course be accessed and modified from anywhere in your application (assuming they are public).\r\n\r\n\r\nHere is and example of a &quot;Dog&quot; class that uses static variable to track the number of instances it has created.\r\n\r\n&quot;Dog&quot; class is the cloud while the Orange boxes are &quot;Dog&quot; instances.\r\n\r\n[![Dog class][3]][3]  \n&lt;sub&gt;(source: [matuszek at www.cis.upenn.edu](https://www.cis.upenn.edu/~matuszek/General/JavaSyntax/Images/static1.gif))&lt;/sub&gt;  \n\r\n\r\n[read more][1]\r\n\r\nHope this helps!\r\n\r\nIf you feel like some trivia, this idea was first introduced by [Plato][2]\r\n\r\n [1]: https://web.archive.org/web/20220118011929/https://www.cis.upenn.edu/~matuszek/General/JavaSyntax/static.html\r\n [2]: https://en.wikipedia.org/wiki/Plato#Theory_of_Forms\n [3]: https://i.stack.imgur.com/ylxFo.gif","title":"How does the static modifier affect this code?","body":"<p>Maybe it will help to think of it in this way.</p>\n<p>Classes are blueprints for objects.</p>\n<p>Objects can have variables when they are instantiated.</p>\n<p>Classes can also have variables. These are declared as static. So they are set on the class rather than the object instances.</p>\n<p>You can only every have one of any class in an application so it's kind of like global storage specifically for that class. These static variables can of course be accessed and modified from anywhere in your application (assuming they are public).</p>\n<p>Here is and example of a &quot;Dog&quot; class that uses static variable to track the number of instances it has created.</p>\n<p>&quot;Dog&quot; class is the cloud while the Orange boxes are &quot;Dog&quot; instances.</p>\n<p><a href=\"https://i.stack.imgur.com/ylxFo.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ylxFo.gif\" alt=\"Dog class\" /></a><br />\n<sub>(source: <a href=\"https://www.cis.upenn.edu/%7Ematuszek/General/JavaSyntax/Images/static1.gif\" rel=\"nofollow noreferrer\">matuszek at www.cis.upenn.edu</a>)</sub></p>\n<p><a href=\"https://web.archive.org/web/20220118011929/https://www.cis.upenn.edu/%7Ematuszek/General/JavaSyntax/static.html\" rel=\"nofollow noreferrer\">read more</a></p>\n<p>Hope this helps!</p>\n<p>If you feel like some trivia, this idea was first introduced by <a href=\"https://en.wikipedia.org/wiki/Plato#Theory_of_Forms\" rel=\"nofollow noreferrer\">Plato</a></p>\n"},{"tags":[],"owner":{"account_id":1134168,"reputation":882,"user_id":1119595,"display_name":"w25r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385499017,"creation_date":1385499017,"answer_id":20227687,"question_id":20115672,"body_markdown":"Many of the answers above are correct.  But really to illustrate what is happening I&#39;ve made some small modifications below.\r\n\r\nAs mentioned multiple times above, what&#39;s happening is a instance of class A is being created before class A is fully loaded.  So what is considered the normal &#39;behavior&#39; is not observed.  This is not too dissimilar to calling methods from a constructor that can be overridden.  In that case, instance variables may not be in an intuitive state.  In this example class variables are not in an intuitive state.\r\n\r\n    class A {\r\n        static A obj = new A();\r\n        static int num1;\r\n        static int num2;\r\n        static {\r\n            System.out.println(&quot;Setting num2 to 0&quot;);\r\n            num2 = 0;\r\n        }\r\n    \r\n        private A() {\r\n            System.out.println(&quot;Constructing singleton instance of A&quot;);\r\n            num1++;\r\n            num2++;\r\n        }\r\n    \r\n        public static A getInstance() {\r\n            return obj;\r\n        }\r\n    }\r\n    \r\n    public class Main {\r\n        \r\n        public static void main(String[] arg) {\r\n            A obj = A.getInstance();\r\n            System.out.println(obj.num1);\r\n            System.out.println(obj.num2);\r\n        }\r\n    }\r\n\r\nOutput is\r\n\r\n\tConstructing singleton instance of A\r\n\tSetting num2 to 0\r\n\t1\r\n\t0\r\n\r\n","title":"How does the static modifier affect this code?","body":"<p>Many of the answers above are correct.  But really to illustrate what is happening I've made some small modifications below.</p>\n\n<p>As mentioned multiple times above, what's happening is a instance of class A is being created before class A is fully loaded.  So what is considered the normal 'behavior' is not observed.  This is not too dissimilar to calling methods from a constructor that can be overridden.  In that case, instance variables may not be in an intuitive state.  In this example class variables are not in an intuitive state.</p>\n\n<pre><code>class A {\n    static A obj = new A();\n    static int num1;\n    static int num2;\n    static {\n        System.out.println(\"Setting num2 to 0\");\n        num2 = 0;\n    }\n\n    private A() {\n        System.out.println(\"Constructing singleton instance of A\");\n        num1++;\n        num2++;\n    }\n\n    public static A getInstance() {\n        return obj;\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] arg) {\n        A obj = A.getInstance();\n        System.out.println(obj.num1);\n        System.out.println(obj.num2);\n    }\n}\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>Constructing singleton instance of A\nSetting num2 to 0\n1\n0\n</code></pre>\n"}],"owner":{"account_id":3342083,"reputation":1433,"user_id":2808147,"accept_rate":80,"display_name":"lirui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3438,"favorite_count":0,"down_vote_count":2,"up_vote_count":111,"answer_count":9,"score":109,"last_activity_date":1697455280,"creation_date":1385021942,"question_id":20115672,"body_markdown":"Here is my code: \r\n\r\n    class A {\r\n    \tstatic A obj = new A();\r\n    \tstatic int num1;\r\n    \tstatic int num2=0;\r\n\r\n    \tprivate A() {\r\n    \t\tnum1++;\r\n    \t\tnum2++;\r\n    \t}\r\n    \tpublic static A getInstance() {\r\n    \t\treturn obj;\r\n    \t}\r\n    }\r\n\r\n    public class Main{\r\n    \tpublic static void main(String[] arg) {\r\n    \t\tA obj = A.getInstance();\r\n    \t\tSystem.out.println(obj.num1);\r\n    \t\tSystem.out.println(obj.num2);\r\n    \t}\r\n    }\r\n\r\n\r\nThe output is `1 0`, but I can&#39;t understand.\r\n\r\nCan somebody explain it to me?","title":"How does the static modifier affect this code?","body":"<p>Here is my code: </p>\n\n<pre><code>class A {\n    static A obj = new A();\n    static int num1;\n    static int num2=0;\n\n    private A() {\n        num1++;\n        num2++;\n    }\n    public static A getInstance() {\n        return obj;\n    }\n}\n\npublic class Main{\n    public static void main(String[] arg) {\n        A obj = A.getInstance();\n        System.out.println(obj.num1);\n        System.out.println(obj.num2);\n    }\n}\n</code></pre>\n\n<p>The output is <code>1 0</code>, but I can't understand.</p>\n\n<p>Can somebody explain it to me?</p>\n"},{"tags":["java","reflection","compilation","executable-jar","on-the-fly"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697450072,"post_id":77300604,"comment_id":136276991,"body_markdown":"When you get a compiler error, it doesnt help to change the output location. The problem is at the input.","body":"When you get a compiler error, it doesnt help to change the output location. The problem is at the input."}],"owner":{"account_id":29681946,"reputation":11,"user_id":22748398,"display_name":"Lloyxide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697455142,"creation_date":1697446276,"question_id":77300604,"body_markdown":"I am generating files with Java reflection. When using IntelliJ, everything works fine, everything is generated as it should. During the generation, I build some files I generated so I can use more reflection on them. This is the code I use to do so:\r\n\r\n```java\r\nprivate Class&lt;?&gt; compile(File sourceFile, String pack) throws ClassNotFoundException, IOException {\r\n    File output = new File(Constants.BASE_TARGET_PATH);\r\n    output.mkdirs();\r\n\r\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n\r\n    StandardJavaFileManager standardJavaFileManager = compiler.getStandardFileManager(null, null, null);\r\n    standardJavaFileManager.setLocation(StandardLocation.CLASS_OUTPUT, Arrays.asList(output));\r\n    Iterable&lt;? extends JavaFileObject&gt; compilationUnits = standardJavaFileManager.getJavaFileObjectsFromFiles(Arrays.asList(sourceFile));\r\n    compiler.getTask(null, standardJavaFileManager, null, null, null, compilationUnits).call();\r\n    standardJavaFileManager.close();\r\n\r\n\r\n    URLClassLoader urlClassLoader = URLClassLoader.newInstance(new URL[] {output.toURI().toURL()});\r\n    Class&lt;?&gt; dynamicClass = urlClassLoader.loadClass(pack + &quot;.&quot; + sourceFile.getName().replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;));\r\n\r\n    return dynamicClass;\r\n}\r\n```\r\n\r\nWhen I try to package my generator in a JAR, this does not work because, even though some of my custom annotations have been generated correctly, Java can&#39;t find them, so it can&#39;t import them when building. This is the error I get:\r\n\r\n```none\r\n10:47:18.928 [main] INFO com.foo.codegeneration.generators.ControllerGenerator -- Generated ZoneController\r\ncompiling annotations\r\ncompiled IntermediateTableAttribute.java\r\ncompiling presentationals\r\nsrc\\main\\java\\com\\foo\\jpadataserverprototype\\presentation\\presentational\\PresentationalCategory.java:3: error: package com.foo.jpadataserverprototype.presentation.presentational.annotations does not exist\r\nimport com.foo.jpadataserverprototype.presentation.presentational.annotations.*;\r\n^\r\n1 error\r\njava.lang.ClassNotFoundException: com.foo.jpadataserverprototype.presentation.presentational.PresentationalCategory\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n        at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.compile(GeneratedPresentationalRetriever.java:65)\r\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.retrieveEntities(GeneratedPresentationalRetriever.java:43)\r\n        at com.foo.codegeneration.generators.MapperGenerator.&lt;init&gt;(MapperGenerator.java:31)\r\n        at com.foo.codegeneration.CodeGenerator.main(CodeGenerator.java:93)\r\n10:47:19.503 [main] INFO com.foo.codegeneration.generators.MapperGenerator -- Generating CategoryMapper...\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\r\n        at java.base/java.util.Optional.get(Optional.java:143)\r\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.getEntityByName(GeneratedPresentationalRetriever.java:79)\r\n        at com.foo.codegeneration.generators.MapperGenerator.generateEntityToDTOMapMethod(MapperGenerator.java:128)\r\n        at com.foo.codegeneration.generators.MapperGenerator.generate(MapperGenerator.java:63)\r\n        at com.foo.codegeneration.CodeGenerator.main(CodeGenerator.java:96)\r\n```\r\n\r\nI tried to change the standard output class location, but I can&#39;t seem to find where to put the compiled classes. I also tried many other things not related to this problem when trying to understand what was the problem.","title":"How to ensure Java has access to on-the-fly compiled classes?","body":"<p>I am generating files with Java reflection. When using IntelliJ, everything works fine, everything is generated as it should. During the generation, I build some files I generated so I can use more reflection on them. This is the code I use to do so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Class&lt;?&gt; compile(File sourceFile, String pack) throws ClassNotFoundException, IOException {\n    File output = new File(Constants.BASE_TARGET_PATH);\n    output.mkdirs();\n\n    JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n\n    StandardJavaFileManager standardJavaFileManager = compiler.getStandardFileManager(null, null, null);\n    standardJavaFileManager.setLocation(StandardLocation.CLASS_OUTPUT, Arrays.asList(output));\n    Iterable&lt;? extends JavaFileObject&gt; compilationUnits = standardJavaFileManager.getJavaFileObjectsFromFiles(Arrays.asList(sourceFile));\n    compiler.getTask(null, standardJavaFileManager, null, null, null, compilationUnits).call();\n    standardJavaFileManager.close();\n\n\n    URLClassLoader urlClassLoader = URLClassLoader.newInstance(new URL[] {output.toURI().toURL()});\n    Class&lt;?&gt; dynamicClass = urlClassLoader.loadClass(pack + &quot;.&quot; + sourceFile.getName().replaceFirst(&quot;[.][^.]+$&quot;, &quot;&quot;));\n\n    return dynamicClass;\n}\n</code></pre>\n<p>When I try to package my generator in a JAR, this does not work because, even though some of my custom annotations have been generated correctly, Java can't find them, so it can't import them when building. This is the error I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>10:47:18.928 [main] INFO com.foo.codegeneration.generators.ControllerGenerator -- Generated ZoneController\ncompiling annotations\ncompiled IntermediateTableAttribute.java\ncompiling presentationals\nsrc\\main\\java\\com\\foo\\jpadataserverprototype\\presentation\\presentational\\PresentationalCategory.java:3: error: package com.foo.jpadataserverprototype.presentation.presentational.annotations does not exist\nimport com.foo.jpadataserverprototype.presentation.presentational.annotations.*;\n^\n1 error\njava.lang.ClassNotFoundException: com.foo.jpadataserverprototype.presentation.presentational.PresentationalCategory\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n        at java.base/java.net.FactoryURLClassLoader.loadClass(URLClassLoader.java:872)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.compile(GeneratedPresentationalRetriever.java:65)\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.retrieveEntities(GeneratedPresentationalRetriever.java:43)\n        at com.foo.codegeneration.generators.MapperGenerator.&lt;init&gt;(MapperGenerator.java:31)\n        at com.foo.codegeneration.CodeGenerator.main(CodeGenerator.java:93)\n10:47:19.503 [main] INFO com.foo.codegeneration.generators.MapperGenerator -- Generating CategoryMapper...\nException in thread &quot;main&quot; java.util.NoSuchElementException: No value present\n        at java.base/java.util.Optional.get(Optional.java:143)\n        at com.foo.codegeneration.GeneratedPresentationalRetriever.getEntityByName(GeneratedPresentationalRetriever.java:79)\n        at com.foo.codegeneration.generators.MapperGenerator.generateEntityToDTOMapMethod(MapperGenerator.java:128)\n        at com.foo.codegeneration.generators.MapperGenerator.generate(MapperGenerator.java:63)\n        at com.foo.codegeneration.CodeGenerator.main(CodeGenerator.java:96)\n</code></pre>\n<p>I tried to change the standard output class location, but I can't seem to find where to put the compiled classes. I also tried many other things not related to this problem when trying to understand what was the problem.</p>\n"},{"tags":["java","regex","regex-lookarounds","regex-group"],"comments":[{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1697541362,"post_id":77301448,"comment_id":136290187,"body_markdown":"If you know the string is exactly following a certain pattern it will be most accurate to reproduce it, e.g. [`(?:\\G(?!^)(?:, | and )|\\bpassport numbers are )([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})`](https://regex101.com/r/t8n375/2) This will never skip over anything other than `passport numbers are` and the following number-pattern connected by the specified separators `(?:, | and )` and is efficient.","body":"If you know the string is exactly following a certain pattern it will be most accurate to reproduce it, e.g. <a href=\"https://regex101.com/r/t8n375/2\" rel=\"nofollow noreferrer\"><code>(?:\\G(?!^)(?:, | and )|\\bpassport numbers are )([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})</code></a> This will never skip over anything other than <code>passport numbers are</code> and the following number-pattern connected by the specified separators <code>(?:, | and )</code> and is efficient."}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1697454757,"creation_date":1697454757,"answer_id":77301490,"question_id":77301448,"body_markdown":"You can&#39;t rely on a lookbehind here since you would need a pattern of an indefinite length. It is supported, but only in recent Java versions.\r\n\r\nYou may use a pattern based on the [`\\G` operator][1]:\r\n```none\r\n(?:\\G(?!\\A)|\\bpassport\\b).*?\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b\r\n```\r\nSee the [regex demo][2]. *Pattern details*:\r\n\r\n - `(?:\\G(?!\\A)|\\bpassport\\b)` - either a whole word *passport* (`\\bpassport\\b`) or (`|`) the end of the previous successful match (`\\G(?!\\A)`)\r\n - `.*?` - any zero or more chars as few as possible (since the pattern is compiled with `Pattern.DOTALL`, the `.` can match any characters including line break characters)\r\n - `\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b` - a whole word that starts with zero, one or two ASCII letters, then has six to 12 digits and ends with zero, one or two ASCII letters.\r\n\r\nSee the [Java demo][3] below:\r\n```java\r\nString s = &quot;my friends passport numbers are V123456, V123457 and V123458&quot;;\r\nString rx = &quot;(?:\\\\G(?!^)|\\\\bpassport\\\\b).*?\\\\b([a-zA-Z]{0,2}\\\\d{6,12}[a-zA-Z]{0,2})\\\\b&quot;;\r\nPattern pattern = Pattern.compile(rx, Pattern.DOTALL);\r\nMatcher matcher = pattern.matcher(s);\r\nwhile (matcher.find()){\r\n\tSystem.out.println(matcher.group(1)); \r\n}\r\n```\r\nOutput:\r\n```none\r\nV123456\r\nV123457\r\nV123458\r\n```\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/continue.html\r\n  [2]: https://regex101.com/r/lZV0su/1\r\n  [3]: https://ideone.com/ds9Vkh","title":"How to extract multiple values matching a pattern after a specific keyword?","body":"<p>You can't rely on a lookbehind here since you would need a pattern of an indefinite length. It is supported, but only in recent Java versions.</p>\n<p>You may use a pattern based on the <a href=\"https://www.regular-expressions.info/continue.html\" rel=\"nofollow noreferrer\"><code>\\G</code> operator</a>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?:\\G(?!\\A)|\\bpassport\\b).*?\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/lZV0su/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Pattern details</em>:</p>\n<ul>\n<li><code>(?:\\G(?!\\A)|\\bpassport\\b)</code> - either a whole word <em>passport</em> (<code>\\bpassport\\b</code>) or (<code>|</code>) the end of the previous successful match (<code>\\G(?!\\A)</code>)</li>\n<li><code>.*?</code> - any zero or more chars as few as possible (since the pattern is compiled with <code>Pattern.DOTALL</code>, the <code>.</code> can match any characters including line break characters)</li>\n<li><code>\\b([a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2})\\b</code> - a whole word that starts with zero, one or two ASCII letters, then has six to 12 digits and ends with zero, one or two ASCII letters.</li>\n</ul>\n<p>See the <a href=\"https://ideone.com/ds9Vkh\" rel=\"nofollow noreferrer\">Java demo</a> below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;my friends passport numbers are V123456, V123457 and V123458&quot;;\nString rx = &quot;(?:\\\\G(?!^)|\\\\bpassport\\\\b).*?\\\\b([a-zA-Z]{0,2}\\\\d{6,12}[a-zA-Z]{0,2})\\\\b&quot;;\nPattern pattern = Pattern.compile(rx, Pattern.DOTALL);\nMatcher matcher = pattern.matcher(s);\nwhile (matcher.find()){\n    System.out.println(matcher.group(1)); \n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>V123456\nV123457\nV123458\n</code></pre>\n"}],"owner":{"account_id":4827181,"reputation":23,"user_id":3896362,"display_name":"Satish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77301490,"answer_count":1,"score":2,"last_activity_date":1697454987,"creation_date":1697454332,"question_id":77301448,"body_markdown":"Would need help on how to extract the multiple passport numbers matching after a passport keyword using a regex&#39;s\r\n\r\n\r\n\r\nText:\r\n```none\r\nmy friends passport numbers are V123456, V123457 and V123458\r\n```\r\nRegex: \r\n```none\r\n(?&lt;=passport)\\s*(?:\\w+\\s){0,10}\\s*(\\b[a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2}\\b)\r\n```\r\nExpected matches output:  \r\n```\r\nV123456\r\nV123457\r\nV123458\r\n```\r\nActual output:\r\n```\r\nV123456\r\n```","title":"How to extract multiple values matching a pattern after a specific keyword?","body":"<p>Would need help on how to extract the multiple passport numbers matching after a passport keyword using a regex's</p>\n<p>Text:</p>\n<pre class=\"lang-none prettyprint-override\"><code>my friends passport numbers are V123456, V123457 and V123458\n</code></pre>\n<p>Regex:</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?&lt;=passport)\\s*(?:\\w+\\s){0,10}\\s*(\\b[a-zA-Z]{0,2}\\d{6,12}[a-zA-Z]{0,2}\\b)\n</code></pre>\n<p>Expected matches output:</p>\n<pre><code>V123456\nV123457\nV123458\n</code></pre>\n<p>Actual output:</p>\n<pre><code>V123456\n</code></pre>\n"},{"tags":["java","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":0,"creation_date":1697451665,"post_id":77301135,"comment_id":136277271,"body_markdown":"Bind variable is a **data**, not a substitution value for some part of SQL text. You have to concatenate `&#39;^&#39;` with passed parameter to obtain combined pattern","body":"Bind variable is a <b>data</b>, not a substitution value for some part of SQL text. You have to concatenate <code>&#39;^&#39;</code> with passed parameter to obtain combined pattern"},{"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"score":0,"creation_date":1697451890,"post_id":77301135,"comment_id":136277316,"body_markdown":"Even if I remove &#39;^&#39; and &#39;$&#39;, I get the same issue.","body":"Even if I remove &#39;^&#39; and &#39;$&#39;, I get the same issue."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1697451995,"post_id":77301135,"comment_id":136277332,"body_markdown":"The linked duplicate is for Oracle DB, but should apply to other engines as well.","body":"The linked duplicate is for Oracle DB, but should apply to other engines as well."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697460459,"post_id":77301135,"comment_id":136278815,"body_markdown":"Posts on stackoverflow get nothing from me.","body":"Posts on stackoverflow get nothing from me."}],"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697451925,"answer_count":0,"score":0,"last_activity_date":1697454841,"creation_date":1697451470,"question_id":77301135,"body_markdown":"I have a query in my code that looks like this:\r\n\r\n    @NamedQuery(name = &quot;foo&quot;, query = &quot;SELECT x from Y y WHERE y.a = :b AND y.c = :d AND e = &#39;Y&#39; ORDER BY y.f DESC&quot;);\r\n\r\nThis compiles fine and gives correct results, but I wanted to perform a case insensitive match, so I changed this in this way:\r\n\r\n    @NamedQuery(name = &quot;foo&quot;, query = &quot;SELECT x from Y y WHERE regexp_like(y.a, &#39;^:b$&#39;, &#39;i&#39;) AND y.c = :d AND e = &#39;Y&#39; ORDER BY y.f DESC&quot;);\r\n\r\nNow, this does not compile.  I get the following error:\r\n\r\n    2023-10-16 11:13:33,202 ERROR [main] o.h.h.PARSER - &lt;AST&gt;:1:105: unexpected AST node: (\r\n\r\nIt appears that the &#39;(&#39; in the after &#39;regexp_like&#39; is causing a compile issue, I don&#39;t see why this should be since you need to put in an open bracket after calling &#39;regexp_like&#39;.  What is wrong here?","title":"Named query doesn&#39;t like regex","body":"<p>I have a query in my code that looks like this:</p>\n<pre><code>@NamedQuery(name = &quot;foo&quot;, query = &quot;SELECT x from Y y WHERE y.a = :b AND y.c = :d AND e = 'Y' ORDER BY y.f DESC&quot;);\n</code></pre>\n<p>This compiles fine and gives correct results, but I wanted to perform a case insensitive match, so I changed this in this way:</p>\n<pre><code>@NamedQuery(name = &quot;foo&quot;, query = &quot;SELECT x from Y y WHERE regexp_like(y.a, '^:b$', 'i') AND y.c = :d AND e = 'Y' ORDER BY y.f DESC&quot;);\n</code></pre>\n<p>Now, this does not compile.  I get the following error:</p>\n<pre><code>2023-10-16 11:13:33,202 ERROR [main] o.h.h.PARSER - &lt;AST&gt;:1:105: unexpected AST node: (\n</code></pre>\n<p>It appears that the '(' in the after 'regexp_like' is causing a compile issue, I don't see why this should be since you need to put in an open bracket after calling 'regexp_like'.  What is wrong here?</p>\n"},{"tags":["java","solr"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1697457852,"post_id":77301217,"comment_id":136278362,"body_markdown":"Have you looked at the Solr request log to verify that there isn&#39;t a second request coming right after that changes the value back? Have you tried attaching a breakpoint at the `commit` command and seeing what values it&#39;s reporting?","body":"Have you looked at the Solr request log to verify that there isn&#39;t a second request coming right after that changes the value back? Have you tried attaching a breakpoint at the <code>commit</code> command and seeing what values it&#39;s reporting?"},{"owner":{"account_id":29682577,"reputation":11,"user_id":22748914,"display_name":"EduardNeuro"},"score":0,"creation_date":1697458046,"post_id":77301217,"comment_id":136278382,"body_markdown":"Right at the .add command the value it&#39;s the correct one(false), it&#39;s after the commit that it reverts to the old value(ironically, because commit should persist the changes)","body":"Right at the .add command the value it&#39;s the correct one(false), it&#39;s after the commit that it reverts to the old value(ironically, because commit should persist the changes)"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1697458263,"post_id":77301217,"comment_id":136278423,"body_markdown":"But you&#39;re seeing the correct value for a second if you&#39;re querying the document directly from Solr&#39;s Admin interface?","body":"But you&#39;re seeing the correct value for a second if you&#39;re querying the document directly from Solr&#39;s Admin interface?"},{"owner":{"account_id":29682577,"reputation":11,"user_id":22748914,"display_name":"EduardNeuro"},"score":0,"creation_date":1697458313,"post_id":77301217,"comment_id":136278430,"body_markdown":"Yes, then after the commit it reverts back to true","body":"Yes, then after the commit it reverts back to true"}],"owner":{"account_id":29682577,"reputation":11,"user_id":22748914,"display_name":"EduardNeuro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697454784,"creation_date":1697452308,"question_id":77301217,"body_markdown":"I have a Solr collection (smartDocument with multiple fields like id, path, name, type etc) and I want to update a specific field, called ai_finished. I first retrieve the smartDocument, then *accordingly* populate a SolrInputDocument, change the field with false value, and then commit the changes.\r\n\r\nThe result? If I query Solr, it changes the ai_finished for a second or so, and then it reverts back to the old value. Why does it do this?\r\n\r\nHere&#39;s the code that I&#39;ve tried in Java:\r\n\r\n```java\r\nSolrConfigIndependently solrConfigIndependently = new SolrConfigIndependently();\r\nHttpSolrClient solrClient = solrConfigIndependently.solrHttpClient(solrURL, coreName);\r\n\r\nSolrInputDocument document = new SolrInputDocument();\r\ndocument.addField(&quot;id&quot;, documentId);\r\n\r\ntry {\r\n    SmartDocument sd = this.searchDocById(documentId, coreName);\r\n\r\n    document = SolrInputDocumentMapper.createSolrDocumentFromSmartBox(sd);\r\n    Map&lt;String,String&gt; AI_FINISHED= new HashMap&lt;&gt;();\r\n    AI_FINISHED.put(&quot;set&quot;, &quot;false&quot;);\r\n    document.setField(SmartDocumentEnum.AI_FINISHED.getValue(),AI_FINISHED);\r\n\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n// Update the smartDocument\r\ntry {\r\n    solrClient.add(document);\r\n    solrClient.commit();\r\n} catch (SolrServerException e) {\r\n    e.printStackTrace();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n// Close the Solr client\r\ntry {\r\n    solrClient.close();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nWhat do I have to do to actually commit the changes?\r\n\r\n","title":"Why following Java code won&#39;t update a Solr document?","body":"<p>I have a Solr collection (smartDocument with multiple fields like id, path, name, type etc) and I want to update a specific field, called ai_finished. I first retrieve the smartDocument, then <em>accordingly</em> populate a SolrInputDocument, change the field with false value, and then commit the changes.</p>\n<p>The result? If I query Solr, it changes the ai_finished for a second or so, and then it reverts back to the old value. Why does it do this?</p>\n<p>Here's the code that I've tried in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SolrConfigIndependently solrConfigIndependently = new SolrConfigIndependently();\nHttpSolrClient solrClient = solrConfigIndependently.solrHttpClient(solrURL, coreName);\n\nSolrInputDocument document = new SolrInputDocument();\ndocument.addField(&quot;id&quot;, documentId);\n\ntry {\n    SmartDocument sd = this.searchDocById(documentId, coreName);\n\n    document = SolrInputDocumentMapper.createSolrDocumentFromSmartBox(sd);\n    Map&lt;String,String&gt; AI_FINISHED= new HashMap&lt;&gt;();\n    AI_FINISHED.put(&quot;set&quot;, &quot;false&quot;);\n    document.setField(SmartDocumentEnum.AI_FINISHED.getValue(),AI_FINISHED);\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\n// Update the smartDocument\ntry {\n    solrClient.add(document);\n    solrClient.commit();\n} catch (SolrServerException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n\n// Close the Solr client\ntry {\n    solrClient.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>What do I have to do to actually commit the changes?</p>\n"},{"tags":["java","spring","spring-el"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697455954,"post_id":77301488,"comment_id":136278014,"body_markdown":"The reason for &quot;why&quot; this doesn&#39;t work is probably that it isn&#39;t implemented (&quot;features are unimplemented by default&quot;). I think the more interesting question is how to still do that.","body":"The reason for &quot;why&quot; this doesn&#39;t work is probably that it isn&#39;t implemented (&quot;features are unimplemented by default&quot;). I think the more interesting question is how to still do that."},{"owner":{"account_id":7635098,"reputation":135,"user_id":5955921,"accept_rate":100,"display_name":"Vadym Borys"},"score":0,"creation_date":1697457253,"post_id":77301488,"comment_id":136278241,"body_markdown":"With &quot;default 0;&quot; it has default value on compile time, without default it doesn&#39;t even compile because I didn&#39;t define the value when used annotation. From what I know it isn&#39;t even possible to change annotation value on runtime","body":"With &quot;default 0;&quot; it has default value on compile time, without default it doesn&#39;t even compile because I didn&#39;t define the value when used annotation. From what I know it isn&#39;t even possible to change annotation value on runtime"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697457333,"post_id":77301488,"comment_id":136278259,"body_markdown":"Do you mean it &quot;works&quot; if you ignore the default value and add the level explicitely (i.e. `@LevelAuthGuard(0)`)?","body":"Do you mean it &quot;works&quot; if you ignore the default value and add the level explicitely (i.e. <code>@LevelAuthGuard(0)</code>)?"},{"owner":{"account_id":7635098,"reputation":135,"user_id":5955921,"accept_rate":100,"display_name":"Vadym Borys"},"score":0,"creation_date":1697457637,"post_id":77301488,"comment_id":136278323,"body_markdown":"No, the SpEL expression doesn&#39;t have access to the property at all and fails when the expression is executed in runtime. The only way I made it work is to create multiple annotations (Level1AuthGuard, Level2AuthGuard) and explicitly put a number in spel), but this solution is unacceptable for 3+ annotations","body":"No, the SpEL expression doesn&#39;t have access to the property at all and fails when the expression is executed in runtime. The only way I made it work is to create multiple annotations (Level1AuthGuard, Level2AuthGuard) and explicitly put a number in spel), but this solution is unacceptable for 3+ annotations"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697457807,"post_id":77301488,"comment_id":136278352,"body_markdown":"Yeah, this is what I meant with my initial comment. The reason for that (since you have asked for WHY this wouldn&#39;t work) is probably that it wouldn&#39;t be implemented on Spring&#39;s side.","body":"Yeah, this is what I meant with my initial comment. The reason for that (since you have asked for WHY this wouldn&#39;t work) is probably that it wouldn&#39;t be implemented on Spring&#39;s side."}],"owner":{"account_id":7635098,"reputation":135,"user_id":5955921,"accept_rate":100,"display_name":"Vadym Borys"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1697454731,"creation_date":1697454731,"question_id":77301488,"body_markdown":"I want to create an annotation with a parameter that will extend @PreAuthorize:\r\n\r\n    @Inherited\r\n    @PreAuthorize(&quot;@levelService.verify(#level)&quot;)\r\n    public @interface LevelAuthGuard {\r\n        int level() default 0;\r\n    }\r\n\r\nBut #level (or #level()) in SpEL isn&#39;t accessible and I don&#39;t understand why:\r\nSpEL can use method parameters. \r\nClass-level SpEL annotation initializes on &quot;compile&quot; time, but level property is defined on compile time as well and can&#39;t be changed. Same as spel string that is passed into @PreAuthorize annotation.\r\nHow to do that without custom AoP bean/configuration and, most important, WHY it doesn&#39;t have access to annotation property?","title":"Using annotation properties in SpEL expression","body":"<p>I want to create an annotation with a parameter that will extend @PreAuthorize:</p>\n<pre><code>@Inherited\n@PreAuthorize(&quot;@levelService.verify(#level)&quot;)\npublic @interface LevelAuthGuard {\n    int level() default 0;\n}\n</code></pre>\n<p>But #level (or #level()) in SpEL isn't accessible and I don't understand why:\nSpEL can use method parameters.\nClass-level SpEL annotation initializes on &quot;compile&quot; time, but level property is defined on compile time as well and can't be changed. Same as spel string that is passed into @PreAuthorize annotation.\nHow to do that without custom AoP bean/configuration and, most important, WHY it doesn't have access to annotation property?</p>\n"},{"tags":["java","spring","spring-mvc","aws-codebuild","aws-devops"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697446897,"post_id":77300552,"comment_id":136276394,"body_markdown":"DOn&#39;t post code as images or even worse links to images. Include all the necessary information in your question as code blocks.","body":"DOn&#39;t post code as images or even worse links to images. Include all the necessary information in your question as code blocks."}],"owner":{"account_id":29681906,"reputation":1,"user_id":22748360,"display_name":"Sahil Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697454510,"creation_date":1697445830,"question_id":77300552,"body_markdown":"I have a simple java API webapp. When i&#39;m trying to build my webapp using CodeBuild, it&#39;s generating a &quot;package org.springframework.web.bind.annotation does not exist&quot; error. But in my local machine its getting build successfully and i have also tried it manually on EC2 linux instance by installing maven and then running the commands, it got successfully built.\r\n\r\nBelow is my buildspec.yml file :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nMy Pom.xml file :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n\r\nError screenshot :\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe file is being successfully build in EC2 instance when I&#39;m replicating all the steps manually and in local machine its also working fine on STS. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/awV7N.png\r\n  [2]: https://i.stack.imgur.com/XguEO.png\r\n  [3]: https://i.stack.imgur.com/1IpXP.png","title":"spring-web Package dependency error while building my java webapp on AWS CodeBuild","body":"<p>I have a simple java API webapp. When i'm trying to build my webapp using CodeBuild, it's generating a &quot;package org.springframework.web.bind.annotation does not exist&quot; error. But in my local machine its getting build successfully and i have also tried it manually on EC2 linux instance by installing maven and then running the commands, it got successfully built.</p>\n<p>Below is my buildspec.yml file :</p>\n<p><a href=\"https://i.stack.imgur.com/awV7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/awV7N.png\" alt=\"enter image description here\" /></a></p>\n<p>My Pom.xml file :</p>\n<p><a href=\"https://i.stack.imgur.com/XguEO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XguEO.png\" alt=\"enter image description here\" /></a></p>\n<p>Error screenshot :</p>\n<p><a href=\"https://i.stack.imgur.com/1IpXP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1IpXP.png\" alt=\"enter image description here\" /></a></p>\n<p>The file is being successfully build in EC2 instance when I'm replicating all the steps manually and in local machine its also working fine on STS.</p>\n"},{"tags":["java","google-app-engine","email","jakarta-mail","html-email"],"answers":[{"tags":[],"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330071227,"creation_date":1330071227,"answer_id":9427448,"question_id":9427134,"body_markdown":"You mean something like that:\r\n\r\nhttp://java.sun.com/developer/onlineTraining/JavaMail/contents.html#IncludingImagesWithHTML\r\n\r\nNote that you need also modify your html to specify cid:identifier as image src.","title":"How to nest MimeBodyParts in JavaMail (standard email messages)?","body":"<p>You mean something like that:</p>\n\n<p><a href=\"http://java.sun.com/developer/onlineTraining/JavaMail/contents.html#IncludingImagesWithHTML\" rel=\"nofollow\">http://java.sun.com/developer/onlineTraining/JavaMail/contents.html#IncludingImagesWithHTML</a></p>\n\n<p>Note that you need also modify your html to specify cid:identifier as image src.</p>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1330115495,"creation_date":1330115495,"answer_id":9437610,"question_id":9427134,"body_markdown":"You put a Multipart in another Multipart by creating a MimeBodyPart, setting the content of that to the Multipart, and adding that body part to the first Multipart.","title":"How to nest MimeBodyParts in JavaMail (standard email messages)?","body":"<p>You put a Multipart in another Multipart by creating a MimeBodyPart, setting the content of that to the Multipart, and adding that body part to the first Multipart.</p>\n"},{"tags":[],"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697454338,"creation_date":1691605935,"answer_id":76870414,"question_id":9427134,"body_markdown":"in essence, this is what to do:\r\n\r\n\t\r\n\r\n    Message msg = new MimeMessage( session );\r\n\tmsg.setFrom( &quot;from foo&quot; );\r\n\tmsg.setRecipients( Message.RecipientType.TO, &quot;bar@bus.com&quot; );\r\n\tmsg.setSubject( &quot;subj&quot; );\r\n\r\n\tMimeMultipart altAndAtt = new MimeMultipart( &quot;mixed&quot; );\r\n\r\n\t{ // add alternative plain + html part\r\n\r\n\t\tMimeMultipart plainAndHtml = new MimeMultipart( &quot;alternative&quot; );\r\n\r\n\t\tMimeBodyPart plain = new MimeBodyPart();\r\n\t\tplain.setContent( plainBody, &quot;text/plain; charset=utf-8&quot; );\r\n\t\tplainAndHtml.addBodyPart( plain );\r\n\r\n\t\tMimeBodyPart html = new MimeBodyPart();\r\n\t\thtml.setContent( htmlBody, &quot;text/html; charset=utf-8&quot; );\r\n\t\tplainAndHtml.addBodyPart( html );\r\n\r\n\t\tMimeBodyPart wrapper = new MimeBodyPart();  // needed for nesting multipart in multipart\r\n\t\twrapper.setContent( plainAndHtml );\r\n\t\taltAndAtt.addBodyPart( wrapper );\r\n\t}\r\n\r\n\t{ // add attachment part\r\n\r\n\t\tMimeBodyPart attPart = new MimeBodyPart();\r\n\t\tattPart.attachFile( myFilePath );\r\n\r\n\t\taltAndAtt.addBodyPart( attPart );\r\n\t}\r\n\r\n\r\n\tmsg.setContent( altAndAtt );","title":"How to nest MimeBodyParts in JavaMail (standard email messages)?","body":"<p>in essence, this is what to do:</p>\n<pre><code>Message msg = new MimeMessage( session );\nmsg.setFrom( &quot;from foo&quot; );\nmsg.setRecipients( Message.RecipientType.TO, &quot;bar@bus.com&quot; );\nmsg.setSubject( &quot;subj&quot; );\n\nMimeMultipart altAndAtt = new MimeMultipart( &quot;mixed&quot; );\n\n{ // add alternative plain + html part\n\n    MimeMultipart plainAndHtml = new MimeMultipart( &quot;alternative&quot; );\n\n    MimeBodyPart plain = new MimeBodyPart();\n    plain.setContent( plainBody, &quot;text/plain; charset=utf-8&quot; );\n    plainAndHtml.addBodyPart( plain );\n\n    MimeBodyPart html = new MimeBodyPart();\n    html.setContent( htmlBody, &quot;text/html; charset=utf-8&quot; );\n    plainAndHtml.addBodyPart( html );\n\n    MimeBodyPart wrapper = new MimeBodyPart();  // needed for nesting multipart in multipart\n    wrapper.setContent( plainAndHtml );\n    altAndAtt.addBodyPart( wrapper );\n}\n\n{ // add attachment part\n\n    MimeBodyPart attPart = new MimeBodyPart();\n    attPart.attachFile( myFilePath );\n\n    altAndAtt.addBodyPart( attPart );\n}\n\n\nmsg.setContent( altAndAtt );\n</code></pre>\n"}],"owner":{"account_id":42978,"reputation":5381,"user_id":125429,"accept_rate":67,"display_name":"aloo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1697454338,"creation_date":1330069447,"question_id":9427134,"body_markdown":"I&#39;m trying to send an html email (with a text alternative) that includes an embedded/inline image using JavaMail.\r\n\r\nI wanted to see what a properly formatted message looked like so I sent one using gmail with an inline image and below is the original source. It seems as if they are nesting body parts in the message. How can I replicate this EXACTLY using javamail. I found no way to put a Multipart inside of another Multipart.\r\n\r\n&gt; MIME-Version: 1.0 Received: by 10.50.75.3 with HTTP; Thu, 23 Feb 2012\r\n&gt; 20:15:34 -0800 (PST) Date: Thu, 23 Feb 2012 20:15:34 -0800\r\n&gt; Delivered-To: x@gmail.com Message-ID:\r\n&gt; &lt;CAApOksvZBaU2WT7+=8B8J=CCN8KbxspbiisWcUEHHzQUVVWw4A@mail.gmail.com&gt;\r\n&gt; Subject: c From: Foo Bar &lt;x@gmail.com&gt; To: Foo\r\n&gt; Bar &lt;x@gmail.com&gt; Content-Type: multipart/related;\r\n&gt; boundary=e89a8f3b9b051e124104b9ae03fb\r\n&gt; \r\n&gt; --e89a8f3b9b051e124104b9ae03fb Content-Type: multipart/alternative; boundary=e89a8f3b9b051e123604b9ae03fa\r\n&gt; \r\n&gt; --e89a8f3b9b051e123604b9ae03fa Content-Type: text/plain; charset=ISO-8859-1\r\n&gt; \r\n&gt; plain text content goes here\r\n&gt; \r\n&gt; --e89a8f3b9b051e123604b9ae03fa Content-Type: text/html; charset=ISO-8859-1\r\n&gt; \r\n&gt; &lt;img src=&quot;cid:ii_135ad92205fc1ace&quot; alt=&quot;Inline image 1&quot;&gt;&lt;br&gt;\r\n&gt; \r\n&gt; --e89a8f3b9b051e123604b9ae03fa--\r\n&gt; --e89a8f3b9b051e124104b9ae03fb Content-Type: image/png; name=&quot;logo.png&quot; Content-Transfer-Encoding: base64 Content-ID:\r\n&gt; &lt;ii_135ad92205fc1ace&gt; X-Attachment-Id: ii_135ad92205fc1ace\r\n&gt; \r\n&gt; iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVR42u3ZsQnAIBBGYVtHShVI\r\n&gt; 7ViprASXcw8HMCckEGyTkB98xWsE4WvOwnMhBG/tVrGaSOU0+Q5MVhMtdWAVBlY3HCyW+7nlbhqB\r\n&gt; TiGAAAECBAhwMqB0AN8ANuUkgQzJvEPy1WP75C5AgAABAgQ4GXATAK4DUP8LOAsD87WGiIJriGj5\r\n&gt; AwiiiyDxmymtAAAAAElFTkSuQmCC\r\n&gt; --e89a8f3b9b051e124104b9ae03fb--\r\n\r\nUPDATE:\r\n\r\nUsing the standard multipart inline image methods (like those linked to by lechlukasz) produces the following email, not quite what I need:\r\n\r\n\r\n&gt; MIME-Version: 1.0 Received: by 10.236.146.106 with SMTP id\r\n&gt; q70mr1894063yhj.0.1330071158663; Fri,  24 Feb 2012 00:12:38 -0800\r\n&gt; (PST) Reply-To: Foo Bar &lt;x@z.com&gt; Message-ID:\r\n&gt; &lt;20cf303bfc80f02cfa04b9b152db@google.com&gt; Date: Fri, 24 Feb 2012\r\n&gt; 08:12:38 +0000 Subject: please oh please4 From: Foo Bar\r\n&gt; &lt;x@mailfoogae.appspotmail.com&gt; To: Foo Bar &lt;x@gmail.com&gt; Content-Type:\r\n&gt; multipart/alternative; boundary=20cf303bfc80f02ce704b9b152d6\r\n&gt; \r\n&gt; --20cf303bfc80f02ce704b9b152d6 Content-Type: text/plain; charset=UTF-8; format=flowed; delsp=yes Content-Transfer-Encoding:\r\n&gt; base64\r\n&gt; \r\n&gt; 77+9UE5HDQoaDQoAAAANCklIRFIAAAAoAAAAKAgGAAAA77+977+977+9bQAAAO+/vUlEQVR477+9\r\n&gt; 77+977+977+9Ce+/vSAgDQoQRmFbR0oVSO+/vVjvv73vv70E77+9cw8HMCckEGzvv73vv70ffO+/ vWsE77+9a++/ve+/vXMhBG/vv71W77+977+9SO+/vTTvv70OTFYTLXVgFQZWNxws77+977+977+9 77+9bhrvv71OIe+/vQABAgQIcDLvv710AO+/vQA277+9JO+/vQzvv73vv71D77+977+9Y++/ve+/\r\n&gt; vS5A77+9AAECBDgZcBMA77+9A1Dvv70LOAsD77+977+977+977+977+9a++/vWjvv70DCO+/ve+/ vSDvv73vv70p77+9AAAAAElFTkTvv71CYO+/vQ0K\r\n&gt; --20cf303bfc80f02ce704b9b152d6 Content-Type: text/html; charset=ISO-8859-1 Content-Transfer-Encoding: quoted-printable\r\n&gt; \r\n&gt; &lt;html&gt; &lt;body&gt; &lt;img src=3D&quot;cid:logo@logo.com&quot;&gt;&lt;/img&gt; &lt;/body&gt;\r\n&gt; \r\n&gt; &lt;/html&gt;\r\n&gt; \r\n&gt; --20cf303bfc80f02ce704b9b152d6--\r\n","title":"How to nest MimeBodyParts in JavaMail (standard email messages)?","body":"<p>I'm trying to send an html email (with a text alternative) that includes an embedded/inline image using JavaMail.</p>\n\n<p>I wanted to see what a properly formatted message looked like so I sent one using gmail with an inline image and below is the original source. It seems as if they are nesting body parts in the message. How can I replicate this EXACTLY using javamail. I found no way to put a Multipart inside of another Multipart.</p>\n\n<blockquote>\n  <p>MIME-Version: 1.0 Received: by 10.50.75.3 with HTTP; Thu, 23 Feb 2012\n  20:15:34 -0800 (PST) Date: Thu, 23 Feb 2012 20:15:34 -0800\n  Delivered-To: x@gmail.com Message-ID:\n  \n  Subject: c From: Foo Bar  To: Foo\n  Bar  Content-Type: multipart/related;\n  boundary=e89a8f3b9b051e124104b9ae03fb</p>\n  \n  <p>--e89a8f3b9b051e124104b9ae03fb Content-Type: multipart/alternative; boundary=e89a8f3b9b051e123604b9ae03fa</p>\n  \n  <p>--e89a8f3b9b051e123604b9ae03fa Content-Type: text/plain; charset=ISO-8859-1</p>\n  \n  <p>plain text content goes here</p>\n  \n  <p>--e89a8f3b9b051e123604b9ae03fa Content-Type: text/html; charset=ISO-8859-1</p>\n  \n  <p><br></p>\n  \n  <p>--e89a8f3b9b051e123604b9ae03fa--\n  --e89a8f3b9b051e124104b9ae03fb Content-Type: image/png; name=\"logo.png\" Content-Transfer-Encoding: base64 Content-ID:\n   X-Attachment-Id: ii_135ad92205fc1ace</p>\n  \n  <p>iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVR42u3ZsQnAIBBGYVtHShVI\n  7ViprASXcw8HMCckEGyTkB98xWsE4WvOwnMhBG/tVrGaSOU0+Q5MVhMtdWAVBlY3HCyW+7nlbhqB\n  TiGAAAECBAhwMqB0AN8ANuUkgQzJvEPy1WP75C5AgAABAgQ4GXATAK4DUP8LOAsD87WGiIJriGj5\n  AwiiiyDxmymtAAAAAElFTkSuQmCC\n  --e89a8f3b9b051e124104b9ae03fb--</p>\n</blockquote>\n\n<p>UPDATE:</p>\n\n<p>Using the standard multipart inline image methods (like those linked to by lechlukasz) produces the following email, not quite what I need:</p>\n\n<blockquote>\n  <p>MIME-Version: 1.0 Received: by 10.236.146.106 with SMTP id\n  q70mr1894063yhj.0.1330071158663; Fri,  24 Feb 2012 00:12:38 -0800\n  (PST) Reply-To: Foo Bar  Message-ID:\n  &lt;20cf303bfc80f02cfa04b9b152db@google.com> Date: Fri, 24 Feb 2012\n  08:12:38 +0000 Subject: please oh please4 From: Foo Bar\n   To: Foo Bar  Content-Type:\n  multipart/alternative; boundary=20cf303bfc80f02ce704b9b152d6</p>\n  \n  <p>--20cf303bfc80f02ce704b9b152d6 Content-Type: text/plain; charset=UTF-8; format=flowed; delsp=yes Content-Transfer-Encoding:\n  base64</p>\n  \n  <p>77+9UE5HDQoaDQoAAAANCklIRFIAAAAoAAAAKAgGAAAA77+977+977+9bQAAAO+/vUlEQVR477+9\n  77+977+977+9Ce+/vSAgDQoQRmFbR0oVSO+/vVjvv73vv70E77+9cw8HMCckEGzvv73vv70ffO+/ vWsE77+9a++/ve+/vXMhBG/vv71W77+977+9SO+/vTTvv70OTFYTLXVgFQZWNxws77+977+977+9 77+9bhrvv71OIe+/vQABAgQIcDLvv710AO+/vQA277+9JO+/vQzvv73vv71D77+977+9Y++/ve+/\n  vS5A77+9AAECBDgZcBMA77+9A1Dvv70LOAsD77+977+977+977+977+9a++/vWjvv70DCO+/ve+/ vSDvv73vv70p77+9AAAAAElFTkTvv71CYO+/vQ0K\n  --20cf303bfc80f02ce704b9b152d6 Content-Type: text/html; charset=ISO-8859-1 Content-Transfer-Encoding: quoted-printable</p>\n  \n  <p>   </p>\n  \n  <p></p>\n  \n  <p>--20cf303bfc80f02ce704b9b152d6--</p>\n</blockquote>\n"},{"tags":["java","arrays","variables","methods","return-value"],"comments":[{"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":2,"creation_date":1696945272,"post_id":77266298,"comment_id":136215405,"body_markdown":"&quot;it seems to run the method twice&quot;, yes, in the `main()` you call the method twice.","body":"&quot;it seems to run the method twice&quot;, yes, in the <code>main()</code> you call the method twice."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696945422,"creation_date":1696945422,"answer_id":77266347,"question_id":77266298,"body_markdown":"Java doesn&#39;t complain if you call a method but do nothing with its return value, so you invoke the method `player1ships()` actually twice:\r\n\r\n``` lang-java\r\nchar [][] strike = player1ships();\r\n```\r\n\r\nand \r\n``` lang-java\r\nplayer1ships();\r\n```\r\n\r\nYou can simply remove the second call of `player1ships()` (the one without assignment) as you don&#39;t use its result.","title":"Unable to save a return value from a method in Java without re-running method","body":"<p>Java doesn't complain if you call a method but do nothing with its return value, so you invoke the method <code>player1ships()</code> actually twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char [][] strike = player1ships();\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>player1ships();\n</code></pre>\n<p>You can simply remove the second call of <code>player1ships()</code> (the one without assignment) as you don't use its result.</p>\n"},{"tags":[],"owner":{"account_id":29640757,"reputation":1,"user_id":22716988,"display_name":"Junwei Zhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697453080,"creation_date":1696949045,"answer_id":77266793,"question_id":77266298,"body_markdown":"    public static void main(String[] args) {\r\n        char [][] strike = player1ships();\r\n\r\n         //This line runs the method again, which is what you don&#39;t want.\r\n         //player1ships();\r\n\r\n        //test to see if array updated\r\n        System.out.println(strike[0][0]);\r\n\r\n    }","title":"Unable to save a return value from a method in Java without re-running method","body":"<pre><code>public static void main(String[] args) {\n    char [][] strike = player1ships();\n\n     //This line runs the method again, which is what you don't want.\n     //player1ships();\n\n    //test to see if array updated\n    System.out.println(strike[0][0]);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29640477,"reputation":23,"user_id":22716776,"display_name":"Sarah Parker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696984347,"creation_date":1696984347,"answer_id":77269610,"question_id":77266298,"body_markdown":"Thank you all for your help. I removed the second player1ships(); method in my main method and the code worked great and also saved the variable appropriately for use in another method. I&#39;m sure my formatting is horrible and there is a better way to write this program, but I really appreciate all the help troubleshooting!\r\n\r\nHere is my updated code:\r\n\r\n    \tpublic static void main(String[] args) {\r\n\t\tchar [][] strike = player1ships();\r\n\t\t\r\n\t\tchar [][] boardhit1 = battle(strike);\r\n\t\t\r\n\t\t\r\n\t\t//test to see if array updated\r\n\t\tSystem.out.println(strike[0][0]);\r\n\t\tSystem.out.println(boardhit1[0][0]);","title":"Unable to save a return value from a method in Java without re-running method","body":"<p>Thank you all for your help. I removed the second player1ships(); method in my main method and the code worked great and also saved the variable appropriately for use in another method. I'm sure my formatting is horrible and there is a better way to write this program, but I really appreciate all the help troubleshooting!</p>\n<p>Here is my updated code:</p>\n<pre><code>    public static void main(String[] args) {\n    char [][] strike = player1ships();\n    \n    char [][] boardhit1 = battle(strike);\n    \n    \n    //test to see if array updated\n    System.out.println(strike[0][0]);\n    System.out.println(boardhit1[0][0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22934753,"reputation":96,"user_id":17068390,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697003044,"creation_date":1697003044,"answer_id":77270443,"question_id":77266298,"body_markdown":"In main method removing/commenting the second method call and re run the code.It working fine \r\n```\r\n{\r\n   public static void main(String[] args) {\r\n        char [][] strike = player1ships();\r\n                \r\n        \r\n        player1ships();     ----&gt; this line\r\n\r\n        \r\n        //test to see if array updated\r\n        System.out.println(strike[0][0]);\r\n        \r\n    }\r\n}\r\n```\r\nHope its working fine?","title":"Unable to save a return value from a method in Java without re-running method","body":"<p>In main method removing/commenting the second method call and re run the code.It working fine</p>\n<pre><code>{\n   public static void main(String[] args) {\n        char [][] strike = player1ships();\n                \n        \n        player1ships();     ----&gt; this line\n\n        \n        //test to see if array updated\n        System.out.println(strike[0][0]);\n        \n    }\n}\n</code></pre>\n<p>Hope its working fine?</p>\n"}],"owner":{"account_id":29640477,"reputation":23,"user_id":22716776,"display_name":"Sarah Parker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77270443,"answer_count":4,"score":0,"last_activity_date":1697453080,"creation_date":1696945066,"question_id":77266298,"body_markdown":"Brand new to coding, so sorry if this is a basic question. I&#39;m doing an assignment to program a code for the game battleship in java. \r\n\r\nI&#39;m using a method to get the user to input coordinates and then save those coordinates as an array to be used in another method. I understand that a variable within a method does not save. \r\n\r\nSo I created a return for the method and then created a new variable in my main class and set to the return value of the method. \r\n\r\n\r\n\r\n```\r\npublic static char[][] player1ships() {\r\n  System.out.println(&quot;PLAYER 1, ENTER YOUR SHIPS&#39; COORDINATES.&quot;);\r\n  Scanner input = new Scanner(System.in);\r\n  char[][] player1 = new char[5][5];\r\n  for (int i = 0; i &lt; 5; i++) {\r\n    for (int j = 0; j &lt; 5; j++) {\r\n      player1[i][j] = &#39;-&#39;;\r\n    }\r\n  }\r\n  for (int i = 1; i &lt;= 5; ) {\r\n    System.out.println(&quot;Enter location for ship &quot; + i);\r\n    int a = input.nextInt();\r\n    int b = input.nextInt();\r\n    if ((a &gt;= 0 &amp;&amp; a &lt; 5) &amp;&amp; (b &gt;= 0 &amp;&amp; b &lt; 5) &amp;&amp; (player1[a][b] == &#39;-&#39;)) {\r\n      player1[a][b] = &#39;@&#39;;\r\n      i++;\r\n    } else if ((a &gt;= 0 &amp;&amp; a &lt; 5) &amp;&amp; (a &gt;= 0 &amp;&amp; b &lt; 5) &amp;&amp; (player1[a][b] == &#39;@&#39;))\r\n      System.out.println(&quot;You can&#39;t place two or more ships on the same location&quot;);\r\n    else if ((a &lt; 0 || a &gt;= 5) || (b &lt; 0 || b &gt;= 5))\r\n      System.out.println(&quot;You can&#39;t place ships outside the &quot; + 5 + &quot; by &quot; + 5 + &quot; grid&quot;);\r\n  }\r\n  return player1;\r\n}\r\n```\r\n\r\n\r\nI want to run the method so the user enters the coordinates and then save the return array to use later. However, When I run the program it seems to run the method twice as the the output prompts the user through 2 cycles of &quot;enter location&quot;. \r\n\r\nWhen I added the test line at the end, it does print the correct symbol at the index array so it does seem to save the updated arary.\r\n\r\nSo how do I save the return as a variable without running and printing the whole method again? \r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tchar [][] strike = player1ships();\r\n\t\t\t\t\r\n\t\t\r\n\t\tplayer1ships();\r\n\r\n\t\t\r\n\t\t//test to see if array updated\r\n\t\tSystem.out.println(strike[0][0]);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nThis is the result of the program running...and going through the player1ships method twice instead of once. \r\n\r\n[showing how it prompts user through two cycles before printing out the last line](https://i.stack.imgur.com/ilHy4.png)\r\n\r\n\r\n","title":"Unable to save a return value from a method in Java without re-running method","body":"<p>Brand new to coding, so sorry if this is a basic question. I'm doing an assignment to program a code for the game battleship in java.</p>\n<p>I'm using a method to get the user to input coordinates and then save those coordinates as an array to be used in another method. I understand that a variable within a method does not save.</p>\n<p>So I created a return for the method and then created a new variable in my main class and set to the return value of the method.</p>\n<pre><code>public static char[][] player1ships() {\n  System.out.println(&quot;PLAYER 1, ENTER YOUR SHIPS' COORDINATES.&quot;);\n  Scanner input = new Scanner(System.in);\n  char[][] player1 = new char[5][5];\n  for (int i = 0; i &lt; 5; i++) {\n    for (int j = 0; j &lt; 5; j++) {\n      player1[i][j] = '-';\n    }\n  }\n  for (int i = 1; i &lt;= 5; ) {\n    System.out.println(&quot;Enter location for ship &quot; + i);\n    int a = input.nextInt();\n    int b = input.nextInt();\n    if ((a &gt;= 0 &amp;&amp; a &lt; 5) &amp;&amp; (b &gt;= 0 &amp;&amp; b &lt; 5) &amp;&amp; (player1[a][b] == '-')) {\n      player1[a][b] = '@';\n      i++;\n    } else if ((a &gt;= 0 &amp;&amp; a &lt; 5) &amp;&amp; (a &gt;= 0 &amp;&amp; b &lt; 5) &amp;&amp; (player1[a][b] == '@'))\n      System.out.println(&quot;You can't place two or more ships on the same location&quot;);\n    else if ((a &lt; 0 || a &gt;= 5) || (b &lt; 0 || b &gt;= 5))\n      System.out.println(&quot;You can't place ships outside the &quot; + 5 + &quot; by &quot; + 5 + &quot; grid&quot;);\n  }\n  return player1;\n}\n</code></pre>\n<p>I want to run the method so the user enters the coordinates and then save the return array to use later. However, When I run the program it seems to run the method twice as the the output prompts the user through 2 cycles of &quot;enter location&quot;.</p>\n<p>When I added the test line at the end, it does print the correct symbol at the index array so it does seem to save the updated arary.</p>\n<p>So how do I save the return as a variable without running and printing the whole method again?</p>\n<pre><code>    public static void main(String[] args) {\n        char [][] strike = player1ships();\n                \n        \n        player1ships();\n\n        \n        //test to see if array updated\n        System.out.println(strike[0][0]);\n        \n    }\n}\n</code></pre>\n<p>This is the result of the program running...and going through the player1ships method twice instead of once.</p>\n<p><a href=\"https://i.stack.imgur.com/ilHy4.png\" rel=\"nofollow noreferrer\">showing how it prompts user through two cycles before printing out the last line</a></p>\n"},{"tags":["java","android","admob","google-play-console","google-advertising-id"],"answers":[{"tags":[],"owner":{"account_id":11088293,"reputation":441,"user_id":8141149,"display_name":"Bruno Morais"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1647291093,"creation_date":1647291093,"answer_id":71474103,"question_id":71473553,"body_markdown":"Google describe here how to solve\r\n\r\nhttps://support.google.com/googleplay/android-developer/answer/6048248?hl=en\r\n\r\nAdd in manifest\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;","title":"Action requested: Declare your Ad ID permission","body":"<p>Google describe here how to solve</p>\n<p><a href=\"https://support.google.com/googleplay/android-developer/answer/6048248?hl=en\" rel=\"noreferrer\">https://support.google.com/googleplay/android-developer/answer/6048248?hl=en</a></p>\n<p>Add in manifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18957297,"reputation":881,"user_id":13833609,"display_name":"ABDERRAHMANE OUALI"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1647291346,"creation_date":1647291346,"answer_id":71474159,"question_id":71473553,"body_markdown":"If your app uses the Google Mobile Ads SDK(**Admob**) version&#160;**20.4.0**&#160;or higher, you can skip setting up the permission manually since the SDK automatically declares it\r\n\r\nMore informations here:\r\n\r\n\r\nhttps://developers.google.com/admob/android/quick-start","title":"Action requested: Declare your Ad ID permission","body":"<p>If your app uses the Google Mobile Ads SDK(<strong>Admob</strong>) version<strong>20.4.0</strong>or higher, you can skip setting up the permission manually since the SDK automatically declares it</p>\n<p>More informations here:</p>\n<p><a href=\"https://developers.google.com/admob/android/quick-start\" rel=\"noreferrer\">https://developers.google.com/admob/android/quick-start</a></p>\n"},{"tags":[],"owner":{"account_id":9190126,"reputation":422,"user_id":6830970,"display_name":"Umeshkumar D."},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1647319949,"creation_date":1647319949,"answer_id":71477230,"question_id":71473553,"body_markdown":"Don&#39;t worry. All developer who uses Admob for advertisement received this warning. Just make sure you are using **Latest** Google Mobile Ads SDK(Admob) OR AdMob SDK version **higher or equal to 20.4.0** in your `build.gradle` file. In that case **SDK automatically manage it**.\r\n\r\nOtherwise **for older sdk below 20.4.0**, we need to manually mention below line in our AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;","title":"Action requested: Declare your Ad ID permission","body":"<p>Don't worry. All developer who uses Admob for advertisement received this warning. Just make sure you are using <strong>Latest</strong> Google Mobile Ads SDK(Admob) OR AdMob SDK version <strong>higher or equal to 20.4.0</strong> in your <code>build.gradle</code> file. In that case <strong>SDK automatically manage it</strong>.</p>\n<p>Otherwise <strong>for older sdk below 20.4.0</strong>, we need to manually mention below line in our AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14800658,"reputation":1767,"user_id":10688995,"display_name":"Jai Techie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647351472,"creation_date":1647327178,"answer_id":71478062,"question_id":71473553,"body_markdown":"I also received today&#39;s mail from the PlayStore team to all developers. Asking to declare AD_ID permission.\r\nSince we developed and released our application using `Flutter` with android targeting to API level 31. I&#39;m using the `advertising_identifier: ^0.1.1` plugin to get the advertising client ID. I haven&#39;t declared AD_ID permission in my manifest file.\r\n\r\nAdditionally, apps updating their target API level to 31 (Android 12) and using advertise identifier / advertise id client info fetch will need to declare a Google Play services normal permission in the manifest file as follows:\r\n\r\n`&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;`\r\n\r\nRefered,\r\n\r\nhttps://support.google.com/googleplay/android-developer/answer/6048248?hl=en\r\n","title":"Action requested: Declare your Ad ID permission","body":"<p>I also received today's mail from the PlayStore team to all developers. Asking to declare AD_ID permission.\nSince we developed and released our application using <code>Flutter</code> with android targeting to API level 31. I'm using the <code>advertising_identifier: ^0.1.1</code> plugin to get the advertising client ID. I haven't declared AD_ID permission in my manifest file.</p>\n<p>Additionally, apps updating their target API level to 31 (Android 12) and using advertise identifier / advertise id client info fetch will need to declare a Google Play services normal permission in the manifest file as follows:</p>\n<p><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;</code></p>\n<p>Refered,</p>\n<p><a href=\"https://support.google.com/googleplay/android-developer/answer/6048248?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/6048248?hl=en</a></p>\n"},{"tags":[],"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"down_vote_count":1,"up_vote_count":160,"is_accepted":false,"score":159,"last_activity_date":1671431491,"creation_date":1658900605,"answer_id":73132765,"question_id":71473553,"body_markdown":"### Case 1: The app doesn&#39;t contain any Ads:\r\nYou can simply remove/ignore it by adding **`tools:node=&quot;remove&quot;`** in the `AndroidManifest.xml` file.\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\r\n\r\nMake sure you have `xmlns:tools` at the top of `AndroidManifest.xml` file\r\n\r\nEven if another third-party library asks for this specific permission, the build will be forced not to merge it in your final Manifest file.\r\nYou can get more info [from this SO answer.][1]\r\n\r\n---\r\n\r\n### Case 2: The app contains Ads:\r\n\r\nAdd the following to `AndroidManifest.xml` before `&lt;/manifest&gt;`:\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\r\n\r\n\r\nYou can get more information [from here.][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39353246/2289835\r\n  [2]: https://support.google.com/googleplay/android-developer/answer/6048248","title":"Action requested: Declare your Ad ID permission","body":"<h3>Case 1: The app doesn't contain any Ads:</h3>\n<p>You can simply remove/ignore it by adding <strong><code>tools:node=&quot;remove&quot;</code></strong> in the <code>AndroidManifest.xml</code> file.</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\n</code></pre>\n<p>Make sure you have <code>xmlns:tools</code> at the top of <code>AndroidManifest.xml</code> file</p>\n<p>Even if another third-party library asks for this specific permission, the build will be forced not to merge it in your final Manifest file.\nYou can get more info <a href=\"https://stackoverflow.com/a/39353246/2289835\">from this SO answer.</a></p>\n<hr />\n<h3>Case 2: The app contains Ads:</h3>\n<p>Add the following to <code>AndroidManifest.xml</code> before <code>&lt;/manifest&gt;</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\n</code></pre>\n<p>You can get more information <a href=\"https://support.google.com/googleplay/android-developer/answer/6048248\" rel=\"noreferrer\">from here.</a></p>\n"},{"tags":[],"owner":{"account_id":2687501,"reputation":26349,"user_id":2321594,"display_name":"Aidin"},"down_vote_count":2,"up_vote_count":82,"is_accepted":false,"score":80,"last_activity_date":1664571819,"creation_date":1659127210,"answer_id":73170802,"question_id":71473553,"body_markdown":"### Case 1: Your App has Ads\r\nAdd the following to `AndroidManifest.xml` before `&lt;/manifest&gt;`:\r\n```xml\r\n&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\r\n```\r\n\r\n### Case 2: Your App Doesn&#39;t have Ads\r\nAt the top of your `AndroidManifest.xml` make sure you have `xmlns:tools` on the `&lt;manifest ...`&gt;. (kudos to [this answer][1]) e.g.\r\n```xml\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\txmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.mycompany.myapp&quot;&gt;\r\n```\r\nThen, add the following at the bottom of the page, before `&lt;/manifest&gt;` tag:\r\n```xml\r\n\t&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\r\n```\r\n\r\n### Source:\r\n* Google&#39;s Doc: https://developers.google.com/android/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.Info#public-methods\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/55363172/2321594","title":"Action requested: Declare your Ad ID permission","body":"<h3>Case 1: Your App has Ads</h3>\n<p>Add the following to <code>AndroidManifest.xml</code> before <code>&lt;/manifest&gt;</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot;/&gt;\n</code></pre>\n<h3>Case 2: Your App Doesn't have Ads</h3>\n<p>At the top of your <code>AndroidManifest.xml</code> make sure you have <code>xmlns:tools</code> on the <code>&lt;manifest ...</code>&gt;. (kudos to <a href=\"https://stackoverflow.com/a/55363172/2321594\">this answer</a>) e.g.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.mycompany.myapp&quot;&gt;\n</code></pre>\n<p>Then, add the following at the bottom of the page, before <code>&lt;/manifest&gt;</code> tag:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\n</code></pre>\n<h3>Source:</h3>\n<ul>\n<li>Google's Doc: <a href=\"https://developers.google.com/android/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.Info#public-methods\" rel=\"noreferrer\">https://developers.google.com/android/reference/com/google/android/gms/ads/identifier/AdvertisingIdClient.Info#public-methods</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1468853,"reputation":3627,"user_id":1380933,"display_name":"Vadik Sirekanyan"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1672181144,"creation_date":1660768428,"answer_id":73394605,"question_id":71473553,"body_markdown":"If your app doesn&#39;t contain ads, make sure you complete the survey on [App content](https://play.google.com/console/app/app-content/summary) page (Policy &gt; App content) in Play Console.\r\n\r\nJust select the option: **No, my app does not contain ads**.\r\n\r\nIf you don&#39;t do that, you won&#39;t be able to upload new releases of your app to Google Play.\r\n\r\n[![Google Play Console Ad Selector Location][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wAXm7.png","title":"Action requested: Declare your Ad ID permission","body":"<p>If your app doesn't contain ads, make sure you complete the survey on <a href=\"https://play.google.com/console/app/app-content/summary\" rel=\"noreferrer\">App content</a> page (Policy &gt; App content) in Play Console.</p>\n<p>Just select the option: <strong>No, my app does not contain ads</strong>.</p>\n<p>If you don't do that, you won't be able to upload new releases of your app to Google Play.</p>\n<p><a href=\"https://i.stack.imgur.com/wAXm7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wAXm7.png\" alt=\"Google Play Console Ad Selector Location\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18558592,"reputation":1060,"user_id":13523077,"display_name":"Abu Saeed"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1662786387,"creation_date":1662786387,"answer_id":73669418,"question_id":71473553,"body_markdown":"First of all,&lt;br&gt;\r\n`com.google.android.gms.permission.AD_ID` can be added by other third party SDK like \r\n\r\n - `Play Services-ads`\r\n - `firebase-analytics` etc&lt;br&gt;\r\n\r\nSo, if you haven&#39;t added `permission.AD_ID` manually, make sure it is not added by any other SDK by checking `merged manifest` file.&lt;br&gt;&lt;br&gt;\r\n`merged-manifest` path:&lt;br&gt;\r\n`project` &gt; `app` &gt; `build` &gt; `intermediate` &gt; `merged_manifest` &gt; `release` &gt; `AndroidManifest.xml` &lt;br&gt;&lt;br&gt;\r\nNow go to your `play console` &gt; `app content` &gt; `Adverstising ID` and \r\n\r\n - Select `NO` if your merged manifest doesn&#39;t contain `AD_ID`, else\r\n - Select `YES` and complete next option.\r\n","title":"Action requested: Declare your Ad ID permission","body":"<p>First of all,<br>\n<code>com.google.android.gms.permission.AD_ID</code> can be added by other third party SDK like</p>\n<ul>\n<li><code>Play Services-ads</code></li>\n<li><code>firebase-analytics</code> etc<br></li>\n</ul>\n<p>So, if you haven't added <code>permission.AD_ID</code> manually, make sure it is not added by any other SDK by checking <code>merged manifest</code> file.<br><br>\n<code>merged-manifest</code> path:<br>\n<code>project</code> &gt; <code>app</code> &gt; <code>build</code> &gt; <code>intermediate</code> &gt; <code>merged_manifest</code> &gt; <code>release</code> &gt; <code>AndroidManifest.xml</code> <br><br>\nNow go to your <code>play console</code> &gt; <code>app content</code> &gt; <code>Adverstising ID</code> and</p>\n<ul>\n<li>Select <code>NO</code> if your merged manifest doesn't contain <code>AD_ID</code>, else</li>\n<li>Select <code>YES</code> and complete next option.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4997462,"reputation":9987,"user_id":4017501,"accept_rate":62,"display_name":"cutiko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1665605943,"creation_date":1665605943,"answer_id":74047610,"question_id":71473553,"body_markdown":"There are two different forms:\r\n\r\n 1. Ads\r\n 2. Advertising ID\r\n\r\nInitially, I got stuck because I did not notice the other. So your app can be in any combination, for example, no ads, but yes, advertising ID.\r\n\r\nIn this [documentation][1] it is explained that Google services can include the advertising ID for other reasons that are not ads: Analytics.\r\n\r\n\r\n&gt; Google Play Services version 4.0 introduced new APIs and an ID for use by advertising and analytics providers. Terms for the use of this ID are below.\r\n\r\nAnd in this other [documentation][2], in the examples section is very clear that ads are understood as what is commonly understood as ads: banners, pop-ups, a tile in the middle of a list, etc.\r\n\r\nAnalyzing the merged manifest we can see that the library `\r\nplay-services-measurement-api` is adding the permission and is related to Analytics. The library manifest looks like this:\r\n\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt;\r\n\r\n    &lt;application&gt;\r\n        &lt;service\r\n            android:name=&quot;com.google.firebase.components.ComponentDiscoveryService&quot;\r\n            android:exported=&quot;false&quot; &gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.firebase.components:com.google.firebase.analytics.connector.internal.AnalyticsConnectorRegistrar&quot;\r\n                android:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\r\n        &lt;/service&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\nPlease notice that library is registering `analytics.connector.internal.AnalyticsConnectorRegistrar`.\r\n\r\nIn this case the Ads form must be mark with no but the Adverising ID form must be mark with yes and then the Analytics option.\r\n\r\nI have seen people recommending force the manifest to not merge the `permission.AD_ID` but that would break the Analytics.\r\n\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/9857753\r\n  [2]: https://support.google.com/googleplay/android-developer/answer/9859455?visit_id=638011990045978863-3874455370&amp;rd=1#ads","title":"Action requested: Declare your Ad ID permission","body":"<p>There are two different forms:</p>\n<ol>\n<li>Ads</li>\n<li>Advertising ID</li>\n</ol>\n<p>Initially, I got stuck because I did not notice the other. So your app can be in any combination, for example, no ads, but yes, advertising ID.</p>\n<p>In this <a href=\"https://support.google.com/googleplay/android-developer/answer/9857753\" rel=\"noreferrer\">documentation</a> it is explained that Google services can include the advertising ID for other reasons that are not ads: Analytics.</p>\n<blockquote>\n<p>Google Play Services version 4.0 introduced new APIs and an ID for use by advertising and analytics providers. Terms for the use of this ID are below.</p>\n</blockquote>\n<p>And in this other <a href=\"https://support.google.com/googleplay/android-developer/answer/9859455?visit_id=638011990045978863-3874455370&amp;rd=1#ads\" rel=\"noreferrer\">documentation</a>, in the examples section is very clear that ads are understood as what is commonly understood as ads: banners, pop-ups, a tile in the middle of a list, etc.</p>\n<p>Analyzing the merged manifest we can see that the library <code> play-services-measurement-api</code> is adding the permission and is related to Analytics. The library manifest looks like this:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; /&gt;\n\n    &lt;application&gt;\n        &lt;service\n            android:name=&quot;com.google.firebase.components.ComponentDiscoveryService&quot;\n            android:exported=&quot;false&quot; &gt;\n            &lt;meta-data\n                android:name=&quot;com.google.firebase.components:com.google.firebase.analytics.connector.internal.AnalyticsConnectorRegistrar&quot;\n                android:value=&quot;com.google.firebase.components.ComponentRegistrar&quot; /&gt;\n        &lt;/service&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>Please notice that library is registering <code>analytics.connector.internal.AnalyticsConnectorRegistrar</code>.</p>\n<p>In this case the Ads form must be mark with no but the Adverising ID form must be mark with yes and then the Analytics option.</p>\n<p>I have seen people recommending force the manifest to not merge the <code>permission.AD_ID</code> but that would break the Analytics.</p>\n"},{"tags":[],"owner":{"account_id":10494317,"reputation":2364,"user_id":7735112,"accept_rate":77,"display_name":"Cyber"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1667057439,"creation_date":1667057439,"answer_id":74246551,"question_id":71473553,"body_markdown":"In my case, I used `Firebase Analytics` only for crash reports etc. \r\n\r\n**You can set your app to use advertising ID.** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n**And use Analytics only.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R4qM3.png\r\n  [2]: https://i.stack.imgur.com/ji29h.png","title":"Action requested: Declare your Ad ID permission","body":"<p>In my case, I used <code>Firebase Analytics</code> only for crash reports etc.</p>\n<p><strong>You can set your app to use advertising ID.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/R4qM3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R4qM3.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>And use Analytics only.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ji29h.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ji29h.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16801616,"reputation":544,"user_id":12936324,"display_name":"Jayesh Dankhara"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1669132286,"creation_date":1669132286,"answer_id":74535439,"question_id":71473553,"body_markdown":"when you set `targetSdkVersion 33` you must need to add the below line in the manifest file\r\n\r\n    &lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\r\n\r\nif you are not set this, show a warning on the play console when your is in production.","title":"Action requested: Declare your Ad ID permission","body":"<p>when you set <code>targetSdkVersion 33</code> you must need to add the below line in the manifest file</p>\n<pre><code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;\n</code></pre>\n<p>if you are not set this, show a warning on the play console when your is in production.</p>\n"},{"tags":[],"owner":{"account_id":4730340,"reputation":6453,"user_id":3826175,"display_name":"mikep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697452827,"creation_date":1697452827,"answer_id":77301278,"question_id":71473553,"body_markdown":"In case this is caused by for example firebase analytics which uses Advertising ID do not use `&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;` as shown in many other answers because analytics may not work correctly. Rather update declaration in Play Store Console that your app uses Advertising ID and select Analytics as reason. This will not add &quot;App contains add&quot; sentence for your app in Play Store.","title":"Action requested: Declare your Ad ID permission","body":"<p>In case this is caused by for example firebase analytics which uses Advertising ID do not use <code>&lt;uses-permission android:name=&quot;com.google.android.gms.permission.AD_ID&quot; tools:node=&quot;remove&quot;/&gt;</code> as shown in many other answers because analytics may not work correctly. Rather update declaration in Play Store Console that your app uses Advertising ID and select Analytics as reason. This will not add &quot;App contains add&quot; sentence for your app in Play Store.</p>\n"}],"owner":{"account_id":23288910,"reputation":1381,"user_id":17371284,"display_name":"Abdullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134707,"favorite_count":0,"down_vote_count":2,"up_vote_count":134,"accepted_answer_id":71474159,"answer_count":12,"score":132,"last_activity_date":1697452827,"creation_date":1647287915,"question_id":71473553,"body_markdown":"Today i have got this email:\r\n\r\n&gt; Last July, we announced Advertising policy changes to help bolster\r\n&gt; security and privacy. We added new restrictions on identifiers used by\r\n&gt; apps that target children. When users choose to delete their\r\n&gt; advertising ID in order to opt out of personalization advertising,\r\n&gt; developers will receive a string of zeros instead of the identifier if\r\n&gt; they attempt to access the identifier. This behavior will extend to\r\n&gt; phones, tablets, and Android TV starting April 1, 2022. We also\r\n&gt; announced that you need to declare an AD_ID permission when you update\r\n&gt; your app targeting API level to 31 (Android 12). Today, we are sharing\r\n&gt; that we will give developers more time to ease the transition. We will\r\n&gt; require this permission declaration when your apps are able to target\r\n&gt; Android 13 instead of starting with Android 12.\r\n&gt; \r\n&gt; Action Items If you use an advertising ID, you must declare the AD_ID\r\n&gt; Permission when your app targets Android 13 or above. Apps that dont\r\n&gt; declare the permission will get a string of zeros. Note: Youll be\r\n&gt; able to target Android 13 later this year. If your app uses an SDK\r\n&gt; that has declared the Ad ID permission, it will acquire the permission\r\n&gt; declaration through manifest merge. If your apps target audience\r\n&gt; includes children, you must not transmit Android Advertising ID (AAID)\r\n&gt; from children or users of unknown age.\r\n\r\nMy app is not using the Advertising ID. Should i declare the `AD_ID` Permission in Manifest or not?","title":"Action requested: Declare your Ad ID permission","body":"<p>Today i have got this email:</p>\n<blockquote>\n<p>Last July, we announced Advertising policy changes to help bolster\nsecurity and privacy. We added new restrictions on identifiers used by\napps that target children. When users choose to delete their\nadvertising ID in order to opt out of personalization advertising,\ndevelopers will receive a string of zeros instead of the identifier if\nthey attempt to access the identifier. This behavior will extend to\nphones, tablets, and Android TV starting April 1, 2022. We also\nannounced that you need to declare an AD_ID permission when you update\nyour app targeting API level to 31 (Android 12). Today, we are sharing\nthat we will give developers more time to ease the transition. We will\nrequire this permission declaration when your apps are able to target\nAndroid 13 instead of starting with Android 12.</p>\n<p>Action Items If you use an advertising ID, you must declare the AD_ID\nPermission when your app targets Android 13 or above. Apps that dont\ndeclare the permission will get a string of zeros. Note: Youll be\nable to target Android 13 later this year. If your app uses an SDK\nthat has declared the Ad ID permission, it will acquire the permission\ndeclaration through manifest merge. If your apps target audience\nincludes children, you must not transmit Android Advertising ID (AAID)\nfrom children or users of unknown age.</p>\n</blockquote>\n<p>My app is not using the Advertising ID. Should i declare the <code>AD_ID</code> Permission in Manifest or not?</p>\n"},{"tags":["java","webdriver","cucumber","bdd"],"answers":[{"tags":[],"owner":{"account_id":2350161,"reputation":592,"user_id":2059251,"accept_rate":75,"display_name":"Tyler MacMillan"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1440794949,"creation_date":1440794949,"answer_id":32279556,"question_id":32245825,"body_markdown":"When using a Scenario Outline, you need to provide an &quot;Examples&quot; section. In this case, it looks like you don&#39;t need a scenario outline at all, so:\r\n\r\n    Feature: Search India on BBC website and verify search.\r\n\r\n      @Search\r\n      Scenario: Search India on BBC website and verify it.\r\n        Given I open the firefox browser\r\n        And I navigating to BBc website\r\n        Then I click at search textbox\r\n        And I enter &quot;India&quot; in search textbox\r\n        And I click at Search button\r\n        Then I should be taken to search page\r\n        And I verify India on search page\r\n\r\nIf you do need a scenario outline, you want something like:\r\n\r\n    Feature: Search India on BBC website and verify search.\r\n\r\n      @Search\r\n      Scenario Outline: Search India on BBC website and verify it.\r\n        Given I open the firefox browser\r\n        And I navigating to BBc website\r\n        Then I click at search textbox\r\n        And I enter &quot;&lt;country&gt;&quot; in search textbox\r\n        And I click at Search button\r\n        Then I should be taken to search page\r\n        And I verify &lt;country&gt; on search page\r\n\r\n      Examples:\r\n        | country |\r\n        | India   |\r\n        | China   |","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>When using a Scenario Outline, you need to provide an \"Examples\" section. In this case, it looks like you don't need a scenario outline at all, so:</p>\n\n<pre><code>Feature: Search India on BBC website and verify search.\n\n  @Search\n  Scenario: Search India on BBC website and verify it.\n    Given I open the firefox browser\n    And I navigating to BBc website\n    Then I click at search textbox\n    And I enter \"India\" in search textbox\n    And I click at Search button\n    Then I should be taken to search page\n    And I verify India on search page\n</code></pre>\n\n<p>If you do need a scenario outline, you want something like:</p>\n\n<pre><code>Feature: Search India on BBC website and verify search.\n\n  @Search\n  Scenario Outline: Search India on BBC website and verify it.\n    Given I open the firefox browser\n    And I navigating to BBc website\n    Then I click at search textbox\n    And I enter \"&lt;country&gt;\" in search textbox\n    And I click at Search button\n    Then I should be taken to search page\n    And I verify &lt;country&gt; on search page\n\n  Examples:\n    | country |\n    | India   |\n    | China   |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1604783,"reputation":1,"user_id":1485084,"display_name":"user1485084"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544100657,"creation_date":1544100657,"answer_id":53651887,"question_id":32245825,"body_markdown":"This was really useful.. I had the same error and after removing the space between the text Scenario and Colon. it would be useful if IDEshows the error to correct it ??\r\nScenario:\r\nand no colon after Given Just to let you know.\r\nScenario Outline: Login with correct username and password\r\n    Given I navigate to Login Page\r\n    And  I enter &lt; username &gt; and &lt; password &gt;\r\n    And  I click login button\r\n    Then I should see the userform Page\r\n\r\n\r\n    Examples:\r\n      | username                   | password  |\r\n   \r\n      | apple                      | passapple |\r\n      | ball                       | passball  |\r\n      | cat                        | passcat   |","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>This was really useful.. I had the same error and after removing the space between the text Scenario and Colon. it would be useful if IDEshows the error to correct it ??\nScenario:\nand no colon after Given Just to let you know.\nScenario Outline: Login with correct username and password\n    Given I navigate to Login Page\n    And  I enter &lt; username > and &lt; password >\n    And  I click login button\n    Then I should see the userform Page</p>\n\n<pre><code>Examples:\n  | username                   | password  |\n\n  | apple                      | passapple |\n  | ball                       | passball  |\n  | cat                        | passcat   |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4612886,"reputation":565,"user_id":3740432,"accept_rate":0,"display_name":"Afsar Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551546279,"creation_date":1551546279,"answer_id":54960904,"question_id":32245825,"body_markdown":"I had similar issue .After removing the space between (:) semi colon and Feature, Scenario ,Scenario-outline etc.. My error resolved .\r\n\r\ne.g :\r\n\r\n    Feature: Call all APIs Incidents, Services\r\n         Scenario: Create POST call and verify data \r\n             Given user_has_a_list_of_products\r\n             When we_can_get_a_list_of_product_details\r\nand ,\r\n    \r\n        Feature: Call all APIs Incidents, Services\r\n         Scenario Outline: Create POST call and verify data \r\n             Given user_has_a_list_of_products &lt;usertype&gt;\r\n             When we_can_get_a_list_of_product_details\r\n          \r\n            Examples:\r\n                | usertype     |\r\n                | Domestic     |\r\n","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>I had similar issue .After removing the space between (:) semi colon and Feature, Scenario ,Scenario-outline etc.. My error resolved .</p>\n\n<p>e.g :</p>\n\n<pre><code>Feature: Call all APIs Incidents, Services\n     Scenario: Create POST call and verify data \n         Given user_has_a_list_of_products\n         When we_can_get_a_list_of_product_details\n</code></pre>\n\n<p>and ,</p>\n\n<pre><code>    Feature: Call all APIs Incidents, Services\n     Scenario Outline: Create POST call and verify data \n         Given user_has_a_list_of_products &lt;usertype&gt;\n         When we_can_get_a_list_of_product_details\n\n        Examples:\n            | usertype     |\n            | Domestic     |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2730143,"reputation":1148,"user_id":2354110,"accept_rate":33,"display_name":"skb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568381671,"creation_date":1568381671,"answer_id":57924648,"question_id":32245825,"body_markdown":"Consider the below scenario - \r\n\r\n`Feature: Booking Confirmation Page\r\n Scenario: Verify the Page components\r\n    Given that a customer is on the &quot;BookingConfirmation&quot; page\r\n    When the customer views the Page\r\n    Then they should be able to view the following :\r\n      | Header | BookingId | Passengers name | Date of travel | Time of travel | \r\n      |Bus details | Total amount paid |Destination name|Destination Image|\r\n      |Time to reach destination | Footer|`\r\n\r\n\r\nIf you specify the values to verify in 2nd line as shown it will give a parse error. When you copy the above and paste in the editor it will not show you any error. But when you run it it will give the parse error. So we need to specify the value to verify in a single line even if it doesn&#39;t fit in the editor\r\n\r\nSo the scenario will be as below\r\n\r\n`Scenario: Verify the Page components\r\n    Given that a customer is on the &quot;BookingConfirmation&quot; page\r\n    When the customer views the Page\r\n    Then they should be able to view the following :\r\n      | Header | BookingId | Passengers name | Date of travel | Time of travel | Bus details | Total amount paid |Destination name|Destination Image|Time to reach destination |Footer|`\r\n","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>Consider the below scenario - </p>\n\n<p><code>Feature: Booking Confirmation Page\n Scenario: Verify the Page components\n    Given that a customer is on the \"BookingConfirmation\" page\n    When the customer views the Page\n    Then they should be able to view the following :\n      | Header | BookingId | Passengers name | Date of travel | Time of travel | \n      |Bus details | Total amount paid |Destination name|Destination Image|\n      |Time to reach destination | Footer|</code></p>\n\n<p>If you specify the values to verify in 2nd line as shown it will give a parse error. When you copy the above and paste in the editor it will not show you any error. But when you run it it will give the parse error. So we need to specify the value to verify in a single line even if it doesn't fit in the editor</p>\n\n<p>So the scenario will be as below</p>\n\n<p><code>Scenario: Verify the Page components\n    Given that a customer is on the \"BookingConfirmation\" page\n    When the customer views the Page\n    Then they should be able to view the following :\n      | Header | BookingId | Passengers name | Date of travel | Time of travel | Bus details | Total amount paid |Destination name|Destination Image|Time to reach destination |Footer|</code></p>\n"},{"tags":[],"owner":{"account_id":13694686,"reputation":1029,"user_id":9881679,"display_name":"Adrian Jimenez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579915637,"creation_date":1579915637,"answer_id":59905608,"question_id":32245825,"body_markdown":"make sure you only have word Feature once","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>make sure you only have word Feature once</p>\n"},{"tags":[],"owner":{"account_id":17205166,"reputation":9,"user_id":13049360,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610447423,"creation_date":1610447423,"answer_id":65682129,"question_id":32245825,"body_markdown":"I also faced this issue. In my case, I missed one pipe &#39;|&#39; in one of my data table. after adding it, issue resolved. data table (or sometime in Example)\r\n\r\n    Issue:\r\n          | feed.title            |\r\n          | feed.updated          \r\n          | feed.author.name      |\r\n    \r\n    Corrected(added pipe in 2nd data) as:\r\n          | feed.title            |\r\n          | feed.updated          |\r\n          | feed.author.name      |","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>I also faced this issue. In my case, I missed one pipe '|' in one of my data table. after adding it, issue resolved. data table (or sometime in Example)</p>\n<pre><code>Issue:\n      | feed.title            |\n      | feed.updated          \n      | feed.author.name      |\n\nCorrected(added pipe in 2nd data) as:\n      | feed.title            |\n      | feed.updated          |\n      | feed.author.name      |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22495757,"reputation":1,"user_id":16692766,"display_name":"Fadly Mahendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629251420,"creation_date":1629251420,"answer_id":68825690,"question_id":32245825,"body_markdown":"I got same error message, then I realized that someone add comment to the gherkin step using `//`. It should be using `#`","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>I got same error message, then I realized that someone add comment to the gherkin step using <code>//</code>. It should be using <code>#</code></p>\n"},{"tags":[],"owner":{"account_id":23678431,"reputation":78,"user_id":17704327,"display_name":"Muhammad Farooq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640245794,"creation_date":1640240996,"answer_id":70458443,"question_id":32245825,"body_markdown":"\r\nThe issue is that you used &quot;Scenario Outline&quot; instead of &quot;Scenario&quot;. So you just need to remove &quot;Outline&quot; than you are good to go. \r\n\r\n    @Search    \r\n    Scenario: Search India on BBC website and verify it\r\n    Given I open the firefox browser\r\n    And I navigating to BBc website\r\n    Then I click at search textbox\r\n    And I enter &quot;India&quot; in search textbox\r\n    And I click at Search button\r\n    Then I should be taken to search page\r\n    And I verify &quot;India&quot; on search page\r\n\r\nBut if you want to execute the same scenario against multiple input than you choose the right thing i.e. &quot;Scenario Outline:&quot; just need to add Examples there like: \r\n\r\n    @Search\r\n      Scenario Outline: Search India on BBC website and verify it.\r\n        Given I open the firefox browser\r\n        And I navigating to BBc website\r\n        Then I click at search textbox\r\n        And I enter &lt;country&gt; in search textbox\r\n        And I click at Search button\r\n        Then I should be taken to search page\r\n        And I verify &lt;country&gt; on search page\r\n        Examples:\r\n        | country |\r\n        | &quot;India&quot; |\r\n        | &quot;UK&quot;    |\r\n\r\n","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>The issue is that you used &quot;Scenario Outline&quot; instead of &quot;Scenario&quot;. So you just need to remove &quot;Outline&quot; than you are good to go.</p>\n<pre><code>@Search    \nScenario: Search India on BBC website and verify it\nGiven I open the firefox browser\nAnd I navigating to BBc website\nThen I click at search textbox\nAnd I enter &quot;India&quot; in search textbox\nAnd I click at Search button\nThen I should be taken to search page\nAnd I verify &quot;India&quot; on search page\n</code></pre>\n<p>But if you want to execute the same scenario against multiple input than you choose the right thing i.e. &quot;Scenario Outline:&quot; just need to add Examples there like:</p>\n<pre><code>@Search\n  Scenario Outline: Search India on BBC website and verify it.\n    Given I open the firefox browser\n    And I navigating to BBc website\n    Then I click at search textbox\n    And I enter &lt;country&gt; in search textbox\n    And I click at Search button\n    Then I should be taken to search page\n    And I verify &lt;country&gt; on search page\n    Examples:\n    | country |\n    | &quot;India&quot; |\n    | &quot;UK&quot;    |\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19059063,"reputation":17,"user_id":13915555,"display_name":"Bhupender singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697452804,"creation_date":1697452804,"answer_id":77301276,"question_id":32245825,"body_markdown":"Resolved this issue after added the missing pipe symbol.","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>Resolved this issue after added the missing pipe symbol.</p>\n"}],"owner":{"account_id":3471902,"reputation":257,"user_id":2905999,"accept_rate":73,"display_name":"SKumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70542,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32279556,"answer_count":9,"score":3,"last_activity_date":1697452804,"creation_date":1440668304,"question_id":32245825,"body_markdown":"I just created simple java file which is used to execute the feature file through cucumber, but Its failed, and throws following run time exception\r\n\r\n    Exception in thread &quot;main&quot; cucumber.runtime.CucumberException: Error parsing feature file C:/Users/XXX/XXXX/src/test/java/RunTest.java\r\n    \tat cucumber.runtime.FeatureBuilder.parse(FeatureBuilder.java:133)\r\n    \tat cucumber.runtime.model.CucumberFeature.loadFromFeaturePath(CucumberFeature.java:102)\r\n    \tat cucumber.runtime.model.CucumberFeature.load(CucumberFeature.java:54)\r\n    \tat cucumber.runtime.model.CucumberFeature.load(CucumberFeature.java:34)\r\n    \tat cucumber.runtime.RuntimeOptions.cucumberFeatures(RuntimeOptions.java:201)\r\n    \tat cucumber.runtime.Runtime.run(Runtime.java:109)\r\n    \tat cucumber.api.cli.Main.run(Main.java:36)\r\n    \tat cucumber.api.cli.Main.main(Main.java:18)\r\n    Caused by: gherkin.lexer.LexingError: Lexing error on line 1: &#39;package test.java;\r\n    \r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.testng.AbstractTestNGCucumberTests;\r\n    \r\n    \t@CucumberOptions(features=&quot;src/test/resources/&quot;)\r\n    \tpublic class RunTest extends AbstractTestNGCucumberTests {\r\n    \t}\r\n\r\nFeature file:\r\n\r\n    Feature: Search India on BBC website and verify search.\r\n    \r\n    @Search\r\n      Scenario Outline: Search India on BBC website and verify it.\r\n        Given I open the firefox browser\r\n        And I navigating to BBc website\r\n        Then I click at search textbox\r\n        And I enter &quot;India&quot; in search textbox\r\n        And I click at Search button\r\n        Then I should be taken to search page\r\n        And I verify India on search page\r\n\r\n\r\nCan somebody tell me how to resolve this issue?\r\n","title":"How to resolve runtime.cucumberexception for error parsing feature file","body":"<p>I just created simple java file which is used to execute the feature file through cucumber, but Its failed, and throws following run time exception</p>\n\n<pre><code>Exception in thread \"main\" cucumber.runtime.CucumberException: Error parsing feature file C:/Users/XXX/XXXX/src/test/java/RunTest.java\n    at cucumber.runtime.FeatureBuilder.parse(FeatureBuilder.java:133)\n    at cucumber.runtime.model.CucumberFeature.loadFromFeaturePath(CucumberFeature.java:102)\n    at cucumber.runtime.model.CucumberFeature.load(CucumberFeature.java:54)\n    at cucumber.runtime.model.CucumberFeature.load(CucumberFeature.java:34)\n    at cucumber.runtime.RuntimeOptions.cucumberFeatures(RuntimeOptions.java:201)\n    at cucumber.runtime.Runtime.run(Runtime.java:109)\n    at cucumber.api.cli.Main.run(Main.java:36)\n    at cucumber.api.cli.Main.main(Main.java:18)\nCaused by: gherkin.lexer.LexingError: Lexing error on line 1: 'package test.java;\n\nimport cucumber.api.CucumberOptions;\nimport cucumber.api.testng.AbstractTestNGCucumberTests;\n\n    @CucumberOptions(features=\"src/test/resources/\")\n    public class RunTest extends AbstractTestNGCucumberTests {\n    }\n</code></pre>\n\n<p>Feature file:</p>\n\n<pre><code>Feature: Search India on BBC website and verify search.\n\n@Search\n  Scenario Outline: Search India on BBC website and verify it.\n    Given I open the firefox browser\n    And I navigating to BBc website\n    Then I click at search textbox\n    And I enter \"India\" in search textbox\n    And I click at Search button\n    Then I should be taken to search page\n    And I verify India on search page\n</code></pre>\n\n<p>Can somebody tell me how to resolve this issue?</p>\n"},{"tags":["java","spring","activemq"],"comments":[{"owner":{"account_id":157630,"reputation":17688,"user_id":375722,"display_name":"Tim Bish"},"score":0,"creation_date":1359414780,"post_id":14572344,"comment_id":20336966,"body_markdown":"You need to provide more information.  What does your config file look like etc.","body":"You need to provide more information.  What does your config file look like etc."},{"owner":{"account_id":8072204,"reputation":4156,"user_id":6084589,"display_name":"Matt Pavlovich"},"score":0,"creation_date":1697550921,"post_id":14572344,"comment_id":136292157,"body_markdown":"The problem can be an existing process using the port, or a local firewall blocking access to the port. You need to first confirm that the port is listening on the server side, and that it responds to client-side connections.","body":"The problem can be an existing process using the port, or a local firewall blocking access to the port. You need to first confirm that the port is listening on the server side, and that it responds to client-side connections."}],"answers":[{"tags":[],"owner":{"account_id":1702915,"reputation":11261,"user_id":1562558,"accept_rate":60,"display_name":"Festus Tamakloe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359411936,"creation_date":1359411936,"answer_id":14572381,"question_id":14572344,"body_markdown":"The port 5000 is already in use by another process or service","title":"ActiveMQ, Broker Url: how to run on port number other than default 61616","body":"<p>The port 5000 is already in use by another process or service</p>\n"}],"owner":{"account_id":1306595,"reputation":385,"user_id":1255483,"accept_rate":78,"display_name":"Coding Ninja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697452780,"creation_date":1359411821,"question_id":14572344,"body_markdown":"I am trying to run on the port number 5000, tcp://localhost:5000\r\n\r\nit shows the following error\r\n\r\n&gt; WARNING: Could not refresh JMS Connection for destination\r\n&gt; &#39;queue://jmsExample&#39; - retrying in 5000 ms. Cause: Could not connect\r\n&gt; to broker URL: tcp://localhost:5000. Reason:\r\n&gt; java.net.ConnectException: Connection refused: connect\r\n\r\n\r\nAny Help please","title":"ActiveMQ, Broker Url: how to run on port number other than default 61616","body":"<p>I am trying to run on the port number 5000, tcp://localhost:5000</p>\n<p>it shows the following error</p>\n<blockquote>\n<p>WARNING: Could not refresh JMS Connection for destination\n'queue://jmsExample' - retrying in 5000 ms. Cause: Could not connect\nto broker URL: tcp://localhost:5000. Reason:\njava.net.ConnectException: Connection refused: connect</p>\n</blockquote>\n<p>Any Help please</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9897,"page":120,"page_size":100}
