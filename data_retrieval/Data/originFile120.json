{"items":[{"tags":["java","if-statement","switch-statement","conditional-operator"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1697551062,"post_id":77309585,"comment_id":136292186,"body_markdown":"Yes of course it is possible. Looking at your code it seems like you are calling `nextInt()` followed by `nextLine()`. So the problem you are experiencing is likely [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Yes of course it is possible. Looking at your code it seems like you are calling <code>nextInt()</code> followed by <code>nextLine()</code>. So the problem you are experiencing is likely <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697551072,"post_id":77309585,"comment_id":136292189,"body_markdown":"Yes, that&#39;s possible. If you&#39;d like to know what your code is actually doint at runtime, you should use the debugger that&#39;s included in your IDE.","body":"Yes, that&#39;s possible. If you&#39;d like to know what your code is actually doint at runtime, you should use the debugger that&#39;s included in your IDE."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1697552607,"post_id":77309585,"comment_id":136292532,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example). Obviously the code using Scanner should not part of a minimal example about if and switch. If it part of the issue then you made the wrong question.","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Obviously the code using Scanner should not part of a minimal example about if and switch. If it part of the issue then you made the wrong question."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1697563786,"post_id":77309585,"comment_id":136294688,"body_markdown":"Does this answer your question? [Scanner is skipping nextLine() after using next() or nextFoo()?](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">Scanner is skipping nextLine() after using next() or nextFoo()?</a>"}],"owner":{"account_id":28989511,"reputation":1,"user_id":22205603,"display_name":"Tshepo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697550597,"creation_date":1697550523,"question_id":77309585,"body_markdown":"I tried all 4 on 1 src code and my program stops half way through.\r\n\r\nhere&#39;s the code, what did I do wrong?:\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n */\r\n\r\npackage com.operators;\r\n\r\nimport java.util.Scanner;\r\n\r\n/**\r\n *\r\n * @author Casner\r\n */\r\npublic class Operators {\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        Scanner type = new Scanner(System.in);\r\n        System.out.print(&quot;Welcome to Chip and Burger Joint, would you like to order? please type Yes or No: &quot;);\r\n        String st = type.nextLine();\r\n        String b = &quot;You are now leaving Chip and Burger Joint&quot;;\r\n        String c = &quot;Start your order: &quot; ;\r\n        String ord = &quot;Yes&quot;.equals(st)? c:b;\r\n        System.out.println(ord);\r\n                \r\n        if(ord.equals(c)){\r\n            \r\n            System.out.print(&quot;You have 3 options: 1. Chips only, 2. Burger only, 3. Meal, Please Choose: &quot;);\r\n            int ord1 = type.nextInt();\r\n             \r\n            if(ord1 == 1){\r\n                System.out.print(&quot;Please enter MM for mini, S for small, M for medium and L for large: &quot;);\r\n                String chips = type.nextLine();\r\n                \r\n                switch(chips){\r\n                    case &quot;MM&quot;: System.out.println(&quot;You picked mini chips&quot;);\r\n                    break;\r\n                    case &quot;S&quot;: System.out.println(&quot;You picked small chips&quot;);\r\n                    break;\r\n                    case &quot;M&quot;: System.out.println(&quot;You picked medium chips&quot;);\r\n                    break;\r\n                    case &quot;L&quot;: System.out.println(&quot;You picked large chips&quot;);\r\n                    break;\r\n                    default: System.out.println(&quot;Thank you!&quot;);\r\n                }\r\n            }\r\n            \r\n            else if(ord1 == 2){\r\n                System.out.print(&quot;Please enter C for Chicken burger or B for Beef burger: &quot;);\r\n                String burger = type.nextLine();\r\n                switch(burger){\r\n                    case &quot;C&quot;: System.out.println(&quot;You picked Chicken burger&quot;);\r\n                    break;\r\n                    case &quot;B&quot;: System.out.println(&quot;You picked Beef burger&quot;);\r\n                    default: System.out.println(&quot;Thank you!&quot;);\r\n                }\r\n            }\r\n            \r\n            else if(ord1 == 3){\r\n                System.out.println(&quot;Please enter CM for chicken burger meal or BM for beef burger meal&quot;);\r\n                String bm = type.nextLine();\r\n                \r\n                switch(bm){\r\n                    case &quot;CM&quot;: System.out.println(&quot;You picked Chicken burger meal&quot;);\r\n                    break;\r\n                    case &quot;BM&quot;: System.out.println(&quot;You picked Beef burger meal&quot;);\r\n                    break;\r\n                    default: System.out.println(&quot;Thank you!&quot;);\r\n                }\r\n            }\r\n            else System.out.println(&quot;Thank You!&quot;);\r\n        }\r\n        \r\n        //System.out.println(&quot;Thank you!&quot;);\r\n    }\r\n}\r\n```","title":"Is it possible to have a ternary operator, if,if/else statement and switch statement on 1 src code in Java?","body":"<p>I tried all 4 on 1 src code and my program stops half way through.</p>\n<p>here's the code, what did I do wrong?:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n */\n\npackage com.operators;\n\nimport java.util.Scanner;\n\n/**\n *\n * @author Casner\n */\npublic class Operators {\n\n    public static void main(String[] args) {\n        \n        Scanner type = new Scanner(System.in);\n        System.out.print(&quot;Welcome to Chip and Burger Joint, would you like to order? please type Yes or No: &quot;);\n        String st = type.nextLine();\n        String b = &quot;You are now leaving Chip and Burger Joint&quot;;\n        String c = &quot;Start your order: &quot; ;\n        String ord = &quot;Yes&quot;.equals(st)? c:b;\n        System.out.println(ord);\n                \n        if(ord.equals(c)){\n            \n            System.out.print(&quot;You have 3 options: 1. Chips only, 2. Burger only, 3. Meal, Please Choose: &quot;);\n            int ord1 = type.nextInt();\n             \n            if(ord1 == 1){\n                System.out.print(&quot;Please enter MM for mini, S for small, M for medium and L for large: &quot;);\n                String chips = type.nextLine();\n                \n                switch(chips){\n                    case &quot;MM&quot;: System.out.println(&quot;You picked mini chips&quot;);\n                    break;\n                    case &quot;S&quot;: System.out.println(&quot;You picked small chips&quot;);\n                    break;\n                    case &quot;M&quot;: System.out.println(&quot;You picked medium chips&quot;);\n                    break;\n                    case &quot;L&quot;: System.out.println(&quot;You picked large chips&quot;);\n                    break;\n                    default: System.out.println(&quot;Thank you!&quot;);\n                }\n            }\n            \n            else if(ord1 == 2){\n                System.out.print(&quot;Please enter C for Chicken burger or B for Beef burger: &quot;);\n                String burger = type.nextLine();\n                switch(burger){\n                    case &quot;C&quot;: System.out.println(&quot;You picked Chicken burger&quot;);\n                    break;\n                    case &quot;B&quot;: System.out.println(&quot;You picked Beef burger&quot;);\n                    default: System.out.println(&quot;Thank you!&quot;);\n                }\n            }\n            \n            else if(ord1 == 3){\n                System.out.println(&quot;Please enter CM for chicken burger meal or BM for beef burger meal&quot;);\n                String bm = type.nextLine();\n                \n                switch(bm){\n                    case &quot;CM&quot;: System.out.println(&quot;You picked Chicken burger meal&quot;);\n                    break;\n                    case &quot;BM&quot;: System.out.println(&quot;You picked Beef burger meal&quot;);\n                    break;\n                    default: System.out.println(&quot;Thank you!&quot;);\n                }\n            }\n            else System.out.println(&quot;Thank You!&quot;);\n        }\n        \n        //System.out.println(&quot;Thank you!&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","heroku","micronaut"],"owner":{"account_id":28207876,"reputation":1,"user_id":21560652,"display_name":"wozniackia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697550545,"creation_date":1697550545,"question_id":77309588,"body_markdown":"im developing gradle micronaut app\r\n\r\nduring deployment i see\r\n`-----&gt; Installing OpenJDK 1.8... done`\r\nwhich causes errors\r\n\r\ni&#39;ve declared a system.properties file in project root folder containing single line\r\n`java.runtime.version=17`\r\n\r\nhow do i change the java version?\r\n\r\nWould be appreciated if somone could help me out here,\r\n\r\nregards\r\n\r\nI&#39;ve followed numerous tutorials, most of them regard maven. I&#39;m using gradle hence the new question","title":"heroku not registering system.properties","body":"<p>im developing gradle micronaut app</p>\n<p>during deployment i see\n<code>-----&gt; Installing OpenJDK 1.8... done</code>\nwhich causes errors</p>\n<p>i've declared a system.properties file in project root folder containing single line\n<code>java.runtime.version=17</code></p>\n<p>how do i change the java version?</p>\n<p>Would be appreciated if somone could help me out here,</p>\n<p>regards</p>\n<p>I've followed numerous tutorials, most of them regard maven. I'm using gradle hence the new question</p>\n"},{"tags":["java","linux","java-8","cmake"],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594646467,"creation_date":1594646467,"answer_id":62876764,"question_id":62876465,"body_markdown":"It looks like cmake is looking for `javah` not `javac`. You&#39;re using Java 1.8, so you should have javah installed. (It has been removed in a later version, and instead of `javah` you&#39;re supposed to use `javac -h`)\r\n\r\nMake sure cmake can find the javah tool by setting JAVA_HOME so that it points at the Java 8 installation directory (typically under /usr/lib/jvm on a Linux system)","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>It looks like cmake is looking for <code>javah</code> not <code>javac</code>. You're using Java 1.8, so you should have javah installed. (It has been removed in a later version, and instead of <code>javah</code> you're supposed to use <code>javac -h</code>)</p>\n<p>Make sure cmake can find the javah tool by setting JAVA_HOME so that it points at the Java 8 installation directory (typically under /usr/lib/jvm on a Linux system)</p>\n"},{"tags":[],"owner":{"account_id":17701993,"reputation":21,"user_id":12851429,"display_name":"caifeng.zhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622531306,"creation_date":1622445891,"answer_id":67769453,"question_id":62876465,"body_markdown":"I have encountered the same problem, but with a different cause. I post\r\nmy **problem** and **solution** below, hoping to save others&#39; troubleshooting time.   \r\n\r\n\r\nproblem:\r\n\r\nThe `CMake` reported an error much like the thread title: \r\n\r\n    CMake Error at /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:108 (message):\r\n      Could NOT find Java (missing: Java_JAVAH_EXECUTABLE) (found version\r\n      &quot;11.0.7&quot;)\r\n    Call Stack (most recent call first):\r\n      /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:315 (_FPHSA_FAILURE_MESSAGE)\r\n      /usr/share/cmake/Modules/FindJava.cmake:191 (find_package_handle_standard_args)\r\n      CMakeLists.txt:20 (find_package)\r\n\r\n \r\n\r\n\r\n\r\n**analysis:**\r\n\r\nLook at the file `/usr/share/cmake/Modules/FindJava.cmake`. It is found that \r\n`_JAVA_HINTS` and `_JAVA_PATHS` do not include my java version. \r\n\r\n**solution:** \r\n\r\nUse a new version **CMake** that supports my java version","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>I have encountered the same problem, but with a different cause. I post\nmy <strong>problem</strong> and <strong>solution</strong> below, hoping to save others' troubleshooting time.</p>\n<p>problem:</p>\n<p>The <code>CMake</code> reported an error much like the thread title:</p>\n<pre><code>CMake Error at /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:108 (message):\n  Could NOT find Java (missing: Java_JAVAH_EXECUTABLE) (found version\n  &quot;11.0.7&quot;)\nCall Stack (most recent call first):\n  /usr/share/cmake/Modules/FindPackageHandleStandardArgs.cmake:315 (_FPHSA_FAILURE_MESSAGE)\n  /usr/share/cmake/Modules/FindJava.cmake:191 (find_package_handle_standard_args)\n  CMakeLists.txt:20 (find_package)\n</code></pre>\n<p><strong>analysis:</strong></p>\n<p>Look at the file <code>/usr/share/cmake/Modules/FindJava.cmake</code>. It is found that\n<code>_JAVA_HINTS</code> and <code>_JAVA_PATHS</code> do not include my java version.</p>\n<p><strong>solution:</strong></p>\n<p>Use a new version <strong>CMake</strong> that supports my java version</p>\n"},{"tags":[],"owner":{"account_id":17896894,"reputation":1,"user_id":13002068,"display_name":"Paolo Cavatore Ercole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680779651,"creation_date":1680779651,"answer_id":75948872,"question_id":62876465,"body_markdown":"I can confirm the approach by [caifeng-zhu](https://stackoverflow.com/users/12851429/caifeng-zhu) worked for me, even though the `CMake` error I got, arised in the attempt to compile ceph-libs (17.2.5-6), was slightly different:\r\n\r\n      Could NOT find Java (missing: Java_JAVAC_EXECUTABLE Java_JAR_EXECUTABLE Java_JAVADOC_EXECUTABLE Development) (found version &quot;11.0.18&quot;)\r\n\r\nI **solved** it by modifying `/usr/share/cmake/Modules/FindJava.cmake` only in its `_JAVA_PATHS` section, by adding the Java&#39;s explicit folder location found in my packet manager (but I also could have used `whereis java`). In my case a more recent Java version was installed (19.0.2.u7-2), so I added a line to FindJava.cmake pointing to this latter one.\r\n\r\nMy configuration is:\r\n- Kernel: 5.15.105-1-MANJARO x86_64\r\n- cmake: 3.26.2\r\n- openjdk version &quot;11.0.18&quot; 2023-01-17 (default)\r\n- openjdk version &quot;19.0.2&quot; 2023-01-17\r\n","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>I can confirm the approach by <a href=\"https://stackoverflow.com/users/12851429/caifeng-zhu\">caifeng-zhu</a> worked for me, even though the <code>CMake</code> error I got, arised in the attempt to compile ceph-libs (17.2.5-6), was slightly different:</p>\n<pre><code>  Could NOT find Java (missing: Java_JAVAC_EXECUTABLE Java_JAR_EXECUTABLE Java_JAVADOC_EXECUTABLE Development) (found version &quot;11.0.18&quot;)\n</code></pre>\n<p>I <strong>solved</strong> it by modifying <code>/usr/share/cmake/Modules/FindJava.cmake</code> only in its <code>_JAVA_PATHS</code> section, by adding the Java's explicit folder location found in my packet manager (but I also could have used <code>whereis java</code>). In my case a more recent Java version was installed (19.0.2.u7-2), so I added a line to FindJava.cmake pointing to this latter one.</p>\n<p>My configuration is:</p>\n<ul>\n<li>Kernel: 5.15.105-1-MANJARO x86_64</li>\n<li>cmake: 3.26.2</li>\n<li>openjdk version &quot;11.0.18&quot; 2023-01-17 (default)</li>\n<li>openjdk version &quot;19.0.2&quot; 2023-01-17</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1503617,"reputation":2283,"user_id":1407528,"accept_rate":77,"display_name":"goe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697550456,"creation_date":1697550456,"answer_id":77309582,"question_id":62876465,"body_markdown":"In my case I have been able to solve it including the correct JAVA_HOME path (I used the java version installed by Android Studio), and its _bin_ directory in the PATH variable:\r\n\r\n    JAVA_HOME=/home/user/Applications/android-studio/jbr \r\n    export PATH=$PATH:$JAVA_HOME/bin","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>In my case I have been able to solve it including the correct JAVA_HOME path (I used the java version installed by Android Studio), and its <em>bin</em> directory in the PATH variable:</p>\n<pre><code>JAVA_HOME=/home/user/Applications/android-studio/jbr \nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n"}],"owner":{"account_id":975889,"reputation":29383,"user_id":997112,"accept_rate":61,"display_name":"user997112"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62876764,"answer_count":4,"score":1,"last_activity_date":1697550456,"creation_date":1594645464,"question_id":62876465,"body_markdown":"I&#39;m encountering a CMake error suggesting it cannot find Java (JDK I think?):\r\n\r\n    Could NOT find Java (missing: Java_JAVAH_EXECUTABLE) (found version\r\n      &quot;1.8.0_181&quot;)\r\n\r\nHowever, when I run:\r\n\r\n    which javac\r\n\r\nI get:\r\n\r\n    /bin/javac\r\n\r\nbut setting:\r\n\r\n    export JAVA_HOME=/bin/javac\r\n\r\nand re-compiling does not solve the problem.\r\n\r\nAnybody encountered this before?","title":"CMake cannot find Java on Linux &quot;Could NOT find Java (missing: Java_JAVAH_EXECUTABLE)&quot;","body":"<p>I'm encountering a CMake error suggesting it cannot find Java (JDK I think?):</p>\n<pre><code>Could NOT find Java (missing: Java_JAVAH_EXECUTABLE) (found version\n  &quot;1.8.0_181&quot;)\n</code></pre>\n<p>However, when I run:</p>\n<pre><code>which javac\n</code></pre>\n<p>I get:</p>\n<pre><code>/bin/javac\n</code></pre>\n<p>but setting:</p>\n<pre><code>export JAVA_HOME=/bin/javac\n</code></pre>\n<p>and re-compiling does not solve the problem.</p>\n<p>Anybody encountered this before?</p>\n"},{"tags":["java","selection-sort"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1697547839,"post_id":77309215,"comment_id":136291470,"body_markdown":"What sorting algorithm is this supposed to be?","body":"What sorting algorithm is this supposed to be?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1697547850,"post_id":77309215,"comment_id":136291472,"body_markdown":"Is there a particular reason you are trying to create your own sorting algorithm instead of just using `Arrays.sort(a, Comparators.comparingInt(String::length))`?","body":"Is there a particular reason you are trying to create your own sorting algorithm instead of just using <code>Arrays.sort(a, Comparators.comparingInt(String::length))</code>?"},{"owner":{"account_id":22920406,"reputation":123,"user_id":17056324,"display_name":"Darshit Sharma"},"score":0,"creation_date":1697547933,"post_id":77309215,"comment_id":136291494,"body_markdown":"@khelwood Selection Sort as per our highschool textbooks","body":"@khelwood Selection Sort as per our highschool textbooks"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1697547996,"post_id":77309215,"comment_id":136291511,"body_markdown":"It would be helpful if you also provide an example input that fails to sort as expected. Together with the current and expected output.","body":"It would be helpful if you also provide an example input that fails to sort as expected. Together with the current and expected output."},{"owner":{"account_id":22920406,"reputation":123,"user_id":17056324,"display_name":"Darshit Sharma"},"score":1,"creation_date":1697548631,"post_id":77309215,"comment_id":136291653,"body_markdown":"@Zabuzard Done! And yaa we require to create or modify sorting algorithm just using basic loops as per our syllabus.","body":"@Zabuzard Done! And yaa we require to create or modify sorting algorithm just using basic loops as per our syllabus."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697549382,"creation_date":1697548910,"answer_id":77309376,"question_id":77309215,"body_markdown":"You didn&#39;t correctly swap. You need to save the index of min element and swap `a[i]` and `a[minIdx]`. \r\n\r\n```java\r\n        String[] a = sc.nextLine().trim().split(&quot; &quot;);\r\n        for (int i = 0;i&lt; a.length-1;i++) {\r\n            String min = a[i];\r\n            int minIdx = i; // &lt;-- remember min index\r\n            for (int j = i + 1; j &lt; a.length; j++) {\r\n                if (a[j].length() &lt; min.length()) {\r\n                    min = a[j];\r\n                    minIdx = j; // &lt;-- update min index\r\n                }\r\n            }\r\n            String t = a[i];\r\n            a[i] = min;\r\n            a[minIdx] = t; // &lt;-- proper swap\r\n        }\r\n```","title":"Sorting a string array length wise","body":"<p>You didn't correctly swap. You need to save the index of min element and swap <code>a[i]</code> and <code>a[minIdx]</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String[] a = sc.nextLine().trim().split(&quot; &quot;);\n        for (int i = 0;i&lt; a.length-1;i++) {\n            String min = a[i];\n            int minIdx = i; // &lt;-- remember min index\n            for (int j = i + 1; j &lt; a.length; j++) {\n                if (a[j].length() &lt; min.length()) {\n                    min = a[j];\n                    minIdx = j; // &lt;-- update min index\n                }\n            }\n            String t = a[i];\n            a[i] = min;\n            a[minIdx] = t; // &lt;-- proper swap\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1697549302,"post_id":77309409,"comment_id":136291807,"body_markdown":"While correct, this doesnt answer OPs question. OP is required to write selection sort by hand.","body":"While correct, this doesnt answer OPs question. OP is required to write selection sort by hand."},{"owner":{"account_id":1177358,"reputation":566,"user_id":1153026,"accept_rate":100,"display_name":"yunfei"},"score":1,"creation_date":1697549542,"post_id":77309409,"comment_id":136291869,"body_markdown":"I apologize for misunderstanding the question. I made an updated implementation of selection sort that sorts a string array in increasing order of length of its specific string elements.","body":"I apologize for misunderstanding the question. I made an updated implementation of selection sort that sorts a string array in increasing order of length of its specific string elements."}],"tags":[],"owner":{"account_id":1177358,"reputation":566,"user_id":1153026,"accept_rate":100,"display_name":"yunfei"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697549601,"creation_date":1697549195,"answer_id":77309409,"question_id":77309215,"body_markdown":"update\r\n\r\n```\r\nString[] a = sc.nextLine().trim().split(&quot; &quot;);\r\nfor (int i = 0; i &lt; a.length - 1; i++) {\r\n    int minIndex = i;\r\n    for (int j = i + 1; j &lt; a.length; j++) {\r\n        if (a[j].length() &lt; a[minIndex].length()) {\r\n            minIndex = j;\r\n        }\r\n    }\r\n    String temp = a[i];\r\n    a[i] = a[minIndex];\r\n    a[minIndex] = temp;\r\n}\r\nSystem.out.println(Arrays.toString(a));\r\n```\r\n\r\nThis code first initializes a variable minIndex to the current index i. \r\n\r\nIt then iterates through the rest of the array, comparing the length of each string element with the length of the string at minIndex. \r\n\r\nIf it finds a string with a shorter length, it updates minIndex to point to that string. \r\n\r\nAfter the inner loop finishes, it swaps the string at i with the string at minIndex, effectively placing the string with the shortest length in the first position. \r\n\r\nThe outer loop repeats this process until all strings have been sorted in increasing order of their lengths.\r\n\r\n\r\n---------------\r\n\r\nThe code you provided is not sorting the array in increasing order of length of its specific string elements. Instead, it is swapping the elements in the array such that the shortest string is at the beginning of the array.\r\nTo sort the array in increasing order of length of its specific string elements, you can use the Arrays.sort() method and pass a custom comparator that compares the lengths of the strings. Here&#39;s an example:\r\n```\r\nString[] a = sc.nextLine().trim().split(&quot; &quot;);\r\nArrays.sort(a, new Comparator&lt;String&gt;() {\r\n    public int compare(String s1, String s2) {\r\n        return s1.length() - s2.length();\r\n    }\r\n});\r\nSystem.out.println(Arrays.toString(a));\r\n```\r\nThis will give you the expected output:\r\n\r\n```\r\nme Its Java Hello\r\n```\r\n","title":"Sorting a string array length wise","body":"<p>update</p>\n<pre><code>String[] a = sc.nextLine().trim().split(&quot; &quot;);\nfor (int i = 0; i &lt; a.length - 1; i++) {\n    int minIndex = i;\n    for (int j = i + 1; j &lt; a.length; j++) {\n        if (a[j].length() &lt; a[minIndex].length()) {\n            minIndex = j;\n        }\n    }\n    String temp = a[i];\n    a[i] = a[minIndex];\n    a[minIndex] = temp;\n}\nSystem.out.println(Arrays.toString(a));\n</code></pre>\n<p>This code first initializes a variable minIndex to the current index i.</p>\n<p>It then iterates through the rest of the array, comparing the length of each string element with the length of the string at minIndex.</p>\n<p>If it finds a string with a shorter length, it updates minIndex to point to that string.</p>\n<p>After the inner loop finishes, it swaps the string at i with the string at minIndex, effectively placing the string with the shortest length in the first position.</p>\n<p>The outer loop repeats this process until all strings have been sorted in increasing order of their lengths.</p>\n<hr />\n<p>The code you provided is not sorting the array in increasing order of length of its specific string elements. Instead, it is swapping the elements in the array such that the shortest string is at the beginning of the array.\nTo sort the array in increasing order of length of its specific string elements, you can use the Arrays.sort() method and pass a custom comparator that compares the lengths of the strings. Here's an example:</p>\n<pre><code>String[] a = sc.nextLine().trim().split(&quot; &quot;);\nArrays.sort(a, new Comparator&lt;String&gt;() {\n    public int compare(String s1, String s2) {\n        return s1.length() - s2.length();\n    }\n});\nSystem.out.println(Arrays.toString(a));\n</code></pre>\n<p>This will give you the expected output:</p>\n<pre><code>me Its Java Hello\n</code></pre>\n"}],"owner":{"account_id":22920406,"reputation":123,"user_id":17056324,"display_name":"Darshit Sharma"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77309376,"answer_count":2,"score":1,"last_activity_date":1697550231,"creation_date":1697547665,"question_id":77309215,"body_markdown":"I am required to sort an array with **selection sort**. I wanted it to to sort a string array in increasing order of length of its specific string elements.\r\n\r\nIt doesn&#39;t give the required output.\r\n\r\n    String[] a = sc.nextLine().trim().split(&quot; &quot;);\r\n    for (int i = 0;i&lt; a.length-1;i++) {\r\n        String min = a[i];\r\n        for (int j = i + 1; j &lt; a.length; j++) {\r\n            if (a[j].length() &lt; min.length()) min = a[j];\r\n        }\r\n        String t = a[i];\r\n        a[i] = min;\r\n        min = t;\r\n    }\r\n\r\n\r\n----------\r\nI tried to observe the array elements by using ` System.out.println(Arrays.toString(a));`\r\n\r\nHere&#39;s what i got and what i want:\r\n\r\n\r\n**On inputting,** \r\n\r\n    Hello Java Its me\r\n\r\n**Observed Output** \r\n\r\n    \r\n    \r\n    me me me me\r\n\r\n \r\n**Expected Output** \r\n\r\n    me Its Java Hello\r\n\r\nthat is according to the length of `a`&#39;s string elements.\r\n\r\n----------\r\n","title":"Sorting a string array length wise","body":"<p>I am required to sort an array with <strong>selection sort</strong>. I wanted it to to sort a string array in increasing order of length of its specific string elements.</p>\n<p>It doesn't give the required output.</p>\n<pre><code>String[] a = sc.nextLine().trim().split(&quot; &quot;);\nfor (int i = 0;i&lt; a.length-1;i++) {\n    String min = a[i];\n    for (int j = i + 1; j &lt; a.length; j++) {\n        if (a[j].length() &lt; min.length()) min = a[j];\n    }\n    String t = a[i];\n    a[i] = min;\n    min = t;\n}\n</code></pre>\n<hr />\n<p>I tried to observe the array elements by using <code> System.out.println(Arrays.toString(a));</code></p>\n<p>Here's what i got and what i want:</p>\n<p><strong>On inputting,</strong></p>\n<pre><code>Hello Java Its me\n</code></pre>\n<p><strong>Observed Output</strong></p>\n<pre><code>me me me me\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre><code>me Its Java Hello\n</code></pre>\n<p>that is according to the length of <code>a</code>'s string elements.</p>\n<hr />\n"},{"tags":["java","netbeans","ejb","libraries"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1697772829,"post_id":77309420,"comment_id":136324568,"body_markdown":"Update your question with all of the following: [1] The stack trace for the `NoClassDefFoundError`. [2] Details of how you created the project. (Is it an Ant project created in NetBeans?) [3] The versions of NetBeans and Java that you are using.","body":"Update your question with all of the following: [1] The stack trace for the <code>NoClassDefFoundError</code>. [2] Details of how you created the project. (Is it an Ant project created in NetBeans?) [3] The versions of NetBeans and Java that you are using."}],"owner":{"account_id":29692301,"reputation":21,"user_id":22756413,"display_name":"Miguel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697549491,"creation_date":1697549318,"question_id":77309420,"body_markdown":"When trying to deploy an application to NetBeans that uses Apache HttpClient, the EJB container initialization fails. The most important error message is: &quot;java.lang.NoClassDefFoundError: org/apache/http/HttpRequest&quot;.\r\n\r\n\r\n\r\nWhich libraries could cause conflicts or which ones am I missing? because I have gson-2.8.0, spring-tx-4.3.8.RELEASE.jar, validation-api-1.0.CR3.jar, javax.mail.jar, commons-logging-1.2.jar , jacskon\\httpcore-4.4.4.jar, jackson-annotations-2.15.2.jar,jackson-core-2.15.2.jar, jackson-databind-2.15.2.jar, commons-codec-1.9.jar, commons -logging-1.2.jar, httpclient-4.5.2.jar, httpcore-4.4.4.jar, jackson-annotations-2.15.2.jar, jackson-core-2.15.2.jar, jackson-databind-2.15.2 .jar, jackson-databind-2.16.zip, http-request-3.2.1.jar, httpclient-4.5.2.jar\r\n\r\nIt should be noted that it is not a maven project and I do not have the pom.xml","title":"How to fix &quot;java.lang.NoClassDefFoundError: org/apache/http/HttpRequest&quot; in a NetBeans application that uses Apache HttpClient?","body":"<p>When trying to deploy an application to NetBeans that uses Apache HttpClient, the EJB container initialization fails. The most important error message is: &quot;java.lang.NoClassDefFoundError: org/apache/http/HttpRequest&quot;.</p>\n<p>Which libraries could cause conflicts or which ones am I missing? because I have gson-2.8.0, spring-tx-4.3.8.RELEASE.jar, validation-api-1.0.CR3.jar, javax.mail.jar, commons-logging-1.2.jar , jacskon\\httpcore-4.4.4.jar, jackson-annotations-2.15.2.jar,jackson-core-2.15.2.jar, jackson-databind-2.15.2.jar, commons-codec-1.9.jar, commons -logging-1.2.jar, httpclient-4.5.2.jar, httpcore-4.4.4.jar, jackson-annotations-2.15.2.jar, jackson-core-2.15.2.jar, jackson-databind-2.15.2 .jar, jackson-databind-2.16.zip, http-request-3.2.1.jar, httpclient-4.5.2.jar</p>\n<p>It should be noted that it is not a maven project and I do not have the pom.xml</p>\n"},{"tags":["java","string","replace"],"answers":[{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1365404706,"creation_date":1365404407,"answer_id":15873089,"question_id":15873067,"body_markdown":"Try:\r\n\r\n    webUrl = webUrl.replace(&quot;http://&quot;,&quot;&quot;);\r\n\r\nAs [replace returns the replaced string][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29","title":"How to replace a string in jsp","body":"<p>Try:</p>\n\n<pre><code>webUrl = webUrl.replace(\"http://\",\"\");\n</code></pre>\n\n<p>As <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#replace%28char,%20char%29\" rel=\"nofollow\">replace returns the replaced string</a></p>\n"},{"tags":[],"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365404501,"creation_date":1365404501,"answer_id":15873110,"question_id":15873067,"body_markdown":"You need to do like following.String is immutable class.replace will return you new String object.\r\n\r\n    webUrl = webUrl.replace(&quot;http://&quot;,&quot;&quot;);\r\n\r\nRefer https://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning","title":"How to replace a string in jsp","body":"<p>You need to do like following.String is immutable class.replace will return you new String object.</p>\n\n<pre><code>webUrl = webUrl.replace(\"http://\",\"\");\n</code></pre>\n\n<p>Refer <a href=\"https://stackoverflow.com/questions/8798403/string-is-immutable-what-exactly-is-the-meaning\">String is immutable. What exactly is the meaning?</a></p>\n"}],"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15873089,"answer_count":2,"score":1,"last_activity_date":1697549452,"creation_date":1365404340,"question_id":15873067,"body_markdown":"I have a string url like `http://google.com`. I need to remove `&#39;http://&#39;` from the URL. I have tried the method `.replace(&quot;http://&quot;,&quot;&quot;)`, but it is not working.\r\n\r\n    Web web = org.getWeb();\r\n    webUrl = web.getUrl();\r\n    out.println(&quot;webUrl :&quot;+webUrl );  // here it prints:: http://google.com\r\n    webUrl.replace(&quot;http://&quot;,&quot;&quot;);\r\n    out.println(&quot;webUrl :&quot;+webUrl );  // here also it prints:: http://google.com","title":"How to replace a string in jsp","body":"<p>I have a string url like <code>http://google.com</code>. I need to remove <code>'http://'</code> from the URL. I have tried the method <code>.replace(\"http://\",\"\")</code>, but it is not working.</p>\n\n<pre><code>Web web = org.getWeb();\nwebUrl = web.getUrl();\nout.println(\"webUrl :\"+webUrl );  // here it prints:: http://google.com\nwebUrl.replace(\"http://\",\"\");\nout.println(\"webUrl :\"+webUrl );  // here also it prints:: http://google.com\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","apache-camel"],"owner":{"account_id":26128363,"reputation":21,"user_id":19819460,"display_name":"poly_glot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697549260,"creation_date":1697549260,"question_id":77309412,"body_markdown":"```java\r\nString s3Url = &quot;aws2-s3://mybucket?prefix=demo/notify/hello.txt&quot; +\r\n                &quot;&amp;useDefaultCredentialsProvider=true&quot; +\r\n                &quot;&amp;initialDelay=5000&quot; +\r\n                &quot;&amp;delay=60s&quot; +\r\n                &quot;&amp;moveAfterRead=true&quot; +\r\n                &quot;&amp;destinationBucket=mybucket&quot; +\r\n                &quot;&amp;destinationBucketPrefix=demo/archive&quot; +\r\n                &quot;&amp;maxMessagesPerPoll=1&quot;;\r\n\r\n        log.info(&quot;start route for S3&quot;);\r\n        from(s3Url)\r\n                .routeId(&quot;S3 bucket route&quot;)\r\n                .routeDescription(&quot;Read file from S3 bucket&quot;)\r\n                .log(&quot;Headers : ${headers}&quot;)\r\n                .log(&quot;Received body: ${body}&quot;)\r\n        ;\r\n\r\n        log.info(&quot;finish route for S3&quot;);\r\n```\r\n\r\nI am trying to read a file from S3 bucket `mybucket` with prefix `demo/notify/hello.txt` and move after reading to same bucket with prefix `demo/archive/hello.txt`\r\n\r\nWhen I use the above code it moves it to the same bucket but with prefix `demo/archive/demo/notify/hello.txt`.\r\n\r\nIs there a way to accomplish this using AWS S3 component of Apache Camel or otherwise?","title":"How to rename key when moving after reading from S3 in Apache Camel?","body":"<pre class=\"lang-java prettyprint-override\"><code>String s3Url = &quot;aws2-s3://mybucket?prefix=demo/notify/hello.txt&quot; +\n                &quot;&amp;useDefaultCredentialsProvider=true&quot; +\n                &quot;&amp;initialDelay=5000&quot; +\n                &quot;&amp;delay=60s&quot; +\n                &quot;&amp;moveAfterRead=true&quot; +\n                &quot;&amp;destinationBucket=mybucket&quot; +\n                &quot;&amp;destinationBucketPrefix=demo/archive&quot; +\n                &quot;&amp;maxMessagesPerPoll=1&quot;;\n\n        log.info(&quot;start route for S3&quot;);\n        from(s3Url)\n                .routeId(&quot;S3 bucket route&quot;)\n                .routeDescription(&quot;Read file from S3 bucket&quot;)\n                .log(&quot;Headers : ${headers}&quot;)\n                .log(&quot;Received body: ${body}&quot;)\n        ;\n\n        log.info(&quot;finish route for S3&quot;);\n</code></pre>\n<p>I am trying to read a file from S3 bucket <code>mybucket</code> with prefix <code>demo/notify/hello.txt</code> and move after reading to same bucket with prefix <code>demo/archive/hello.txt</code></p>\n<p>When I use the above code it moves it to the same bucket but with prefix <code>demo/archive/demo/notify/hello.txt</code>.</p>\n<p>Is there a way to accomplish this using AWS S3 component of Apache Camel or otherwise?</p>\n"},{"tags":["java","java-8","localdate"],"comments":[{"owner":{"account_id":17932162,"reputation":150,"user_id":13029436,"display_name":"robert0801"},"score":0,"creation_date":1615384770,"post_id":66566223,"comment_id":117673796,"body_markdown":"No, I can get date LocalDate.of(2000, 1, 10); and it won&#39;t be work.","body":"No, I can get date LocalDate.of(2000, 1, 10); and it won&#39;t be work."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1615385001,"post_id":66566223,"comment_id":117673909,"body_markdown":"Does this answer your question? [Add leading zeroes to number in Java?](https://stackoverflow.com/questions/275711/add-leading-zeroes-to-number-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/275711/add-leading-zeroes-to-number-in-java\">Add leading zeroes to number in Java?</a>"},{"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"score":4,"creation_date":1615385013,"post_id":66566223,"comment_id":117673920,"body_markdown":"`1` from `getDayOfMonth()` is an integer, `01` would be a string. So you have to covert it","body":"<code>1</code> from <code>getDayOfMonth()</code> is an integer, <code>01</code> would be a string. So you have to covert it"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1615633785,"post_id":66566223,"comment_id":117754985,"body_markdown":"@OHGODSPIDERS If that answers the question, then it is giving the wrong answer. Given a `LocalDate` we should not convert first to `int` and then to a zero-padded `String`. We have `DateTimeFormatter` for the purpose, which is not mentioned in the question you mention. The duplicate marking is rather harmful.","body":"@OHGODSPIDERS If that answers the question, then it is giving the wrong answer. Given a <code>LocalDate</code> we should not convert first to <code>int</code> and then to a zero-padded <code>String</code>. We have <code>DateTimeFormatter</code> for the purpose, which is not mentioned in the question you mention. The duplicate marking is rather harmful."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1697549056,"creation_date":1615390355,"answer_id":66567943,"question_id":66566223,"body_markdown":"As Benjamin M correctly stated in a comment, `01` would be a string (not an `int`). The correct way to convert a date to a string goes through a formatter. **Edit:** This one gives you a two-digit day of month (01 through 31):\r\n\r\n    private static final DateTimeFormatter dayOfMonthFormatter\r\n            = DateTimeFormatter.ofPattern(&quot;dd&quot;);\r\n\r\nTo use it with your birth date:\r\n\r\n        LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);\r\n        String twoDigitDayOfMonth = dateOfBirthday.format(dayOfMonthFormatter);\r\n        System.out.println(&quot;Day of month: &quot; + twoDigitDayOfMonth);\r\n\r\nOutput is:\r\n\r\n&gt; Day of month: 01\r\n\r\n**Original answer:** This one gives you a two-digit month — so 01 for January through 12 for December:\r\n\r\n\tprivate static final DateTimeFormatter monthFormatter\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;MM&quot;);\r\n\r\nTo use it with your birth date:\r\n\r\n\t\tLocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);\r\n\t\tString twoDigitMonth = dateOfBirthday.format(monthFormatter);\r\n\t\tSystem.out.println(&quot;Month: &quot; + twoDigitMonth);\r\n\r\nOutput is:\r\n\r\n&gt; Month: 01\r\n","title":"Get day of month from LocalDate with leading zero","body":"<p>As Benjamin M correctly stated in a comment, <code>01</code> would be a string (not an <code>int</code>). The correct way to convert a date to a string goes through a formatter. <strong>Edit:</strong> This one gives you a two-digit day of month (01 through 31):</p>\n<pre><code>private static final DateTimeFormatter dayOfMonthFormatter\n        = DateTimeFormatter.ofPattern(&quot;dd&quot;);\n</code></pre>\n<p>To use it with your birth date:</p>\n<pre><code>    LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);\n    String twoDigitDayOfMonth = dateOfBirthday.format(dayOfMonthFormatter);\n    System.out.println(&quot;Day of month: &quot; + twoDigitDayOfMonth);\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<p>Day of month: 01</p>\n</blockquote>\n<p><strong>Original answer:</strong> This one gives you a two-digit month — so 01 for January through 12 for December:</p>\n<pre><code>private static final DateTimeFormatter monthFormatter\n        = DateTimeFormatter.ofPattern(&quot;MM&quot;);\n</code></pre>\n<p>To use it with your birth date:</p>\n<pre><code>    LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);\n    String twoDigitMonth = dateOfBirthday.format(monthFormatter);\n    System.out.println(&quot;Month: &quot; + twoDigitMonth);\n</code></pre>\n<p>Output is:</p>\n<blockquote>\n<p>Month: 01</p>\n</blockquote>\n"}],"owner":{"account_id":17932162,"reputation":150,"user_id":13029436,"display_name":"robert0801"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6027,"favorite_count":0,"down_vote_count":6,"up_vote_count":4,"closed_date":1615422414,"accepted_answer_id":66567943,"answer_count":1,"score":-2,"last_activity_date":1697549056,"creation_date":1615384623,"question_id":66566223,"body_markdown":"I get date in a format like `LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);`. \r\n\r\nI need to get the day of the month from that date. I using `dateOfBirthday.getDayOfMonth()` and it works and return `1`, but I need to get `01`.\r\n\r\nHow I can do it?","title":"Get day of month from LocalDate with leading zero","body":"<p>I get date in a format like <code>LocalDate dateOfBirthday = LocalDate.of(2000, 1, 1);</code>.</p>\n<p>I need to get the day of the month from that date. I using <code>dateOfBirthday.getDayOfMonth()</code> and it works and return <code>1</code>, but I need to get <code>01</code>.</p>\n<p>How I can do it?</p>\n"},{"tags":["java","spring","spring-boot","axon"],"comments":[{"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"score":0,"creation_date":1697548930,"post_id":72416765,"comment_id":136291734,"body_markdown":"I&#39;ve updated my answer to include the update I posted on the GitHub issue you opened, @vab2048. For those curious in the GitHub issue on Axon Framework, you can find it here: https://github.com/AxonFramework/AxonFramework/issues/2427","body":"I&#39;ve updated my answer to include the update I posted on the GitHub issue you opened, @vab2048. For those curious in the GitHub issue on Axon Framework, you can find it here: <a href=\"https://github.com/AxonFramework/AxonFramework/issues/2427\" rel=\"nofollow noreferrer\">github.com/AxonFramework/AxonFramework/issues/2427</a>"}],"answers":[{"comments":[{"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"score":0,"creation_date":1654111958,"post_id":72449937,"comment_id":128016639,"body_markdown":"Thanks for the answer Steven. I&#39;ll try and play around and find a solution. It is weird because all other Axon annotations (@Aggregate, @EventHandler, etc.) work fine.","body":"Thanks for the answer Steven. I&#39;ll try and play around and find a solution. It is weird because all other Axon annotations (@Aggregate, @EventHandler, etc.) work fine."},{"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"score":1,"creation_date":1654242982,"post_id":72449937,"comment_id":128049094,"body_markdown":"Hmm, that&#39;s very good to know, @vab2048, thanks. Please do keep me posted, because if it&#39;s just Query Handlers that are a bother, there might be an interesting bug in Axon Framework.","body":"Hmm, that&#39;s very good to know, @vab2048, thanks. Please do keep me posted, because if it&#39;s just Query Handlers that are a bother, there might be an interesting bug in Axon Framework."}],"tags":[],"owner":{"account_id":2552081,"reputation":7045,"user_id":2215649,"display_name":"Steven"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697548884,"creation_date":1654008457,"answer_id":72449937,"question_id":72416765,"body_markdown":"I am somewhat in doubt about posting this as an answer, but I will do it regardless. \r\n\r\nHave you tried removing Spring AOP from the mix? \r\nIt seems like Spring AOP is making some inner classes that cause the `IllegalAccessError`, not so much Axon Framework.\r\n\r\nIf this solves the issue, I&#39;d wager there&#39;s something to be done with Spring AOP to make this work. \r\nSadly, this isn&#39;t my forte, so I&#39;d have to investigate what kind of settings, if any, would help in that perspective.\r\n\r\n## Update - Require spring.aop\r\n\r\nAfter quite some time, I felt it necessary to dive into Java Modules myself. In combination with Axon Framework and Spring Boot, of course.\r\n\r\nHence, I updated my personal sample project (which you can find [here][1]) to include a `module-info.java` file. \r\nAfter some work, I hit a roughly similar issue around Spring AOP. \r\n\r\nAlthough I suggested the removal of Spring AOP, I wasn&#39;t directly depending on Spring AOP at all. It is Spring&#39;s Data module that uses Spring AOP to &quot;do its magic.&quot;\r\n\r\nSo, after adding `requires spring.aop` to my `module-info.java` file, I had my project running! I went through a similar exercise in the project linked in the original post, resulting in the same requirement to introduce `requires spring.aop` to the `module-info.java` file to make it run.\r\n\r\nI figured the update would be valuable to nudge others that may encounter a similar predicament!\r\n\r\n  [1]: https://github.com/smcvb/gamerental","title":"Spring `superinterface check failed` when using Java modules (for Axon Framework Spring Boot app)","body":"<p>I am somewhat in doubt about posting this as an answer, but I will do it regardless.</p>\n<p>Have you tried removing Spring AOP from the mix?\nIt seems like Spring AOP is making some inner classes that cause the <code>IllegalAccessError</code>, not so much Axon Framework.</p>\n<p>If this solves the issue, I'd wager there's something to be done with Spring AOP to make this work.\nSadly, this isn't my forte, so I'd have to investigate what kind of settings, if any, would help in that perspective.</p>\n<h2>Update - Require spring.aop</h2>\n<p>After quite some time, I felt it necessary to dive into Java Modules myself. In combination with Axon Framework and Spring Boot, of course.</p>\n<p>Hence, I updated my personal sample project (which you can find <a href=\"https://github.com/smcvb/gamerental\" rel=\"nofollow noreferrer\">here</a>) to include a <code>module-info.java</code> file.\nAfter some work, I hit a roughly similar issue around Spring AOP.</p>\n<p>Although I suggested the removal of Spring AOP, I wasn't directly depending on Spring AOP at all. It is Spring's Data module that uses Spring AOP to &quot;do its magic.&quot;</p>\n<p>So, after adding <code>requires spring.aop</code> to my <code>module-info.java</code> file, I had my project running! I went through a similar exercise in the project linked in the original post, resulting in the same requirement to introduce <code>requires spring.aop</code> to the <code>module-info.java</code> file to make it run.</p>\n<p>I figured the update would be valuable to nudge others that may encounter a similar predicament!</p>\n"}],"owner":{"account_id":6615438,"reputation":1121,"user_id":5108875,"display_name":"vab2048"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72449937,"answer_count":1,"score":1,"last_activity_date":1697548884,"creation_date":1653750354,"question_id":72416765,"body_markdown":"I am currently experimenting with Spring Boot, the Axon Framework and java modules (using JDK 17).\r\n\r\nI have created a repo to illustrate the problem: [here][1]\r\n\r\nThe problem is that the application does not start and I get the exception as follows:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;accountViewProjection&#39; defined in file [C:\\workspace\\axon\\_issue_replication_repos\\axon-module-error\\axon-example-app\\build\\classes\\java\\main\\io\\github\\vab2048\\axon\\example_bug\\app\\query\\account\\AccountViewProjection.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.context@5.3.20/org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:na]\r\n\tat spring.context@5.3.20/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:na]\r\n\tat spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:na]\r\n\tat io.github.vab2048.axon.example_bug.app/io.github.vab2048.axon.example_bug.app.AxonApplication.main(AxonApplication.java:10) ~[main/:na]\r\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:209) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.axonframework.spring@4.5.9/org.axonframework.spring.config.AbstractAnnotationHandlerBeanPostProcessor.createAdapterProxy(AbstractAnnotationHandlerBeanPostProcessor.java:190) ~[axon-spring-4.5.9.jar:na]\r\n\tat org.axonframework.spring@4.5.9/org.axonframework.spring.config.AbstractAnnotationHandlerBeanPostProcessor.postProcessAfterInitialization(AbstractAnnotationHandlerBeanPostProcessor.java:89) ~[axon-spring-4.5.9.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:455) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-5.3.20.jar:na]\r\n\tat spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:na]\r\n\t... 15 common frames omitted\r\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:512) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.3.20.jar:na]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.3.20.jar:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.3.20.jar:na]\r\n\tat org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:57) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\tat org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:206) ~[spring-aop-5.3.20.jar:5.3.20]\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\r\n\tat java.base/java.lang.ClassLoader.defineClass0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2307) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2439) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2416) ~[na:na]\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1843) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat spring.core@5.3.20/org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:507) ~[spring-core-5.3.20.jar:na]\r\n\t... 35 common frames omitted\r\n```\r\n\r\nThe offending code seems to to be in `io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection`:\r\n\r\n```java\r\n    @QueryHandler\r\n    public AccountView getAccount(GetAccountView query) {\r\n        log.debug(&quot;Handling: {}&quot;, query);\r\n        return repository.findById(query.id()).orElseThrow();\r\n    }\r\n```\r\n\r\nIt is the Axon annotation `@QueryHandler` which causes it (you can verify this by commenting it out and then everything works). This is strange because none of the other Axon annotations cause this problem. The package itself is both exported and open in the `module-info.java` file.\r\n\r\nWhat am I doing wrong? I am aware there may be command line arguments which may be added to solve this issue but am not sure what exactly to use (ideally I shouldn&#39;t have to give any command line arguments at all).\r\n\r\n\r\n\r\n  [1]: https://github.com/vab2048/axon-spring-module-error","title":"Spring `superinterface check failed` when using Java modules (for Axon Framework Spring Boot app)","body":"<p>I am currently experimenting with Spring Boot, the Axon Framework and java modules (using JDK 17).</p>\n<p>I have created a repo to illustrate the problem: <a href=\"https://github.com/vab2048/axon-spring-module-error\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The problem is that the application does not start and I get the exception as follows:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'accountViewProjection' defined in file [C:\\workspace\\axon\\_issue_replication_repos\\axon-module-error\\axon-example-app\\build\\classes\\java\\main\\io\\github\\vab2048\\axon\\example_bug\\app\\query\\account\\AccountViewProjection.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:na]\n    at spring.context@5.3.20/org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:na]\n    at spring.context@5.3.20/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:na]\n    at spring.boot@2.7.0/org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:na]\n    at io.github.vab2048.axon.example_bug.app/io.github.vab2048.axon.example_bug.app.AxonApplication.main(AxonApplication.java:10) ~[main/:na]\nCaused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:209) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.axonframework.spring@4.5.9/org.axonframework.spring.config.AbstractAnnotationHandlerBeanPostProcessor.createAdapterProxy(AbstractAnnotationHandlerBeanPostProcessor.java:190) ~[axon-spring-4.5.9.jar:na]\n    at org.axonframework.spring@4.5.9/org.axonframework.spring.config.AbstractAnnotationHandlerBeanPostProcessor.postProcessAfterInitialization(AbstractAnnotationHandlerBeanPostProcessor.java:89) ~[axon-spring-4.5.9.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:455) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-5.3.20.jar:na]\n    at spring.beans@5.3.20/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:na]\n    ... 15 common frames omitted\nCaused by: org.springframework.cglib.core.CodeGenerationException: java.lang.IllegalAccessError--&gt;superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\n    at spring.core@5.3.20/org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:512) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.3.20.jar:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.3.20.jar:na]\n    at spring.core@5.3.20/org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.3.20.jar:na]\n    at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:57) ~[spring-aop-5.3.20.jar:5.3.20]\n    at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:206) ~[spring-aop-5.3.20.jar:5.3.20]\n    ... 21 common frames omitted\nCaused by: java.lang.IllegalAccessError: superinterface check failed: class io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection$$EnhancerBySpringCGLIB$$159eee6a (in module io.github.vab2048.axon.example_bug.app) cannot access class org.springframework.aop.framework.Advised (in unnamed module @0x732d0d24) because module io.github.vab2048.axon.example_bug.app does not read unnamed module @0x732d0d24\n    at java.base/java.lang.ClassLoader.defineClass0(Native Method) ~[na:na]\n    at java.base/java.lang.System$2.defineClass(System.java:2307) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2439) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2416) ~[na:na]\n    at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1843) ~[na:na]\n    at java.base/jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at spring.core@5.3.20/org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:507) ~[spring-core-5.3.20.jar:na]\n    ... 35 common frames omitted\n</code></pre>\n<p>The offending code seems to to be in <code>io.github.vab2048.axon.example_bug.app.query.account.AccountViewProjection</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @QueryHandler\n    public AccountView getAccount(GetAccountView query) {\n        log.debug(&quot;Handling: {}&quot;, query);\n        return repository.findById(query.id()).orElseThrow();\n    }\n</code></pre>\n<p>It is the Axon annotation <code>@QueryHandler</code> which causes it (you can verify this by commenting it out and then everything works). This is strange because none of the other Axon annotations cause this problem. The package itself is both exported and open in the <code>module-info.java</code> file.</p>\n<p>What am I doing wrong? I am aware there may be command line arguments which may be added to solve this issue but am not sure what exactly to use (ideally I shouldn't have to give any command line arguments at all).</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":29692236,"reputation":36,"user_id":22756364,"display_name":"Marcos Paulo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697548733,"creation_date":1697548733,"answer_id":77309357,"question_id":77309289,"body_markdown":"To achieve the desired class file separation based on the directories A, B, and C in your Gradle build, you can use different configurations for each source set and specify dependencies between them. This way, you can control the class file output for each directory and ensure that dependencies are correctly resolved during compilation.\r\n\r\nHere&#39;s a step-by-step approach to set up your Gradle build:\r\n\r\n1. Define source sets:\r\n   Define separate source sets for directories A, B, and C.\r\n\r\n    sourceSets {\r\n        A {\r\n            java.srcDirs = [&#39;A/src&#39;]\r\n        }\r\n        B {\r\n            java.srcDirs = [&#39;B/src&#39;]\r\n        }\r\n        C {\r\n            java.srcDirs = [&#39;C/src&#39;]\r\n        }\r\n    }\r\n\r\n\r\n2. Define dependencies:\r\n   Specify dependencies between the source sets to ensure that classes from B and C are available to A, and classes from C are available to B.\r\n\r\n\r\n    dependencies {\r\n        AImplementation project(&#39;:B&#39;)\r\n        BImplementation project(&#39;:C&#39;)\r\n    }\r\n\r\nReplace `AImplementation` and `BImplementation` with the appropriate configurations depending on your project structure.\r\n\r\n3. Configure JAR tasks:\r\n   Configure JAR tasks to include the specific class directories for each source set.\r\n\r\n\r\n    task AJar(type: Jar) {\r\n        from sourceSets.A.output\r\n        archiveFileName = &quot;A.jar&quot;\r\n    }\r\n    \r\n    task BJar(type: Jar) {\r\n        from sourceSets.B.output\r\n        archiveFileName = &quot;B.jar&quot;\r\n    }\r\n    \r\n    task CJar(type: Jar) {\r\n        from sourceSets.C.output\r\n        archiveFileName = &quot;C.jar&quot;\r\n    }\r\n    \r\n    jar.dependsOn AJar, BJar, CJar\r\n\r\n\r\n\r\nIn this setup, we&#39;ve defined separate JAR tasks for each source set (A, B, C) and configured them to include the respective output directories. Additionally, we&#39;ve set up dependencies between the source sets to ensure proper class file resolution during compilation.\r\n\r\nYou can then run `gradle AJar`, `gradle BJar`, or `gradle CJar` to generate the JAR files for each source set. Adjust the dependencies and configurations according to your specific project structure and requirements.","title":"How to maintain structure in gradle sourceset with more than one src directory","body":"<p>To achieve the desired class file separation based on the directories A, B, and C in your Gradle build, you can use different configurations for each source set and specify dependencies between them. This way, you can control the class file output for each directory and ensure that dependencies are correctly resolved during compilation.</p>\n<p>Here's a step-by-step approach to set up your Gradle build:</p>\n<ol>\n<li><p>Define source sets:\nDefine separate source sets for directories A, B, and C.</p>\n<p>sourceSets {\nA {\njava.srcDirs = ['A/src']\n}\nB {\njava.srcDirs = ['B/src']\n}\nC {\njava.srcDirs = ['C/src']\n}\n}</p>\n</li>\n<li><p>Define dependencies:\nSpecify dependencies between the source sets to ensure that classes from B and C are available to A, and classes from C are available to B.</p>\n<p>dependencies {\nAImplementation project(':B')\nBImplementation project(':C')\n}</p>\n</li>\n</ol>\n<p>Replace <code>AImplementation</code> and <code>BImplementation</code> with the appropriate configurations depending on your project structure.</p>\n<ol start=\"3\">\n<li><p>Configure JAR tasks:\nConfigure JAR tasks to include the specific class directories for each source set.</p>\n<p>task AJar(type: Jar) {\nfrom sourceSets.A.output\narchiveFileName = &quot;A.jar&quot;\n}</p>\n<p>task BJar(type: Jar) {\nfrom sourceSets.B.output\narchiveFileName = &quot;B.jar&quot;\n}</p>\n<p>task CJar(type: Jar) {\nfrom sourceSets.C.output\narchiveFileName = &quot;C.jar&quot;\n}</p>\n<p>jar.dependsOn AJar, BJar, CJar</p>\n</li>\n</ol>\n<p>In this setup, we've defined separate JAR tasks for each source set (A, B, C) and configured them to include the respective output directories. Additionally, we've set up dependencies between the source sets to ensure proper class file resolution during compilation.</p>\n<p>You can then run <code>gradle AJar</code>, <code>gradle BJar</code>, or <code>gradle CJar</code> to generate the JAR files for each source set. Adjust the dependencies and configurations according to your specific project structure and requirements.</p>\n"}],"owner":{"account_id":26409459,"reputation":35,"user_id":20058715,"display_name":"BoroBoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77309357,"answer_count":1,"score":0,"last_activity_date":1697548733,"creation_date":1697548199,"question_id":77309289,"body_markdown":"In my root project I have 3 directories. Let&#39;s call them A,B and C. All of those directories contains some directories with .java files. Those files are dependent on each other somehow. Now, when I run gradle build task, gradle creates rootDir/build/classes dir. But all of those .class files are mixed. I want to have classes/A/&lt;some .class files&gt;, classes/B/&lt;some .class files&gt; and classes/C/&lt;some .class files&gt;. Instead I got all of them under one classes/main. For now my sourceSets look like this: \r\n\r\n    sourceSets {\r\n        main {java {\r\n                        srcDirs &quot;A/src&quot;\r\n                        srcDirs &quot;B/src&quot;\r\n                        srcDirs &quot;C/src&quot;\r\n                }}}\r\n\r\nI tried to create different structure like this: \r\n\r\n    sourceSets {\r\n        A {java {srcDirs &quot;A/src&quot;}}\r\n        B {...}\r\n        C {...}}\r\n\r\n\r\nThen, when I try to run this task: \r\n\r\n    task A(type:Jar) {\r\n        from sourceSets.A.output.classesDirs\r\n        from sourceSets.A.java.srcDirs\r\n        include &#39;**/*.class&#39;\r\n        archiveFileName = &quot;A.jar&quot;}\r\n\r\nObviously I got compilation error, since those classes cannot find methods from B and C. \r\nIs there any way to resolve this, or I will be forced to change structure of my code?\r\n","title":"How to maintain structure in gradle sourceset with more than one src directory","body":"<p>In my root project I have 3 directories. Let's call them A,B and C. All of those directories contains some directories with .java files. Those files are dependent on each other somehow. Now, when I run gradle build task, gradle creates rootDir/build/classes dir. But all of those .class files are mixed. I want to have classes/A/&lt;some .class files&gt;, classes/B/&lt;some .class files&gt; and classes/C/&lt;some .class files&gt;. Instead I got all of them under one classes/main. For now my sourceSets look like this:</p>\n<pre><code>sourceSets {\n    main {java {\n                    srcDirs &quot;A/src&quot;\n                    srcDirs &quot;B/src&quot;\n                    srcDirs &quot;C/src&quot;\n            }}}\n</code></pre>\n<p>I tried to create different structure like this:</p>\n<pre><code>sourceSets {\n    A {java {srcDirs &quot;A/src&quot;}}\n    B {...}\n    C {...}}\n</code></pre>\n<p>Then, when I try to run this task:</p>\n<pre><code>task A(type:Jar) {\n    from sourceSets.A.output.classesDirs\n    from sourceSets.A.java.srcDirs\n    include '**/*.class'\n    archiveFileName = &quot;A.jar&quot;}\n</code></pre>\n<p>Obviously I got compilation error, since those classes cannot find methods from B and C.\nIs there any way to resolve this, or I will be forced to change structure of my code?</p>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1697439705,"post_id":77299862,"comment_id":136275220,"body_markdown":"I must assume that both `run` methods are in different threads (it would be better to have a [mre] in the question) - after a short look over given code, the second `run()` is not waiting for the first, so it can (and probably will) iterate more than once before the other thread even get a chance to run - but without a [mre], we are not able to see what `Odd`, `Even` or `input` are doing...","body":"I must assume that both <code>run</code> methods are in different threads (it would be better to have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question) - after a short look over given code, the second <code>run()</code> is not waiting for the first, so it can (and probably will) iterate more than once before the other thread even get a chance to run - but without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, we are not able to see what <code>Odd</code>, <code>Even</code> or <code>input</code> are doing..."}],"answers":[{"tags":[],"owner":{"account_id":25495908,"reputation":29,"user_id":19289978,"display_name":"zhan"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1697454319,"creation_date":1697447382,"answer_id":77300713,"question_id":77299862,"body_markdown":"You wanna the number in order, then you must be sure the threads wait each other.\r\nI suggest you write like this:\r\n**Even**\r\n\r\n    for (int i = 1; i &lt;=number ; i+=2) {\r\n      if(allNumber.size == i){\r\n        synchronized (allNumber) {\r\n          if(allNumber.size == i){\r\n                allNumber.add(i);\r\n          }  \r\n        }\r\n      }\r\n    }\r\n    \r\n**Odd**\r\n\r\n    for (int i = 0; i &lt;=number ; i+=2) {\r\n      if(allNumber.size == i){\r\n        synchronized (allNumber) {\r\n           if(allNumber.size == i){\r\n                allNumber.add(i);\r\n           }   \r\n        }\r\n      }\r\n    }","title":"print number in order with thread","body":"<p>You wanna the number in order, then you must be sure the threads wait each other.\nI suggest you write like this:\n<strong>Even</strong></p>\n<pre><code>for (int i = 1; i &lt;=number ; i+=2) {\n  if(allNumber.size == i){\n    synchronized (allNumber) {\n      if(allNumber.size == i){\n            allNumber.add(i);\n      }  \n    }\n  }\n}\n</code></pre>\n<p><strong>Odd</strong></p>\n<pre><code>for (int i = 0; i &lt;=number ; i+=2) {\n  if(allNumber.size == i){\n    synchronized (allNumber) {\n       if(allNumber.size == i){\n            allNumber.add(i);\n       }   \n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26355334,"reputation":55,"user_id":20012406,"display_name":"xaso"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697548591,"creation_date":1697455942,"answer_id":77301621,"question_id":77299862,"body_markdown":"I find one way this is my Even class code\r\n\r\n```java\r\npublic class Even extends Thread {\r\n\tprivate final int input;\r\n\tprivate final List&lt;Integer&gt; allNumbers;\r\n\r\n\tprivate List&lt;Integer&gt; evenList = new ArrayList&lt;&gt;();\r\n\r\n\tpublic Even(int input, List&lt;Integer&gt; sharedList) {\r\n\t\tthis.input = input;\r\n\t\tthis.allNumbers = sharedList;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tsynchronized (allNumbers) {\r\n\t\t\tfor (int i = 0; i &lt;= input; i += 2) {\r\n\t\t\t\tallNumbers.add(i);\r\n\t\t\t\tevenList.add(i);\r\n\t\t\t\tallNumbers.notify();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (i &lt; input) {\r\n\t\t\t\t\t\tallNumbers.wait();\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.print(&quot;Even: &quot; + evenList + &quot; &quot;);\r\n\t\tSystem.out.println();\r\n\t}\r\n}\r\n```\r\n\r\nI do same for odd class then in main class create a list and pass it to Eeven and Odd class","title":"print number in order with thread","body":"<p>I find one way this is my Even class code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Even extends Thread {\n    private final int input;\n    private final List&lt;Integer&gt; allNumbers;\n\n    private List&lt;Integer&gt; evenList = new ArrayList&lt;&gt;();\n\n    public Even(int input, List&lt;Integer&gt; sharedList) {\n        this.input = input;\n        this.allNumbers = sharedList;\n    }\n\n    @Override\n    public void run() {\n        synchronized (allNumbers) {\n            for (int i = 0; i &lt;= input; i += 2) {\n                allNumbers.add(i);\n                evenList.add(i);\n                allNumbers.notify();\n                try {\n                    if (i &lt; input) {\n                        allNumbers.wait();\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        System.out.print(&quot;Even: &quot; + evenList + &quot; &quot;);\n        System.out.println();\n    }\n}\n</code></pre>\n<p>I do same for odd class then in main class create a list and pass it to Eeven and Odd class</p>\n"}],"owner":{"account_id":26355334,"reputation":55,"user_id":20012406,"display_name":"xaso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77301621,"answer_count":2,"score":1,"last_activity_date":1697548591,"creation_date":1697439074,"question_id":77299862,"body_markdown":"I want create two thread first one even and second one odd and I want have synchronized list to add this number and at last print number in order this is my codes\r\n\r\n```\r\n     @Override\r\n    public void run() {\r\n        synchronized (allNumber) {\r\n            for (int i = 1; i &lt;=number ; i+=2) {\r\n                allNumber.add(i);\r\n                try {\r\n                    allNumber.wait();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n     @Override\r\n    public void run() {\r\n        synchronized (allNumber){\r\n        for (int i = 0; i &lt;= number; i+=2) {\r\n            allNumber.add(i);\r\n            allNumber.notify();\r\n        }\r\n        }\r\n    }\r\n    public class Main {\r\n    private static Scanner input = new Scanner(System.in);\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        System.out.print(&quot;Enter Your Number: &quot;);\r\n        int number = input.nextInt();\r\n\r\n        List&lt;Integer&gt; sharedList = new ArrayList&lt;&gt;();\r\n\r\n        Odd oddThread = new Odd(number, sharedList);\r\n        Even evenThread = new Even(number, sharedList);\r\n\r\n        Thread thread = new Thread(oddThread);\r\n\r\n        Thread thread1 = new Thread(evenThread);\r\n\r\n        thread.start();\r\n        thread1.start();\r\n\r\n        System.out.println(&quot;List: &quot; + sharedList);\r\n\r\n    }\r\n}\r\n```\r\n\r\nmy output is not in order and its not complete\r\n","title":"print number in order with thread","body":"<p>I want create two thread first one even and second one odd and I want have synchronized list to add this number and at last print number in order this is my codes</p>\n<pre><code>     @Override\n    public void run() {\n        synchronized (allNumber) {\n            for (int i = 1; i &lt;=number ; i+=2) {\n                allNumber.add(i);\n                try {\n                    allNumber.wait();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n        }\n    }\n     @Override\n    public void run() {\n        synchronized (allNumber){\n        for (int i = 0; i &lt;= number; i+=2) {\n            allNumber.add(i);\n            allNumber.notify();\n        }\n        }\n    }\n    public class Main {\n    private static Scanner input = new Scanner(System.in);\n    public static void main(String[] args) throws InterruptedException {\n\n        System.out.print(&quot;Enter Your Number: &quot;);\n        int number = input.nextInt();\n\n        List&lt;Integer&gt; sharedList = new ArrayList&lt;&gt;();\n\n        Odd oddThread = new Odd(number, sharedList);\n        Even evenThread = new Even(number, sharedList);\n\n        Thread thread = new Thread(oddThread);\n\n        Thread thread1 = new Thread(evenThread);\n\n        thread.start();\n        thread1.start();\n\n        System.out.println(&quot;List: &quot; + sharedList);\n\n    }\n}\n</code></pre>\n<p>my output is not in order and its not complete</p>\n"},{"tags":["java","singleton"],"owner":{"account_id":201350,"reputation":2144,"user_id":447738,"accept_rate":57,"display_name":"cksrc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697548265,"creation_date":1697548127,"question_id":77309279,"body_markdown":"I am providing a Java service responsible for abstracting away the connection to a TCP server. The idea is to avoid opening a new connection whenever `connect()` is called.\r\n\r\nFor me, this is the definition of the singleton pattern usage. Still, given the criticism around it, I would like to ask if there are other better and meaningful alternatives, specifically for such cases.\r\n\r\n    public class TCPConnectionService {\r\n        private static TCPConnectionService instance;\r\n        private final TCPConnection connection;\r\n        private TCPConnectionService() {\r\n            this.connection = connect();\r\n        }\r\n        public synchronized static TCPConnectionService getInstance() {\r\n            if (instance == null) {\r\n                instance = new TCPConnectionService();\r\n            }\r\n    \r\n            return instance;\r\n        }\r\n        private TCPConnection connect() {...}\r\n    }","title":"Java singleton, any alternatives for this usecase?","body":"<p>I am providing a Java service responsible for abstracting away the connection to a TCP server. The idea is to avoid opening a new connection whenever <code>connect()</code> is called.</p>\n<p>For me, this is the definition of the singleton pattern usage. Still, given the criticism around it, I would like to ask if there are other better and meaningful alternatives, specifically for such cases.</p>\n<pre><code>public class TCPConnectionService {\n    private static TCPConnectionService instance;\n    private final TCPConnection connection;\n    private TCPConnectionService() {\n        this.connection = connect();\n    }\n    public synchronized static TCPConnectionService getInstance() {\n        if (instance == null) {\n            instance = new TCPConnectionService();\n        }\n\n        return instance;\n    }\n    private TCPConnection connect() {...}\n}\n</code></pre>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":83902,"reputation":17582,"user_id":234922,"accept_rate":91,"display_name":"fasseg"},"score":0,"creation_date":1299079091,"post_id":5169468,"comment_id":5805890,"body_markdown":"what exception are you running into?","body":"what exception are you running into?"},{"owner":{"account_id":70257,"reputation":8414,"user_id":203905,"accept_rate":85,"display_name":"mgv"},"score":0,"creation_date":1299079310,"post_id":5169468,"comment_id":5805948,"body_markdown":"The exception is HttpResponseException","body":"The exception is HttpResponseException"}],"answers":[{"comments":[{"owner":{"account_id":70257,"reputation":8414,"user_id":203905,"accept_rate":85,"display_name":"mgv"},"score":1,"creation_date":1299088361,"post_id":5170468,"comment_id":5808418,"body_markdown":"I&#39;ve overriden #isRedirectRequested() of DefaultRedirectHandler to consider also POST methods and it&#39;s working as expected. Thanks!","body":"I&#39;ve overriden #isRedirectRequested() of DefaultRedirectHandler to consider also POST methods and it&#39;s working as expected. Thanks!"},{"owner":{"account_id":348658,"reputation":2994,"user_id":683482,"accept_rate":77,"display_name":"Jeff Bootsholz"},"score":0,"creation_date":1384704133,"post_id":5170468,"comment_id":29833448,"body_markdown":"how about using httpPost with e overriden #isRedirectRequested() of DefaultRedirectHandler ?","body":"how about using httpPost with e overriden #isRedirectRequested() of DefaultRedirectHandler ?"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1596475308,"post_id":5170468,"comment_id":111816726,"body_markdown":"302 behavior was redefined in [RFC 7231](https://tools.ietf.org/html/rfc7231#section-6.4.3): _&quot;The user agent MAY use the Location field value for automatic redirection.&quot;_","body":"302 behavior was redefined in <a href=\"https://tools.ietf.org/html/rfc7231#section-6.4.3\" rel=\"nofollow noreferrer\">RFC 7231</a>: <i>&quot;The user agent MAY use the Location field value for automatic redirection.&quot;</i>"}],"tags":[],"owner":{"account_id":133909,"reputation":26610,"user_id":335638,"display_name":"ok2c"},"comment_count":3,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1299083535,"creation_date":1299083535,"answer_id":5170468,"question_id":5169468,"body_markdown":"The default behaviour of HttpClient is compliant with the requirements of the HTTP specification (RFC 2616)\r\n\r\n&lt;pre&gt;\r\n10.3.3 302 Found\r\n...\r\n\r\n   If the 302 status code is received in response to a request other\r\n   than GET or HEAD, the user agent MUST NOT automatically redirect the\r\n   request unless it can be confirmed by the user, since this might\r\n   change the conditions under which the request was issued.\r\n\r\n&lt;/pre&gt;\r\n\r\nYou can override the default behaviour of HttpClient by sub-classing DefaultRedirectStrategy and overriding its #isRedirected() method. ","title":"Handling HttpClient Redirects","body":"<p>The default behaviour of HttpClient is compliant with the requirements of the HTTP specification (RFC 2616)</p>\n\n<pre>\n10.3.3 302 Found\n...\n\n   If the 302 status code is received in response to a request other\n   than GET or HEAD, the user agent MUST NOT automatically redirect the\n   request unless it can be confirmed by the user, since this might\n   change the conditions under which the request was issued.\n\n</pre>\n\n<p>You can override the default behaviour of HttpClient by sub-classing DefaultRedirectStrategy and overriding its #isRedirected() method. </p>\n"},{"comments":[{"owner":{"account_id":3416214,"reputation":551,"user_id":3029715,"accept_rate":67,"display_name":"David"},"score":0,"creation_date":1459363884,"post_id":20363295,"comment_id":60257941,"body_markdown":"Just a tip, you should probably limit the redirect count, this approach may* result in a ANR as malicious or poorly programmed content will constantly redirect.","body":"Just a tip, you should probably limit the redirect count, this approach may* result in a ANR as malicious or poorly programmed content will constantly redirect."}],"tags":[],"owner":{"account_id":313841,"reputation":3065,"user_id":628694,"display_name":"Khai Nguyen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386110867,"creation_date":1386110867,"answer_id":20363295,"question_id":5169468,"body_markdown":"It seem http redirect is disable by default. I try to enable, it work but I&#39;m still got error with my problem. But we still can handle redirection pragmatically. I think your problem can solve:\r\nSo old code:\r\n\r\n    AndroidHttpClient httpClient = AndroidHttpClient.newInstance(&quot;User-Agent&quot;);\r\n    HttpGet httpGet = new HttpGet(url);\r\n    HttpResponse httpResponse = httpClient.execute(httpGet);\r\n    long contentSize = httpResponse.getEntity().getContentLength();\r\nThis code will return `contentSize = -1` if http redirect happend\r\n\r\nAnd then I handle redirect by myself after trying enable default follow redirection\r\n\r\n    AndroidHttpClient client;\r\n    HttpGet httpGet;\r\n    HttpResponse response;\r\n    HttpHeader httpHeader;\r\n    private void handleHTTPRedirect(String url) throws IOException {\r\n\t\tif (client != null)\r\n\t\t\tclient.close();\r\n\r\n\t\tclient = AndroidHttpClient.newInstance(&quot;User-Agent&quot;);\r\n\t\thttpGet = new HttpGet(Network.encodeUrl(url));\r\n\t\tresponse = client.execute(httpGet);\r\n\t\thttpHeader = response.getHeaders(&quot;Location&quot;);\r\n\t\twhile (httpHeader.length &gt; 0) {\r\n\t\t\tclient.close();\r\n\t\t\tclient = AndroidHttpClient.newInstance(&quot;User-Agent&quot;);\r\n\r\n\t\t\thttpGet = new HttpGet(Network.encodeUrl(httpHeader[0].getValue()));\r\n\t\t\tresponse = client.execute(httpGet);\r\n\t\t\thttpHeader = response.getHeaders(&quot;Location&quot;);\r\n\t\t}\r\n\t}\r\n\r\nIn use\r\n\r\n    handleHTTPRedirect(url);\r\n    long contentSize = httpResponse.getEntity().getContentLength();\r\n    \r\nThanks\r\nNguyen\r\n","title":"Handling HttpClient Redirects","body":"<p>It seem http redirect is disable by default. I try to enable, it work but I'm still got error with my problem. But we still can handle redirection pragmatically. I think your problem can solve:\nSo old code:</p>\n\n<pre><code>AndroidHttpClient httpClient = AndroidHttpClient.newInstance(\"User-Agent\");\nHttpGet httpGet = new HttpGet(url);\nHttpResponse httpResponse = httpClient.execute(httpGet);\nlong contentSize = httpResponse.getEntity().getContentLength();\n</code></pre>\n\n<p>This code will return <code>contentSize = -1</code> if http redirect happend</p>\n\n<p>And then I handle redirect by myself after trying enable default follow redirection</p>\n\n<pre><code>AndroidHttpClient client;\nHttpGet httpGet;\nHttpResponse response;\nHttpHeader httpHeader;\nprivate void handleHTTPRedirect(String url) throws IOException {\n    if (client != null)\n        client.close();\n\n    client = AndroidHttpClient.newInstance(\"User-Agent\");\n    httpGet = new HttpGet(Network.encodeUrl(url));\n    response = client.execute(httpGet);\n    httpHeader = response.getHeaders(\"Location\");\n    while (httpHeader.length &gt; 0) {\n        client.close();\n        client = AndroidHttpClient.newInstance(\"User-Agent\");\n\n        httpGet = new HttpGet(Network.encodeUrl(httpHeader[0].getValue()));\n        response = client.execute(httpGet);\n        httpHeader = response.getHeaders(\"Location\");\n    }\n}\n</code></pre>\n\n<p>In use</p>\n\n<pre><code>handleHTTPRedirect(url);\nlong contentSize = httpResponse.getEntity().getContentLength();\n</code></pre>\n\n<p>Thanks\nNguyen</p>\n"},{"comments":[{"owner":{"account_id":144722,"reputation":12485,"user_id":353985,"accept_rate":59,"display_name":"redochka"},"score":1,"creation_date":1494835122,"post_id":23181680,"comment_id":74977981,"body_markdown":"thanks ! Curious to know if this is possible with their fluent api?","body":"thanks ! Curious to know if this is possible with their fluent api?"},{"owner":{"account_id":144722,"reputation":12485,"user_id":353985,"accept_rate":59,"display_name":"redochka"},"score":1,"creation_date":1494838891,"post_id":23181680,"comment_id":74980145,"body_markdown":"I was hoping that HttpClient will replay my original POST request with its form data when following the redirect, however, a HTTP GET request was made. I know this is the spec but Useless for me :(","body":"I was hoping that HttpClient will replay my original POST request with its form data when following the redirect, however, a HTTP GET request was made. I know this is the spec but Useless for me :("},{"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"score":2,"creation_date":1495832868,"post_id":23181680,"comment_id":75432758,"body_markdown":"If you use `RequestConfig` there are two methods you can use while building the config: `setRedirectsEnabled` and `setRelativeRedirectsAllowed`, used like this: `org.apache.http.client.config.RequestConfig reqCfg = RequestConfig.copy(RequestConfig.DEFAULT).setRedirectsEnabled(true).setRelativeRedirectsAllowed(true).build();` and then use it like this: `HttpGet get = new HttpGet(someUri); get.setConfig(reqCfg);`","body":"If you use <code>RequestConfig</code> there are two methods you can use while building the config: <code>setRedirectsEnabled</code> and <code>setRelativeRedirectsAllowed</code>, used like this: <code>org.apache.http.client.config.RequestConfig reqCfg = RequestConfig.copy(RequestConfig.DEFAULT).setRedirectsEnable&zwnj;&#8203;d(true).setRelativeR&zwnj;&#8203;edirectsAllowed(true&zwnj;&#8203;).build();</code> and then use it like this: <code>HttpGet get = new HttpGet(someUri); get.setConfig(reqCfg);</code>"}],"tags":[],"owner":{"account_id":985099,"reputation":6304,"user_id":1003815,"accept_rate":73,"display_name":"RTF"},"comment_count":3,"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1397994832,"creation_date":1397994832,"answer_id":23181680,"question_id":5169468,"body_markdown":"For HttpClient **4.3**:  \r\n\r\n    HttpClient instance = HttpClientBuilder.create()\r\n                         .setRedirectStrategy(new LaxRedirectStrategy()).build();\r\n\r\nFor HttpClient **4.2**:  \r\n\r\n    DefaultHttpClient client = new DefaultHttpClient();\r\n    client.setRedirectStrategy(new LaxRedirectStrategy());\r\n\r\nFor HttpClient **&lt; 4.2**:  \r\n\r\n    DefaultHttpClient client = new DefaultHttpClient();\r\n    client.setRedirectStrategy(new DefaultRedirectStrategy() {\r\n        /** Redirectable methods. */\r\n        private String[] REDIRECT_METHODS = new String[] { \r\n            HttpGet.METHOD_NAME, HttpPost.METHOD_NAME, HttpHead.METHOD_NAME \r\n        };\r\n \r\n        @Override\r\n        protected boolean isRedirectable(String method) {\r\n            for (String m : REDIRECT_METHODS) {\r\n                if (m.equalsIgnoreCase(method)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    });","title":"Handling HttpClient Redirects","body":"<p>For HttpClient <strong>4.3</strong>:  </p>\n\n<pre><code>HttpClient instance = HttpClientBuilder.create()\n                     .setRedirectStrategy(new LaxRedirectStrategy()).build();\n</code></pre>\n\n<p>For HttpClient <strong>4.2</strong>:  </p>\n\n<pre><code>DefaultHttpClient client = new DefaultHttpClient();\nclient.setRedirectStrategy(new LaxRedirectStrategy());\n</code></pre>\n\n<p>For HttpClient <strong>&lt; 4.2</strong>:  </p>\n\n<pre><code>DefaultHttpClient client = new DefaultHttpClient();\nclient.setRedirectStrategy(new DefaultRedirectStrategy() {\n    /** Redirectable methods. */\n    private String[] REDIRECT_METHODS = new String[] { \n        HttpGet.METHOD_NAME, HttpPost.METHOD_NAME, HttpHead.METHOD_NAME \n    };\n\n    @Override\n    protected boolean isRedirectable(String method) {\n        for (String m : REDIRECT_METHODS) {\n            if (m.equalsIgnoreCase(method)) {\n                return true;\n            }\n        }\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":52375,"reputation":6473,"user_id":156522,"accept_rate":83,"display_name":"vsingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489586639,"creation_date":1489586639,"answer_id":42812058,"question_id":5169468,"body_markdown":"My solution is using HttClient. I had to send the response back to the caller. This is my solution \r\n\r\n\t\tCloseableHttpClient httpClient = HttpClients.custom()\r\n\t\t\t\t.setRedirectStrategy(new LaxRedirectStrategy())\r\n\t\t\t\t.build();\r\n\r\n\t\t//this reads the input stream from POST\r\n\t\tServletInputStream str = request.getInputStream();\r\n\r\n\t\tHttpPost httpPost = new HttpPost(path);\r\n\t\tHttpEntity postParams = new InputStreamEntity(str);\r\n\t\thttpPost.setEntity(postParams);\r\n\r\n\t\tHttpResponse httpResponse = null ;\r\n\t\tint responseCode = -1 ;\r\n\t\tStringBuffer response  = new StringBuffer();\r\n\r\n\t\ttry {\r\n\r\n\t\t\thttpResponse = httpClient.execute(httpPost);\r\n\r\n\t\t\tresponseCode = httpResponse.getStatusLine().getStatusCode();\r\n\t\t\tlogger.info(&quot;POST Response Status::  {} for file {}  &quot;, responseCode, request.getQueryString());\r\n\r\n\t\t\t//return httpResponse ;\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\thttpResponse.getEntity().getContent()));\r\n\r\n\t\t\tString inputLine;\r\n\t\t\twhile ((inputLine = reader.readLine()) != null) {\r\n\t\t\t\tresponse.append(inputLine);\r\n\t\t\t}\r\n\t\t\treader.close();\r\n\r\n\t\t\tlogger.info(&quot; Final Complete Response {}  &quot; + response.toString());\r\n\t\t\thttpClient.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t\tlogger.error(&quot;Exception &quot;, e);\r\n\r\n\t\t} finally {\r\n\r\n\t\t\tIOUtils.closeQuietly(httpClient);\r\n\r\n\t\t}\r\n\r\n\t\t// Return the response back to caller\r\n\t\treturn \tnew ResponseEntity&lt;String&gt;(response.toString(), HttpStatus.ACCEPTED);","title":"Handling HttpClient Redirects","body":"<p>My solution is using HttClient. I had to send the response back to the caller. This is my solution </p>\n\n<pre><code>    CloseableHttpClient httpClient = HttpClients.custom()\n            .setRedirectStrategy(new LaxRedirectStrategy())\n            .build();\n\n    //this reads the input stream from POST\n    ServletInputStream str = request.getInputStream();\n\n    HttpPost httpPost = new HttpPost(path);\n    HttpEntity postParams = new InputStreamEntity(str);\n    httpPost.setEntity(postParams);\n\n    HttpResponse httpResponse = null ;\n    int responseCode = -1 ;\n    StringBuffer response  = new StringBuffer();\n\n    try {\n\n        httpResponse = httpClient.execute(httpPost);\n\n        responseCode = httpResponse.getStatusLine().getStatusCode();\n        logger.info(\"POST Response Status::  {} for file {}  \", responseCode, request.getQueryString());\n\n        //return httpResponse ;\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                httpResponse.getEntity().getContent()));\n\n        String inputLine;\n        while ((inputLine = reader.readLine()) != null) {\n            response.append(inputLine);\n        }\n        reader.close();\n\n        logger.info(\" Final Complete Response {}  \" + response.toString());\n        httpClient.close();\n\n    } catch (Exception e) {\n\n        logger.error(\"Exception \", e);\n\n    } finally {\n\n        IOUtils.closeQuietly(httpClient);\n\n    }\n\n    // Return the response back to caller\n    return  new ResponseEntity&lt;String&gt;(response.toString(), HttpStatus.ACCEPTED);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2150734,"reputation":1049,"user_id":1907186,"display_name":"Lucas Ross"},"score":0,"creation_date":1684302978,"post_id":75319547,"comment_id":134496583,"body_markdown":"I don&#39;t believe this answers the question, as this will disable all redirects. With v5, redirects for all HTTP methods will be followed by default (equivalent to v4&#39;s LaxRedirectStrategy).","body":"I don&#39;t believe this answers the question, as this will disable all redirects. With v5, redirects for all HTTP methods will be followed by default (equivalent to v4&#39;s LaxRedirectStrategy)."}],"tags":[],"owner":{"account_id":11431168,"reputation":109,"user_id":8379823,"display_name":"Johnson Carneiro"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675320466,"creation_date":1675320466,"answer_id":75319547,"question_id":5169468,"body_markdown":"For HttpClient v5, just use the below:\r\n\r\n    httpClient = HttpClientBuilder.create()\r\n                .setRedirectStrategy(new DefaultRedirectStrategy() {\r\n                \t@Override\r\n                \tpublic boolean isRedirected(HttpRequest request, HttpResponse response, HttpContext context)\r\n                \t\t\tthrows ProtocolException {\r\n                \t\treturn false;\r\n                \t}\r\n                }).build();","title":"Handling HttpClient Redirects","body":"<p>For HttpClient v5, just use the below:</p>\n<pre><code>httpClient = HttpClientBuilder.create()\n            .setRedirectStrategy(new DefaultRedirectStrategy() {\n                @Override\n                public boolean isRedirected(HttpRequest request, HttpResponse response, HttpContext context)\n                        throws ProtocolException {\n                    return false;\n                }\n            }).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697548112,"creation_date":1697548112,"answer_id":77309275,"question_id":5169468,"body_markdown":"To handle redirects in Java HttpClient (i.e. java.net.http.HttpClient), we can use followRedirects() when we build HttpClient like this:\r\n\r\n    HttpClient httpClient = HttpClient.newBuilder()\r\n    .followRedirects(HttpClient.Redirect.ALWAYS)\r\n    .build();\r\n\r\n","title":"Handling HttpClient Redirects","body":"<p>To handle redirects in Java HttpClient (i.e. java.net.http.HttpClient), we can use followRedirects() when we build HttpClient like this:</p>\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n.followRedirects(HttpClient.Redirect.ALWAYS)\n.build();\n</code></pre>\n"}],"owner":{"account_id":70257,"reputation":8414,"user_id":203905,"accept_rate":85,"display_name":"mgv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81713,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":5170468,"answer_count":6,"score":51,"last_activity_date":1697548112,"creation_date":1299078727,"question_id":5169468,"body_markdown":"I&#39;m POSTing some data to a server that is answering a 302 Moved Temporarily.\r\n\r\nI want HttpClient to follow the redirect and automatically GET the new location, as I believe it&#39;s the default behaviour of HttpClient. However, I&#39;m getting an exception and not following the redirect :(\r\n\r\nHere&#39;s the relevant piece of code, any ideas will be appreciated:\r\n\r\n    HttpParams httpParams = new BasicHttpParams();\r\n    HttpClientParams.setRedirecting(httpParams, true);\r\n    SchemeRegistry schemeRegistry = registerFactories();\r\n    ClientConnectionManager clientConnectionManager = new ThreadSafeClientConnManager(httpParams, schemeRegistry);\r\n\t\t\r\n    HttpClient httpClient = new DefaultHttpClient(clientConnectionManager, httpParams)\r\n    HttpPost postRequest = new HttpPost(url);\r\n    postRequest.setHeader(HTTP.CONTENT_TYPE, contentType);\r\n    postRequest.setHeader(ACCEPT, contentType);\r\n    \t\t\r\n    if (requestBodyString != null) {\r\n        postRequest.setEntity(new StringEntity(requestBodyString));\r\n    }\r\n    \r\n    return httpClient.execute(postRequest, responseHandler);","title":"Handling HttpClient Redirects","body":"<p>I'm POSTing some data to a server that is answering a 302 Moved Temporarily.</p>\n\n<p>I want HttpClient to follow the redirect and automatically GET the new location, as I believe it's the default behaviour of HttpClient. However, I'm getting an exception and not following the redirect :(</p>\n\n<p>Here's the relevant piece of code, any ideas will be appreciated:</p>\n\n<pre><code>HttpParams httpParams = new BasicHttpParams();\nHttpClientParams.setRedirecting(httpParams, true);\nSchemeRegistry schemeRegistry = registerFactories();\nClientConnectionManager clientConnectionManager = new ThreadSafeClientConnManager(httpParams, schemeRegistry);\n\nHttpClient httpClient = new DefaultHttpClient(clientConnectionManager, httpParams)\nHttpPost postRequest = new HttpPost(url);\npostRequest.setHeader(HTTP.CONTENT_TYPE, contentType);\npostRequest.setHeader(ACCEPT, contentType);\n\nif (requestBodyString != null) {\n    postRequest.setEntity(new StringEntity(requestBodyString));\n}\n\nreturn httpClient.execute(postRequest, responseHandler);\n</code></pre>\n"},{"tags":["java","rest","oracle-cloud-infrastructure"],"answers":[{"comments":[{"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"score":0,"creation_date":1697558364,"post_id":77309219,"comment_id":136293788,"body_markdown":"Hey Jeremy,\nThanks for the response.\nI have the Compartment ID and Tenancy ID(I guess I should use the ocid and not the Compartment name/Tenancy name itself, right?\nIn my case they are identical, (Compartment = Tenancy) is that OK?\n\nThat&#39;s the new URL that I ran and got the same error message &quot;Illegal character in path at index&quot; with the lase index in the end.\n(The ocid was shorten before I&#39;ve uploaded it to StackOverflow . . .)\n\nhttps://objectstorage.{{Region}}.oraclecloud.com/n/ocid1.tenancy..0my/b/?compartmentId=ocid1.tenancy..0my","body":"Hey Jeremy, Thanks for the response. I have the Compartment ID and Tenancy ID(I guess I should use the ocid and not the Compartment name/Tenancy name itself, right? In my case they are identical, (Compartment = Tenancy) is that OK?  That&#39;s the new URL that I ran and got the same error message &quot;Illegal character in path at index&quot; with the lase index in the end. (The ocid was shorten before I&#39;ve uploaded it to StackOverflow . . .)  <a href=\"https://objectstorage\" rel=\"nofollow noreferrer\">objectstorage</a>.{{Region}}.oraclecloud.com/n/ocid1.tenancy..0m&zwnj;&#8203;y/b/?compartmentId=o&zwnj;&#8203;cid1.tenancy..0my"},{"owner":{"account_id":11698906,"reputation":1250,"user_id":8564731,"display_name":"Jeremy Fiel"},"score":0,"creation_date":1697559487,"post_id":77309219,"comment_id":136293987,"body_markdown":"is your `tenacy` the same as your `namespaceName`?  The docs indicate the namespace is part of the uri and the `compartmentId` is a required query param.","body":"is your <code>tenacy</code> the same as your <code>namespaceName</code>?  The docs indicate the namespace is part of the uri and the <code>compartmentId</code> is a required query param."}],"tags":[],"owner":{"account_id":11698906,"reputation":1250,"user_id":8564731,"display_name":"Jeremy Fiel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697547693,"creation_date":1697547693,"answer_id":77309219,"question_id":77308538,"body_markdown":"If you want to list the buckets, you have the wrong endpoint. There&#39;s no information in the docs indicating the version `20160918` should be passed in the uri. \r\n\r\nThe correct uri should be\r\n\r\n`https://objectstorage.{{MYREGION}}.oraclecloud.com/n/{{TENANCY}}/b/?compartmentId={{compartmentId}}`\r\n\r\n_src: https://docs.oracle.com/en-us/iaas/api/#/en/objectstorage/20160918/Bucket/ListBuckets_","title":"Oracle OCI : Error messages when executing Rest API to get buckets list","body":"<p>If you want to list the buckets, you have the wrong endpoint. There's no information in the docs indicating the version <code>20160918</code> should be passed in the uri.</p>\n<p>The correct uri should be</p>\n<p><code>https://objectstorage.{{MYREGION}}.oraclecloud.com/n/{{TENANCY}}/b/?compartmentId={{compartmentId}}</code></p>\n<p><em>src: <a href=\"https://docs.oracle.com/en-us/iaas/api/#/en/objectstorage/20160918/Bucket/ListBuckets\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en-us/iaas/api/#/en/objectstorage/20160918/Bucket/ListBuckets</a></em></p>\n"}],"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697547693,"creation_date":1697541455,"question_id":77308538,"body_markdown":"I&#39;m running the following Rest API in order to list our buckets:\r\n\r\n```\r\nhttps://objectstorage.{{MYREGION}}.oraclecloud.com/20160918/n/{{TENANCY}}/b/{{BUCKETNAME}}/o\r\n```\r\n\r\nI&#39;m getting the following error:\r\n\r\n```\r\nIllegal character in path at index 88: https://objectstorage.{{MYREGION}}.oraclecloud.com/20160918/n/{{TENANCY}}/b/{{BUCKETNAME}}/o\r\n```\r\n\r\nWhy is that?\r\n\r\nI couldn&#39;t find any reference on that on Oracle&#39;s documentation\r\n\r\nTried to modify the Rest API with several permutations,\r\nAll are ending with the same message &quot;Illegal character in path at index&quot;","title":"Oracle OCI : Error messages when executing Rest API to get buckets list","body":"<p>I'm running the following Rest API in order to list our buckets:</p>\n<pre><code>https://objectstorage.{{MYREGION}}.oraclecloud.com/20160918/n/{{TENANCY}}/b/{{BUCKETNAME}}/o\n</code></pre>\n<p>I'm getting the following error:</p>\n<pre><code>Illegal character in path at index 88: https://objectstorage.{{MYREGION}}.oraclecloud.com/20160918/n/{{TENANCY}}/b/{{BUCKETNAME}}/o\n</code></pre>\n<p>Why is that?</p>\n<p>I couldn't find any reference on that on Oracle's documentation</p>\n<p>Tried to modify the Rest API with several permutations,\nAll are ending with the same message &quot;Illegal character in path at index&quot;</p>\n"},{"tags":["java","spring-boot","springdoc","openj9"],"answers":[{"tags":[],"owner":{"account_id":7234934,"reputation":143,"user_id":5520539,"display_name":"Rick Deckard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644233018,"creation_date":1644233018,"answer_id":71017759,"question_id":71017758,"body_markdown":"After much tries, I isolated the problem: it seems that the problem only occurs when the following dependency is active (maven syntax):\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${springdoc.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwhere ${springdoc.version} is 1.6.3 (or &lt;= 1.6.3)\r\n\r\nUse dependency &gt;= 1.6.4 and the problem is solved.\r\n","title":"Spring Boot 2.6.X + JRE 17 Openj9 - Unhandled exception Type=Segmentation error","body":"<p>After much tries, I isolated the problem: it seems that the problem only occurs when the following dependency is active (maven syntax):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;${springdoc.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>where ${springdoc.version} is 1.6.3 (or &lt;= 1.6.3)</p>\n<p>Use dependency &gt;= 1.6.4 and the problem is solved.</p>\n"}],"owner":{"account_id":7234934,"reputation":143,"user_id":5520539,"display_name":"Rick Deckard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697546934,"creation_date":1644233018,"question_id":71017758,"body_markdown":"Target of this post is to help to solve the the problem in the title.\r\n\r\nInfos:\r\n\r\n**java -version**\r\n    \r\n    openjdk version &quot;17.0.2&quot; 2022-01-18\r\n    IBM Semeru Runtime Open Edition 17.0.2.0 (build 17.0.2+8)\r\n    Eclipse OpenJ9 VM 17.0.2.0 (build openj9-0.30.0, JRE 17 Linux amd64-64-Bit Compressed References 20220128_115 (JIT enabled, AOT enabled)\r\n    OpenJ9   - 9dccbe076\r\n    OMR      - dac962a28\r\n    JCL      - 64cd399ca28 based on jdk-17.0.2+8)\r\n\r\n**SpringBoot version**: v2.6.2\r\n\r\n**Detailed error**:\r\n\r\n        Unhandled exception\r\n        Type=Segmentation error vmState=0x00000000\r\n        J9Generic_Signal_Number=00000018 Signal_Number=0000000b Error_Value=00000000 Signal_Code=00000001\r\n        Handler1=00007FD4FEE86560 Handler2=00007FD4FEBE4BA0 InaccessibleAddress=00000000FFFFF780\r\n        [...]\r\n        Module=/opt/jre-17.0.2+8-openj9/lib/default/libj9vm29.so\r\n\r\n\r\n\r\n","title":"Spring Boot 2.6.X + JRE 17 Openj9 - Unhandled exception Type=Segmentation error","body":"<p>Target of this post is to help to solve the the problem in the title.</p>\n<p>Infos:</p>\n<p><strong>java -version</strong></p>\n<pre><code>openjdk version &quot;17.0.2&quot; 2022-01-18\nIBM Semeru Runtime Open Edition 17.0.2.0 (build 17.0.2+8)\nEclipse OpenJ9 VM 17.0.2.0 (build openj9-0.30.0, JRE 17 Linux amd64-64-Bit Compressed References 20220128_115 (JIT enabled, AOT enabled)\nOpenJ9   - 9dccbe076\nOMR      - dac962a28\nJCL      - 64cd399ca28 based on jdk-17.0.2+8)\n</code></pre>\n<p><strong>SpringBoot version</strong>: v2.6.2</p>\n<p><strong>Detailed error</strong>:</p>\n<pre><code>    Unhandled exception\n    Type=Segmentation error vmState=0x00000000\n    J9Generic_Signal_Number=00000018 Signal_Number=0000000b Error_Value=00000000 Signal_Code=00000001\n    Handler1=00007FD4FEE86560 Handler2=00007FD4FEBE4BA0 InaccessibleAddress=00000000FFFFF780\n    [...]\n    Module=/opt/jre-17.0.2+8-openj9/lib/default/libj9vm29.so\n</code></pre>\n"},{"tags":["java","maven","cors","bamboo","rhel8"],"owner":{"account_id":427843,"reputation":779,"user_id":809808,"accept_rate":67,"display_name":"user809808"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697546696,"creation_date":1697546696,"question_id":77309112,"body_markdown":"We have Java 17 app, which is configured correctly to not have CORS error.\r\nAfter Bamboo builds server migrated from RHEL 7 to RHEL 8 we noticed that generated jar is different by size (with same source code and build scripts: Maven) and that it started generated CORS errors when called from UI. \r\nI am curious, as I never saw such thing - what config on build server itself can cause such thing?","title":"CORS error appears with the same source code by using different build servers","body":"<p>We have Java 17 app, which is configured correctly to not have CORS error.\nAfter Bamboo builds server migrated from RHEL 7 to RHEL 8 we noticed that generated jar is different by size (with same source code and build scripts: Maven) and that it started generated CORS errors when called from UI.\nI am curious, as I never saw such thing - what config on build server itself can cause such thing?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1697209026,"post_id":77286381,"comment_id":136255170,"body_markdown":"why are you trying to delete and then create again an entity instead of just updating it in the DB? are there any reasons for doing that?","body":"why are you trying to delete and then create again an entity instead of just updating it in the DB? are there any reasons for doing that?"},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1697546353,"post_id":77286381,"comment_id":136291162,"body_markdown":"@AndreiTitov is right! Also can you update deleteBySemesterId method signature in you question and what error it throwing","body":"@AndreiTitov is right! Also can you update deleteBySemesterId method signature in you question and what error it throwing"},{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1697546618,"post_id":77286381,"comment_id":136291217,"body_markdown":"@Nidhi257 I think this is the best solution here, the `semesterList` is populated with x amount of records depending on the `startDate` and `endDate`. So when the startDate and endDate changed, it&#39;s best to just delete all and start over.","body":"@Nidhi257 I think this is the best solution here, the <code>semesterList</code> is populated with x amount of records depending on the <code>startDate</code> and <code>endDate</code>. So when the startDate and endDate changed, it&#39;s best to just delete all and start over."}],"answers":[{"comments":[{"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"score":0,"creation_date":1697545947,"post_id":77290061,"comment_id":136291077,"body_markdown":"`repository.flush()` after `deleteSemesterById()` seems to fix my problem although I don&#39;t know if it&#39;s good to do that or not.","body":"<code>repository.flush()</code> after <code>deleteSemesterById()</code> seems to fix my problem although I don&#39;t know if it&#39;s good to do that or not."}],"tags":[],"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697223014,"creation_date":1697223014,"answer_id":77290061,"question_id":77286381,"body_markdown":"let me tell you where you are going wrong here. Here the annotation you have used i.e @Transactional(propagation = Propagation.REQUIRES_NEW) is correct if there is a transaction is in progress spring will suspend the ongoing transaction and start a new one. But the the transactional annotation wont work since the you are calling deleteSemester and addSemester from a method in same class. This is a pitfall of the spring proxy when you invoke a method which is in the same bean you bypass the proxy which has the interceptor logic,you have to maybe add a new helper class. I am assuming there is a need for you to delete and add a record each time instead of just update.","title":"Spring Boot update method that calls delete and add method","body":"<p>let me tell you where you are going wrong here. Here the annotation you have used i.e @Transactional(propagation = Propagation.REQUIRES_NEW) is correct if there is a transaction is in progress spring will suspend the ongoing transaction and start a new one. But the the transactional annotation wont work since the you are calling deleteSemester and addSemester from a method in same class. This is a pitfall of the spring proxy when you invoke a method which is in the same bean you bypass the proxy which has the interceptor logic,you have to maybe add a new helper class. I am assuming there is a need for you to delete and add a record each time instead of just update.</p>\n"}],"owner":{"account_id":7674521,"reputation":31,"user_id":17269768,"display_name":"vunhatchuong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697546549,"creation_date":1697187303,"question_id":77286381,"body_markdown":"So I have a `updateSemester` method that first calls `deleteSemester` then `addSemester`, I&#39;m currently having a problem where it tries to put both `delete` and `add` into the same transaction, the DB will throw `Duplicate entry &#39;6-1&#39; for key &#39;semester.UniqueSemester&#39;`\r\n\r\n```java\r\n@Transactional(propagation = Propagation.REQUIRES_NEW)\r\npublic void addSemester(Long semesterId, LocalDate startDate, LocalDate endDate) {\r\n\r\n    Set&lt;Semester&gt; semesterList = new HashSet&lt;&gt;();\r\n    semesterRepository.saveAll(semesterList);\r\n}\r\n\r\n@Transactional(propagation = Propagation.REQUIRES_NEW)\r\npublic void deleteById(Long semesterId) {\r\n\r\n    semesterRepository.deleteBySemesterId(semesterId);\r\n}\r\n\r\n\r\npublic void updateSemesterById(Long semesterId, LocalDate startDate, LocalDate endDate) {\r\n    deleteSemesterById(semesterId);\r\n    addSemester(semesterId, startDate, endDate);\r\n}\r\n```\r\n\r\nI tried a lot of combination of `@Transactional` but none works.","title":"Spring Boot update method that calls delete and add method","body":"<p>So I have a <code>updateSemester</code> method that first calls <code>deleteSemester</code> then <code>addSemester</code>, I'm currently having a problem where it tries to put both <code>delete</code> and <code>add</code> into the same transaction, the DB will throw <code>Duplicate entry '6-1' for key 'semester.UniqueSemester'</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void addSemester(Long semesterId, LocalDate startDate, LocalDate endDate) {\n\n    Set&lt;Semester&gt; semesterList = new HashSet&lt;&gt;();\n    semesterRepository.saveAll(semesterList);\n}\n\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void deleteById(Long semesterId) {\n\n    semesterRepository.deleteBySemesterId(semesterId);\n}\n\n\npublic void updateSemesterById(Long semesterId, LocalDate startDate, LocalDate endDate) {\n    deleteSemesterById(semesterId);\n    addSemester(semesterId, startDate, endDate);\n}\n</code></pre>\n<p>I tried a lot of combination of <code>@Transactional</code> but none works.</p>\n"},{"tags":["java","html","documentation","javadoc","doc"],"owner":{"account_id":17690939,"reputation":81,"user_id":12842720,"display_name":"Bharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697546491,"creation_date":1697546491,"question_id":77309086,"body_markdown":"I have java source code for which generated a javadocs using below\r\n\r\n    javadoc -d old_javadoc -sourcepath /path/to/old_source_folder -subpackages my.package.name\r\n\r\nThen made some changes to code, like: added few classes and methods, removed some methods etc.. \r\nNow generated agin updated javadoc with below. \r\n\r\n    javadoc -d updated_javadoc -sourcepath /path/to/updated_source_folder -subpackages my.package.name\r\n\r\nNow need to generate All changes html file which shows what are the changes Between old javadoc and updated javadoc? \r\n**Note: Jdk17 environment**\r\n","title":"How to generate changes between two javadoc versions","body":"<p>I have java source code for which generated a javadocs using below</p>\n<pre><code>javadoc -d old_javadoc -sourcepath /path/to/old_source_folder -subpackages my.package.name\n</code></pre>\n<p>Then made some changes to code, like: added few classes and methods, removed some methods etc..\nNow generated agin updated javadoc with below.</p>\n<pre><code>javadoc -d updated_javadoc -sourcepath /path/to/updated_source_folder -subpackages my.package.name\n</code></pre>\n<p>Now need to generate All changes html file which shows what are the changes Between old javadoc and updated javadoc?\n<strong>Note: Jdk17 environment</strong></p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":1,"creation_date":1697540716,"post_id":77308452,"comment_id":136290053,"body_markdown":"Does this answer your question? [JRE 1.7 - java version - returns: java/lang/NoClassDefFoundError: java/lang/Object](https://stackoverflow.com/questions/11808829/jre-1-7-java-version-returns-java-lang-noclassdeffounderror-java-lang-obje)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11808829/jre-1-7-java-version-returns-java-lang-noclassdeffounderror-java-lang-obje\">JRE 1.7 - java version - returns: java/lang/NoClassDefFoundError: java/lang/Object</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697544013,"post_id":77308452,"comment_id":136290688,"body_markdown":"1) What does `java -version` say?  2) What does `/usr/lib/jvm/jdk1.5.0_06/bin/java -version` say?  3) What does `echo $PATH` say?","body":"1) What does <code>java -version</code> say?  2) What does <code>&#47;usr&#47;lib&#47;jvm&#47;jdk1.5.0_06&#47;bin&#47;java -version</code> say?  3) What does <code>echo $PATH</code> say?"},{"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"score":0,"creation_date":1697546212,"post_id":77308452,"comment_id":136291133,"body_markdown":"@StephenC, updated my post.","body":"@StephenC, updated my post."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697546500,"post_id":77308452,"comment_id":136291188,"body_markdown":"Basically you have a broken installation of Java 1.5.","body":"Basically you have a broken installation of Java 1.5."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697547676,"post_id":77308452,"comment_id":136291437,"body_markdown":"I should also note that the last public release of JDK 1.5 (aka Java 5.0) was in 2009.  And the `1.5.0_06` build was released in December 2005.  It is nearly 18 years out of date.","body":"I should also note that the last public release of JDK 1.5 (aka Java 5.0) was in 2009.  And the <code>1.5.0_06</code> build was released in December 2005.  It is nearly 18 years out of date."}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697546194,"creation_date":1697540552,"question_id":77308452,"body_markdown":"I am facing an issue with java build using ant.\r\n\r\nI have installed jdk 1.5, ant 1.7.1, and configured env paths.\r\n\r\n    $ echo $JAVA_HOME\r\n    /usr/lib/jvm/jdk1.5.0_06\r\n    \r\n    $ echo $ANT_HOME\r\n    /home/.../..../apache-ant-1.7.1/bin\r\n\r\nWhen I run &#39;ant&#39; at root of an ant project, I get error:\r\n\r\n    $ ant\r\n    Error occurred during initialization of VM\r\n    java/lang/NoClassDefFoundError: java/lang/Object\r\n\r\nWhat am I missing in my configuration?\r\n\r\nEdit:\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_362&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~18.04-b09)\r\n    OpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)\r\n    $ echo $PATH\r\n    /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\r\n    $ /usr/lib/jvm/jdk1.5.0_06/bin/java\r\n    Error occurred during initialization of VM\r\n    java/lang/NoClassDefFoundError: java/lang/Object","title":"ant build: java/lang/NoClassDefFoundError: java/lang/Object","body":"<p>I am facing an issue with java build using ant.</p>\n<p>I have installed jdk 1.5, ant 1.7.1, and configured env paths.</p>\n<pre><code>$ echo $JAVA_HOME\n/usr/lib/jvm/jdk1.5.0_06\n\n$ echo $ANT_HOME\n/home/.../..../apache-ant-1.7.1/bin\n</code></pre>\n<p>When I run 'ant' at root of an ant project, I get error:</p>\n<pre><code>$ ant\nError occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object\n</code></pre>\n<p>What am I missing in my configuration?</p>\n<p>Edit:</p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~18.04-b09)\nOpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)\n$ echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin\n$ /usr/lib/jvm/jdk1.5.0_06/bin/java\nError occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object\n</code></pre>\n"},{"tags":["java","groovy","lambda","closures","spock"],"answers":[{"comments":[{"owner":{"account_id":24230944,"reputation":33,"user_id":18184715,"display_name":"q-q"},"score":0,"creation_date":1644674901,"post_id":71089268,"comment_id":125672099,"body_markdown":"I should have mentioned that `ExampleClass` is from a 3rd party library, and one of it&#39;s `void` methods has been overriden. So accessing the lambda fields seemed like the only way to verify the intended behaviour. However I will reconsider if there is a better approach without over specifying.\n\nYour example has cleared up what `args$2` is for me. Thanks for the answer.","body":"I should have mentioned that <code>ExampleClass</code> is from a 3rd party library, and one of it&#39;s <code>void</code> methods has been overriden. So accessing the lambda fields seemed like the only way to verify the intended behaviour. However I will reconsider if there is a better approach without over specifying.  Your example has cleared up what <code>args$2</code> is for me. Thanks for the answer."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1644748970,"post_id":71089268,"comment_id":125683976,"body_markdown":"After we were focusing here on **how** to technically test something, which is always a bad idea, you could open a new question, showing a minimal, but complete and reproducible example plus some explanation of **what** you actually want to verify. Then maybe I can suggest something.","body":"After we were focusing here on <b>how</b> to technically test something, which is always a bad idea, you could open a new question, showing a minimal, but complete and reproducible example plus some explanation of <b>what</b> you actually want to verify. Then maybe I can suggest something."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697545873,"creation_date":1644644201,"answer_id":71089268,"question_id":71087906,"body_markdown":"### Why you should not do what you are trying\r\n\r\nThis invasive kind of testing is a nightmare! Sorry for my strong wording, but I want to make it clear that you should not over-specify tests like this, asserting on private final fields of lambda expressions. Why would it even be important what goes into the lambda? Simply verify the result. In order to do a verification like this, you\r\n\r\n  1. need to know internals of how lambdas are implemented in Java,\r\n  2. those implementation details have to stay unchanged across Java versions and\r\n  3. the implementations even have to be the same across JVM types like Oracle Hotspot, OpenJ9 etc.\r\n\r\nOtherwise, your tests break quickly. And why would you care how a method internally computes its result? A method should be tested like a black box, only in rare cases should you use interaction testing, where it is absolutely crucial in order to make sure that certain interactions between objects occur in a certain way (e.g. in order to verify a publish-subscribe design pattern).\r\n\r\n### How you can do it anyway (dont!!!)\r\nHaving said all that, just assuming for a minute that it does actually make sense to test like that (which it really does not!), a hint: Instead of accessing the field `args$2`, you can also access the declared field with index 1. Accessing by name is also possible, of course. Anyway, you have to reflect on the lambda&#39;s class, get the declared field(s) you are interested in, make them accessible (remember, they are `private final`) and then assert on their respective contents. You could also filter by field type in order to be less sensitive to their order (not shown here).\r\n\r\nBesides, I do not understand why you create a `TestableExampleClass` instead of using the original.\r\n\r\nIn this example, I am using explicit types instead of just `def` in order to make it easier to understand what the code does:\r\n\r\n```java\r\n    then:\r\n    1 * mockComponent.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\r\n      Consumer&lt;Request&gt; requestConsumer = args[0]\r\n      Field nameField = requestConsumer.class.declaredFields[1]\r\n//    Field nameField = requestConsumer.class.getDeclaredField(&#39;arg$2&#39;)\r\n      nameField.accessible = true\r\n      byte[] nameBytes = nameField.get(requestConsumer)\r\n      assert new String(nameBytes, Charset.forName(&quot;UTF-8&quot;)) == &#39;teststring&#39;\r\n      return new CompletableFuture()\r\n    }\r\n```\r\n\r\nOr, in order to avoid the explicit `assert` in favour of a Spock-style condition:\r\n\r\n```java\r\n  def &#39;a test&#39;() {\r\n    given:\r\n    String name\r\n\r\n    when:\r\n    sut.exampleMethod(&#39;teststring&#39;)\r\n\r\n    then:\r\n    1 * mockComponent.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\r\n      Consumer&lt;Request&gt; requestConsumer = args[0]\r\n      Field nameField = requestConsumer.class.declaredFields[1]\r\n//    Field nameField = requestConsumer.class.getDeclaredField(&#39;arg$2&#39;)\r\n      nameField.accessible = true\r\n      byte[] nameBytes = nameField.get(requestConsumer)\r\n      name = new String(nameBytes, Charset.forName(&quot;UTF-8&quot;))\r\n      return new CompletableFuture()\r\n    }\r\n    name == &#39;teststring&#39;\r\n  }\r\n```\r\n","title":"Access Lambda Arguments with Groovy and Spock Argument Capture","body":"<h3>Why you should not do what you are trying</h3>\n<p>This invasive kind of testing is a nightmare! Sorry for my strong wording, but I want to make it clear that you should not over-specify tests like this, asserting on private final fields of lambda expressions. Why would it even be important what goes into the lambda? Simply verify the result. In order to do a verification like this, you</p>\n<ol>\n<li>need to know internals of how lambdas are implemented in Java,</li>\n<li>those implementation details have to stay unchanged across Java versions and</li>\n<li>the implementations even have to be the same across JVM types like Oracle Hotspot, OpenJ9 etc.</li>\n</ol>\n<p>Otherwise, your tests break quickly. And why would you care how a method internally computes its result? A method should be tested like a black box, only in rare cases should you use interaction testing, where it is absolutely crucial in order to make sure that certain interactions between objects occur in a certain way (e.g. in order to verify a publish-subscribe design pattern).</p>\n<h3>How you can do it anyway (dont!!!)</h3>\n<p>Having said all that, just assuming for a minute that it does actually make sense to test like that (which it really does not!), a hint: Instead of accessing the field <code>args$2</code>, you can also access the declared field with index 1. Accessing by name is also possible, of course. Anyway, you have to reflect on the lambda's class, get the declared field(s) you are interested in, make them accessible (remember, they are <code>private final</code>) and then assert on their respective contents. You could also filter by field type in order to be less sensitive to their order (not shown here).</p>\n<p>Besides, I do not understand why you create a <code>TestableExampleClass</code> instead of using the original.</p>\n<p>In this example, I am using explicit types instead of just <code>def</code> in order to make it easier to understand what the code does:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    then:\n    1 * mockComponent.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\n      Consumer&lt;Request&gt; requestConsumer = args[0]\n      Field nameField = requestConsumer.class.declaredFields[1]\n//    Field nameField = requestConsumer.class.getDeclaredField('arg$2')\n      nameField.accessible = true\n      byte[] nameBytes = nameField.get(requestConsumer)\n      assert new String(nameBytes, Charset.forName(&quot;UTF-8&quot;)) == 'teststring'\n      return new CompletableFuture()\n    }\n</code></pre>\n<p>Or, in order to avoid the explicit <code>assert</code> in favour of a Spock-style condition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  def 'a test'() {\n    given:\n    String name\n\n    when:\n    sut.exampleMethod('teststring')\n\n    then:\n    1 * mockComponent.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\n      Consumer&lt;Request&gt; requestConsumer = args[0]\n      Field nameField = requestConsumer.class.declaredFields[1]\n//    Field nameField = requestConsumer.class.getDeclaredField('arg$2')\n      nameField.accessible = true\n      byte[] nameBytes = nameField.get(requestConsumer)\n      name = new String(nameBytes, Charset.forName(&quot;UTF-8&quot;))\n      return new CompletableFuture()\n    }\n    name == 'teststring'\n  }\n</code></pre>\n"}],"owner":{"account_id":24230944,"reputation":33,"user_id":18184715,"display_name":"q-q"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71089268,"answer_count":1,"score":1,"last_activity_date":1697545873,"creation_date":1644624775,"question_id":71087906,"body_markdown":"I am trying to unit test a Java class with a method containing a lambda function. I am using Groovy and Spock for the test. For proprietary reasons I can&#39;t show the original code.\r\n\r\nThe Java method looks like this:\r\n```java\r\nclass ExampleClass {\r\n  AsyncHandler asynHandler;\r\n  Component componet;\r\n\r\n  Component getComponent() {\r\n    return component;\r\n  }\r\n\r\n  void exampleMethod(String input) {\r\n    byte[] data = input.getBytes();\r\n\r\n    getComponent().doCall(builder -&gt; \r\n      builder\r\n        .setName(name)\r\n        .data(data)\r\n        .build()).whenCompleteAsync(asyncHandler);\r\n  }\r\n}\r\n```\r\n\r\nWhere `component#doCall` has the following signature:\r\n```\r\nCompletableFuture&lt;Response&gt; doCall(Consumer&lt;Request&gt; request) {\r\n  // do some stuff\r\n}\r\n```\r\n\r\nThe groovy test looks like this:\r\n```java\r\nclass Spec extends Specification {\r\n  def mockComponent = Mock(Component)\r\n\r\n  @Subject\r\n  def sut = new TestableExampleClass(mockComponent)\r\n\r\n  def &#39;a test&#39;() {\r\n    when:\r\n    sut.exampleMethod(&#39;teststring&#39;)\r\n\r\n    then:\r\n    1 * componentMock.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\r\n      assert args[0].args$2.asUtf8String() == &#39;teststring&#39;\r\n      return new CompletableFuture()   \r\n    }\r\n  }\r\n\r\n  class TestableExampleClass extends ExampleClass {\r\n    def component\r\n\r\n    TestableExampleClass(Component component) {\r\n      this.component = component;\r\n    }\r\n\r\n    @Override\r\n    getComponent() {\r\n      return component\r\n    } \r\n  }\r\n}\r\n```\r\n\r\nThe captured argument, `args`, shows up as follows in the debug window if I place a breakpoint on the `assert` line:\r\n\r\n```\r\nargs = {Arrays$ArrayList@1234} size = 1\r\n  &gt; 0 = {Component$lambda}\r\n    &gt; args$1 = {TestableExampleClass}\r\n    &gt; args$2 = {bytes[]}\r\n```\r\n\r\nThere are two points confusing me:\r\n\r\n1. When I try to cast the captured argument `args[0]` as either `ExampleClass` or `TestableExampleClass` it throws a `GroovyCastException`. I believe this is because it is expecting `Component$Lambda`, but I am not sure how to cast this.\r\n\r\n2. Accessing the `data` property using `args[0].args$2`, doesn&#39;t seem like a clean way to do it. This is likely linked to the casting issue mentioned above. But is there a better way to do this, such as with `args[0].data`?\r\n\r\nEven if direct answers can&#39;t be given, a pointer to some documentation or article would be helpful. My search results discussed Groovy closures and Java lambdas comparisons separately, but not about using lambdas in closures.\r\n\r\n","title":"Access Lambda Arguments with Groovy and Spock Argument Capture","body":"<p>I am trying to unit test a Java class with a method containing a lambda function. I am using Groovy and Spock for the test. For proprietary reasons I can't show the original code.</p>\n<p>The Java method looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExampleClass {\n  AsyncHandler asynHandler;\n  Component componet;\n\n  Component getComponent() {\n    return component;\n  }\n\n  void exampleMethod(String input) {\n    byte[] data = input.getBytes();\n\n    getComponent().doCall(builder -&gt; \n      builder\n        .setName(name)\n        .data(data)\n        .build()).whenCompleteAsync(asyncHandler);\n  }\n}\n</code></pre>\n<p>Where <code>component#doCall</code> has the following signature:</p>\n<pre><code>CompletableFuture&lt;Response&gt; doCall(Consumer&lt;Request&gt; request) {\n  // do some stuff\n}\n</code></pre>\n<p>The groovy test looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Spec extends Specification {\n  def mockComponent = Mock(Component)\n\n  @Subject\n  def sut = new TestableExampleClass(mockComponent)\n\n  def 'a test'() {\n    when:\n    sut.exampleMethod('teststring')\n\n    then:\n    1 * componentMock.doCall(_ as Consumer&lt;Request&gt;) &gt;&gt; { args -&gt;\n      assert args[0].args$2.asUtf8String() == 'teststring'\n      return new CompletableFuture()   \n    }\n  }\n\n  class TestableExampleClass extends ExampleClass {\n    def component\n\n    TestableExampleClass(Component component) {\n      this.component = component;\n    }\n\n    @Override\n    getComponent() {\n      return component\n    } \n  }\n}\n</code></pre>\n<p>The captured argument, <code>args</code>, shows up as follows in the debug window if I place a breakpoint on the <code>assert</code> line:</p>\n<pre><code>args = {Arrays$ArrayList@1234} size = 1\n  &gt; 0 = {Component$lambda}\n    &gt; args$1 = {TestableExampleClass}\n    &gt; args$2 = {bytes[]}\n</code></pre>\n<p>There are two points confusing me:</p>\n<ol>\n<li><p>When I try to cast the captured argument <code>args[0]</code> as either <code>ExampleClass</code> or <code>TestableExampleClass</code> it throws a <code>GroovyCastException</code>. I believe this is because it is expecting <code>Component$Lambda</code>, but I am not sure how to cast this.</p>\n</li>\n<li><p>Accessing the <code>data</code> property using <code>args[0].args$2</code>, doesn't seem like a clean way to do it. This is likely linked to the casting issue mentioned above. But is there a better way to do this, such as with <code>args[0].data</code>?</p>\n</li>\n</ol>\n<p>Even if direct answers can't be given, a pointer to some documentation or article would be helpful. My search results discussed Groovy closures and Java lambdas comparisons separately, but not about using lambdas in closures.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":8911546,"reputation":412,"user_id":6651590,"display_name":"Bartłomiej Adamczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697545590,"creation_date":1697545590,"question_id":77308980,"body_markdown":"During the process of migration from SpringBoot 2.x.x to 3.x.x (and effectively Hibernate) I got stuck on a problem with entity column value converters.\r\n\r\nI got the entity with Boolean type field, which is stored in the DB as either **Y**, **N** or **null** (varchar2 (1 char)):\r\n\r\n    @Entity\r\n    @Table(name = &quot;ENTITY_WITH_CONVERTED_FIELD&quot;)\r\n    public class EntityWithConvertedField {\r\n    \r\n    @Id\r\n    @Column(name = “ID”)\r\n    private Long id;\r\n    \r\n    @Column(name = “MY_FLAG)\r\n    @Convert(converter = YesNoConverter.class) // OOTB converter from org.hibernate.type package\r\n    private Boolean myFlag;  // this value is stored as either ‘Y’, ‘N’ or null in the db\r\n    }\r\n\r\nWhen this entity is then used in the queries (ex. CriteriaQuery, queries in the annotations of repository methods) I keep getting exceptions that looks like more or less like this:\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select mt1_0.ID from EntityWithConvertedField mt1_0 where mt1_0.MY_FLAG = false and mt1_0.ID=?] [ORA-00904: &quot;FALSE&quot;: invalid identifier] [n/a]; SQL [n/a]\r\n\r\nIt would suggest that no conversion happens on the Hibernate side.\r\n\r\nOn Hibernate versions prior to the 6.x, everything worked like a charm.\r\nI&#39;m running on SpringBoot 3.1.4 (with Hibernate 6.2.9.Final). I&#39;ve tried bumping the Hibernate version to the latest one but with no luck.\r\n\r\n","title":"Boolean/String conversion issues after Hibernate 6/SpringBoot 3 migration","body":"<p>During the process of migration from SpringBoot 2.x.x to 3.x.x (and effectively Hibernate) I got stuck on a problem with entity column value converters.</p>\n<p>I got the entity with Boolean type field, which is stored in the DB as either <strong>Y</strong>, <strong>N</strong> or <strong>null</strong> (varchar2 (1 char)):</p>\n<pre><code>@Entity\n@Table(name = &quot;ENTITY_WITH_CONVERTED_FIELD&quot;)\npublic class EntityWithConvertedField {\n\n@Id\n@Column(name = “ID”)\nprivate Long id;\n\n@Column(name = “MY_FLAG)\n@Convert(converter = YesNoConverter.class) // OOTB converter from org.hibernate.type package\nprivate Boolean myFlag;  // this value is stored as either ‘Y’, ‘N’ or null in the db\n}\n</code></pre>\n<p>When this entity is then used in the queries (ex. CriteriaQuery, queries in the annotations of repository methods) I keep getting exceptions that looks like more or less like this:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select mt1_0.ID from EntityWithConvertedField mt1_0 where mt1_0.MY_FLAG = false and mt1_0.ID=?] [ORA-00904: &quot;FALSE&quot;: invalid identifier] [n/a]; SQL [n/a]\n</code></pre>\n<p>It would suggest that no conversion happens on the Hibernate side.</p>\n<p>On Hibernate versions prior to the 6.x, everything worked like a charm.\nI'm running on SpringBoot 3.1.4 (with Hibernate 6.2.9.Final). I've tried bumping the Hibernate version to the latest one but with no luck.</p>\n"},{"tags":["java","spring","netflix-eureka","connection-refused"],"comments":[{"owner":{"account_id":12674513,"reputation":71,"user_id":9210838,"display_name":"Gazi Mohib"},"score":0,"creation_date":1697505575,"post_id":77305199,"comment_id":136285496,"body_markdown":"Please share your application.properties for both inventory-service and order-service.","body":"Please share your application.properties for both inventory-service and order-service."},{"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"score":0,"creation_date":1697528665,"post_id":77305199,"comment_id":136287712,"body_markdown":"@GaziMohib Added it","body":"@GaziMohib Added it"},{"owner":{"account_id":12674513,"reputation":71,"user_id":9210838,"display_name":"Gazi Mohib"},"score":0,"creation_date":1697531240,"post_id":77305199,"comment_id":136288158,"body_markdown":"Everything seems okay to me. Also, I&#39;ve tested your code to generate the same scenario. It&#39;s working well. Share the error details, and let&#39;s see if there is something I can find. @Johnyb","body":"Everything seems okay to me. Also, I&#39;ve tested your code to generate the same scenario. It&#39;s working well. Share the error details, and let&#39;s see if there is something I can find. @Johnyb"},{"owner":{"account_id":9598629,"reputation":486,"user_id":7126967,"display_name":"Raw"},"score":0,"creation_date":1699279822,"post_id":77305199,"comment_id":136507977,"body_markdown":"I think you have to set &quot;http://localhost:8761/eureka//&quot; &quot;/&quot; behind eureka","body":"I think you have to set &quot;<a href=\"http://localhost:8761/eureka//\" rel=\"nofollow noreferrer\">localhost:8761/eureka/</a>&quot; &quot;/&quot; behind eureka"}],"owner":{"account_id":7527198,"reputation":1109,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1697544807,"creation_date":1697493899,"question_id":77305199,"body_markdown":"I have `eureka-server`:\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaServer\r\n    public class DiscoveryServerApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DiscoveryServerApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**application.properties:**\r\n\r\n    eureka.instance.hostname=localhost\r\n    eureka.client.register-with-eureka=false\r\n    eureka.client.fetch-registry=false\r\n    server.port=8761\r\n\r\nNow i have two microservices that are connected to eureka-server\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Inventory-service:**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/inventory&quot;)\r\n    public class InventoryController {\r\n    \r\n        private final InventoryService inventoryService;\r\n    \r\n        @Autowired\r\n        public InventoryController(InventoryService inventoryService) {\r\n            this.inventoryService = inventoryService;\r\n        }\r\n    \r\n        @GetMapping\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public List&lt;InventoryResponse&gt; isInStock(@RequestParam(value = &quot;skuCode&quot;) List&lt;String&gt; code) {\r\n            return inventoryService.isInStock(code);\r\n        }\r\n    }\r\n\r\n**application.properties:**\r\n\r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/inventory-service\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    eureka.client.service-url.defaultZone = http://localhost:8761/eureka\r\n    \r\n    server.port=0\r\n    spring.application.name=inventory-service\r\n\r\n\r\n**order-service** where i have web client:\r\n\r\n    @Configuration\r\n    public class WebClientConfig {\r\n    \r\n        @Bean\r\n        @LoadBalanced\r\n        public WebClient.Builder webClientBuilder(){\r\n            return WebClient.builder();\r\n        }\r\n    }\r\n\r\n\r\nand service, where i try to call inventory-service:\r\n\r\n\r\n        InventoryResponse[] inventoryResponses = webClientBuilder.build().get()\r\n                .uri(&quot;http://inventory-service/api/inventory&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\r\n                .retrieve()\r\n                .bodyToMono(InventoryResponse[].class)\r\n                .block();\r\n\r\n**application properties** for order service:\r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/order-service\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    \r\n    server.port=8081\r\n    spring.application.name=order-service\r\n\r\nHowever i am getting `&quot;Connection refused: no further information&quot;` error.\r\n\r\nit seems that the `WebClient` cannot resolve &quot;http://inventory-service/api/inventory&quot; from eureka. \r\n\r\nDo i need some specific explicit way how to get endpoints for inventory-service?\r\n\r\nI have seen examples and tutorials that do not use any specific way and use service-name that is registered in eureka as endpoint, however i saw some older that use `@EnableEurekaClient` and then `EurekaClient`\r\n\r\nWhat is the correct way?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9ejk1.png","title":"Connection refused to eureka server","body":"<p>I have <code>eureka-server</code>:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class DiscoveryServerApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DiscoveryServerApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>eureka.instance.hostname=localhost\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\nserver.port=8761\n</code></pre>\n<p>Now i have two microservices that are connected to eureka-server</p>\n<p><a href=\"https://i.stack.imgur.com/9ejk1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ejk1.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Inventory-service:</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/inventory&quot;)\npublic class InventoryController {\n\n    private final InventoryService inventoryService;\n\n    @Autowired\n    public InventoryController(InventoryService inventoryService) {\n        this.inventoryService = inventoryService;\n    }\n\n    @GetMapping\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;InventoryResponse&gt; isInStock(@RequestParam(value = &quot;skuCode&quot;) List&lt;String&gt; code) {\n        return inventoryService.isInStock(code);\n    }\n}\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/inventory-service\nspring.datasource.username=root\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\n\neureka.client.service-url.defaultZone = http://localhost:8761/eureka\n\nserver.port=0\nspring.application.name=inventory-service\n</code></pre>\n<p><strong>order-service</strong> where i have web client:</p>\n<pre><code>@Configuration\npublic class WebClientConfig {\n\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder(){\n        return WebClient.builder();\n    }\n}\n</code></pre>\n<p>and service, where i try to call inventory-service:</p>\n<pre><code>    InventoryResponse[] inventoryResponses = webClientBuilder.build().get()\n            .uri(&quot;http://inventory-service/api/inventory&quot;, uriBuilder -&gt; uriBuilder.queryParam(&quot;skuCode&quot;, skuCodes).build())\n            .retrieve()\n            .bodyToMono(InventoryResponse[].class)\n            .block();\n</code></pre>\n<p><strong>application properties</strong> for order service:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/order-service\nspring.datasource.username=root\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=update\n\n\nserver.port=8081\nspring.application.name=order-service\n</code></pre>\n<p>However i am getting <code>&quot;Connection refused: no further information&quot;</code> error.</p>\n<p>it seems that the <code>WebClient</code> cannot resolve &quot;http://inventory-service/api/inventory&quot; from eureka.</p>\n<p>Do i need some specific explicit way how to get endpoints for inventory-service?</p>\n<p>I have seen examples and tutorials that do not use any specific way and use service-name that is registered in eureka as endpoint, however i saw some older that use <code>@EnableEurekaClient</code> and then <code>EurekaClient</code></p>\n<p>What is the correct way?</p>\n"},{"tags":["java","spring","httprequest","requestscope"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1697544963,"post_id":77308872,"comment_id":136290880,"body_markdown":"The filter isn’t a bean in your code. What makes it a spring bean?","body":"The filter isn’t a bean in your code. What makes it a spring bean?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697544974,"post_id":77308872,"comment_id":136290881,"body_markdown":"Filters execute before the dispatcher servlet, which manage the scope. YOu would need to register the `RequestContextListener` to make it work outside the scope of the dispatcherservlet.","body":"Filters execute before the dispatcher servlet, which manage the scope. YOu would need to register the <code>RequestContextListener</code> to make it work outside the scope of the dispatcherservlet."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1697545097,"post_id":77308872,"comment_id":136290906,"body_markdown":"@AbhijitSarkar it is a bean, see Configuration class","body":"@AbhijitSarkar it is a bean, see Configuration class"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1697546066,"post_id":77308872,"comment_id":136291103,"body_markdown":"@M.Deinum thanks, with `RequestContextListener` added the issue is gone","body":"@M.Deinum thanks, with <code>RequestContextListener</code> added the issue is gone"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697546106,"post_id":77308872,"comment_id":136291113,"body_markdown":"Which was also what the error message was telling you to do (you did read it didn&#39;t you?).","body":"Which was also what the error message was telling you to do (you did read it didn&#39;t you?)."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1697547097,"post_id":77308872,"comment_id":136291313,"body_markdown":"I didn&#39;t do it because all the examples with the same error I found were related to usage of @Async, but in my case it&#39;s clearly one and the same thread.","body":"I didn&#39;t do it because all the examples with the same error I found were related to usage of @Async, but in my case it&#39;s clearly one and the same thread."}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697544588,"creation_date":1697544588,"question_id":77308872,"body_markdown":"Recently I&#39;ve run into an issue regarding request-scoped beans. Here&#39;s the code:\r\n```java\r\n@Configuration\r\nclass PreAuthorizationHttpHeaderFilterConfig {\r\n\r\n    @Bean\r\n    JwtPreAuthorizationConfigurer jwtPreAuthorizationConfigurer() {\r\n        return new JwtPreAuthorizationConfigurer();\r\n    }\r\n\r\n\r\n    @Bean\r\n    @RequestScope\r\n    TenantContext tenantContext() {\r\n        return new TenantContext();\r\n    }\r\n}\r\n\r\n@Getter\r\n@Setter\r\npublic class TenantContext {\r\n    private String tenantName;\r\n    private String issuerUri;\r\n    private String jwkSetUri;\r\n}\r\n\r\npublic class JwtPreAuthorizationConfigurer extends HttpFilter {\r\n\r\n    @Resource\r\n    private TenantContext tenantContext;\r\n\r\n    @Override\r\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        tenantContext.getIssuerUri(); // &lt;----- exception is thrown\r\n    }\r\n}\r\n```\r\nWhen I access `tenantContext` in my custom `HttpFilter` the exception is thrown:\r\n```\r\norg.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name &#39;scopedTarget.tenantContext&#39;: Scope &#39;request&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat com.c.o.c.model.TenantContext$$EnhancerBySpringCGLIB$$4df4fdfb.setIssuerUri(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.c.o.c.filter.JwtPreAuthorizationConfigurer.doFilter(JwtPreAuthorizationConfigurer.java:30) ~[classes/:na]\r\n```\r\nBut if I do the same in `@RestController`-annotated class everything works fine:\r\n```java\r\n@RestController\r\npublic class ConsentsController {\r\n    @Resource\r\n    private TenantContext tenantContext;\r\n\r\n    @Override\r\n    public ResponseEntity&lt;ConsentRecord&gt; createConsents(\r\n            @RequestBody CreateConsentRequest createConsents\r\n    ) {\r\n        tenantContext.getTenantName();\r\n        return ResponseEntity.ok().body(null);\r\n    }\r\n}\r\n```\r\nAs far as I understand at the filtering step the request is already bound to a serving thread, so there shouldn&#39;t be any exception, should it?","title":"Request-scoped bean is available in @RestController but throws ScopeNotActiveException in HttpFilter","body":"<p>Recently I've run into an issue regarding request-scoped beans. Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass PreAuthorizationHttpHeaderFilterConfig {\n\n    @Bean\n    JwtPreAuthorizationConfigurer jwtPreAuthorizationConfigurer() {\n        return new JwtPreAuthorizationConfigurer();\n    }\n\n\n    @Bean\n    @RequestScope\n    TenantContext tenantContext() {\n        return new TenantContext();\n    }\n}\n\n@Getter\n@Setter\npublic class TenantContext {\n    private String tenantName;\n    private String issuerUri;\n    private String jwkSetUri;\n}\n\npublic class JwtPreAuthorizationConfigurer extends HttpFilter {\n\n    @Resource\n    private TenantContext tenantContext;\n\n    @Override\n    protected void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException {\n        tenantContext.getIssuerUri(); // &lt;----- exception is thrown\n    }\n}\n</code></pre>\n<p>When I access <code>tenantContext</code> in my custom <code>HttpFilter</code> the exception is thrown:</p>\n<pre><code>org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.tenantContext': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.22.jar:5.3.22]\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.c.o.c.model.TenantContext$$EnhancerBySpringCGLIB$$4df4fdfb.setIssuerUri(&lt;generated&gt;) ~[classes/:na]\n    at com.c.o.c.filter.JwtPreAuthorizationConfigurer.doFilter(JwtPreAuthorizationConfigurer.java:30) ~[classes/:na]\n</code></pre>\n<p>But if I do the same in <code>@RestController</code>-annotated class everything works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class ConsentsController {\n    @Resource\n    private TenantContext tenantContext;\n\n    @Override\n    public ResponseEntity&lt;ConsentRecord&gt; createConsents(\n            @RequestBody CreateConsentRequest createConsents\n    ) {\n        tenantContext.getTenantName();\n        return ResponseEntity.ok().body(null);\n    }\n}\n</code></pre>\n<p>As far as I understand at the filtering step the request is already bound to a serving thread, so there shouldn't be any exception, should it?</p>\n"},{"tags":["java","spring","maven","netbeans"],"comments":[{"owner":{"account_id":11421078,"reputation":311,"user_id":8372553,"display_name":"Hsneider Salgado Neid"},"score":0,"creation_date":1501103825,"post_id":45337558,"comment_id":77637178,"body_markdown":"https://drive.google.com/file/d/0Bz-Mr5XgEX-rQ3Y3U3BYNUFuaU0/view?usp=sharing here is the POM.XML File","body":"<a href=\"https://drive.google.com/file/d/0Bz-Mr5XgEX-rQ3Y3U3BYNUFuaU0/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0Bz-Mr5XgEX-rQ3Y3U3BYNUFuaU0/&hellip;</a> here is the POM.XML File"},{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":1,"creation_date":1501122191,"post_id":45337558,"comment_id":77642396,"body_markdown":"Can you post the complete stacktrace? It says &quot;look above for specfiic messages&quot;. Also can you post the parent&#39;s pom.xml as well? I believe that contains the actual enforcer plugin as this pom doesn&#39;t have it.","body":"Can you post the complete stacktrace? It says &quot;look above for specfiic messages&quot;. Also can you post the parent&#39;s pom.xml as well? I believe that contains the actual enforcer plugin as this pom doesn&#39;t have it."},{"owner":{"account_id":5149634,"reputation":4956,"user_id":4124574,"accept_rate":45,"display_name":"Mig82"},"score":1,"creation_date":1511944292,"post_id":45337558,"comment_id":82052888,"body_markdown":"It&#39;s hard to help without the upper part of the stacktrace to see which enforcer rule failed.","body":"It&#39;s hard to help without the upper part of the stacktrace to see which enforcer rule failed."}],"answers":[{"tags":[],"owner":{"account_id":11408727,"reputation":413,"user_id":8363483,"display_name":"Mayank Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1511946349,"creation_date":1501129562,"answer_id":45341415,"question_id":45337558,"body_markdown":"If you are using version `1.4.1` of `maven-enforcer-plugin` and it is resulting in this error then you need to use an older version of  `maven-enforcer-plugin`. You can find the Maven dependency below : \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n\r\nOther versions can be found from the link below. \r\n\r\nhttps://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin\r\n\r\nAlso, check your Maven version. If you are using `maven 3.0.x` then you need to use `maven-enforcer-plugin 1.4.1`. \r\n\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>If you are using version <code>1.4.1</code> of <code>maven-enforcer-plugin</code> and it is resulting in this error then you need to use an older version of  <code>maven-enforcer-plugin</code>. You can find the Maven dependency below : </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Other versions can be found from the link below. </p>\n\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-enforcer-plugin</a></p>\n\n<p>Also, check your Maven version. If you are using <code>maven 3.0.x</code> then you need to use <code>maven-enforcer-plugin 1.4.1</code>. </p>\n"},{"comments":[{"owner":{"account_id":5202562,"reputation":841,"user_id":4356919,"accept_rate":25,"display_name":"Tayab Hussain"},"score":1,"creation_date":1577177965,"post_id":45864401,"comment_id":105112223,"body_markdown":"This answer helped me, for me it was version problem, it fixed when i changed the version","body":"This answer helped me, for me it was version problem, it fixed when i changed the version"},{"owner":{"account_id":1948424,"reputation":12649,"user_id":1753073,"display_name":"navylover"},"score":0,"creation_date":1654825183,"post_id":45864401,"comment_id":128190110,"body_markdown":"You mean firstly find the enforce plugin used in the project, but the error message already gave this info: maven-enforcer-plugin:1.4.1","body":"You mean firstly find the enforce plugin used in the project, but the error message already gave this info: maven-enforcer-plugin:1.4.1"}],"tags":[],"owner":{"account_id":8212673,"reputation":578,"user_id":6180172,"display_name":"arash nadali"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1503980951,"creation_date":1503585300,"answer_id":45864401,"question_id":45337558,"body_markdown":"one thing that may cause this problem is that in your project in a POM file required java or maven version is set. you should find it... but how ? \r\nmaybe you couldn&#39;t find any enforcer in your project like me ...\r\n(I had the same problem and I became confused because enforcer plugin was not defined in my projects POMs, so I couldn&#39;t find it).\r\n\r\nenforcer plugin is in your **&quot;effective pom&quot;** and you should check it.\r\n**Effective pom** is a configuration file made from super pom + project pom.\r\nmaven use this configuration file to execute the relevant goal. It helps developers to specify minimum configuration detail in his/her pom.xml. Although configurations can be overridden easily.\r\n\r\nFor showing your effective pom there are 2 ways:\r\n1- use maven command, run this command : \r\n\r\n     mvn help:effective-pom\r\n\r\n2- use your IDE :  in Maven window right click on your project node and select show effective POM(it depends on your IDE).\r\n\r\nafter you find what your forces are you can find it in your project and change it.\r\nfor me, My **effective POM** had enforcer plugin which its requireMavenVersion rule for using Java was  1.8. so I changed my project JDK version to 1.8 and luckily the problem was solved.\r\n\r\n\r\nI hope this answer could help you.\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>one thing that may cause this problem is that in your project in a POM file required java or maven version is set. you should find it... but how ? \nmaybe you couldn't find any enforcer in your project like me ...\n(I had the same problem and I became confused because enforcer plugin was not defined in my projects POMs, so I couldn't find it).</p>\n\n<p>enforcer plugin is in your <strong>\"effective pom\"</strong> and you should check it.\n<strong>Effective pom</strong> is a configuration file made from super pom + project pom.\nmaven use this configuration file to execute the relevant goal. It helps developers to specify minimum configuration detail in his/her pom.xml. Although configurations can be overridden easily.</p>\n\n<p>For showing your effective pom there are 2 ways:\n1- use maven command, run this command : </p>\n\n<pre><code> mvn help:effective-pom\n</code></pre>\n\n<p>2- use your IDE :  in Maven window right click on your project node and select show effective POM(it depends on your IDE).</p>\n\n<p>after you find what your forces are you can find it in your project and change it.\nfor me, My <strong>effective POM</strong> had enforcer plugin which its requireMavenVersion rule for using Java was  1.8. so I changed my project JDK version to 1.8 and luckily the problem was solved.</p>\n\n<p>I hope this answer could help you.</p>\n"},{"comments":[{"owner":{"account_id":336015,"reputation":626,"user_id":663432,"accept_rate":29,"display_name":"mirec"},"score":0,"creation_date":1568880966,"post_id":51672317,"comment_id":102417868,"body_markdown":"it is really strange about maven-enforcer-plugin that errors(failed rules) are logged as [WARNING] even when &lt;rule&gt;&lt;level&gt; is set to ERROR","body":"it is really strange about maven-enforcer-plugin that errors(failed rules) are logged as [WARNING] even when &lt;rule&gt;&lt;level&gt; is set to ERROR"}],"tags":[],"owner":{"account_id":4911210,"reputation":51,"user_id":3956464,"display_name":"Miryam Chaabouni"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1533298111,"creation_date":1533298111,"answer_id":51672317,"question_id":45337558,"body_markdown":"It is possible that someone is enforcing a specific Maven version. \r\n\r\nIf you see the following message: \r\n\r\n&gt; [WARNING] Rule 0:\r\n&gt; org.apache.maven.plugins.enforcer.RequireMavenVersion failed with message:\r\n &gt; Detected Maven Version: 3.5.4 is not in the allowed range [3.5.2,3.5.2].\r\n\r\nThen change your maven installation to the something in the specified range. \r\nIn this example, only version 3.5.2 is allowed. ","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>It is possible that someone is enforcing a specific Maven version. </p>\n\n<p>If you see the following message: </p>\n\n<blockquote>\n  <p>[WARNING] Rule 0:\n  org.apache.maven.plugins.enforcer.RequireMavenVersion failed with message:\n  Detected Maven Version: 3.5.4 is not in the allowed range [3.5.2,3.5.2].</p>\n</blockquote>\n\n<p>Then change your maven installation to the something in the specified range. \nIn this example, only version 3.5.2 is allowed. </p>\n"},{"tags":[],"owner":{"account_id":5973062,"reputation":557,"user_id":4694855,"accept_rate":80,"display_name":"jAvA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539284917,"creation_date":1539284917,"answer_id":52767282,"question_id":45337558,"body_markdown":"I faced the same issue and resolved it by fixing the pom versions. Below command didn&#39;t run properly on all the sub pom&#39;s which resulted in different pom versions.\r\n&#39;mvn versions:set -DnewVersion=${NEW_VERSION} versions:commit&#39;\r\nCheck whether all the moms have same version if there is dependent pom&#39;s. ","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I faced the same issue and resolved it by fixing the pom versions. Below command didn't run properly on all the sub pom's which resulted in different pom versions.\n'mvn versions:set -DnewVersion=${NEW_VERSION} versions:commit'\nCheck whether all the moms have same version if there is dependent pom's. </p>\n"},{"tags":[],"owner":{"account_id":16532789,"reputation":294,"user_id":11945573,"display_name":"Leonis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574240496,"creation_date":1574240496,"answer_id":58950385,"question_id":45337558,"body_markdown":"I had this problem because Java (java) was version 8 and the Java compiler (javac) was version 11.\r\n\r\nThis is typical for Windows users, if you need to switch between versions manually.\r\n\r\nPlease check the versions first:\r\n\r\n```\r\njava -version\r\njavac -version\r\n```\r\n\r\nIf an IDE is used, for example an IntelliJ Idea, then I will advise to carefully study the project settings as well. Perhaps it makes sense to completely delete the files generated by the IDE and import the project again.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I had this problem because Java (java) was version 8 and the Java compiler (javac) was version 11.</p>\n\n<p>This is typical for Windows users, if you need to switch between versions manually.</p>\n\n<p>Please check the versions first:</p>\n\n<pre><code>java -version\njavac -version\n</code></pre>\n\n<p>If an IDE is used, for example an IntelliJ Idea, then I will advise to carefully study the project settings as well. Perhaps it makes sense to completely delete the files generated by the IDE and import the project again.</p>\n"},{"tags":[],"owner":{"account_id":4993975,"reputation":161,"user_id":4015232,"display_name":"Ramesh Thamizhselvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588493023,"creation_date":1588493023,"answer_id":61571347,"question_id":45337558,"body_markdown":"After doing some research found an answer for this .if your using IntelliJ  \r\n\r\n```Go to Settings ---&gt; builds --&gt; Maven --&gt;set the Maven home directory.```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qAvRT.png","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>After doing some research found an answer for this .if your using IntelliJ  </p>\n\n<p><code>Go to Settings ---&gt; builds --&gt; Maven --&gt;set the Maven home directory.</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/qAvRT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qAvRT.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":16770040,"reputation":26,"user_id":12122696,"display_name":"Harikrishnan C N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591773153,"creation_date":1591773153,"answer_id":62297787,"question_id":45337558,"body_markdown":"I faced this issue. Its because of the maven binary version used. \r\n\r\nI have used maven 3.0.3 version. and the enforcer plugin wasn&#39;t reliable with that. So changed the maven binary to latest 3.6.3. And the issue got resolved and working awesome.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I faced this issue. Its because of the maven binary version used. </p>\n\n<p>I have used maven 3.0.3 version. and the enforcer plugin wasn't reliable with that. So changed the maven binary to latest 3.6.3. And the issue got resolved and working awesome.</p>\n"},{"tags":[],"owner":{"account_id":19149740,"reputation":11,"user_id":13987919,"display_name":"user13987919"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595584826,"creation_date":1595584826,"answer_id":63071308,"question_id":45337558,"body_markdown":"Firslty go tto project and run mvn clean , if build is success then just check whether the required dependency is downloaded in your .m2 folder or not , If dependency does not get downloaded in your local .m2 folder , it means either version number is incorrect for that dependency or artifactory path is not correct\r\n\r\nElse if mvn clean itself fails while dependency exist in your .m2 folder , means yoru settings.xml file actually got corrupted\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>Firslty go tto project and run mvn clean , if build is success then just check whether the required dependency is downloaded in your .m2 folder or not , If dependency does not get downloaded in your local .m2 folder , it means either version number is incorrect for that dependency or artifactory path is not correct</p>\n<p>Else if mvn clean itself fails while dependency exist in your .m2 folder , means yoru settings.xml file actually got corrupted</p>\n"},{"tags":[],"owner":{"account_id":7598714,"reputation":150,"user_id":5764074,"display_name":"Kamta Sahu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596688403,"creation_date":1596688403,"answer_id":63276889,"question_id":45337558,"body_markdown":"This worked for me.\r\n\r\n    mvn clean\r\n    mvn clean install\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>This worked for me.</p>\n<pre><code>mvn clean\nmvn clean install\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4619374,"reputation":86,"user_id":3744890,"display_name":"N.B.BASARAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599072278,"creation_date":1599072278,"answer_id":63711800,"question_id":45337558,"body_markdown":"You should probably check if you have two different versions of same artifact somewhere. I faced it when I wanted to add new maven dependency while I already added it on a different dependent project with different versions.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>You should probably check if you have two different versions of same artifact somewhere. I faced it when I wanted to add new maven dependency while I already added it on a different dependent project with different versions.</p>\n"},{"tags":[],"owner":{"account_id":3077118,"reputation":3050,"user_id":2606178,"accept_rate":71,"display_name":"amdev"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1623939901,"creation_date":1608127183,"answer_id":65324744,"question_id":45337558,"body_markdown":"You should solve the root cause of the issue, conflict between some of your dependecies, mvn/java version, there is a lot of possible reasons. \r\n\r\nYou might run `mvn dependency:tree` and check in the list if there is maybe 2 different versions or implementations of the same library from different package. Often you will have a parent pom or a dependency somewhere in the framework uncompatible with one that you added into your pom. \r\n\r\nBut often, despite this enforcer error your project could build and run perfectly so this is a workaround to build ignoring the error\r\n\r\nTo skip enforcer (not always working)\r\n\r\n    mvn clean install -Denforcer.skip=true\r\n\r\nTo continue the build if error\r\n\r\n    mvn clean install -Denforcer.fail=false\r\n\r\nThere is probably some ways to exclude a specific library from the enforcer rules too which is probably better that juste skipping everything.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>You should solve the root cause of the issue, conflict between some of your dependecies, mvn/java version, there is a lot of possible reasons.</p>\n<p>You might run <code>mvn dependency:tree</code> and check in the list if there is maybe 2 different versions or implementations of the same library from different package. Often you will have a parent pom or a dependency somewhere in the framework uncompatible with one that you added into your pom.</p>\n<p>But often, despite this enforcer error your project could build and run perfectly so this is a workaround to build ignoring the error</p>\n<p>To skip enforcer (not always working)</p>\n<pre><code>mvn clean install -Denforcer.skip=true\n</code></pre>\n<p>To continue the build if error</p>\n<pre><code>mvn clean install -Denforcer.fail=false\n</code></pre>\n<p>There is probably some ways to exclude a specific library from the enforcer rules too which is probably better that juste skipping everything.</p>\n"},{"tags":[],"owner":{"account_id":12626834,"reputation":33,"user_id":9180032,"display_name":"Nestor A. Rojas Escalona"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611665811,"creation_date":1611665811,"answer_id":65901777,"question_id":45337558,"body_markdown":"Check your maven version, for example, if you are installing Apache-CXF 3.6 and your maven version is 3.0.5, then you get errors. If you&#39;re installing Apache-CXF 3.6, the minimun version of maven must be 3.1, and the minimun version of Java must be 8.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>Check your maven version, for example, if you are installing Apache-CXF 3.6 and your maven version is 3.0.5, then you get errors. If you're installing Apache-CXF 3.6, the minimun version of maven must be 3.1, and the minimun version of Java must be 8.</p>\n"},{"tags":[],"owner":{"account_id":13097055,"reputation":73,"user_id":9462680,"display_name":"Tenzin Tridhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1617686613,"creation_date":1617686613,"answer_id":66963113,"question_id":45337558,"body_markdown":"This error is likely caused due to a mismatch of the java version specified in the pom file and the java in your system. I had Java 16 installed in my system but the pom pointed to java version 8.\r\n\r\nThere are 2 ways to solve this:\r\n1. Update the java version in the pom file to the java version installed on your PC, but this will likely cause a lot of dependency issues.\r\n2. Uninstall java installed in your system, and reinstall the java version specified in the pom file. You can do this by following the steps mentioned below:\r\n\r\nCheck the java version in your system with the following command:\r\n\r\n    java -version\r\nAnd then check the java version defined in your pom file. It&#39;d be something like \r\n\r\n    &lt;project.java.version&gt;1.8&lt;/project.java.version&gt;\r\n\r\nInstall JDK 8.","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>This error is likely caused due to a mismatch of the java version specified in the pom file and the java in your system. I had Java 16 installed in my system but the pom pointed to java version 8.</p>\n<p>There are 2 ways to solve this:</p>\n<ol>\n<li>Update the java version in the pom file to the java version installed on your PC, but this will likely cause a lot of dependency issues.</li>\n<li>Uninstall java installed in your system, and reinstall the java version specified in the pom file. You can do this by following the steps mentioned below:</li>\n</ol>\n<p>Check the java version in your system with the following command:</p>\n<pre><code>java -version\n</code></pre>\n<p>And then check the java version defined in your pom file. It'd be something like</p>\n<pre><code>&lt;project.java.version&gt;1.8&lt;/project.java.version&gt;\n</code></pre>\n<p>Install JDK 8.</p>\n"},{"tags":[],"owner":{"account_id":7735242,"reputation":171,"user_id":5857023,"display_name":"Genivan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655321258,"creation_date":1655321258,"answer_id":72636862,"question_id":45337558,"body_markdown":"In my case, apparently there was a configuration conflict that generated this error. So when I **temporarily** deleted the ***[/home/myuser/.m2/settings.xml][1]*** file, the per-line maven execution was successful.\r\n\r\nNote: In my scenario, I had Eclipse with the maven plugin and I was trying to use maven by command line and then this error message appeared.\r\n\r\n\r\n  [1]: https://","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>In my case, apparently there was a configuration conflict that generated this error. So when I <strong>temporarily</strong> deleted the <em><strong>/home/myuser/.m2/settings.xml</strong></em> file, the per-line maven execution was successful.</p>\n<p>Note: In my scenario, I had Eclipse with the maven plugin and I was trying to use maven by command line and then this error message appeared.</p>\n"},{"tags":[],"owner":{"account_id":27242221,"reputation":1,"user_id":20768195,"display_name":"Ann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670948705,"creation_date":1670948612,"answer_id":74787921,"question_id":45337558,"body_markdown":"I initially checked the java version with the following command\r\n***java -version***\r\nAs it is was not on the required java version,I changed the java version by using following command\r\n***sudo update-alternatives --config java***\r\nThis command gave me options to choose the required java version.\r\nAfter proper selection of java I could perform the following command\r\n***mvn clean install -DskipTests*** \r\nand the build was successful.Hence solved this issue\r\n","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I initially checked the java version with the following command\n<em><strong>java -version</strong></em>\nAs it is was not on the required java version,I changed the java version by using following command\n<em><strong>sudo update-alternatives --config java</strong></em>\nThis command gave me options to choose the required java version.\nAfter proper selection of java I could perform the following command\n<em><strong>mvn clean install -DskipTests</strong></em>\nand the build was successful.Hence solved this issue</p>\n"},{"tags":[],"owner":{"account_id":5033953,"reputation":9,"user_id":4043364,"display_name":"Shabbir Cosmetic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697544332,"creation_date":1697544332,"answer_id":77308843,"question_id":45337558,"body_markdown":"This is caused by a mismatch in the project java version and your local java version. I resolved it in Intelij by changing the SDK on the project structure settings","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>This is caused by a mismatch in the project java version and your local java version. I resolved it in Intelij by changing the SDK on the project structure settings</p>\n"}],"owner":{"account_id":11421078,"reputation":311,"user_id":8372553,"display_name":"Hsneider Salgado Neid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144935,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":16,"score":31,"last_activity_date":1697544332,"creation_date":1501103683,"question_id":45337558,"body_markdown":"I got a maven spring project but when I try to run it, I can&#39;t... some idea about it...  \r\nThe next is the Error Message:\r\n\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n    Total time: 4.532s\r\n    Finished at: Wed Jul 26 16:04:06 COT 2017\r\n    Final Memory: 17M/196M\r\n    ------------------------------------------------------------------------\r\n    Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:1.4.1:enforce\r\n    (enforce-versions) on project SIMI: Some Enforcer rules have failed. Look above for\r\n    specific messages explaining why the rule failed. -&gt; [Help 1]\r\n\r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException","title":"Failed to execute goal org.apache.maven.plugins:maven-enforcer-plugin","body":"<p>I got a maven spring project but when I try to run it, I can't... some idea about it...<br>\nThe next is the Error Message:</p>\n\n<pre><code>BUILD FAILURE\n------------------------------------------------------------------------\nTotal time: 4.532s\nFinished at: Wed Jul 26 16:04:06 COT 2017\nFinal Memory: 17M/196M\n------------------------------------------------------------------------\nFailed to execute goal org.apache.maven.plugins:maven-enforcer-plugin:1.4.1:enforce\n(enforce-versions) on project SIMI: Some Enforcer rules have failed. Look above for\nspecific messages explaining why the rule failed. -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\n</code></pre>\n\n<p>Re-run Maven using the -X switch to enable full debug logging.</p>\n\n<p>For more information about the errors and possible solutions, please read the following articles:\n[Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a></p>\n"},{"tags":["java","jpa","criteria","jpa-2.0"],"comments":[{"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"score":1,"creation_date":1303983605,"post_id":5816417,"comment_id":6674271,"body_markdown":"Well, thanks, but I&#39;d much rather stick with the standard APIs and try to avoid additional third party libraries. If what I want to do is not possible with the JPA Criteria API, I&#39;ll probably just stick to plain JPQL.","body":"Well, thanks, but I&#39;d much rather stick with the standard APIs and try to avoid additional third party libraries. If what I want to do is not possible with the JPA Criteria API, I&#39;ll probably just stick to plain JPQL."},{"owner":{"account_id":43273,"reputation":3228,"user_id":126414,"accept_rate":83,"display_name":"svlada"},"score":0,"creation_date":1429687036,"post_id":5816417,"comment_id":47709597,"body_markdown":"Did you solved  your problem? I have same issue. Fetch cannot be casted to Join, and I cannot get Path from Fetch. It&#39;s practically unusable. Only solution is to have two same joins, which is not acceptable.","body":"Did you solved  your problem? I have same issue. Fetch cannot be casted to Join, and I cannot get Path from Fetch. It&#39;s practically unusable. Only solution is to have two same joins, which is not acceptable."},{"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"score":4,"creation_date":1429705346,"post_id":5816417,"comment_id":47722933,"body_markdown":"Well, James&#39; answer describes the root of the issue quite nicely. You just can&#39;t do it that way, and that is a sound design decision. If I remember correctly, I ended up actually joining twice.\nThat being said, I&#39;ll never use JPA again in the first place if I have the choice, because I think it&#39;s a useless abstraction layer that adds unnecessary complexity while castrating the underlying implementation.","body":"Well, James&#39; answer describes the root of the issue quite nicely. You just can&#39;t do it that way, and that is a sound design decision. If I remember correctly, I ended up actually joining twice. That being said, I&#39;ll never use JPA again in the first place if I have the choice, because I think it&#39;s a useless abstraction layer that adds unnecessary complexity while castrating the underlying implementation."}],"answers":[{"comments":[{"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"score":4,"creation_date":1304000277,"post_id":5819631,"comment_id":6678937,"body_markdown":"Brilliant answer, thanks. Hadn&#39;t thought of that. Hibernate never complained to me about aliasing a fetch join, I wasn&#39;t aware that this actually violates the spec.","body":"Brilliant answer, thanks. Hadn&#39;t thought of that. Hibernate never complained to me about aliasing a fetch join, I wasn&#39;t aware that this actually violates the spec."},{"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"score":5,"creation_date":1335270861,"post_id":5819631,"comment_id":13251511,"body_markdown":"See also, http://java-persistence-performance.blogspot.com/2012/04/objects-vs-data-and-filtering-join.html","body":"See also, <a href=\"http://java-persistence-performance.blogspot.com/2012/04/objects-vs-data-and-filtering-join.html\" rel=\"nofollow noreferrer\">java-persistence-performance.blogspot.com/2012/04/&hellip;</a>"},{"owner":{"account_id":1005583,"reputation":1097,"user_id":1019448,"accept_rate":100,"display_name":"Faraway"},"score":0,"creation_date":1527698356,"post_id":5819631,"comment_id":88229055,"body_markdown":"I was doing exactly this kind of query and wondering what the results would be like in this exact case. This solves my confusion.","body":"I was doing exactly this kind of query and wondering what the results would be like in this exact case. This solves my confusion."},{"owner":{"account_id":8995690,"reputation":848,"user_id":6706195,"accept_rate":75,"display_name":"pavlee"},"score":0,"creation_date":1540828541,"post_id":5819631,"comment_id":92998300,"body_markdown":"I find this answer incorrect. In my case query like this returns **only** employees that have **all phones** with `areaCode = &#39;613&#39;`. It does not filter the phones collection like you said.","body":"I find this answer incorrect. In my case query like this returns <b>only</b> employees that have <b>all phones</b> with <code>areaCode = &#39;613&#39;</code>. It does not filter the phones collection like you said."},{"owner":{"account_id":9117614,"reputation":91,"user_id":6784237,"display_name":"Anton Pryamostanov"},"score":1,"creation_date":1588987864,"post_id":5819631,"comment_id":109121059,"body_markdown":"Join fetch is the whole point of Join. Object does not get corrupted when its nested collections are filtered out - regardless whether it&#39;s user code or JPA join fetch.","body":"Join fetch is the whole point of Join. Object does not get corrupted when its nested collections are filtered out - regardless whether it&#39;s user code or JPA join fetch."},{"owner":{"account_id":2965471,"reputation":923,"user_id":2518705,"display_name":"RAM237"},"score":0,"creation_date":1634831064,"post_id":5819631,"comment_id":123138023,"body_markdown":"Hmmm.... so finally, I used it as I need which is mentioned &quot;incorrectly&quot; in this answer :) But the problem I have - is when I add one more join fetch, then the same phone with area 613 is added multiple times (exactly the same count as in those newly added join fetch)...","body":"Hmmm.... so finally, I used it as I need which is mentioned &quot;incorrectly&quot; in this answer :) But the problem I have - is when I add one more join fetch, then the same phone with area 613 is added multiple times (exactly the same count as in those newly added join fetch)..."}],"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"comment_count":6,"down_vote_count":0,"up_vote_count":97,"is_accepted":true,"score":97,"last_activity_date":1519267557,"creation_date":1303998431,"answer_id":5819631,"question_id":5816417,"body_markdown":"In JPQL the same is actually true in the spec.  The JPA spec does not allow an alias to be given to a fetch join.  The issue is that you can easily shoot yourself in the foot with this by restricting the context of the join fetch.  It is safer to join twice.\r\n\r\nThis is normally more an issue with ToMany than ToOnes.\r\nFor example, \r\n\r\n    Select e from Employee e \r\n    join fetch e.phones p \r\n    where p.areaCode = &#39;613&#39;\r\n\r\nThis will **incorrectly** return all Employees that contain numbers in the &#39;613&#39; area code but will left out phone numbers of other areas in the returned list. This means that an employee that had a phone in the 613 and 416 area codes will loose the 416 phone number, so the object will be corrupted.\r\n\r\nGranted, if you know what you are doing, the extra join is not desirable, some JPA providers may allow aliasing the join fetch, and may allow casting the Criteria Fetch to a Join.\r\n\r\n","title":"How to properly express JPQL &quot;join fetch&quot; with &quot;where&quot; clause as JPA 2 CriteriaQuery?","body":"<p>In JPQL the same is actually true in the spec.  The JPA spec does not allow an alias to be given to a fetch join.  The issue is that you can easily shoot yourself in the foot with this by restricting the context of the join fetch.  It is safer to join twice.</p>\n\n<p>This is normally more an issue with ToMany than ToOnes.\nFor example, </p>\n\n<pre><code>Select e from Employee e \njoin fetch e.phones p \nwhere p.areaCode = '613'\n</code></pre>\n\n<p>This will <strong>incorrectly</strong> return all Employees that contain numbers in the '613' area code but will left out phone numbers of other areas in the returned list. This means that an employee that had a phone in the 613 and 416 area codes will loose the 416 phone number, so the object will be corrupted.</p>\n\n<p>Granted, if you know what you are doing, the extra join is not desirable, some JPA providers may allow aliasing the join fetch, and may allow casting the Criteria Fetch to a Join.</p>\n"},{"comments":[{"owner":{"account_id":15865616,"reputation":299,"user_id":11447747,"display_name":"Faizan"},"score":3,"creation_date":1614207180,"post_id":51177569,"comment_id":117318944,"body_markdown":"Can you a little explain it more with SQL query,  why the first query will return the employees with areaCode 613 and 416 Because there is a where clause, and if I understand it correctly then there will be an inner join between Employee and Phone.  Then why it will return the 613 and 416? Shouldn&#39;t it return only 613?","body":"Can you a little explain it more with SQL query,  why the first query will return the employees with areaCode 613 and 416 Because there is a where clause, and if I understand it correctly then there will be an inner join between Employee and Phone.  Then why it will return the 613 and 416? Shouldn&#39;t it return only 613?"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":1,"creation_date":1614209400,"post_id":51177569,"comment_id":117319481,"body_markdown":"@FaizanAhmad the first query will return only the employee entity &quot;James&quot;, because one of his two addresses has the 613 code. When you use `fetch` join, some developers expect to also receive these two addresses, because one of them is 613, but hibernate filter in memory and exclude the 416 from the result, returning only the 613. So, you need one join for the `fetch` (to bring all addresses) and another one for the `where` condition (return any employee that has some address with 613 code).","body":"@FaizanAhmad the first query will return only the employee entity &quot;James&quot;, because one of his two addresses has the 613 code. When you use <code>fetch</code> join, some developers expect to also receive these two addresses, because one of them is 613, but hibernate filter in memory and exclude the 416 from the result, returning only the 613. So, you need one join for the <code>fetch</code> (to bring all addresses) and another one for the <code>where</code> condition (return any employee that has some address with 613 code)."},{"owner":{"account_id":15865616,"reputation":299,"user_id":11447747,"display_name":"Faizan"},"score":0,"creation_date":1614347798,"post_id":51177569,"comment_id":117365276,"body_markdown":"I am still confused, Let me tell you what SQL I have in my mind, For the case one `Select  * from Employees as e inner join Phones as p on e.employeeId = p.employeeId where p.areacode = 613 `   if this is the query for the case one we would not get the entry with area code `416`","body":"I am still confused, Let me tell you what SQL I have in my mind, For the case one <code>Select  * from Employees as e inner join Phones as p on e.employeeId = p.employeeId where p.areacode = 613 </code>   if this is the query for the case one we would not get the entry with area code <code>416</code>"},{"owner":{"account_id":5729283,"reputation":96,"user_id":4525327,"display_name":"fantaztig"},"score":1,"creation_date":1617379489,"post_id":51177569,"comment_id":118294691,"body_markdown":"Sorry but from a performance point of view this solution is just terrible as it will produce n^2 rows with n being the size of the collection.","body":"Sorry but from a performance point of view this solution is just terrible as it will produce n^2 rows with n being the size of the collection."},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":2,"creation_date":1631718710,"post_id":51177569,"comment_id":122299554,"body_markdown":"@FaizanAhmad You would be right if we thought in pure SQL, but here we are selecting entities, which can &quot;embed&quot; relations. The `Employee` entity contains the list of all phones of the employee (usually `OneToMany` association). So as we are selecting the whole employee entity (`e`), whatever the `where` clause is, it is indeed supposed to contain all the phones of that employee. The problem here is that when using `fetch`, hibernate internally excludes from the `e.phones` list the values that or not in the `where` clause.","body":"@FaizanAhmad You would be right if we thought in pure SQL, but here we are selecting entities, which can &quot;embed&quot; relations. The <code>Employee</code> entity contains the list of all phones of the employee (usually <code>OneToMany</code> association). So as we are selecting the whole employee entity (<code>e</code>), whatever the <code>where</code> clause is, it is indeed supposed to contain all the phones of that employee. The problem here is that when using <code>fetch</code>, hibernate internally excludes from the <code>e.phones</code> list the values that or not in the <code>where</code> clause."},{"owner":{"account_id":4136335,"reputation":740,"user_id":3453279,"display_name":"Sunchezz"},"score":1,"creation_date":1659525324,"post_id":51177569,"comment_id":129314392,"body_markdown":"With latest versions, we get a duplicate result row, with this solution. You can fix it by using `SELECT DISTINCT ...`. Would be awesome if you could update your answer","body":"With latest versions, we get a duplicate result row, with this solution. You can fix it by using <code>SELECT DISTINCT ...</code>. Would be awesome if you could update your answer"}],"tags":[],"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"comment_count":6,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1680395843,"creation_date":1530720331,"answer_id":51177569,"question_id":5816417,"body_markdown":"I will show visually the problem, using the same example from James answer and adding an alternative solution.\r\n\r\nWhen you do the follow query, without the `FETCH`:\r\n\r\n    Select e from Employee e \r\n    join e.phones p \r\n    where p.areaCode = &#39;613&#39;\r\n\r\nYou will have the follow results from `Employee` as you expected:\r\n\r\n| EmployeeId | EmployeeName | PhoneId | PhoneAreaCode |\r\n|--- | --- | --- | --- |\r\n| 1          | James        | 5       | 613 |\r\n| 1          | James        | 6       | 416 |\r\n\r\nBut when you add the `FETCH` clause on `JOIN` (`FETCH JOIN`), this is what happens:\r\n\r\n| EmployeeId | EmployeeName | PhoneId | PhoneAreaCode |\r\n|--- | --- | --- | --- |\r\n| 1          | James        | 5       | 613\r\n\r\nThe generated SQL is the same for the two queries, but the Hibernate removes **on memory** the `416` register when you use `WHERE` on the `FETCH` join.\r\n\r\nSo, to bring all phones **and** apply the `WHERE` correctly, you need to have two `JOIN`s: one for the `WHERE` and another for the `FETCH`. Like:\r\n\r\n    Select e from Employee e \r\n    join e.phones p \r\n    join fetch e.phones      //no alias, to not commit the mistake\r\n    where p.areaCode = &#39;613&#39;\r\n\r\nMaybe in the newest versions of Hibernate you will need to use `SELECT DISTINCT` to avoid duplicate results.","title":"How to properly express JPQL &quot;join fetch&quot; with &quot;where&quot; clause as JPA 2 CriteriaQuery?","body":"<p>I will show visually the problem, using the same example from James answer and adding an alternative solution.</p>\n<p>When you do the follow query, without the <code>FETCH</code>:</p>\n<pre><code>Select e from Employee e \njoin e.phones p \nwhere p.areaCode = '613'\n</code></pre>\n<p>You will have the follow results from <code>Employee</code> as you expected:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>EmployeeId</th>\n<th>EmployeeName</th>\n<th>PhoneId</th>\n<th>PhoneAreaCode</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>James</td>\n<td>5</td>\n<td>613</td>\n</tr>\n<tr>\n<td>1</td>\n<td>James</td>\n<td>6</td>\n<td>416</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>But when you add the <code>FETCH</code> clause on <code>JOIN</code> (<code>FETCH JOIN</code>), this is what happens:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>EmployeeId</th>\n<th>EmployeeName</th>\n<th>PhoneId</th>\n<th>PhoneAreaCode</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>James</td>\n<td>5</td>\n<td>613</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The generated SQL is the same for the two queries, but the Hibernate removes <strong>on memory</strong> the <code>416</code> register when you use <code>WHERE</code> on the <code>FETCH</code> join.</p>\n<p>So, to bring all phones <strong>and</strong> apply the <code>WHERE</code> correctly, you need to have two <code>JOIN</code>s: one for the <code>WHERE</code> and another for the <code>FETCH</code>. Like:</p>\n<pre><code>Select e from Employee e \njoin e.phones p \njoin fetch e.phones      //no alias, to not commit the mistake\nwhere p.areaCode = '613'\n</code></pre>\n<p>Maybe in the newest versions of Hibernate you will need to use <code>SELECT DISTINCT</code> to avoid duplicate results.</p>\n"},{"tags":[],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623957547,"creation_date":1623957547,"answer_id":68025381,"question_id":5816417,"body_markdown":"I may answer late this but from my point of view.\r\n\r\n    Select e from Employee e \r\n    join e.phones p \r\n    join fetch e.phones      //no alias, to not commit the mistake\r\n    where p.areaCode = &#39;613&#39;\r\n\r\nThis could be translated to the following SQL Query\r\n\r\n    Select e.id, e.name, p.id ,p.phone\r\n    From Employe e\r\n    inner join Phone p on e.id = p.emp_id\r\n    where exists(\r\n      select 1 from Phone where Phone.id= p.id and Phone.area =&#39;XXX&#39;  \r\n    )\r\nThis will get all phones of an employee that belongs to an area.\r\n\r\nBUT \r\n\r\n\r\n    Select e from Employee e \r\n    join fetch e.phones p      //no alias, to not commit the mistake\r\n    where p.areaCode = &#39;613&#39;\r\n\r\ncould be translated to the following SQL Queries\r\n\r\n    Select  e.id, e.name, p.id ,p.phone\r\n    From    Employe e\r\n    inner   join Phone p on e.id = p.id\r\n    Where   p.area =&#39;XXX&#39;  \r\n    \r\nor\r\n\r\n    Select e.id, e.name, p.id ,p.phone\r\n    From Employe e\r\n    inner join Phone p on e.id = p.emp_id and p.area =&#39;XXX&#39;  \r\n    \r\nthis will restrict row selection to only rows where employees phone is of area XXX\r\n\r\n\r\nAnd finally writing this\r\n\r\n\r\n    Select e from Employee e \r\n    join  e.phones p      \r\n    where p.areaCode = &#39;613&#39;\r\n\r\nCould be seen as\r\n\r\n    Select e.id, e.name \r\n    from Employe e\r\n    where exists (\r\n     select 1 from phone p where p.emp_id = e.id and p.area = &#39;XXX&#39;\r\n    )\r\n\r\nWhere we are only getting employee data that have a phone number in some area\r\n\r\nThis should help get the idea after each query.","title":"How to properly express JPQL &quot;join fetch&quot; with &quot;where&quot; clause as JPA 2 CriteriaQuery?","body":"<p>I may answer late this but from my point of view.</p>\n<pre><code>Select e from Employee e \njoin e.phones p \njoin fetch e.phones      //no alias, to not commit the mistake\nwhere p.areaCode = '613'\n</code></pre>\n<p>This could be translated to the following SQL Query</p>\n<pre><code>Select e.id, e.name, p.id ,p.phone\nFrom Employe e\ninner join Phone p on e.id = p.emp_id\nwhere exists(\n  select 1 from Phone where Phone.id= p.id and Phone.area ='XXX'  \n)\n</code></pre>\n<p>This will get all phones of an employee that belongs to an area.</p>\n<p>BUT</p>\n<pre><code>Select e from Employee e \njoin fetch e.phones p      //no alias, to not commit the mistake\nwhere p.areaCode = '613'\n</code></pre>\n<p>could be translated to the following SQL Queries</p>\n<pre><code>Select  e.id, e.name, p.id ,p.phone\nFrom    Employe e\ninner   join Phone p on e.id = p.id\nWhere   p.area ='XXX'  \n</code></pre>\n<p>or</p>\n<pre><code>Select e.id, e.name, p.id ,p.phone\nFrom Employe e\ninner join Phone p on e.id = p.emp_id and p.area ='XXX'  \n</code></pre>\n<p>this will restrict row selection to only rows where employees phone is of area XXX</p>\n<p>And finally writing this</p>\n<pre><code>Select e from Employee e \njoin  e.phones p      \nwhere p.areaCode = '613'\n</code></pre>\n<p>Could be seen as</p>\n<pre><code>Select e.id, e.name \nfrom Employe e\nwhere exists (\n select 1 from phone p where p.emp_id = e.id and p.area = 'XXX'\n)\n</code></pre>\n<p>Where we are only getting employee data that have a phone number in some area</p>\n<p>This should help get the idea after each query.</p>\n"}],"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143483,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":5819631,"answer_count":3,"score":69,"last_activity_date":1697544021,"creation_date":1303982627,"question_id":5816417,"body_markdown":"Consider the following JPQL query:\r\n\r\n    SELECT foo FROM Foo foo\r\n    INNER JOIN FETCH foo.bar bar\r\n    WHERE bar.baz = :baz\r\n\r\nI&#39;m trying to translate this into a Criteria query. This is as far as I have gotten:\r\n\r\n    var cb = em.getCriteriaBuilder();\r\n    var query = cb.createQuery(Foo.class);\r\n    var foo = query.from(Foo.class);\r\n    var fetch = foo.fetch(Foo_.bar, JoinType.INNER);\r\n    var join = foo.join(Foo_.bar, JoinType.INNER);\r\n    query.where(cb.equal(join.get(Bar_.baz), value);\r\n\r\nThe obvious problem here is that I am doing the same join twice, because the `Fetch` class doesn&#39;t seem to have a method to get a `Path`.\r\nIs there any way to avoid having to join twice? Or do I have to stick with good old JPQL with a query as simple as that?","title":"How to properly express JPQL &quot;join fetch&quot; with &quot;where&quot; clause as JPA 2 CriteriaQuery?","body":"<p>Consider the following JPQL query:</p>\n<pre><code>SELECT foo FROM Foo foo\nINNER JOIN FETCH foo.bar bar\nWHERE bar.baz = :baz\n</code></pre>\n<p>I'm trying to translate this into a Criteria query. This is as far as I have gotten:</p>\n<pre><code>var cb = em.getCriteriaBuilder();\nvar query = cb.createQuery(Foo.class);\nvar foo = query.from(Foo.class);\nvar fetch = foo.fetch(Foo_.bar, JoinType.INNER);\nvar join = foo.join(Foo_.bar, JoinType.INNER);\nquery.where(cb.equal(join.get(Bar_.baz), value);\n</code></pre>\n<p>The obvious problem here is that I am doing the same join twice, because the <code>Fetch</code> class doesn't seem to have a method to get a <code>Path</code>.\nIs there any way to avoid having to join twice? Or do I have to stick with good old JPQL with a query as simple as that?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1697468092,"post_id":77302749,"comment_id":136280416,"body_markdown":"DOn&#39;t let your service depend on web classes that is bad idea (the `Model` in this case). The model isn&#39;t stored in between requests so unless yo have hidden inputs for `type` and `city` in the form you are submitting nothing will be there.","body":"DOn&#39;t let your service depend on web classes that is bad idea (the <code>Model</code> in this case). The model isn&#39;t stored in between requests so unless yo have hidden inputs for <code>type</code> and <code>city</code> in the form you are submitting nothing will be there."}],"answers":[{"tags":[],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697543657,"creation_date":1697471627,"answer_id":77303379,"question_id":77302749,"body_markdown":"In order to fix this problem, I used Cookies. I simply set a cookie to remember the value chosen for city and type and the issue was gone.","title":"Data not transfering when using model.addAttribute()","body":"<p>In order to fix this problem, I used Cookies. I simply set a cookie to remember the value chosen for city and type and the issue was gone.</p>\n"}],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697543657,"creation_date":1697465919,"question_id":77302749,"body_markdown":"I want to transfer some default values the user choosed when they click on a dropdown item, but the values are deleted (`null`) when I try to save the passed entity to a repository. When I try and print out the data in HTML, the data is there, it&#39;s visible, but when I try to save it to the database, only the data that is in the input field is being saved, even though I&#39;m passing the complete object.\r\n\r\nHere is the code:\r\n\r\nController\r\n\r\n    @GetMapping(&quot;/racun/new/{type}/{city}&quot;)\r\n        public String createRacunForm(Model model, @PathVariable String type, @PathVariable String city) {\r\n            return racunService.createRacunForm(model, type, city);\r\n        }\r\n    \r\n    @PostMapping(&quot;/racun/new&quot;)\r\n        public String createRacun(@ModelAttribute(&quot;racun&quot;) racun racun){\r\n            return racunService.createNewRacun(racun);\r\n        }\r\n\r\nService:\r\n\r\n    public String createRacunForm(Model model, String type, String city){\r\n            racun racun = new racun();\r\n            racun.setType(type); //set, has a value chosen by a user\r\n            racun.setCity(city); //set, has a value chosen by a user\r\n    \r\n            model.addAttribute(&quot;racun&quot;, racun);\r\n            return &quot;racun_new&quot;;\r\n        }\r\n    \r\n    public String createNewRacun(racun racun){\r\n            String type = racun.getType(); //null\r\n            String city = racun.getCity(); //null\r\n            Double price = racun.getPrice(); //read from input by a user\r\n            String desc = racun.getDescription(); //read from input by a user\r\n            \r\n            racunRepository.save(racun); //saved and it prints all attributes but type and city are null\r\n            \r\n    \r\n            return &quot;redirect:/racun/&quot; + racun.getId();\r\n        }\r\n\r\nSo basically, I create a form using a createRacunForm in controller and take in the parameters the user chose (values are set from chosen dropdown items such as city and type), I then set the type and city using those values and use `model.addAttribute(&quot;racun&quot;, racun);` to pass the model to a racun_new.html template. In there I tried to print the values so the user sees what they chose and I managed to do that. But when they click on `submit` only the values they entered in the input fields, which are description and price, are being saved and displayed in the `racun/{id]` template... The code comments say where the data exists and where it&#39;s null...\r\n\r\nCan someone help me understand and explain why this doesn&#39;t work as I believe the `model.AddAttribute(&quot;racun&quot;, racun);` should pass the racun as an object with it&#39;s set values?\r\n\r\nHow to fix this?\r\n\r\nThanks in advance","title":"Data not transfering when using model.addAttribute()","body":"<p>I want to transfer some default values the user choosed when they click on a dropdown item, but the values are deleted (<code>null</code>) when I try to save the passed entity to a repository. When I try and print out the data in HTML, the data is there, it's visible, but when I try to save it to the database, only the data that is in the input field is being saved, even though I'm passing the complete object.</p>\n<p>Here is the code:</p>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/racun/new/{type}/{city}&quot;)\n    public String createRacunForm(Model model, @PathVariable String type, @PathVariable String city) {\n        return racunService.createRacunForm(model, type, city);\n    }\n\n@PostMapping(&quot;/racun/new&quot;)\n    public String createRacun(@ModelAttribute(&quot;racun&quot;) racun racun){\n        return racunService.createNewRacun(racun);\n    }\n</code></pre>\n<p>Service:</p>\n<pre><code>public String createRacunForm(Model model, String type, String city){\n        racun racun = new racun();\n        racun.setType(type); //set, has a value chosen by a user\n        racun.setCity(city); //set, has a value chosen by a user\n\n        model.addAttribute(&quot;racun&quot;, racun);\n        return &quot;racun_new&quot;;\n    }\n\npublic String createNewRacun(racun racun){\n        String type = racun.getType(); //null\n        String city = racun.getCity(); //null\n        Double price = racun.getPrice(); //read from input by a user\n        String desc = racun.getDescription(); //read from input by a user\n        \n        racunRepository.save(racun); //saved and it prints all attributes but type and city are null\n        \n\n        return &quot;redirect:/racun/&quot; + racun.getId();\n    }\n</code></pre>\n<p>So basically, I create a form using a createRacunForm in controller and take in the parameters the user chose (values are set from chosen dropdown items such as city and type), I then set the type and city using those values and use <code>model.addAttribute(&quot;racun&quot;, racun);</code> to pass the model to a racun_new.html template. In there I tried to print the values so the user sees what they chose and I managed to do that. But when they click on <code>submit</code> only the values they entered in the input fields, which are description and price, are being saved and displayed in the <code>racun/{id]</code> template... The code comments say where the data exists and where it's null...</p>\n<p>Can someone help me understand and explain why this doesn't work as I believe the <code>model.AddAttribute(&quot;racun&quot;, racun);</code> should pass the racun as an object with it's set values?</p>\n<p>How to fix this?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","user-interface","agent","agents-jade"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1672875587,"post_id":75012443,"comment_id":132374455,"body_markdown":"You create an `ActionListener` that you add to your button. In that `ActionListener` you use &quot;getText()&quot; on the TestArea and call the desired method with the results. ie. &quot;btnDesplegarActionPerformed&quot; get&#39;s called and uses the information from the TextArea. What do you want ot happen?","body":"You create an <code>ActionListener</code> that you add to your button. In that <code>ActionListener</code> you use &quot;getText()&quot; on the TestArea and call the desired method with the results. ie. &quot;btnDesplegarActionPerformed&quot; get&#39;s called and uses the information from the TextArea. What do you want ot happen?"},{"owner":{"account_id":13661413,"reputation":11,"user_id":9856352,"display_name":"Daniel Velin"},"score":0,"creation_date":1672895460,"post_id":75012443,"comment_id":132377376,"body_markdown":"I want this information to be taken by an agent in the AgentContainer and then sent via an ACLMessage to another agent.","body":"I want this information to be taken by an agent in the AgentContainer and then sent via an ACLMessage to another agent."}],"answers":[{"tags":[],"owner":{"account_id":15476638,"reputation":86,"user_id":11165127,"display_name":"Hc."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697543620,"creation_date":1697543620,"answer_id":77308770,"question_id":75012443,"body_markdown":"We lack some information. As agents are threads, to give them the data collected with the GUI will vary depending of your design choices.\r\n\r\n - **If you have one GUI for each agent** : The GUI should be launched by the agent. That way the agent will own a reference to the JFrame and thus be able to access the GUI variables. \r\n - **If one GUI is used to create all the agents** : You get the parameters from the GUI using actionPerformed(). Then you create the agents by giving the data collected through the GUI in parameter to the agents instantiation function.\r\n - **If one GUI is used to update all agents at runtime** : Then either your agents possess a reference to the GUI, the GUI possess a reference to the agents (considered as objects, not agents), the GUI is backed by an agent whose only role is to notify the agents through messages, or both agents and GUI share a common place to store data. It will depend of your constraints and objectives. In any case, I recommend using an asynchronous approach and an observer design pattern\r\n\r\n\r\n","title":"Send a message with information in GUI from an agent in Java after clicking a bottom","body":"<p>We lack some information. As agents are threads, to give them the data collected with the GUI will vary depending of your design choices.</p>\n<ul>\n<li><strong>If you have one GUI for each agent</strong> : The GUI should be launched by the agent. That way the agent will own a reference to the JFrame and thus be able to access the GUI variables.</li>\n<li><strong>If one GUI is used to create all the agents</strong> : You get the parameters from the GUI using actionPerformed(). Then you create the agents by giving the data collected through the GUI in parameter to the agents instantiation function.</li>\n<li><strong>If one GUI is used to update all agents at runtime</strong> : Then either your agents possess a reference to the GUI, the GUI possess a reference to the agents (considered as objects, not agents), the GUI is backed by an agent whose only role is to notify the agents through messages, or both agents and GUI share a common place to store data. It will depend of your constraints and objectives. In any case, I recommend using an asynchronous approach and an observer design pattern</li>\n</ul>\n"}],"owner":{"account_id":13661413,"reputation":11,"user_id":9856352,"display_name":"Daniel Velin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697543620,"creation_date":1672875078,"question_id":75012443,"body_markdown":"I&#39;m creating a GUI in Java (Netbeans) and I want to create a multi-agent system on it. The GUI will have some Text Area and a Button, so I want to click that button and give all the text information to an agent to process but I don&#180;t know how communicate the GUI with the Agents or the AgentContainer. \r\n\r\n**GUI Class (main):**\r\n\r\n    public class GUI extends javax.swing.JFrame {\r\n        Contenedor c;\r\n\r\n        public GUI() {\r\n            initComponents();\r\n            c = new Contenedor();\r\n            c.contenedor();\r\n        }\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n        private void initComponents() {\r\n\r\n            jScrollPane1 = new javax.swing.JScrollPane();\r\n            txtArea = new javax.swing.JTextArea();\r\n            btnDesplegar = new javax.swing.JButton();\r\n\r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n            txtArea.setColumns(20);\r\n            txtArea.setRows(5);\r\n            jScrollPane1.setViewportView(txtArea);\r\n\r\n            btnDesplegar.setText(&quot;Desplegar&quot;);\r\n            btnDesplegar.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    btnDesplegarActionPerformed(evt);\r\n                }\r\n            });\r\n\r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(17, 17, 17)\r\n                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE,     javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addGap(38, 38, 38)\r\n                    .addComponent(btnDesplegar)\r\n                    .addContainerGap(47, Short.MAX_VALUE))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addGap(43, 43, 43)\r\n                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                        .addGroup(layout.createSequentialGroup()\r\n                            .addGap(82, 82, 82)\r\n                            .addComponent(btnDesplegar)))\r\n                    .addContainerGap(171, Short.MAX_VALUE))\r\n            );\r\n\r\n            pack();\r\n        }// &lt;/editor-fold&gt;                        \r\n\r\n        private void btnDesplegarActionPerformed(java.awt.event.ActionEvent evt) {                                             \r\n            System.out.println(txtArea.getText());\r\n        \r\n        }                                            \r\n\r\n        public static void main(String args[]) {\r\n\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new GUI().setVisible(true);                \r\n                }\r\n            });\r\n        }\r\n\r\n        // Variables declaration - do not modify                     \r\n        private javax.swing.JButton btnDesplegar;\r\n        private javax.swing.JScrollPane jScrollPane1;\r\n        private javax.swing.JTextArea txtArea;\r\n        // End of variables declaration                   \r\n    }\r\n\r\n**AgentContainer:**\r\n\r\n    import jade.core.Profile;\r\n    import jade.core.ProfileImpl;\r\n    import jade.core.Runtime;\r\n    import jade.wrapper.AgentContainer;\r\n    import jade.wrapper.StaleProxyException;\r\n    import java.util.logging.Level;\r\n\r\n    public class Contenedor {\r\n        private AgentContainer contenedorAgentes;\r\n    \r\n        public void contenedor(){\r\n            Runtime runtime = Runtime.instance();\r\n            Profile profile = new ProfileImpl(null, 1097, null);\r\n            contenedorAgentes = runtime.createMainContainer(profile);\r\n            agregarAgentes();\r\n        }\r\n     \r\n        private void agregarAgentes(){\r\n            try {\r\n                contenedorAgentes.createNewAgent(&quot;Ag1&quot;, Ag1.class.getName(), null).start();\r\n            } \r\n            catch (StaleProxyException ex) {\r\n                java.util.logging.Logger.getLogger(Contenedor.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }    \r\n    }\r\n\r\n**Agent:**\r\n    import jade.core.Agent;\r\n    import jade.core.behaviours.CyclicBehaviour;\r\n\r\n    public class Ag1 extends Agent{\r\n    \r\n        @Override\r\n        public void setup(){\r\n            addBehaviour(new Comportamiento());\r\n        }\r\n    \r\n        @Override\r\n        public void takeDown(){\r\n        \r\n        }\r\n    \r\n        class Comportamiento extends CyclicBehaviour{\r\n\r\n            @Override\r\n            public void action() {\r\n                System.out.println(&quot;pan&quot;);\r\n            }\r\n           \r\n        }\r\n    }\r\n\r\n","title":"Send a message with information in GUI from an agent in Java after clicking a bottom","body":"<p>I'm creating a GUI in Java (Netbeans) and I want to create a multi-agent system on it. The GUI will have some Text Area and a Button, so I want to click that button and give all the text information to an agent to process but I don´t know how communicate the GUI with the Agents or the AgentContainer.</p>\n<p><strong>GUI Class (main):</strong></p>\n<pre><code>public class GUI extends javax.swing.JFrame {\n    Contenedor c;\n\n    public GUI() {\n        initComponents();\n        c = new Contenedor();\n        c.contenedor();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jScrollPane1 = new javax.swing.JScrollPane();\n        txtArea = new javax.swing.JTextArea();\n        btnDesplegar = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        txtArea.setColumns(20);\n        txtArea.setRows(5);\n        jScrollPane1.setViewportView(txtArea);\n\n        btnDesplegar.setText(&quot;Desplegar&quot;);\n        btnDesplegar.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                btnDesplegarActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(17, 17, 17)\n                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE,     javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(38, 38, 38)\n                .addComponent(btnDesplegar)\n                .addContainerGap(47, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(43, 43, 43)\n                        .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(82, 82, 82)\n                        .addComponent(btnDesplegar)))\n                .addContainerGap(171, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void btnDesplegarActionPerformed(java.awt.event.ActionEvent evt) {                                             \n        System.out.println(txtArea.getText());\n    \n    }                                            \n\n    public static void main(String args[]) {\n\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new GUI().setVisible(true);                \n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton btnDesplegar;\n    private javax.swing.JScrollPane jScrollPane1;\n    private javax.swing.JTextArea txtArea;\n    // End of variables declaration                   \n}\n</code></pre>\n<p><strong>AgentContainer:</strong></p>\n<pre><code>import jade.core.Profile;\nimport jade.core.ProfileImpl;\nimport jade.core.Runtime;\nimport jade.wrapper.AgentContainer;\nimport jade.wrapper.StaleProxyException;\nimport java.util.logging.Level;\n\npublic class Contenedor {\n    private AgentContainer contenedorAgentes;\n\n    public void contenedor(){\n        Runtime runtime = Runtime.instance();\n        Profile profile = new ProfileImpl(null, 1097, null);\n        contenedorAgentes = runtime.createMainContainer(profile);\n        agregarAgentes();\n    }\n \n    private void agregarAgentes(){\n        try {\n            contenedorAgentes.createNewAgent(&quot;Ag1&quot;, Ag1.class.getName(), null).start();\n        } \n        catch (StaleProxyException ex) {\n            java.util.logging.Logger.getLogger(Contenedor.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }    \n}\n</code></pre>\n<p><strong>Agent:</strong>\nimport jade.core.Agent;\nimport jade.core.behaviours.CyclicBehaviour;</p>\n<pre><code>public class Ag1 extends Agent{\n\n    @Override\n    public void setup(){\n        addBehaviour(new Comportamiento());\n    }\n\n    @Override\n    public void takeDown(){\n    \n    }\n\n    class Comportamiento extends CyclicBehaviour{\n\n        @Override\n        public void action() {\n            System.out.println(&quot;pan&quot;);\n        }\n       \n    }\n}\n</code></pre>\n"},{"tags":["java","spring","database","maven","intellij-idea"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697456117,"post_id":77301573,"comment_id":136278055,"body_markdown":"What is a error? Who knows may be it doesn&#39;t exist.","body":"What is a error? Who knows may be it doesn&#39;t exist."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1697457332,"post_id":77301573,"comment_id":136278258,"body_markdown":"No you don&#39;t. You want 3 projects `frontend`, `backend` and `db` where `backend` depends on `db` and `frontend` (I assume) on `backend`. Each of these will have a `src/main/java`  in them (and `/src/main/resources`) as necessary. Don&#39;t mess around with the locations of the sources, it will bring you more trouble then it solves.","body":"No you don&#39;t. You want 3 projects <code>frontend</code>, <code>backend</code> and <code>db</code> where <code>backend</code> depends on <code>db</code> and <code>frontend</code> (I assume) on <code>backend</code>. Each of these will have a <code>src&#47;main&#47;java</code>  in them (and <code>&#47;src&#47;main&#47;resources</code>) as necessary. Don&#39;t mess around with the locations of the sources, it will bring you more trouble then it solves."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1697458272,"post_id":77301573,"comment_id":136278426,"body_markdown":"Maven has very strong opinions about how to do things.  There is a lot of pain and misery ahead if you don’t learn and obey &#128578;","body":"Maven has very strong opinions about how to do things.  There is a lot of pain and misery ahead if you don’t learn and obey 🙂"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697543560,"creation_date":1697459171,"answer_id":77301955,"question_id":77301573,"body_markdown":"Welcome Michael Williams,\r\n\r\nthere is a very well established method in maven to do that properly.\r\n\r\nYou need 4 `pom.xml`:\r\n\r\n```\r\nproject/pom.xml\r\nproject/backend/pom.xml\r\nproject/frontend/pom.xml\r\nproject/db/pom.xml\r\n```\r\nThe first `project/pom.xml` may contain this `xml`:\r\n\r\n\r\n\r\n    &lt;project&gt; ...\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;backend&lt;/module&gt;\r\n        &lt;module&gt;frontend&lt;/module&gt;\r\n        &lt;module&gt;db&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    &lt;/project&gt;\r\n\r\nWould you concider this as an approach?","title":"How to configure src/main/java into another folder in spring boot (maven)","body":"<p>Welcome Michael Williams,</p>\n<p>there is a very well established method in maven to do that properly.</p>\n<p>You need 4 <code>pom.xml</code>:</p>\n<pre><code>project/pom.xml\nproject/backend/pom.xml\nproject/frontend/pom.xml\nproject/db/pom.xml\n</code></pre>\n<p>The first <code>project/pom.xml</code> may contain this <code>xml</code>:</p>\n<pre><code>&lt;project&gt; ...\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  &lt;modules&gt;\n    &lt;module&gt;backend&lt;/module&gt;\n    &lt;module&gt;frontend&lt;/module&gt;\n    &lt;module&gt;db&lt;/module&gt;\n  &lt;/modules&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Would you concider this as an approach?</p>\n"},{"tags":[],"owner":{"account_id":6509120,"reputation":134,"user_id":5664993,"display_name":"Kapil Bablani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697460395,"creation_date":1697460395,"answer_id":77302081,"question_id":77301573,"body_markdown":"In Practical, there should be separate project atleast for UI and backend. The database will be part of backend project.\r\nThats where Maven comes with folders to create the backend code in src/main/java and its test cases under src/test/java. \r\nIf still you want all the things to be under one project, go for modules.","title":"How to configure src/main/java into another folder in spring boot (maven)","body":"<p>In Practical, there should be separate project atleast for UI and backend. The database will be part of backend project.\nThats where Maven comes with folders to create the backend code in src/main/java and its test cases under src/test/java.\nIf still you want all the things to be under one project, go for modules.</p>\n"}],"owner":{"account_id":28357605,"reputation":1,"user_id":21688101,"display_name":"michael williams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1697543560,"creation_date":1697455478,"question_id":77301573,"body_markdown":"I want to create a spring boot project (maven) in IntelliJ. However i want to move src/main/java or java source code into a folder called &quot;backend&quot; (located at root directory of the project. To elaborate more, there will be 3 folder at root directory called &quot;frontend&quot;, &quot;backend&quot; and &quot;db&quot;.\r\n\r\nThis project has establish connection with postgreSQL successfully. But when i move my src/main/java into another folder, it stated the error&quot; cant find jpa.spring.datasource.url&quot;.","title":"How to configure src/main/java into another folder in spring boot (maven)","body":"<p>I want to create a spring boot project (maven) in IntelliJ. However i want to move src/main/java or java source code into a folder called &quot;backend&quot; (located at root directory of the project. To elaborate more, there will be 3 folder at root directory called &quot;frontend&quot;, &quot;backend&quot; and &quot;db&quot;.</p>\n<p>This project has establish connection with postgreSQL successfully. But when i move my src/main/java into another folder, it stated the error&quot; cant find jpa.spring.datasource.url&quot;.</p>\n"},{"tags":["java","azure","azure-databricks","delta-lake","azure-purview"],"answers":[{"tags":[],"owner":{"account_id":24067356,"reputation":5386,"user_id":18043699,"display_name":"Pratik Lad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666078979,"creation_date":1660111109,"answer_id":73301289,"question_id":73286558,"body_markdown":"&gt; Error: (3913) JavaException: Must have Java 8 or newer install\r\n\r\n**The message error is quite misleading**\r\n\r\nAs per [Microsoft Document](https://learn.microsoft.com/en-us/azure/purview/register-scan-hive-metastore-source#prerequisites),\r\n\r\n&gt; Ensure JDK 11 is installed on the machine where the self-hosted integration runtime is installed\r\n\r\nCurrently the Purview preview connection **only functions with JDK 11**; it is not compatible with JDK versions higher or below.\r\n\r\nTo fix this issue uninstall your current JDK installed version and install JDK 11 after installing, restart the computer and try again.","title":"Azure Purview scan on Databrick delta-lake shows &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;","body":"<blockquote>\n<p>Error: (3913) JavaException: Must have Java 8 or newer install</p>\n</blockquote>\n<p><strong>The message error is quite misleading</strong></p>\n<p>As per <a href=\"https://learn.microsoft.com/en-us/azure/purview/register-scan-hive-metastore-source#prerequisites\" rel=\"nofollow noreferrer\">Microsoft Document</a>,</p>\n<blockquote>\n<p>Ensure JDK 11 is installed on the machine where the self-hosted integration runtime is installed</p>\n</blockquote>\n<p>Currently the Purview preview connection <strong>only functions with JDK 11</strong>; it is not compatible with JDK versions higher or below.</p>\n<p>To fix this issue uninstall your current JDK installed version and install JDK 11 after installing, restart the computer and try again.</p>\n"},{"tags":[],"owner":{"account_id":17711579,"reputation":1,"user_id":12859003,"display_name":"oscargreendull314"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674055338,"creation_date":1674055338,"answer_id":75161478,"question_id":73286558,"body_markdown":"Microsoft has released a new documentation concerning the **Databricks connector** that avoids setting up connection to the Hive Metasore manually.\r\n\r\nNote that it is still in *preview* and requires JDK 11 installed on the machine where the IR is installed. \r\n\r\nYou can find the newly updated documentation (as of 01/01/2023) [here][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/purview/register-scan-azure-databricks","title":"Azure Purview scan on Databrick delta-lake shows &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;","body":"<p>Microsoft has released a new documentation concerning the <strong>Databricks connector</strong> that avoids setting up connection to the Hive Metasore manually.</p>\n<p>Note that it is still in <em>preview</em> and requires JDK 11 installed on the machine where the IR is installed.</p>\n<p>You can find the newly updated documentation (as of 01/01/2023) <a href=\"https://learn.microsoft.com/en-us/azure/purview/register-scan-azure-databricks\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1697714863,"post_id":77308753,"comment_id":136316051,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77308753/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8380752,"reputation":1,"user_id":6292807,"display_name":"S.Bassani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697543487,"creation_date":1697543487,"answer_id":77308753,"question_id":73286558,"body_markdown":"**The above answer from Pratik Lad and halfer is true, not only for preview connectors** but for all connectors that needs java 11 jdk, such for instance Oracle connetor. In my case I followed those instructions **for Oracle connector** and it worked. \r\nI had to unistall my previous java version (21) and re-installed the 11 one so my connector could work again, and I could perform my Oracle scan (Oct 2023).\r\n\r\nYou can also find Microsoft offcial reply (for Preview connectors) here:\r\nhttps://learn.microsoft.com/en-us/answers/questions/633987/purview-integration-with-erwin-9-x","title":"Azure Purview scan on Databrick delta-lake shows &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;","body":"<p><strong>The above answer from Pratik Lad and halfer is true, not only for preview connectors</strong> but for all connectors that needs java 11 jdk, such for instance Oracle connetor. In my case I followed those instructions <strong>for Oracle connector</strong> and it worked.\nI had to unistall my previous java version (21) and re-installed the 11 one so my connector could work again, and I could perform my Oracle scan (Oct 2023).</p>\n<p>You can also find Microsoft offcial reply (for Preview connectors) here:\n<a href=\"https://learn.microsoft.com/en-us/answers/questions/633987/purview-integration-with-erwin-9-x\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/answers/questions/633987/purview-integration-with-erwin-9-x</a></p>\n"}],"owner":{"account_id":908626,"reputation":6362,"user_id":1417742,"accept_rate":77,"display_name":"pd farhad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73301289,"answer_count":3,"score":0,"last_activity_date":1697543487,"creation_date":1660019462,"question_id":73286558,"body_markdown":"We have our delta-lake from which we can query data. We also connected it with Power BI to make interactive dashboards. It&#39;s in production. Now we want to use Azure Purview to avail all the data governance and data catalog things on top of this delta-lake.\r\n\r\nWe followed this official [documentation][1] and have done all the steps. As you can see from the screenshot below, we are able to connect both worlds.\r\n\r\n[![enter image description here][2]][2] \r\n\r\nNow when we start the scan, it shows an error with &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nIn the Windows VM where we are having integration runtime, we installed Java, added it to the system path, and also added JAVA_HOME as system variables as well\r\n\r\nHere are the screenshots of that Windows VM ensuring we have Java:\r\n\r\n`java --version`:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nJAVA_HOME as System Variable:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nJava directory in the Path:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nWe have pulled every trick we could, no luck at all. We are not sure if is there any other place where we need to install Java.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/purview/register-scan-hive-metastore-source\r\n  [2]: https://i.stack.imgur.com/xgnOf.png\r\n  [3]: https://i.stack.imgur.com/FDmKC.png\r\n  [4]: https://i.stack.imgur.com/1kHAe.png\r\n  [5]: https://i.stack.imgur.com/tSXrm.jpg\r\n  [6]: https://i.stack.imgur.com/zuns5.png","title":"Azure Purview scan on Databrick delta-lake shows &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;","body":"<p>We have our delta-lake from which we can query data. We also connected it with Power BI to make interactive dashboards. It's in production. Now we want to use Azure Purview to avail all the data governance and data catalog things on top of this delta-lake.</p>\n<p>We followed this official <a href=\"https://learn.microsoft.com/en-us/azure/purview/register-scan-hive-metastore-source\" rel=\"nofollow noreferrer\">documentation</a> and have done all the steps. As you can see from the screenshot below, we are able to connect both worlds.</p>\n<p><a href=\"https://i.stack.imgur.com/xgnOf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xgnOf.png\" alt=\"enter image description here\" /></a></p>\n<p>Now when we start the scan, it shows an error with &quot;Error: (3913) JavaException: Must have Java 8 or newer installed&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/FDmKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDmKC.png\" alt=\"enter image description here\" /></a></p>\n<p>In the Windows VM where we are having integration runtime, we installed Java, added it to the system path, and also added JAVA_HOME as system variables as well</p>\n<p>Here are the screenshots of that Windows VM ensuring we have Java:</p>\n<p><code>java --version</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/1kHAe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1kHAe.png\" alt=\"enter image description here\" /></a></p>\n<p>JAVA_HOME as System Variable:</p>\n<p><a href=\"https://i.stack.imgur.com/tSXrm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tSXrm.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Java directory in the Path:</p>\n<p><a href=\"https://i.stack.imgur.com/zuns5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zuns5.png\" alt=\"enter image description here\" /></a></p>\n<p>We have pulled every trick we could, no luck at all. We are not sure if is there any other place where we need to install Java.</p>\n"},{"tags":["java","gradle","java-11"],"answers":[{"tags":[],"owner":{"account_id":3321112,"reputation":573,"user_id":2792280,"display_name":"Toldry"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1645028120,"creation_date":1645027784,"answer_id":71145303,"question_id":71145302,"body_markdown":"# Solution:\r\n\r\nAdd this to `build.gradle`:\r\n\r\n```\r\njava {\r\n    toolchain {\r\n        implementation = JvmImplementation.J9\r\n    }\r\n}\r\n```\r\n\r\n# Explanation\r\n\r\nIt turned out that the JDK I used was implemented with J9.\r\n\r\nAt the time of writing, Gradle ignores JDK implemented with J9 unless explicitly set to use it.\r\n\r\nThis appears to be a bug:\r\n\r\nhttps://github.com/gradle/gradle/issues/16897#issuecomment-823272229\r\n\r\nTo check whether your JDK is implemented in J9 or not, run\r\n\r\n```\r\npath/to/your/jdk/bin/java -version\r\n```\r\n\r\nThe output will look something like this:\r\n```\r\nopenjdk version &quot;11.0.10&quot; 2021-01-19\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\r\nEclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.24.0, JRE 11 Linux amd64-64-Bit 20210120_821 (JIT enabled, AOT enabled)\r\nOpenJ9   - 345e1b09e\r\nOMR      - 741e94ea8\r\nJCL      - 0a86953833 based on jdk-11.0.10+9)\r\n```","title":"Gradle 7 &amp; Java 11: No compatible toolchains found for request filter","body":"<h1>Solution:</h1>\n<p>Add this to <code>build.gradle</code>:</p>\n<pre><code>java {\n    toolchain {\n        implementation = JvmImplementation.J9\n    }\n}\n</code></pre>\n<h1>Explanation</h1>\n<p>It turned out that the JDK I used was implemented with J9.</p>\n<p>At the time of writing, Gradle ignores JDK implemented with J9 unless explicitly set to use it.</p>\n<p>This appears to be a bug:</p>\n<p><a href=\"https://github.com/gradle/gradle/issues/16897#issuecomment-823272229\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/16897#issuecomment-823272229</a></p>\n<p>To check whether your JDK is implemented in J9 or not, run</p>\n<pre><code>path/to/your/jdk/bin/java -version\n</code></pre>\n<p>The output will look something like this:</p>\n<pre><code>openjdk version &quot;11.0.10&quot; 2021-01-19\nOpenJDK Runtime Environment AdoptOpenJDK (build 11.0.10+9)\nEclipse OpenJ9 VM AdoptOpenJDK (build openj9-0.24.0, JRE 11 Linux amd64-64-Bit 20210120_821 (JIT enabled, AOT enabled)\nOpenJ9   - 345e1b09e\nOMR      - 741e94ea8\nJCL      - 0a86953833 based on jdk-11.0.10+9)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2081724,"reputation":3713,"user_id":2472350,"accept_rate":67,"display_name":"Amin Keshavarzian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677049978,"creation_date":1677049978,"answer_id":75529303,"question_id":71145302,"body_markdown":"If you are trying out Kotlin Multiplatform, specifically for JVM and web development, replacing this:\r\n\r\n    jvm {\r\n            jvmToolchain(8)\r\n            withJava()\r\n            testRuns[&quot;test&quot;].executionTask.configure {\r\n                useJUnitPlatform()\r\n            }\r\n        }\r\n\r\nwith this:\r\n\r\n    jvm()\r\n\r\nhelped me fix the issue.","title":"Gradle 7 &amp; Java 11: No compatible toolchains found for request filter","body":"<p>If you are trying out Kotlin Multiplatform, specifically for JVM and web development, replacing this:</p>\n<pre><code>jvm {\n        jvmToolchain(8)\n        withJava()\n        testRuns[&quot;test&quot;].executionTask.configure {\n            useJUnitPlatform()\n        }\n    }\n</code></pre>\n<p>with this:</p>\n<pre><code>jvm()\n</code></pre>\n<p>helped me fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":14235299,"reputation":629,"user_id":10387434,"display_name":"Leonid Ivankin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697543380,"creation_date":1697543380,"answer_id":77308742,"question_id":71145302,"body_markdown":"In my case, java 21 made the same problem. I installed java 17 and explicitly declared it in JAVA_HOME","title":"Gradle 7 &amp; Java 11: No compatible toolchains found for request filter","body":"<p>In my case, java 21 made the same problem. I installed java 17 and explicitly declared it in JAVA_HOME</p>\n"}],"owner":{"account_id":3321112,"reputation":573,"user_id":2792280,"display_name":"Toldry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17605,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":71145303,"answer_count":3,"score":7,"last_activity_date":1697543380,"creation_date":1645027784,"question_id":71145302,"body_markdown":"After upgrading to from Gradle 6.7.1 to Gradle 7.4, the following error occurs:\r\n\r\n```\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:example-project:compileJava&#39;.\r\n&gt; Failed to query the value of extension &#39;example-extension&#39; property &#39;enabled&#39;.\r\n   &gt; Failed to calculate the value of task &#39;:example-project:compileJava&#39; property &#39;javaCompiler&#39;.\r\n      &gt; No compatible toolchains found for request filter: {languageVersion=11, vendor=any, implementation=vendor-specific} (auto-detect true, auto-download false)\r\n```","title":"Gradle 7 &amp; Java 11: No compatible toolchains found for request filter","body":"<p>After upgrading to from Gradle 6.7.1 to Gradle 7.4, the following error occurs:</p>\n<pre><code>\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':example-project:compileJava'.\n&gt; Failed to query the value of extension 'example-extension' property 'enabled'.\n   &gt; Failed to calculate the value of task ':example-project:compileJava' property 'javaCompiler'.\n      &gt; No compatible toolchains found for request filter: {languageVersion=11, vendor=any, implementation=vendor-specific} (auto-detect true, auto-download false)\n</code></pre>\n"},{"tags":["java","hibernate","logging"],"comments":[{"owner":{"account_id":268115,"reputation":9584,"user_id":556678,"accept_rate":89,"display_name":"esengineer"},"score":2,"creation_date":1346236785,"post_id":311408,"comment_id":16298511,"body_markdown":"Worth mentioning that Hibernate 4+ uses JBOSS logging.","body":"Worth mentioning that Hibernate 4+ uses JBOSS logging."}],"answers":[{"comments":[{"owner":{"account_id":10893,"reputation":48802,"user_id":20774,"accept_rate":92,"display_name":"James McMahon"},"score":1,"creation_date":1231780379,"post_id":311445,"comment_id":258875,"body_markdown":"How do you do this in the XML version?","body":"How do you do this in the XML version?"},{"owner":{"account_id":11130,"reputation":3107,"user_id":21311,"display_name":"Matthew Brubaker"},"score":0,"creation_date":1231962960,"post_id":311445,"comment_id":265933,"body_markdown":"You can apply this to all packages in org.hibernate by doing the above, or if you want different levels for different packages within hibernate, you can specify those packages the same way.","body":"You can apply this to all packages in org.hibernate by doing the above, or if you want different levels for different packages within hibernate, you can specify those packages the same way."},{"owner":{"account_id":272852,"reputation":19440,"user_id":564157,"accept_rate":88,"display_name":"Joseph Lust"},"score":3,"creation_date":1322667423,"post_id":311445,"comment_id":10267045,"body_markdown":"This seems logical, but still does not work for me (Spring 3.0.5, Hibernate 3.5.6, sf4j-log4j bridge). I still get about 100 lines of &#39;INFO&#39; comments on Hibernate startup each time. So this might not work for everyone.","body":"This seems logical, but still does not work for me (Spring 3.0.5, Hibernate 3.5.6, sf4j-log4j bridge). I still get about 100 lines of &#39;INFO&#39; comments on Hibernate startup each time. So this might not work for everyone."},{"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"score":1,"creation_date":1322715728,"post_id":311445,"comment_id":10279545,"body_markdown":"@Twisted Pear: set your logging level to WARN. Then you wont get INFO messages.","body":"@Twisted Pear: set your logging level to WARN. Then you wont get INFO messages."},{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":5,"creation_date":1390418082,"post_id":311445,"comment_id":32086090,"body_markdown":"Followup since this was never adequately resolved: Hibernate, even still in 4.3.0.Final, has lots of hardcoded `System.out.println()` calls.","body":"Followup since this was never adequately resolved: Hibernate, even still in 4.3.0.Final, has lots of hardcoded <code>System.out.println()</code> calls."},{"owner":{"account_id":5107202,"reputation":792,"user_id":4094939,"accept_rate":75,"display_name":"Joabe Lucena"},"score":0,"creation_date":1476899247,"post_id":311445,"comment_id":67546151,"body_markdown":"In my case I disabled all hibernate logs setting the level to &quot;fatal&quot; and I&#39;m logging manually what is important","body":"In my case I disabled all hibernate logs setting the level to &quot;fatal&quot; and I&#39;m logging manually what is important"},{"owner":{"account_id":4665571,"reputation":987,"user_id":3778710,"accept_rate":67,"display_name":"Jerry"},"score":1,"creation_date":1542182821,"post_id":311445,"comment_id":93471891,"body_markdown":"how do i do the same in log4j2 .properties file ?","body":"how do i do the same in log4j2 .properties file ?"}],"tags":[],"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"comment_count":7,"down_vote_count":1,"up_vote_count":88,"is_accepted":true,"score":87,"last_activity_date":1274736447,"creation_date":1227368904,"answer_id":311445,"question_id":311408,"body_markdown":"Try to set more reasonable logging level. Setting logging level to `info` means that only log event at `info` or higher level (`warn`, `error` and `fatal`) are logged, that is `debug` logging events are ignored.\r\n\r\n    log4j.logger.org.hibernate=info\r\n\r\nor in &lt;a href=&quot;http://wiki.apache.org/logging-log4j/Log4jXmlFormat&quot;&gt;XML version&lt;/a&gt; of log4j config file:\r\n\r\n    &lt;logger name=&quot;org.hibernate&quot;&gt;\r\n      &lt;level value=&quot;info&quot;/&gt; \r\n    &lt;/logger&gt;\r\n\r\nSee also &lt;a href=&quot;http://logging.apache.org/log4j/1.2/manual.html&quot;&gt;log4j manual&lt;/a&gt;.\r\n","title":"Turning off hibernate logging console output","body":"<p>Try to set more reasonable logging level. Setting logging level to <code>info</code> means that only log event at <code>info</code> or higher level (<code>warn</code>, <code>error</code> and <code>fatal</code>) are logged, that is <code>debug</code> logging events are ignored.</p>\n\n<pre><code>log4j.logger.org.hibernate=info\n</code></pre>\n\n<p>or in <a href=\"http://wiki.apache.org/logging-log4j/Log4jXmlFormat\" rel=\"noreferrer\">XML version</a> of log4j config file:</p>\n\n<pre><code>&lt;logger name=\"org.hibernate\"&gt;\n  &lt;level value=\"info\"/&gt; \n&lt;/logger&gt;\n</code></pre>\n\n<p>See also <a href=\"http://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">log4j manual</a>.</p>\n"},{"comments":[{"owner":{"account_id":36915,"reputation":3723,"user_id":105408,"accept_rate":75,"display_name":"markthegrea"},"score":0,"creation_date":1396964368,"post_id":325747,"comment_id":35018008,"body_markdown":"What if I want to generate statistics, but not log?","body":"What if I want to generate statistics, but not log?"}],"tags":[],"owner":{"account_id":18224,"reputation":1667,"user_id":41589,"display_name":"rresino"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1251760924,"creation_date":1227877689,"answer_id":325747,"question_id":311408,"body_markdown":"You can disabled the many of the outputs of hibernate setting this props of hibernate (hb configuration) a false:\r\n\r\n    hibernate.show_sql\r\n    hibernate.generate_statistics\r\n    hibernate.use_sql_comments\r\n\r\nBut if you want to disable all console info you must to set the logger level a NONE of FATAL of class `org.hibernate` like Juha say.","title":"Turning off hibernate logging console output","body":"<p>You can disabled the many of the outputs of hibernate setting this props of hibernate (hb configuration) a false:</p>\n\n<pre><code>hibernate.show_sql\nhibernate.generate_statistics\nhibernate.use_sql_comments\n</code></pre>\n\n<p>But if you want to disable all console info you must to set the logger level a NONE of FATAL of class <code>org.hibernate</code> like Juha say.</p>\n"},{"tags":[],"owner":{"account_id":154621,"reputation":11,"user_id":370677,"display_name":"user370677"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321192938,"creation_date":1276894559,"answer_id":3073023,"question_id":311408,"body_markdown":"I changed the &quot;debug&quot; to &quot;info&quot; and it worked. Here is what I did:\r\n\r\nBefore:\r\n\r\n    log4j.rootLogger=debug, stdout, R\r\n\r\nAfter:\r\n\r\n    log4j.rootLogger=info, stdout, R \r\n","title":"Turning off hibernate logging console output","body":"<p>I changed the \"debug\" to \"info\" and it worked. Here is what I did:</p>\n\n<p>Before:</p>\n\n<pre><code>log4j.rootLogger=debug, stdout, R\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>log4j.rootLogger=info, stdout, R \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2029560,"reputation":9470,"user_id":1813669,"accept_rate":67,"display_name":"scadge"},"score":0,"creation_date":1552393593,"post_id":10537807,"comment_id":96984288,"body_markdown":"Actually you can make Hibernate use slf4j explicitly by adding `-Dorg.jboss.logging.provider=slf4j` to your VM options. I wrote an article on the topic: https://medium.com/@scadge/how-to-enable-hibernate-logging-dc11545efd3d","body":"Actually you can make Hibernate use slf4j explicitly by adding <code>-Dorg.jboss.logging.provider=slf4j</code> to your VM options. I wrote an article on the topic: <a href=\"https://medium.com/@scadge/how-to-enable-hibernate-logging-dc11545efd3d\" rel=\"nofollow noreferrer\">medium.com/@scadge/how-to-enable-hibernate-logging-dc11545ef&zwnj;&#8203;d3d</a>"}],"tags":[],"owner":{"account_id":1477551,"reputation":79,"user_id":1387605,"display_name":"Liqun Chen"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1336665266,"creation_date":1336665266,"answer_id":10537807,"question_id":311408,"body_markdown":"I finally figured out, it&#39;s because the Hibernate is using slf4j log facade now, to bridge to log4j, you need to put log4j and slf4j-log4j12 jars to your lib and then the log4j properties will take control Hibernate logs.\r\n\r\nMy pom.xml setting looks as below:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.16&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Turning off hibernate logging console output","body":"<p>I finally figured out, it's because the Hibernate is using slf4j log facade now, to bridge to log4j, you need to put log4j and slf4j-log4j12 jars to your lib and then the log4j properties will take control Hibernate logs.</p>\n\n<p>My pom.xml setting looks as below:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.16&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720110,"reputation":61,"user_id":2346585,"display_name":"Systfile"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1367582693,"creation_date":1367578950,"answer_id":16357416,"question_id":311408,"body_markdown":"For disabling `Hibernate:select` message in log, it is possible to set the property into `HibernateJpaVendorAdapter`:  \r\n\r\n\t&lt;bean id=&quot;jpaVendorAdapter&quot;\r\n\t\tclass=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n\t\t&lt;property name=&quot;showSql&quot; value=&quot;false&quot;/&gt;\r\n\t&lt;/bean&gt;\t","title":"Turning off hibernate logging console output","body":"<p>For disabling <code>Hibernate:select</code> message in log, it is possible to set the property into <code>HibernateJpaVendorAdapter</code>:  </p>\n\n<pre><code>&lt;bean id=\"jpaVendorAdapter\"\n    class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n    &lt;property name=\"showSql\" value=\"false\"/&gt;\n&lt;/bean&gt; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":10414140,"reputation":341,"user_id":7678737,"display_name":"RafiAlhamd"},"score":2,"creation_date":1601216437,"post_id":18323888,"comment_id":113330902,"body_markdown":"This worked for me: `java.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel(Level.SEVERE);`","body":"This worked for me: <code>java.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel&zwnj;&#8203;(Level.SEVERE);</code>"},{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":0,"creation_date":1690973507,"post_id":18323888,"comment_id":135426614,"body_markdown":"where exactly does this code come into the picture? Any stub or class illustration?","body":"where exactly does this code come into the picture? Any stub or class illustration?"},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1691617402,"post_id":18323888,"comment_id":135517496,"body_markdown":"Just run it anywhere before hibernate&#39;s initialization, e.g. right at the start of a `main` function, o a `@BeforeClass` of a test.","body":"Just run it anywhere before hibernate&#39;s initialization, e.g. right at the start of a <code>main</code> function, o a <code>@BeforeClass</code> of a test."}],"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"comment_count":3,"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1376949907,"creation_date":1376949907,"answer_id":18323888,"question_id":311408,"body_markdown":"Executing:\r\n\r\n    java.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel(Level.OFF);\r\n\r\nbefore hibernate&#39;s initialization worked for me.\r\n\r\n&lt;br&gt;\r\n\r\n**Note:** the line above will turn *every* logging off (`Level.OFF`). If you want to be less strict, you can use\r\n\r\n    java.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel(Level.SEVERE);\r\n\r\nthat is silent enough. (Or check the `java.util.logging.Level` class for more levels).","title":"Turning off hibernate logging console output","body":"<p>Executing:</p>\n\n<pre><code>java.util.logging.Logger.getLogger(\"org.hibernate\").setLevel(Level.OFF);\n</code></pre>\n\n<p>before hibernate's initialization worked for me.</p>\n\n<p><br></p>\n\n<p><strong>Note:</strong> the line above will turn <em>every</em> logging off (<code>Level.OFF</code>). If you want to be less strict, you can use</p>\n\n<pre><code>java.util.logging.Logger.getLogger(\"org.hibernate\").setLevel(Level.SEVERE);\n</code></pre>\n\n<p>that is silent enough. (Or check the <code>java.util.logging.Level</code> class for more levels).</p>\n"},{"comments":[{"owner":{"account_id":84979,"reputation":3840,"user_id":237225,"accept_rate":75,"display_name":"JJ Zabkar"},"score":2,"creation_date":1450317085,"post_id":22977693,"comment_id":56392494,"body_markdown":"I had to set this property in my Hibernate (i.e., `hibernate.xml`) configuration, as opposed to my logging configuration.  Thanks for the pointer!","body":"I had to set this property in my Hibernate (i.e., <code>hibernate.xml</code>) configuration, as opposed to my logging configuration.  Thanks for the pointer!"},{"owner":{"account_id":649723,"reputation":1632,"user_id":2197088,"display_name":"Legna"},"score":0,"creation_date":1462282072,"post_id":22977693,"comment_id":61563378,"body_markdown":"is there a way to have this logging to not bypass pass my logging framework but to actually use it? I&#39;m seeing some exceptions sent to the stdout which I would like to log.","body":"is there a way to have this logging to not bypass pass my logging framework but to actually use it? I&#39;m seeing some exceptions sent to the stdout which I would like to log."},{"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"score":2,"creation_date":1464625365,"post_id":22977693,"comment_id":62550837,"body_markdown":"With my Spring boot project I added this in a profile YML conf file. But it didn&#39;t worked, just like the others posts on this thread... Hibernate logs keep being writted no matter what I specify. Can it be handled somewhere else than the Logback config, application yaml file and pom.xml ?","body":"With my Spring boot project I added this in a profile YML conf file. But it didn&#39;t worked, just like the others posts on this thread... Hibernate logs keep being writted no matter what I specify. Can it be handled somewhere else than the Logback config, application yaml file and pom.xml ?"},{"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"score":3,"creation_date":1649455099,"post_id":22977693,"comment_id":126888691,"body_markdown":"spring:\n  jpa:\n    properties:\n      hibernate:\n        show_sql: false","body":"spring:   jpa:     properties:       hibernate:         show_sql: false"},{"owner":{"account_id":712583,"reputation":135,"user_id":619479,"display_name":"fono"},"score":2,"creation_date":1679669707,"post_id":22977693,"comment_id":133767775,"body_markdown":"If you&#39;re using Spring Boot with properties file: `spring.jpa.properties.hibernate.show_sql=false`","body":"If you&#39;re using Spring Boot with properties file: <code>spring.jpa.properties.hibernate.show_sql=false</code>"}],"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":5,"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1697542926,"creation_date":1397097538,"answer_id":22977693,"question_id":311408,"body_markdown":"Important notice: the property (part of hibernate configuration, NOT part of logging framework config!)\r\n\r\n    hibernate.show_sql\r\n\r\ncontrols the logging *directly* to STDOUT bypassing any logging framework (which you can recognize by the missing output formatting of the messages). If you use a logging framework like log4j, &lt;b&gt;you should *always* set that property to false&lt;/b&gt; because it gives you no benefit at all.\r\n\r\nThat circumstance irritated me quite a long time because I never really cared about it until I tried to write some benchmark regarding Hibernate.\r\n\r\n**Spring** \r\n\r\n(tested with spring-boot 3.0.6 and hibernate 5.6.15)\r\n\r\nIf you&#39;re using Spring Boot with properties file: \r\n\r\n    spring.jpa.properties.hibernate.show_sql=false","title":"Turning off hibernate logging console output","body":"<p>Important notice: the property (part of hibernate configuration, NOT part of logging framework config!)</p>\n<pre><code>hibernate.show_sql\n</code></pre>\n<p>controls the logging <em>directly</em> to STDOUT bypassing any logging framework (which you can recognize by the missing output formatting of the messages). If you use a logging framework like log4j, <b>you should <em>always</em> set that property to false</b> because it gives you no benefit at all.</p>\n<p>That circumstance irritated me quite a long time because I never really cared about it until I tried to write some benchmark regarding Hibernate.</p>\n<p><strong>Spring</strong></p>\n<p>(tested with spring-boot 3.0.6 and hibernate 5.6.15)</p>\n<p>If you're using Spring Boot with properties file:</p>\n<pre><code>spring.jpa.properties.hibernate.show_sql=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4977950,"reputation":745,"user_id":4003774,"display_name":"Matej Vargovč&#237;k"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1410360173,"creation_date":1410360173,"answer_id":25768383,"question_id":311408,"body_markdown":"For those who don&#39;t want elegant solutions, just a quick and dirty way to stop those messages, here is a solution that worked for me (I use Hibernate 4.3.6 and Eclipse and no answers provided above (or found on the internet) worked; neither log4j config files nor setting the logging level programatically)\r\n\r\n\tpublic static void main(String[] args) {\r\n        //magical - do not touch\r\n\t\t@SuppressWarnings(&quot;unused&quot;)\r\n\t\torg.jboss.logging.Logger logger = org.jboss.logging.Logger.getLogger(&quot;org.hibernate&quot;);\r\n\t\tjava.util.logging.Logger.getLogger(&quot;org.hibernate&quot;).setLevel(java.util.logging.Level.WARNING); //or whatever level you need\r\n\r\n        ...\r\n    }\r\n\r\nI used it in a tutorial program downloaded from [this site](http://www.journaldev.com/2882/hibernate-tutorial-for-beginners-using-xml-annotations-and-property-configurations)","title":"Turning off hibernate logging console output","body":"<p>For those who don't want elegant solutions, just a quick and dirty way to stop those messages, here is a solution that worked for me (I use Hibernate 4.3.6 and Eclipse and no answers provided above (or found on the internet) worked; neither log4j config files nor setting the logging level programatically)</p>\n\n<pre><code>public static void main(String[] args) {\n    //magical - do not touch\n    @SuppressWarnings(\"unused\")\n    org.jboss.logging.Logger logger = org.jboss.logging.Logger.getLogger(\"org.hibernate\");\n    java.util.logging.Logger.getLogger(\"org.hibernate\").setLevel(java.util.logging.Level.WARNING); //or whatever level you need\n\n    ...\n}\n</code></pre>\n\n<p>I used it in a tutorial program downloaded from <a href=\"http://www.journaldev.com/2882/hibernate-tutorial-for-beginners-using-xml-annotations-and-property-configurations\" rel=\"noreferrer\">this site</a></p>\n"},{"comments":[{"owner":{"account_id":87092,"reputation":5028,"user_id":241750,"accept_rate":88,"display_name":"Sebastian"},"score":0,"creation_date":1544542771,"post_id":32730806,"comment_id":94308566,"body_markdown":"great, this works. I could use `log4j.properties` configuration; `log4j.logger.org.hibernate=OFF`","body":"great, this works. I could use <code>log4j.properties</code> configuration; <code>log4j.logger.org.hibernate=OFF</code>"}],"tags":[],"owner":{"account_id":6999582,"reputation":9,"user_id":5366030,"display_name":"Balakrishna"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1442981359,"creation_date":1442981359,"answer_id":32730806,"question_id":311408,"body_markdown":"Replace slf4j-jdk14-xxx.jar with slf4j-log4j12-xxx.jar. If you have both, delete slf4j-jdk14-xxx.jar. Found this solution at https://forum.hibernate.org/viewtopic.php?f=1&amp;t=999623\r\n","title":"Turning off hibernate logging console output","body":"<p>Replace slf4j-jdk14-xxx.jar with slf4j-log4j12-xxx.jar. If you have both, delete slf4j-jdk14-xxx.jar. Found this solution at <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=999623\" rel=\"nofollow\">https://forum.hibernate.org/viewtopic.php?f=1&amp;t=999623</a></p>\n"},{"tags":[],"owner":{"account_id":5036808,"reputation":9,"user_id":4045353,"display_name":"Ramesh Gowtham"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1450257130,"creation_date":1449816152,"answer_id":34217576,"question_id":311408,"body_markdown":"To get rid of logger output in console try this.\r\n\r\n    ch.qos.logback.classic.LoggerContext.LoggerContext loggerContext = (LoggerContext) org.slf4j.LoggerFactory.LoggerFactory.getILoggerFactory();\r\n    \r\n    loggerContext.stop();\r\n\r\nThese statements disabled all the console outputs from logger.","title":"Turning off hibernate logging console output","body":"<p>To get rid of logger output in console try this.</p>\n\n<pre><code>ch.qos.logback.classic.LoggerContext.LoggerContext loggerContext = (LoggerContext) org.slf4j.LoggerFactory.LoggerFactory.getILoggerFactory();\n\nloggerContext.stop();\n</code></pre>\n\n<p>These statements disabled all the console outputs from logger.</p>\n"},{"tags":[],"owner":{"account_id":9707010,"reputation":170,"user_id":7200161,"display_name":"Christian Hoffmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1534437094,"creation_date":1534433599,"answer_id":51880681,"question_id":311408,"body_markdown":"The first thing to do is to figure out which logging framework is actually used.\r\n\r\nMany frameworks are already covered by other authors above. In case you are using Logback you can solve the problem by adding this *logback.xml* to your classpath:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;logger name=&quot;org.hibernate&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\nFurther information: [Logback Manual-Configuration][1]\r\n\r\n\r\n  [1]: https://logback.qos.ch/manual/configuration.html","title":"Turning off hibernate logging console output","body":"<p>The first thing to do is to figure out which logging framework is actually used.</p>\n\n<p>Many frameworks are already covered by other authors above. In case you are using Logback you can solve the problem by adding this <em>logback.xml</em> to your classpath:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;configuration&gt;\n    &lt;logger name=\"org.hibernate\" level=\"WARN\"/&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Further information: <a href=\"https://logback.qos.ch/manual/configuration.html\" rel=\"nofollow noreferrer\">Logback Manual-Configuration</a></p>\n"},{"tags":[],"owner":{"account_id":17500365,"reputation":11,"user_id":12690757,"display_name":"Chris Meyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578676692,"creation_date":1578676341,"answer_id":59686150,"question_id":311408,"body_markdown":"There are several parts of hibernate logging you can control based on the logger hierarchy of the hibernate package (more on logger hierarchy [here](https://www.journaldev.com/7128/log4j2-example-tutorial-configuration-levels-appenders)).\r\n\r\n        &lt;!-- Log everything in hibernate --&gt;\r\n        &lt;Logger name=&quot;org.hibernate&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n    \r\n        &lt;!-- Log SQL statements --&gt;\r\n        &lt;Logger name=&quot;org.hibernate.SQL&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n          &lt;AppenderRef ref=&quot;File&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n    \r\n        &lt;!-- Log JDBC bind parameters --&gt;\r\n        &lt;Logger name=&quot;org.hibernate.type.descriptor.sql&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n          &lt;AppenderRef ref=&quot;File&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\nThe above was taken from [here](https://www.boraji.com/hibernate-5-log4j-2-configuration-example).\r\n\r\nAdditionally you could have the property `show-sql:true` in your configuration file since that supersedes the logging framework settings. More on that [here](https://stackoverflow.com/questions/6012333/turn-off-hibernate-logging-to-console/59685881#59685881).","title":"Turning off hibernate logging console output","body":"<p>There are several parts of hibernate logging you can control based on the logger hierarchy of the hibernate package (more on logger hierarchy <a href=\"https://www.journaldev.com/7128/log4j2-example-tutorial-configuration-levels-appenders\" rel=\"nofollow noreferrer\">here</a>).</p>\n\n<pre><code>    &lt;!-- Log everything in hibernate --&gt;\n    &lt;Logger name=\"org.hibernate\" level=\"info\" additivity=\"false\"&gt;\n      &lt;AppenderRef ref=\"Console\" /&gt;\n    &lt;/Logger&gt;\n\n    &lt;!-- Log SQL statements --&gt;\n    &lt;Logger name=\"org.hibernate.SQL\" level=\"debug\" additivity=\"false\"&gt;\n      &lt;AppenderRef ref=\"Console\" /&gt;\n      &lt;AppenderRef ref=\"File\" /&gt;\n    &lt;/Logger&gt;\n\n    &lt;!-- Log JDBC bind parameters --&gt;\n    &lt;Logger name=\"org.hibernate.type.descriptor.sql\" level=\"trace\" additivity=\"false\"&gt;\n      &lt;AppenderRef ref=\"Console\" /&gt;\n      &lt;AppenderRef ref=\"File\" /&gt;\n    &lt;/Logger&gt;\n</code></pre>\n\n<p>The above was taken from <a href=\"https://www.boraji.com/hibernate-5-log4j-2-configuration-example\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Additionally you could have the property <code>show-sql:true</code> in your configuration file since that supersedes the logging framework settings. More on that <a href=\"https://stackoverflow.com/questions/6012333/turn-off-hibernate-logging-to-console/59685881#59685881\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7364659,"reputation":515,"user_id":5606736,"display_name":"Philippe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578885969,"creation_date":1578885969,"answer_id":59710263,"question_id":311408,"body_markdown":"I managed to stop by adding those 2 lines\r\n\r\n    log4j.logger.org.hibernate.orm.deprecation=error\r\n\r\n    log4j.logger.org.hibernate=error\r\n\r\nBellow is what my *log4j.properties* looks like, i just leave some commented lines explaining the log level\r\n\r\n    # Root logger option\r\n    #Level/rules TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL.\r\n    #FATAL: shows messages at a FATAL level only\r\n    #ERROR: Shows messages classified as ERROR and FATAL\r\n    #WARNING: Shows messages classified as WARNING, ERROR, and FATAL\r\n    #INFO: Shows messages classified as INFO, WARNING, ERROR, and FATAL\r\n    #DEBUG: Shows messages classified as DEBUG, INFO, WARNING, ERROR, and FATAL\r\n    #TRACE : Shows messages classified as TRACE,DEBUG, INFO, WARNING, ERROR, and FATAL\r\n    #ALL : Shows messages classified as TRACE,DEBUG, INFO, WARNING, ERROR, and FATAL\r\n    #OFF : No log messages display\r\n\r\n\r\n    log4j.rootLogger=INFO, file, console\r\n    \r\n    log4j.logger.main=DEBUG\r\n    log4j.logger.org.hibernate.orm.deprecation=error\r\n    log4j.logger.org.hibernate=error\r\n    \r\n    #######################################\r\n    # Direct log messages to a log file\r\n    log4j.appender.file.Threshold=ALL\r\n    log4j.appender.file.file=logs/MyProgram.log\r\n    log4j.appender.file.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p %c{1} - %m%n\r\n    \r\n    # set file size limit\r\n    log4j.appender.file=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.file.MaxFileSize=5MB\r\n    log4j.appender.file.MaxBackupIndex=50\r\n    \r\n    \r\n    #############################################\r\n    # Direct log messages to System Out\r\n    log4j.appender.console.Threshold=INFO\r\n    log4j.appender.console.Target=System.out\r\n    log4j.appender.console=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.console.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.console.layout.ConversionPattern=%d{HH:mm:ss} %-5p %c{1} - %m%n\r\n\r\n","title":"Turning off hibernate logging console output","body":"<p>I managed to stop by adding those 2 lines</p>\n\n<pre><code>log4j.logger.org.hibernate.orm.deprecation=error\n\nlog4j.logger.org.hibernate=error\n</code></pre>\n\n<p>Bellow is what my <em>log4j.properties</em> looks like, i just leave some commented lines explaining the log level</p>\n\n<pre><code># Root logger option\n#Level/rules TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL.\n#FATAL: shows messages at a FATAL level only\n#ERROR: Shows messages classified as ERROR and FATAL\n#WARNING: Shows messages classified as WARNING, ERROR, and FATAL\n#INFO: Shows messages classified as INFO, WARNING, ERROR, and FATAL\n#DEBUG: Shows messages classified as DEBUG, INFO, WARNING, ERROR, and FATAL\n#TRACE : Shows messages classified as TRACE,DEBUG, INFO, WARNING, ERROR, and FATAL\n#ALL : Shows messages classified as TRACE,DEBUG, INFO, WARNING, ERROR, and FATAL\n#OFF : No log messages display\n\n\nlog4j.rootLogger=INFO, file, console\n\nlog4j.logger.main=DEBUG\nlog4j.logger.org.hibernate.orm.deprecation=error\nlog4j.logger.org.hibernate=error\n\n#######################################\n# Direct log messages to a log file\nlog4j.appender.file.Threshold=ALL\nlog4j.appender.file.file=logs/MyProgram.log\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p %c{1} - %m%n\n\n# set file size limit\nlog4j.appender.file=org.apache.log4j.RollingFileAppender\nlog4j.appender.file.MaxFileSize=5MB\nlog4j.appender.file.MaxBackupIndex=50\n\n\n#############################################\n# Direct log messages to System Out\nlog4j.appender.console.Threshold=INFO\nlog4j.appender.console.Target=System.out\nlog4j.appender.console=org.apache.log4j.ConsoleAppender\nlog4j.appender.console.layout=org.apache.log4j.PatternLayout\nlog4j.appender.console.layout.ConversionPattern=%d{HH:mm:ss} %-5p %c{1} - %m%n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620979447,"creation_date":1620979447,"answer_id":67530992,"question_id":311408,"body_markdown":"**To disable printing hibernate queries in logs, just add this to your `application.properties`**\r\n\r\n    spring.jpa.show-sql=false","title":"Turning off hibernate logging console output","body":"<p><strong>To disable printing hibernate queries in logs, just add this to your <code>application.properties</code></strong></p>\n<pre><code>spring.jpa.show-sql=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2473440,"reputation":4508,"user_id":2154661,"display_name":"Ronald Coarite"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629228165,"creation_date":1629228165,"answer_id":68822958,"question_id":311408,"body_markdown":"In my case I had added the dependency \r\n   \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nwhich was not necessary. I removed it and everything works perfectly ","title":"Turning off hibernate logging console output","body":"<p>In my case I had added the dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.5.6.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>which was not necessary. I removed it and everything works perfectly</p>\n"},{"tags":[],"owner":{"account_id":4876099,"reputation":421,"user_id":4455546,"display_name":"Clement Cherlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657045162,"creation_date":1657045162,"answer_id":72873906,"question_id":311408,"body_markdown":"The `@DataJpaTest` annotation from [Spring Boot Test Auto-Configure][1] enables SQL output by default. To disable SQL output when using that annotation in tests, change\r\n\r\n```Java\r\n@DataJpaTest\r\npublic class MyTestClass {\r\n    ...\r\n}\r\n```\r\n\r\nto\r\n\r\n```Java\r\n@DataJpaTest(showSql = false)\r\npublic class MyTestClass {\r\n    ...\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-spring-data-jpa","title":"Turning off hibernate logging console output","body":"<p>The <code>@DataJpaTest</code> annotation from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.testing.spring-boot-applications.autoconfigured-spring-data-jpa\" rel=\"nofollow noreferrer\">Spring Boot Test Auto-Configure</a> enables SQL output by default. To disable SQL output when using that annotation in tests, change</p>\n<pre><code>@DataJpaTest\npublic class MyTestClass {\n    ...\n}\n</code></pre>\n<p>to</p>\n<pre><code>@DataJpaTest(showSql = false)\npublic class MyTestClass {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":8241,"reputation":39593,"user_id":14744,"accept_rate":53,"display_name":"Jared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243266,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":311445,"answer_count":16,"score":95,"last_activity_date":1697542926,"creation_date":1227366967,"question_id":311408,"body_markdown":"I&#39;m using hibernate 3 and want to stop it from dumping all the startup messages to the console. I tried commenting out the stdout lines in log4j.properties but no luck. I&#39;ve pasted my log file below. Also I&#39;m using eclipse with the standard project structure and have a copy of log4j.properties in both the root of the project folder and the bin folder.\r\n&lt;pre&gt;### direct log messages to stdout ###\r\n#log4j.appender.stdout=org.apache.log4j.ConsoleAppender\r\n#log4j.appender.stdout.Target=System.out\r\n#log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\r\n#log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\r\n\r\n### direct messages to file hibernate.log ###\r\nlog4j.appender.file=org.apache.log4j.FileAppender\r\nlog4j.appender.file.File=hibernate.log\r\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.file.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\r\n\r\n### set log levels - for more verbose logging change &#39;info&#39; to &#39;debug&#39; ###\r\n\r\nlog4j.rootLogger=warn, stdout\r\n\r\n#log4j.logger.org.hibernate=info\r\nlog4j.logger.org.hibernate=debug\r\n\r\n### log HQL query parser activity\r\n#log4j.logger.org.hibernate.hql.ast.AST=debug\r\n\r\n### log just the SQL\r\n#log4j.logger.org.hibernate.SQL=debug\r\n\r\n### log JDBC bind parameters ###\r\nlog4j.logger.org.hibernate.type=info\r\n#log4j.logger.org.hibernate.type=debug\r\n\r\n### log schema export/update ###\r\nlog4j.logger.org.hibernate.tool.hbm2ddl=debug\r\n\r\n### log HQL parse trees\r\n#log4j.logger.org.hibernate.hql=debug\r\n\r\n### log cache activity ###\r\n#log4j.logger.org.hibernate.cache=debug\r\n\r\n### log transaction activity\r\n#log4j.logger.org.hibernate.transaction=debug\r\n\r\n### log JDBC resource acquisition\r\n#log4j.logger.org.hibernate.jdbc=debug\r\n\r\n### enable the following line if you want to track down connection ###\r\n### leakages when using DriverManagerConnectionProvider ###\r\n#log4j.logger.org.hibernate.connection.DriverManagerConnectionProvider=trac5&lt;/pre&gt;","title":"Turning off hibernate logging console output","body":"<p>I'm using hibernate 3 and want to stop it from dumping all the startup messages to the console. I tried commenting out the stdout lines in log4j.properties but no luck. I've pasted my log file below. Also I'm using eclipse with the standard project structure and have a copy of log4j.properties in both the root of the project folder and the bin folder.</p>\n\n<pre>### direct log messages to stdout ###\n#log4j.appender.stdout=org.apache.log4j.ConsoleAppender\n#log4j.appender.stdout.Target=System.out\n#log4j.appender.stdout.layout=org.apache.log4j.PatternLayout\n#log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\n\n### direct messages to file hibernate.log ###\nlog4j.appender.file=org.apache.log4j.FileAppender\nlog4j.appender.file.File=hibernate.log\nlog4j.appender.file.layout=org.apache.log4j.PatternLayout\nlog4j.appender.file.layout.ConversionPattern=%d{ABSOLUTE} %5p %c{1}:%L - %m%n\n\n### set log levels - for more verbose logging change 'info' to 'debug' ###\n\nlog4j.rootLogger=warn, stdout\n\n#log4j.logger.org.hibernate=info\nlog4j.logger.org.hibernate=debug\n\n### log HQL query parser activity\n#log4j.logger.org.hibernate.hql.ast.AST=debug\n\n### log just the SQL\n#log4j.logger.org.hibernate.SQL=debug\n\n### log JDBC bind parameters ###\nlog4j.logger.org.hibernate.type=info\n#log4j.logger.org.hibernate.type=debug\n\n### log schema export/update ###\nlog4j.logger.org.hibernate.tool.hbm2ddl=debug\n\n### log HQL parse trees\n#log4j.logger.org.hibernate.hql=debug\n\n### log cache activity ###\n#log4j.logger.org.hibernate.cache=debug\n\n### log transaction activity\n#log4j.logger.org.hibernate.transaction=debug\n\n### log JDBC resource acquisition\n#log4j.logger.org.hibernate.jdbc=debug\n\n### enable the following line if you want to track down connection ###\n### leakages when using DriverManagerConnectionProvider ###\n#log4j.logger.org.hibernate.connection.DriverManagerConnectionProvider=trac5</pre>\n"},{"tags":["java","gradle","azure-pipelines"],"comments":[{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1697474969,"post_id":77303510,"comment_id":136281671,"body_markdown":"Have you included/updated the gradle wrapper in your project for it to use? Also keep in mind that gradle doesn&#39;t have full support for java 21 yet https://docs.gradle.org/current/userguide/compatibility.html","body":"Have you included/updated the gradle wrapper in your project for it to use? Also keep in mind that gradle doesn&#39;t have full support for java 21 yet <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a>"},{"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":0,"creation_date":1697475798,"post_id":77303510,"comment_id":136281807,"body_markdown":"@AnthonyCathers I don&#39;t think I need to upgrade the Gradle Wrapper, because the Gradle version hasn&#39;t changed","body":"@AnthonyCathers I don&#39;t think I need to upgrade the Gradle Wrapper, because the Gradle version hasn&#39;t changed"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1697476390,"post_id":77303510,"comment_id":136281890,"body_markdown":"If you&#39;re upgrading your java version to a latest version, you should almost always be updating your gradle wrapper to a version that supports that java version. But I think the issue here is that https://learn.microsoft.com/en-us/azure/developer/java/fundamentals/java-support-on-azure 21 is just not provided by Azure out of the box. You would probably need to provide a custom container to run this in until support is provided","body":"If you&#39;re upgrading your java version to a latest version, you should almost always be updating your gradle wrapper to a version that supports that java version. But I think the issue here is that <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/fundamentals/java-support-on-azure\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/developer/java/fundamentals/&zwnj;&#8203;&hellip;</a> 21 is just not provided by Azure out of the box. You would probably need to provide a custom container to run this in until support is provided"},{"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":0,"creation_date":1697484455,"post_id":77303510,"comment_id":136283156,"body_markdown":"@AnthonyCathers I&#39;m already using the latest version of Gradle (8.4), so there&#39;s no version I could upgrade to","body":"@AnthonyCathers I&#39;m already using the latest version of Gradle (8.4), so there&#39;s no version I could upgrade to"},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1697486335,"post_id":77303510,"comment_id":136283443,"body_markdown":"Gradle only supports certain versions which is why I posted the compatibility matrix. You never said what version of gradle you were on until this last comment. It was a general comment, not meant to be taken literally. The answer to your original question is also within my previous comment.","body":"Gradle only supports certain versions which is why I posted the compatibility matrix. You never said what version of gradle you were on until this last comment. It was a general comment, not meant to be taken literally. The answer to your original question is also within my previous comment."}],"answers":[{"comments":[{"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":1,"creation_date":1697539175,"post_id":77305812,"comment_id":136289759,"body_markdown":"Thanks for your answer. I wonder if this could be further simplified by using https://sdkman.io/ to install the JDK instead?","body":"Thanks for your answer. I wonder if this could be further simplified by using <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a> to install the JDK instead?"},{"owner":{"account_id":18482692,"reputation":23486,"user_id":13464420,"display_name":"Kevin Lu-MSFT"},"score":0,"creation_date":1697540490,"post_id":77305812,"comment_id":136290008,"body_markdown":"Yes. This method also can work i think. But the tool sdkman is also not pre-installed in MS hosted agent, you need to install the tool first.  All in all, you need to complete the installation of Java 21 before running the GradleTask . Then the issue will be resolved","body":"Yes. This method also can work i think. But the tool sdkman is also not pre-installed in MS hosted agent, you need to install the tool first.  All in all, you need to complete the installation of Java 21 before running the GradleTask . Then the issue will be resolved"},{"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":0,"creation_date":1697542858,"post_id":77305812,"comment_id":136290475,"body_markdown":"It worked like a charm. For reference here is the equivalent `wget` command to download the Eclipse Temurin (OpenJDK) distro `wget https://api.adoptium.net/v3/binary/latest/21/ga/linux/x64/jdk/hotspot/normal/eclipse -O jdk-21_linux-x64_bin.tar.gz`","body":"It worked like a charm. For reference here is the equivalent <code>wget</code> command to download the Eclipse Temurin (OpenJDK) distro <code>wget https:&#47;&#47;api.adoptium.net&#47;v3&#47;binary&#47;latest&#47;21&#47;ga&#47;linux&#47;x64&#47;jd&zwnj;&#8203;k&#47;hotspot&#47;normal&#47;ecl&zwnj;&#8203;ipse -O jdk-21_linux-x64_bin.tar.gz</code>"}],"tags":[],"owner":{"account_id":18482692,"reputation":23486,"user_id":13464420,"display_name":"Kevin Lu-MSFT"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697508103,"creation_date":1697508103,"answer_id":77305812,"question_id":77303510,"body_markdown":"I can reproduce the same issue when using the Java21 in Azure Pipeline. \r\n\r\nThe root cause of the issue is that the Java 21 is not pre-installed in Pipeline agent.\r\n\r\n&gt;Is it possible to use JDK 21 in an Azure Pipeline Gradle task?\r\n\r\nThe answer is YES. We can add steps to install the Java 21 before Gradle build.\r\n\r\nRefer to the following YAML sample:\r\n\r\n**Windows Agent:**\r\n\r\n    steps:\r\n    - powershell: |\r\n       $source = &quot;https://download.oracle.com/java/21/latest/jdk-21_windows-x64_bin.zip&quot;\r\n       $destination = &quot;$(build.sourcesdirectory)\\jdk-21_windows-x64_bin.zip&quot;\r\n       $client = new-object System.Net.WebClient \r\n       $cookie = &quot;oraclelicense=accept-securebackup-cookie&quot;\r\n       $client.Headers.Add([System.Net.HttpRequestHeader]::Cookie, $cookie) \r\n       $client.downloadFile($source, $destination)\r\n      displayName: &#39;PowerShell Script&#39;\r\n    \r\n    - task: JavaToolInstaller@0\r\n      displayName: &#39;Use Java 21&#39;\r\n      inputs:\r\n        versionSpec: 21\r\n        jdkArchitectureOption: x64\r\n        jdkSourceOption: LocalDirectory\r\n        jdkFile: &#39;$(build.sourcesdirectory)\\jdk-21_windows-x64_bin.zip&#39;\r\n        jdkDestinationDirectory: &#39;$(agent.toolsDirectory)/jdk21&#39;\r\n    \r\n    - task: Gradle@2\r\n      inputs:\r\n        workingDirectory: &#39;&#39;\r\n        gradleWrapperFile: &#39;gradlew&#39;\r\n        gradleOptions: &#39;-Xmx3072m&#39;\r\n        javaHomeOption: &#39;JDKVersion&#39;\r\n        jdkVersionOption: &#39;1.21&#39;\r\n        jdkArchitectureOption: &#39;x64&#39;\r\n        publishJUnitResults: true\r\n        testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n        tasks: &#39;build&#39;\r\n\r\n**Linux Agent:**\r\n\r\n    steps:\r\n    - bash: &#39;wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/21/latest/jdk-21_linux-x64_bin.tar.gz &#39;\r\n      displayName: &#39;Bash Script&#39;\r\n    \r\n    - task: JavaToolInstaller@0\r\n      displayName: &#39;Use Java 21&#39;\r\n      inputs:\r\n        versionSpec: 21\r\n        jdkArchitectureOption: x64\r\n        jdkSourceOption: LocalDirectory\r\n        jdkFile: &#39;$(build.sourcesdirectory)/jdk-21_linux-x64_bin.tar.gz&#39;\r\n        jdkDestinationDirectory: &#39;$(agent.toolsDirectory)/jdk21&#39;\r\n    \r\n    - task: Gradle@2\r\n      inputs:\r\n        workingDirectory: &#39;&#39;\r\n        gradleWrapperFile: &#39;gradlew&#39;\r\n        gradleOptions: &#39;-Xmx3072m&#39;\r\n        javaHomeOption: &#39;JDKVersion&#39;\r\n        jdkVersionOption: &#39;1.21&#39;\r\n        jdkArchitectureOption: &#39;x64&#39;\r\n        publishJUnitResults: true\r\n        testResultsFiles: &#39;**/TEST-*.xml&#39;\r\n        tasks: &#39;build&#39;\r\n\r\nThe script will download the Java 21  [Java Official site][1]. And the Pipeline task: [Java Installer][2] to configure the agent environemnt. \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/downloads/#jdk21-linux\r\n  [2]: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/java-tool-installer-v0?view=azure-pipelines","title":"Is it possible to use JDK 21 in an Azure Pipeline Gradle task?","body":"<p>I can reproduce the same issue when using the Java21 in Azure Pipeline.</p>\n<p>The root cause of the issue is that the Java 21 is not pre-installed in Pipeline agent.</p>\n<blockquote>\n<p>Is it possible to use JDK 21 in an Azure Pipeline Gradle task?</p>\n</blockquote>\n<p>The answer is YES. We can add steps to install the Java 21 before Gradle build.</p>\n<p>Refer to the following YAML sample:</p>\n<p><strong>Windows Agent:</strong></p>\n<pre><code>steps:\n- powershell: |\n   $source = &quot;https://download.oracle.com/java/21/latest/jdk-21_windows-x64_bin.zip&quot;\n   $destination = &quot;$(build.sourcesdirectory)\\jdk-21_windows-x64_bin.zip&quot;\n   $client = new-object System.Net.WebClient \n   $cookie = &quot;oraclelicense=accept-securebackup-cookie&quot;\n   $client.Headers.Add([System.Net.HttpRequestHeader]::Cookie, $cookie) \n   $client.downloadFile($source, $destination)\n  displayName: 'PowerShell Script'\n\n- task: JavaToolInstaller@0\n  displayName: 'Use Java 21'\n  inputs:\n    versionSpec: 21\n    jdkArchitectureOption: x64\n    jdkSourceOption: LocalDirectory\n    jdkFile: '$(build.sourcesdirectory)\\jdk-21_windows-x64_bin.zip'\n    jdkDestinationDirectory: '$(agent.toolsDirectory)/jdk21'\n\n- task: Gradle@2\n  inputs:\n    workingDirectory: ''\n    gradleWrapperFile: 'gradlew'\n    gradleOptions: '-Xmx3072m'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.21'\n    jdkArchitectureOption: 'x64'\n    publishJUnitResults: true\n    testResultsFiles: '**/TEST-*.xml'\n    tasks: 'build'\n</code></pre>\n<p><strong>Linux Agent:</strong></p>\n<pre><code>steps:\n- bash: 'wget --no-check-certificate -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; https://download.oracle.com/java/21/latest/jdk-21_linux-x64_bin.tar.gz '\n  displayName: 'Bash Script'\n\n- task: JavaToolInstaller@0\n  displayName: 'Use Java 21'\n  inputs:\n    versionSpec: 21\n    jdkArchitectureOption: x64\n    jdkSourceOption: LocalDirectory\n    jdkFile: '$(build.sourcesdirectory)/jdk-21_linux-x64_bin.tar.gz'\n    jdkDestinationDirectory: '$(agent.toolsDirectory)/jdk21'\n\n- task: Gradle@2\n  inputs:\n    workingDirectory: ''\n    gradleWrapperFile: 'gradlew'\n    gradleOptions: '-Xmx3072m'\n    javaHomeOption: 'JDKVersion'\n    jdkVersionOption: '1.21'\n    jdkArchitectureOption: 'x64'\n    publishJUnitResults: true\n    testResultsFiles: '**/TEST-*.xml'\n    tasks: 'build'\n</code></pre>\n<p>The script will download the Java 21  <a href=\"https://www.oracle.com/java/technologies/downloads/#jdk21-linux\" rel=\"nofollow noreferrer\">Java Official site</a>. And the Pipeline task: <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/reference/java-tool-installer-v0?view=azure-pipelines\" rel=\"nofollow noreferrer\">Java Installer</a> to configure the agent environemnt.</p>\n"}],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77305812,"answer_count":1,"score":0,"last_activity_date":1697542905,"creation_date":1697473066,"question_id":77303510,"body_markdown":"My Azure pipeline contains the following task\r\n\r\n```yaml\r\n  - task: Gradle@2\r\n    displayName: &#39;Run checks and tests&#39;\r\n    inputs:\r\n      javaHomeOption: &#39;JDKVersion&#39;\r\n      jdkVersionOption: &#39;1.17&#39;\r\n      tasks: &#39;check jacocoTestCoverageVerification jacocoTestReport&#39;\r\n```\r\n\r\nI would like to upgrade to JDK v21, but if I replace 1.17 with 1.21 I get the following error:\r\n\r\n&gt; Error: Failed to find the specified JDK version. Please ensure the specified JDK version is installed on the agent and the environment variable &#39;JAVA_HOME_21_X64&#39; exists and is set to the location of a corresponding JDK or use the Java Tool Installer task to install the desired JDK.\r\n\r\nI also tried using using `Gradle@3` with `jdkVersionOption: &#39;1.21&#39;`, but it fails with the same error message\r\n","title":"Is it possible to use JDK 21 in an Azure Pipeline Gradle task?","body":"<p>My Azure pipeline contains the following task</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  - task: Gradle@2\n    displayName: 'Run checks and tests'\n    inputs:\n      javaHomeOption: 'JDKVersion'\n      jdkVersionOption: '1.17'\n      tasks: 'check jacocoTestCoverageVerification jacocoTestReport'\n</code></pre>\n<p>I would like to upgrade to JDK v21, but if I replace 1.17 with 1.21 I get the following error:</p>\n<blockquote>\n<p>Error: Failed to find the specified JDK version. Please ensure the specified JDK version is installed on the agent and the environment variable 'JAVA_HOME_21_X64' exists and is set to the location of a corresponding JDK or use the Java Tool Installer task to install the desired JDK.</p>\n</blockquote>\n<p>I also tried using using <code>Gradle@3</code> with <code>jdkVersionOption: '1.21'</code>, but it fails with the same error message</p>\n"},{"tags":["java","spring","spring-cloud-netflix","spring-cloud-feign"],"comments":[{"owner":{"account_id":6076754,"reputation":6738,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1506950946,"post_id":46526431,"comment_id":80006880,"body_markdown":"You probably use hystrix with feign and its timeout is default 1s.","body":"You probably use hystrix with feign and its timeout is default 1s."},{"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"score":0,"creation_date":1506951260,"post_id":46526431,"comment_id":80007069,"body_markdown":"I&#39;ve added stack trace later. There aren&#39;t any hystrix mention. Can it be because of hystrix anyway?","body":"I&#39;ve added stack trace later. There aren&#39;t any hystrix mention. Can it be because of hystrix anyway?"}],"answers":[{"tags":[],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1507296217,"creation_date":1507296217,"answer_id":46606787,"question_id":46526431,"body_markdown":"The right solution was\r\n    \r\n    @Value(&quot;${feign.connectTimeout:10000}&quot;)\r\n    private int connectTimeout;\r\n\r\n    @Value(&quot;${feign.readTimeOut:300000}&quot;)\r\n    private int readTimeout;\r\n\r\n    @Bean\r\n    public Request.Options options() {\r\n        return new Request.Options(connectTimeout, readTimeout);\r\n    }\r\nand add to .properties file this one `payer-service-client.feign.hystrix.enabled=false`","title":"Can&#39;t configure Feign Client timeouts","body":"<p>The right solution was</p>\n\n<pre><code>@Value(\"${feign.connectTimeout:10000}\")\nprivate int connectTimeout;\n\n@Value(\"${feign.readTimeOut:300000}\")\nprivate int readTimeout;\n\n@Bean\npublic Request.Options options() {\n    return new Request.Options(connectTimeout, readTimeout);\n}\n</code></pre>\n\n<p>and add to .properties file this one <code>payer-service-client.feign.hystrix.enabled=false</code></p>\n"},{"tags":[],"owner":{"account_id":5041765,"reputation":837,"user_id":4048904,"display_name":"Amit Goldstein"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579768306,"creation_date":1579768306,"answer_id":59874287,"question_id":46526431,"body_markdown":"There is also a way to do this with configuration only.\r\n\r\nAdd to your `application.yml`:\r\n\r\n```\r\nfeign:\r\n  client:\r\n    config:\r\n      my-client:\r\n        connectTimeout: 10000\r\n        readTimeout: 300000\r\n```","title":"Can&#39;t configure Feign Client timeouts","body":"<p>There is also a way to do this with configuration only.</p>\n\n<p>Add to your <code>application.yml</code>:</p>\n\n<pre><code>feign:\n  client:\n    config:\n      my-client:\n        connectTimeout: 10000\n        readTimeout: 300000\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4773260"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618414802,"creation_date":1618414802,"answer_id":67094841,"question_id":46526431,"body_markdown":"I think you are misplacing the ```default``` attribute.\r\n\r\nThe correct way of using the default timeout properties are :\r\n\r\n    feign.client.config.default.connectTimeout=xxxx\r\n    feign.client.config.default.readTimeout=xxxx\r\n\r\n\r\nThese will be applicable for all the feign clients. If you want to apply it to a specific client you can refer to the other answers. ","title":"Can&#39;t configure Feign Client timeouts","body":"<p>I think you are misplacing the <code>default</code> attribute.</p>\n<p>The correct way of using the default timeout properties are :</p>\n<pre><code>feign.client.config.default.connectTimeout=xxxx\nfeign.client.config.default.readTimeout=xxxx\n</code></pre>\n<p>These will be applicable for all the feign clients. If you want to apply it to a specific client you can refer to the other answers.</p>\n"},{"tags":[],"owner":{"account_id":7401942,"reputation":183,"user_id":6588493,"display_name":"ddotsdot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697542775,"creation_date":1697542775,"answer_id":77308672,"question_id":46526431,"body_markdown":"According to [this answer][1] you need to put only\r\n\r\n&gt; `spring.cloud.openfeign.client.config.default.readTimeout=300000`\r\n&gt; `spring.cloud.openfeign.client.config.default.connect-timeout=10000`\r\n\r\n in your `application.properties`\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75526697/6588493","title":"Can&#39;t configure Feign Client timeouts","body":"<p>According to <a href=\"https://stackoverflow.com/a/75526697/6588493\">this answer</a> you need to put only</p>\n<blockquote>\n<p><code>spring.cloud.openfeign.client.config.default.readTimeout=300000</code>\n<code>spring.cloud.openfeign.client.config.default.connect-timeout=10000</code></p>\n</blockquote>\n<p>in your <code>application.properties</code></p>\n"}],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10325,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46606787,"answer_count":4,"score":4,"last_activity_date":1697542775,"creation_date":1506950816,"question_id":46526431,"body_markdown":"I&#39;m using Feign Client with disabled Load Balancer\r\n    \r\n    @FeignClient(name = &quot;my-client&quot;, url = &quot;${myHost}&quot;, configuration = ClientContext.class)\r\nSo, all ribbon properties are ignored.\r\nI&#39;m trying to set custom timeouts by different ways, but Feign ignores all them and throws TimeoutException after 60 seconds.\r\nWays I tried to use:\r\nin ClientContext:\r\n1)\r\n    \r\n    @Value(&quot;${feign.connectTimeout:10000}&quot;)\r\n    private int connectTimeout;\r\n\r\n    @Value(&quot;${feign.readTimeOut:300000}&quot;)\r\n    private int readTimeout;\r\n\r\n    @Bean\r\n    public Request.Options options() {\r\n        return new Request.Options(connectTimeout, readTimeout);\r\n    }\r\n2)\r\n    \r\n    @Bean\r\n    public Request.Options options() {\r\n        return new Request.Options(10_000, 300_000);\r\n    }\r\nin bootstrap.properties file:\r\n1)\r\n    \r\n    feign.client.default.connect-timeout=10000\r\n    feign.client.default.read-timeout=300000\r\n2)\r\n    \r\n    feign.client.default.config.connect-timeout=10000\r\n    feign.client.default.config.read-timeout=300000\r\n3)\r\n    \r\n    feign.client.default.connectTimeout=10000\r\n    feign.client.default.readTimeout=300000\r\n4)\r\n    \r\n    feign.client.default.config.connectTimeout=10000\r\n    feign.client.default.config.readTimeout=300000\r\nError stack trace is:\r\n    \r\n    Error Message: feign.RetryableException: Read timed out executing GET http://myrequest...\r\n    Stacktrace: \r\n    feign.FeignException.errorExecuting(FeignException.java:67)\r\n    feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:10)\r\n    feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:76)\r\n    feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:103)\r\nCan you suggest me right configuration or found what is wrong in code blocks above?\r\n","title":"Can&#39;t configure Feign Client timeouts","body":"<p>I'm using Feign Client with disabled Load Balancer</p>\n\n<pre><code>@FeignClient(name = \"my-client\", url = \"${myHost}\", configuration = ClientContext.class)\n</code></pre>\n\n<p>So, all ribbon properties are ignored.\nI'm trying to set custom timeouts by different ways, but Feign ignores all them and throws TimeoutException after 60 seconds.\nWays I tried to use:\nin ClientContext:\n1)</p>\n\n<pre><code>@Value(\"${feign.connectTimeout:10000}\")\nprivate int connectTimeout;\n\n@Value(\"${feign.readTimeOut:300000}\")\nprivate int readTimeout;\n\n@Bean\npublic Request.Options options() {\n    return new Request.Options(connectTimeout, readTimeout);\n}\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>@Bean\npublic Request.Options options() {\n    return new Request.Options(10_000, 300_000);\n}\n</code></pre>\n\n<p>in bootstrap.properties file:\n1)</p>\n\n<pre><code>feign.client.default.connect-timeout=10000\nfeign.client.default.read-timeout=300000\n</code></pre>\n\n<p>2)</p>\n\n<pre><code>feign.client.default.config.connect-timeout=10000\nfeign.client.default.config.read-timeout=300000\n</code></pre>\n\n<p>3)</p>\n\n<pre><code>feign.client.default.connectTimeout=10000\nfeign.client.default.readTimeout=300000\n</code></pre>\n\n<p>4)</p>\n\n<pre><code>feign.client.default.config.connectTimeout=10000\nfeign.client.default.config.readTimeout=300000\n</code></pre>\n\n<p>Error stack trace is:</p>\n\n<pre><code>Error Message: feign.RetryableException: Read timed out executing GET http://myrequest...\nStacktrace: \nfeign.FeignException.errorExecuting(FeignException.java:67)\nfeign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:10)\nfeign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:76)\nfeign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:103)\n</code></pre>\n\n<p>Can you suggest me right configuration or found what is wrong in code blocks above?</p>\n"},{"tags":["java","spring-webflux","reactor","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593552337,"creation_date":1593552337,"answer_id":62666393,"question_id":62658719,"body_markdown":" &gt; I was excpecting that when using http1.1 the reactor-netty reuse the connections.\r\n\r\nIt will, if it can. Taking the following as an example:\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n        private final WebClient wc;\r\n    \r\n        @Autowired\r\n        public MyController(WebClient.Builder wcb) {\r\n            wc = wcb\r\n                    .baseUrl(&quot;https://jsonplaceholder.typicode.com/&quot;)\r\n                    .clientConnector(new ReactorClientHttpConnector(\r\n                            HttpClient.create()\r\n                                    .tcpConfiguration(tcpClient -&gt; tcpClient.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 2000))\r\n                                    .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient()))\r\n                    ))\r\n                    .build();\r\n        }\r\n    \r\n        @GetMapping(&quot;/&quot;)\r\n        public Mono&lt;List&lt;Body&gt;&gt; cookieSetter() {\r\n            return Flux.range(1,10)\r\n                    .flatMap(i -&gt; wc.get().uri(&quot;todos/&quot; + i).retrieve().bodyToMono(Body.class))\r\n                    .collectList();\r\n        }\r\n    \r\n        @Data\r\n        static class Body {\r\n            private String title;\r\n        }\r\n    \r\n    }\r\n\r\nLoad it up and you&#39;ll see a bunch of `HTTP GET https://jsonplaceholder.typicode.com/todos/x` and `Response 200 OK`, but no `Cancel signal (to close connection)` logs - it keeps the connection open and reuses it.\r\n\r\nYou don&#39;t provide a complete example, but it&#39;s likely there&#39;s one of two things happening here:\r\n\r\n - You&#39;re actively cancelling the publishers (or something in the framework is cancelling the response publishers), which then causes the connection to be closed as a side-effect of this cancellation.\r\n - The server that you&#39;re connecting to doesn&#39;t support keep-alive. Note that this is an *optional* feature, and the server doesn&#39;t have to support it, even in HTTP/1.1. In this case, it&#39;s likely returning `Connection: close` headers in its response. This will correctly force Netty to close the connection in between each request, rather than reusing it.","title":"WebClient open and close connection on every element call in the Stream","body":"<blockquote>\n<p>I was excpecting that when using http1.1 the reactor-netty reuse the connections.</p>\n</blockquote>\n<p>It will, if it can. Taking the following as an example:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    private final WebClient wc;\n\n    @Autowired\n    public MyController(WebClient.Builder wcb) {\n        wc = wcb\n                .baseUrl(&quot;https://jsonplaceholder.typicode.com/&quot;)\n                .clientConnector(new ReactorClientHttpConnector(\n                        HttpClient.create()\n                                .tcpConfiguration(tcpClient -&gt; tcpClient.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 2000))\n                                .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient()))\n                ))\n                .build();\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public Mono&lt;List&lt;Body&gt;&gt; cookieSetter() {\n        return Flux.range(1,10)\n                .flatMap(i -&gt; wc.get().uri(&quot;todos/&quot; + i).retrieve().bodyToMono(Body.class))\n                .collectList();\n    }\n\n    @Data\n    static class Body {\n        private String title;\n    }\n\n}\n</code></pre>\n<p>Load it up and you'll see a bunch of <code>HTTP GET https://jsonplaceholder.typicode.com/todos/x</code> and <code>Response 200 OK</code>, but no <code>Cancel signal (to close connection)</code> logs - it keeps the connection open and reuses it.</p>\n<p>You don't provide a complete example, but it's likely there's one of two things happening here:</p>\n<ul>\n<li>You're actively cancelling the publishers (or something in the framework is cancelling the response publishers), which then causes the connection to be closed as a side-effect of this cancellation.</li>\n<li>The server that you're connecting to doesn't support keep-alive. Note that this is an <em>optional</em> feature, and the server doesn't have to support it, even in HTTP/1.1. In this case, it's likely returning <code>Connection: close</code> headers in its response. This will correctly force Netty to close the connection in between each request, rather than reusing it.</li>\n</ul>\n"}],"owner":{"account_id":8818967,"reputation":751,"user_id":6589470,"display_name":"hba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697540470,"creation_date":1593524119,"question_id":62658719,"body_markdown":"Trying to understand how spring webclient handle the connections between the peers.  \r\nWhen using the code below :  \r\nI have as many close connection as element in the stream.  \r\nI was excpecting that when using http1.1 the reactor-netty reuse the connections.\r\nEven when trying to use the keep alive on configuration i do have the same behaviour :\r\n\r\n[d6b705e1] Response 200 OK  \r\n[d6b705e1] Cancel signal (to close connection)   \r\n\r\n \r\n  \r\n      \r\n    public WebClient webClient(WebClient.Builder builder) {\r\n     return builder\r\n      .baseUrl(config.getBaseurl())\r\n      .clientConnector(new ReactorClientHttpConnector(\r\n        HttpClient.create()\r\n          .tcpConfiguration(tcpClient -&gt; tcpClient.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, timeout))\r\n          .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient()))\r\n      ))\r\n      .build();\r\n    }\r\n\r\n    Flux&lt;String&gt; getIds() { ... }\r\n    \r\n    Flux&lt;Response&gt; getResponses() {\r\n      // here as many open and close connection as the return stream getIds \r\n      return getIds().flatMap(... // client.retrieve().bodyToMono(Reponse.class));\r\n    }","title":"WebClient open and close connection on every element call in the Stream","body":"<p>Trying to understand how spring webclient handle the connections between the peers.<br />\nWhen using the code below :<br />\nI have as many close connection as element in the stream.<br />\nI was excpecting that when using http1.1 the reactor-netty reuse the connections.\nEven when trying to use the keep alive on configuration i do have the same behaviour :</p>\n<p>[d6b705e1] Response 200 OK<br />\n[d6b705e1] Cancel signal (to close connection)</p>\n<pre><code>public WebClient webClient(WebClient.Builder builder) {\n return builder\n  .baseUrl(config.getBaseurl())\n  .clientConnector(new ReactorClientHttpConnector(\n    HttpClient.create()\n      .tcpConfiguration(tcpClient -&gt; tcpClient.option(ChannelOption.CONNECT_TIMEOUT_MILLIS, timeout))\n      .secure(spec -&gt; spec.sslContext(SslContextBuilder.forClient()))\n  ))\n  .build();\n}\n\nFlux&lt;String&gt; getIds() { ... }\n\nFlux&lt;Response&gt; getResponses() {\n  // here as many open and close connection as the return stream getIds \n  return getIds().flatMap(... // client.retrieve().bodyToMono(Reponse.class));\n}\n</code></pre>\n"},{"tags":["java","spring","algorithm","time","microservices"],"answers":[{"comments":[{"owner":{"account_id":14513910,"reputation":41,"user_id":10483551,"display_name":"Kadri"},"score":0,"creation_date":1697540989,"post_id":77308420,"comment_id":136290112,"body_markdown":"I tried using Kafka. In the Producer, I produced a message and sent it to Kafka. The Consumer received the message and performed a time check. If the time had come, it sent the message to the other service; if not, it sent it back to Kafka. However, the issue here was that messages whose time had not come were continuously being added to the queue. Would I encounter the same issue with the method you provided?","body":"I tried using Kafka. In the Producer, I produced a message and sent it to Kafka. The Consumer received the message and performed a time check. If the time had come, it sent the message to the other service; if not, it sent it back to Kafka. However, the issue here was that messages whose time had not come were continuously being added to the queue. Would I encounter the same issue with the method you provided?"},{"owner":{"account_id":12326934,"reputation":61,"user_id":8994276,"display_name":"Krunal Chauhan"},"score":0,"creation_date":1697614572,"post_id":77308420,"comment_id":136300451,"body_markdown":"ActiveMQ and Kafka both support JMS. But here it seems ActiveMQ is more suitable for you as per your use case. you can decide which is better for you from the link.[link]https://www.openlogic.com/blog/kafka-vs-activemq.  By ActiveMQ, you can get this 1. receive a message when its time comes. 2. if when message comes and some exception occurs (based on your use case) so you can easily transfer back to the same queue by session. Rollback() method. if you called the session. Acknowledge() then the message will be marked as dequeue other wise message will remain in the same queue.","body":"ActiveMQ and Kafka both support JMS. But here it seems ActiveMQ is more suitable for you as per your use case. you can decide which is better for you from the link.[link]<a href=\"https://www.openlogic.com/blog/kafka-vs-activemq\" rel=\"nofollow noreferrer\">openlogic.com/blog/kafka-vs-activemq</a>.  By ActiveMQ, you can get this 1. receive a message when its time comes. 2. if when message comes and some exception occurs (based on your use case) so you can easily transfer back to the same queue by session. Rollback() method. if you called the session. Acknowledge() then the message will be marked as dequeue other wise message will remain in the same queue."}],"tags":[],"owner":{"account_id":12326934,"reputation":61,"user_id":8994276,"display_name":"Krunal Chauhan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697540310,"creation_date":1697540310,"answer_id":77308420,"question_id":77308320,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7RGMJ.png\r\n\r\nYou can use ActiveMQ for Async notifications. \r\nThe first service puts a message with the scheduled time and when that time arrives the message will dequeue automatically on the second service. then you can continue as per your further logic \r\n\r\nref. : https://activemq.apache.org/delay-and-schedule-message-delivery\r\n\r\nI hope it works for you. or let me know for more clarification if needed","title":"How do I design an asynchronous notification sending application?","body":"<p><a href=\"https://i.stack.imgur.com/7RGMJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RGMJ.png\" alt=\"enter image description here\" /></a></p>\n<p>You can use ActiveMQ for Async notifications.\nThe first service puts a message with the scheduled time and when that time arrives the message will dequeue automatically on the second service. then you can continue as per your further logic</p>\n<p>ref. : <a href=\"https://activemq.apache.org/delay-and-schedule-message-delivery\" rel=\"nofollow noreferrer\">https://activemq.apache.org/delay-and-schedule-message-delivery</a></p>\n<p>I hope it works for you. or let me know for more clarification if needed</p>\n"}],"owner":{"account_id":14513910,"reputation":41,"user_id":10483551,"display_name":"Kadri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697540310,"creation_date":1697539390,"question_id":77308320,"body_markdown":"I am working on an asynchronous notification sending application in Spring. For this purpose, I have two services. The first service receives the content, timing, and other information of the notification from the frontend and writes it to the database. In the second service, I want to periodically check the timing of notifications and send the notifications whose time has come to the other service. How can I accomplish this? Thank you in advance.","title":"How do I design an asynchronous notification sending application?","body":"<p>I am working on an asynchronous notification sending application in Spring. For this purpose, I have two services. The first service receives the content, timing, and other information of the notification from the frontend and writes it to the database. In the second service, I want to periodically check the timing of notifications and send the notifications whose time has come to the other service. How can I accomplish this? Thank you in advance.</p>\n"},{"tags":["java","java-8","stream","java-stream"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694780203,"creation_date":1694780203,"answer_id":77112304,"question_id":77112241,"body_markdown":"You can *collect* it using [`Collectors.partitioningBy()`][1], this way:\r\n```java\r\nMap&lt;Boolean, List&lt;Response&gt;&gt; responsesResult = response.stream()\r\n    .collect(Collectors.partitioningBy(Response::getStatus));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#partitioningBy-java.util.function.Predicate-","title":"convert list to multiple lists and storing it in Map using JAVA 8(streams) based on the data","body":"<p>You can <em>collect</em> it using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#partitioningBy-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>Collectors.partitioningBy()</code></a>, this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Boolean, List&lt;Response&gt;&gt; responsesResult = response.stream()\n    .collect(Collectors.partitioningBy(Response::getStatus));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28850468,"reputation":11,"user_id":22096476,"display_name":"Arjunan Sriram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695052917,"creation_date":1694785287,"answer_id":77112859,"question_id":77112241,"body_markdown":"You can use the `Collectors.partitioningBy` method to split the list of responses into two lists based on the status value. This method takes a predicate as an argument and returns a map with two keys: true and false. The values of the map are lists of elements that satisfy or not satisfy the predicate. For example, you can write:\r\n```java\r\nMap&lt;Boolean,List&lt;Response&gt;&gt; responsesResult = response.stream()\r\n        .collect(Collectors.partitioningBy(Response::getStatus));\r\n```\r\nThis will create a map with two entries: one with the key true and the value a list of responses with status true, and another with the key false and the value a list of responses with status false. You can then access the lists by using the map keys:\r\n```\r\nList&lt;Response&gt; trueResponses = responsesResult.get(true);\r\nList&lt;Response&gt; falseResponses = responsesResult.get(false);\r\n```\r\nI hope this helps you understand how to use the `Collectors.partitioningBy` method. &#128522;\r\n\r\n","title":"convert list to multiple lists and storing it in Map using JAVA 8(streams) based on the data","body":"<p>You can use the <code>Collectors.partitioningBy</code> method to split the list of responses into two lists based on the status value. This method takes a predicate as an argument and returns a map with two keys: true and false. The values of the map are lists of elements that satisfy or not satisfy the predicate. For example, you can write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Boolean,List&lt;Response&gt;&gt; responsesResult = response.stream()\n        .collect(Collectors.partitioningBy(Response::getStatus));\n</code></pre>\n<p>This will create a map with two entries: one with the key true and the value a list of responses with status true, and another with the key false and the value a list of responses with status false. You can then access the lists by using the map keys:</p>\n<pre><code>List&lt;Response&gt; trueResponses = responsesResult.get(true);\nList&lt;Response&gt; falseResponses = responsesResult.get(false);\n</code></pre>\n<p>I hope this helps you understand how to use the <code>Collectors.partitioningBy</code> method. 😊</p>\n"},{"tags":[],"owner":{"account_id":29670186,"reputation":1,"user_id":22739624,"display_name":"SrikanthMalladi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697540164,"creation_date":1697280082,"answer_id":77292510,"question_id":77112241,"body_markdown":"```java\r\nMap&lt;Boolean, List&lt;Entry&lt;String, Object&gt;&gt;&gt; map1 = map.entrySet()\r\n                                                    .stream()\r\n                                                    .collect(Collectors.partitioningBy(data -&gt; data.getKey().equals(&quot;rate&quot;) &amp;&amp; data.getValue().equals(&quot;1&quot;)));\r\n\r\nList&lt;Map&lt;String,Object&gt;&gt; list1 = map1.entrySet()\r\n                                     .stream()\r\n                                     .filter(data -&gt; data.getKey().equals(true))\r\n                                     .flatMap(data -&gt; data.getValue().stream())\r\n                                     .map(data -&gt; Map.of(data.getKey(), data.getValue()))\r\n                                     .collect(Collectors.toList());\r\n\r\nList&lt;Map&lt;String,Object&gt;&gt; list2 = map1.entrySet()\r\n                                     .stream()\r\n                                     .filter(data -&gt; data.getKey().equals(false))\r\n                                     .flatMap(data -&gt; data.getValue().stream())\r\n                                     .map(data -&gt; Map.of(data.getKey(), data.getValue()))\r\n                                     .collect(Collectors.toList());\r\n```","title":"convert list to multiple lists and storing it in Map using JAVA 8(streams) based on the data","body":"<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Boolean, List&lt;Entry&lt;String, Object&gt;&gt;&gt; map1 = map.entrySet()\n                                                    .stream()\n                                                    .collect(Collectors.partitioningBy(data -&gt; data.getKey().equals(&quot;rate&quot;) &amp;&amp; data.getValue().equals(&quot;1&quot;)));\n\nList&lt;Map&lt;String,Object&gt;&gt; list1 = map1.entrySet()\n                                     .stream()\n                                     .filter(data -&gt; data.getKey().equals(true))\n                                     .flatMap(data -&gt; data.getValue().stream())\n                                     .map(data -&gt; Map.of(data.getKey(), data.getValue()))\n                                     .collect(Collectors.toList());\n\nList&lt;Map&lt;String,Object&gt;&gt; list2 = map1.entrySet()\n                                     .stream()\n                                     .filter(data -&gt; data.getKey().equals(false))\n                                     .flatMap(data -&gt; data.getValue().stream())\n                                     .map(data -&gt; Map.of(data.getKey(), data.getValue()))\n                                     .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77112304,"answer_count":3,"score":0,"last_activity_date":1697540164,"creation_date":1694779648,"question_id":77112241,"body_markdown":"Suppose I have below response class which collect response and some other data.\r\n\r\n    class Response{\r\n            Boolean status;\r\n            String message;\r\n            Integer id;\r\n        \r\n            Response(Boolean s, String m, Integer id)\r\n    \t\t{\r\n    \t\t\tstatus=s;\r\n    \t\t\tmessage=m;\r\n    \t\t\tthis.id=id;\r\n    \t\t}\r\n    public Boolean getStatus() {\r\n                return status;\r\n            }\r\n        \r\n            public void setStatus(Boolean status) {\r\n                this.status = status;\r\n            }\r\n        \r\n            public String getMessage() {\r\n                return message;\r\n            }\r\n        \r\n            public void setMessage(String message) {\r\n                this.message = message;\r\n            }\r\n        \r\n            public Integer getId() {\r\n                return id;\r\n            }\r\n        \r\n            public void setId(Integer id) {\r\n                id = id;\r\n            }\r\n        }\r\n\r\nList data as below:\r\n\r\n    List&lt;Response&gt; response = new ArrayList&lt;Response&gt;();\r\n    response.add(new Response(Boolean.TRUE,&quot;HelloTrue&quot;,1));\r\n    response.add(new Response(Boolean.FALSE,&quot;HelloFalse&quot;,2));\r\n\r\nI want result as two different list based on status type(TRUE,FALSE) using single stream() method.\r\ne.g:\r\n\r\n    Map&lt;Boolean,List&lt;Response&gt;&gt; responsesResult=response.stream().....\r\n\r\nThanks in advance.","title":"convert list to multiple lists and storing it in Map using JAVA 8(streams) based on the data","body":"<p>Suppose I have below response class which collect response and some other data.</p>\n<pre><code>class Response{\n        Boolean status;\n        String message;\n        Integer id;\n    \n        Response(Boolean s, String m, Integer id)\n        {\n            status=s;\n            message=m;\n            this.id=id;\n        }\npublic Boolean getStatus() {\n            return status;\n        }\n    \n        public void setStatus(Boolean status) {\n            this.status = status;\n        }\n    \n        public String getMessage() {\n            return message;\n        }\n    \n        public void setMessage(String message) {\n            this.message = message;\n        }\n    \n        public Integer getId() {\n            return id;\n        }\n    \n        public void setId(Integer id) {\n            id = id;\n        }\n    }\n</code></pre>\n<p>List data as below:</p>\n<pre><code>List&lt;Response&gt; response = new ArrayList&lt;Response&gt;();\nresponse.add(new Response(Boolean.TRUE,&quot;HelloTrue&quot;,1));\nresponse.add(new Response(Boolean.FALSE,&quot;HelloFalse&quot;,2));\n</code></pre>\n<p>I want result as two different list based on status type(TRUE,FALSE) using single stream() method.\ne.g:</p>\n<pre><code>Map&lt;Boolean,List&lt;Response&gt;&gt; responsesResult=response.stream().....\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","jsp","struts","jstl"],"answers":[{"comments":[{"owner":{"account_id":177019,"reputation":972,"user_id":408098,"accept_rate":92,"display_name":"Scott Chu"},"score":0,"creation_date":1397627314,"post_id":863302,"comment_id":35310691,"body_markdown":"Notice that this only works for Java 1.5 or later. Otherwise it reports &quot;Cannot resolve symbol&quot; error","body":"Notice that this only works for Java 1.5 or later. Otherwise it reports &quot;Cannot resolve symbol&quot; error"},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1397632271,"post_id":863302,"comment_id":35312994,"body_markdown":"@ScottChu: For Java 1.4, use `getClass().getName()` instead.","body":"@ScottChu: For Java 1.4, use <code>getClass().getName()</code> instead."},{"owner":{"account_id":268833,"reputation":5127,"user_id":557826,"display_name":"Zeki"},"score":0,"creation_date":1412604009,"post_id":863302,"comment_id":41117270,"body_markdown":"I don&#39;t think this will work for includes.  This will only print out the name of the initial JSP.","body":"I don&#39;t think this will work for includes.  This will only print out the name of the initial JSP."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1412605599,"post_id":863302,"comment_id":41118264,"body_markdown":"@Zeki: That depends on how includes are implemented. In our app server, an include would generate code to create a new instance. If all the code is inlined, then it breaks.","body":"@Zeki: That depends on how includes are implemented. In our app server, an include would generate code to create a new instance. If all the code is inlined, then it breaks."},{"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"score":2,"creation_date":1478377957,"post_id":863302,"comment_id":68132298,"body_markdown":"This will not work if there are underscores or hyphens in your JSP filename. E.g. if you have JSPs like `foo-1.jsp` or `foo_1.jsp`. The JSP filename to classname conversion (e.g. http://itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM) require you to take into account escape sequences like `_005f` (for underscores) etc. Up-voted, but it does seem brittle unless you enforce JSP filenaming conventions that ensure that such characters won&#39;t appear.","body":"This will not work if there are underscores or hyphens in your JSP filename. E.g. if you have JSPs like <code>foo-1.jsp</code> or <code>foo_1.jsp</code>. The JSP filename to classname conversion (e.g. <a href=\"http://itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM\" rel=\"nofollow noreferrer\">itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM</a>) require you to take into account escape sequences like <code>_005f</code> (for underscores) etc. Up-voted, but it does seem brittle unless you enforce JSP filenaming conventions that ensure that such characters won&#39;t appear."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1478696852,"post_id":863302,"comment_id":68257640,"body_markdown":"@MarcusJuniusBrutus Thanks, I&#39;ve improved my answer.","body":"@MarcusJuniusBrutus Thanks, I&#39;ve improved my answer."},{"owner":{"account_id":177019,"reputation":972,"user_id":408098,"accept_rate":92,"display_name":"Scott Chu"},"score":0,"creation_date":1499846853,"post_id":863302,"comment_id":77077247,"body_markdown":"This has problem in a jsp that is included by other jsp. A true experiment: I use this in &#39;header.jsp&#39;, and it&#39;s included by fp_index.jsp running under Tomcat 6, the log dumps &#39;fp.005findex.jsp&#39;, instead of &#39;header.jsp&#39;. Exactly like what Zeki said in comment.","body":"This has problem in a jsp that is included by other jsp. A true experiment: I use this in &#39;header.jsp&#39;, and it&#39;s included by fp_index.jsp running under Tomcat 6, the log dumps &#39;fp.005findex.jsp&#39;, instead of &#39;header.jsp&#39;. Exactly like what Zeki said in comment."},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1504525809,"post_id":863302,"comment_id":79032894,"body_markdown":"@ScottChu You&#39;re using Tomcat 6 in 2017? You must love taking security risks. That said, my answer to Zeki still holds: &quot;**That depends on how includes are implemented**&quot;. I also explain this in my answer. You can try to work around this by using a taglib, a different JSP container, by not using includes or by abandoning JSP. That&#39;s about it.","body":"@ScottChu You&#39;re using Tomcat 6 in 2017? You must love taking security risks. That said, my answer to Zeki still holds: &quot;<b>That depends on how includes are implemented</b>&quot;. I also explain this in my answer. You can try to work around this by using a taglib, a different JSP container, by not using includes or by abandoning JSP. That&#39;s about it."}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":8,"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1697540051,"creation_date":1242307154,"answer_id":863302,"question_id":863248,"body_markdown":"Well ... yes ... in a way\r\n\r\n    String __jspName = this.getClass().getSimpleName().replaceAll(&quot;_&quot;, &quot;.&quot;);\r\n\r\nI&#39;m using a JSP called `pre.jsp` for that which I include at the top of each JSP in my webapp:\r\n\r\n    &lt;%@page import=&quot;org.apache.log4j.Logger&quot;%&gt;\r\n    &lt;%\r\n        String __jspName = this.getClass().getSimpleName().replaceAll(&quot;_&quot;, &quot;.&quot;);\r\n\r\n        Logger log = Logger.getLogger(this.getClass().getName());\r\n        log.info(&quot;BEGIN JSP &quot;+__jspName);\r\n    %&gt;\r\n    &lt;!-- BEGIN &lt;%=__jspName %&gt; --&gt;\r\n\r\nPlus I put this at the end of each JSP:\r\n\r\n    &lt;!-- END &lt;%=__jspName %&gt; --&gt;&lt;% log.info(&quot;END JSP &quot;+__jspName); %&gt;\r\n\r\nThat gives me a consistent log. To make sure each JSP is &quot;correct&quot;, I have a check in my build script which just looks for the two strings `&quot;/pre.jsp&quot;` and ``END &lt;%=__jspName`.\r\n\r\nNote: There are many characters which are allowed in file names but not in Java class names. If you use them, your class names might look weird. If that&#39;s the case, I suggest to create a static helper function which converts class names to File names and call that, i.e.\r\n\r\n    String __jspName = MyJspUtils.getFileName(this.getClass());\r\n\r\nEach JSP compiler has it&#39;s own rules; here is one example: http://itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM\r\n\r\nKudos go to [Marcus Junius Brutus](https://stackoverflow.com/users/274677/marcus-junius-brutus) for pointing that out.","title":"Get current filename in JSP","body":"<p>Well ... yes ... in a way</p>\n<pre><code>String __jspName = this.getClass().getSimpleName().replaceAll(&quot;_&quot;, &quot;.&quot;);\n</code></pre>\n<p>I'm using a JSP called <code>pre.jsp</code> for that which I include at the top of each JSP in my webapp:</p>\n<pre><code>&lt;%@page import=&quot;org.apache.log4j.Logger&quot;%&gt;\n&lt;%\n    String __jspName = this.getClass().getSimpleName().replaceAll(&quot;_&quot;, &quot;.&quot;);\n\n    Logger log = Logger.getLogger(this.getClass().getName());\n    log.info(&quot;BEGIN JSP &quot;+__jspName);\n%&gt;\n&lt;!-- BEGIN &lt;%=__jspName %&gt; --&gt;\n</code></pre>\n<p>Plus I put this at the end of each JSP:</p>\n<pre><code>&lt;!-- END &lt;%=__jspName %&gt; --&gt;&lt;% log.info(&quot;END JSP &quot;+__jspName); %&gt;\n</code></pre>\n<p>That gives me a consistent log. To make sure each JSP is &quot;correct&quot;, I have a check in my build script which just looks for the two strings <code>&quot;/pre.jsp&quot;</code> and ``END &lt;%=__jspName`.</p>\n<p>Note: There are many characters which are allowed in file names but not in Java class names. If you use them, your class names might look weird. If that's the case, I suggest to create a static helper function which converts class names to File names and call that, i.e.</p>\n<pre><code>String __jspName = MyJspUtils.getFileName(this.getClass());\n</code></pre>\n<p>Each JSP compiler has it's own rules; here is one example: <a href=\"http://itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM\" rel=\"nofollow noreferrer\">http://itdoc.hitachi.co.jp/manuals/3020/30203Y0510e/EY050044.HTM</a></p>\n<p>Kudos go to <a href=\"https://stackoverflow.com/users/274677/marcus-junius-brutus\">Marcus Junius Brutus</a> for pointing that out.</p>\n"},{"comments":[{"owner":{"account_id":33088,"reputation":1961,"user_id":92326,"accept_rate":100,"display_name":"elzapp"},"score":1,"creation_date":1354717304,"post_id":13613845,"comment_id":18854565,"body_markdown":"But that only shows the requested URI, not the rendered jsp, if it is coming from an include or rendered from a servlet","body":"But that only shows the requested URI, not the rendered jsp, if it is coming from an include or rendered from a servlet"}],"tags":[],"owner":{"account_id":358377,"reputation":997,"user_id":699111,"accept_rate":65,"display_name":"Dima R."},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1354134602,"creation_date":1354134602,"answer_id":13613845,"question_id":863248,"body_markdown":"The more convenient way is to use:  &lt;%= request.getRequestURI() %&gt;\r\n\r\n&lt;%= request.getRequestURI() %&gt;\r\nFor example, in all of my jsp files, I always do put this line:\r\n\r\nRendering JSP File: &#39;&lt;%= request.getRequestURI() %&gt;&#39;\r\n\r\nThis puts a comented html line in to the rendered html.  This way one cannot see it in the browser, but for debugging purposes, I can always see it inf I do &quot;View source&quot;.","title":"Get current filename in JSP","body":"<p>The more convenient way is to use:  &lt;%= request.getRequestURI() %></p>\n\n<p>&lt;%= request.getRequestURI() %>\nFor example, in all of my jsp files, I always do put this line:</p>\n\n<p>Rendering JSP File: '&lt;%= request.getRequestURI() %>'</p>\n\n<p>This puts a comented html line in to the rendered html.  This way one cannot see it in the browser, but for debugging purposes, I can always see it inf I do \"View source\".</p>\n"},{"tags":[],"owner":{"account_id":2905239,"reputation":21,"user_id":2490822,"display_name":"gwallet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409131748,"creation_date":1409131748,"answer_id":25523533,"question_id":863248,"body_markdown":"I succeeded using JSTL as following :\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    ...\r\n    &lt;!-- &lt;c:out value=&quot;${pageScope[&#39;javax.servlet.jsp.jspPage&#39;]}&quot;&gt;&lt;/c:out&gt; --&gt;\r\n    ...\r\n\r\nAnd now, you should see as an HTML comment the name of the servlet produced by the container to render your JSP file, which name is very close to the JSP source file.","title":"Get current filename in JSP","body":"<p>I succeeded using JSTL as following :</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n...\n&lt;!-- &lt;c:out value=\"${pageScope['javax.servlet.jsp.jspPage']}\"&gt;&lt;/c:out&gt; --&gt;\n...\n</code></pre>\n\n<p>And now, you should see as an HTML comment the name of the servlet produced by the container to render your JSP file, which name is very close to the JSP source file.</p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1468537133,"creation_date":1468537133,"answer_id":38385509,"question_id":863248,"body_markdown":"This is a simple copy-paste solution:\r\n\r\n    &lt;%=this.getClass().getSimpleName().replaceFirst(&quot;_jsp&quot;,&quot;&quot;)%&gt;","title":"Get current filename in JSP","body":"<p>This is a simple copy-paste solution:</p>\n\n<pre><code>&lt;%=this.getClass().getSimpleName().replaceFirst(\"_jsp\",\"\")%&gt;\n</code></pre>\n"}],"owner":{"account_id":33088,"reputation":1961,"user_id":92326,"accept_rate":100,"display_name":"elzapp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18900,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":863302,"answer_count":4,"score":20,"last_activity_date":1697540051,"creation_date":1242306640,"question_id":863248,"body_markdown":"Is there a way to get which JSP is currently rendered, with JSTL or Struts (or without)? like _ _ file _ _ in Python and PHP?","title":"Get current filename in JSP","body":"<p>Is there a way to get which JSP is currently rendered, with JSTL or Struts (or without)? like _ _ file _ _ in Python and PHP?</p>\n"},{"tags":["java","pdf","apache-poi","docx","docx4j"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1697523088,"post_id":77305931,"comment_id":136286865,"body_markdown":"So, the problem could be in the way DOCX is written on the disk converting from XML. If that DOCX is opened and saved as-is, then DOCX to PDF works. That means, the problem is in the DOCX generation. Why is `converterXmlToDocx()` using `pkg.save()` twice? Can&#39;t you do it with just once. Maybe just write it in `ByteArrayOutputStream` and then use that itself to write it to the disk. Not do `pkg.save()` again. Maybe `save` internally sets something in the first `save` call, which prevents it from writing the file on the disk when you call it the second time?","body":"So, the problem could be in the way DOCX is written on the disk converting from XML. If that DOCX is opened and saved as-is, then DOCX to PDF works. That means, the problem is in the DOCX generation. Why is <code>converterXmlToDocx()</code> using <code>pkg.save()</code> twice? Can&#39;t you do it with just once. Maybe just write it in <code>ByteArrayOutputStream</code> and then use that itself to write it to the disk. Not do <code>pkg.save()</code> again. Maybe <code>save</code> internally sets something in the first <code>save</code> call, which prevents it from writing the file on the disk when you call it the second time?"},{"owner":{"account_id":29688043,"reputation":1,"user_id":22753051,"display_name":"Bruno RB"},"score":0,"creation_date":1697546518,"post_id":77305931,"comment_id":136291192,"body_markdown":"Thank you for the input. I wish i could find a way to understand what differs from the generated file to the same generated file after being opened and saved as-is.  I&#39;m using 2 pkg.save cause the second save is part of commented code, to be used only for testing, in &quot;production&quot; im using only the stream to convert to pdf, and having the same result as converting the local file","body":"Thank you for the input. I wish i could find a way to understand what differs from the generated file to the same generated file after being opened and saved as-is.  I&#39;m using 2 pkg.save cause the second save is part of commented code, to be used only for testing, in &quot;production&quot; im using only the stream to convert to pdf, and having the same result as converting the local file"},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1697658169,"post_id":77305931,"comment_id":136309041,"body_markdown":"What is calling converterXmlToDocx and convertLOCAL?  Is the input to converterXmlToDocx FlatOPC XML?  You can compare the document.xml portions of before and after.","body":"What is calling converterXmlToDocx and convertLOCAL?  Is the input to converterXmlToDocx FlatOPC XML?  You can compare the document.xml portions of before and after."}],"owner":{"account_id":29688043,"reputation":1,"user_id":22753051,"display_name":"Bruno RB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697539214,"creation_date":1697510922,"question_id":77305931,"body_markdown":"The code provided bellow kinda works, the problemn i&#39;m trying to solve is that i&#39;m already able to save my docx localy. When im trying to covert it to pdf, i get blank pages or pages with only the docx header. But when i open the file manualy with Libre office or free office and save it without doing any alteration, and run the conversion again, the file converts perfectly just how i needed it. Anyone know why this happens and how could i replicate that behavior without having to actually opeing and saving the file, since i need to do all this processes programaticaly?\r\n\r\n\r\nIm trying to covert a DOCX to PDF using:\r\n\r\n```xml\r\n&lt;dependency&gt;      \r\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;           \r\n    &lt;artifactId&gt;org.apache.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.6&lt;/version&gt;  \r\n&lt;/dependency&gt;\r\n```\r\n\r\nSo far my code is:\r\n\r\n```java\r\npublic byte[] converterXmlToDocx(Long idModeloDocumento) throws Docx4JException {\r\n\ttry {\r\n\t\tbyte[] gzipXml = buscarModeloDocumento(idModeloDocumento);\r\n\t\tbyte[] xmlData = descompactarGzip(gzipXml);\r\n\r\n\t\tWordprocessingMLPackage pkg = WordprocessingMLPackage.load(new    ByteArrayInputStream(xmlData));\r\n\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\t\tpkg.save(outputStream);\r\n\r\n\t\t//saves file localy\r\n\t\tString outputFilePath = &quot;src/main/resources/test1.docx&quot;;\r\n\t\tFile outputDocxFile = new File(outputFilePath);\r\n\t\tpkg.save(outputDocxFile);\r\n\r\n\t\treturn outputStream.toByteArray();\r\n\t} catch (Docx4JException | IOException e) {\r\n\t\te.printStackTrace();\r\n\t\tthrow new Docx4JException(&quot;Erro converting xml to docx&quot;, e);\r\n\t}\r\n}\r\n\r\n\r\npublic void convertLOCAL(String docxFilePath, String pdfFilePath) {\r\n\ttry {\r\n\t\tFileInputStream docxFile = new FileInputStream(docxFilePath);\r\n\t\tXWPFDocument document = new XWPFDocument(docxFile);\r\n\r\n\t\tFileOutputStream pdfFile = new FileOutputStream(pdfFilePath);\r\n\t\tPdfOptions options = PdfOptions.create();\r\n\t\tPdfConverter.getInstance().convert(document, pdfFile, options);\r\n\r\n\t\tdocxFile.close();\r\n\t\tpdfFile.close();\r\n\r\n\t\tSystem.out.println(&quot;Sucess&quot;);\r\n\t} catch (IOException ex) {\r\n\t\tSystem.out.println(ex.getMessage());\r\n\t\tthrow new RuntimeException(&quot;Conversion Error&quot;, ex);\r\n\t}\r\n}\r\n```\r\nWhat i do above is generating the docx file with the first method them converting it using the second method in my controller, passing input docx path and output pdf path.\r\n\r\n\r\n","title":"DOCX to PDF works after saving file only [JAVA]","body":"<p>The code provided bellow kinda works, the problemn i'm trying to solve is that i'm already able to save my docx localy. When im trying to covert it to pdf, i get blank pages or pages with only the docx header. But when i open the file manualy with Libre office or free office and save it without doing any alteration, and run the conversion again, the file converts perfectly just how i needed it. Anyone know why this happens and how could i replicate that behavior without having to actually opeing and saving the file, since i need to do all this processes programaticaly?</p>\n<p>Im trying to covert a DOCX to PDF using:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;      \n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;           \n    &lt;artifactId&gt;org.apache.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n    &lt;version&gt;1.0.6&lt;/version&gt;  \n&lt;/dependency&gt;\n</code></pre>\n<p>So far my code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public byte[] converterXmlToDocx(Long idModeloDocumento) throws Docx4JException {\n    try {\n        byte[] gzipXml = buscarModeloDocumento(idModeloDocumento);\n        byte[] xmlData = descompactarGzip(gzipXml);\n\n        WordprocessingMLPackage pkg = WordprocessingMLPackage.load(new    ByteArrayInputStream(xmlData));\n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        pkg.save(outputStream);\n\n        //saves file localy\n        String outputFilePath = &quot;src/main/resources/test1.docx&quot;;\n        File outputDocxFile = new File(outputFilePath);\n        pkg.save(outputDocxFile);\n\n        return outputStream.toByteArray();\n    } catch (Docx4JException | IOException e) {\n        e.printStackTrace();\n        throw new Docx4JException(&quot;Erro converting xml to docx&quot;, e);\n    }\n}\n\n\npublic void convertLOCAL(String docxFilePath, String pdfFilePath) {\n    try {\n        FileInputStream docxFile = new FileInputStream(docxFilePath);\n        XWPFDocument document = new XWPFDocument(docxFile);\n\n        FileOutputStream pdfFile = new FileOutputStream(pdfFilePath);\n        PdfOptions options = PdfOptions.create();\n        PdfConverter.getInstance().convert(document, pdfFile, options);\n\n        docxFile.close();\n        pdfFile.close();\n\n        System.out.println(&quot;Sucess&quot;);\n    } catch (IOException ex) {\n        System.out.println(ex.getMessage());\n        throw new RuntimeException(&quot;Conversion Error&quot;, ex);\n    }\n}\n</code></pre>\n<p>What i do above is generating the docx file with the first method them converting it using the second method in my controller, passing input docx path and output pdf path.</p>\n"},{"tags":["python","java","python-3.x","artificial-intelligence","jython-2.7"],"owner":{"account_id":24036024,"reputation":1,"user_id":18016301,"display_name":"varsha b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697538832,"creation_date":1697538832,"question_id":77308263,"body_markdown":"I am trying to embed python code into java wrapper for this i am using jython library .In python script i have libraries like llamaindex and langchain while executing script with java getting error llama_index module not found. Is there a way to add external libraries into jython. \r\n\r\nI tried below script but it getting error with resource warning\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Properties properties = System.getProperties();\r\n            properties.put(&quot;python.path&quot; , &quot;path of library&quot;);\r\n            PythonInterpreter.initialize(System.getProperties() , properties , new String[0]);\r\n            PythonInterpreter pythonInterpreter = new PythonInterpreter();\r\n            pythonInterpreter.execfile(&quot;pythonscript.py&quot;);\r\n        }\r\n    }","title":"While trying to embed python code into java wrapper getting no module found error for llama_index","body":"<p>I am trying to embed python code into java wrapper for this i am using jython library .In python script i have libraries like llamaindex and langchain while executing script with java getting error llama_index module not found. Is there a way to add external libraries into jython.</p>\n<p>I tried below script but it getting error with resource warning</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Properties properties = System.getProperties();\n        properties.put(&quot;python.path&quot; , &quot;path of library&quot;);\n        PythonInterpreter.initialize(System.getProperties() , properties , new String[0]);\n        PythonInterpreter pythonInterpreter = new PythonInterpreter();\n        pythonInterpreter.execfile(&quot;pythonscript.py&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","hibernate"],"comments":[{"owner":{"account_id":1197265,"reputation":1088,"user_id":1168703,"display_name":"Pras"},"score":0,"creation_date":1462987128,"post_id":37168868,"comment_id":61873541,"body_markdown":"you are updating with the same value ? .. lol .. i think a copy/paste problem in your question ;-)","body":"you are updating with the same value ? .. lol .. i think a copy/paste problem in your question ;-)"}],"answers":[{"tags":[],"owner":{"account_id":8423454,"reputation":11,"user_id":6321544,"display_name":"Mohamed ELMARABET"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462986659,"creation_date":1462986659,"answer_id":37169192,"question_id":37168868,"body_markdown":"I think you should use : @Temporal(TemporalType.TIMESTAMP) ","title":"Updating time using @Temporal(TemporalType.DATE)","body":"<p>I think you should use : @Temporal(TemporalType.TIMESTAMP) </p>\n"},{"tags":[],"owner":{"account_id":1863959,"reputation":1108,"user_id":1687935,"accept_rate":55,"display_name":"Rentius2407"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1463046030,"creation_date":1463046030,"answer_id":37183054,"question_id":37168868,"body_markdown":"There are 3 values for `@Temporal`\r\n\r\n    TemporalType.DATE\r\nOnly year, month and day. No hour, minute and second\r\n\r\n    TemporalType.TIME \r\n\r\nOny hour, minute and second. No year, month and day\r\n\r\n    TemporalType.TIMESTAMP\r\nHave everything. Year, month, day, hour, minute and second\r\n","title":"Updating time using @Temporal(TemporalType.DATE)","body":"<p>There are 3 values for <code>@Temporal</code></p>\n\n<pre><code>TemporalType.DATE\n</code></pre>\n\n<p>Only year, month and day. No hour, minute and second</p>\n\n<pre><code>TemporalType.TIME \n</code></pre>\n\n<p>Ony hour, minute and second. No year, month and day</p>\n\n<pre><code>TemporalType.TIMESTAMP\n</code></pre>\n\n<p>Have everything. Year, month, day, hour, minute and second</p>\n"},{"tags":[],"owner":{"account_id":22627567,"reputation":1,"user_id":16805448,"display_name":"juan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697538559,"creation_date":1697538215,"answer_id":77308195,"question_id":37168868,"body_markdown":"    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date date;\r\n\r\nyou can new with obj.setDate(new Date());\r\n\r\nthis will have both dates and time. \r\n\r\n    @Temporal(TemporalType.TIME) // for only time also\r\n\r\n\r\nAlso you might need to recreate your table. Sometimes JPA will not understand the difference","title":"Updating time using @Temporal(TemporalType.DATE)","body":"<pre><code>@Temporal(TemporalType.TIMESTAMP)\nprivate Date date;\n</code></pre>\n<p>you can new with obj.setDate(new Date());</p>\n<p>this will have both dates and time.</p>\n<pre><code>@Temporal(TemporalType.TIME) // for only time also\n</code></pre>\n<p>Also you might need to recreate your table. Sometimes JPA will not understand the difference</p>\n"}],"owner":{"account_id":4301027,"reputation":3755,"user_id":3514736,"accept_rate":42,"display_name":"Rahman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697538559,"creation_date":1462985629,"question_id":37168868,"body_markdown":"I have a question regarding `@Temporal(TemporalType.DATE)` .\r\nI have a entity class which is having property like :\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    \t@Column(name = &quot;LAST_MODIFIED_DATE&quot;, length = 7)\r\n    \tpublic Date getLastModifiedDate() {\r\n    \t\treturn this.lastModifiedDate;\r\n    \t}\r\nThe existing value of LAST_MODIFIED_DATE is \r\n\r\n&gt; 11/05/2016 22:11:31\r\n\r\nNow I am updating this with value of `11/05/2016 22:11:31`. But modified time is not getting reflected.\r\nI am calling the setter like this :\r\n\r\n    obj.setLastModifiedDate(new Date()) ;\r\n\r\nAny help will be appreciated. \r\n\r\n&gt; FYI, All other colums getting updated properly","title":"Updating time using @Temporal(TemporalType.DATE)","body":"<p>I have a question regarding <code>@Temporal(TemporalType.DATE)</code> .\nI have a entity class which is having property like :</p>\n\n<pre><code>@Temporal(TemporalType.DATE)\n    @Column(name = \"LAST_MODIFIED_DATE\", length = 7)\n    public Date getLastModifiedDate() {\n        return this.lastModifiedDate;\n    }\n</code></pre>\n\n<p>The existing value of LAST_MODIFIED_DATE is </p>\n\n<blockquote>\n  <p>11/05/2016 22:11:31</p>\n</blockquote>\n\n<p>Now I am updating this with value of <code>11/05/2016 22:11:31</code>. But modified time is not getting reflected.\nI am calling the setter like this :</p>\n\n<pre><code>obj.setLastModifiedDate(new Date()) ;\n</code></pre>\n\n<p>Any help will be appreciated. </p>\n\n<blockquote>\n  <p>FYI, All other colums getting updated properly</p>\n</blockquote>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":29647301,"reputation":1,"user_id":22722044,"display_name":"Mathan Kumar"},"score":0,"creation_date":1697538337,"post_id":77308200,"comment_id":136289610,"body_markdown":"&lt;uses-feature android:name=&quot;android.hardware.usb.accessory&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt; \n\npermissions added","body":"&lt;uses-feature android:name=&quot;android.hardware.usb.accessory&quot; /&gt;     &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;   permissions added"},{"owner":{"account_id":29690984,"reputation":1,"user_id":22755381,"display_name":"Gabriele Callegari"},"score":0,"creation_date":1697555418,"post_id":77308200,"comment_id":136293203,"body_markdown":"Do you have the drivers in the code?","body":"Do you have the drivers in the code?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697693274,"post_id":77308200,"comment_id":136312371,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77308200/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29690984,"reputation":1,"user_id":22755381,"display_name":"Gabriele Callegari"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697538231,"creation_date":1697538231,"answer_id":77308200,"question_id":77308178,"body_markdown":"Probably you need to add some permission to the manifest","title":"Android Direct Print to a USB Printer","body":"<p>Probably you need to add some permission to the manifest</p>\n"}],"owner":{"account_id":29647301,"reputation":1,"user_id":22722044,"display_name":"Mathan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697538231,"creation_date":1697538065,"question_id":77308178,"body_markdown":"Unable to direct print to a USB printer connected to an Android device\r\n\r\nI want to print to any USB-linked laser printers connected to Android via USB. I found this code, but it&#39;s not working either. I need mostly laser A4 and A3 printer support. \r\n```\r\npublic class MainActivity extends Activity {\r\n    PendingIntent mPermissionIntent;\r\n    Button btnCheck;\r\n    TextView textInfo;\r\n    UsbDevice device;\r\n    UsbManager manager;\r\n    private static final String ACTION_USB_PERMISSION = &quot;com.example.myapp.USB_PERMISSION&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btnCheck = (Button) findViewById(R.id.check);\r\n        textInfo = (TextView) findViewById(R.id.info);\r\n        btnCheck.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View arg0) {\r\n                textInfo.setText(&quot;&quot;);\r\n                checkInfo();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n    public void startPrinting(final UsbDevice printerDevice) {\r\n        new Handler().post(new Runnable() {\r\n            UsbDeviceConnection conn;\r\n            UsbInterface usbInterface;\r\n\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Log.e(&quot;Info&quot;, &quot;Bulk transfer started&quot;);\r\n                    usbInterface = printerDevice.getInterface(0);\r\n                    UsbEndpoint endPoint = usbInterface.getEndpoint(0);\r\n                    conn = manager.openDevice(device);\r\n                    conn.claimInterface(usbInterface, true);\r\n                    String myStringData = &quot;\\nThis \\nis \\nmy \\nsample \\ntext&quot;;\r\n                    byte[] array = myStringData.getBytes();\r\n                    ByteBuffer output_buffer = ByteBuffer\r\n                            .allocate(array.length);\r\n                    UsbRequest request = new UsbRequest();\r\n                    request.initialize(conn, endPoint);\r\n                    request.queue(output_buffer, array.length);\r\n                    if (conn.requestWait() == request) {\r\n                        Log.i(&quot;Info&quot;, output_buffer.getChar(0) + &quot;&quot;);\r\n                        Message m = new Message();\r\n                        m.obj = output_buffer.array();\r\n                        // handler.sendMessage(m);\r\n                        output_buffer.clear();\r\n                    } else {\r\n                        Log.e(&quot;Info&quot;, &quot;No request recieved&quot;);\r\n                    }\r\n                    // int transfered = conn.bulkTransfer(endPoint,\r\n                    // myStringData.getBytes(),\r\n                    // myStringData.getBytes().length, 5000);\r\n                    // Log.i(&quot;Info&quot;, &quot;Amount of data transferred : &quot; +\r\n                    // transfered);\r\n\r\n                } catch (Exception e) {\r\n                    Log.e(&quot;Exception&quot;, &quot;Unable to transfer bulk data&quot;);\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    try {\r\n                        conn.releaseInterface(usbInterface);\r\n                        Log.e(&quot;Info&quot;, &quot;Interface released&quot;);\r\n                        conn.close();\r\n                        Log.e(&quot;Info&quot;, &quot;Usb connection closed&quot;);\r\n                        unregisterReceiver(mUsbReceiver);\r\n                        Log.e(&quot;Info&quot;, &quot;Brodcast reciever unregistered&quot;);\r\n                    } catch (Exception e) {\r\n                        Log.e(&quot;Exception&quot;,\r\n                                &quot;Unable to release resources because : &quot;\r\n                                        + e.getMessage());\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void checkInfo() {\r\n        manager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n        mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(\r\n                ACTION_USB_PERMISSION), 0);\r\n        IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n        registerReceiver(mUsbReceiver, filter);\r\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\r\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\r\n        while (deviceIterator.hasNext()) {\r\n            device = deviceIterator.next();\r\n            manager.requestPermission(device, mPermissionIntent);\r\n         \r\n        }       \r\n        startPrinting(device);       \r\n\r\n    }\r\n\r\n    private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\r\n\r\n        public void onReceive(Context context, Intent intent) {\r\n            String action = intent.getAction();\r\n            if (ACTION_USB_PERMISSION.equals(action)) {\r\n                synchronized (this) {\r\n                    UsbDevice device = (UsbDevice) intent\r\n                            .getParcelableExtra(UsbManager.EXTRA_DEVICE);\r\n                    if (intent.getBooleanExtra(\r\n                            UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                        if (device != null) {\r\n                            // call method to set up device communication\r\n                        }\r\n                    } else {\r\n                        Log.d(&quot;ERROR&quot;, &quot;permission denied for device &quot; + device);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nIs there any library or code available to accomplish the requirement?\r\n","title":"Android Direct Print to a USB Printer","body":"<p>Unable to direct print to a USB printer connected to an Android device</p>\n<p>I want to print to any USB-linked laser printers connected to Android via USB. I found this code, but it's not working either. I need mostly laser A4 and A3 printer support.</p>\n<pre><code>public class MainActivity extends Activity {\n    PendingIntent mPermissionIntent;\n    Button btnCheck;\n    TextView textInfo;\n    UsbDevice device;\n    UsbManager manager;\n    private static final String ACTION_USB_PERMISSION = &quot;com.example.myapp.USB_PERMISSION&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btnCheck = (Button) findViewById(R.id.check);\n        textInfo = (TextView) findViewById(R.id.info);\n        btnCheck.setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View arg0) {\n                textInfo.setText(&quot;&quot;);\n                checkInfo();\n            }\n        });\n\n    }\n\n\n    public void startPrinting(final UsbDevice printerDevice) {\n        new Handler().post(new Runnable() {\n            UsbDeviceConnection conn;\n            UsbInterface usbInterface;\n\n            @Override\n            public void run() {\n                try {\n                    Log.e(&quot;Info&quot;, &quot;Bulk transfer started&quot;);\n                    usbInterface = printerDevice.getInterface(0);\n                    UsbEndpoint endPoint = usbInterface.getEndpoint(0);\n                    conn = manager.openDevice(device);\n                    conn.claimInterface(usbInterface, true);\n                    String myStringData = &quot;\\nThis \\nis \\nmy \\nsample \\ntext&quot;;\n                    byte[] array = myStringData.getBytes();\n                    ByteBuffer output_buffer = ByteBuffer\n                            .allocate(array.length);\n                    UsbRequest request = new UsbRequest();\n                    request.initialize(conn, endPoint);\n                    request.queue(output_buffer, array.length);\n                    if (conn.requestWait() == request) {\n                        Log.i(&quot;Info&quot;, output_buffer.getChar(0) + &quot;&quot;);\n                        Message m = new Message();\n                        m.obj = output_buffer.array();\n                        // handler.sendMessage(m);\n                        output_buffer.clear();\n                    } else {\n                        Log.e(&quot;Info&quot;, &quot;No request recieved&quot;);\n                    }\n                    // int transfered = conn.bulkTransfer(endPoint,\n                    // myStringData.getBytes(),\n                    // myStringData.getBytes().length, 5000);\n                    // Log.i(&quot;Info&quot;, &quot;Amount of data transferred : &quot; +\n                    // transfered);\n\n                } catch (Exception e) {\n                    Log.e(&quot;Exception&quot;, &quot;Unable to transfer bulk data&quot;);\n                    e.printStackTrace();\n                } finally {\n                    try {\n                        conn.releaseInterface(usbInterface);\n                        Log.e(&quot;Info&quot;, &quot;Interface released&quot;);\n                        conn.close();\n                        Log.e(&quot;Info&quot;, &quot;Usb connection closed&quot;);\n                        unregisterReceiver(mUsbReceiver);\n                        Log.e(&quot;Info&quot;, &quot;Brodcast reciever unregistered&quot;);\n                    } catch (Exception e) {\n                        Log.e(&quot;Exception&quot;,\n                                &quot;Unable to release resources because : &quot;\n                                        + e.getMessage());\n                        e.printStackTrace();\n                    }\n                }\n\n            }\n        });\n    }\n\n    private void checkInfo() {\n        manager = (UsbManager) getSystemService(Context.USB_SERVICE);\n        mPermissionIntent = PendingIntent.getBroadcast(this, 0, new Intent(\n                ACTION_USB_PERMISSION), 0);\n        IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n        registerReceiver(mUsbReceiver, filter);\n        HashMap&lt;String, UsbDevice&gt; deviceList = manager.getDeviceList();\n        Iterator&lt;UsbDevice&gt; deviceIterator = deviceList.values().iterator();\n        while (deviceIterator.hasNext()) {\n            device = deviceIterator.next();\n            manager.requestPermission(device, mPermissionIntent);\n         \n        }       \n        startPrinting(device);       \n\n    }\n\n    private final BroadcastReceiver mUsbReceiver = new BroadcastReceiver() {\n\n        public void onReceive(Context context, Intent intent) {\n            String action = intent.getAction();\n            if (ACTION_USB_PERMISSION.equals(action)) {\n                synchronized (this) {\n                    UsbDevice device = (UsbDevice) intent\n                            .getParcelableExtra(UsbManager.EXTRA_DEVICE);\n                    if (intent.getBooleanExtra(\n                            UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                        if (device != null) {\n                            // call method to set up device communication\n                        }\n                    } else {\n                        Log.d(&quot;ERROR&quot;, &quot;permission denied for device &quot; + device);\n                    }\n                }\n            }\n        }\n    };\n}\n</code></pre>\n<p>Is there any library or code available to accomplish the requirement?</p>\n"},{"tags":["java","xml","spring-boot","xml-parsing"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1554333855,"post_id":55505532,"comment_id":97717213,"body_markdown":"Perhaps Jackson&#39;s XML plugin?","body":"Perhaps Jackson&#39;s XML plugin?"}],"answers":[{"tags":[],"owner":{"account_id":15487418,"reputation":1884,"user_id":11173046,"display_name":"Not a JD"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1612756162,"creation_date":1554341319,"answer_id":55506577,"question_id":55505532,"body_markdown":"@chrylis suggested this - I happen to have a similar solution lying around that&#39;s easy to copy/paste into a working example.\r\n\r\nIf your XML looks like this:\r\n\r\n    &lt;countries&gt;\r\n    \t&lt;country name=&quot;England&quot; region=&quot;Europe&quot;\r\n    \t\tsubregion=&quot;Western Europe&quot; countryCode=&quot;eng&quot; /&gt;\r\n    \t&lt;country name=&quot;Scotland&quot; region=&quot;Europe&quot;\r\n    \t\tsubregion=&quot;West Europe&quot; countryCode=&quot;sco&quot; /&gt;\r\n    &lt;/countries&gt;\r\n\r\nAnd you have a `Country` type thus:\r\n\r\n    public class Country {\r\n        private String name;\r\n        private String region;\r\n        private String subregion;\r\n        private String countryCode;\r\n    \r\n        // getters and setters\r\n    }\r\n\r\nThen add the following dependency to your project:\r\n\r\n - `com.fasterxml.jackson.dataformat:jackson-dataformat-xml`\r\n\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n\r\nAnd this code:\r\n\r\n    public class JacksonXml {\r\n        public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\r\n            InputStream is = JacksonXml.class.getResourceAsStream(&quot;/countries.xml&quot;);\r\n    \r\n            XmlMapper xmlMapper = new XmlMapper();\r\n    \r\n            List&lt;Country&gt; countries = xmlMapper.readValue(is, new TypeReference&lt;List&lt;Country&gt;&gt;() {\r\n            });\r\n    \r\n            Map&lt;String, Country&gt; nameToCountry = countries.stream()\r\n                                                          .collect(Collectors.toMap(Country::getName, Function.identity()));\r\n    \r\n            System.out.println(nameToCountry.get(&quot;England&quot;)\r\n                                            .getRegion());\r\n        }\r\n    \r\n    }\r\n\r\nWill yield:\r\n\r\n    Europe","title":"Proper way to load properties from XML in Java Spring Boot","body":"<p>@chrylis suggested this - I happen to have a similar solution lying around that's easy to copy/paste into a working example.</p>\n<p>If your XML looks like this:</p>\n<pre><code>&lt;countries&gt;\n    &lt;country name=&quot;England&quot; region=&quot;Europe&quot;\n        subregion=&quot;Western Europe&quot; countryCode=&quot;eng&quot; /&gt;\n    &lt;country name=&quot;Scotland&quot; region=&quot;Europe&quot;\n        subregion=&quot;West Europe&quot; countryCode=&quot;sco&quot; /&gt;\n&lt;/countries&gt;\n</code></pre>\n<p>And you have a <code>Country</code> type thus:</p>\n<pre><code>public class Country {\n    private String name;\n    private String region;\n    private String subregion;\n    private String countryCode;\n\n    // getters and setters\n}\n</code></pre>\n<p>Then add the following dependency to your project:</p>\n<ul>\n<li><p><code>com.fasterxml.jackson.dataformat:jackson-dataformat-xml</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ul>\n<p>And this code:</p>\n<pre><code>public class JacksonXml {\n    public static void main(String[] args) throws JsonParseException, JsonMappingException, IOException {\n        InputStream is = JacksonXml.class.getResourceAsStream(&quot;/countries.xml&quot;);\n\n        XmlMapper xmlMapper = new XmlMapper();\n\n        List&lt;Country&gt; countries = xmlMapper.readValue(is, new TypeReference&lt;List&lt;Country&gt;&gt;() {\n        });\n\n        Map&lt;String, Country&gt; nameToCountry = countries.stream()\n                                                      .collect(Collectors.toMap(Country::getName, Function.identity()));\n\n        System.out.println(nameToCountry.get(&quot;England&quot;)\n                                        .getRegion());\n    }\n\n}\n</code></pre>\n<p>Will yield:</p>\n<pre><code>Europe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15404532,"reputation":1,"user_id":11112997,"display_name":"Gaurav Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697537947,"creation_date":1697537947,"answer_id":77308164,"question_id":55505532,"body_markdown":"I have resource file resources/email-templates.xml; I am accessing my file using below class,\r\n\r\n    package com.test.package.config;\r\n\r\n    import ch.qos.logback.classic.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.ResourceLoader;\r\n\r\n    import java.util.Properties;\r\n\r\n    @Configuration\r\n    public class EmailTemplatesConfig {\r\n\r\n        protected Logger logger = (Logger) LoggerFactory.getLogger(EmailTemplatesConfig.class);\r\n\r\n        @Autowired\r\n        ResourceLoader resourceLoader;\r\n\r\n        @Bean(name = &quot;email-templates&quot;)\r\n        public Properties emailTemplates() {\r\n            Properties properties = new Properties();\r\n            try {\r\n                logger.info(&quot;Loading email templates...&quot;);\r\n                Resource resource = resourceLoader.getResource(&quot;classpath:email-templates.xml&quot;);\r\n                properties.load(resource.getInputStream());\r\n\r\n                logger.info(&quot;Loaded email templates: &quot; + properties);\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error loading email templates&quot;, e);\r\n                throw new IllegalStateException(e);\r\n            }\r\n            return properties;\r\n        }\r\n    }","title":"Proper way to load properties from XML in Java Spring Boot","body":"<p>I have resource file resources/email-templates.xml; I am accessing my file using below class,</p>\n<pre><code>package com.test.package.config;\n\nimport ch.qos.logback.classic.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\n\nimport java.util.Properties;\n\n@Configuration\npublic class EmailTemplatesConfig {\n\n    protected Logger logger = (Logger) LoggerFactory.getLogger(EmailTemplatesConfig.class);\n\n    @Autowired\n    ResourceLoader resourceLoader;\n\n    @Bean(name = &quot;email-templates&quot;)\n    public Properties emailTemplates() {\n        Properties properties = new Properties();\n        try {\n            logger.info(&quot;Loading email templates...&quot;);\n            Resource resource = resourceLoader.getResource(&quot;classpath:email-templates.xml&quot;);\n            properties.load(resource.getInputStream());\n\n            logger.info(&quot;Loaded email templates: &quot; + properties);\n        } catch (Exception e) {\n            logger.error(&quot;Error loading email templates&quot;, e);\n            throw new IllegalStateException(e);\n        }\n        return properties;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12637832,"reputation":909,"user_id":9186426,"display_name":"Andyally"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12671,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55506577,"answer_count":2,"score":3,"last_activity_date":1697537947,"creation_date":1554332469,"question_id":55505532,"body_markdown":"I have XML file with Countries stored in it. Each country element has attributes like region, subregion, country-code and more. I have service which should parse XML and get region depending on country name provided. Is there any way to load and use data from xml into memory so I don&#39;t need to parse XML everytime I want to get region for country? I don&#39;t want to use enums, because I want to have updatable xml list which is parsed only once on application startup or first time my service is used. So after XML update, server restart would be enough without any need to rebuild application to update enum. How can this be achieved ?","title":"Proper way to load properties from XML in Java Spring Boot","body":"<p>I have XML file with Countries stored in it. Each country element has attributes like region, subregion, country-code and more. I have service which should parse XML and get region depending on country name provided. Is there any way to load and use data from xml into memory so I don't need to parse XML everytime I want to get region for country? I don't want to use enums, because I want to have updatable xml list which is parsed only once on application startup or first time my service is used. So after XML update, server restart would be enough without any need to rebuild application to update enum. How can this be achieved ?</p>\n"},{"tags":["java","android","kotlin","android-studio","gradle"],"answers":[{"tags":[],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697537642,"creation_date":1697537642,"answer_id":77308125,"question_id":77308124,"body_markdown":"After trying different things, I checked Android Studio Settings.\r\nAfter changing Gradle JDK to `corretto-19` my problem is solved.\r\n\r\nSettings -&gt; (Build, Execution, Deployment) -&gt; (Build Tools) -&gt; Gradle\r\nGo to under Gradle JDK, choose `corretto-19`. Restart and build again","title":"org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39;","body":"<p>After trying different things, I checked Android Studio Settings.\nAfter changing Gradle JDK to <code>corretto-19</code> my problem is solved.</p>\n<p>Settings -&gt; (Build, Execution, Deployment) -&gt; (Build Tools) -&gt; Gradle\nGo to under Gradle JDK, choose <code>corretto-19</code>. Restart and build again</p>\n"}],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77308125,"answer_count":1,"score":0,"last_activity_date":1697537642,"creation_date":1697537642,"question_id":77308124,"body_markdown":"I have one Android project, which is giving this error on build:\r\nI am getting this error:\r\n\r\n&gt;Caused by: org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39; task (current &gt;target is 19) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 17) jvm target &gt;compatibility should be set to the same Java version.\r\n\r\nbuild.gradle file \r\n\r\n```\r\n\r\n android {\r\n    namespace &#39;com.something&#39;\r\n    compileSdk 34\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.something&quot;\r\n        minSdk 21\r\n        targetSdk 34\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        multiDexEnabled true\r\n        vectorDrawables.useSupportLibrary = true\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n      // some configurations\r\n\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_19\r\n        targetCompatibility JavaVersion.VERSION_19\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;19&#39;\r\n    }\r\n    buildFeatures {\r\n        buildConfig = true\r\n        compose = true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.4.7&#39;\r\n    }\r\n}\r\n\r\n\r\ndependencies {\r\n\r\n   // some dependencies\r\n\r\n}\r\n```\r\nAs this is old project I cannot change gradle file properties, do I need to check any Android studio setting to remove this error?","title":"org.gradle.api.GradleException: &#39;compileDebugJavaWithJavac&#39;","body":"<p>I have one Android project, which is giving this error on build:\nI am getting this error:</p>\n<blockquote>\n<p>Caused by: org.gradle.api.GradleException: 'compileDebugJavaWithJavac' task (current &gt;target is 19) and 'kaptGenerateStubsDebugKotlin' task (current target is 17) jvm target &gt;compatibility should be set to the same Java version.</p>\n</blockquote>\n<p>build.gradle file</p>\n<pre><code>\n android {\n    namespace 'com.something'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId &quot;com.something&quot;\n        minSdk 21\n        targetSdk 34\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n        lintOptions {\n            checkReleaseBuilds false\n        }\n    }\n\n    buildTypes {\n      // some configurations\n\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_19\n        targetCompatibility JavaVersion.VERSION_19\n    }\n    kotlinOptions {\n        jvmTarget = '19'\n    }\n    buildFeatures {\n        buildConfig = true\n        compose = true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.4.7'\n    }\n}\n\n\ndependencies {\n\n   // some dependencies\n\n}\n</code></pre>\n<p>As this is old project I cannot change gradle file properties, do I need to check any Android studio setting to remove this error?</p>\n"},{"tags":["java","visual-studio-code","spring-tool-suite"],"answers":[{"comments":[{"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"score":0,"creation_date":1649896862,"post_id":71832636,"comment_id":126994060,"body_markdown":"Thanks Martin.. The issue got resolved after using JDK 17...","body":"Thanks Martin.. The issue got resolved after using JDK 17..."}],"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1649701809,"creation_date":1649701809,"answer_id":71832636,"question_id":71823294,"body_markdown":"The Spring Tools for VSCode require a JDK &gt;= 11 to run, so please let the configuration that you mentioned point to a JDK &gt;= 11.\r\n\r\nPlease note that this JDK is used to run parts of the Spring Tools and is independent of the JDK that you use to compile or run your projects on. You can continue to use a JDK 8 for that purpose.","title":"JDK error in VS code spring boot extension","body":"<p>The Spring Tools for VSCode require a JDK &gt;= 11 to run, so please let the configuration that you mentioned point to a JDK &gt;= 11.</p>\n<p>Please note that this JDK is used to run parts of the Spring Tools and is independent of the JDK that you use to compile or run your projects on. You can continue to use a JDK 8 for that purpose.</p>\n"},{"tags":[],"owner":{"account_id":2772487,"reputation":446,"user_id":3171172,"display_name":"PandaCheLion"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697537515,"creation_date":1697537515,"answer_id":77308108,"question_id":71823294,"body_markdown":"The fix is exactly what @martin-lippert stated. I would improve on his answer explicitly stating the property to be fixed. Which is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe value itself has to be modified in the setting.json file directly.\r\nThe property name is: `spring-boot.ls.java.home`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I8DpX.png","title":"JDK error in VS code spring boot extension","body":"<p>The fix is exactly what @martin-lippert stated. I would improve on his answer explicitly stating the property to be fixed. Which is:</p>\n<p><a href=\"https://i.stack.imgur.com/I8DpX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I8DpX.png\" alt=\"enter image description here\" /></a></p>\n<p>The value itself has to be modified in the setting.json file directly.\nThe property name is: <code>spring-boot.ls.java.home</code></p>\n"}],"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2374,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71832636,"answer_count":2,"score":2,"last_activity_date":1697537515,"creation_date":1649657130,"question_id":71823294,"body_markdown":"My vscode extension for spring boot is is not starting properly.\r\n\r\n\r\nWhen I set the configuration as : `&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311&quot;`,\r\nI am getting the below error from the extension.\r\n\r\n\r\n    Error trying to find JVM: Error: Command failed: C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe --list-modules\r\n    Unrecognized option: --list-modules\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nWhen I set the configuration as :\r\n    `&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311\\\\jre&quot;`,\r\nI am getting the below error from the extension.\r\n\r\n\r\n    Error trying to find JVM: Error: Command failed: C:\\Program Files\\Java\\jdk1.8.0_311\\jre\\bin\\java.exe --list-modules\r\n    Unrecognized option: --list-modules\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nHow to resolve this. I have no issues with personal laptop configuration. I am configuring in client environment.\r\n","title":"JDK error in VS code spring boot extension","body":"<p>My vscode extension for spring boot is is not starting properly.</p>\n<p>When I set the configuration as : <code>&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311&quot;</code>,\nI am getting the below error from the extension.</p>\n<pre><code>Error trying to find JVM: Error: Command failed: C:\\Program Files\\Java\\jdk1.8.0_311\\bin\\java.exe --list-modules\nUnrecognized option: --list-modules\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>When I set the configuration as :\n<code>&quot;spring-boot.ls.java.home&quot;: &quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_311\\\\jre&quot;</code>,\nI am getting the below error from the extension.</p>\n<pre><code>Error trying to find JVM: Error: Command failed: C:\\Program Files\\Java\\jdk1.8.0_311\\jre\\bin\\java.exe --list-modules\nUnrecognized option: --list-modules\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>How to resolve this. I have no issues with personal laptop configuration. I am configuring in client environment.</p>\n"},{"tags":["java","quarkus","smallrye","quarkus-extension"],"answers":[{"comments":[{"owner":{"account_id":3111613,"reputation":318,"user_id":2633244,"display_name":"shaped"},"score":0,"creation_date":1697568057,"post_id":77308106,"comment_id":136295365,"body_markdown":"Thanks. This sounds promising. Is there any documentation available how to register custom ˋ SmallRyeConfigBuilderCustomizerˋ? Do you have an idea when 3.5 will be released?","body":"Thanks. This sounds promising. Is there any documentation available how to register custom ˋ SmallRyeConfigBuilderCustomizerˋ? Do you have an idea when 3.5 will be released?"},{"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"score":0,"creation_date":1697575411,"post_id":77308106,"comment_id":136296471,"body_markdown":"For releases timelines check here: https://github.com/quarkusio/quarkus/wiki/Release-Planning. For documentation check here: https://smallrye.io/smallrye-config/Main/config/customizer/","body":"For releases timelines check here: <a href=\"https://github.com/quarkusio/quarkus/wiki/Release-Planning\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/wiki/Release-Planning</a>. For documentation check here: <a href=\"https://smallrye.io/smallrye-config/Main/config/customizer/\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-config/Main/config/customizer</a>"}],"tags":[],"owner":{"account_id":1954609,"reputation":903,"user_id":1757919,"display_name":"Roberto Cortez"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697537491,"creation_date":1697537491,"answer_id":77308106,"question_id":77300534,"body_markdown":"Yes, with the next Quarkus version (3.5.x), it is possible to register any number of `SmallRyeConfigBuilderCustomizer` to access the underlying Config builder and add additional mapping ignores for the custom prefix.\r\n\r\nAs a workaround, you can use `quarkus.config.mapping.validate-unknown=false` to disable the validation.","title":"Migrate from ConfigRoot to ConfigMapping in quarkus extensions with a custom config prefix","body":"<p>Yes, with the next Quarkus version (3.5.x), it is possible to register any number of <code>SmallRyeConfigBuilderCustomizer</code> to access the underlying Config builder and add additional mapping ignores for the custom prefix.</p>\n<p>As a workaround, you can use <code>quarkus.config.mapping.validate-unknown=false</code> to disable the validation.</p>\n"}],"owner":{"account_id":3111613,"reputation":318,"user_id":2633244,"display_name":"shaped"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77308106,"answer_count":1,"score":0,"last_activity_date":1697537491,"creation_date":1697445691,"question_id":77300534,"body_markdown":"**Problem**\r\n\r\nWe built our stack on top of quarkus and have several extensions with the `@ConfigRoot` class approach. We are now migrating to interfaces with `@ConfigMapping` as described in the Quarkus Extensions documentation.\r\n\r\nWe did all the configurations for our stack with a custom prefix (e.g. `mystack.`). We are now facing the problem that when using `@ConfigMapping` its not possible to use the same prefix for build and runtime configuration. \r\n\r\nHaving a shared prefix results in a config validation exception as the config loading mechanism validates that any configuration found can be mapped.\r\n\r\n```\r\nERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: io.smallrye.config.ConfigValidationException: Configuration validation failed:\r\n        mystack.configKey does not map to any root\r\n```\r\n\r\nThis is the intended behavior and is also described in the issue [Extension config for both build and run time with same prefix #32674](https://github.com/quarkusio/quarkus/issues/32674).\r\n\r\nHowever, as many quarkus extensions share a prefix for build and runtime i&#39;ve seen that sharing a configuration prefix is possible if it starts with `quarkus.` like `quarkus.mystack.` in our case. \r\n\r\n**Question**\r\n\r\nIs it possible to configure the config loading mechanism for the prefix `mystack.` with the same behavior as `quarkus.`?\r\n\r\n\r\nIf not - is splitting the runtime and buildtime config or moving to a prefix like `quarkus.mystack.` the only possible solution?\r\n\r\nIt seems like one of the key points for this behavior is the QuarkusConfigBuilderCustomizer ([source link](https://github.com/quarkusio/quarkus/blob/main/core/runtime/src/main/java/io/quarkus/runtime/configuration/QuarkusConfigBuilderCustomizer.java#L102))\r\n\r\n```\r\n// Ignore unmapped quarkus properties, because properties in the same root may be split between build / runtime\r\nbuilder.withMappingIgnore(&quot;quarkus.**&quot;);\r\n```\r\n\r\nIs there an easy way to add further prefixes to this list?","title":"Migrate from ConfigRoot to ConfigMapping in quarkus extensions with a custom config prefix","body":"<p><strong>Problem</strong></p>\n<p>We built our stack on top of quarkus and have several extensions with the <code>@ConfigRoot</code> class approach. We are now migrating to interfaces with <code>@ConfigMapping</code> as described in the Quarkus Extensions documentation.</p>\n<p>We did all the configurations for our stack with a custom prefix (e.g. <code>mystack.</code>). We are now facing the problem that when using <code>@ConfigMapping</code> its not possible to use the same prefix for build and runtime configuration.</p>\n<p>Having a shared prefix results in a config validation exception as the config loading mechanism validates that any configuration found can be mapped.</p>\n<pre><code>ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: io.smallrye.config.ConfigValidationException: Configuration validation failed:\n        mystack.configKey does not map to any root\n</code></pre>\n<p>This is the intended behavior and is also described in the issue <a href=\"https://github.com/quarkusio/quarkus/issues/32674\" rel=\"nofollow noreferrer\">Extension config for both build and run time with same prefix #32674</a>.</p>\n<p>However, as many quarkus extensions share a prefix for build and runtime i've seen that sharing a configuration prefix is possible if it starts with <code>quarkus.</code> like <code>quarkus.mystack.</code> in our case.</p>\n<p><strong>Question</strong></p>\n<p>Is it possible to configure the config loading mechanism for the prefix <code>mystack.</code> with the same behavior as <code>quarkus.</code>?</p>\n<p>If not - is splitting the runtime and buildtime config or moving to a prefix like <code>quarkus.mystack.</code> the only possible solution?</p>\n<p>It seems like one of the key points for this behavior is the QuarkusConfigBuilderCustomizer (<a href=\"https://github.com/quarkusio/quarkus/blob/main/core/runtime/src/main/java/io/quarkus/runtime/configuration/QuarkusConfigBuilderCustomizer.java#L102\" rel=\"nofollow noreferrer\">source link</a>)</p>\n<pre><code>// Ignore unmapped quarkus properties, because properties in the same root may be split between build / runtime\nbuilder.withMappingIgnore(&quot;quarkus.**&quot;);\n</code></pre>\n<p>Is there an easy way to add further prefixes to this list?</p>\n"},{"tags":["java","android","android-studio","google-play","keystore"],"comments":[{"owner":{"account_id":5376192,"reputation":9447,"user_id":4283005,"display_name":"dev.bmax"},"score":0,"creation_date":1697547668,"post_id":77308020,"comment_id":136291435,"body_markdown":"A good place to start is the docs: https://developer.android.com/studio/publish/app-signing","body":"A good place to start is the docs: <a href=\"https://developer.android.com/studio/publish/app-signing\" rel=\"nofollow noreferrer\">developer.android.com/studio/publish/app-signing</a>"}],"owner":{"account_id":26226893,"reputation":382,"user_id":19903457,"display_name":"Tribe56123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697537431,"creation_date":1697536884,"question_id":77308020,"body_markdown":"In Android app development, there are several terms and concepts that are related to managing the security and integrity of the apps, but they are very confusing to me.\r\n\r\n```\r\nkey store\r\n\r\npublic key\r\n\r\nprivate key\r\n\r\nupload key\r\n\r\nsigning key \r\n\r\napp signing key \r\n\r\nupload certificate\r\n\r\napp signing certificate\r\n```\r\n\r\nWhat are they and how they are related to each other?","title":"What is keystore, private key, upload key, signing key, app signing key, upload certificate, and app signing certificate in android?","body":"<p>In Android app development, there are several terms and concepts that are related to managing the security and integrity of the apps, but they are very confusing to me.</p>\n<pre><code>key store\n\npublic key\n\nprivate key\n\nupload key\n\nsigning key \n\napp signing key \n\nupload certificate\n\napp signing certificate\n</code></pre>\n<p>What are they and how they are related to each other?</p>\n"},{"tags":["java","testing","selenium","selenium-webdriver","webdriver"],"comments":[{"owner":{"account_id":3371794,"reputation":143488,"user_id":2830850,"display_name":"Tarun Lalwani"},"score":0,"creation_date":1615371185,"post_id":29554564,"comment_id":117667813,"body_markdown":"One possible way to handle this https://stackoverflow.com/questions/66560276/how-to-automate-this-downloading-prompt-using-python/66562544#66562544","body":"One possible way to handle this <a href=\"https://stackoverflow.com/questions/66560276/how-to-automate-this-downloading-prompt-using-python/66562544#66562544\" title=\"how to automate this downloading prompt using python\">stackoverflow.com/questions/66560276/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1428680019,"post_id":29555087,"comment_id":47280265,"body_markdown":"1) a) how can I remote webdriver to use specific chrome settings or profile?\n1) b) is it also for mac?\n\n2) will it just work without settings change if i just switch to FF?","body":"1) a) how can I remote webdriver to use specific chrome settings or profile? 1) b) is it also for mac?  2) will it just work without settings change if i just switch to FF?"},{"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"score":0,"creation_date":1428688044,"post_id":29555087,"comment_id":47284759,"body_markdown":"1) a - via ChromeOptions, how is it - depends on your framework. In java ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;user-data-dir=&quot;+userProfile);\nWebDriver driver = new ChromeDriver(options);  1) b - sure . 2) for ff it should be another option","body":"1) a - via ChromeOptions, how is it - depends on your framework. In java ChromeOptions options = new ChromeOptions(); options.addArguments(&quot;user-data-dir=&quot;+userProfile); WebDriver driver = new ChromeDriver(options);  1) b - sure . 2) for ff it should be another option"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1428744935,"post_id":29555087,"comment_id":47301028,"body_markdown":"is there a way to suppress it to all profiles? meaning by default no application will handle this protocol, unless specific profile configures explicitly?","body":"is there a way to suppress it to all profiles? meaning by default no application will handle this protocol, unless specific profile configures explicitly?"},{"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"score":0,"creation_date":1428745053,"post_id":29555087,"comment_id":47301061,"body_markdown":"As Iknow - there is no.","body":"As Iknow - there is no."},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1428745344,"post_id":29555087,"comment_id":47301144,"body_markdown":"can you please help me locate this file? I couldn&#39;t reach it\n&quot;Local State&quot; file in profile settings","body":"can you please help me locate this file? I couldn&#39;t reach it &quot;Local State&quot; file in profile settings"},{"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"score":0,"creation_date":1428767133,"post_id":29555087,"comment_id":47307895,"body_markdown":"~/Library/Application Support/Google/Chrome","body":"~/Library/Application Support/Google/Chrome"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1428772748,"post_id":29555087,"comment_id":47309888,"body_markdown":"Thanks, but where does it shows which chrome profile this relates to? or is it for all profiles?","body":"Thanks, but where does it shows which chrome profile this relates to? or is it for all profiles?"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":1,"creation_date":1428774537,"post_id":29555087,"comment_id":47310480,"body_markdown":"i added: `&quot;waze&quot;:false,&quot;mailto&quot;:false,` and yet the popup appears. The webdriver opens an anonymous chrome profile","body":"i added: <code>&quot;waze&quot;:false,&quot;mailto&quot;:false,</code> and yet the popup appears. The webdriver opens an anonymous chrome profile"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1428775674,"post_id":29555087,"comment_id":47310881,"body_markdown":"two things: (1) in Local stat i don&#39;t see it&#39;s related to any profile. is it for all profiles? (2) my webdriver uses anonymous chrome- so how can i affect this?","body":"two things: (1) in Local stat i don&#39;t see it&#39;s related to any profile. is it for all profiles? (2) my webdriver uses anonymous chrome- so how can i affect this?"},{"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"score":0,"creation_date":1428780396,"post_id":29555087,"comment_id":47312437,"body_markdown":"I have tried it and it works. Have you also tried 2nd variant?","body":"I have tried it and it works. Have you also tried 2nd variant?"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1428780837,"post_id":29555087,"comment_id":47312593,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/75026/discussion-between-user1065869-and-stanjer).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/75026/discussion-between-user1065869-and-stanjer\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1428652462,"creation_date":1428648485,"answer_id":29555087,"question_id":29554564,"body_markdown":"You have 2 possible options.\r\n\r\n1) Is running a chrome with a predefined profile, where you have disabled protocol handling manually (via interface or config file) (&quot;Local State&quot; file in profile settings, you should add &quot;waze&quot;: false in the appropriate section, you can search for &quot;mailto&quot; to know where is it).\r\n\r\n2) Another way is to put put the setting in your tests&#39; constructor before all your tests will start (I&#39;ll write an algo, because it depends on your framework and language):\r\n\r\n* navigate to &quot;chrome://settings&quot;\r\n* press link with css selector &quot;#advanced-settings-expander&quot;\r\n* press button with css selector &quot;#privacyContentSettingsButton&quot;\r\n* press label with the needed option using css selector &quot;#handlers-section input[value=block]&quot;\r\n* press done via css selector &quot;#content-settings-overlay-confirm&quot;","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>You have 2 possible options.</p>\n\n<p>1) Is running a chrome with a predefined profile, where you have disabled protocol handling manually (via interface or config file) (\"Local State\" file in profile settings, you should add \"waze\": false in the appropriate section, you can search for \"mailto\" to know where is it).</p>\n\n<p>2) Another way is to put put the setting in your tests' constructor before all your tests will start (I'll write an algo, because it depends on your framework and language):</p>\n\n<ul>\n<li>navigate to \"chrome://settings\"</li>\n<li>press link with css selector \"#advanced-settings-expander\"</li>\n<li>press button with css selector \"#privacyContentSettingsButton\"</li>\n<li>press label with the needed option using css selector \"#handlers-section input[value=block]\"</li>\n<li>press done via css selector \"#content-settings-overlay-confirm\"</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"score":0,"creation_date":1461392650,"post_id":36807364,"comment_id":61188261,"body_markdown":"First of all this needs editing. Second, it&#39;s clear the asker isn&#39;t on the windows environment.","body":"First of all this needs editing. Second, it&#39;s clear the asker isn&#39;t on the windows environment."}],"tags":[],"owner":{"account_id":8306871,"reputation":1,"user_id":6243550,"display_name":"s.linga raj"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461397451,"creation_date":1461392037,"answer_id":36807364,"question_id":29554564,"body_markdown":"By Using AutoIT(third party tool for windows envrionment).\r\n*)Install it(whether 64 bit or 32 bit OS)\r\n*) Using Finder tool(AutoIT v3 Window info), Identify the location for &quot;Do Nothing&quot; \r\n \r\n**Example: Location(700,430)**\r\n\r\n&gt; *)In AutoIT ScriptEditor add the below code MouseClick(&quot;left&quot;,&quot;700,430) and save it as .au3 file format.\r\n&gt; \r\n&gt; *)In your script add this code  Runtime.getRuntime().exec(&quot;D:\\\\AutoIt\\\\AutoItTest.exe&quot;);\r\n&gt; \r\n&gt; *)Run your script.\r\n\r\n\r\n\r\n","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>By Using AutoIT(third party tool for windows envrionment).\n*)Install it(whether 64 bit or 32 bit OS)\n*) Using Finder tool(AutoIT v3 Window info), Identify the location for \"Do Nothing\" </p>\n\n<p><strong>Example: Location(700,430)</strong></p>\n\n<blockquote>\n  <p>*)In AutoIT ScriptEditor add the below code MouseClick(\"left\",\"700,430) and save it as .au3 file format.</p>\n  \n  <p>*)In your script add this code  Runtime.getRuntime().exec(\"D:\\AutoIt\\AutoItTest.exe\");</p>\n  \n  <p>*)Run your script.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1731480,"reputation":4407,"user_id":1585006,"accept_rate":79,"display_name":"Eric B"},"score":0,"creation_date":1494003693,"post_id":41299296,"comment_id":74659714,"body_markdown":"way better answer","body":"way better answer"},{"owner":{"account_id":201176,"reputation":1104,"user_id":447454,"accept_rate":71,"display_name":"Arrya Regan"},"score":2,"creation_date":1537217522,"post_id":41299296,"comment_id":91695873,"body_markdown":"In the C# Driver you have to use `Options.AddUserProfilePreference(&quot;protocol_handler.excluded_schemes&quot;, new Dictionary&lt;string,bool&gt;{{&quot;ms-excel&quot;, false}});`","body":"In the C# Driver you have to use <code>Options.AddUserProfilePreference(&quot;protocol_handler.excluded_&zwnj;&#8203;schemes&quot;, new Dictionary&lt;string,bool&gt;{{&quot;ms-excel&quot;, false}});</code>"}],"tags":[],"owner":{"account_id":6347630,"reputation":750,"user_id":4927631,"display_name":"Amey Dahale"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1482487620,"creation_date":1482487620,"answer_id":41299296,"question_id":29554564,"body_markdown":"I am using chromedriver with selenium and python.\r\nI encountered same problem and following code worked for me-\r\n\r\n\r\n    driver.execute_script(&quot;window.confirm = function(msg) { return true; }&quot;)\r\n\r\n    prefs = {&quot;protocol_handler.excluded_schemes&quot;:{&quot;afp&quot;:True,&quot;data&quot;:True,&quot;disk&quot;:True,&quot;disks&quot;:True,&quot;file&quot;:True,&quot;hcp&quot;:True,&quot;intent&quot;:True, &quot;itms-appss&quot;:True, &quot;itms-apps&quot;:True,&quot;itms&quot;:True,&quot;market&quot;:True,&quot;javascript&quot;:True,&quot;mailto&quot;:True,&quot;ms-help&quot;:True,&quot;news&quot;:True,&quot;nntp&quot;:True,&quot;shell&quot;:True,&quot;sip&quot;:True,&quot;snews&quot;:False,&quot;vbscript&quot;:True,&quot;view-source&quot;:True,&quot;vnd&quot;:{&quot;ms&quot;:{&quot;radio&quot;:True}}}}    \r\n\r\n    chrome_options.add_experimental_option(&quot;prefs&quot;,prefs)\r\n\r\nLet&#39;s say you want to suppress protocol handler popup for links starting with &quot;sip://&quot;  &lt;br&gt;\r\nJust add an extra entry as `&quot;sip&quot;:True` in `&quot;protocol_handler.excluded_schemes&quot;`\r\n\r\n\r\n","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>I am using chromedriver with selenium and python.\nI encountered same problem and following code worked for me-</p>\n\n<pre><code>driver.execute_script(\"window.confirm = function(msg) { return true; }\")\n\nprefs = {\"protocol_handler.excluded_schemes\":{\"afp\":True,\"data\":True,\"disk\":True,\"disks\":True,\"file\":True,\"hcp\":True,\"intent\":True, \"itms-appss\":True, \"itms-apps\":True,\"itms\":True,\"market\":True,\"javascript\":True,\"mailto\":True,\"ms-help\":True,\"news\":True,\"nntp\":True,\"shell\":True,\"sip\":True,\"snews\":False,\"vbscript\":True,\"view-source\":True,\"vnd\":{\"ms\":{\"radio\":True}}}}    \n\nchrome_options.add_experimental_option(\"prefs\",prefs)\n</code></pre>\n\n<p>Let's say you want to suppress protocol handler popup for links starting with \"sip://\"  <br>\nJust add an extra entry as <code>\"sip\":True</code> in <code>\"protocol_handler.excluded_schemes\"</code></p>\n"},{"tags":[],"owner":{"account_id":3780009,"reputation":798,"user_id":3139779,"accept_rate":62,"display_name":"Pramod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697537309,"creation_date":1539076598,"answer_id":52717415,"question_id":29554564,"body_markdown":"For those who are looking for answer for Javascript-selenium or webdriverJS here is how you can do it.\r\n```\r\nchromeOptions = {\r\n        &#39;args&#39;: [&#39;--test-type&#39;,\r\n                 &#39;--start-maximized&#39;,\r\n                 &#39;use-fake-ui-for-media-stream&#39;,],\r\n        &#39;prefs&#39;: {\r\n            protocol_handler: {\r\n              excluded_schemes: {\r\n                &#39;iamlegend&#39;: false\r\n              }\r\n            }\r\n          },\r\n    };\r\n```\r\nreplace `&#39;iamlegend&#39;` with your protocol","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>For those who are looking for answer for Javascript-selenium or webdriverJS here is how you can do it.</p>\n<pre><code>chromeOptions = {\n        'args': ['--test-type',\n                 '--start-maximized',\n                 'use-fake-ui-for-media-stream',],\n        'prefs': {\n            protocol_handler: {\n              excluded_schemes: {\n                'iamlegend': false\n              }\n            }\n          },\n    };\n</code></pre>\n<p>replace <code>'iamlegend'</code> with your protocol</p>\n"},{"tags":[],"owner":{"account_id":5227630,"reputation":66,"user_id":4179165,"display_name":"Alex B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562960270,"creation_date":1562960270,"answer_id":57013141,"question_id":29554564,"body_markdown":"As for Firefox, the following C# code adds a protocol handler:\r\n\r\n    firefoxOptions.SetPreference(&quot;network.protocol-handler.external.your_custom_protocol&quot;, true);\r\n    firefoxOptions.SetPreference(&quot;network.protocol-handler.expose.your_custom_protocol&quot;, true);\r\n    firefoxOptions.SetPreference(&quot;network.protocol-handler.warn-external.your_custom_protocol&quot;, false);\r\n\r\nInternet Explorer stores protocol handlers in Registry (works only for local WebDriver):\r\n\r\n    var baseKey = @&quot;Software\\Microsoft\\Internet Explorer\\ProtocolExecute\\your_custom_protocol&quot;;\r\n    var protocolKey = Microsoft.Win32.Registry.CurrentUser.OpenSubKey(baseKey, true) ?? Microsoft.Win32.Registry.CurrentUser.CreateSubKey(baseKey);\r\n    \r\n    protocolKey?.SetValue(&quot;WarnOnOpen&quot;, 0, Microsoft.Win32.RegistryValueKind.DWord);","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>As for Firefox, the following C# code adds a protocol handler:</p>\n\n<pre><code>firefoxOptions.SetPreference(\"network.protocol-handler.external.your_custom_protocol\", true);\nfirefoxOptions.SetPreference(\"network.protocol-handler.expose.your_custom_protocol\", true);\nfirefoxOptions.SetPreference(\"network.protocol-handler.warn-external.your_custom_protocol\", false);\n</code></pre>\n\n<p>Internet Explorer stores protocol handlers in Registry (works only for local WebDriver):</p>\n\n<pre><code>var baseKey = @\"Software\\Microsoft\\Internet Explorer\\ProtocolExecute\\your_custom_protocol\";\nvar protocolKey = Microsoft.Win32.Registry.CurrentUser.OpenSubKey(baseKey, true) ?? Microsoft.Win32.Registry.CurrentUser.CreateSubKey(baseKey);\n\nprotocolKey?.SetValue(\"WarnOnOpen\", 0, Microsoft.Win32.RegistryValueKind.DWord);\n</code></pre>\n"}],"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6090,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29555087,"answer_count":5,"score":6,"last_activity_date":1697537309,"creation_date":1428646460,"question_id":29554564,"body_markdown":"I&#39;m running an automation on mac and on ubunto (using cucumber, selenium web driver, junit)\r\n\r\nduring the automation I click a link with non http protocol\r\n\r\nan &quot;External protocol request&quot; popup appears.\r\n\r\n![enter image description here][1]\r\n\r\nIt blocks my test from testing the rest of the webpage.\r\n\r\nHow can I bypass it easily?\r\n\r\nI have thought maybe to write a jar that does nothing and then register it to this external protocol, but it won&#39;t help as this popup will still appear.\r\n\r\nMaybe using another browser can help?\r\n\r\nAny other suggestions?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/aiqIR.png","title":"Bypass &quot;External protocol request&quot; popup during selenium automation","body":"<p>I'm running an automation on mac and on ubunto (using cucumber, selenium web driver, junit)</p>\n\n<p>during the automation I click a link with non http protocol</p>\n\n<p>an \"External protocol request\" popup appears.</p>\n\n<p><img src=\"https://i.stack.imgur.com/aiqIR.png\" alt=\"enter image description here\"></p>\n\n<p>It blocks my test from testing the rest of the webpage.</p>\n\n<p>How can I bypass it easily?</p>\n\n<p>I have thought maybe to write a jar that does nothing and then register it to this external protocol, but it won't help as this popup will still appear.</p>\n\n<p>Maybe using another browser can help?</p>\n\n<p>Any other suggestions?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1422956019,"post_id":28295504,"comment_id":44943465,"body_markdown":"what about `String` replace variants?","body":"what about <code>String</code> replace variants?"},{"owner":{"account_id":1441892,"reputation":13687,"user_id":1361787,"accept_rate":68,"display_name":"ChiefTwoPencils"},"score":2,"creation_date":1422956298,"post_id":28295504,"comment_id":44943640,"body_markdown":"When you say &quot;all&quot;, do you mean *all*?","body":"When you say &quot;all&quot;, do you mean <i>all</i>?"},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":0,"creation_date":1422957091,"post_id":28295504,"comment_id":44944119,"body_markdown":"yup, replace worked. :) Didn&#39;t thought of it earlier :| What is the difference between &quot;all&quot; &amp; _all_?","body":"yup, replace worked. :) Didn&#39;t thought of it earlier :| What is the difference between &quot;all&quot; &amp; <i>all</i>?"},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1498573711,"post_id":28295504,"comment_id":76546514,"body_markdown":"If the question is about removing _all_ no-break spaces inside a String then the question is wrong and the accepted answer is perfect.  If the question is about trimming no_break spaces then the accepted answer is wrong.","body":"If the question is about removing <i>all</i> no-break spaces inside a String then the question is wrong and the accepted answer is perfect.  If the question is about trimming no_break spaces then the accepted answer is wrong."},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":0,"creation_date":1498668052,"post_id":28295504,"comment_id":76596551,"body_markdown":"@ForguesR Can you please explain how is the question or the answer is wrong?","body":"@ForguesR Can you please explain how is the question or the answer is wrong?"}],"answers":[{"comments":[{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":1,"creation_date":1422956854,"post_id":28295597,"comment_id":44943978,"body_markdown":"It worked!! Thanks :) I assume, I need to handle all the whitespaces (http://en.wikipedia.org/wiki/Whitespace_character) explicitly &amp; one-by-one, right?","body":"It worked!! Thanks :) I assume, I need to handle all the whitespaces (<a href=\"http://en.wikipedia.org/wiki/Whitespace_character\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Whitespace_character</a>) explicitly &amp; one-by-one, right?"},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1422957033,"post_id":28295597,"comment_id":44944084,"body_markdown":"`trim()` will take care of all the characters that are listed as java whitespace, so you don&#39;t need to add all whitespace characters. See here: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-","body":"<code>trim()</code> will take care of all the characters that are listed as java whitespace, so you don&#39;t need to add all whitespace characters. See here: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":1313746,"reputation":4358,"user_id":1261166,"accept_rate":87,"display_name":"Viktor Mellgren"},"score":0,"creation_date":1620119278,"post_id":28295597,"comment_id":119099879,"body_markdown":"But this will change the &quot;inner&quot; NBSPs to normal spaces, might not be what you want.\n&quot;&amp;nbsp foo&amp;nbsp35 nbsp&quot; will become &quot;foo 35&quot; not &quot;foo&amp;nbsp&quot; which would be expected of trim.","body":"But this will change the &quot;inner&quot; NBSPs to normal spaces, might not be what you want. &quot;&amp;nbsp foo&amp;nbsp35 nbsp&quot; will become &quot;foo 35&quot; not &quot;foo&amp;nbsp&quot; which would be expected of trim."},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1620200300,"post_id":28295597,"comment_id":119126886,"body_markdown":"@ViktorMellgren yes, but OP asked for: I&#39;ve input an input file which I need to process and *discard all the white-spaces*","body":"@ViktorMellgren yes, but OP asked for: I&#39;ve input an input file which I need to process and <i>discard all the white-spaces</i>"}],"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"comment_count":4,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1422957236,"creation_date":1422956204,"answer_id":28295597,"question_id":28295504,"body_markdown":"`U+0160` is not whitespace, so it won&#39;t be trimmed. But you can simply `replace()` that characters with a space, and then call `trim()`, so you keep the spaces that are &#39;inside&#39; your string.\r\n\r\n    string = string.replace(&#39;\\u00A0&#39;,&#39; &#39;).trim()\r\n\r\nThere are [three non-breaking whitespace][1] characters that are excluded from the Character.isWhitespace() method : `\\u00A0`, `\\u2007` and, `\\u202F`, so you probably want to replace those too.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-","title":"How to trim no-break space in Java?","body":"<p><code>U+0160</code> is not whitespace, so it won't be trimmed. But you can simply <code>replace()</code> that characters with a space, and then call <code>trim()</code>, so you keep the spaces that are 'inside' your string.</p>\n\n<pre><code>string = string.replace('\\u00A0',' ').trim()\n</code></pre>\n\n<p>There are <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isWhitespace-char-\">three non-breaking whitespace</a> characters that are excluded from the Character.isWhitespace() method : <code>\\u00A0</code>, <code>\\u2007</code> and, <code>\\u202F</code>, so you probably want to replace those too.</p>\n"},{"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":2,"creation_date":1422956420,"post_id":28295641,"comment_id":44943725,"body_markdown":"There are far more whitespace characters that you have put in your list.","body":"There are far more whitespace characters that you have put in your list."},{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":3,"creation_date":1531315484,"post_id":28295641,"comment_id":89550771,"body_markdown":"The link to whitespace definition is dead.","body":"The link to whitespace definition is dead."}],"tags":[],"owner":{"display_name":"user180100"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559757084,"creation_date":1422956356,"answer_id":28295641,"question_id":28295504,"body_markdown":"You could do it with a guava [`CharMatcher`][1], for example:\r\n\r\n    CharMatcher.anyOf(&quot;\\r\\n\\t \\u00A0&quot;).trimFrom(input);\r\n    CharMatcher.whitespace().trimFrom(input);\r\n\r\nSee also this [nice reference on whitespaces definition][2]\r\n\r\n\r\n  [1]: https://static.javadoc.io/com.google.guava/guava/26.0-jre/com/google/common/base/CharMatcher.html\r\n  [2]: https://spreadsheets.google.com/pub?key=pd8dAQyHbdewRsnE5x5GzKQ","title":"How to trim no-break space in Java?","body":"<p>You could do it with a guava <a href=\"https://static.javadoc.io/com.google.guava/guava/26.0-jre/com/google/common/base/CharMatcher.html\" rel=\"nofollow noreferrer\"><code>CharMatcher</code></a>, for example:</p>\n\n<pre><code>CharMatcher.anyOf(\"\\r\\n\\t \\u00A0\").trimFrom(input);\nCharMatcher.whitespace().trimFrom(input);\n</code></pre>\n\n<p>See also this <a href=\"https://spreadsheets.google.com/pub?key=pd8dAQyHbdewRsnE5x5GzKQ\" rel=\"nofollow noreferrer\">nice reference on whitespaces definition</a></p>\n"},{"comments":[{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":1,"creation_date":1422957301,"post_id":28295733,"comment_id":44944247,"body_markdown":"This is the cleanest and most general solution so far.  Worth mentioning that `\\h` is only available since Java 8 but in earlier versions, you can use the explicit range given in your answer.","body":"This is the cleanest and most general solution so far.  Worth mentioning that <code>\\h</code> is only available since Java 8 but in earlier versions, you can use the explicit range given in your answer."},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":0,"creation_date":1422957349,"post_id":28295733,"comment_id":44944277,"body_markdown":"That&#39;s brilliant! Exactly a one-liner which will take care of all kinds of spaces.","body":"That&#39;s brilliant! Exactly a one-liner which will take care of all kinds of spaces."},{"owner":{"account_id":1397498,"reputation":154,"user_id":1326993,"display_name":"Steve"},"score":0,"creation_date":1467282818,"post_id":28295733,"comment_id":63673020,"body_markdown":"One thing that might be helpful to know is that these have a Unicode Classification of Space Separator. I like this page as a reference to what&#39;s included, as the Unicode official stuff is a bit dry:\n\n[Space Separators](http://www.fontspace.com/unicode/category/space-separator)","body":"One thing that might be helpful to know is that these have a Unicode Classification of Space Separator. I like this page as a reference to what&#39;s included, as the Unicode official stuff is a bit dry:  <a href=\"http://www.fontspace.com/unicode/category/space-separator\" rel=\"nofollow noreferrer\">Space Separators</a>"},{"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"score":1,"creation_date":1489486331,"post_id":28295733,"comment_id":72680197,"body_markdown":"Why do you think `\\u00A0` is not removed? Please see the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html). It states that this char is included in `\\h` and therefore removed.","body":"Why do you think <code>\\u00A0</code> is not removed? Please see the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">javadoc</a>. It states that this char is included in <code>\\h</code> and therefore removed."},{"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"score":1,"creation_date":1489498526,"post_id":28295733,"comment_id":72689052,"body_markdown":"@Roland `Cfx` answered it for me :)","body":"@Roland <code>Cfx</code> answered it for me :)"},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":1,"creation_date":1489500038,"post_id":28295733,"comment_id":72690255,"body_markdown":"@Abhishek My bad, I didn&#39;t realize that `\\xA0` == `&#39;\\u00A0&#39;`.","body":"@Abhishek My bad, I didn&#39;t realize that <code>\\xA0</code> == <code>&#39;\\u00A0&#39;</code>."},{"owner":{"account_id":6381401,"reputation":1720,"user_id":4950717,"accept_rate":89,"display_name":"Mattew Eon"},"score":0,"creation_date":1628497599,"post_id":28295733,"comment_id":121426779,"body_markdown":"And what about \\r\\n, \\r and \\n ? it is not escapted with your answer","body":"And what about \\r\\n, \\r and \\n ? it is not escapted with your answer"},{"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"score":1,"creation_date":1629361568,"post_id":28295733,"comment_id":121668013,"body_markdown":"Well, when \\h is used for horizontal whitespace, one could guess that \\v would be used for vertical whitespace ([\\n\\x0B\\f\\r\\x85\\u2028\\u2029]). Or you would just look in the [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html). **;-)**","body":"Well, when \\h is used for horizontal whitespace, one could guess that \\v would be used for vertical whitespace ([\\n\\x0B\\f\\r\\x85\\u2028\\u2029]). Or you would just look in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">javadoc</a>. <b>;-)</b>"}],"tags":[],"owner":{"account_id":5117496,"reputation":2302,"user_id":4102160,"accept_rate":75,"display_name":"Cfx"},"comment_count":8,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1422957516,"creation_date":1422956666,"answer_id":28295733,"question_id":28295504,"body_markdown":"While `&amp;#160;` is a [non breaking space][1] (a space that does not want to be treated as whitespace), you can trim a string while preserving every `&amp;#160;` within the string with a simple regex:\n\n    string.replaceAll(&quot;(^\\\\h*)|(\\\\h*$)&quot;,&quot;&quot;)\n\n\n- `\\h` is a horizontal whitespace character: `[ \\t\\xA0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000]`\n\nIf you are using a pre JDK8 Version, you need to explicitly use the list of chars instead of `\\h`.\n\n  [1]: http://en.wikipedia.org/wiki/Non-breaking_space","title":"How to trim no-break space in Java?","body":"<p>While <code>&amp;#160;</code> is a <a href=\"http://en.wikipedia.org/wiki/Non-breaking_space\" rel=\"noreferrer\">non breaking space</a> (a space that does not want to be treated as whitespace), you can trim a string while preserving every <code>&amp;#160;</code> within the string with a simple regex:</p>\n<pre><code>string.replaceAll(&quot;(^\\\\h*)|(\\\\h*$)&quot;,&quot;&quot;)\n</code></pre>\n<ul>\n<li><code>\\h</code> is a horizontal whitespace character: <code>[ \\t\\xA0\\u1680\\u180e\\u2000-\\u200a\\u202f\\u205f\\u3000]</code></li>\n</ul>\n<p>If you are using a pre JDK8 Version, you need to explicitly use the list of chars instead of <code>\\h</code>.</p>\n"},{"tags":[],"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1498578801,"creation_date":1498578801,"answer_id":44784786,"question_id":28295504,"body_markdown":"If you happen to use [Apache Commons Lang][1] then you can use [strip][2] and add all the characters you want.\r\n\r\n    final String STRIPPED_CHARS = &quot; \\t\\u00A0\\u1680\\u180e\\u2000\\u200a\\u202f\\u205f\\u3000&quot;;\r\n    \r\n    String s = &quot;\\u3000 \\tThis str contains a non-breaking\\u00A0space and a\\ttab. &quot;;\r\n    s = StringUtils.strip(s, STRIPPED_CHARS);  \r\n    System.out.println(s);  // Gives : &quot;This str contains a non-breaking space and a\ttab.&quot;\r\n\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#strip-java.lang.String-java.lang.String-","title":"How to trim no-break space in Java?","body":"<p>If you happen to use <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a> then you can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#strip-java.lang.String-java.lang.String-\" rel=\"noreferrer\">strip</a> and add all the characters you want.</p>\n\n<pre><code>final String STRIPPED_CHARS = \" \\t\\u00A0\\u1680\\u180e\\u2000\\u200a\\u202f\\u205f\\u3000\";\n\nString s = \"\\u3000 \\tThis str contains a non-breaking\\u00A0space and a\\ttab. \";\ns = StringUtils.strip(s, STRIPPED_CHARS);  \nSystem.out.println(s);  // Gives : \"This str contains a non-breaking space and a    tab.\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1582526526,"creation_date":1582526526,"answer_id":60370714,"question_id":28295504,"body_markdown":"You can try this:\r\n     \r\n    string.replaceAll(&quot;\\\\p{Z}&quot;,&quot;&quot;);\r\nFrom https://www.regular-expressions.info/unicode.html:\r\n\r\n&gt; \\p{Z} or \\p{Separator}: any kind of whitespace or invisible separator.\r\n\r\n","title":"How to trim no-break space in Java?","body":"<p>You can try this:</p>\n\n<pre><code>string.replaceAll(\"\\\\p{Z}\",\"\");\n</code></pre>\n\n<p>From <a href=\"https://www.regular-expressions.info/unicode.html\" rel=\"noreferrer\">https://www.regular-expressions.info/unicode.html</a>:</p>\n\n<blockquote>\n  <p>\\p{Z} or \\p{Separator}: any kind of whitespace or invisible separator.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697537298,"creation_date":1697537298,"answer_id":77308081,"question_id":28295504,"body_markdown":"The logic behind the [`string.trim()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--) method is more or less the following (it does not use `charAt`, but the internal `byte[]` that stores the characters):\r\n\r\n\tpublic String trim(String s) {\r\n\t\tif (s == null) {\r\n\t\t\treturn StringUtils.EMPTY;\r\n\t\t}\r\n\t\tint originalLength = s.length();\r\n\t\tint start = 0;\r\n\t\tint end = originalLength;\r\n\t\twhile (start &lt; end &amp;&amp; isTrimmable(s.charAt(start))) {\r\n\t\t\tstart++;\r\n\t\t}\r\n\t\twhile (start &lt; end &amp;&amp; isTrimmable(s.charAt(end-1))) {\r\n\t\t\tend--;\r\n\t\t}\r\n\t\treturn ((start &gt; 0) || (end &lt; originalLength)) ? s.substring(start, end) : s;\r\n\t}\r\n\r\nwhere `isTrimmable` means less or equal `&#39;\\u0020&#39;`. You can implement an util method with custom logic to detect trimmable characters without using a regex:\r\n\r\n    public static String fullTrim(String s) {\r\n        if (s == null) {\r\n            return StringUtils.EMPTY;\r\n        }\r\n        int originalLength = s.length();\r\n        int start = 0;\r\n        int end = originalLength;\r\n        while (start &lt; end &amp;&amp; isTrimmable(s.charAt(start))) {\r\n            start++;\r\n        }\r\n        while (start &lt; end &amp;&amp; isTrimmable(s.charAt(end-1))) {\r\n            end--;\r\n        }\r\n        return ((start &gt; 0) || (end &lt; originalLength)) ? s.substring(start, end) : s;\r\n    }\r\n\r\n    public static boolean isTrimmable(char c) {\r\n        return Character.isWhitespace(c) || c == &#39;\\u00A0&#39; || c == &#39;\\u2007&#39; || c == &#39;\\u202F&#39;;\r\n    }\r\n\r\nThis is a solution that doesn&#39;t use a regex or the (equivalent) [StringUtils.strip(string, charactersToStrip)](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#strip-java.lang.String-java.lang.String-), as I prefer to maintain a `isTrimmable` method than a `charactersToStrip`/regex string.","title":"How to trim no-break space in Java?","body":"<p>The logic behind the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--\" rel=\"nofollow noreferrer\"><code>string.trim()</code></a> method is more or less the following (it does not use <code>charAt</code>, but the internal <code>byte[]</code> that stores the characters):</p>\n<pre><code>public String trim(String s) {\n    if (s == null) {\n        return StringUtils.EMPTY;\n    }\n    int originalLength = s.length();\n    int start = 0;\n    int end = originalLength;\n    while (start &lt; end &amp;&amp; isTrimmable(s.charAt(start))) {\n        start++;\n    }\n    while (start &lt; end &amp;&amp; isTrimmable(s.charAt(end-1))) {\n        end--;\n    }\n    return ((start &gt; 0) || (end &lt; originalLength)) ? s.substring(start, end) : s;\n}\n</code></pre>\n<p>where <code>isTrimmable</code> means less or equal <code>'\\u0020'</code>. You can implement an util method with custom logic to detect trimmable characters without using a regex:</p>\n<pre><code>public static String fullTrim(String s) {\n    if (s == null) {\n        return StringUtils.EMPTY;\n    }\n    int originalLength = s.length();\n    int start = 0;\n    int end = originalLength;\n    while (start &lt; end &amp;&amp; isTrimmable(s.charAt(start))) {\n        start++;\n    }\n    while (start &lt; end &amp;&amp; isTrimmable(s.charAt(end-1))) {\n        end--;\n    }\n    return ((start &gt; 0) || (end &lt; originalLength)) ? s.substring(start, end) : s;\n}\n\npublic static boolean isTrimmable(char c) {\n    return Character.isWhitespace(c) || c == '\\u00A0' || c == '\\u2007' || c == '\\u202F';\n}\n</code></pre>\n<p>This is a solution that doesn't use a regex or the (equivalent) <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#strip-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">StringUtils.strip(string, charactersToStrip)</a>, as I prefer to maintain a <code>isTrimmable</code> method than a <code>charactersToStrip</code>/regex string.</p>\n"}],"owner":{"account_id":4842233,"reputation":6942,"user_id":3906965,"accept_rate":48,"display_name":"Abhishek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67307,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":28295733,"answer_count":6,"score":48,"last_activity_date":1697537298,"creation_date":1422955927,"question_id":28295504,"body_markdown":"I&#39;ve input an input file which I need to process and discard all the white-spaces, including non-breaking space `U+00A0` aka `&amp;#160;` (You can produce it in Notepad by pressing &lt;kbd&gt;Alt&lt;/kbd&gt; and then typing &lt;kbd&gt;0&lt;/kbd&gt; &lt;kbd&gt;1&lt;/kbd&gt; &lt;kbd&gt;6&lt;/kbd&gt; &lt;kbd&gt;0&lt;/kbd&gt; from the keyboard&#39;s numeric pad.) or any other form of white space. I have tried [`String.trim()`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--) but it doesn&#39;t trim `U+00A0`.\r\n\r\nDo I need to explicitly check for `U+00A0` and then `trim()` or is there an easy way to trim all kinds of white-spaces in Java?","title":"How to trim no-break space in Java?","body":"<p>I've input an input file which I need to process and discard all the white-spaces, including non-breaking space <code>U+00A0</code> aka <code>&amp;#160;</code> (You can produce it in Notepad by pressing <kbd>Alt</kbd> and then typing <kbd>0</kbd> <kbd>1</kbd> <kbd>6</kbd> <kbd>0</kbd> from the keyboard's numeric pad.) or any other form of white space. I have tried <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim--\" rel=\"noreferrer\"><code>String.trim()</code></a> but it doesn't trim <code>U+00A0</code>.</p>\n\n<p>Do I need to explicitly check for <code>U+00A0</code> and then <code>trim()</code> or is there an easy way to trim all kinds of white-spaces in Java?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1697535698,"post_id":77307801,"comment_id":136289059,"body_markdown":"Unrelated but `new ArrayList&lt;&gt;(){{add(&quot;BU&quot;); add(&quot;BU&quot;); add(&quot;BU&quot;);}}` would probably be a lot more readable as `new ArrayList&lt;&gt;(List.of(&quot;BU&quot;, &quot;BU&quot;, &quot;BU&quot;))`","body":"Unrelated but <code>new ArrayList&lt;&gt;(){{add(&quot;BU&quot;); add(&quot;BU&quot;); add(&quot;BU&quot;);}}</code> would probably be a lot more readable as <code>new ArrayList&lt;&gt;(List.of(&quot;BU&quot;, &quot;BU&quot;, &quot;BU&quot;))</code>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1697535784,"post_id":77307801,"comment_id":136289078,"body_markdown":"If you want to be able to get strongly typed Rockets out of a Player, then Player will need 1 generic type parameter for each rocket. e.g. `Player&lt;Foo, Bar&gt; player = new Player...` Alternatively, in this case you can just keep a reference to the Rocket as a local variable before passing it to the Player constructor. Then rather than call `kleinerB.getRightRocket()` you can just refer to the local variable: https://ideone.com/ammNbG","body":"If you want to be able to get strongly typed Rockets out of a Player, then Player will need 1 generic type parameter for each rocket. e.g. <code>Player&lt;Foo, Bar&gt; player = new Player...</code> Alternatively, in this case you can just keep a reference to the Rocket as a local variable before passing it to the Player constructor. Then rather than call <code>kleinerB.getRightRocket()</code> you can just refer to the local variable: <a href=\"https://ideone.com/ammNbG\" rel=\"nofollow noreferrer\">ideone.com/ammNbG</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697536174,"post_id":77307801,"comment_id":136289159,"body_markdown":"You can use `kleinerB.setRightRocket(new Rocket&lt;&gt;(new ArrayList&lt;String&gt;()));` But what’s the point of it? After you’ve set it, nobody knows that the list you’ve set is a `List&lt;String&gt;`. The entire use of Generics is pointless here. It’s not even clear why you wrap the objects in a `Rocket` object. It does not add anything useful.","body":"You can use <code>kleinerB.setRightRocket(new Rocket&lt;&gt;(new ArrayList&lt;String&gt;()));</code> But what’s the point of it? After you’ve set it, nobody knows that the list you’ve set is a <code>List&lt;String&gt;</code>. The entire use of Generics is pointless here. It’s not even clear why you wrap the objects in a <code>Rocket</code> object. It does not add anything useful."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697536579,"post_id":77307801,"comment_id":136289258,"body_markdown":"Unrelated again, but wouldn&#39;t it make more sense to have `rightRocket` on the right of `leftRocket` in `Player`&#39;s constructor parameters list? It took me a while to realize that the error was *not* that you were trying to set an `ArrayList&lt;Integer&gt;` to a new `ArrayList&lt;String&gt;`.","body":"Unrelated again, but wouldn&#39;t it make more sense to have <code>rightRocket</code> on the right of <code>leftRocket</code> in <code>Player</code>&#39;s constructor parameters list? It took me a while to realize that the error was <i>not</i> that you were trying to set an <code>ArrayList&lt;Integer&gt;</code> to a new <code>ArrayList&lt;String&gt;</code>."}],"answers":[{"comments":[{"owner":{"account_id":29690507,"reputation":23,"user_id":22755001,"display_name":"Tired8296"},"score":0,"creation_date":1697537810,"post_id":77308051,"comment_id":136289502,"body_markdown":"So i can&#39;t really create a Player implementation, thus instances take any type of rocket after declaration while the code is running can i? (while trying to keep the code somewhat conventional)","body":"So i can&#39;t really create a Player implementation, thus instances take any type of rocket after declaration while the code is running can i? (while trying to keep the code somewhat conventional)"},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1697541631,"post_id":77308051,"comment_id":136290225,"body_markdown":"The first part of my answer will do it, but it is really not type-safe and maybe you should drop the generic types and only use Object. Generics are there to help type safety.","body":"The first part of my answer will do it, but it is really not type-safe and maybe you should drop the generic types and only use Object. Generics are there to help type safety."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697547462,"post_id":77308051,"comment_id":136291395,"body_markdown":"The first part is completely broken and you should not suggest it at all, not to speak of burying the information that this is not type safe in a comment below the answer. This code allows to do something like `Rocket&lt;String&gt; a = player.getRightRocket(); Rocket&lt;Integer&gt; b = player.getRightRocket(); a.set(&quot;&quot;); Integer i = b.get();`","body":"The first part is completely broken and you should not suggest it at all, not to speak of burying the information that this is not type safe in a comment below the answer. This code allows to do something like <code>Rocket&lt;String&gt; a = player.getRightRocket(); Rocket&lt;Integer&gt; b = player.getRightRocket(); a.set(&quot;&quot;); Integer i = b.get();</code>"},{"owner":{"account_id":29690507,"reputation":23,"user_id":22755001,"display_name":"Tired8296"},"score":0,"creation_date":1697549786,"post_id":77308051,"comment_id":136291922,"body_markdown":"That&#39;s exactly what i asked for. It&#39;s unconventional and not typesafe and there&#39;s no other way to do it. Kept reading the script i worked with and learned that generics in java are just really badly designed in general. Won&#39;t be using them apart from some cases, they don&#39;t guarantee typesafety anyway 90% of the time.","body":"That&#39;s exactly what i asked for. It&#39;s unconventional and not typesafe and there&#39;s no other way to do it. Kept reading the script i worked with and learned that generics in java are just really badly designed in general. Won&#39;t be using them apart from some cases, they don&#39;t guarantee typesafety anyway 90% of the time."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1697552889,"post_id":77308051,"comment_id":136292584,"body_markdown":"@Holger the information is not buried, I started saying that it&#39;s a dirty solution, and sometimes it&#39;s what you need to solve a problem. That&#39;s why java gave us the SuppressWarnings annotation after all.","body":"@Holger the information is not buried, I started saying that it&#39;s a dirty solution, and sometimes it&#39;s what you need to solve a problem. That&#39;s why java gave us the SuppressWarnings annotation after all."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1697553044,"post_id":77308051,"comment_id":136292625,"body_markdown":"@Tired8296 java generics are not badly designed, they were designed that way to allow backward compatibility and that was a good thing. It is the other way around, if well applied it is very very useful and guarantees type safety 90% of the times :)","body":"@Tired8296 java generics are not badly designed, they were designed that way to allow backward compatibility and that was a good thing. It is the other way around, if well applied it is very very useful and guarantees type safety 90% of the times :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697554179,"post_id":77308051,"comment_id":136292912,"body_markdown":"@Tired8296 what you are trying to do, as far as recognizable, wouldn’t work in any language. You are like someone who holds a vase upside-down and complains that it doesn’t hold the water.","body":"@Tired8296 what you are trying to do, as far as recognizable, wouldn’t work in any language. You are like someone who holds a vase upside-down and complains that it doesn’t hold the water."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697554354,"post_id":77308051,"comment_id":136292954,"body_markdown":"@Vinicius this has nothing to do with backward compatibility. The whole point of Generics is to not allow what the OP is trying to do. There are two kinds of type systems. Those like Java’s where you can make it somehow pass the compiler and break later in funny ways or those preventing it completely. And there’s a difference between being “a dirty resolution” and being “not typesafe”, in other words, completely broken and not a solution at all.","body":"@Vinicius this has nothing to do with backward compatibility. The whole point of Generics is to not allow what the OP is trying to do. There are two kinds of type systems. Those like Java’s where you can make it somehow pass the compiler and break later in funny ways or those preventing it completely. And there’s a difference between being “a dirty resolution” and being “not typesafe”, in other words, completely broken and not a solution at all."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1699275101,"post_id":77308051,"comment_id":136506959,"body_markdown":"@Holger I think you misunderstood this: &quot;they were designed THAT WAY to allow backward compatibility&quot;. I was answering OP&#39;s (and many others) view that generics were badly designed. And quoting Brian Goetz: &quot;It must be possible to evolve an existing non-generic class to be generic in a binary-compatible and source-compatible manner.&quot;. So it was implemented in a way to ensure backward compatibility.","body":"@Holger I think you misunderstood this: &quot;they were designed THAT WAY to allow backward compatibility&quot;. I was answering OP&#39;s (and many others) view that generics were badly designed. And quoting Brian Goetz: &quot;It must be possible to evolve an existing non-generic class to be generic in a binary-compatible and source-compatible manner.&quot;. So it was implemented in a way to ensure backward compatibility."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1699275577,"post_id":77308051,"comment_id":136507038,"body_markdown":"@Holger &quot;The whole point of Generics is to not allow what the OP is trying to do&quot;. Completely disagree. First because the language allows this with or without generics. Unchecked casts exists for a reason. And second, generics were created to extend and improve the type system, not to prevent anything. Not that I agree with OP choices, but everyone is entitled to use fragile code that &quot;just works&quot; to solve a problem.","body":"@Holger &quot;The whole point of Generics is to not allow what the OP is trying to do&quot;. Completely disagree. First because the language allows this with or without generics. Unchecked casts exists for a reason. And second, generics were created to extend and improve the type system, not to prevent anything. Not that I agree with OP choices, but everyone is entitled to use fragile code that &quot;just works&quot; to solve a problem."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1699276188,"post_id":77308051,"comment_id":136507154,"body_markdown":"@Vinicius the purpose of Generics is to help programmers to write reasonable and correct code. So if a programmer tries to write unreasonable code, it is not fitting the purpose of Generics, whether it is possible to write the code or not. And when the OP accuses Generics for being “badly designed” because it doesn’t support writing unreasonable code that only pretends to be generic while actually being totally unsafe, this has nothing to do with the trade-offs mentioned by Brian Goetz et al. In fact your first “solution” is relying on those compromises.","body":"@Vinicius the purpose of Generics is to help programmers to write reasonable and correct code. So if a programmer tries to write unreasonable code, it is not fitting the purpose of Generics, whether it is possible to write the code or not. And when the OP accuses Generics for being “badly designed” because it doesn’t support writing unreasonable code that only pretends to be generic while actually being totally unsafe, this has nothing to do with the trade-offs mentioned by Brian Goetz et al. In fact your first “solution” is relying on those compromises."},{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":0,"creation_date":1699289418,"post_id":77308051,"comment_id":136510102,"body_markdown":"@Holger Please pay more attention to what I&#39;m writing or else this is a pointless discussion. I cited Brian Goetz to counter what you said about backward compatibility and there is nothing in my text that says anything about trade-offs in using them. I KNOW that the purpose of generics and I AGREE with you in this. This doesn&#39;t change the point that in Java you CAN write unsafe code, with or without generics, and sometimes this is what you want/need and learning this is a possibility is legit and that&#39;s why I put that in my answer, but I also made it clear that this is not the best way to go.","body":"@Holger Please pay more attention to what I&#39;m writing or else this is a pointless discussion. I cited Brian Goetz to counter what you said about backward compatibility and there is nothing in my text that says anything about trade-offs in using them. I KNOW that the purpose of generics and I AGREE with you in this. This doesn&#39;t change the point that in Java you CAN write unsafe code, with or without generics, and sometimes this is what you want/need and learning this is a possibility is legit and that&#39;s why I put that in my answer, but I also made it clear that this is not the best way to go."}],"tags":[],"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697537076,"creation_date":1697537076,"answer_id":77308051,"question_id":77307801,"body_markdown":"A quick and dirty resolution to your problem is to declare erased types in getXxxRocket methods, like this:\r\n\r\n```java\r\n \tpublic &lt;R&gt; Rocket&lt;R&gt; getRightRocket() {\r\n\t\treturn (Rocket&lt;R&gt;) rightRocket;\r\n\t}\r\n\r\n\tpublic &lt;L&gt; Rocket&lt;L&gt; getLeftRocket() {\r\n\t\treturn (Rocket&lt;L&gt;) leftRocket;\r\n\t}\r\n```\r\n\r\nBut you&#39;ll have to use an unchecked cast in order to make it work.\r\n\r\nThe best option here seems to use generics in the Player class, like this:\r\n\r\n```java\r\npublic class Player&lt;R, L&gt; {\r\n\tpublic String name;\r\n\tpublic Rocket&lt;R&gt; rightRocket;\r\n\tpublic Rocket&lt;L&gt; leftRocket;\r\n\r\n\tpublic Player(String name, Rocket&lt;R&gt; rightRocket, Rocket&lt;L&gt; leftRocket) {\r\n\t\tthis.name = name;\r\n\t\tthis.rightRocket = rightRocket;\r\n\t\tthis.leftRocket = leftRocket;\r\n\t}\r\n\r\n...\r\n\r\n\tpublic Rocket&lt;R&gt; getRightRocket() {\r\n\t\treturn rightRocket;\r\n\t}\r\n\r\n\tpublic Rocket&lt;L&gt; getLeftRocket() {\r\n\t\treturn leftRocket;\r\n\t}\r\n\r\n...\r\n``` \r\n\r\nAnd then you can instantiate the Player class like this:\r\n\r\n```java\r\nPlayer&lt;List&lt;String&gt;, Integer&gt; kleinerB = \r\n\tnew Player&lt;&gt;(&quot;kleinerK&quot;, new Rocket&lt;&gt;(List.of(&quot;BU&quot;, &quot;BU&quot;, &quot;BU&quot;)), new Rocket&lt;&gt;(42));\r\n```\r\n\r\nBTW, never use concrete types (ArrayList) in declarations when you can use their interfaces (List).","title":"How do i change attributes of a generic attribute of a class?","body":"<p>A quick and dirty resolution to your problem is to declare erased types in getXxxRocket methods, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public &lt;R&gt; Rocket&lt;R&gt; getRightRocket() {\n        return (Rocket&lt;R&gt;) rightRocket;\n    }\n\n    public &lt;L&gt; Rocket&lt;L&gt; getLeftRocket() {\n        return (Rocket&lt;L&gt;) leftRocket;\n    }\n</code></pre>\n<p>But you'll have to use an unchecked cast in order to make it work.</p>\n<p>The best option here seems to use generics in the Player class, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Player&lt;R, L&gt; {\n    public String name;\n    public Rocket&lt;R&gt; rightRocket;\n    public Rocket&lt;L&gt; leftRocket;\n\n    public Player(String name, Rocket&lt;R&gt; rightRocket, Rocket&lt;L&gt; leftRocket) {\n        this.name = name;\n        this.rightRocket = rightRocket;\n        this.leftRocket = leftRocket;\n    }\n\n...\n\n    public Rocket&lt;R&gt; getRightRocket() {\n        return rightRocket;\n    }\n\n    public Rocket&lt;L&gt; getLeftRocket() {\n        return leftRocket;\n    }\n\n...\n</code></pre>\n<p>And then you can instantiate the Player class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Player&lt;List&lt;String&gt;, Integer&gt; kleinerB = \n    new Player&lt;&gt;(&quot;kleinerK&quot;, new Rocket&lt;&gt;(List.of(&quot;BU&quot;, &quot;BU&quot;, &quot;BU&quot;)), new Rocket&lt;&gt;(42));\n</code></pre>\n<p>BTW, never use concrete types (ArrayList) in declarations when you can use their interfaces (List).</p>\n"}],"owner":{"account_id":29690507,"reputation":23,"user_id":22755001,"display_name":"Tired8296"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77308051,"answer_count":1,"score":0,"last_activity_date":1697537077,"creation_date":1697535357,"question_id":77307801,"body_markdown":"In my main class i&#39;ve created object instances of a class that contains generic attributes. With my getters i can read the generic attributes, but with my setters i cant change them. The error eclipse throws at me in my Main class at line 16 is &quot;The method set(capture#2-of ?) in the type Rocket&lt;capture#2-of ?&gt; is not applicable for the arguments (ArrayList&lt;String&gt;)&quot;. I&#39;ll add the code of my three classes.\r\n\r\n```\r\npackage dchapter11_1;\r\n\r\npublic class Rocket&lt;T&gt; {\r\n\t  private T value;\r\n\r\n\t  public Rocket() {}\r\n\t  public Rocket( T value ) { this.value = value; }\r\n\t  \r\n\t  public void set(T value) { this.value = value; }\r\n\t  public T get() { return value; }\r\n\r\n\t  @Override\r\n\t  public String toString() {\r\n\t\t  return getClass() + &quot;[value=&quot; + value.toString() + &quot;]&quot;;\r\n\t  }\r\n\t  public boolean isEmpty() { return value == null; }\r\n\t  public void empty() { value = null; }\r\n}\r\n\r\n```\r\n```\r\npackage dchapter11_1;\r\n\r\npublic class Player {\r\n\t\t  public String name;\r\n\t\t  public Rocket&lt;?&gt; rightRocket;\r\n\t\t  public Rocket&lt;?&gt; leftRocket;\r\n\t\t  \r\n\t\t  public Player(String name, Rocket&lt;?&gt; leftRocket, Rocket&lt;?&gt; rightRocket) {\r\n\t\t\t  this.name = name;\r\n\t\t\t  this.leftRocket = leftRocket;\r\n\t\t\t  this.rightRocket = rightRocket;\r\n\t\t  }\r\n\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\tpublic Rocket&lt;?&gt; getRightRocket() {\r\n\t\t\treturn rightRocket;\r\n\t\t}\r\n\t\tpublic void setRightRocket(Rocket&lt;?&gt; rightRocket) {\r\n\t\t\tthis.rightRocket = rightRocket;\r\n\t\t}\r\n\t\tpublic Rocket&lt;?&gt; getLeftRocket() {\r\n\t\t\treturn leftRocket;\r\n\t\t}\r\n\t\tpublic void setLeftRocket(Rocket&lt;?&gt; leftRocket) {\r\n\t\t\tthis.leftRocket = leftRocket;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn getClass() + &quot;[name=&quot; + name + &quot;, rightRocket=&quot; + rightRocket.toString() + &quot;, leftRocket=&quot; + leftRocket.toString() + &quot;]&quot;;\r\n\t\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n```\r\n```\r\npackage dchapter11_1;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n\tpublic static void main(String... args) {\r\n\t\t@SuppressWarnings(&quot;serial&quot;)\r\n\t\tPlayer kleinerB = new Player(&quot;kleinerK&quot;, new Rocket&lt;Integer&gt;(Integer.valueOf(42)), new Rocket&lt;ArrayList&lt;String&gt;&gt;(new ArrayList&lt;&gt;(){{add(&quot;BU&quot;); add(&quot;BU&quot;); add(&quot;BU&quot;);}}));\r\n\t\tSystem.out.println(kleinerB.toString());\r\n\t\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tArrayList&lt;String&gt; arrayList = (ArrayList&lt;String&gt;)kleinerB.getRightRocket().get();\r\n\t\tfor(String s : arrayList) {\r\n\t\t\tSystem.out.print(s);\r\n\t\t}\r\n\t\t//kleinerB.getRightRocket().set(new ArrayList&lt;String&gt;()); //FUNKTIONIERT NICHT KEINER WEISS WARUM\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;ve tried to change the type of the Rocket attributes in player from `&lt;?&gt;` to `&lt;T&gt;`, but that only gives me the option to create `Player` instances from a specific type (what I specifically don&#39;t want).","title":"How do i change attributes of a generic attribute of a class?","body":"<p>In my main class i've created object instances of a class that contains generic attributes. With my getters i can read the generic attributes, but with my setters i cant change them. The error eclipse throws at me in my Main class at line 16 is &quot;The method set(capture#2-of ?) in the type Rocket&lt;capture#2-of ?&gt; is not applicable for the arguments (ArrayList)&quot;. I'll add the code of my three classes.</p>\n<pre><code>package dchapter11_1;\n\npublic class Rocket&lt;T&gt; {\n      private T value;\n\n      public Rocket() {}\n      public Rocket( T value ) { this.value = value; }\n      \n      public void set(T value) { this.value = value; }\n      public T get() { return value; }\n\n      @Override\n      public String toString() {\n          return getClass() + &quot;[value=&quot; + value.toString() + &quot;]&quot;;\n      }\n      public boolean isEmpty() { return value == null; }\n      public void empty() { value = null; }\n}\n\n</code></pre>\n<pre><code>package dchapter11_1;\n\npublic class Player {\n          public String name;\n          public Rocket&lt;?&gt; rightRocket;\n          public Rocket&lt;?&gt; leftRocket;\n          \n          public Player(String name, Rocket&lt;?&gt; leftRocket, Rocket&lt;?&gt; rightRocket) {\n              this.name = name;\n              this.leftRocket = leftRocket;\n              this.rightRocket = rightRocket;\n          }\n\n        public String getName() {\n            return name;\n        }\n        public void setName(String name) {\n            this.name = name;\n        }\n        public Rocket&lt;?&gt; getRightRocket() {\n            return rightRocket;\n        }\n        public void setRightRocket(Rocket&lt;?&gt; rightRocket) {\n            this.rightRocket = rightRocket;\n        }\n        public Rocket&lt;?&gt; getLeftRocket() {\n            return leftRocket;\n        }\n        public void setLeftRocket(Rocket&lt;?&gt; leftRocket) {\n            this.leftRocket = leftRocket;\n        }\n        \n        @Override\n        public String toString() {\n            return getClass() + &quot;[name=&quot; + name + &quot;, rightRocket=&quot; + rightRocket.toString() + &quot;, leftRocket=&quot; + leftRocket.toString() + &quot;]&quot;;\n        }\n}\n\n\n\n\n\n</code></pre>\n<pre><code>package dchapter11_1;\n\nimport java.util.ArrayList;\n\npublic class Main {\n    public static void main(String... args) {\n        @SuppressWarnings(&quot;serial&quot;)\n        Player kleinerB = new Player(&quot;kleinerK&quot;, new Rocket&lt;Integer&gt;(Integer.valueOf(42)), new Rocket&lt;ArrayList&lt;String&gt;&gt;(new ArrayList&lt;&gt;(){{add(&quot;BU&quot;); add(&quot;BU&quot;); add(&quot;BU&quot;);}}));\n        System.out.println(kleinerB.toString());\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        ArrayList&lt;String&gt; arrayList = (ArrayList&lt;String&gt;)kleinerB.getRightRocket().get();\n        for(String s : arrayList) {\n            System.out.print(s);\n        }\n        //kleinerB.getRightRocket().set(new ArrayList&lt;String&gt;()); //FUNKTIONIERT NICHT KEINER WEISS WARUM\n    }\n}\n</code></pre>\n<p>I've tried to change the type of the Rocket attributes in player from <code>&lt;?&gt;</code> to <code>&lt;T&gt;</code>, but that only gives me the option to create <code>Player</code> instances from a specific type (what I specifically don't want).</p>\n"},{"tags":["java","redis","redis-cluster","redisson"],"owner":{"account_id":8067158,"reputation":35,"user_id":6080937,"display_name":"Lucian Hada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697537016,"creation_date":1697536496,"question_id":77307951,"body_markdown":"I&#39;ve seen multiple questions/answers on how to increase the max file descriptors so Redis won&#39;t complain about it but my question is different and I don&#39;t seem to find an answer:\r\n\r\nTrying to use it, in a clustered setup, with (for example) ~4k maxclients either from explicit config or as it fallbacks to such value based on system&#39;s max file descriptors is simply a call for trouble, was 10k default chosen for a reason?\r\n\r\nWe actually had issues because no more connections could be opened and trying to figure out if we need to continue our investigation on the dev team side or we should simply consider increasing max file descriptors since we need to go through our infra team for that and they are very sceptic we need more than we already have...","title":"Redis working with ~4k max file descriptors","body":"<p>I've seen multiple questions/answers on how to increase the max file descriptors so Redis won't complain about it but my question is different and I don't seem to find an answer:</p>\n<p>Trying to use it, in a clustered setup, with (for example) ~4k maxclients either from explicit config or as it fallbacks to such value based on system's max file descriptors is simply a call for trouble, was 10k default chosen for a reason?</p>\n<p>We actually had issues because no more connections could be opened and trying to figure out if we need to continue our investigation on the dev team side or we should simply consider increasing max file descriptors since we need to go through our infra team for that and they are very sceptic we need more than we already have...</p>\n"},{"tags":["java","spring","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697534347,"post_id":77307660,"comment_id":136288796,"body_markdown":"Please include the full stacktrace instead of a random half snippet from it.","body":"Please include the full stacktrace instead of a random half snippet from it."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697534416,"post_id":77307660,"comment_id":136288814,"body_markdown":"You should also include (the relevant part of) the entity itself, and any relevant logging from JPA trying to initialize your database.","body":"You should also include (the relevant part of) the entity itself, and any relevant logging from JPA trying to initialize your database."},{"owner":{"account_id":24459818,"reputation":3,"user_id":18380976,"display_name":"Khwab Vachhani"},"score":0,"creation_date":1697535625,"post_id":77307660,"comment_id":136289047,"body_markdown":"@M.Deinum Can you please check once again? I have added the relevant information needed. \nThank you for the inputs, I am just starting out here, still new to asking question.","body":"@M.Deinum Can you please check once again? I have added the relevant information needed.  Thank you for the inputs, I am just starting out here, still new to asking question."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1697536015,"post_id":77307660,"comment_id":136289127,"body_markdown":"I know this is not an answer to your question, but still worth writing :) You approach is called &quot;Code First&quot;. Please consider using &quot;Database First&quot;. Code First is usually good only for school examples with very simple databases. In the real production applications it brings more problems than benefits.","body":"I know this is not an answer to your question, but still worth writing :) You approach is called &quot;Code First&quot;. Please consider using &quot;Database First&quot;. Code First is usually good only for school examples with very simple databases. In the real production applications it brings more problems than benefits."},{"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"score":0,"creation_date":1697536020,"post_id":77307660,"comment_id":136289128,"body_markdown":"Kindly add POM file and describe the version of Java and hibernate in your question.","body":"Kindly add POM file and describe the version of Java and hibernate in your question."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1697536395,"post_id":77307660,"comment_id":136289204,"body_markdown":"The full stacktrace is still relevant. However I doubt that using `BigInteger` as a type for the `@Id` would work. Use an `Integer` or probably a `Long` instead.","body":"The full stacktrace is still relevant. However I doubt that using <code>BigInteger</code> as a type for the <code>@Id</code> would work. Use an <code>Integer</code> or probably a <code>Long</code> instead."}],"answers":[{"comments":[{"owner":{"account_id":24459818,"reputation":3,"user_id":18380976,"display_name":"Khwab Vachhani"},"score":1,"creation_date":1697536625,"post_id":77307920,"comment_id":136289272,"body_markdown":"Heyy, thank you for answering. I created the table with psql queries and did change BigInteger to Long, in entity, dto and wherever required. It is working now. Thanks again for the input.","body":"Heyy, thank you for answering. I created the table with psql queries and did change BigInteger to Long, in entity, dto and wherever required. It is working now. Thanks again for the input."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1697537120,"post_id":77307920,"comment_id":136289375,"body_markdown":"If it was helpfully don’t forget to accept answer and upvote it for future if someone will have the same problem","body":"If it was helpfully don’t forget to accept answer and upvote it for future if someone will have the same problem"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697536597,"creation_date":1697536210,"answer_id":77307920,"question_id":77307660,"body_markdown":"The problem is here :\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;)\r\n      @NotNull(message = &quot;Composer Id is required&quot;)\r\n      private BigInteger id;\r\n\r\nyou are using `BigInteger` as a type for primary key what is wrong.\r\n\r\nJust change to `Long` it is going to fix your problem\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;)\r\n      @NotNull(message = &quot;Composer Id is required&quot;)\r\n      private Long id;\r\n\r\n\r\nFor you to know: `BIGINT` is the same as a Java Long, not a `BigInteger`","title":"Spring Boot Connection with PostgreSql","body":"<p>The problem is here :</p>\n<pre><code>  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  @NotNull(message = &quot;Composer Id is required&quot;)\n  private BigInteger id;\n</code></pre>\n<p>you are using <code>BigInteger</code> as a type for primary key what is wrong.</p>\n<p>Just change to <code>Long</code> it is going to fix your problem</p>\n<pre><code>  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  @NotNull(message = &quot;Composer Id is required&quot;)\n  private Long id;\n</code></pre>\n<p>For you to know: <code>BIGINT</code> is the same as a Java Long, not a <code>BigInteger</code></p>\n"}],"owner":{"account_id":24459818,"reputation":3,"user_id":18380976,"display_name":"Khwab Vachhani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307920,"answer_count":1,"score":0,"last_activity_date":1697536597,"creation_date":1697534246,"question_id":77307660,"body_markdown":"So I have created a database in Postgres, which currently has no Tables\r\n```\r\ndemographic=# \\l\r\n                                                               List of databases\r\n    Name     |  Owner   | Encoding | Locale Provider |      Collate       |       Ctype        | ICU Locale | ICU Rules |   Access privileges\r\n-------------+----------+----------+-----------------+--------------------+--------------------+------------+-----------+-----------------------\r\n demographic | postgres | UTF8     | libc            | English_India.1252 | English_India.1252 |            |           | =Tc/postgres         +\r\n             |          |          |                 |                    |                    |            |           | postgres=CTc/postgres+\r\n             |          |          |                 |                    |                    |            |           | khwab=CTc/postgres\r\n \r\n\r\ndemographic=# \\d\r\nDid not find any relations.\r\n```\r\n\r\nThis is my application.properties...\r\n```\r\nspring.datasource.driver-class-name = org.postgresql.Driver\r\nspring.datasource.url = jdbc:postgresql://localhost:5432/demographic\r\nspring.datasource.username=postgres\r\nspring.datasource.password=*****\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n```\r\nI&#39;ll also provide pom.xml file below\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ehrc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mhms&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;mhms&lt;/name&gt;\r\n\t&lt;description&gt;Demographics MHMS&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nFinally this is my Entity\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;id_proof&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;id&quot;)})\r\npublic class IdProofEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    @NotNull(message = &quot;Composer Id is required&quot;)\r\n    private BigInteger id;\r\n\r\n    @Column(name = &quot;id_number&quot;)\r\n    private Number idNumber;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n\r\n    @Column(name = &quot;issue_date&quot;)\r\n    private Date issueDate;\r\n\r\n    @Column(name = &quot;expiry_date&quot;)\r\n    private Date expiryDate;\r\n\r\n    @Column(name = &quot;issuing_authority&quot;)\r\n    private String issuingAuthority;\r\n\r\n    @Column(name = &quot;place_of_issue&quot;)\r\n    private String placeOfIssue;\r\n\r\n    @Column(name = &quot;image&quot;)\r\n    private String image;\r\n}\r\n```\r\nThis should create a new table that I specified with `@Table `annotation in my entity, right? But upon executing the project I am getting the following error.\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Error creating SQL create commands for table : id_proof\r\n```\r\n\r\n Can someone help me out here?\r\n\r\nI crossed check user config and password, they are correct, as it is connecting to the database.","title":"Spring Boot Connection with PostgreSql","body":"<p>So I have created a database in Postgres, which currently has no Tables</p>\n<pre><code>demographic=# \\l\n                                                               List of databases\n    Name     |  Owner   | Encoding | Locale Provider |      Collate       |       Ctype        | ICU Locale | ICU Rules |   Access privileges\n-------------+----------+----------+-----------------+--------------------+--------------------+------------+-----------+-----------------------\n demographic | postgres | UTF8     | libc            | English_India.1252 | English_India.1252 |            |           | =Tc/postgres         +\n             |          |          |                 |                    |                    |            |           | postgres=CTc/postgres+\n             |          |          |                 |                    |                    |            |           | khwab=CTc/postgres\n \n\ndemographic=# \\d\nDid not find any relations.\n</code></pre>\n<p>This is my application.properties...</p>\n<pre><code>spring.datasource.driver-class-name = org.postgresql.Driver\nspring.datasource.url = jdbc:postgresql://localhost:5432/demographic\nspring.datasource.username=postgres\nspring.datasource.password=*****\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n<p>I'll also provide pom.xml file below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ehrc&lt;/groupId&gt;\n    &lt;artifactId&gt;mhms&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mhms&lt;/name&gt;\n    &lt;description&gt;Demographics MHMS&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Finally this is my Entity</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;id_proof&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = &quot;id&quot;)})\npublic class IdProofEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    @NotNull(message = &quot;Composer Id is required&quot;)\n    private BigInteger id;\n\n    @Column(name = &quot;id_number&quot;)\n    private Number idNumber;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n\n    @Column(name = &quot;issue_date&quot;)\n    private Date issueDate;\n\n    @Column(name = &quot;expiry_date&quot;)\n    private Date expiryDate;\n\n    @Column(name = &quot;issuing_authority&quot;)\n    private String issuingAuthority;\n\n    @Column(name = &quot;place_of_issue&quot;)\n    private String placeOfIssue;\n\n    @Column(name = &quot;image&quot;)\n    private String image;\n}\n</code></pre>\n<p>This should create a new table that I specified with <code>@Table </code>annotation in my entity, right? But upon executing the project I am getting the following error.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Error creating SQL create commands for table : id_proof\n</code></pre>\n<p>Can someone help me out here?</p>\n<p>I crossed check user config and password, they are correct, as it is connecting to the database.</p>\n"},{"tags":["java","3d","jmonkeyengine"],"answers":[{"tags":[],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697536084,"creation_date":1697536084,"answer_id":77307900,"question_id":77301776,"body_markdown":"The trouble was in the model scale. I have used the model which was scaled with parameter 0.05f (too small). When I have changed the scale to 1f (original) the near cut plane started to work correct","title":"How to transfer the cut plane near to the default fly camera in JMonkey engine?","body":"<p>The trouble was in the model scale. I have used the model which was scaled with parameter 0.05f (too small). When I have changed the scale to 1f (original) the near cut plane started to work correct</p>\n"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697536084,"creation_date":1697457524,"question_id":77301776,"body_markdown":"I try to use JMonkey engine (JME3) to create a scene. In the default project I use the default camera. When I render 3D models from uploaded .obj sources the engine starts to cut the objects too early when the camera nears to the object. I think I need to make smaller the distance between the real camera place and the place from which the engine starts to look into the inside volume of the model. But I can not understand which variable controls this distance.\r\nI show the example to see how long the distance between the camera and the stairs by default.\r\n[![enter image description here][1]][1]\r\n\r\nHow can I change the distance to the cutting plane?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tLHQh.jpg","title":"How to transfer the cut plane near to the default fly camera in JMonkey engine?","body":"<p>I try to use JMonkey engine (JME3) to create a scene. In the default project I use the default camera. When I render 3D models from uploaded .obj sources the engine starts to cut the objects too early when the camera nears to the object. I think I need to make smaller the distance between the real camera place and the place from which the engine starts to look into the inside volume of the model. But I can not understand which variable controls this distance.\nI show the example to see how long the distance between the camera and the stairs by default.\n<a href=\"https://i.stack.imgur.com/tLHQh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tLHQh.jpg\" alt=\"enter image description here\" /></a></p>\n<p>How can I change the distance to the cutting plane?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1697535304,"post_id":77307764,"comment_id":136288990,"body_markdown":"Check (or describe us) the [directory layout](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html).","body":"Check (or describe us) the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">directory layout</a>."}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697535723,"creation_date":1697535031,"question_id":77307764,"body_markdown":"I have class SelfContainedRestServer.java that I need to build with help of maven. I do build  with `mvn clean install` command.\r\n\r\nI get rest-server-1.0-SNAPSHOT.jar file that does not contains any class files.\r\nMaven build log show that no source files was included\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ----------------------&lt; com.example:rest-server &gt;-----------------------\r\n    [INFO] Building rest-server 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ rest-server ---\r\n    [INFO] Deleting C:\\java_test\\mvn_selfcontained\\target\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ rest-server ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory C:\\java_test\\mvn_selfcontained\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ rest-server ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ rest-server ---\r\n    [WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\r\n    [INFO] skip non existing resourceDirectory C:\\java_test\\mvn_selfcontained\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ rest-server ---\r\n    [INFO] No sources to compile\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ rest-server ---\r\n    [INFO] No tests to run.\r\n    [INFO]\r\n    [INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ rest-server ---\r\n    [WARNING] JAR will be empty - no content was marked for inclusion!\r\n    [INFO] Building jar: C:\\java_test\\mvn_selfcontained\\target\\rest-server-1.0-SNAPSHOT.jar\r\n    [INFO]\r\n    [INFO] --- maven-install-plugin:2.4:install (default-install) @ rest-server ---\r\n    [INFO] Installing C:\\java_test\\mvn_selfcontained\\target\\rest-server-1.0-SNAPSHOT.jar to C:\\Users\\g\\.m2\\repository\\com\\example\\rest-server\\1.0-SNAPSHOT\\rest-server-1.0-SNAPSHOT.jar\r\n    [INFO] Installing C:\\java_test\\mvn_selfcontained\\pom.xml to C:\\Users\\g\\.m2\\repository\\com\\example\\rest-server\\1.0-SNAPSHOT\\rest-server-1.0-SNAPSHOT.pom\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.234 s\r\n    [INFO] Finished at: 2023-10-17T12:21:22+03:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nWhat I do wrong?\r\n\r\nPOM.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-server&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- Jersey Dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n                &lt;version&gt;2.32&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n                &lt;version&gt;2.32&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Jetty Dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n                &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n                &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;SelfContainedRestServer&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nSelfContainedRestServer.java\r\n\r\n\r\n\r\n    import org.eclipse.jetty.server.Server;\r\n    import org.eclipse.jetty.servlet.ServletContextHandler;\r\n    import org.eclipse.jetty.servlet.ServletHolder;\r\n    import org.glassfish.jersey.servlet.ServletContainer;\r\n    \r\n    public class SelfContainedRestServer {\r\n        public static void main(String[] args) {\r\n            Server server = new Server(8080); // You can choose any available port\r\n    \r\n            ServletContextHandler context = new ServletContextHandler(ServletContextHandler.NO_SESSIONS);\r\n            context.setContextPath(&quot;/&quot;);\r\n            server.setHandler(context);\r\n    \r\n            ServletHolder jerseyServlet = context.addServlet(ServletContainer.class, &quot;/api/*&quot;);\r\n            jerseyServlet.setInitOrder(0);\r\n            jerseyServlet.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;com.example&quot;);\r\n    \r\n            try {\r\n                server.start();\r\n                server.join();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                server.destroy();\r\n            }\r\n        }\r\n    }","title":"Include source file for maven build","body":"<p>I have class SelfContainedRestServer.java that I need to build with help of maven. I do build  with <code>mvn clean install</code> command.</p>\n<p>I get rest-server-1.0-SNAPSHOT.jar file that does not contains any class files.\nMaven build log show that no source files was included</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ----------------------&lt; com.example:rest-server &gt;-----------------------\n[INFO] Building rest-server 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ rest-server ---\n[INFO] Deleting C:\\java_test\\mvn_selfcontained\\target\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ rest-server ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\java_test\\mvn_selfcontained\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ rest-server ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ rest-server ---\n[WARNING] Using platform encoding (Cp1252 actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory C:\\java_test\\mvn_selfcontained\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ rest-server ---\n[INFO] No sources to compile\n[INFO]\n[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ rest-server ---\n[INFO] No tests to run.\n[INFO]\n[INFO] --- maven-jar-plugin:3.2.0:jar (default-jar) @ rest-server ---\n[WARNING] JAR will be empty - no content was marked for inclusion!\n[INFO] Building jar: C:\\java_test\\mvn_selfcontained\\target\\rest-server-1.0-SNAPSHOT.jar\n[INFO]\n[INFO] --- maven-install-plugin:2.4:install (default-install) @ rest-server ---\n[INFO] Installing C:\\java_test\\mvn_selfcontained\\target\\rest-server-1.0-SNAPSHOT.jar to C:\\Users\\g\\.m2\\repository\\com\\example\\rest-server\\1.0-SNAPSHOT\\rest-server-1.0-SNAPSHOT.jar\n[INFO] Installing C:\\java_test\\mvn_selfcontained\\pom.xml to C:\\Users\\g\\.m2\\repository\\com\\example\\rest-server\\1.0-SNAPSHOT\\rest-server-1.0-SNAPSHOT.pom\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.234 s\n[INFO] Finished at: 2023-10-17T12:21:22+03:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>What I do wrong?</p>\n<p>POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-server&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Jersey Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;2.32&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;2.32&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Jetty Dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n            &lt;version&gt;9.4.44.v20210927&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;SelfContainedRestServer&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>SelfContainedRestServer.java</p>\n<pre><code>import org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.ServletContextHandler;\nimport org.eclipse.jetty.servlet.ServletHolder;\nimport org.glassfish.jersey.servlet.ServletContainer;\n\npublic class SelfContainedRestServer {\n    public static void main(String[] args) {\n        Server server = new Server(8080); // You can choose any available port\n\n        ServletContextHandler context = new ServletContextHandler(ServletContextHandler.NO_SESSIONS);\n        context.setContextPath(&quot;/&quot;);\n        server.setHandler(context);\n\n        ServletHolder jerseyServlet = context.addServlet(ServletContainer.class, &quot;/api/*&quot;);\n        jerseyServlet.setInitOrder(0);\n        jerseyServlet.setInitParameter(&quot;jersey.config.server.provider.packages&quot;, &quot;com.example&quot;);\n\n        try {\n            server.start();\n            server.join();\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            server.destroy();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","testing"],"answers":[{"tags":[],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697535323,"creation_date":1697535323,"answer_id":77307796,"question_id":77287288,"body_markdown":"Make sure you replace slashes with dots\r\n```java\r\n@ExtendWith(MockitoExtension.class) // if you need Mockito annotations\r\n@ExtendWith(SpringExtension.class)\r\n@ContextConfiguration(classes = MapperConfig.class)\r\npublic class DetailsMapperTest {\r\n    // ...\r\n}\r\n```\r\n```java\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;by.afinny.credit.mapper&quot;) // assuming this src package contains the mappers you need, including generated ones\r\npublic class MapperConfig {\r\n}\r\n```","title":"Running a test with a toy Spring context","body":"<p>Make sure you replace slashes with dots</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class) // if you need Mockito annotations\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes = MapperConfig.class)\npublic class DetailsMapperTest {\n    // ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(basePackages = &quot;by.afinny.credit.mapper&quot;) // assuming this src package contains the mappers you need, including generated ones\npublic class MapperConfig {\n}\n</code></pre>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307796,"answer_count":1,"score":0,"last_activity_date":1697535323,"creation_date":1697195574,"question_id":77287288,"body_markdown":"How do I make sure my test runs with a specific set of beans so that the test doesn&#39;t even attempt to load the actual context? Suppose I want to test some decorated Mapstruct mapper\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\n@DecoratedWith(CardMapperDecorator.class)\r\npublic interface CardMapper {\r\n    // mapping methods\r\n}\r\n```\r\n```java\r\n@Component\r\n@NoArgsConstructor\r\npublic abstract class CardMapperDecorator implements CardMapper {\r\n    @Autowired\r\n    private CardMapper delegate;\r\n\r\n    public CardMapperDecorator(CardMapper delegate) {\r\n        this.delegate = delegate;\r\n    }\r\n// decorator logic\r\n}\r\n```\r\nThat test only needs that mapper (and I need it to be injected by Spring, don&#39;t ask), how do I do that? `@TestConfiguration` doesn&#39;t stop Spring from attempting to load the main context, `@TestConfiguration` beans simply have priority to &quot;real beans&quot;. How do I make and pass a context that contains only that mapper (plus some plumbing beans Spring may need)? This is what I want:\r\n```java\r\n// some annotations, I guess, but nothing that will bootstrap the entire context\r\nclass CardMapperTest {\r\n    @Autowired\r\n    CardMapper cardMapper;\r\n    // test logic\r\n}\r\n```\r\nI hoped this would work, but it doesn&#39;t\r\n```java\r\n@SpringBootTest(classes = CardMapperTestConfig.class)\r\nclass CardMapperTest {\r\n```\r\n```java\r\n// in the same test package as CardMapperTest\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;src/main/java/com/example/somepackage/mapper&quot;) // can&#39;t reach to the src directory where my mappers are from the test root\r\npublic class CardMapperTestConfig {\r\n}\r\n```\r\nBesides, it would load every bean from that package which may be acceptable, but not perfect\r\n\r\nI also saw you could give your Spring Boot test a `@TestConfiguration` and use `@SpringBootConfiguration` as a stopper, but it doesn&#39;t seem to be the best solution (more of a fix)","title":"Running a test with a toy Spring context","body":"<p>How do I make sure my test runs with a specific set of beans so that the test doesn't even attempt to load the actual context? Suppose I want to test some decorated Mapstruct mapper</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\n@DecoratedWith(CardMapperDecorator.class)\npublic interface CardMapper {\n    // mapping methods\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@NoArgsConstructor\npublic abstract class CardMapperDecorator implements CardMapper {\n    @Autowired\n    private CardMapper delegate;\n\n    public CardMapperDecorator(CardMapper delegate) {\n        this.delegate = delegate;\n    }\n// decorator logic\n}\n</code></pre>\n<p>That test only needs that mapper (and I need it to be injected by Spring, don't ask), how do I do that? <code>@TestConfiguration</code> doesn't stop Spring from attempting to load the main context, <code>@TestConfiguration</code> beans simply have priority to &quot;real beans&quot;. How do I make and pass a context that contains only that mapper (plus some plumbing beans Spring may need)? This is what I want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// some annotations, I guess, but nothing that will bootstrap the entire context\nclass CardMapperTest {\n    @Autowired\n    CardMapper cardMapper;\n    // test logic\n}\n</code></pre>\n<p>I hoped this would work, but it doesn't</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = CardMapperTestConfig.class)\nclass CardMapperTest {\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// in the same test package as CardMapperTest\n@Configuration\n@ComponentScan(basePackages = &quot;src/main/java/com/example/somepackage/mapper&quot;) // can't reach to the src directory where my mappers are from the test root\npublic class CardMapperTestConfig {\n}\n</code></pre>\n<p>Besides, it would load every bean from that package which may be acceptable, but not perfect</p>\n<p>I also saw you could give your Spring Boot test a <code>@TestConfiguration</code> and use <code>@SpringBootConfiguration</code> as a stopper, but it doesn't seem to be the best solution (more of a fix)</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"score":0,"creation_date":1697532536,"post_id":77307225,"comment_id":136288399,"body_markdown":"could you please tell me category.getName() return type ? And please share Category class as well as service method.","body":"could you please tell me category.getName() return type ? And please share Category class as well as service method."},{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1697532839,"post_id":77307225,"comment_id":136288449,"body_markdown":"@Az.MaYo Sure, I&#39;ve updated the main post.","body":"@Az.MaYo Sure, I&#39;ve updated the main post."},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1698576084,"post_id":77307225,"comment_id":136420748,"body_markdown":"*&quot;Note that I compare essentially the very same objects (references are equal),&quot;* **--** No, you don&#39;t. You compare the name of the expected Category being a`String` with  the `Category` object returned by your service. They are not the same object nor equal by their `equals()` method.","body":"<i>&quot;Note that I compare essentially the very same objects (references are equal),&quot;</i> <b>--</b> No, you don&#39;t. You compare the name of the expected Category being a<code>String</code> with  the <code>Category</code> object returned by your service. They are not the same object nor equal by their <code>equals()</code> method."}],"answers":[{"comments":[{"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"score":0,"creation_date":1697536579,"post_id":77307790,"comment_id":136289259,"body_markdown":"I know the test is working. My JUnit case also did. The reason I created this post is because I feel like the practice I&#39;ve implemented &quot;code smells&quot;. I wanted the feedback on the implementation, not confirmation that it works.\n\nPlus, it seems to me that your test is essentially the very same mistake I made in my first implementation that I&#39;ve showed in the original post. You&#39;re comparing the same reference of `Category` objects which essentially comes down to `assertThat(true).isTrue()` which will always be... true.","body":"I know the test is working. My JUnit case also did. The reason I created this post is because I feel like the practice I&#39;ve implemented &quot;code smells&quot;. I wanted the feedback on the implementation, not confirmation that it works.  Plus, it seems to me that your test is essentially the very same mistake I made in my first implementation that I&#39;ve showed in the original post. You&#39;re comparing the same reference of <code>Category</code> objects which essentially comes down to <code>assertThat(true).isTrue()</code> which will always be... true."},{"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"score":0,"creation_date":1697536896,"post_id":77307790,"comment_id":136289330,"body_markdown":"No, it depends upon your logic, if you are not doing anything in the service then it&#39;s a simple code coverage, And 2nd thing please edit your service layer and there update the name of the category and then run test case again it will failed. Hopefully you will understand my point","body":"No, it depends upon your logic, if you are not doing anything in the service then it&#39;s a simple code coverage, And 2nd thing please edit your service layer and there update the name of the category and then run test case again it will failed. Hopefully you will understand my point"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1698576431,"post_id":77307790,"comment_id":136420781,"body_markdown":"@IceMajor &quot;I wanted the feedback on the implementation,&quot;* **--** Then you may ask this question in https://codereview.stackexchange.com again?","body":"@IceMajor &quot;I wanted the feedback on the implementation,&quot;* <b>--</b> Then you may ask this question in <a href=\"https://codereview.stackexchange.com\">codereview.stackexchange.com</a> again?"}],"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1697535290,"creation_date":1697535290,"answer_id":77307790,"question_id":77307225,"body_markdown":"I have create simply created Junit and it&#39;s working fine\r\n\r\n    @Test\r\n    void testGetCategoryByName() {\r\n        // Arrange\r\n        String categoryName = &quot;TestCategory&quot;;\r\n        Category expectedCategory = new Category();\r\n        expectedCategory.setName(categoryName);    \r\n        when(categoryRepository.findByName(categoryName)).thenReturn(Optional.of(expectedCategory));\r\n    \r\n        // Act\r\n        Category result = categoryService.get(categoryName);\r\n    \r\n        // Assert\r\n        assertEquals(expectedCategory, result);\r\n    }\r\n\r\n    @Test\r\n        void testGetCategoryByNameException() {\r\n            // Arrange\r\n            String categoryName = &quot;TestCategory&quot;;\r\n            when(categoryRepository.findByName(categoryName)).thenThrow(CustomException.class);\r\n            assertThrows(CustomException.class, () -&gt; categoryService.get(categoryName));\r\n        }","title":"Doubts about assertion in the test with mocks","body":"<p>I have create simply created Junit and it's working fine</p>\n<pre><code>@Test\nvoid testGetCategoryByName() {\n    // Arrange\n    String categoryName = &quot;TestCategory&quot;;\n    Category expectedCategory = new Category();\n    expectedCategory.setName(categoryName);    \n    when(categoryRepository.findByName(categoryName)).thenReturn(Optional.of(expectedCategory));\n\n    // Act\n    Category result = categoryService.get(categoryName);\n\n    // Assert\n    assertEquals(expectedCategory, result);\n}\n\n@Test\n    void testGetCategoryByNameException() {\n        // Arrange\n        String categoryName = &quot;TestCategory&quot;;\n        when(categoryRepository.findByName(categoryName)).thenThrow(CustomException.class);\n        assertThrows(CustomException.class, () -&gt; categoryService.get(categoryName));\n    }\n</code></pre>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697535290,"creation_date":1697530581,"question_id":77307225,"body_markdown":"I have a test which uses a mocking framework (Mockito).\r\n\r\nThe SUT is a simple service class that on `get(String)` should ask repository (mock) to return - if exists - the Category object.\r\n\r\nSince this is a unit test, you&#39;ll notice that I stub the `repository.findByName(String)` method to return an `Optional.of(category)`. I just want to test the service layer.\r\n\r\nHere&#39;s the whole test case:\r\n```\r\n        @ParameterizedTest\r\n        @MethodSource(&quot;com.demo.blog.postservice.category.CategoryServiceTest#categories&quot;)\r\n        void shouldReturnCategory(Category category) {\r\n            // arrange\r\n            when(repository.findByName(category.getName())).thenReturn(Optional.of(category));\r\n\r\n            // act\r\n            Category actual = SUT.get(category.getName());\r\n\r\n            // assert\r\n            assertThat(actual).isEqualTo(category);\r\n            verify(repository, times(1)).findByName(category.getName());\r\n            verifyNoMoreInteractions(repository);\r\n        }\r\n```\r\nThe part that troubles me is the `assert` part. Note that I compare essentially the very same objects (references are equal), because `actual` is the mocked value from the `when(repository.findByName(category.getName())).thenReturn(Optional.of(category))`. This is bad.\r\n\r\nHow do I fix it in a nice way? I came up with this test case, although this smells a little: the way I create a new String disturbs me somehow.\r\n```\r\n        @ParameterizedTest\r\n        @MethodSource(&quot;com.demo.blog.postservice.category.CategoryServiceTest#categories&quot;)\r\n        void shouldReturnCategory(Category category) {\r\n            // arrange\r\n            String expectedName = new String(category.getName());\r\n            when(repository.findByName(category)).thenReturn(Optional.of(category)));\r\n\r\n            // act\r\n            Category actual = SUT.get(category.getName());\r\n\r\n            // assert\r\n            PostAssertions.assertThat(actual).isNamed(expectedName);\r\n            verify(repository, times(1)).findByName(category.getName());\r\n            verifyNoMoreInteractions(repository);\r\n        }\r\n```\r\nI&#39;m open to any suggestions.\r\n\r\n**UPDATE:**\r\n* `category.getName()` returns a String\r\n\r\n* The tested service method:\r\n```\r\n    Category get(String categoryName) {\r\n        if(categoryName == null)\r\n            throw new NullPointerException(&quot;Category name was null&quot;);\r\n        return categoryRepository.findByName(categoryName)\r\n                .orElseThrow(CategoryNotFoundException::new);\r\n    }\r\n```\r\n* Category class:\r\n```\r\n@Document(&quot;category&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\npublic class Category {\r\n\r\n    @Id\r\n    private Long id;\r\n    @Indexed(unique = true)\r\n    private String name;\r\n    private Set&lt;Post&gt; posts = new HashSet&lt;&gt;();\r\n}\r\n```","title":"Doubts about assertion in the test with mocks","body":"<p>I have a test which uses a mocking framework (Mockito).</p>\n<p>The SUT is a simple service class that on <code>get(String)</code> should ask repository (mock) to return - if exists - the Category object.</p>\n<p>Since this is a unit test, you'll notice that I stub the <code>repository.findByName(String)</code> method to return an <code>Optional.of(category)</code>. I just want to test the service layer.</p>\n<p>Here's the whole test case:</p>\n<pre><code>        @ParameterizedTest\n        @MethodSource(&quot;com.demo.blog.postservice.category.CategoryServiceTest#categories&quot;)\n        void shouldReturnCategory(Category category) {\n            // arrange\n            when(repository.findByName(category.getName())).thenReturn(Optional.of(category));\n\n            // act\n            Category actual = SUT.get(category.getName());\n\n            // assert\n            assertThat(actual).isEqualTo(category);\n            verify(repository, times(1)).findByName(category.getName());\n            verifyNoMoreInteractions(repository);\n        }\n</code></pre>\n<p>The part that troubles me is the <code>assert</code> part. Note that I compare essentially the very same objects (references are equal), because <code>actual</code> is the mocked value from the <code>when(repository.findByName(category.getName())).thenReturn(Optional.of(category))</code>. This is bad.</p>\n<p>How do I fix it in a nice way? I came up with this test case, although this smells a little: the way I create a new String disturbs me somehow.</p>\n<pre><code>        @ParameterizedTest\n        @MethodSource(&quot;com.demo.blog.postservice.category.CategoryServiceTest#categories&quot;)\n        void shouldReturnCategory(Category category) {\n            // arrange\n            String expectedName = new String(category.getName());\n            when(repository.findByName(category)).thenReturn(Optional.of(category)));\n\n            // act\n            Category actual = SUT.get(category.getName());\n\n            // assert\n            PostAssertions.assertThat(actual).isNamed(expectedName);\n            verify(repository, times(1)).findByName(category.getName());\n            verifyNoMoreInteractions(repository);\n        }\n</code></pre>\n<p>I'm open to any suggestions.</p>\n<p><strong>UPDATE:</strong></p>\n<ul>\n<li><p><code>category.getName()</code> returns a String</p>\n</li>\n<li><p>The tested service method:</p>\n</li>\n</ul>\n<pre><code>    Category get(String categoryName) {\n        if(categoryName == null)\n            throw new NullPointerException(&quot;Category name was null&quot;);\n        return categoryRepository.findByName(categoryName)\n                .orElseThrow(CategoryNotFoundException::new);\n    }\n</code></pre>\n<ul>\n<li>Category class:</li>\n</ul>\n<pre><code>@Document(&quot;category&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class Category {\n\n    @Id\n    private Long id;\n    @Indexed(unique = true)\n    private String name;\n    private Set&lt;Post&gt; posts = new HashSet&lt;&gt;();\n}\n</code></pre>\n"},{"tags":["javascript","java","dom-events","vaadin","lit"],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697533918,"creation_date":1697533918,"answer_id":77307618,"question_id":77307349,"body_markdown":"You can use @EventData annotation in the Jaa constructor of the event for this. See example below:\r\n\r\n    @DomEvent(&quot;tab-changed&quot;)\r\n    public static class TabChangedEvent&lt;R extends TabSheet&gt;\r\n            extends ComponentEvent&lt;TabSheet&gt; {\r\n    ...\r\n\r\n        public TabChangedEvent(TabSheet source, boolean fromClient,\r\n                @EventData(&quot;event.detail&quot;) JsonObject details) {\r\n            super(source, fromClient);\r\n            this.index = (int) details.getNumber(&quot;index&quot;);\r\n            this.previousIndex = (int) details.getNumber(&quot;previousIndex&quot;);\r\n            this.previousTab = details.getString(&quot;previousTab&quot;);\r\n            this.tab = details.getString(&quot;tab&quot;);\r\n            this.caption = details.getString(&quot;caption&quot;);\r\n            this.source = source;\r\n        }\r\n\r\nThe full code is here https://github.com/TatuLund/TabSheet/blob/master/src/main/java/org/vaadin/addons/tatu/TabSheet.java#L385 and there is a longer story in [Vaadin Blog][1] about this.\r\n\r\n\r\n  [1]: https://vaadin.com/blog/creating-a-custom-component-with-lit","title":"Pass data via CustomEvent from JS to Java","body":"<p>You can use @EventData annotation in the Jaa constructor of the event for this. See example below:</p>\n<pre><code>@DomEvent(&quot;tab-changed&quot;)\npublic static class TabChangedEvent&lt;R extends TabSheet&gt;\n        extends ComponentEvent&lt;TabSheet&gt; {\n...\n\n    public TabChangedEvent(TabSheet source, boolean fromClient,\n            @EventData(&quot;event.detail&quot;) JsonObject details) {\n        super(source, fromClient);\n        this.index = (int) details.getNumber(&quot;index&quot;);\n        this.previousIndex = (int) details.getNumber(&quot;previousIndex&quot;);\n        this.previousTab = details.getString(&quot;previousTab&quot;);\n        this.tab = details.getString(&quot;tab&quot;);\n        this.caption = details.getString(&quot;caption&quot;);\n        this.source = source;\n    }\n</code></pre>\n<p>The full code is here <a href=\"https://github.com/TatuLund/TabSheet/blob/master/src/main/java/org/vaadin/addons/tatu/TabSheet.java#L385\" rel=\"nofollow noreferrer\">https://github.com/TatuLund/TabSheet/blob/master/src/main/java/org/vaadin/addons/tatu/TabSheet.java#L385</a> and there is a longer story in <a href=\"https://vaadin.com/blog/creating-a-custom-component-with-lit\" rel=\"nofollow noreferrer\">Vaadin Blog</a> about this.</p>\n"},{"tags":[],"owner":{"account_id":2515523,"reputation":1914,"user_id":2187063,"display_name":"mstahv"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697534405,"creation_date":1697534405,"answer_id":77307680,"question_id":77307349,"body_markdown":"Vaadin does not submit all properties of the event by default, you need to give it a hint. For example I&#39;m doing this in my [recent React example](https://github.com/parttio/colorful/blob/v24/src/main/java/org/vaadin/addons/parttio/colorful/HexColorPicker.java#L25):\r\n\r\n\r\n        getElement().addEventListener(&quot;color-change&quot;, e -&gt; {\r\n                    var newValue = e.getEventData().getString(&quot;event.hex&quot;);\r\n                    setModelValue(newValue, true);\r\n                })\r\n                .addEventData(&quot;event.hex&quot;)\r\n\r\n\r\nIn your case that could be:\r\n\r\n    .addEventData(&quot;event.detail&quot;)\r\n\r\nAnd then accessing that boolean:\r\n\r\n    e.getEventData().getBoolean(&quot;event.detail&quot;)\r\n\r\nAlternatively, you can create a custom event and declare the transferred details with annotations, as described in other answer, but that requires quite a lot more code.","title":"Pass data via CustomEvent from JS to Java","body":"<p>Vaadin does not submit all properties of the event by default, you need to give it a hint. For example I'm doing this in my <a href=\"https://github.com/parttio/colorful/blob/v24/src/main/java/org/vaadin/addons/parttio/colorful/HexColorPicker.java#L25\" rel=\"nofollow noreferrer\">recent React example</a>:</p>\n<pre><code>    getElement().addEventListener(&quot;color-change&quot;, e -&gt; {\n                var newValue = e.getEventData().getString(&quot;event.hex&quot;);\n                setModelValue(newValue, true);\n            })\n            .addEventData(&quot;event.hex&quot;)\n</code></pre>\n<p>In your case that could be:</p>\n<pre><code>.addEventData(&quot;event.detail&quot;)\n</code></pre>\n<p>And then accessing that boolean:</p>\n<pre><code>e.getEventData().getBoolean(&quot;event.detail&quot;)\n</code></pre>\n<p>Alternatively, you can create a custom event and declare the transferred details with annotations, as described in other answer, but that requires quite a lot more code.</p>\n"},{"comments":[{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":1,"creation_date":1697540246,"post_id":77307782,"comment_id":136289961,"body_markdown":"Is this generated using ChatGPT?","body":"Is this generated using ChatGPT?"},{"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"score":0,"creation_date":1697603127,"post_id":77307782,"comment_id":136298996,"body_markdown":"No, I have used this code few months ago.","body":"No, I have used this code few months ago."}],"tags":[],"owner":{"account_id":9378438,"reputation":1138,"user_id":8504033,"display_name":"Abdul Alim Shakir"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697535248,"creation_date":1697535248,"answer_id":77307782,"question_id":77307349,"body_markdown":"The following Java code will solve the issue :\r\n\r\n    getElement().addEventListener(&quot;change&quot;, e -&gt; {\r\n        JsonObject eventData = e.getEventData().getJsonObject(&quot;event.detail&quot;);\r\n        // Access specific properties from the eventData object\r\n        String breakLines = eventData.getString(&quot;breakLines&quot;);\r\n        System.out.println(&quot;change value: &quot; + breakLines);\r\n    });\r\n\r\nThe json object received from a JS lit component is obtained in this code using the `eventData.getJsonObject(&quot;event.detail&quot;)` method. Then, if breakLines is a property of the event.detail object in your custom event, you may get particular attributes from the eventData object using `eventData.getString(&quot;breakLines&quot;)`.","title":"Pass data via CustomEvent from JS to Java","body":"<p>The following Java code will solve the issue :</p>\n<pre><code>getElement().addEventListener(&quot;change&quot;, e -&gt; {\n    JsonObject eventData = e.getEventData().getJsonObject(&quot;event.detail&quot;);\n    // Access specific properties from the eventData object\n    String breakLines = eventData.getString(&quot;breakLines&quot;);\n    System.out.println(&quot;change value: &quot; + breakLines);\n});\n</code></pre>\n<p>The json object received from a JS lit component is obtained in this code using the <code>eventData.getJsonObject(&quot;event.detail&quot;)</code> method. Then, if breakLines is a property of the event.detail object in your custom event, you may get particular attributes from the eventData object using <code>eventData.getString(&quot;breakLines&quot;)</code>.</p>\n"}],"owner":{"account_id":16934870,"reputation":110,"user_id":12248145,"display_name":"chillin.killer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307680,"answer_count":3,"score":0,"last_activity_date":1697535248,"creation_date":1697531670,"question_id":77307349,"body_markdown":"I have a Vaadin project\r\n\r\nI&#39;m dispatching a `CustomEvent` from a JS lit component.\r\n\r\nI&#39;m listening to it from a Java class and I correctly receive the events emitted.\r\n\r\nThe following is my JS code:\r\n\r\n````javascript\r\nthis.dispatchEvent(new CustomEvent(&#39;change&#39;, {detail: this.breakLines, bubbles: true, composed: true}));\r\n````\r\n\r\nAnd the following is my Java listener:\r\n\r\n````java\r\ngetElement().addEventListener(&quot;change&quot;, e -&gt; {\r\n    System.out.println(&quot;change value: &quot; + e.getEventData());\r\n});\r\n````\r\n\r\nCurrently my Java code outputs an empty object `{}`\r\n\r\nHow can I extract the data that resides in `&quot;detail&quot;`?\r\n","title":"Pass data via CustomEvent from JS to Java","body":"<p>I have a Vaadin project</p>\n<p>I'm dispatching a <code>CustomEvent</code> from a JS lit component.</p>\n<p>I'm listening to it from a Java class and I correctly receive the events emitted.</p>\n<p>The following is my JS code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>this.dispatchEvent(new CustomEvent('change', {detail: this.breakLines, bubbles: true, composed: true}));\n</code></pre>\n<p>And the following is my Java listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getElement().addEventListener(&quot;change&quot;, e -&gt; {\n    System.out.println(&quot;change value: &quot; + e.getEventData());\n});\n</code></pre>\n<p>Currently my Java code outputs an empty object <code>{}</code></p>\n<p>How can I extract the data that resides in <code>&quot;detail&quot;</code>?</p>\n"},{"tags":["java","android","firebase-authentication","interceptor"],"comments":[{"owner":{"account_id":24519330,"reputation":91,"user_id":18432631,"display_name":"Terry"},"score":0,"creation_date":1698360543,"post_id":77307774,"comment_id":136399266,"body_markdown":"For posterity: this is discussed in more detail a grpc-java [issue](https://github.com/grpc/grpc-java/issues/10608).","body":"For posterity: this is discussed in more detail a grpc-java <a href=\"https://github.com/grpc/grpc-java/issues/10608\" rel=\"nofollow noreferrer\">issue</a>."}],"owner":{"account_id":3499009,"reputation":97,"user_id":2926237,"display_name":"Carlos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697535183,"creation_date":1697535183,"question_id":77307774,"body_markdown":"I am usign GRPC service and I am trying to extends ClientInterceptor to append some headers and ask to Firebase to give me a IdToken but I don&#39;t understand how can do it because `task.getResult()` go to in exception `java.lang.IllegalStateException: Task is not yet complete`\r\n\r\nI have tried also with a sync mode\r\n`GetTokenResult tokenResult = Tasks.await(task, 20, TimeUnit.SECONDS);`\r\nbut nothing, exception `java.lang.IllegalStateException: Must not be called on the main application thread`\r\n\r\n```\r\npublic class CustomHeaderInterceptor implements ClientInterceptor {\r\n    @Override\r\n    public &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(MethodDescriptor&lt;ReqT, RespT&gt; method, CallOptions callOptions, Channel next) {\r\n        return new ForwardingClientCall.SimpleForwardingClientCall&lt;ReqT, RespT&gt;(next.newCall(method, callOptions)) {\r\n            @Override\r\n            public void start(Listener&lt;RespT&gt; responseListener, Metadata headers) {\r\n                headers.put(Metadata.Key.of(&quot;X-XXX&quot;, Metadata.ASCII_STRING_MARSHALLER), &quot;test_test&quot;);\r\n\r\n                try {\r\n                    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                    if (user == null) {\r\n                        throw new Exception(&quot;User is not logged in.&quot;);\r\n                    } else {\r\n                        Task&lt;GetTokenResult&gt; task = user.getIdToken(false);\r\n                        GetTokenResult tokenResult = task.getResult();\r\n\r\n                        String idToken = tokenResult.getToken();\r\n                        headers.put(Metadata.Key.of(&quot;Authorization&quot;, Metadata.ASCII_STRING_MARSHALLER), &quot;Bearer &quot; + idToken);\r\n\r\n                        super.start(responseListener, headers);\r\n                    }\r\n                } catch (Exception e) {\r\n                    Log.d(this.getClass().getName(), new Gson().toJson(e));\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI have tried also `CompletableFuture`\r\n```\r\n                        Task&lt;GetTokenResult&gt; task = user.getIdToken(false);\r\n                        CompletableFuture&lt;String&gt; completableFuture = new CompletableFuture&lt;&gt;();\r\n                        task.addOnCompleteListener(new OnCompleteListener&lt;&gt;() {\r\n                           @Override\r\n                            public void onComplete(Task&lt;GetTokenResult&gt; task1) {\r\n                                GetTokenResult tokenResult = task1.getResult();\r\n                                String idToken = tokenResult.getToken();\r\n                                completableFuture.complete(idToken);\r\n                           }\r\n                        });\r\n                        String idToken = completableFuture.get();\r\n```\r\nbut the code stop on `completableFuture.get()`\r\n\r\nHow can I do to ask and append on each call the firebase token?","title":"ClientInterceptor and Firebase IdToken","body":"<p>I am usign GRPC service and I am trying to extends ClientInterceptor to append some headers and ask to Firebase to give me a IdToken but I don't understand how can do it because <code>task.getResult()</code> go to in exception <code>java.lang.IllegalStateException: Task is not yet complete</code></p>\n<p>I have tried also with a sync mode\n<code>GetTokenResult tokenResult = Tasks.await(task, 20, TimeUnit.SECONDS);</code>\nbut nothing, exception <code>java.lang.IllegalStateException: Must not be called on the main application thread</code></p>\n<pre><code>public class CustomHeaderInterceptor implements ClientInterceptor {\n    @Override\n    public &lt;ReqT, RespT&gt; ClientCall&lt;ReqT, RespT&gt; interceptCall(MethodDescriptor&lt;ReqT, RespT&gt; method, CallOptions callOptions, Channel next) {\n        return new ForwardingClientCall.SimpleForwardingClientCall&lt;ReqT, RespT&gt;(next.newCall(method, callOptions)) {\n            @Override\n            public void start(Listener&lt;RespT&gt; responseListener, Metadata headers) {\n                headers.put(Metadata.Key.of(&quot;X-XXX&quot;, Metadata.ASCII_STRING_MARSHALLER), &quot;test_test&quot;);\n\n                try {\n                    FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n                    if (user == null) {\n                        throw new Exception(&quot;User is not logged in.&quot;);\n                    } else {\n                        Task&lt;GetTokenResult&gt; task = user.getIdToken(false);\n                        GetTokenResult tokenResult = task.getResult();\n\n                        String idToken = tokenResult.getToken();\n                        headers.put(Metadata.Key.of(&quot;Authorization&quot;, Metadata.ASCII_STRING_MARSHALLER), &quot;Bearer &quot; + idToken);\n\n                        super.start(responseListener, headers);\n                    }\n                } catch (Exception e) {\n                    Log.d(this.getClass().getName(), new Gson().toJson(e));\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>I have tried also <code>CompletableFuture</code></p>\n<pre><code>                        Task&lt;GetTokenResult&gt; task = user.getIdToken(false);\n                        CompletableFuture&lt;String&gt; completableFuture = new CompletableFuture&lt;&gt;();\n                        task.addOnCompleteListener(new OnCompleteListener&lt;&gt;() {\n                           @Override\n                            public void onComplete(Task&lt;GetTokenResult&gt; task1) {\n                                GetTokenResult tokenResult = task1.getResult();\n                                String idToken = tokenResult.getToken();\n                                completableFuture.complete(idToken);\n                           }\n                        });\n                        String idToken = completableFuture.get();\n</code></pre>\n<p>but the code stop on <code>completableFuture.get()</code></p>\n<p>How can I do to ask and append on each call the firebase token?</p>\n"},{"tags":["java","android","sockets","stream","webrtc"],"comments":[{"owner":{"account_id":9069128,"reputation":1018,"user_id":6752997,"display_name":"Jakub Licznerski"},"score":0,"creation_date":1634570085,"post_id":65487331,"comment_id":123054365,"body_markdown":"were you able to resolve the issue ?","body":"were you able to resolve the issue ?"}],"answers":[{"comments":[{"owner":{"account_id":11491104,"reputation":107,"user_id":8422052,"display_name":"Albert Aleksieiev"},"score":0,"creation_date":1697535087,"post_id":77307757,"comment_id":136288947,"body_markdown":"btw If you don&#39;t want to add \n```\nimplementation &quot;io.getstream:stream-webrtc-android:1.0.4&quot;\n```\n\nYou can change a code and use directly `implementation &#39;org.webrtc:google-webrtc:1.0.+&#39;`","body":"btw If you don&#39;t want to add  ``` implementation &quot;io.getstream:stream-webrtc-android:1.0.4&quot; ```  You can change a code and use directly <code>implementation &#39;org.webrtc:google-webrtc:1.0.+&#39;</code>"}],"tags":[],"owner":{"account_id":11491104,"reputation":107,"user_id":8422052,"display_name":"Albert Aleksieiev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697534971,"creation_date":1697534971,"answer_id":77307757,"question_id":65487331,"body_markdown":"Finally, I found a solution how to properly close and reopen the connection without crashing :) I use https://github.com/GetStream/webrtc-in-jetpack-compose/tree/main/webrtc-android as a good starting point with much logic that is already implemented here(like audio).\r\n\r\n### Close\r\n\r\n```\r\nlocalAudioTrack.setEnabled(false)\r\nlocalVideoTrack.setEnabled(false)\r\n\r\naudioHandler.stop() // See https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/audio/AudioHandler.kt#L69\r\nvideoCapturer.stopCapture()\r\n\r\nremoteVideoTrackFlow.replayCache.forEach { it.setEnabled(false) } // Disable remote videoTrack\r\n\r\npeerConnection.onTrack(null)\r\npeerConnection.onRemoveTrack(null)\r\npeerConnection.onIceCandidate(null)\r\npeerConnection.onIceConnectionChange(null)\r\npeerConnection.onSignalingChange(null)\r\n// And finally close connection\r\npeerConnection.close()\r\n```\r\n\r\nAnd the most important part **you dont neet to close/dispose `PeerConnectionFactory`, because it leads to crash in my case.**\r\n\r\n\r\n### Open\r\nJust recreate a `peerConnectionFactory.makePeerConnection` new peer connection. In my case I just recreate `WebRtcSessionManagerImpl` from the lib above(https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/sessions/WebRtcSessionManagerImpl.kt)\r\n\r\n# &#128640; Good luck &#128640;","title":"How to properly close Android WebRTC connection?","body":"<p>Finally, I found a solution how to properly close and reopen the connection without crashing :) I use <a href=\"https://github.com/GetStream/webrtc-in-jetpack-compose/tree/main/webrtc-android\" rel=\"nofollow noreferrer\">https://github.com/GetStream/webrtc-in-jetpack-compose/tree/main/webrtc-android</a> as a good starting point with much logic that is already implemented here(like audio).</p>\n<h3>Close</h3>\n<pre><code>localAudioTrack.setEnabled(false)\nlocalVideoTrack.setEnabled(false)\n\naudioHandler.stop() // See https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/audio/AudioHandler.kt#L69\nvideoCapturer.stopCapture()\n\nremoteVideoTrackFlow.replayCache.forEach { it.setEnabled(false) } // Disable remote videoTrack\n\npeerConnection.onTrack(null)\npeerConnection.onRemoveTrack(null)\npeerConnection.onIceCandidate(null)\npeerConnection.onIceConnectionChange(null)\npeerConnection.onSignalingChange(null)\n// And finally close connection\npeerConnection.close()\n</code></pre>\n<p>And the most important part <strong>you dont neet to close/dispose <code>PeerConnectionFactory</code>, because it leads to crash in my case.</strong></p>\n<h3>Open</h3>\n<p>Just recreate a <code>peerConnectionFactory.makePeerConnection</code> new peer connection. In my case I just recreate <code>WebRtcSessionManagerImpl</code> from the lib above(<a href=\"https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/sessions/WebRtcSessionManagerImpl.kt\" rel=\"nofollow noreferrer\">https://github.com/GetStream/webrtc-in-jetpack-compose/blob/main/webrtc-android/app/src/main/kotlin/io/getstream/webrtc/sample/compose/webrtc/sessions/WebRtcSessionManagerImpl.kt</a>)</p>\n<h1>🚀 Good luck 🚀</h1>\n"}],"owner":{"account_id":13771239,"reputation":618,"user_id":9938652,"display_name":"Ali Has"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697534971,"creation_date":1609216558,"question_id":65487331,"body_markdown":"I am using WebRTC Library in a service and an activity. In &quot;onDestroy&quot; of both components, I am trying to fully disconnect so that with the service/activity running again, the device can join room with the same procedure.\r\n\r\nFirstly, I have tried these old code snippet [here][1] Combined with [here][2]:\r\n\r\n\r\n    public void onDestroy() {\r\n        for (Peer peer : peers.values()) {\r\n            peer.pc.dispose();\r\n        }\r\n        videoSource.dispose();\r\n        factory.dispose();\r\n        client.off();&lt;---- You need to turn OFF and then disconnect  and then close it.\r\n        client.disconnect();\r\n        client.close();\r\n    }\r\n\r\nBut the activity/service crashes with this error (There was no leaking in my code):\r\n\r\n    Channel is unrecoverably broken and will be disposed!\r\n\r\nThen I learned that disposing connections and factory makes up for this error. So I just set them to null. The onDestroy callback turned out to be like this:\r\n\r\n    if(videoTrackFromCamera != null) videoTrackFromCamera.dispose();\r\n        //if(rootEglBase != null) rootEglBase.release(); //Causes Crash:: # Fatal error in ../../webrtc/sdk/android/src/jni/peerconnection_jni.cc, line 1031\r\n        //    # last system error: 0\r\n        //    # Check failed: 0 == (reinterpret_cast&lt;MediaStreamInterface*&gt;(j_p))-&gt;Release() (0 vs. 2)\r\n        //    # Unexpected refcount.\r\n        if(audioSource != null) audioSource.dispose();\r\n        if(localAudioTrack != null) localAudioTrack.dispose();\r\n\r\n        if(localMediaStream != null) localMediaStream.dispose();\r\n        if(mRemoteMediaStream != null) mRemoteMediaStream.dispose();\r\n        audioConstraints = null;\r\n\r\n        if (factory != null) {\r\n            factory.stopAecDump();\r\n        }\r\n        if (peerConnection != null) {\r\n            //peerConnection.dispose();\r\n            //peerConnection.close();\r\n            peerConnection = null;\r\n        }\r\n        if (factory != null) {\r\n            //factory.dispose(); //causes error  Channel is unrecoverably broken and will be disposed\r\n            factory = null;\r\n        }\r\n        if (socket != null) {\r\n            sendMessage(&quot;finished&quot;);\r\n            socket.disconnect();\r\n            socket.close();\r\n        }\r\n\r\nNow everything is fine except that only sometimes I get a crash with this error:\r\n\r\n    Channel {0} was not shutdown properly!!! ~*~*~*\r\n            Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.\r\n        java.lang.RuntimeException: ManagedChannel allocation site\r\n\r\nIs there a better way to end WebRTC connection?\r\nIf I want to stay in the room but stop sending and or receiving streams, what is the optimal way?\r\n\r\n  [1]: https://stackoverflow.com/questions/29566419/android-webrtc-crashes\r\n  [2]: https://stackoverflow.com/questions/49130567/fatal-signal6-during-disposing-peerconnection-webrtc","title":"How to properly close Android WebRTC connection?","body":"<p>I am using WebRTC Library in a service and an activity. In &quot;onDestroy&quot; of both components, I am trying to fully disconnect so that with the service/activity running again, the device can join room with the same procedure.</p>\n<p>Firstly, I have tried these old code snippet <a href=\"https://stackoverflow.com/questions/29566419/android-webrtc-crashes\">here</a> Combined with <a href=\"https://stackoverflow.com/questions/49130567/fatal-signal6-during-disposing-peerconnection-webrtc\">here</a>:</p>\n<pre><code>public void onDestroy() {\n    for (Peer peer : peers.values()) {\n        peer.pc.dispose();\n    }\n    videoSource.dispose();\n    factory.dispose();\n    client.off();&lt;---- You need to turn OFF and then disconnect  and then close it.\n    client.disconnect();\n    client.close();\n}\n</code></pre>\n<p>But the activity/service crashes with this error (There was no leaking in my code):</p>\n<pre><code>Channel is unrecoverably broken and will be disposed!\n</code></pre>\n<p>Then I learned that disposing connections and factory makes up for this error. So I just set them to null. The onDestroy callback turned out to be like this:</p>\n<pre><code>if(videoTrackFromCamera != null) videoTrackFromCamera.dispose();\n    //if(rootEglBase != null) rootEglBase.release(); //Causes Crash:: # Fatal error in ../../webrtc/sdk/android/src/jni/peerconnection_jni.cc, line 1031\n    //    # last system error: 0\n    //    # Check failed: 0 == (reinterpret_cast&lt;MediaStreamInterface*&gt;(j_p))-&gt;Release() (0 vs. 2)\n    //    # Unexpected refcount.\n    if(audioSource != null) audioSource.dispose();\n    if(localAudioTrack != null) localAudioTrack.dispose();\n\n    if(localMediaStream != null) localMediaStream.dispose();\n    if(mRemoteMediaStream != null) mRemoteMediaStream.dispose();\n    audioConstraints = null;\n\n    if (factory != null) {\n        factory.stopAecDump();\n    }\n    if (peerConnection != null) {\n        //peerConnection.dispose();\n        //peerConnection.close();\n        peerConnection = null;\n    }\n    if (factory != null) {\n        //factory.dispose(); //causes error  Channel is unrecoverably broken and will be disposed\n        factory = null;\n    }\n    if (socket != null) {\n        sendMessage(&quot;finished&quot;);\n        socket.disconnect();\n        socket.close();\n    }\n</code></pre>\n<p>Now everything is fine except that only sometimes I get a crash with this error:</p>\n<pre><code>Channel {0} was not shutdown properly!!! ~*~*~*\n        Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.\n    java.lang.RuntimeException: ManagedChannel allocation site\n</code></pre>\n<p>Is there a better way to end WebRTC connection?\nIf I want to stay in the room but stop sending and or receiving streams, what is the optimal way?</p>\n"},{"tags":["java","tcp"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697543869,"post_id":77307748,"comment_id":136290659,"body_markdown":"The underlying transport  stack is IP, probably over Ethernet, both full duplex. Maybe your NIC isn’t, but it’s most unlikely.","body":"The underlying transport  stack is IP, probably over Ethernet, both full duplex. Maybe your NIC isn’t, but it’s most unlikely."},{"owner":{"account_id":13438824,"reputation":84,"user_id":9696551,"display_name":"vcaraccio"},"score":0,"creation_date":1697552657,"post_id":77307748,"comment_id":136292541,"body_markdown":"Thanks for your reply but it still doesn&#39;t explain why it works using two sockets but not with a single one. I do have delays (more than 2ms on localhost and RecV-Q/SendV-Q that fill up)","body":"Thanks for your reply but it still doesn&#39;t explain why it works using two sockets but not with a single one. I do have delays (more than 2ms on localhost and RecV-Q/SendV-Q that fill up)"}],"tags":[],"owner":{"account_id":13438824,"reputation":84,"user_id":9696551,"display_name":"vcaraccio"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697534905,"creation_date":1697534905,"answer_id":77307748,"question_id":77300719,"body_markdown":"After doing additional tests, the way to solve this is to open two connections: one to receive data and one to send data. TCP connection is full duplex but it depends on the underlying transport stack.","title":"Slow TCP connection between local server/client","body":"<p>After doing additional tests, the way to solve this is to open two connections: one to receive data and one to send data. TCP connection is full duplex but it depends on the underlying transport stack.</p>\n"}],"owner":{"account_id":13438824,"reputation":84,"user_id":9696551,"display_name":"vcaraccio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697534905,"creation_date":1697447438,"question_id":77300719,"body_markdown":"I&#39;m trying to understand why I have latency spikes between a client and a server in a very simple setup. Below the code for both the client and the server:\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class TCPServer {\r\n    public static void main(String[] args) {\r\n        try {\r\n            ServerSocket serverSocket = new ServerSocket(12345); // Server socket is listening on port 12345\r\n            System.out.println(&quot;Server started. Waiting for a client...&quot;);\r\n\r\n            Socket clientSocket = serverSocket.accept(); // Server accepts the client connection\r\n            System.out.println(&quot;Client connected.&quot;);\r\n            clientSocket.setTcpNoDelay(true);\r\n            clientSocket.setSendBufferSize(16 * 1024);\r\n\r\n            PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n\r\n            // Thread for receiving messages from the client\r\n            Thread receiveThread = new Thread(() -&gt; {\r\n                try {\r\n                    while (true) {\r\n                        // Receiving timestamp from the client\r\n                        String clientMessage = in.readLine();\r\n                        long clientTimestamp = Long.parseLong(clientMessage);\r\n                        long timeDifference = System.currentTimeMillis() - clientTimestamp;\r\n                        if (timeDifference &gt; 1) {\r\n                            System.out.println(&quot;Time difference: &quot; + timeDifference + &quot; milliseconds&quot;);\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            receiveThread.start();\r\n\r\n            // Thread for sending messages to the client\r\n            Thread sendThread = new Thread(() -&gt; {\r\n                try {\r\n                    while (true) {\r\n                        // Sending current server timestamp to the client\r\n                        long serverTimestamp = System.currentTimeMillis();\r\n                        out.println(serverTimestamp);\r\n//                        out.flush();\r\n                        Thread.sleep(2);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            sendThread.start();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd the client\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PrintWriter;\r\nimport java.net.Socket;\r\n\r\npublic class TCPClient {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Socket socket = new Socket(&quot;localhost&quot;, 12345); // Connect to the server on localhost:12345\r\n            socket.setTcpNoDelay(true);\r\n            socket.setSendBufferSize(16 * 1024);\r\n\r\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\r\n            // Thread for receiving messages from the server\r\n            Thread receiveThread = new Thread(() -&gt; {\r\n                try {\r\n                    while (true) {\r\n                        // Receiving timestamp from the server\r\n                        String serverResponse = in.readLine();\r\n                        long serverTimestamp = Long.parseLong(serverResponse);\r\n                        long timeDifference = System.currentTimeMillis() - serverTimestamp;\r\n\r\n                        if (timeDifference &gt; 1) {\r\n                            System.out.println(&quot;Time difference: &quot; + timeDifference + &quot; milliseconds&quot;);\r\n                        }\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            receiveThread.start();\r\n\r\n            // Thread for sending messages to the server\r\n            Thread sendThread = new Thread(() -&gt; {\r\n                try {\r\n                    while (true) {\r\n                        // Sending current client timestamp to the server\r\n                        long clientTimestamp = System.currentTimeMillis();\r\n                        out.println(clientTimestamp);\r\n//                        out.flush();\r\n                        Thread.sleep(2);\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n            sendThread.start();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to manually flush after each send but it doesn&#39;t improve anything.\r\nI don&#39;t think that I should have spikes (2ms up to 10ms on the same machine - t3.large instance on AWS - 2vCPU/8GB RAM).\r\n\r\nAm I missing something?","title":"Slow TCP connection between local server/client","body":"<p>I'm trying to understand why I have latency spikes between a client and a server in a very simple setup. Below the code for both the client and the server:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class TCPServer {\n    public static void main(String[] args) {\n        try {\n            ServerSocket serverSocket = new ServerSocket(12345); // Server socket is listening on port 12345\n            System.out.println(&quot;Server started. Waiting for a client...&quot;);\n\n            Socket clientSocket = serverSocket.accept(); // Server accepts the client connection\n            System.out.println(&quot;Client connected.&quot;);\n            clientSocket.setTcpNoDelay(true);\n            clientSocket.setSendBufferSize(16 * 1024);\n\n            PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);\n            BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n\n            // Thread for receiving messages from the client\n            Thread receiveThread = new Thread(() -&gt; {\n                try {\n                    while (true) {\n                        // Receiving timestamp from the client\n                        String clientMessage = in.readLine();\n                        long clientTimestamp = Long.parseLong(clientMessage);\n                        long timeDifference = System.currentTimeMillis() - clientTimestamp;\n                        if (timeDifference &gt; 1) {\n                            System.out.println(&quot;Time difference: &quot; + timeDifference + &quot; milliseconds&quot;);\n                        }\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n            receiveThread.start();\n\n            // Thread for sending messages to the client\n            Thread sendThread = new Thread(() -&gt; {\n                try {\n                    while (true) {\n                        // Sending current server timestamp to the client\n                        long serverTimestamp = System.currentTimeMillis();\n                        out.println(serverTimestamp);\n//                        out.flush();\n                        Thread.sleep(2);\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            });\n            sendThread.start();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>And the client</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PrintWriter;\nimport java.net.Socket;\n\npublic class TCPClient {\n    public static void main(String[] args) {\n        try {\n            Socket socket = new Socket(&quot;localhost&quot;, 12345); // Connect to the server on localhost:12345\n            socket.setTcpNoDelay(true);\n            socket.setSendBufferSize(16 * 1024);\n\n            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n            BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n            // Thread for receiving messages from the server\n            Thread receiveThread = new Thread(() -&gt; {\n                try {\n                    while (true) {\n                        // Receiving timestamp from the server\n                        String serverResponse = in.readLine();\n                        long serverTimestamp = Long.parseLong(serverResponse);\n                        long timeDifference = System.currentTimeMillis() - serverTimestamp;\n\n                        if (timeDifference &gt; 1) {\n                            System.out.println(&quot;Time difference: &quot; + timeDifference + &quot; milliseconds&quot;);\n                        }\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n            receiveThread.start();\n\n            // Thread for sending messages to the server\n            Thread sendThread = new Thread(() -&gt; {\n                try {\n                    while (true) {\n                        // Sending current client timestamp to the server\n                        long clientTimestamp = System.currentTimeMillis();\n                        out.println(clientTimestamp);\n//                        out.flush();\n                        Thread.sleep(2);\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            });\n            sendThread.start();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I tried to manually flush after each send but it doesn't improve anything.\nI don't think that I should have spikes (2ms up to 10ms on the same machine - t3.large instance on AWS - 2vCPU/8GB RAM).</p>\n<p>Am I missing something?</p>\n"},{"tags":["java","micronaut","micronaut-client","micronaut-rest"],"comments":[{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1620517183,"post_id":65747492,"comment_id":119224731,"body_markdown":"why not create an exception handler specifically for `io.micronaut.core.serialize.exceptions.SerializationException`","body":"why not create an exception handler specifically for <code>io.micronaut.core.serialize.exceptions.SerializationExceptio&zwnj;&#8203;n</code>"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1620517262,"post_id":65747492,"comment_id":119224743,"body_markdown":"I tried creating a handler for `Exception` but it didn&#39;t work, so I instead did `class ConversionErrorHandler : ExceptionHandler&lt;ConversionErrorException, HttpResponse&lt;*&gt;` and it worked fine","body":"I tried creating a handler for <code>Exception</code> but it didn&#39;t work, so I instead did <code>class ConversionErrorHandler : ExceptionHandler&lt;ConversionErrorException, HttpResponse&lt;*&gt;</code> and it worked fine"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":1,"creation_date":1620517317,"post_id":65747492,"comment_id":119224752,"body_markdown":"Also, you should try annotating your class with `import io.micronaut.context.annotation.Primary` so it favours your exception handler over others.","body":"Also, you should try annotating your class with <code>import io.micronaut.context.annotation.Primary</code> so it favours your exception handler over others."},{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":0,"creation_date":1620572391,"post_id":65747492,"comment_id":119234993,"body_markdown":"@Archmede can you please post answer","body":"@Archmede can you please post answer"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1620603932,"post_id":65747492,"comment_id":119242282,"body_markdown":"Check my answer here https://stackoverflow.com/questions/56676486/constraintviolationexception-handler-isnt-executed-in-micronaut/67453167#67453167","body":"Check my answer here <a href=\"https://stackoverflow.com/questions/56676486/constraintviolationexception-handler-isnt-executed-in-micronaut/67453167#67453167\" title=\"constraintviolationexception handler isnt executed in micronaut\">stackoverflow.com/questions/56676486/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"score":1,"creation_date":1626142701,"post_id":68349013,"comment_id":120807851,"body_markdown":"Well, the above code doesn&#39;t catch any exception during the runtime, but if I throw an exception manually it has been caught. I have a rabbit producer which throws an exception, but those exception not been caught","body":"Well, the above code doesn&#39;t catch any exception during the runtime, but if I throw an exception manually it has been caught. I have a rabbit producer which throws an exception, but those exception not been caught"}],"tags":[],"owner":{"account_id":1318500,"reputation":12102,"user_id":1264846,"accept_rate":62,"display_name":"James Kleeh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626099689,"creation_date":1626099689,"answer_id":68349013,"question_id":65747492,"body_markdown":"When an exception occurs on the server an `ExceptionHandler` is looked up in the bean context that most closely matches the thrown exception (by the type arguments of the handler). To handle all exceptions it would be required to replace all provided exception handlers. There are around a dozen or so of them. \r\n\r\nOne option is to replace the default error response processor. That is what is responsible for the body being HATEOS for example. See the [documentation][1] on error handling for the specifics. \r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/guide/#errorHandling","title":"Global exception handling in micronaut Java","body":"<p>When an exception occurs on the server an <code>ExceptionHandler</code> is looked up in the bean context that most closely matches the thrown exception (by the type arguments of the handler). To handle all exceptions it would be required to replace all provided exception handlers. There are around a dozen or so of them.</p>\n<p>One option is to replace the default error response processor. That is what is responsible for the body being HATEOS for example. See the <a href=\"https://docs.micronaut.io/latest/guide/#errorHandling\" rel=\"nofollow noreferrer\">documentation</a> on error handling for the specifics.</p>\n"},{"tags":[],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630074549,"creation_date":1626198945,"answer_id":68367295,"question_id":65747492,"body_markdown":"This solution works for me\r\n\r\n    @Produces\r\n    @Singleton\r\n    @Requires(classes = {GlobalException.class, ExceptionHandler.class})\r\n    public class GlobalExceptionHandler implements ExceptionHandler&lt;GlobalException, HttpResponse&gt; {\r\n        private static final Logger LOG = LoggerFactory.getLogger(GlobalExceptionHandler.class);\r\n    \r\n        @Override\r\n        public HttpResponse handle(HttpRequest request, GlobalException exception) {\r\n            LOG.error(exception.getLocalizedMessage());\r\n            LOG.error(exception.getCause().getMessage());\r\n            Arrays.stream(exception.getStackTrace()).forEach(item -&gt;  LOG.error(item.toString()));\r\n            return HttpResponse.serverError(exception.getLocalizedMessage());\r\n        }\r\n    }\r\n\r\n    public class GlobalException extends RuntimeException{\r\n        public GlobalException(Throwable throwable){super(throwable);}\r\n    }\r\n\r\n**Controller** \r\n\r\n      public Maybe&lt;FindProductCommand&gt; get(ProductSearchCriteriaCommand searchCriteria) {\r\n            LOG.info(&quot;Controller --&gt; Finding all the products&quot;);\r\n            return iProductManager.find(searchCriteria)\r\n                    .onErrorResumeNext(throwable -&gt;  { return Maybe.error(new GlobalException(throwable));});\r\n        }\r\n\r\nUpdate with Micronaut 3 and project reactor\r\n\r\n    @Override\r\n    @SingleResult\r\n    public Flux&lt;List&lt;FindProductCommand&gt;&gt; freeTextSearch(String text) {\r\n        LOG.info(&quot;Controller --&gt; Finding all the products&quot;);\r\n        return iProductManager.findFreeText(text)\r\n                .onErrorMap(throwable -&gt; {\r\n                    throw new GlobalException(throwable);\r\n                });\r\n    }","title":"Global exception handling in micronaut Java","body":"<p>This solution works for me</p>\n<pre><code>@Produces\n@Singleton\n@Requires(classes = {GlobalException.class, ExceptionHandler.class})\npublic class GlobalExceptionHandler implements ExceptionHandler&lt;GlobalException, HttpResponse&gt; {\n    private static final Logger LOG = LoggerFactory.getLogger(GlobalExceptionHandler.class);\n\n    @Override\n    public HttpResponse handle(HttpRequest request, GlobalException exception) {\n        LOG.error(exception.getLocalizedMessage());\n        LOG.error(exception.getCause().getMessage());\n        Arrays.stream(exception.getStackTrace()).forEach(item -&gt;  LOG.error(item.toString()));\n        return HttpResponse.serverError(exception.getLocalizedMessage());\n    }\n}\n\npublic class GlobalException extends RuntimeException{\n    public GlobalException(Throwable throwable){super(throwable);}\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>  public Maybe&lt;FindProductCommand&gt; get(ProductSearchCriteriaCommand searchCriteria) {\n        LOG.info(&quot;Controller --&gt; Finding all the products&quot;);\n        return iProductManager.find(searchCriteria)\n                .onErrorResumeNext(throwable -&gt;  { return Maybe.error(new GlobalException(throwable));});\n    }\n</code></pre>\n<p>Update with Micronaut 3 and project reactor</p>\n<pre><code>@Override\n@SingleResult\npublic Flux&lt;List&lt;FindProductCommand&gt;&gt; freeTextSearch(String text) {\n    LOG.info(&quot;Controller --&gt; Finding all the products&quot;);\n    return iProductManager.findFreeText(text)\n            .onErrorMap(throwable -&gt; {\n                throw new GlobalException(throwable);\n            });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635585722,"creation_date":1635585408,"answer_id":69778271,"question_id":65747492,"body_markdown":"We can use `import io.micronaut.http.server.exceptions.ExceptionHandler`\r\nfor global error handling.\r\n\r\n\r\n**Create an Error Message:**\r\n\r\n    public class ErrorMessage {\r\n    \r\n        private String message;\r\n        private Boolean status;\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public Boolean getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public void setStatus(Boolean status) {\r\n            this.status = status;\r\n        }\r\n    \r\n    }\r\n\r\n**Create the Custom Exception:**\r\n    \r\n    import java.io.Serializable;\r\n    \r\n    public class CustomException extends RuntimeException \r\n        implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        public CustomException() {\r\n        }\r\n    \r\n        public CustomException(String message) {\r\n            super(message);\r\n        }\r\n    \r\n        public CustomException(String message, Throwable cause) {\r\n            super(message, cause);\r\n        }\r\n    \r\n        public CustomException(Throwable cause) {\r\n            super(cause);\r\n        }\r\n    \r\n        public CustomException(String message, Throwable cause, \r\n        boolean enableSuppression, boolean writableStackTrace) {\r\n            super(message, cause, enableSuppression, writableStackTrace);\r\n        }\r\n    }\r\n\r\n\r\n**Create the Custom Exception Handler:**\r\n\r\n       \r\n    import io.micronaut.context.annotation.Requires;\r\n    import io.micronaut.http.HttpRequest;\r\n    import io.micronaut.http.HttpResponse;\r\n    import io.micronaut.http.HttpStatus;\r\n    import io.micronaut.http.annotation.Produces;\r\n    import io.micronaut.http.server.exceptions.ExceptionHandler;\r\n    import jakarta.inject.Singleton;\r\n    \r\n    @Produces\r\n    @Singleton\r\n    @Requires(classes = { CustomException.class, ExceptionHandler.class })\r\n    \r\n    public class CustomExceptionHandler \r\n        implements ExceptionHandler&lt;CustomException, HttpResponse&lt;ErrorMessage&gt;&gt; {\r\n    \r\n        @Override\r\n        public HttpResponse&lt;ErrorMessage&gt; \r\n            handle(HttpRequest request, CustomException exception) {\r\n    \r\n            ErrorMessage message = new ErrorMessage();\r\n            message.setMessage(exception.getMessage());\r\n            message.setStatus(false);\r\n            return HttpResponse.serverError(message).\r\n                    status(HttpStatus.BAD_REQUEST);\r\n        }\r\n    \r\n    }\r\n\r\n**Demo Controller:**\r\n\r\n    import com.knf.dev.demo.data.UserData;\r\n    import com.knf.dev.demo.exception.CustomException;\r\n    import com.knf.dev.demo.model.User;\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    \r\n    @Controller\r\n    public class UserController {\r\n    \r\n        protected final UserData userData;\r\n    \r\n        public UserController(UserData userData) {\r\n            this.userData = userData;\r\n        }\r\n    \r\n        @Get(&quot;/users/{id}&quot;)\r\n        public User findUserById(String id) throws CustomException {\r\n            Long user_id = null;\r\n            try {\r\n                user_id = Long.parseLong(id);\r\n            } catch (NumberFormatException e) {\r\n                throw new CustomException(&quot;User Id must be numeric&quot;);\r\n            }\r\n            User user = userData.getUserById(user_id);\r\n            if (user == null) {\r\n                throw new CustomException(&quot;Entity Not Found&quot;);\r\n            }\r\n            return user;\r\n        }\r\n    }\r\n\r\n**Verify the REST APIs**\r\n\r\n**Case 1: Invalid Request (Entity Not found):**\r\n[![enter image description here][2]][2]\r\n\r\n**Case 2: Invalid Request(User Id must be numeric):**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Case 3: Valid request:**\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://www.knowledgefactory.net/2021/10/micronaut-rest-exception-handling-global.html\r\n  [2]: https://i.stack.imgur.com/Ay5bm.png\r\n  [3]: https://i.stack.imgur.com/2ICNO.png\r\n  [4]: https://i.stack.imgur.com/UqFf8.png","title":"Global exception handling in micronaut Java","body":"<p>We can use <code>import io.micronaut.http.server.exceptions.ExceptionHandler</code>\nfor global error handling.</p>\n<p><strong>Create an Error Message:</strong></p>\n<pre><code>public class ErrorMessage {\n\n    private String message;\n    private Boolean status;\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public Boolean getStatus() {\n        return status;\n    }\n\n    public void setStatus(Boolean status) {\n        this.status = status;\n    }\n\n}\n</code></pre>\n<p><strong>Create the Custom Exception:</strong></p>\n<pre><code>import java.io.Serializable;\n\npublic class CustomException extends RuntimeException \n    implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    public CustomException() {\n    }\n\n    public CustomException(String message) {\n        super(message);\n    }\n\n    public CustomException(String message, Throwable cause) {\n        super(message, cause);\n    }\n\n    public CustomException(Throwable cause) {\n        super(cause);\n    }\n\n    public CustomException(String message, Throwable cause, \n    boolean enableSuppression, boolean writableStackTrace) {\n        super(message, cause, enableSuppression, writableStackTrace);\n    }\n}\n</code></pre>\n<p><strong>Create the Custom Exception Handler:</strong></p>\n<pre><code>import io.micronaut.context.annotation.Requires;\nimport io.micronaut.http.HttpRequest;\nimport io.micronaut.http.HttpResponse;\nimport io.micronaut.http.HttpStatus;\nimport io.micronaut.http.annotation.Produces;\nimport io.micronaut.http.server.exceptions.ExceptionHandler;\nimport jakarta.inject.Singleton;\n\n@Produces\n@Singleton\n@Requires(classes = { CustomException.class, ExceptionHandler.class })\n\npublic class CustomExceptionHandler \n    implements ExceptionHandler&lt;CustomException, HttpResponse&lt;ErrorMessage&gt;&gt; {\n\n    @Override\n    public HttpResponse&lt;ErrorMessage&gt; \n        handle(HttpRequest request, CustomException exception) {\n\n        ErrorMessage message = new ErrorMessage();\n        message.setMessage(exception.getMessage());\n        message.setStatus(false);\n        return HttpResponse.serverError(message).\n                status(HttpStatus.BAD_REQUEST);\n    }\n\n}\n</code></pre>\n<p><strong>Demo Controller:</strong></p>\n<pre><code>import com.knf.dev.demo.data.UserData;\nimport com.knf.dev.demo.exception.CustomException;\nimport com.knf.dev.demo.model.User;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\n\n@Controller\npublic class UserController {\n\n    protected final UserData userData;\n\n    public UserController(UserData userData) {\n        this.userData = userData;\n    }\n\n    @Get(&quot;/users/{id}&quot;)\n    public User findUserById(String id) throws CustomException {\n        Long user_id = null;\n        try {\n            user_id = Long.parseLong(id);\n        } catch (NumberFormatException e) {\n            throw new CustomException(&quot;User Id must be numeric&quot;);\n        }\n        User user = userData.getUserById(user_id);\n        if (user == null) {\n            throw new CustomException(&quot;Entity Not Found&quot;);\n        }\n        return user;\n    }\n}\n</code></pre>\n<p><strong>Verify the REST APIs</strong></p>\n<p><strong>Case 1: Invalid Request (Entity Not found):</strong>\n<a href=\"https://i.stack.imgur.com/Ay5bm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ay5bm.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Case 2: Invalid Request(User Id must be numeric):</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2ICNO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ICNO.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Case 3: Valid request:</strong>\n<a href=\"https://i.stack.imgur.com/UqFf8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UqFf8.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":4345398,"reputation":495,"user_id":3547474,"accept_rate":33,"display_name":"Luis Miguel"},"score":0,"creation_date":1665419625,"post_id":72844108,"comment_id":130690849,"body_markdown":"Where did you declare this method? i&#39;m trying to follow this approach but it&#39;s not working even when I&#39;m declaring same method inside a @Singleton class","body":"Where did you declare this method? i&#39;m trying to follow this approach but it&#39;s not working even when I&#39;m declaring same method inside a @Singleton class"}],"tags":[],"owner":{"account_id":18778529,"reputation":81,"user_id":13693711,"display_name":"Sankalp Bhatt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656826010,"creation_date":1656825941,"answer_id":72844108,"question_id":65747492,"body_markdown":"I will suggest to handle Exception/Throwable in the @Singleton handler instead of a custom exception and try catch everywhere in the code. Unlike springboot, Micronaut doesn&#39;t allow to handle multiple exception types in handler. So you can refer to below code:\r\n\r\n    @Error(global = true, exception = Exception::class)\r\n    override fun handle(request: HttpRequest&lt;*&gt;?, \r\n         exception: Exception?): HttpResponse&lt;ErrResp&gt; {\r\n\r\n         var errorMessage: ErrResp\r\n\r\n         when (exception) {\r\n             is CustomException -&gt; {\r\n                 errorMessage = exception?.error?.let {\r\n                     ErrResp(\r\n                         it.code,\r\n                         it.message,\r\n                         it.httpStatus\r\n                     )\r\n                 }!!\r\n             }\r\n             is HttpStatusException -&gt; {\r\n                 errorMessage = ErrResp(\r\n                     500,\r\n                     exception.message,\r\n                     HttpStatus.SERVICE_UNAVAILABLE\r\n                 )\r\n             }\r\n             else -&gt; {\r\n                 errorMessage = ErrResp(\r\n                     500,\r\n                     exception?.message,\r\n                     HttpStatus.INTERNAL_SERVER_ERROR\r\n                 )\r\n             }\r\n         }\r\n         return getResponse(errorMessage?.httpStatus, errorMessage)\r\n     }\r\n\r\n     private fun getResponse(httpStatus: HttpStatus?, \r\n        errorMessage: ErrorResponse): HttpResponse&lt;ErrorResponse&gt; {\r\n\r\n        return if (httpStatus?.equals(HttpStatus.BAD_REQUEST) == true)\r\n            HttpResponse.badRequest(errorMessage)\r\n\r\n        else if (httpStatus?.equals(HttpStatus.INTERNAL_SERVER_ERROR) == true)\r\n\r\n        else\r\n            HttpResponse.serverError(errorMessage)\r\n    \r\n    }\r\n\r\nI have created a ErrorResponse class to send custom error response to the UI\r\n\r\n    data class ErrResp(\r\n        var errorCode: String = &quot;&quot;,\r\n\r\n        var errorMessage: String? = &quot;&quot;,\r\n\r\n        var httpStatus: HttpStatus?,\r\n    )\r\n \r\n","title":"Global exception handling in micronaut Java","body":"<p>I will suggest to handle Exception/Throwable in the @Singleton handler instead of a custom exception and try catch everywhere in the code. Unlike springboot, Micronaut doesn't allow to handle multiple exception types in handler. So you can refer to below code:</p>\n<pre><code>@Error(global = true, exception = Exception::class)\noverride fun handle(request: HttpRequest&lt;*&gt;?, \n     exception: Exception?): HttpResponse&lt;ErrResp&gt; {\n\n     var errorMessage: ErrResp\n\n     when (exception) {\n         is CustomException -&gt; {\n             errorMessage = exception?.error?.let {\n                 ErrResp(\n                     it.code,\n                     it.message,\n                     it.httpStatus\n                 )\n             }!!\n         }\n         is HttpStatusException -&gt; {\n             errorMessage = ErrResp(\n                 500,\n                 exception.message,\n                 HttpStatus.SERVICE_UNAVAILABLE\n             )\n         }\n         else -&gt; {\n             errorMessage = ErrResp(\n                 500,\n                 exception?.message,\n                 HttpStatus.INTERNAL_SERVER_ERROR\n             )\n         }\n     }\n     return getResponse(errorMessage?.httpStatus, errorMessage)\n }\n\n private fun getResponse(httpStatus: HttpStatus?, \n    errorMessage: ErrorResponse): HttpResponse&lt;ErrorResponse&gt; {\n\n    return if (httpStatus?.equals(HttpStatus.BAD_REQUEST) == true)\n        HttpResponse.badRequest(errorMessage)\n\n    else if (httpStatus?.equals(HttpStatus.INTERNAL_SERVER_ERROR) == true)\n\n    else\n        HttpResponse.serverError(errorMessage)\n\n}\n</code></pre>\n<p>I have created a ErrorResponse class to send custom error response to the UI</p>\n<pre><code>data class ErrResp(\n    var errorCode: String = &quot;&quot;,\n\n    var errorMessage: String? = &quot;&quot;,\n\n    var httpStatus: HttpStatus?,\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7377601,"reputation":11,"user_id":5615608,"display_name":"ajitha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697534828,"creation_date":1697534518,"answer_id":77307693,"question_id":65747492,"body_markdown":"simply create custom exceptions based on your need &amp; extend them with GlobalException. in this case whatever the exception you are throwing will cauth by GlobalExceptionHandler.\r\n\r\nmake sure GlobalException is extending RuntimeEception\r\n\r\n        public abstract class GlobalException extends RuntimeException {\r\n        \r\n            public GlobalException(String message) {\r\n                super(message);\r\n            }\r\n        \r\n            public GlobalException(String message, Throwable throwable) {\r\n                super(message, throwable);\r\n            }\r\n    }\r\n\r\n\r\n    public class BadRequestException extends GlocalException { //400\r\n    \r\n        public BadRequestException(String message) {\r\n            super(message);\r\n        }\r\n    }\r\n\r\n","title":"Global exception handling in micronaut Java","body":"<p>simply create custom exceptions based on your need &amp; extend them with GlobalException. in this case whatever the exception you are throwing will cauth by GlobalExceptionHandler.</p>\n<p>make sure GlobalException is extending RuntimeEception</p>\n<pre><code>    public abstract class GlobalException extends RuntimeException {\n    \n        public GlobalException(String message) {\n            super(message);\n        }\n    \n        public GlobalException(String message, Throwable throwable) {\n            super(message, throwable);\n        }\n}\n\n\npublic class BadRequestException extends GlocalException { //400\n\n    public BadRequestException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8540,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":5,"score":9,"last_activity_date":1697534828,"creation_date":1610783183,"question_id":65747492,"body_markdown":"Looking for a better solution to handle the global exception in micronaut https://docs.micronaut.io/latest/guide/index.html#errorHandling\r\n\r\n**Controller**\r\n\r\n    @Controller(&quot;/category&quot;)\r\n    public class CategoryController {\r\n    @Delete(uri = &quot;/{id}&quot;)\r\n    public Maybe&lt;HttpResponse&gt; delete(@NotBlank String id) {\r\n                LOG.info(String.format(&quot;API --&gt; Deleting the specified category&quot;));\r\n                return iCategoryManager.Count(id).flatMap(item -&gt; {\r\n                    if (item &gt; 0) {\r\n                        iCategoryManager.Delete(id).subscribe();\r\n                        return Maybe.just(HttpResponse.noContent());\r\n                    } else\r\n                        return Maybe.just(HttpResponse.notFound());\r\n                });\r\n        }\r\n    }\r\n\r\n`iCategoryManager.Count(id)` cause an exception as below, How can I catch the exception on **GlobalExceptionHandler**\r\n\r\n    io.micronaut.core.serialize.exceptions.SerializationException: Incorrect message body size to deserialize to a Long\r\n        at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes$LongSerDes.deserialize(JavaLangRabbitMessageSerDes.java:314)\r\n        at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes$LongSerDes.deserialize(JavaLangRabbitMessageSerDes.java:306)\r\n        at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes.deserialize(JavaLangRabbitMessageSerDes.java:81)\r\n        at io.micronaut.rabbitmq.intercept.RabbitMQIntroductionAdvice.deserialize(RabbitMQIntroductionAdvice.java:323)\r\n        at io.micronaut.rabbitmq.intercept.RabbitMQIntroductionAdvice.lambda$intercept$22(RabbitMQIntroductionAdvice.java:268)\r\n        at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:132)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\r\n        at io.reactivex.internal.operators.flowable.FlowableTimeoutTimed$TimeoutSubscriber.onNext(FlowableTimeoutTimed.java:101)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\r\n        at io.reactivex.internal.subscriptions.DeferredScalarSubscription.complete(DeferredScalarSubscription.java:132)\r\n        at io.reactivex.internal.operators.single.SingleToFlowable$SingleToFlowableObserver.onSuccess(SingleToFlowable.java:62)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\r\n        at io.reactivex.internal.operators.single.SingleFlatMap$SingleFlatMapCallback$FlatMapSingleObserver.onSuccess(SingleFlatMap.java:111)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\r\n        at io.reactivex.internal.operators.single.SingleDoFinally$DoFinallyObserver.onSuccess(SingleDoFinally.java:73)\r\n        at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\r\n        at io.reactivex.internal.operators.single.SingleCreate$Emitter.onSuccess(SingleCreate.java:67)\r\n        at io.micronaut.rabbitmq.reactive.RxJavaReactivePublisher$3.handleDelivery(RxJavaReactivePublisher.java:324)\r\n        at com.rabbitmq.client.impl.ConsumerDispatcher$5.run(ConsumerDispatcher.java:149)\r\n        at com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:104)\r\n\r\n**Global exception handling**\r\n\r\n    @Produces\r\n    @Singleton\r\n    @Requires(classes = {GlobalException.class, ExceptionHandler.class})\r\n    public class GlobalExceptionHandler implements ExceptionHandler&lt;GlobalException, HttpResponse&gt; {\r\n    \r\n        @Override\r\n        public HttpResponse handle(HttpRequest request, GlobalException exception) {\r\n            return HttpResponse.ok(0);\r\n        }\r\n    }\r\n\r\n    public class GlobalException extends RuntimeException{\r\n    }\r\n\r\nHow do I hook GlobalExceptionHandler. Any exception that occur on the application should be caught at **GlobalExceptionHandler**","title":"Global exception handling in micronaut Java","body":"<p>Looking for a better solution to handle the global exception in micronaut <a href=\"https://docs.micronaut.io/latest/guide/index.html#errorHandling\" rel=\"noreferrer\">https://docs.micronaut.io/latest/guide/index.html#errorHandling</a></p>\n<p><strong>Controller</strong></p>\n<pre><code>@Controller(&quot;/category&quot;)\npublic class CategoryController {\n@Delete(uri = &quot;/{id}&quot;)\npublic Maybe&lt;HttpResponse&gt; delete(@NotBlank String id) {\n            LOG.info(String.format(&quot;API --&gt; Deleting the specified category&quot;));\n            return iCategoryManager.Count(id).flatMap(item -&gt; {\n                if (item &gt; 0) {\n                    iCategoryManager.Delete(id).subscribe();\n                    return Maybe.just(HttpResponse.noContent());\n                } else\n                    return Maybe.just(HttpResponse.notFound());\n            });\n    }\n}\n</code></pre>\n<p><code>iCategoryManager.Count(id)</code> cause an exception as below, How can I catch the exception on <strong>GlobalExceptionHandler</strong></p>\n<pre><code>io.micronaut.core.serialize.exceptions.SerializationException: Incorrect message body size to deserialize to a Long\n    at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes$LongSerDes.deserialize(JavaLangRabbitMessageSerDes.java:314)\n    at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes$LongSerDes.deserialize(JavaLangRabbitMessageSerDes.java:306)\n    at io.micronaut.rabbitmq.serdes.JavaLangRabbitMessageSerDes.deserialize(JavaLangRabbitMessageSerDes.java:81)\n    at io.micronaut.rabbitmq.intercept.RabbitMQIntroductionAdvice.deserialize(RabbitMQIntroductionAdvice.java:323)\n    at io.micronaut.rabbitmq.intercept.RabbitMQIntroductionAdvice.lambda$intercept$22(RabbitMQIntroductionAdvice.java:268)\n    at io.reactivex.internal.operators.flowable.FlowableFlatMap$MergeSubscriber.onNext(FlowableFlatMap.java:132)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\n    at io.reactivex.internal.operators.flowable.FlowableTimeoutTimed$TimeoutSubscriber.onNext(FlowableTimeoutTimed.java:101)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSubscriber.onNext(RxInstrumentedSubscriber.java:59)\n    at io.reactivex.internal.subscriptions.DeferredScalarSubscription.complete(DeferredScalarSubscription.java:132)\n    at io.reactivex.internal.operators.single.SingleToFlowable$SingleToFlowableObserver.onSuccess(SingleToFlowable.java:62)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\n    at io.reactivex.internal.operators.single.SingleFlatMap$SingleFlatMapCallback$FlatMapSingleObserver.onSuccess(SingleFlatMap.java:111)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\n    at io.reactivex.internal.operators.single.SingleDoFinally$DoFinallyObserver.onSuccess(SingleDoFinally.java:73)\n    at io.micronaut.reactive.rxjava2.RxInstrumentedSingleObserver.onSuccess(RxInstrumentedSingleObserver.java:65)\n    at io.reactivex.internal.operators.single.SingleCreate$Emitter.onSuccess(SingleCreate.java:67)\n    at io.micronaut.rabbitmq.reactive.RxJavaReactivePublisher$3.handleDelivery(RxJavaReactivePublisher.java:324)\n    at com.rabbitmq.client.impl.ConsumerDispatcher$5.run(ConsumerDispatcher.java:149)\n    at com.rabbitmq.client.impl.ConsumerWorkService$WorkPoolRunnable.run(ConsumerWorkService.java:104)\n</code></pre>\n<p><strong>Global exception handling</strong></p>\n<pre><code>@Produces\n@Singleton\n@Requires(classes = {GlobalException.class, ExceptionHandler.class})\npublic class GlobalExceptionHandler implements ExceptionHandler&lt;GlobalException, HttpResponse&gt; {\n\n    @Override\n    public HttpResponse handle(HttpRequest request, GlobalException exception) {\n        return HttpResponse.ok(0);\n    }\n}\n\npublic class GlobalException extends RuntimeException{\n}\n</code></pre>\n<p>How do I hook GlobalExceptionHandler. Any exception that occur on the application should be caught at <strong>GlobalExceptionHandler</strong></p>\n"},{"tags":["java","spring","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"score":0,"creation_date":1697539105,"post_id":77307684,"comment_id":136289743,"body_markdown":"thx :)\nByteArrayResource byteArrayResource = new ByteArrayResource(data); messageHelper.addAttachment(fileName, byteArrayResource);","body":"thx :) ByteArrayResource byteArrayResource = new ByteArrayResource(data); messageHelper.addAttachment(fileName, byteArrayResource);"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697534431,"creation_date":1697534431,"answer_id":77307684,"question_id":77306703,"body_markdown":"You need to use a [`ByteArrayResource`][1] instead of wrapping a byte array in a `ByteArrayInputStream` and wrapping that in an `InputStreamResource`.\r\n\r\nThe documentation of `ByteArrayResource` even helpfully states (emphasis mine):\r\n\r\n&gt; Useful for loading content from any given byte array, without having\r\n&gt; to resort to a single-use InputStreamResource. **Particularly useful\r\n&gt; for creating mail attachments from local content, where JavaMail needs\r\n&gt; to be able to read the stream multiple times**.\r\n\r\n(JavaMail is the old name for JakartaMail.)\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html","title":"Switched to JakartaMail org.springframework.mail.javamail.JavaMailSender InputStreamResource from byte array","body":"<p>You need to use a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ByteArrayResource.html\" rel=\"nofollow noreferrer\"><code>ByteArrayResource</code></a> instead of wrapping a byte array in a <code>ByteArrayInputStream</code> and wrapping that in an <code>InputStreamResource</code>.</p>\n<p>The documentation of <code>ByteArrayResource</code> even helpfully states (emphasis mine):</p>\n<blockquote>\n<p>Useful for loading content from any given byte array, without having\nto resort to a single-use InputStreamResource. <strong>Particularly useful\nfor creating mail attachments from local content, where JavaMail needs\nto be able to read the stream multiple times</strong>.</p>\n</blockquote>\n<p>(JavaMail is the old name for JakartaMail.)</p>\n"}],"owner":{"account_id":1424629,"reputation":433,"user_id":1348487,"accept_rate":89,"display_name":"Hansj&#246;rg Hofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77307684,"answer_count":1,"score":1,"last_activity_date":1697534431,"creation_date":1697525201,"question_id":77306703,"body_markdown":"I&#39;m moving from mailx to Jakarta.\r\n\r\nhttps://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmailtojakartamail\r\n\r\nor with IntelliJ\r\n\r\n[![ ][1]][1]\r\n\r\n```java\r\nimport org.springframework.mail.SimpleMailMessage;\r\nimport org.springframework.mail.javamail.JavaMailSender;\r\nimport org.springframework.mail.javamail.MimeMessageHelper;\r\nimport org.springframework.mail.javamail.MimeMessagePreparator;\r\n...snip\r\n\r\n\r\n        try {\r\n           MimeMessagePreparator messagePreparator = mimeMessage -&gt; {\r\n                MimeMessageHelper messageHelper = new MimeMessageHelper(mimeMessage,true);\r\n                messageHelper.setFrom(&quot;4flutteratk@gmail.com&quot;);\r\n                messageHelper.setTo(InternetAddress.parse(&quot;4flutteratk@gmail.com&quot;));\r\n                messageHelper.setSubject(&quot;error log&quot;);\r\n                messageHelper.setText(&quot; Please find attachment:&quot;);\r\n\r\n                //attachment\r\n                byte[] data;\r\n                if (emailDTO.getIsForCheckIn()) {\r\n                    data = pdfService.generatePDFForCheckIn(emailDTO);\r\n                } else if (emailDTO.getIsForPaymentRefund()) {\r\n                    data = pdfService.generatePDFForRefund(emailDTO);\r\n                } else {\r\n                    data = pdfService.generatePDFForOnlineBooking(emailDTO);\r\n                }\r\n\r\n                String fileName = String.format(&quot;Booking-%s.pdf&quot;,emailDTO.getOnlineRentSell().get_id()).replace(&quot;:&quot;,&quot;&quot;);\r\n                ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\r\n                messageHelper.addAttachment(fileName, new InputStreamResource(byteArrayInputStream) );\r\n            };\r\n\r\n            // Sending the mail\r\n            javaMailSender.send(messagePreparator);\r\n        }\r\n\r\n        // Catch block to handle MessagingException\r\n        catch (Exception ex) {\r\n            log.error(ex);\r\n        }\r\n```\r\n\r\n\r\nThis results in an error:\r\n\r\n&gt; Passed-in Resource contains an open stream: invalid argument. JavaMail\r\n&gt; requires an InputStreamSource that creates a fresh stream for every\r\n&gt; call.\r\n\r\nIt works with a local file\r\n```java\r\nFileSystemResource file = new FileSystemResource(&quot;/Users/work2/Documents/GitHub/srr-all6/srr-online-shop-backend/src/main/resources/error.jpeg&quot;);\r\nmessageHelper.addAttachment(file.getFilename(), file);\r\n```\r\n\r\nBut not from byte\r\n```\r\nByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\r\n// ByteArrayResource byteArrayResource = new ByteArrayResource(data);\r\nString fileName = String.format(&quot;Booking-%s.pdf&quot;,emailDTO.getOnlineRentSell().get_id()).replace(&quot;:&quot;,&quot;&quot;);\r\n// ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\r\nmessageHelper.addAttachment(fileName, new InputStreamResource(byteArrayInputStream) );\r\n```\r\n\r\nWorking but bad TMP file:\r\n\r\n```\r\nFile tempFile = File.createTempFile(prefix, &quot;.pdf&quot;, null);\r\ntmpFilename.set(tempFile.getAbsolutePath());\r\nFileOutputStream fos = new FileOutputStream(tempFile);\r\nfos.write(byteArray);\r\n\r\nFileSystemResource file = new FileSystemResource(tmpFilename.get());\r\n\r\nmessageHelper.addAttachment(fileName, file);\r\n```\r\n\r\nCould someone please point me to a working solution.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UoAz6.png","title":"Switched to JakartaMail org.springframework.mail.javamail.JavaMailSender InputStreamResource from byte array","body":"<p>I'm moving from mailx to Jakarta.</p>\n<p><a href=\"https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmailtojakartamail\" rel=\"nofollow noreferrer\">https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxmailtojakartamail</a></p>\n<p>or with IntelliJ</p>\n<p><a href=\"https://i.stack.imgur.com/UoAz6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UoAz6.png\" alt=\" \" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.mail.javamail.MimeMessagePreparator;\n...snip\n\n\n        try {\n           MimeMessagePreparator messagePreparator = mimeMessage -&gt; {\n                MimeMessageHelper messageHelper = new MimeMessageHelper(mimeMessage,true);\n                messageHelper.setFrom(&quot;4flutteratk@gmail.com&quot;);\n                messageHelper.setTo(InternetAddress.parse(&quot;4flutteratk@gmail.com&quot;));\n                messageHelper.setSubject(&quot;error log&quot;);\n                messageHelper.setText(&quot; Please find attachment:&quot;);\n\n                //attachment\n                byte[] data;\n                if (emailDTO.getIsForCheckIn()) {\n                    data = pdfService.generatePDFForCheckIn(emailDTO);\n                } else if (emailDTO.getIsForPaymentRefund()) {\n                    data = pdfService.generatePDFForRefund(emailDTO);\n                } else {\n                    data = pdfService.generatePDFForOnlineBooking(emailDTO);\n                }\n\n                String fileName = String.format(&quot;Booking-%s.pdf&quot;,emailDTO.getOnlineRentSell().get_id()).replace(&quot;:&quot;,&quot;&quot;);\n                ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\n                messageHelper.addAttachment(fileName, new InputStreamResource(byteArrayInputStream) );\n            };\n\n            // Sending the mail\n            javaMailSender.send(messagePreparator);\n        }\n\n        // Catch block to handle MessagingException\n        catch (Exception ex) {\n            log.error(ex);\n        }\n</code></pre>\n<p>This results in an error:</p>\n<blockquote>\n<p>Passed-in Resource contains an open stream: invalid argument. JavaMail\nrequires an InputStreamSource that creates a fresh stream for every\ncall.</p>\n</blockquote>\n<p>It works with a local file</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystemResource file = new FileSystemResource(&quot;/Users/work2/Documents/GitHub/srr-all6/srr-online-shop-backend/src/main/resources/error.jpeg&quot;);\nmessageHelper.addAttachment(file.getFilename(), file);\n</code></pre>\n<p>But not from byte</p>\n<pre><code>ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\n// ByteArrayResource byteArrayResource = new ByteArrayResource(data);\nString fileName = String.format(&quot;Booking-%s.pdf&quot;,emailDTO.getOnlineRentSell().get_id()).replace(&quot;:&quot;,&quot;&quot;);\n// ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(data);\nmessageHelper.addAttachment(fileName, new InputStreamResource(byteArrayInputStream) );\n</code></pre>\n<p>Working but bad TMP file:</p>\n<pre><code>File tempFile = File.createTempFile(prefix, &quot;.pdf&quot;, null);\ntmpFilename.set(tempFile.getAbsolutePath());\nFileOutputStream fos = new FileOutputStream(tempFile);\nfos.write(byteArray);\n\nFileSystemResource file = new FileSystemResource(tmpFilename.get());\n\nmessageHelper.addAttachment(fileName, file);\n</code></pre>\n<p>Could someone please point me to a working solution.</p>\n"},{"tags":["java","jvm","vectorization","jvm-hotspot","vector-search"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697529890,"post_id":77306924,"comment_id":136287919,"body_markdown":"Look at the assembly code of the *caller*.","body":"Look at the assembly code of the <i>caller</i>."}],"owner":{"account_id":2763938,"reputation":194,"user_id":2380213,"display_name":"serkan_ozal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697533710,"creation_date":1697527509,"question_id":77306924,"body_markdown":"I am experimenting on vector similarity search algorithms with Java Panama Vector API. And I am trying to understand how some calls (for example `Math.fma`) are generated to assembly code on different platforms. I know they are JVM intrinsic functions, but I couldn&#39;t see the generated machine code for those functions when I enabled printing assembly code (`-XX:+PrintAssembly` and/or `-XX:CompileCommand`).\r\n\r\nHow can I see the generated assembly code for intrinsic functions in the `java.lang.Math`?\r\n\r\n","title":"How to print generated assembly code for intrinsic functions in the &quot;java.lang.Math&quot;?","body":"<p>I am experimenting on vector similarity search algorithms with Java Panama Vector API. And I am trying to understand how some calls (for example <code>Math.fma</code>) are generated to assembly code on different platforms. I know they are JVM intrinsic functions, but I couldn't see the generated machine code for those functions when I enabled printing assembly code (<code>-XX:+PrintAssembly</code> and/or <code>-XX:CompileCommand</code>).</p>\n<p>How can I see the generated assembly code for intrinsic functions in the <code>java.lang.Math</code>?</p>\n"},{"tags":["java","proxy","jsoup","tunneling"],"comments":[{"owner":{"account_id":8689793,"reputation":2088,"user_id":6503002,"accept_rate":100,"display_name":"amicoderozer"},"score":0,"creation_date":1502091850,"post_id":45541343,"comment_id":78043179,"body_markdown":"have you tried disabling disabledSchemes? https://stackoverflow.com/a/41806109/6503002","body":"have you tried disabling disabledSchemes? <a href=\"https://stackoverflow.com/a/41806109/6503002\">stackoverflow.com/a/41806109/6503002</a>"},{"owner":{"account_id":2702906,"reputation":22668,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1502091862,"post_id":45541343,"comment_id":78043188,"body_markdown":"Could you please also post the code of your `ProxyAuthenticator` class.","body":"Could you please also post the code of your <code>ProxyAuthenticator</code> class."},{"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"score":0,"creation_date":1502150897,"post_id":45541343,"comment_id":78074680,"body_markdown":"@SubOptimal ... I have updated the ProxyAuthenticator class.","body":"@SubOptimal ... I have updated the ProxyAuthenticator class."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1502151260,"post_id":45541343,"comment_id":78074738,"body_markdown":"Code is correct. The username and/or password are incorrect. Or maybe JSoup replaces your `Authenticator`, which would mean it has some other API you need to use.","body":"Code is correct. The username and/or password are incorrect. Or maybe JSoup replaces your <code>Authenticator</code>, which would mean it has some other API you need to use."},{"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"score":0,"creation_date":1502242324,"post_id":45541343,"comment_id":78120030,"body_markdown":"@EJP   Thanks for your comments. the code is correct. If the user name/ password is updated, the JVM needs to be restarted. I have restarted my machine and surprisingly it worked.","body":"@EJP   Thanks for your comments. the code is correct. If the user name/ password is updated, the JVM needs to be restarted. I have restarted my machine and surprisingly it worked."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1502243432,"post_id":45541343,"comment_id":78120276,"body_markdown":"The JVM doesn&#39;t *have* to be restarted: the application needs to be told about it, and needs to install a new `Authenticator`.","body":"The JVM doesn&#39;t <i>have</i> to be restarted: the application needs to be told about it, and needs to install a new <code>Authenticator</code>."}],"answers":[{"tags":[],"owner":{"account_id":20131171,"reputation":11,"user_id":14763454,"display_name":"Venkat"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1607087674,"creation_date":1607087674,"answer_id":65144226,"question_id":45541343,"body_markdown":"Your proxy server might be blocking that web address, we might face this issue when the web address is local address and your proxy server will be blocking that.\r\n","title":"Unable to tunnel through proxy - Jsoup","body":"<p>Your proxy server might be blocking that web address, we might face this issue when the web address is local address and your proxy server will be blocking that.</p>\n"}],"owner":{"account_id":7488719,"reputation":1175,"user_id":5691149,"accept_rate":94,"display_name":"Aravind"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13044,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697533360,"creation_date":1502090353,"question_id":45541343,"body_markdown":"I am getting the below exception while creating an HTTP connection.\r\n\r\n    2017-08-07 17:07:43,219 ERROR au.com.scraper.sites.ScraperSite - Exception in parsing Categories: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 403 Forbidden&quot; at line number 153\r\n    java.io.IOException: Unable to tunnel through proxy. Proxy returns &quot;HTTP/1.1 403 Forbidden&quot;\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.doTunneling(HttpURLConnection.java:2085)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:183)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:563)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:540)\r\n    \tat org.jsoup.helper.HttpConnection.execute(HttpConnection.java:227)\r\n    \tat org.jsoup.helper.HttpConnection.get(HttpConnection.java:216)\r\n    \tat org.jsoup.Jsoup.parse(Jsoup.java:183)\r\n    \tat au.com.scraper.sites.ScraperSite.getCategories(ScraperSite.java:127)\r\n    \tat au.com.scraper.sites.AScraperSites.execute(AScraperSites.java:74)\r\n    \tat au.com.scraper.Scraper.main(Scraper.java:88)\r\n \r\n\r\nBelow is my proxy configuration.\r\n\r\n    Authenticator.setDefault(new ProxyAuthenticator(&quot;user_name&quot;, &quot;password&quot;));\r\n    System.setProperty(&quot;https.proxyHost&quot;, server);\r\n    System.setProperty(&quot;https.proxyPort&quot;, port);\r\n    System.setProperty(&quot;http.proxyHost&quot;, server);\r\n    System.setProperty(&quot;http.proxyPort&quot;, port);\r\n\r\n\r\nBelow is my Proxy Authenticator class.\r\n\r\n\r\n    package au.com.scraper;\r\n    import java.net.Authenticator;\r\n    import java.net.PasswordAuthentication;\r\n    public class ProxyAuthenticator extends Authenticator\r\n    {\r\n        public ProxyAuthenticator(String user, String password)\r\n        {\r\n            this.user = user;\r\n            this.password = password;\r\n        }\r\n        protected PasswordAuthentication getPasswordAuthentication()\r\n        {\r\n            return new PasswordAuthentication(user, password.toCharArray());\r\n        }\r\n        private String user;\r\n        private String password;\r\n    }\r\n\r\nCan any one suggest why this issue is happening?\r\n","title":"Unable to tunnel through proxy - Jsoup","body":"<p>I am getting the below exception while creating an HTTP connection.</p>\n\n<pre><code>2017-08-07 17:07:43,219 ERROR au.com.scraper.sites.ScraperSite - Exception in parsing Categories: Unable to tunnel through proxy. Proxy returns \"HTTP/1.1 403 Forbidden\" at line number 153\njava.io.IOException: Unable to tunnel through proxy. Proxy returns \"HTTP/1.1 403 Forbidden\"\n    at sun.net.www.protocol.http.HttpURLConnection.doTunneling(HttpURLConnection.java:2085)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:183)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:563)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:540)\n    at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:227)\n    at org.jsoup.helper.HttpConnection.get(HttpConnection.java:216)\n    at org.jsoup.Jsoup.parse(Jsoup.java:183)\n    at au.com.scraper.sites.ScraperSite.getCategories(ScraperSite.java:127)\n    at au.com.scraper.sites.AScraperSites.execute(AScraperSites.java:74)\n    at au.com.scraper.Scraper.main(Scraper.java:88)\n</code></pre>\n\n<p>Below is my proxy configuration.</p>\n\n<pre><code>Authenticator.setDefault(new ProxyAuthenticator(\"user_name\", \"password\"));\nSystem.setProperty(\"https.proxyHost\", server);\nSystem.setProperty(\"https.proxyPort\", port);\nSystem.setProperty(\"http.proxyHost\", server);\nSystem.setProperty(\"http.proxyPort\", port);\n</code></pre>\n\n<p>Below is my Proxy Authenticator class.</p>\n\n<pre><code>package au.com.scraper;\nimport java.net.Authenticator;\nimport java.net.PasswordAuthentication;\npublic class ProxyAuthenticator extends Authenticator\n{\n    public ProxyAuthenticator(String user, String password)\n    {\n        this.user = user;\n        this.password = password;\n    }\n    protected PasswordAuthentication getPasswordAuthentication()\n    {\n        return new PasswordAuthentication(user, password.toCharArray());\n    }\n    private String user;\n    private String password;\n}\n</code></pre>\n\n<p>Can any one suggest why this issue is happening?</p>\n"},{"tags":["java","maven","maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"score":0,"creation_date":1698055282,"post_id":77307518,"comment_id":136352175,"body_markdown":"By running the mvn install in the plugin or at project that it is using the plugin the jar is created at your repository. Alternatively at the maven site you have two options, you may download the source or the bin of a maven version. the bin one has alla the jars.","body":"By running the mvn install in the plugin or at project that it is using the plugin the jar is created at your repository. Alternatively at the maven site you have two options, you may download the source or the bin of a maven version. the bin one has alla the jars."}],"tags":[],"owner":{"account_id":3635036,"reputation":1118,"user_id":3030340,"display_name":"Az.MaYo"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1697533072,"creation_date":1697533072,"answer_id":77307518,"question_id":77307195,"body_markdown":"If you have the source code of a Maven plugin and you need to build a JAR from it, you can follow these steps:\r\n\r\n**Set Up a Maven Project:**\r\nCreate a new Maven project or use an existing one to build the JAR. Make sure that you have the necessary directory structure (src/main/java) and a valid pom.xml in place.\r\n\r\n**Add the Source Code:**\r\nCopy the source code of the Maven plugin into the appropriate package directory under src/main/java. Ensure that the directory structure matches the package structure in the source code.\r\n\r\n**Configure the pom.xml:**\r\nIn the pom.xml, define the plugin&#39;s coordinates and packaging as &quot;maven-plugin&quot;. Also, make sure to specify the correct version of the Maven Plugin API. Here&#39;s an example:\r\n\r\n    &lt;project&gt;\r\n        ...\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;your.group&lt;/groupId&gt;\r\n        &lt;artifactId&gt;your-artifact&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\r\n        ...\r\n    &lt;/project&gt;\r\n\r\nthen simply generate jar by maven commands and use it\r\n\r\n    mvn clean package\r\n\r\nInstall the JAR to Your Local Repository:\r\n\r\n    mvn install\r\n\r\n \r\n","title":"Produce jar file from maven plugin source code","body":"<p>If you have the source code of a Maven plugin and you need to build a JAR from it, you can follow these steps:</p>\n<p><strong>Set Up a Maven Project:</strong>\nCreate a new Maven project or use an existing one to build the JAR. Make sure that you have the necessary directory structure (src/main/java) and a valid pom.xml in place.</p>\n<p><strong>Add the Source Code:</strong>\nCopy the source code of the Maven plugin into the appropriate package directory under src/main/java. Ensure that the directory structure matches the package structure in the source code.</p>\n<p><strong>Configure the pom.xml:</strong>\nIn the pom.xml, define the plugin's coordinates and packaging as &quot;maven-plugin&quot;. Also, make sure to specify the correct version of the Maven Plugin API. Here's an example:</p>\n<pre><code>&lt;project&gt;\n    ...\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;your.group&lt;/groupId&gt;\n    &lt;artifactId&gt;your-artifact&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;maven-plugin&lt;/packaging&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>then simply generate jar by maven commands and use it</p>\n<pre><code>mvn clean package\n</code></pre>\n<p>Install the JAR to Your Local Repository:</p>\n<pre><code>mvn install\n</code></pre>\n"}],"owner":{"account_id":2636529,"reputation":3,"user_id":5712709,"display_name":"Niquitas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307518,"answer_count":1,"score":0,"last_activity_date":1697533072,"creation_date":1697530306,"question_id":77307195,"body_markdown":"Well my project get all maven plugins from an internal server. in this server all the plugins are in a jar format but the new plugins that I am getting from Apache site is in src format.\r\n\r\nSo, the question is how to produce a jar from this src code?\r\n\r\nI tried to get the plugin by adding it to the pom as normally do, but it turns out that we &#39;must&#39; get it from the local server instead. Let&#39;s say that this is a requirment. So I should add it there. And to do so, I need a jar file.","title":"Produce jar file from maven plugin source code","body":"<p>Well my project get all maven plugins from an internal server. in this server all the plugins are in a jar format but the new plugins that I am getting from Apache site is in src format.</p>\n<p>So, the question is how to produce a jar from this src code?</p>\n<p>I tried to get the plugin by adding it to the pom as normally do, but it turns out that we 'must' get it from the local server instead. Let's say that this is a requirment. So I should add it there. And to do so, I need a jar file.</p>\n"},{"tags":["java","spring","intellij-idea","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":20782759,"reputation":235,"user_id":15262752,"display_name":"Grogu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692352635,"creation_date":1692352635,"answer_id":76928265,"question_id":76812141,"body_markdown":"Well, apparently there are errors with the Kotlin Plugin in Intellij.\r\n\r\n[https://youtrack.jetbrains.com/issue/KTIJ-16925][1]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/KTIJ-16925\r\n\r\nSuggested solutions are:\r\n\r\n - Desactivating Kotlin plugin\r\n - Rollback to an older Kotlin plugin version","title":"intellij no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt; issue","body":"<p>Well, apparently there are errors with the Kotlin Plugin in Intellij.</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/KTIJ-16925\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KTIJ-16925</a></p>\n<p>Suggested solutions are:</p>\n<ul>\n<li>Desactivating Kotlin plugin</li>\n<li>Rollback to an older Kotlin plugin version</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":20782759,"reputation":235,"user_id":15262752,"display_name":"Grogu"},"score":0,"creation_date":1697822387,"post_id":77307509,"comment_id":136332495,"body_markdown":"Nice! Good to know. I&#39;m now waiting for the official release","body":"Nice! Good to know. I&#39;m now waiting for the official release"}],"tags":[],"owner":{"account_id":18272800,"reputation":41,"user_id":13303248,"display_name":"Игорь Исютин"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697533012,"creation_date":1697533012,"answer_id":77307509,"question_id":76812141,"body_markdown":"Looks like this issue is fixed in current beta version of kotlin plugin: 232-1.9.20-RC-release-459-IJ9559.62\r\n\r\nSteps to fix error:\r\n\r\n 1. Install beta kotlin plugin in Preferences -&gt; Languages &amp; Frameworks -&gt; Kotlin\r\n 2. Delete spring core jar. Can be done in project window: External Libraries -&gt; Scripts build.gradle.kts -&gt; spring-core-*.*.*.jar\r\n 3. Reload Gradle project","title":"intellij no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt; issue","body":"<p>Looks like this issue is fixed in current beta version of kotlin plugin: 232-1.9.20-RC-release-459-IJ9559.62</p>\n<p>Steps to fix error:</p>\n<ol>\n<li>Install beta kotlin plugin in Preferences -&gt; Languages &amp; Frameworks -&gt; Kotlin</li>\n<li>Delete spring core jar. Can be done in project window: External Libraries -&gt; Scripts build.gradle.kts -&gt; spring-core-<em>.</em>.*.jar</li>\n<li>Reload Gradle project</li>\n</ol>\n"}],"owner":{"account_id":20782759,"reputation":235,"user_id":15262752,"display_name":"Grogu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76928265,"answer_count":2,"score":2,"last_activity_date":1697533012,"creation_date":1690896619,"question_id":76812141,"body_markdown":"I&#39;m trying to convert a `Mono&lt;Part&gt;` to a `Mono&lt;InputStream&gt;`, using java with reactor and spring.\r\n\r\nI have a code which compiles and works properly, but it generates an Intellij error.\r\n\r\nThe code:\r\n\r\n```\r\nimport org.springframework.core.io.buffer.DataBuffer;\r\nimport org.springframework.core.io.buffer.DataBufferUtils;\r\nimport org.springframework.http.codec.multipart.Part;\r\nimport reactor.core.publisher.Mono;\r\nimport java.io.InputStream;\r\n\r\npublic Mono&lt;InputStream&gt; loadFile(Mono&lt;Part&gt; fileMono) {\r\n  return DataBufferUtils.join(fileMono.flatMapMany(Part::content))\r\n                        .map(DataBuffer::asInputStream);\r\n}\r\n```\r\n\r\nThe error:\r\n\r\n```\r\nRequired type: Publisher\r\n\r\nProvided: Flux &lt;org.springframework.core.io.buffer.DataBuffer&gt;\r\n\r\nno instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt;\r\n```\r\n\r\nAs `Flux&lt;T&gt; implements CorePublisher&lt;T&gt;` and `CorePublisher&lt;T&gt; extends Publisher&lt;T&gt;`, I don&#39;t understand the error.\r\nMoreover some of my co-workers have the error when others don&#39;t.\r\nThis is pretty weird.\r\n\r\nI&#39;ve tried to delete and reimport the library dependencies through gradle, and to do all 7 intellij steps to debug a project, including clearing cache and reindexing the app.\r\n\r\nWhat could be wrong?\r\n","title":"intellij no instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt; issue","body":"<p>I'm trying to convert a <code>Mono&lt;Part&gt;</code> to a <code>Mono&lt;InputStream&gt;</code>, using java with reactor and spring.</p>\n<p>I have a code which compiles and works properly, but it generates an Intellij error.</p>\n<p>The code:</p>\n<pre><code>import org.springframework.core.io.buffer.DataBuffer;\nimport org.springframework.core.io.buffer.DataBufferUtils;\nimport org.springframework.http.codec.multipart.Part;\nimport reactor.core.publisher.Mono;\nimport java.io.InputStream;\n\npublic Mono&lt;InputStream&gt; loadFile(Mono&lt;Part&gt; fileMono) {\n  return DataBufferUtils.join(fileMono.flatMapMany(Part::content))\n                        .map(DataBuffer::asInputStream);\n}\n</code></pre>\n<p>The error:</p>\n<pre><code>Required type: Publisher\n\nProvided: Flux &lt;org.springframework.core.io.buffer.DataBuffer&gt;\n\nno instance(s) of type variable(s) R exist so that Flux&lt;R&gt; conforms to Publisher&lt;? extends DataBuffer&gt;\n</code></pre>\n<p>As <code>Flux&lt;T&gt; implements CorePublisher&lt;T&gt;</code> and <code>CorePublisher&lt;T&gt; extends Publisher&lt;T&gt;</code>, I don't understand the error.\nMoreover some of my co-workers have the error when others don't.\nThis is pretty weird.</p>\n<p>I've tried to delete and reimport the library dependencies through gradle, and to do all 7 intellij steps to debug a project, including clearing cache and reindexing the app.</p>\n<p>What could be wrong?</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":26482543,"reputation":31,"user_id":20121593,"display_name":"Neema R Soman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697383834,"creation_date":1697383834,"answer_id":77297321,"question_id":77294400,"body_markdown":"Since you are using the springdoc-openapi java library. I believe the Swagger UI page or rather the OpenAPI UI page would be available at the following style url:\r\n\r\n    http://server:port/context-path/swagger-ui.html","title":"No operations defined in spec! Java 21 &amp; Spring boot 3.2.0-SNAPSHOT","body":"<p>Since you are using the springdoc-openapi java library. I believe the Swagger UI page or rather the OpenAPI UI page would be available at the following style url:</p>\n<pre><code>http://server:port/context-path/swagger-ui.html\n</code></pre>\n"}],"owner":{"account_id":13202040,"reputation":1,"user_id":9534996,"display_name":"vikramaditya gaikwad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697532808,"creation_date":1697315368,"question_id":77294400,"body_markdown":"When I add below dependency for swagger documentation it&#39;s not working \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nit should give list of APIs on `swagger-ui/index.html` page but it&#39;s giving empty page.\r\n\r\n![Here is the image](https://i.stack.imgur.com/yqnn6.png)\r\n\r\n\r\n\r\nand below is the controller class\r\n\r\n\r\n```\r\nimport com.vikram.explorespringboot.entity.Person;\r\nimport com.vikram.explorespringboot.service.Impl.PersonServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Controller\r\npublic class PersonController {\r\n\r\n    @Autowired\r\n    PersonServiceImpl personService;\r\n\r\n    @GetMapping(&quot;/person/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Person&gt;&gt; getPersonById(@PathVariable int id){\r\n        Optional&lt;Person&gt; person = personService.getPersonById(id);\r\n        return ResponseEntity.ok(person);\r\n    }\r\n\r\n    @GetMapping(&quot;/persons/{age}&quot;)\r\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; getPersonByAge(@PathVariable int age){\r\n        List&lt;Person&gt; person = personService.getPersonByAge(age);\r\n        return ResponseEntity.ok(person);\r\n    }\r\n\r\n    @GetMapping(&quot;/person&quot;)\r\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; getPersonList(){\r\n        List&lt;Person&gt; persons = personService.getPersonList();\r\n        return ResponseEntity.ok(persons);\r\n    }\r\n\r\n    @PostMapping(&quot;/person&quot;)\r\n    public ResponseEntity&lt;Person&gt; createPerson(@RequestBody Person person){\r\n        Person newPerson = personService.createPerson(person);\r\n        return new ResponseEntity&lt;&gt;(newPerson, HttpStatus.CREATED);\r\n    }\r\n}\r\n```\r\n\r\nI just want to enable swagger ui for my api&#39;s, i am referring to [this site][1] after going through many youtube tutorials\r\n\r\n\r\n  [1]: https://springdoc.org/#getting-started","title":"No operations defined in spec! Java 21 &amp; Spring boot 3.2.0-SNAPSHOT","body":"<p>When I add below dependency for swagger documentation it's not working</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>it should give list of APIs on <code>swagger-ui/index.html</code> page but it's giving empty page.</p>\n<p><img src=\"https://i.stack.imgur.com/yqnn6.png\" alt=\"Here is the image\" /></p>\n<p>and below is the controller class</p>\n<pre><code>import com.vikram.explorespringboot.entity.Person;\nimport com.vikram.explorespringboot.service.Impl.PersonServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Controller\npublic class PersonController {\n\n    @Autowired\n    PersonServiceImpl personService;\n\n    @GetMapping(&quot;/person/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Person&gt;&gt; getPersonById(@PathVariable int id){\n        Optional&lt;Person&gt; person = personService.getPersonById(id);\n        return ResponseEntity.ok(person);\n    }\n\n    @GetMapping(&quot;/persons/{age}&quot;)\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; getPersonByAge(@PathVariable int age){\n        List&lt;Person&gt; person = personService.getPersonByAge(age);\n        return ResponseEntity.ok(person);\n    }\n\n    @GetMapping(&quot;/person&quot;)\n    public ResponseEntity&lt;List&lt;Person&gt;&gt; getPersonList(){\n        List&lt;Person&gt; persons = personService.getPersonList();\n        return ResponseEntity.ok(persons);\n    }\n\n    @PostMapping(&quot;/person&quot;)\n    public ResponseEntity&lt;Person&gt; createPerson(@RequestBody Person person){\n        Person newPerson = personService.createPerson(person);\n        return new ResponseEntity&lt;&gt;(newPerson, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>I just want to enable swagger ui for my api's, i am referring to <a href=\"https://springdoc.org/#getting-started\" rel=\"nofollow noreferrer\">this site</a> after going through many youtube tutorials</p>\n"},{"tags":["java","spring","spring-boot-actuator"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697532808,"post_id":77307463,"comment_id":136288445,"body_markdown":"What do you mean by &quot;I get invalid endpoints&quot;? 404? Other error codes? Stack trace in the log? Timeout? You need to tell us the full story, or it&#39;ll be very difficult to help you.","body":"What do you mean by &quot;I get invalid endpoints&quot;? 404? Other error codes? Stack trace in the log? Timeout? You need to tell us the full story, or it&#39;ll be very difficult to help you."},{"owner":{"account_id":5161187,"reputation":221,"user_id":4132818,"accept_rate":50,"display_name":"Bryan Tan"},"score":0,"creation_date":1697568429,"post_id":77307463,"comment_id":136295435,"body_markdown":"@Jorn the endpoints are missing the management port so they are invalid","body":"@Jorn the endpoints are missing the management port so they are invalid"},{"owner":{"account_id":5161187,"reputation":221,"user_id":4132818,"accept_rate":50,"display_name":"Bryan Tan"},"score":0,"creation_date":1697568468,"post_id":77307463,"comment_id":136295443,"body_markdown":"Instead of http://localhost:123456/actuator/info it&#39;s http://localhost/actuator/info","body":"Instead of <a href=\"http://localhost:123456/actuator/info\" rel=\"nofollow noreferrer\">localhost:123456/actuator/info</a> it&#39;s <a href=\"http://localhost/actuator/info\" rel=\"nofollow noreferrer\">localhost/actuator/info</a>"}],"owner":{"account_id":5161187,"reputation":221,"user_id":4132818,"accept_rate":50,"display_name":"Bryan Tan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697532667,"creation_date":1697532667,"question_id":77307463,"body_markdown":"I currently have a spring boot application where the actuator endpoints are exposed on a custom port. For our purposes lets say 123456. The application is fully functional I get valid responses hitting http://localhost:123456/actuator/health and http://localhost:123456/actuator/info and such.\r\n\r\nHowever, when I hit the management url http://localhost:123456/actuator I get invalid endpoints. Example:\r\n```\r\nhttp://localhost/actuator/info\r\nhttp://localhost/actuator/health\r\n```\r\n\r\nI have a Spring Boot Admin server that is trying to get my actuator endpoints and it determines the actuator endpoints by hitting the management url. However the management url is providing invalid endpoints and causing it to be unable to read them.\r\n\r\nHow do I make my actuator endpoint include the management port of the endpoints when I hit it?\r\n\r\n","title":"How do you get the management port for an spring boot actuator endpoint?","body":"<p>I currently have a spring boot application where the actuator endpoints are exposed on a custom port. For our purposes lets say 123456. The application is fully functional I get valid responses hitting http://localhost:123456/actuator/health and http://localhost:123456/actuator/info and such.</p>\n<p>However, when I hit the management url http://localhost:123456/actuator I get invalid endpoints. Example:</p>\n<pre><code>http://localhost/actuator/info\nhttp://localhost/actuator/health\n</code></pre>\n<p>I have a Spring Boot Admin server that is trying to get my actuator endpoints and it determines the actuator endpoints by hitting the management url. However the management url is providing invalid endpoints and causing it to be unable to read them.</p>\n<p>How do I make my actuator endpoint include the management port of the endpoints when I hit it?</p>\n"},{"tags":["java","spring-boot","logback"],"comments":[{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1507108606,"post_id":46560939,"comment_id":80075958,"body_markdown":"I think we need to see this class too: `com.test.test.payment.core.logging.SampleLogLayout`","body":"I think we need to see this class too: <code>com.test.test.payment.core.logging.SampleLogLayout</code>"},{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507122253,"post_id":46560939,"comment_id":80084755,"body_markdown":"Yep, have added my SampleLogLayout class. Basically LogErrorMessage.create() &amp; LogMessage.create() convert the messages into JSON","body":"Yep, have added my SampleLogLayout class. Basically LogErrorMessage.create() &amp; LogMessage.create() convert the messages into JSON"},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1507122528,"post_id":46560939,"comment_id":80084953,"body_markdown":"Ok, that&#39;s useful. Still not clear to me what the issue is though. Are you saying that you would like `SampleLogLayout` to emit the `renderedMessage` with a pattern? Maybe adding (1) an example log invocation (so that we can see what a `renderedMessage` looks like) and (2) the desired output would help clarify things.","body":"Ok, that&#39;s useful. Still not clear to me what the issue is though. Are you saying that you would like <code>SampleLogLayout</code> to emit the <code>renderedMessage</code> with a pattern? Maybe adding (1) an example log invocation (so that we can see what a <code>renderedMessage</code> looks like) and (2) the desired output would help clarify things."},{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507136547,"post_id":46560939,"comment_id":80094350,"body_markdown":"Yes, you are correct - we want the renderedMessage to be passed to a pattern.","body":"Yes, you are correct - we want the renderedMessage to be passed to a pattern."},{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507136775,"post_id":46560939,"comment_id":80094466,"body_markdown":"Actual result with Layout is as follows,\n{\n  &quot;logType&quot;: &quot;EXCEPTION&quot;,\n  &quot;message&quot;: &quot;testing&quot;,\n  &quot;errorDetails&quot;: {\n    &quot;errorCode&quot;: &quot;COMMON_600&quot;,\n    &quot;errorDescription&quot;: &quot;Generic Error&quot;\n  }\n}","body":"Actual result with Layout is as follows, {   &quot;logType&quot;: &quot;EXCEPTION&quot;,   &quot;message&quot;: &quot;testing&quot;,   &quot;errorDetails&quot;: {     &quot;errorCode&quot;: &quot;COMMON_600&quot;,     &quot;errorDescription&quot;: &quot;Generic Error&quot;   } }"},{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507136865,"post_id":46560939,"comment_id":80094509,"body_markdown":"Expected result is as follows,\n  &quot;@timestamp&quot;: &quot;2017-10-03 16:15:08.185&quot;,\n  &quot;priority&quot;: &quot;ERROR&quot;,\n  &quot;application&quot;: &quot;payment&quot;,\n  &quot;class&quot;: &quot;com.test.LoggingInterceptor&quot;,\n  &quot;file&quot;: &quot;LoggingInterceptor.java:36&quot;,\n  &quot;payload&quot;: {\n  &quot;logType&quot;: &quot;EXCEPTION&quot;,\n  &quot;message&quot;: &quot;testing&quot;,\n  &quot;errorDetails&quot;: {\n    &quot;errorCode&quot;: &quot;COMMON_600&quot;,\n    &quot;errorDescription&quot;: &quot;Generic Error&quot;\n  }\n}","body":"Expected result is as follows,   &quot;@timestamp&quot;: &quot;2017-10-03 16:15:08.185&quot;,   &quot;priority&quot;: &quot;ERROR&quot;,   &quot;application&quot;: &quot;payment&quot;,   &quot;class&quot;: &quot;com.test.LoggingInterceptor&quot;,   &quot;file&quot;: &quot;LoggingInterceptor.java:36&quot;,   &quot;payload&quot;: {   &quot;logType&quot;: &quot;EXCEPTION&quot;,   &quot;message&quot;: &quot;testing&quot;,   &quot;errorDetails&quot;: {     &quot;errorCode&quot;: &quot;COMMON_600&quot;,     &quot;errorDescription&quot;: &quot;Generic Error&quot;   } }"}],"answers":[{"comments":[{"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"score":0,"creation_date":1507272518,"post_id":46582913,"comment_id":80151532,"body_markdown":"Thanks glitch! It works. I tried with &lt;conversionRule conversionWord=&quot;jsonMsg&quot; converterClass=&quot;com.test.test.payment.core.logging.JsonFormatLogConverter&quot;/&gt; and that was also working with JsonFormatLogConverter extending ClassicConverter. I ll go with your solution. Thanks","body":"Thanks glitch! It works. I tried with &lt;conversionRule conversionWord=&quot;jsonMsg&quot; converterClass=&quot;com.test.test.payment.core.logging.JsonForma&zwnj;&#8203;tLogConverter&quot;/&gt; and that was also working with JsonFormatLogConverter extending ClassicConverter. I ll go with your solution. Thanks"},{"owner":{"account_id":15458614,"reputation":73,"user_id":11151853,"display_name":"Ramesh Singh"},"score":0,"creation_date":1660004491,"post_id":46582913,"comment_id":129425465,"body_markdown":"@glytching once I override the addCustomDataToJsonMap() method how can I use that to set custom flields:","body":"@glytching once I override the addCustomDataToJsonMap() method how can I use that to set custom flields:"}],"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1507197719,"creation_date":1507197719,"answer_id":46582913,"question_id":46560939,"body_markdown":"I started to reproduce this in order to provide a complete solution but the absence of `LogMessage` and `LogErrorMessage` made that a bit tricky.\r\n\r\nHowever, it looks to me like you just want to log in JSON format, not just the message but also the metadata such as `timestamp`, `priority` etc. \r\n\r\nThis can be achieved by using the `JsonLayout`. Here&#39;s an example of the layout configuration:\r\n\r\n    &lt;layout class=&quot;ch.qos.logback.contrib.json.classic.JsonLayout&quot;&gt;\r\n        &lt;jsonFormatter class=&quot;ch.qos.logback.contrib.jackson.JacksonJsonFormatter&quot;&gt;\r\n            &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\r\n        &lt;/jsonFormatter&gt;\r\n        &lt;timestampFormat&gt;yyyy-MM-dd&#39; &#39;HH:mm:ss.SSS&lt;/timestampFormat&gt;\r\n        &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\r\n        &lt;includeContextName&gt;false&lt;/includeContextName&gt;\r\n    &lt;/layout&gt;\r\n\r\nWith that configuration the following log invocation ...\r\n\r\n    logger.info(&quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;);\r\n\r\n... will emit:\r\n\r\n    {&quot;timestamp&quot;:&quot;2017-10-05 10:51:34.610&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;logger&quot;:&quot;com.stackoverflow.logback.LogbackTest&quot;,&quot;message&quot;:&quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;} \r\n\r\nYou can include MDC too, for example ...\r\n\r\n    MDC.put(&quot;application&quot;, &quot;payment&quot;);\r\n    logger.info(&quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;);\r\n\r\n... will emit:\r\n\r\n    {&quot;timestamp&quot;:&quot;2017-10-05 10:52:56.088&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;main&quot;,&quot;mdc&quot;:{&quot;application&quot;:&quot;payment&quot;},&quot;logger&quot;:&quot;com.stackoverflow.logback.LogbackTest&quot;,&quot;message&quot;:&quot;{\\&quot;a\\&quot;: 1, \\&quot;b\\&quot;: 2}&quot;}\r\n\r\nThat&#39;s quite close to your desired output and `JsonLayout` is extensible so you could ...\r\n\r\n- Override `toJsonMap()` to change names of the keys e.g. replace `timestamp` with `@timestamp`, replace `message` with `payload`\r\n- Implement `addCustomDataToJsonMap()` to add other key:value pairs to the log event\r\n\r\nSo, I think you could achieve your desired output using the pre-existing `JsonLayout` rather than writing your own.\r\n\r\nMore details on Logback JSON extensions [here](https://github.com/qos-ch/logback-contrib/wiki/JSON).\r\n\r\nThe Maven coordinates are:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-json-core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.5&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Logback - Layout &amp; Pattern in logback.xml","body":"<p>I started to reproduce this in order to provide a complete solution but the absence of <code>LogMessage</code> and <code>LogErrorMessage</code> made that a bit tricky.</p>\n\n<p>However, it looks to me like you just want to log in JSON format, not just the message but also the metadata such as <code>timestamp</code>, <code>priority</code> etc. </p>\n\n<p>This can be achieved by using the <code>JsonLayout</code>. Here's an example of the layout configuration:</p>\n\n<pre><code>&lt;layout class=\"ch.qos.logback.contrib.json.classic.JsonLayout\"&gt;\n    &lt;jsonFormatter class=\"ch.qos.logback.contrib.jackson.JacksonJsonFormatter\"&gt;\n        &lt;prettyPrint&gt;false&lt;/prettyPrint&gt;\n    &lt;/jsonFormatter&gt;\n    &lt;timestampFormat&gt;yyyy-MM-dd' 'HH:mm:ss.SSS&lt;/timestampFormat&gt;\n    &lt;appendLineSeparator&gt;true&lt;/appendLineSeparator&gt;\n    &lt;includeContextName&gt;false&lt;/includeContextName&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>With that configuration the following log invocation ...</p>\n\n<pre><code>logger.info(\"{\\\"a\\\": 1, \\\"b\\\": 2}\");\n</code></pre>\n\n<p>... will emit:</p>\n\n<pre><code>{\"timestamp\":\"2017-10-05 10:51:34.610\",\"level\":\"INFO\",\"thread\":\"main\",\"logger\":\"com.stackoverflow.logback.LogbackTest\",\"message\":\"{\\\"a\\\": 1, \\\"b\\\": 2}\"} \n</code></pre>\n\n<p>You can include MDC too, for example ...</p>\n\n<pre><code>MDC.put(\"application\", \"payment\");\nlogger.info(\"{\\\"a\\\": 1, \\\"b\\\": 2}\");\n</code></pre>\n\n<p>... will emit:</p>\n\n<pre><code>{\"timestamp\":\"2017-10-05 10:52:56.088\",\"level\":\"INFO\",\"thread\":\"main\",\"mdc\":{\"application\":\"payment\"},\"logger\":\"com.stackoverflow.logback.LogbackTest\",\"message\":\"{\\\"a\\\": 1, \\\"b\\\": 2}\"}\n</code></pre>\n\n<p>That's quite close to your desired output and <code>JsonLayout</code> is extensible so you could ...</p>\n\n<ul>\n<li>Override <code>toJsonMap()</code> to change names of the keys e.g. replace <code>timestamp</code> with <code>@timestamp</code>, replace <code>message</code> with <code>payload</code></li>\n<li>Implement <code>addCustomDataToJsonMap()</code> to add other key:value pairs to the log event</li>\n</ul>\n\n<p>So, I think you could achieve your desired output using the pre-existing <code>JsonLayout</code> rather than writing your own.</p>\n\n<p>More details on Logback JSON extensions <a href=\"https://github.com/qos-ch/logback-contrib/wiki/JSON\" rel=\"noreferrer\">here</a>.</p>\n\n<p>The Maven coordinates are:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n    &lt;version&gt;0.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-json-core&lt;/artifactId&gt;\n    &lt;version&gt;0.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n    &lt;version&gt;0.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8655630,"reputation":431,"user_id":6480018,"accept_rate":29,"display_name":"deejo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10988,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":46582913,"answer_count":1,"score":5,"last_activity_date":1697532533,"creation_date":1507107730,"question_id":46560939,"body_markdown":"I am using logback with slf4j for logging in Spring Boot application. I have created a custom layout class because all log statements are to be wrapped as a json. I have configured the logback-spring.xml as show below to take the custom layout. It works! \r\n\r\nIssue is I am unable to apply the pattern. Only either the layout works (or) the pattern. What I want is always on log, go to layout class and then apply the pattern before logging.\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;${user.home}/logs/sample.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${user.home}/logs/sample_%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n            &lt;!-- how many days to keep the files --&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;layout class=&quot;com.test.test.payment.core.logging.SampleLogLayout&quot; &gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n        *&lt;!-- &lt;encoder&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;Pattern&gt;{&quot;@timestamp&quot;: &quot;%d{yyyy-MM-dd HH:mm:ss.SSS}&quot;, &quot;priority&quot;: &quot;%p&quot;, &quot;application&quot;: &quot;payment&quot;,\r\n                &quot;class&quot;: &quot;%C&quot;, &quot;file&quot;: &quot;%F:%L&quot;, &quot;payload&quot;: %m }%n\r\n            &lt;/Pattern&gt;\r\n        &lt;/encoder&gt;--&gt;*\r\n    &lt;/appender&gt;\r\n\r\nHere&#39;s the `SampleLogLayout` class:\r\n\r\n    public class SampleLogLayout extends LayoutBase&lt;LoggingEvent&gt; {\r\n    \r\n        @Override\r\n        public String doLayout(LoggingEvent event) {\r\n    \r\n            String renderedMessage = event.getMessage();\r\n    \r\n            if (!isJson(renderedMessage)) {\r\n                Throwable throwable = null;\r\n    \r\n                if (event.getLevel().equals(Level.ERROR) || event.getLevel().equals(Level.WARN)) {\r\n    \r\n                final IThrowableProxy throwableProxy = event.getThrowableProxy();\r\n                if ((throwableProxy != null) &amp;&amp; (throwableProxy instanceof ThrowableProxy)) {\r\n                    ThrowableProxy proxy = (ThrowableProxy) throwableProxy;\r\n                    throwable = proxy.getThrowable();\r\n                }\r\n                String message = LogErrorMessage.create(CommonCoreErrors.GENERIC_ERROR)\r\n                        .message(renderedMessage).exception(throwable).build();\r\n    \r\n                return message;\r\n            } else {\r\n                    return LogMessage.create(renderedMessage).build();\r\n            }\r\n    \r\n            }\r\n            return renderedMessage;\r\n        }\r\n    \r\n        private boolean isJson(String msg) {\r\n            if (null == msg) {\r\n                return false;\r\n            } else {\r\n                return msg.startsWith(&quot;{&quot;) &amp;&amp; msg.endsWith(&quot;}&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Logback - Layout &amp; Pattern in logback.xml","body":"<p>I am using logback with slf4j for logging in Spring Boot application. I have created a custom layout class because all log statements are to be wrapped as a json. I have configured the logback-spring.xml as show below to take the custom layout. It works! </p>\n\n<p>Issue is I am unable to apply the pattern. Only either the layout works (or) the pattern. What I want is always on log, go to layout class and then apply the pattern before logging.</p>\n\n<pre><code>&lt;appender name=\"FILE\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;file&gt;${user.home}/logs/sample.log&lt;/file&gt;\n    &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n        &lt;fileNamePattern&gt;${user.home}/logs/sample_%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n\n        &lt;timeBasedFileNamingAndTriggeringPolicy class=\"ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP\"&gt;\n            &lt;maxFileSize&gt;10MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;!-- how many days to keep the files --&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n\n    &lt;encoder class=\"ch.qos.logback.core.encoder.LayoutWrappingEncoder\"&gt;\n        &lt;layout class=\"com.test.test.payment.core.logging.SampleLogLayout\" &gt;\n        &lt;/layout&gt;\n    &lt;/encoder&gt;\n    *&lt;!-- &lt;encoder&gt;\n        &lt;charset&gt;UTF-8&lt;/charset&gt;\n        &lt;Pattern&gt;{\"@timestamp\": \"%d{yyyy-MM-dd HH:mm:ss.SSS}\", \"priority\": \"%p\", \"application\": \"payment\",\n            \"class\": \"%C\", \"file\": \"%F:%L\", \"payload\": %m }%n\n        &lt;/Pattern&gt;\n    &lt;/encoder&gt;--&gt;*\n&lt;/appender&gt;\n</code></pre>\n\n<p>Here's the <code>SampleLogLayout</code> class:</p>\n\n<pre><code>public class SampleLogLayout extends LayoutBase&lt;LoggingEvent&gt; {\n\n    @Override\n    public String doLayout(LoggingEvent event) {\n\n        String renderedMessage = event.getMessage();\n\n        if (!isJson(renderedMessage)) {\n            Throwable throwable = null;\n\n            if (event.getLevel().equals(Level.ERROR) || event.getLevel().equals(Level.WARN)) {\n\n            final IThrowableProxy throwableProxy = event.getThrowableProxy();\n            if ((throwableProxy != null) &amp;&amp; (throwableProxy instanceof ThrowableProxy)) {\n                ThrowableProxy proxy = (ThrowableProxy) throwableProxy;\n                throwable = proxy.getThrowable();\n            }\n            String message = LogErrorMessage.create(CommonCoreErrors.GENERIC_ERROR)\n                    .message(renderedMessage).exception(throwable).build();\n\n            return message;\n        } else {\n                return LogMessage.create(renderedMessage).build();\n        }\n\n        }\n        return renderedMessage;\n    }\n\n    private boolean isJson(String msg) {\n        if (null == msg) {\n            return false;\n        } else {\n            return msg.startsWith(\"{\") &amp;&amp; msg.endsWith(\"}\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","methods"],"comments":[{"owner":{"account_id":96,"reputation":88672,"user_id":115,"accept_rate":97,"display_name":"UnkwnTech"},"score":0,"creation_date":1221529500,"post_id":68633,"comment_id":6500,"body_markdown":"I don&#39;t know what a Java method declaration looks like mind providing an example?","body":"I don&#39;t know what a Java method declaration looks like mind providing an example?"}],"answers":[{"comments":[{"owner":{"account_id":274,"reputation":12305,"user_id":340,"accept_rate":88,"display_name":"Anton"},"score":0,"creation_date":1221531802,"post_id":68669,"comment_id":6575,"body_markdown":"That regex ended up matching the signature of all of the methods I had such as System.out.println() instead of just the declarations of methods.","body":"That regex ended up matching the signature of all of the methods I had such as System.out.println() instead of just the declarations of methods."},{"owner":{"account_id":29308,"reputation":11212,"user_id":79125,"accept_rate":86,"display_name":"idbrii"},"score":0,"creation_date":1343311626,"post_id":68669,"comment_id":15469603,"body_markdown":"Matches static variables and doesn&#39;t match package scope methods.","body":"Matches static variables and doesn&#39;t match package scope methods."},{"owner":{"account_id":1137268,"reputation":1777,"user_id":1122069,"accept_rate":68,"display_name":"user1122069"},"score":0,"creation_date":1503796575,"post_id":68669,"comment_id":78760747,"body_markdown":"Here&#39;a a fuller regex built off the above. IDE replace &quot;$1 $2 $3(&quot; and regex (unquoted) (public|private|static|protected) ([A-Za-z]+) ([A-Za-z0-9]+)\\(","body":"Here&#39;a a fuller regex built off the above. IDE replace &quot;$1 $2 $3(&quot; and regex (unquoted) (public|private|static|protected) ([A-Za-z]+) ([A-Za-z0-9]+)&#40;"},{"owner":{"account_id":76640,"reputation":3041,"user_id":219241,"accept_rate":33,"display_name":"Alan Franzoni"},"score":1,"creation_date":1562055940,"post_id":68669,"comment_id":100247128,"body_markdown":"What about no-modifier methods?","body":"What about no-modifier methods?"}],"tags":[],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1221529852,"creation_date":1221529852,"answer_id":68669,"question_id":68633,"body_markdown":"Have you considered matching the actual possible keywords?  such as:\r\n\r\n    (?:(?:public)|(?:private)|(?:static)|(?:protected)\\s+)*\r\n\r\nIt might be a bit more likely to match correctly, though it might also make the regex harder to read...","title":"Regex that Will Match a Java Method Declaration","body":"<p>Have you considered matching the actual possible keywords?  such as:</p>\n\n<pre><code>(?:(?:public)|(?:private)|(?:static)|(?:protected)\\s+)*\n</code></pre>\n\n<p>It might be a bit more likely to match correctly, though it might also make the regex harder to read...</p>\n"},{"comments":[{"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"score":1,"creation_date":1221530447,"post_id":68697,"comment_id":6523,"body_markdown":"Greedy doesn&#39;t mean it will never match... but it will eat parens if there are more parens after to satisfy the rest of the regex... so for example &quot;public void foo(int arg) { if (test) { System.exit(0); } }&quot; will not match properly...","body":"Greedy doesn&#39;t mean it will never match... but it will eat parens if there are more parens after to satisfy the rest of the regex... so for example &quot;public void foo(int arg) { if (test) { System.exit(0); } }&quot; will not match properly..."}],"tags":[],"owner":{"account_id":117,"reputation":32474,"user_id":145,"accept_rate":33,"display_name":"akdom"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221530835,"creation_date":1221530057,"answer_id":68697,"question_id":68633,"body_markdown":"I&#39;m pretty sure Java&#39;s regex engine is greedy by default, meaning that &lt;code&gt;&quot;\\w+ +\\w+ \\*\\\\(.\\*\\\\) \\*\\\\{&quot;&lt;/code&gt; will never match since the &lt;code&gt;.\\*&lt;/code&gt; within the parenthesis will eat everything after the opening paren.  I recommend you replace the &lt;code&gt;.*&lt;/code&gt; with [^)], this way you it will select all non-closing-paren characters.\r\n\r\n**NOTE:**  Mike Stone corrected me in the comments, and since most people don&#39;t really open the comments (I know I frequently don&#39;t notice them):\r\n&gt; Greedy doesn&#39;t mean it will never match... but it will eat parens if there are more parens after to satisfy the rest of the regex... so for example &quot;public void foo(int arg) { if (test) { System.exit(0); } }&quot; will not match properly... \r\n","title":"Regex that Will Match a Java Method Declaration","body":"<p>I'm pretty sure Java's regex engine is greedy by default, meaning that <code>\"\\w+ +\\w+ *\\(.*\\) *\\{\"</code> will never match since the <code>.*</code> within the parenthesis will eat everything after the opening paren.  I recommend you replace the <code>.*</code> with [^)], this way you it will select all non-closing-paren characters.</p>\n\n<p><strong>NOTE:</strong>  Mike Stone corrected me in the comments, and since most people don't really open the comments (I know I frequently don't notice them):</p>\n\n<blockquote>\n  <p>Greedy doesn't mean it will never match... but it will eat parens if there are more parens after to satisfy the rest of the regex... so for example \"public void foo(int arg) { if (test) { System.exit(0); } }\" will not match properly... </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":96,"reputation":88672,"user_id":115,"accept_rate":97,"display_name":"UnkwnTech"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1221532096,"creation_date":1221532096,"answer_id":68890,"question_id":68633,"body_markdown":"I came up with this:&lt;br /&gt;\r\n\r\n    \\b\\w*\\s*\\w*\\(.*?\\)\\s*\\{[\\x21-\\x7E\\s]*\\}\r\nI tested it against a PHP function but it should work just the same, this is the snippet of code I used:\r\n&lt;br/&gt;\r\n\r\n    function getProfilePic($url)\r\n     {\r\n    \tif(@open_image($url) !== FALSE)\r\n    \t {\r\n    \t\t@imagepng($image, &#39;images/profiles/&#39; . $_SESSION[&#39;id&#39;] . &#39;.png&#39;);\r\n    \t\t@imagedestroy($image);\r\n    \t\treturn TRUE;\r\n    \t }\r\n    \telse \r\n    \t {\r\n    \t\treturn FALSE;\r\n    \t }\r\n     }\r\n\r\nMORE INFO:&lt;br /&gt;\r\n\r\n    Options: case insensitive\r\n    \r\n    Assert position at a word boundary &#171;\\b&#187;\r\n    Match a single character that is a “word character” (letters, digits, etc.) &#171;\\w*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    Match a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) &#171;\\s*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    Match a single character that is a “word character” (letters, digits, etc.) &#171;\\w*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    Match the character “(” literally &#171;\\(&#187;\r\n    Match any single character that is not a line break character &#171;.*?&#187;\r\n       Between zero and unlimited times, as few times as possible, expanding as needed (lazy) &#171;*?&#187;\r\n    Match the character “)” literally &#171;\\)&#187;\r\n    Match a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) &#171;\\s*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n    Match the character “{” literally &#171;\\{&#187;\r\n    Match a single character present in the list below &#171;[\\x21-\\x7E\\s]*&#187;\r\n       Between zero and unlimited times, as many times as possible, giving back as needed (greedy) &#171;*&#187;\r\n       A character in the range between ASCII character 0x21 (33 decimal) and ASCII character 0x7E (126 decimal) &#171;\\x21-\\x7E&#187;\r\n       A whitespace character (spaces, tabs, line breaks, etc.) &#171;\\s&#187;\r\n    Match the character “}” literally &#171;\\}&#187;\r\n    \r\n    \r\n    Created with RegexBuddy\r\n\r\n","title":"Regex that Will Match a Java Method Declaration","body":"<p>I came up with this:<br /></p>\n\n<pre><code>\\b\\w*\\s*\\w*\\(.*?\\)\\s*\\{[\\x21-\\x7E\\s]*\\}\n</code></pre>\n\n<p>I tested it against a PHP function but it should work just the same, this is the snippet of code I used:\n<br/></p>\n\n<pre><code>function getProfilePic($url)\n {\n    if(@open_image($url) !== FALSE)\n     {\n        @imagepng($image, 'images/profiles/' . $_SESSION['id'] . '.png');\n        @imagedestroy($image);\n        return TRUE;\n     }\n    else \n     {\n        return FALSE;\n     }\n }\n</code></pre>\n\n<p>MORE INFO:<br /></p>\n\n<pre><code>Options: case insensitive\n\nAssert position at a word boundary «\\b»\nMatch a single character that is a “word character” (letters, digits, etc.) «\\w*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\nMatch a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) «\\s*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\nMatch a single character that is a “word character” (letters, digits, etc.) «\\w*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\nMatch the character “(” literally «\\(»\nMatch any single character that is not a line break character «.*?»\n   Between zero and unlimited times, as few times as possible, expanding as needed (lazy) «*?»\nMatch the character “)” literally «\\)»\nMatch a single character that is a “whitespace character” (spaces, tabs, line breaks, etc.) «\\s*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\nMatch the character “{” literally «\\{»\nMatch a single character present in the list below «[\\x21-\\x7E\\s]*»\n   Between zero and unlimited times, as many times as possible, giving back as needed (greedy) «*»\n   A character in the range between ASCII character 0x21 (33 decimal) and ASCII character 0x7E (126 decimal) «\\x21-\\x7E»\n   A whitespace character (spaces, tabs, line breaks, etc.) «\\s»\nMatch the character “}” literally «\\}»\n\n\nCreated with RegexBuddy\n</code></pre>\n"},{"comments":[{"owner":{"account_id":274,"reputation":12305,"user_id":340,"accept_rate":88,"display_name":"Anton"},"score":0,"creation_date":1222030274,"post_id":69604,"comment_id":22148,"body_markdown":"is there a similar option in java?","body":"is there a similar option in java?"}],"tags":[],"owner":{"display_name":"SK"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1221543089,"creation_date":1221543089,"answer_id":69604,"question_id":68633,"body_markdown":"A tip:\r\n\r\nIf you are going to write the regex in Perl, please use the &quot;xms&quot; options so that you can leave spaces and document the regex. For example you can write a regex like:\r\n\r\n     m{\\w+ \\s+      #return type\r\n       \\w+ \\s*      #function name\r\n       [(] [^)]* [)] #params\r\n       \\s* [{]           #open paren\r\n      }xms\r\n\r\nOne of the options (think x) allows the # comments inside a regex. Also use \\s instead of a &quot; &quot;. \\s stands for any &quot;blank&quot; character. So tabs would also match -- which is what you would want. In Perl you don&#39;t need to use / /, you can use { } or &lt; &gt; or | |.\r\n\r\nNot sure if other languages have this ability. If they do, then please use them.","title":"Regex that Will Match a Java Method Declaration","body":"<p>A tip:</p>\n\n<p>If you are going to write the regex in Perl, please use the \"xms\" options so that you can leave spaces and document the regex. For example you can write a regex like:</p>\n\n<pre><code> m{\\w+ \\s+      #return type\n   \\w+ \\s*      #function name\n   [(] [^)]* [)] #params\n   \\s* [{]           #open paren\n  }xms\n</code></pre>\n\n<p>One of the options (think x) allows the # comments inside a regex. Also use \\s instead of a \" \". \\s stands for any \"blank\" character. So tabs would also match -- which is what you would want. In Perl you don't need to use / /, you can use { } or &lt; > or | |.</p>\n\n<p>Not sure if other languages have this ability. If they do, then please use them.</p>\n"},{"comments":[{"owner":{"account_id":16195,"reputation":1636,"user_id":35033,"accept_rate":89,"display_name":"James Camfield"},"score":0,"creation_date":1242039857,"post_id":847507,"comment_id":655889,"body_markdown":"I think that would do it. It will also exclude constructors too, which is nice  :-)","body":"I think that would do it. It will also exclude constructors too, which is nice  :-)"},{"owner":{"account_id":29308,"reputation":11212,"user_id":79125,"accept_rate":86,"display_name":"idbrii"},"score":2,"creation_date":1343311691,"post_id":847507,"comment_id":15469633,"body_markdown":"What&#39;s the `\\s` at the beginning for? Why would something start with two spaces? Prevents it from matching package scope unless the indentation is just right.","body":"What&#39;s the <code>\\s</code> at the beginning for? Why would something start with two spaces? Prevents it from matching package scope unless the indentation is just right."},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":1,"creation_date":1387200957,"post_id":847507,"comment_id":30845048,"body_markdown":"@seba229&#39;s answer includes some keywords that yours does not","body":"@seba229&#39;s answer includes some keywords that yours does not"},{"owner":{"account_id":4567882,"reputation":862,"user_id":3708426,"accept_rate":75,"display_name":"Jonathan Leitschuh"},"score":1,"creation_date":1443204149,"post_id":847507,"comment_id":53414991,"body_markdown":"You&#39;re missing `native` from that list","body":"You&#39;re missing <code>native</code> from that list"},{"owner":{"account_id":1184607,"reputation":5245,"user_id":1158844,"accept_rate":62,"display_name":"Shanerk"},"score":0,"creation_date":1559601879,"post_id":847507,"comment_id":99465007,"body_markdown":"Slight modification to account for things like `public Map&lt;Object, Object&gt; all() {` as well as constructors like `public Cache()` : `+[\\w\\&lt;\\&gt;\\[\\]\\,\\s]*\\s*(\\w+) *\\([^\\)]*\\) *(\\{?|[^;])`","body":"Slight modification to account for things like <code>public Map&lt;Object, Object&gt; all() {</code> as well as constructors like <code>public Cache()</code> : <code>+[\\w\\&lt;\\&gt;\\[\\]\\,\\s]*\\s*(\\w+) *\\([^\\)]*\\) *(\\{?|[^;])</code>"},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":1,"creation_date":1561744961,"post_id":847507,"comment_id":100177071,"body_markdown":"@Shane your regex fails to match the last character of the method name.  `(public|protected|private|static|\\s) +[\\w\\&lt;\\&gt;\\[\\],\\s]+\\s+(\\w+) *\\([^\\)]*\\) *(\\{?|[^;])` works for me.","body":"@Shane your regex fails to match the last character of the method name.  <code>(public|protected|private|static|\\s) +[\\w\\&lt;\\&gt;\\[\\],\\s]+\\s+(\\w+) *\\([^\\)]*\\) *(\\{?|[^;])</code> works for me."},{"owner":{"account_id":1184607,"reputation":5245,"user_id":1158844,"accept_rate":62,"display_name":"Shanerk"},"score":0,"creation_date":1561753651,"post_id":847507,"comment_id":100179939,"body_markdown":"That makes sense, yeah * often causes problems.","body":"That makes sense, yeah * often causes problems."}],"tags":[],"owner":{"account_id":21307,"reputation":2415,"user_id":51681,"accept_rate":53,"display_name":"Georgios Gousios"},"comment_count":7,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1242037394,"creation_date":1242037394,"answer_id":847507,"question_id":68633,"body_markdown":"    (public|protected|private|static|\\s) +[\\w\\&lt;\\&gt;\\[\\]]+\\s+(\\w+) *\\([^\\)]*\\) *(\\{?|[^;])\r\n\r\nI think that the above regexp can match almost all possible combinations of Java method declarations, even those including generics and arrays are return arguments, which the regexp provided by the original author did not match.","title":"Regex that Will Match a Java Method Declaration","body":"<pre><code>(public|protected|private|static|\\s) +[\\w\\&lt;\\&gt;\\[\\]]+\\s+(\\w+) *\\([^\\)]*\\) *(\\{?|[^;])\n</code></pre>\n\n<p>I think that the above regexp can match almost all possible combinations of Java method declarations, even those including generics and arrays are return arguments, which the regexp provided by the original author did not match.</p>\n"},{"tags":[],"owner":{"account_id":29308,"reputation":11212,"user_id":79125,"accept_rate":86,"display_name":"idbrii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343314970,"creation_date":1343314970,"answer_id":11672271,"question_id":68633,"body_markdown":"I built a vim regex to do this for [ctrlp/funky][1] based on Georgios Gousios&#39;s answer.\r\n\r\n        let regex = &#39;\\v^\\s+&#39;                &quot; preamble\r\n        let regex .= &#39;%(&lt;\\w+&gt;\\s+){0,3}&#39;     &quot; visibility, static, final\r\n        let regex .= &#39;%(\\w|[&lt;&gt;[\\]])+\\s+&#39;    &quot; return type\r\n        let regex .= &#39;\\w+\\s*&#39;               &quot; method name\r\n        let regex .= &#39;\\([^\\)]*\\)&#39;           &quot; method parameters\r\n        let regex .= &#39;%(\\w|\\s|\\{)+$&#39;        &quot; postamble\r\n\r\nI&#39;d guess that looks like this in Java:\r\n\r\n    ^\\s+(?:&lt;\\w+&gt;\\s+){0,3}(?:[\\w\\&lt;\\&gt;\\[\\]])+\\s+\\w+\\s*\\([^\\)]*\\)(?:\\w|\\s|\\{)+$\r\n\r\n\r\n  [1]: https://github.com/pydave/ctrlp-funky/blob/master/autoload/ctrlp/funky/java.vim","title":"Regex that Will Match a Java Method Declaration","body":"<p>I built a vim regex to do this for <a href=\"https://github.com/pydave/ctrlp-funky/blob/master/autoload/ctrlp/funky/java.vim\" rel=\"nofollow\">ctrlp/funky</a> based on Georgios Gousios's answer.</p>\n\n<pre><code>    let regex = '\\v^\\s+'                \" preamble\n    let regex .= '%(&lt;\\w+&gt;\\s+){0,3}'     \" visibility, static, final\n    let regex .= '%(\\w|[&lt;&gt;[\\]])+\\s+'    \" return type\n    let regex .= '\\w+\\s*'               \" method name\n    let regex .= '\\([^\\)]*\\)'           \" method parameters\n    let regex .= '%(\\w|\\s|\\{)+$'        \" postamble\n</code></pre>\n\n<p>I'd guess that looks like this in Java:</p>\n\n<pre><code>^\\s+(?:&lt;\\w+&gt;\\s+){0,3}(?:[\\w\\&lt;\\&gt;\\[\\]])+\\s+\\w+\\s*\\([^\\)]*\\)(?:\\w|\\s|\\{)+$\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2578349,"reputation":6772,"user_id":2235567,"accept_rate":90,"display_name":"Aseem Bansal"},"score":0,"creation_date":1445098400,"post_id":16118844,"comment_id":54183292,"body_markdown":"Why is threadsafe in the regex? It isn&#39;t a modifier in Java. Tried looking at the spec http://docs.oracle.com/javase/specs/jls/se7/html/jls-18.html and/or http://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html","body":"Why is threadsafe in the regex? It isn&#39;t a modifier in Java. Tried looking at the spec <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-18.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/jls-18.html</a> and/or <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/_keywords.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"}],"tags":[],"owner":{"account_id":2238466,"reputation":489,"user_id":1974143,"accept_rate":89,"display_name":"sbaltes"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1567141126,"creation_date":1366450940,"answer_id":16118844,"question_id":68633,"body_markdown":"I also needed such a regular expression and came up with this solution:\r\n\r\n    (?:(?:public|private|protected|static|final|native|synchronized|abstract|transient)+\\s+)+[$_\\w&lt;&gt;\\[\\]\\s]*\\s+[\\$_\\w]+\\([^\\)]*\\)?\\s*\\{?[^\\}]*\\}?\r\n\r\nThis [grammar][1] and Georgios Gousios answer have been useful to build the regex.\r\n\r\n**EDIT:** Considered tharindu_DG&#39;s feedback, made groups non-capturing, improved formatting.\r\n\r\n  [1]: http://cui.unige.ch/isi/bnf/JAVA/BNFindex.html","title":"Regex that Will Match a Java Method Declaration","body":"<p>I also needed such a regular expression and came up with this solution:</p>\n\n<pre><code>(?:(?:public|private|protected|static|final|native|synchronized|abstract|transient)+\\s+)+[$_\\w&lt;&gt;\\[\\]\\s]*\\s+[\\$_\\w]+\\([^\\)]*\\)?\\s*\\{?[^\\}]*\\}?\n</code></pre>\n\n<p>This <a href=\"http://cui.unige.ch/isi/bnf/JAVA/BNFindex.html\" rel=\"nofollow noreferrer\">grammar</a> and Georgios Gousios answer have been useful to build the regex.</p>\n\n<p><strong>EDIT:</strong> Considered tharindu_DG's feedback, made groups non-capturing, improved formatting.</p>\n"},{"comments":[{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":1,"creation_date":1385649991,"post_id":19030300,"comment_id":30235674,"body_markdown":"Have to give props to RegexBuddy for helping me work through this: http://www.regexbuddy.com/","body":"Have to give props to RegexBuddy for helping me work through this: <a href=\"http://www.regexbuddy.com/\" rel=\"nofollow noreferrer\">regexbuddy.com</a>"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1540493376,"post_id":19030300,"comment_id":92897281,"body_markdown":"Impressively thorough answer! I tried it in my .gitconfig, and got a &quot;fatal: bad config line&quot; error. I tried escaping the backslashes, and moved up to a &quot;fatal: Invalid regexp to look for hunk header&quot; error. Hmm. Maybe I need to learn what needs to be escaped in .gitconfig.","body":"Impressively thorough answer! I tried it in my .gitconfig, and got a &quot;fatal: bad config line&quot; error. I tried escaping the backslashes, and moved up to a &quot;fatal: Invalid regexp to look for hunk header&quot; error. Hmm. Maybe I need to learn what needs to be escaped in .gitconfig."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1540493762,"post_id":19030300,"comment_id":92897434,"body_markdown":"After skimming the git-config docs about what needs to be escaped, I surrounded the whole thing with double quotes, so that the semicolon wouldn&#39;t terminate the value. Still got the &quot;fatal: Invalid regexp to look for hunk header&quot; error.","body":"After skimming the git-config docs about what needs to be escaped, I surrounded the whole thing with double quotes, so that the semicolon wouldn&#39;t terminate the value. Still got the &quot;fatal: Invalid regexp to look for hunk header&quot; error."}],"tags":[],"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1388358109,"creation_date":1380203791,"answer_id":19030300,"question_id":68633,"body_markdown":"After looking through the other answers, here is what I came up with:\r\n\r\n    #permission\r\n       ^[ \\t]*(?:(?:public|protected|private)\\s+)?\r\n    #keywords\r\n       (?:(static|final|native|synchronized|abstract|threadsafe|transient|{#insert zJRgx123GenericsNotInGroup})\\s+){0,}\r\n    #return type\r\n       #If return type is &quot;return&quot; then it&#39;s actually a &#39;return funcName();&#39; line. Ignore.\r\n       (?!return)\r\n       \\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})\\s+\r\n    #function name\r\n       \\b\\w+\\b\\s*\r\n    #parameters\r\n       \\(\r\n          #one\r\n             \\s*(?:\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\r\n          #two and up\r\n             \\(\\s*(?:,\\s+\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*){0,})?\\s*\r\n       \\)\r\n    #post parameters\r\n       (?:\\s*throws [\\w.]+(\\s*,\\s*[\\w.]+))?\r\n    #close-curly (concrete) or semi-colon (abstract)\r\n       \\s*(?:\\{|;)[ \\t]*$\r\n\r\n---\r\n\r\nWhere `{#insert zJRgx123GenericsNotInGroup}` equals\r\n\r\n    `(?:&lt;[?\\w\\[\\] ,.&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;)`\r\n\r\nLimitations:\r\n\r\n* ANY parameter can have an ellipsis: &quot;...&quot; (Java allows only last)\r\n* Three levels of nested generics at most: (`&lt;...&lt;...&lt;...&gt;...&gt;...&gt;` okay, `&lt;...&lt;...&lt;...&lt;...&gt;...&gt;...&gt;...&gt;` bad). The syntax inside generics can be very bogus, and still seem okay to this regex.\r\n* Requires no spaces between types and their (optional) opening generics &#39;&lt;&#39;\r\n* Recognizes inner classes, but doesn&#39;t prevent two dots next to each other, such as Class....InnerClass\r\n\r\nBelow is the raw PhraseExpress code (auto-text and description on line 1, body on line 2). Call `{#insert zJRgxJavaFuncSigThrSemicOrOpnCrly}`, and you get this:\r\n\r\n    ^[ \\t]*(?:(?:public|protected|private)\\s+)?(?:(static|final|native|synchronized|abstract|threadsafe|transient|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))\\s+){0,}(?!return)\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})\\s+\\b\\w+\\b\\s*\\(\\s*(?:\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*(?:,\\s+\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*){0,})?\\s*\\)(?:\\s*throws [\\w.]+(\\s*,\\s*[\\w.]+))?\\s*(?:\\{|;)[ \\t]*$\r\n\r\n---\r\n\r\nRaw code:\r\n\r\n    zJRgx123GenericsNotInGroup -- To precede return-type\t(?:&lt;[?\\w\\[\\] ,.&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;)\tzJRgx123GenericsNotInGroup\r\n    zJRgx0OrMoreParams\t\\s*(?:{#insert zJRgxParamTypeName}\\s*(?:,\\s+{#insert zJRgxParamTypeName}\\s*){0,})?\\s*\tzJRgx0OrMoreParams\r\n    zJRgxJavaFuncNmThrClsPrn_M_fnm -- Needs zvFOBJ_NAME\t(?&lt;=\\s)\\b{#insert zvFOBJ_NAME}{#insert zzJRgxPostFuncNmThrClsPrn}\tzJRgxJavaFuncNmThrClsPrn_M_fnm\r\n    zJRgxJavaFuncSigThrSemicOrOpnCrly -(**)-\t{#insert zzJRgxJavaFuncSigPreFuncName}\\w+{#insert zzJRgxJavaFuncSigPostFuncName}\tzJRgxJavaFuncSigThrSemicOrOpnCrly\r\n    zJRgxJavaFuncSigThrSemicOrOpnCrly_M_fnm -- Needs zvFOBJ_NAME\t{#insert zzJRgxJavaFuncSigPreFuncName}{#insert zvFOBJ_NAME}{#insert zzJRgxJavaFuncSigPostFuncName}\tzJRgxJavaFuncSigThrSemicOrOpnCrly_M_fnm\r\n    zJRgxOptKeywordsBtwScopeAndRetType\t(?:(static|final|native|synchronized|abstract|threadsafe|transient|{#insert zJRgx123GenericsNotInGroup})\\s+){0,}\tzJRgxOptKeywordsBtwScopeAndRetType\r\n    zJRgxOptionalPubProtPriv\t(?:(?:public|protected|private)\\s+)?\tzJRgxOptionalPubProtPriv\r\n    zJRgxParamTypeName -(**)- Ends w/ &#39;\\b(?![&gt;\\[])&#39; to NOT find &lt;? &#39;extends XClass&#39;&gt; or ...[]&gt;\t(*Original: zJRgxParamTypeName, Needed by: zJRgxParamTypeName[4FQPTV,ForDel[NmsOnly,Types]]*){#insert zJRgxTypeW0123GenericsArry}(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\tzJRgxParamTypeName\r\n    zJRgxTypeW0123GenericsArry -- Grp1=Type, Grp2=&#39;[]&#39;, if any\t\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})\tzJRgxTypeW0123GenericsArry\r\n    zvTTL_PRMS_stL1c\t{#insert zCutL1c}{#SETPHRASE -description zvTTL_PRMS -content {#INSERTCLIPBOARD} -autotext zvTTL_PRMS -folder ctvv_folder}\tzvTTL_PRMS_stL1c\r\n    zvTTL_PRMS_stL1cSvRstrCB\t{#insert zvCB_CONTENTS_stCB}{#insert zvTTL_PRMS_stL1c}{#insert zSetCBToCB_CONTENTS}\tzvTTL_PRMS_stL1cSvRstrCB\r\n    zvTTL_PRMS_stPrompt\t{#SETPHRASE -description zvTTL_PRMS -content {#INPUT -head How many parameters? -single} -autotext zvTTL_PRMS -folder ctvv_folder}\tzvTTL_PRMS_stPrompt\r\n    zzJRgxJavaFuncNmThrClsPrn_M_fnmTtlp -- Needs zvFOBJ_NAME, zvTTL_PRMS\t(?&lt;=[ \\t])\\b{#insert zvFOBJ_NAME}\\b\\s*\\(\\s*{#insert {#COND -if {#insert zvTTL_PRMS} = 0 -then z1slp -else zzParamsGT0_M_ttlp}}\\)\tzzJRgxJavaFuncNmThrClsPrn_M_fnmTtlp\r\n    zzJRgxJavaFuncSigPostFuncName\t{#insert zzJRgxPostFuncNmThrClsPrn}(?:\\s*throws \\b(?:[\\w.]+)\\b(\\s*,\\s*\\b(?:[\\w.]+)\\b))?\\s*(?:\\{|;)[ \\t]*$\tzzJRgxJavaFuncSigPostFuncName\r\n    zzJRgxJavaFuncSigPreFuncName\t(*If a type has generics, there may be no spaces between it and the first open &#39;&lt;&#39;, also requires generics with three nestings at the most (&lt;...&lt;...&lt;...&gt;...&gt;...&gt; okay, &lt;...&lt;...&lt;...&lt;...&gt;...&gt;...&gt;...&gt; not)*)^[ \\t]*{#insert zJRgxOptionalPubProtPriv}{#insert zJRgxOptKeywordsBtwScopeAndRetType}(*To prevent &#39;return funcName();&#39; from being recognized:*)(?!return){#insert zJRgxTypeW0123GenericsArry}\\s+\\b\tzzJRgxJavaFuncSigPreFuncName\r\n    zzJRgxPostFuncNmThrClsPrn\t\\b\\s*\\({#insert zJRgx0OrMoreParams}\\)\tzzJRgxPostFuncNmThrClsPrn\r\n    zzParamsGT0_M_ttlp -- Needs zvTTL_PRMS\t{#insert zJRgxParamTypeName}\\s*{#insert {#COND -if {#insert zvTTL_PRMS} = 1 -then z1slp -else zzParamsGT1_M_ttlp}}\tzzParamsGT0_M_ttlp\r\n    zzParamsGT1_M_ttlp\t{#LOOP ,\\s+{#insert zJRgxParamTypeName}\\s* -count {#CALC {#insert zvTTL_PRMS} - 1 -round 0 -thousands none}}\tzzParamsGT1_M_ttlp\r\n    ","title":"Regex that Will Match a Java Method Declaration","body":"<p>After looking through the other answers, here is what I came up with:</p>\n\n<pre><code>#permission\n   ^[ \\t]*(?:(?:public|protected|private)\\s+)?\n#keywords\n   (?:(static|final|native|synchronized|abstract|threadsafe|transient|{#insert zJRgx123GenericsNotInGroup})\\s+){0,}\n#return type\n   #If return type is \"return\" then it's actually a 'return funcName();' line. Ignore.\n   (?!return)\n   \\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})\\s+\n#function name\n   \\b\\w+\\b\\s*\n#parameters\n   \\(\n      #one\n         \\s*(?:\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\n      #two and up\n         \\(\\s*(?:,\\s+\\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*){0,})?\\s*\n   \\)\n#post parameters\n   (?:\\s*throws [\\w.]+(\\s*,\\s*[\\w.]+))?\n#close-curly (concrete) or semi-colon (abstract)\n   \\s*(?:\\{|;)[ \\t]*$\n</code></pre>\n\n<hr>\n\n<p>Where <code>{#insert zJRgx123GenericsNotInGroup}</code> equals</p>\n\n<pre><code>`(?:&lt;[?\\w\\[\\] ,.&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;)`\n</code></pre>\n\n<p>Limitations:</p>\n\n<ul>\n<li>ANY parameter can have an ellipsis: \"...\" (Java allows only last)</li>\n<li>Three levels of nested generics at most: (<code>&lt;...&lt;...&lt;...&gt;...&gt;...&gt;</code> okay, <code>&lt;...&lt;...&lt;...&lt;...&gt;...&gt;...&gt;...&gt;</code> bad). The syntax inside generics can be very bogus, and still seem okay to this regex.</li>\n<li>Requires no spaces between types and their (optional) opening generics '&lt;'</li>\n<li>Recognizes inner classes, but doesn't prevent two dots next to each other, such as Class....InnerClass</li>\n</ul>\n\n<p>Below is the raw PhraseExpress code (auto-text and description on line 1, body on line 2). Call <code>{#insert zJRgxJavaFuncSigThrSemicOrOpnCrly}</code>, and you get this:</p>\n\n<pre><code>^[ \\t]*(?:(?:public|protected|private)\\s+)?(?:(static|final|native|synchronized|abstract|threadsafe|transient|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))\\s+){0,}(?!return)\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})\\s+\\b\\w+\\b\\s*\\(\\s*(?:\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*(?:,\\s+\\b([\\w.]+)\\b(?:|(?:&lt;[?\\w\\[\\] ,&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;))((?:\\[\\]){0,})(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])\\s*){0,})?\\s*\\)(?:\\s*throws [\\w.]+(\\s*,\\s*[\\w.]+))?\\s*(?:\\{|;)[ \\t]*$\n</code></pre>\n\n<hr>\n\n<p>Raw code:</p>\n\n<pre><code>zJRgx123GenericsNotInGroup -- To precede return-type    (?:&lt;[?\\w\\[\\] ,.&amp;]+&gt;)|(?:&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;)|(?:&lt;[^&lt;]*&lt;[^&lt;]*&lt;[?\\w\\[\\] ,.&amp;]+&gt;[^&gt;]*&gt;[^&gt;]*&gt;)  zJRgx123GenericsNotInGroup\nzJRgx0OrMoreParams  \\s*(?:{#insert zJRgxParamTypeName}\\s*(?:,\\s+{#insert zJRgxParamTypeName}\\s*){0,})?\\s*   zJRgx0OrMoreParams\nzJRgxJavaFuncNmThrClsPrn_M_fnm -- Needs zvFOBJ_NAME (?&lt;=\\s)\\b{#insert zvFOBJ_NAME}{#insert zzJRgxPostFuncNmThrClsPrn}   zJRgxJavaFuncNmThrClsPrn_M_fnm\nzJRgxJavaFuncSigThrSemicOrOpnCrly -(**)-    {#insert zzJRgxJavaFuncSigPreFuncName}\\w+{#insert zzJRgxJavaFuncSigPostFuncName}    zJRgxJavaFuncSigThrSemicOrOpnCrly\nzJRgxJavaFuncSigThrSemicOrOpnCrly_M_fnm -- Needs zvFOBJ_NAME    {#insert zzJRgxJavaFuncSigPreFuncName}{#insert zvFOBJ_NAME}{#insert zzJRgxJavaFuncSigPostFuncName}  zJRgxJavaFuncSigThrSemicOrOpnCrly_M_fnm\nzJRgxOptKeywordsBtwScopeAndRetType  (?:(static|final|native|synchronized|abstract|threadsafe|transient|{#insert zJRgx123GenericsNotInGroup})\\s+){0,}    zJRgxOptKeywordsBtwScopeAndRetType\nzJRgxOptionalPubProtPriv    (?:(?:public|protected|private)\\s+)?    zJRgxOptionalPubProtPriv\nzJRgxParamTypeName -(**)- Ends w/ '\\b(?![&gt;\\[])' to NOT find &lt;? 'extends XClass'&gt; or ...[]&gt;  (*Original: zJRgxParamTypeName, Needed by: zJRgxParamTypeName[4FQPTV,ForDel[NmsOnly,Types]]*){#insert zJRgxTypeW0123GenericsArry}(\\.\\.\\.)?\\s+(\\w+)\\b(?![&gt;\\[])   zJRgxParamTypeName\nzJRgxTypeW0123GenericsArry -- Grp1=Type, Grp2='[]', if any  \\b([\\w.]+)\\b(?:|{#insert zJRgx123GenericsNotInGroup})((?:\\[\\]){0,}) zJRgxTypeW0123GenericsArry\nzvTTL_PRMS_stL1c    {#insert zCutL1c}{#SETPHRASE -description zvTTL_PRMS -content {#INSERTCLIPBOARD} -autotext zvTTL_PRMS -folder ctvv_folder}  zvTTL_PRMS_stL1c\nzvTTL_PRMS_stL1cSvRstrCB    {#insert zvCB_CONTENTS_stCB}{#insert zvTTL_PRMS_stL1c}{#insert zSetCBToCB_CONTENTS} zvTTL_PRMS_stL1cSvRstrCB\nzvTTL_PRMS_stPrompt {#SETPHRASE -description zvTTL_PRMS -content {#INPUT -head How many parameters? -single} -autotext zvTTL_PRMS -folder ctvv_folder}  zvTTL_PRMS_stPrompt\nzzJRgxJavaFuncNmThrClsPrn_M_fnmTtlp -- Needs zvFOBJ_NAME, zvTTL_PRMS    (?&lt;=[ \\t])\\b{#insert zvFOBJ_NAME}\\b\\s*\\(\\s*{#insert {#COND -if {#insert zvTTL_PRMS} = 0 -then z1slp -else zzParamsGT0_M_ttlp}}\\)    zzJRgxJavaFuncNmThrClsPrn_M_fnmTtlp\nzzJRgxJavaFuncSigPostFuncName   {#insert zzJRgxPostFuncNmThrClsPrn}(?:\\s*throws \\b(?:[\\w.]+)\\b(\\s*,\\s*\\b(?:[\\w.]+)\\b))?\\s*(?:\\{|;)[ \\t]*$   zzJRgxJavaFuncSigPostFuncName\nzzJRgxJavaFuncSigPreFuncName    (*If a type has generics, there may be no spaces between it and the first open '&lt;', also requires generics with three nestings at the most (&lt;...&lt;...&lt;...&gt;...&gt;...&gt; okay, &lt;...&lt;...&lt;...&lt;...&gt;...&gt;...&gt;...&gt; not)*)^[ \\t]*{#insert zJRgxOptionalPubProtPriv}{#insert zJRgxOptKeywordsBtwScopeAndRetType}(*To prevent 'return funcName();' from being recognized:*)(?!return){#insert zJRgxTypeW0123GenericsArry}\\s+\\b  zzJRgxJavaFuncSigPreFuncName\nzzJRgxPostFuncNmThrClsPrn   \\b\\s*\\({#insert zJRgx0OrMoreParams}\\)   zzJRgxPostFuncNmThrClsPrn\nzzParamsGT0_M_ttlp -- Needs zvTTL_PRMS  {#insert zJRgxParamTypeName}\\s*{#insert {#COND -if {#insert zvTTL_PRMS} = 1 -then z1slp -else zzParamsGT1_M_ttlp}}  zzParamsGT0_M_ttlp\nzzParamsGT1_M_ttlp  {#LOOP ,\\s+{#insert zJRgxParamTypeName}\\s* -count {#CALC {#insert zvTTL_PRMS} - 1 -round 0 -thousands none}}    zzParamsGT1_M_ttlp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16120,"reputation":1,"user_id":34806,"accept_rate":92,"display_name":"Dexygen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389904204,"creation_date":1389904204,"answer_id":21172210,"question_id":68633,"body_markdown":"This is for a more specific use case but it&#39;s so much simpler I believe its worth sharing.  I did this for finding &#39;public static void&#39; methods i.e. Play controller actions, and I did it from the Windows/Cygwin command line, using grep; see: https://stackoverflow.com/a/7167115/34806\r\n\r\n    cat Foobar.java | grep -Pzo &#39;(?s)public static void.*?\\)\\s+{&#39;\r\n\r\nThe last two entries from my output are as follows:\r\n\r\n    public static void activeWorkEventStations (String type,\r\n                String symbol,\r\n                String section,\r\n                String day,\r\n                String priority,\r\n                @As(&quot;yyyy-MM-dd&quot;) Date scheduleDepartureDate) {\r\n    public static void getActiveScheduleChangeLogs(String type,\r\n                String symbol,\r\n                String section,\r\n                String day,\r\n                String priority,\r\n                @As(&quot;yyyy-MM-dd&quot;) Date scheduleDepartureDate) {\r\n\r\n","title":"Regex that Will Match a Java Method Declaration","body":"<p>This is for a more specific use case but it's so much simpler I believe its worth sharing.  I did this for finding 'public static void' methods i.e. Play controller actions, and I did it from the Windows/Cygwin command line, using grep; see: <a href=\"https://stackoverflow.com/a/7167115/34806\">https://stackoverflow.com/a/7167115/34806</a></p>\n\n<pre><code>cat Foobar.java | grep -Pzo '(?s)public static void.*?\\)\\s+{'\n</code></pre>\n\n<p>The last two entries from my output are as follows:</p>\n\n<pre><code>public static void activeWorkEventStations (String type,\n            String symbol,\n            String section,\n            String day,\n            String priority,\n            @As(\"yyyy-MM-dd\") Date scheduleDepartureDate) {\npublic static void getActiveScheduleChangeLogs(String type,\n            String symbol,\n            String section,\n            String day,\n            String priority,\n            @As(\"yyyy-MM-dd\") Date scheduleDepartureDate) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2134002,"reputation":8980,"user_id":1894198,"accept_rate":52,"display_name":"tharindu_DG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458897833,"creation_date":1458897833,"answer_id":36217245,"question_id":68633,"body_markdown":"I found **seba229**&#39;s answer useful, it captures most of the scenarios, but not the following,\r\n\r\n    public &lt;T&gt; T name(final Class&lt;T&gt; x, final T y)\r\n\r\nThis regex will capture that also.\r\n\r\n    ((public|private|protected|static|final|native|synchronized|abstract|transient)+\\s)+[\\$_\\w\\&lt;\\&gt;\\w\\s\\[\\]]*\\s+[\\$_\\w]+\\([^\\)]*\\)?\\s*\r\n\r\nHope this helps.","title":"Regex that Will Match a Java Method Declaration","body":"<p>I found <strong>seba229</strong>'s answer useful, it captures most of the scenarios, but not the following,</p>\n\n<pre><code>public &lt;T&gt; T name(final Class&lt;T&gt; x, final T y)\n</code></pre>\n\n<p>This regex will capture that also.</p>\n\n<pre><code>((public|private|protected|static|final|native|synchronized|abstract|transient)+\\s)+[\\$_\\w\\&lt;\\&gt;\\w\\s\\[\\]]*\\s+[\\$_\\w]+\\([^\\)]*\\)?\\s*\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1137268,"reputation":1777,"user_id":1122069,"accept_rate":68,"display_name":"user1122069"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503800407,"creation_date":1503796738,"answer_id":45900932,"question_id":68633,"body_markdown":"    (public|private|static|protected) ([A-Za-z0-9&lt;&gt;.]+) ([A-Za-z0-9]+)\\(\r\n\r\nAlso, here&#39;s a replace sequence you can use in IntelliJ\r\n\r\n    $1 $2 $3(\r\n\r\nI use it like this:\r\n\r\n    $1 $2 aaa$3(\r\n\r\nwhen converting Java files to Kotlin to prevent functions that start with &quot;get&quot; from automatically turning into variables. Doesn&#39;t work with &quot;default&quot; access level, but I don&#39;t use that much myself.\r\n\r\n\r\n","title":"Regex that Will Match a Java Method Declaration","body":"<pre><code>(public|private|static|protected) ([A-Za-z0-9&lt;&gt;.]+) ([A-Za-z0-9]+)\\(\n</code></pre>\n\n<p>Also, here's a replace sequence you can use in IntelliJ</p>\n\n<pre><code>$1 $2 $3(\n</code></pre>\n\n<p>I use it like this:</p>\n\n<pre><code>$1 $2 aaa$3(\n</code></pre>\n\n<p>when converting Java files to Kotlin to prevent functions that start with \"get\" from automatically turning into variables. Doesn't work with \"default\" access level, but I don't use that much myself.</p>\n"},{"tags":[],"owner":{"account_id":12605839,"reputation":51,"user_id":9166774,"display_name":"Souvik Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514960389,"creation_date":1514960389,"answer_id":48072172,"question_id":68633,"body_markdown":"`(public|private|static|protected|abstract|native|synchronized) +([a-zA-Z0-9&lt;&gt;._?, ]+) +([a-zA-Z0-9_]+) *\\\\([a-zA-Z0-9&lt;&gt;\\\\[\\\\]._?, \\n]*\\\\) *([a-zA-Z0-9_ ,\\n]*) *\\\\{`\r\n\r\nThe Regex above will detect all possible java method definitions. Tested on lot&#39;s of source code files. To include constructors as well use the below regex :\r\n\r\n`(public|private|static|protected|abstract|native|synchronized) +([a-zA-Z0-9&lt;&gt;._?, ]*) +([a-zA-Z0-9_]+) *\\\\([a-zA-Z0-9&lt;&gt;\\\\[\\\\]._?, \\n]*\\\\) *([a-zA-Z0-9_ ,\\n]*) *\\\\{`","title":"Regex that Will Match a Java Method Declaration","body":"<p><code>(public|private|static|protected|abstract|native|synchronized) +([a-zA-Z0-9&lt;&gt;._?, ]+) +([a-zA-Z0-9_]+) *\\\\([a-zA-Z0-9&lt;&gt;\\\\[\\\\]._?, \\n]*\\\\) *([a-zA-Z0-9_ ,\\n]*) *\\\\{</code></p>\n\n<p>The Regex above will detect all possible java method definitions. Tested on lot's of source code files. To include constructors as well use the below regex :</p>\n\n<p><code>(public|private|static|protected|abstract|native|synchronized) +([a-zA-Z0-9&lt;&gt;._?, ]*) +([a-zA-Z0-9_]+) *\\\\([a-zA-Z0-9&lt;&gt;\\\\[\\\\]._?, \\n]*\\\\) *([a-zA-Z0-9_ ,\\n]*) *\\\\{</code></p>\n"},{"tags":[],"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540494592,"creation_date":1540494592,"answer_id":52996479,"question_id":68633,"body_markdown":"As of git 2.19.0, the [built-in regexp for Java][1] now seems to work well, so supplying your own may not be necessary.\r\n\r\n    &quot;!^[ \\t]*(catch|do|for|if|instanceof|new|return|switch|throw|while)\\n&quot;\r\n\t&quot;^[ \\t]*(([A-Za-z_][A-Za-z_0-9]*[ \\t]+)+[A-Za-z_][A-Za-z_0-9]*[ \\t]*\\\\([^;]*)$&quot;\r\n\r\n(The first line seems to be for filtering out lines that resemble method declarations but aren&#39;t.)\r\n\r\n  [1]: https://git.kernel.org/pub/scm/git/git.git/tree/userdiff.c","title":"Regex that Will Match a Java Method Declaration","body":"<p>As of git 2.19.0, the <a href=\"https://git.kernel.org/pub/scm/git/git.git/tree/userdiff.c\" rel=\"nofollow noreferrer\">built-in regexp for Java</a> now seems to work well, so supplying your own may not be necessary.</p>\n\n<pre><code>\"!^[ \\t]*(catch|do|for|if|instanceof|new|return|switch|throw|while)\\n\"\n\"^[ \\t]*(([A-Za-z_][A-Za-z_0-9]*[ \\t]+)+[A-Za-z_][A-Za-z_0-9]*[ \\t]*\\\\([^;]*)$\"\n</code></pre>\n\n<p>(The first line seems to be for filtering out lines that resemble method declarations but aren't.)</p>\n"},{"tags":[],"owner":{"account_id":13526938,"reputation":1405,"user_id":9758506,"display_name":"Abdullah Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551985276,"creation_date":1551985276,"answer_id":55051029,"question_id":68633,"body_markdown":"This will pick the name of method not the whole line.\r\n\r\n    (?&lt;=public static void )\\w+|(?&lt;=private static void )\\w+|(?&lt;=protected static void )\\w+|(?&lt;=public void )\\w+|(?&lt;=private void )\\w+|(?&lt;=protected void )\\w+|(?&lt;=public final void)\\w+|(?&lt;=private final void)\\w+|(?&lt;=protected final void)\\w+|(?&lt;=private void )\\w+|(?&lt;=protected void )\\w+|(?&lt;=public static final void )\\w+|(?&lt;=private static final void )\\w+|(?&lt;=public final static void )\\w+|(?&lt;=protected final static void )\\\\w+|(?&lt;=private final static void )\\w+|(?&lt;=protected final static void )\\w+|(?&lt;=void )\\w+|(?&lt;=private static )\\w+","title":"Regex that Will Match a Java Method Declaration","body":"<p>This will pick the name of method not the whole line.</p>\n\n<pre><code>(?&lt;=public static void )\\w+|(?&lt;=private static void )\\w+|(?&lt;=protected static void )\\w+|(?&lt;=public void )\\w+|(?&lt;=private void )\\w+|(?&lt;=protected void )\\w+|(?&lt;=public final void)\\w+|(?&lt;=private final void)\\w+|(?&lt;=protected final void)\\w+|(?&lt;=private void )\\w+|(?&lt;=protected void )\\w+|(?&lt;=public static final void )\\w+|(?&lt;=private static final void )\\w+|(?&lt;=public final static void )\\w+|(?&lt;=protected final static void )\\\\w+|(?&lt;=private final static void )\\w+|(?&lt;=protected final static void )\\w+|(?&lt;=void )\\w+|(?&lt;=private static )\\w+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17902721,"reputation":61,"user_id":13006626,"display_name":"Mohamed Rahal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690914310,"creation_date":1690914310,"answer_id":76814305,"question_id":68633,"body_markdown":"This can completely define and separate a java function\r\n\r\n    (?&lt;access&gt;public|private|protected)?\\s*(?&lt;static&gt;static|non-static)?\\s*(?&lt;final&gt;final|non-final)?\\s*(?&lt;type&gt;void|\\w+)\\s+(?&lt;name&gt;[a-zA-Z0-9_]+)\\((?&lt;parameter&gt;.*?)\\)\\s*\\{(?s)(?&lt;body&gt;.*?)\\}\r\n\r\n[![Java function][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fBE7c.png\r\n\r\n\r\nCompatible with:\r\n\r\n - PCRE2 (PHP &gt;= 7.3)\r\n - JAVA8\r\n\r\nGroups:\r\n\r\n - access: *public*\r\n - static: *static*\r\n - final: *non-final*\r\n - type: *void*\r\n - name: *main*\r\n - parameter: *String[] args*\r\n - body: *// This is a Java function*","title":"Regex that Will Match a Java Method Declaration","body":"<p>This can completely define and separate a java function</p>\n<pre><code>(?&lt;access&gt;public|private|protected)?\\s*(?&lt;static&gt;static|non-static)?\\s*(?&lt;final&gt;final|non-final)?\\s*(?&lt;type&gt;void|\\w+)\\s+(?&lt;name&gt;[a-zA-Z0-9_]+)\\((?&lt;parameter&gt;.*?)\\)\\s*\\{(?s)(?&lt;body&gt;.*?)\\}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fBE7c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fBE7c.png\" alt=\"Java function\" /></a></p>\n<p>Compatible with:</p>\n<ul>\n<li>PCRE2 (PHP &gt;= 7.3)</li>\n<li>JAVA8</li>\n</ul>\n<p>Groups:</p>\n<ul>\n<li>access: <em>public</em></li>\n<li>static: <em>static</em></li>\n<li>final: <em>non-final</em></li>\n<li>type: <em>void</em></li>\n<li>name: <em>main</em></li>\n<li>parameter: <em>String[] args</em></li>\n<li>body: <em>// This is a Java function</em></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11644187,"reputation":199,"user_id":8527625,"display_name":"mohammad jalili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697532503,"creation_date":1697532503,"answer_id":77307448,"question_id":68633,"body_markdown":"This is a regex that not only detects most types of Java method signatures but also supports potential exception throwing(zero or many exception classes), data types having dots, and generics. \r\n\r\nNOTE: Please consider that the method has to consist of an access modifiers (public, private, or protected) while using this regex:\r\n\r\n    \\b(public|private|protected)\\s*(&lt;[^&gt;]*&gt;)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s+[^*](\\w+(\\.\\w+)*)*(\\s*&lt;[^&gt;]*&gt;)?(\\s*\\[[^\\]]*\\])*(\\s+\\w+\\s*\\([^)]*\\)(\\s+throws\\s+\\w+(\\s*,\\s*\\w+)*)?)+\r\n\r\n","title":"Regex that Will Match a Java Method Declaration","body":"<p>This is a regex that not only detects most types of Java method signatures but also supports potential exception throwing(zero or many exception classes), data types having dots, and generics.</p>\n<p>NOTE: Please consider that the method has to consist of an access modifiers (public, private, or protected) while using this regex:</p>\n<pre><code>\\b(public|private|protected)\\s*(&lt;[^&gt;]*&gt;)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s*(abstract|default|static|synchronized|final|native|transient)?\\s+[^*](\\w+(\\.\\w+)*)*(\\s*&lt;[^&gt;]*&gt;)?(\\s*\\[[^\\]]*\\])*(\\s+\\w+\\s*\\([^)]*\\)(\\s+throws\\s+\\w+(\\s*,\\s*\\w+)*)?)+\n</code></pre>\n"}],"owner":{"account_id":274,"reputation":12305,"user_id":340,"accept_rate":88,"display_name":"Anton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32825,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":68669,"answer_count":16,"score":19,"last_activity_date":1697532503,"creation_date":1221529458,"question_id":68633,"body_markdown":"I need a Regex that will match a java method declaration. I have come up with one that will match a method declaration, but it requires the opening bracket of the method to be on the same line as the declaration. If you have any suggestions to improve my regex or simply have a better one then please submit an answer.\r\n\r\nHere is my regex: `&quot;\\w+ +\\w+ *\\(.*\\) *\\{&quot;`\r\n\r\nFor those who do not know what a java method looks like I&#39;ll provide a basic one:\r\n\r\n    int foo()\r\n    {\r\n    \r\n    }\r\nThere are several optional parts to java methods that may be added as well but those are the only parts that a method is guaranteed to have.\r\n\r\nUpdate:\r\nMy current Regex is `&quot;\\w+ +\\w+ *\\([^\\)]*\\) *\\{&quot;` so as to prevent the situation that Mike and adkom described.","title":"Regex that Will Match a Java Method Declaration","body":"<p>I need a Regex that will match a java method declaration. I have come up with one that will match a method declaration, but it requires the opening bracket of the method to be on the same line as the declaration. If you have any suggestions to improve my regex or simply have a better one then please submit an answer.</p>\n\n<p>Here is my regex: <code>\"\\w+ +\\w+ *\\(.*\\) *\\{\"</code></p>\n\n<p>For those who do not know what a java method looks like I'll provide a basic one:</p>\n\n<pre><code>int foo()\n{\n\n}\n</code></pre>\n\n<p>There are several optional parts to java methods that may be added as well but those are the only parts that a method is guaranteed to have.</p>\n\n<p>Update:\nMy current Regex is <code>\"\\w+ +\\w+ *\\([^\\)]*\\) *\\{\"</code> so as to prevent the situation that Mike and adkom described.</p>\n"},{"tags":["java","json","http-request-parameters"],"answers":[{"tags":[],"owner":{"account_id":4045523,"reputation":335,"user_id":3326863,"accept_rate":67,"display_name":"Paris Tao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414127446,"creation_date":1414127446,"answer_id":26541845,"question_id":26541801,"body_markdown":"[Json2][1] can help. `JSON.stringify(obj)`\r\n\r\n  [1]: https://github.com/douglascrockford/JSON-js","title":"How to send json data in url as request parameters in java","body":"<p><a href=\"https://github.com/douglascrockford/JSON-js\" rel=\"nofollow\">Json2</a> can help. <code>JSON.stringify(obj)</code></p>\n"},{"comments":[{"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"score":0,"creation_date":1414129349,"post_id":26541912,"comment_id":41708406,"body_markdown":"The issue is the converted string contains &#39;:&#39; which is not works in url .","body":"The issue is the converted string contains &#39;:&#39; which is not works in url ."},{"owner":{"account_id":1971490,"reputation":1384,"user_id":1770274,"accept_rate":50,"display_name":"Nishad K Ahamed"},"score":0,"creation_date":1414129620,"post_id":26541912,"comment_id":41708486,"body_markdown":"@SanjayaLiyanage you never said it in your question...!","body":"@SanjayaLiyanage you never said it in your question...!"},{"owner":{"account_id":1971490,"reputation":1384,"user_id":1770274,"accept_rate":50,"display_name":"Nishad K Ahamed"},"score":0,"creation_date":1414130023,"post_id":26541912,"comment_id":41708598,"body_markdown":"@SanjayaLiyanage yep I know, but that is not your problem right?","body":"@SanjayaLiyanage yep I know, but that is not your problem right?"},{"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"score":0,"creation_date":1414130168,"post_id":26541912,"comment_id":41708646,"body_markdown":"ok Nishad I&#39;m sorry If the question was not up to the point .Why I am unable to send the json data from the url is because it contains : .","body":"ok Nishad I&#39;m sorry If the question was not up to the point .Why I am unable to send the json data from the url is because it contains : ."},{"owner":{"account_id":1971490,"reputation":1384,"user_id":1770274,"accept_rate":50,"display_name":"Nishad K Ahamed"},"score":0,"creation_date":1414130400,"post_id":26541912,"comment_id":41708708,"body_markdown":"Ok, sounds good. Why don&#39;t you use request object to pass parameters? Which framework are you using?","body":"Ok, sounds good. Why don&#39;t you use request object to pass parameters? Which framework are you using?"},{"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"score":0,"creation_date":1414130840,"post_id":26541912,"comment_id":41708838,"body_markdown":"Nishad that thing works fine when I encode the url and send .Thank you for trying to help :)","body":"Nishad that thing works fine when I encode the url and send .Thank you for trying to help :)"}],"tags":[],"owner":{"account_id":1971490,"reputation":1384,"user_id":1770274,"accept_rate":50,"display_name":"Nishad K Ahamed"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414127938,"creation_date":1414127938,"answer_id":26541912,"question_id":26541801,"body_markdown":"you need to convert the `JSON object` to string\r\n\r\n\r\n          JSONObject obj = new JSONObject();\r\n    \r\n          obj.put(&quot;name&quot;,&quot;foo&quot;);\r\n    \r\n          StringWriter out = new StringWriter();\r\n          obj.writeJSONString(out);\r\n          \r\n          String jsonText = out.toString();//JSON object is converted to string\r\n\r\nNow, you can pass this `jsonText` as parameter.","title":"How to send json data in url as request parameters in java","body":"<p>you need to convert the <code>JSON object</code> to string</p>\n\n<pre><code>      JSONObject obj = new JSONObject();\n\n      obj.put(\"name\",\"foo\");\n\n      StringWriter out = new StringWriter();\n      obj.writeJSONString(out);\n\n      String jsonText = out.toString();//JSON object is converted to string\n</code></pre>\n\n<p>Now, you can pass this <code>jsonText</code> as parameter.</p>\n"},{"comments":[{"owner":{"account_id":62138,"reputation":3297,"user_id":184792,"accept_rate":81,"display_name":"msp"},"score":0,"creation_date":1692953236,"post_id":26542001,"comment_id":135697657,"body_markdown":"This doesn&#39;t urlencode the data though.","body":"This doesn&#39;t urlencode the data though."}],"tags":[],"owner":{"account_id":4799041,"reputation":1125,"user_id":3876141,"accept_rate":100,"display_name":"Anptk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414128506,"creation_date":1414128506,"answer_id":26542001,"question_id":26541801,"body_markdown":"We can use the help of &lt;code&gt;Gson&lt;/code&gt;\r\n\r\n    String result =new Gson().toJson(&quot;your data&quot;);\r\n\r\nNB: jar file needed for Gson\r\n\r\n","title":"How to send json data in url as request parameters in java","body":"<p>We can use the help of <code>Gson</code></p>\n\n<pre><code>String result =new Gson().toJson(\"your data\");\n</code></pre>\n\n<p>NB: jar file needed for Gson</p>\n"},{"comments":[{"owner":{"account_id":2000736,"reputation":3013,"user_id":1791856,"accept_rate":88,"display_name":"Alex Moore-Niemi"},"score":0,"creation_date":1617985213,"post_id":26542491,"comment_id":118473521,"body_markdown":"Does this make sense? It encodes it to pretty strange looking url params: `%7B%22aNumber%22%3A2%7D`.","body":"Does this make sense? It encodes it to pretty strange looking url params: <code>%7B%22aNumber%22%3A2%7D</code>."},{"owner":{"account_id":5152889,"reputation":3269,"user_id":4126968,"display_name":"eee"},"score":0,"creation_date":1618000193,"post_id":26542491,"comment_id":118479158,"body_markdown":"@AlexMoore-Niemi Have a look at this URL encoding reference: https://www.w3schools.com/tags/ref_urlencode.ASP","body":"@AlexMoore-Niemi Have a look at this URL encoding reference: <a href=\"https://www.w3schools.com/tags/ref_urlencode.ASP\" rel=\"nofollow noreferrer\">w3schools.com/tags/ref_urlencode.ASP</a>"},{"owner":{"account_id":2000736,"reputation":3013,"user_id":1791856,"accept_rate":88,"display_name":"Alex Moore-Niemi"},"score":0,"creation_date":1618156094,"post_id":26542491,"comment_id":118511187,"body_markdown":"The encoding itself is fine, but it&#39;s encoding the brackets and such as well. That doesn&#39;t seem exactly equivalent to sending &quot;foo=bar&quot; and I don&#39;t think all servers will interpret it to be the same. I guess that&#39;s what the poster is asking for though!","body":"The encoding itself is fine, but it&#39;s encoding the brackets and such as well. That doesn&#39;t seem exactly equivalent to sending &quot;foo=bar&quot; and I don&#39;t think all servers will interpret it to be the same. I guess that&#39;s what the poster is asking for though!"},{"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"score":0,"creation_date":1697522761,"post_id":26542491,"comment_id":136286812,"body_markdown":"This should not be the accepted answer. {&quot;test&quot;:true,&quot;name&quot;:&quot;foo&quot;} needs to be converted to test=true&amp;name=foo","body":"This should not be the accepted answer. {&quot;test&quot;:true,&quot;name&quot;:&quot;foo&quot;} needs to be converted to test=true&amp;name=foo"}],"tags":[],"owner":{"account_id":5152889,"reputation":3269,"user_id":4126968,"display_name":"eee"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1414131507,"creation_date":1414131507,"answer_id":26542491,"question_id":26541801,"body_markdown":"URL encode your details parameter:\r\n\r\n    String otherParameter = &quot;374889331-&quot;;    \r\n    String jsonString = &quot;{\\&quot;aNumber\\&quot;:2}&quot;;\r\n    \r\n    String url = &quot;editTest.jsp?details=&quot; + URLEncoder.encode(otherParameter + jsonString, &quot;UTF-8&quot;);","title":"How to send json data in url as request parameters in java","body":"<p>URL encode your details parameter:</p>\n\n<pre><code>String otherParameter = \"374889331-\";    \nString jsonString = \"{\\\"aNumber\\\":2}\";\n\nString url = \"editTest.jsp?details=\" + URLEncoder.encode(otherParameter + jsonString, \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9054727,"reputation":177,"user_id":6744037,"display_name":"limo_756"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576158877,"creation_date":1576158877,"answer_id":59306191,"question_id":26541801,"body_markdown":"We can convert the Object to JSON Object using GSON, then parse the JSON object and convert it to query param string. The Object should only contain primitive objects like int, float, string, enum, etc. Otherwise, you need to add extra logic to handle those cases.\r\n    \r\n    public String getQueryParamsFromObject(String baseUrl, Object obj) {\r\n            JsonElement json = new Gson().toJsonTree(obj);\r\n            // Assumption is that all the parameters will be json primitives and there will\r\n            // be no complex objects.\r\n            return baseUrl + json.getAsJsonObject().entrySet().stream()\r\n                    .map(entry -&gt; entry.getKey() + &quot;=&quot; + entry.getValue().getAsString())\r\n                    .reduce((e1, e2) -&gt; e1 + &quot;&amp;&quot; + e2)\r\n                    .map(res -&gt; &quot;?&quot; + res).orElse(&quot;&quot;);\r\n        }\r\n\r\n","title":"How to send json data in url as request parameters in java","body":"<p>We can convert the Object to JSON Object using GSON, then parse the JSON object and convert it to query param string. The Object should only contain primitive objects like int, float, string, enum, etc. Otherwise, you need to add extra logic to handle those cases.</p>\n\n<pre><code>public String getQueryParamsFromObject(String baseUrl, Object obj) {\n        JsonElement json = new Gson().toJsonTree(obj);\n        // Assumption is that all the parameters will be json primitives and there will\n        // be no complex objects.\n        return baseUrl + json.getAsJsonObject().entrySet().stream()\n                .map(entry -&gt; entry.getKey() + \"=\" + entry.getValue().getAsString())\n                .reduce((e1, e2) -&gt; e1 + \"&amp;\" + e2)\n                .map(res -&gt; \"?\" + res).orElse(\"\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3253860,"reputation":1277,"user_id":2743486,"accept_rate":55,"display_name":"DavidDunham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697532488,"creation_date":1697532488,"answer_id":77307442,"question_id":26541801,"body_markdown":"I would like to add my solution:\r\n\r\n\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.ArrayList;\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n    import com.google.gson.JsonElement;\r\n\r\n\r\n    private static String createURIString(String str) {\r\n\t\ttry {\r\n\t\t\tURI uri = new URI(str);\r\n\t\t\treturn uri.toASCIIString();\r\n\t\t} catch (URISyntaxException x) {\r\n\t\t\tthrow new IllegalArgumentException(x.getMessage(), x);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static String convertJSONBodyToURL(String input){\r\n\t\t// input = &quot;{ \\&quot;name\\&quot;: \\&quot;Test\\&quot;, \\&quot;java\\&quot;: true}&quot;;\r\n\r\n\t\tArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tJsonObject jsonObject = new JsonParser().parse(input).getAsJsonObject();\r\n\t\tfor (Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\r\n\t\t\tString key = entry.getKey();\r\n\t\t\tString value = entry.getValue().toString();\r\n                // remove &quot;&#39;, new URI would fail\r\n\t\t\t\tvalue = value.replace(&quot;\\&quot;&quot;, &quot;&quot;).replace(&quot;&#39;&quot;, &quot;&quot;);\r\n\t\t\t\r\n\t\t\t// value sanity checks\r\n\t\t\tString valueURI = FixAPI.createURIString(value);\r\n\t\t\t\r\n\t\t\t// fail in case of problems\r\n\t\t\tif(valueURI == null){\r\n\t\t\t\t// err\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// if safe, add to array\t\t\t\r\n\t\t\tarr.add(key + &quot;=&quot; + value);\r\n\t\t}\r\n\t\t\r\n\t\t// join array to String\r\n\t\tString joinedURLString = String.join(&quot;&amp;&quot;, arr);\r\n\t\t\r\n\t\treturn joinedURLString;\r\n\t}","title":"How to send json data in url as request parameters in java","body":"<p>I would like to add my solution:</p>\n<pre><code>import java.net.URI;\nimport java.net.URISyntaxException;\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.google.gson.JsonElement;\n\n\nprivate static String createURIString(String str) {\n    try {\n        URI uri = new URI(str);\n        return uri.toASCIIString();\n    } catch (URISyntaxException x) {\n        throw new IllegalArgumentException(x.getMessage(), x);\n    }\n}\n\nprivate static String convertJSONBodyToURL(String input){\n    // input = &quot;{ \\&quot;name\\&quot;: \\&quot;Test\\&quot;, \\&quot;java\\&quot;: true}&quot;;\n\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n    \n    JsonObject jsonObject = new JsonParser().parse(input).getAsJsonObject();\n    for (Entry&lt;String, JsonElement&gt; entry : jsonObject.entrySet()) {\n        String key = entry.getKey();\n        String value = entry.getValue().toString();\n            // remove &quot;', new URI would fail\n            value = value.replace(&quot;\\&quot;&quot;, &quot;&quot;).replace(&quot;'&quot;, &quot;&quot;);\n        \n        // value sanity checks\n        String valueURI = FixAPI.createURIString(value);\n        \n        // fail in case of problems\n        if(valueURI == null){\n            // err\n            return null;\n        }\n\n        // if safe, add to array            \n        arr.add(key + &quot;=&quot; + value);\n    }\n    \n    // join array to String\n    String joinedURLString = String.join(&quot;&amp;&quot;, arr);\n    \n    return joinedURLString;\n}\n</code></pre>\n"}],"owner":{"account_id":2613438,"reputation":4706,"user_id":2263089,"accept_rate":75,"display_name":"Sanjaya Liyanage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44058,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26542491,"answer_count":6,"score":3,"last_activity_date":1697532488,"creation_date":1414127186,"question_id":26541801,"body_markdown":"I want to send json data in url as below .\r\n\r\n \r\n\r\n    editTest.jsp?details=374889331-{&quot;aNumber&quot;:2}\r\n\r\nHow can I do this? ","title":"How to send json data in url as request parameters in java","body":"<p>I want to send json data in url as below .</p>\n\n<pre><code>editTest.jsp?details=374889331-{\"aNumber\":2}\n</code></pre>\n\n<p>How can I do this? </p>\n"},{"tags":["java","spring","spring-boot","autowired","dynamic-proxy"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1697532445,"post_id":77307404,"comment_id":136288383,"body_markdown":"I suppose it&#39;s possible if you use method injection. But this sounds more like something that should be handled on the configuration side. For example, could you add this primary component as an injected dependency instead?","body":"I suppose it&#39;s possible if you use method injection. But this sounds more like something that should be handled on the configuration side. For example, could you add this primary component as an injected dependency instead?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697533946,"post_id":77307404,"comment_id":136288699,"body_markdown":"**Now it depends on several circumstances**, feels like instead of adding a proxy and do much of this complexity why not write your own conditionals to select the implementation instead of a proxy. Only create the instance you need.","body":"<b>Now it depends on several circumstances</b>, feels like instead of adding a proxy and do much of this complexity why not write your own conditionals to select the implementation instead of a proxy. Only create the instance you need."},{"owner":{"account_id":481405,"reputation":127,"user_id":895221,"accept_rate":80,"display_name":"nauni77"},"score":0,"creation_date":1698051991,"post_id":77307404,"comment_id":136351560,"body_markdown":"@Jorn : Thanks for your answer. Yes, at the moment I already do the scan at configuration phase. Even the creation and the insertion of the primary proxy beans. This works, but I want to do this on the fly (avoid scanning) - but at the moment I think there is possibility to solve this after configuration phase.","body":"@Jorn : Thanks for your answer. Yes, at the moment I already do the scan at configuration phase. Even the creation and the insertion of the primary proxy beans. This works, but I want to do this on the fly (avoid scanning) - but at the moment I think there is possibility to solve this after configuration phase."},{"owner":{"account_id":481405,"reputation":127,"user_id":895221,"accept_rate":80,"display_name":"nauni77"},"score":0,"creation_date":1698052264,"post_id":77307404,"comment_id":136351615,"body_markdown":"@M. Deinum : Thanks for your answer. This is a very dynamic application and the proxy instance decide which remote server should be requested (or maybe the local service if no remote is present and the service exists locally). Because of this all beans needs to be there and I just select the correct bean (and configure this) during the request. Maybe the next request will address a different server (because of round-robin, load-balancing or just because one of the remotes is down).\n\nIt&#39;s a very nice idea to use conditionals, but I think this will not solve my problem.","body":"@M. Deinum : Thanks for your answer. This is a very dynamic application and the proxy instance decide which remote server should be requested (or maybe the local service if no remote is present and the service exists locally). Because of this all beans needs to be there and I just select the correct bean (and configure this) during the request. Maybe the next request will address a different server (because of round-robin, load-balancing or just because one of the remotes is down).  It&#39;s a very nice idea to use conditionals, but I think this will not solve my problem."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698129514,"post_id":77307404,"comment_id":136362543,"body_markdown":"Then a proxy won&#39;t help you either, you will need to implement this logic somewhete and instead of hiding it in annotations, reflections/aop just write it in a class that does what you want.","body":"Then a proxy won&#39;t help you either, you will need to implement this logic somewhete and instead of hiding it in annotations, reflections/aop just write it in a class that does what you want."}],"owner":{"account_id":481405,"reputation":127,"user_id":895221,"accept_rate":80,"display_name":"nauni77"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697532272,"creation_date":1697532148,"question_id":77307404,"body_markdown":"Is there any possibility to execute some code before _every_ autowiring (for method and variable autowiring)? Because under some circumstances I want to add a primary component before this autowire/injection happened.\r\n\r\nI have different services implementing the same interface (business implementation, rest client, ...). Now it depends on several circumstances which implementation should be used. Because of this I implemented a proxy service (annotated with @Primary) which is created dynamically. At the moment at this is done at &quot;BeanDefinitionRegistryPostProcessor&quot; - but I need to scan for all components and this take some time.\r\n\r\nI want to avoid this and want to create this proxy dynamically - I tried to add the proxy at &quot;postProcessBeforeInitialization&quot;. But there is a problem if a bean should be injected which is not already created - because there are more than one possible instance and none of them is @Primary (because without initialization of this component my proxy is missing at this moment of autowiring).","title":"Hook before @Autowire (constructor and variable)?","body":"<p>Is there any possibility to execute some code before <em>every</em> autowiring (for method and variable autowiring)? Because under some circumstances I want to add a primary component before this autowire/injection happened.</p>\n<p>I have different services implementing the same interface (business implementation, rest client, ...). Now it depends on several circumstances which implementation should be used. Because of this I implemented a proxy service (annotated with @Primary) which is created dynamically. At the moment at this is done at &quot;BeanDefinitionRegistryPostProcessor&quot; - but I need to scan for all components and this take some time.</p>\n<p>I want to avoid this and want to create this proxy dynamically - I tried to add the proxy at &quot;postProcessBeforeInitialization&quot;. But there is a problem if a bean should be injected which is not already created - because there are more than one possible instance and none of them is @Primary (because without initialization of this component my proxy is missing at this moment of autowiring).</p>\n"},{"tags":["java","spring-boot","spring-test","spring-restdocs"],"answers":[{"comments":[{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1697532945,"post_id":77307412,"comment_id":136288469,"body_markdown":"Perfect! Thank you! It seems obvious now that I know :-D","body":"Perfect! Thank you! It seems obvious now that I know :-D"}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697532220,"creation_date":1697532220,"answer_id":77307412,"question_id":77307315,"body_markdown":"The problem&#39;s caused by your use of `/` when calling `MockMvcRestDocumentation.document(&quot;/&quot;)`. The javadoc describes it as &quot;an identifier for the API call that is being documented&quot;. The reference documentation [describes](https://docs.spring.io/spring-restdocs/docs/current/reference/htmlsingle/#getting-started-documentation-snippets-invoking-the-service) how this identifier is used when creating the  names of the snippet files that are generated.\r\n\r\nWhen the identifier starts with `/` it is [already absolute so the configured output directory is ignored](https://github.com/spring-projects/spring-restdocs/blob/f7605a479c08d1d3f2439133c4c70f0e3ba77a0e/spring-restdocs-core/src/main/java/org/springframework/restdocs/snippet/StandardWriterResolver.java#L84-L90). I would recommend using something like `index` or `root` as the identifier instead. This will result in a directory named `index` or `root` being created in the configured output directory. This directory will contain all of the snippets for the API operation that you&#39;re documenting.","title":"How can I fix a RestDocumentationGenerationException: java.io.FileNotFoundException: /curl-request.adoc (Read-only file system) in my Spring Boot app?","body":"<p>The problem's caused by your use of <code>/</code> when calling <code>MockMvcRestDocumentation.document(&quot;/&quot;)</code>. The javadoc describes it as &quot;an identifier for the API call that is being documented&quot;. The reference documentation <a href=\"https://docs.spring.io/spring-restdocs/docs/current/reference/htmlsingle/#getting-started-documentation-snippets-invoking-the-service\" rel=\"nofollow noreferrer\">describes</a> how this identifier is used when creating the  names of the snippet files that are generated.</p>\n<p>When the identifier starts with <code>/</code> it is <a href=\"https://github.com/spring-projects/spring-restdocs/blob/f7605a479c08d1d3f2439133c4c70f0e3ba77a0e/spring-restdocs-core/src/main/java/org/springframework/restdocs/snippet/StandardWriterResolver.java#L84-L90\" rel=\"nofollow noreferrer\">already absolute so the configured output directory is ignored</a>. I would recommend using something like <code>index</code> or <code>root</code> as the identifier instead. This will result in a directory named <code>index</code> or <code>root</code> being created in the configured output directory. This directory will contain all of the snippets for the API operation that you're documenting.</p>\n"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77307412,"answer_count":1,"score":1,"last_activity_date":1697532220,"creation_date":1697531425,"question_id":77307315,"body_markdown":"Would you believe googling this returned a whopping two results!   \r\n\r\nI&#39;m trying to use Spring REST Docs (`spring-restdocs-mockmvc`) to generate API documentation for my service. \r\n  \r\nRunning on a macbook pro with M2 processor. \r\nI&#39;ve read that this issue happens because `/` is the root directory on a mac, and that is read only. \r\nI don&#39;t know why that path is being used though.  \r\nI have the system property `org.springframework.restdocs.outputDir` set, and when I check it the path is correct: `/Users/me/workspace/my-service/target/generated-snippets`.  \r\n\r\nMy code looks like this:   \r\n```java\r\n@SpringBootTest()\r\n@ExtendWith(RestDocumentationExtension.class)\r\nclass ExampleControllerTest {\r\n\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    private MockMvc mvc;\r\n\r\n    @BeforeEach\r\n    public void setUp(RestDocumentationContextProvider restDocumentation) {\r\n        System.out.println(&quot;Output Directory: &quot; + System.getProperty(&quot;org.springframework.restdocs.outputDir&quot;));\r\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.context)\r\n                                      .apply(MockMvcRestDocumentation.documentationConfiguration(restDocumentation))\r\n                                      .build();\r\n    }\r\n\r\n    @Test\r\n    public void index() throws Exception {\r\n        mvc.perform(MockMvcRequestBuilders.get(&quot;/&quot;).accept(MediaType.APPLICATION_JSON))\r\n           .andExpect(status().isOk()).andExpect(content().string(containsString(&quot;\\&quot;name\\&quot;:\\&quot;Example Service\\&quot;&quot;)))\r\n           .andDo(MockMvcRestDocumentation.document(&quot;/&quot;,\r\n                                                    responseFields(\r\n                                                            fieldWithPath(&quot;name&quot;).description(&quot;The name of the service&quot;),\r\n                                                            fieldWithPath(&quot;list&quot;).description(&quot;A list of Integers&quot;),\r\n                                                            fieldWithPath(&quot;calledTimes&quot;).description(\r\n                                                                    &quot;A count of the number of times this resource has been called&quot;),\r\n                                                            fieldWithPath(&quot;deployEnvironment&quot;).description(\r\n                                                                    &quot;The environment the service is deployed to&quot;)\r\n                                                    )\r\n                  )\r\n           );\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m at a total loss as to what to do here. \r\n\r\nWhen I pause the code with the debugger I can see that the `RestDocumentationContextProvider` passed into the setup method has a value called `outputDirectory` that is null. So it seems to me that it&#39;s not picking up the system property for some reason.   \r\nIf I look in `valuesStore.storedValues` there is one key/value pair with the key `class org.springframework.restdocs.ManualRestDocumentation` and a value that contains (among other things) `outputDirectory` set to `target/generated-snippets`.   \r\n\r\n ","title":"How can I fix a RestDocumentationGenerationException: java.io.FileNotFoundException: /curl-request.adoc (Read-only file system) in my Spring Boot app?","body":"<p>Would you believe googling this returned a whopping two results!</p>\n<p>I'm trying to use Spring REST Docs (<code>spring-restdocs-mockmvc</code>) to generate API documentation for my service.</p>\n<p>Running on a macbook pro with M2 processor.\nI've read that this issue happens because <code>/</code> is the root directory on a mac, and that is read only.\nI don't know why that path is being used though.<br />\nI have the system property <code>org.springframework.restdocs.outputDir</code> set, and when I check it the path is correct: <code>/Users/me/workspace/my-service/target/generated-snippets</code>.</p>\n<p>My code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest()\n@ExtendWith(RestDocumentationExtension.class)\nclass ExampleControllerTest {\n\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mvc;\n\n    @BeforeEach\n    public void setUp(RestDocumentationContextProvider restDocumentation) {\n        System.out.println(&quot;Output Directory: &quot; + System.getProperty(&quot;org.springframework.restdocs.outputDir&quot;));\n        this.mvc = MockMvcBuilders.webAppContextSetup(this.context)\n                                      .apply(MockMvcRestDocumentation.documentationConfiguration(restDocumentation))\n                                      .build();\n    }\n\n    @Test\n    public void index() throws Exception {\n        mvc.perform(MockMvcRequestBuilders.get(&quot;/&quot;).accept(MediaType.APPLICATION_JSON))\n           .andExpect(status().isOk()).andExpect(content().string(containsString(&quot;\\&quot;name\\&quot;:\\&quot;Example Service\\&quot;&quot;)))\n           .andDo(MockMvcRestDocumentation.document(&quot;/&quot;,\n                                                    responseFields(\n                                                            fieldWithPath(&quot;name&quot;).description(&quot;The name of the service&quot;),\n                                                            fieldWithPath(&quot;list&quot;).description(&quot;A list of Integers&quot;),\n                                                            fieldWithPath(&quot;calledTimes&quot;).description(\n                                                                    &quot;A count of the number of times this resource has been called&quot;),\n                                                            fieldWithPath(&quot;deployEnvironment&quot;).description(\n                                                                    &quot;The environment the service is deployed to&quot;)\n                                                    )\n                  )\n           );\n    }\n}\n</code></pre>\n<p>I'm at a total loss as to what to do here.</p>\n<p>When I pause the code with the debugger I can see that the <code>RestDocumentationContextProvider</code> passed into the setup method has a value called <code>outputDirectory</code> that is null. So it seems to me that it's not picking up the system property for some reason.<br />\nIf I look in <code>valuesStore.storedValues</code> there is one key/value pair with the key <code>class org.springframework.restdocs.ManualRestDocumentation</code> and a value that contains (among other things) <code>outputDirectory</code> set to <code>target/generated-snippets</code>.</p>\n"},{"tags":["java","spring-boot","soap","spring-ws"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697530324,"post_id":77307130,"comment_id":136287993,"body_markdown":"Why is the definition the same as the wsdl? The definition doesn&#39;t have an input either. I have a feeling there is information missing here.","body":"Why is the definition the same as the wsdl? The definition doesn&#39;t have an input either. I have a feeling there is information missing here."},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1697530874,"post_id":77307130,"comment_id":136288079,"body_markdown":"Sorry, I fixed the questions. I pasted the wrong piece of code. Thanks for your hint!","body":"Sorry, I fixed the questions. I pasted the wrong piece of code. Thanks for your hint!"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697531085,"post_id":77307130,"comment_id":136288121,"body_markdown":"Can you show the full xsd? I assume you generate the classes based from this and not manually constructing them, finally how are you generating the WSDL?","body":"Can you show the full xsd? I assume you generate the classes based from this and not manually constructing them, finally how are you generating the WSDL?"},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1697532221,"post_id":77307130,"comment_id":136288340,"body_markdown":"The full XSD contains thousands of lines. Due to copyright I am not allowed to post this as a full file public. Which Information from the XSD to you need? The Java classes are generated with org.codehaus.mojo - jaxb2-maven-plugin. I added the WS Config part to the post.","body":"The full XSD contains thousands of lines. Due to copyright I am not allowed to post this as a full file public. Which Information from the XSD to you need? The Java classes are generated with org.codehaus.mojo - jaxb2-maven-plugin. I added the WS Config part to the post."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697533533,"post_id":77307130,"comment_id":136288610,"body_markdown":"You can try setting `requestSuffix` to `&quot;&quot;` on the `DefaultWsdl11Definition ` as the default is `Request`. Also assuming you are using Spring Boot and a recent version, remove the `MessageDispatcherServlet`, the `@EnableWs` and `extends WsConfigurerAdapter` to allow Spring BOot to do auto configuration.","body":"You can try setting <code>requestSuffix</code> to <code>&quot;&quot;</code> on the <code>DefaultWsdl11Definition </code> as the default is <code>Request</code>. Also assuming you are using Spring Boot and a recent version, remove the <code>MessageDispatcherServlet</code>, the <code>@EnableWs</code> and <code>extends WsConfigurerAdapter</code> to allow Spring BOot to do auto configuration."},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1697535759,"post_id":77307130,"comment_id":136289070,"body_markdown":"I am using Spring Boot 2.7.15. If I remove the ````MessageDispatcherServlet```` Bean, the configuration does not work any longer. When I request the WSDL I get an 404 error. Setting ````requestSuffix```` to Space gives an error: ```` requestSuffix must not be empty````","body":"I am using Spring Boot 2.7.15. If I remove the <code>MessageDispatcherServlet</code> Bean, the configuration does not work any longer. When I request the WSDL I get an 404 error. Setting <code>requestSuffix</code> to Space gives an error: ```` requestSuffix must not be empty````"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697536580,"post_id":77307130,"comment_id":136289260,"body_markdown":"You should also remove `@EnableWs` you only need the 2 beans, Spring BOot should configure the `MessageDispatcherServlet` then. It won&#39;t if you add `@EnableWs` and/or keep the `extends WsConfigurerAdapter`. If that gives a failure (which wouldn&#39;t be unexpected) you can try using the `ProviderBasedWsdl4jDefinition` instead, which might require some additional configuration.","body":"You should also remove <code>@EnableWs</code> you only need the 2 beans, Spring BOot should configure the <code>MessageDispatcherServlet</code> then. It won&#39;t if you add <code>@EnableWs</code> and/or keep the <code>extends WsConfigurerAdapter</code>. If that gives a failure (which wouldn&#39;t be unexpected) you can try using the <code>ProviderBasedWsdl4jDefinition</code> instead, which might require some additional configuration."},{"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"score":0,"creation_date":1697603147,"post_id":77307130,"comment_id":136298997,"body_markdown":"I tried lots of things - but nothing worked. Removing ````@EnableWs```` and the ````MessageDispatcherServlet```` results in an error 404 when I try to access the WSDL or the method. Do you have an example of how to use ````ProviderBasedWsdl4jDefinition````?","body":"I tried lots of things - but nothing worked. Removing <code>@EnableWs</code> and the <code>MessageDispatcherServlet</code> results in an error 404 when I try to access the WSDL or the method. Do you have an example of how to use <code>ProviderBasedWsdl4jDefinition</code>?"}],"owner":{"account_id":4787866,"reputation":823,"user_id":3867820,"accept_rate":22,"display_name":"Daniel Pomrehn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697532051,"creation_date":1697529578,"question_id":77307130,"body_markdown":"I need to use some XSDs files from an industry standard to generate a SOAP webservice from it. REST is not possible because the consumer is only able to do SOAP calls. \r\n\r\nThe parameters in the XSD are defined as the following: \r\n````\r\n   &lt;xsd:element name=&quot;getData&quot;&gt;\r\n      &lt;xsd:complexType&gt;\r\n         &lt;xsd:sequence&gt;\r\n            &lt;xsd:element name=&quot;Request&quot; type=&quot;CT_getDataRequest&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n      &lt;/xsd:complexType&gt;\r\n   &lt;/xsd:element&gt;\r\n   &lt;xsd:element name=&quot;getDataResponse&quot;&gt;\r\n      &lt;xsd:complexType&gt;\r\n         &lt;xsd:sequence&gt;\r\n            &lt;xsd:element name=&quot;Response&quot; type=&quot;CT_getDataResponse&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\r\n         &lt;/xsd:sequence&gt;\r\n      &lt;/xsd:complexType&gt;\r\n   &lt;/xsd:element&gt;\r\n````\r\n\r\nThat is my endpoint definition: \r\n````\r\n@Endpoint\r\n@RequiredArgsConstructor\r\npublic class DataEndpoint {\r\n    private static final String NAMESPACE_URI = &quot;http://www.machine-config.net/namespace/data&quot;;\r\n\r\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getData&quot;)\r\n    @ResponsePayload\r\n    public GetDataResponse getData(@RequestPayload GetData request) {\r\n\t}\r\n}\r\n````\r\n\r\nHere is my WsConfiguration: \r\n````\r\n@EnableWs\r\n@Configuration\r\npublic class WebServiceConfig extends WsConfigurerAdapter {\r\n\r\n    @Bean\r\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\r\n        MessageDispatcherServlet messageDispatcherServlet = new MessageDispatcherServlet();\r\n        messageDispatcherServlet.setApplicationContext(applicationContext);\r\n        messageDispatcherServlet.setTransformWsdlLocations(true);\r\n        return new ServletRegistrationBean(messageDispatcherServlet, &quot;/ws/*&quot;);\r\n    }\r\n\r\n    @Bean(name = &quot;dataDefinition&quot;)\r\n    public DefaultWsdl11Definition dataWsdl11Definition() {\r\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\r\n        wsdl11Definition.setPortTypeName(&quot;dataServicePortType&quot;);\r\n        wsdl11Definition.setLocationUri(&quot;/ws&quot;);\r\n        wsdl11Definition.setTargetNamespace(&quot;http://www.machine-config.net/namespace&quot;);\r\n        wsdl11Definition.setSchemaCollection(dataSchemas());\r\n\t\t\r\n        return wsdl11Definition;\r\n    }\r\n\r\n    @Bean(name = &quot;dataSchema&quot;)\r\n    public XsdSchemaCollection dataSchemas() {\r\n        CommonsXsdSchemaCollection xsds = new CommonsXsdSchemaCollection(new ClassPathResource(&quot;xsd/data-2.18.1433.2.xsd&quot;));\r\n        xsds.setUriResolver(new DefaultURIResolver());\r\n        xsds.setInline(true);\r\n        return xsds;\r\n    }\r\n}\r\n````\r\n\r\nBut inside the generated WSDL the following operation is generated:\r\n````\r\n&lt;wsdl:operation name=&quot;getData&quot;&gt;\r\n\t&lt;wsdl:output message=&quot;sch0:getDataResponse&quot; name=&quot;getDataResponse&quot;&gt; &lt;/wsdl:output&gt;\r\n&lt;/wsdl:operation&gt;\r\n````\r\n\r\nThe ````wsdl:input```` part is missing. \r\n\r\nWhen I change the xsd:element ````getData```` to ````getDataRequest```` the ````wsdl:input```` element is generated. \r\nBut that workaround will not work because the XSD will be delivered by a vendor and I am not allowed to change anything in this file. \r\n\r\nHow can I make spring-ws to recognize the input parameter without the Request Suffix? \r\n","title":"spring-ws Generating SOAP Service without Request Parameter Suffix","body":"<p>I need to use some XSDs files from an industry standard to generate a SOAP webservice from it. REST is not possible because the consumer is only able to do SOAP calls.</p>\n<p>The parameters in the XSD are defined as the following:</p>\n<pre><code>   &lt;xsd:element name=&quot;getData&quot;&gt;\n      &lt;xsd:complexType&gt;\n         &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;Request&quot; type=&quot;CT_getDataRequest&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n         &lt;/xsd:sequence&gt;\n      &lt;/xsd:complexType&gt;\n   &lt;/xsd:element&gt;\n   &lt;xsd:element name=&quot;getDataResponse&quot;&gt;\n      &lt;xsd:complexType&gt;\n         &lt;xsd:sequence&gt;\n            &lt;xsd:element name=&quot;Response&quot; type=&quot;CT_getDataResponse&quot; minOccurs=&quot;1&quot; maxOccurs=&quot;1&quot;/&gt;\n         &lt;/xsd:sequence&gt;\n      &lt;/xsd:complexType&gt;\n   &lt;/xsd:element&gt;\n</code></pre>\n<p>That is my endpoint definition:</p>\n<pre><code>@Endpoint\n@RequiredArgsConstructor\npublic class DataEndpoint {\n    private static final String NAMESPACE_URI = &quot;http://www.machine-config.net/namespace/data&quot;;\n\n    @PayloadRoot(namespace = NAMESPACE_URI, localPart = &quot;getData&quot;)\n    @ResponsePayload\n    public GetDataResponse getData(@RequestPayload GetData request) {\n    }\n}\n</code></pre>\n<p>Here is my WsConfiguration:</p>\n<pre><code>@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n\n    @Bean\n    public ServletRegistrationBean messageDispatcherServlet(ApplicationContext applicationContext) {\n        MessageDispatcherServlet messageDispatcherServlet = new MessageDispatcherServlet();\n        messageDispatcherServlet.setApplicationContext(applicationContext);\n        messageDispatcherServlet.setTransformWsdlLocations(true);\n        return new ServletRegistrationBean(messageDispatcherServlet, &quot;/ws/*&quot;);\n    }\n\n    @Bean(name = &quot;dataDefinition&quot;)\n    public DefaultWsdl11Definition dataWsdl11Definition() {\n        DefaultWsdl11Definition wsdl11Definition = new DefaultWsdl11Definition();\n        wsdl11Definition.setPortTypeName(&quot;dataServicePortType&quot;);\n        wsdl11Definition.setLocationUri(&quot;/ws&quot;);\n        wsdl11Definition.setTargetNamespace(&quot;http://www.machine-config.net/namespace&quot;);\n        wsdl11Definition.setSchemaCollection(dataSchemas());\n        \n        return wsdl11Definition;\n    }\n\n    @Bean(name = &quot;dataSchema&quot;)\n    public XsdSchemaCollection dataSchemas() {\n        CommonsXsdSchemaCollection xsds = new CommonsXsdSchemaCollection(new ClassPathResource(&quot;xsd/data-2.18.1433.2.xsd&quot;));\n        xsds.setUriResolver(new DefaultURIResolver());\n        xsds.setInline(true);\n        return xsds;\n    }\n}\n</code></pre>\n<p>But inside the generated WSDL the following operation is generated:</p>\n<pre><code>&lt;wsdl:operation name=&quot;getData&quot;&gt;\n    &lt;wsdl:output message=&quot;sch0:getDataResponse&quot; name=&quot;getDataResponse&quot;&gt; &lt;/wsdl:output&gt;\n&lt;/wsdl:operation&gt;\n</code></pre>\n<p>The <code>wsdl:input</code> part is missing.</p>\n<p>When I change the xsd:element <code>getData</code> to <code>getDataRequest</code> the <code>wsdl:input</code> element is generated.\nBut that workaround will not work because the XSD will be delivered by a vendor and I am not allowed to change anything in this file.</p>\n<p>How can I make spring-ws to recognize the input parameter without the Request Suffix?</p>\n"},{"tags":["java","mapreduce","amazon-emr","apache-tez"],"owner":{"account_id":18683148,"reputation":53,"user_id":13619264,"display_name":"Thusitha Jayasundara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697532020,"creation_date":1697532020,"question_id":77307389,"body_markdown":"I&#39;m using the following code to run the Java MapReduce application in an AWS EMR. Now, I need to run this in the TEZ engine, not the MapReduce engine. When I changed the ``mapreduce.framework.name`` property to ``yarn-tez`` and tested it against a smaller data set it worked. But when I run the application against a much higher data set it executes the map jobs 100%, but reduce jobs are stuck at 0% when I check the application status using ``yarn application -status`` command, it&#39;s showing as the progress 0%. Will you be able to help me to understand the issue here? \r\n\r\n```\r\npublic class MyFirstMapReduceMain {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n\r\n            String inputSource = args[0];\r\n            String outputResult =  args[1];\r\n            String hostName = args.length &gt; 2 ? args[2] : &quot;localhost&quot;;\r\n            String port = args.length &gt; 3 ? args[3] : &quot;10000&quot;;\r\n            String database = args.length &gt; 4 ? args[4] : &quot;hive_test_db&quot;;\r\n            String username = args.length &gt; 5 ? args[5] : &quot;&quot;;\r\n            String password = args.length &gt; 6 ? args[6] : &quot;&quot;;\r\n            String appType = args.length &gt; 7 ? args[7] : &quot;&quot;;\r\n\r\n            Configuration conf = new Configuration();\r\n            conf.set(&quot;reducer-hive-host&quot;, hostName);\r\n            conf.set(&quot;reducer-hive-port&quot;, port);\r\n            conf.set(&quot;reducer-hive-db&quot;, database);\r\n            conf.set(&quot;reducer-hive-un&quot;, username);\r\n            conf.set(&quot;reducer-hive-pw&quot;, password);\r\n            conf.set(&quot;mapreduce.framework.name&quot;, &quot;yarn-tez&quot;);\r\n\r\n            conf.set(&quot;mapreduce.input.fileinputformat.inputformat&quot;, &quot;org.apache.hadoop.ql.io.RCFileInputFormat&quot;);\r\n            conf.setInt(&quot;mapreduce.task.timeout&quot;, 1800000);\r\n            conf.setInt(&quot;mapred.task.timeout&quot;, 1800000);\r\n\r\n            Job job = Job.getInstance(conf, &quot;MyFirst MapReduce Job&quot;);\r\n            setTextOutputFormatSeparator(job, &quot;|&quot;);\r\n            job.setNumReduceTasks(Integer.valueOf(reduceCount));\r\n            job.setJarByClass(MyFirstMapReduceMain.class);\r\n            job.setMapperClass(MyMapper.class);\r\n            job.setReducerClass(MyReducer.class);\r\n\r\n            job.setMapOutputKeyClass(Text.class);\r\n            job.setMapOutputValueClass(Text.class);\r\n            job.setOutputKeyClass(Text.class);\r\n            job.setOutputValueClass(Text.class);\r\n\r\n            job.setInputFormatClass(TextInputFormat.class);\r\n            job.setOutputFormatClass(TextOutputFormat.class);\r\n\r\n            FileInputFormat.setInputPaths(job, new Path(inputSource));\r\n            FileOutputFormat.setOutputPath(job, new Path(outputResult));\r\n\r\n            if (job.waitForCompletion(true)) {\r\n                HiveHelper.loadOutputToHiveTable(new Path(outputResult), hostName, port, database, username, password, &quot;output_hive_table&quot;);\r\n            } else {\r\n                System.exit(1);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            log.error(&quot;Exception occurred when executing MyFirstMapReduceMain&quot;, e);\r\n        }\r\n\r\n    }\r\n```\r\n\r\n","title":"How can I run Java MapReduce application on Apache TEZ engine?","body":"<p>I'm using the following code to run the Java MapReduce application in an AWS EMR. Now, I need to run this in the TEZ engine, not the MapReduce engine. When I changed the <code>mapreduce.framework.name</code> property to <code>yarn-tez</code> and tested it against a smaller data set it worked. But when I run the application against a much higher data set it executes the map jobs 100%, but reduce jobs are stuck at 0% when I check the application status using <code>yarn application -status</code> command, it's showing as the progress 0%. Will you be able to help me to understand the issue here?</p>\n<pre><code>public class MyFirstMapReduceMain {\n\n    public static void main(String[] args) {\n        try {\n\n            String inputSource = args[0];\n            String outputResult =  args[1];\n            String hostName = args.length &gt; 2 ? args[2] : &quot;localhost&quot;;\n            String port = args.length &gt; 3 ? args[3] : &quot;10000&quot;;\n            String database = args.length &gt; 4 ? args[4] : &quot;hive_test_db&quot;;\n            String username = args.length &gt; 5 ? args[5] : &quot;&quot;;\n            String password = args.length &gt; 6 ? args[6] : &quot;&quot;;\n            String appType = args.length &gt; 7 ? args[7] : &quot;&quot;;\n\n            Configuration conf = new Configuration();\n            conf.set(&quot;reducer-hive-host&quot;, hostName);\n            conf.set(&quot;reducer-hive-port&quot;, port);\n            conf.set(&quot;reducer-hive-db&quot;, database);\n            conf.set(&quot;reducer-hive-un&quot;, username);\n            conf.set(&quot;reducer-hive-pw&quot;, password);\n            conf.set(&quot;mapreduce.framework.name&quot;, &quot;yarn-tez&quot;);\n\n            conf.set(&quot;mapreduce.input.fileinputformat.inputformat&quot;, &quot;org.apache.hadoop.ql.io.RCFileInputFormat&quot;);\n            conf.setInt(&quot;mapreduce.task.timeout&quot;, 1800000);\n            conf.setInt(&quot;mapred.task.timeout&quot;, 1800000);\n\n            Job job = Job.getInstance(conf, &quot;MyFirst MapReduce Job&quot;);\n            setTextOutputFormatSeparator(job, &quot;|&quot;);\n            job.setNumReduceTasks(Integer.valueOf(reduceCount));\n            job.setJarByClass(MyFirstMapReduceMain.class);\n            job.setMapperClass(MyMapper.class);\n            job.setReducerClass(MyReducer.class);\n\n            job.setMapOutputKeyClass(Text.class);\n            job.setMapOutputValueClass(Text.class);\n            job.setOutputKeyClass(Text.class);\n            job.setOutputValueClass(Text.class);\n\n            job.setInputFormatClass(TextInputFormat.class);\n            job.setOutputFormatClass(TextOutputFormat.class);\n\n            FileInputFormat.setInputPaths(job, new Path(inputSource));\n            FileOutputFormat.setOutputPath(job, new Path(outputResult));\n\n            if (job.waitForCompletion(true)) {\n                HiveHelper.loadOutputToHiveTable(new Path(outputResult), hostName, port, database, username, password, &quot;output_hive_table&quot;);\n            } else {\n                System.exit(1);\n            }\n\n        } catch (Exception e) {\n            log.error(&quot;Exception occurred when executing MyFirstMapReduceMain&quot;, e);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","android","sdp","ice4j"],"answers":[{"tags":[],"owner":{"account_id":112033,"reputation":9456,"user_id":295675,"accept_rate":69,"display_name":"David Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697531913,"creation_date":1697531913,"answer_id":77307374,"question_id":76469906,"body_markdown":"The issue is because `LexerCore` appears to conflict with a hidden embedded Android framework class. Looking at the `LexerCore` class with a debugger, you can find a `dexCache` field which I believe indicates the location the class was loaded from. Other app classes have a path consistent with coming from the apk&#39;s dex files, but `LexerCore` gives me a path `/system/framework/voip-common.jar`. It looks like they have an internal copy of the NIST classes.\r\n\r\nNot sure if it will work for Ice4J as well, but you can try shadowing the jars to avoid the class name conflict. This can be done fairly simply with a shadow plugin like https://imperceptiblethoughts.com/shadow/ to rename the packages.","title":"ICE4j session description parsing on Android","body":"<p>The issue is because <code>LexerCore</code> appears to conflict with a hidden embedded Android framework class. Looking at the <code>LexerCore</code> class with a debugger, you can find a <code>dexCache</code> field which I believe indicates the location the class was loaded from. Other app classes have a path consistent with coming from the apk's dex files, but <code>LexerCore</code> gives me a path <code>/system/framework/voip-common.jar</code>. It looks like they have an internal copy of the NIST classes.</p>\n<p>Not sure if it will work for Ice4J as well, but you can try shadowing the jars to avoid the class name conflict. This can be done fairly simply with a shadow plugin like <a href=\"https://imperceptiblethoughts.com/shadow/\" rel=\"nofollow noreferrer\">https://imperceptiblethoughts.com/shadow/</a> to rename the packages.</p>\n"}],"owner":{"account_id":16419235,"reputation":23,"user_id":11860899,"display_name":"rtp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697531913,"creation_date":1686712282,"question_id":76469906,"body_markdown":"I&#39;m trying to use [jitsi/ice4j](https://github.com/jitsi/ice4j) on Android but i&#39;m having trouble with a `NullPointerException` in a dependency, namely [jitsi/jain-sip, jitsi-oss-only](https://github.com/jitsi/jain-sip/tree/jitsi-oss-only). It occurs when trying to parse a Session Description, in the `LexerCore` class.\r\n\r\nThere&#39;s a similar question regarding this: [ice-sdp-parse-exception](https://stackoverflow.com/questions/37769202/ice-sdp-parse-exception). Someone found the variable that is not instantiated in one of the two constructors. This checks out.\r\n\r\n\r\nAfter adding a line that is supposed to fix the NPE and some additional `println`s i built the dependency and all super-dependencies (java-sdp-nist-bridge and ice4j). The thing is, the error persists. Also, the additional `println`s aren&#39;t happening. So i checked the fields of `LexerCore` with reflection during runtime and it seems that:\r\n1. The fields of the superclass don&#39;t match the source that i edited. On Android, two static fields defined as `ConcurrentHashMap`s are `Hashtable`s on Android. The `Map&lt;String, Integer` reference that was null (the original problem) is suddenly a `Hashtable` as well. On desktop, the field types match what i see in the source files.\r\n\r\n   The fields on Android:\r\n   \r\n```\r\nprotected java.util.Hashtable gov.nist.core.LexerCore.currentLexer\r\nprotected java.lang.String gov.nist.core.LexerCore.currentLexerName\r\nprotected gov.nist.core.Token gov.nist.core.LexerCore.currentMatch\r\npublic static final int gov.nist.core.LexerCore.ALPHA\r\nstatic final char gov.nist.core.LexerCore.ALPHADIGIT_VALID_CHARS\r\nstatic final char gov.nist.core.LexerCore.ALPHA_VALID_CHARS\r\npublic static final int gov.nist.core.LexerCore.AND\r\npublic static final int gov.nist.core.LexerCore.AT\r\npublic static final int gov.nist.core.LexerCore.BACKSLASH\r\npublic static final int gov.nist.core.LexerCore.BACK_QUOTE\r\npublic static final int gov.nist.core.LexerCore.BAR\r\npublic static final int gov.nist.core.LexerCore.COLON\r\npublic static final int gov.nist.core.LexerCore.DIGIT\r\nstatic final char gov.nist.core.LexerCore.DIGIT_VALID_CHARS\r\npublic static final int gov.nist.core.LexerCore.DOLLAR\r\npublic static final int gov.nist.core.LexerCore.DOT\r\npublic static final int gov.nist.core.LexerCore.DOUBLEQUOTE\r\npublic static final int gov.nist.core.LexerCore.END\r\npublic static final int gov.nist.core.LexerCore.EQUALS\r\npublic static final int gov.nist.core.LexerCore.EXCLAMATION\r\npublic static final int gov.nist.core.LexerCore.GREATER_THAN\r\npublic static final int gov.nist.core.LexerCore.HAT\r\npublic static final int gov.nist.core.LexerCore.HT\r\npublic static final int gov.nist.core.LexerCore.ID\r\npublic static final int gov.nist.core.LexerCore.LESS_THAN\r\npublic static final int gov.nist.core.LexerCore.LPAREN\r\npublic static final int gov.nist.core.LexerCore.L_CURLY\r\npublic static final int gov.nist.core.LexerCore.L_SQUARE_BRACKET\r\npublic static final int gov.nist.core.LexerCore.MINUS\r\npublic static final int gov.nist.core.LexerCore.NULL\r\npublic static final int gov.nist.core.LexerCore.PERCENT\r\npublic static final int gov.nist.core.LexerCore.PLUS\r\npublic static final int gov.nist.core.LexerCore.POUND\r\npublic static final int gov.nist.core.LexerCore.QUESTION\r\npublic static final int gov.nist.core.LexerCore.QUOTE\r\npublic static final int gov.nist.core.LexerCore.RPAREN\r\npublic static final int gov.nist.core.LexerCore.R_CURLY\r\npublic static final int gov.nist.core.LexerCore.R_SQUARE_BRACKET\r\npublic static final int gov.nist.core.LexerCore.SAFE\r\npublic static final int gov.nist.core.LexerCore.SEMICOLON\r\npublic static final int gov.nist.core.LexerCore.SLASH\r\npublic static final int gov.nist.core.LexerCore.SP\r\npublic static final int gov.nist.core.LexerCore.STAR\r\npublic static final int gov.nist.core.LexerCore.START\r\npublic static final int gov.nist.core.LexerCore.TILDE\r\npublic static final int gov.nist.core.LexerCore.UNDERSCORE\r\npublic static final int gov.nist.core.LexerCore.WHITESPACE\r\nprotected static final java.util.Hashtable gov.nist.core.LexerCore.globalSymbolTable\r\nprotected static final java.util.Hashtable gov.nist.core.LexerCore.lexerTables\r\n```\r\nThe fields on desktop, notice the `dummyField` added field:\r\n    \r\n```\r\npublic static final int gov.nist.core.LexerCore.START\r\npublic static final int gov.nist.core.LexerCore.END\r\npublic static final int gov.nist.core.LexerCore.ID_NO_WHITESPACE\r\npublic static final int gov.nist.core.LexerCore.ID\r\npublic static final int gov.nist.core.LexerCore.SAFE\r\npublic static final int gov.nist.core.LexerCore.WHITESPACE\r\npublic static final int gov.nist.core.LexerCore.DIGIT\r\npublic static final int gov.nist.core.LexerCore.ALPHA\r\npublic static final int gov.nist.core.LexerCore.BACKSLASH\r\npublic static final int gov.nist.core.LexerCore.QUOTE\r\npublic static final int gov.nist.core.LexerCore.AT\r\npublic static final int gov.nist.core.LexerCore.SP\r\npublic static final int gov.nist.core.LexerCore.HT\r\npublic static final int gov.nist.core.LexerCore.COLON\r\npublic static final int gov.nist.core.LexerCore.STAR\r\npublic static final int gov.nist.core.LexerCore.DOLLAR\r\npublic static final int gov.nist.core.LexerCore.PLUS\r\npublic static final int gov.nist.core.LexerCore.POUND\r\npublic static final int gov.nist.core.LexerCore.MINUS\r\npublic static final int gov.nist.core.LexerCore.DOUBLEQUOTE\r\npublic static final int gov.nist.core.LexerCore.TILDE\r\npublic static final int gov.nist.core.LexerCore.BACK_QUOTE\r\npublic static final int gov.nist.core.LexerCore.NULL\r\npublic static final int gov.nist.core.LexerCore.EQUALS\r\npublic static final int gov.nist.core.LexerCore.SEMICOLON\r\npublic static final int gov.nist.core.LexerCore.SLASH\r\npublic static final int gov.nist.core.LexerCore.L_SQUARE_BRACKET\r\npublic static final int gov.nist.core.LexerCore.R_SQUARE_BRACKET\r\npublic static final int gov.nist.core.LexerCore.R_CURLY\r\npublic static final int gov.nist.core.LexerCore.L_CURLY\r\npublic static final int gov.nist.core.LexerCore.HAT\r\npublic static final int gov.nist.core.LexerCore.BAR\r\npublic static final int gov.nist.core.LexerCore.DOT\r\npublic static final int gov.nist.core.LexerCore.EXCLAMATION\r\npublic static final int gov.nist.core.LexerCore.LPAREN\r\npublic static final int gov.nist.core.LexerCore.RPAREN\r\npublic static final int gov.nist.core.LexerCore.GREATER_THAN\r\npublic static final int gov.nist.core.LexerCore.LESS_THAN\r\npublic static final int gov.nist.core.LexerCore.PERCENT\r\npublic static final int gov.nist.core.LexerCore.QUESTION\r\npublic static final int gov.nist.core.LexerCore.AND\r\npublic static final int gov.nist.core.LexerCore.UNDERSCORE\r\nprotected static final java.util.concurrent.ConcurrentHashMap gov.nist.core.LexerCore.globalSymbolTable\r\nprotected static final java.util.concurrent.ConcurrentHashMap gov.nist.core.LexerCore.lexerTables\r\nprotected java.util.Map gov.nist.core.LexerCore.currentLexer\r\nprotected java.lang.String gov.nist.core.LexerCore.dummyField\r\nprotected java.lang.String gov.nist.core.LexerCore.currentLexerName\r\nprotected gov.nist.core.Token gov.nist.core.LexerCore.currentMatch\r\nstatic final char gov.nist.core.LexerCore.ALPHA_VALID_CHARS\r\nstatic final char gov.nist.core.LexerCore.DIGIT_VALID_CHARS\r\nstatic final char gov.nist.core.LexerCore.ALPHADIGIT_VALID_CHARS\r\n```\r\n\r\n\r\n2. I also added a dummy `String` field, it&#39;s absent on Android and present on desktop.\r\n\r\nI&#39;m using the same dependency on desktop and Android, i&#39;ve edited it multiple times now. Im using Maven to build the desktop app and Gradle in Android Studio.\r\n\r\nWhy is the code being executed different on Android? Reflection is used in the module but not in regards to `LexerCore`, at least i did not find it being used.\r\n\r\nThank you for your time.","title":"ICE4j session description parsing on Android","body":"<p>I'm trying to use <a href=\"https://github.com/jitsi/ice4j\" rel=\"nofollow noreferrer\">jitsi/ice4j</a> on Android but i'm having trouble with a <code>NullPointerException</code> in a dependency, namely <a href=\"https://github.com/jitsi/jain-sip/tree/jitsi-oss-only\" rel=\"nofollow noreferrer\">jitsi/jain-sip, jitsi-oss-only</a>. It occurs when trying to parse a Session Description, in the <code>LexerCore</code> class.</p>\n<p>There's a similar question regarding this: <a href=\"https://stackoverflow.com/questions/37769202/ice-sdp-parse-exception\">ice-sdp-parse-exception</a>. Someone found the variable that is not instantiated in one of the two constructors. This checks out.</p>\n<p>After adding a line that is supposed to fix the NPE and some additional <code>println</code>s i built the dependency and all super-dependencies (java-sdp-nist-bridge and ice4j). The thing is, the error persists. Also, the additional <code>println</code>s aren't happening. So i checked the fields of <code>LexerCore</code> with reflection during runtime and it seems that:</p>\n<ol>\n<li><p>The fields of the superclass don't match the source that i edited. On Android, two static fields defined as <code>ConcurrentHashMap</code>s are <code>Hashtable</code>s on Android. The <code>Map&lt;String, Integer</code> reference that was null (the original problem) is suddenly a <code>Hashtable</code> as well. On desktop, the field types match what i see in the source files.</p>\n<p>The fields on Android:</p>\n</li>\n</ol>\n<pre><code>protected java.util.Hashtable gov.nist.core.LexerCore.currentLexer\nprotected java.lang.String gov.nist.core.LexerCore.currentLexerName\nprotected gov.nist.core.Token gov.nist.core.LexerCore.currentMatch\npublic static final int gov.nist.core.LexerCore.ALPHA\nstatic final char gov.nist.core.LexerCore.ALPHADIGIT_VALID_CHARS\nstatic final char gov.nist.core.LexerCore.ALPHA_VALID_CHARS\npublic static final int gov.nist.core.LexerCore.AND\npublic static final int gov.nist.core.LexerCore.AT\npublic static final int gov.nist.core.LexerCore.BACKSLASH\npublic static final int gov.nist.core.LexerCore.BACK_QUOTE\npublic static final int gov.nist.core.LexerCore.BAR\npublic static final int gov.nist.core.LexerCore.COLON\npublic static final int gov.nist.core.LexerCore.DIGIT\nstatic final char gov.nist.core.LexerCore.DIGIT_VALID_CHARS\npublic static final int gov.nist.core.LexerCore.DOLLAR\npublic static final int gov.nist.core.LexerCore.DOT\npublic static final int gov.nist.core.LexerCore.DOUBLEQUOTE\npublic static final int gov.nist.core.LexerCore.END\npublic static final int gov.nist.core.LexerCore.EQUALS\npublic static final int gov.nist.core.LexerCore.EXCLAMATION\npublic static final int gov.nist.core.LexerCore.GREATER_THAN\npublic static final int gov.nist.core.LexerCore.HAT\npublic static final int gov.nist.core.LexerCore.HT\npublic static final int gov.nist.core.LexerCore.ID\npublic static final int gov.nist.core.LexerCore.LESS_THAN\npublic static final int gov.nist.core.LexerCore.LPAREN\npublic static final int gov.nist.core.LexerCore.L_CURLY\npublic static final int gov.nist.core.LexerCore.L_SQUARE_BRACKET\npublic static final int gov.nist.core.LexerCore.MINUS\npublic static final int gov.nist.core.LexerCore.NULL\npublic static final int gov.nist.core.LexerCore.PERCENT\npublic static final int gov.nist.core.LexerCore.PLUS\npublic static final int gov.nist.core.LexerCore.POUND\npublic static final int gov.nist.core.LexerCore.QUESTION\npublic static final int gov.nist.core.LexerCore.QUOTE\npublic static final int gov.nist.core.LexerCore.RPAREN\npublic static final int gov.nist.core.LexerCore.R_CURLY\npublic static final int gov.nist.core.LexerCore.R_SQUARE_BRACKET\npublic static final int gov.nist.core.LexerCore.SAFE\npublic static final int gov.nist.core.LexerCore.SEMICOLON\npublic static final int gov.nist.core.LexerCore.SLASH\npublic static final int gov.nist.core.LexerCore.SP\npublic static final int gov.nist.core.LexerCore.STAR\npublic static final int gov.nist.core.LexerCore.START\npublic static final int gov.nist.core.LexerCore.TILDE\npublic static final int gov.nist.core.LexerCore.UNDERSCORE\npublic static final int gov.nist.core.LexerCore.WHITESPACE\nprotected static final java.util.Hashtable gov.nist.core.LexerCore.globalSymbolTable\nprotected static final java.util.Hashtable gov.nist.core.LexerCore.lexerTables\n</code></pre>\n<p>The fields on desktop, notice the <code>dummyField</code> added field:</p>\n<pre><code>public static final int gov.nist.core.LexerCore.START\npublic static final int gov.nist.core.LexerCore.END\npublic static final int gov.nist.core.LexerCore.ID_NO_WHITESPACE\npublic static final int gov.nist.core.LexerCore.ID\npublic static final int gov.nist.core.LexerCore.SAFE\npublic static final int gov.nist.core.LexerCore.WHITESPACE\npublic static final int gov.nist.core.LexerCore.DIGIT\npublic static final int gov.nist.core.LexerCore.ALPHA\npublic static final int gov.nist.core.LexerCore.BACKSLASH\npublic static final int gov.nist.core.LexerCore.QUOTE\npublic static final int gov.nist.core.LexerCore.AT\npublic static final int gov.nist.core.LexerCore.SP\npublic static final int gov.nist.core.LexerCore.HT\npublic static final int gov.nist.core.LexerCore.COLON\npublic static final int gov.nist.core.LexerCore.STAR\npublic static final int gov.nist.core.LexerCore.DOLLAR\npublic static final int gov.nist.core.LexerCore.PLUS\npublic static final int gov.nist.core.LexerCore.POUND\npublic static final int gov.nist.core.LexerCore.MINUS\npublic static final int gov.nist.core.LexerCore.DOUBLEQUOTE\npublic static final int gov.nist.core.LexerCore.TILDE\npublic static final int gov.nist.core.LexerCore.BACK_QUOTE\npublic static final int gov.nist.core.LexerCore.NULL\npublic static final int gov.nist.core.LexerCore.EQUALS\npublic static final int gov.nist.core.LexerCore.SEMICOLON\npublic static final int gov.nist.core.LexerCore.SLASH\npublic static final int gov.nist.core.LexerCore.L_SQUARE_BRACKET\npublic static final int gov.nist.core.LexerCore.R_SQUARE_BRACKET\npublic static final int gov.nist.core.LexerCore.R_CURLY\npublic static final int gov.nist.core.LexerCore.L_CURLY\npublic static final int gov.nist.core.LexerCore.HAT\npublic static final int gov.nist.core.LexerCore.BAR\npublic static final int gov.nist.core.LexerCore.DOT\npublic static final int gov.nist.core.LexerCore.EXCLAMATION\npublic static final int gov.nist.core.LexerCore.LPAREN\npublic static final int gov.nist.core.LexerCore.RPAREN\npublic static final int gov.nist.core.LexerCore.GREATER_THAN\npublic static final int gov.nist.core.LexerCore.LESS_THAN\npublic static final int gov.nist.core.LexerCore.PERCENT\npublic static final int gov.nist.core.LexerCore.QUESTION\npublic static final int gov.nist.core.LexerCore.AND\npublic static final int gov.nist.core.LexerCore.UNDERSCORE\nprotected static final java.util.concurrent.ConcurrentHashMap gov.nist.core.LexerCore.globalSymbolTable\nprotected static final java.util.concurrent.ConcurrentHashMap gov.nist.core.LexerCore.lexerTables\nprotected java.util.Map gov.nist.core.LexerCore.currentLexer\nprotected java.lang.String gov.nist.core.LexerCore.dummyField\nprotected java.lang.String gov.nist.core.LexerCore.currentLexerName\nprotected gov.nist.core.Token gov.nist.core.LexerCore.currentMatch\nstatic final char gov.nist.core.LexerCore.ALPHA_VALID_CHARS\nstatic final char gov.nist.core.LexerCore.DIGIT_VALID_CHARS\nstatic final char gov.nist.core.LexerCore.ALPHADIGIT_VALID_CHARS\n</code></pre>\n<ol start=\"2\">\n<li>I also added a dummy <code>String</code> field, it's absent on Android and present on desktop.</li>\n</ol>\n<p>I'm using the same dependency on desktop and Android, i've edited it multiple times now. Im using Maven to build the desktop app and Gradle in Android Studio.</p>\n<p>Why is the code being executed different on Android? Reflection is used in the module but not in regards to <code>LexerCore</code>, at least i did not find it being used.</p>\n<p>Thank you for your time.</p>\n"},{"tags":["java","collections","concurrency","hashmap","hashset"],"comments":[{"owner":{"account_id":302948,"reputation":12414,"user_id":611600,"accept_rate":86,"display_name":"Ali"},"score":2,"creation_date":1312875106,"post_id":6992608,"comment_id":8345727,"body_markdown":"After looking at the API, if I were to guess I would say that it seems to come down to 2 factors, (1) avoiding having to create a class in Java API for every little bit of functionality needed (2) Providing convenience classes for more frequently used objects. I personally prefer LinkedHashMap and LinkedHashSet since they guarantee order is the same as insertion order, the only reason for using a set is to avoid duplication, often I still want to maintain insertion order.","body":"After looking at the API, if I were to guess I would say that it seems to come down to 2 factors, (1) avoiding having to create a class in Java API for every little bit of functionality needed (2) Providing convenience classes for more frequently used objects. I personally prefer LinkedHashMap and LinkedHashSet since they guarantee order is the same as insertion order, the only reason for using a set is to avoid duplication, often I still want to maintain insertion order."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1312923261,"post_id":6992608,"comment_id":8360350,"body_markdown":"@Ali, *I personally prefer LinkedHashMap and LinkedHashSet* you will go far :)","body":"@Ali, <i>I personally prefer LinkedHashMap and LinkedHashSet</i> you will go far :)"},{"owner":{"account_id":311010,"reputation":1206,"user_id":624341,"accept_rate":100,"display_name":"Igor Rodriguez"},"score":9,"creation_date":1371140308,"post_id":6992608,"comment_id":24723690,"body_markdown":"A bit old question, but as it is the first result in Google, may be useful to know that ConcurrentSkipListSet already has the implementation of ConcurrentHashMap. See http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html","body":"A bit old question, but as it is the first result in Google, may be useful to know that ConcurrentSkipListSet already has the implementation of ConcurrentHashMap. See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/concurrent/&hellip;</a>"},{"owner":{"account_id":147204,"reputation":15091,"user_id":358163,"accept_rate":88,"display_name":"Talha Ahmed Khan"},"score":1,"creation_date":1371212328,"post_id":6992608,"comment_id":24751330,"body_markdown":"What I saw from Java source `ConcurrentSkipListSet` is built on `ConcurrentSkipListMap`, which implements `ConcurrentNavigableMap` and `ConcurrentMap`.","body":"What I saw from Java source <code>ConcurrentSkipListSet</code> is built on <code>ConcurrentSkipListMap</code>, which implements <code>ConcurrentNavigableMap</code> and <code>ConcurrentMap</code>."},{"owner":{"account_id":1477366,"reputation":745,"user_id":1387451,"accept_rate":50,"display_name":"Nirro"},"score":0,"creation_date":1415213560,"post_id":6992608,"comment_id":42110499,"body_markdown":"possible duplicate of [is Java HashSet thread-safe for read only?](http://stackoverflow.com/questions/5379794/is-java-hashset-thread-safe-for-read-only)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5379794/is-java-hashset-thread-safe-for-read-only\">is Java HashSet thread-safe for read only?</a>"},{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":0,"creation_date":1435453023,"post_id":6992608,"comment_id":50206504,"body_markdown":"Very good point of view. Perhaps the guys at java thought that always is good to associate things.. so they promote fiercely this idea!!","body":"Very good point of view. Perhaps the guys at java thought that always is good to associate things.. so they promote fiercely this idea!!"},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1521435842,"post_id":6992608,"comment_id":85712223,"body_markdown":"Now I need this feature too, and I have the same question as you have. I used `ConcurrentSkipListSet` for sorting as well, the bottom storage is a `map`, but unfortunately not a `Hash` one. I don&#39;t think this has an excuse to not support it, maybe comes in future edition.","body":"Now I need this feature too, and I have the same question as you have. I used <code>ConcurrentSkipListSet</code> for sorting as well, the bottom storage is a <code>map</code>, but unfortunately not a <code>Hash</code> one. I don&#39;t think this has an excuse to not support it, maybe comes in future edition."}],"answers":[{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1312874295,"post_id":6992638,"comment_id":8345543,"body_markdown":"it&#39;s available in java.utll.Collections and set of CHM is usually a bad thing anyways.","body":"it&#39;s available in java.utll.Collections and set of CHM is usually a bad thing anyways."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1312874376,"post_id":6992638,"comment_id":8345561,"body_markdown":"yeah, I noticed it is added in Java 6, so added it to the answer","body":"yeah, I noticed it is added in Java 6, so added it to the answer"},{"owner":{"account_id":147204,"reputation":15091,"user_id":358163,"accept_rate":88,"display_name":"Talha Ahmed Khan"},"score":0,"creation_date":1312874573,"post_id":6992638,"comment_id":8345601,"body_markdown":"The main this is that if it is ThreadSafe, and I really doubt that.","body":"The main this is that if it is ThreadSafe, and I really doubt that."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1312874709,"post_id":6992638,"comment_id":8345637,"body_markdown":"@Talha, it&#39;s thread safe, however thread safety alone means nothing","body":"@Talha, it&#39;s thread safe, however thread safety alone means nothing"},{"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"score":0,"creation_date":1450083827,"post_id":6992638,"comment_id":56267473,"body_markdown":"Sometimes it means everything. Its shaldom a performance problem unless it is part of an algorithm which are usually implemented in a way that the need for concurrent mapping is minimized.","body":"Sometimes it means everything. Its shaldom a performance problem unless it is part of an algorithm which are usually implemented in a way that the need for concurrent mapping is minimized."},{"owner":{"account_id":286575,"reputation":1484,"user_id":585903,"accept_rate":72,"display_name":"Sumit Jain"},"score":0,"creation_date":1484135786,"post_id":6992638,"comment_id":70383897,"body_markdown":"Indeed, I have faced visibility issues with Sets.newSetFromMap(map), and since then switched to ConcurrentHashMap.newKeySet().","body":"Indeed, I have faced visibility issues with Sets.newSetFromMap(map), and since then switched to ConcurrentHashMap.newKeySet()."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":6,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1312874225,"creation_date":1312874225,"answer_id":6992638,"question_id":6992608,"body_markdown":"You can use guava&#39;s [`Sets.newSetFromMap(map)`][1] to get one. Java 6 also has that method in [`java.util.Collections`][2]\r\n\r\n\r\n  [1]: http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Sets.html#newSetFromMap%28java.util.Map%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>You can use guava's <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Sets.html#newSetFromMap%28java.util.Map%29\" rel=\"noreferrer\"><code>Sets.newSetFromMap(map)</code></a> to get one. Java 6 also has that method in <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29\" rel=\"noreferrer\"><code>java.util.Collections</code></a></p>\n"},{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":5,"creation_date":1320180455,"post_id":6992643,"comment_id":9749128,"body_markdown":"Am I right to say that if you create the set this way from `ConcurrentHashMap`, you lose the benefits you&#39;d get from `ConcurrentHashMap` ?","body":"Am I right to say that if you create the set this way from <code>ConcurrentHashMap</code>, you lose the benefits you&#39;d get from <code>ConcurrentHashMap</code> ?"},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":21,"creation_date":1320190594,"post_id":6992643,"comment_id":9751354,"body_markdown":"There are no benefits to lose.  `newSetFromMap`&#39;s implementation is found starting on line 3841 in http://www.docjar.com/html/api/java/util/Collections.java.html.  It&#39;s just a wrapper....","body":"There are no benefits to lose.  <code>newSetFromMap</code>&#39;s implementation is found starting on line 3841 in <a href=\"http://www.docjar.com/html/api/java/util/Collections.java.html\" rel=\"nofollow noreferrer\">docjar.com/html/api/java/util/Collections.java.html</a>.  It&#39;s just a wrapper...."},{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":0,"creation_date":1342694201,"post_id":6992643,"comment_id":15288019,"body_markdown":"@zneak, isn&#39;t the `add` operation on a `Set` equivalent to what `putIfAbsent` does? The other operations in `ConcurrentMap` don&#39;t offer any functionality that doesn&#39;t exist in `Set`. `Set` already has a `remove` method and I don&#39;t see how a `ConcurrentMap`-like `replace` operation would make sense on a `Set` object.","body":"@zneak, isn&#39;t the <code>add</code> operation on a <code>Set</code> equivalent to what <code>putIfAbsent</code> does? The other operations in <code>ConcurrentMap</code> don&#39;t offer any functionality that doesn&#39;t exist in <code>Set</code>. <code>Set</code> already has a <code>remove</code> method and I don&#39;t see how a <code>ConcurrentMap</code>-like <code>replace</code> operation would make sense on a <code>Set</code> object."},{"owner":{"account_id":198193,"reputation":1515,"user_id":442716,"accept_rate":68,"display_name":"Ustaman Sangat"},"score":6,"creation_date":1347552420,"post_id":6992643,"comment_id":16679440,"body_markdown":"@Andrew, I think the motivation behind using a &quot;ConcurrentSet&quot; stems from not the API but rather the implementation - thread safety but without a universal lock - multiple *concurrent* reads for instance.","body":"@Andrew, I think the motivation behind using a &quot;ConcurrentSet&quot; stems from not the API but rather the implementation - thread safety but without a universal lock - multiple <i>concurrent</i> reads for instance."},{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":0,"creation_date":1347658977,"post_id":6992643,"comment_id":16714948,"body_markdown":"@UstamanSangat: hmmm, I think the comment I was responding to was deleted at some point. I vaguely remember it asking about why there wasn&#39;t a `ConcurrentSet` interface (and my argument was that it wouldn&#39;t provide any new methods; it&#39;d only be a marker interface, like `RandomAccess`. Admittedly `Set` itself is basically a marker interface since it doesn&#39;t provide new methods; just new constraints).","body":"@UstamanSangat: hmmm, I think the comment I was responding to was deleted at some point. I vaguely remember it asking about why there wasn&#39;t a <code>ConcurrentSet</code> interface (and my argument was that it wouldn&#39;t provide any new methods; it&#39;d only be a marker interface, like <code>RandomAccess</code>. Admittedly <code>Set</code> itself is basically a marker interface since it doesn&#39;t provide new methods; just new constraints)."},{"owner":{"account_id":205522,"reputation":7359,"user_id":454322,"accept_rate":76,"display_name":"user454322"},"score":1,"creation_date":1412244787,"post_id":6992643,"comment_id":41007751,"body_markdown":"If your elements are `Comparable`, why not simply use [`ConcurrentSkipListSet`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html)?","body":"If your elements are <code>Comparable</code>, why not simply use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListSet</code></a>?"},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":5,"creation_date":1433951056,"post_id":6992643,"comment_id":49575051,"body_markdown":"ConcurrentSkipList has lots of (size) overhead and the lookups are slower.","body":"ConcurrentSkipList has lots of (size) overhead and the lookups are slower."},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":2,"creation_date":1442265455,"post_id":6992643,"comment_id":53003234,"body_markdown":"My complaint is that having to go this route, you lose the `HashSet(Collection&lt;? extends E&gt; c)` constructor, with its nice syntactic sugar for instance converting a List to a Set.  Or am I wrong?","body":"My complaint is that having to go this route, you lose the <code>HashSet(Collection&lt;? extends E&gt; c)</code> constructor, with its nice syntactic sugar for instance converting a List to a Set.  Or am I wrong?"},{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":1,"creation_date":1450069097,"post_id":6992643,"comment_id":56261509,"body_markdown":"@rogerdpack: Good point.  I just ran into this now.  `newSetFromMap` could do that work for us.","body":"@rogerdpack: Good point.  I just ran into this now.  <code>newSetFromMap</code> could do that work for us."},{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":1,"creation_date":1475741547,"post_id":6992643,"comment_id":67067515,"body_markdown":"One thing I found with the ConcurrentHashMap.newKeySet (and the Collections alternative route) is that it doesn&#39;t cater for null keys and will NPE on a remove call (which HashSet will not do).","body":"One thing I found with the ConcurrentHashMap.newKeySet (and the Collections alternative route) is that it doesn&#39;t cater for null keys and will NPE on a remove call (which HashSet will not do)."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":2,"creation_date":1515949418,"post_id":6992643,"comment_id":83486426,"body_markdown":"The real problem when the JDK not providing a true ConcurrentSet interface is that you&#39;ll be missing some atomic operations on that Set, namely `addIfAbsent`,  `computeIfAbsent`, etc. With JDK8 you can create those yourself because `ConcurrentHashMap.KeySetView` gives you access to the underlying ConcurrentMap. With JDK7 you&#39;re stuck and may have to resort to creating your own wrapper.","body":"The real problem when the JDK not providing a true ConcurrentSet interface is that you&#39;ll be missing some atomic operations on that Set, namely <code>addIfAbsent</code>,  <code>computeIfAbsent</code>, etc. With JDK8 you can create those yourself because <code>ConcurrentHashMap.KeySetView</code> gives you access to the underlying ConcurrentMap. With JDK7 you&#39;re stuck and may have to resort to creating your own wrapper."},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":8,"creation_date":1519897815,"post_id":6992643,"comment_id":85098259,"body_markdown":"take care when using this approach, since some methods are not implemented correctly. Just follow the links: ``Collections.newSetFromMap`` creates a ``SetFromMap``. e.g. the ``SetFromMap.removeAll`` method delegates to the ``KeySetView.removeAll``, that inherits from ``ConcurrentHashMap$CollectionView.removeAll``. This method is highly inefficient in bulk removing elements. imagine ``removeAll(Collections.emptySet())`` traverses all elements in the ``Map`` without doing anything. Having a ``ConcurrentHashSet`` that is corretly implemented will be better in most cases.","body":"take care when using this approach, since some methods are not implemented correctly. Just follow the links: <code>Collections.newSetFromMap</code> creates a <code>SetFromMap</code>. e.g. the <code>SetFromMap.removeAll</code> method delegates to the <code>KeySetView.removeAll</code>, that inherits from <code>ConcurrentHashMap$CollectionView.removeAll</code>. This method is highly inefficient in bulk removing elements. imagine <code>removeAll(Collections.emptySet())</code> traverses all elements in the <code>Map</code> without doing anything. Having a <code>ConcurrentHashSet</code> that is corretly implemented will be better in most cases."},{"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"score":1,"creation_date":1533596882,"post_id":6992643,"comment_id":90394658,"body_markdown":"To follow up on @benez comment, HashSet gets it&#39;s removeAll from AbstractSet, which will at least iterate on the smaller of the two collections... so it&#39;s not _super_ terrible how the CollectionView works... especially if you look a bit closer at the perf characteristics of concurrent map... by always using it&#39;s own iterator, it can use Iterator.remove to detach an item, whereas the AbstractSet version might iterate the argument and then call .remove(), which causes a complete hash table lookup (versus Iterator.remove, which can avoid the expensive checks / graph transversals).","body":"To follow up on @benez comment, HashSet gets it&#39;s removeAll from AbstractSet, which will at least iterate on the smaller of the two collections... so it&#39;s not <i>super</i> terrible how the CollectionView works... especially if you look a bit closer at the perf characteristics of concurrent map... by always using it&#39;s own iterator, it can use Iterator.remove to detach an item, whereas the AbstractSet version might iterate the argument and then call .remove(), which causes a complete hash table lookup (versus Iterator.remove, which can avoid the expensive checks / graph transversals)."},{"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"score":1,"creation_date":1533596984,"post_id":6992643,"comment_id":90394678,"body_markdown":"Basically, if the set/map knows it is expensive to do a &quot;cold remove()&quot;, it can make the (right) choice to avoid pathological performance when both collections are large, at the expense of (maybe) poorer performance when collections are small or empty.  Especially empty, since you, the caller, can optimize by filtering out empty queries before you make them.","body":"Basically, if the set/map knows it is expensive to do a &quot;cold remove()&quot;, it can make the (right) choice to avoid pathological performance when both collections are large, at the expense of (maybe) poorer performance when collections are small or empty.  Especially empty, since you, the caller, can optimize by filtering out empty queries before you make them."},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":1,"creation_date":1533751145,"post_id":6992643,"comment_id":90465660,"body_markdown":"@Ajax my comment relates to Java8 and before. they have adressed this with Java9+, so the method indeed makes these checks now.","body":"@Ajax my comment relates to Java8 and before. they have adressed this with Java9+, so the method indeed makes these checks now."},{"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"score":0,"creation_date":1533915739,"post_id":6992643,"comment_id":90537228,"body_markdown":"Ah, cool. many thanks for the update.  My company hasn&#39;t made the leap to java9+ just yet, so always good to pick up tidbit for when we have to bite the bullet (soon). :-)","body":"Ah, cool. many thanks for the update.  My company hasn&#39;t made the leap to java9+ just yet, so always good to pick up tidbit for when we have to bite the bullet (soon). :-)"},{"owner":{"account_id":7569487,"reputation":177,"user_id":5743881,"accept_rate":29,"display_name":"Nick Nick"},"score":1,"creation_date":1536832650,"post_id":6992643,"comment_id":91569422,"body_markdown":"Then why ConcurrentSkipListSet exists, when you can derive a set from a ConcurrentSkipListMap?","body":"Then why ConcurrentSkipListSet exists, when you can derive a set from a ConcurrentSkipListMap?"},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":1,"creation_date":1536904388,"post_id":6992643,"comment_id":91598227,"body_markdown":"That&#39;s a good question for the author, Doug Lea. He definitely decided it was a good idea to build ConcurrentSkipListSet by wrapping a ConcurrentSkipListMap -- see line 65 of http://fuseyism.com/classpath/doc/java/util/concurrent/ConcurrentSkipListSet-source.html. I suppose one could figure out why he did that by comparing the source code of the map and set (perhaps in this case there was a benefit to wrapping the map?) but it might be easier to ask Doug directly. I suspect it has something to do with skiplists being sorted sets as opposed to unrestricted sets that can use hashing.","body":"That&#39;s a good question for the author, Doug Lea. He definitely decided it was a good idea to build ConcurrentSkipListSet by wrapping a ConcurrentSkipListMap -- see line 65 of <a href=\"http://fuseyism.com/classpath/doc/java/util/concurrent/ConcurrentSkipListSet-source.html\" rel=\"nofollow noreferrer\">fuseyism.com/classpath/doc/java/util/concurrent/&hellip;</a>. I suppose one could figure out why he did that by comparing the source code of the map and set (perhaps in this case there was a benefit to wrapping the map?) but it might be easier to ask Doug directly. I suspect it has something to do with skiplists being sorted sets as opposed to unrestricted sets that can use hashing."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1647513186,"post_id":6992643,"comment_id":126392188,"body_markdown":"@NickNick that’s a question we could expand to the entire Collection API. `HashSet` is just a wrapper around `HashMap`, `LinkedHashSet` a wrapper around `LinkedHashMap`, `TreeSet` is just a wrapper around `TreeMap`…","body":"@NickNick that’s a question we could expand to the entire Collection API. <code>HashSet</code> is just a wrapper around <code>HashMap</code>, <code>LinkedHashSet</code> a wrapper around <code>LinkedHashMap</code>, <code>TreeSet</code> is just a wrapper around <code>TreeMap</code>…"}],"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"comment_count":19,"down_vote_count":2,"up_vote_count":735,"is_accepted":true,"score":733,"last_activity_date":1451941915,"creation_date":1312874255,"answer_id":6992643,"question_id":6992608,"body_markdown":"There&#39;s no built in type for `ConcurrentHashSet` because you can always _derive_ a set from a map. Since there are many types of maps, you use a method to produce a set from a given map (or map class).\r\n\r\nPrior to Java 8, you produce a concurrent hash set backed by a concurrent hash map, by using [`Collections.newSetFromMap(map)`](http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29)\r\n\r\nIn Java 8 (pointed out by @Matt), you can get a concurrent hash set _view_ via [`ConcurrentHashMap.newKeySet()`](http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#newKeySet--). This is a bit simpler than the old `newSetFromMap` which required you to pass in an empty map object. But it is specific to `ConcurrentHashMap`.\r\n\r\nAnyway, the Java designers could have created a new set interface every time a new map interface was created, but that pattern would be impossible to enforce when third parties create their own maps. It is better to have the static methods that derive new sets; that approach always works, even when you create your own map implementations.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>There's no built in type for <code>ConcurrentHashSet</code> because you can always <em>derive</em> a set from a map. Since there are many types of maps, you use a method to produce a set from a given map (or map class).</p>\n\n<p>Prior to Java 8, you produce a concurrent hash set backed by a concurrent hash map, by using <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29\" rel=\"noreferrer\"><code>Collections.newSetFromMap(map)</code></a></p>\n\n<p>In Java 8 (pointed out by @Matt), you can get a concurrent hash set <em>view</em> via <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#newKeySet--\" rel=\"noreferrer\"><code>ConcurrentHashMap.newKeySet()</code></a>. This is a bit simpler than the old <code>newSetFromMap</code> which required you to pass in an empty map object. But it is specific to <code>ConcurrentHashMap</code>.</p>\n\n<p>Anyway, the Java designers could have created a new set interface every time a new map interface was created, but that pattern would be impossible to enforce when third parties create their own maps. It is better to have the static methods that derive new sets; that approach always works, even when you create your own map implementations.</p>\n"},{"comments":[{"owner":{"account_id":205522,"reputation":7359,"user_id":454322,"accept_rate":76,"display_name":"user454322"},"score":12,"creation_date":1412244884,"post_id":19141738,"comment_id":41007797,"body_markdown":"Note that `ConcurrentSkipListSet`&#39;s elements should be `Comparable`","body":"Note that <code>ConcurrentSkipListSet</code>&#39;s elements should be <code>Comparable</code>"},{"owner":{"account_id":2007701,"reputation":1209,"user_id":2133216,"accept_rate":75,"display_name":"ndm13"},"score":0,"creation_date":1482905851,"post_id":19141738,"comment_id":69914423,"body_markdown":"If you need to extend from a Set that is concurrent, this is the only solution here that will work.","body":"If you need to extend from a Set that is concurrent, this is the only solution here that will work."},{"owner":{"account_id":210996,"reputation":8398,"user_id":462923,"accept_rate":76,"display_name":"Ajeet Ganga"},"score":0,"creation_date":1504981866,"post_id":19141738,"comment_id":79229926,"body_markdown":"ConcurrentSkipListMap adds unnecessary performance penalty of  having tree as base data structure, instead of using HashTable,  even when you do not need sorting/navigation functionality.","body":"ConcurrentSkipListMap adds unnecessary performance penalty of  having tree as base data structure, instead of using HashTable,  even when you do not need sorting/navigation functionality."},{"owner":{"account_id":4396854,"reputation":1866,"user_id":3583589,"display_name":"benez"},"score":6,"creation_date":1519897138,"post_id":19141738,"comment_id":85097828,"body_markdown":"don&#39;t use ``ConcurrentSkipListSet`` unless you want a ``SortedSet``. A usual operation like add or remove should be O(1) for a ``HashSet``, but O(log(n)) for a ``SortedSet``.","body":"don&#39;t use <code>ConcurrentSkipListSet</code> unless you want a <code>SortedSet</code>. A usual operation like add or remove should be O(1) for a <code>HashSet</code>, but O(log(n)) for a <code>SortedSet</code>."}],"tags":[],"owner":{"account_id":8977,"reputation":18862,"user_id":16404,"accept_rate":95,"display_name":"Mike Pone"},"comment_count":4,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1380730652,"creation_date":1380730652,"answer_id":19141738,"question_id":6992608,"body_markdown":"It looks like Java provides a concurrent Set implementation with its [ConcurrentSkipListSet][1].  A [SkipList Set][2] is just a special kind of set implementation.  It still implements the Serializable, Cloneable, Iterable&lt;E&gt;, Collection&lt;E&gt;, NavigableSet&lt;E&gt;, Set&lt;E&gt;, SortedSet&lt;E&gt; interfaces.  This might work for you if you only need the Set interface. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\r\n  [2]: http://en.wikipedia.org/wiki/Skip_list","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>It looks like Java provides a concurrent Set implementation with its <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentSkipListSet.html\">ConcurrentSkipListSet</a>.  A <a href=\"http://en.wikipedia.org/wiki/Skip_list\">SkipList Set</a> is just a special kind of set implementation.  It still implements the Serializable, Cloneable, Iterable, Collection, NavigableSet, Set, SortedSet interfaces.  This might work for you if you only need the Set interface. </p>\n"},{"comments":[{"owner":{"account_id":7008925,"reputation":319,"user_id":5372500,"display_name":"Alexander Terp"},"score":5,"creation_date":1611641661,"post_id":24362411,"comment_id":116509702,"body_markdown":"As Ray Toal points out in his answer, the preferred way to this in 2021 is definitely ConcurrentHashMap.newKeySet() (which does a similar thing behind the scenes), as it&#39;s more succinct.","body":"As Ray Toal points out in his answer, the preferred way to this in 2021 is definitely ConcurrentHashMap.newKeySet() (which does a similar thing behind the scenes), as it&#39;s more succinct."},{"owner":{"account_id":60584,"reputation":9058,"user_id":180904,"accept_rate":83,"display_name":"Ashika Umanga Umagiliya"},"score":0,"creation_date":1639119786,"post_id":24362411,"comment_id":124272191,"body_markdown":"this is thread-safe right?","body":"this is thread-safe right?"},{"owner":{"account_id":3982461,"reputation":1341,"user_id":3284055,"display_name":"Serge Mask"},"score":0,"creation_date":1697531557,"post_id":24362411,"comment_id":136288209,"body_markdown":"yes, it is thread safe","body":"yes, it is thread safe"}],"tags":[],"owner":{"account_id":3982461,"reputation":1341,"user_id":3284055,"display_name":"Serge Mask"},"comment_count":3,"down_vote_count":0,"up_vote_count":126,"is_accepted":false,"score":126,"last_activity_date":1697531760,"creation_date":1403515265,"answer_id":24362411,"question_id":6992608,"body_markdown":"Prior to Java 8:\r\n\r\n    Set&lt;String&gt; mySet = Collections.newSetFromMap(new ConcurrentHashMap&lt;String, Boolean&gt;());\r\n\r\nJava 8 or greater:\r\n\r\n    ConcurrentHashMap.KeySetView&lt;String, Boolean&gt; mySet = ConcurrentHashMap.newKeySet();\r\n\r\n","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>Prior to Java 8:</p>\n<pre><code>Set&lt;String&gt; mySet = Collections.newSetFromMap(new ConcurrentHashMap&lt;String, Boolean&gt;());\n</code></pre>\n<p>Java 8 or greater:</p>\n<pre><code>ConcurrentHashMap.KeySetView&lt;String, Boolean&gt; mySet = ConcurrentHashMap.newKeySet();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"score":3,"creation_date":1450083959,"post_id":26031531,"comment_id":56267556,"body_markdown":"I like the idea to use Boolean.TRUE instead of an dummy object. It is a little bit more elegant. Also using NULL is also possible since it would be available in the key set even if mapped to null.","body":"I like the idea to use Boolean.TRUE instead of an dummy object. It is a little bit more elegant. Also using NULL is also possible since it would be available in the key set even if mapped to null."},{"owner":{"account_id":23706,"reputation":10697,"user_id":59604,"display_name":"Lauri Lehtinen"},"score":3,"creation_date":1452712779,"post_id":26031531,"comment_id":57295569,"body_markdown":"@MartinKersten fyi, ConcurrentHashMap doesn&#39;t allow null values","body":"@MartinKersten fyi, ConcurrentHashMap doesn&#39;t allow null values"}],"tags":[],"owner":{"account_id":2053132,"reputation":2142,"user_id":1895925,"accept_rate":71,"display_name":"MD. Mohiuddin Ahmed"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1440141295,"creation_date":1411624388,"answer_id":26031531,"question_id":6992608,"body_markdown":"    import java.util.AbstractSet;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ConcurrentMap;\r\n    \r\n    \r\n    public class ConcurrentHashSet&lt;E&gt; extends AbstractSet&lt;E&gt; implements Set&lt;E&gt;{\r\n       private final ConcurrentMap&lt;E, Object&gt; theMap;\r\n    \r\n       private static final Object dummy = new Object();\r\n    \r\n       public ConcurrentHashSet(){\r\n          theMap = new ConcurrentHashMap&lt;E, Object&gt;();\r\n       }\r\n    \r\n       @Override\r\n       public int size() {\r\n          return theMap.size();\r\n       }\r\n    \r\n       @Override\r\n       public Iterator&lt;E&gt; iterator(){\r\n          return theMap.keySet().iterator();\r\n       }\r\n    \r\n       @Override\r\n       public boolean isEmpty(){\r\n          return theMap.isEmpty();\r\n       }\r\n    \r\n       @Override\r\n       public boolean add(final E o){\r\n          return theMap.put(o, ConcurrentHashSet.dummy) == null;\r\n       }\r\n    \r\n       @Override\r\n       public boolean contains(final Object o){\r\n          return theMap.containsKey(o);\r\n       }\r\n    \r\n       @Override\r\n       public void clear(){\r\n          theMap.clear();\r\n       }\r\n    \r\n       @Override\r\n       public boolean remove(final Object o){\r\n          return theMap.remove(o) == ConcurrentHashSet.dummy;\r\n       }\r\n    \r\n       public boolean addIfAbsent(final E o){\r\n          Object obj = theMap.putIfAbsent(o, ConcurrentHashSet.dummy);\r\n          return obj == null;\r\n       }\r\n    }","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<pre><code>import java.util.AbstractSet;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ConcurrentMap;\n\n\npublic class ConcurrentHashSet&lt;E&gt; extends AbstractSet&lt;E&gt; implements Set&lt;E&gt;{\n   private final ConcurrentMap&lt;E, Object&gt; theMap;\n\n   private static final Object dummy = new Object();\n\n   public ConcurrentHashSet(){\n      theMap = new ConcurrentHashMap&lt;E, Object&gt;();\n   }\n\n   @Override\n   public int size() {\n      return theMap.size();\n   }\n\n   @Override\n   public Iterator&lt;E&gt; iterator(){\n      return theMap.keySet().iterator();\n   }\n\n   @Override\n   public boolean isEmpty(){\n      return theMap.isEmpty();\n   }\n\n   @Override\n   public boolean add(final E o){\n      return theMap.put(o, ConcurrentHashSet.dummy) == null;\n   }\n\n   @Override\n   public boolean contains(final Object o){\n      return theMap.containsKey(o);\n   }\n\n   @Override\n   public void clear(){\n      theMap.clear();\n   }\n\n   @Override\n   public boolean remove(final Object o){\n      return theMap.remove(o) == ConcurrentHashSet.dummy;\n   }\n\n   public boolean addIfAbsent(final E o){\n      Object obj = theMap.putIfAbsent(o, ConcurrentHashSet.dummy);\n      return obj == null;\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1953769,"reputation":906,"user_id":1757294,"accept_rate":81,"display_name":"Eugene Stepanenkov"},"score":26,"creation_date":1420141998,"post_id":26764904,"comment_id":43879651,"body_markdown":"the `synchronizedSet` method just creates the [decorator](http://en.wikipedia.org/wiki/Decorator_pattern) under `Collection` to wrap methods that could be thread-safe by synchronization the whole collection. But `ConcurrentHashMap` is implemented using [non-blocking algorithms](https://en.wikipedia.org/wiki/Non-blocking_algorithm) and &quot;low-level&quot; synchronisations without any locks of the whole collection. So wrapers from `Collections.synchronized`... is worse in multi-threads environments for performance reasons.","body":"the <code>synchronizedSet</code> method just creates the <a href=\"http://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"nofollow noreferrer\">decorator</a> under <code>Collection</code> to wrap methods that could be thread-safe by synchronization the whole collection. But <code>ConcurrentHashMap</code> is implemented using <a href=\"https://en.wikipedia.org/wiki/Non-blocking_algorithm\" rel=\"nofollow noreferrer\">non-blocking algorithms</a> and &quot;low-level&quot; synchronisations without any locks of the whole collection. So wrapers from <code>Collections.synchronized</code>... is worse in multi-threads environments for performance reasons."}],"tags":[],"owner":{"account_id":1477366,"reputation":745,"user_id":1387451,"accept_rate":50,"display_name":"Nirro"},"comment_count":1,"down_vote_count":7,"up_vote_count":27,"is_accepted":false,"score":20,"last_activity_date":1454217046,"creation_date":1415213793,"answer_id":26764904,"question_id":6992608,"body_markdown":"As pointed by [this](http://possiblelossofprecision.net/?p=813) the best way to obtain a concurrency-able HashSet is by means of `Collections.synchronizedSet()`\r\n\r\n    Set s = Collections.synchronizedSet(new HashSet(...));\r\n\r\nThis worked for me and I haven&#39;t seen anybody really pointing to it.\r\n\r\n**EDIT** This is less efficient than the currently aproved solution, as Eugene points out, since it just wraps your set into a synchronized decorator, while a `ConcurrentHashMap` actually implements low-level concurrency and it can back your Set just as fine. So thanks to Mr. Stepanenkov for making that clear.\r\n\r\nhttp://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSet-java.util.Set-","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>As pointed by <a href=\"http://possiblelossofprecision.net/?p=813\" rel=\"noreferrer\">this</a> the best way to obtain a concurrency-able HashSet is by means of <code>Collections.synchronizedSet()</code></p>\n\n<pre><code>Set s = Collections.synchronizedSet(new HashSet(...));\n</code></pre>\n\n<p>This worked for me and I haven't seen anybody really pointing to it.</p>\n\n<p><strong>EDIT</strong> This is less efficient than the currently aproved solution, as Eugene points out, since it just wraps your set into a synchronized decorator, while a <code>ConcurrentHashMap</code> actually implements low-level concurrency and it can back your Set just as fine. So thanks to Mr. Stepanenkov for making that clear.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSet-java.util.Set-\" rel=\"noreferrer\">http://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#synchronizedSet-java.util.Set-</a></p>\n"},{"comments":[{"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"score":16,"creation_date":1450083676,"post_id":28267554,"comment_id":56267405,"body_markdown":"This is always a nightmare. If you have a set or a map that does not indicate whether or not something is thread safe you find all kind of hazards and desasters happen in maintaince. I always would want a type that indicates thread safety for collections (or not).","body":"This is always a nightmare. If you have a set or a map that does not indicate whether or not something is thread safe you find all kind of hazards and desasters happen in maintaince. I always would want a type that indicates thread safety for collections (or not)."},{"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"score":13,"creation_date":1450110782,"post_id":28267554,"comment_id":56285667,"body_markdown":"The method description is literally &quot;Creates a thread-safe set backed by a hash map&quot;","body":"The method description is literally &quot;Creates a thread-safe set backed by a hash map&quot;"},{"owner":{"account_id":3191144,"reputation":5197,"user_id":2695344,"accept_rate":42,"display_name":"Martin Kersten"},"score":18,"creation_date":1450173547,"post_id":28267554,"comment_id":56313596,"body_markdown":"As I said, there is a ConcurrentSet&lt;E&gt; missing. ConcurrentHashMap comes along with a ConcurrentMap interface to indicate this. This is the very same reason I always add this ConcurrentSet interface as well.","body":"As I said, there is a ConcurrentSet&lt;E&gt; missing. ConcurrentHashMap comes along with a ConcurrentMap interface to indicate this. This is the very same reason I always add this ConcurrentSet interface as well."},{"owner":{"account_id":2269620,"reputation":463,"user_id":1997399,"display_name":"Kunda"},"score":0,"creation_date":1702204377,"post_id":28267554,"comment_id":136865945,"body_markdown":"The ConcurrentMap interface is much more than a marker interface -\nit contains concurrency-specific methods such as putIfAbsent, remove and replace.","body":"The ConcurrentMap interface is much more than a marker interface - it contains concurrency-specific methods such as putIfAbsent, remove and replace."}],"tags":[],"owner":{"account_id":229665,"reputation":33570,"user_id":492773,"display_name":"kichik"},"comment_count":4,"down_vote_count":4,"up_vote_count":106,"is_accepted":false,"score":102,"last_activity_date":1436221706,"creation_date":1422822947,"answer_id":28267554,"question_id":6992608,"body_markdown":"With [Guava][1] 15 you can also simply use:\r\n\r\n    Set s = Sets.newConcurrentHashSet();\r\n\r\n\r\n  [1]: https://code.google.com/p/guava-libraries/wiki/UseGuavaInYourBuild","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>With <a href=\"https://code.google.com/p/guava-libraries/wiki/UseGuavaInYourBuild\">Guava</a> 15 you can also simply use:</p>\n\n<pre><code>Set s = Sets.newConcurrentHashSet();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"score":1,"creation_date":1538975452,"post_id":38251748,"comment_id":92317786,"body_markdown":"This seems to require Java 8. Looking at implementation, this also seems to be just a wrapper of `ConcurrentHashMap`.","body":"This seems to require Java 8. Looking at implementation, this also seems to be just a wrapper of <code>ConcurrentHashMap</code>."}],"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":1,"down_vote_count":1,"up_vote_count":85,"is_accepted":false,"score":84,"last_activity_date":1467912523,"creation_date":1467912523,"answer_id":38251748,"question_id":6992608,"body_markdown":"Like [Ray Toal][1] mentioned it is as easy as:\r\n\r\n    Set&lt;String&gt; myConcurrentSet = ConcurrentHashMap.newKeySet();\r\n\r\n  [1]: https://stackoverflow.com/a/6992643/3764804","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>Like <a href=\"https://stackoverflow.com/a/6992643/3764804\">Ray Toal</a> mentioned it is as easy as:</p>\n\n<pre><code>Set&lt;String&gt; myConcurrentSet = ConcurrentHashMap.newKeySet();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3653640,"reputation":158,"user_id":3045201,"accept_rate":53,"display_name":"boneash"},"score":15,"creation_date":1484578781,"post_id":39920235,"comment_id":70555574,"body_markdown":"Because CopyOnWriteArraySet copies the entire collection on any state mutation, which is not always wanted due to the performance impact. It&#39;s designed to work only in special cases.","body":"Because CopyOnWriteArraySet copies the entire collection on any state mutation, which is not always wanted due to the performance impact. It&#39;s designed to work only in special cases."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1606824130,"post_id":39920235,"comment_id":115073212,"body_markdown":"Additionally `CopyOnWriteArraySet.contains()` has a run-time of `O(n)` (has to check ever entry) where as HashSet/HashMap has `O(1)`.","body":"Additionally <code>CopyOnWriteArraySet.contains()</code> has a run-time of <code>O(n)</code> (has to check ever entry) where as HashSet/HashMap has <code>O(1)</code>."},{"owner":{"account_id":174783,"reputation":2830,"user_id":404357,"display_name":"mantrid"},"score":0,"creation_date":1614103853,"post_id":39920235,"comment_id":117281237,"body_markdown":"because this works only one way: if you&#39;re reading data owned/managed by another thread. if you need to pass data to that thread, you&#39;d have to additionally update its atomic ref to updated array - but that makes little sense","body":"because this works only one way: if you&#39;re reading data owned/managed by another thread. if you need to pass data to that thread, you&#39;d have to additionally update its atomic ref to updated array - but that makes little sense"}],"tags":[],"owner":{"account_id":466656,"reputation":769,"user_id":871542,"accept_rate":46,"display_name":"Shendor"},"comment_count":3,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1475852192,"creation_date":1475852192,"answer_id":39920235,"question_id":6992608,"body_markdown":"Why not use: CopyOnWriteArraySet from java.util.concurrent?","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>Why not use: CopyOnWriteArraySet from java.util.concurrent?</p>\n"},{"comments":[{"owner":{"account_id":3432078,"reputation":628,"user_id":2876202,"display_name":"jv-k"},"score":1,"creation_date":1674043012,"post_id":75143695,"comment_id":132629340,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75143695/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18449931,"reputation":9,"user_id":14010117,"display_name":"Sart"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673944400,"creation_date":1673944400,"answer_id":75143695,"question_id":6992608,"body_markdown":"We have ConcurrentHashSet in io.vertx which can be used against java.util ConcurrentHashMap.\r\nhttps://www.javadoc.io/static/io.vertx/vertx-core/3.0.0/io/vertx/core/impl/ConcurrentHashSet.html","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>We have ConcurrentHashSet in io.vertx which can be used against java.util ConcurrentHashMap.\n<a href=\"https://www.javadoc.io/static/io.vertx/vertx-core/3.0.0/io/vertx/core/impl/ConcurrentHashSet.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/static/io.vertx/vertx-core/3.0.0/io/vertx/core/impl/ConcurrentHashSet.html</a></p>\n"}],"owner":{"account_id":147204,"reputation":15091,"user_id":358163,"accept_rate":88,"display_name":"Talha Ahmed Khan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313817,"favorite_count":0,"down_vote_count":0,"up_vote_count":687,"accepted_answer_id":6992643,"answer_count":10,"score":687,"last_activity_date":1697531760,"creation_date":1312874069,"question_id":6992608,"body_markdown":"HashSet is based on HashMap.\r\n\r\nIf we look at `HashSet&lt;E&gt;` implementation, everything is been managed under `HashMap&lt;E,Object&gt;`.\r\n\r\n`&lt;E&gt;` is used as a key of `HashMap`.\r\n\r\nAnd we know that `HashMap` is not thread safe. That is why we have `ConcurrentHashMap` in Java.\r\n\r\nBased on this, I am confused that **why we don&#39;t have a ConcurrentHashSet which should be based on the `ConcurrentHashMap`?**\r\n\r\nIs there anything else that I am missing? I need to use `Set` in a multi-threaded environment.\r\n\r\n\r\nAlso, If I want to create my own `ConcurrentHashSet` can I achieve it by just replacing the `HashMap` to `ConcurrentHashMap` and leaving the rest as is?","title":"Why there is no ConcurrentHashSet against ConcurrentHashMap","body":"<p>HashSet is based on HashMap.</p>\n\n<p>If we look at <code>HashSet&lt;E&gt;</code> implementation, everything is been managed under <code>HashMap&lt;E,Object&gt;</code>.</p>\n\n<p><code>&lt;E&gt;</code> is used as a key of <code>HashMap</code>.</p>\n\n<p>And we know that <code>HashMap</code> is not thread safe. That is why we have <code>ConcurrentHashMap</code> in Java.</p>\n\n<p>Based on this, I am confused that <strong>why we don't have a ConcurrentHashSet which should be based on the <code>ConcurrentHashMap</code>?</strong></p>\n\n<p>Is there anything else that I am missing? I need to use <code>Set</code> in a multi-threaded environment.</p>\n\n<p>Also, If I want to create my own <code>ConcurrentHashSet</code> can I achieve it by just replacing the <code>HashMap</code> to <code>ConcurrentHashMap</code> and leaving the rest as is?</p>\n"},{"tags":["java","list","function-call","output-parameter"],"answers":[{"tags":[],"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1342794122,"creation_date":1342793678,"answer_id":11581161,"question_id":11581115,"body_markdown":"Java always uses pass by value. This means that manipulating a passed variable won&#39;t affect the variable that was passed by the caller.\r\n\r\nIn order to solve your problem there are some possibilities:\r\n\r\n * Return the sublist:\r\n\r\n        List myFunction(int x, int y) { return anotherList.subList(....);}\r\n\r\n    I know that this way gets rids of your boolean return value.\r\n\r\n * Create a structure that holds the pointer to the List and.\r\n\r\n        class Reference &lt;T&gt;\r\n        {\r\n            public T ref;\r\n        }\r\n\r\n        boolean myFunction(int x, int y, Reference&lt;List&gt; listRef)\r\n        {\r\n              listRef.ref = anotherList.subList(....);\r\n              return true;\r\n        }\r\n\r\n * Create a structure that holds all the output you want the method to return:\r\n\r\n        class MyFunctionOutput\r\n        {\r\n             List list;\r\n             boolean b;\r\n        }\r\n\r\n        MyFunctionOutput myFunction(int x, int y)\r\n        {\r\n             MyFunctionOutput out = new MyFunctionOutput();\r\n             out.list = anotherList.subList(....);\r\n             out.b = true;\r\n             return out;\r\n        }\r\n\r\n * Or the most easy way: pass an initialized List instead of null and let the function add the sublist, like Attila suggested.","title":"List as output parameter in Java","body":"<p>Java always uses pass by value. This means that manipulating a passed variable won't affect the variable that was passed by the caller.</p>\n\n<p>In order to solve your problem there are some possibilities:</p>\n\n<ul>\n<li><p>Return the sublist:</p>\n\n<pre><code>List myFunction(int x, int y) { return anotherList.subList(....);}\n</code></pre>\n\n<p>I know that this way gets rids of your boolean return value.</p></li>\n<li><p>Create a structure that holds the pointer to the List and.</p>\n\n<pre><code>class Reference &lt;T&gt;\n{\n    public T ref;\n}\n\nboolean myFunction(int x, int y, Reference&lt;List&gt; listRef)\n{\n      listRef.ref = anotherList.subList(....);\n      return true;\n}\n</code></pre></li>\n<li><p>Create a structure that holds all the output you want the method to return:</p>\n\n<pre><code>class MyFunctionOutput\n{\n     List list;\n     boolean b;\n}\n\nMyFunctionOutput myFunction(int x, int y)\n{\n     MyFunctionOutput out = new MyFunctionOutput();\n     out.list = anotherList.subList(....);\n     out.b = true;\n     return out;\n}\n</code></pre></li>\n<li><p>Or the most easy way: pass an initialized List instead of null and let the function add the sublist, like Attila suggested.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10697,"reputation":28374,"user_id":20322,"display_name":"Attila"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1342793699,"creation_date":1342793699,"answer_id":11581163,"question_id":11581115,"body_markdown":"You cannot pass an _out_ parameter in Java.  You will either need to state the return type as the List or change the _contents_ of the passed list:\r\n\r\n    boolean myFunction(int x, in y, List myList) \r\n    {\r\n      ...Do things... \r\n      myList.clear();\r\n      myList.addAll(anotherList.subList(fromIndex, toIndex)); \r\n      return true \r\n    } \r\n\r\n_Note_: out-parameter means that you change the value of the variable containing the value passed to the function.  In your case it would mean returning a different List object.  Instead, you are returning the _same_ List object, but with changed content.\r\n\r\nThink of the parameter as a local copy of the passed value: any changes that replace the whole object will be lost upon the function returning.  If you just change its content/state, that change will remain as you are accessing the same object as you have passed in (the local copy is made of the reference pointing to the same object)\r\n\r\n_Note_: it might have been for demonstration purposes, but you should use generics to specify the object contained by the list: e.g. `List&lt;String&gt;` instead of the raw `List` type","title":"List as output parameter in Java","body":"<p>You cannot pass an <em>out</em> parameter in Java.  You will either need to state the return type as the List or change the <em>contents</em> of the passed list:</p>\n\n<pre><code>boolean myFunction(int x, in y, List myList) \n{\n  ...Do things... \n  myList.clear();\n  myList.addAll(anotherList.subList(fromIndex, toIndex)); \n  return true \n} \n</code></pre>\n\n<p><em>Note</em>: out-parameter means that you change the value of the variable containing the value passed to the function.  In your case it would mean returning a different List object.  Instead, you are returning the <em>same</em> List object, but with changed content.</p>\n\n<p>Think of the parameter as a local copy of the passed value: any changes that replace the whole object will be lost upon the function returning.  If you just change its content/state, that change will remain as you are accessing the same object as you have passed in (the local copy is made of the reference pointing to the same object)</p>\n\n<p><em>Note</em>: it might have been for demonstration purposes, but you should use generics to specify the object contained by the list: e.g. <code>List&lt;String&gt;</code> instead of the raw <code>List</code> type</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342793773,"creation_date":1342793773,"answer_id":11581188,"question_id":11581115,"body_markdown":"*References* in Java are passed by value. So you can&#39;t specify an *out parameter*.\r\n\r\nWhat you can do (however) is to mutate an object passed in. So in your example above, you can pass in an empty `List`, and populate it within your called method. \r\n\r\ni.e. in the above:\r\n\r\n    myList.addAll(...);\r\n\r\nYou would likely want to assert as a precondition that the passed list is empty.\r\n\r\nI would perhaps suggest that this isn&#39;t a very common pattern in the Java world. Because *out parameters* don&#39;t exist, it&#39;s not expected behaviour that arguments passed in as parameters would change, and you may be better off creating a suitable object type to return.","title":"List as output parameter in Java","body":"<p><em>References</em> in Java are passed by value. So you can't specify an <em>out parameter</em>.</p>\n\n<p>What you can do (however) is to mutate an object passed in. So in your example above, you can pass in an empty <code>List</code>, and populate it within your called method. </p>\n\n<p>i.e. in the above:</p>\n\n<pre><code>myList.addAll(...);\n</code></pre>\n\n<p>You would likely want to assert as a precondition that the passed list is empty.</p>\n\n<p>I would perhaps suggest that this isn't a very common pattern in the Java world. Because <em>out parameters</em> don't exist, it's not expected behaviour that arguments passed in as parameters would change, and you may be better off creating a suitable object type to return.</p>\n"},{"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342793889,"creation_date":1342793889,"answer_id":11581222,"question_id":11581115,"body_markdown":"The myList variable is local to that function. References are passed by value, not by pointer in the Java world. As soon as you exit, it is removed from the context stack. A possible option is to not return a boolean but return the list itself. Then you can test the list for null to see if your function worked or not.\r\n\r\nAnother option is to actually create your list, then pass it to the function (non-null). Then your function need not create a new list, but simply add values to it.","title":"List as output parameter in Java","body":"<p>The myList variable is local to that function. References are passed by value, not by pointer in the Java world. As soon as you exit, it is removed from the context stack. A possible option is to not return a boolean but return the list itself. Then you can test the list for null to see if your function worked or not.</p>\n\n<p>Another option is to actually create your list, then pass it to the function (non-null). Then your function need not create a new list, but simply add values to it.</p>\n"},{"tags":[],"owner":{"account_id":1286813,"reputation":4706,"user_id":1239718,"accept_rate":67,"display_name":"shem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342793889,"creation_date":1342793889,"answer_id":11581223,"question_id":11581115,"body_markdown":"A short answer- just return the new list as return value of the function:\r\n\r\n    List myFunction(int x, in y, List myList) {\r\n        ...Do things...\r\n        return anotherList.subList(fromIndex, toIndex);\r\n    }\r\n\r\nthe long answer is that java copy the pointer of your object when you call a function, that mean that if you assign a new object to the method param, it wouldn&#39;t affect the original variable. so you must save the param reference if you want to change the object value.","title":"List as output parameter in Java","body":"<p>A short answer- just return the new list as return value of the function:</p>\n\n<pre><code>List myFunction(int x, in y, List myList) {\n    ...Do things...\n    return anotherList.subList(fromIndex, toIndex);\n}\n</code></pre>\n\n<p>the long answer is that java copy the pointer of your object when you call a function, that mean that if you assign a new object to the method param, it wouldn't affect the original variable. so you must save the param reference if you want to change the object value.</p>\n"}],"owner":{"account_id":1460293,"reputation":8094,"user_id":1374804,"accept_rate":93,"display_name":"Rami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4509,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":11581161,"answer_count":5,"score":4,"last_activity_date":1697530494,"creation_date":1342793521,"question_id":11581115,"body_markdown":"I am trying to write a Java function which has List object as output parameter.\r\n\r\n    boolean myFunction(int x, in y, List myList)\r\n    {\r\n        /* ...Do things... */\r\n        myList=anotherList.subList(fromIndex, toIndex);\r\n        return true;\r\n    }\r\n\r\nBefore that I call the function I declare myList as follow:\r\n\r\n    List myList=null;\r\nThen I call the function\r\n\r\n    myFunction(x,y,myList)\r\nBut when I try to manipulate myList, I find that myList is still null.\r\n\r\nI am sure the variable `anotherList` in my function code is not null and I am sure that the `subList` function return a non-empty List.\r\n\r\nWhat is the reason, and how can pass a List as output parameter in a Java function?","title":"List as output parameter in Java","body":"<p>I am trying to write a Java function which has List object as output parameter.</p>\n<pre><code>boolean myFunction(int x, in y, List myList)\n{\n    /* ...Do things... */\n    myList=anotherList.subList(fromIndex, toIndex);\n    return true;\n}\n</code></pre>\n<p>Before that I call the function I declare myList as follow:</p>\n<pre><code>List myList=null;\n</code></pre>\n<p>Then I call the function</p>\n<pre><code>myFunction(x,y,myList)\n</code></pre>\n<p>But when I try to manipulate myList, I find that myList is still null.</p>\n<p>I am sure the variable <code>anotherList</code> in my function code is not null and I am sure that the <code>subList</code> function return a non-empty List.</p>\n<p>What is the reason, and how can pass a List as output parameter in a Java function?</p>\n"},{"tags":["java","colors","24-bit"],"answers":[{"tags":[],"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697529997,"creation_date":1697529997,"answer_id":77307169,"question_id":77305613,"body_markdown":"Note: not all terminals supports 24-bit colours, and as far I know it is far from being &quot;ANSI&quot;. xterm (so the base/reference terminal for Linux) had some reserve on it, and it took many years to implement it.\r\n\r\nIn any case: brightness it not a flag, it is just a more bright colour, so a colour with higher RGB values. So the terminal *white* is in reality a light grey, and terminal *bright white* is white.\r\n\r\nWikipedia has a nice table about the different RGB values on different terminals (colours are not standardized): https://en.wikipedia.org/wiki/ANSI_escape_code#Colors , it helps to understand the &quot;bright&quot; model). From there you can see how you can have dark and bright colours (without going with HSV/HSL models). (Note: just scaling down RGB values, which start with a different level, will change the hue).","title":"How to make a 24-bit ANSI color code with high intensity java","body":"<p>Note: not all terminals supports 24-bit colours, and as far I know it is far from being &quot;ANSI&quot;. xterm (so the base/reference terminal for Linux) had some reserve on it, and it took many years to implement it.</p>\n<p>In any case: brightness it not a flag, it is just a more bright colour, so a colour with higher RGB values. So the terminal <em>white</em> is in reality a light grey, and terminal <em>bright white</em> is white.</p>\n<p>Wikipedia has a nice table about the different RGB values on different terminals (colours are not standardized): <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code#Colors\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ANSI_escape_code#Colors</a> , it helps to understand the &quot;bright&quot; model). From there you can see how you can have dark and bright colours (without going with HSV/HSL models). (Note: just scaling down RGB values, which start with a different level, will change the hue).</p>\n"}],"owner":{"account_id":27101539,"reputation":35,"user_id":20648017,"display_name":"Arnaud Girard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77307169,"answer_count":1,"score":0,"last_activity_date":1697529997,"creation_date":1697503187,"question_id":77305613,"body_markdown":"I am trying to create a 24-bit ANSI color code as such : ```\\033[38;5;red;green;bluem``` with high intensity enabled I know it is possible in 4-bit by adding 60 to the number ex.30 = FG black -&gt; 90 = FG black high intensity, in 8-bit by doing ```\\033[38;5;8;numberm``` but I do not know how to do it in 24-bit I searched all over the internet but still couldn&#39;t find how to do it.","title":"How to make a 24-bit ANSI color code with high intensity java","body":"<p>I am trying to create a 24-bit ANSI color code as such : <code>\\033[38;5;red;green;bluem</code> with high intensity enabled I know it is possible in 4-bit by adding 60 to the number ex.30 = FG black -&gt; 90 = FG black high intensity, in 8-bit by doing <code>\\033[38;5;8;numberm</code> but I do not know how to do it in 24-bit I searched all over the internet but still couldn't find how to do it.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":22124145,"reputation":137,"user_id":16376831,"display_name":"Unknown Guy"},"score":0,"creation_date":1642071821,"post_id":70695339,"comment_id":124976966,"body_markdown":"Sing getting same exception","body":"Sing getting same exception"},{"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"score":0,"creation_date":1642073643,"post_id":70695339,"comment_id":124977609,"body_markdown":"can you check the column property in database and see whats the length there. Is it 255 or 2048 ?","body":"can you check the column property in database and see whats the length there. Is it 255 or 2048 ?"}],"tags":[],"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642071085,"creation_date":1642071085,"answer_id":70695339,"question_id":70694903,"body_markdown":"By default maximum characters you can store is 255. Try this\r\n\r\n    @ElementCollection\r\n    @Column(columnDefinition=&quot;TEXT&quot;, length = 2048)\r\n    @CollectionTable(name=&quot;general_values&quot;)\r\n    private List&lt;String&gt; values;","title":"ERROR: value too long for type character varying(255) in postgresql","body":"<p>By default maximum characters you can store is 255. Try this</p>\n<pre><code>@ElementCollection\n@Column(columnDefinition=&quot;TEXT&quot;, length = 2048)\n@CollectionTable(name=&quot;general_values&quot;)\nprivate List&lt;String&gt; values;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15319993,"reputation":11,"user_id":11052773,"display_name":"poorwa kesharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642076205,"creation_date":1642076205,"answer_id":70696477,"question_id":70694903,"body_markdown":"First, you need to drop the table and then add the length attribute in the column then only you can see the effect.\r\n\r\n    @ElementCollection\r\n    @Column(columnDefinition=&quot;TEXT&quot;, length = 1000)\r\n    @CollectionTable(name=&quot;general_values&quot;)\r\n    private List&lt;String&gt; values;\r\n\r\nor else you can use SQL command to modify the length\r\n\r\n    ALTER TABLE table_name MODIFY column_name varchar(new_length);  ","title":"ERROR: value too long for type character varying(255) in postgresql","body":"<p>First, you need to drop the table and then add the length attribute in the column then only you can see the effect.</p>\n<pre><code>@ElementCollection\n@Column(columnDefinition=&quot;TEXT&quot;, length = 1000)\n@CollectionTable(name=&quot;general_values&quot;)\nprivate List&lt;String&gt; values;\n</code></pre>\n<p>or else you can use SQL command to modify the length</p>\n<pre><code>ALTER TABLE table_name MODIFY column_name varchar(new_length);  \n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user10260739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642076352,"creation_date":1642076352,"answer_id":70696513,"question_id":70694903,"body_markdown":"To solve this error either you have to create schema again where @Column contains length property or you can manually update the table in the database.\r\n\r\n    @Column(columnDefinition=&quot;TEXT&quot;, length = 1000)\r\n    private List&lt;String&gt; values;\r\n\r\nIt will create a column with a size of 1000 characters when the schema is generated. There will be no effect on the existing table.\r\n","title":"ERROR: value too long for type character varying(255) in postgresql","body":"<p>To solve this error either you have to create schema again where @Column contains length property or you can manually update the table in the database.</p>\n<pre><code>@Column(columnDefinition=&quot;TEXT&quot;, length = 1000)\nprivate List&lt;String&gt; values;\n</code></pre>\n<p>It will create a column with a size of 1000 characters when the schema is generated. There will be no effect on the existing table.</p>\n"}],"owner":{"account_id":22124145,"reputation":137,"user_id":16376831,"display_name":"Unknown Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1697529925,"creation_date":1642069071,"question_id":70694903,"body_markdown":"I am using spring-boot and `JPA ` this is the field  i am using for the list \r\n\r\n   \r\n\t@ElementCollection\r\n\t@Column(columnDefinition=&quot;TEXT&quot;)\r\n\t@CollectionTable(name=&quot;general_values&quot;)\r\n\tprivate List&lt;String&gt; values;\r\n\r\nBut i am getting Error \r\n\r\n   \r\n    Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255)\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]\r\n\r\nHowever In the database table type of `value` is showing as text. Since i am using `TEXT` as a type and in the table column as well it is showing as `text` but Error is still `varying(255)`.[![table colum][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/igoLn.png\r\n\r\nAnd the request payload for value field\r\n     \r\n    &quot;values&quot;:[&quot;45&quot;,&quot;There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don&#39;t look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn&#39;t anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable&quot;]","title":"ERROR: value too long for type character varying(255) in postgresql","body":"<p>I am using spring-boot and <code>JPA </code> this is the field  i am using for the list</p>\n<pre><code>@ElementCollection\n@Column(columnDefinition=&quot;TEXT&quot;)\n@CollectionTable(name=&quot;general_values&quot;)\nprivate List&lt;String&gt; values;\n</code></pre>\n<p>But i am getting Error</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: value too long for type character varying(255)\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2440) ~[postgresql-42.2.5.jar:42.2.5]\n</code></pre>\n<p>However In the database table type of <code>value</code> is showing as text. Since i am using <code>TEXT</code> as a type and in the table column as well it is showing as <code>text</code> but Error is still <code>varying(255)</code>.<a href=\"https://i.stack.imgur.com/igoLn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/igoLn.png\" alt=\"table colum\" /></a></p>\n<p>And the request payload for value field</p>\n<pre><code>&quot;values&quot;:[&quot;45&quot;,&quot;There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in the middle of text. All the Lorem Ipsum generators on the Internet tend to repeat predefined chunks as necessary, making this the first true generator on the Internet. It uses a dictionary of over 200 Latin words, combined with a handful of model sentence structures, to generate Lorem Ipsum which looks reasonable&quot;]\n</code></pre>\n"},{"tags":["java","hibernate","primary-key","hibernate-annotations"],"answers":[{"tags":[],"owner":{"account_id":23845,"reputation":4116,"user_id":60127,"display_name":"rudolfson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243602086,"creation_date":1243602086,"answer_id":925841,"question_id":925818,"body_markdown":"You could check if there is logic wise an id and provide mapping information accordingly. Hibernate will not check the database for existence of a defined primary key.","title":"Hibernate/persistence without @Id","body":"<p>You could check if there is logic wise an id and provide mapping information accordingly. Hibernate will not check the database for existence of a defined primary key.</p>\n"},{"tags":[],"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1243602210,"creation_date":1243602210,"answer_id":925844,"question_id":925818,"body_markdown":"For each entity, you must designate at least one of the following:\r\n\r\n - one [@Id](http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#Id)\r\n - multiple @Id and an @IdClass (for a composite primary key)\r\n - @EmbeddedId\r\n\r\nso maybe you can create a composite primary key, containing multiple fields?","title":"Hibernate/persistence without @Id","body":"<p>For each entity, you must designate at least one of the following:</p>\n\n<ul>\n<li>one <a href=\"http://www.oracle.com/technology/products/ias/toplink/jpa/resources/toplink-jpa-annotations.html#Id\" rel=\"noreferrer\">@Id</a></li>\n<li>multiple @Id and an @IdClass (for a composite primary key)</li>\n<li>@EmbeddedId</li>\n</ul>\n\n<p>so maybe you can create a composite primary key, containing multiple fields?</p>\n"},{"comments":[{"owner":{"account_id":1832594,"reputation":1613,"user_id":1663662,"accept_rate":71,"display_name":"Osy"},"score":2,"creation_date":1534026502,"post_id":925849,"comment_id":90564421,"body_markdown":"But, what happen if such composite set of columns includes a nullable one, I don&#39;t have PK but I have defined something like UNIQUE Constraint or Index, How Hibernate handle that? Sounds like a paradox: &quot;@Id&quot; with nullable values cannot exists and cannot save without an &quot;@Id&quot; defined.","body":"But, what happen if such composite set of columns includes a nullable one, I don&#39;t have PK but I have defined something like UNIQUE Constraint or Index, How Hibernate handle that? Sounds like a paradox: &quot;@Id&quot; with nullable values cannot exists and cannot save without an &quot;@Id&quot; defined."},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":1,"creation_date":1572731162,"post_id":925849,"comment_id":103652322,"body_markdown":"&gt; View does not make sense.\nI concur. Projections returned by stored procedures are be perfectly valid views that do not have identifiers on them.","body":"&gt; View does not make sense. I concur. Projections returned by stored procedures are be perfectly valid views that do not have identifiers on them."}],"tags":[],"owner":{"account_id":31740,"reputation":17092,"user_id":87408,"accept_rate":78,"display_name":"Edward Q. Bridges"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1697529589,"creation_date":1243602290,"answer_id":925849,"question_id":925818,"body_markdown":"If there&#39;s a combination of columns that makes a row unique, model a primary key class around the combination of columns.  If there isn&#39;t, you&#39;re basically out of luck -- but you should reexamine the design of the view since it probably doesn&#39;t make sense.\r\n\r\nThere are a couple different approaches:\r\n\r\n    @Entity\r\n    public class RegionalArticle implements Serializable {\r\n    \r\n        @Id\r\n        public RegionalArticlePk getPk() { ... }\r\n    }\r\n    \r\n    @Embeddable\r\n    public class RegionalArticlePk implements Serializable { ... }\r\n\r\n\r\nOr:\r\n\r\n    @Entity\r\n    public class RegionalArticle implements Serializable {\r\n    \r\n        @EmbeddedId\r\n        public RegionalArticlePk getPk() { ... }\r\n    }\r\n    \r\n    public class RegionalArticlePk implements Serializable { ... }\r\n\r\n\r\nThe details are here: https://docs.jboss.org/ejb3/app-server/HibernateAnnotations/reference/en/html_single/index.html#d0e1517\r\n\r\nHere&#39;s a posting that describes a similar issue: [http://www.theserverside.com/discussions/thread.tss?thread_id=22638][2]\r\n\r\n\r\n\r\n  [2]: http://www.theserverside.com/discussions/thread.tss?thread_id=22638","title":"Hibernate/persistence without @Id","body":"<p>If there's a combination of columns that makes a row unique, model a primary key class around the combination of columns.  If there isn't, you're basically out of luck -- but you should reexamine the design of the view since it probably doesn't make sense.</p>\n<p>There are a couple different approaches:</p>\n<pre><code>@Entity\npublic class RegionalArticle implements Serializable {\n\n    @Id\n    public RegionalArticlePk getPk() { ... }\n}\n\n@Embeddable\npublic class RegionalArticlePk implements Serializable { ... }\n</code></pre>\n<p>Or:</p>\n<pre><code>@Entity\npublic class RegionalArticle implements Serializable {\n\n    @EmbeddedId\n    public RegionalArticlePk getPk() { ... }\n}\n\npublic class RegionalArticlePk implements Serializable { ... }\n</code></pre>\n<p>The details are here: <a href=\"https://docs.jboss.org/ejb3/app-server/HibernateAnnotations/reference/en/html_single/index.html#d0e1517\" rel=\"nofollow noreferrer\">https://docs.jboss.org/ejb3/app-server/HibernateAnnotations/reference/en/html_single/index.html#d0e1517</a></p>\n<p>Here's a posting that describes a similar issue: <a href=\"http://www.theserverside.com/discussions/thread.tss?thread_id=22638\" rel=\"nofollow noreferrer\">http://www.theserverside.com/discussions/thread.tss?thread_id=22638</a></p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348778794,"creation_date":1348778794,"answer_id":12629759,"question_id":925818,"body_markdown":"Here is an example that has 2 keys as &quot;Id&quot; keys: https://gist.github.com/3796379","title":"Hibernate/persistence without @Id","body":"<p>Here is an example that has 2 keys as \"Id\" keys: <a href=\"https://gist.github.com/3796379\" rel=\"nofollow\">https://gist.github.com/3796379</a></p>\n"},{"comments":[{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1479276483,"post_id":36463556,"comment_id":68483820,"body_markdown":"this will cause problems if the cache is used","body":"this will cause problems if the cache is used"}],"tags":[],"owner":{"account_id":8196790,"reputation":1,"user_id":6169355,"display_name":"Stacy Mobley"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1459982366,"creation_date":1459982366,"answer_id":36463556,"question_id":925818,"body_markdown":"While not exactly what you&#39;re asking for, here&#39;s a little trick I use. Have the query select &quot;rownum&quot; and define &quot;rownum&quot; as your ID column in the model. That will effectively make every row unique to Hibernate.","title":"Hibernate/persistence without @Id","body":"<p>While not exactly what you're asking for, here's a little trick I use. Have the query select \"rownum\" and define \"rownum\" as your ID column in the model. That will effectively make every row unique to Hibernate.</p>\n"},{"comments":[{"owner":{"account_id":3070071,"reputation":302,"user_id":2600966,"display_name":"Michael Haefele"},"score":0,"creation_date":1509738163,"post_id":44050230,"comment_id":81157010,"body_markdown":"It&#39;s hard to see this being a clarity win over the embededId above unless you actually need a unique id.  Are there performance considerations as well?","body":"It&#39;s hard to see this being a clarity win over the embededId above unless you actually need a unique id.  Are there performance considerations as well?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":1,"creation_date":1526644490,"post_id":44050230,"comment_id":87836832,"body_markdown":"be aware that `rownum` and `row number() over` play very badly with cache (same query, different parameters and then different results will have same ID...)","body":"be aware that <code>rownum</code> and <code>row number() over</code> play very badly with cache (same query, different parameters and then different results will have same ID...)"},{"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"score":1,"creation_date":1611933270,"post_id":44050230,"comment_id":116616854,"body_markdown":"There is no rownum function available in MySQL version less than 8.0. But it is possible to use the following approach [https://stackoverflow.com/questions/1895110/row-number-in-mysql/#answer-65946121] as an alternative. Just in case anybody is looking for alternative.","body":"There is no rownum function available in MySQL version less than 8.0. But it is possible to use the following approach [<a href=\"https://stackoverflow.com/questions/1895110/row-number-in-mysql/#answer-65946121]\" title=\"row number in mysql\">stackoverflow.com/questions/1895110/row-number-in-mysql/&hellip;</a> as an alternative. Just in case anybody is looking for alternative."}],"tags":[],"owner":{"account_id":1845327,"reputation":3625,"user_id":1673775,"display_name":"luke"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1697529483,"creation_date":1495116814,"answer_id":44050230,"question_id":925818,"body_markdown":"Instead of searching for workarounds in Hibernate, it might be easier to add dummy id in your database view. Let&#39;s assume that we have PostgreSQL view with two columns and none of them is unique (and there is no primary key as Postgres doesn&#39;t allow to make PK or any other constraints on views) ex.\r\n\r\n    | employee_id | project_name |\r\n    |:------------|:-------------|\r\n    | 1           | Stack01      |\r\n    | 1           | Jira01       |\r\n    | 1           | Github01     |\r\n    | 2           | Stack01      |\r\n    | 2           | Jira01       |\r\n    | 3           | Jira01       |\r\n    ------------------------------\r\n\r\nWhich is represented by the following query:\r\n\r\n    CREATE OR REPLACE VIEW someschema.vw_emp_proj_his AS\r\n        SELECT DISTINCT e.employee_id,\r\n                        pinf.project_name\r\n        FROM someschema.project_info pinf\r\n        JOIN someschema.project_employee pe ON pe.proj_id = pinf.proj_id\r\n        JOIN someschema.employees e ON e.employee_id = pe.emloyee_id\r\n\r\nWe can add dummy id using row_number():\r\n\r\n    SELECT row_number() OVER (ORDER BY subquery.employee_id) AS row_id\r\n\r\nlike in this example:\r\n\r\n    CREATE OR REPLACE VIEW someschema.vw_emp_proj_his AS\r\n    SELECT row_number() OVER (ORDER BY subquery.employee_id) AS row_id,\r\n           subquery.employee_id,\r\n           subquery.project_name\r\n    FROM\r\n      (SELECT DISTINCT e.employee_id,\r\n                       pinf.project_name\r\n       FROM someschema.project_info pinf\r\n       JOIN someschema.project_employee pe ON pe.proj_id = pinf.proj_id\r\n       JOIN someschema.employees e ON e.employee_id = pe.emloyee_id ) subquery;\r\n\r\nAnd the table will look like this:\r\n\r\n    | row_id      | employee_id | project_name |\r\n    |:------------|:------------|:-------------|\r\n    | 1           | 1           | Stack01      |\r\n    | 2           | 1           | Jira01       |\r\n    | 3           | 1           | Github01     |\r\n    | 4           | 2           | Stack01      |\r\n    | 5           | 2           | Jira01       |\r\n    | 6           | 3           | Jira01       |\r\n    -------------------------------------------\r\n\r\nNow we can use row_id as @Id in JPA/Hibernate/Spring Data:\r\n\r\n    @Id\r\n    @Column(name = &quot;row_id&quot;)\r\n    private Integer id;\r\n\r\nLike in the example:\r\n\r\n    @Entity\r\n    @Table(schema = &quot;someschema&quot;, name = &quot;vw_emp_proj_his&quot;)\r\n    public class EmployeeProjectHistory {\r\n    \r\n        @Id\r\n        @Column(name = &quot;row_id&quot;)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;employee_id&quot;)\r\n        private Integer employeeId;\r\n    \r\n        @Column(name = &quot;project_name&quot;)\r\n        private String projectName;\r\n    \r\n    //Getters, setters etc.\r\n    \r\n    }\r\n\r\n","title":"Hibernate/persistence without @Id","body":"<p>Instead of searching for workarounds in Hibernate, it might be easier to add dummy id in your database view. Let's assume that we have PostgreSQL view with two columns and none of them is unique (and there is no primary key as Postgres doesn't allow to make PK or any other constraints on views) ex.</p>\n<pre><code>| employee_id | project_name |\n|:------------|:-------------|\n| 1           | Stack01      |\n| 1           | Jira01       |\n| 1           | Github01     |\n| 2           | Stack01      |\n| 2           | Jira01       |\n| 3           | Jira01       |\n------------------------------\n</code></pre>\n<p>Which is represented by the following query:</p>\n<pre><code>CREATE OR REPLACE VIEW someschema.vw_emp_proj_his AS\n    SELECT DISTINCT e.employee_id,\n                    pinf.project_name\n    FROM someschema.project_info pinf\n    JOIN someschema.project_employee pe ON pe.proj_id = pinf.proj_id\n    JOIN someschema.employees e ON e.employee_id = pe.emloyee_id\n</code></pre>\n<p>We can add dummy id using row_number():</p>\n<pre><code>SELECT row_number() OVER (ORDER BY subquery.employee_id) AS row_id\n</code></pre>\n<p>like in this example:</p>\n<pre><code>CREATE OR REPLACE VIEW someschema.vw_emp_proj_his AS\nSELECT row_number() OVER (ORDER BY subquery.employee_id) AS row_id,\n       subquery.employee_id,\n       subquery.project_name\nFROM\n  (SELECT DISTINCT e.employee_id,\n                   pinf.project_name\n   FROM someschema.project_info pinf\n   JOIN someschema.project_employee pe ON pe.proj_id = pinf.proj_id\n   JOIN someschema.employees e ON e.employee_id = pe.emloyee_id ) subquery;\n</code></pre>\n<p>And the table will look like this:</p>\n<pre><code>| row_id      | employee_id | project_name |\n|:------------|:------------|:-------------|\n| 1           | 1           | Stack01      |\n| 2           | 1           | Jira01       |\n| 3           | 1           | Github01     |\n| 4           | 2           | Stack01      |\n| 5           | 2           | Jira01       |\n| 6           | 3           | Jira01       |\n-------------------------------------------\n</code></pre>\n<p>Now we can use row_id as @Id in JPA/Hibernate/Spring Data:</p>\n<pre><code>@Id\n@Column(name = &quot;row_id&quot;)\nprivate Integer id;\n</code></pre>\n<p>Like in the example:</p>\n<pre><code>@Entity\n@Table(schema = &quot;someschema&quot;, name = &quot;vw_emp_proj_his&quot;)\npublic class EmployeeProjectHistory {\n\n    @Id\n    @Column(name = &quot;row_id&quot;)\n    private Integer id;\n\n    @Column(name = &quot;employee_id&quot;)\n    private Integer employeeId;\n\n    @Column(name = &quot;project_name&quot;)\n    private String projectName;\n\n//Getters, setters etc.\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551193070,"creation_date":1551193070,"answer_id":54888327,"question_id":925818,"body_markdown":"Modify your select used for view creation:\r\n\r\n    SELECT\r\n\t   ROWNUM ID, -- or use nextval of some sequence\r\n       -- other columns\r\n    FROM\r\n\t  TABLE\r\n\r\nand map &quot;ID&quot; as primary key.","title":"Hibernate/persistence without @Id","body":"<p>Modify your select used for view creation:</p>\n\n<pre><code>SELECT\n   ROWNUM ID, -- or use nextval of some sequence\n   -- other columns\nFROM\n  TABLE\n</code></pre>\n\n<p>and map \"ID\" as primary key.</p>\n"},{"tags":[],"owner":{"account_id":3584154,"reputation":43,"user_id":2991678,"accept_rate":17,"display_name":"Victoria Serkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551207739,"creation_date":1551207739,"answer_id":54892393,"question_id":925818,"body_markdown":"you could just use @EmbeddedId as follows:\r\n\r\n    @EmbeddedId\r\n    public Id getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Id id) {\r\n        this.id = id;\r\n    }\r\n","title":"Hibernate/persistence without @Id","body":"<p>you could just use @EmbeddedId as follows:</p>\n\n<pre><code>@EmbeddedId\npublic Id getId() {\n    return id;\n}\n\npublic void setId(Id id) {\n    this.id = id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4231428,"reputation":1077,"user_id":3463646,"accept_rate":80,"display_name":"sopehl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581412081,"creation_date":1581412081,"answer_id":60165216,"question_id":925818,"body_markdown":"According to Hibernate user guide, using the pk is recommended so even if you are working with the existing project that doesn&#39;t contain the pk in the database side, you can add the pk column to the related database table and map it with the Java entities.\r\n\r\nThe hibernate recommendation was like that:\r\n\r\n&gt; We recommend that you declare consistently-named identifier attributes on persistent classes and that you use a wrapper (i.e., non-primitive) type (e.g. Long or Integer).\r\n\r\nFor more detail about pk and Hibernate mechanism, please visit [here][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#entity-pojo-identifier","title":"Hibernate/persistence without @Id","body":"<p>According to Hibernate user guide, using the pk is recommended so even if you are working with the existing project that doesn't contain the pk in the database side, you can add the pk column to the related database table and map it with the Java entities.</p>\n\n<p>The hibernate recommendation was like that:</p>\n\n<blockquote>\n  <p>We recommend that you declare consistently-named identifier attributes on persistent classes and that you use a wrapper (i.e., non-primitive) type (e.g. Long or Integer).</p>\n</blockquote>\n\n<p>For more detail about pk and Hibernate mechanism, please visit <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#entity-pojo-identifier\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"display_name":"Miguel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75918,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":925849,"answer_count":9,"score":38,"last_activity_date":1697529589,"creation_date":1243601646,"question_id":925818,"body_markdown":"I have a database view that yields a result set that has no true primary key. I want to use Hibernate/Persistence to map this result set onto Java objects. Of course, because there is no PK, I cannot decorate any field with `@Id`.\r\n\r\nWhen deploying, Hibernate complains about the missing `@Id`. How can I work around this?","title":"Hibernate/persistence without @Id","body":"<p>I have a database view that yields a result set that has no true primary key. I want to use Hibernate/Persistence to map this result set onto Java objects. Of course, because there is no PK, I cannot decorate any field with <code>@Id</code>.</p>\n\n<p>When deploying, Hibernate complains about the missing <code>@Id</code>. How can I work around this?</p>\n"},{"tags":["java","hibernate","grails","hql"],"answers":[{"tags":[],"owner":{"account_id":1379314,"reputation":3624,"user_id":1312674,"accept_rate":67,"display_name":"rcgeorge23"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1404384184,"creation_date":1404384184,"answer_id":24551530,"question_id":24551177,"body_markdown":"Oh, it turns out that I needed to enclose `:franchisees` in parentheses:\r\n\r\n    from User u where \r\n    (u.parentOrganisation = :topLevelOrganisation or u.parentOrganisation in (:franchisees)) \r\n    and u.parentOrganisation.deleted = false \r\n    and u.active = true","title":"HQL unexpected AST node: {vector}","body":"<p>Oh, it turns out that I needed to enclose <code>:franchisees</code> in parentheses:</p>\n\n<pre><code>from User u where \n(u.parentOrganisation = :topLevelOrganisation or u.parentOrganisation in (:franchisees)) \nand u.parentOrganisation.deleted = false \nand u.active = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8238145,"reputation":29,"user_id":6196599,"display_name":"KenShin"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1460520944,"creation_date":1460520643,"answer_id":36588414,"question_id":24551177,"body_markdown":"We can split condition &quot;OR&quot; in HQL to 2 statements.\r\n\r\nIt works fine.\r\n\r\n    from User u where \r\n    (u.parentOrganisation = :topLevelOrganisation and u.parentOrganisation.deleted = false \r\n    and u.active = true ) \r\n    or (u.parentOrganisation in (:franchisees) and u.parentOrganisation.deleted = false \r\n    and u.active = true) \r\n\r\n","title":"HQL unexpected AST node: {vector}","body":"<p>We can split condition \"OR\" in HQL to 2 statements.</p>\n\n<p>It works fine.</p>\n\n<pre><code>from User u where \n(u.parentOrganisation = :topLevelOrganisation and u.parentOrganisation.deleted = false \nand u.active = true ) \nor (u.parentOrganisation in (:franchisees) and u.parentOrganisation.deleted = false \nand u.active = true) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10603217,"reputation":919,"user_id":7809534,"accept_rate":100,"display_name":"Jakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1541432687,"creation_date":1541432687,"answer_id":53157606,"question_id":24551177,"body_markdown":"The reason why does this happen is because when data in array is put in the list without parentheses, query syntax for searching database from the list will be wrong.\r\n\r\n**EXAMPLE:**\r\n\r\n    List&lt;Integer&gt; userIdList = [0, 1, 2, 3]\r\n\r\nQuery without parentheses: `from User u where u.id in :list`\r\n\r\nwill look like this when data is inserted `from User u where u.id in 0, 1, 2, 3` - **WRONG SYNTAX**.\r\n\r\nQuery with parentheses: `from User u where u.id in (:list)`\r\n\r\nwill look like this when data is inserted `from User u where u.id in (0, 1, 2, 3)` - **CORRECT SYNTAX**.\r\n","title":"HQL unexpected AST node: {vector}","body":"<p>The reason why does this happen is because when data in array is put in the list without parentheses, query syntax for searching database from the list will be wrong.</p>\n\n<p><strong>EXAMPLE:</strong></p>\n\n<pre><code>List&lt;Integer&gt; userIdList = [0, 1, 2, 3]\n</code></pre>\n\n<p>Query without parentheses: <code>from User u where u.id in :list</code></p>\n\n<p>will look like this when data is inserted <code>from User u where u.id in 0, 1, 2, 3</code> - <strong>WRONG SYNTAX</strong>.</p>\n\n<p>Query with parentheses: <code>from User u where u.id in (:list)</code></p>\n\n<p>will look like this when data is inserted <code>from User u where u.id in (0, 1, 2, 3)</code> - <strong>CORRECT SYNTAX</strong>.</p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694440078,"creation_date":1694440078,"answer_id":77082199,"question_id":24551177,"body_markdown":"It is because you have missed some parentheses,\r\n\r\nBefore Fixing : \r\n\r\n    &quot; WHERE ( :status IS NULL OR ( :status IS NOT NULL AND c.caseStatus IN :status ) )&quot;\r\n\r\nAfter Fixing : \r\n\r\n    &quot; WHERE ( (:status) IS NULL OR ( (:status) IS NOT NULL AND c.caseStatus IN (:status) ) )&quot;\r\n\r\n\r\n\r\n","title":"HQL unexpected AST node: {vector}","body":"<p>It is because you have missed some parentheses,</p>\n<p>Before Fixing :</p>\n<pre><code>&quot; WHERE ( :status IS NULL OR ( :status IS NOT NULL AND c.caseStatus IN :status ) )&quot;\n</code></pre>\n<p>After Fixing :</p>\n<pre><code>&quot; WHERE ( (:status) IS NULL OR ( (:status) IS NOT NULL AND c.caseStatus IN (:status) ) )&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9823976,"reputation":11,"user_id":7277672,"display_name":"Jes&#250;s Moncada Ram&#237;rez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697529521,"creation_date":1697529521,"answer_id":77307119,"question_id":24551177,"body_markdown":"In my case, I got this error cause I was trying to check if a query parameter supposed to be a list was null (`IS NULL`), like this:\r\n```sql\r\n:listParameter IS NULL or p.value IN :listParameter\r\n```\r\n\r\nWhat worked for me was to change the `IS NULL` check to the part of the code where I set the parameters, by passing a flag parameter. This flag parameter indicates whether `:listParameter` is null (or empty) or not.\r\n\r\nIn the previous example, when I create the query I would include the flag parameter (see `listParameterIsNull`):\r\n```java\r\nQuery query = em.createQuery(&quot;Queries.nameOfTheQuery&quot;)\r\n  .setParameter(&quot;listParameterIsNull&quot;, listParameter == null || listParameter.isEmpty())\r\n  .setParameter(&quot;listParameter&quot;, listParameter);\r\n```\r\nThe part of the query would look like the following:\r\n```sql\r\n:listParameterIsNull = TRUE OR p.value IN :listParameter\r\n```\r\nHope it helps.","title":"HQL unexpected AST node: {vector}","body":"<p>In my case, I got this error cause I was trying to check if a query parameter supposed to be a list was null (<code>IS NULL</code>), like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>:listParameter IS NULL or p.value IN :listParameter\n</code></pre>\n<p>What worked for me was to change the <code>IS NULL</code> check to the part of the code where I set the parameters, by passing a flag parameter. This flag parameter indicates whether <code>:listParameter</code> is null (or empty) or not.</p>\n<p>In the previous example, when I create the query I would include the flag parameter (see <code>listParameterIsNull</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = em.createQuery(&quot;Queries.nameOfTheQuery&quot;)\n  .setParameter(&quot;listParameterIsNull&quot;, listParameter == null || listParameter.isEmpty())\n  .setParameter(&quot;listParameter&quot;, listParameter);\n</code></pre>\n<p>The part of the query would look like the following:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>:listParameterIsNull = TRUE OR p.value IN :listParameter\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":1379314,"reputation":3624,"user_id":1312674,"accept_rate":67,"display_name":"rcgeorge23"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33936,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":24551530,"answer_count":5,"score":20,"last_activity_date":1697529521,"creation_date":1404383181,"question_id":24551177,"body_markdown":"I&#39;m trying to write an HQL query to grab a list of users that belong to a particular organisation, or any franchisee from a list of franchisees, however hibernate isn&#39;t able to parse it. I can&#39;t figure out why. Here is the HQL:\r\n\r\n    from User u where \r\n    (u.parentOrganisation = :topLevelOrganisation or u.parentOrganisation in :franchisees) \r\n    and u.parentOrganisation.deleted = false \r\n    and u.active = true\r\n\r\nThis is the error that hibernate spits out:\r\n\r\n\tunexpected AST node: {vector} [from com.myapp.User u where (u.parentOrganisation = :topLevelOrganisation or u.parentOrganisation in :franchisees0_, :franchisees\r\n\t1_, :franchisees2_) and u.parentOrganisation.deleted = false and u.active = true]. Stacktrace follows:\r\n\tMessage: unexpected AST node: {vector} [from com.myapp.User u where (u.parentOrganisation = :topLevelOrganisation or u.parentOrganisation in :franchisees0_, :fr\r\n\tanchisees1_, :franchisees2_) and u.parentOrganisation.deleted = false and u.active = true]\r\n\r\nIf I take out the `or u.parentOrganisation in :franchisees` bit, so my query looks like this:\r\n\r\n    from User u where \r\n    (u.parentOrganisation = :topLevelOrganisation) \r\n    and u.parentOrganisation.deleted = false \r\n    and u.active = true\r\n\r\nThen it works fine. What&#39;s wrong with my syntax? Why is hibernate complaining about that extra clause?","title":"HQL unexpected AST node: {vector}","body":"<p>I'm trying to write an HQL query to grab a list of users that belong to a particular organisation, or any franchisee from a list of franchisees, however hibernate isn't able to parse it. I can't figure out why. Here is the HQL:</p>\n\n<pre><code>from User u where \n(u.parentOrganisation = :topLevelOrganisation or u.parentOrganisation in :franchisees) \nand u.parentOrganisation.deleted = false \nand u.active = true\n</code></pre>\n\n<p>This is the error that hibernate spits out:</p>\n\n<pre><code>unexpected AST node: {vector} [from com.myapp.User u where (u.parentOrganisation = :topLevelOrganisation or u.parentOrganisation in :franchisees0_, :franchisees\n1_, :franchisees2_) and u.parentOrganisation.deleted = false and u.active = true]. Stacktrace follows:\nMessage: unexpected AST node: {vector} [from com.myapp.User u where (u.parentOrganisation = :topLevelOrganisation or u.parentOrganisation in :franchisees0_, :fr\nanchisees1_, :franchisees2_) and u.parentOrganisation.deleted = false and u.active = true]\n</code></pre>\n\n<p>If I take out the <code>or u.parentOrganisation in :franchisees</code> bit, so my query looks like this:</p>\n\n<pre><code>from User u where \n(u.parentOrganisation = :topLevelOrganisation) \nand u.parentOrganisation.deleted = false \nand u.active = true\n</code></pre>\n\n<p>Then it works fine. What's wrong with my syntax? Why is hibernate complaining about that extra clause?</p>\n"},{"tags":["java","database","hibernate","jpa"],"comments":[{"owner":{"account_id":65900,"reputation":24648,"user_id":193634,"accept_rate":84,"display_name":"Rosdi Kasim"},"score":0,"creation_date":1317282758,"post_id":767277,"comment_id":9211816,"body_markdown":"You could create a surrogate key that is auto inserted from `Sequence` (or equivalent if you are not using Oracle). For old data you could populate the newly created key with running numbers.","body":"You could create a surrogate key that is auto inserted from <code>Sequence</code> (or equivalent if you are not using Oracle). For old data you could populate the newly created key with running numbers."}],"answers":[{"comments":[{"owner":{"account_id":13696,"reputation":17531,"user_id":27657,"accept_rate":65,"display_name":"javamonkey79"},"score":0,"creation_date":1289523642,"post_id":802370,"comment_id":4491581,"body_markdown":"Really? What about @awied&#39;s solution below? It WFM.","body":"Really? What about @awied&#39;s solution below? It WFM."},{"owner":{"account_id":2454325,"reputation":812,"user_id":2139884,"accept_rate":83,"display_name":"Nirmal Mangal"},"score":0,"creation_date":1415924735,"post_id":802370,"comment_id":42390028,"body_markdown":"javamonkey79, @awied&#39;s solution and above solution are same thing.","body":"javamonkey79, @awied&#39;s solution and above solution are same thing."},{"owner":{"account_id":2080635,"reputation":4105,"user_id":1852693,"accept_rate":71,"display_name":"Dexter"},"score":0,"creation_date":1525972068,"post_id":802370,"comment_id":87572773,"body_markdown":"So its possible. See this also: https://sourcedexter.com/handling-database-tables-with-no-primary-key-in-spring-mvc-and-hibernate/","body":"So its possible. See this also: <a href=\"https://sourcedexter.com/handling-database-tables-with-no-primary-key-in-spring-mvc-and-hibernate/\" rel=\"nofollow noreferrer\">sourcedexter.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":49953,"reputation":20780,"user_id":148909,"accept_rate":89,"display_name":"Schildmeijer"},"comment_count":3,"down_vote_count":2,"up_vote_count":11,"is_accepted":true,"score":9,"last_activity_date":1398026026,"creation_date":1241011856,"answer_id":802370,"question_id":767277,"body_markdown":"I found that its not possible to do so. So bad luck for those working with legacy systems.\r\n\r\nIf you reverse engineer (create JPA annotated entities from existing JDBC connection) the table will create two Java classes, one Entity and with one field; id, and one embeddable id containing all the columns from your relation.","title":"Hibernate and no PK","body":"<p>I found that its not possible to do so. So bad luck for those working with legacy systems.</p>\n\n<p>If you reverse engineer (create JPA annotated entities from existing JDBC connection) the table will create two Java classes, one Entity and with one field; id, and one embeddable id containing all the columns from your relation.</p>\n"},{"comments":[{"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"score":25,"creation_date":1290529545,"post_id":1776125,"comment_id":4613715,"body_markdown":"I wanted to mention, because I just had this problem, that if any of those columns you are using for your composite key are NULL, than Hibernate will return null objects. I was pulling everything from a View and one of the columns was all null so hibernate was returning a list with the right number of items in it, but all the items were null. In my case I couldn&#39;t modify the field, so I just removed it from the Key.","body":"I wanted to mention, because I just had this problem, that if any of those columns you are using for your composite key are NULL, than Hibernate will return null objects. I was pulling everything from a View and one of the columns was all null so hibernate was returning a list with the right number of items in it, but all the items were null. In my case I couldn&#39;t modify the field, so I just removed it from the Key."}],"tags":[],"owner":{"account_id":7855,"reputation":2708,"user_id":13812,"accept_rate":100,"display_name":"awied"},"comment_count":1,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1258824590,"creation_date":1258824590,"answer_id":1776125,"question_id":767277,"body_markdown":"Roger&#39;s self-answer is correct. To elaborate a bit on what is meant (I wasn&#39;t clear on it at first and figured this would help):\r\n\r\nSay you have you have a table Foo as such:\r\n\r\n    TABLE Foo (\r\n    bar varchar(20),\r\n    bat varchar(20)\r\n    )\r\n\r\nNormally, you can write a class w/Annotations to work with this table: \r\n\r\n    // Technically, for this example, the @Table and @Column annotations \r\n    // are not needed, but don&#39;t hurt. Use them if your column names \r\n    // are different than the variable names.\r\n\r\n    @Entity\r\n    @Table(name = &quot;FOO&quot;)\r\n    class Foo {\r\n    \r\n      private String bar;\r\n      private String bat;\r\n    \r\n\r\n      @Column(name = &quot;bar&quot;)\r\n      public String getBar() {\r\n       return bar;    \r\n      }\r\n\r\n      public void setBar(String bar) {\r\n       this.bar = bar;    \r\n      }\r\n\r\n      @Column(name = &quot;bat&quot;)\r\n      public String getBat() {\r\n       return bat;    \r\n      }\r\n\r\n      public void setBat(String bat) {\r\n       this.bat = bat;    \r\n      }\r\n    \r\n    }\r\n\r\n.. But, darn. This table has nothing we can use as an id, and it&#39;s a legacy database that we use for [insert vital business function]. I don&#39;t think they&#39;ll let me start modifying tables in order for me to use hibernate. \r\n\r\nYou can, instead, split the object up into a hibernate-workable structure which allows the entire row to be used as the key. (Naturally, this assumes that the row is unique.)\r\n\r\nSplit the Foo object into two thusly:\r\n\r\n    @Entity\r\n    @Table(name = &quot;FOO&quot;)\r\n    class Foo {\r\n    \r\n      @Id\r\n      private FooKey id;\r\n\r\n      public void setId(FooKey id) {\r\n        this.id = id;\r\n      }\r\n\r\n      public void getId() {\r\n        return id;\r\n      }\r\n    }\r\n\r\nand\r\n\r\n    @Embeddable\r\n    class FooKey implements Serializable {\r\n      private String bar;\r\n      private String bat;\r\n    \r\n      @Column(name = &quot;bar&quot;)\r\n      public String getBar() {\r\n       return bar;    \r\n      }\r\n    \r\n      public void setBar(String bar) {\r\n       this.bar = bar;    \r\n      }\r\n    \r\n      @Column(name = &quot;bat&quot;)\r\n      public String getBat() {\r\n       return bat;    \r\n      }\r\n    \r\n      public void setBat(String bat) {\r\n       this.bat = bat;    \r\n      }\r\n   }\r\n\r\n.. And that should be it. Hibernate will use the Embeddable key for its required identity and you can make a call as normal:\r\n\r\n    Query fooQuery = getSession().createQuery(&quot;from Foo&quot;);\r\n\r\nHope this helps first-timers with getting this working. ","title":"Hibernate and no PK","body":"<p>Roger's self-answer is correct. To elaborate a bit on what is meant (I wasn't clear on it at first and figured this would help):</p>\n\n<p>Say you have you have a table Foo as such:</p>\n\n<pre><code>TABLE Foo (\nbar varchar(20),\nbat varchar(20)\n)\n</code></pre>\n\n<p>Normally, you can write a class w/Annotations to work with this table: </p>\n\n<pre><code>// Technically, for this example, the @Table and @Column annotations \n// are not needed, but don't hurt. Use them if your column names \n// are different than the variable names.\n\n@Entity\n@Table(name = \"FOO\")\nclass Foo {\n\n  private String bar;\n  private String bat;\n\n\n  @Column(name = \"bar\")\n  public String getBar() {\n   return bar;    \n  }\n\n  public void setBar(String bar) {\n   this.bar = bar;    \n  }\n\n  @Column(name = \"bat\")\n  public String getBat() {\n   return bat;    \n  }\n\n  public void setBat(String bat) {\n   this.bat = bat;    \n  }\n\n}\n</code></pre>\n\n<p>.. But, darn. This table has nothing we can use as an id, and it's a legacy database that we use for [insert vital business function]. I don't think they'll let me start modifying tables in order for me to use hibernate. </p>\n\n<p>You can, instead, split the object up into a hibernate-workable structure which allows the entire row to be used as the key. (Naturally, this assumes that the row is unique.)</p>\n\n<p>Split the Foo object into two thusly:</p>\n\n<pre><code>@Entity\n@Table(name = \"FOO\")\nclass Foo {\n\n  @Id\n  private FooKey id;\n\n  public void setId(FooKey id) {\n    this.id = id;\n  }\n\n  public void getId() {\n    return id;\n  }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Embeddable\nclass FooKey implements Serializable {\n  private String bar;\n  private String bat;\n\n  @Column(name = \"bar\")\n  public String getBar() {\n   return bar;    \n  }\n\n  public void setBar(String bar) {\n   this.bar = bar;    \n  }\n\n  @Column(name = \"bat\")\n  public String getBat() {\n   return bat;    \n  }\n\n  public void setBat(String bat) {\n   this.bat = bat;    \n  }\n</code></pre>\n\n<p>}</p>\n\n<p>.. And that should be it. Hibernate will use the Embeddable key for its required identity and you can make a call as normal:</p>\n\n<pre><code>Query fooQuery = getSession().createQuery(\"from Foo\");\n</code></pre>\n\n<p>Hope this helps first-timers with getting this working. </p>\n"},{"comments":[{"owner":{"account_id":452846,"reputation":4837,"user_id":849506,"accept_rate":79,"display_name":"Jeremy"},"score":3,"creation_date":1313139174,"post_id":6129739,"comment_id":8409589,"body_markdown":"This does not work. Got some column not found error after adding this.","body":"This does not work. Got some column not found error after adding this."},{"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"score":0,"creation_date":1323137884,"post_id":6129739,"comment_id":10364262,"body_markdown":"This does work. You have to do it on a view. Also, of course, change the members to columns of your database. If you used &quot;realColumn&quot;, well of course it won&#39;t work. I&#39;ve used this approach in a real system.","body":"This does work. You have to do it on a view. Also, of course, change the members to columns of your database. If you used &quot;realColumn&quot;, well of course it won&#39;t work. I&#39;ve used this approach in a real system."},{"owner":{"account_id":2981918,"reputation":981,"user_id":2531709,"display_name":"StefanTo"},"score":3,"creation_date":1479457577,"post_id":6129739,"comment_id":68574925,"body_markdown":"Getting an org.hibernate.HibernateException: Missing column: id in View_Blabla when I try to use this in on a View","body":"Getting an org.hibernate.HibernateException: Missing column: id in View_Blabla when I try to use this in on a View"}],"tags":[],"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"comment_count":3,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1306351585,"creation_date":1306351585,"answer_id":6129739,"question_id":767277,"body_markdown":"You don&#39;t need to create a separate class to be your @Id or Primary Key. Just use an Integer (or whatever). Also, don&#39;t publish the fake key as developers who use it might think it&#39;s real and otherwise try to use it. Lastly, this is best used in a VIEW. I agree with earlier posts that in most, if not all cases, tables should have a primary key. For example:\r\n\r\n    @Entity\r\n    @Table(name = &quot;FOO&quot;)\r\n    class Foo {\r\n    \r\n      @SuppressWarnings(&quot;unused&quot;)\r\n      @Id\r\n      private Integer id;\r\n   \r\n      @Column(name = &quot;REAL_COLUMN&quot;)\r\n      private String realColumn;\r\n\r\n      public String getRealColumn() {\r\n        return realColumn;    \r\n      }\r\n\r\n      public void setRealColumn(String realColumn) {\r\n        this.realColumn= realColumn;    \r\n      }\r\n    \r\n    \r\n    }","title":"Hibernate and no PK","body":"<p>You don't need to create a separate class to be your @Id or Primary Key. Just use an Integer (or whatever). Also, don't publish the fake key as developers who use it might think it's real and otherwise try to use it. Lastly, this is best used in a VIEW. I agree with earlier posts that in most, if not all cases, tables should have a primary key. For example:</p>\n\n<pre><code>@Entity\n@Table(name = \"FOO\")\nclass Foo {\n\n  @SuppressWarnings(\"unused\")\n  @Id\n  private Integer id;\n\n  @Column(name = \"REAL_COLUMN\")\n  private String realColumn;\n\n  public String getRealColumn() {\n    return realColumn;    \n  }\n\n  public void setRealColumn(String realColumn) {\n    this.realColumn= realColumn;    \n  }\n\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":110605,"reputation":25191,"user_id":292614,"accept_rate":91,"display_name":"John Strickler"},"score":2,"creation_date":1336157108,"post_id":7593869,"comment_id":13499515,"body_markdown":"This is THE best answer.  It uses itself as the ID class w/o having to do two separate classes.  I moved the Id annotations to my getters since they had the needed Column mappings.  It&#39;s working perfect and it doesnt break caching. +1","body":"This is THE best answer.  It uses itself as the ID class w/o having to do two separate classes.  I moved the Id annotations to my getters since they had the needed Column mappings.  It&#39;s working perfect and it doesnt break caching. +1"},{"owner":{"account_id":241879,"reputation":10776,"user_id":512993,"accept_rate":90,"display_name":"Ho&#224;ng Long"},"score":1,"creation_date":1349168004,"post_id":7593869,"comment_id":17124824,"body_markdown":"@JohnStrickler: is there any drawback of this approach? It looks more like a hack","body":"@JohnStrickler: is there any drawback of this approach? It looks more like a hack"},{"owner":{"account_id":110605,"reputation":25191,"user_id":292614,"accept_rate":91,"display_name":"John Strickler"},"score":1,"creation_date":1349188888,"post_id":7593869,"comment_id":17133258,"body_markdown":"So far I&#39;ve found none.  You only need to annotate the properties that are unique (which could be all of them if none are unique).  I wouldn&#39;t classify it as a hack - it&#39;s using JPA annotations the way they were meant to be used.","body":"So far I&#39;ve found none.  You only need to annotate the properties that are unique (which could be all of them if none are unique).  I wouldn&#39;t classify it as a hack - it&#39;s using JPA annotations the way they were meant to be used."},{"owner":{"account_id":341912,"reputation":1589,"user_id":672780,"accept_rate":100,"display_name":"LoganMzz"},"score":3,"creation_date":1401717750,"post_id":7593869,"comment_id":36980017,"body_markdown":"@Ho&#224;ngLong: as [@Casey](http://stackoverflow.com/questions/767277/hibernate-and-no-pk#comment4613715_1776125) said, your columns can&#39;t be NULL.","body":"@Ho&#224;ngLong: as <a href=\"http://stackoverflow.com/questions/767277/hibernate-and-no-pk#comment4613715_1776125\">@Casey</a> said, your columns can&#39;t be NULL."},{"owner":{"account_id":468196,"reputation":1176,"user_id":874041,"accept_rate":83,"display_name":"GreenTurtle"},"score":3,"creation_date":1488210986,"post_id":7593869,"comment_id":72119733,"body_markdown":"At least Hibernate-3.5.2 won&#39;t completely work with that really nice approach. Everything seemed to work fine for me until I tried to retrieve entities with null columns. Even if I did not mark them as `@Id` Hibernate used ALL columns as a primary key and can&#39;t handle null values in primary keys. This leaded to null objects in retrieved results.\nCopying all `@Id` fields into a static inner class, generating getters/setters again there as well as equals() and hashCode() methods and using this inner class as `@IdClass` did the job for me.","body":"At least Hibernate-3.5.2 won&#39;t completely work with that really nice approach. Everything seemed to work fine for me until I tried to retrieve entities with null columns. Even if I did not mark them as <code>@Id</code> Hibernate used ALL columns as a primary key and can&#39;t handle null values in primary keys. This leaded to null objects in retrieved results. Copying all <code>@Id</code> fields into a static inner class, generating getters/setters again there as well as equals() and hashCode() methods and using this inner class as <code>@IdClass</code> did the job for me."},{"owner":{"account_id":9365523,"reputation":330,"user_id":6950568,"accept_rate":83,"display_name":"ScottSummers"},"score":0,"creation_date":1541760985,"post_id":7593869,"comment_id":93335605,"body_markdown":"Works like a dream. If you are using JpaRepository/ CrudRepository with it, you could do something like this;\npublic interface FooRepository extends JpaRepository&lt;Foo, Serializable&gt;\nFoo findByBar(String bar);","body":"Works like a dream. If you are using JpaRepository/ CrudRepository with it, you could do something like this; public interface FooRepository extends JpaRepository&lt;Foo, Serializable&gt; Foo findByBar(String bar);"},{"owner":{"account_id":243182,"reputation":341,"user_id":515186,"accept_rate":64,"display_name":"Gunnlaugur"},"score":0,"creation_date":1547717568,"post_id":7593869,"comment_id":95290463,"body_markdown":"Worked for me :)","body":"Worked for me :)"}],"tags":[],"owner":{"account_id":942818,"reputation":491,"user_id":970598,"display_name":"Amit"},"comment_count":7,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1317284760,"creation_date":1317281276,"answer_id":7593869,"question_id":767277,"body_markdown":"Use following code; Hibernate doesn&#39;t have its own logic to distinguish duplicate records \r\n\r\nLet me know if there are any issues with this approach\r\n\r\n    @Entity @IdClass(Foo.class)\r\n    class Foo implements Serializable {\r\n      @Id private String bar;\r\n      @Id private String bat;\r\n    \r\n      public String getBar() {\r\n       return bar;    \r\n      }\r\n    \r\n      public void setBar(String bar) {\r\n       this.bar = bar;\r\n      }\r\n    \r\n      \r\n      public String getBat() {\r\n       return bat;    \r\n      }\r\n    \r\n      public void setBat(String bat) {\r\n       this.bat = bat;    \r\n      }\r\n    }\r\n\r\n","title":"Hibernate and no PK","body":"<p>Use following code; Hibernate doesn't have its own logic to distinguish duplicate records </p>\n\n<p>Let me know if there are any issues with this approach</p>\n\n<pre><code>@Entity @IdClass(Foo.class)\nclass Foo implements Serializable {\n  @Id private String bar;\n  @Id private String bat;\n\n  public String getBar() {\n   return bar;    \n  }\n\n  public void setBar(String bar) {\n   this.bar = bar;\n  }\n\n\n  public String getBat() {\n   return bat;    \n  }\n\n  public void setBat(String bat) {\n   this.bat = bat;    \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4777158,"reputation":11,"user_id":3859949,"display_name":"Kuldeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405942127,"creation_date":1405940919,"answer_id":24863627,"question_id":767277,"body_markdown":"To Create the Pojo from table - use the reverse Engineering method existing in eclipse. \r\nFor the non- primary key table, eclipse will generate the two Pojo classes.\r\n    \r\n    eclipse generated class and hbm.xml - \r\n    ---\r\n    Foo.java \r\n    //\r\n    \r\n    public class Foo implements java.io.Serializable {\r\n    \r\n    \tprivate FooId id;\r\n    \r\n    \tpublic Foo() {\r\n    \t}\r\n    \r\n    \tpublic Foo(FooId id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic FooId getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(FooId id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    }\r\n    ---\r\n    FooId.java\r\n    //\r\n    \r\n    public class FooId implements java.io.Serializable {\r\n    \r\n    \tprivate String bar;\r\n    \tprivate String bat;\r\n    \r\n    \tpublic FooId() {\r\n    \t}\r\n    \t\r\n    \tpublic FooId(String bar, String bat) {\r\n    \t\tthis.bar = bar;\r\n    \t\tthis.bat = bat;\r\n    \t}\r\n    \r\n    \tpublic String getBar() {\r\n    \t\treturn this.bar;\r\n    \t}\r\n    \r\n    \tpublic void setBar(String bar) {\r\n    \t\tthis.bar = bar;\r\n    \t}\r\n    \r\n    \tpublic String getBat() {\r\n    \t\treturn this.bat;\r\n    \t}\r\n    \r\n    \tpublic void setBat(String bat) {\r\n    \t\tthis.bat = bat;\r\n    \t}\r\n    \r\n    \tpublic boolean equals(Object other) {\r\n    \t\tif ((this == other))\r\n    \t\t\treturn true;\r\n    \t\tif ((other == null))\r\n    \t\t\treturn false;\r\n    \t\tif (!(other instanceof FooId))\r\n    \t\t\treturn false;\r\n    \t\tFooId castOther = (FooId) other;\r\n    \r\n    \t\treturn ((this.getBar() == castOther.getBar()) || (this.getBar() != null\r\n    \t\t\t\t&amp;&amp; castOther.getBar() != null &amp;&amp; this.getBar().equals(\r\n    \t\t\t\tcastOther.getBar())))\r\n    \t\t\t\t&amp;&amp; ((this.getBat() == castOther.getBat()) || (this.getBat() != null\r\n    \t\t\t\t\t\t&amp;&amp; castOther.getBat() != null &amp;&amp; this.getBat().equals(\r\n    \t\t\t\t\t\tcastOther.getBat())));\r\n    \t}\r\n    \r\n    \tpublic int hashCode() {\r\n    \t\tint result = 17;\r\n    \r\n    \t\tresult = 37 * result\r\n    \t\t\t\t+ (getBar() == null ? 0 : this.getBar().hashCode());\r\n    \t\tresult = 37 * result\r\n    \t\t\t\t+ (getBat() == null ? 0 : this.getBat().hashCode());\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    }\r\n    ---\r\n    Foo.hbm.xml\r\n    \r\n    &lt;hibernate-mapping&gt;\r\n        &lt;class name=&quot;com.Foo&quot; table=&quot;foo&quot; schema=&quot;public&quot; catalog=&quot;hibernate_poc&quot;&gt;\r\n            &lt;composite-id name=&quot;id&quot; class=&quot;com.FooId&quot;&gt;\r\n                &lt;key-property name=&quot;bar&quot; type=&quot;string&quot;&gt;\r\n                    &lt;column name=&quot;bar&quot; length=&quot;20&quot; /&gt;\r\n                &lt;/key-property&gt;\r\n                &lt;key-property name=&quot;bat&quot; type=&quot;string&quot;&gt;\r\n                    &lt;column name=&quot;bat&quot; length=&quot;20&quot; /&gt;\r\n                &lt;/key-property&gt;\r\n            &lt;/composite-id&gt;\r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n    \r\n    ---\r\n    entry in the Hibernate.cfg.xml - \r\n    \r\n    &lt;mapping class=&quot;com.poc.Foo&quot; resource=&quot;Foo.hbm.xml&quot;/&gt;\r\n    \r\n    ---\r\n    Fetch the Data from table -\r\n    FooDataFetch.java\r\n    //\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.hibernate.Query;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.Configuration;\r\n    \r\n    public class FooDataFetch {\r\n    \t\tprivate static Session session = null;\r\n    \t\r\n       public static void main(String[] args) {\r\n    \t      try{\t    \t  \r\n             \tConfiguration cfg = new Configuration();\r\n    \t  \t\tcfg.configure(&quot;/hibernate.cfg.xml&quot;);\r\n    \t  \t\tSessionFactory sf = cfg.buildSessionFactory();\r\n    \t  \t\tsession = sf.openSession();\r\n    \r\n    \t  \t\tsession.beginTransaction();\r\n    \t          queryPerson(session);\r\n    \t        session.close(); \r\n    \t  \t\t\r\n    \t      }catch (Throwable ex) { \r\n    \t         System.err.println(&quot;Failed to create sessionFactory object.&quot; + ex);\r\n    \t        ex.printStackTrace();\r\n    \t         throw new ExceptionInInitializerError(ex); \r\n    \t      }\t      \r\n    \t   }\t\r\n    \t   \r\n    \t   private static void queryPerson(Session session) {\r\n    \t        Query query = session.createQuery(&quot;from Foo&quot;);                 \r\n    \t        List &lt;Foo&gt;list = query.list();\r\n    \t        java.util.Iterator&lt;Foo&gt; iter = list.iterator();\r\n    \t        while (iter.hasNext()) {\r\n    \t        \tFoo foo = iter.next();\r\n    \t            System.out.println(&quot;Foo Details: \\&quot;&quot; + foo.getId().getBar() +&quot;\\&quot;, &quot; + foo.getId().getBat());\r\n    \t        }\r\n    \t    }\t   \r\n    }\r\n\r\n","title":"Hibernate and no PK","body":"<p>To Create the Pojo from table - use the reverse Engineering method existing in eclipse. \nFor the non- primary key table, eclipse will generate the two Pojo classes.</p>\n\n<pre><code>eclipse generated class and hbm.xml - \n---\nFoo.java \n//\n\npublic class Foo implements java.io.Serializable {\n\n    private FooId id;\n\n    public Foo() {\n    }\n\n    public Foo(FooId id) {\n        this.id = id;\n    }\n\n    public FooId getId() {\n        return this.id;\n    }\n\n    public void setId(FooId id) {\n        this.id = id;\n    }\n\n}\n---\nFooId.java\n//\n\npublic class FooId implements java.io.Serializable {\n\n    private String bar;\n    private String bat;\n\n    public FooId() {\n    }\n\n    public FooId(String bar, String bat) {\n        this.bar = bar;\n        this.bat = bat;\n    }\n\n    public String getBar() {\n        return this.bar;\n    }\n\n    public void setBar(String bar) {\n        this.bar = bar;\n    }\n\n    public String getBat() {\n        return this.bat;\n    }\n\n    public void setBat(String bat) {\n        this.bat = bat;\n    }\n\n    public boolean equals(Object other) {\n        if ((this == other))\n            return true;\n        if ((other == null))\n            return false;\n        if (!(other instanceof FooId))\n            return false;\n        FooId castOther = (FooId) other;\n\n        return ((this.getBar() == castOther.getBar()) || (this.getBar() != null\n                &amp;&amp; castOther.getBar() != null &amp;&amp; this.getBar().equals(\n                castOther.getBar())))\n                &amp;&amp; ((this.getBat() == castOther.getBat()) || (this.getBat() != null\n                        &amp;&amp; castOther.getBat() != null &amp;&amp; this.getBat().equals(\n                        castOther.getBat())));\n    }\n\n    public int hashCode() {\n        int result = 17;\n\n        result = 37 * result\n                + (getBar() == null ? 0 : this.getBar().hashCode());\n        result = 37 * result\n                + (getBat() == null ? 0 : this.getBat().hashCode());\n        return result;\n    }\n\n}\n---\nFoo.hbm.xml\n\n&lt;hibernate-mapping&gt;\n    &lt;class name=\"com.Foo\" table=\"foo\" schema=\"public\" catalog=\"hibernate_poc\"&gt;\n        &lt;composite-id name=\"id\" class=\"com.FooId\"&gt;\n            &lt;key-property name=\"bar\" type=\"string\"&gt;\n                &lt;column name=\"bar\" length=\"20\" /&gt;\n            &lt;/key-property&gt;\n            &lt;key-property name=\"bat\" type=\"string\"&gt;\n                &lt;column name=\"bat\" length=\"20\" /&gt;\n            &lt;/key-property&gt;\n        &lt;/composite-id&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n\n---\nentry in the Hibernate.cfg.xml - \n\n&lt;mapping class=\"com.poc.Foo\" resource=\"Foo.hbm.xml\"/&gt;\n\n---\nFetch the Data from table -\nFooDataFetch.java\n//\n\nimport java.util.List;\n\nimport org.hibernate.Query;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.Configuration;\n\npublic class FooDataFetch {\n        private static Session session = null;\n\n   public static void main(String[] args) {\n          try{            \n            Configuration cfg = new Configuration();\n            cfg.configure(\"/hibernate.cfg.xml\");\n            SessionFactory sf = cfg.buildSessionFactory();\n            session = sf.openSession();\n\n            session.beginTransaction();\n              queryPerson(session);\n            session.close(); \n\n          }catch (Throwable ex) { \n             System.err.println(\"Failed to create sessionFactory object.\" + ex);\n            ex.printStackTrace();\n             throw new ExceptionInInitializerError(ex); \n          }       \n       }    \n\n       private static void queryPerson(Session session) {\n            Query query = session.createQuery(\"from Foo\");                 \n            List &lt;Foo&gt;list = query.list();\n            java.util.Iterator&lt;Foo&gt; iter = list.iterator();\n            while (iter.hasNext()) {\n                Foo foo = iter.next();\n                System.out.println(\"Foo Details: \\\"\" + foo.getId().getBar() +\"\\\", \" + foo.getId().getBat());\n            }\n        }      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1200644,"reputation":83,"user_id":1171383,"display_name":"punkck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427380183,"creation_date":1427380183,"answer_id":29281087,"question_id":767277,"body_markdown":"Adding to Awied&#39;s comment.\r\nIf then you want to search for a bar, use following HQL.\r\n\r\n    Query fooQuery = getSession().createQuery(&quot;from Foo.id.bar = &#39;&lt;barName&gt;&#39;&quot;);","title":"Hibernate and no PK","body":"<p>Adding to Awied's comment.\nIf then you want to search for a bar, use following HQL.</p>\n\n<pre><code>Query fooQuery = getSession().createQuery(\"from Foo.id.bar = '&lt;barName&gt;'\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6176750,"reputation":847,"user_id":4813378,"accept_rate":60,"display_name":"Oscar Vicente Perez"},"score":0,"creation_date":1466769933,"post_id":37326625,"comment_id":63468359,"body_markdown":"You rocks so hard! That was a perfect solution!","body":"You rocks so hard! That was a perfect solution!"},{"owner":{"account_id":2370935,"reputation":455,"user_id":2075576,"accept_rate":100,"display_name":"RudiDudi"},"score":0,"creation_date":1471528406,"post_id":37326625,"comment_id":65390461,"body_markdown":"in the hbm.xml file at the start like the definition of a primary key instead","body":"in the hbm.xml file at the start like the definition of a primary key instead"},{"owner":{"account_id":37187,"reputation":46693,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"score":0,"creation_date":1478825324,"post_id":37326625,"comment_id":68318352,"body_markdown":"this is not a good idea when you using any form of hibernate cache","body":"this is not a good idea when you using any form of hibernate cache"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1526644212,"post_id":37326625,"comment_id":87836666,"body_markdown":"rowid is save with cache, it&#39;s rownum that will put you into trouble","body":"rowid is save with cache, it&#39;s rownum that will put you into trouble"}],"tags":[],"owner":{"account_id":2370935,"reputation":455,"user_id":2075576,"accept_rate":100,"display_name":"RudiDudi"},"comment_count":4,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1463668909,"creation_date":1463668909,"answer_id":37326625,"question_id":767277,"body_markdown":"i found that this trick works:\r\n\r\n    &lt;id column=&quot;ROWID&quot; type=&quot;string&quot; /&gt;","title":"Hibernate and no PK","body":"<p>i found that this trick works:</p>\n\n<pre><code>&lt;id column=\"ROWID\" type=\"string\" /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1526454147,"post_id":39384227,"comment_id":87744822,"body_markdown":"Be aware that this trick behaves very badly with cache (same rownum may references different &quot;entities&quot; when query is executed several times with different parameters) .. so make sure your `@Entity` POJO never goes in the cache...","body":"Be aware that this trick behaves very badly with cache (same rownum may references different &quot;entities&quot; when query is executed several times with different parameters) .. so make sure your <code>@Entity</code> POJO never goes in the cache..."}],"tags":[],"owner":{"account_id":7480597,"reputation":304,"user_id":5685534,"display_name":"Kanaris007"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473317067,"creation_date":1473317067,"answer_id":39384227,"question_id":767277,"body_markdown":"I have found solution for tables without primary key and null as values. It will work on oracle DB. Maybe something similar exists for other DBs.\r\n\r\n1. You should create new primary key in the POJO class:\r\n\r\n    @Id\r\n    @Column(name=&quot;id&quot;)\r\n    private Integer id;\r\n\r\nand use createNativeQuery like this\r\n\r\n    getEntityManager().createNativeQuery(&quot;select rownum as id, .....\r\n\r\n\r\nThe native query will generate primary key and you will get unique results.\r\n","title":"Hibernate and no PK","body":"<p>I have found solution for tables without primary key and null as values. It will work on oracle DB. Maybe something similar exists for other DBs.</p>\n\n<ol>\n<li><p>You should create new primary key in the POJO class:</p>\n\n<p>@Id\n@Column(name=\"id\")\nprivate Integer id;</p></li>\n</ol>\n\n<p>and use createNativeQuery like this</p>\n\n<pre><code>getEntityManager().createNativeQuery(\"select rownum as id, .....\n</code></pre>\n\n<p>The native query will generate primary key and you will get unique results.</p>\n"},{"tags":[],"owner":{"account_id":1845327,"reputation":3625,"user_id":1673775,"display_name":"luke"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697529393,"creation_date":1495117063,"answer_id":44050327,"question_id":767277,"body_markdown":"When it comes to views, instead of searching for workarounds in Hibernate, it might be easier to add dummy id in your database view. I wrote about it in another question: https://stackoverflow.com/a/44050230/1673775","title":"Hibernate and no PK","body":"<p>When it comes to views, instead of searching for workarounds in Hibernate, it might be easier to add dummy id in your database view. I wrote about it in another question: <a href=\"https://stackoverflow.com/a/44050230/1673775\">https://stackoverflow.com/a/44050230/1673775</a></p>\n"},{"comments":[{"owner":{"account_id":1499058,"reputation":1597,"user_id":1404306,"accept_rate":64,"display_name":"Sloloem"},"score":0,"creation_date":1580918713,"post_id":54881922,"comment_id":106257816,"body_markdown":"How do you prevent Hibernate from trying to select FOO.ROWID, which is invalid, and use just &quot;ROWID&quot; or &quot;ROWNUM&quot; without trying to prefix?","body":"How do you prevent Hibernate from trying to select FOO.ROWID, which is invalid, and use just &quot;ROWID&quot; or &quot;ROWNUM&quot; without trying to prefix?"}],"tags":[],"owner":{"account_id":5436219,"reputation":359,"user_id":4325630,"accept_rate":0,"display_name":"Nazmul Hoque Shafin"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1697529343,"creation_date":1551172369,"answer_id":54881922,"question_id":767277,"body_markdown":"Though ROWID is a pseudo-column,yet as ROWID corresponds to the physical address of a ROW, it is the quickest mean to retrieve any row data. As @Id is used to identify the object uniquely and ROWID is unique inside a table, we can exploit it to overcome the issue we are discussing about. Actually, if we don&#39;t need any meaningful unique identifier, ROWID is the best column to annotate with @Id annotation as it corresponds to the physical address of the row. The following code worked for me.\r\n\r\n```java\r\n@Id\r\n@Column(name = &quot;ROWID&quot;)\r\nprivate String Id;\r\n```","title":"Hibernate and no PK","body":"<p>Though ROWID is a pseudo-column,yet as ROWID corresponds to the physical address of a ROW, it is the quickest mean to retrieve any row data. As @Id is used to identify the object uniquely and ROWID is unique inside a table, we can exploit it to overcome the issue we are discussing about. Actually, if we don't need any meaningful unique identifier, ROWID is the best column to annotate with @Id annotation as it corresponds to the physical address of the row. The following code worked for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@Column(name = &quot;ROWID&quot;)\nprivate String Id;\n</code></pre>\n"}],"owner":{"account_id":49953,"reputation":20780,"user_id":148909,"accept_rate":89,"display_name":"Schildmeijer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71729,"favorite_count":0,"down_vote_count":1,"up_vote_count":59,"accepted_answer_id":802370,"answer_count":10,"score":58,"last_activity_date":1697529393,"creation_date":1240213472,"question_id":767277,"body_markdown":"Is it possible to create a table (from a JPA annotated Hibernate `@Entity`) that does not contain a primary key / Id?\r\n\r\nI know this is not a good idea; a table should have a primary key.","title":"Hibernate and no PK","body":"<p>Is it possible to create a table (from a JPA annotated Hibernate <code>@Entity</code>) that does not contain a primary key / Id?</p>\n\n<p>I know this is not a good idea; a table should have a primary key.</p>\n"},{"tags":["java","excel","spring-boot","apache-poi"],"owner":{"account_id":7582242,"reputation":1,"user_id":5752593,"display_name":"Akalank Narasagoudar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697529350,"creation_date":1697529350,"question_id":77307094,"body_markdown":"Need a help in Apache POI code.\r\n\r\nI have excel with 4 columns as ID,FirstName,LastName,IsCapable, On column FirstName any value update happens then IsCapable column value should be updated as TRUE.\r\n\r\nAttached the sheet screen shot\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/7giKO.png)\r\n\r\nExpectation is from the sheet column B row 3 if i change any value from &quot;Shivu&quot; to &quot;Shivuuu&quot; then IsCapable column value should be automatically update as TRUE using Apache POI.","title":"Apache POI function to update column based on other column action","body":"<p>Need a help in Apache POI code.</p>\n<p>I have excel with 4 columns as ID,FirstName,LastName,IsCapable, On column FirstName any value update happens then IsCapable column value should be updated as TRUE.</p>\n<p>Attached the sheet screen shot</p>\n<p><a href=\"https://i.stack.imgur.com/7giKO.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Expectation is from the sheet column B row 3 if i change any value from &quot;Shivu&quot; to &quot;Shivuuu&quot; then IsCapable column value should be automatically update as TRUE using Apache POI.</p>\n"},{"tags":["java","algorithm","math"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1334312276,"post_id":10139001,"comment_id":12998553,"body_markdown":"This also fails if there are repeated factors e.g. 2*2*2 will return 2 (1 for 2 and one for 4)","body":"This also fails if there are repeated factors e.g. 2*2*2 will return 2 (1 for 2 and one for 4)"},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":1,"creation_date":1334312349,"post_id":10139001,"comment_id":12998574,"body_markdown":"@PeterLawrey Not true - he is iterating all the factors, never does division.","body":"@PeterLawrey Not true - he is iterating all the factors, never does division."},{"owner":{"account_id":78518,"reputation":40077,"user_id":223424,"accept_rate":74,"display_name":"9000"},"score":4,"creation_date":1334312543,"post_id":10139001,"comment_id":12998657,"body_markdown":"Factorization can be so slow that it is used in certain cryptographic algorithms.","body":"Factorization can be so slow that it is used in certain cryptographic algorithms."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1334316844,"post_id":10139001,"comment_id":13000106,"body_markdown":"It&#39;s called [Euler&#39;s totient function](http://en.wikipedia.org/wiki/Euler&#39;s_totient_function), 9000 is right  it is not easy problem.","body":"It&#39;s called <a href=\"http://en.wikipedia.org/wiki/Euler&#39;s_totient_function\" rel=\"nofollow noreferrer\">Euler&#39;s totient function</a>, 9000 is right  it is not easy problem."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1334318776,"post_id":10139001,"comment_id":13000834,"body_markdown":"@BorisStrandjev He iterates all the factors only once, but will include multiples of that factor. BTW: Your solution handles both of these correctly. ;)","body":"@BorisStrandjev He iterates all the factors only once, but will include multiples of that factor. BTW: Your solution handles both of these correctly. ;)"},{"owner":{"account_id":21569,"reputation":7769,"user_id":52534,"accept_rate":70,"display_name":"patros"},"score":1,"creation_date":1334321588,"post_id":10139001,"comment_id":13001981,"body_markdown":"@PeterLawrey The question never said it should only return the number of prime factors. I&#39;d assume from the way the question is worded that the number of factors for 8 should return 4 (1, 2, 4, 8)","body":"@PeterLawrey The question never said it should only return the number of prime factors. I&#39;d assume from the way the question is worded that the number of factors for 8 should return 4 (1, 2, 4, 8)"},{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":0,"creation_date":1463060209,"post_id":10139001,"comment_id":61909757,"body_markdown":"Adding &quot;prime&quot; to the question completely changes the question and invalidates the existing answers, so I&#39;m going to rollback your edit.  If you want to find the number of prime factors, you can modify one of the existing answers.  If that doesn&#39;t work, you can ask a new question.","body":"Adding &quot;prime&quot; to the question completely changes the question and invalidates the existing answers, so I&#39;m going to rollback your edit.  If you want to find the number of prime factors, you can modify one of the existing answers.  If that doesn&#39;t work, you can ask a new question."}],"answers":[{"comments":[{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1334316596,"post_id":10139721,"comment_id":13000005,"body_markdown":"reasonably fast? How long that code runs for `100000007^2` on your computer?","body":"reasonably fast? How long that code runs for <code>100000007^2</code> on your computer?"},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":2,"creation_date":1334317827,"post_id":10139721,"comment_id":13000460,"body_markdown":"@Betlista with the current solution 57 seconds, when I iterated over only the odd numbers - 28 seconds. When I added a binary search for the square root (so that I avoid multiplications) I reduced it to 22. Probably you are right that in extreme cases it is not that reasonably fast as I claim it to be, but I can&#39;t think of better solutions.","body":"@Betlista with the current solution 57 seconds, when I iterated over only the odd numbers - 28 seconds. When I added a binary search for the square root (so that I avoid multiplications) I reduced it to 22. Probably you are right that in extreme cases it is not that reasonably fast as I claim it to be, but I can&#39;t think of better solutions."},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":1,"creation_date":1334318303,"post_id":10139721,"comment_id":13000622,"body_markdown":"@Betlista btw replacing all big integers with long reduced the time to 3 seconds. regretfully the `BigInteger` are quite of restriction here.","body":"@Betlista btw replacing all big integers with long reduced the time to 3 seconds. regretfully the <code>BigInteger</code> are quite of restriction here."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1334318860,"post_id":10139721,"comment_id":13000865,"body_markdown":"To speed this up slightly, add ONE the first time and add TWO after that. i.e 2,3,5,7,.... This halves the run time.","body":"To speed this up slightly, add ONE the first time and add TWO after that. i.e 2,3,5,7,.... This halves the run time."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1334319055,"post_id":10139721,"comment_id":13000953,"body_markdown":"A &quot;total&quot; is usually a sum, not a product. Why are you multiplying the number of factors?","body":"A &quot;total&quot; is usually a sum, not a product. Why are you multiplying the number of factors?"},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":0,"creation_date":1334319232,"post_id":10139721,"comment_id":13001016,"body_markdown":"@PeterLawrey You should have read a bit more closely - I have mentioned the possible improvement if I iterate over only the odd numbers.","body":"@PeterLawrey You should have read a bit more closely - I have mentioned the possible improvement if I iterate over only the odd numbers."},{"owner":{"account_id":21569,"reputation":7769,"user_id":52534,"accept_rate":70,"display_name":"patros"},"score":1,"creation_date":1334321881,"post_id":10139721,"comment_id":13002097,"body_markdown":"It looks like this would return 4 for 9... aren&#39;t you counting the square root twice as a factor?","body":"It looks like this would return 4 for 9... aren&#39;t you counting the square root twice as a factor?"},{"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"score":0,"creation_date":1334341929,"post_id":10139721,"comment_id":13010446,"body_markdown":"@patros I don&#39;t get your point. I tried with 9. I get 3 as expected.I don&#39;t think I count it twice. I just count the factor as of power two, which adds multiple of 3 to the number of total factors. Please look at the explanation and code once more. If there is still something unclear I can try to clarify it.","body":"@patros I don&#39;t get your point. I tried with 9. I get 3 as expected.I don&#39;t think I count it twice. I just count the factor as of power two, which adds multiple of 3 to the number of total factors. Please look at the explanation and code once more. If there is still something unclear I can try to clarify it."},{"owner":{"account_id":21569,"reputation":7769,"user_id":52534,"accept_rate":70,"display_name":"patros"},"score":0,"creation_date":1334343940,"post_id":10139721,"comment_id":13011276,"body_markdown":"@BorisStrandjev You&#39;re right. Glossed over it too quickly, and assumed you were counting all factors &lt;= sqrt(n) and multiplying by 2. It&#39;s more clever than that.","body":"@BorisStrandjev You&#39;re right. Glossed over it too quickly, and assumed you were counting all factors &lt;= sqrt(n) and multiplying by 2. It&#39;s more clever than that."},{"owner":{"account_id":2927647,"reputation":2746,"user_id":2508646,"accept_rate":100,"display_name":"Dan Temple"},"score":0,"creation_date":1388140069,"post_id":10139721,"comment_id":31181286,"body_markdown":"+1 for `while (x.multiply(x).compareTo(number) &lt;= 0) {` Checking that the square of the factor is less than the number we&#39;re finding divisors for is a neat way of not having to compute the sqrt of the number. You benefit from the sqrt(n) limit on factors without having to compute the sqrt, genius. Sped my solution up 20%.","body":"+1 for <code>while (x.multiply(x).compareTo(number) &lt;= 0) {</code> Checking that the square of the factor is less than the number we&#39;re finding divisors for is a neat way of not having to compute the sqrt of the number. You benefit from the sqrt(n) limit on factors without having to compute the sqrt, genius. Sped my solution up 20%."}],"tags":[],"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"comment_count":10,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1334586182,"creation_date":1334315434,"answer_id":10139721,"question_id":10139001,"body_markdown":"I can propose faster solution, though I have a feeling that it will not be fast enough yet. Your solution runs in `O(n)` and mine will work in `O(sqrt(n))`.\r\n\r\nI am going to use the fact that if n = x&lt;sub&gt;i1&lt;/sub&gt;&lt;sup&gt;p1&lt;/sup&gt; * x&lt;sub&gt;i2&lt;/sub&gt;&lt;sup&gt;p2&lt;/sup&gt; * x&lt;sub&gt;i3&lt;/sub&gt;&lt;sup&gt;p3&lt;/sup&gt; * ... x&lt;sub&gt;ik&lt;/sub&gt;&lt;sup&gt;pk&lt;/sup&gt; is the prime factorization of `n` (i.e. x&lt;sub&gt;i&lt;sub&gt;j&lt;/sub&gt;&lt;/sub&gt; are all distinct primes) then n has (p1 + 1) * (p2 + 1) * ... * (pk + 1) factors in total.\r\n\r\nNow here goes the solution:\r\n\r\n    BigInteger x = new BigInteger(&quot;2&quot;);\r\n    long totalFactors = 1;\r\n    while (x.multiply(x).compareTo(number) &lt;= 0) {\r\n        int power = 0;\r\n        while (number.mod(x).equals(BigInteger.ZERO)) {\r\n            power++;\r\n            number = number.divide(x);\r\n        }\r\n        totalFactors *= (power + 1);\r\n        x = x.add(BigInteger.ONE);\r\n    }\r\n    if (!number.equals(BigInteger.ONE)) {\r\n        totalFactors *= 2;\r\n    }\r\n    System.out.println(&quot;The total number of factors is: &quot; + totalFactors);\r\n\r\nThis can be further optimized if you consider the case of 2 separately and then have the step for `x` equal to 2 not 1 (iterating only the odd numbers).\r\n\r\nAlso note that in my code I modify `number`, you might find it more suitable to keep `number` and have another variable equal to `number` to iterate over.\r\n\r\nI suppose that this code will run reasonably fast for numbers not greater than 2&lt;sup&gt;64&lt;/sup&gt;.\r\n\r\n**EDIT** I will add the measures of reasonably fast to the answer for completeness. As it can be seen in the comments below I made several measurements on the performance of the proposed algorithm for the test case 100000007&lt;sup&gt;2&lt;/sup&gt;, which was proposed by Betlista:\r\n\r\n - If the algorithm is used as is the time taken is 57 seconds on my machine.\r\n - If I consider only the odd numbers the time is reduced to 28 seconds\r\n - If I change the check for the end condition of the `while` to comparing with the square root of `number` which I find using binary search the time taken reduces to 22 second.\r\n - Finally when I tried switching all the `BigInteger`s with `long` the time was reduced to 2 seconds. As the proposed algorithm will not run fast enough for `number` larger than the range of `long` it might make sense to switch the implementation to `long`","title":"What is the fastest way in Java to get the amount of factors a number has","body":"<p>I can propose faster solution, though I have a feeling that it will not be fast enough yet. Your solution runs in <code>O(n)</code> and mine will work in <code>O(sqrt(n))</code>.</p>\n\n<p>I am going to use the fact that if n = x<sub>i1</sub><sup>p1</sup> * x<sub>i2</sub><sup>p2</sup> * x<sub>i3</sub><sup>p3</sup> * ... x<sub>ik</sub><sup>pk</sup> is the prime factorization of <code>n</code> (i.e. x<sub>i<sub>j</sub></sub> are all distinct primes) then n has (p1 + 1) * (p2 + 1) * ... * (pk + 1) factors in total.</p>\n\n<p>Now here goes the solution:</p>\n\n<pre><code>BigInteger x = new BigInteger(\"2\");\nlong totalFactors = 1;\nwhile (x.multiply(x).compareTo(number) &lt;= 0) {\n    int power = 0;\n    while (number.mod(x).equals(BigInteger.ZERO)) {\n        power++;\n        number = number.divide(x);\n    }\n    totalFactors *= (power + 1);\n    x = x.add(BigInteger.ONE);\n}\nif (!number.equals(BigInteger.ONE)) {\n    totalFactors *= 2;\n}\nSystem.out.println(\"The total number of factors is: \" + totalFactors);\n</code></pre>\n\n<p>This can be further optimized if you consider the case of 2 separately and then have the step for <code>x</code> equal to 2 not 1 (iterating only the odd numbers).</p>\n\n<p>Also note that in my code I modify <code>number</code>, you might find it more suitable to keep <code>number</code> and have another variable equal to <code>number</code> to iterate over.</p>\n\n<p>I suppose that this code will run reasonably fast for numbers not greater than 2<sup>64</sup>.</p>\n\n<p><strong>EDIT</strong> I will add the measures of reasonably fast to the answer for completeness. As it can be seen in the comments below I made several measurements on the performance of the proposed algorithm for the test case 100000007<sup>2</sup>, which was proposed by Betlista:</p>\n\n<ul>\n<li>If the algorithm is used as is the time taken is 57 seconds on my machine.</li>\n<li>If I consider only the odd numbers the time is reduced to 28 seconds</li>\n<li>If I change the check for the end condition of the <code>while</code> to comparing with the square root of <code>number</code> which I find using binary search the time taken reduces to 22 second.</li>\n<li>Finally when I tried switching all the <code>BigInteger</code>s with <code>long</code> the time was reduced to 2 seconds. As the proposed algorithm will not run fast enough for <code>number</code> larger than the range of <code>long</code> it might make sense to switch the implementation to <code>long</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1334319387,"post_id":10140377,"comment_id":13001079,"body_markdown":"I think that your code is not working fine at least for n = 9 or n = 49. The idea about period could be &quot;skip numbers ending with one of 0, 2, 4, 5, 6, 8&quot;, so deltas are 4, 2, 2, 2 starting from 3 - checking 4 of 10 numbers...","body":"I think that your code is not working fine at least for n = 9 or n = 49. The idea about period could be &quot;skip numbers ending with one of 0, 2, 4, 5, 6, 8&quot;, so deltas are 4, 2, 2, 2 starting from 3 - checking 4 of 10 numbers..."},{"owner":{"account_id":16660,"reputation":19988,"user_id":36537,"accept_rate":74,"display_name":"Phil H"},"score":0,"creation_date":1334319735,"post_id":10140377,"comment_id":13001210,"body_markdown":"9 is divisible by 3, so the check for 3 should be done outside the loop. 49 is divisible by 7, and 7 is picked as the +4 delta from 3 in the first iteration. 49 will also be hit by the +4 delta on the 8th iteration.","body":"9 is divisible by 3, so the check for 3 should be done outside the loop. 49 is divisible by 7, and 7 is picked as the +4 delta from 3 in the first iteration. 49 will also be hit by the +4 delta on the 8th iteration."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":0,"creation_date":1334320418,"post_id":10140377,"comment_id":13001487,"body_markdown":"deltas[0] is 2, so you are checking 5, 9, 11, 15... (skipping primes 7 and 13) How the 49 can be hit if there is `val &lt; sqrt(n)` condition ? Initialization for count is missing, but I guess it&#39;s 2","body":"deltas[0] is 2, so you are checking 5, 9, 11, 15... (skipping primes 7 and 13) How the 49 can be hit if there is <code>val &lt; sqrt(n)</code> condition ? Initialization for count is missing, but I guess it&#39;s 2"},{"owner":{"account_id":16660,"reputation":19988,"user_id":36537,"accept_rate":74,"display_name":"Phil H"},"score":0,"creation_date":1334321011,"post_id":10140377,"comment_id":13001748,"body_markdown":"@Betlista: Thanks for checking that, I wasn&#39;t adding the right thing at the end of the list. Instead of adding 6, I should add 6-4 (the final delta). That way you get 5,7, 11,13, 17,19","body":"@Betlista: Thanks for checking that, I wasn&#39;t adding the right thing at the end of the list. Instead of adding 6, I should add 6-4 (the final delta). That way you get 5,7, 11,13, 17,19"}],"tags":[],"owner":{"account_id":16660,"reputation":19988,"user_id":36537,"accept_rate":74,"display_name":"Phil H"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334321018,"creation_date":1334318304,"answer_id":10140377,"question_id":10139001,"body_markdown":"Some improvements:\r\n\r\n&lt;ol&gt;\r\n&lt;li&gt;You only need to check up to sqrt(n), not n/2. That makes your algorithm O(sqrt(n)) instead of O(n).&lt;/li&gt;\r\n&lt;li&gt;You only need to check odd numbers after checking 2, which should double the speed.&lt;/li&gt;\r\n&lt;li&gt;Although you can&#39;t use previous numbers, you can construct a sieve with known primes and a little storage: 2, 3 are prime, so only need to check (for example) 11,13,17,19,23 and not 12,14,15,16,18. Thus you can store a pattern of deltas from 3: [+2,+4], repeat every 6:&lt;/li&gt;\r\n&lt;/ol&gt;\r\n\r\n\r\n    var deltas = [2,4];\r\n    var period = 6;\r\n    var val = 3;\r\n    var i=0;\r\n    while(val&lt;sqrt(n)) {\r\n        var idx = i%deltas.length; // i modulo num deltas\r\n        val += deltas[idx];\r\n        count += isFactor(n,val);\r\n        // if reached end of deltas, add period\r\n        if(idx == deltas.length-1) {\r\n            val += period - deltas[idx];\r\n        }\r\n        ++i;\r\n    }\r\n\r\nOnce you have this result, you obviously have to add 2 and/or 3 if they are factors.\r\n\r\nI worked the above pattern out when I was bored at school. You can work out the pattern for any list of primes, but there is a law of diminishing returns; each prime you add increases the period, and hugely increases the length of the list of deltas. So for a long list of known primes, you get an extremely long list of deltas and only a minor improvement in speed. However, do test whether a speed up is worth it.\r\n\r\nSince it merely knocks out a known fraction of the values (2/3rds using the 2-value delta shown), this is stil O(sqrt(n)).\r\n\r\nCombining the sieve with the sqrt bound, you should get a speedup of 4/(3*sqrt(n)). \r\n\r\n[Edit: was adding the period to the last value, not period-lastdelta. Thanks @Betlista]","title":"What is the fastest way in Java to get the amount of factors a number has","body":"<p>Some improvements:</p>\n\n<ol>\n<li>You only need to check up to sqrt(n), not n/2. That makes your algorithm O(sqrt(n)) instead of O(n).</li>\n<li>You only need to check odd numbers after checking 2, which should double the speed.</li>\n<li>Although you can't use previous numbers, you can construct a sieve with known primes and a little storage: 2, 3 are prime, so only need to check (for example) 11,13,17,19,23 and not 12,14,15,16,18. Thus you can store a pattern of deltas from 3: [+2,+4], repeat every 6:</li>\n</ol>\n\n<pre><code>var deltas = [2,4];\nvar period = 6;\nvar val = 3;\nvar i=0;\nwhile(val&lt;sqrt(n)) {\n    var idx = i%deltas.length; // i modulo num deltas\n    val += deltas[idx];\n    count += isFactor(n,val);\n    // if reached end of deltas, add period\n    if(idx == deltas.length-1) {\n        val += period - deltas[idx];\n    }\n    ++i;\n}\n</code></pre>\n\n<p>Once you have this result, you obviously have to add 2 and/or 3 if they are factors.</p>\n\n<p>I worked the above pattern out when I was bored at school. You can work out the pattern for any list of primes, but there is a law of diminishing returns; each prime you add increases the period, and hugely increases the length of the list of deltas. So for a long list of known primes, you get an extremely long list of deltas and only a minor improvement in speed. However, do test whether a speed up is worth it.</p>\n\n<p>Since it merely knocks out a known fraction of the values (2/3rds using the 2-value delta shown), this is stil O(sqrt(n)).</p>\n\n<p>Combining the sieve with the sqrt bound, you should get a speedup of 4/(3*sqrt(n)). </p>\n\n<p>[Edit: was adding the period to the last value, not period-lastdelta. Thanks @Betlista]</p>\n"},{"tags":[],"owner":{"account_id":5501461,"reputation":1,"user_id":4370677,"display_name":"Prabhat kumar Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465140226,"creation_date":1465131935,"answer_id":37642246,"question_id":10139001,"body_markdown":"The fastest solution proposed by Boris Strandjev has some problem by generating output of large numbers in Java.\r\nIt is the fastest algorithm for finding number of divisors for very big integer in Java.\r\n\r\nHere is my code which will run successfully:\r\n\r\n    import java.math.BigInteger;\r\n    import java.util.Scanner;\r\n    \r\n    class ProductDivisors {\r\n    \r\n    \tpublic static BigInteger modulo=new BigInteger(&quot;1000000007&quot;);\r\n    \tpublic static BigInteger solve=new BigInteger(&quot;1&quot;);\r\n    \tpublic static BigInteger two=new BigInteger(&quot;2&quot;);\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tint N=sc.nextInt();\r\n    \t\tBigInteger prod=new BigInteger(&quot;1&quot;);\r\n    \t\twhile(N--&gt;0){\r\n    \t\t\tprod=sc.nextBigInteger();\r\n    \t\t\tsolve=solve.multiply(prod);\r\n    \t\t}\r\n    \t\tBigInteger x = new BigInteger(&quot;2&quot;);\r\n    \t\tBigInteger total = new BigInteger(&quot;0&quot;);\r\n    \t\tBigInteger totalFactors =new BigInteger(&quot;1&quot;);\r\n    \t\twhile (x.multiply(x).compareTo(solve) &lt;= 0) {\r\n    \t\t    int power = 0;\r\n    \t\t    while (solve.mod(x).equals(BigInteger.ZERO)) {\r\n    \t\t        power++;\r\n    \t\t        solve = solve.divide(x);\r\n    \t\t    }\r\n    \t\t    total = new BigInteger(&quot;&quot;+(power + 1));\r\n    \t\t    totalFactors=totalFactors.multiply(total);\r\n    \t\t    x = x.add(BigInteger.ONE);\r\n    \t\t}\r\n    \t\tif (!(solve.equals(BigInteger.ONE))) {\r\n    \t\t    totalFactors =totalFactors.multiply(two);\r\n    \t\t}\r\n    \t\ttotalFactors=totalFactors.mod(modulo);\r\n    \t\tSystem.out.println(totalFactors);\r\n    \t}\r\n    \r\n    }\r\n\r\nThis code is generally taking array of number as input and thereby multiplying which will produce large numbers.\r\nAnd, after that main code for counting number of divisor (including number is taken as divisor here) is done and given output.\r\n\r\nI hope it is efficient way and suggest any errors or addition if needed.\r\n","title":"What is the fastest way in Java to get the amount of factors a number has","body":"<p>The fastest solution proposed by Boris Strandjev has some problem by generating output of large numbers in Java.\nIt is the fastest algorithm for finding number of divisors for very big integer in Java.</p>\n\n<p>Here is my code which will run successfully:</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.util.Scanner;\n\nclass ProductDivisors {\n\n    public static BigInteger modulo=new BigInteger(\"1000000007\");\n    public static BigInteger solve=new BigInteger(\"1\");\n    public static BigInteger two=new BigInteger(\"2\");\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc=new Scanner(System.in);\n        int N=sc.nextInt();\n        BigInteger prod=new BigInteger(\"1\");\n        while(N--&gt;0){\n            prod=sc.nextBigInteger();\n            solve=solve.multiply(prod);\n        }\n        BigInteger x = new BigInteger(\"2\");\n        BigInteger total = new BigInteger(\"0\");\n        BigInteger totalFactors =new BigInteger(\"1\");\n        while (x.multiply(x).compareTo(solve) &lt;= 0) {\n            int power = 0;\n            while (solve.mod(x).equals(BigInteger.ZERO)) {\n                power++;\n                solve = solve.divide(x);\n            }\n            total = new BigInteger(\"\"+(power + 1));\n            totalFactors=totalFactors.multiply(total);\n            x = x.add(BigInteger.ONE);\n        }\n        if (!(solve.equals(BigInteger.ONE))) {\n            totalFactors =totalFactors.multiply(two);\n        }\n        totalFactors=totalFactors.mod(modulo);\n        System.out.println(totalFactors);\n    }\n\n}\n</code></pre>\n\n<p>This code is generally taking array of number as input and thereby multiplying which will produce large numbers.\nAnd, after that main code for counting number of divisor (including number is taken as divisor here) is done and given output.</p>\n\n<p>I hope it is efficient way and suggest any errors or addition if needed.</p>\n"}],"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6893,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":10139721,"answer_count":3,"score":11,"last_activity_date":1697529095,"creation_date":1334312072,"question_id":10139001,"body_markdown":"I am trying to write a function in Java that will return the number of factors a specific number has. \r\n\r\nThe following restrictions should be taken into account. \r\n\r\n 1. It should be done with BigInteger\r\n 2. Storing the previously generated numbers is not allowed, thus more processing and less memory. (You can not use &quot;Sieve of Atkin&quot; like in [this][1])\r\n 3. Negative numbers can be ignored.\r\n\r\nThis is what I have so far, but it is extremely slow.\r\n\r\n\tpublic static int getNumberOfFactors(BigInteger number) {\r\n\t\t// If the number is 1\r\n\t\tint numberOfFactors = 1;\r\n\t\t\r\n\t\tif (number.compareTo(BigInteger.ONE) &lt;= 0)  {\r\n\t\t\treturn numberOfFactors;\r\n\t\t}\r\n\t\t\r\n\t\tBigInteger boundry = number.divide(new BigInteger(&quot;2&quot;));\r\n\t\tBigInteger counter = new BigInteger(&quot;2&quot;);\r\n\t\t\r\n\t\twhile (counter.compareTo(boundry) &lt;= 0) {\r\n\t\t\tif (number.mod(counter).compareTo(BigInteger.ZERO) == 0) {\r\n\t\t\t\tnumberOfFactors++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcounter = counter.add(BigInteger.ONE);\r\n\t\t}\r\n\t\t\r\n\t\t// For the number it self\r\n\t\tnumberOfFactors++;\r\n\t\t\r\n\t\treturn numberOfFactors;\r\n\t}\r\n\r\n  [1]: https://stackoverflow.com/questions/110344/algorithm-to-calculate-the-number-of-divisors-of-a-given-number","title":"What is the fastest way in Java to get the amount of factors a number has","body":"<p>I am trying to write a function in Java that will return the number of factors a specific number has.</p>\n<p>The following restrictions should be taken into account.</p>\n<ol>\n<li>It should be done with BigInteger</li>\n<li>Storing the previously generated numbers is not allowed, thus more processing and less memory. (You can not use &quot;Sieve of Atkin&quot; like in <a href=\"https://stackoverflow.com/questions/110344/algorithm-to-calculate-the-number-of-divisors-of-a-given-number\">this</a>)</li>\n<li>Negative numbers can be ignored.</li>\n</ol>\n<p>This is what I have so far, but it is extremely slow.</p>\n<pre><code>public static int getNumberOfFactors(BigInteger number) {\n    // If the number is 1\n    int numberOfFactors = 1;\n    \n    if (number.compareTo(BigInteger.ONE) &lt;= 0)  {\n        return numberOfFactors;\n    }\n    \n    BigInteger boundry = number.divide(new BigInteger(&quot;2&quot;));\n    BigInteger counter = new BigInteger(&quot;2&quot;);\n    \n    while (counter.compareTo(boundry) &lt;= 0) {\n        if (number.mod(counter).compareTo(BigInteger.ZERO) == 0) {\n            numberOfFactors++;\n        }\n        \n        counter = counter.add(BigInteger.ONE);\n    }\n    \n    // For the number it self\n    numberOfFactors++;\n    \n    return numberOfFactors;\n}\n</code></pre>\n"},{"tags":["java","json","post","jersey","jira-rest-api"],"comments":[{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1516300557,"post_id":48327901,"comment_id":83641801,"body_markdown":"Looking at this badly formatted [example](https://blogs.oracle.com/enterprisetechtips/consuming-restful-web-services-with-the-jersey-client-api) from Oracle - I&#39;m pretty sure this `.type(MediaType.TEXT_PLAIN_TYPE)` is overriding/undoing this `.header(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;)` might I suggest trying one or the other,","body":"Looking at this badly formatted <a href=\"https://blogs.oracle.com/enterprisetechtips/consuming-restful-web-services-with-the-jersey-client-api\" rel=\"nofollow noreferrer\">example</a> from Oracle - I&#39;m pretty sure this <code>.type(MediaType.TEXT_PLAIN_TYPE)</code> is overriding/undoing this <code>.header(&quot;Content-Type&quot;, &quot;application&#47;json;charset=UTF-8&quot;)</code> might I suggest trying one or the other,"},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1516300921,"post_id":48327901,"comment_id":83641999,"body_markdown":"Also, your problem looks like a duplicate of this same [SO question](https://stackoverflow.com/questions/26104101/jersey-client-resulting-in-415-unsupported-media-type)","body":"Also, your problem looks like a duplicate of this same <a href=\"https://stackoverflow.com/questions/26104101/jersey-client-resulting-in-415-unsupported-media-type\">SO question</a>"},{"owner":{"account_id":920405,"reputation":773,"user_id":952199,"accept_rate":67,"display_name":"suenda"},"score":1,"creation_date":1516300993,"post_id":48327901,"comment_id":83642031,"body_markdown":"Try running your request through a web debugger (eg https://www.telerik.com/fiddler) and see if the service replies correctly.","body":"Try running your request through a web debugger (eg <a href=\"https://www.telerik.com/fiddler\" rel=\"nofollow noreferrer\">telerik.com/fiddler</a>) and see if the service replies correctly."},{"owner":{"account_id":3849676,"reputation":29,"user_id":3190153,"accept_rate":60,"display_name":"user3190153"},"score":0,"creation_date":1516728486,"post_id":48327901,"comment_id":83804120,"body_markdown":"@JGlass I have tried to use as you&#39;ve suggested and on the linked post, but I still get the error. Also tried to remove UTF-8 but no success...","body":"@JGlass I have tried to use as you&#39;ve suggested and on the linked post, but I still get the error. Also tried to remove UTF-8 but no success..."},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1516730243,"post_id":48327901,"comment_id":83805067,"body_markdown":"1.  Have you tried changing it to &quot;PUT&quot; instead of POST? 2.  Are you sure your URL is correct?  All the examples I see for rest are like &quot;http://example.com/rest/api/2/&quot; or is JiraUpdate the name of your application, e.g. the context of the web app?  And as @Suenda mentioned, if you try it in your browser using fiddler or developer tools can you get it to work there and then we can backtrack to the java code?  Also, many examples use CURL, have you got it to work in CURL?","body":"1.  Have you tried changing it to &quot;PUT&quot; instead of POST? 2.  Are you sure your URL is correct?  All the examples I see for rest are like &quot;<a href=\"http://example.com/rest/api/2/\" rel=\"nofollow noreferrer\">example.com/rest/api/2</a>&quot; or is JiraUpdate the name of your application, e.g. the context of the web app?  And as @Suenda mentioned, if you try it in your browser using fiddler or developer tools can you get it to work there and then we can backtrack to the java code?  Also, many examples use CURL, have you got it to work in CURL?"},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1516730465,"post_id":48327901,"comment_id":83805212,"body_markdown":"Here&#39;s also some good examples leaning more towards your URL looks strange [How to create an issue in jira via rest api](https://stackoverflow.com/questions/5884960/how-to-create-an-issue-in-jira-via-rest-api)","body":"Here&#39;s also some good examples leaning more towards your URL looks strange <a href=\"https://stackoverflow.com/questions/5884960/how-to-create-an-issue-in-jira-via-rest-api\">How to create an issue in jira via rest api</a>"},{"owner":{"account_id":3849676,"reputation":29,"user_id":3190153,"accept_rate":60,"display_name":"user3190153"},"score":0,"creation_date":1518035026,"post_id":48327901,"comment_id":84343478,"body_markdown":"Have tried using PUT but i get a 405 Method now allowed exception. I have also tried using another endpoint such as those like /rest/api/2/issue but they all give SSL errors. If i try to visit http://&lt;private ip&gt;:8080/JiraUpdate/rest/createin/jira/createticket? in a browser i get a 405 method not allowed, but any other browser test gives a page not found. I am not sure how to send a cURL request through a private linux server so cannot try this at the moment. The only way I can get it to send the request is to use a MultivaluedMap object to store my data, but i would like the JSON format.","body":"Have tried using PUT but i get a 405 Method now allowed exception. I have also tried using another endpoint such as those like /rest/api/2/issue but they all give SSL errors. If i try to visit http://&lt;private ip&gt;:8080/JiraUpdate/rest/createin/jira/createticket? in a browser i get a 405 method not allowed, but any other browser test gives a page not found. I am not sure how to send a cURL request through a private linux server so cannot try this at the moment. The only way I can get it to send the request is to use a MultivaluedMap object to store my data, but i would like the JSON format."},{"owner":{"account_id":183028,"reputation":10861,"user_id":418150,"accept_rate":52,"display_name":"Lee Goddard"},"score":0,"creation_date":1697528644,"post_id":48327901,"comment_id":136287710,"body_markdown":"Does this answer your question? [Jersey Client resulting in 415 Unsupported media type](https://stackoverflow.com/questions/26104101/jersey-client-resulting-in-415-unsupported-media-type)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26104101/jersey-client-resulting-in-415-unsupported-media-type\">Jersey Client resulting in 415 Unsupported media type</a>"}],"answers":[{"comments":[{"owner":{"account_id":3849676,"reputation":29,"user_id":3190153,"accept_rate":60,"display_name":"user3190153"},"score":0,"creation_date":1518035620,"post_id":48328303,"comment_id":84343799,"body_markdown":"Seems like the link gives a page not found. Only a MultivaluedMap object with the json data added into it allows me to send successfully using a POST request","body":"Seems like the link gives a page not found. Only a MultivaluedMap object with the json data added into it allows me to send successfully using a POST request"},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1518037279,"post_id":48328303,"comment_id":84344660,"body_markdown":"Corrected the link, thanks!  Sounds like you got it going, good job!","body":"Corrected the link, thanks!  Sounds like you got it going, good job!"}],"tags":[],"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697528617,"creation_date":1516301222,"answer_id":48328303,"question_id":48327901,"body_markdown":"Try the below, based upon Vijay-Bhushan&#39;s example in [this SO article][1].\r\n\r\nNote, he mentions that UTF-8 was not needed.\r\n\r\n\r\n    String SERVICE_URL = &quot;http://hostIpAddress:8080/JiraUpdate/rest/createin/jira/createticket?&quot;; // hostIpaddress is our server ip\r\n    ClientConfig config = new DefaultClientConfig();\r\n    Client client = Client.create(config);\r\n    System.out.println(&quot;SERVICE_URL=&quot; + SERVICE_URL);\r\n    WebResource webResource = client.resource(UriBuilder.fromUri(SERVICE_URL).build());\r\n    String input = &quot;{\\&quot;fields\\&quot;:{\\&quot;project\\&quot;:{\\&quot;key\\&quot;:\\&quot;Invoicing\\&quot;},\\&quot;summary\\&quot;:\\&quot;REST Test\\&quot;,\\&quot;description\\&quot;: \\&quot;Creating of an issue using project keys and issue type names using the REST API\\&quot;,\\&quot;issuetype\\&quot;:{\\&quot;name\\&quot;:\\&quot;Bug\\&quot;}}}&quot;;\r\n\r\n    ClientResponse response = webResource.header(&quot;Content-Type&quot;,&quot;application/json;charset=UTF-8&quot;).post(ClientResponse.class,input);\r\n\r\nThe [Jersey Client API](https://jersey.github.io/documentation/1.19.1/client-api.html) documentation has some great examples.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26104101/jersey-client-resulting-in-415-unsupported-media-type","title":"JIRA REST API - 415 Unsupported Media Type error in ClientResponse","body":"<p>Try the below, based upon Vijay-Bhushan's example in <a href=\"https://stackoverflow.com/questions/26104101/jersey-client-resulting-in-415-unsupported-media-type\">this SO article</a>.</p>\n<p>Note, he mentions that UTF-8 was not needed.</p>\n<pre><code>String SERVICE_URL = &quot;http://hostIpAddress:8080/JiraUpdate/rest/createin/jira/createticket?&quot;; // hostIpaddress is our server ip\nClientConfig config = new DefaultClientConfig();\nClient client = Client.create(config);\nSystem.out.println(&quot;SERVICE_URL=&quot; + SERVICE_URL);\nWebResource webResource = client.resource(UriBuilder.fromUri(SERVICE_URL).build());\nString input = &quot;{\\&quot;fields\\&quot;:{\\&quot;project\\&quot;:{\\&quot;key\\&quot;:\\&quot;Invoicing\\&quot;},\\&quot;summary\\&quot;:\\&quot;REST Test\\&quot;,\\&quot;description\\&quot;: \\&quot;Creating of an issue using project keys and issue type names using the REST API\\&quot;,\\&quot;issuetype\\&quot;:{\\&quot;name\\&quot;:\\&quot;Bug\\&quot;}}}&quot;;\n\nClientResponse response = webResource.header(&quot;Content-Type&quot;,&quot;application/json;charset=UTF-8&quot;).post(ClientResponse.class,input);\n</code></pre>\n<p>The <a href=\"https://jersey.github.io/documentation/1.19.1/client-api.html\" rel=\"nofollow noreferrer\">Jersey Client API</a> documentation has some great examples.</p>\n"}],"owner":{"account_id":3849676,"reputation":29,"user_id":3190153,"accept_rate":60,"display_name":"user3190153"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4673,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48328303,"answer_count":1,"score":0,"last_activity_date":1697528617,"creation_date":1516299693,"question_id":48327901,"body_markdown":"I am trying to send a POST request via a WebResource instance using a Jersey Client. But no matter how i specify the request headers or types, it will give me a `415 Unsupported Media Type` error. Below is my code\r\n            \r\n    String SERVICE_URL = &quot;http://hostIpAddress:8080/JiraUpdate/rest/createin/jira/createticket?&quot;; // hostIpaddress is our server ip\r\n    ClientConfig config = new DefaultClientConfig();\r\n    Client client = Client.create(config);\r\n    System.out.println(&quot;SERVICE_URL=&quot; + SERVICE_URL);\r\n    WebResource webResource = client.resource(UriBuilder.fromUri(SERVICE_URL).build());\r\n\tString input = &quot;{\\&quot;fields\\&quot;:{\\&quot;project\\&quot;:{\\&quot;key\\&quot;:\\&quot;Invoicing\\&quot;},\\&quot;summary\\&quot;:\\&quot;REST Test\\&quot;,\\&quot;description\\&quot;: \\&quot;Creating of an issue using project keys and issue type names using the REST API\\&quot;,\\&quot;issuetype\\&quot;:{\\&quot;name\\&quot;:\\&quot;Bug\\&quot;}}}&quot;;\r\n    ClientResponse response = webResource.header(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;)\r\n          .type(MediaType.TEXT_PLAIN_TYPE).post(ClientResponse.class, input);\r\n\r\nI have tried to set the type to `MediaType.APPLICATION_FORM_URLENCODED_TYPE` as well as `MediaType.APPLICATION_JSON` but it doesnt change the response. I am running this code as a standalone executable JAR in a linux environment. Any help is appreciated.","title":"JIRA REST API - 415 Unsupported Media Type error in ClientResponse","body":"<p>I am trying to send a POST request via a WebResource instance using a Jersey Client. But no matter how i specify the request headers or types, it will give me a <code>415 Unsupported Media Type</code> error. Below is my code</p>\n\n<pre><code>String SERVICE_URL = \"http://hostIpAddress:8080/JiraUpdate/rest/createin/jira/createticket?\"; // hostIpaddress is our server ip\nClientConfig config = new DefaultClientConfig();\nClient client = Client.create(config);\nSystem.out.println(\"SERVICE_URL=\" + SERVICE_URL);\nWebResource webResource = client.resource(UriBuilder.fromUri(SERVICE_URL).build());\nString input = \"{\\\"fields\\\":{\\\"project\\\":{\\\"key\\\":\\\"Invoicing\\\"},\\\"summary\\\":\\\"REST Test\\\",\\\"description\\\": \\\"Creating of an issue using project keys and issue type names using the REST API\\\",\\\"issuetype\\\":{\\\"name\\\":\\\"Bug\\\"}}}\";\nClientResponse response = webResource.header(\"Content-Type\", \"application/json;charset=UTF-8\")\n      .type(MediaType.TEXT_PLAIN_TYPE).post(ClientResponse.class, input);\n</code></pre>\n\n<p>I have tried to set the type to <code>MediaType.APPLICATION_FORM_URLENCODED_TYPE</code> as well as <code>MediaType.APPLICATION_JSON</code> but it doesnt change the response. I am running this code as a standalone executable JAR in a linux environment. Any help is appreciated.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"score":0,"creation_date":1697527735,"post_id":77303481,"comment_id":136287556,"body_markdown":"What exactly is is that your border should look like? Can you provide a simple drawing? :)","body":"What exactly is is that your border should look like? Can you provide a simple drawing? :)"},{"owner":{"account_id":19534654,"reputation":41,"user_id":20582754,"display_name":"Asterix"},"score":0,"creation_date":1697528263,"post_id":77303481,"comment_id":136287637,"body_markdown":"@monamona I have added an image to the question so that you can see what I mean","body":"@monamona I have added an image to the question so that you can see what I mean"}],"owner":{"account_id":19534654,"reputation":41,"user_id":20582754,"display_name":"Asterix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697528238,"creation_date":1697472679,"question_id":77303481,"body_markdown":"How can I set a round border to the panel squarePane? Should I do it with paintComponent or is there a method for this?\r\n\r\n    \r\n    public void gameboard() {\r\n       \r\n        ui.frame.setLayout(new GridBagLayout());\r\n\r\n        JPanel squarePane = new JPanel();\r\n        squarePane.setBackground(Color.BLUE);\r\n        squarePane.setPreferredSize(new Dimension(850, 700));\r\n        squarePane.setBorder(new LineBorder(Color.RED, 5, true));\r\n        squarePane.setLayout(new GridBagLayout());\r\n\r\n        ui.frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        ui.frame.add(squarePane);\r\n        ui.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        ui.frame.setVisible(true);\r\n\r\n    }\r\n\r\n    \r\n\r\nThis is what I mean by rounded borders\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jNudi.jpg","title":"How to set round border to a JPanel","body":"<p>How can I set a round border to the panel squarePane? Should I do it with paintComponent or is there a method for this?</p>\n<pre><code>public void gameboard() {\n   \n    ui.frame.setLayout(new GridBagLayout());\n\n    JPanel squarePane = new JPanel();\n    squarePane.setBackground(Color.BLUE);\n    squarePane.setPreferredSize(new Dimension(850, 700));\n    squarePane.setBorder(new LineBorder(Color.RED, 5, true));\n    squarePane.setLayout(new GridBagLayout());\n\n    ui.frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n    ui.frame.add(squarePane);\n    ui.frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    ui.frame.setVisible(true);\n\n}\n</code></pre>\n<p>This is what I mean by rounded borders\n<a href=\"https://i.stack.imgur.com/jNudi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jNudi.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1697527456,"post_id":77306882,"comment_id":136287502,"body_markdown":"Check if your app&#39;s theme has ActionBar.","body":"Check if your app&#39;s theme has ActionBar."},{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1697527476,"post_id":77306882,"comment_id":136287509,"body_markdown":"If you share the theme.xml or styles.xml code, I can help.","body":"If you share the theme.xml or styles.xml code, I can help."},{"owner":{"account_id":29689365,"reputation":11,"user_id":22754054,"display_name":"Gabriel"},"score":0,"creation_date":1697527713,"post_id":77306882,"comment_id":136287550,"body_markdown":"It&#39;s &quot;NoActionBar&quot;:\n Theme.Material3.DayNight.NoActionBar, im not being able to change it to have an ActionBar","body":"It&#39;s &quot;NoActionBar&quot;:  Theme.Material3.DayNight.NoActionBar, im not being able to change it to have an ActionBar"},{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1697528011,"post_id":77306882,"comment_id":136287601,"body_markdown":"I answered. Can you check?","body":"I answered. Can you check?"},{"owner":{"account_id":29689365,"reputation":11,"user_id":22754054,"display_name":"Gabriel"},"score":0,"creation_date":1697528235,"post_id":77306882,"comment_id":136287634,"body_markdown":"It worked, this account is new so i havent been able to vote yet but Sr thank u sm!","body":"It worked, this account is new so i havent been able to vote yet but Sr thank u sm!"},{"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"score":0,"creation_date":1697528383,"post_id":77306882,"comment_id":136287657,"body_markdown":"You&#39;re welcome.","body":"You&#39;re welcome."}],"answers":[{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697527991,"creation_date":1697527991,"answer_id":77306965,"question_id":77306882,"body_markdown":"You can use `Theme.Material3.DayNight` as the base theme.","title":"Menu - onCreateOptionsMenu(Menu menu) is not showing anything","body":"<p>You can use <code>Theme.Material3.DayNight</code> as the base theme.</p>\n"}],"owner":{"account_id":29689365,"reputation":11,"user_id":22754054,"display_name":"Gabriel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697528159,"creation_date":1697526968,"question_id":77306882,"body_markdown":"I&#39;ve been trying to put a menu bar but it never shows anything in the app - i thought that it could be the language that i was using (that was Kotlin), but even in Java it doesn&#39;t make any difference\r\nI tried to use &quot;return true&quot; and using setHasOptionsMenu(true) as well but nothing happens.\r\nThe version that I&#39;m using is android-studio-2022.2.1.20-windows (Flamingo). I even changed the android studio version and watched every single video on yt about the menu and how to put it, even though i followed all the steps, it still doesn&#39;t show me anything. I just wanted to put a menu bar for a search icon and a logout part.\r\n\r\nHere is the xml for my menu, res&gt;menu&gt;home_menu:\r\n\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;item\r\n        android:id=&quot;@+id/search&quot;\r\n        android:icon=&quot;@drawable/baseline_search_24&quot;\r\n        android:title=&quot;Search&quot;\r\n        app:showAsAction=&quot;ifRoom|collapseActionView&quot;\r\n        app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/about&quot;\r\n        android:title=&quot;About&quot;/&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/share&quot;\r\n        android:title=&quot;Share&quot;/&gt;\r\n&lt;/menu&gt;\r\n\r\nNow the main activity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            \r\n        }\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            getMenuInflater().inflate(R.menu.home_menu, menu);\r\n            return super.onCreateOptionsMenu(menu);\r\n        }\r\n    }","title":"Menu - onCreateOptionsMenu(Menu menu) is not showing anything","body":"<p>I've been trying to put a menu bar but it never shows anything in the app - i thought that it could be the language that i was using (that was Kotlin), but even in Java it doesn't make any difference\nI tried to use &quot;return true&quot; and using setHasOptionsMenu(true) as well but nothing happens.\nThe version that I'm using is android-studio-2022.2.1.20-windows (Flamingo). I even changed the android studio version and watched every single video on yt about the menu and how to put it, even though i followed all the steps, it still doesn't show me anything. I just wanted to put a menu bar for a search icon and a logout part.</p>\n<p>Here is the xml for my menu, res&gt;menu&gt;home_menu:</p>\n\n<pre><code>&lt;item\n    android:id=&quot;@+id/search&quot;\n    android:icon=&quot;@drawable/baseline_search_24&quot;\n    android:title=&quot;Search&quot;\n    app:showAsAction=&quot;ifRoom|collapseActionView&quot;\n    app:actionViewClass=&quot;androidx.appcompat.widget.SearchView&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/about&quot;\n    android:title=&quot;About&quot;/&gt;\n&lt;item\n    android:id=&quot;@+id/share&quot;\n    android:title=&quot;Share&quot;/&gt;\n</code></pre>\n\n<p>Now the main activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n    }\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.home_menu, menu);\n        return super.onCreateOptionsMenu(menu);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","elasticsearch","opensearch","resthighlevelclient"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695420465,"post_id":77153825,"comment_id":136027132,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697527968,"creation_date":1695354535,"answer_id":77154758,"question_id":77153825,"body_markdown":"On the OpenSearch documentation website, there is a [compatibility Matrix](https://opensearch.org/docs/2.9/install-and-configure/upgrade-opensearch/index/#index-compatibility-reference) between Elasticsearch, OpenSearch and Lucene up to OS 2.5 and ES 8.6. Elasticsearch also publishes all its dependencies [here](https://artifacts.elastic.co/reports/dependencies/dependencies-8.10.0.html) (change the version number in the URL to find out).\r\n\r\nI&#39;m completing the table found in OS docs below up to the most recent versions.\r\n\r\n| Lucene Version | OpenSearch Version | Elasticsearch Version |\r\n| -------------- | ------------------ | --------------------- |\r\n| 9.8.0 | 2.11 | 8.11 (not released yet) |\r\n| 9.7.0 | 2.10 | 8.10 |\r\n| 9.7.0 | 2.9.x | 8.9 |\r\n| 9.6.0 | 2.8.x | 8.8 |\r\n| 9.5.0 | 2.6.x / 2.7.x | 8.7 |\r\n| 9.4.2 | 2.5.0 / 2.4.1 | 8.6 |\r\n| 9.4.1 | 2.4.0 | - |\r\n| 9.4.0 | - | 8.5 |\r\n| 9.3.0 | 2.3.0 / 2.2.x | 8.4 |\r\n| 9.2.0 | 2.1.0 | 8.3 |\r\n| 9.1.0 | 2.0.x | 8.2 |\r\n| 9.0.0 | - | 8.1 / 8.0 |\r\n| 8.11.1 | - | 7.17 |\r\n| 8.10.1 | 1.3.x / 1.2.x | 7.16 |\r\n| 8.9.0 | 1.1.0 | 7.15 / 7.14 |\r\n| 8.8.2 | 1.0.0 | 7.13 |\r\n| 8.8.0 | - | 7.12 |\r\n| 8.7.0 | - | 7.11 / 7.10 |\r\n| 8.6.2 | - | 7.9 |\r\n| 8.5.1 | - | 7.8 / 7.7 |\r\n| 8.4.0 | - | 7.6 |\r\n| 8.3.0 | - | 7.5 |\r\n| 8.2.0 | - | 7.4 |\r\n| 8.1.0 | - | 7.3 |\r\n| 8.0.0 | - | 7.2 / 7.1 |\r\n| 7.7.3 | - | 6.8 |\r\n","title":"Load lucene-core dependency at runtime","body":"<p>On the OpenSearch documentation website, there is a <a href=\"https://opensearch.org/docs/2.9/install-and-configure/upgrade-opensearch/index/#index-compatibility-reference\" rel=\"nofollow noreferrer\">compatibility Matrix</a> between Elasticsearch, OpenSearch and Lucene up to OS 2.5 and ES 8.6. Elasticsearch also publishes all its dependencies <a href=\"https://artifacts.elastic.co/reports/dependencies/dependencies-8.10.0.html\" rel=\"nofollow noreferrer\">here</a> (change the version number in the URL to find out).</p>\n<p>I'm completing the table found in OS docs below up to the most recent versions.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Lucene Version</th>\n<th>OpenSearch Version</th>\n<th>Elasticsearch Version</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>9.8.0</td>\n<td>2.11</td>\n<td>8.11 (not released yet)</td>\n</tr>\n<tr>\n<td>9.7.0</td>\n<td>2.10</td>\n<td>8.10</td>\n</tr>\n<tr>\n<td>9.7.0</td>\n<td>2.9.x</td>\n<td>8.9</td>\n</tr>\n<tr>\n<td>9.6.0</td>\n<td>2.8.x</td>\n<td>8.8</td>\n</tr>\n<tr>\n<td>9.5.0</td>\n<td>2.6.x / 2.7.x</td>\n<td>8.7</td>\n</tr>\n<tr>\n<td>9.4.2</td>\n<td>2.5.0 / 2.4.1</td>\n<td>8.6</td>\n</tr>\n<tr>\n<td>9.4.1</td>\n<td>2.4.0</td>\n<td>-</td>\n</tr>\n<tr>\n<td>9.4.0</td>\n<td>-</td>\n<td>8.5</td>\n</tr>\n<tr>\n<td>9.3.0</td>\n<td>2.3.0 / 2.2.x</td>\n<td>8.4</td>\n</tr>\n<tr>\n<td>9.2.0</td>\n<td>2.1.0</td>\n<td>8.3</td>\n</tr>\n<tr>\n<td>9.1.0</td>\n<td>2.0.x</td>\n<td>8.2</td>\n</tr>\n<tr>\n<td>9.0.0</td>\n<td>-</td>\n<td>8.1 / 8.0</td>\n</tr>\n<tr>\n<td>8.11.1</td>\n<td>-</td>\n<td>7.17</td>\n</tr>\n<tr>\n<td>8.10.1</td>\n<td>1.3.x / 1.2.x</td>\n<td>7.16</td>\n</tr>\n<tr>\n<td>8.9.0</td>\n<td>1.1.0</td>\n<td>7.15 / 7.14</td>\n</tr>\n<tr>\n<td>8.8.2</td>\n<td>1.0.0</td>\n<td>7.13</td>\n</tr>\n<tr>\n<td>8.8.0</td>\n<td>-</td>\n<td>7.12</td>\n</tr>\n<tr>\n<td>8.7.0</td>\n<td>-</td>\n<td>7.11 / 7.10</td>\n</tr>\n<tr>\n<td>8.6.2</td>\n<td>-</td>\n<td>7.9</td>\n</tr>\n<tr>\n<td>8.5.1</td>\n<td>-</td>\n<td>7.8 / 7.7</td>\n</tr>\n<tr>\n<td>8.4.0</td>\n<td>-</td>\n<td>7.6</td>\n</tr>\n<tr>\n<td>8.3.0</td>\n<td>-</td>\n<td>7.5</td>\n</tr>\n<tr>\n<td>8.2.0</td>\n<td>-</td>\n<td>7.4</td>\n</tr>\n<tr>\n<td>8.1.0</td>\n<td>-</td>\n<td>7.3</td>\n</tr>\n<tr>\n<td>8.0.0</td>\n<td>-</td>\n<td>7.2 / 7.1</td>\n</tr>\n<tr>\n<td>7.7.3</td>\n<td>-</td>\n<td>6.8</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":3232443,"reputation":11,"user_id":3302070,"display_name":"anpat_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697527968,"creation_date":1695332899,"question_id":77153825,"body_markdown":"I want to use opensearch-rest-high-level-client and elasticsearch-rest-high-level-client libraries within my application.\r\nBoth of these jars use different version of lucene-core as dependencies. Is it possible to use different version of lucene-core at runtime?\r\n\r\nI tried to find a version of both the libraries with common version of lucene-core, but couldn&#39;t find one.","title":"Load lucene-core dependency at runtime","body":"<p>I want to use opensearch-rest-high-level-client and elasticsearch-rest-high-level-client libraries within my application.\nBoth of these jars use different version of lucene-core as dependencies. Is it possible to use different version of lucene-core at runtime?</p>\n<p>I tried to find a version of both the libraries with common version of lucene-core, but couldn't find one.</p>\n"},{"tags":["javascript","java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697527839,"creation_date":1697527839,"answer_id":77306956,"question_id":77283394,"body_markdown":"Getting the return value back to the server is always asynchronous. This is because the session lock is held while the framework runs your application logic that runs `executeJs`. The framework can&#39;t even send the JS to execute to the browser until after the lock has been released, i.e. after you have returned from the event handler or whatever else it is that triggers running the code block with your `executeJs` statement.\r\n\r\nWhat this means is that you just have to accept that your logic is split up into two separate parts. You can show a placeholder in your UI (e.g. a spinner) in the first chunk and then continue finalizing the UI updates in the `then` callback.","title":"Vaadin - Get a value from javascript via executeJs","body":"<p>Getting the return value back to the server is always asynchronous. This is because the session lock is held while the framework runs your application logic that runs <code>executeJs</code>. The framework can't even send the JS to execute to the browser until after the lock has been released, i.e. after you have returned from the event handler or whatever else it is that triggers running the code block with your <code>executeJs</code> statement.</p>\n<p>What this means is that you just have to accept that your logic is split up into two separate parts. You can show a placeholder in your UI (e.g. a spinner) in the first chunk and then continue finalizing the UI updates in the <code>then</code> callback.</p>\n"}],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77306956,"answer_count":1,"score":0,"last_activity_date":1697527839,"creation_date":1697139023,"question_id":77283394,"body_markdown":"Hi I want to call a javascript function and return the result back to java. In detail, I have a leaflet map component and I call getBounds() to get the view&#39;s bounding box - and I want to pass this bounding box back to the server side java.\r\n\r\nI understand that this is an async call. I found two ways to get a result. The first one:\r\n\r\n\r\n\tString js = map.clientComponentJsAccessor();\r\n\tPendingJavaScriptResult executeJs = UI.getCurrent().getPage().executeJs(&quot;return &quot; + js + &quot;.getBounds()&quot;);\r\n\texecuteJs.then(json -&gt; System.out.println(&quot;Json: &quot; + json.toJson()));\r\n\r\nThis works well and the expected result is printed. Unfortunately, I don&#39;t get the result out of the lambda in the then function.\r\n\r\nThe second approach is:\r\n\r\n    String js = map.clientComponentJsAccessor();\r\n    PendingJavaScriptResult executeJs = UI.getCurrent().getPage().executeJs(&quot;return &quot; + js + &quot;.getBounds()&quot;);\t\t\r\n    try {\r\n    \tString json = executeJs.toCompletableFuture().get().toJson();\r\n    \tSystem.out.println(&quot;Json:&quot; + json);\r\n    } catch (InterruptedException | ExecutionException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nThis looked pretty good at first, but during execution I get an IllegalStateException with this message:\r\n*Cannot block on the value from the thread that has locked the session. This is because the request that delivers the value cannot be processed while this thread holds the session lock.*\r\n\r\nI understand what it means, but I don&#39;t know how to avoid it.\r\n\r\nCan you help me out here to solve my issue with approach 1 or 2? Or is there a better solution using the vaadin api?","title":"Vaadin - Get a value from javascript via executeJs","body":"<p>Hi I want to call a javascript function and return the result back to java. In detail, I have a leaflet map component and I call getBounds() to get the view's bounding box - and I want to pass this bounding box back to the server side java.</p>\n<p>I understand that this is an async call. I found two ways to get a result. The first one:</p>\n<pre><code>String js = map.clientComponentJsAccessor();\nPendingJavaScriptResult executeJs = UI.getCurrent().getPage().executeJs(&quot;return &quot; + js + &quot;.getBounds()&quot;);\nexecuteJs.then(json -&gt; System.out.println(&quot;Json: &quot; + json.toJson()));\n</code></pre>\n<p>This works well and the expected result is printed. Unfortunately, I don't get the result out of the lambda in the then function.</p>\n<p>The second approach is:</p>\n<pre><code>String js = map.clientComponentJsAccessor();\nPendingJavaScriptResult executeJs = UI.getCurrent().getPage().executeJs(&quot;return &quot; + js + &quot;.getBounds()&quot;);       \ntry {\n    String json = executeJs.toCompletableFuture().get().toJson();\n    System.out.println(&quot;Json:&quot; + json);\n} catch (InterruptedException | ExecutionException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>This looked pretty good at first, but during execution I get an IllegalStateException with this message:\n<em>Cannot block on the value from the thread that has locked the session. This is because the request that delivers the value cannot be processed while this thread holds the session lock.</em></p>\n<p>I understand what it means, but I don't know how to avoid it.</p>\n<p>Can you help me out here to solve my issue with approach 1 or 2? Or is there a better solution using the vaadin api?</p>\n"},{"tags":["java","collections","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697480344,"creation_date":1697480344,"answer_id":77304172,"question_id":77304171,"body_markdown":"I used the `Collectors.toMap()` method to collect the elements from both lists into a single map, where the key is taken from the `getId()` method of each `Category` object. Here is an example code snippet:\r\n\r\n\r\n    List&lt;Category&gt; categoryList1 = // get the first list of categories from somewhere\r\n    List&lt;Category&gt; categoryList2 = // get the second list of categories from somewhere\r\n\r\n    Map&lt;Integer, Category&gt; categoryMap = Stream.concat(categoryList1.stream(), categoryList2.stream())\r\n        .collect(Collectors.toMap(Category::getId, Function.identity()));\r\n\r\n\r\nThis code concatenates the two lists using `Stream.concat()`, and then uses `Collectors.toMap()` to collect the elements from both lists into a single map. The first argument to `toMap()` is a function that extracts the key from each `Category` object (in this case, `Category::getId`), and the second argument is a function that returns the corresponding `Category` object (in this case, `Function.identity()`).\r\n\r\nAfter this code executes, `categoryMap` will contain all of the categories from both lists, with their ids as the keys. If there are any duplicate ids, an exception will be thrown. To handle duplicates, you can provide a merge function as a third argument to `toMap()`.","title":"How to put to the Map&lt;Integer, Category&gt; all values of List&lt;Category&gt; with key being taken from Category object itself with getId() using Stream API?","body":"<p>I used the <code>Collectors.toMap()</code> method to collect the elements from both lists into a single map, where the key is taken from the <code>getId()</code> method of each <code>Category</code> object. Here is an example code snippet:</p>\n<pre><code>List&lt;Category&gt; categoryList1 = // get the first list of categories from somewhere\nList&lt;Category&gt; categoryList2 = // get the second list of categories from somewhere\n\nMap&lt;Integer, Category&gt; categoryMap = Stream.concat(categoryList1.stream(), categoryList2.stream())\n    .collect(Collectors.toMap(Category::getId, Function.identity()));\n</code></pre>\n<p>This code concatenates the two lists using <code>Stream.concat()</code>, and then uses <code>Collectors.toMap()</code> to collect the elements from both lists into a single map. The first argument to <code>toMap()</code> is a function that extracts the key from each <code>Category</code> object (in this case, <code>Category::getId</code>), and the second argument is a function that returns the corresponding <code>Category</code> object (in this case, <code>Function.identity()</code>).</p>\n<p>After this code executes, <code>categoryMap</code> will contain all of the categories from both lists, with their ids as the keys. If there are any duplicate ids, an exception will be thrown. To handle duplicates, you can provide a merge function as a third argument to <code>toMap()</code>.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697480961,"accepted_answer_id":77304172,"answer_count":1,"score":0,"last_activity_date":1697526253,"creation_date":1697480344,"question_id":77304171,"body_markdown":"I use a loop to iterate through the list of categories, and for each category object, get its id using the `getId()` method and use it as the key to put the category object into the map. Here is an example code snippet:\r\n\r\n\r\n    Map&lt;Integer, Category&gt; categoryMap = new HashMap&lt;&gt;();\r\n    List&lt;Category&gt; categoryList = // get the list of categories from somewhere\r\n    \r\n    for (Category category : categoryList) {\r\n        int categoryId = category.getId();\r\n        categoryMap.put(categoryId, category);\r\n    }\r\n\r\nThis code creates a new `HashMap` called `categoryMap`, and then iterates through the `categoryList` using a for-each loop. For each `Category` object in the list, it gets the id using `getId()`, and then puts the `Category` object into the map using the id as the key. \r\n\r\nAfter this loop completes, `categoryMap` will contain all of the categories from `categoryList`, with their ids as the keys.\r\n\r\nBut how to use the same with Stream API? And if I want to concat 2 `List`s?\r\n","title":"How to put to the Map&lt;Integer, Category&gt; all values of List&lt;Category&gt; with key being taken from Category object itself with getId() using Stream API?","body":"<p>I use a loop to iterate through the list of categories, and for each category object, get its id using the <code>getId()</code> method and use it as the key to put the category object into the map. Here is an example code snippet:</p>\n<pre><code>Map&lt;Integer, Category&gt; categoryMap = new HashMap&lt;&gt;();\nList&lt;Category&gt; categoryList = // get the list of categories from somewhere\n\nfor (Category category : categoryList) {\n    int categoryId = category.getId();\n    categoryMap.put(categoryId, category);\n}\n</code></pre>\n<p>This code creates a new <code>HashMap</code> called <code>categoryMap</code>, and then iterates through the <code>categoryList</code> using a for-each loop. For each <code>Category</code> object in the list, it gets the id using <code>getId()</code>, and then puts the <code>Category</code> object into the map using the id as the key.</p>\n<p>After this loop completes, <code>categoryMap</code> will contain all of the categories from <code>categoryList</code>, with their ids as the keys.</p>\n<p>But how to use the same with Stream API? And if I want to concat 2 <code>List</code>s?</p>\n"},{"tags":["java","encoding","character-encoding"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501753301,"post_id":45480397,"comment_id":77921413,"body_markdown":"Are you sure that `byte[] document` contains bytes in `ISO-8859-2` encoding? Are you sure it&#39;s not `UTF-8`?","body":"Are you sure that <code>byte[] document</code> contains bytes in <code>ISO-8859-2</code> encoding? Are you sure it&#39;s not <code>UTF-8</code>?"},{"owner":{"account_id":2354504,"reputation":2179,"user_id":2062634,"accept_rate":75,"display_name":"Michael Meyer"},"score":0,"creation_date":1501753371,"post_id":45480397,"comment_id":77921475,"body_markdown":"maybe this thread can help you: https://stackoverflow.com/questions/24218239/why-jsoup-does-not-read-as-utf-8","body":"maybe this thread can help you: <a href=\"https://stackoverflow.com/questions/24218239/why-jsoup-does-not-read-as-utf-8\" title=\"why jsoup does not read as utf 8\">stackoverflow.com/questions/24218239/&hellip;</a>"},{"owner":{"account_id":2397695,"reputation":4935,"user_id":2096177,"accept_rate":61,"display_name":"Mathias G."},"score":0,"creation_date":1501753463,"post_id":45480397,"comment_id":77921541,"body_markdown":"Polish characters will also be displayed correctly when using the UTF-8 character set encoding","body":"Polish characters will also be displayed correctly when using the UTF-8 character set encoding"},{"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"score":0,"creation_date":1501753603,"post_id":45480397,"comment_id":77921642,"body_markdown":"@Kayaman but when I print string before write is ok, so problem is when I write it","body":"@Kayaman but when I print string before write is ok, so problem is when I write it"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501753728,"post_id":45480397,"comment_id":77921734,"body_markdown":"Then how are you reading the file? The file is in `ISO-8859-2`, so you need to make sure that it&#39;s being treated as such. It&#39;s also quite unnecessary to convert the `byte[]` to a `String`. You might just as well write the bytes directly with a `FileOutputStream`.","body":"Then how are you reading the file? The file is in <code>ISO-8859-2</code>, so you need to make sure that it&#39;s being treated as such. It&#39;s also quite unnecessary to convert the <code>byte[]</code> to a <code>String</code>. You might just as well write the bytes directly with a <code>FileOutputStream</code>."},{"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"score":0,"creation_date":1501754406,"post_id":45480397,"comment_id":77922271,"body_markdown":"@Kayaman I print results before write and in string is allright but after write in result file I don&#39;t have polish characters.","body":"@Kayaman I print results before write and in string is allright but after write in result file I don&#39;t have polish characters."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501754464,"post_id":45480397,"comment_id":77922304,"body_markdown":"How do you read the file. What do you do to see what&#39;s inside the file.","body":"How do you read the file. What do you do to see what&#39;s inside the file."},{"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"score":0,"creation_date":1501754841,"post_id":45480397,"comment_id":77922560,"body_markdown":"I edit my question @Kayaman","body":"I edit my question @Kayaman"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501755073,"post_id":45480397,"comment_id":77922743,"body_markdown":"Yet you still don&#39;t answer my question. What are you doing when you see `Wiersz nad kt?rym znajduje si� aktualnie kursor myszy`? What&#39;s the last action that you, as a human being took before seeing that?","body":"Yet you still don&#39;t answer my question. What are you doing when you see <code>Wiersz nad kt?rym znajduje si� aktualnie kursor myszy</code>? What&#39;s the last action that you, as a human being took before seeing that?"},{"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"score":0,"creation_date":1501755469,"post_id":45480397,"comment_id":77923031,"body_markdown":"@Kayaman I print it before write for example: `System.out.println(s);\n\t\t\twriter.write(s);` Unless, maybe you talk about place when I pass document argument.","body":"@Kayaman I print it before write for example: <code>System.out.println(s); \t\t\twriter.write(s);</code> Unless, maybe you talk about place when I pass document argument."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501755517,"post_id":45480397,"comment_id":77923063,"body_markdown":"You just said that it looks okay if you print it out before writing: &quot;when I print string before write is ok&quot;. I asked about after writing.","body":"You just said that it looks okay if you print it out before writing: &quot;when I print string before write is ok&quot;. I asked about after writing."},{"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"score":0,"creation_date":1501755638,"post_id":45480397,"comment_id":77923145,"body_markdown":"@Kayaman after write I refresh page and check my result file in browser.","body":"@Kayaman after write I refresh page and check my result file in browser."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501755752,"post_id":45480397,"comment_id":77923216,"body_markdown":"And when doing that, are you indicating that the file is in `ISO-8859-2`?","body":"And when doing that, are you indicating that the file is in <code>ISO-8859-2</code>?"},{"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"score":0,"creation_date":1501755896,"post_id":45480397,"comment_id":77923326,"body_markdown":"@Kayaman If I copy content of string directly to file is ok so I don&#39;t think that is problem in file.","body":"@Kayaman If I copy content of string directly to file is ok so I don&#39;t think that is problem in file."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501755974,"post_id":45480397,"comment_id":77923373,"body_markdown":"If you change `new PrintWriter(file, &quot;ISO-8859-2&quot;);` to `new PrintWriter(file, &quot;UTF-8&quot;);`, what happens?","body":"If you change <code>new PrintWriter(file, &quot;ISO-8859-2&quot;);</code> to <code>new PrintWriter(file, &quot;UTF-8&quot;);</code>, what happens?"},{"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"score":0,"creation_date":1501756672,"post_id":45480397,"comment_id":77923907,"body_markdown":"@Kayaman yes , it&#39;s working! Thanks.","body":"@Kayaman yes , it&#39;s working! Thanks."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1501756816,"post_id":45480397,"comment_id":77923996,"body_markdown":"Of course it is, but I&#39;m not sure you understand why it&#39;s working. You&#39;ll also note that your &quot;I don&#39;t think that is problem in file&quot; statement was completely false. Don&#39;t trust your instincts too much.","body":"Of course it is, but I&#39;m not sure you understand why it&#39;s working. You&#39;ll also note that your &quot;I don&#39;t think that is problem in file&quot; statement was completely false. Don&#39;t trust your instincts too much."},{"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"score":0,"creation_date":1501757059,"post_id":45480397,"comment_id":77924186,"body_markdown":"@Kayaman Now I know where was problem.","body":"@Kayaman Now I know where was problem."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1501756515,"creation_date":1501756515,"answer_id":45481745,"question_id":45480397,"body_markdown":"Your String is fine, it contains correct info, but when you write to file you write it with charset &quot;ISO-8859-2&quot;. File doesn&#39;t keep the charset info it is written with. Whatever app reads the file it is expected to know or guess the charset of the file. That&#39;s why it is always recommended to write your files in UTF-8 or UTF-16. So, in your code no change is needed as far as getting your String. Just when you write to file change the charset to UTF-8. The reason that it will work is that you &quot;told&quot; your String that your bytes represent info in charset &quot;ISO-8859-2&quot; and should be interpreted as such. So the String is built correctly. But internally java keeps all Srtings in Unicode charset (UCS-2). So now you can write your String to any other destination (file in your case) in any valid charset and Java will know how to write it. So in your case you can write it in &quot;ISO-8859-2&quot; or in &quot;UTF-8&quot; or any other charset that supports Polish (for instance &quot;UTF-16&quot;) Since UTF-8 is generally accepted de-facto standard it is recommended to use it  ","title":"Polish characters in file java","body":"<p>Your String is fine, it contains correct info, but when you write to file you write it with charset \"ISO-8859-2\". File doesn't keep the charset info it is written with. Whatever app reads the file it is expected to know or guess the charset of the file. That's why it is always recommended to write your files in UTF-8 or UTF-16. So, in your code no change is needed as far as getting your String. Just when you write to file change the charset to UTF-8. The reason that it will work is that you \"told\" your String that your bytes represent info in charset \"ISO-8859-2\" and should be interpreted as such. So the String is built correctly. But internally java keeps all Srtings in Unicode charset (UCS-2). So now you can write your String to any other destination (file in your case) in any valid charset and Java will know how to write it. So in your case you can write it in \"ISO-8859-2\" or in \"UTF-8\" or any other charset that supports Polish (for instance \"UTF-16\") Since UTF-8 is generally accepted de-facto standard it is recommended to use it  </p>\n"},{"comments":[{"owner":{"account_id":13552285,"reputation":159,"user_id":9776821,"display_name":"Jatin Krishna Habibkar"},"score":0,"creation_date":1697526262,"post_id":77306813,"comment_id":136287339,"body_markdown":"yes it worked for me too","body":"yes it worked for me too"}],"tags":[],"owner":{"account_id":8928469,"reputation":11,"user_id":6661857,"display_name":"kshitij"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697526208,"creation_date":1697526208,"answer_id":77306813,"question_id":45480397,"body_markdown":"Use Charset.defaultCharset(). It worked for me.","title":"Polish characters in file java","body":"<p>Use Charset.defaultCharset(). It worked for me.</p>\n"}],"owner":{"account_id":11474886,"reputation":23,"user_id":8410654,"display_name":"TrickyRicky"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7639,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":45481745,"answer_count":2,"score":0,"last_activity_date":1697526208,"creation_date":1501753093,"question_id":45480397,"body_markdown":"I using in my project `Jsoup`. I read docx file and convert it to html. I want write results in file, but I have problem. FileOutputStream not write polish characters. For example instead of \r\n\r\n `Wiersz nad kt&#243;rym znajduje się aktualnie kursor myszy`\r\nI have \r\n\r\n    Wiersz nad kt?rym znajduje si� aktualnie kursor myszy . \r\nThis is my method where I parse html:\r\n\r\n    public String parseHTML(String html) {\r\n    \tint i = 0;\r\n    \tDocument doc = Jsoup.parse(html);\r\n    \tdoc.outputSettings().syntax(Document.OutputSettings.Syntax.xml).charset(&quot;ISO-8859-2&quot;);\r\n    \tfor (Element element : doc.select(&quot;img[src]&quot;)) {\r\n    \t\telement.attr(&quot;src&quot;, &quot;resources/images/img&quot; + i + &quot;.png&quot;);\r\n    \t\ti++;\r\n    \t}\r\n    \treturn doc.toString();\r\n    }\r\n\r\nand here I write to file:\r\n\r\n    public void saveHelpFile(byte[] document) throws IOException {\r\n    \tFile file = new File(\r\n    \t\t\t&quot;path/to/file&quot;);\r\n    \tString s = new String(document, &quot;ISO-8859-2&quot;);\r\n    \tPrintWriter writer = new PrintWriter(file, &quot;ISO-8859-2&quot;);\r\n    \ttry {\r\n    \t\twriter.write(s);\r\n    \t} finally {\r\n    \t\twriter.close();\r\n    \t}\r\n    }\r\n\r\nHere is my method where I read file:\r\n\r\n    public void uploadFile() throws XWPFConverterException, IOException {\r\n    \t\tInputStream in = new FileInputStream(new File(&quot;path/to/file&quot;));\r\n    \t\tXWPFDocument document = new XWPFDocument(in);\r\n    \r\n    \t\tXHTMLOptions options = XHTMLOptions.create();\r\n    \t\tXHTMLConverter.getInstance().convert(document, out, options);\r\n    \r\n    \t\tString html = out.toString();\r\n    \t\thtml = html.replaceAll(&quot;&lt;html&gt;&quot;,\r\n    \t\t\t\t&quot;&lt;html xmlns=&#39;http://www.w3.org/1999/xhtml&#39; &quot; + &quot;\\n&quot; + &quot; xmlns:h=&#39;http://java.sun.com/jsf/html&#39; &quot; + &quot;\\n&quot;\r\n    \t\t\t\t\t\t+ &quot; xmlns:f=&#39;http://java.sun.com/jsf/core&#39; &quot; + &quot;\\n&quot; + &quot; xmlns:p=&#39;http://primefaces.org/ui &#39; &quot;\r\n    \t\t\t\t\t\t+ &quot;\\n&quot; + &quot; xmlns:ui=&#39;http://java.sun.com/jsf/facelets&#39; &quot; + &quot;\\n&quot;\r\n    \t\t\t\t\t\t+ &quot; xmlns:pe=&#39;http://primefaces.org/ui/extensions&#39; &quot; + &quot;\\n&quot;\r\n    \t\t\t\t\t\t+ &quot; xmlns:components=&#39;http://java.sun.com/jsf/composite/components&#39; &gt;&quot;);\r\n    \r\n    \t\thtml = parseHTML(html, extractPhoto(document));\r\n    \t\thtml = html.replaceAll(&quot;&lt;body&gt;&quot;, &quot;&lt;h:body&gt;&quot;).replaceAll(&quot;&lt;/body&gt;&quot;, &quot;&lt;/h:body&gt;&quot;);\r\n    \t\tsaveHelpFile(html.getBytes(&quot;ISO-8859-2&quot;));\r\n    \t}","title":"Polish characters in file java","body":"<p>I using in my project <code>Jsoup</code>. I read docx file and convert it to html. I want write results in file, but I have problem. FileOutputStream not write polish characters. For example instead of </p>\n\n<p><code>Wiersz nad którym znajduje się aktualnie kursor myszy</code>\nI have </p>\n\n<pre><code>Wiersz nad kt?rym znajduje si� aktualnie kursor myszy . \n</code></pre>\n\n<p>This is my method where I parse html:</p>\n\n<pre><code>public String parseHTML(String html) {\n    int i = 0;\n    Document doc = Jsoup.parse(html);\n    doc.outputSettings().syntax(Document.OutputSettings.Syntax.xml).charset(\"ISO-8859-2\");\n    for (Element element : doc.select(\"img[src]\")) {\n        element.attr(\"src\", \"resources/images/img\" + i + \".png\");\n        i++;\n    }\n    return doc.toString();\n}\n</code></pre>\n\n<p>and here I write to file:</p>\n\n<pre><code>public void saveHelpFile(byte[] document) throws IOException {\n    File file = new File(\n            \"path/to/file\");\n    String s = new String(document, \"ISO-8859-2\");\n    PrintWriter writer = new PrintWriter(file, \"ISO-8859-2\");\n    try {\n        writer.write(s);\n    } finally {\n        writer.close();\n    }\n}\n</code></pre>\n\n<p>Here is my method where I read file:</p>\n\n<pre><code>public void uploadFile() throws XWPFConverterException, IOException {\n        InputStream in = new FileInputStream(new File(\"path/to/file\"));\n        XWPFDocument document = new XWPFDocument(in);\n\n        XHTMLOptions options = XHTMLOptions.create();\n        XHTMLConverter.getInstance().convert(document, out, options);\n\n        String html = out.toString();\n        html = html.replaceAll(\"&lt;html&gt;\",\n                \"&lt;html xmlns='http://www.w3.org/1999/xhtml' \" + \"\\n\" + \" xmlns:h='http://java.sun.com/jsf/html' \" + \"\\n\"\n                        + \" xmlns:f='http://java.sun.com/jsf/core' \" + \"\\n\" + \" xmlns:p='http://primefaces.org/ui ' \"\n                        + \"\\n\" + \" xmlns:ui='http://java.sun.com/jsf/facelets' \" + \"\\n\"\n                        + \" xmlns:pe='http://primefaces.org/ui/extensions' \" + \"\\n\"\n                        + \" xmlns:components='http://java.sun.com/jsf/composite/components' &gt;\");\n\n        html = parseHTML(html, extractPhoto(document));\n        html = html.replaceAll(\"&lt;body&gt;\", \"&lt;h:body&gt;\").replaceAll(\"&lt;/body&gt;\", \"&lt;/h:body&gt;\");\n        saveHelpFile(html.getBytes(\"ISO-8859-2\"));\n    }\n</code></pre>\n"},{"tags":["java","maven","wso2","wso2-api-manager"],"comments":[{"owner":{"account_id":11225699,"reputation":1271,"user_id":8235367,"display_name":"RrR-"},"score":0,"creation_date":1691983954,"post_id":76884585,"comment_id":135559558,"body_markdown":"Could you try with an older version of JDK 11 (eg: 11.0.19)?","body":"Could you try with an older version of JDK 11 (eg: 11.0.19)?"},{"owner":{"account_id":29206670,"reputation":1,"user_id":22375620,"display_name":"Thperchi"},"score":0,"creation_date":1692179721,"post_id":76884585,"comment_id":135587679,"body_markdown":"It seems to be working fine with 11.0.19 redhat build.\nI already tried using JDK 17 and it didn&#39;t work so I thought it was not part of the problem.\nDo you have any idea of why would that happen ?\nAnyway thank you so much !\nHave a great day.","body":"It seems to be working fine with 11.0.19 redhat build. I already tried using JDK 17 and it didn&#39;t work so I thought it was not part of the problem. Do you have any idea of why would that happen ? Anyway thank you so much ! Have a great day."},{"owner":{"account_id":11225699,"reputation":1271,"user_id":8235367,"display_name":"RrR-"},"score":0,"creation_date":1692200949,"post_id":76884585,"comment_id":135592318,"body_markdown":"I added the explanation as the answer","body":"I added the explanation as the answer"}],"answers":[{"tags":[],"owner":{"account_id":11225699,"reputation":1271,"user_id":8235367,"display_name":"RrR-"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692200934,"creation_date":1692200934,"answer_id":76915201,"question_id":76884585,"body_markdown":"Newer versions of JDKs (for example 11.0.20+) introduced a change that affects older versions of certain dependencies. JDK has introduced a system property [1] that can be used to overcome this at runtime. APIM builds are also affected by this change in JDK. So, you will have to use an older version of JDK until those dependencies are bumped.\r\n\r\nFurthermore, building product repos with JDK 17 is not support yet.\r\n\r\n[1] - https://bugs.openjdk.org/browse/JDK-8302992","title":"&quot;P2 publisher return code was 1&quot; On fresh cloned WSO2 API Manager","body":"<p>Newer versions of JDKs (for example 11.0.20+) introduced a change that affects older versions of certain dependencies. JDK has introduced a system property [1] that can be used to overcome this at runtime. APIM builds are also affected by this change in JDK. So, you will have to use an older version of JDK until those dependencies are bumped.</p>\n<p>Furthermore, building product repos with JDK 17 is not support yet.</p>\n<p>[1] - <a href=\"https://bugs.openjdk.org/browse/JDK-8302992\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8302992</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697714882,"post_id":77306766,"comment_id":136316054,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77306766/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16939819,"reputation":1,"user_id":12251966,"display_name":"Guillaume BRINON"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697525896,"creation_date":1697525896,"answer_id":77306766,"question_id":76884585,"body_markdown":"I had exactly the same issue. \r\nThe build fails with jdk11.0.20+8 but works with jdk-11.0.20.1+1.\r\nI didn&#39;t tried with older jdk versions such as 11.0.19\r\n","title":"&quot;P2 publisher return code was 1&quot; On fresh cloned WSO2 API Manager","body":"<p>I had exactly the same issue.\nThe build fails with jdk11.0.20+8 but works with jdk-11.0.20.1+1.\nI didn't tried with older jdk versions such as 11.0.19</p>\n"}],"owner":{"account_id":29206670,"reputation":1,"user_id":22375620,"display_name":"Thperchi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697525896,"creation_date":1691765146,"question_id":76884585,"body_markdown":"Hello Stack Overflow community,\r\n\r\nI&#39;m facing a challenging issue while attempting to build certain WSO2 products, specifically APIM (API Manager) versions. Previously, I was trying to fix CVE on APIM 3.2 and all was working fine, but recently I&#39;ve encountered a persistent problem that has hindered my progress. Roughly a week ago, I noticed that my attempts to build Carbon or APIM products were consistently failing, even when using a freshly cloned repository with no modifications.\r\n\r\nMy development environment includes OpenJDK 11.0.20 and Maven 3.9.4 for building. However, despite these stable tools, I&#39;ve run into an error that I&#39;m unable to resolve on my own.\r\n\r\nHere&#39;s a snippet from the log file of the API Manager 4.2.0 build:\r\n\r\n```\r\n[INFO] Command line:\r\n\t[/usr/lib/jvm/java-11-openjdk-amd64/bin/java, -jar, /home/user/.m2/repository/org/eclipse/tycho/tycho-bundles-external/0.25.0/eclipse/plugins/org.eclipse.equinox.launcher_1.3.200.v20151021-1308.jar, -configuration, /tmp/tycho-p2-runtime3733042892252974600.tmp/configuration, -debug, -consoleLog, -console, -nosplash, -application, org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher, -source, /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract, -metadataRepository, file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo, -metadataRepositoryName, am-p2-profile, -artifactRepository, file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo, -artifactRepositoryName, am-p2-profile, -publishArtifacts, -publishArtifactRepository, -compress, -append]\r\nConfiguration location:\r\n    file:/tmp/tycho-p2-runtime3733042892252974600.tmp/configuration/\r\nConfiguration file:\r\n    file:/tmp/tycho-p2-runtime3733042892252974600.tmp/configuration/config.ini loaded\r\nInstall location:\r\n    file:/tmp/tycho-p2-runtime3733042892252974600.tmp/\r\nFramework located:\r\n    file:/home/user/.m2/repository/org/eclipse/tycho/tycho-bundles-external/0.25.0/eclipse/plugins/org.eclipse.osgi_3.11.0.v20160309-1913.jar\r\nFramework classpath:\r\n    file:/home/user/.m2/repository/org/eclipse/tycho/tycho-bundles-external/0.25.0/eclipse/plugins/org.eclipse.osgi_3.11.0.v20160309-1913.jar\r\nDebug options:\r\n    file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/.options not found\r\nTime to load bundles: 337\r\n!SESSION 2023-08-09 18:28:43.789 -----------------------------------------------\r\neclipse.buildId=unknown\r\njava.version=11.0.20\r\njava.vendor=Ubuntu\r\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=fr_FR\r\nFramework arguments:  -application org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher -source /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract -metadataRepository file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo -metadataRepositoryName am-p2-profile -artifactRepository file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo -artifactRepositoryName am-p2-profile -publishArtifacts -publishArtifactRepository -compress -append\r\nCommand-line arguments:  -debug -consoleLog -console -application org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher -source /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract -metadataRepository file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo -metadataRepositoryName am-p2-profile -artifactRepository file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo -artifactRepositoryName am-p2-profile -publishArtifacts -publishArtifactRepository -compress -append\r\n\r\n!ENTRY org.eclipse.tycho.p2.resolver.impl 4 0 2023-08-09 18:28:44.644\r\n!MESSAGE FrameworkEvent ERROR\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.tycho.p2.resolver.impl [53]\r\n  Unresolved requirement: Import-Package: org.eclipse.tycho\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:444)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1620)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1599)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1571)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1514)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n\r\n!ENTRY org.eclipse.tycho.p2.maven.repository 4 0 2023-08-09 18:28:44.646\r\n!MESSAGE FrameworkEvent ERROR\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.tycho.p2.maven.repository [54]\r\n  Unresolved requirement: Import-Package: org.eclipse.tycho\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:444)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1620)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1599)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1571)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1514)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n\r\n!ENTRY org.eclipse.tycho.p2.tools.impl 4 0 2023-08-09 18:28:44.646\r\n!MESSAGE FrameworkEvent ERROR\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.tycho.p2.tools.impl [55]\r\n  Unresolved requirement: Import-Package: org.eclipse.tycho\r\n\r\n\tat org.eclipse.osgi.container.Module.start(Module.java:444)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1620)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1599)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1571)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1514)\r\n\tat org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\r\n\r\n!ENTRY org.eclipse.osgi 4 0 2023-08-09 18:28:44.815\r\n!MESSAGE Could not find bundle: org.eclipse.equinox.console\r\n!STACK 0\r\norg.osgi.framework.BundleException: Could not find bundle: org.eclipse.equinox.console\r\n\tat org.eclipse.core.runtime.internal.adaptor.ConsoleManager.checkForConsoleBundle(ConsoleManager.java:58)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:339)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:670)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:609)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1516)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1489)\r\nStarting application: 1028\r\nGenerating metadata for ..\r\nStatus ERROR: this code=0 publishing result null children=[Status OK: unknown code=0 OK null Status ERROR: org.eclipse.equinox.p2.publisher.eclipse code=0 An error occurred while publishing bundle /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract/plugins/waffle-jna-1.6.0.wso2v7.jar: Invalid CEN header (invalid zip64 extra data field size) java.util.zip.ZipException: Invalid CEN header (invalid zip64 extra data field size) Status ERROR: org.eclipse.equinox.p2.publisher.eclipse code=0 An error occurred while publishing bundle /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract/plugins/waffle-jna-1.6.0.wso2v6.jar: Invalid CEN header (invalid zip64 extra data field size) java.util.zip.ZipException: Invalid CEN header (invalid zip64 extra data field size)]\r\nProduct publisher application was executed with the following arguments:\r\n-source\r\n/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract\r\n-metadataRepository\r\nfile:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo\r\n-metadataRepositoryName\r\nam-p2-profile\r\n-artifactRepository\r\nfile:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo\r\n-artifactRepositoryName\r\nam-p2-profile\r\n-publishArtifacts\r\n-publishArtifactRepository\r\n-compress\r\n-append\r\n[ERROR] P2 publisher return code was 1\r\norg.apache.maven.plugin.MojoFailureException: P2 publisher return code was 1\r\n    at org.wso2.maven.p2.RepositoryGenMojo.generateRepository (RepositoryGenMojo.java:255)\r\n    at org.wso2.maven.p2.RepositoryGenMojo.createRepo (RepositoryGenMojo.java:204)\r\n    at org.wso2.maven.p2.RepositoryGenMojo.execute (RepositoryGenMojo.java:191)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Summary for WSO2 API Manager - Aggregator Module 4.2.0-SNAPSHOT:\r\n[INFO] \r\n[INFO] WSO2 API Manager - Aggregator Module ............... SUCCESS [ 38.591 s]\r\n[INFO] WSO2 API Manager - Styles Parent ................... SUCCESS [  0.025 s]\r\n[INFO] WSO2 API Manager - Styles .......................... SUCCESS [ 22.109 s]\r\n[INFO] WSO2 API Manager - UI Styles ....................... SUCCESS [ 44.569 s]\r\n[INFO] WSO2 API Manager - Multi Tenant Dashboard .......... SUCCESS [  3.821 s]\r\n[INFO] WSO2 API Manager - Features Parent ................. SUCCESS [  0.022 s]\r\n[INFO] WSO2 API Manager - Features Aggregator Module ...... SUCCESS [  0.019 s]\r\n[INFO] WSO2 API Manager - Styles Features ................. SUCCESS [ 13.838 s]\r\n[INFO] WSO2 API Manager - Multi Tenant Dashboard Feature .. SUCCESS [ 14.893 s]\r\n[INFO] WSO2 API Manager - Secutity Aggregated Feature ..... SUCCESS [ 24.827 s]\r\n[INFO] WSO2 API Manager - P2 Profile Generation Parent .... SUCCESS [  0.018 s]\r\n[INFO] WSO2 API Manager - P2 Profile Generation ........... FAILURE [05:07 min]\r\n[INFO] WSO2 API Manager - OAuth2 Grant Types .............. SKIPPED\r\n[INFO] WSO2 API Manager - CallHome Module ................. SKIPPED\r\n[INFO] WSO2 API Manager - Identity Local Authenticators ... SKIPPED\r\n[INFO] WSO2 API Manager - Distribution Parent ............. SKIPPED\r\n[INFO] WSO2 API Manager - Distribution .................... SKIPPED\r\n[INFO] WSO2 API Manager - Integration Tests ............... SKIPPED\r\n[INFO] WSO2 API Manager - Integration Test Common Module .. SKIPPED\r\n[INFO] WSO2 API Manager - Integration Admin Clients Module  SKIPPED\r\n[INFO] WSO2 API Manager - Integration Clients Module ...... SKIPPED\r\n[INFO] Publisher API client ............................... SKIPPED\r\n[INFO] Admin API client ................................... SKIPPED\r\n[INFO] Gateway API client ................................. SKIPPED\r\n[INFO] Service Catalog API client ......................... SKIPPED\r\n[INFO] Store API client ................................... SKIPPED\r\n[INFO] Internal API client ................................ SKIPPED\r\n[INFO] WSO2 API Manager - Integration Common Test Module .. SKIPPED\r\n[INFO] WSO2 API Manager - Test Artifacts Tests ............ SKIPPED\r\n[INFO] WSO2 API Manager - RestFul Backend Module for Integration Tests SKIPPED\r\n[INFO] WSO2 API Manager - ArtifactDeploymentMonitor WebApp  SKIPPED\r\n[INFO] WSO2 API Manager - Framework Extensions ............ SKIPPED\r\n[INFO] WSO2 API Manager - Integration Extensions Module ... SKIPPED\r\n[INFO] WSO2 API Manager - Integration UI Pages Module ..... SKIPPED\r\n[INFO] WSO2 API Manager - Extensions ...................... SKIPPED\r\n[INFO] WSO2 API Manager - Third Party Key Manager ......... SKIPPED\r\n[INFO] WSO2 API Manager - Integration New Test Module ..... SKIPPED\r\n[INFO] WSO2 API Manager - Based on product backend Test Module SKIPPED\r\n[INFO] WSO2 API Manager - Based on product benchmark Test Module SKIPPED\r\n[INFO] WSO2 API Manager - Based on product restart Test Module SKIPPED\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  08:33 min\r\n[INFO] Finished at: 2023-08-09T18:28:55+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.wso2.maven:carbon-p2-plugin:5.1.2:p2-repo-gen (2-p2-repo-generation) on project am-p2-profile: P2 publisher return code was 1 -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.wso2.maven:carbon-p2-plugin:5.1.2:p2-repo-gen (2-p2-repo-generation) on project am-p2-profile: P2 publisher return code was 1\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: P2 publisher return code was 1\r\n    at org.wso2.maven.p2.RepositoryGenMojo.createRepo (RepositoryGenMojo.java:210)\r\n    at org.wso2.maven.p2.RepositoryGenMojo.execute (RepositoryGenMojo.java:191)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\nCaused by: org.apache.maven.plugin.MojoFailureException: P2 publisher return code was 1\r\n    at org.wso2.maven.p2.RepositoryGenMojo.generateRepository (RepositoryGenMojo.java:255)\r\n    at org.wso2.maven.p2.RepositoryGenMojo.createRepo (RepositoryGenMojo.java:204)\r\n    at org.wso2.maven.p2.RepositoryGenMojo.execute (RepositoryGenMojo.java:191)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\r\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\r\n[ERROR] \r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n[ERROR] \r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :am-p2-profile\r\n[DEBUG] Shutting down adapter factory; available factories [file-lock, rwlock-local, semaphore-local, noop]; available name mappers [discriminating, file-gav, file-hgav, file-static, gav, static]\r\n[DEBUG] Shutting down &#39;file-lock&#39; factory\r\n[DEBUG] Shutting down &#39;rwlock-local&#39; factory\r\n[DEBUG] Shutting down &#39;semaphore-local&#39; factory\r\n[DEBUG] Shutting down &#39;noop&#39; factory\r\n```\r\n\r\n\r\nThis error seems to be related to the P2 publisher process, where the return code is 1. I&#39;ve tried investigating this further but haven&#39;t been able to identify the root cause. I&#39;ve followed the recommended link provided in the error message, but I still couldn&#39;t find a solution to my problem.\r\n\r\nI&#39;m kindly requesting assistance from the community to help me diagnose and resolve this issue. If you need any additional information or specific details about my environment or configuration, please let me know. I&#39;d be grateful for any insights or suggestions that can guide me towards resolving this build failure.\r\n\r\nThank you in advance for your support and expertise!","title":"&quot;P2 publisher return code was 1&quot; On fresh cloned WSO2 API Manager","body":"<p>Hello Stack Overflow community,</p>\n<p>I'm facing a challenging issue while attempting to build certain WSO2 products, specifically APIM (API Manager) versions. Previously, I was trying to fix CVE on APIM 3.2 and all was working fine, but recently I've encountered a persistent problem that has hindered my progress. Roughly a week ago, I noticed that my attempts to build Carbon or APIM products were consistently failing, even when using a freshly cloned repository with no modifications.</p>\n<p>My development environment includes OpenJDK 11.0.20 and Maven 3.9.4 for building. However, despite these stable tools, I've run into an error that I'm unable to resolve on my own.</p>\n<p>Here's a snippet from the log file of the API Manager 4.2.0 build:</p>\n<pre><code>[INFO] Command line:\n    [/usr/lib/jvm/java-11-openjdk-amd64/bin/java, -jar, /home/user/.m2/repository/org/eclipse/tycho/tycho-bundles-external/0.25.0/eclipse/plugins/org.eclipse.equinox.launcher_1.3.200.v20151021-1308.jar, -configuration, /tmp/tycho-p2-runtime3733042892252974600.tmp/configuration, -debug, -consoleLog, -console, -nosplash, -application, org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher, -source, /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract, -metadataRepository, file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo, -metadataRepositoryName, am-p2-profile, -artifactRepository, file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo, -artifactRepositoryName, am-p2-profile, -publishArtifacts, -publishArtifactRepository, -compress, -append]\nConfiguration location:\n    file:/tmp/tycho-p2-runtime3733042892252974600.tmp/configuration/\nConfiguration file:\n    file:/tmp/tycho-p2-runtime3733042892252974600.tmp/configuration/config.ini loaded\nInstall location:\n    file:/tmp/tycho-p2-runtime3733042892252974600.tmp/\nFramework located:\n    file:/home/user/.m2/repository/org/eclipse/tycho/tycho-bundles-external/0.25.0/eclipse/plugins/org.eclipse.osgi_3.11.0.v20160309-1913.jar\nFramework classpath:\n    file:/home/user/.m2/repository/org/eclipse/tycho/tycho-bundles-external/0.25.0/eclipse/plugins/org.eclipse.osgi_3.11.0.v20160309-1913.jar\nDebug options:\n    file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/.options not found\nTime to load bundles: 337\n!SESSION 2023-08-09 18:28:43.789 -----------------------------------------------\neclipse.buildId=unknown\njava.version=11.0.20\njava.vendor=Ubuntu\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=fr_FR\nFramework arguments:  -application org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher -source /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract -metadataRepository file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo -metadataRepositoryName am-p2-profile -artifactRepository file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo -artifactRepositoryName am-p2-profile -publishArtifacts -publishArtifactRepository -compress -append\nCommand-line arguments:  -debug -consoleLog -console -application org.eclipse.equinox.p2.publisher.FeaturesAndBundlesPublisher -source /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract -metadataRepository file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo -metadataRepositoryName am-p2-profile -artifactRepository file:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo -artifactRepositoryName am-p2-profile -publishArtifacts -publishArtifactRepository -compress -append\n\n!ENTRY org.eclipse.tycho.p2.resolver.impl 4 0 2023-08-09 18:28:44.644\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.tycho.p2.resolver.impl [53]\n  Unresolved requirement: Import-Package: org.eclipse.tycho\n\n    at org.eclipse.osgi.container.Module.start(Module.java:444)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1620)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1599)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1571)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1514)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n\n!ENTRY org.eclipse.tycho.p2.maven.repository 4 0 2023-08-09 18:28:44.646\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.tycho.p2.maven.repository [54]\n  Unresolved requirement: Import-Package: org.eclipse.tycho\n\n    at org.eclipse.osgi.container.Module.start(Module.java:444)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1620)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1599)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1571)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1514)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n\n!ENTRY org.eclipse.tycho.p2.tools.impl 4 0 2023-08-09 18:28:44.646\n!MESSAGE FrameworkEvent ERROR\n!STACK 0\norg.osgi.framework.BundleException: Could not resolve module: org.eclipse.tycho.p2.tools.impl [55]\n  Unresolved requirement: Import-Package: org.eclipse.tycho\n\n    at org.eclipse.osgi.container.Module.start(Module.java:444)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1620)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.incStartLevel(ModuleContainer.java:1599)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.doContainerStartLevel(ModuleContainer.java:1571)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1514)\n    at org.eclipse.osgi.container.ModuleContainer$ContainerStartLevel.dispatchEvent(ModuleContainer.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230)\n    at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)\n\n!ENTRY org.eclipse.osgi 4 0 2023-08-09 18:28:44.815\n!MESSAGE Could not find bundle: org.eclipse.equinox.console\n!STACK 0\norg.osgi.framework.BundleException: Could not find bundle: org.eclipse.equinox.console\n    at org.eclipse.core.runtime.internal.adaptor.ConsoleManager.checkForConsoleBundle(ConsoleManager.java:58)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.startup(EclipseStarter.java:339)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:239)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:670)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:609)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1516)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1489)\nStarting application: 1028\nGenerating metadata for ..\nStatus ERROR: this code=0 publishing result null children=[Status OK: unknown code=0 OK null Status ERROR: org.eclipse.equinox.p2.publisher.eclipse code=0 An error occurred while publishing bundle /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract/plugins/waffle-jna-1.6.0.wso2v7.jar: Invalid CEN header (invalid zip64 extra data field size) java.util.zip.ZipException: Invalid CEN header (invalid zip64 extra data field size) Status ERROR: org.eclipse.equinox.p2.publisher.eclipse code=0 An error occurred while publishing bundle /home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract/plugins/waffle-jna-1.6.0.wso2v6.jar: Invalid CEN header (invalid zip64 extra data field size) java.util.zip.ZipException: Invalid CEN header (invalid zip64 extra data field size)]\nProduct publisher application was executed with the following arguments:\n-source\n/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/tmp.1691598513211/featureExtract\n-metadataRepository\nfile:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo\n-metadataRepositoryName\nam-p2-profile\n-artifactRepository\nfile:/home/user/INTM/Ticket40/apimtest/modules/p2-profile/product/target/p2-repo\n-artifactRepositoryName\nam-p2-profile\n-publishArtifacts\n-publishArtifactRepository\n-compress\n-append\n[ERROR] P2 publisher return code was 1\norg.apache.maven.plugin.MojoFailureException: P2 publisher return code was 1\n    at org.wso2.maven.p2.RepositoryGenMojo.generateRepository (RepositoryGenMojo.java:255)\n    at org.wso2.maven.p2.RepositoryGenMojo.createRepo (RepositoryGenMojo.java:204)\n    at org.wso2.maven.p2.RepositoryGenMojo.execute (RepositoryGenMojo.java:191)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for WSO2 API Manager - Aggregator Module 4.2.0-SNAPSHOT:\n[INFO] \n[INFO] WSO2 API Manager - Aggregator Module ............... SUCCESS [ 38.591 s]\n[INFO] WSO2 API Manager - Styles Parent ................... SUCCESS [  0.025 s]\n[INFO] WSO2 API Manager - Styles .......................... SUCCESS [ 22.109 s]\n[INFO] WSO2 API Manager - UI Styles ....................... SUCCESS [ 44.569 s]\n[INFO] WSO2 API Manager - Multi Tenant Dashboard .......... SUCCESS [  3.821 s]\n[INFO] WSO2 API Manager - Features Parent ................. SUCCESS [  0.022 s]\n[INFO] WSO2 API Manager - Features Aggregator Module ...... SUCCESS [  0.019 s]\n[INFO] WSO2 API Manager - Styles Features ................. SUCCESS [ 13.838 s]\n[INFO] WSO2 API Manager - Multi Tenant Dashboard Feature .. SUCCESS [ 14.893 s]\n[INFO] WSO2 API Manager - Secutity Aggregated Feature ..... SUCCESS [ 24.827 s]\n[INFO] WSO2 API Manager - P2 Profile Generation Parent .... SUCCESS [  0.018 s]\n[INFO] WSO2 API Manager - P2 Profile Generation ........... FAILURE [05:07 min]\n[INFO] WSO2 API Manager - OAuth2 Grant Types .............. SKIPPED\n[INFO] WSO2 API Manager - CallHome Module ................. SKIPPED\n[INFO] WSO2 API Manager - Identity Local Authenticators ... SKIPPED\n[INFO] WSO2 API Manager - Distribution Parent ............. SKIPPED\n[INFO] WSO2 API Manager - Distribution .................... SKIPPED\n[INFO] WSO2 API Manager - Integration Tests ............... SKIPPED\n[INFO] WSO2 API Manager - Integration Test Common Module .. SKIPPED\n[INFO] WSO2 API Manager - Integration Admin Clients Module  SKIPPED\n[INFO] WSO2 API Manager - Integration Clients Module ...... SKIPPED\n[INFO] Publisher API client ............................... SKIPPED\n[INFO] Admin API client ................................... SKIPPED\n[INFO] Gateway API client ................................. SKIPPED\n[INFO] Service Catalog API client ......................... SKIPPED\n[INFO] Store API client ................................... SKIPPED\n[INFO] Internal API client ................................ SKIPPED\n[INFO] WSO2 API Manager - Integration Common Test Module .. SKIPPED\n[INFO] WSO2 API Manager - Test Artifacts Tests ............ SKIPPED\n[INFO] WSO2 API Manager - RestFul Backend Module for Integration Tests SKIPPED\n[INFO] WSO2 API Manager - ArtifactDeploymentMonitor WebApp  SKIPPED\n[INFO] WSO2 API Manager - Framework Extensions ............ SKIPPED\n[INFO] WSO2 API Manager - Integration Extensions Module ... SKIPPED\n[INFO] WSO2 API Manager - Integration UI Pages Module ..... SKIPPED\n[INFO] WSO2 API Manager - Extensions ...................... SKIPPED\n[INFO] WSO2 API Manager - Third Party Key Manager ......... SKIPPED\n[INFO] WSO2 API Manager - Integration New Test Module ..... SKIPPED\n[INFO] WSO2 API Manager - Based on product backend Test Module SKIPPED\n[INFO] WSO2 API Manager - Based on product benchmark Test Module SKIPPED\n[INFO] WSO2 API Manager - Based on product restart Test Module SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  08:33 min\n[INFO] Finished at: 2023-08-09T18:28:55+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.wso2.maven:carbon-p2-plugin:5.1.2:p2-repo-gen (2-p2-repo-generation) on project am-p2-profile: P2 publisher return code was 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.wso2.maven:carbon-p2-plugin:5.1.2:p2-repo-gen (2-p2-repo-generation) on project am-p2-profile: P2 publisher return code was 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:333)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.plugin.MojoExecutionException: P2 publisher return code was 1\n    at org.wso2.maven.p2.RepositoryGenMojo.createRepo (RepositoryGenMojo.java:210)\n    at org.wso2.maven.p2.RepositoryGenMojo.execute (RepositoryGenMojo.java:191)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\nCaused by: org.apache.maven.plugin.MojoFailureException: P2 publisher return code was 1\n    at org.wso2.maven.p2.RepositoryGenMojo.generateRepository (RepositoryGenMojo.java:255)\n    at org.wso2.maven.p2.RepositoryGenMojo.createRepo (RepositoryGenMojo.java:204)\n    at org.wso2.maven.p2.RepositoryGenMojo.execute (RepositoryGenMojo.java:191)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:328)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:316)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:212)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:174)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.access$000 (MojoExecutor.java:75)\n    at org.apache.maven.lifecycle.internal.MojoExecutor$1.run (MojoExecutor.java:162)\n    at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute (DefaultMojosExecutionStrategy.java:39)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:159)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:105)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:73)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:53)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:118)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:261)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:173)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:101)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:906)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:283)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:206)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:283)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:226)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:407)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:348)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :am-p2-profile\n[DEBUG] Shutting down adapter factory; available factories [file-lock, rwlock-local, semaphore-local, noop]; available name mappers [discriminating, file-gav, file-hgav, file-static, gav, static]\n[DEBUG] Shutting down 'file-lock' factory\n[DEBUG] Shutting down 'rwlock-local' factory\n[DEBUG] Shutting down 'semaphore-local' factory\n[DEBUG] Shutting down 'noop' factory\n</code></pre>\n<p>This error seems to be related to the P2 publisher process, where the return code is 1. I've tried investigating this further but haven't been able to identify the root cause. I've followed the recommended link provided in the error message, but I still couldn't find a solution to my problem.</p>\n<p>I'm kindly requesting assistance from the community to help me diagnose and resolve this issue. If you need any additional information or specific details about my environment or configuration, please let me know. I'd be grateful for any insights or suggestions that can guide me towards resolving this build failure.</p>\n<p>Thank you in advance for your support and expertise!</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":29154309,"reputation":13,"user_id":22438747,"display_name":"Adonis Becerra Morales"},"score":0,"creation_date":1697491593,"post_id":77305014,"comment_id":136284220,"body_markdown":"I didn&#39;t checked the data types!! This was an older project and I forgot it was stored as a String, I thought it was a number. Thank you so much!!!","body":"I didn&#39;t checked the data types!! This was an older project and I forgot it was stored as a String, I thought it was a number. Thank you so much!!!"}],"tags":[],"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697491158,"creation_date":1697491158,"answer_id":77305014,"question_id":77304863,"body_markdown":"The check constraint is wrong:\r\n\r\n&gt;  imagen varchar(255) not null check (imagen&gt;=1 AND imagen&lt;=7)\r\n\r\nimagen is a piece of text, that can&#39;t be larger or equal to 1. Nor can it be smaller or equal to 7. It&#39;s text, not an integer.\r\n\r\nWhat should the constraint do?","title":"Spring boot starter validations not working with postgres. Error excecuting DDL","body":"<p>The check constraint is wrong:</p>\n<blockquote>\n<p>imagen varchar(255) not null check (imagen&gt;=1 AND imagen&lt;=7)</p>\n</blockquote>\n<p>imagen is a piece of text, that can't be larger or equal to 1. Nor can it be smaller or equal to 7. It's text, not an integer.</p>\n<p>What should the constraint do?</p>\n"},{"tags":[],"owner":{"account_id":29256396,"reputation":11,"user_id":22414504,"display_name":"Adil ALTUN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697525700,"creation_date":1697524744,"answer_id":77306663,"question_id":77304863,"body_markdown":"You can use @Size or @Length instead of @Min and @Max anatations. @Min and @Max annotations are often used in numeric data types.\r\n\r\n**For example:**\r\n\r\n    @NotNull\r\n    @Size(min = 1, max = 7)\r\n    @Column(nullable=false)\r\n    private String imagen\r\n*or*\r\n\r\n    @NotNull\r\n    @Length(min = 1, max = 7)\r\n    @Column(nullable=false)\r\n    private String imagen\r\n\r\nYou can check [Difference Between @Size, @Length][1] this link.\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-size-length-column-differences","title":"Spring boot starter validations not working with postgres. Error excecuting DDL","body":"<p>You can use @Size or @Length instead of @Min and @Max anatations. @Min and @Max annotations are often used in numeric data types.</p>\n<p><strong>For example:</strong></p>\n<pre><code>@NotNull\n@Size(min = 1, max = 7)\n@Column(nullable=false)\nprivate String imagen\n</code></pre>\n<p><em>or</em></p>\n<pre><code>@NotNull\n@Length(min = 1, max = 7)\n@Column(nullable=false)\nprivate String imagen\n</code></pre>\n<p>You can check <a href=\"https://www.baeldung.com/jpa-size-length-column-differences\" rel=\"nofollow noreferrer\">Difference Between @Size, @Length</a> this link.</p>\n"}],"owner":{"account_id":29154309,"reputation":13,"user_id":22438747,"display_name":"Adonis Becerra Morales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77305014,"answer_count":2,"score":1,"last_activity_date":1697525700,"creation_date":1697489119,"question_id":77304863,"body_markdown":"I have a project with spring boot starter validations and recently added the driver to connect to a postgres database and the ddl-auto=create. When the application starts it is not able to create my table. I have two models with the @Entity annotation, one doesn&#39;t have validations and is succesfully created, but the other(Usuarios) does have them. I have used the same code but with h2 and everything seemed to work fine, but when I changed to Postgres I get this error printed while initializing the project: \r\n\r\nHint: Ning&#250;n operador coincide en el nombre y tipos de argumentos. Puede ser necesario agregar conversi&#243;n expl&#237;cita de tipos. Error executing DDL &quot;create table usuarios (id  bigserial not null, contrasena varchar(255) not null, correo varchar(255) not null, imagen varchar(255) not null check (imagen&gt;=1 AND imagen&lt;=7), nombre varchar(70) not null, telefono varchar(10) not null, primary key (id))&quot; via JDBC Statement\r\nCaused by: org.postgresql.util.PSQLException: ERROR: el operador no existe: character varying &gt;= integer \r\n\r\n\r\n\r\nHere is the model with issues:\r\n```\r\n@Entity\r\n@Table(name=&quot;Usuarios&quot;)\r\npublic class Usuarios {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(unique=true, nullable=false)\r\n\tprivate Long id;\r\n\r\n\t@NotNull\r\n\t@Size(min=5, max=70)\r\n\t@Column(nullable=false)\r\n\tprivate String nombre;\r\n\r\n\r\n\t@NotNull\r\n\t@Size(min=10, max=10)\r\n\t@Column(nullable=false)\r\n\tprivate String telefono;\r\n\r\n\t@NotNull\r\n\t@Email\r\n\t@Column(nullable=false)\r\n\tprivate String correo;\r\n\r\n\t@Size(min=6)\r\n\t@Column(nullable=false)\r\n\tprivate String contrasena;\r\n\r\n\t@NotNull\r\n\t@Min(1)\r\n\t@Max(7)\r\n\t@Column(nullable=false)\r\n\tprivate String imagen;\r\n```","title":"Spring boot starter validations not working with postgres. Error excecuting DDL","body":"<p>I have a project with spring boot starter validations and recently added the driver to connect to a postgres database and the ddl-auto=create. When the application starts it is not able to create my table. I have two models with the @Entity annotation, one doesn't have validations and is succesfully created, but the other(Usuarios) does have them. I have used the same code but with h2 and everything seemed to work fine, but when I changed to Postgres I get this error printed while initializing the project:</p>\n<p>Hint: Ningún operador coincide en el nombre y tipos de argumentos. Puede ser necesario agregar conversión explícita de tipos. Error executing DDL &quot;create table usuarios (id  bigserial not null, contrasena varchar(255) not null, correo varchar(255) not null, imagen varchar(255) not null check (imagen&gt;=1 AND imagen&lt;=7), nombre varchar(70) not null, telefono varchar(10) not null, primary key (id))&quot; via JDBC Statement\nCaused by: org.postgresql.util.PSQLException: ERROR: el operador no existe: character varying &gt;= integer</p>\n<p>Here is the model with issues:</p>\n<pre><code>@Entity\n@Table(name=&quot;Usuarios&quot;)\npublic class Usuarios {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(unique=true, nullable=false)\n    private Long id;\n\n    @NotNull\n    @Size(min=5, max=70)\n    @Column(nullable=false)\n    private String nombre;\n\n\n    @NotNull\n    @Size(min=10, max=10)\n    @Column(nullable=false)\n    private String telefono;\n\n    @NotNull\n    @Email\n    @Column(nullable=false)\n    private String correo;\n\n    @Size(min=6)\n    @Column(nullable=false)\n    private String contrasena;\n\n    @NotNull\n    @Min(1)\n    @Max(7)\n    @Column(nullable=false)\n    private String imagen;\n</code></pre>\n"},{"tags":["java","azure","azure-blob-storage","sas-token"],"comments":[{"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"score":0,"creation_date":1697524349,"post_id":77306353,"comment_id":136287045,"body_markdown":"Does this help? https://stackoverflow.com/questions/25038429/azure-shared-access-signature-signature-did-not-match","body":"Does this help? <a href=\"https://stackoverflow.com/questions/25038429/azure-shared-access-signature-signature-did-not-match\" title=\"azure shared access signature signature did not match\">stackoverflow.com/questions/25038429/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":24502331,"reputation":23,"user_id":18417790,"display_name":"Dev-eloper"},"score":0,"creation_date":1697529669,"post_id":77306642,"comment_id":136287881,"body_markdown":"Thank you. I gave blob name wrong one so it was not matching with sas token uri.  Now I replaced it but when I am trying to upload I’m getting already blob exists. Actually I am trying for the first time . This should not come . Any particular reason for this? Or Am I uploading wrongly?","body":"Thank you. I gave blob name wrong one so it was not matching with sas token uri.  Now I replaced it but when I am trying to upload I’m getting already blob exists. Actually I am trying for the first time . This should not come . Any particular reason for this? Or Am I uploading wrongly?"},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1697531063,"post_id":77306642,"comment_id":136288116,"body_markdown":"Try with different blob name like `sample1.png`","body":"Try with different blob name like <code>sample1.png</code>"}],"tags":[],"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697524579,"creation_date":1697524579,"answer_id":77306642,"question_id":77306353,"body_markdown":"&gt; Local to azure blob storage using Azure blob storage\r\n\r\nThe above error occurs when you pass the wrong sas token in your code.\r\n\r\nYou can get the SAS token from the portal.\r\n\r\n**Portal:** \r\n\r\nStorageaccounts-&gt; shared access signature -&gt; check the required fields -&gt; Generate SAS-token.\r\n\r\n![enter image description here](https://i.imgur.com/tfuR2dE.png)\r\n\r\nNow, I tried with the below code it successfully executed and uploaded file from local to Azure blob storage,\r\n\r\n**Code:**\r\n\r\n    String sasToken = &quot;?sv=2022-11-02&amp;ss=bfqt&amp;srt=sco&amp;sp=rwdlacupiytfx&amp;se=2023-10-17T13:32:35Z&amp;st=2023-10-17T05:32:35Z&amp;spr=https&amp;sig=xxxxx&quot;;\r\n    String sasTokenUri=&quot;https://venkat123.blob.core.windows.net/test/&quot; + sasToken;\r\n    String blobName = &quot;sample.png&quot;;\r\n    String filePath = &quot;Your local path&quot;;\r\n    \r\n    BlobClientBuilder builder = new BlobClientBuilder().endpoint(sasTokenUri).blobName(blobName);\r\n            builder.buildClient().uploadFromFile(filePath);\r\n    System.out.println(&quot;The file is uploaded successfully.&quot;);\r\n\r\n**Output:**\r\n![enter image description here](https://i.imgur.com/hlhrECT.png)\r\n\r\n**Portal:**\r\n![enter image description here](https://i.imgur.com/Ctc9oAx.png)\r\n\r\n**Reference:**\r\n[Azure Storage Blob client library for Java | Microsoft Learn](https://learn.microsoft.com/en-us/java/api/overview/azure/storage-blob-readme?view=azure-java-stable)","title":"&lt;/Message&gt;AuthenticationErrorDetail&gt;Signature did not match. string to sign used was w","body":"<blockquote>\n<p>Local to azure blob storage using Azure blob storage</p>\n</blockquote>\n<p>The above error occurs when you pass the wrong sas token in your code.</p>\n<p>You can get the SAS token from the portal.</p>\n<p><strong>Portal:</strong></p>\n<p>Storageaccounts-&gt; shared access signature -&gt; check the required fields -&gt; Generate SAS-token.</p>\n<p><img src=\"https://i.imgur.com/tfuR2dE.png\" alt=\"enter image description here\" /></p>\n<p>Now, I tried with the below code it successfully executed and uploaded file from local to Azure blob storage,</p>\n<p><strong>Code:</strong></p>\n<pre><code>String sasToken = &quot;?sv=2022-11-02&amp;ss=bfqt&amp;srt=sco&amp;sp=rwdlacupiytfx&amp;se=2023-10-17T13:32:35Z&amp;st=2023-10-17T05:32:35Z&amp;spr=https&amp;sig=xxxxx&quot;;\nString sasTokenUri=&quot;https://venkat123.blob.core.windows.net/test/&quot; + sasToken;\nString blobName = &quot;sample.png&quot;;\nString filePath = &quot;Your local path&quot;;\n\nBlobClientBuilder builder = new BlobClientBuilder().endpoint(sasTokenUri).blobName(blobName);\n        builder.buildClient().uploadFromFile(filePath);\nSystem.out.println(&quot;The file is uploaded successfully.&quot;);\n</code></pre>\n<p><strong>Output:</strong>\n<img src=\"https://i.imgur.com/hlhrECT.png\" alt=\"enter image description here\" /></p>\n<p><strong>Portal:</strong>\n<img src=\"https://i.imgur.com/Ctc9oAx.png\" alt=\"enter image description here\" /></p>\n<p><strong>Reference:</strong>\n<a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/storage-blob-readme?view=azure-java-stable\" rel=\"nofollow noreferrer\">Azure Storage Blob client library for Java | Microsoft Learn</a></p>\n"}],"owner":{"account_id":24502331,"reputation":23,"user_id":18417790,"display_name":"Dev-eloper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77306642,"answer_count":1,"score":0,"last_activity_date":1697524579,"creation_date":1697520505,"question_id":77306353,"body_markdown":"I am trying to upload the file from local to azure blob storage using Azure blob storage dependency in Java Spring.\r\n\r\nHere I’m using sas token to upload the file.\r\nThe code snippet is:-\r\n\r\n    BlobClient blobClient=new BlobClientBuilder().endpoint(sasTokenUri).blobName(blobName).buildClient();\r\n    blobClient.uploadFromFile(“File”);\r\n\r\nHere sasTokenUri = https://domain.blob.core.windows.net/containerName/?sv=2022-11-02&amp;se=2023-10-17To4%3A29%3A52z&amp;sr=d&amp;sp=w&amp;sdd=1&amp;sig=xxxxxxxxxxxx \r\n\r\n\r\nCould anyone please help to identify the issue and resolve it?\r\n","title":"&lt;/Message&gt;AuthenticationErrorDetail&gt;Signature did not match. string to sign used was w","body":"<p>I am trying to upload the file from local to azure blob storage using Azure blob storage dependency in Java Spring.</p>\n<p>Here I’m using sas token to upload the file.\nThe code snippet is:-</p>\n<pre><code>BlobClient blobClient=new BlobClientBuilder().endpoint(sasTokenUri).blobName(blobName).buildClient();\nblobClient.uploadFromFile(“File”);\n</code></pre>\n<p>Here sasTokenUri = <a href=\"https://domain.blob.core.windows.net/containerName/?sv=2022-11-02&amp;se=2023-10-17To4%3A29%3A52z&amp;sr=d&amp;sp=w&amp;sdd=1&amp;sig=xxxxxxxxxxxx\" rel=\"nofollow noreferrer\">https://domain.blob.core.windows.net/containerName/?sv=2022-11-02&amp;se=2023-10-17To4%3A29%3A52z&amp;sr=d&amp;sp=w&amp;sdd=1&amp;sig=xxxxxxxxxxxx</a></p>\n<p>Could anyone please help to identify the issue and resolve it?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1696945246,"post_id":77266279,"comment_id":136215396,"body_markdown":"Show us the full error log starting from the `!SESSION` line. Note that deleting the metadata is an extremely bad idea as you will loose all sorts of settings and it rarely fixes anything. What version of Eclipse? What version of Java?","body":"Show us the full error log starting from the <code>!SESSION</code> line. Note that deleting the metadata is an extremely bad idea as you will loose all sorts of settings and it rarely fixes anything. What version of Eclipse? What version of Java?"},{"owner":{"account_id":27225437,"reputation":1,"user_id":20754007,"display_name":"Aslan"},"score":0,"creation_date":1696945552,"post_id":77266279,"comment_id":136215463,"body_markdown":"added relevant info","body":"added relevant info"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1696945715,"post_id":77266279,"comment_id":136215501,"body_markdown":"Move to a stable release of Java, like Java 17. Java 16 has been end of life for years and was never meant to be used long-term.","body":"Move to a stable release of Java, like Java 17. Java 16 has been end of life for years and was never meant to be used long-term."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696953372,"post_id":77266279,"comment_id":136217171,"body_markdown":"Time to upgrade to IntelliJ ;-)","body":"Time to upgrade to IntelliJ ;-)"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":3,"creation_date":1696954870,"post_id":77266279,"comment_id":136217525,"body_markdown":"The first thing to do is try with the current Eclipse 2023-09 rather than a release which is now 2 years and 9 releases old. Most current releases include a suitable Java 17.","body":"The first thing to do is try with the current Eclipse 2023-09 rather than a release which is now 2 years and 9 releases old. Most current releases include a suitable Java 17."}],"answers":[{"comments":[{"owner":{"account_id":27225437,"reputation":1,"user_id":20754007,"display_name":"Aslan"},"score":0,"creation_date":1696945917,"post_id":77266379,"comment_id":136215542,"body_markdown":"where do i run this commnad","body":"where do i run this commnad"},{"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"score":0,"creation_date":1696946197,"post_id":77266379,"comment_id":136215596,"body_markdown":"Goto path where eclipse exe file is located. Open command prompt at that path and run this command.","body":"Goto path where eclipse exe file is located. Open command prompt at that path and run this command."},{"owner":{"account_id":27225437,"reputation":1,"user_id":20754007,"display_name":"Aslan"},"score":0,"creation_date":1696946440,"post_id":77266379,"comment_id":136215660,"body_markdown":"no change same issue","body":"no change same issue"}],"tags":[],"owner":{"account_id":4335872,"reputation":77,"user_id":3540367,"display_name":"Vinit More"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696955565,"creation_date":1696945650,"answer_id":77266379,"question_id":77266279,"body_markdown":" 1. Check eclipse.ini file and verify jdk/jre paths. Infact all paths are correct.\r\n 2. Run this command\r\n&gt; eclipse.exe -clean -clearPersistedState\r\n\r\n 3. Maybe your workspace is corrupted. Try to look in to workspace configuration or create new workspace.\r\nPlease comment if none of these worked.\r\n\r\n 4. [Follow this thread][1]\r\n\r\n 5. Upgrade Eclipse\r\n\r\n  [1]: https://stackoverflow.com/questions/1042824/not-able-to-run-eclipse-application-cant-even-start-eclipse-ide/47948092#47948092:~:text=That%20should%20mean%20a%20workspace%20issue","title":"Error on startup eclipse java.lang.IllegalArgumentException: -2147483647 &gt; 1","body":"<ol>\n<li>Check eclipse.ini file and verify jdk/jre paths. Infact all paths are correct.</li>\n<li>Run this command</li>\n</ol>\n<blockquote>\n<p>eclipse.exe -clean -clearPersistedState</p>\n</blockquote>\n<ol start=\"3\">\n<li><p>Maybe your workspace is corrupted. Try to look in to workspace configuration or create new workspace.\nPlease comment if none of these worked.</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/1042824/not-able-to-run-eclipse-application-cant-even-start-eclipse-ide/47948092#47948092:%7E:text=That%20should%20mean%20a%20workspace%20issue\">Follow this thread</a></p>\n</li>\n<li><p>Upgrade Eclipse</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27225437,"reputation":1,"user_id":20754007,"display_name":"Aslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697524477,"creation_date":1697524445,"answer_id":77306635,"question_id":77266279,"body_markdown":"---\\eclipse\\configuration\\\\.settings\r\n\r\ngo to this location \r\n\r\nthis is a file name \r\norg.eclipse.ui.ide.prefs \r\n\r\nhere you will find all workspace which were shown as recent workspace on launch any one of those is corrupted, try removing it \r\nit will start\r\n\r\n ","title":"Error on startup eclipse java.lang.IllegalArgumentException: -2147483647 &gt; 1","body":"<p>---\\eclipse\\configuration\\.settings</p>\n<p>go to this location</p>\n<p>this is a file name\norg.eclipse.ui.ide.prefs</p>\n<p>here you will find all workspace which were shown as recent workspace on launch any one of those is corrupted, try removing it\nit will start</p>\n"}],"owner":{"account_id":27225437,"reputation":1,"user_id":20754007,"display_name":"Aslan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77306635,"answer_count":2,"score":0,"last_activity_date":1697524477,"creation_date":1696944952,"question_id":77266279,"body_markdown":"On launch of eclipse it shows logo and vanishes after some time it asks me to check logs in configuration folder \r\nthere it shows this error \r\n\r\n    !SESSION 2023-10-10 18:33:46.464 -----------------------------------------------\r\n    eclipse.buildId=4.20.0.I20210611-1600\r\n    java.version=16.0.1\r\n    java.vendor=Oracle Corporation\r\n    BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_IN\r\n    Framework arguments:  -product org.eclipse.epp.package.jee.product\r\n    Command-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product\r\n    \r\n    !ENTRY org.eclipse.osgi 4 0 2023-10-10 18:50:13.480\r\n    !MESSAGE Application error\r\n    !STACK 1\r\n    java.lang.IllegalArgumentException: -2147483647 &gt; 1\r\n    \tat java.base/java.util.Arrays.copyOfRange(Arrays.java:3781)\r\n    \tat java.base/java.util.Arrays.copyOfRange(Arrays.java:3741)\r\n    \tat org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.lambda$6(ChooseWorkspaceDialog.java:391)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n    \tat org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.createUniqueWorkspaceNameMap(ChooseWorkspaceDialog.java:395)\r\n    \tat org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.createRecentWorkspacesComposite(ChooseWorkspaceDialog.java:329)\r\n    \tat org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.createDialogArea(ChooseWorkspaceDialog.java:183)\r\n    \tat org.eclipse.jface.dialogs.TitleAreaDialog.createContents(TitleAreaDialog.java:157)\r\n    \tat org.eclipse.jface.window.Window.create(Window.java:431)\r\n    \tat org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\r\n    \tat org.eclipse.jface.window.Window.open(Window.java:788)\r\n    \tat org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.prompt(ChooseWorkspaceDialog.java:121)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.showChooseWorkspaceDialog(IDEApplication.java:442)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.promptForWorkspace(IDEApplication.java:373)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.checkInstanceLocation(IDEApplication.java:285)\r\n    \tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:142)\r\n    \tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\r\n    \tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\r\n    \tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\r\n    \tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\r\n    \tat org.eclipse.equinox.launcher.Main.run(Main.java:1462)\r\n\r\n\r\ni have already increased heap size from 256 to 1500 and tried in between also\r\ndeleted metadata of workspace also \r\n\r\nno solution \r\n\r\n","title":"Error on startup eclipse java.lang.IllegalArgumentException: -2147483647 &gt; 1","body":"<p>On launch of eclipse it shows logo and vanishes after some time it asks me to check logs in configuration folder\nthere it shows this error</p>\n<pre><code>!SESSION 2023-10-10 18:33:46.464 -----------------------------------------------\neclipse.buildId=4.20.0.I20210611-1600\njava.version=16.0.1\njava.vendor=Oracle Corporation\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_IN\nFramework arguments:  -product org.eclipse.epp.package.jee.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.jee.product\n\n!ENTRY org.eclipse.osgi 4 0 2023-10-10 18:50:13.480\n!MESSAGE Application error\n!STACK 1\njava.lang.IllegalArgumentException: -2147483647 &gt; 1\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:3781)\n    at java.base/java.util.Arrays.copyOfRange(Arrays.java:3741)\n    at org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.lambda$6(ChooseWorkspaceDialog.java:391)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.createUniqueWorkspaceNameMap(ChooseWorkspaceDialog.java:395)\n    at org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.createRecentWorkspacesComposite(ChooseWorkspaceDialog.java:329)\n    at org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.createDialogArea(ChooseWorkspaceDialog.java:183)\n    at org.eclipse.jface.dialogs.TitleAreaDialog.createContents(TitleAreaDialog.java:157)\n    at org.eclipse.jface.window.Window.create(Window.java:431)\n    at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\n    at org.eclipse.jface.window.Window.open(Window.java:788)\n    at org.eclipse.ui.internal.ide.ChooseWorkspaceDialog.prompt(ChooseWorkspaceDialog.java:121)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.showChooseWorkspaceDialog(IDEApplication.java:442)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.promptForWorkspace(IDEApplication.java:373)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.checkInstanceLocation(IDEApplication.java:285)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:142)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:401)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:654)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1462)\n</code></pre>\n<p>i have already increased heap size from 256 to 1500 and tried in between also\ndeleted metadata of workspace also</p>\n<p>no solution</p>\n"},{"tags":["java","hibernate","spring-boot","spring-data-jpa","c3p0"],"comments":[{"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"score":0,"creation_date":1460492801,"post_id":36583185,"comment_id":60765737,"body_markdown":"The peace of code would help. Simple approach what would help you to return VO object from service or change the FetchType.","body":"The peace of code would help. Simple approach what would help you to return VO object from service or change the FetchType."},{"owner":{"account_id":6223519,"reputation":683,"user_id":4842517,"display_name":"douglasrlee"},"score":1,"creation_date":1460493890,"post_id":36583185,"comment_id":60766285,"body_markdown":"So, if I change the fetch type to EAGER I can get it to work, BUT I don&#39;t really want to for performance reasons.","body":"So, if I change the fetch type to EAGER I can get it to work, BUT I don&#39;t really want to for performance reasons."},{"owner":{"account_id":8034427,"reputation":1287,"user_id":6058076,"accept_rate":100,"display_name":"LearningPhase"},"score":0,"creation_date":1460496565,"post_id":36583185,"comment_id":60767656,"body_markdown":"As per the error and the code if fails at brochure section. Can you add hibernate.instance(this.plandetail.getbrochure()) in your getdescription() method. As this attribute is lazy loaded your code in get description cannot find it so in order to use it you have to load it first and do whatever you want to do with it. Please let me know if this helps. Just to point I am also new in hibernate and have encountered this error personally and was able to resolve this way","body":"As per the error and the code if fails at brochure section. Can you add hibernate.instance(this.plandetail.getbrochure()) in your getdescription() method. As this attribute is lazy loaded your code in get description cannot find it so in order to use it you have to load it first and do whatever you want to do with it. Please let me know if this helps. Just to point I am also new in hibernate and have encountered this error personally and was able to resolve this way"},{"owner":{"account_id":6223519,"reputation":683,"user_id":4842517,"display_name":"douglasrlee"},"score":0,"creation_date":1460496706,"post_id":36583185,"comment_id":60767716,"body_markdown":"How do I get the hibernate variable in that model?","body":"How do I get the hibernate variable in that model?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1460528438,"post_id":36583185,"comment_id":60778005,"body_markdown":"For starters it is imho a bad idea to make your web layer the transactional boundary. That said your controller isn&#39;t transactional, there is nothing transaction related in your stack trace. Add `@EnableTransactionManagement` to a configuration class loaded in the same context as the controller (or `&lt;tx:annotation-driven /&gt;` if using XML). If you have that but is loaded by the `ContextLoaderListener` it won&#39;t work AOP is only applied in the same application context.","body":"For starters it is imho a bad idea to make your web layer the transactional boundary. That said your controller isn&#39;t transactional, there is nothing transaction related in your stack trace. Add <code>@EnableTransactionManagement</code> to a configuration class loaded in the same context as the controller (or <code>&lt;tx:annotation-driven &#47;&gt;</code> if using XML). If you have that but is loaded by the <code>ContextLoaderListener</code> it won&#39;t work AOP is only applied in the same application context."},{"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"score":0,"creation_date":1460548492,"post_id":36583185,"comment_id":60791838,"body_markdown":"links: http://stackoverflow.com/questions/4675303/how-to-force-initialize-a-hibernate-jpa-proxy-to-use-it-in-a-json-call, http://stackoverflow.com/questions/29368563/jpa-equivalent-command-to-hibernate-initialize, http://stackoverflow.com/questions/15359306/how-to-load-lazy-fetched-items-from-hibernate-jpa-in-my-controller,  http://www.thoughts-on-java.org/5-ways-to-initialize-lazy-relations-and-when-to-use-them/, http://www.coderanch.com/t/219333/ORM/databases/JPA-force-loading-nested-lazy","body":"links: <a href=\"http://stackoverflow.com/questions/4675303/how-to-force-initialize-a-hibernate-jpa-proxy-to-use-it-in-a-json-call\" title=\"how to force initialize a hibernate jpa proxy to use it in a json call\">stackoverflow.com/questions/4675303/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/29368563/jpa-equivalent-command-to-hibernate-initialize\" title=\"jpa equivalent command to hibernate initialize\">stackoverflow.com/questions/29368563/&hellip;</a>, <a href=\"http://stackoverflow.com/questions/15359306/how-to-load-lazy-fetched-items-from-hibernate-jpa-in-my-controller\" title=\"how to load lazy fetched items from hibernate jpa in my controller\">stackoverflow.com/questions/15359306/&hellip;</a>,  <a href=\"http://www.thoughts-on-java.org/5-ways-to-initialize-lazy-relations-and-when-to-use-them/\" rel=\"nofollow noreferrer\">thoughts-on-java.org/&hellip;</a>, <a href=\"http://www.coderanch.com/t/219333/ORM/databases/JPA-force-loading-nested-lazy\" rel=\"nofollow noreferrer\">coderanch.com/t/219333/ORM/databases/&hellip;</a>"},{"owner":{"account_id":897020,"reputation":2337,"user_id":934040,"display_name":"Anton N"},"score":1,"creation_date":1460548583,"post_id":36583185,"comment_id":60791915,"body_markdown":"Fast solution: `myEntity.getListOfThings().size();` Force JPA to initialize collection.","body":"Fast solution: <code>myEntity.getListOfThings().size();</code> Force JPA to initialize collection."},{"owner":{"account_id":4271231,"reputation":551,"user_id":3492994,"display_name":"Stefnotch"},"score":0,"creation_date":1654105857,"post_id":36583185,"comment_id":128014712,"body_markdown":"Does this answer your question? [How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session](https://stackoverflow.com/questions/21574236/how-to-fix-org-hibernate-lazyinitializationexception-could-not-initialize-prox)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21574236/how-to-fix-org-hibernate-lazyinitializationexception-could-not-initialize-prox\">How to fix org.hibernate.LazyInitializationException - could not initialize proxy - no Session</a>"}],"answers":[{"comments":[{"owner":{"account_id":6223519,"reputation":683,"user_id":4842517,"display_name":"douglasrlee"},"score":2,"creation_date":1472584473,"post_id":38690930,"comment_id":65807827,"body_markdown":"Just because I am curious. Where did you find this?","body":"Just because I am curious. Where did you find this?"},{"owner":{"account_id":415720,"reputation":257,"user_id":790689,"accept_rate":80,"display_name":"darkled"},"score":52,"creation_date":1493733035,"post_id":38690930,"comment_id":74522087,"body_markdown":"actually it&#39;s an anti-pattern, for further explanation please take a look at https://vladmihalcea.com/2016/09/05/the-hibernate-enable_lazy_load_no_trans-anti-pattern/","body":"actually it&#39;s an anti-pattern, for further explanation please take a look at <a href=\"https://vladmihalcea.com/2016/09/05/the-hibernate-enable_lazy_load_no_trans-anti-pattern/\" rel=\"nofollow noreferrer\">vladmihalcea.com/2016/09/05/&hellip;</a>"},{"owner":{"account_id":197679,"reputation":14930,"user_id":441899,"accept_rate":79,"display_name":"Jules"},"score":3,"creation_date":1502090257,"post_id":38690930,"comment_id":78042317,"body_markdown":"@darkled - I think there&#39;s actually a difference between &quot;there are potential performance implications that you should be aware of before using this&quot; and &quot;it&#39;s an antipattern&quot;.  Not every application needs the highest possible performance from its database access code, and sometimes not having to spend hours of developer time defining which properties are loaded ahead of time with which queries is more important.","body":"@darkled - I think there&#39;s actually a difference between &quot;there are potential performance implications that you should be aware of before using this&quot; and &quot;it&#39;s an antipattern&quot;.  Not every application needs the highest possible performance from its database access code, and sometimes not having to spend hours of developer time defining which properties are loaded ahead of time with which queries is more important."},{"owner":{"account_id":415720,"reputation":257,"user_id":790689,"accept_rate":80,"display_name":"darkled"},"score":3,"creation_date":1502112170,"post_id":38690930,"comment_id":78055522,"body_markdown":"@Jules agreed, not all of the applications need the highest performance, but it&#39;s an example of a solution that is usually ineffective and risks being highly counterproductive (which is the definition of the anti-patterns on wikipedia https://en.wikipedia.org/wiki/Anti-pattern).","body":"@Jules agreed, not all of the applications need the highest performance, but it&#39;s an example of a solution that is usually ineffective and risks being highly counterproductive (which is the definition of the anti-patterns on wikipedia <a href=\"https://en.wikipedia.org/wiki/Anti-pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Anti-pattern</a>)."},{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":4,"creation_date":1508359941,"post_id":38690930,"comment_id":80585430,"body_markdown":"there are surely another way to fix issue? maybe write directly in jpql the query?","body":"there are surely another way to fix issue? maybe write directly in jpql the query?"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":22,"creation_date":1530545222,"post_id":38690930,"comment_id":89262842,"body_markdown":"This is interesting information, but the question is more about why &quot;@Transactional&quot; is not enough to keep transaction open imo.","body":"This is interesting information, but the question is more about why &quot;@Transactional&quot; is not enough to keep transaction open imo."},{"owner":{"account_id":3062063,"reputation":1352,"user_id":2594494,"accept_rate":27,"display_name":"Calicoder"},"score":2,"creation_date":1538499482,"post_id":38690930,"comment_id":92160452,"body_markdown":"I have the same question as Tristan. The contract of \\@Transactional is to keep the transaction and thus the session open until at least by the end of the method annotated by \\@Transactional. So this hack shouldn&#39;t be needed, and if used, will result in possibly a second transaction being started which is undesirable.","body":"I have the same question as Tristan. The contract of \\@Transactional is to keep the transaction and thus the session open until at least by the end of the method annotated by \\@Transactional. So this hack shouldn&#39;t be needed, and if used, will result in possibly a second transaction being started which is undesirable."},{"owner":{"account_id":303636,"reputation":1306,"user_id":612694,"accept_rate":81,"display_name":"Rub&#233;n Fanjul Estrada"},"score":0,"creation_date":1577216033,"post_id":38690930,"comment_id":105124094,"body_markdown":"this solution is an anti-pattern","body":"this solution is an anti-pattern"},{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1588131826,"post_id":38690930,"comment_id":108779449,"body_markdown":"This solution does work. Can you please provide a bit of explanation here? Also in the link you provided, Vladmi Halcea stated that `Although the hibernate.enable_lazy_load_no_trans configuration property is a lesser-known setting, it’s good to know why you shouldn’t employ it in your data access layer code.`","body":"This solution does work. Can you please provide a bit of explanation here? Also in the link you provided, Vladmi Halcea stated that <code>Although the hibernate.enable_lazy_load_no_trans configuration property is a lesser-known setting, it’s good to know why you shouldn’t employ it in your data access layer code.</code>"},{"owner":{"account_id":188204,"reputation":1132,"user_id":426805,"accept_rate":50,"display_name":"jgreen"},"score":1,"creation_date":1609296111,"post_id":38690930,"comment_id":115804151,"body_markdown":"Didn&#39;t work for me, but @Transactional did https://stackoverflow.com/a/49900305/426805","body":"Didn&#39;t work for me, but @Transactional did <a href=\"https://stackoverflow.com/a/49900305/426805\">stackoverflow.com/a/49900305/426805</a>"},{"owner":{"account_id":1022492,"reputation":1055,"user_id":1032484,"display_name":"andy"},"score":2,"creation_date":1616150638,"post_id":38690930,"comment_id":117918402,"body_markdown":"It&#39;s great for use in tests where you select on the repository to assert the properties of an entity: `@SpringBootTest(properties = &quot;spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true&quot;)`","body":"It&#39;s great for use in tests where you select on the repository to assert the properties of an entity: <code>@SpringBootTest(properties = &quot;spring.jpa.properties.hibernate.enable_lazy_load_no_trans=t&zwnj;&#8203;rue&quot;)</code>"}],"tags":[],"owner":{"account_id":7625412,"reputation":2676,"user_id":5782043,"display_name":"Joao Luiz Cadore"},"comment_count":11,"down_vote_count":16,"up_vote_count":172,"is_accepted":true,"score":156,"last_activity_date":1470024855,"creation_date":1470024855,"answer_id":38690930,"question_id":36583185,"body_markdown":"If you would like to keep **Lazy Load** and you are using Spring Boot, just add the config below in your **application.properties**:\r\n  \r\n    spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true","title":"Spring Data JPA - &quot;could not initialize proxy - no Session&quot; - With Methods marked as transactional","body":"<p>If you would like to keep <strong>Lazy Load</strong> and you are using Spring Boot, just add the config below in your <strong>application.properties</strong>:</p>\n\n<pre><code>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true\n</code></pre>\n"},{"comments":[{"owner":{"account_id":988833,"reputation":69,"user_id":1006641,"accept_rate":100,"display_name":"user1006641"},"score":0,"creation_date":1606398457,"post_id":63044707,"comment_id":114956058,"body_markdown":"Well you indeed can avoid the multipleBagException by using Sets rather than Collections or Lists...","body":"Well you indeed can avoid the multipleBagException by using Sets rather than Collections or Lists..."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1634895919,"post_id":63044707,"comment_id":123155322,"body_markdown":"Using sets instead of lists is a bad idea according to https://vladmihalcea.com/hibernate-multiplebagfetchexception/","body":"Using sets instead of lists is a bad idea according to <a href=\"https://vladmihalcea.com/hibernate-multiplebagfetchexception/\" rel=\"nofollow noreferrer\">vladmihalcea.com/hibernate-multiplebagfetchexception</a>"}],"tags":[],"owner":{"account_id":5628358,"reputation":129,"user_id":4455993,"display_name":"Bill Snee"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595461470,"creation_date":1595461470,"answer_id":63044707,"question_id":36583185,"body_markdown":"The lazy loading can be kept, without the setting the enable_lazy_load_no_trans parameter.  The simplest solution I found was @NamedEntityGraph while using Spring Data JPA. https://www.baeldung.com/spring-data-jpa-named-entity-graphs\r\n\r\nThe downside was I could not have more than one collection in the @NamedEntityGraph.  Adding a second collection resulted in an exception `org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags:`\r\n\r\nTherefore, if you don&#39;t want to use the anti-pattern, and only have one collection you are trying to load, the @NamedEntityGraph and @EntityGrpah works with Spring Data JPA.\r\n","title":"Spring Data JPA - &quot;could not initialize proxy - no Session&quot; - With Methods marked as transactional","body":"<p>The lazy loading can be kept, without the setting the enable_lazy_load_no_trans parameter.  The simplest solution I found was @NamedEntityGraph while using Spring Data JPA. <a href=\"https://www.baeldung.com/spring-data-jpa-named-entity-graphs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-named-entity-graphs</a></p>\n<p>The downside was I could not have more than one collection in the @NamedEntityGraph.  Adding a second collection resulted in an exception <code>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags:</code></p>\n<p>Therefore, if you don't want to use the anti-pattern, and only have one collection you are trying to load, the @NamedEntityGraph and @EntityGrpah works with Spring Data JPA.</p>\n"},{"comments":[{"owner":{"account_id":6695866,"reputation":537,"user_id":5163898,"display_name":"chriszichrisz"},"score":0,"creation_date":1656536867,"post_id":69240670,"comment_id":128600390,"body_markdown":"FetchType.EAGER worked for me. I think your answer should get more votes, it&#39;s easy to speak about anti-pattern, but you actually provided an alternative, thanks!","body":"FetchType.EAGER worked for me. I think your answer should get more votes, it&#39;s easy to speak about anti-pattern, but you actually provided an alternative, thanks!"}],"tags":[],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"comment_count":1,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1632030839,"creation_date":1632030839,"answer_id":69240670,"question_id":36583185,"body_markdown":"\r\n\r\n   `spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true` it is an anti-pattern and highly recommend to avoid to use it.\r\n\r\n\r\n`could not initialize proxy` exception will occur often when child class contains \r\n`@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})` in your relationship.\r\n\r\nI recommend to use `fetch = FetchType.EAGER` in your relationship instead of using `LAZY`. It is not the best way but it is far better than using anti-pattern.\r\n \r\n\r\n\r\n","title":"Spring Data JPA - &quot;could not initialize proxy - no Session&quot; - With Methods marked as transactional","body":"<p><code>spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true</code> it is an anti-pattern and highly recommend to avoid to use it.</p>\n<p><code>could not initialize proxy</code> exception will occur often when child class contains\n<code>@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})</code> in your relationship.</p>\n<p>I recommend to use <code>fetch = FetchType.EAGER</code> in your relationship instead of using <code>LAZY</code>. It is not the best way but it is far better than using anti-pattern.</p>\n"},{"comments":[{"owner":{"account_id":1301642,"reputation":471,"user_id":1251411,"display_name":"Michaelzh"},"score":0,"creation_date":1697014100,"post_id":72863346,"comment_id":136224861,"body_markdown":"Same, didn&#39;t know why some service methods need some methods don&#39;t.","body":"Same, didn&#39;t know why some service methods need some methods don&#39;t."},{"owner":{"account_id":8446144,"reputation":577,"user_id":6336728,"display_name":"timlg07"},"score":0,"creation_date":1702329202,"post_id":72863346,"comment_id":136880707,"body_markdown":"this should be the accepted answer","body":"this should be the accepted answer"}],"tags":[],"owner":{"account_id":8396193,"reputation":81,"user_id":13547476,"display_name":"Chaman Jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657261939,"creation_date":1656986982,"answer_id":72863346,"question_id":36583185,"body_markdown":"Adding `@Transactional` over method works for me","title":"Spring Data JPA - &quot;could not initialize proxy - no Session&quot; - With Methods marked as transactional","body":"<p>Adding <code>@Transactional</code> over method works for me</p>\n"},{"tags":[],"owner":{"account_id":8383036,"reputation":641,"user_id":6294316,"display_name":"mkkabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693606034,"creation_date":1693606034,"answer_id":77026186,"question_id":36583185,"body_markdown":"In my case, I had a class with several ManyToOne and ManyToMany relations. Ergo several lists of objects needed to be loaded from database. I resolved the issue by transforming those objects to DTOs. \r\nInstead of transferring lists of objects, which may be linked to other objects you pass a list of DTOs that contain only primitives and Strings\r\nThis is a huge performance booster\r\n","title":"Spring Data JPA - &quot;could not initialize proxy - no Session&quot; - With Methods marked as transactional","body":"<p>In my case, I had a class with several ManyToOne and ManyToMany relations. Ergo several lists of objects needed to be loaded from database. I resolved the issue by transforming those objects to DTOs.\nInstead of transferring lists of objects, which may be linked to other objects you pass a list of DTOs that contain only primitives and Strings\nThis is a huge performance booster</p>\n"},{"tags":[],"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697524109,"creation_date":1697524109,"answer_id":77306604,"question_id":36583185,"body_markdown":"just add `@Transactional` above the method in your service and ensure the import use for Transactional from **SpringBoot** not from **jakarta**","title":"Spring Data JPA - &quot;could not initialize proxy - no Session&quot; - With Methods marked as transactional","body":"<p>just add <code>@Transactional</code> above the method in your service and ensure the import use for Transactional from <strong>SpringBoot</strong> not from <strong>jakarta</strong></p>\n"}],"owner":{"account_id":6223519,"reputation":683,"user_id":4842517,"display_name":"douglasrlee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118494,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":38690930,"answer_count":6,"score":64,"last_activity_date":1697524109,"creation_date":1460492008,"question_id":36583185,"body_markdown":"I have a model that has a pretty large graph of sub entities and hibernate ends up making around 9 statements to lazily fetch all of the data needed but about 4 levels deep I get a &quot;could not initialize proxy - no Session&quot; error and I am not sure why. \r\n\r\nController\r\n\r\n    @Transactional(readOnly = true)\r\n    @RequestMapping(value = &quot;/v2/plans&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody List&lt;PlanPresenter&gt; show(HttpServletRequest request) throws Exception {\r\n      List&lt;PlanPresenter&gt; planPresenters = new ArrayList&lt;&gt;();\r\n    \r\n      CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n      CriteriaQuery&lt;Plan&gt; planQuery = criteriaBuilder.createQuery(Plan.class);\r\n      Root&lt;Plan&gt; root = planQuery.from(Plan.class);\r\n\r\n      if (request.getParameter(&quot;region&quot;) != null || request.getParameter(&quot;group&quot;) != null) {\r\n        List&lt;Predicate&gt; criteria = new ArrayList&lt;Predicate&gt;();\r\n    \tif (request.getParameter(&quot;region&quot;) != null) {\r\n    \t  criteria.add(criteriaBuilder.equal(root.get(Plan_.region), request.getParameter(&quot;region&quot;)));\r\n    \t}\r\n    \t\r\n    \tif (request.getParameter(&quot;group&quot;) != null) {\r\n    \t  criteria.add(criteriaBuilder.equal(root.get(Plan_.groupCode), request.getParameter(&quot;group&quot;)));\r\n    \t  criteria.add(root.get(Plan_.planSetId).in(groupPlanSetIds));\r\n    \t} else {\r\n    \t  criteria.add(root.get(Plan_.planSetId).in(currentPlanSetIds));\r\n    \t}\r\n\r\n        Query query = entityManager.createQuery(planQuery.where(criteriaBuilder.and(criteria.toArray(new Predicate[]{}))));\r\n      \r\n        for (Plan plan : (List&lt;Plan&gt;)query.getResultList()) {\r\n          planPresenters.add(new PlanPresenter(plan));\r\n        }\r\n      }\r\n\r\n      return planPresenters;\r\n    }\r\n\r\nPresenter\r\n\r\n    public class PlanPresenter {\r\n      public String id;\r\n      public String plan_set_id;\r\n      public String region;\r\n      public String name;\r\n      public String description;\r\n      public HashMap&lt;String, Object&gt; details = new HashMap&lt;String, Object&gt;();\r\n  \r\n      public PlanPresenter(Plan plan) throws Exception {\r\n        this.id = String.valueOf(plan.id);\r\n        this.plan_set_id = String.valueOf(plan.planSetId);\r\n        this.region = plan.region.trim();\r\n        this.name = plan.getName();\r\n        this.description = plan.getDescription();\r\n    \r\n        this.details.put(&quot;spanish_plan&quot;, plan.isSpanishPlan());\r\n        this.details.put(&quot;mutually_exclusive&quot;, plan.isMutuallyExclusive());\r\n        this.details.put(&quot;group_plan&quot;, plan.isGroupPlan());\r\n        this.details.put(&quot;group_code&quot;, plan.groupCode.trim());\r\n        this.details.put(&quot;family_plan&quot;, plan.isFamilyPlan());\r\n        this.details.put(&quot;price&quot;, plan.getPrice());\r\n        this.details.put(&quot;enrollment_fee&quot;, plan.getEnrollmentFee());\r\n        this.details.put(&quot;riders&quot;, plan.getRiders());\r\n      }\r\n    }\r\n\r\nPlan\r\n\r\n    @Entity\r\n    public class Plan implements Serializable {\r\n      private static final long serialVersionUID = 7639611964474770505L;\r\n  \r\n      private static List&lt;String&gt; familyPlanShortNames = Arrays.asList(&quot;ABCD&quot;);\r\n      @Transient\r\n      private String description = &quot;&quot;;\r\n  \r\n      (Column definitions)\r\n  \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;XXXX&quot;, insertable = false, updatable = false, nullable = true)\r\n      @NotFound(action = NotFoundAction.IGNORE)\r\n      public PlanDetail planDetail;\r\n  \r\n      @OneToMany(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;XXXX&quot;, insertable = false, updatable = false, nullable = true)\r\n      @OrderBy(&quot;XXXX&quot;)\r\n      @NotFound(action = NotFoundAction.IGNORE)\r\n      public List&lt;Rider&gt; riders;\r\n  \r\n      public String getName() {\r\n        return this.planDetail != null ? this.planDetail.longName.trim() : null;\r\n      }\r\n  \r\n      public Boolean isSpanishPlan() {\r\n        return this.language.trim().equals(&quot;ES&quot;);\r\n      }\r\n\r\n      public Boolean isMutuallyExclusive() {\r\n        return this.mutuallyExclusive.trim().equals(&quot;Y&quot;);\r\n      }\r\n\r\n      public Boolean isGroupPlan() {\r\n        return this.groupCode != null &amp;&amp; !this.groupCode.trim().equals(&quot;&quot;);\r\n      }\r\n  \r\n      public Boolean isFamilyPlan() {\r\n        return familyPlanShortNames.contains(this.planDetail.shortName.trim());\r\n      }\r\n  \r\n      public BigDecimal getPrice() {\r\n        return this.planDetail != null ? this.planDetail.price.setScale(2) : null;\r\n      }\r\n  \r\n      public BigDecimal getEnrollmentFee() {\r\n        return this.planDetail != null ? this.planDetail.enrollmentFee.setScale(2) : null;\r\n      }\r\n  \r\n      public String getDescription() {\r\n        if (this.planDetail != null &amp;&amp; this.planDetail.brochureSections != null) {\r\n          this.planDetail.brochureSections.forEach((brochureSection) -&gt; {\r\n            if (brochureSection.type.trim().equals(&quot;P1&quot;) &amp;&amp; brochureSection.order == 1) {\r\n              this.description = this.description + &quot; &quot; + brochureSection.text.trim();\r\n            }\r\n          });\r\n        }\r\n    \r\n        return this.description.trim();\r\n      }\r\n\r\n      public List&lt;HashMap&lt;String, Object&gt;&gt; getRiders() {\r\n        List&lt;HashMap&lt;String, Object&gt;&gt; riders = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n        if (this.riders != null &amp;&amp; this.riders.size() &gt; 0) {\r\n          this.riders.forEach((rider) -&gt; {\r\n            HashMap&lt;String, Object&gt; planRider = new HashMap&lt;String, Object&gt;();\r\n            planRider.put(&quot;name&quot;, rider.getName());\r\n            planRider.put(&quot;price&quot;, rider.getPrice());\r\n            planRider.put(&quot;description&quot;, rider.getDescription());\r\n            riders.add(planRider);\r\n          });\r\n        }\r\n        return riders;\r\n      }\r\n    }\r\n\r\nPlan Detail\r\n\r\n    @Entity\r\n    public class PlanDetail implements Serializable {\r\n      private static final long serialVersionUID = 2256881691562712018L;\r\n \r\n      (Column definitions)\r\n  \r\n      @OneToMany(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;XXXX&quot;, referencedColumnName = &quot;XXXX&quot;, insertable = false, updatable = false, nullable = true)\r\n      @OrderBy(&quot;XXXX&quot;)\r\n      @NotFound(action = NotFoundAction.IGNORE)\r\n      public List&lt;BrochureSection&gt; brochureSections;\r\n    }\r\n\r\nBrochure Section\r\n\r\n    @Entity\r\n    public class BrochureSection implements Serializable {\r\n      private static final long serialVersionUID = 1856191232387921427L;\r\n  \r\n      (Column definitions)\r\n    }\r\n\r\nException\r\n\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.models.PlanDetail.brochureSections, could not initialize proxy - no Session\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:576) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:215) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:555) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:143) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:294) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat java.lang.Iterable.forEach(Iterable.java:74) ~[?:1.8.0_66]\r\n\tat com.models.Plan.getDescription(Plan.java:100) ~[classes/:?]\r\n\tat com.presenters.v2.PlanPresenter.&lt;init&gt;(PlanPresenter.java:20) ~[classes/:?]\r\n\tat com.controllers.v2.PlansController.show(PlansController.java:64) ~[classes/:?]\r\n\r\nAny help would be appreciated.","title":"Spring Data JPA - &quot;could not initialize proxy - no Session&quot; - With Methods marked as transactional","body":"<p>I have a model that has a pretty large graph of sub entities and hibernate ends up making around 9 statements to lazily fetch all of the data needed but about 4 levels deep I get a \"could not initialize proxy - no Session\" error and I am not sure why. </p>\n\n<p>Controller</p>\n\n<pre><code>@Transactional(readOnly = true)\n@RequestMapping(value = \"/v2/plans\", method = RequestMethod.GET)\npublic @ResponseBody List&lt;PlanPresenter&gt; show(HttpServletRequest request) throws Exception {\n  List&lt;PlanPresenter&gt; planPresenters = new ArrayList&lt;&gt;();\n\n  CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n  CriteriaQuery&lt;Plan&gt; planQuery = criteriaBuilder.createQuery(Plan.class);\n  Root&lt;Plan&gt; root = planQuery.from(Plan.class);\n\n  if (request.getParameter(\"region\") != null || request.getParameter(\"group\") != null) {\n    List&lt;Predicate&gt; criteria = new ArrayList&lt;Predicate&gt;();\n    if (request.getParameter(\"region\") != null) {\n      criteria.add(criteriaBuilder.equal(root.get(Plan_.region), request.getParameter(\"region\")));\n    }\n\n    if (request.getParameter(\"group\") != null) {\n      criteria.add(criteriaBuilder.equal(root.get(Plan_.groupCode), request.getParameter(\"group\")));\n      criteria.add(root.get(Plan_.planSetId).in(groupPlanSetIds));\n    } else {\n      criteria.add(root.get(Plan_.planSetId).in(currentPlanSetIds));\n    }\n\n    Query query = entityManager.createQuery(planQuery.where(criteriaBuilder.and(criteria.toArray(new Predicate[]{}))));\n\n    for (Plan plan : (List&lt;Plan&gt;)query.getResultList()) {\n      planPresenters.add(new PlanPresenter(plan));\n    }\n  }\n\n  return planPresenters;\n}\n</code></pre>\n\n<p>Presenter</p>\n\n<pre><code>public class PlanPresenter {\n  public String id;\n  public String plan_set_id;\n  public String region;\n  public String name;\n  public String description;\n  public HashMap&lt;String, Object&gt; details = new HashMap&lt;String, Object&gt;();\n\n  public PlanPresenter(Plan plan) throws Exception {\n    this.id = String.valueOf(plan.id);\n    this.plan_set_id = String.valueOf(plan.planSetId);\n    this.region = plan.region.trim();\n    this.name = plan.getName();\n    this.description = plan.getDescription();\n\n    this.details.put(\"spanish_plan\", plan.isSpanishPlan());\n    this.details.put(\"mutually_exclusive\", plan.isMutuallyExclusive());\n    this.details.put(\"group_plan\", plan.isGroupPlan());\n    this.details.put(\"group_code\", plan.groupCode.trim());\n    this.details.put(\"family_plan\", plan.isFamilyPlan());\n    this.details.put(\"price\", plan.getPrice());\n    this.details.put(\"enrollment_fee\", plan.getEnrollmentFee());\n    this.details.put(\"riders\", plan.getRiders());\n  }\n}\n</code></pre>\n\n<p>Plan</p>\n\n<pre><code>@Entity\npublic class Plan implements Serializable {\n  private static final long serialVersionUID = 7639611964474770505L;\n\n  private static List&lt;String&gt; familyPlanShortNames = Arrays.asList(\"ABCD\");\n  @Transient\n  private String description = \"\";\n\n  (Column definitions)\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"XXXX\", insertable = false, updatable = false, nullable = true)\n  @NotFound(action = NotFoundAction.IGNORE)\n  public PlanDetail planDetail;\n\n  @OneToMany(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"XXXX\", insertable = false, updatable = false, nullable = true)\n  @OrderBy(\"XXXX\")\n  @NotFound(action = NotFoundAction.IGNORE)\n  public List&lt;Rider&gt; riders;\n\n  public String getName() {\n    return this.planDetail != null ? this.planDetail.longName.trim() : null;\n  }\n\n  public Boolean isSpanishPlan() {\n    return this.language.trim().equals(\"ES\");\n  }\n\n  public Boolean isMutuallyExclusive() {\n    return this.mutuallyExclusive.trim().equals(\"Y\");\n  }\n\n  public Boolean isGroupPlan() {\n    return this.groupCode != null &amp;&amp; !this.groupCode.trim().equals(\"\");\n  }\n\n  public Boolean isFamilyPlan() {\n    return familyPlanShortNames.contains(this.planDetail.shortName.trim());\n  }\n\n  public BigDecimal getPrice() {\n    return this.planDetail != null ? this.planDetail.price.setScale(2) : null;\n  }\n\n  public BigDecimal getEnrollmentFee() {\n    return this.planDetail != null ? this.planDetail.enrollmentFee.setScale(2) : null;\n  }\n\n  public String getDescription() {\n    if (this.planDetail != null &amp;&amp; this.planDetail.brochureSections != null) {\n      this.planDetail.brochureSections.forEach((brochureSection) -&gt; {\n        if (brochureSection.type.trim().equals(\"P1\") &amp;&amp; brochureSection.order == 1) {\n          this.description = this.description + \" \" + brochureSection.text.trim();\n        }\n      });\n    }\n\n    return this.description.trim();\n  }\n\n  public List&lt;HashMap&lt;String, Object&gt;&gt; getRiders() {\n    List&lt;HashMap&lt;String, Object&gt;&gt; riders = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n    if (this.riders != null &amp;&amp; this.riders.size() &gt; 0) {\n      this.riders.forEach((rider) -&gt; {\n        HashMap&lt;String, Object&gt; planRider = new HashMap&lt;String, Object&gt;();\n        planRider.put(\"name\", rider.getName());\n        planRider.put(\"price\", rider.getPrice());\n        planRider.put(\"description\", rider.getDescription());\n        riders.add(planRider);\n      });\n    }\n    return riders;\n  }\n}\n</code></pre>\n\n<p>Plan Detail</p>\n\n<pre><code>@Entity\npublic class PlanDetail implements Serializable {\n  private static final long serialVersionUID = 2256881691562712018L;\n\n  (Column definitions)\n\n  @OneToMany(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"XXXX\", referencedColumnName = \"XXXX\", insertable = false, updatable = false, nullable = true)\n  @OrderBy(\"XXXX\")\n  @NotFound(action = NotFoundAction.IGNORE)\n  public List&lt;BrochureSection&gt; brochureSections;\n}\n</code></pre>\n\n<p>Brochure Section</p>\n\n<pre><code>@Entity\npublic class BrochureSection implements Serializable {\n  private static final long serialVersionUID = 1856191232387921427L;\n\n  (Column definitions)\n}\n</code></pre>\n\n<p>Exception</p>\n\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.models.PlanDetail.brochureSections, could not initialize proxy - no Session\nat org.hibernate.collection.internal.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:576) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:215) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:555) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:143) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.collection.internal.PersistentBag.iterator(PersistentBag.java:294) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat java.lang.Iterable.forEach(Iterable.java:74) ~[?:1.8.0_66]\nat com.models.Plan.getDescription(Plan.java:100) ~[classes/:?]\nat com.presenters.v2.PlanPresenter.&lt;init&gt;(PlanPresenter.java:20) ~[classes/:?]\nat com.controllers.v2.PlansController.show(PlansController.java:64) ~[classes/:?]\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","proxy","jvm"],"comments":[{"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":0,"creation_date":1508940082,"post_id":120797,"comment_id":80816010,"body_markdown":"The [Oracle documentation](https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html) around this seems pretty stale (though still probably valid).  Here&#39;s something more modern from Spring: https://docs.spring.io/spring-integration/reference/html/http.html#http-proxy","body":"The <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">Oracle documentation</a> around this seems pretty stale (though still probably valid).  Here&#39;s something more modern from Spring: <a href=\"https://docs.spring.io/spring-integration/reference/html/http.html#http-proxy\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/reference/html/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"score":6,"creation_date":1299014468,"post_id":120802,"comment_id":5794869,"body_markdown":"Hi guys, how can you include the username and password in this also? Thanks","body":"Hi guys, how can you include the username and password in this also? Thanks"},{"owner":{"account_id":32963,"reputation":1195,"user_id":91856,"accept_rate":79,"display_name":"aasukisuki"},"score":8,"creation_date":1302897979,"post_id":120802,"comment_id":6487680,"body_markdown":"@Joeblackdev look at http.proxyUser and http.proxyPassword","body":"@Joeblackdev look at http.proxyUser and http.proxyPassword"},{"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"score":1,"creation_date":1370456913,"post_id":120802,"comment_id":24470681,"body_markdown":"On my experience: to find the proxy address go to IE -&gt; InternetOptions-&gt; Lan setttings","body":"On my experience: to find the proxy address go to IE -&gt; InternetOptions-&gt; Lan setttings"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1464663277,"post_id":120802,"comment_id":62562249,"body_markdown":"@aasukisuki `http.proxyUser` and `http.proxyPassword` are not Java system properties. They are for the Apache HTTP client.","body":"@aasukisuki <code>http.proxyUser</code> and <code>http.proxyPassword</code> are not Java system properties. They are for the Apache HTTP client."},{"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"score":42,"creation_date":1469540789,"post_id":120802,"comment_id":64571587,"body_markdown":"Also, don&#39;t forget to configure `https.proxyHost` and `https.proxyPort` for HTTPs.","body":"Also, don&#39;t forget to configure <code>https.proxyHost</code> and <code>https.proxyPort</code> for HTTPs."},{"owner":{"account_id":2313483,"reputation":3401,"user_id":2031068,"accept_rate":62,"display_name":"Evgeniy Mishustin"},"score":0,"creation_date":1487174942,"post_id":120802,"comment_id":71666617,"body_markdown":"This should be run at each start-up of the jar, am I right ?","body":"This should be run at each start-up of the jar, am I right ?"},{"owner":{"account_id":1287160,"reputation":3077,"user_id":1240018,"accept_rate":54,"display_name":"eventhorizon"},"score":1,"creation_date":1516708496,"post_id":120802,"comment_id":83790123,"body_markdown":"ADDITIONALLY: Keep an eye on changes done between jdk 1.8.0_025 and jdk 1.8.0_144! If your proxy uses basic authentication it seems as if you have to set the property `jdk.http.auth.tunneling.disabledSchemes` to an empty string - or remove &quot;basic&quot; from it! The jdk default is to NOT USE basic authentication here! Just add something like `-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;` as a jvm-option to allow (all) authentication types.","body":"ADDITIONALLY: Keep an eye on changes done between jdk 1.8.0_025 and jdk 1.8.0_144! If your proxy uses basic authentication it seems as if you have to set the property <code>jdk.http.auth.tunneling.disabledSchemes</code> to an empty string - or remove &quot;basic&quot; from it! The jdk default is to NOT USE basic authentication here! Just add something like <code>-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;</code> as a jvm-option to allow (all) authentication types."},{"owner":{"account_id":2142792,"reputation":1932,"user_id":1901067,"display_name":"David"},"score":0,"creation_date":1572243095,"post_id":120802,"comment_id":103486396,"body_markdown":"`http.nonProxyHosts (default: localhost|127.*|[::1])` prevents testing localhost APIs, so I am using this setting for that case `-Dhttp.nonProxyHosts=` (empty value) to override default. See https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html","body":"<code>http.nonProxyHosts (default: localhost|127.*|[::1])</code> prevents testing localhost APIs, so I am using this setting for that case <code>-Dhttp.nonProxyHosts=</code> (empty value) to override default. See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/doc-files/&hellip;</a>"},{"owner":{"account_id":1230591,"reputation":137,"user_id":1195286,"display_name":"Krupal Ghorpade"},"score":0,"creation_date":1664875095,"post_id":120802,"comment_id":130564797,"body_markdown":"I&#39;m getting following error; help pls - \nException:org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://hostname.com/api/&quot;: Unexpected response code for CONNECT: 400; nested exception is java.io.IOException: Unexpected response code for CONNECT: 400","body":"I&#39;m getting following error; help pls -  Exception:org.springframework.web.client.ResourceAccessExcep&zwnj;&#8203;tion: I/O error on GET request for &quot;<a href=\"https://hostname.com/api/\" rel=\"nofollow noreferrer\">hostname.com/api</a>&quot;: Unexpected response code for CONNECT: 400; nested exception is java.io.IOException: Unexpected response code for CONNECT: 400"}],"tags":[],"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"comment_count":9,"down_vote_count":0,"up_vote_count":401,"is_accepted":true,"score":401,"last_activity_date":1655981762,"creation_date":1222174463,"answer_id":120802,"question_id":120797,"body_markdown":"From the Java documentation (*not* the javadoc API):\r\n\r\nhttp://download.oracle.com/javase/6/docs/technotes/guides/net/proxies.html\r\n\r\nSet the JVM flags `http.proxyHost` and `http.proxyPort` when starting your JVM on the command line.\r\nThis is usually done in a shell script (in Unix) or bat file (in Windows). Here&#39;s the example with the Unix shell script:\r\n\r\n    JAVA_FLAGS=-Dhttp.proxyHost=10.0.0.100 -Dhttp.proxyPort=8800\r\n    java ${JAVA_FLAGS} ...\r\n\r\nWhen using containers such as JBoss or WebLogic, my solution is to edit the start-up scripts supplied by the vendor.\r\n\r\nMany developers are familiar with the Java API (javadocs), but many times the rest of the documentation is overlooked. It contains a lot of interesting information: http://download.oracle.com/javase/6/docs/technotes/guides/\r\n\r\n------------------\r\n**Update :** If you do not want to use proxy to resolve some local/intranet hosts, check out the comment from @Tomalak:\r\n\r\n&gt; Also don&#39;t forget the http.nonProxyHosts property!\r\n\r\n    -Dhttp.nonProxyHosts=&quot;localhost|127.0.0.1|10.*.*.*|*.example.com|etc&quot;","title":"How do I set the proxy to be used by the JVM","body":"<p>From the Java documentation (<em>not</em> the javadoc API):</p>\n<p><a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/net/proxies.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/technotes/guides/net/proxies.html</a></p>\n<p>Set the JVM flags <code>http.proxyHost</code> and <code>http.proxyPort</code> when starting your JVM on the command line.\nThis is usually done in a shell script (in Unix) or bat file (in Windows). Here's the example with the Unix shell script:</p>\n<pre><code>JAVA_FLAGS=-Dhttp.proxyHost=10.0.0.100 -Dhttp.proxyPort=8800\njava ${JAVA_FLAGS} ...\n</code></pre>\n<p>When using containers such as JBoss or WebLogic, my solution is to edit the start-up scripts supplied by the vendor.</p>\n<p>Many developers are familiar with the Java API (javadocs), but many times the rest of the documentation is overlooked. It contains a lot of interesting information: <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/technotes/guides/</a></p>\n<hr />\n<p><strong>Update :</strong> If you do not want to use proxy to resolve some local/intranet hosts, check out the comment from @Tomalak:</p>\n<blockquote>\n<p>Also don't forget the http.nonProxyHosts property!</p>\n</blockquote>\n<pre><code>-Dhttp.nonProxyHosts=&quot;localhost|127.0.0.1|10.*.*.*|*.example.com|etc&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":36,"creation_date":1302221483,"post_id":120818,"comment_id":6360922,"body_markdown":"&quot;proxySet&quot; does nothing. Proof: set it to &quot;false&quot;. There is not and has never been such a property in the JDK, various books and online references notwithstanding. It came from the long-defunct HotJavaBean, an encapsulated browser, died a death in about 1998.","body":"&quot;proxySet&quot; does nothing. Proof: set it to &quot;false&quot;. There is not and has never been such a property in the JDK, various books and online references notwithstanding. It came from the long-defunct HotJavaBean, an encapsulated browser, died a death in about 1998."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":3,"creation_date":1335176562,"post_id":120818,"comment_id":13221371,"body_markdown":"Really are the property names without http/https ?","body":"Really are the property names without http/https ?"},{"owner":{"account_id":494247,"reputation":2304,"user_id":981435,"display_name":"Rob Cranfill"},"score":18,"creation_date":1383690403,"post_id":120818,"comment_id":29436088,"body_markdown":"This is wrong on three counts: 1: as mentioned, there is no &quot;proxySet&quot; item; 2: &quot;proxyHost&quot; and &quot;proxyPort&quot; need to be &quot;http.proxyHost&quot; and &quot;http.proxyPort&quot; (or the &#39;https&#39; equivalent); 3: System.getProperties().put(X,Y) is *not* the same as System.setProperty(X,Y). Other than that, though - great answer.","body":"This is wrong on three counts: 1: as mentioned, there is no &quot;proxySet&quot; item; 2: &quot;proxyHost&quot; and &quot;proxyPort&quot; need to be &quot;http.proxyHost&quot; and &quot;http.proxyPort&quot; (or the &#39;https&#39; equivalent); 3: System.getProperties().put(X,Y) is <i>not</i> the same as System.setProperty(X,Y). Other than that, though - great answer."},{"owner":{"account_id":1180749,"reputation":8956,"user_id":1155721,"accept_rate":77,"display_name":"csvan"},"score":0,"creation_date":1468397100,"post_id":120818,"comment_id":64105159,"body_markdown":"Almost correct. See: http://memorynotfound.com/configure-http-proxy-settings-java/","body":"Almost correct. See: <a href=\"http://memorynotfound.com/configure-http-proxy-settings-java/\" rel=\"nofollow noreferrer\">memorynotfound.com/configure-http-proxy-settings-java</a>"},{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":1,"creation_date":1542951777,"post_id":120818,"comment_id":93755301,"body_markdown":"@RobCranfill 1: &quot;proxySet&quot; used to be a non-standard flag that was needed by an old JDK but is not necessary anymore; 2: &quot;proxyHost&quot; and &quot;proxyPort&quot; do work, the &quot;http.&quot; prefix just restricts them to the HTTP protocol (similar for &quot;https.&quot;), 3: here you&#39;re right.","body":"@RobCranfill 1: &quot;proxySet&quot; used to be a non-standard flag that was needed by an old JDK but is not necessary anymore; 2: &quot;proxyHost&quot; and &quot;proxyPort&quot; do work, the &quot;http.&quot; prefix just restricts them to the HTTP protocol (similar for &quot;https.&quot;), 3: here you&#39;re right."}],"tags":[],"owner":{"account_id":6878,"reputation":9611,"user_id":11705,"accept_rate":73,"display_name":"GHad"},"comment_count":5,"down_vote_count":21,"up_vote_count":71,"is_accepted":false,"score":50,"last_activity_date":1517329197,"creation_date":1222174668,"answer_id":120818,"question_id":120797,"body_markdown":"You can set those flags programmatically this way:\r\n\r\n\tif (needsProxy()) {\r\n\t    System.setProperty(&quot;http.proxyHost&quot;,getProxyHost());\r\n\t    System.setProperty(&quot;http.proxyPort&quot;,getProxyPort());\r\n\t} else {\r\n\t    System.setProperty(&quot;http.proxyHost&quot;,&quot;&quot;);\r\n\t    System.setProperty(&quot;http.proxyPort&quot;,&quot;&quot;);\r\n\t}\r\n\r\nJust return the right values from the methods `needsProxy()`, `getProxyHost()` and `getProxyPort()` and you can call this code snippet whenever you want.","title":"How do I set the proxy to be used by the JVM","body":"<p>You can set those flags programmatically this way:</p>\n\n<pre><code>if (needsProxy()) {\n    System.setProperty(\"http.proxyHost\",getProxyHost());\n    System.setProperty(\"http.proxyPort\",getProxyPort());\n} else {\n    System.setProperty(\"http.proxyHost\",\"\");\n    System.setProperty(\"http.proxyPort\",\"\");\n}\n</code></pre>\n\n<p>Just return the right values from the methods <code>needsProxy()</code>, <code>getProxyHost()</code> and <code>getProxyPort()</code> and you can call this code snippet whenever you want.</p>\n"},{"tags":[],"owner":{"account_id":10874,"reputation":13103,"user_id":20734,"display_name":"John M"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1222189749,"creation_date":1222189749,"answer_id":122355,"question_id":120797,"body_markdown":"&gt; reading an XML file and needs to download its schema\r\n\r\nIf you are counting on retrieving schemas or DTDs over the internet, you&#39;re building a slow, chatty, fragile application.  What happens when that remote server hosting the file takes planned or unplanned downtime?  Your app breaks.  Is that OK?\r\n\r\nSee http://xml.apache.org/commons/components/resolver/resolver-article.html#s.catalog.files\r\n\r\nURL&#39;s for schemas and the like are best thought of as unique identifiers.  Not as requests to actually access that file remotely.  Do some google searching on &quot;XML catalog&quot;.  An XML catalog allows you to host such resources locally, resolving the slowness, chattiness and fragility.\r\n\r\nIt&#39;s basically a permanently cached copy of the remote content.  And that&#39;s OK, since the remote content will never change.  If there&#39;s ever an update, it&#39;d be at a different URL.  Making the actual retrieval of the resource over the internet especially silly.","title":"How do I set the proxy to be used by the JVM","body":"<blockquote>\n  <p>reading an XML file and needs to download its schema</p>\n</blockquote>\n\n<p>If you are counting on retrieving schemas or DTDs over the internet, you're building a slow, chatty, fragile application.  What happens when that remote server hosting the file takes planned or unplanned downtime?  Your app breaks.  Is that OK?</p>\n\n<p>See <a href=\"http://xml.apache.org/commons/components/resolver/resolver-article.html#s.catalog.files\" rel=\"noreferrer\">http://xml.apache.org/commons/components/resolver/resolver-article.html#s.catalog.files</a></p>\n\n<p>URL's for schemas and the like are best thought of as unique identifiers.  Not as requests to actually access that file remotely.  Do some google searching on \"XML catalog\".  An XML catalog allows you to host such resources locally, resolving the slowness, chattiness and fragility.</p>\n\n<p>It's basically a permanently cached copy of the remote content.  And that's OK, since the remote content will never change.  If there's ever an update, it'd be at a different URL.  Making the actual retrieval of the resource over the internet especially silly.</p>\n"},{"comments":[{"owner":{"account_id":964550,"reputation":1360,"user_id":988231,"accept_rate":100,"display_name":"Randnum"},"score":0,"creation_date":1323313788,"post_id":122579,"comment_id":10410352,"body_markdown":"this does not work.  if you are not already authenticated the first line in the main function gets a bunch of null values and the code stops. This doesn&#39;t help someone authenticate their jvm so that they can make URL calls through a proxy.","body":"this does not work.  if you are not already authenticated the first line in the main function gets a bunch of null values and the code stops. This doesn&#39;t help someone authenticate their jvm so that they can make URL calls through a proxy."}],"tags":[],"owner":{"account_id":9828,"reputation":144340,"user_id":18300,"accept_rate":92,"display_name":"Alex. S."},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1222192116,"creation_date":1222192116,"answer_id":122579,"question_id":120797,"body_markdown":"\r\nYou can set some properties about the proxy server as jvm parameters\r\n\r\n-Dhttp.proxyPort=8080, proxyHost, etc.\r\n\r\nbut if you need pass through an authenticating proxy, you need an authenticator like this example:\r\n\r\n**ProxyAuthenticator.java**\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class ProxyAuthenticator extends Authenticator {\r\n    \r\n        private String userName, password;\r\n    \r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication(userName, password.toCharArray());\r\n        }\r\n    \r\n        public ProxyAuthenticator(String userName, String password) {\r\n            this.userName = userName;\r\n            this.password = password;\r\n        }\r\n    }\r\n\r\n**Example.java**\r\n\r\n        import java.net.Authenticator;\r\n        import ProxyAuthenticator;\r\n    \r\n    public class Example {\r\n        \r\n        public static void main(String[] args) {\r\n            String username = System.getProperty(&quot;proxy.authentication.username&quot;);\r\n            String password = System.getProperty(&quot;proxy.authentication.password&quot;);\r\n            \r\n    \t\t\t\tif (username != null &amp;&amp; !username.equals(&quot;&quot;)) {\r\n                Authenticator.setDefault(new ProxyAuthenticator(username, password));\r\n            }\r\n            \r\n    \t\t\t\t// here your JVM will be authenticated\r\n            \r\n        }\r\n    }\r\n\r\nBased on this reply:\r\nhttp://mail-archives.apache.org/mod_mbox/jakarta-jmeter-user/200208.mbox/%3C494FD350388AD511A9DD00025530F33102F1DC2C@MMSX006%3E\r\n\r\n\r\n\r\n\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>You can set some properties about the proxy server as jvm parameters</p>\n\n<p>-Dhttp.proxyPort=8080, proxyHost, etc.</p>\n\n<p>but if you need pass through an authenticating proxy, you need an authenticator like this example:</p>\n\n<p><strong>ProxyAuthenticator.java</strong></p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class ProxyAuthenticator extends Authenticator {\n\n    private String userName, password;\n\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(userName, password.toCharArray());\n    }\n\n    public ProxyAuthenticator(String userName, String password) {\n        this.userName = userName;\n        this.password = password;\n    }\n}\n</code></pre>\n\n<p><strong>Example.java</strong></p>\n\n<pre><code>    import java.net.Authenticator;\n    import ProxyAuthenticator;\n\npublic class Example {\n\n    public static void main(String[] args) {\n        String username = System.getProperty(\"proxy.authentication.username\");\n        String password = System.getProperty(\"proxy.authentication.password\");\n\n                if (username != null &amp;&amp; !username.equals(\"\")) {\n            Authenticator.setDefault(new ProxyAuthenticator(username, password));\n        }\n\n                // here your JVM will be authenticated\n\n    }\n}\n</code></pre>\n\n<p>Based on this reply:\n<a href=\"http://mail-archives.apache.org/mod_mbox/jakarta-jmeter-user/200208.mbox/%3C494FD350388AD511A9DD00025530F33102F1DC2C@MMSX006%3E\" rel=\"noreferrer\">http://mail-archives.apache.org/mod_mbox/jakarta-jmeter-user/200208.mbox/%3C494FD350388AD511A9DD00025530F33102F1DC2C@MMSX006%3E</a></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1302223567,"post_id":137174,"comment_id":6361221,"body_markdown":"If &quot;java.net.socks.username/password&quot; are set, why *also* set an Authenticator?","body":"If &quot;java.net.socks.username/password&quot; are set, why <i>also</i> set an Authenticator?"},{"owner":{"account_id":964550,"reputation":1360,"user_id":988231,"accept_rate":100,"display_name":"Randnum"},"score":3,"creation_date":1323302604,"post_id":137174,"comment_id":10408517,"body_markdown":"why isn&#39;t &quot;con.setRequest...&quot; the con isn&#39;t recognized. What libraries are needed for this.","body":"why isn&#39;t &quot;con.setRequest...&quot; the con isn&#39;t recognized. What libraries are needed for this."},{"owner":{"account_id":416952,"reputation":2995,"user_id":792668,"accept_rate":59,"display_name":"manuzhang"},"score":1,"creation_date":1381988057,"post_id":137174,"comment_id":28787279,"body_markdown":"+1 for the socks proxy option as sometimes http proxy can&#39;t solve my problem","body":"+1 for the socks proxy option as sometimes http proxy can&#39;t solve my problem"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":1,"creation_date":1392825941,"post_id":137174,"comment_id":33139617,"body_markdown":"In my testing, it works if you only set the default Authenticator—no need to set the authentication properties","body":"In my testing, it works if you only set the default Authenticator—no need to set the authentication properties"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":1,"creation_date":1392826293,"post_id":137174,"comment_id":33139881,"body_markdown":"Doesn&#39;t work if you only the system properties.  Methinks the java.net.socks.(username|password) properties do nothing.","body":"Doesn&#39;t work if you only the system properties.  Methinks the java.net.socks.(username|password) properties do nothing."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1464663347,"post_id":137174,"comment_id":62562264,"body_markdown":"@DrewStephens They don&#39;t even [exist](https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html).","body":"@DrewStephens They don&#39;t even <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\">exist</a>."},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1513867741,"post_id":137174,"comment_id":82822932,"body_markdown":"Should this affect every connection made from the Java program? The SOCKS settings seem to have no effect when making the connection through Netty...","body":"Should this affect every connection made from the Java program? The SOCKS settings seem to have no effect when making the connection through Netty..."}],"tags":[],"owner":{"account_id":855,"reputation":3955,"user_id":1119,"accept_rate":100,"display_name":"Chris Carruthers"},"comment_count":7,"down_vote_count":2,"up_vote_count":94,"is_accepted":false,"score":92,"last_activity_date":1222390242,"creation_date":1222390242,"answer_id":137174,"question_id":120797,"body_markdown":"To set an HTTP/HTTPS and/or SOCKS proxy programmatically:\r\n\r\n    ...\r\n\r\n    public void setProxy() {\r\n        if (isUseHTTPProxy()) {\r\n            // HTTP/HTTPS Proxy\r\n            System.setProperty(&quot;http.proxyHost&quot;, getHTTPHost());\r\n            System.setProperty(&quot;http.proxyPort&quot;, getHTTPPort());\r\n            System.setProperty(&quot;https.proxyHost&quot;, getHTTPHost());\r\n            System.setProperty(&quot;https.proxyPort&quot;, getHTTPPort());\r\n            if (isUseHTTPAuth()) {\r\n                String encoded = new String(Base64.encodeBase64((getHTTPUsername() + &quot;:&quot; + getHTTPPassword()).getBytes()));\r\n                con.setRequestProperty(&quot;Proxy-Authorization&quot;, &quot;Basic &quot; + encoded);\r\n                Authenticator.setDefault(new ProxyAuth(getHTTPUsername(), getHTTPPassword()));\r\n            }\r\n        }\r\n        if (isUseSOCKSProxy()) {\r\n            // SOCKS Proxy\r\n            System.setProperty(&quot;socksProxyHost&quot;, getSOCKSHost());\r\n            System.setProperty(&quot;socksProxyPort&quot;, getSOCKSPort());\r\n            if (isUseSOCKSAuth()) {\r\n                System.setProperty(&quot;java.net.socks.username&quot;, getSOCKSUsername());\r\n                System.setProperty(&quot;java.net.socks.password&quot;, getSOCKSPassword());\r\n                Authenticator.setDefault(new ProxyAuth(getSOCKSUsername(), getSOCKSPassword()));\r\n            }\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n    public class ProxyAuth extends Authenticator {\r\n        private PasswordAuthentication auth;\r\n\r\n        private ProxyAuth(String user, String password) {\r\n            auth = new PasswordAuthentication(user, password == null ? new char[]{} : password.toCharArray());\r\n        }\r\n\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return auth;\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\nRemember that HTTP proxies and SOCKS proxies operate at different levels in the network stack, so you can use one or the other or both.\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>To set an HTTP/HTTPS and/or SOCKS proxy programmatically:</p>\n\n<pre><code>...\n\npublic void setProxy() {\n    if (isUseHTTPProxy()) {\n        // HTTP/HTTPS Proxy\n        System.setProperty(\"http.proxyHost\", getHTTPHost());\n        System.setProperty(\"http.proxyPort\", getHTTPPort());\n        System.setProperty(\"https.proxyHost\", getHTTPHost());\n        System.setProperty(\"https.proxyPort\", getHTTPPort());\n        if (isUseHTTPAuth()) {\n            String encoded = new String(Base64.encodeBase64((getHTTPUsername() + \":\" + getHTTPPassword()).getBytes()));\n            con.setRequestProperty(\"Proxy-Authorization\", \"Basic \" + encoded);\n            Authenticator.setDefault(new ProxyAuth(getHTTPUsername(), getHTTPPassword()));\n        }\n    }\n    if (isUseSOCKSProxy()) {\n        // SOCKS Proxy\n        System.setProperty(\"socksProxyHost\", getSOCKSHost());\n        System.setProperty(\"socksProxyPort\", getSOCKSPort());\n        if (isUseSOCKSAuth()) {\n            System.setProperty(\"java.net.socks.username\", getSOCKSUsername());\n            System.setProperty(\"java.net.socks.password\", getSOCKSPassword());\n            Authenticator.setDefault(new ProxyAuth(getSOCKSUsername(), getSOCKSPassword()));\n        }\n    }\n}\n\n...\n\npublic class ProxyAuth extends Authenticator {\n    private PasswordAuthentication auth;\n\n    private ProxyAuth(String user, String password) {\n        auth = new PasswordAuthentication(user, password == null ? new char[]{} : password.toCharArray());\n    }\n\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return auth;\n    }\n}\n\n...\n</code></pre>\n\n<p>Remember that HTTP proxies and SOCKS proxies operate at different levels in the network stack, so you can use one or the other or both.</p>\n"},{"tags":[],"owner":{"display_name":"user279796"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1266954391,"creation_date":1266954391,"answer_id":2321168,"question_id":120797,"body_markdown":"You can utilize the http.proxy* JVM variables if you&#39;re within a standalone JVM but you SHOULD NOT modify their startup scripts and/or do this within your application server (except maybe jboss or tomcat).  Instead you should utilize the JAVA Proxy API (not System.setProperty) or utilize the vendor&#39;s own configuration options.  Both WebSphere and WebLogic have very defined ways of setting up the proxies that are far more powerful than the J2SE one.  Additionally, for WebSphere and WebLogic you will likely break your application server in little ways by overriding the startup scripts (particularly the server&#39;s interop processes as you might be telling them to use your proxy as well...).  ","title":"How do I set the proxy to be used by the JVM","body":"<p>You can utilize the http.proxy* JVM variables if you're within a standalone JVM but you SHOULD NOT modify their startup scripts and/or do this within your application server (except maybe jboss or tomcat).  Instead you should utilize the JAVA Proxy API (not System.setProperty) or utilize the vendor's own configuration options.  Both WebSphere and WebLogic have very defined ways of setting up the proxies that are far more powerful than the J2SE one.  Additionally, for WebSphere and WebLogic you will likely break your application server in little ways by overriding the startup scripts (particularly the server's interop processes as you might be telling them to use your proxy as well...).  </p>\n"},{"comments":[{"owner":{"account_id":4956497,"reputation":576,"user_id":3988931,"accept_rate":80,"display_name":"Boris"},"score":1,"creation_date":1441209628,"post_id":2409610,"comment_id":52588685,"body_markdown":"I wish I could upvote this multiple times, it is the only solution that worked for me; thank you! I had to download the apache commons logging jar from here: https://commons.apache.org/proper/commons-logging/download_logging.cgi   \nMy code in Main():      System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n      System.out.println(&quot;detecting proxies&quot;);\n      ExtendedProxyManager.init();","body":"I wish I could upvote this multiple times, it is the only solution that worked for me; thank you! I had to download the apache commons logging jar from here: <a href=\"https://commons.apache.org/proper/commons-logging/download_logging.cgi\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-logging/download_logging.c&zwnj;&#8203;gi</a>    My code in Main():      System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);       System.out.println(&quot;detecting proxies&quot;);       ExtendedProxyManager.init();"},{"owner":{"account_id":49589,"reputation":2819,"user_id":147673,"accept_rate":70,"display_name":"Houtman"},"score":0,"creation_date":1519138292,"post_id":2409610,"comment_id":84780817,"body_markdown":"What would the `xbootclasspath` pointing to deploy.jar have for effect, couldn&#39;t i take that jar onto my normal classpath (when running without webstart)?","body":"What would the <code>xbootclasspath</code> pointing to deploy.jar have for effect, couldn&#39;t i take that jar onto my normal classpath (when running without webstart)?"},{"owner":{"account_id":49589,"reputation":2819,"user_id":147673,"accept_rate":70,"display_name":"Houtman"},"score":1,"creation_date":1519139949,"post_id":2409610,"comment_id":84781990,"body_markdown":"in JDK 9, it fails :(  `Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class ...) cannot access class com.sun.deploy.net.proxy.DeployProxySelector (in module jdk.deploy) because module jdk.deploy does not export com.sun.deploy.net.proxy`","body":"in JDK 9, it fails :(  <code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class ...) cannot access class com.sun.deploy.net.proxy.DeployProxySelector (in module jdk.deploy) because module jdk.deploy does not export com.sun.deploy.net.proxy</code>"}],"tags":[],"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1268144291,"creation_date":1268144291,"answer_id":2409610,"question_id":120797,"body_markdown":"Recently I&#39;ve discovered the way to allow JVM to use browser proxy settings. What you need to do is to add `${java.home}/lib/deploy.jar` to your project and to init the library like the following:\r\n\r\n    import com.sun.deploy.net.proxy.DeployProxySelector;\r\n    import com.sun.deploy.services.PlatformType;\r\n    import com.sun.deploy.services.ServiceManager;\r\n    \r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    \r\n    public abstract class ExtendedProxyManager {\r\n    \r\n    \tprivate static final Log logger = LogFactory.getLog(ExtendedProxyManager.class);\r\n    \r\n    \t/**\r\n    \t * After calling this method, proxy settings can be magically retrieved from default browser settings.\r\n    \t */\r\n    \tpublic static boolean init() {\r\n    \t\tlogger.debug(&quot;Init started&quot;);\r\n    \r\n    \t\t// Initialization code was taken from com.sun.deploy.ClientContainer:\r\n    \t\tServiceManager\r\n    \t\t\t\t.setService(System.getProperty(&quot;os.name&quot;).toLowerCase().indexOf(&quot;windows&quot;) != -1 ? PlatformType.STANDALONE_TIGER_WIN32\r\n    \t\t\t\t\t\t: PlatformType.STANDALONE_TIGER_UNIX);\r\n    \r\n    \t\ttry {\r\n    \t\t\t// This will call ProxySelector.setDefault():\r\n    \t\t\tDeployProxySelector.reset();\r\n    \t\t} catch (Throwable throwable) {\r\n    \t\t\tlogger.error(&quot;Unable to initialize extended dynamic browser proxy settings support.&quot;, throwable);\r\n    \r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nAfterwards the proxy settings are available to Java API via `java.net.ProxySelector`.\r\n\r\nThe only problem with this approach is that you need to start JVM with `deploy.jar` in bootclasspath e.g. `java -Xbootclasspath/a:&quot;%JAVA_HOME%\\jre\\lib\\deploy.jar&quot; -jar my.jar`. If somebody knows how to overcome this limitation, let me know.","title":"How do I set the proxy to be used by the JVM","body":"<p>Recently I've discovered the way to allow JVM to use browser proxy settings. What you need to do is to add <code>${java.home}/lib/deploy.jar</code> to your project and to init the library like the following:</p>\n\n<pre><code>import com.sun.deploy.net.proxy.DeployProxySelector;\nimport com.sun.deploy.services.PlatformType;\nimport com.sun.deploy.services.ServiceManager;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\npublic abstract class ExtendedProxyManager {\n\n    private static final Log logger = LogFactory.getLog(ExtendedProxyManager.class);\n\n    /**\n     * After calling this method, proxy settings can be magically retrieved from default browser settings.\n     */\n    public static boolean init() {\n        logger.debug(\"Init started\");\n\n        // Initialization code was taken from com.sun.deploy.ClientContainer:\n        ServiceManager\n                .setService(System.getProperty(\"os.name\").toLowerCase().indexOf(\"windows\") != -1 ? PlatformType.STANDALONE_TIGER_WIN32\n                        : PlatformType.STANDALONE_TIGER_UNIX);\n\n        try {\n            // This will call ProxySelector.setDefault():\n            DeployProxySelector.reset();\n        } catch (Throwable throwable) {\n            logger.error(\"Unable to initialize extended dynamic browser proxy settings support.\", throwable);\n\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>Afterwards the proxy settings are available to Java API via <code>java.net.ProxySelector</code>.</p>\n\n<p>The only problem with this approach is that you need to start JVM with <code>deploy.jar</code> in bootclasspath e.g. <code>java -Xbootclasspath/a:\"%JAVA_HOME%\\jre\\lib\\deploy.jar\" -jar my.jar</code>. If somebody knows how to overcome this limitation, let me know.</p>\n"},{"tags":[],"owner":{"account_id":1017258,"reputation":1,"user_id":1028540,"display_name":"nylas"},"comment_count":0,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1320353290,"creation_date":1320353290,"answer_id":8001659,"question_id":120797,"body_markdown":"I think configuring [WINHTTP][1] will also work.\r\n\r\nMany programs including Windows Updates are having problems behind proxy. By setting up WINHTTP will always fix this kind of problems\r\n\r\n\r\n  [1]: http://www.deconf.com/en/networking/windows-update-using-proxy/","title":"How do I set the proxy to be used by the JVM","body":"<p>I think configuring <a href=\"http://www.deconf.com/en/networking/windows-update-using-proxy/\" rel=\"nofollow\">WINHTTP</a> will also work.</p>\n\n<p>Many programs including Windows Updates are having problems behind proxy. By setting up WINHTTP will always fix this kind of problems</p>\n"},{"comments":[{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":0,"creation_date":1418100713,"post_id":11527488,"comment_id":43194605,"body_markdown":"Awesome setting jvm arguement works for me like charm.. Thanks","body":"Awesome setting jvm arguement works for me like charm.. Thanks"},{"owner":{"account_id":383400,"reputation":1972,"user_id":739228,"accept_rate":69,"display_name":"Fer"},"score":0,"creation_date":1450955965,"post_id":11527488,"comment_id":56645425,"body_markdown":"I used this code to disable the proxy by &quot;false&quot; value on my SSLSocket. Thanks.","body":"I used this code to disable the proxy by &quot;false&quot; value on my SSLSocket. Thanks."},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1552987197,"post_id":11527488,"comment_id":97207786,"body_markdown":"Perhaps it is because my proxy requires authentication, but this did not work for me. I wish it did.","body":"Perhaps it is because my proxy requires authentication, but this did not work for me. I wish it did."},{"owner":{"account_id":1916420,"reputation":196,"user_id":1728922,"display_name":"Michael_S"},"score":5,"creation_date":1556535304,"post_id":11527488,"comment_id":98459527,"body_markdown":"This does not work with Proxy Auto-Config (PAC) files, see https://stackoverflow.com/questions/10324996/does-javas-proxyselector-not-work-with-automatic-proxy-configuration-scripts","body":"This does not work with Proxy Auto-Config (PAC) files, see <a href=\"https://stackoverflow.com/questions/10324996/does-javas-proxyselector-not-work-with-automatic-proxy-configuration-scripts\" title=\"does javas proxyselector not work with automatic proxy configuration scripts\">stackoverflow.com/questions/10324996/&hellip;</a>"},{"owner":{"account_id":9216104,"reputation":101,"user_id":14610296,"display_name":"Anurag"},"score":0,"creation_date":1651813687,"post_id":11527488,"comment_id":127457254,"body_markdown":"This is not working although it shows in VM arguments . Any help appriciated","body":"This is not working although it shows in VM arguments . Any help appriciated"},{"owner":{"account_id":926849,"reputation":1539,"user_id":957476,"display_name":"gr5"},"score":0,"creation_date":1651940433,"post_id":11527488,"comment_id":127487440,"body_markdown":"It has been 10 years but I think this only grabs the proxy server ip (or dns) and the port. I don&#39;t think java knew how to grab authentication information.  Maybe because there are something like dozens of completely unrelated authentication methods.  I had to also add lots of code to ask the user for and store and transmit username/password and even that wasn&#39;t good enough as there were other types of authentication.","body":"It has been 10 years but I think this only grabs the proxy server ip (or dns) and the port. I don&#39;t think java knew how to grab authentication information.  Maybe because there are something like dozens of completely unrelated authentication methods.  I had to also add lots of code to ask the user for and store and transmit username/password and even that wasn&#39;t good enough as there were other types of authentication."}],"tags":[],"owner":{"account_id":926849,"reputation":1539,"user_id":957476,"display_name":"gr5"},"comment_count":6,"down_vote_count":0,"up_vote_count":143,"is_accepted":false,"score":143,"last_activity_date":1390931091,"creation_date":1342545207,"answer_id":11527488,"question_id":120797,"body_markdown":"To use the system proxy setup:\r\n\r\n    java -Djava.net.useSystemProxies=true ...\r\n\r\nOr programatically:\r\n\r\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n\r\nSource: http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>To use the system proxy setup:</p>\n\n<pre><code>java -Djava.net.useSystemProxies=true ...\n</code></pre>\n\n<p>Or programatically:</p>\n\n<pre><code>System.setProperty(\"java.net.useSystemProxies\", \"true\");\n</code></pre>\n\n<p>Source: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\">http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html</a></p>\n"},{"tags":[],"owner":{"account_id":952285,"reputation":101,"user_id":978180,"accept_rate":25,"display_name":"Pallavi"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1484657977,"creation_date":1346917027,"answer_id":12295125,"question_id":120797,"body_markdown":"I am also behind firewall, this worked for me!!\r\n\r\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;proxy host addr&quot;);\r\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;808&quot;);\r\n    Authenticator.setDefault(new Authenticator() {\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n\r\n            return new PasswordAuthentication(&quot;domain\\\\user&quot;,&quot;password&quot;.toCharArray());\r\n        }\r\n    });\r\n\r\n    URL url = new URL(&quot;http://www.google.com/&quot;);\r\n    URLConnection con = url.openConnection();\r\n\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\t    con.getInputStream()));\r\n\r\n    // Read it ...\r\n    String inputLine;\r\n    while ((inputLine = in.readLine()) != null)\r\n        System.out.println(inputLine);\r\n\r\n    in.close();","title":"How do I set the proxy to be used by the JVM","body":"<p>I am also behind firewall, this worked for me!!</p>\n\n<pre><code>System.setProperty(\"http.proxyHost\", \"proxy host addr\");\nSystem.setProperty(\"http.proxyPort\", \"808\");\nAuthenticator.setDefault(new Authenticator() {\n    protected PasswordAuthentication getPasswordAuthentication() {\n\n        return new PasswordAuthentication(\"domain\\\\user\",\"password\".toCharArray());\n    }\n});\n\nURL url = new URL(\"http://www.google.com/\");\nURLConnection con = url.openConnection();\n\nBufferedReader in = new BufferedReader(new InputStreamReader(\n                    con.getInputStream()));\n\n// Read it ...\nString inputLine;\nwhile ((inputLine = in.readLine()) != null)\n    System.out.println(inputLine);\n\nin.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1464663421,"post_id":12995494,"comment_id":62562273,"body_markdown":"`http.proxyUser` and `http.proxyPassword` are not Java system properties. They are for the Apache HTTP client.","body":"<code>http.proxyUser</code> and <code>http.proxyPassword</code> are not Java system properties. They are for the Apache HTTP client."},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1552987593,"post_id":12995494,"comment_id":97208026,"body_markdown":"Use `System.setProperty` instead of `System.getProperties().put(...)`","body":"Use <code>System.setProperty</code> instead of <code>System.getProperties().put(...)</code>"}],"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1351775432,"creation_date":1350800249,"answer_id":12995494,"question_id":120797,"body_markdown":"Add this before you connect to a URL behind a proxy.\r\n\r\n\r\n    System.getProperties().put(&quot;http.proxyHost&quot;, &quot;someProxyURL&quot;);\r\n    System.getProperties().put(&quot;http.proxyPort&quot;, &quot;someProxyPort&quot;);\r\n    System.getProperties().put(&quot;http.proxyUser&quot;, &quot;someUserName&quot;);\r\n    System.getProperties().put(&quot;http.proxyPassword&quot;, &quot;somePassword&quot;);\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>Add this before you connect to a URL behind a proxy.</p>\n\n<pre><code>System.getProperties().put(\"http.proxyHost\", \"someProxyURL\");\nSystem.getProperties().put(\"http.proxyPort\", \"someProxyPort\");\nSystem.getProperties().put(\"http.proxyUser\", \"someUserName\");\nSystem.getProperties().put(\"http.proxyPassword\", \"somePassword\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558350,"reputation":41,"user_id":920859,"display_name":"patdevelop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355988169,"creation_date":1355988169,"answer_id":13967127,"question_id":120797,"body_markdown":"As is pointed out in other answers, if you need to use Authenticated proxies, there&#39;s no reliable way to do this purely using command-line variables - which is annoying if you&#39;re using someone else&#39;s application and don&#39;t want to mess with the source code.\r\n\r\n[Will Iverson](https://stackoverflow.com/users/311440/will-iverson) makes the helpful suggestion over at https://stackoverflow.com/questions/5678000/using-httpproxy-to-connect-to-a-host-with-preemtive-authentication to use a Proxy-management tool such as Proxifier ( http://www.proxifier.com/ for Mac OS X and Windows) to handle this.\r\n\r\nFor example with Proxifier you can set it up to only intercept java commands to be managed and redirected through its (authenticated) proxy. You&#39;re going to want to set the proxyHost and proxyPort values to blank in this case though, e.g. pass in `-Dhttp.proxyHost= -Dhttp.proxyPort=` to your java commands.","title":"How do I set the proxy to be used by the JVM","body":"<p>As is pointed out in other answers, if you need to use Authenticated proxies, there's no reliable way to do this purely using command-line variables - which is annoying if you're using someone else's application and don't want to mess with the source code.</p>\n\n<p><a href=\"https://stackoverflow.com/users/311440/will-iverson\">Will Iverson</a> makes the helpful suggestion over at <a href=\"https://stackoverflow.com/questions/5678000/using-httpproxy-to-connect-to-a-host-with-preemtive-authentication\">Using HttpProxy to connect to a host with preemtive authentication</a> to use a Proxy-management tool such as Proxifier ( <a href=\"http://www.proxifier.com/\" rel=\"nofollow noreferrer\">http://www.proxifier.com/</a> for Mac OS X and Windows) to handle this.</p>\n\n<p>For example with Proxifier you can set it up to only intercept java commands to be managed and redirected through its (authenticated) proxy. You're going to want to set the proxyHost and proxyPort values to blank in this case though, e.g. pass in <code>-Dhttp.proxyHost= -Dhttp.proxyPort=</code> to your java commands.</p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1552987651,"post_id":24551536,"comment_id":97208051,"body_markdown":"This answer doesn&#39;t provide anything that hasn&#39;t already been said in the other answers.","body":"This answer doesn&#39;t provide anything that hasn&#39;t already been said in the other answers."}],"tags":[],"owner":{"account_id":1170835,"reputation":1183,"user_id":1148069,"display_name":"Viet Tran"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1465967510,"creation_date":1404384203,"answer_id":24551536,"question_id":120797,"body_markdown":"That works for me:\r\n\r\n    public void setHttpProxy(boolean isNeedProxy) {\r\n        if (isNeedProxy) {\r\n            System.setProperty(&quot;http.proxyHost&quot;, getProxyHost());\r\n            System.setProperty(&quot;http.proxyPort&quot;, getProxyPort());\r\n        } else {\r\n            System.clearProperty(&quot;http.proxyHost&quot;);\r\n            System.clearProperty(&quot;http.proxyPort&quot;);\r\n        }\r\n    }\r\n\r\nP/S: I base on GHad&#39;s answer.","title":"How do I set the proxy to be used by the JVM","body":"<p>That works for me:</p>\n\n<pre><code>public void setHttpProxy(boolean isNeedProxy) {\n    if (isNeedProxy) {\n        System.setProperty(\"http.proxyHost\", getProxyHost());\n        System.setProperty(\"http.proxyPort\", getProxyPort());\n    } else {\n        System.clearProperty(\"http.proxyHost\");\n        System.clearProperty(\"http.proxyPort\");\n    }\n}\n</code></pre>\n\n<p>P/S: I base on GHad's answer.</p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":2,"creation_date":1552987456,"post_id":27919196,"comment_id":97207953,"body_markdown":"Use `System.setProperty` instead of `System.getProperties().put(...)`","body":"Use <code>System.setProperty</code> instead of <code>System.getProperties().put(...)</code>"}],"tags":[],"owner":{"account_id":1612518,"reputation":797,"user_id":1491081,"display_name":"sarath"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1548336232,"creation_date":1421142566,"answer_id":27919196,"question_id":120797,"body_markdown":"JVM uses the proxy to make HTTP calls\r\n\r\n    System.getProperties().put(&quot;http.proxyHost&quot;, &quot;someProxyURL&quot;);\r\n    System.getProperties().put(&quot;http.proxyPort&quot;, &quot;someProxyPort&quot;);\r\n\t\t\t\r\nThis may use user setting proxy\r\n\r\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);","title":"How do I set the proxy to be used by the JVM","body":"<p>JVM uses the proxy to make HTTP calls</p>\n\n<pre><code>System.getProperties().put(\"http.proxyHost\", \"someProxyURL\");\nSystem.getProperties().put(\"http.proxyPort\", \"someProxyPort\");\n</code></pre>\n\n<p>This may use user setting proxy</p>\n\n<pre><code>System.setProperty(\"java.net.useSystemProxies\", \"true\");\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user3999721"},"score":0,"creation_date":1678110880,"post_id":32511851,"comment_id":133464626,"body_markdown":"This option not working inside docker, only adding `ARG _JAVA_OPTIONS=&quot;-Dhttps.proxyHost=myproxy -Dhttps.proxyPort=myport&quot;` like this working.. but hardcoding is not feasible...","body":"This option not working inside docker, only adding <code>ARG _JAVA_OPTIONS=&quot;-Dhttps.proxyHost=myproxy -Dhttps.proxyPort=myport&quot;</code> like this working.. but hardcoding is not feasible..."}],"tags":[],"owner":{"account_id":68667,"reputation":2301,"user_id":200234,"display_name":"Mihai Capotă"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1455043417,"creation_date":1441920327,"answer_id":32511851,"question_id":120797,"body_markdown":"Set the [`java.net.useSystemProxies`][1] property to `true`. You can set it, for example, through the [JAVA_TOOL_OPTIONS][2] environmental variable. In Ubuntu, you can, for example, add the following line to `.bashrc`:\r\n\r\n&gt; export JAVA_TOOL_OPTIONS+=&quot; -Djava.net.useSystemProxies=true&quot;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/doc-files/net-properties.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/envvars002.html","title":"How do I set the proxy to be used by the JVM","body":"<p>Set the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/doc-files/net-properties.html\" rel=\"noreferrer\"><code>java.net.useSystemProxies</code></a> property to <code>true</code>. You can set it, for example, through the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/envvars002.html\" rel=\"noreferrer\">JAVA_TOOL_OPTIONS</a> environmental variable. In Ubuntu, you can, for example, add the following line to <code>.bashrc</code>:</p>\n\n<blockquote>\n  <p>export JAVA_TOOL_OPTIONS+=\" -Djava.net.useSystemProxies=true\"</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1464663532,"post_id":32897878,"comment_id":62562297,"body_markdown":"This is since Java 1.5, not 1.7.","body":"This is since Java 1.5, not 1.7."}],"tags":[],"owner":{"account_id":6176254,"reputation":1267,"user_id":4813037,"display_name":"Philip M."},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443738881,"creation_date":1443738881,"answer_id":32897878,"question_id":120797,"body_markdown":"This is a minor update, but since Java 7, proxy connections can now be created programmatically rather than through system properties.  This may be useful if:\r\n\r\n 1. Proxy needs to be dynamically rotated during the program&#39;s runtime\r\n 2. Multiple parallel proxies need to be used\r\n 3. Or just make your code cleaner :)\r\n\r\nHere&#39;s a contrived example in groovy:\r\n\r\n    // proxy configuration read from file resource under &quot;proxyFileName&quot;\r\n    String proxyFileName = &quot;proxy.txt&quot;\r\n    String proxyPort = &quot;1234&quot;\r\n    String url = &quot;http://www.promised.land&quot;\r\n    File testProxyFile = new File(proxyFileName)\r\n\tURLConnection connection\r\n\r\n\tif (!testProxyFile.exists()) {\r\n\r\n\t\tlogger.debug &quot;proxyFileName doesn&#39;t exist.  Bypassing connection via proxy.&quot;\r\n\t\tconnection = url.toURL().openConnection()\r\n\r\n\t} else {\r\n\t\tString proxyAddress = testProxyFile.text\r\n\t\tconnection = url.toURL().openConnection(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyAddress, proxyPort)))\r\n\t}\r\n\r\n\ttry {\r\n        connection.connect()\r\n    }\r\n    catch (Exception e) {\r\n        logger.error e.printStackTrace()\r\n    }\r\n\r\n\r\nFull Reference:\r\n[http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html","title":"How do I set the proxy to be used by the JVM","body":"<p>This is a minor update, but since Java 7, proxy connections can now be created programmatically rather than through system properties.  This may be useful if:</p>\n\n<ol>\n<li>Proxy needs to be dynamically rotated during the program's runtime</li>\n<li>Multiple parallel proxies need to be used</li>\n<li>Or just make your code cleaner :)</li>\n</ol>\n\n<p>Here's a contrived example in groovy:</p>\n\n<pre><code>// proxy configuration read from file resource under \"proxyFileName\"\nString proxyFileName = \"proxy.txt\"\nString proxyPort = \"1234\"\nString url = \"http://www.promised.land\"\nFile testProxyFile = new File(proxyFileName)\nURLConnection connection\n\nif (!testProxyFile.exists()) {\n\n    logger.debug \"proxyFileName doesn't exist.  Bypassing connection via proxy.\"\n    connection = url.toURL().openConnection()\n\n} else {\n    String proxyAddress = testProxyFile.text\n    connection = url.toURL().openConnection(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyAddress, proxyPort)))\n}\n\ntry {\n    connection.connect()\n}\ncatch (Exception e) {\n    logger.error e.printStackTrace()\n}\n</code></pre>\n\n<p>Full Reference:\n<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html</a></p>\n"},{"comments":[{"owner":{"account_id":384624,"reputation":15403,"user_id":741249,"display_name":"THelper"},"score":6,"creation_date":1504520312,"post_id":41862236,"comment_id":79029802,"body_markdown":"ProxyUser and proxyPassword are not Java system properties, but Apache HTTP client properties so this doesn&#39;t work in all cases.","body":"ProxyUser and proxyPassword are not Java system properties, but Apache HTTP client properties so this doesn&#39;t work in all cases."}],"tags":[],"owner":{"account_id":436296,"reputation":2813,"user_id":823368,"accept_rate":0,"display_name":"Andreas Panagiotidis"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1563107805,"creation_date":1485380841,"answer_id":41862236,"question_id":120797,"body_markdown":"The following shows how to set in Java a proxy with **proxy user and proxy password** from the command line, which is a very common case. You should not save passwords and hosts in the code, as a rule in the first place. \r\n\r\nPassing the system properties in command line with -D and setting them in the code with System.setProperty(&quot;name&quot;, &quot;value&quot;) is equivalent. \r\n\r\n**But note this**\r\n\r\nExample that works: \r\n\r\n    C:\\temp&gt;java -Dhttps.proxyHost=host -Dhttps.proxyPort=port -Dhttps.proxyUser=user -Dhttps.proxyPassword=&quot;password&quot; -Djavax.net.ssl.trustStore=c:/cacerts -Djavax.net.ssl.trustStorePassword=changeit com.andreas.JavaNetHttpConnection\r\n\r\nBut the following **does not work**:\r\n\r\n    C:\\temp&gt;java com.andreas.JavaNetHttpConnection -Dhttps.proxyHost=host -Dhttps.proxyPort=port -Dhttps=proxyUser=user -Dhttps.proxyPassword=&quot;password&quot; -Djavax.net.ssl.trustStore=c:/cacerts -Djavax.net.ssl.trustStorePassword=changeit\r\n   \r\nThe only difference is the position of the system properties! (before and after the class)\r\n\r\nIf you have special characters in password, you are allowed to put it in quotes &quot;@MyPass123%&quot;, like in the above example. \r\n\r\nIf you access an HTTPS service, you have to use `https.proxyHost`, `https.proxyPort` etc. \r\n\r\nIf you access an HTTP service, you have to use `http.proxyHost`, `http.proxyPort` etc. \r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>The following shows how to set in Java a proxy with <strong>proxy user and proxy password</strong> from the command line, which is a very common case. You should not save passwords and hosts in the code, as a rule in the first place. </p>\n\n<p>Passing the system properties in command line with -D and setting them in the code with System.setProperty(\"name\", \"value\") is equivalent. </p>\n\n<p><strong>But note this</strong></p>\n\n<p>Example that works: </p>\n\n<pre><code>C:\\temp&gt;java -Dhttps.proxyHost=host -Dhttps.proxyPort=port -Dhttps.proxyUser=user -Dhttps.proxyPassword=\"password\" -Djavax.net.ssl.trustStore=c:/cacerts -Djavax.net.ssl.trustStorePassword=changeit com.andreas.JavaNetHttpConnection\n</code></pre>\n\n<p>But the following <strong>does not work</strong>:</p>\n\n<pre><code>C:\\temp&gt;java com.andreas.JavaNetHttpConnection -Dhttps.proxyHost=host -Dhttps.proxyPort=port -Dhttps=proxyUser=user -Dhttps.proxyPassword=\"password\" -Djavax.net.ssl.trustStore=c:/cacerts -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>The only difference is the position of the system properties! (before and after the class)</p>\n\n<p>If you have special characters in password, you are allowed to put it in quotes \"@MyPass123%\", like in the above example. </p>\n\n<p>If you access an HTTPS service, you have to use <code>https.proxyHost</code>, <code>https.proxyPort</code> etc. </p>\n\n<p>If you access an HTTP service, you have to use <code>http.proxyHost</code>, <code>http.proxyPort</code> etc. </p>\n"},{"tags":[],"owner":{"account_id":222722,"reputation":2329,"user_id":2135941,"accept_rate":75,"display_name":"SanThee"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1499868748,"creation_date":1499868748,"answer_id":45060126,"question_id":120797,"body_markdown":"Combining Sorter&#39;s and javabrett/Leonel&#39;s answers:\r\n\r\n    java -Dhttp.proxyHost=10.10.10.10 -Dhttp.proxyPort=8080 -Dhttp.proxyUser=username -Dhttp.proxyPassword=password -jar myJar.jar","title":"How do I set the proxy to be used by the JVM","body":"<p>Combining Sorter's and javabrett/Leonel's answers:</p>\n\n<pre><code>java -Dhttp.proxyHost=10.10.10.10 -Dhttp.proxyPort=8080 -Dhttp.proxyUser=username -Dhttp.proxyPassword=password -jar myJar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2150868,"reputation":3882,"user_id":1907282,"display_name":"Marcelo C."},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1512079325,"creation_date":1512079325,"answer_id":47583369,"question_id":120797,"body_markdown":"If you want &quot;Socks Proxy&quot;, inform the &quot;socksProxyHost&quot; and &quot;socksProxyPort&quot; VM arguments.\r\n\r\ne.g.\r\n\r\n    java -DsocksProxyHost=127.0.0.1 -DsocksProxyPort=8080 org.example.Main\r\n\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>If you want \"Socks Proxy\", inform the \"socksProxyHost\" and \"socksProxyPort\" VM arguments.</p>\n\n<p>e.g.</p>\n\n<pre><code>java -DsocksProxyHost=127.0.0.1 -DsocksProxyPort=8080 org.example.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675075150,"creation_date":1657054645,"answer_id":72875447,"question_id":120797,"body_markdown":"This is a complete example that worked for me - note that for HTTPS there are separate properties (as per https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html).\r\n\r\nCode below sends a request to https://api.myip.com API and prints the response.  \r\n\r\n    public static void main(String[] args) throws IOException {\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n        final String proxyUser = &quot;proxy-user&quot;;\r\n        final String proxyPass = &quot;password123&quot;;\r\n        final String host = &quot;some.proxy.io&quot;;\r\n        final Integer port = 50201;\r\n\r\n        // http\r\n        System.setProperty(&quot;http.proxyHost&quot;,host);\r\n        System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(port));\r\n        System.setProperty(&quot;http.proxyUser&quot;, proxyUser);\r\n        System.setProperty(&quot;http.proxyPassword&quot;, proxyPass);\r\n\r\n        // https\r\n        System.setProperty(&quot;https.proxyHost&quot;,host);\r\n        System.setProperty(&quot;https.proxyPort&quot;, String.valueOf(port));\r\n        System.setProperty(&quot;https.proxyUser&quot;, proxyUser);\r\n        System.setProperty(&quot;https.proxyPassword&quot;, proxyPass);\r\n\r\n        System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n        System.setProperty(&quot;jdk.https.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n\r\n        Authenticator.setDefault(new Authenticator() {\r\n                    @Override\r\n                    public PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(proxyUser, proxyPass.toCharArray());\r\n                    }\r\n            }\r\n        );\r\n\r\n        // create and send a https request to myip.com API\r\n        URL url = new URL(&quot;https://api.myip.com&quot;);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n        int status = connection.getResponseCode();\r\n        \r\n        // read the response\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n        String responseLine;\r\n        StringBuffer responseContent = new StringBuffer();\r\n        while ((responseLine = in.readLine()) != null) \r\n            responseContent.append(responseLine);\r\n        \r\n        in.close();\r\n        connection.disconnect();\r\n        \r\n        // print the response\r\n        System.out.println(status);\r\n        System.out.println(responseContent);\r\n    }\r\n\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>This is a complete example that worked for me - note that for HTTPS there are separate properties (as per <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a>).</p>\n<p>Code below sends a request to <a href=\"https://api.myip.com\" rel=\"nofollow noreferrer\">https://api.myip.com</a> API and prints the response.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n    final String proxyUser = &quot;proxy-user&quot;;\n    final String proxyPass = &quot;password123&quot;;\n    final String host = &quot;some.proxy.io&quot;;\n    final Integer port = 50201;\n\n    // http\n    System.setProperty(&quot;http.proxyHost&quot;,host);\n    System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(port));\n    System.setProperty(&quot;http.proxyUser&quot;, proxyUser);\n    System.setProperty(&quot;http.proxyPassword&quot;, proxyPass);\n\n    // https\n    System.setProperty(&quot;https.proxyHost&quot;,host);\n    System.setProperty(&quot;https.proxyPort&quot;, String.valueOf(port));\n    System.setProperty(&quot;https.proxyUser&quot;, proxyUser);\n    System.setProperty(&quot;https.proxyPassword&quot;, proxyPass);\n\n    System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\n    System.setProperty(&quot;jdk.https.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\n\n    Authenticator.setDefault(new Authenticator() {\n                @Override\n                public PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(proxyUser, proxyPass.toCharArray());\n                }\n        }\n    );\n\n    // create and send a https request to myip.com API\n    URL url = new URL(&quot;https://api.myip.com&quot;);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(&quot;GET&quot;);\n    int status = connection.getResponseCode();\n    \n    // read the response\n    BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n    String responseLine;\n    StringBuffer responseContent = new StringBuffer();\n    while ((responseLine = in.readLine()) != null) \n        responseContent.append(responseLine);\n    \n    in.close();\n    connection.disconnect();\n    \n    // print the response\n    System.out.println(status);\n    System.out.println(responseContent);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8353739,"reputation":41,"user_id":6274858,"display_name":"Kolja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697523984,"creation_date":1697523984,"answer_id":77306584,"question_id":120797,"body_markdown":"I know the question asks explicitly for the functionality inside Java. However, I think it is important to think about whether you SHOULD configure a proxy inside your application. I want to make it very clear, in my point of view, that this is not the best practice. In my experience, this kind of approach led to a complicated setup and boilerplate code. \r\n\r\nMainly due to better portability and separation of concerns, you should try to fix this issue NOT on the application layer. Also, different parts of your application may require different proxy configurations due to inconsistencies inside your dependencies. \r\n\r\nEspecially if your application runs containerized, it will make your life pretty hard. The main container platforms have their own solutions to implement proxy-configuration by network policies, services, and proxy settings on platform level. Handling Network-Settings on application level will interfere with the platform solutions. \r\n\r\nPlease consider to configuring your hosting system to use a proxy, to configure the server your application is running on or to configure the container your application is running in.","title":"How do I set the proxy to be used by the JVM","body":"<p>I know the question asks explicitly for the functionality inside Java. However, I think it is important to think about whether you SHOULD configure a proxy inside your application. I want to make it very clear, in my point of view, that this is not the best practice. In my experience, this kind of approach led to a complicated setup and boilerplate code.</p>\n<p>Mainly due to better portability and separation of concerns, you should try to fix this issue NOT on the application layer. Also, different parts of your application may require different proxy configurations due to inconsistencies inside your dependencies.</p>\n<p>Especially if your application runs containerized, it will make your life pretty hard. The main container platforms have their own solutions to implement proxy-configuration by network policies, services, and proxy settings on platform level. Handling Network-Settings on application level will interfere with the platform solutions.</p>\n<p>Please consider to configuring your hosting system to use a proxy, to configure the server your application is running on or to configure the container your application is running in.</p>\n"}],"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841093,"favorite_count":0,"down_vote_count":0,"up_vote_count":368,"accepted_answer_id":120802,"answer_count":21,"score":368,"last_activity_date":1697523984,"creation_date":1222174405,"question_id":120797,"body_markdown":"Many times, a Java app needs to connect to the Internet. The most common example happens when it is reading an XML file and needs to download its schema.\r\n\r\nI am behind a proxy server. How can I set my JVM to use the proxy ?","title":"How do I set the proxy to be used by the JVM","body":"<p>Many times, a Java app needs to connect to the Internet. The most common example happens when it is reading an XML file and needs to download its schema.</p>\n\n<p>I am behind a proxy server. How can I set my JVM to use the proxy ?</p>\n"},{"tags":["java","spring-boot","gradle","google-cloud-platform","gcloud"],"owner":{"account_id":17981792,"reputation":21,"user_id":20117603,"display_name":"pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697523874,"creation_date":1697520702,"question_id":77306366,"body_markdown":"**gradle.build**\r\n\r\n        buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.google.cloud.tools:appengine-gradle-plugin:2.4.5&#39;\r\n        }\r\n        }\r\n\r\n        plugins {\r\n        id &#39;application&#39;\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.5.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        }\r\n\r\n\r\n        apply plugin: &#39;com.google.cloud.tools.appengine&#39;\r\n\r\n\r\n        repositories {\r\n        mavenCentral()\r\n        maven { url &quot;https://packages.jetbrains.team/maven/p/ij/intellij-dependencies&quot; }\r\n        flatDir {\r\n            dirs &#39;lib&#39;\r\n        }\r\n        google()\r\n        }\r\n\r\n        application {\r\n        mainClass = &quot;com.example.demo.DemoApplication&quot;\r\n        applicationName = &#39;gcloud&#39;\r\n        }\r\n\r\n        dependencies {\r\n        testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-admin:9.0.0&#39;\r\n        // https://mvnrepository.com/artifact/org.json/json\r\n        implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20230618&#39;\r\n\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        }\r\n\r\n        test {\r\n        useJUnitPlatform()\r\n        }\r\n\r\n        task getProjectId {\r\n        doLast {\r\n            def projectId = System.getenv(&#39;GOOGLE_CLOUD_PROJECT&#39;)\r\n            if (projectId == null) {\r\n            projectId = ServiceOptions.getDefaultProjectId()\r\n            }\r\n            println(&quot;Project ID: ${projectId}&quot;)\r\n        }\r\n        }\r\n\r\n        appengine {\r\n        deploy {\r\n        \r\n            projectId = &#39;gcloud config get-value project&#39;.execute().text.trim()\r\n            version = 3\r\n            stopPreviousVersion = true\r\n        }\r\n        }\r\n\r\n\r\n**java file**\r\n\r\n        package com.example.demo;\r\n\r\n\r\n        import org.springframework.boot.SpringApplication;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        import org.springframework.scheduling.annotation.EnableScheduling;\r\n        import org.springframework.scheduling.annotation.Scheduled;\r\n        import org.springframework.web.bind.annotation.GetMapping;\r\n        import org.springframework.web.bind.annotation.RestController;\r\n\r\n\r\n        @SpringBootApplication\r\n        @RestController\r\n        @EnableScheduling\r\n        public class DemoApplication {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n\r\n        @Scheduled(fixedRate = 60000)\r\n        public void myScheduledTask() {\r\n\r\n            System.out.println(&quot;one minite&quot;);\r\n\r\n        }\r\n\r\n        @GetMapping(&quot;/gcloud&quot;)\r\n        public String hello() {\r\n            return &quot;You are not hacked!&quot;;\r\n        }\r\n\r\n        }\r\n\r\n\r\n**app.yaml**\r\n\r\n    runtime: java11\r\n    env: standard\r\n    instance_class: F4_1G\r\n    entrypoint: java -cp appengine-web.jar com.example.demo.DemoApplication\r\n\r\n\r\n\r\nIf run this code in my local computer it works smoothly.\r\n\r\nI deployed my code with this cmd \r\n\r\n      gradle appengineDeploy\r\n\r\nBut, after deploying in gcloud spring boot&#39;s Scheduled task not worked.\r\n\r\nwhat I did wrong in this ?\r\n\r\n\r\n\r\nI want to run spring boot&#39;s Scheduled task in google cloud standard env.\r\n\r\nhow do I do that ?\r\n\r\n\r\nI see console output using this cmd `gcloud app logs tail -s default` but nothing is printed.\r\n\r\nIf I go to my website. It comes like this \r\n\r\n![image](https://github.com/GoogleCloudPlatform/app-gradle-plugin/assets/96039278/5cc2621f-3f3a-4d0c-bc75-dfbf85a535ae)\r\n\r\nmy website also doesn&#39;t work.\r\n\r\nHow do I solve this ?","title":"spring boot&#39;s Scheduled task not worked in Google cloud app engine standard environment","body":"<p><strong>gradle.build</strong></p>\n<pre><code>    buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.google.cloud.tools:appengine-gradle-plugin:2.4.5'\n    }\n    }\n\n    plugins {\n    id 'application'\n    id 'java'\n    id 'org.springframework.boot' version '2.5.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    }\n\n\n    apply plugin: 'com.google.cloud.tools.appengine'\n\n\n    repositories {\n    mavenCentral()\n    maven { url &quot;https://packages.jetbrains.team/maven/p/ij/intellij-dependencies&quot; }\n    flatDir {\n        dirs 'lib'\n    }\n    google()\n    }\n\n    application {\n    mainClass = &quot;com.example.demo.DemoApplication&quot;\n    applicationName = 'gcloud'\n    }\n\n    dependencies {\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n\n    implementation 'com.google.firebase:firebase-database:20.0.1'\n    implementation 'com.google.firebase:firebase-admin:9.0.0'\n    // https://mvnrepository.com/artifact/org.json/json\n    implementation group: 'org.json', name: 'json', version: '20230618'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    }\n\n    test {\n    useJUnitPlatform()\n    }\n\n    task getProjectId {\n    doLast {\n        def projectId = System.getenv('GOOGLE_CLOUD_PROJECT')\n        if (projectId == null) {\n        projectId = ServiceOptions.getDefaultProjectId()\n        }\n        println(&quot;Project ID: ${projectId}&quot;)\n    }\n    }\n\n    appengine {\n    deploy {\n    \n        projectId = 'gcloud config get-value project'.execute().text.trim()\n        version = 3\n        stopPreviousVersion = true\n    }\n    }\n</code></pre>\n<p><strong>java file</strong></p>\n<pre><code>    package com.example.demo;\n\n\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.scheduling.annotation.EnableScheduling;\n    import org.springframework.scheduling.annotation.Scheduled;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.RestController;\n\n\n    @SpringBootApplication\n    @RestController\n    @EnableScheduling\n    public class DemoApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Scheduled(fixedRate = 60000)\n    public void myScheduledTask() {\n\n        System.out.println(&quot;one minite&quot;);\n\n    }\n\n    @GetMapping(&quot;/gcloud&quot;)\n    public String hello() {\n        return &quot;You are not hacked!&quot;;\n    }\n\n    }\n</code></pre>\n<p><strong>app.yaml</strong></p>\n<pre><code>runtime: java11\nenv: standard\ninstance_class: F4_1G\nentrypoint: java -cp appengine-web.jar com.example.demo.DemoApplication\n</code></pre>\n<p>If run this code in my local computer it works smoothly.</p>\n<p>I deployed my code with this cmd</p>\n<pre><code>  gradle appengineDeploy\n</code></pre>\n<p>But, after deploying in gcloud spring boot's Scheduled task not worked.</p>\n<p>what I did wrong in this ?</p>\n<p>I want to run spring boot's Scheduled task in google cloud standard env.</p>\n<p>how do I do that ?</p>\n<p>I see console output using this cmd <code>gcloud app logs tail -s default</code> but nothing is printed.</p>\n<p>If I go to my website. It comes like this</p>\n<p><img src=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/assets/96039278/5cc2621f-3f3a-4d0c-bc75-dfbf85a535ae\" alt=\"image\" /></p>\n<p>my website also doesn't work.</p>\n<p>How do I solve this ?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","hikaricp"],"comments":[{"owner":{"account_id":15125782,"reputation":387,"user_id":10915131,"display_name":"yeahseol"},"score":0,"creation_date":1582158060,"post_id":60310858,"comment_id":106685202,"body_markdown":"What is `root cause`?","body":"What is <code>root cause</code>?"},{"owner":{"account_id":17801894,"reputation":466,"user_id":12928469,"display_name":"Sanjog"},"score":0,"creation_date":1582240497,"post_id":60310858,"comment_id":106719656,"body_markdown":"Here&#39;s the complete exception stack:","body":"Here&#39;s the complete exception stack:"}],"answers":[{"comments":[{"owner":{"account_id":1075946,"reputation":365,"user_id":1074100,"display_name":"Abhishek Aggarwal"},"score":2,"creation_date":1587557095,"post_id":60380157,"comment_id":108556341,"body_markdown":"Do you know that is the property against which we have to set that value?","body":"Do you know that is the property against which we have to set that value?"},{"owner":{"account_id":946198,"reputation":399,"user_id":973417,"display_name":"GiovanyMoreno"},"score":4,"creation_date":1596399572,"post_id":60380157,"comment_id":111793067,"body_markdown":"spring.datasource.hikari.max-lifetime=600000 (in milliseconds)","body":"spring.datasource.hikari.max-lifetime=600000 (in milliseconds)"},{"owner":{"account_id":6905825,"reputation":599,"user_id":5654696,"display_name":"Canatto Filipe"},"score":1,"creation_date":1615640038,"post_id":60380157,"comment_id":117756727,"body_markdown":"I did a test using wait_timeout = 300 (5 minutes), and max-lifetime = 600000 (10 minutes). However I was not able to get this error. Do you know why ?","body":"I did a test using wait_timeout = 300 (5 minutes), and max-lifetime = 600000 (10 minutes). However I was not able to get this error. Do you know why ?"},{"owner":{"account_id":8522424,"reputation":1363,"user_id":6790957,"display_name":"Vikas Tawniya"},"score":1,"creation_date":1630064178,"post_id":60380157,"comment_id":121859892,"body_markdown":"@CanattoFilipe The error occurs when the application tries to interact with DB with the old pool of connection(older than DB wait_timeout) which it assumes to be live. So I think you should try simulating that.","body":"@CanattoFilipe The error occurs when the application tries to interact with DB with the old pool of connection(older than DB wait_timeout) which it assumes to be live. So I think you should try simulating that."},{"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"score":0,"creation_date":1643047027,"post_id":60380157,"comment_id":125230999,"body_markdown":"RAVI SHANKAR&#39;s answer is best because it tell us &quot;do this to solve&quot; instead &quot;find out how to do this to solve&quot;","body":"RAVI SHANKAR&#39;s answer is best because it tell us &quot;do this to solve&quot; instead &quot;find out how to do this to solve&quot;"},{"owner":{"account_id":14214715,"reputation":65,"user_id":10268946,"display_name":"chaatat"},"score":1,"creation_date":1669211813,"post_id":60380157,"comment_id":131593017,"body_markdown":"@Kirby : Do we have wait_timeout in oracle also? we are having similar issue in our application but we are using oracle11g. where do we set this wait_timeout. Also the application is deployed in weblogic. is this error related to some weblogic settings?","body":"@Kirby : Do we have wait_timeout in oracle also? we are having similar issue in our application but we are using oracle11g. where do we set this wait_timeout. Also the application is deployed in weblogic. is this error related to some weblogic settings?"}],"tags":[],"owner":{"account_id":7641562,"reputation":676,"user_id":5793492,"display_name":"Karbert"},"comment_count":6,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1669733523,"creation_date":1582561746,"answer_id":60380157,"question_id":60310858,"body_markdown":"The problem is that the default value of the `spring.datasource.hikari.maxLifetime` property (default of 30 minutes, https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby) is higher than the database&#39;s `wait_timeout`, 10 minutes in my case.  \r\nSo you have two options, either decrease the `hikari.maxLifetime` below 10 minutes, or increase the database&#39;s `wait_timeout` property.","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>The problem is that the default value of the <code>spring.datasource.hikari.maxLifetime</code> property (default of 30 minutes, <a href=\"https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby\" rel=\"noreferrer\">https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby</a>) is higher than the database's <code>wait_timeout</code>, 10 minutes in my case.<br />\nSo you have two options, either decrease the <code>hikari.maxLifetime</code> below 10 minutes, or increase the database's <code>wait_timeout</code> property.</p>\n"},{"tags":[],"owner":{"account_id":18429183,"reputation":219,"user_id":13424737,"display_name":"RAVI SHANKAR"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1683732229,"creation_date":1592932508,"answer_id":62540259,"question_id":60310858,"body_markdown":"You can set the value as below in the `application.properties` file\r\n```\r\nspring.datasource.hikari.maxLifeTime=600000 #10 minutes wait time\r\n```","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>You can set the value as below in the <code>application.properties</code> file</p>\n<pre><code>spring.datasource.hikari.maxLifeTime=600000 #10 minutes wait time\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":8,"creation_date":1641894995,"post_id":70664694,"comment_id":124920815,"body_markdown":"You don;t need to define the bean, just provide the proper properties in your `application.properties` suggesting to fix this by replacing the bean isn&#39;t the proper solution.","body":"You don;t need to define the bean, just provide the proper properties in your <code>application.properties</code> suggesting to fix this by replacing the bean isn&#39;t the proper solution."},{"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"score":0,"creation_date":1646412663,"post_id":70664694,"comment_id":126124382,"body_markdown":"@M.Deinum However making people aware of the beans does not harm. I still find it useful but I agree that the best practice for configuration is to use properties file.","body":"@M.Deinum However making people aware of the beans does not harm. I still find it useful but I agree that the best practice for configuration is to use properties file."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":7,"creation_date":1646473336,"post_id":70664694,"comment_id":126135736,"body_markdown":"The problem with this is that when you define the bean, without further/proper knowledgeee, in Spring Boot parts of the auto configuration back off. Which often lead to surprising results for users without the proper knowledge.","body":"The problem with this is that when you define the bean, without further/proper knowledgeee, in Spring Boot parts of the auto configuration back off. Which often lead to surprising results for users without the proper knowledge."}],"tags":[],"owner":{"account_id":21100099,"reputation":528,"user_id":15510171,"display_name":"bittap"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1641894742,"creation_date":1641894742,"answer_id":70664694,"question_id":60310858,"body_markdown":"In my case, I solved the problem through this setting \r\n\r\n\t@Configuration\r\n\tpublic class HikariSetting{\r\n\r\n\t\t@Bean\r\n\t\tpublic HikariConfig config() {\r\n\t\t\tHikariConfig hikariConfig = new HikariConfig();\r\n\t\t\t\r\n\t\t\t// other setting\r\n\t\t\t\r\n\t\t\thikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, 600000);\r\n\t\t\thikariConfig.setMaxLifetime(600000);\r\n\t\t\t\r\n\t\t\treturn hikariConfig;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nreference [this][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/brettwooldridge/HikariCP/issues/1256#issuecomment-524020345","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>In my case, I solved the problem through this setting</p>\n<pre><code>@Configuration\npublic class HikariSetting{\n\n    @Bean\n    public HikariConfig config() {\n        HikariConfig hikariConfig = new HikariConfig();\n        \n        // other setting\n        \n        hikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, 600000);\n        hikariConfig.setMaxLifetime(600000);\n        \n        return hikariConfig;\n    }\n    \n}\n</code></pre>\n<p>reference <a href=\"https://github.com/brettwooldridge/HikariCP/issues/1256#issuecomment-524020345\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":11574148,"reputation":399,"user_id":8480036,"display_name":"Ashish Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697523808,"creation_date":1697523808,"answer_id":77306562,"question_id":60310858,"body_markdown":"This warning comes when the database connection is closed after some time of being idle but the connetion thread tries making a call after that. I use below Hikari configs in application yml to keep my connetion alive.\r\n\r\n    hikari:\r\n      connectionTestQuery: SELECT 1\r\n      connection-timeout: 300000\r\n      idle-timeout: 15000\r\n      max-lifetime: 35000\r\n      validationTimeout: 300000\r\n\r\nconnectionTestQuery will be used to query DB after some interval and won&#39;t let the db connection get closed.\r\n\r\nThen just point these configs in the db configuration class like below.\r\n\r\n&gt; @ConfigurationProperties(prefix = &quot;hikari&quot;)  \r\n public\r\n&gt; DataSource dataSource() {...\r\n&gt;     }\r\n\r\n\r\nNote: This is just a warning and does not impacts your code as such other than opening a new connection resuming the task.","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>This warning comes when the database connection is closed after some time of being idle but the connetion thread tries making a call after that. I use below Hikari configs in application yml to keep my connetion alive.</p>\n<pre><code>hikari:\n  connectionTestQuery: SELECT 1\n  connection-timeout: 300000\n  idle-timeout: 15000\n  max-lifetime: 35000\n  validationTimeout: 300000\n</code></pre>\n<p>connectionTestQuery will be used to query DB after some interval and won't let the db connection get closed.</p>\n<p>Then just point these configs in the db configuration class like below.</p>\n<blockquote>\n<p>@ConfigurationProperties(prefix = &quot;hikari&quot;)<br />\npublic\nDataSource dataSource() {...\n}</p>\n</blockquote>\n<p>Note: This is just a warning and does not impacts your code as such other than opening a new connection resuming the task.</p>\n"}],"owner":{"account_id":17801894,"reputation":466,"user_id":12928469,"display_name":"Sanjog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91700,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":4,"score":44,"last_activity_date":1697523808,"creation_date":1582155214,"question_id":60310858,"body_markdown":"After starting my SpringBoot application, getting an exception on few minutes of the server startup. Did not use any HikariPool Configuration externally, Spring Boot is using HikariPool by default\r\nThis is the error I am getting in the console:\r\n\r\n\r\n    2020-02-20 03:16:23 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@4c4180c8 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:28 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@679c2f50 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:33 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@16083061 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:38 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@4fcaf421 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:43 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@33df5d54 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:48 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@373d288c (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:48 - SQL Error: 0, SQLState: 08003\r\n    2020-02-20 03:16:48 - HikariPool-4 - Connection is not available, request timed out after \r\n    30156ms.\r\n    2020-02-20 03:16:48 - No operations allowed after connection closed.\r\n    2020-02-20 03:16:48 - Servlet.service() for servlet [dispatcherServlet] in context with path \r\n    [] threw exception [Request processing failed; nested exception is \r\n    org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC \r\n    Connection; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to \r\n    acquire JDBC Connection] with root cause","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>After starting my SpringBoot application, getting an exception on few minutes of the server startup. Did not use any HikariPool Configuration externally, Spring Boot is using HikariPool by default\nThis is the error I am getting in the console:</p>\n\n<pre><code>2020-02-20 03:16:23 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@4c4180c8 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:28 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@679c2f50 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:33 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@16083061 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:38 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@4fcaf421 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:43 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@33df5d54 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:48 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@373d288c (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:48 - SQL Error: 0, SQLState: 08003\n2020-02-20 03:16:48 - HikariPool-4 - Connection is not available, request timed out after \n30156ms.\n2020-02-20 03:16:48 - No operations allowed after connection closed.\n2020-02-20 03:16:48 - Servlet.service() for servlet [dispatcherServlet] in context with path \n[] threw exception [Request processing failed; nested exception is \norg.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC \nConnection; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to \nacquire JDBC Connection] with root cause\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697523669,"post_id":77306533,"comment_id":136286941,"body_markdown":"TIles doesn&#39;t support JakartaEE and has been removed from the supported frameworks. You arew mixing Spring 6 with Sprng 5.3 which is always going to fail. In short Tiles isn&#39;t supported with Spring 6 and thus Spring BOot 3.","body":"TIles doesn&#39;t support JakartaEE and has been removed from the supported frameworks. You arew mixing Spring 6 with Sprng 5.3 which is always going to fail. In short Tiles isn&#39;t supported with Spring 6 and thus Spring BOot 3."},{"owner":{"account_id":29677044,"reputation":1,"user_id":22744710,"display_name":"Tiến Trần"},"score":0,"creation_date":1697525117,"post_id":77306533,"comment_id":136287155,"body_markdown":"Oh. thanks you very much","body":"Oh. thanks you very much"},{"owner":{"account_id":29677044,"reputation":1,"user_id":22744710,"display_name":"Tiến Trần"},"score":0,"creation_date":1697525685,"post_id":77306533,"comment_id":136287255,"body_markdown":"I still can&#39;t fix it. Maybe I should recreate another project. or what needs to be done. Please give me some advice","body":"I still can&#39;t fix it. Maybe I should recreate another project. or what needs to be done. Please give me some advice"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697526334,"post_id":77306533,"comment_id":136287352,"body_markdown":"Read, please read. Tiles doesn&#39;t work with Springt Boot 3, simply because the support has been removed from Spring as Tiles doesn&#39;t support JakartaEE.","body":"Read, please read. Tiles doesn&#39;t work with Springt Boot 3, simply because the support has been removed from Spring as Tiles doesn&#39;t support JakartaEE."}],"owner":{"account_id":29677044,"reputation":1,"user_id":22744710,"display_name":"Tiến Trần"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697523702,"creation_date":1697523429,"question_id":77306533,"body_markdown":"I can&#39;t run it when I add &quot;Bean&quot; tooooo. I tried adding another maven, and tried lowering the spring boot version. are not the solution\r\nPlease tell me what I need to do next. They say I can&#39;t create a bean class\r\n\r\nthis is my error\r\n\r\n    Error creating bean with name &#39;getTilesConfigurer&#39; defined in class path resource [com/example/demo/config/tilesconfig.class]: Post-processing of merged bean definition failed\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\r\n\r\nHere is my entire pom.xml file\r\n\r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--        sql--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--        validate--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Tiles JSP --&gt;\r\n        &lt;!-- http://mvnrepository.com/artifact/org.apache.tiles/tiles-jsp --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nHere is my entire tiles.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE tiles-definitions PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Tiles Configuration \r\n    3.0//EN&quot;\r\n        &quot;http://tiles.apache.org/dtds/tiles-config_3_0.dtd&quot;&gt;\r\n    &lt;tiles-definitions&gt;\r\n    &lt;definition name=&quot;layout&quot; template=&quot;/WEB- \r\n    INF/views/layout/index.jsp&quot;&gt;\r\n        &lt;put-attribute name=&quot;header&quot; value=&quot;/WEB- \r\n    INF/views/layout/_header.jsp&quot;/&gt;\r\n        &lt;put-attribute name=&quot;menu&quot; value=&quot;/WEB- \r\n    INF/views/layout/_menu.jsp&quot;/&gt;\r\n        &lt;put-attribute name=&quot;body&quot; value=&quot;&quot;/&gt;\r\n        &lt;put-attribute name=&quot;aside&quot; value=&quot;/WEB- \r\n    INF/views/layout/_aside.jsp&quot;/&gt;\r\n        &lt;put-attribute name=&quot;footer&quot; value=&quot;/WEB- \r\n    INF/views/layout/_footer.jsp&quot;/&gt;\r\n    &lt;/definition&gt;\r\n    &lt;definition name=&quot;*/*&quot; extends=&quot;layout&quot;&gt;\r\n        &lt;put-attribute name=&quot;body&quot; value=&quot;/WEB- \r\n    INF/views/{1}/{2}.jsp&quot;/&gt;\r\n    &lt;/definition&gt;\r\n    &lt;/tiles-definitions&gt; \r\n\r\nI don&#39;t even know what&#39;s the problem.\r\nI make sure the links are correct\r\n\r\n\r\nSorry for last all the lines in the same row. I did it because otherwise, it shows as a table on the preview area","title":"Error creating bean with name &#39;getTilesConfigurer&#39; defined in class path resource","body":"<p>I can't run it when I add &quot;Bean&quot; tooooo. I tried adding another maven, and tried lowering the spring boot version. are not the solution\nPlease tell me what I need to do next. They say I can't create a bean class</p>\n<p>this is my error</p>\n<pre><code>Error creating bean with name 'getTilesConfigurer' defined in class path resource [com/example/demo/config/tilesconfig.class]: Post-processing of merged bean definition failed\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\n</code></pre>\n<p>Here is my entire pom.xml file</p>\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--        --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!--        sql--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--        validate--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Tiles JSP --&gt;\n    &lt;!-- http://mvnrepository.com/artifact/org.apache.tiles/tiles-jsp --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.20&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Here is my entire tiles.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE tiles-definitions PUBLIC\n    &quot;-//Apache Software Foundation//DTD Tiles Configuration \n3.0//EN&quot;\n    &quot;http://tiles.apache.org/dtds/tiles-config_3_0.dtd&quot;&gt;\n&lt;tiles-definitions&gt;\n&lt;definition name=&quot;layout&quot; template=&quot;/WEB- \nINF/views/layout/index.jsp&quot;&gt;\n    &lt;put-attribute name=&quot;header&quot; value=&quot;/WEB- \nINF/views/layout/_header.jsp&quot;/&gt;\n    &lt;put-attribute name=&quot;menu&quot; value=&quot;/WEB- \nINF/views/layout/_menu.jsp&quot;/&gt;\n    &lt;put-attribute name=&quot;body&quot; value=&quot;&quot;/&gt;\n    &lt;put-attribute name=&quot;aside&quot; value=&quot;/WEB- \nINF/views/layout/_aside.jsp&quot;/&gt;\n    &lt;put-attribute name=&quot;footer&quot; value=&quot;/WEB- \nINF/views/layout/_footer.jsp&quot;/&gt;\n&lt;/definition&gt;\n&lt;definition name=&quot;*/*&quot; extends=&quot;layout&quot;&gt;\n    &lt;put-attribute name=&quot;body&quot; value=&quot;/WEB- \nINF/views/{1}/{2}.jsp&quot;/&gt;\n&lt;/definition&gt;\n&lt;/tiles-definitions&gt; \n</code></pre>\n<p>I don't even know what's the problem.\nI make sure the links are correct</p>\n<p>Sorry for last all the lines in the same row. I did it because otherwise, it shows as a table on the preview area</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9797,"page":120,"page_size":100}
