{"items":[{"tags":["java","selenium","kubernetes","selenium-webdriver","selenium-hub"],"owner":{"account_id":14501361,"reputation":103,"user_id":10474434,"display_name":"MuCh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672440559,"creation_date":1672440559,"question_id":74966390,"body_markdown":"I have configured my Selenium Hub with 2 Chrome nodes in Selenium 4.\r\nWhen I run the command \r\n`minikube service selenium-hub --url`\r\nI get the URLs like `http://127.0.0.1:58317` and I am able to see the hub-node configuration up and running correctly.\r\nI wrote a simple java code to test this configuration. However, when I run my run it fails.\r\nMy code is -\r\n\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n\r\n        chromeOptions.addArguments(&quot;--headless&quot;,\r\n                &quot;--disable-gpu&quot;,\r\n                &quot;--window-size=1920,1200&quot;,\r\n                &quot;--ignore-certificate-errors&quot;,\r\n                &quot;--disable-extensions&quot;,\r\n                &quot;--no-sandbox&quot;,\r\n                &quot;--disable-dev-shm-usage&quot;,\r\n                &quot;--allow-insecure-localhost&quot;,\r\n                &quot;allow-running-insecure-content&quot;);\r\n\r\n\r\n        WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:58317/wd/hub&quot;), chromeOptions);\r\n        \r\n        System.out.println(&quot;******************** STARTED TEST EXECUTION ********************************&quot;);\r\n        driver.manage().window().maximize();\r\n        driver.get(&quot;https://www.google.com/&quot;);\r\n        driver.close();\r\n\r\nWhen I run the test, I am getting this error -\r\n\r\n```org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\r\n  (chrome not reachable)\r\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;selenium-node-chrome-78784d568c-mqlc7&#39;, ip: &#39;172.17.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;11.0.11&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;selenium-node-chrome-78784d568c-mqlc7&#39;, ip: &#39;172.17.0.2&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;11.0.11&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;selenium-hub-66f9f7d979-wqslh&#39;, ip: &#39;172.17.0.3&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;11.0.11&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;4.0.0&#39;, revision: &#39;3a21814679&#39;\r\nSystem info: host: &#39;UM01416&#39;, ip: &#39;2a02:1210:3edc:4a00:e5da:1807:9574:1abc%en0&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;aarch64&#39;, os.version: &#39;12.6.1&#39;, java.version: &#39;11.0.17&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\n```\r\n\r\nI am attaching an image of my Selenium Hub configuration.\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/usSU5.png","title":"Selenium tests not running in Selenium hub configuration with Kubernetes","body":"<p>I have configured my Selenium Hub with 2 Chrome nodes in Selenium 4.\nWhen I run the command\n<code>minikube service selenium-hub --url</code>\nI get the URLs like <code>http://127.0.0.1:58317</code> and I am able to see the hub-node configuration up and running correctly.\nI wrote a simple java code to test this configuration. However, when I run my run it fails.\nMy code is -</p>\n<pre><code>    ChromeOptions chromeOptions = new ChromeOptions();\n\n    chromeOptions.addArguments(&quot;--headless&quot;,\n            &quot;--disable-gpu&quot;,\n            &quot;--window-size=1920,1200&quot;,\n            &quot;--ignore-certificate-errors&quot;,\n            &quot;--disable-extensions&quot;,\n            &quot;--no-sandbox&quot;,\n            &quot;--disable-dev-shm-usage&quot;,\n            &quot;--allow-insecure-localhost&quot;,\n            &quot;allow-running-insecure-content&quot;);\n\n\n    WebDriver driver = new RemoteWebDriver(new URL(&quot;http://127.0.0.1:58317/wd/hub&quot;), chromeOptions);\n    \n    System.out.println(&quot;******************** STARTED TEST EXECUTION ********************************&quot;);\n    driver.manage().window().maximize();\n    driver.get(&quot;https://www.google.com/&quot;);\n    driver.close();\n</code></pre>\n<p>When I run the test, I am getting this error -</p>\n<pre><code>INFO: Using OpenTelemetry for tracing\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Could not start a new session. Could not start a new session. Error while creating session with the driver service. Stopping driver service: Could not start a new session. Response code 500. Message: unknown error: Chrome failed to start: crashed.\n  (chrome not reachable)\n  (The process started from chrome location /usr/bin/google-chrome is no longer running, so ChromeDriver is assuming that Chrome has crashed.)\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'selenium-node-chrome-78784d568c-mqlc7', ip: '172.17.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '11.0.11'\nDriver info: driver.version: unknown\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'selenium-node-chrome-78784d568c-mqlc7', ip: '172.17.0.2', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '11.0.11'\nDriver info: driver.version: unknown\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'selenium-hub-66f9f7d979-wqslh', ip: '172.17.0.3', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '11.0.11'\nDriver info: driver.version: unknown\nBuild info: version: '4.0.0', revision: '3a21814679'\nSystem info: host: 'UM01416', ip: '2a02:1210:3edc:4a00:e5da:1807:9574:1abc%en0', os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '12.6.1', java.version: '11.0.17'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\n</code></pre>\n<p>I am attaching an image of my Selenium Hub configuration.\n<a href=\"https://i.stack.imgur.com/usSU5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usSU5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","python-3.x","apache-spark","pyspark","hadoop-streaming"],"answers":[{"comments":[{"owner":{"account_id":1983862,"reputation":1615,"user_id":1779730,"accept_rate":64,"display_name":"chas"},"score":0,"creation_date":1672484149,"post_id":74966361,"comment_id":132296757,"body_markdown":"i have downloaded `spark-hadoop-cloud_2.12-3.3.1.jar` file and placed in `/Users/sl/server/spark-3.3.1-bin-hadoop3/jars` . Still the same error.","body":"i have downloaded <code>spark-hadoop-cloud_2.12-3.3.1.jar</code> file and placed in <code>&#47;Users&#47;sl&#47;server&#47;spark-3.3.1-bin-hadoop3&#47;jars</code> . Still the same error."}],"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672440216,"creation_date":1672440216,"answer_id":74966361,"question_id":74962675,"body_markdown":"Looks like you do not have the `hadoop-cloud` module added. The class is not part of core Spark. https://search.maven.org/artifact/org.apache.spark/spark-hadoop-cloud_2.12/3.3.1/jar","title":"How to fix &quot;java.lang.ClassNotFoundException: org.apache.spark.internal.io.cloud.PathOutputCommitProtocol&quot; Pyspark","body":"<p>Looks like you do not have the <code>hadoop-cloud</code> module added. The class is not part of core Spark. <a href=\"https://search.maven.org/artifact/org.apache.spark/spark-hadoop-cloud_2.12/3.3.1/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.apache.spark/spark-hadoop-cloud_2.12/3.3.1/jar</a></p>\n"}],"owner":{"account_id":1983862,"reputation":1615,"user_id":1779730,"accept_rate":64,"display_name":"chas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672440216,"creation_date":1672411037,"question_id":74962675,"body_markdown":"Below are the runtime versions in pycharm.\r\n\r\n    Java Home\t/Library/Java/JavaVirtualMachines/jdk-11.0.16.1.jdk/Contents/Home\r\n    Java Version\t11.0.16.1 (Oracle Corporation)\r\n    Scala Version\tversion 2.12.15\r\n    Spark Version.         spark-3.3.1\r\n    Python 3.9\r\n\r\nI am trying to write a pyspark dataframe to csv as below:\r\n\r\n    df.write.csv(&quot;/Users/data/data.csv&quot;)\r\n\r\nand gets the error:\r\n\r\n         Traceback (most recent call last):\r\n      File &quot;/Applications/PyCharm.app/Contents/plugins/python/helpers/pydev/_pydevd_bundle/pydevd_exec2.py&quot;, line 3, in Exec\r\n        exec(exp, global_vars, local_vars)\r\n      File &quot;&lt;input&gt;&quot;, line 1, in &lt;module&gt;\r\n      File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/pyspark/sql/readwriter.py&quot;, line 1240, in csv\r\n        self._jwrite.csv(path)\r\n      File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\r\n        return_value = get_return_value(\r\n      File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\r\n        return f(*a, **kw)\r\n      File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\r\n        raise Py4JJavaError(\r\n    py4j.protocol.Py4JJavaError: An error occurred while calling o747.csv.\r\n    : java.lang.ClassNotFoundException: org.apache.spark.internal.io.cloud.PathOutputCommitProtocol\r\n\r\nAnd spark conf is as below:\r\n\r\n    spark_conf = SparkConf()\r\n            spark_conf.setAll(parameters.items())\r\n            spark_conf.set(&#39;spark.jars.packages&#39;, &#39;org.apache.hadoop:hadoop-aws:3.3.4&#39;)\r\n            spark_conf.set(&#39;spark.hadoop.fs.s3.aws.credentials.provider&#39;,\r\n                           &#39;org.apache.hadoop.fs.s3.TemporaryAWSCredentialsProvider&#39;)\r\n            spark_conf.set(&#39;spark.hadoop.fs.s3.access.key&#39;, os.environ.get(&#39;AWS_ACCESS_KEY_ID&#39;))\r\n            spark_conf.set(&#39;spark.hadoop.fs.s3.secret.key&#39;, os.environ.get(&#39;AWS_SECRET_ACCESS_KEY&#39;))\r\n            spark_conf.set(&#39;spark.hadoop.fs.s3a.bucket.all.committer.magic.enabled&#39;, &#39;true&#39;)\r\n            spark_conf.set(&quot;com.amazonaws.services.s3.enableV4&quot;, &quot;true&quot;)\r\n            spark_conf.set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n            spark_conf.set(&quot;fs.s3a.aws.credentials.provider&quot;,\r\n                           &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\r\n            spark_conf.set(&quot;fs.AbstractFileSystem.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\r\n            spark_conf.set(&quot;hadoop.fs.s3a.path.style.access&quot;, &quot;true&quot;)\r\n            spark_conf.set(&quot;hadoop.fs.s3a.fast.upload&quot;, &quot;true&quot;)\r\n            spark_conf.set(&quot;hadoop.fs.s3a.fast.upload.buffer&quot;, &quot;bytebuffer&quot;)\r\n            spark_conf.set(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\r\n            spark_conf.set(&quot;fs.s3a.multipart.size&quot;, &quot;128M&quot;)\r\n            spark_conf.set(&quot;fs.s3a.fast.upload.active.blocks&quot;, &quot;4&quot;)\r\n            spark_conf.set(&quot;fs.s3a.committer.name&quot;, &quot;partitioned&quot;)\r\n            spark_conf.set(&quot;spark.hadoop.fs.s3a.committer.name&quot;, &quot;directory&quot;)\r\n            spark_conf.set(&quot;spark.sql.sources.commitProtocolClass&quot;,\r\n                           &quot;org.apache.spark.internal.io.cloud.PathOutputCommitProtocol&quot;)\r\n            spark_conf.set(&quot;spark.sql.parquet.output.committer.class&quot;,\r\n                           &quot;org.apache.spark.internal.io.cloud.BindingParquetOutputCommitter&quot;)\r\n            spark_conf.set(&quot;spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version&quot;, &quot;1&quot;)\r\n\r\nAny help to fix this issue is appreciated. Thanks!!","title":"How to fix &quot;java.lang.ClassNotFoundException: org.apache.spark.internal.io.cloud.PathOutputCommitProtocol&quot; Pyspark","body":"<p>Below are the runtime versions in pycharm.</p>\n<pre><code>Java Home   /Library/Java/JavaVirtualMachines/jdk-11.0.16.1.jdk/Contents/Home\nJava Version    11.0.16.1 (Oracle Corporation)\nScala Version   version 2.12.15\nSpark Version.         spark-3.3.1\nPython 3.9\n</code></pre>\n<p>I am trying to write a pyspark dataframe to csv as below:</p>\n<pre><code>df.write.csv(&quot;/Users/data/data.csv&quot;)\n</code></pre>\n<p>and gets the error:</p>\n<pre><code>     Traceback (most recent call last):\n  File &quot;/Applications/PyCharm.app/Contents/plugins/python/helpers/pydev/_pydevd_bundle/pydevd_exec2.py&quot;, line 3, in Exec\n    exec(exp, global_vars, local_vars)\n  File &quot;&lt;input&gt;&quot;, line 1, in &lt;module&gt;\n  File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/pyspark/sql/readwriter.py&quot;, line 1240, in csv\n    self._jwrite.csv(path)\n  File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\n    return_value = get_return_value(\n  File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\n    return f(*a, **kw)\n  File &quot;/Users/mambaforge-pypy3/envs/lib/python3.9/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\n    raise Py4JJavaError(\npy4j.protocol.Py4JJavaError: An error occurred while calling o747.csv.\n: java.lang.ClassNotFoundException: org.apache.spark.internal.io.cloud.PathOutputCommitProtocol\n</code></pre>\n<p>And spark conf is as below:</p>\n<pre><code>spark_conf = SparkConf()\n        spark_conf.setAll(parameters.items())\n        spark_conf.set('spark.jars.packages', 'org.apache.hadoop:hadoop-aws:3.3.4')\n        spark_conf.set('spark.hadoop.fs.s3.aws.credentials.provider',\n                       'org.apache.hadoop.fs.s3.TemporaryAWSCredentialsProvider')\n        spark_conf.set('spark.hadoop.fs.s3.access.key', os.environ.get('AWS_ACCESS_KEY_ID'))\n        spark_conf.set('spark.hadoop.fs.s3.secret.key', os.environ.get('AWS_SECRET_ACCESS_KEY'))\n        spark_conf.set('spark.hadoop.fs.s3a.bucket.all.committer.magic.enabled', 'true')\n        spark_conf.set(&quot;com.amazonaws.services.s3.enableV4&quot;, &quot;true&quot;)\n        spark_conf.set(&quot;fs.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n        spark_conf.set(&quot;fs.s3a.aws.credentials.provider&quot;,\n                       &quot;com.amazonaws.auth.InstanceProfileCredentialsProvider,com.amazonaws.auth.DefaultAWSCredentialsProviderChain&quot;)\n        spark_conf.set(&quot;fs.AbstractFileSystem.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\n        spark_conf.set(&quot;hadoop.fs.s3a.path.style.access&quot;, &quot;true&quot;)\n        spark_conf.set(&quot;hadoop.fs.s3a.fast.upload&quot;, &quot;true&quot;)\n        spark_conf.set(&quot;hadoop.fs.s3a.fast.upload.buffer&quot;, &quot;bytebuffer&quot;)\n        spark_conf.set(&quot;fs.s3a.path.style.access&quot;, &quot;true&quot;)\n        spark_conf.set(&quot;fs.s3a.multipart.size&quot;, &quot;128M&quot;)\n        spark_conf.set(&quot;fs.s3a.fast.upload.active.blocks&quot;, &quot;4&quot;)\n        spark_conf.set(&quot;fs.s3a.committer.name&quot;, &quot;partitioned&quot;)\n        spark_conf.set(&quot;spark.hadoop.fs.s3a.committer.name&quot;, &quot;directory&quot;)\n        spark_conf.set(&quot;spark.sql.sources.commitProtocolClass&quot;,\n                       &quot;org.apache.spark.internal.io.cloud.PathOutputCommitProtocol&quot;)\n        spark_conf.set(&quot;spark.sql.parquet.output.committer.class&quot;,\n                       &quot;org.apache.spark.internal.io.cloud.BindingParquetOutputCommitter&quot;)\n        spark_conf.set(&quot;spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version&quot;, &quot;1&quot;)\n</code></pre>\n<p>Any help to fix this issue is appreciated. Thanks!!</p>\n"},{"tags":["java","apache-commons-exec"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1672424741,"post_id":74923109,"comment_id":132288899,"body_markdown":"Can you share a [mcve]? Perhaps the way you&#39;re putting the CommandLine or Executor together are the problem","body":"Can you share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Perhaps the way you&#39;re putting the CommandLine or Executor together are the problem"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1672425027,"post_id":74923109,"comment_id":132288952,"body_markdown":"To follow up on my previous comment - I tested, and this most definitely works with Apache Commons Exec. I.e., the issue isn&#39;t the regex, but something else (perhaps the cwd? Perhaps handling the output?) We need to see a full example and the output that doesn&#39;t work for your usecase.","body":"To follow up on my previous comment - I tested, and this most definitely works with Apache Commons Exec. I.e., the issue isn&#39;t the regex, but something else (perhaps the cwd? Perhaps handling the output?) We need to see a full example and the output that doesn&#39;t work for your usecase."},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":1,"creation_date":1672427908,"post_id":74923109,"comment_id":132289570,"body_markdown":"Thanks for taking a look @Mureinik. I added a rough MRE, which I think captures the problem.","body":"Thanks for taking a look @Mureinik. I added a rough MRE, which I think captures the problem."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1672429492,"post_id":74923109,"comment_id":132289940,"body_markdown":"No luck - I run the `main` in the sample you provided (using IntelliJ) and it just works. We&#39;re missing some environmental difference here.","body":"No luck - I run the <code>main</code> in the sample you provided (using IntelliJ) and it just works. We&#39;re missing some environmental difference here."},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1672435152,"post_id":74923109,"comment_id":132291050,"body_markdown":"How exactly did you run it? Using the steps above? I get the &quot;Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)&quot; exception even when running through intelliJ &#129300; any idea what env differences could be the cause? this happens using zsh or bash. Would Java version be the issue? I&#39;m using 1.8. Thanks again for taking the time to run my example.","body":"How exactly did you run it? Using the steps above? I get the &quot;Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)&quot; exception even when running through intelliJ 🤔 any idea what env differences could be the cause? this happens using zsh or bash. Would Java version be the issue? I&#39;m using 1.8. Thanks again for taking the time to run my example."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1672435308,"post_id":74923109,"comment_id":132291075,"body_markdown":"Yup, just works, and finds the line that matches that regex","body":"Yup, just works, and finds the line that matches that regex"},{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":0,"creation_date":1672435559,"post_id":74923109,"comment_id":132291110,"body_markdown":"What version of java are you using? I&#39;m trying to think of what env differences could be the cause here... same with Git.","body":"What version of java are you using? I&#39;m trying to think of what env differences could be the cause here... same with Git."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1672440144,"post_id":74923109,"comment_id":132291926,"body_markdown":"Found it! I was testing on my Windows laptop. Once I switched over to my Linux desktop I was able to trivially reproduce the error with the instructions you provided. See my answer below for the details and the solution.","body":"Found it! I was testing on my Windows laptop. Once I switched over to my Linux desktop I was able to trivially reproduce the error with the instructions you provided. See my answer below for the details and the solution."}],"answers":[{"comments":[{"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"score":2,"creation_date":1672447212,"post_id":74966349,"comment_id":132292925,"body_markdown":"My god. I tried so many permutations of the regex including manually adding quotes but never tried no quotes at all and adding `false` for `handleQuoting`. Confirmed working in both my MRE and my actual project. Thanks so much for this! Will award the bounty when the system allows in 17 hours.","body":"My god. I tried so many permutations of the regex including manually adding quotes but never tried no quotes at all and adding <code>false</code> for <code>handleQuoting</code>. Confirmed working in both my MRE and my actual project. Thanks so much for this! Will award the bounty when the system allows in 17 hours."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672440094,"creation_date":1672440094,"answer_id":74966349,"question_id":74923109,"body_markdown":"I got a clue as to what&#39;s going on here when the sample you provided worked just fine on my Windows laptop but failed on my Linux desktop. \r\n\r\nOnce I made sure the git version wasn&#39;t the culprit (tested several versions between 2.17 and 2.39 on both machines), I figured the difference must be in the way different shells handle quoting. Specifically, the only argument here that has any potential quoting issues is the regex (`&quot;^\\s*public void\\s+(testFindByAdAccount).*&quot;`), which is added to the command line by `commandLine.addArgument(regex);`. \r\n\r\n`addArgument` may look innocuous, but under the hood, it allows the CommandLine to handle the quoting itself (i.e., `addArgument(String argument)` calls `addArgument(String argument, true)`. Since you&#39;ve handled the quoting yourself, you should not allow the `CommandLine` to handle the quoting, and should explicitly call it with the second argument `false`. i.e.:\r\n\r\n```java\r\npublic static List&lt;String&gt; grep(String regex, String filePattern, String wd) {\r\n    CommandLine commandLine = CommandLine.parse(&quot;git&quot;);\r\n    commandLine.addArgument(&quot;--no-pager&quot;);\r\n    commandLine.addArgument(&quot;grep&quot;);\r\n    commandLine.addArgument(&quot;--line-number&quot;);\r\n    commandLine.addArgument(&quot;--untracked&quot;);\r\n    commandLine.addArgument(&quot;--extended-regexp&quot;);\r\n    commandLine.addArgument(regex, false); \r\n    // Here -----------------------^\r\n    commandLine.addArgument(&quot;--&quot;);\r\n    commandLine.addArgument(filePattern);\r\n\r\n    System.out.println(commandLine);\r\n\r\n    return List.of(runCommand(commandLine, wd).split(&quot;\\n&quot;));\r\n}\r\n```\r\n\r\nThis takes the quote-handling logic away and ensures the same code runs smoothly both on Windows and Linux (at least those I&#39;ve tested).","title":"Apache Commons Exec Problems Handling Regex Argument?","body":"<p>I got a clue as to what's going on here when the sample you provided worked just fine on my Windows laptop but failed on my Linux desktop.</p>\n<p>Once I made sure the git version wasn't the culprit (tested several versions between 2.17 and 2.39 on both machines), I figured the difference must be in the way different shells handle quoting. Specifically, the only argument here that has any potential quoting issues is the regex (<code>&quot;^\\s*public void\\s+(testFindByAdAccount).*&quot;</code>), which is added to the command line by <code>commandLine.addArgument(regex);</code>.</p>\n<p><code>addArgument</code> may look innocuous, but under the hood, it allows the CommandLine to handle the quoting itself (i.e., <code>addArgument(String argument)</code> calls <code>addArgument(String argument, true)</code>. Since you've handled the quoting yourself, you should not allow the <code>CommandLine</code> to handle the quoting, and should explicitly call it with the second argument <code>false</code>. i.e.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; grep(String regex, String filePattern, String wd) {\n    CommandLine commandLine = CommandLine.parse(&quot;git&quot;);\n    commandLine.addArgument(&quot;--no-pager&quot;);\n    commandLine.addArgument(&quot;grep&quot;);\n    commandLine.addArgument(&quot;--line-number&quot;);\n    commandLine.addArgument(&quot;--untracked&quot;);\n    commandLine.addArgument(&quot;--extended-regexp&quot;);\n    commandLine.addArgument(regex, false); \n    // Here -----------------------^\n    commandLine.addArgument(&quot;--&quot;);\n    commandLine.addArgument(filePattern);\n\n    System.out.println(commandLine);\n\n    return List.of(runCommand(commandLine, wd).split(&quot;\\n&quot;));\n}\n</code></pre>\n<p>This takes the quote-handling logic away and ensures the same code runs smoothly both on Windows and Linux (at least those I've tested).</p>\n"}],"owner":{"account_id":7469032,"reputation":434,"user_id":5677587,"display_name":"ragurney"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74966349,"answer_count":1,"score":4,"last_activity_date":1672440094,"creation_date":1672080071,"question_id":74923109,"body_markdown":"I&#39;m trying to use Apache Commons Exec to run a git command which uses a regex. \r\n\r\nWhen I form my `CommandLine` and print it out it looks like this:\r\n```java\r\n[git, --no-pager, grep, --line-number, --untracked, --extended-regexp, &quot;^\\s*public void\\s+(testFindByAdAccount).*&quot;, --, *Test.java]\r\n```\r\nHowever when I execute this, git returns no results, resulting in an exit code 1. \r\n\r\nWhen I run this command manually though, it returns plenty of results and succeeds. Changing the `--extended-regexp` argument to just a string like `testFindByAdAccount` does yield results when run via `Exec`, so I think Apache Commons is doing something to the regexp argument making it invalid. Any ideas what is going on?\r\n\r\nEDIT: Adding a reproducible example \r\n1. Clone https://github.com/ragurney/min-example\r\n1. Run `gradlew shadowJar` to produce jar file for project\r\n1. Run the app with `java -jar app/build/libs/app-all.jar`\r\n1. Note the output which shows the command printed fails with an exit code 1 (because there are no results returned by the git command)\r\n```bash\r\n$ java -jar app/build/libs/app-all.jar\r\nHELLOOOOOO\r\nWD:::  null\r\n[git, --no-pager, grep, --line-number, --untracked, --extended-regexp, &quot;^\\s*public void\\s+(testAppHasAGreeting)\\(\\).*&quot;, --, *Test.java]\r\nWD:::  /Users/rgurney/Src/personal/min-example\r\n\r\nException in thread &quot;main&quot; java.lang.RuntimeException: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n\tat min.example.App.lambda$runCommand$1(App.java:74)\r\n\tat io.vavr.control.Try.getOrElseThrow(Try.java:748)\r\n```\r\n5. Running the command manually does produce expected results:\r\n```bash\r\n$ git --no-pager grep --line-number --untracked --extended-regexp &quot;^\\s*public void\\s+(testAppHasAGreeting)\\(\\).*&quot; -- &quot;*Test.java&quot;\r\napp/src/test/java/min/example/AppTest.java:11:    public void testAppHasAGreeting() {\r\n```","title":"Apache Commons Exec Problems Handling Regex Argument?","body":"<p>I'm trying to use Apache Commons Exec to run a git command which uses a regex.</p>\n<p>When I form my <code>CommandLine</code> and print it out it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>[git, --no-pager, grep, --line-number, --untracked, --extended-regexp, &quot;^\\s*public void\\s+(testFindByAdAccount).*&quot;, --, *Test.java]\n</code></pre>\n<p>However when I execute this, git returns no results, resulting in an exit code 1.</p>\n<p>When I run this command manually though, it returns plenty of results and succeeds. Changing the <code>--extended-regexp</code> argument to just a string like <code>testFindByAdAccount</code> does yield results when run via <code>Exec</code>, so I think Apache Commons is doing something to the regexp argument making it invalid. Any ideas what is going on?</p>\n<p>EDIT: Adding a reproducible example</p>\n<ol>\n<li>Clone <a href=\"https://github.com/ragurney/min-example\" rel=\"nofollow noreferrer\">https://github.com/ragurney/min-example</a></li>\n<li>Run <code>gradlew shadowJar</code> to produce jar file for project</li>\n<li>Run the app with <code>java -jar app/build/libs/app-all.jar</code></li>\n<li>Note the output which shows the command printed fails with an exit code 1 (because there are no results returned by the git command)</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -jar app/build/libs/app-all.jar\nHELLOOOOOO\nWD:::  null\n[git, --no-pager, grep, --line-number, --untracked, --extended-regexp, &quot;^\\s*public void\\s+(testAppHasAGreeting)\\(\\).*&quot;, --, *Test.java]\nWD:::  /Users/rgurney/Src/personal/min-example\n\nException in thread &quot;main&quot; java.lang.RuntimeException: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at min.example.App.lambda$runCommand$1(App.java:74)\n    at io.vavr.control.Try.getOrElseThrow(Try.java:748)\n</code></pre>\n<ol start=\"5\">\n<li>Running the command manually does produce expected results:</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>$ git --no-pager grep --line-number --untracked --extended-regexp &quot;^\\s*public void\\s+(testAppHasAGreeting)\\(\\).*&quot; -- &quot;*Test.java&quot;\napp/src/test/java/min/example/AppTest.java:11:    public void testAppHasAGreeting() {\n</code></pre>\n"},{"tags":["java","rest","jakarta-ee","wildfly"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1672419418,"post_id":74961015,"comment_id":132287618,"body_markdown":"Do you have a `beans.xml` in your deployment? I don&#39;t see any bean defining annotations on `OwnerService` or `OwnerServiceImpl`.","body":"Do you have a <code>beans.xml</code> in your deployment? I don&#39;t see any bean defining annotations on <code>OwnerService</code> or <code>OwnerServiceImpl</code>."},{"owner":{"account_id":14665475,"reputation":111,"user_id":10591439,"display_name":"vapan"},"score":0,"creation_date":1672439287,"post_id":74961015,"comment_id":132291752,"body_markdown":"I fixed my post and you can see my beans.xml. I dont know if i have to configure something there","body":"I fixed my post and you can see my beans.xml. I dont know if i have to configure something there"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1672462148,"post_id":74961015,"comment_id":132294263,"body_markdown":"You need to add scopes to those two types.","body":"You need to add scopes to those two types."}],"owner":{"account_id":14665475,"reputation":111,"user_id":10591439,"display_name":"vapan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672439232,"creation_date":1672399698,"question_id":74961015,"body_markdown":"I want to convert an old application to a new one in which i make HTTP calls (GET/POST/DELETE). I have a model package where i have my POJO classes and i made a DTO package where i have Dto classes. When i make a simple GET method to take a String message as a response i dont have any problem but when i use dependency injection and i want to use GET or POST methods to see some details about my app i get in postman  this message: **inStream parameter is null**\r\n\r\n**OwnerResource.java**\r\n\r\n            @Path(&quot;ownerResource&quot;)\r\n            public class OwnerResource {\r\n            \r\n                @GET\r\n                public Response ping() {         // When i use only this method i dont have any problem and i can see the message\r\n                    return Response\r\n                            .ok(&quot;pang&quot;)\r\n                            .build();\r\n                }\r\n            \r\n    // When i use the below code i have problem in HTTP calls\r\n              \r\n                @Inject\r\n                private OwnerService ownerService;\r\n            \r\n                @GET\r\n                @Path(&quot;owner/{ownerId}&quot;)\r\n                @Produces(&quot;application/json&quot;)\r\n                public RestApiResult&lt;PropertyOwnerDto&gt; getOwner(@PathParam(&quot;ownerId&quot;) int ownerId) {\r\n                    return ownerService.getOwner(ownerId);\r\n            \r\n                }\r\n            \r\n                @POST\r\n                @Path(&quot;owner&quot;)\r\n                @Produces(&quot;application/json&quot;)\r\n                @Consumes(&quot;application/json&quot;)\r\n                public void createNewOwner(PropertyOwnerDto owner) {\r\n                ownerService.createPropertyOwner(owner);\r\n        \r\n            }\r\n    }\r\n\r\n**PropertyOwner.java**\r\n\r\n \r\n\r\n       @Data\r\n        @NoArgsConstructor\r\n        @Entity(name = &quot;propertyowner&quot;)\r\n        @Table\r\n        public class PropertyOwner extends PersistentClass {\r\n          // id is in PersistenceClass\r\n          private int vat; \r\n          private String name;\r\n          private String surname;\r\n          private String address;\r\n          private String phoneNumber;\r\n          private String email;\r\n          private String username;\r\n          private String password;\r\n          @OneToMany(mappedBy = &quot;owner&quot;, orphanRemoval = true)\r\n          private List&lt;Property&gt; properties;\r\n        \r\n          public PropertyOwner(int vat, String name, String surname, String address, String phoneNumber, String email, String username, String password) {\r\n            this.vat = vat;\r\n            this.name = name;\r\n            this.surname = surname;\r\n            this.address = address;\r\n            this.phoneNumber = phoneNumber;\r\n            this.email = email;\r\n            this.username = username;\r\n            this.password = password;\r\n      }\r\n    \r\n    }\r\n\r\n**PropertyOwnerDto.java**\r\n\r\n    @Data@Getter@Setter\r\n    public class PropertyOwnerDto {\r\n    \r\n        private int vat;\r\n        private String name;\r\n        private String surname;\r\n        private String address;\r\n        private String phoneNumber;\r\n        private String email;\r\n        private String username;\r\n        private String password;\r\n    \r\n        public PropertyOwnerDto() {\r\n    \r\n        }\r\n    \r\n        public PropertyOwnerDto(PropertyOwner propertyOwner) {\r\n            this.vat = propertyOwner.getVat();\r\n            this.name = propertyOwner.getName();\r\n            this.surname = propertyOwner.getSurname();\r\n            this.address = propertyOwner.getAddress();\r\n            this.phoneNumber = propertyOwner.getPhoneNumber();\r\n            this.email = propertyOwner.getEmail();\r\n            this.username = propertyOwner.getUsername();\r\n            this.password = propertyOwner.getPassword();\r\n    \r\n        }\r\n    \r\n        public PropertyOwner asOwner() {\r\n            PropertyOwner propertyOwner = new PropertyOwner();\r\n            propertyOwner.setVat(vat);\r\n            propertyOwner.setName(name);\r\n            propertyOwner.setSurname(surname);\r\n            propertyOwner.setAddress(address);\r\n            propertyOwner.setPhoneNumber(phoneNumber);\r\n            propertyOwner.setEmail(email);\r\n            propertyOwner.setUsername(username);\r\n            propertyOwner.setPassword(password);\r\n            return propertyOwner;\r\n    \r\n        }\r\n\r\n\r\n**OwnerService.java**\r\n\r\n    public interface OwnerService {\r\n    \r\n        \r\n        void createPropertyOwner(PropertyOwnerDto ownerDto);\r\n        \r\n        RestApiResult&lt;PropertyOwnerDto&gt; getOwner(int ownerId);\r\n    \r\n    }\r\n\r\n\r\n**OwnerServiceImpl.java**\r\n\r\n    public class OwnerServiceImpl implements OwnerService {\r\n    \r\n        private final Properties sqlCommands = new Properties();\r\n    \r\n        {\r\n            final ClassLoader loader = getClass().getClassLoader();\r\n            try ( InputStream config = loader.getResourceAsStream(&quot;sql.properties&quot;)) {\r\n                sqlCommands.load(config);\r\n            } catch (IOException e) {\r\n                throw new IOError(e);\r\n            }\r\n        }\r\n        private static final Logger logger = LogManager.getLogger(OwnerServiceImpl.class);\r\n    \r\n        @Inject\r\n        private PropertyOwnerRepository propertyOwnerRepository;\r\n    \r\n        @Inject\r\n        private PropertyRepository propertyRepository;\r\n    \r\n        @Inject\r\n        private RepairRepository repairRepository;\r\n    \r\n    // SOME OTHER CODE HERE // \r\n    \r\n       @Override\r\n        public RestApiResult&lt;PropertyOwnerDto&gt; getOwner(int ownerId) {\r\n            PropertyOwnerDto ownerDto = new PropertyOwnerDto(propertyOwnerRepository.findById(ownerId));\r\n            return new RestApiResult&lt;PropertyOwnerDto&gt;(ownerDto, 0, &quot;successful&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerNewPropertyDto(PropertyDto propertyDto) {\r\n            propertyRepository.create(propertyDto.asProperty());\r\n        }\r\n    }\r\n\r\n\r\n\r\n**beans.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_2_0.xsd&quot;\r\n           bean-discovery-mode=&quot;all&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\nI use WILDFLY as application server.","title":"&quot;inStream parameter is null&quot; Server Error(REST API)","body":"<p>I want to convert an old application to a new one in which i make HTTP calls (GET/POST/DELETE). I have a model package where i have my POJO classes and i made a DTO package where i have Dto classes. When i make a simple GET method to take a String message as a response i dont have any problem but when i use dependency injection and i want to use GET or POST methods to see some details about my app i get in postman  this message: <strong>inStream parameter is null</strong></p>\n<p><strong>OwnerResource.java</strong></p>\n<pre><code>        @Path(&quot;ownerResource&quot;)\n        public class OwnerResource {\n        \n            @GET\n            public Response ping() {         // When i use only this method i dont have any problem and i can see the message\n                return Response\n                        .ok(&quot;pang&quot;)\n                        .build();\n            }\n        \n// When i use the below code i have problem in HTTP calls\n          \n            @Inject\n            private OwnerService ownerService;\n        \n            @GET\n            @Path(&quot;owner/{ownerId}&quot;)\n            @Produces(&quot;application/json&quot;)\n            public RestApiResult&lt;PropertyOwnerDto&gt; getOwner(@PathParam(&quot;ownerId&quot;) int ownerId) {\n                return ownerService.getOwner(ownerId);\n        \n            }\n        \n            @POST\n            @Path(&quot;owner&quot;)\n            @Produces(&quot;application/json&quot;)\n            @Consumes(&quot;application/json&quot;)\n            public void createNewOwner(PropertyOwnerDto owner) {\n            ownerService.createPropertyOwner(owner);\n    \n        }\n}\n</code></pre>\n<p><strong>PropertyOwner.java</strong></p>\n<pre><code>   @Data\n    @NoArgsConstructor\n    @Entity(name = &quot;propertyowner&quot;)\n    @Table\n    public class PropertyOwner extends PersistentClass {\n      // id is in PersistenceClass\n      private int vat; \n      private String name;\n      private String surname;\n      private String address;\n      private String phoneNumber;\n      private String email;\n      private String username;\n      private String password;\n      @OneToMany(mappedBy = &quot;owner&quot;, orphanRemoval = true)\n      private List&lt;Property&gt; properties;\n    \n      public PropertyOwner(int vat, String name, String surname, String address, String phoneNumber, String email, String username, String password) {\n        this.vat = vat;\n        this.name = name;\n        this.surname = surname;\n        this.address = address;\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n        this.username = username;\n        this.password = password;\n  }\n\n}\n</code></pre>\n<p><strong>PropertyOwnerDto.java</strong></p>\n<pre><code>@Data@Getter@Setter\npublic class PropertyOwnerDto {\n\n    private int vat;\n    private String name;\n    private String surname;\n    private String address;\n    private String phoneNumber;\n    private String email;\n    private String username;\n    private String password;\n\n    public PropertyOwnerDto() {\n\n    }\n\n    public PropertyOwnerDto(PropertyOwner propertyOwner) {\n        this.vat = propertyOwner.getVat();\n        this.name = propertyOwner.getName();\n        this.surname = propertyOwner.getSurname();\n        this.address = propertyOwner.getAddress();\n        this.phoneNumber = propertyOwner.getPhoneNumber();\n        this.email = propertyOwner.getEmail();\n        this.username = propertyOwner.getUsername();\n        this.password = propertyOwner.getPassword();\n\n    }\n\n    public PropertyOwner asOwner() {\n        PropertyOwner propertyOwner = new PropertyOwner();\n        propertyOwner.setVat(vat);\n        propertyOwner.setName(name);\n        propertyOwner.setSurname(surname);\n        propertyOwner.setAddress(address);\n        propertyOwner.setPhoneNumber(phoneNumber);\n        propertyOwner.setEmail(email);\n        propertyOwner.setUsername(username);\n        propertyOwner.setPassword(password);\n        return propertyOwner;\n\n    }\n</code></pre>\n<p><strong>OwnerService.java</strong></p>\n<pre><code>public interface OwnerService {\n\n    \n    void createPropertyOwner(PropertyOwnerDto ownerDto);\n    \n    RestApiResult&lt;PropertyOwnerDto&gt; getOwner(int ownerId);\n\n}\n</code></pre>\n<p><strong>OwnerServiceImpl.java</strong></p>\n<pre><code>public class OwnerServiceImpl implements OwnerService {\n\n    private final Properties sqlCommands = new Properties();\n\n    {\n        final ClassLoader loader = getClass().getClassLoader();\n        try ( InputStream config = loader.getResourceAsStream(&quot;sql.properties&quot;)) {\n            sqlCommands.load(config);\n        } catch (IOException e) {\n            throw new IOError(e);\n        }\n    }\n    private static final Logger logger = LogManager.getLogger(OwnerServiceImpl.class);\n\n    @Inject\n    private PropertyOwnerRepository propertyOwnerRepository;\n\n    @Inject\n    private PropertyRepository propertyRepository;\n\n    @Inject\n    private RepairRepository repairRepository;\n\n// SOME OTHER CODE HERE // \n\n   @Override\n    public RestApiResult&lt;PropertyOwnerDto&gt; getOwner(int ownerId) {\n        PropertyOwnerDto ownerDto = new PropertyOwnerDto(propertyOwnerRepository.findById(ownerId));\n        return new RestApiResult&lt;PropertyOwnerDto&gt;(ownerDto, 0, &quot;successful&quot;);\n    }\n\n    @Override\n    public void registerNewPropertyDto(PropertyDto propertyDto) {\n        propertyRepository.create(propertyDto.asProperty());\n    }\n}\n</code></pre>\n<p><strong>beans.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_2_0.xsd&quot;\n       bean-discovery-mode=&quot;all&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I use WILDFLY as application server.</p>\n"},{"tags":["java","bytecode","byte-buddy","javaagents"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1672316939,"post_id":74950762,"comment_id":132265652,"body_markdown":"Are you trying to hack a way for `String[]` to implement `close()` method? The error complains about a missing implementation of that method by []. Or i terribly misunderstood what went wrong there...","body":"Are you trying to hack a way for <code>String[]</code> to implement <code>close()</code> method? The error complains about a missing implementation of that method by []. Or i terribly misunderstood what went wrong there..."},{"owner":{"account_id":421337,"reputation":388,"user_id":799521,"accept_rate":80,"display_name":"luceat-lux-vestra"},"score":0,"creation_date":1672322204,"post_id":74950762,"comment_id":132267083,"body_markdown":"Thanks for your comment. @Shark I want to hack `java.lang.String` and implement the` close()` method. That&#39;s right. For now, I have no errors, but I can&#39;t confirm that working correctly or not.","body":"Thanks for your comment. @Shark I want to hack <code>java.lang.String</code> and implement the` close()` method. That&#39;s right. For now, I have no errors, but I can&#39;t confirm that working correctly or not."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1672325013,"post_id":74950762,"comment_id":132267908,"body_markdown":"Instrumentation can&#39;t add methods, so my guess is: no, it can&#39;t work.","body":"Instrumentation can&#39;t add methods, so my guess is: no, it can&#39;t work."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1672342471,"post_id":74950762,"comment_id":132272677,"body_markdown":"The only way to do this for JRE bootstrap classes which are already loaded when you are trying to instrument them, is to instrument them separately, write the instrumented classes to disk and put them on the boot classpath, prepending the woven ones, so the JVM finds them first. The exact way to do that is different between JRE &lt;= 8 and 9+.","body":"The only way to do this for JRE bootstrap classes which are already loaded when you are trying to instrument them, is to instrument them separately, write the instrumented classes to disk and put them on the boot classpath, prepending the woven ones, so the JVM finds them first. The exact way to do that is different between JRE &lt;= 8 and 9+."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672667110,"post_id":74950762,"comment_id":132322887,"body_markdown":"Let’s pretend the Instrumentation worked. What is `field.get(null)` with a non-static field supposed to do? And what code shall invoke the `close()` method (that only exists after the Instrumentation added it) eventually? So letting aside that you can’t instrument `String` that way, it looks like the actual problems would just start when the Instrumentation would work…","body":"Let’s pretend the Instrumentation worked. What is <code>field.get(null)</code> with a non-static field supposed to do? And what code shall invoke the <code>close()</code> method (that only exists after the Instrumentation added it) eventually? So letting aside that you can’t instrument <code>String</code> that way, it looks like the actual problems would just start when the Instrumentation would work…"}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672438797,"creation_date":1672438797,"answer_id":74966216,"question_id":74950762,"body_markdown":"To begin with, you would need to specify `java.lang.String` as name, not just `String`.\r\n\r\nHowever, it is not possible to change the shape of classes that are already loaded. Therefore, you are not able to add an interface to a class like String which will always be loaded upon agent startup with Byte Buddy.","title":"Trying to implement interface and override java.lang.String with Byte Buddy","body":"<p>To begin with, you would need to specify <code>java.lang.String</code> as name, not just <code>String</code>.</p>\n<p>However, it is not possible to change the shape of classes that are already loaded. Therefore, you are not able to add an interface to a class like String which will always be loaded upon agent startup with Byte Buddy.</p>\n"}],"owner":{"account_id":421337,"reputation":388,"user_id":799521,"accept_rate":80,"display_name":"luceat-lux-vestra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672438797,"creation_date":1672314615,"question_id":74950762,"body_markdown":"I tried with [this example](https://github.com/ShehanPerera/javaagent-bytebuddy/tree/master/samples/ignore-class) especially designed for \r\nignored by byte-buddy.\r\n\r\nI solved errors, and it looks like working with this code.\r\n\r\n```java\r\nnew AgentBuilder.Default()\r\n      .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\r\n      .ignore(ElementMatchers.none())\r\n      .type((ElementMatchers.named(&quot;String&quot;)))\r\n      .transform((builder, typeDescription, classLoader, module) -&gt; builder\r\n        .implement(AutoCloseable.class)\r\n        .method(named(&quot;close&quot;))\r\n        .intercept(Advice.to(closeInterceptor.class))\r\n      ).installOn(instrumentation);\r\n```\r\n\r\nand my interceptor looks like this.\r\nI did `System.out.print` something in the interceptor,  \r\nbut nothing happens over time.  \r\n(FYI, my logger setting was bad and caused an error. I deleted logger things and just used `System.out.println`\r\n```java\r\nclass closeInterceptor {\r\n\r\n  public void intercept(@Origin Class&lt;?&gt; type) {\r\n    try {\r\n      Field field = type.getDeclaredField(&quot;value&quot;);\r\n      field.setAccessible(true);\r\n      Object ref = field.get(null);\r\n      // I&#39;m trying to deal with `java.lang.String`s internal character storage.\r\n    } catch (NoSuchFieldException | IllegalAccessException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIs there a way to confirm that it&#39;s working well?\r\n\r\nThanks in advance.\r\n(I forgot to say `Happy new year!`)\r\n\r\n----\r\n\r\nThe default example looks like it is working at first, but look at this log.\r\n\r\nDisconnected with this error `Application Server was not connected before run configuration stop, reason: Unable to ping server at localhost:1099`\r\n\r\nI changed the port number randomly, but no effect and the same error occurred.\r\n\r\nPlease help!\r\n\r\n```java\r\nConnected to the target VM, address: &#39;127.0.0.1:49960&#39;, transport: &#39;socket&#39;\r\nAgent for instrument ignored class like java class \r\nmethod private static void sun.management.Agent.readConfiguration(java.lang.String,java.util.Properties)\r\nmethod public static java.util.Properties sun.management.Agent.loadManagementProperties()\r\n.\r\n.\r\n.\r\nmethod public static final long java.util.zip.ZipUtils.get32(byte[],int)\r\nDisconnected from the target VM, address: &#39;127.0.0.1:49960&#39;, transport: &#39;socket&#39;\r\nDisconnected from server\r\n```\r\n\r\n----\r\n\r\nHere is the log.\r\n\r\n```java\r\nAgent for instrument ignored class like java class \r\njava.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:386)\r\n\tat sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\r\nCaused by: java.lang.IllegalArgumentException: None of [] allows for delegation from public abstract void java.lang.AutoCloseable.close() throws java.lang.Exception\r\n\tat net.bytebuddy.implementation.bind.MethodDelegationBinder$Processor.bind(MethodDelegationBinder.java:1026)\r\n\tat net.bytebuddy.implementation.MethodDelegation$Appender.apply(MethodDelegation.java:1051)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyCode(TypeWriter.java:620)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:609)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:526)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining$RedefinitionClassVisitor.visitEnd(TypeWriter.java:3865)\r\n\tat net.bytebuddy.jar.asm.ClassReader.accept(ClassReader.java:702)\r\n\tat net.bytebuddy.jar.asm.ClassReader.accept(ClassReader.java:500)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:2941)\r\n\tat net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:1633)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:171)\r\n\tat net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:92)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2639)\r\n\tat net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2741)\r\n\tat com.github.shehanperera.ignored.Agent.premain(Agent.java:43)\r\n\t... 6 more\r\nException in thread &quot;main&quot; FATAL ERROR in native method: processing of -javaagent failed\r\nDisconnected from the target VM, address: &#39;127.0.0.1:49960&#39;, transport: &#39;socket&#39;\r\nDisconnected from server\r\n```\r\n\r\nHere is My `premain`.\r\n```java\r\npublic static void premain(String arguments,\r\n  Instrumentation instrumentation) {\r\n\r\n  System.out.println(&quot;Agent for instrument ignored class like java class &quot;);\r\n\r\n  ByteBuddyAgent.install();\r\n  new ByteBuddy()\r\n    .ignore(ElementMatchers.none())\r\n    .redefine(String.class)\r\n    .ignoreAlso(ElementMatchers.none())\r\n    .implement(AutoCloseable.class)\r\n    .method(named(&quot;close&quot;))\r\n    .intercept(MethodDelegation.to(closeInterceptor.class))\r\n    .make()\r\n    .load(ClassLoader.getSystemClassLoader())\r\n    .getLoaded();\r\n\r\n\r\n  new AgentBuilder.Default()\r\n    .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\r\n    .ignore(ElementMatchers.none())\r\n    .type((ElementMatchers.any()))\r\n    .transform((builder, typeDescription, classLoader, module) -&gt; builder\r\n      .method(ElementMatchers.any())\r\n      .intercept(Advice.to(IgnoreClass.class))\r\n    ).installOn(instrumentation);\r\n\r\n}\r\n```\r\n\r\nAnd finally, my interceptor.\r\n\r\n```java\r\nclass closeInterceptor {\r\n\r\n  private final Logger logger = LoggerFactory.getLogger(closeInterceptor.class);\r\n  public void intercept(@Origin Class&lt;?&gt; type) {\r\n    try {\r\n      Field field = type.getDeclaredField(&quot;value&quot;);\r\n      field.setAccessible(true);\r\n      Object ref = field.get(null);\r\n      // I&#39;m trying to deal with `java.lang.String`s internal character storage.\r\n    } catch (NoSuchFieldException | IllegalAccessException e) {\r\n      throw new RuntimeException(e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI don&#39;t know about byte code manipulation well also byte buddy.\r\n\r\nIt&#39;s hard to find some reference...\r\n\r\nPlease help.\r\n\r\nI just tried to make `Java.lang.String` implements `AutoCloseable`  \r\nand `Override` the `close` method with `java agent` and `byte buddy`.\r\n\r\nI hope so it can be.\r\n\r\nBut I can&#39;t solve that error and exception.","title":"Trying to implement interface and override java.lang.String with Byte Buddy","body":"<p>I tried with <a href=\"https://github.com/ShehanPerera/javaagent-bytebuddy/tree/master/samples/ignore-class\" rel=\"nofollow noreferrer\">this example</a> especially designed for\nignored by byte-buddy.</p>\n<p>I solved errors, and it looks like working with this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>new AgentBuilder.Default()\n      .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\n      .ignore(ElementMatchers.none())\n      .type((ElementMatchers.named(&quot;String&quot;)))\n      .transform((builder, typeDescription, classLoader, module) -&gt; builder\n        .implement(AutoCloseable.class)\n        .method(named(&quot;close&quot;))\n        .intercept(Advice.to(closeInterceptor.class))\n      ).installOn(instrumentation);\n</code></pre>\n<p>and my interceptor looks like this.\nI did <code>System.out.print</code> something in the interceptor,<br />\nbut nothing happens over time.<br />\n(FYI, my logger setting was bad and caused an error. I deleted logger things and just used <code>System.out.println</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>class closeInterceptor {\n\n  public void intercept(@Origin Class&lt;?&gt; type) {\n    try {\n      Field field = type.getDeclaredField(&quot;value&quot;);\n      field.setAccessible(true);\n      Object ref = field.get(null);\n      // I'm trying to deal with `java.lang.String`s internal character storage.\n    } catch (NoSuchFieldException | IllegalAccessException e) {\n      throw new RuntimeException(e);\n    }\n  }\n}\n</code></pre>\n<p>Is there a way to confirm that it's working well?</p>\n<p>Thanks in advance.\n(I forgot to say <code>Happy new year!</code>)</p>\n<hr />\n<p>The default example looks like it is working at first, but look at this log.</p>\n<p>Disconnected with this error <code>Application Server was not connected before run configuration stop, reason: Unable to ping server at localhost:1099</code></p>\n<p>I changed the port number randomly, but no effect and the same error occurred.</p>\n<p>Please help!</p>\n<pre class=\"lang-java prettyprint-override\"><code>Connected to the target VM, address: '127.0.0.1:49960', transport: 'socket'\nAgent for instrument ignored class like java class \nmethod private static void sun.management.Agent.readConfiguration(java.lang.String,java.util.Properties)\nmethod public static java.util.Properties sun.management.Agent.loadManagementProperties()\n.\n.\n.\nmethod public static final long java.util.zip.ZipUtils.get32(byte[],int)\nDisconnected from the target VM, address: '127.0.0.1:49960', transport: 'socket'\nDisconnected from server\n</code></pre>\n<hr />\n<p>Here is the log.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Agent for instrument ignored class like java class \njava.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:386)\n    at sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:401)\nCaused by: java.lang.IllegalArgumentException: None of [] allows for delegation from public abstract void java.lang.AutoCloseable.close() throws java.lang.Exception\n    at net.bytebuddy.implementation.bind.MethodDelegationBinder$Processor.bind(MethodDelegationBinder.java:1026)\n    at net.bytebuddy.implementation.MethodDelegation$Appender.apply(MethodDelegation.java:1051)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyCode(TypeWriter.java:620)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod$WithBody.applyBody(TypeWriter.java:609)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$MethodPool$Record$ForDefinedMethod.apply(TypeWriter.java:526)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining$RedefinitionClassVisitor.visitEnd(TypeWriter.java:3865)\n    at net.bytebuddy.jar.asm.ClassReader.accept(ClassReader.java:702)\n    at net.bytebuddy.jar.asm.ClassReader.accept(ClassReader.java:500)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default$ForInlining.create(TypeWriter.java:2941)\n    at net.bytebuddy.dynamic.scaffold.TypeWriter$Default.make(TypeWriter.java:1633)\n    at net.bytebuddy.dynamic.scaffold.inline.RedefinitionDynamicTypeBuilder.make(RedefinitionDynamicTypeBuilder.java:171)\n    at net.bytebuddy.dynamic.scaffold.inline.AbstractInliningDynamicTypeBuilder.make(AbstractInliningDynamicTypeBuilder.java:92)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase.make(DynamicType.java:2639)\n    at net.bytebuddy.dynamic.DynamicType$Builder$AbstractBase$Delegator.make(DynamicType.java:2741)\n    at com.github.shehanperera.ignored.Agent.premain(Agent.java:43)\n    ... 6 more\nException in thread &quot;main&quot; FATAL ERROR in native method: processing of -javaagent failed\nDisconnected from the target VM, address: '127.0.0.1:49960', transport: 'socket'\nDisconnected from server\n</code></pre>\n<p>Here is My <code>premain</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void premain(String arguments,\n  Instrumentation instrumentation) {\n\n  System.out.println(&quot;Agent for instrument ignored class like java class &quot;);\n\n  ByteBuddyAgent.install();\n  new ByteBuddy()\n    .ignore(ElementMatchers.none())\n    .redefine(String.class)\n    .ignoreAlso(ElementMatchers.none())\n    .implement(AutoCloseable.class)\n    .method(named(&quot;close&quot;))\n    .intercept(MethodDelegation.to(closeInterceptor.class))\n    .make()\n    .load(ClassLoader.getSystemClassLoader())\n    .getLoaded();\n\n\n  new AgentBuilder.Default()\n    .with(new AgentBuilder.InitializationStrategy.SelfInjection.Eager())\n    .ignore(ElementMatchers.none())\n    .type((ElementMatchers.any()))\n    .transform((builder, typeDescription, classLoader, module) -&gt; builder\n      .method(ElementMatchers.any())\n      .intercept(Advice.to(IgnoreClass.class))\n    ).installOn(instrumentation);\n\n}\n</code></pre>\n<p>And finally, my interceptor.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class closeInterceptor {\n\n  private final Logger logger = LoggerFactory.getLogger(closeInterceptor.class);\n  public void intercept(@Origin Class&lt;?&gt; type) {\n    try {\n      Field field = type.getDeclaredField(&quot;value&quot;);\n      field.setAccessible(true);\n      Object ref = field.get(null);\n      // I'm trying to deal with `java.lang.String`s internal character storage.\n    } catch (NoSuchFieldException | IllegalAccessException e) {\n      throw new RuntimeException(e);\n    }\n  }\n}\n</code></pre>\n<p>I don't know about byte code manipulation well also byte buddy.</p>\n<p>It's hard to find some reference...</p>\n<p>Please help.</p>\n<p>I just tried to make <code>Java.lang.String</code> implements <code>AutoCloseable</code><br />\nand <code>Override</code> the <code>close</code> method with <code>java agent</code> and <code>byte buddy</code>.</p>\n<p>I hope so it can be.</p>\n<p>But I can't solve that error and exception.</p>\n"},{"tags":["java","javac","java-compiler-api","javacompiler"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672730570,"post_id":74966176,"comment_id":132335183,"body_markdown":"This will be implementation dependent, but there are two ways to do this: Use reflection or use the internal types directly. The former will need appropriate `--add-exports` during run-time, whereas the latter will need appropriate `--add-exports` at _both_ compile-time and run-time.","body":"This will be implementation dependent, but there are two ways to do this: Use reflection or use the internal types directly. The former will need appropriate <code>--add-exports</code> during run-time, whereas the latter will need appropriate <code>--add-exports</code> at <i>both</i> compile-time and run-time."}],"owner":{"account_id":27394377,"reputation":1,"user_id":20896821,"display_name":"Janewby21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672438386,"creation_date":1672438386,"question_id":74966176,"body_markdown":"I&#39;m using the JavaCompiler Interface to compile source code files from within a Java program. I&#39;ve successfully written code that captures the errors that exist in the source code file. I&#39;m now trying to access the arguments of the diagnostic (for example, a &#39;;&#39; is a diagnostic&#39;s argument when that diagnostic represents a missing &#39;;&#39; at the end of a line). I was wondering if there is a way I can access these arguments? My goal is to use these arguments to print custom error messages for the compiler errors in the source code to the terminal.\r\n\r\nMy code is as follows:\r\n```\r\nJavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\nDiagnosticCollector&lt;JavaFileObject&gt; dc = new DiagnosticCollector&lt;&gt;();\r\n\r\ntry (StandardJavaFileManager fm = compiler.getStandardFileManager(dc, null, null)) {\r\n    File file = new File(&quot;Test.java&quot;);\r\n    Iterable&lt;? extends JavaFileObject&gt; sources = fm.getJavaFileObjectsFromFiles(Arrays.asList(file));\r\n    JavaCompiler.CompilationTask task = compiler.getTask(null, fm, dc, null, null, sources);\r\n    task.call();\r\n}\r\nif (!dc.getDiagnostics().isEmpty()) {\r\n    for (Diagnostic &lt;? extends JavaFileObject&gt; d: dc.getDiagnostics()) {\r\n        System.out.println(d.getCode());\r\n        System.out.format(&quot;Line: %d, %s in %s \\n&quot;,\r\n            d.getLineNumber(),\r\n            d.getMessage(null),\r\n            d.getSource().getName());\r\n            System.out.println(d.toString());\r\n    }\r\n    System.exit(1);\r\n}\r\n```\r\n\r\nI&#39;ve tried looking into the interface a bit myself, and I&#39;ve seen that the diagnostics returned from my JavaCompiler via the `DiagnosticCollector.getDiagnostics()` method are of dynamic type ClientCodeWrapper/DiagnosticSourceUnwrapper, which has a JCDiagnostic field that has a `getArgs()` method as desired, but this JCDiagnostic field is inaccessible from my program. \r\nI was thinking there might be some way to unwrap/cast the ClientCodeWrapper/DiagnosticSourceUnwrapper so as to access the JCDiagnostic field and use its `getArgs()` method, but I was unable to do so, as I ran into ClassCastExceptions and inaccessible types.\r\n\r\nI also tried making my own implementation of the Diagnostic Interface, so as to write my own `getArgs()` method, but I wasn&#39;t able to successfully implement a class that would get the arguments of the diagnostic and also be compatible with the JavaCompiler Interfaces as I was currently using them.\r\nI could see this line of thinking also leading to a solution, but I wasn&#39;t able to make it work myself.\r\n\r\nI was also thinking that perhaps there is another API/framework that would be better to achieve my goal.\r\n\r\nThank you in advance.","title":"Is it possible to get a diagnostic&#39;s arguments using the JavaCompiler Interface?","body":"<p>I'm using the JavaCompiler Interface to compile source code files from within a Java program. I've successfully written code that captures the errors that exist in the source code file. I'm now trying to access the arguments of the diagnostic (for example, a ';' is a diagnostic's argument when that diagnostic represents a missing ';' at the end of a line). I was wondering if there is a way I can access these arguments? My goal is to use these arguments to print custom error messages for the compiler errors in the source code to the terminal.</p>\n<p>My code is as follows:</p>\n<pre><code>JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\nDiagnosticCollector&lt;JavaFileObject&gt; dc = new DiagnosticCollector&lt;&gt;();\n\ntry (StandardJavaFileManager fm = compiler.getStandardFileManager(dc, null, null)) {\n    File file = new File(&quot;Test.java&quot;);\n    Iterable&lt;? extends JavaFileObject&gt; sources = fm.getJavaFileObjectsFromFiles(Arrays.asList(file));\n    JavaCompiler.CompilationTask task = compiler.getTask(null, fm, dc, null, null, sources);\n    task.call();\n}\nif (!dc.getDiagnostics().isEmpty()) {\n    for (Diagnostic &lt;? extends JavaFileObject&gt; d: dc.getDiagnostics()) {\n        System.out.println(d.getCode());\n        System.out.format(&quot;Line: %d, %s in %s \\n&quot;,\n            d.getLineNumber(),\n            d.getMessage(null),\n            d.getSource().getName());\n            System.out.println(d.toString());\n    }\n    System.exit(1);\n}\n</code></pre>\n<p>I've tried looking into the interface a bit myself, and I've seen that the diagnostics returned from my JavaCompiler via the <code>DiagnosticCollector.getDiagnostics()</code> method are of dynamic type ClientCodeWrapper/DiagnosticSourceUnwrapper, which has a JCDiagnostic field that has a <code>getArgs()</code> method as desired, but this JCDiagnostic field is inaccessible from my program.\nI was thinking there might be some way to unwrap/cast the ClientCodeWrapper/DiagnosticSourceUnwrapper so as to access the JCDiagnostic field and use its <code>getArgs()</code> method, but I was unable to do so, as I ran into ClassCastExceptions and inaccessible types.</p>\n<p>I also tried making my own implementation of the Diagnostic Interface, so as to write my own <code>getArgs()</code> method, but I wasn't able to successfully implement a class that would get the arguments of the diagnostic and also be compatible with the JavaCompiler Interfaces as I was currently using them.\nI could see this line of thinking also leading to a solution, but I wasn't able to make it work myself.</p>\n<p>I was also thinking that perhaps there is another API/framework that would be better to achieve my goal.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","loops","while-loop","subroutine"],"answers":[{"comments":[{"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"score":0,"creation_date":1672438150,"post_id":74966085,"comment_id":132291538,"body_markdown":"omg thanks so much you have no idea how much this is appreciated ! THANK YOU!","body":"omg thanks so much you have no idea how much this is appreciated ! THANK YOU!"},{"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"score":0,"creation_date":1672440220,"post_id":74966085,"comment_id":132291937,"body_markdown":"I still need help here and there with more questions is there any chance of way I could reach you that would be greatly appreciated!","body":"I still need help here and there with more questions is there any chance of way I could reach you that would be greatly appreciated!"},{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1672491115,"post_id":74966085,"comment_id":132297890,"body_markdown":"@Anjola Adejoro If your are satisfied this answer and believe is the best solution to your problem please accept the answer. If you have other queries please create another question(s) detailing the problem.","body":"@Anjola Adejoro If your are satisfied this answer and believe is the best solution to your problem please accept the answer. If you have other queries please create another question(s) detailing the problem."},{"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"score":0,"creation_date":1672630765,"post_id":74966085,"comment_id":132315697,"body_markdown":"@moken I am satisfied with the answer thanks to everyone.","body":"@moken I am satisfied with the answer thanks to everyone."}],"tags":[],"owner":{"account_id":26582907,"reputation":16,"user_id":20207284,"display_name":"dbulut"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672437513,"creation_date":1672437367,"answer_id":74966085,"question_id":74965967,"body_markdown":"First of all, your isValid function never returns true, even the case that user enters a password that is greater than 6 characters. So you should update your method like that:\r\n\r\n    public static boolean isValid(String password) {\r\n            if (password.length() &lt; 6) {\r\n                return false;\r\n            } else {\r\n                char c;\r\n                for (int i = 0; i &lt; password.length() - 1; i++) {\r\n                    c = password.charAt(i);\r\n                    if (!Character.isLetterOrDigit(c)) {\r\n                        return false;\r\n                    } else if (Character.isDigit(c)) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n\r\n Then, you can take the user input in a do-while loop. So if the password is invalid it will keep asking. Here is your updated main method:\r\n\r\n    public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            {\r\n                String password;\r\n                do {\r\n                    System.out.print(&quot;Please enter a string that is greater than 6 characters long. &quot;);\r\n                    password = input.next();\r\n                    if (isValid(password)) {\r\n                        System.out.println(&quot;That is a valid string onto stage 2.&quot;);\r\n                    } else {\r\n                        System.out.println(&quot;That is a invalid string. Try again.&quot;);\r\n                    }\r\n                }while (!isValid(password));\r\n            }\r\n        }","title":"The user must enter a string that is greater than 6 characters long","body":"<p>First of all, your isValid function never returns true, even the case that user enters a password that is greater than 6 characters. So you should update your method like that:</p>\n<pre><code>public static boolean isValid(String password) {\n        if (password.length() &lt; 6) {\n            return false;\n        } else {\n            char c;\n            for (int i = 0; i &lt; password.length() - 1; i++) {\n                c = password.charAt(i);\n                if (!Character.isLetterOrDigit(c)) {\n                    return false;\n                } else if (Character.isDigit(c)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n</code></pre>\n<p>Then, you can take the user input in a do-while loop. So if the password is invalid it will keep asking. Here is your updated main method:</p>\n<pre><code>public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        {\n            String password;\n            do {\n                System.out.print(&quot;Please enter a string that is greater than 6 characters long. &quot;);\n                password = input.next();\n                if (isValid(password)) {\n                    System.out.println(&quot;That is a valid string onto stage 2.&quot;);\n                } else {\n                    System.out.println(&quot;That is a invalid string. Try again.&quot;);\n                }\n            }while (!isValid(password));\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27394294,"reputation":3,"user_id":20896750,"display_name":"Anjola Adejoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74966085,"answer_count":1,"score":0,"last_activity_date":1672437513,"creation_date":1672436032,"question_id":74965967,"body_markdown":"How can I code this using subroutines in java with a loop so if they don&#39;t get it right it keeps repeating till they do. This is all i have so far. The user must enter a string that is greater than 6 characters long.\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage containsmethod;\r\n\r\nimport java.util.*;  \r\nimport java.lang.String;  \r\nimport java.lang.Character;\r\nimport java.util.Scanner;\r\npublic class ContainsMethod {\r\n\r\n    \r\n   public static boolean isValid(String password) {\r\n\r\n    if (password.length() &lt; 6) {\r\n    return false;\r\n    } else {\r\n    char c;\r\n    for (int i = 0; i &lt; password.length() -1; i ++) {\r\n    c = password.charAt(i);\r\n    if (!Character.isLetterOrDigit(c)) {\r\n    return false;\r\n    } else if (Character.isDigit(c)) { \r\n        return false;\r\n            }\r\n    }\r\n    }\r\n    return false;\r\n   }\r\n\r\n \r\n   \r\n    \r\n            \r\n    public static void main (String [] args) {\r\n    Scanner input = new Scanner (System.in);\r\n    {\r\n    System.out.print (&quot;Please enter a string that is greater than 6 characters long. &quot;);\r\n    String password = input.next();\r\n    if (isValid(password)) {\r\n    System.out.println (&quot;That is a valid string onto stage 2.&quot;);\r\n    } \r\n    else \r\n    {\r\n    System.out.println (&quot;That is a invalid string. Try again.&quot;);\r\n    }\r\n    }\r\n```\r\n","title":"The user must enter a string that is greater than 6 characters long","body":"<p>How can I code this using subroutines in java with a loop so if they don't get it right it keeps repeating till they do. This is all i have so far. The user must enter a string that is greater than 6 characters long.</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage containsmethod;\n\nimport java.util.*;  \nimport java.lang.String;  \nimport java.lang.Character;\nimport java.util.Scanner;\npublic class ContainsMethod {\n\n    \n   public static boolean isValid(String password) {\n\n    if (password.length() &lt; 6) {\n    return false;\n    } else {\n    char c;\n    for (int i = 0; i &lt; password.length() -1; i ++) {\n    c = password.charAt(i);\n    if (!Character.isLetterOrDigit(c)) {\n    return false;\n    } else if (Character.isDigit(c)) { \n        return false;\n            }\n    }\n    }\n    return false;\n   }\n\n \n   \n    \n            \n    public static void main (String [] args) {\n    Scanner input = new Scanner (System.in);\n    {\n    System.out.print (&quot;Please enter a string that is greater than 6 characters long. &quot;);\n    String password = input.next();\n    if (isValid(password)) {\n    System.out.println (&quot;That is a valid string onto stage 2.&quot;);\n    } \n    else \n    {\n    System.out.println (&quot;That is a invalid string. Try again.&quot;);\n    }\n    }\n</code></pre>\n"},{"tags":["java","layout"],"owner":{"account_id":25390083,"reputation":1,"user_id":20896793,"display_name":"Emre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672436276,"creation_date":1672436250,"question_id":74965983,"body_markdown":"```\r\n//Verification\r\nConstraintLayout applyVerification = findViewById(R.id.applyVerification);\r\n\r\napplyVerification.setOnClickListener(v -&gt; {\r\n    Intent intent4 = new Intent(getApplicationContext(), VerifyActivity.class);\r\n    startActivity(intent4);\r\n});\r\n\r\nFirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        if (snapshot.exists()){\r\n            if (snapshot.hasChild(FirebaseAuth.getInstance().getCurrentUser().getUid())){\r\n                applyVerification.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n    }\r\n});\r\n```\r\n\r\nHello, I want the application page to be hidden when the user submits an application for approval and is approved and receives a check mark, but my code did not work, even if the user is approved, the confirmation page still appears, the user can still request it.\r\n\r\nWhere is the error in my code?","title":"Hiding the application page when the user account is approved","body":"<pre><code>//Verification\nConstraintLayout applyVerification = findViewById(R.id.applyVerification);\n\napplyVerification.setOnClickListener(v -&gt; {\n    Intent intent4 = new Intent(getApplicationContext(), VerifyActivity.class);\n    startActivity(intent4);\n});\n\nFirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        if (snapshot.exists()){\n            if (snapshot.hasChild(FirebaseAuth.getInstance().getCurrentUser().getUid())){\n                applyVerification.setVisibility(View.VISIBLE);\n            }\n        }\n\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n\n    }\n});\n</code></pre>\n<p>Hello, I want the application page to be hidden when the user submits an application for approval and is approved and receives a check mark, but my code did not work, even if the user is approved, the confirmation page still appears, the user can still request it.</p>\n<p>Where is the error in my code?</p>\n"},{"tags":["java","audio","wav"],"answers":[{"comments":[{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":0,"creation_date":1268227962,"post_id":2417088,"comment_id":2398877,"body_markdown":"If you still have issues with that try to change the sound device. See also the tool recommended here http://stackoverflow.com/questions/2175318/how-to-change-default-sound-playback-device-programatically/2216886#2216886","body":"If you still have issues with that try to change the sound device. See also the tool recommended here <a href=\"http://stackoverflow.com/questions/2175318/how-to-change-default-sound-playback-device-programatically/2216886#2216886\" title=\"how to change default sound playback device programatically\">stackoverflow.com/questions/2175318/&hellip;</a>"}],"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1268226765,"creation_date":1268226765,"answer_id":2417088,"question_id":2416935,"body_markdown":"The snippet [here](http://www.anyexample.com/programming/java/java_play_wav_sound_file.xml) works fine, tested with windows sound:\r\n\r\n\r\n    public static void main(String[] args) {\r\n        \tAePlayWave aw = new AePlayWave( &quot;C:\\\\WINDOWS\\\\Media\\\\tada.wav&quot; );\r\n        \taw.start();\t\t\r\n    }","title":"How to play .wav files with java","body":"<p>The snippet <a href=\"http://www.anyexample.com/programming/java/java_play_wav_sound_file.xml\" rel=\"nofollow noreferrer\">here</a> works fine, tested with windows sound:</p>\n\n<pre><code>public static void main(String[] args) {\n        AePlayWave aw = new AePlayWave( \"C:\\\\WINDOWS\\\\Media\\\\tada.wav\" );\n        aw.start();     \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1686073,"reputation":1974,"user_id":1549348,"accept_rate":52,"display_name":"duleshi"},"score":12,"creation_date":1376229648,"post_id":2433454,"comment_id":26624449,"body_markdown":"This one doesn&#39;t work for me. I recommend a very simple one : [http://alvinalexander.com/java/java-audio-example-java-au-play-sound](http://alvinalexander.com/java/java-audio-example-java-au-play-sound)","body":"This one doesn&#39;t work for me. I recommend a very simple one : <a href=\"http://alvinalexander.com/java/java-audio-example-java-au-play-sound\" rel=\"nofollow noreferrer\">http://alvinalexander.com/java/java-audio-example-java-au-pl&zwnj;&#8203;ay-sound</a>"},{"owner":{"account_id":25754,"reputation":69853,"user_id":66475,"accept_rate":99,"display_name":"Bjorn"},"score":11,"creation_date":1398654625,"post_id":2433454,"comment_id":35726878,"body_markdown":"Seriously if this is what&#39;s required to play a wav sound in Java then I&#39;m going to stop using Java, fortunately I doubt this is right.","body":"Seriously if this is what&#39;s required to play a wav sound in Java then I&#39;m going to stop using Java, fortunately I doubt this is right."},{"owner":{"account_id":21500901,"reputation":71,"user_id":15845130,"display_name":"florentin nica"},"score":0,"creation_date":1621261271,"post_id":2433454,"comment_id":119435282,"body_markdown":"if you try this in a gameloop it freezes the game","body":"if you try this in a gameloop it freezes the game"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1672261479,"post_id":2433454,"comment_id":132255231,"body_markdown":"Your code works one time.  When you try and execute the code a second time, the file is not played because the `AudioInputStream` from the first time through was never closed.","body":"Your code works one time.  When you try and execute the code a second time, the file is not played because the <code>AudioInputStream</code> from the first time through was never closed."},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1687688256,"post_id":2433454,"comment_id":134968972,"body_markdown":"@Gilbert Le Blanc, that is wrong. Not closing a file does not prevent anyone else to open it later again, nor does it make it magically disappear from the file system when the program terminates. AND: when a program terminates: all fils it has open get closed by the OS ...","body":"@Gilbert Le Blanc, that is wrong. Not closing a file does not prevent anyone else to open it later again, nor does it make it magically disappear from the file system when the program terminates. AND: when a program terminates: all fils it has open get closed by the OS ..."},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1687688343,"post_id":2433454,"comment_id":134968978,"body_markdown":"This is a fine example HOW TO NOT USE EXCEPTIONS. You should have one single try and one single catch block and handle or not handle all exceptions in that catch block.","body":"This is a fine example HOW TO NOT USE EXCEPTIONS. You should have one single try and one single catch block and handle or not handle all exceptions in that catch block."}],"tags":[],"owner":{"account_id":99823,"reputation":2326,"user_id":269446,"accept_rate":74,"display_name":"greenLizard"},"comment_count":6,"down_vote_count":1,"up_vote_count":47,"is_accepted":true,"score":46,"last_activity_date":1366019041,"creation_date":1268405124,"answer_id":2433454,"question_id":2416935,"body_markdown":"Finally I managed to do the following and it works fine\r\n&lt;!-- language: java --&gt;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    import javax.sound.sampled.AudioFormat;\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.DataLine;\r\n    import javax.sound.sampled.LineUnavailableException;\r\n    import javax.sound.sampled.SourceDataLine;\r\n    \r\n    public class MakeSound {\r\n    \r\n        private final int BUFFER_SIZE = 128000;\r\n        private File soundFile;\r\n        private AudioInputStream audioStream;\r\n        private AudioFormat audioFormat;\r\n        private SourceDataLine sourceLine;\r\n    \r\n        /**\r\n         * @param filename the name of the file that is going to be played\r\n         */\r\n        public void playSound(String filename){\r\n    \r\n            String strFilename = filename;\r\n    \r\n            try {\r\n                soundFile = new File(strFilename);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n    \r\n            try {\r\n            \taudioStream = AudioSystem.getAudioInputStream(soundFile);\r\n            } catch (Exception e){\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n    \r\n            audioFormat = audioStream.getFormat();\r\n    \r\n            DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\r\n            try {\r\n            \tsourceLine = (SourceDataLine) AudioSystem.getLine(info);\r\n            \tsourceLine.open(audioFormat);\r\n            } catch (LineUnavailableException e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.exit(1);\r\n            }\r\n    \r\n            sourceLine.start();\r\n    \r\n            int nBytesRead = 0;\r\n            byte[] abData = new byte[BUFFER_SIZE];\r\n            while (nBytesRead != -1) {\r\n                try {\r\n                    nBytesRead = audioStream.read(abData, 0, abData.length);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                if (nBytesRead &gt;= 0) {\r\n                    @SuppressWarnings(&quot;unused&quot;)\r\n    \t\t\t\tint nBytesWritten = sourceLine.write(abData, 0, nBytesRead);\r\n                }\r\n            }\r\n    \r\n            sourceLine.drain();\r\n            sourceLine.close();\r\n        }\r\n    }","title":"How to play .wav files with java","body":"<p>Finally I managed to do the following and it works fine\n</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\nimport javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.DataLine;\nimport javax.sound.sampled.LineUnavailableException;\nimport javax.sound.sampled.SourceDataLine;\n\npublic class MakeSound {\n\n    private final int BUFFER_SIZE = 128000;\n    private File soundFile;\n    private AudioInputStream audioStream;\n    private AudioFormat audioFormat;\n    private SourceDataLine sourceLine;\n\n    /**\n     * @param filename the name of the file that is going to be played\n     */\n    public void playSound(String filename){\n\n        String strFilename = filename;\n\n        try {\n            soundFile = new File(strFilename);\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        try {\n            audioStream = AudioSystem.getAudioInputStream(soundFile);\n        } catch (Exception e){\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        audioFormat = audioStream.getFormat();\n\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat);\n        try {\n            sourceLine = (SourceDataLine) AudioSystem.getLine(info);\n            sourceLine.open(audioFormat);\n        } catch (LineUnavailableException e) {\n            e.printStackTrace();\n            System.exit(1);\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n\n        sourceLine.start();\n\n        int nBytesRead = 0;\n        byte[] abData = new byte[BUFFER_SIZE];\n        while (nBytesRead != -1) {\n            try {\n                nBytesRead = audioStream.read(abData, 0, abData.length);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            if (nBytesRead &gt;= 0) {\n                @SuppressWarnings(\"unused\")\n                int nBytesWritten = sourceLine.write(abData, 0, nBytesRead);\n            }\n        }\n\n        sourceLine.drain();\n        sourceLine.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2680537,"reputation":8538,"user_id":2316009,"accept_rate":54,"display_name":"Bryan"},"score":1,"creation_date":1494578837,"post_id":11025384,"comment_id":74898922,"body_markdown":"I could not hear any audio coming out using this sample codes. Is there anything i&#39;m missing out?","body":"I could not hear any audio coming out using this sample codes. Is there anything i&#39;m missing out?"},{"owner":{"account_id":1566357,"reputation":1056,"user_id":1455074,"accept_rate":100,"display_name":"tschwab"},"score":1,"creation_date":1498500306,"post_id":11025384,"comment_id":76512790,"body_markdown":"It should be complete, but it is also five years old, and ugly. I&#39;m sure there are nicer ways of doing it, using nice Java libraries.","body":"It should be complete, but it is also five years old, and ugly. I&#39;m sure there are nicer ways of doing it, using nice Java libraries."},{"owner":{"account_id":4698704,"reputation":759,"user_id":3802890,"display_name":"Metaphore"},"score":5,"creation_date":1507121276,"post_id":11025384,"comment_id":80084055,"body_markdown":"To hear the output, you should delay the application termination for a playback duration. Try put `Thread.sleep(1000)` after the `clip.start()`.","body":"To hear the output, you should delay the application termination for a playback duration. Try put <code>Thread.sleep(1000)</code> after the <code>clip.start()</code>."},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1687688438,"post_id":11025384,"comment_id":134968989,"body_markdown":"You probably need a &#39;clip.loop(0);&#39; (or to play it twice a clip.loop(1);) before clip.start().","body":"You probably need a &#39;clip.loop(0);&#39; (or to play it twice a clip.loop(1);) before clip.start()."}],"tags":[],"owner":{"account_id":1566357,"reputation":1056,"user_id":1455074,"accept_rate":100,"display_name":"tschwab"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1433874497,"creation_date":1339635165,"answer_id":11025384,"question_id":2416935,"body_markdown":"Here is the most elegant form I could come up without using sun.*:\r\n\r\n    import java.io.*;\r\n    import javax.sound.sampled.*;\r\n\r\n    try {\r\n        File yourFile;\r\n        AudioInputStream stream;\r\n        AudioFormat format;\r\n        DataLine.Info info;\r\n        Clip clip;\r\n        \r\n        stream = AudioSystem.getAudioInputStream(yourFile);\r\n        format = stream.getFormat();\r\n        info = new DataLine.Info(Clip.class, format);\r\n        clip = (Clip) AudioSystem.getLine(info);\r\n        clip.open(stream);\r\n        clip.start();\r\n    }\r\n    catch (Exception e) {\r\n        //whatevers\r\n    }","title":"How to play .wav files with java","body":"<p>Here is the most elegant form I could come up without using sun.*:</p>\n\n<pre><code>import java.io.*;\nimport javax.sound.sampled.*;\n\ntry {\n    File yourFile;\n    AudioInputStream stream;\n    AudioFormat format;\n    DataLine.Info info;\n    Clip clip;\n\n    stream = AudioSystem.getAudioInputStream(yourFile);\n    format = stream.getFormat();\n    info = new DataLine.Info(Clip.class, format);\n    clip = (Clip) AudioSystem.getLine(info);\n    clip.open(stream);\n    clip.start();\n}\ncatch (Exception e) {\n    //whatevers\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1655481,"reputation":221,"user_id":1525158,"display_name":"mini-me"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1342488323,"creation_date":1342488003,"answer_id":11514812,"question_id":2416935,"body_markdown":"Shortest form (without having to install random libraries) ?\r\n\r\n    public static void play(String filename)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tClip clip = AudioSystem.getClip();\r\n\t\t\tclip.open(AudioSystem.getAudioInputStream(new File(filename)));\r\n\t\t\tclip.start();\r\n\t\t}\r\n\t\tcatch (Exception exc)\r\n\t\t{\r\n\t\t\texc.printStackTrace(System.out);\r\n\t\t}\r\n\t}\r\n\r\nThe only problem is there is no good way to make this method blocking to close and dispose the data after *.wav finishes.\r\n`clip.drain()` says it&#39;s blocking but it&#39;s not. The clip isn&#39;t running **RIGHT AFTER** `start()`.\r\nThe only working but **UGLY** way I found is:\r\n\r\n    // ...\r\n\tclip.start();\r\n\twhile (!clip.isRunning())\r\n\t\tThread.sleep(10);\r\n\twhile (clip.isRunning())\r\n\t\tThread.sleep(10);\r\n\tclip.close();","title":"How to play .wav files with java","body":"<p>Shortest form (without having to install random libraries) ?</p>\n\n<pre><code>public static void play(String filename)\n{\n    try\n    {\n        Clip clip = AudioSystem.getClip();\n        clip.open(AudioSystem.getAudioInputStream(new File(filename)));\n        clip.start();\n    }\n    catch (Exception exc)\n    {\n        exc.printStackTrace(System.out);\n    }\n}\n</code></pre>\n\n<p>The only problem is there is no good way to make this method blocking to close and dispose the data after *.wav finishes.\n<code>clip.drain()</code> says it's blocking but it's not. The clip isn't running <strong>RIGHT AFTER</strong> <code>start()</code>.\nThe only working but <strong>UGLY</strong> way I found is:</p>\n\n<pre><code>// ...\nclip.start();\nwhile (!clip.isRunning())\n    Thread.sleep(10);\nwhile (clip.isRunning())\n    Thread.sleep(10);\nclip.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":0,"creation_date":1381790699,"post_id":17277981,"comment_id":28704671,"body_markdown":"Renember that you could add after the start the sentence &quot;clip.drain()&quot; if you want to wait until the stream of audio is processed by the Line.","body":"Renember that you could add after the start the sentence &quot;clip.drain()&quot; if you want to wait until the stream of audio is processed by the Line."}],"tags":[],"owner":{"account_id":1713661,"reputation":972,"user_id":1571224,"display_name":"mkdev"},"comment_count":1,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1372084198,"creation_date":1372084198,"answer_id":17277981,"question_id":2416935,"body_markdown":"You can use an event listener to close the clip after it is played\r\n\r\n    import java.io.File;\r\n    import javax.sound.sampled.*;\r\n\r\n    public void play(File file) \r\n    {\r\n        try\r\n        {\r\n            final Clip clip = (Clip)AudioSystem.getLine(new Line.Info(Clip.class));\r\n\r\n            clip.addLineListener(new LineListener()\r\n            {\r\n                @Override\r\n                public void update(LineEvent event)\r\n                {\r\n                    if (event.getType() == LineEvent.Type.STOP)\r\n                        clip.close();\r\n                }\r\n            });\r\n            \r\n            clip.open(AudioSystem.getAudioInputStream(file));\r\n            clip.start();\r\n        }\r\n        catch (Exception exc)\r\n        {\r\n            exc.printStackTrace(System.out);\r\n        }\r\n    }\r\n\r\n","title":"How to play .wav files with java","body":"<p>You can use an event listener to close the clip after it is played</p>\n\n<pre><code>import java.io.File;\nimport javax.sound.sampled.*;\n\npublic void play(File file) \n{\n    try\n    {\n        final Clip clip = (Clip)AudioSystem.getLine(new Line.Info(Clip.class));\n\n        clip.addLineListener(new LineListener()\n        {\n            @Override\n            public void update(LineEvent event)\n            {\n                if (event.getType() == LineEvent.Type.STOP)\n                    clip.close();\n            }\n        });\n\n        clip.open(AudioSystem.getAudioInputStream(file));\n        clip.start();\n    }\n    catch (Exception exc)\n    {\n        exc.printStackTrace(System.out);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12197778,"reputation":365,"user_id":8902866,"display_name":"MazeOfEncryption"},"score":0,"creation_date":1524867743,"post_id":30681605,"comment_id":87158595,"body_markdown":"Why the `extends Object`?","body":"Why the <code>extends Object</code>?"},{"owner":{"account_id":4024442,"reputation":1248,"user_id":3313383,"accept_rate":84,"display_name":"God"},"score":1,"creation_date":1527420181,"post_id":30681605,"comment_id":88114056,"body_markdown":"@MazeOfEncryption I truly don&#39;t remember :)","body":"@MazeOfEncryption I truly don&#39;t remember :)"}],"tags":[],"owner":{"account_id":4024442,"reputation":1248,"user_id":3313383,"accept_rate":84,"display_name":"God"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486829168,"creation_date":1433585848,"answer_id":30681605,"question_id":2416935,"body_markdown":"Another way of doing it with `AudioInputStream`:\r\n\r\n    import java.io.File;\r\n\r\n    import javax.sound.sampled.AudioInputStream;\r\n    import javax.sound.sampled.AudioSystem;\r\n    import javax.sound.sampled.Clip;\r\n    import javax.sound.sampled.Line;\r\n    import javax.sound.sampled.LineEvent;\r\n    import javax.sound.sampled.LineListener;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFileChooser;\r\n\r\n    public class CoreJavaSound extends Object implements LineListener {\r\n        File soundFile;\r\n\r\n        JDialog playingDialog;\r\n\r\n        Clip clip;\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            CoreJavaSound s = new CoreJavaSound();\r\n        }\r\n\r\n        public CoreJavaSound() throws Exception {\r\n            JFileChooser chooser = new JFileChooser();\r\n            chooser.showOpenDialog(null);\r\n            soundFile = chooser.getSelectedFile();\r\n\r\n            System.out.println(&quot;Playing &quot; + soundFile.getName());\r\n\r\n            Line.Info linfo = new Line.Info(Clip.class);\r\n            Line line = AudioSystem.getLine(linfo);\r\n            clip = (Clip) line;\r\n            clip.addLineListener(this);\r\n            AudioInputStream ais = AudioSystem.getAudioInputStream(soundFile);\r\n            clip.open(ais);\r\n            clip.start();\r\n        }\r\n\r\n        public void update(LineEvent le) {\r\n            LineEvent.Type type = le.getType();\r\n            if (type == LineEvent.Type.OPEN) {\r\n                System.out.println(&quot;OPEN&quot;);\r\n            } else if (type == LineEvent.Type.CLOSE) {\r\n                System.out.println(&quot;CLOSE&quot;);\r\n                System.exit(0);\r\n            } else if (type == LineEvent.Type.START) {\r\n                System.out.println(&quot;START&quot;);\r\n                playingDialog.setVisible(true);\r\n            } else if (type == LineEvent.Type.STOP) {\r\n                System.out.println(&quot;STOP&quot;);\r\n                playingDialog.setVisible(false);\r\n                clip.close();\r\n            }\r\n        }\r\n    }","title":"How to play .wav files with java","body":"<p>Another way of doing it with <code>AudioInputStream</code>:</p>\n\n<pre><code>import java.io.File;\n\nimport javax.sound.sampled.AudioInputStream;\nimport javax.sound.sampled.AudioSystem;\nimport javax.sound.sampled.Clip;\nimport javax.sound.sampled.Line;\nimport javax.sound.sampled.LineEvent;\nimport javax.sound.sampled.LineListener;\nimport javax.swing.JDialog;\nimport javax.swing.JFileChooser;\n\npublic class CoreJavaSound extends Object implements LineListener {\n    File soundFile;\n\n    JDialog playingDialog;\n\n    Clip clip;\n\n    public static void main(String[] args) throws Exception {\n        CoreJavaSound s = new CoreJavaSound();\n    }\n\n    public CoreJavaSound() throws Exception {\n        JFileChooser chooser = new JFileChooser();\n        chooser.showOpenDialog(null);\n        soundFile = chooser.getSelectedFile();\n\n        System.out.println(\"Playing \" + soundFile.getName());\n\n        Line.Info linfo = new Line.Info(Clip.class);\n        Line line = AudioSystem.getLine(linfo);\n        clip = (Clip) line;\n        clip.addLineListener(this);\n        AudioInputStream ais = AudioSystem.getAudioInputStream(soundFile);\n        clip.open(ais);\n        clip.start();\n    }\n\n    public void update(LineEvent le) {\n        LineEvent.Type type = le.getType();\n        if (type == LineEvent.Type.OPEN) {\n            System.out.println(\"OPEN\");\n        } else if (type == LineEvent.Type.CLOSE) {\n            System.out.println(\"CLOSE\");\n            System.exit(0);\n        } else if (type == LineEvent.Type.START) {\n            System.out.println(\"START\");\n            playingDialog.setVisible(true);\n        } else if (type == LineEvent.Type.STOP) {\n            System.out.println(\"STOP\");\n            playingDialog.setVisible(false);\n            clip.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8363506,"reputation":58,"user_id":6280993,"display_name":"John Nash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477653256,"creation_date":1477653256,"answer_id":40303880,"question_id":2416935,"body_markdown":"A class that will play a WAV file, blocking until the sound has finished playing:\r\n\r\n\tclass Sound implements Playable {\r\n\r\n\t\tprivate final Path wavPath;\r\n\t\tprivate final CyclicBarrier barrier = new CyclicBarrier(2);\r\n\r\n\t\tSound(final Path wavPath) {\r\n\r\n\t\t\tthis.wavPath = wavPath;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void play() throws LineUnavailableException, IOException, UnsupportedAudioFileException {\r\n\r\n\t\t\ttry (final AudioInputStream audioIn = AudioSystem.getAudioInputStream(wavPath.toFile());\r\n\t\t\t\t final Clip clip = AudioSystem.getClip()) {\r\n\r\n\t\t\t\tlistenForEndOf(clip);\r\n\t\t\t\tclip.open(audioIn);\r\n\t\t\t\tclip.start();\r\n\t\t\t\twaitForSoundEnd();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void listenForEndOf(final Clip clip) {\r\n\t\t\t\r\n\t\t\tclip.addLineListener(event -&gt; {\r\n\t\t\t\tif (event.getType() == LineEvent.Type.STOP) waitOnBarrier();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate void waitOnBarrier() {\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\tbarrier.await();\r\n\t\t\t} catch (final InterruptedException ignored) {\r\n\t\t\t} catch (final BrokenBarrierException e) {\r\n\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate void waitForSoundEnd() {\r\n\r\n\t\t\twaitOnBarrier();\r\n\t\t}\r\n\t}","title":"How to play .wav files with java","body":"<p>A class that will play a WAV file, blocking until the sound has finished playing:</p>\n\n<pre><code>class Sound implements Playable {\n\n    private final Path wavPath;\n    private final CyclicBarrier barrier = new CyclicBarrier(2);\n\n    Sound(final Path wavPath) {\n\n        this.wavPath = wavPath;\n    }\n\n    @Override\n    public void play() throws LineUnavailableException, IOException, UnsupportedAudioFileException {\n\n        try (final AudioInputStream audioIn = AudioSystem.getAudioInputStream(wavPath.toFile());\n             final Clip clip = AudioSystem.getClip()) {\n\n            listenForEndOf(clip);\n            clip.open(audioIn);\n            clip.start();\n            waitForSoundEnd();\n        }\n    }\n\n    private void listenForEndOf(final Clip clip) {\n\n        clip.addLineListener(event -&gt; {\n            if (event.getType() == LineEvent.Type.STOP) waitOnBarrier();\n        });\n    }\n\n    private void waitOnBarrier() {\n\n        try {\n\n            barrier.await();\n        } catch (final InterruptedException ignored) {\n        } catch (final BrokenBarrierException e) {\n\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void waitForSoundEnd() {\n\n        waitOnBarrier();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9889418,"reputation":1,"user_id":7322906,"display_name":"burb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486828786,"creation_date":1482267508,"answer_id":41251142,"question_id":2416935,"body_markdown":"You can use AudioStream this way as well:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    import sun.audio.AudioPlayer;\r\n    import sun.audio.AudioStream;\r\n\r\n    public class AudioWizz extends JPanel implements ActionListener {\r\n\r\n    \tprivate static final long serialVersionUID = 1L; //you like your cereal and the program likes their &quot;serial&quot;\r\n    \r\n    \tstatic AudioWizz a;\r\n    \tstatic JButton playBuddon;\r\n    \tstatic JFrame frame;\r\n    \r\n    \tpublic static void main(String arguments[]){\r\n    \r\n    \t\tframe= new JFrame(&quot;AudioWizz&quot;);\r\n    \t\tframe.setSize(300,300);\r\n    \t\tframe.setVisible(true);\r\n    \t\ta= new AudioWizz();\r\n    \t\tplayBuddon= new JButton(&quot;PUSH ME&quot;);\r\n    \t\tplayBuddon.setBounds(10,10,80,30);\r\n    \t\tplayBuddon.addActionListener(a);\r\n    \r\n    \t\tframe.add(playBuddon);\r\n    \t\tframe.add(a);\r\n    \t}\r\n    \r\n    \tpublic void actionPerformed(ActionEvent e){ //an eventListener\r\n    \t\tif (e.getSource() == playBuddon) {\r\n    \t\t\ttry {\r\n    \t\t\t\tInputStream in = new FileInputStream(&quot;*.wav&quot;);\r\n    \t\t\t\tAudioStream sound = new AudioStream(in);\r\n    \t\t\t\tAudioPlayer.player.start(sound);\r\n    \t\t\t} catch(FileNotFoundException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t} catch (IOException e1) {\r\n    \t\t\t\te1.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to play .wav files with java","body":"<p>You can use AudioStream this way as well:</p>\n\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\nimport sun.audio.AudioPlayer;\nimport sun.audio.AudioStream;\n\npublic class AudioWizz extends JPanel implements ActionListener {\n\n    private static final long serialVersionUID = 1L; //you like your cereal and the program likes their \"serial\"\n\n    static AudioWizz a;\n    static JButton playBuddon;\n    static JFrame frame;\n\n    public static void main(String arguments[]){\n\n        frame= new JFrame(\"AudioWizz\");\n        frame.setSize(300,300);\n        frame.setVisible(true);\n        a= new AudioWizz();\n        playBuddon= new JButton(\"PUSH ME\");\n        playBuddon.setBounds(10,10,80,30);\n        playBuddon.addActionListener(a);\n\n        frame.add(playBuddon);\n        frame.add(a);\n    }\n\n    public void actionPerformed(ActionEvent e){ //an eventListener\n        if (e.getSource() == playBuddon) {\n            try {\n                InputStream in = new FileInputStream(\"*.wav\");\n                AudioStream sound = new AudioStream(in);\n                AudioPlayer.player.start(sound);\n            } catch(FileNotFoundException e1) {\n                e1.printStackTrace();\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1986323,"reputation":71,"user_id":1781452,"display_name":"guest123"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523373843,"creation_date":1504112868,"answer_id":45966133,"question_id":2416935,"body_markdown":"A solution without java reflection `DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat)`\r\n\r\nJava reflection decrease performance.\r\nto run: `java playsound absoluteFilePathTo/file.wav`\r\n\r\n    import javax.sound.sampled.*;\r\n    import java.io.*;\r\n    public class playsound {\r\n\r\n    \tpublic static void main (String args[]) throws Exception {\r\n    \t\tplaySound (args[0]);\r\n    \t}\r\n\r\n    \tpublic static void playSound () throws Exception {\r\n    \t\tAudioInputStream \r\n    \t\taudioStream = AudioSystem.getAudioInputStream(new File (filename));\r\n    \t\t\r\n            int BUFFER_SIZE = 128000;\r\n    \t\tAudioFormat audioFormat = null;\r\n    \t\tSourceDataLine sourceLine = null;\r\n    \r\n    \t\taudioFormat = audioStream.getFormat();\r\n    \t\t\r\n    \t\tsourceLine = AudioSystem.getSourceDataLine(audioFormat);\r\n    \t\tsourceLine.open(audioFormat);\r\n            sourceLine.start();\r\n    \r\n            int nBytesRead = 0;\r\n            byte[] abData = new byte[BUFFER_SIZE];\r\n            while (nBytesRead != -1) {\r\n                try {\r\n                    nBytesRead = \r\n                    audioStream.read(abData, 0, abData.length);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                if (nBytesRead &gt;= 0) {\r\n                    int nBytesWritten = sourceLine.write(abData, 0, nBytesRead);\r\n                }\r\n            }\r\n    \r\n            sourceLine.drain();\r\n            sourceLine.close();\r\n    \t}\r\n    \t\r\n    }","title":"How to play .wav files with java","body":"<p>A solution without java reflection <code>DataLine.Info info = new DataLine.Info(SourceDataLine.class, audioFormat)</code></p>\n\n<p>Java reflection decrease performance.\nto run: <code>java playsound absoluteFilePathTo/file.wav</code></p>\n\n<pre><code>import javax.sound.sampled.*;\nimport java.io.*;\npublic class playsound {\n\n    public static void main (String args[]) throws Exception {\n        playSound (args[0]);\n    }\n\n    public static void playSound () throws Exception {\n        AudioInputStream \n        audioStream = AudioSystem.getAudioInputStream(new File (filename));\n\n        int BUFFER_SIZE = 128000;\n        AudioFormat audioFormat = null;\n        SourceDataLine sourceLine = null;\n\n        audioFormat = audioStream.getFormat();\n\n        sourceLine = AudioSystem.getSourceDataLine(audioFormat);\n        sourceLine.open(audioFormat);\n        sourceLine.start();\n\n        int nBytesRead = 0;\n        byte[] abData = new byte[BUFFER_SIZE];\n        while (nBytesRead != -1) {\n            try {\n                nBytesRead = \n                audioStream.read(abData, 0, abData.length);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            if (nBytesRead &gt;= 0) {\n                int nBytesWritten = sourceLine.write(abData, 0, nBytesRead);\n            }\n        }\n\n        sourceLine.drain();\n        sourceLine.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672435735,"creation_date":1672435735,"answer_id":74965929,"question_id":2416935,"body_markdown":"I took @greenLizard&#39;s code and made it more robust.\r\n\r\n1.  I closed the `AudioInputStream`.\r\n2.  I used a `BufferedInputStream`.  The `AudioSystem` `getAudioInputStream` was throwing an occasional `IOException` because the `getAutoInputSytream` method couldn&#39;t back up the input stream and start over.\r\n\r\nHopefully, there are no more exceptions to be found.\r\n\r\nHere&#39;s the modified code.  The [ErrorDisplayDialog](https://github.com/ggleblanc2/error-display-dialog) shows an exception as a `JDialog` in a Java Swing application.  Just replace with `e.printStackTrace();`.\r\n\r\n\tprivate void playWavFile(String fileName) {\r\n\t\tInputStream inputStream = getClass().getResourceAsStream(fileName);\r\n\t\tBufferedInputStream bufferedInputStream = new BufferedInputStream(\r\n\t\t\t\tinputStream);\r\n\t\tAudioInputStream audioStream = null;\r\n\t\tAudioFormat audioFormat = null;\r\n\r\n\t\ttry {\r\n\t\t\taudioStream = AudioSystem.getAudioInputStream(bufferedInputStream);\r\n\t\t\taudioFormat = audioStream.getFormat();\r\n\t\t} catch (UnsupportedAudioFileException e) {\r\n\t\t\tnew ErrorDisplayDialog(view.getFrame(),\r\n\t\t\t\t\t&quot;UnsupportedAudioFileException&quot;, e);\r\n\t\t\treturn;\r\n\t\t} catch (IOException e) {\r\n\t\t\tnew ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tDataLine.Info info = new DataLine.Info(SourceDataLine.class,\r\n\t\t\t\taudioFormat);\r\n\t\tSourceDataLine sourceLine;\r\n\t\ttry {\r\n\t\t\tsourceLine = (SourceDataLine) AudioSystem.getLine(info);\r\n\t\t\tsourceLine.open(audioFormat);\r\n\t\t} catch (LineUnavailableException e) {\r\n\t\t\tnew ErrorDisplayDialog(view.getFrame(), &quot;LineUnavailableException&quot;,\r\n\t\t\t\t\te);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsourceLine.start();\r\n\r\n\t\tint nBytesRead = 0;\r\n\t\tbyte[] abData = new byte[128000];\r\n\t\twhile (nBytesRead != -1) {\r\n\t\t\ttry {\r\n\t\t\t\tnBytesRead = audioStream.read(abData, 0, abData.length);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tnew ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (nBytesRead &gt;= 0) {\r\n\t\t\t\tsourceLine.write(abData, 0, nBytesRead);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsourceLine.drain();\r\n\t\tsourceLine.close();\r\n\r\n\t\ttry {\r\n\t\t\taudioStream.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tnew ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n","title":"How to play .wav files with java","body":"<p>I took @greenLizard's code and made it more robust.</p>\n<ol>\n<li>I closed the <code>AudioInputStream</code>.</li>\n<li>I used a <code>BufferedInputStream</code>.  The <code>AudioSystem</code> <code>getAudioInputStream</code> was throwing an occasional <code>IOException</code> because the <code>getAutoInputSytream</code> method couldn't back up the input stream and start over.</li>\n</ol>\n<p>Hopefully, there are no more exceptions to be found.</p>\n<p>Here's the modified code.  The <a href=\"https://github.com/ggleblanc2/error-display-dialog\" rel=\"nofollow noreferrer\">ErrorDisplayDialog</a> shows an exception as a <code>JDialog</code> in a Java Swing application.  Just replace with <code>e.printStackTrace();</code>.</p>\n<pre><code>private void playWavFile(String fileName) {\n    InputStream inputStream = getClass().getResourceAsStream(fileName);\n    BufferedInputStream bufferedInputStream = new BufferedInputStream(\n            inputStream);\n    AudioInputStream audioStream = null;\n    AudioFormat audioFormat = null;\n\n    try {\n        audioStream = AudioSystem.getAudioInputStream(bufferedInputStream);\n        audioFormat = audioStream.getFormat();\n    } catch (UnsupportedAudioFileException e) {\n        new ErrorDisplayDialog(view.getFrame(),\n                &quot;UnsupportedAudioFileException&quot;, e);\n        return;\n    } catch (IOException e) {\n        new ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\n        return;\n    }\n\n    DataLine.Info info = new DataLine.Info(SourceDataLine.class,\n            audioFormat);\n    SourceDataLine sourceLine;\n    try {\n        sourceLine = (SourceDataLine) AudioSystem.getLine(info);\n        sourceLine.open(audioFormat);\n    } catch (LineUnavailableException e) {\n        new ErrorDisplayDialog(view.getFrame(), &quot;LineUnavailableException&quot;,\n                e);\n        return;\n    }\n\n    sourceLine.start();\n\n    int nBytesRead = 0;\n    byte[] abData = new byte[128000];\n    while (nBytesRead != -1) {\n        try {\n            nBytesRead = audioStream.read(abData, 0, abData.length);\n        } catch (IOException e) {\n            new ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\n            return;\n        }\n\n        if (nBytesRead &gt;= 0) {\n            sourceLine.write(abData, 0, nBytesRead);\n        }\n    }\n\n    sourceLine.drain();\n    sourceLine.close();\n\n    try {\n        audioStream.close();\n    } catch (IOException e) {\n        new ErrorDisplayDialog(view.getFrame(), &quot;IOException&quot;, e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":99823,"reputation":2326,"user_id":269446,"accept_rate":74,"display_name":"greenLizard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174985,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":2433454,"answer_count":10,"score":58,"last_activity_date":1672435735,"creation_date":1268225373,"question_id":2416935,"body_markdown":"I am trying to play a *.wav file with Java. I want it to do the following:  \r\nWhen a button is pressed, play a short beep sound.\r\n\r\nI have googled it, but most of the code wasn&#39;t working. Can someone give me a simple code snippet to play a .wav file?\r\n\r\n","title":"How to play .wav files with java","body":"<p>I am trying to play a *.wav file with Java. I want it to do the following:<br>\nWhen a button is pressed, play a short beep sound.</p>\n\n<p>I have googled it, but most of the code wasn't working. Can someone give me a simple code snippet to play a .wav file?</p>\n"},{"tags":["java","postgresql","spring-boot","mockito"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1569165473,"post_id":58050482,"comment_id":102499305,"body_markdown":"you need to provide more information, can you show the complete test class","body":"you need to provide more information, can you show the complete test class"},{"owner":{"account_id":6615599,"reputation":474,"user_id":5108962,"accept_rate":25,"display_name":"Sameer Reza Khan"},"score":0,"creation_date":1569165845,"post_id":58050482,"comment_id":102499414,"body_markdown":"@Deadpool updated question with complete class.","body":"@Deadpool updated question with complete class."},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1569165975,"post_id":58050482,"comment_id":102499446,"body_markdown":"and you are getting this exception only during test? it will be helpful if you add exception with stack trace","body":"and you are getting this exception only during test? it will be helpful if you add exception with stack trace"},{"owner":{"account_id":6615599,"reputation":474,"user_id":5108962,"accept_rate":25,"display_name":"Sameer Reza Khan"},"score":0,"creation_date":1569166307,"post_id":58050482,"comment_id":102499551,"body_markdown":"@Deadpool added stack trace as well","body":"@Deadpool added stack trace as well"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1569167024,"post_id":58050482,"comment_id":102499739,"body_markdown":"How about if you try mocking the Repository? Since this is a test i&#39;m just providing the ideas","body":"How about if you try mocking the Repository? Since this is a test i&#39;m just providing the ideas"},{"owner":{"account_id":6615599,"reputation":474,"user_id":5108962,"accept_rate":25,"display_name":"Sameer Reza Khan"},"score":0,"creation_date":1569167402,"post_id":58050482,"comment_id":102499846,"body_markdown":"@Deadpool same error","body":"@Deadpool same error"},{"owner":{"account_id":9580452,"reputation":163,"user_id":7115140,"accept_rate":75,"display_name":"jagga"},"score":0,"creation_date":1609764430,"post_id":58050482,"comment_id":115915855,"body_markdown":"@SameerRezaKhan Did you found solution for this?","body":"@SameerRezaKhan Did you found solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":2516047,"reputation":320,"user_id":2187480,"display_name":"Juan Melo"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1616171738,"creation_date":1616171738,"answer_id":66712131,"question_id":58050482,"body_markdown":"run this query in your postgreSQL console:\r\n\r\n&gt; CREATE EXTENSION IF NOT EXISTS &quot;uuid-ossp&quot;;","title":"Unable to load class [pg-uuid] in spring boot test","body":"<p>run this query in your postgreSQL console:</p>\n<blockquote>\n<p>CREATE EXTENSION IF NOT EXISTS &quot;uuid-ossp&quot;;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16003882,"reputation":76,"user_id":11549860,"display_name":"Sahil Z. Maharjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672435537,"creation_date":1672435537,"answer_id":74965908,"question_id":58050482,"body_markdown":"In the Model, replacing\r\n\r\n    @Type(type=&quot;pg-uuid&quot;)\r\n\r\nwith\r\n\r\n    @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\r\n\r\nWorked for me.\r\n\r\nThe functionalities using just @Type(type=&quot;pg-uuid&quot;) worked, but the tests were failing as mentioned in the question above, but using @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;) worked","title":"Unable to load class [pg-uuid] in spring boot test","body":"<p>In the Model, replacing</p>\n<pre><code>@Type(type=&quot;pg-uuid&quot;)\n</code></pre>\n<p>with</p>\n<pre><code>@Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;)\n</code></pre>\n<p>Worked for me.</p>\n<p>The functionalities using just @Type(type=&quot;pg-uuid&quot;) worked, but the tests were failing as mentioned in the question above, but using @Type(type=&quot;org.hibernate.type.PostgresUUIDType&quot;) worked</p>\n"}],"owner":{"account_id":6615599,"reputation":474,"user_id":5108962,"accept_rate":25,"display_name":"Sameer Reza Khan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2169,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1672435537,"creation_date":1569164809,"question_id":58050482,"body_markdown":"I am getting an exception while running a spring boot test.\r\nI am using pg-uuid on an attribute in one of my models.\r\n\r\n    @org.hibernate.annotations.Type(type = &quot;pg-uuid&quot;)\r\n    private UUID userUuid;\r\n\r\nMy application runs smoothly when my test cases are ignored, but when I run test cases, I am getting this error.\r\n\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : pg-uuid\r\n\r\nMy complete test class:\r\n\r\n\r\n    @NoArgsConstructor\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(AuthController.class)\r\n    public class AuthControllerTest {\r\n\r\n        @Autowired\r\n        MockMvc mockMvc;\r\n\r\n        @MockBean\r\n        UserDetailsService userDetailsService;\r\n\r\n        @org.junit.jupiter.api.BeforeEach\r\n        void setUp() {\r\n            List&lt;User&gt; mockUserList= new UsersUtil().getUserList();\r\n        }\r\n\r\n        @org.junit.jupiter.api.AfterEach\r\n        void tearDown() {\r\n        }\r\n\r\n        @Test\r\n        public void login() throws Exception {\r\n            User user = new User();\r\n            user.setEmail(&quot;abc@example.com&quot;);\r\n            user.setPassword(&quot;123456&quot;);\r\n            try {\r\n                LoginResponseBean loginResponseBean =userDetailsService.login(user);\r\n                assertThat(loginResponseBean!=null).isTrue();\r\n                assertThat(loginResponseBean.getJwtToken()!=null).isTrue();\r\n            }\r\n            catch(Exception e){\r\n            }\r\n        }\r\n    }\r\n\r\nStacktrace of the exception:\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [pg-uuid]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:119)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\r\n\t... 24 more\r\n    Caused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [pg-uuid]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:354)\r\n\tat org.hibernate.boot.internal.ClassLoaderAccessImpl.classForName(ClassLoaderAccessImpl.java:67)\r\n\tat org.hibernate.cfg.annotations.SimpleValueBinder.fillSimpleValue(SimpleValueBinder.java:538)\r\n\tat org.hibernate.cfg.SetSimpleValueTypeSecondPass.doSecondPass(SetSimpleValueTypeSecondPass.java:25)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1696)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1654)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:287)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)\r\n\t... 39 more\r\n    Caused by: java.lang.ClassNotFoundException: Could not load requested class : pg-uuid\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader.findClass(ClassLoaderServiceImpl.java:342)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:415)\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:351)\r\n\t... 54 more\r\n\r\nWhat should I do?","title":"Unable to load class [pg-uuid] in spring boot test","body":"<p>I am getting an exception while running a spring boot test.\nI am using pg-uuid on an attribute in one of my models.</p>\n\n<pre><code>@org.hibernate.annotations.Type(type = \"pg-uuid\")\nprivate UUID userUuid;\n</code></pre>\n\n<p>My application runs smoothly when my test cases are ignored, but when I run test cases, I am getting this error.</p>\n\n<p>Caused by: java.lang.ClassNotFoundException: Could not load requested class : pg-uuid</p>\n\n<p>My complete test class:</p>\n\n<pre><code>@NoArgsConstructor\n@RunWith(SpringRunner.class)\n@WebMvcTest(AuthController.class)\npublic class AuthControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    UserDetailsService userDetailsService;\n\n    @org.junit.jupiter.api.BeforeEach\n    void setUp() {\n        List&lt;User&gt; mockUserList= new UsersUtil().getUserList();\n    }\n\n    @org.junit.jupiter.api.AfterEach\n    void tearDown() {\n    }\n\n    @Test\n    public void login() throws Exception {\n        User user = new User();\n        user.setEmail(\"abc@example.com\");\n        user.setPassword(\"123456\");\n        try {\n            LoginResponseBean loginResponseBean =userDetailsService.login(user);\n            assertThat(loginResponseBean!=null).isTrue();\n            assertThat(loginResponseBean.getJwtToken()!=null).isTrue();\n        }\n        catch(Exception e){\n        }\n    }\n}\n</code></pre>\n\n<p>Stacktrace of the exception:</p>\n\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\nat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\nat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [pg-uuid]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1778)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:593)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1105)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:742)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:389)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:311)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:119)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\n... 24 more\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [pg-uuid]\nat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:354)\nat org.hibernate.boot.internal.ClassLoaderAccessImpl.classForName(ClassLoaderAccessImpl.java:67)\nat org.hibernate.cfg.annotations.SimpleValueBinder.fillSimpleValue(SimpleValueBinder.java:538)\nat org.hibernate.cfg.SetSimpleValueTypeSecondPass.doSecondPass(SetSimpleValueTypeSecondPass.java:25)\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1696)\nat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1654)\nat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:287)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1837)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1774)\n... 39 more\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : pg-uuid\nat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader.findClass(ClassLoaderServiceImpl.java:342)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:415)\nat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:351)\n... 54 more\n</code></pre>\n\n<p>What should I do?</p>\n"},{"tags":["java","android","android-10.0"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672349039,"post_id":74956103,"comment_id":132274251,"body_markdown":"Please give full paths of src and dest.","body":"Please give full paths of src and dest."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672350188,"post_id":74956103,"comment_id":132274471,"body_markdown":"This is the full path -  /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3? If not, please write how to set it correctly.","body":"This is the full path -  /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3? If not, please write how to set it correctly."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672353023,"post_id":74956103,"comment_id":132275091,"body_markdown":"That is only one path. I asked for two: src and dest.","body":"That is only one path. I asked for two: src and dest."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672353369,"post_id":74956103,"comment_id":132275155,"body_markdown":"src: /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3; dest: /storage/emulated/0/Music/krindo - Jumbo.mp3","body":"src: /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3; dest: /storage/emulated/0/Music/krindo - Jumbo.mp3"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672354229,"post_id":74956103,"comment_id":132275336,"body_markdown":"Try File.exists() and File.canWrite() on src before the move.","body":"Try File.exists() and File.canWrite() on src before the move."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672355890,"post_id":74956103,"comment_id":132275638,"body_markdown":"src.exists() - true; src.isWritable() - false","body":"src.exists() - true; src.isWritable() - false"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1672356272,"post_id":74956103,"comment_id":132275701,"body_markdown":"Well if it is not writable you cannot move it. Also you cannot delete it. If File.canRead() returns true you could make a copy if the destination directory is writable.","body":"Well if it is not writable you cannot move it. Also you cannot delete it. If File.canRead() returns true you could make a copy if the destination directory is writable."},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672381273,"post_id":74956103,"comment_id":132278799,"body_markdown":"In general, I just need to rename it, but how to do it specifically on Android 10?","body":"In general, I just need to rename it, but how to do it specifically on Android 10?"}],"answers":[{"comments":[{"owner":{"account_id":10167152,"reputation":175,"user_id":7540461,"display_name":"Tiarait"},"score":0,"creation_date":1672769418,"post_id":74965889,"comment_id":132347417,"body_markdown":"are you using the permission in the manifest?","body":"are you using the permission in the manifest?"},{"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"score":0,"creation_date":1672771865,"post_id":74965889,"comment_id":132348066,"body_markdown":"Yes of course: &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt; android:requestLegacyExternalStorage=&quot;true&quot;","body":"Yes of course: &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;  &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt; android:requestLegacyExternalStorage=&quot;true&quot;"}],"tags":[],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672435344,"creation_date":1672435344,"answer_id":74965889,"question_id":74956103,"body_markdown":"Here I wrote another file renaming solution, but in Android 10 nothing happens, although in 11 and above it renames normally.\r\n\r\n    public class PathDiv {\r\n    public static String dev(String path){\r\n        return path.replaceAll(&quot;^(.*)/.*?$&quot;,&quot;$1&quot;);\r\n    }\r\n\r\n    public static void renameFilesInDir(String path, String dirIn, String ext) {\r\n\r\n        File checkFile = new File(path);\r\n            if (checkFile.isFile()) {\r\n                try {\r\n                    checkFile.renameTo(new File(dirIn, ext));\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n        }\r\n    }\r\n\r\n}\r\npath: /storage/emulated/0/Music/04. Kasger - Highland.mp3\r\ndirIn: /storage/emulated/0/Music\r\next: Highland.mp3\r\n\r\n    PathDiv.renameFilesInDir(songItem.realUri,PathDiv.dev(songItem.realUri),newName.toString())\r\n\r\nPlease help, what is the problem?","title":"Access to files is denied while the file is being moved Android 10","body":"<p>Here I wrote another file renaming solution, but in Android 10 nothing happens, although in 11 and above it renames normally.</p>\n<pre><code>public class PathDiv {\npublic static String dev(String path){\n    return path.replaceAll(&quot;^(.*)/.*?$&quot;,&quot;$1&quot;);\n}\n\npublic static void renameFilesInDir(String path, String dirIn, String ext) {\n\n    File checkFile = new File(path);\n        if (checkFile.isFile()) {\n            try {\n                checkFile.renameTo(new File(dirIn, ext));\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n    }\n}\n</code></pre>\n<p>}\npath: /storage/emulated/0/Music/04. Kasger - Highland.mp3\ndirIn: /storage/emulated/0/Music\next: Highland.mp3</p>\n<pre><code>PathDiv.renameFilesInDir(songItem.realUri,PathDiv.dev(songItem.realUri),newName.toString())\n</code></pre>\n<p>Please help, what is the problem?</p>\n"}],"owner":{"account_id":27001377,"reputation":9,"user_id":20562610,"display_name":"UserAndroidDeveloper"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672435344,"creation_date":1672348405,"question_id":74956103,"body_markdown":"I need to rename a file, I use the Files.move method. But nothing happens. Please wait to solve this problem. I am testing on an emulator with Android 10. Below are the permissions, error, and implementation of the move.\r\n\r\nPermissions :\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n```\r\n\r\n```\r\nandroid:requestRawExternalStorageAccess=&quot;true&quot;\r\nandroid:requestLegacyExternalStorage=&quot;true&quot;\r\n```\r\n\r\n```\r\nval src = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n    Paths.get(songItem.realUri)\r\n} else {\r\n    TODO(&quot;VERSION.SDK_INT &lt; O&quot;)\r\n}\r\nval dest = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n    Paths.get(&quot;$parent/$newName&quot;)\r\n} else {\r\n    TODO(&quot;VERSION.SDK_INT &lt; O&quot;)\r\n}\r\ntry {\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        Files.move(src, dest) //Error\r\n    }\r\n    println(&quot;Renaming succeeded&quot;)\r\n} catch (e: IOException) {\r\n    e.printStackTrace()\r\n}\r\n```\r\n\r\n`W/System.err: java.nio.file.AccessDeniedException: /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3 -&gt; /storage/emulated/0/Music/krindo - Jumbo.mp3\r\nW/System.err:     at sun.nio.fs.UnixCopyFile.move(UnixCopyFile.java:457)\r\nW/System.err:     at sun.nio.fs.UnixFileSystemProvider.move(UnixFileSystemProvider.java:262)\r\nW/System.err:     at java.nio.file.Files.move(Files.java:1395)\r\n`\r\n","title":"Access to files is denied while the file is being moved Android 10","body":"<p>I need to rename a file, I use the Files.move method. But nothing happens. Please wait to solve this problem. I am testing on an emulator with Android 10. Below are the permissions, error, and implementation of the move.</p>\n<p>Permissions :</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot; /&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n<pre><code>android:requestRawExternalStorageAccess=&quot;true&quot;\nandroid:requestLegacyExternalStorage=&quot;true&quot;\n</code></pre>\n<pre><code>val src = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    Paths.get(songItem.realUri)\n} else {\n    TODO(&quot;VERSION.SDK_INT &lt; O&quot;)\n}\nval dest = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    Paths.get(&quot;$parent/$newName&quot;)\n} else {\n    TODO(&quot;VERSION.SDK_INT &lt; O&quot;)\n}\ntry {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        Files.move(src, dest) //Error\n    }\n    println(&quot;Renaming succeeded&quot;)\n} catch (e: IOException) {\n    e.printStackTrace()\n}\n</code></pre>\n<p><code>W/System.err: java.nio.file.AccessDeniedException: /storage/emulated/0/Music/02. Alex Skrindo - Jumbo.mp3 -&gt; /storage/emulated/0/Music/krindo - Jumbo.mp3 W/System.err:     at sun.nio.fs.UnixCopyFile.move(UnixCopyFile.java:457) W/System.err:     at sun.nio.fs.UnixFileSystemProvider.move(UnixFileSystemProvider.java:262) W/System.err:     at java.nio.file.Files.move(Files.java:1395) </code></p>\n"},{"tags":["java","java-11","java-module","geotools"],"answers":[{"tags":[],"owner":{"account_id":2514725,"reputation":324,"user_id":2186416,"accept_rate":60,"display_name":"Luke Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672435025,"creation_date":1672435025,"answer_id":74965859,"question_id":74963898,"body_markdown":"Took a while to come to this, but I have come to the following solution thanks to the jar --describe-module command from  https://stackoverflow.com/questions/47359025/is-it-possible-to-mix-java-8-and-java-9-source-code-in-the-same-project-without.\r\n\r\n1. Using mvn dependency:copy-dependencies copies all .jar files to target/dependency.\r\n\r\n2. In target/dependency, create a file &quot;module-report.cmd&quot; with the following content.:\r\n\r\n    \\&gt; module-report.txt (\r\n      for %%f in (%~dp0*.jar) do (\r\n\t\tjar --file=%%f --describe-module\r\n\t  )\r\n    )\r\n\r\nIts just running the &quot;jar --file=... --describe-module&quot; command on every jar file, outputting it to module-report.txt.\r\n\r\n3. Run module-report.cmd to generate module-report.txt\r\n\r\nThe contents of the text file contain all of the module information, including contained packages, requires declarations, everything.\r\n\r\nUsing that report I could then simply search for the packages I couldn&#39;t access and easily get the name of the module they were contained in.","title":"How do I discover the correct Java 11 module names for my GeoTools project?","body":"<p>Took a while to come to this, but I have come to the following solution thanks to the jar --describe-module command from  <a href=\"https://stackoverflow.com/questions/47359025/is-it-possible-to-mix-java-8-and-java-9-source-code-in-the-same-project-without\">Is it possible to mix Java 8 and Java 9 source code in the same project without using compiler flags?</a>.</p>\n<ol>\n<li><p>Using mvn dependency:copy-dependencies copies all .jar files to target/dependency.</p>\n</li>\n<li><p>In target/dependency, create a file &quot;module-report.cmd&quot; with the following content.:</p>\n<p>&gt; module-report.txt (\nfor %%f in (%~dp0*.jar) do (\njar --file=%%f --describe-module\n)\n)</p>\n</li>\n</ol>\n<p>Its just running the &quot;jar --file=... --describe-module&quot; command on every jar file, outputting it to module-report.txt.</p>\n<ol start=\"3\">\n<li>Run module-report.cmd to generate module-report.txt</li>\n</ol>\n<p>The contents of the text file contain all of the module information, including contained packages, requires declarations, everything.</p>\n<p>Using that report I could then simply search for the packages I couldn't access and easily get the name of the module they were contained in.</p>\n"}],"owner":{"account_id":2514725,"reputation":324,"user_id":2186416,"accept_rate":60,"display_name":"Luke Turner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672435025,"creation_date":1672418861,"question_id":74963898,"body_markdown":"I am trying to convert my application to use Java 11 and the java module system, but am having difficulty discovering which &quot;requires&quot; statements to add to my module-info.java. I am currently getting the error ```&quot;The project was not built since its build path is incomplete. Cannot find the class file for org.locationtech.jts.geom.Envelope. Fix the build path then try building this project&quot;```.\r\n\r\nI have searched through https://github.com/geotools/geotools, but I cannot find any hints regarding which modules expose which packages. For example there is a module &quot;org.geotools.tile_client&quot;, but searching that in the repository gets zero hits (so I assume the geotools modules are not handled via config files?).\r\n\r\nThe geotools Javadoc is unfortunately also not helpful, as geotools is not yet using named modules.\r\n\r\nhttps://docs.geotools.org/stable/userguide/tutorial/quickstart/java11.html mentioned using the same requires as the ones declared in my POM, but for my project requireing (gt-shapefile, gt-swing, gt-tile-client, gt-epsg-hsql, gt-grid) this resulted in the error:\r\n\r\n```The project was not built since its build path is incomplete. Cannot find the class file for org.opengis.referencing.crs.CoordinateReferenceSystem. Fix the build path then try building this project```\r\n\r\nThrough digging down through the maven dependencies, I found a few more which I now explicitely require too. This brought me past a few more errors.\r\n\r\n    requires org.geotools.opengis;\r\n    requires org.geotools.referencing;\r\n    requires org.geotools.coverage;\r\n    requires org.geotools.main;\r\n    requires org.geotools.render;\r\n    requires org.geotools.epsg_hsql;\r\n    requires org.geotools.shapefile;\r\n    requires org.geotools.grid;\r\n    requires org.geotools.tile_client;\r\n    requires org.geotools.swing;\r\n    requires org.geotools.http;\r\n\t\r\nHowever, I did find a module which doesnt seem to want to work (gt-cql, dependency of gt-render). requires org.geotools.cql cannot be resolved.\r\n\r\nSo, as asked at the top, how do I discover the correct Java 11 module names for my GeoTools project? And is there a specific hint as to which module I should require in order to get rid of the org.locationtech.jts.geom.Envelope problem?\r\n","title":"How do I discover the correct Java 11 module names for my GeoTools project?","body":"<p>I am trying to convert my application to use Java 11 and the java module system, but am having difficulty discovering which &quot;requires&quot; statements to add to my module-info.java. I am currently getting the error <code>&quot;The project was not built since its build path is incomplete. Cannot find the class file for org.locationtech.jts.geom.Envelope. Fix the build path then try building this project&quot;</code>.</p>\n<p>I have searched through <a href=\"https://github.com/geotools/geotools\" rel=\"nofollow noreferrer\">https://github.com/geotools/geotools</a>, but I cannot find any hints regarding which modules expose which packages. For example there is a module &quot;org.geotools.tile_client&quot;, but searching that in the repository gets zero hits (so I assume the geotools modules are not handled via config files?).</p>\n<p>The geotools Javadoc is unfortunately also not helpful, as geotools is not yet using named modules.</p>\n<p><a href=\"https://docs.geotools.org/stable/userguide/tutorial/quickstart/java11.html\" rel=\"nofollow noreferrer\">https://docs.geotools.org/stable/userguide/tutorial/quickstart/java11.html</a> mentioned using the same requires as the ones declared in my POM, but for my project requireing (gt-shapefile, gt-swing, gt-tile-client, gt-epsg-hsql, gt-grid) this resulted in the error:</p>\n<p><code>The project was not built since its build path is incomplete. Cannot find the class file for org.opengis.referencing.crs.CoordinateReferenceSystem. Fix the build path then try building this project</code></p>\n<p>Through digging down through the maven dependencies, I found a few more which I now explicitely require too. This brought me past a few more errors.</p>\n<pre><code>requires org.geotools.opengis;\nrequires org.geotools.referencing;\nrequires org.geotools.coverage;\nrequires org.geotools.main;\nrequires org.geotools.render;\nrequires org.geotools.epsg_hsql;\nrequires org.geotools.shapefile;\nrequires org.geotools.grid;\nrequires org.geotools.tile_client;\nrequires org.geotools.swing;\nrequires org.geotools.http;\n</code></pre>\n<p>However, I did find a module which doesnt seem to want to work (gt-cql, dependency of gt-render). requires org.geotools.cql cannot be resolved.</p>\n<p>So, as asked at the top, how do I discover the correct Java 11 module names for my GeoTools project? And is there a specific hint as to which module I should require in order to get rid of the org.locationtech.jts.geom.Envelope problem?</p>\n"},{"tags":["java","logging"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672434868,"creation_date":1672434868,"answer_id":74965833,"question_id":74965020,"body_markdown":"I think you misunderstand the purpose of `getHead()` and `getTail()`.\r\n\r\nThose methods are not called per log entry - `getHead()` is called once before the `Handler` (`FileHandler`) logs the first entry and `getTail()` is called once before the `Handler` (`FileHandler`) closes the log stream.\r\n\r\nThis is used for example in the `XMLFormatter` to create a valid XML file (where there must be an XML start tag before the first log entry and an XML end tag after the last log entry to be valid XML).\r\n\r\nIf you look closely at the created log file this is exactly what happens: the log file creates a timestamp at the start and ends with a newline.\r\n\r\n---\r\nNote that adding time stamps to your log entries doesn&#39;t require writing a `CustomFormatter`. Properly configuring a [`SimpleFormatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)) is enough for your purpose.","title":"Java: Logging: Custom Formatter","body":"<p>I think you misunderstand the purpose of <code>getHead()</code> and <code>getTail()</code>.</p>\n<p>Those methods are not called per log entry - <code>getHead()</code> is called once before the <code>Handler</code> (<code>FileHandler</code>) logs the first entry and <code>getTail()</code> is called once before the <code>Handler</code> (<code>FileHandler</code>) closes the log stream.</p>\n<p>This is used for example in the <code>XMLFormatter</code> to create a valid XML file (where there must be an XML start tag before the first log entry and an XML end tag after the last log entry to be valid XML).</p>\n<p>If you look closely at the created log file this is exactly what happens: the log file creates a timestamp at the start and ends with a newline.</p>\n<hr />\n<p>Note that adding time stamps to your log entries doesn't require writing a <code>CustomFormatter</code>. Properly configuring a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)\" rel=\"nofollow noreferrer\"><code>SimpleFormatter</code></a> is enough for your purpose.</p>\n"}],"owner":{"account_id":12866531,"reputation":561,"user_id":9306620,"display_name":"SoftwareDveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74965833,"answer_count":1,"score":0,"last_activity_date":1672434868,"creation_date":1672427422,"question_id":74965020,"body_markdown":"I wrote a simple Custom Formatter for my logging that prints a DateTime in the specified format. Everything works fine, but the datetime doesn&#39;t get printed in my log file. Below is my CustomFormatter.java:\r\n\r\nCustomFormatter.java:\r\n\r\n    public class CustomFormatter extends Formatter {\r\n    \r\n                    SimpleDateFormat sdf;\r\n    \r\n                    public CustomFormatter() {\r\n                            sdf = new SimpleDateFormat(&quot;MM-dd-yyyy HH:mm:ss&quot;);\r\n                    }\r\n    \r\n                    public String format(LogRecord rec) {\r\n                            StringBuffer buf = new StringBuffer(1000);\r\n                            buf.append(formatMessage(rec));\r\n                            return buf.toString();\r\n                    }\r\n    \r\n                    public String getHead(Handler h) {\r\n                            return (sdf.format(new java.util.Date()) + &quot;: \\t&quot;);\r\n                    }\r\n    \r\n                    public String getTail(Handler h) {\r\n                            return &quot;\\n&quot;;\r\n                    }\r\n            }\r\n\r\nIm my main class, I initialize my logger as:\r\n\r\nMain.java:\r\n\r\n    private static Logger logger = Logger.getLogger(&quot;org.somecompany.someproject&quot;);\r\n    \r\n    public static void main(String[] args){\r\n        try{\r\n            String _pattern = &quot;myLogger.log.%g&quot;;\r\n            int numLogFiles = 10;\r\n            int fileSize = 1000000;\r\n            boolean appendToFile = true;\r\n            FileHandler fh = new FileHandler(pattern, fileSize, numLogFiles, appendToFile);\r\n    \r\n            fh.setFormatter(new CustomFormatter());\r\n            logger.addHandler(fh);\r\n            logger.setLevel(Level.ALL);\r\n        } catch(IOException i) { System.out.println(&quot;Unable to init logger&quot;);}\r\n    \r\n        logger.info(&quot;Begin&quot;);\r\n    \r\n        logger.info(&quot;Line 1&quot;);\r\n    \r\n        logger.info(&quot;Line 2&quot;);\r\n    \r\n        logger.info(&quot;End&quot;);\r\n    \r\n        fh.close();\r\n        fh = null;\r\n    }\r\n\r\nThe log file should have a datetime printed at the beginning of each line and it isn&#39;t. Any help is appreciated.\r\n","title":"Java: Logging: Custom Formatter","body":"<p>I wrote a simple Custom Formatter for my logging that prints a DateTime in the specified format. Everything works fine, but the datetime doesn't get printed in my log file. Below is my CustomFormatter.java:</p>\n<p>CustomFormatter.java:</p>\n<pre><code>public class CustomFormatter extends Formatter {\n\n                SimpleDateFormat sdf;\n\n                public CustomFormatter() {\n                        sdf = new SimpleDateFormat(&quot;MM-dd-yyyy HH:mm:ss&quot;);\n                }\n\n                public String format(LogRecord rec) {\n                        StringBuffer buf = new StringBuffer(1000);\n                        buf.append(formatMessage(rec));\n                        return buf.toString();\n                }\n\n                public String getHead(Handler h) {\n                        return (sdf.format(new java.util.Date()) + &quot;: \\t&quot;);\n                }\n\n                public String getTail(Handler h) {\n                        return &quot;\\n&quot;;\n                }\n        }\n</code></pre>\n<p>Im my main class, I initialize my logger as:</p>\n<p>Main.java:</p>\n<pre><code>private static Logger logger = Logger.getLogger(&quot;org.somecompany.someproject&quot;);\n\npublic static void main(String[] args){\n    try{\n        String _pattern = &quot;myLogger.log.%g&quot;;\n        int numLogFiles = 10;\n        int fileSize = 1000000;\n        boolean appendToFile = true;\n        FileHandler fh = new FileHandler(pattern, fileSize, numLogFiles, appendToFile);\n\n        fh.setFormatter(new CustomFormatter());\n        logger.addHandler(fh);\n        logger.setLevel(Level.ALL);\n    } catch(IOException i) { System.out.println(&quot;Unable to init logger&quot;);}\n\n    logger.info(&quot;Begin&quot;);\n\n    logger.info(&quot;Line 1&quot;);\n\n    logger.info(&quot;Line 2&quot;);\n\n    logger.info(&quot;End&quot;);\n\n    fh.close();\n    fh = null;\n}\n</code></pre>\n<p>The log file should have a datetime printed at the beginning of each line and it isn't. Any help is appreciated.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":27383852,"reputation":1,"user_id":20888057,"display_name":"SUSHI Y"},"score":0,"creation_date":1672334825,"post_id":74953033,"comment_id":132270750,"body_markdown":"My firebase\nUser\n--uid\n---User Information\n-----name\n-----usertype","body":"My firebase User --uid ---User Information -----name -----usertype"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1672335528,"post_id":74953033,"comment_id":132270943,"body_markdown":"I&#39;m not sure what you mean with that comment @SUSHIY. Did you try the change I proposed in my answer? Is there any error message?","body":"I&#39;m not sure what you mean with that comment @SUSHIY. Did you try the change I proposed in my answer? Is there any error message?"},{"owner":{"account_id":27383852,"reputation":1,"user_id":20888057,"display_name":"SUSHI Y"},"score":0,"creation_date":1672386540,"post_id":74953033,"comment_id":132279605,"body_markdown":"if(dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;admin&quot;)){\n ....\n}\nelse if (dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;users&quot;)) {\n....\n}\nThis is my code, if i use your solution there is an error","body":"if(dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equ&zwnj;&#8203;als(&quot;admin&quot;)){  .... } else if (dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equal&zwnj;&#8203;s(&quot;users&quot;)) { .... } This is my code, if i use your solution there is an error"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1672415420,"post_id":74953033,"comment_id":132286533,"body_markdown":"First off: did my answer make sense? I.e. could it indeed be that no node exists for the current user? And does it make sense how that would then lead to the code in your question not working, and how the code in my answer work address that?","body":"First off: did my answer make sense? I.e. could it indeed be that no node exists for the current user? And does it make sense how that would then lead to the code in your question not working, and how the code in my answer work address that?"}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672327878,"creation_date":1672327878,"answer_id":74953033,"question_id":74952926,"body_markdown":"It looks like there is no node for the UID or that node doesn&#39;t have a string property `userType`. \r\n\r\nYour code should probably handle the absence of the node for the user with:\r\n```\r\npublic void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n    if (!dataSnapshot.exists()) throw new IllegalStateException(&quot;User &quot;+uid+&quot; not found in database&quot;);\r\n    ...\r\n}\r\n```\r\n\r\nIt could also be that the UID node exists, but doesn&#39;t have a `userType`. I recommend actually validating that a user node always has a `userType` in [security rules to validate data](https://firebase.google.com/docs/database/security/rules-conditions#validaterules).","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference","body":"<p>It looks like there is no node for the UID or that node doesn't have a string property <code>userType</code>.</p>\n<p>Your code should probably handle the absence of the node for the user with:</p>\n<pre><code>public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n    if (!dataSnapshot.exists()) throw new IllegalStateException(&quot;User &quot;+uid+&quot; not found in database&quot;);\n    ...\n}\n</code></pre>\n<p>It could also be that the UID node exists, but doesn't have a <code>userType</code>. I recommend actually validating that a user node always has a <code>userType</code> in <a href=\"https://firebase.google.com/docs/database/security/rules-conditions#validaterules\" rel=\"nofollow noreferrer\">security rules to validate data</a>.</p>\n"}],"owner":{"account_id":27383852,"reputation":1,"user_id":20888057,"display_name":"SUSHI Y"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672669160,"answer_count":1,"score":-1,"last_activity_date":1672434785,"creation_date":1672327276,"question_id":74952926,"body_markdown":"```\r\nprivate void LoginUser(final String email,final String password) {\r\n    mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(task -&gt; {\r\n        if (task.isSuccessful()) {\r\n            String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n            DatabaseReference mRootRef = FirebaseDatabase.getInstance(&quot;https://fyp2-darren-default-rtdb.asia-southeast1.firebasedatabase.app&quot;).getReference();\r\n            mRootRef.child(&quot;Users&quot;).child(uid).child(&quot;User Information&quot;).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    if(dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;admin&quot;)) {\r\n                        Toast.makeText(LogInActivity.this, &quot;LogIn successful&quot;, Toast.LENGTH_LONG).show();\r\n                        Intent intent = new Intent(LogInActivity.this, AdminMainPageActivity.class);\r\n                        startActivity(new Intent(getApplicationContext(), AdminMainPageActivity.class));\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK |Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        startActivity(intent);\r\n\r\n                    } else if (dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;users&quot;)) {\r\n                        Toast.makeText(LogInActivity.this, &quot;LogIn successful&quot;, Toast.LENGTH_LONG).show();\r\n                        Intent intent = new Intent(LogInActivity.this, HomePage.class);\r\n                        startActivity(new Intent(getApplicationContext(), AdminMainPageActivity.class));\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK |Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        startActivity(intent);\r\n                        // startActivity(new Intent(getApplicationContext(), PatientMainPageActivity.class));\r\n                    }\r\n\r\n                }\r\n```\r\n\r\nLogInActivity$2.onDataChange(LogInActivity.java:86)\r\n\r\nA few days ago this login still worked, but recently I tried to login with a new account and this happened. ","title":"java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.equals(java.lang.Object)&#39; on a null object reference","body":"<pre><code>private void LoginUser(final String email,final String password) {\n    mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(task -&gt; {\n        if (task.isSuccessful()) {\n            String uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n            DatabaseReference mRootRef = FirebaseDatabase.getInstance(&quot;https://fyp2-darren-default-rtdb.asia-southeast1.firebasedatabase.app&quot;).getReference();\n            mRootRef.child(&quot;Users&quot;).child(uid).child(&quot;User Information&quot;).addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    if(dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;admin&quot;)) {\n                        Toast.makeText(LogInActivity.this, &quot;LogIn successful&quot;, Toast.LENGTH_LONG).show();\n                        Intent intent = new Intent(LogInActivity.this, AdminMainPageActivity.class);\n                        startActivity(new Intent(getApplicationContext(), AdminMainPageActivity.class));\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK |Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                        startActivity(intent);\n\n                    } else if (dataSnapshot.child(&quot;userType&quot;).getValue(String.class).equals(&quot;users&quot;)) {\n                        Toast.makeText(LogInActivity.this, &quot;LogIn successful&quot;, Toast.LENGTH_LONG).show();\n                        Intent intent = new Intent(LogInActivity.this, HomePage.class);\n                        startActivity(new Intent(getApplicationContext(), AdminMainPageActivity.class));\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK |Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                        startActivity(intent);\n                        // startActivity(new Intent(getApplicationContext(), PatientMainPageActivity.class));\n                    }\n\n                }\n</code></pre>\n<p>LogInActivity$2.onDataChange(LogInActivity.java:86)</p>\n<p>A few days ago this login still worked, but recently I tried to login with a new account and this happened.</p>\n"},{"tags":["java","maven","dependencies","properties-file"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1672435346,"post_id":74965824,"comment_id":132291082,"body_markdown":"Simple answer: No. You can only remove a dependency but not files which are within the dependency. I would argue that the dependency is the problem having property files in it... makes no sense.. and in particular if those are spring boot releated which looks a bit like that...","body":"Simple answer: No. You can only remove a dependency but not files which are within the dependency. I would argue that the dependency is the problem having property files in it... makes no sense.. and in particular if those are spring boot releated which looks a bit like that..."},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1672435444,"post_id":74965824,"comment_id":132291098,"body_markdown":"Please clarify the question! Maven dependencies and the application.properties file in the resources are two separate things.","body":"Please clarify the question! Maven dependencies and the application.properties file in the resources are two separate things."},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1672438592,"post_id":74965824,"comment_id":132291622,"body_markdown":"The application.properties are quarkus related. The problem is, i can remove that part but the dependency includes classes which access hibernate components, meaning they will still need some application.properties config for hibernate or otherwise it wont compile correctly so it can be included in another maven project. I am starting to regret using Java and Maven for this project at this point, lol.","body":"The application.properties are quarkus related. The problem is, i can remove that part but the dependency includes classes which access hibernate components, meaning they will still need some application.properties config for hibernate or otherwise it wont compile correctly so it can be included in another maven project. I am starting to regret using Java and Maven for this project at this point, lol."},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1672438766,"post_id":74965824,"comment_id":132291651,"body_markdown":"@Csisanyi One maven dependency has an application.properties file, and it ends up in the main projects uber-jar, overwriting the main application.properties fiel for some reason. I don&#39;t understand why a dependency&#39;s properties file would have higher priority than the main project ones. The main project ones will contain the configs necessary, but i cant compile the dependency without an application.properties due to it containing hibernate interfacing classes and it wont compile hibernate stuff if it is not configured (it warns that hibernate is ignored during compile).","body":"@Csisanyi One maven dependency has an application.properties file, and it ends up in the main projects uber-jar, overwriting the main application.properties fiel for some reason. I don&#39;t understand why a dependency&#39;s properties file would have higher priority than the main project ones. The main project ones will contain the configs necessary, but i cant compile the dependency without an application.properties due to it containing hibernate interfacing classes and it wont compile hibernate stuff if it is not configured (it warns that hibernate is ignored during compile)."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1672493939,"post_id":74965824,"comment_id":132298370,"body_markdown":"Depends on how you create the uber jar. Maven Assembly Plugin may cause such issues.","body":"Depends on how you create the uber jar. Maven Assembly Plugin may cause such issues."}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672434743,"creation_date":1672434743,"question_id":74965824,"body_markdown":"I have a maven project that includes a dependency of a local custom maven repository. However, there are files in it i do not want in my main project because they seem to override configs in the main project for some odd reason (application.properties). How can i exclude files (specifically application.properties) from a maven dependency?","title":"How can i exclude certain files from a maven dependency?","body":"<p>I have a maven project that includes a dependency of a local custom maven repository. However, there are files in it i do not want in my main project because they seem to override configs in the main project for some odd reason (application.properties). How can i exclude files (specifically application.properties) from a maven dependency?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":20513250,"reputation":11,"user_id":20846747,"display_name":"Randall Stephens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672434185,"creation_date":1672415325,"answer_id":74963376,"question_id":74899268,"body_markdown":"I found the solution by myself\r\n\r\nMy mistake was to use the method name **securityFilterChain** twice.\r\n\r\nChanging the method names from **securityFilterChain** to **admin** and **allOther** did the trick\r\n\r\n**MY SOLUTION**\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class MySecurityConfig {\r\n\r\n      final AdminEnvironmentProperties adminEnvironmentProperties;\r\n\r\n      public AppConfiguration(AdminEnvironmentProperties adminEnvironmentProperties) {\r\n        this.adminEnvironmentProperties = adminEnvironmentProperties;\r\n      }\r\n\r\n      @Bean\r\n      public LogoutSuccessHandler logoutSuccessHandler() {\r\n        return new AdminLogoutSuccessHandler();\r\n      }\r\n\r\n      @Bean\r\n      public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\r\n        authenticationManagerBuilder.inMemoryAuthentication().withUser(&quot;Admin&quot;).password(&quot;changeme&quot;).authorities(this.adminEnvironmentProperties.getAllowGroup());\r\n\r\n        return authenticationManagerBuilder.build();\r\n      }\r\n\r\n      @Bean\r\n      @Order(1)\r\n      public SecurityFilterChain admin(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf().disable()\r\n            .antMatcher(&quot;/admin/**&quot;)\r\n            .authorizeRequests()\r\n              .antMatchers(&quot;/admin/**&quot;).hasAuthority(this.adminEnvironmentProperties.getAllowGroup())\r\n              .and()\r\n            .formLogin()\r\n              .loginPage(&quot;/admin/login&quot;).permitAll()\r\n              .and()\r\n            .logout().permitAll()\r\n              .logoutSuccessHandler(this.logoutSuccessHandler());\r\n\r\n        return http.build();\r\n      }\r\n\r\n      @Bean\r\n      @Order(2)\r\n      public SecurityFilterChain allOther(HttpSecurity http) throws Exception {\r\n\r\n        http.csrf().disable()\r\n            .antMatcher(&quot;/**&quot;)\r\n              .authorizeRequests()\r\n              .antMatchers(&quot;/actuator&quot;).authenticated()\r\n            .and().httpBasic();\r\n\r\n        return http.build();\r\n      }\r\n    }","title":"SpringBoot: Two Login Pages with Spring Security","body":"<p>I found the solution by myself</p>\n<p>My mistake was to use the method name <strong>securityFilterChain</strong> twice.</p>\n<p>Changing the method names from <strong>securityFilterChain</strong> to <strong>admin</strong> and <strong>allOther</strong> did the trick</p>\n<p><strong>MY SOLUTION</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MySecurityConfig {\n\n  final AdminEnvironmentProperties adminEnvironmentProperties;\n\n  public AppConfiguration(AdminEnvironmentProperties adminEnvironmentProperties) {\n    this.adminEnvironmentProperties = adminEnvironmentProperties;\n  }\n\n  @Bean\n  public LogoutSuccessHandler logoutSuccessHandler() {\n    return new AdminLogoutSuccessHandler();\n  }\n\n  @Bean\n  public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n    AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n\n    authenticationManagerBuilder.inMemoryAuthentication().withUser(&quot;Admin&quot;).password(&quot;changeme&quot;).authorities(this.adminEnvironmentProperties.getAllowGroup());\n\n    return authenticationManagerBuilder.build();\n  }\n\n  @Bean\n  @Order(1)\n  public SecurityFilterChain admin(HttpSecurity http) throws Exception {\n\n    http.csrf().disable()\n        .antMatcher(&quot;/admin/**&quot;)\n        .authorizeRequests()\n          .antMatchers(&quot;/admin/**&quot;).hasAuthority(this.adminEnvironmentProperties.getAllowGroup())\n          .and()\n        .formLogin()\n          .loginPage(&quot;/admin/login&quot;).permitAll()\n          .and()\n        .logout().permitAll()\n          .logoutSuccessHandler(this.logoutSuccessHandler());\n\n    return http.build();\n  }\n\n  @Bean\n  @Order(2)\n  public SecurityFilterChain allOther(HttpSecurity http) throws Exception {\n\n    http.csrf().disable()\n        .antMatcher(&quot;/**&quot;)\n          .authorizeRequests()\n          .antMatchers(&quot;/actuator&quot;).authenticated()\n        .and().httpBasic();\n\n    return http.build();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20513250,"reputation":11,"user_id":20846747,"display_name":"Randall Stephens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74963376,"answer_count":1,"score":1,"last_activity_date":1672434185,"creation_date":1671795911,"question_id":74899268,"body_markdown":"I want configure Spring Security to work with two different login pages for some pages\r\n\r\n**The goal is:**\r\n\r\n* /admin should use a **custom** login page\r\n* /actuator should use the **standard** spring login page\r\n* all other (like /api or so) are permitted **without** login\r\n\r\n**My problem is:**\r\n\r\nMy solution does not work.\r\n\r\nAll /admin pages and the /actuator page are accessable without login\r\n\r\nHere is my SecurityConfig\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class MySecurityConfig {\r\n\r\n  @Configuration\r\n  @Order(1)\r\n  public static class AdminAppConfiguration {\r\n\r\n    final AdminEnvironmentProperties adminEnvironmentProperties;\r\n\r\n    public AppConfiguration(AdminEnvironmentProperties adminEnvironmentProperties) {\r\n      this.adminEnvironmentProperties = adminEnvironmentProperties;\r\n    }\r\n\r\n    @Bean\r\n    public LogoutSuccessHandler logoutSuccessHandler() {\r\n      return new AdminLogoutSuccessHandler();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n      AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\r\n      authenticationManagerBuilder.inMemoryAuthentication().withUser(&quot;Admin&quot;).password(&quot;changeme&quot;).authorities(this.adminEnvironmentProperties.getAllowGroup());\r\n\r\n      return authenticationManagerBuilder.build();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n      http.antMatcher(&quot;/admin*&quot;)\r\n          .authorizeRequests()\r\n          .anyRequest()\r\n          .hasAuthority(this.adminEnvironmentProperties.getAllowGroup())\r\n          .and()\r\n            .formLogin()\r\n            .loginPage(&quot;/admin/login&quot;)\r\n            .permitAll()\r\n          .and()\r\n            .logout()\r\n            .permitAll()\r\n            .logoutSuccessHandler(this.logoutSuccessHandler())\r\n          .and()\r\n            .csrf().disable();\r\n\r\n      return http.build();\r\n    }\r\n  }\r\n\r\n  @Configuration\r\n  @Order(2)\r\n  public static class OtherAppConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n      http.csrf().disable()\r\n          .authorizeRequests()\r\n          .antMatchers(&quot;/actuator&quot;).authenticated()\r\n          .anyRequest().permitAll()\r\n          .and().httpBasic();\r\n\r\n      return http.build();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nHow can i fix that, so that all pages behind /admin get the custom login page, /actuator gets the standard login page and all others (like /api/\\*\\* or so) are permitted without login page","title":"SpringBoot: Two Login Pages with Spring Security","body":"<p>I want configure Spring Security to work with two different login pages for some pages</p>\n<p><strong>The goal is:</strong></p>\n<ul>\n<li>/admin should use a <strong>custom</strong> login page</li>\n<li>/actuator should use the <strong>standard</strong> spring login page</li>\n<li>all other (like /api or so) are permitted <strong>without</strong> login</li>\n</ul>\n<p><strong>My problem is:</strong></p>\n<p>My solution does not work.</p>\n<p>All /admin pages and the /actuator page are accessable without login</p>\n<p>Here is my SecurityConfig</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MySecurityConfig {\n\n  @Configuration\n  @Order(1)\n  public static class AdminAppConfiguration {\n\n    final AdminEnvironmentProperties adminEnvironmentProperties;\n\n    public AppConfiguration(AdminEnvironmentProperties adminEnvironmentProperties) {\n      this.adminEnvironmentProperties = adminEnvironmentProperties;\n    }\n\n    @Bean\n    public LogoutSuccessHandler logoutSuccessHandler() {\n      return new AdminLogoutSuccessHandler();\n    }\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n      AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n\n      authenticationManagerBuilder.inMemoryAuthentication().withUser(&quot;Admin&quot;).password(&quot;changeme&quot;).authorities(this.adminEnvironmentProperties.getAllowGroup());\n\n      return authenticationManagerBuilder.build();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n      http.antMatcher(&quot;/admin*&quot;)\n          .authorizeRequests()\n          .anyRequest()\n          .hasAuthority(this.adminEnvironmentProperties.getAllowGroup())\n          .and()\n            .formLogin()\n            .loginPage(&quot;/admin/login&quot;)\n            .permitAll()\n          .and()\n            .logout()\n            .permitAll()\n            .logoutSuccessHandler(this.logoutSuccessHandler())\n          .and()\n            .csrf().disable();\n\n      return http.build();\n    }\n  }\n\n  @Configuration\n  @Order(2)\n  public static class OtherAppConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n      http.csrf().disable()\n          .authorizeRequests()\n          .antMatchers(&quot;/actuator&quot;).authenticated()\n          .anyRequest().permitAll()\n          .and().httpBasic();\n\n      return http.build();\n    }\n  }\n}\n</code></pre>\n<p>How can i fix that, so that all pages behind /admin get the custom login page, /actuator gets the standard login page and all others (like /api/** or so) are permitted without login page</p>\n"},{"tags":["java","intellij-idea","aspectj"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1672380105,"post_id":74957287,"comment_id":132278629,"body_markdown":"Try to delete the `disabled_plugins.txt` file from the configuration directory: https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory while the IDE is closed. If the problem remains contact JetBrains support at https://intellij-support.jetbrains.com/hc/en-us/requests/new for future assistance.","body":"Try to delete the <code>disabled_plugins.txt</code> file from the configuration directory: <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#config-directory\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> while the IDE is closed. If the problem remains contact JetBrains support at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> for future assistance."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672384613,"post_id":74957287,"comment_id":132279273,"body_markdown":"What exactly tells you that AspectJ is not supported or popular anymore? The latest AspectJ version 1.9.19 supports Java 19 preview features, and AspectJ is used stand-alone as well as within the Spring framework for both basic Spring AOP pointcut parsing/matching and advanced use cases with native AspectJ (e.g. call or control flow matching, intercepting non-Spring code, intercepting private methods or field read/write access).","body":"What exactly tells you that AspectJ is not supported or popular anymore? The latest AspectJ version 1.9.19 supports Java 19 preview features, and AspectJ is used stand-alone as well as within the Spring framework for both basic Spring AOP pointcut parsing/matching and advanced use cases with native AspectJ (e.g. call or control flow matching, intercepting non-Spring code, intercepting private methods or field read/write access)."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1672384616,"post_id":74957287,"comment_id":132279274,"body_markdown":"That you have problems getting it to work in IntelliJ IDEA, does not mean it is unsupported. I use it in IDEA 2022.3.1 every day. Your opinionated entry statement does not make you a lot of friends here.","body":"That you have problems getting it to work in IntelliJ IDEA, does not mean it is unsupported. I use it in IDEA 2022.3.1 every day. Your opinionated entry statement does not make you a lot of friends here."},{"owner":{"account_id":12108874,"reputation":173,"user_id":10799096,"display_name":"ioi-xd"},"score":0,"creation_date":1672434102,"post_id":74957287,"comment_id":132290870,"body_markdown":"I have removed the entry statement.","body":"I have removed the entry statement."}],"owner":{"account_id":12108874,"reputation":173,"user_id":10799096,"display_name":"ioi-xd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672434091,"creation_date":1672361675,"question_id":74957287,"body_markdown":"I&#39;m building a Minecraft plugin that passes the functions to a Lua interpreter, and after exploring all other options for doing hooks without manually writing everything (i.e. using a built in function from Spigot that lets me easily intercept every event handler; I am not able to use arguments with this, making it worthless for my case) I&#39;ve discovered my best option is AspectJ.\r\n\r\nI installed the latest version of IntelliJ, then installed the [relevant plugin](https://plugins.jetbrains.com/plugin/4679-aspectj) and followed the instruction to &quot;add a library containing aspectjrt.jar to my project&quot; (I added org.aspectj:aspectjrt:1.9.19 through build.gradle, and added &#39;include &#39;aspectjrt:1.9.19&#39;&#39; to my settings.gradle). It also says to add a facet, but I can&#39;t do that due to the error &quot;Requires plugin &#39;com.intellij.aop&#39; to be installed.&quot; I can&#39;t find any reference to a dedicated AOP plugin for IntelliJ, in fact I&#39;m told the AspectJ plugin is supposed to add support for it. There seems to be no other reference to this error online.\r\n\r\nWhat am I doing wrong?","title":"Intellij 2022.3.1 won&#39;t load the AspectJ plugin","body":"<p>I'm building a Minecraft plugin that passes the functions to a Lua interpreter, and after exploring all other options for doing hooks without manually writing everything (i.e. using a built in function from Spigot that lets me easily intercept every event handler; I am not able to use arguments with this, making it worthless for my case) I've discovered my best option is AspectJ.</p>\n<p>I installed the latest version of IntelliJ, then installed the <a href=\"https://plugins.jetbrains.com/plugin/4679-aspectj\" rel=\"nofollow noreferrer\">relevant plugin</a> and followed the instruction to &quot;add a library containing aspectjrt.jar to my project&quot; (I added org.aspectj:aspectjrt:1.9.19 through build.gradle, and added 'include 'aspectjrt:1.9.19'' to my settings.gradle). It also says to add a facet, but I can't do that due to the error &quot;Requires plugin 'com.intellij.aop' to be installed.&quot; I can't find any reference to a dedicated AOP plugin for IntelliJ, in fact I'm told the AspectJ plugin is supposed to add support for it. There seems to be no other reference to this error online.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":0,"creation_date":1453286322,"post_id":34897670,"comment_id":57531802,"body_markdown":"Which  Symbol  Cannot Resolve ?","body":"Which  Symbol  Cannot Resolve ?"},{"owner":{"account_id":7657514,"reputation":199,"user_id":5803815,"display_name":"Kunal Parte"},"score":0,"creation_date":1453286880,"post_id":34897670,"comment_id":57532217,"body_markdown":"Response response - cannot be resolved","body":"Response response - cannot be resolved"}],"answers":[{"tags":[],"owner":{"account_id":7657514,"reputation":199,"user_id":5803815,"display_name":"Kunal Parte"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453297892,"creation_date":1453296509,"answer_id":34901384,"question_id":34897670,"body_markdown":"I have solved my error. The problem was I am importing wrong response.\r\n","title":"Cannot Resolve Symbol &quot;response&quot; error in android","body":"<p>I have solved my error. The problem was I am importing wrong response.</p>\n"}],"owner":{"account_id":7657514,"reputation":199,"user_id":5803815,"display_name":"Kunal Parte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672432796,"creation_date":1453286247,"question_id":34897670,"body_markdown":"i have included the retrofit dependency in my project but still i m getting error on response object.\r\nhere is my code:\r\n\r\n    public void jsontesting() {\r\n\r\n    RestAdapter restAdapter = (RestAdapter) new RestAdapter.Builder().setEndpoint(&quot;http://app-development.in/doctor_app_cms/doctor_rest/v1/doctors_listing?id=10&quot;).build();\r\n        final LatlngAPI get = restAdapter.create(LatlngAPI.class);\r\n        get.get_doctor(new retrofit.Callback&lt;CustomeAdapter&gt;()) {\r\n    \r\n          @Override\r\n          public void success(CustomeAdapter res, Response response) {\r\n            if (!res.getError()) {\r\n    //                    dismiss_dialog();\r\n    \r\n            } else {\r\n                        /*Toast.makeText(LoginActivity.this, R.string.retrofit_error,\r\n                                Toast.LENGTH_SHORT).show();*/\r\n            }\r\n          }\r\n    \r\n          @Override\r\n          public void failure(RetrofitError error) {\r\n    //                dismiss_dialog();\r\n            Log.d(&quot;Error&quot;, error.toString());\r\n                    /*Toast.makeText(LoginActivity.this, R.string.retrofit_error,\r\n                            Toast.LENGTH_SHORT).show();*/\r\n          }\r\n        });\r\n      }","title":"Cannot Resolve Symbol &quot;response&quot; error in android","body":"<p>i have included the retrofit dependency in my project but still i m getting error on response object.\nhere is my code:</p>\n\n<pre><code>public void jsontesting() {\n\nRestAdapter restAdapter = (RestAdapter) new RestAdapter.Builder().setEndpoint(\"http://app-development.in/doctor_app_cms/doctor_rest/v1/doctors_listing?id=10\").build();\n    final LatlngAPI get = restAdapter.create(LatlngAPI.class);\n    get.get_doctor(new retrofit.Callback&lt;CustomeAdapter&gt;()) {\n\n      @Override\n      public void success(CustomeAdapter res, Response response) {\n        if (!res.getError()) {\n//                    dismiss_dialog();\n\n        } else {\n                    /*Toast.makeText(LoginActivity.this, R.string.retrofit_error,\n                            Toast.LENGTH_SHORT).show();*/\n        }\n      }\n\n      @Override\n      public void failure(RetrofitError error) {\n//                dismiss_dialog();\n        Log.d(\"Error\", error.toString());\n                /*Toast.makeText(LoginActivity.this, R.string.retrofit_error,\n                        Toast.LENGTH_SHORT).show();*/\n      }\n    });\n  }\n</code></pre>\n"},{"tags":["java","sockets","udp","qudpsocket"],"owner":{"account_id":23208577,"reputation":1,"user_id":17302417,"display_name":"abdessalam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672432771,"creation_date":1672432771,"question_id":74965635,"body_markdown":"I work on a project to make a chat app using udp (datagramsockets) in java.\r\nthe idea is multiple clients can communicate with each other with intermediate a server, server here get message from client1 and send to the destination, and this destination can answer to client1.\r\nso each client can write messages and recieve messages without having none block.\r\nTHREAD SEND:\r\n\r\n```\r\npackage org.example.Client;\r\n\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.SocketException;\r\nimport java.util.Scanner;\r\n\r\npublic class Send extends Thread{\r\n    DatagramSocket datagramSocket;\r\n    Scanner clavier = new Scanner(System.in);\r\n    Client client;\r\n    String operation;\r\n    public Send(DatagramSocket socket, Client client,String operation){\r\n        this.datagramSocket = socket;\r\n        this.client = client;\r\n        this.operation = operation;\r\n    }\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Send ... &quot;);\r\n        String msg=null;\r\n        byte[] tampon;\r\n\r\n            System.out.println(&quot;DESTINATAIRE : &quot;);\r\n            String destinataire = clavier.nextLine();\r\n            do {\r\n                tampon = new byte[1024];\r\n                msg = clavier.nextLine();\r\n                try {\r\n                    tampon =(operation+&quot;|&quot;+destinataire+&quot;|&quot;+client.username+&quot;|&quot;+msg).getBytes();\r\n                    DatagramPacket packet = new DatagramPacket(tampon,tampon.length, InetAddress.getByName(&quot;localhost&quot;),1234);\r\n                    datagramSocket.send(packet);\r\n                    System.out.println(&quot;SEND ....&quot;);\r\n                    //datagramSocket.close();\r\n                } catch (Exception e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }while(msg!=null);\r\n    }\r\n}\r\n\r\n```\r\nThread recieve:\r\n\r\n```\r\npackage org.example.Client;\r\n\r\nimport java.io.IOException;\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\n\r\npublic class Recieve extends Thread{\r\n    DatagramSocket datagramSocket;\r\n\r\n    public Recieve(DatagramSocket socket){\r\n        this.datagramSocket=socket;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Recieve ...,&quot;);\r\n        while (true){\r\n            byte[] tampon = new byte[1024];\r\n            DatagramPacket packet = new DatagramPacket(tampon,tampon.length);\r\n            try {\r\n                datagramSocket.receive(packet);\r\n                System.out.println(&quot;RECIEVE .....&quot;);\r\n                System.out.println(&quot;REcieve || &quot;+packet.getPort()+ &quot; || &quot;+new String(packet.getData()));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nClient:\r\n\r\n```\r\npackage org.example.Client;\r\n\r\nimport org.example.ConnexionDb.ConnexionDb;\r\nimport org.example.GUI.ConnexionForm;\r\n\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.SocketException;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n    String username;\r\n    public DatagramSocket datagramSocket;\r\n\r\n    public Client(String username){\r\n        this.username = username;\r\n        try {\r\n            datagramSocket = new DatagramSocket();\r\n        } catch (SocketException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        Scanner clavier = new Scanner(System.in);\r\n        //new ConnexionForm();\r\n        System.out.println(&quot;Connexion Nouveau Utilisateur: &quot;);\r\n\r\n        //Connection &#224; la base de donn&#233;es:\r\n        ConnexionDb connexionDb = new ConnexionDb();\r\n        boolean isConnected = false;\r\n        while (!isConnected){\r\n            System.out.println(&quot;Username: &quot;);\r\n            String username = clavier.nextLine();\r\n            System.out.println(&quot;Password: &quot;);\r\n            String password = clavier.nextLine();\r\n            if(connexionDb.connexionUtilisateur(username,password)==1){\r\n                System.out.println(&quot;Connexion avec succ&#233;&quot;);\r\n                Client client = new Client(username);\r\n                DatagramSocket socket = new DatagramSocket();\r\n                byte[] tampon = (&quot;1|&quot;+client.username).getBytes();\r\n                DatagramPacket packet = new DatagramPacket(tampon,tampon.length, InetAddress.getByName(&quot;localhost&quot;),1234);\r\n                socket.send(packet);\r\n                socket.close();\r\n                System.out.println(&quot;1- Envoyer un message\\n&quot; +\r\n                        &quot;2- Les utilisateurs connect&#233;s&quot;);\r\n\r\n                String choix = clavier.nextLine();\r\n                isConnected = true;\r\n                switch (choix){\r\n                    case &quot;1&quot;:\r\n                        //Client client = new Client(username);\r\n                        //DatagramSocket socket = new DatagramSocket();\r\n                        Send send = new Send(client.datagramSocket, client,&quot;2&quot;);\r\n                        send.start();\r\n                        Recieve recieve = new Recieve(client.datagramSocket);\r\n                        recieve.start();\r\n                        break;\r\n                    case &quot;2&quot;:\r\n                        break;\r\n\r\n                }\r\n            }\r\n            else {\r\n                System.out.println(&quot;V&#233;rifier vos informations et r&#233;assayer.&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nServer:\r\n\r\n```\r\npackage org.example.Serveur;\r\n\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.SocketException;\r\nimport java.util.ArrayList;\r\n\r\npublic class Serveur extends Thread{\r\n    DatagramSocket datagramSocketClient;\r\n    DatagramSocket datagramSocketServer;\r\n    int port;\r\n    byte[] tampon;\r\n    ArrayList&lt;ConnectedUsers&gt; connectedUsers = new ArrayList&lt;&gt;();\r\n\r\n    public Serveur(int port){\r\n        this.port = port;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        System.out.println(&quot;Serveur ... &quot;);\r\n        while(true){\r\n            try {\r\n                datagramSocketServer = new DatagramSocket(port);\r\n                tampon = new byte[1024];\r\n                DatagramPacket packet = new DatagramPacket(tampon, tampon.length);\r\n                datagramSocketServer.receive(packet);\r\n                System.out.println(&quot;Message recu : &quot; + packet.getPort() + &quot; || &quot; + new String(packet.getData()));\r\n                datagramSocketServer.close();\r\n                String[] recieved = (new String(packet.getData(),0,tampon.length).trim()).split(&quot;[|]&quot;);\r\n                System.out.println(&quot;apres close: &quot; + packet.getPort());\r\n                datagramSocketClient = new DatagramSocket();\r\n                InetAddress inetAddress = InetAddress.getByName(&quot;localhost&quot;);\r\n                switch (recieved[0]){\r\n                    case &quot;1&quot;:\r\n                        connectedUsers.add(new ConnectedUsers(recieved[1],packet.getPort(),packet.getAddress()));\r\n                        System.out.println(&quot;New USER CONNECTED &quot;+recieved[1]);\r\n                        break;\r\n                    case &quot;2&quot;:\r\n                        System.out.println(&quot;FROM--&gt;&quot;+recieved[2]+&quot; To--&gt;&quot;+recieved[1]+&quot; ::: &quot;+recieved[3]);\r\n                        int port = 0;\r\n                        InetAddress inetAddress1 = null;\r\n                        for(int i=0; i&lt;connectedUsers.size();i++){\r\n                            if(connectedUsers.get(i).username.equals(recieved[1])){\r\n                                port = connectedUsers.get(i).port;\r\n                                inetAddress1 = connectedUsers.get(i).inetAddress;\r\n                            }\r\n                        }\r\n                        tampon = (recieved[2]+&quot; :::: &quot;+recieved[3]).getBytes();\r\n                        DatagramPacket packet1 = new DatagramPacket(tampon,tampon.length,inetAddress1,port);\r\n                        datagramSocketClient.send(packet1);\r\n                        System.out.println(&quot;Envoy&#233; au destinataire::: &quot;);\r\n                        break;\r\n                }\r\n                //DatagramPacket packet1 = new DatagramPacket(tampon, tampon.length,inetAddress,destPort);\r\n                datagramSocketClient.close();\r\n            } catch (Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Serveur serveur = new Serveur(1234);\r\n        serveur.start();\r\n    }\r\n\r\n    public class ConnectedUsers{\r\n        int port;\r\n        InetAddress inetAddress;\r\n        String username;\r\n\r\n        public ConnectedUsers(String username, int port, InetAddress inetAddress){\r\n            this.port = port;\r\n            this.username = username;\r\n            this.inetAddress = inetAddress;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nServer works good.\r\nThe problem is on client: when I run Client, I authenticate client\r\nthe problem is here \r\nrecieve don&#39;t let send to finish.\r\nI want to have possibility to send message and recieve without block between those two threads.\r\n```\r\nThread send = new Send(client.datagramSocket, client,&quot;2&quot;);\r\nsend.start();\r\nThread recieve = new Recieve(client.datagramSocket);\r\nrecieve.start();\r\n```\r\n","title":"chat app based on UDP in java: Problem on Thread Send and Recieve. when I start application thread recieve don&#39;t let thread send to finish","body":"<p>I work on a project to make a chat app using udp (datagramsockets) in java.\nthe idea is multiple clients can communicate with each other with intermediate a server, server here get message from client1 and send to the destination, and this destination can answer to client1.\nso each client can write messages and recieve messages without having none block.\nTHREAD SEND:</p>\n<pre><code>package org.example.Client;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.SocketException;\nimport java.util.Scanner;\n\npublic class Send extends Thread{\n    DatagramSocket datagramSocket;\n    Scanner clavier = new Scanner(System.in);\n    Client client;\n    String operation;\n    public Send(DatagramSocket socket, Client client,String operation){\n        this.datagramSocket = socket;\n        this.client = client;\n        this.operation = operation;\n    }\n    @Override\n    public void run() {\n        System.out.println(&quot;Send ... &quot;);\n        String msg=null;\n        byte[] tampon;\n\n            System.out.println(&quot;DESTINATAIRE : &quot;);\n            String destinataire = clavier.nextLine();\n            do {\n                tampon = new byte[1024];\n                msg = clavier.nextLine();\n                try {\n                    tampon =(operation+&quot;|&quot;+destinataire+&quot;|&quot;+client.username+&quot;|&quot;+msg).getBytes();\n                    DatagramPacket packet = new DatagramPacket(tampon,tampon.length, InetAddress.getByName(&quot;localhost&quot;),1234);\n                    datagramSocket.send(packet);\n                    System.out.println(&quot;SEND ....&quot;);\n                    //datagramSocket.close();\n                } catch (Exception e) {\n                    throw new RuntimeException(e);\n                }\n            }while(msg!=null);\n    }\n}\n\n</code></pre>\n<p>Thread recieve:</p>\n<pre><code>package org.example.Client;\n\nimport java.io.IOException;\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\n\npublic class Recieve extends Thread{\n    DatagramSocket datagramSocket;\n\n    public Recieve(DatagramSocket socket){\n        this.datagramSocket=socket;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Recieve ...,&quot;);\n        while (true){\n            byte[] tampon = new byte[1024];\n            DatagramPacket packet = new DatagramPacket(tampon,tampon.length);\n            try {\n                datagramSocket.receive(packet);\n                System.out.println(&quot;RECIEVE .....&quot;);\n                System.out.println(&quot;REcieve || &quot;+packet.getPort()+ &quot; || &quot;+new String(packet.getData()));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Client:</p>\n<pre><code>package org.example.Client;\n\nimport org.example.ConnexionDb.ConnexionDb;\nimport org.example.GUI.ConnexionForm;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.SocketException;\nimport java.util.Scanner;\n\npublic class Client {\n    String username;\n    public DatagramSocket datagramSocket;\n\n    public Client(String username){\n        this.username = username;\n        try {\n            datagramSocket = new DatagramSocket();\n        } catch (SocketException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n\n    public static void main(String[] args) throws Exception{\n        Scanner clavier = new Scanner(System.in);\n        //new ConnexionForm();\n        System.out.println(&quot;Connexion Nouveau Utilisateur: &quot;);\n\n        //Connection à la base de données:\n        ConnexionDb connexionDb = new ConnexionDb();\n        boolean isConnected = false;\n        while (!isConnected){\n            System.out.println(&quot;Username: &quot;);\n            String username = clavier.nextLine();\n            System.out.println(&quot;Password: &quot;);\n            String password = clavier.nextLine();\n            if(connexionDb.connexionUtilisateur(username,password)==1){\n                System.out.println(&quot;Connexion avec succé&quot;);\n                Client client = new Client(username);\n                DatagramSocket socket = new DatagramSocket();\n                byte[] tampon = (&quot;1|&quot;+client.username).getBytes();\n                DatagramPacket packet = new DatagramPacket(tampon,tampon.length, InetAddress.getByName(&quot;localhost&quot;),1234);\n                socket.send(packet);\n                socket.close();\n                System.out.println(&quot;1- Envoyer un message\\n&quot; +\n                        &quot;2- Les utilisateurs connectés&quot;);\n\n                String choix = clavier.nextLine();\n                isConnected = true;\n                switch (choix){\n                    case &quot;1&quot;:\n                        //Client client = new Client(username);\n                        //DatagramSocket socket = new DatagramSocket();\n                        Send send = new Send(client.datagramSocket, client,&quot;2&quot;);\n                        send.start();\n                        Recieve recieve = new Recieve(client.datagramSocket);\n                        recieve.start();\n                        break;\n                    case &quot;2&quot;:\n                        break;\n\n                }\n            }\n            else {\n                System.out.println(&quot;Vérifier vos informations et réassayer.&quot;);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Server:</p>\n<pre><code>package org.example.Serveur;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.SocketException;\nimport java.util.ArrayList;\n\npublic class Serveur extends Thread{\n    DatagramSocket datagramSocketClient;\n    DatagramSocket datagramSocketServer;\n    int port;\n    byte[] tampon;\n    ArrayList&lt;ConnectedUsers&gt; connectedUsers = new ArrayList&lt;&gt;();\n\n    public Serveur(int port){\n        this.port = port;\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Serveur ... &quot;);\n        while(true){\n            try {\n                datagramSocketServer = new DatagramSocket(port);\n                tampon = new byte[1024];\n                DatagramPacket packet = new DatagramPacket(tampon, tampon.length);\n                datagramSocketServer.receive(packet);\n                System.out.println(&quot;Message recu : &quot; + packet.getPort() + &quot; || &quot; + new String(packet.getData()));\n                datagramSocketServer.close();\n                String[] recieved = (new String(packet.getData(),0,tampon.length).trim()).split(&quot;[|]&quot;);\n                System.out.println(&quot;apres close: &quot; + packet.getPort());\n                datagramSocketClient = new DatagramSocket();\n                InetAddress inetAddress = InetAddress.getByName(&quot;localhost&quot;);\n                switch (recieved[0]){\n                    case &quot;1&quot;:\n                        connectedUsers.add(new ConnectedUsers(recieved[1],packet.getPort(),packet.getAddress()));\n                        System.out.println(&quot;New USER CONNECTED &quot;+recieved[1]);\n                        break;\n                    case &quot;2&quot;:\n                        System.out.println(&quot;FROM--&gt;&quot;+recieved[2]+&quot; To--&gt;&quot;+recieved[1]+&quot; ::: &quot;+recieved[3]);\n                        int port = 0;\n                        InetAddress inetAddress1 = null;\n                        for(int i=0; i&lt;connectedUsers.size();i++){\n                            if(connectedUsers.get(i).username.equals(recieved[1])){\n                                port = connectedUsers.get(i).port;\n                                inetAddress1 = connectedUsers.get(i).inetAddress;\n                            }\n                        }\n                        tampon = (recieved[2]+&quot; :::: &quot;+recieved[3]).getBytes();\n                        DatagramPacket packet1 = new DatagramPacket(tampon,tampon.length,inetAddress1,port);\n                        datagramSocketClient.send(packet1);\n                        System.out.println(&quot;Envoyé au destinataire::: &quot;);\n                        break;\n                }\n                //DatagramPacket packet1 = new DatagramPacket(tampon, tampon.length,inetAddress,destPort);\n                datagramSocketClient.close();\n            } catch (Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Serveur serveur = new Serveur(1234);\n        serveur.start();\n    }\n\n    public class ConnectedUsers{\n        int port;\n        InetAddress inetAddress;\n        String username;\n\n        public ConnectedUsers(String username, int port, InetAddress inetAddress){\n            this.port = port;\n            this.username = username;\n            this.inetAddress = inetAddress;\n        }\n    }\n}\n\n</code></pre>\n<p>Server works good.\nThe problem is on client: when I run Client, I authenticate client\nthe problem is here\nrecieve don't let send to finish.\nI want to have possibility to send message and recieve without block between those two threads.</p>\n<pre><code>Thread send = new Send(client.datagramSocket, client,&quot;2&quot;);\nsend.start();\nThread recieve = new Recieve(client.datagramSocket);\nrecieve.start();\n</code></pre>\n"},{"tags":["java","kotlin","dictionary","lambda","foreach"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1672431153,"post_id":74964588,"comment_id":132290270,"body_markdown":"When I try this, both of those ways end up using the kotlin extension. To get it to use the java `.forEach` I had to write it this way `map.forEach({k, v -&gt; if(k==&quot;one&quot;) println(v)})` (The difference being that the whole lambda is inside the parens, while kotlin wants the lambda immediately preceeding the function name.)","body":"When I try this, both of those ways end up using the kotlin extension. To get it to use the java <code>.forEach</code> I had to write it this way <code>map.forEach({k, v -&gt; if(k==&quot;one&quot;) println(v)})</code> (The difference being that the whole lambda is inside the parens, while kotlin wants the lambda immediately preceeding the function name.)"},{"owner":{"account_id":14911678,"reputation":87,"user_id":10766974,"display_name":"Fizz Areh"},"score":0,"creation_date":1672436667,"post_id":74964588,"comment_id":132291277,"body_markdown":"@EricGeorge Hm, what version of kotlin did you use? Mine is 1.6.10","body":"@EricGeorge Hm, what version of kotlin did you use? Mine is 1.6.10"}],"answers":[{"comments":[{"owner":{"account_id":14911678,"reputation":87,"user_id":10766974,"display_name":"Fizz Areh"},"score":0,"creation_date":1672424836,"post_id":74964638,"comment_id":132288921,"body_markdown":"So, kotlin&#39;s lambdas get inlined while java&#39;s cannot?","body":"So, kotlin&#39;s lambdas get inlined while java&#39;s cannot?"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1672433958,"post_id":74964638,"comment_id":132290845,"body_markdown":"Right, Java functions are never inlined. There will be an allocation for the functional interface.","body":"Right, Java functions are never inlined. There will be an allocation for the functional interface."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1672440313,"post_id":74964638,"comment_id":132291948,"body_markdown":"I mean, not _strictly_ necessarily -- e.g. the specified lambda could be allocated as a singleton, so it&#39;s only allocated once and never again.","body":"I mean, not <i>strictly</i> necessarily -- e.g. the specified lambda could be allocated as a singleton, so it&#39;s only allocated once and never again."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672424319,"creation_date":1672424319,"answer_id":74964638,"question_id":74964588,"body_markdown":"If nothing else, it&#39;s an inline function, and can more efficiently do things like mutate state elsewhere or smoothly incorporate suspend functions.\r\n\r\nUsing the same `forEach` everywhere is simpler than having to track which one you&#39;re using at any given point.","title":"How is Kotlin&#39;s Map.foreach better than the Java one?","body":"<p>If nothing else, it's an inline function, and can more efficiently do things like mutate state elsewhere or smoothly incorporate suspend functions.</p>\n<p>Using the same <code>forEach</code> everywhere is simpler than having to track which one you're using at any given point.</p>\n"},{"tags":[],"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672427509,"creation_date":1672427509,"answer_id":74965037,"question_id":74964588,"body_markdown":"In addition to other answers: the Java method is only available in Kotlin/JVM, while **the Kotlin function is cross-platform** and can also be used in Kotlin/Native and Kotlin/JS. So without good reasons to use the Java version, it makes sense to default to the Kotlin version with its greater compatibility.","title":"How is Kotlin&#39;s Map.foreach better than the Java one?","body":"<p>In addition to other answers: the Java method is only available in Kotlin/JVM, while <strong>the Kotlin function is cross-platform</strong> and can also be used in Kotlin/Native and Kotlin/JS. So without good reasons to use the Java version, it makes sense to default to the Kotlin version with its greater compatibility.</p>\n"}],"owner":{"account_id":14911678,"reputation":87,"user_id":10766974,"display_name":"Fizz Areh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74964638,"answer_count":2,"score":0,"last_activity_date":1672432544,"creation_date":1672423946,"question_id":74964588,"body_markdown":"A very simple example:\r\n\r\n    val map = mapOf(&quot;one&quot; to 1, &quot;two&quot; to 2)\r\n    map.forEach{k, v -&gt; if (k == &quot;one&quot;) println(v)}  //Java API\r\n    map.forEach{(k, v) -&gt; if (k == &quot;two&quot;) println(v)}  //Kotlin extension\r\n\r\nI am confused by the IDE warning `Java Map.forEach method call should be replaced with Kotlin&#39;s forEach` for the second line. I don&#39;t understand why should I replace it. They seem to work identically, and the only difference is the java method requiring 2 less symbols to type. Any ideas?","title":"How is Kotlin&#39;s Map.foreach better than the Java one?","body":"<p>A very simple example:</p>\n<pre><code>val map = mapOf(&quot;one&quot; to 1, &quot;two&quot; to 2)\nmap.forEach{k, v -&gt; if (k == &quot;one&quot;) println(v)}  //Java API\nmap.forEach{(k, v) -&gt; if (k == &quot;two&quot;) println(v)}  //Kotlin extension\n</code></pre>\n<p>I am confused by the IDE warning <code>Java Map.forEach method call should be replaced with Kotlin's forEach</code> for the second line. I don't understand why should I replace it. They seem to work identically, and the only difference is the java method requiring 2 less symbols to type. Any ideas?</p>\n"},{"tags":["java","libgdx"],"answers":[{"comments":[{"owner":{"account_id":1536842,"reputation":577,"user_id":1432643,"accept_rate":89,"display_name":"tarcin"},"score":0,"creation_date":1672504143,"post_id":74965548,"comment_id":132300284,"body_markdown":"Wow! In retrospect what you are saying makes a lot of sense, since the classic 1-2-3-4 definition I used doesn&#39;t work if you are moving clockwise/counterclockwise. I changed my vertex order to 1-2-4-3 and it worked! Also on the readability: I should have probably done that before posting to stack overflow. I was trying a lot of different things to debug my code so I didn&#39;t make it very pretty.","body":"Wow! In retrospect what you are saying makes a lot of sense, since the classic 1-2-3-4 definition I used doesn&#39;t work if you are moving clockwise/counterclockwise. I changed my vertex order to 1-2-4-3 and it worked! Also on the readability: I should have probably done that before posting to stack overflow. I was trying a lot of different things to debug my code so I didn&#39;t make it very pretty."}],"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672431869,"creation_date":1672431869,"answer_id":74965548,"question_id":74964926,"body_markdown":"I will start this answer with a disclaimer: I have never used LibGDX before. Nonetheless I can see a potential problem with your code.\r\n\r\nLet&#39;s number the corners of your rectangle as follows:\r\n\r\n```none\r\n   1         2\r\n\r\n   3         4\r\n```\r\nYour array of vertex coordinates includes these corners in the order 1, 2, 3, 4. \r\n\r\nYou are using a polygon object to represent this rectangle. Polygon objects will typically expect the vertex coordinates that they are given to go around the polygon in one direction or the other. For example, if you had a polygon with 10 points, how would the `Polygon` class know in which order to connect the points? Of course, order 1, 2, 3, 4 is not going around your rectangle in either direction.\r\n \r\nTry swapping the order of the last two pairs of coordinates, so that your array of vertices includes the corners in the order 1, 2, 4, 3.\r\n\r\n---\r\nBonus hint for readability: try to format your array of vertices so that it contains one pair of coordinates per line, perhaps something like the following:\r\n```java\r\nSprite sprite = player.getSprite();\r\nfloat[] vertices = new float[] {\r\n    sprite.getX(),                     sprite.getY(),\r\n    sprite.getX() + sprite.getWidth(), sprite.getY(),\r\n    sprite.getX() + sprite.getWidth(), sprite.getY() + sprite.getHeight(),\r\n    sprite.getX(),                     sprite.getY() + sprite.getHeight()\r\n};\r\n```\r\nTo reduce the line length, I&#39;ve created a local variable for the value of `player.getSprite()`. I&#39;ve guessed the name of the class as `Sprite`: feel free to adjust this if necessary. You could potentially create further local variables for the values of `sprite.getX()`, `sprite.getY()` and so on.\r\n","title":"How do I draw a rectangular polygon without a triangular cutout?","body":"<p>I will start this answer with a disclaimer: I have never used LibGDX before. Nonetheless I can see a potential problem with your code.</p>\n<p>Let's number the corners of your rectangle as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>   1         2\n\n   3         4\n</code></pre>\n<p>Your array of vertex coordinates includes these corners in the order 1, 2, 3, 4.</p>\n<p>You are using a polygon object to represent this rectangle. Polygon objects will typically expect the vertex coordinates that they are given to go around the polygon in one direction or the other. For example, if you had a polygon with 10 points, how would the <code>Polygon</code> class know in which order to connect the points? Of course, order 1, 2, 3, 4 is not going around your rectangle in either direction.</p>\n<p>Try swapping the order of the last two pairs of coordinates, so that your array of vertices includes the corners in the order 1, 2, 4, 3.</p>\n<hr />\n<p>Bonus hint for readability: try to format your array of vertices so that it contains one pair of coordinates per line, perhaps something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Sprite sprite = player.getSprite();\nfloat[] vertices = new float[] {\n    sprite.getX(),                     sprite.getY(),\n    sprite.getX() + sprite.getWidth(), sprite.getY(),\n    sprite.getX() + sprite.getWidth(), sprite.getY() + sprite.getHeight(),\n    sprite.getX(),                     sprite.getY() + sprite.getHeight()\n};\n</code></pre>\n<p>To reduce the line length, I've created a local variable for the value of <code>player.getSprite()</code>. I've guessed the name of the class as <code>Sprite</code>: feel free to adjust this if necessary. You could potentially create further local variables for the values of <code>sprite.getX()</code>, <code>sprite.getY()</code> and so on.</p>\n"}],"owner":{"account_id":1536842,"reputation":577,"user_id":1432643,"accept_rate":89,"display_name":"tarcin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74965548,"answer_count":1,"score":0,"last_activity_date":1672431869,"creation_date":1672426598,"question_id":74964926,"body_markdown":"I am creating a rectangular polygon that represents the box bounding the player sprite in a simple 2D game. This is the implementation I use: \r\n\r\n```\r\nfloat[] vertices = new float[] {player.getSprite().getX(), player.getSprite().getY(),\r\n\t\t\t\tplayer.getSprite().getX() + player.getSprite().getWidth(),\r\n\t\t\t\tplayer.getSprite().getY(), player.getSprite().getX(),\r\n\t\t\t\tplayer.getSprite().getY() + player.getSprite().getHeight(),\r\n\t\t\t\tplayer.getSprite().getX() + player.getSprite().getWidth(),\r\n\t\t\t\tplayer.getSprite().getY() + player.getSprite().getHeight()};\r\n\r\n\t\tPolygon rPoly = new Polygon(vertices);\r\n\r\n\t\tpolyBatch.draw(\r\n\t\t\t\tnew PolygonRegion(new TextureRegion(healthImage), rPoly.getTransformedVertices(),\r\n\t\t\t\tnew EarClippingTriangulator().computeTriangles(vertices).toArray()),\r\n\t\t\t\tplayer.getSprite().getScaleX(), player.getSprite().getScaleY());\r\n\r\n```\r\n\r\nWhere the &quot;Sprite&quot; is an actual LibGDX sprite object. When I try to use this implementation I get this as a result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YHaZz.png\r\n\r\nHow do I get this polygon to be drawn without that triangular cut in it? ","title":"How do I draw a rectangular polygon without a triangular cutout?","body":"<p>I am creating a rectangular polygon that represents the box bounding the player sprite in a simple 2D game. This is the implementation I use:</p>\n<pre><code>float[] vertices = new float[] {player.getSprite().getX(), player.getSprite().getY(),\n                player.getSprite().getX() + player.getSprite().getWidth(),\n                player.getSprite().getY(), player.getSprite().getX(),\n                player.getSprite().getY() + player.getSprite().getHeight(),\n                player.getSprite().getX() + player.getSprite().getWidth(),\n                player.getSprite().getY() + player.getSprite().getHeight()};\n\n        Polygon rPoly = new Polygon(vertices);\n\n        polyBatch.draw(\n                new PolygonRegion(new TextureRegion(healthImage), rPoly.getTransformedVertices(),\n                new EarClippingTriangulator().computeTriangles(vertices).toArray()),\n                player.getSprite().getScaleX(), player.getSprite().getScaleY());\n\n</code></pre>\n<p>Where the &quot;Sprite&quot; is an actual LibGDX sprite object. When I try to use this implementation I get this as a result:</p>\n<p><a href=\"https://i.stack.imgur.com/YHaZz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YHaZz.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I get this polygon to be drawn without that triangular cut in it?</p>\n"},{"tags":["java","xml","xml-parsing","document","helper"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1672413833,"post_id":74961629,"comment_id":132286058,"body_markdown":"XPath can be used for that- https://stackoverflow.com/a/48391839/2834978","body":"XPath can be used for that- <a href=\"https://stackoverflow.com/a/48391839/2834978\">stackoverflow.com/a/48391839/2834978</a>"}],"answers":[{"tags":[],"owner":{"account_id":2182770,"reputation":77,"user_id":3170024,"display_name":"skreutzer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672431532,"creation_date":1672431532,"answer_id":74965507,"question_id":74961629,"body_markdown":"As suggested by @LMC (because of `org.w3c.dom.Document.getElementById()` not recognizing arbitrary `id` attributes as IDs for `getElementById()` or as a browser would, mostly for HTML semantics/format), maybe:\r\n\r\n``` lang-java\r\n    String Function(String id) throws XPathExpressionException {\r\n        XPath xPath = XPathFactory.newInstance().newXPath();\r\n        // Be aware: id inserted without any escaping!\r\n        NodeList parents = (NodeList)xPath.evaluate(&quot;/class/question[@id=&#39;&quot; + id + &quot;&#39;]&quot;, doc, XPathConstants.NODESET);\r\n\r\n        if (parents.getLength() &lt; 1) {\r\n            return null;\r\n        } else if (parents.getLength() &gt; 1) {\r\n            // Huh, duplicates?\r\n        }\r\n\r\n        Element parent = (Element)parents.item(0);\r\n        NodeList children = parent.getChildNodes();\r\n\r\n        List&lt;Element&gt; answers = new ArrayList&lt;Element&gt;();\r\n\r\n        for (int i = 0, max = children.getLength(); i &lt; max; i++) {\r\n            if (children.item(i).getNodeType() != Node.ELEMENT_NODE) {\r\n                continue;\r\n            }\r\n\r\n            if (children.item(i).getNodeName().equals(&quot;ans&quot;) != true) {\r\n                // Huh?\r\n                continue;\r\n            }\r\n\r\n            answers.add((Element)children.item(i));\r\n        }\r\n\r\n        if (answers.size() &lt;= 0) {\r\n            return null;\r\n        }\r\n\r\n        int selection = (int)(Math.random() * answers.size());\r\n\r\n        return answers.get(selection).getTextContent();\r\n    }\r\n```","title":"how to get specific tag content inside parant tag from id in xml using java?","body":"<p>As suggested by @LMC (because of <code>org.w3c.dom.Document.getElementById()</code> not recognizing arbitrary <code>id</code> attributes as IDs for <code>getElementById()</code> or as a browser would, mostly for HTML semantics/format), maybe:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String Function(String id) throws XPathExpressionException {\n        XPath xPath = XPathFactory.newInstance().newXPath();\n        // Be aware: id inserted without any escaping!\n        NodeList parents = (NodeList)xPath.evaluate(&quot;/class/question[@id='&quot; + id + &quot;']&quot;, doc, XPathConstants.NODESET);\n\n        if (parents.getLength() &lt; 1) {\n            return null;\n        } else if (parents.getLength() &gt; 1) {\n            // Huh, duplicates?\n        }\n\n        Element parent = (Element)parents.item(0);\n        NodeList children = parent.getChildNodes();\n\n        List&lt;Element&gt; answers = new ArrayList&lt;Element&gt;();\n\n        for (int i = 0, max = children.getLength(); i &lt; max; i++) {\n            if (children.item(i).getNodeType() != Node.ELEMENT_NODE) {\n                continue;\n            }\n\n            if (children.item(i).getNodeName().equals(&quot;ans&quot;) != true) {\n                // Huh?\n                continue;\n            }\n\n            answers.add((Element)children.item(i));\n        }\n\n        if (answers.size() &lt;= 0) {\n            return null;\n        }\n\n        int selection = (int)(Math.random() * answers.size());\n\n        return answers.get(selection).getTextContent();\n    }\n</code></pre>\n"}],"owner":{"account_id":24629918,"reputation":1,"user_id":18529269,"display_name":"Ahtess_ Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74965507,"answer_count":1,"score":0,"last_activity_date":1672431532,"creation_date":1672403839,"question_id":74961629,"body_markdown":"I have an XML file as below. I want to get its specific child tag from the parent tag using java.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;  \r\n&lt;class&gt;  \r\n    \r\n  &lt;question  id=&quot;scores&quot;&gt;\r\n        &lt;ans&gt;12&lt;/ans&gt;\r\n        &lt;ans&gt;32&lt;/ans&gt;\r\n        &lt;ans&gt;44&lt;/ans&gt;\r\n  &lt;/question&gt;\r\n\r\n  &lt;question  id=&quot;ratings&quot;&gt;\r\n        &lt;ans&gt;10&lt;/ans&gt;\r\n        &lt;ans&gt;22&lt;/ans&gt;\r\n        &lt;ans&gt;45&lt;/ans&gt;\r\n        &lt;ans&gt;100&lt;/ans&gt;\r\n  &lt;/question&gt;\r\n&lt;default&gt;\r\n    Sorry wrong\r\n&lt;/default&gt;\r\n  &lt;/class&gt;  \r\n```\r\n\r\ni want the function to be like this\r\n\r\n```\r\nString function(String id)\r\n```\r\n\r\nit will return the ans tag randomly  \r\ni.e if I give input  id=scores, the program will look in the XML tag for scores as id and get length()of its children, in this case, 3, then retun randomly like 32 or 44 or 12.if id is not present, return default.\r\n\r\nmy code so far\r\n\r\n```\r\npublic class ChatBot {\r\n    \r\n    private String filepath=&quot;E:\\\\myfile.xml&quot;;\r\n    private File file;\r\n    private Document doc;\r\n\r\n    public ChatBot() throws SAXException, IOException, ParserConfigurationException {\r\n         file = new File(&quot;E:\\\\myfile.xml&quot;);  \r\n         DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();  \r\n         DocumentBuilder db = dbf.newDocumentBuilder();  \r\n         doc = db.parse(file); \r\n    }\r\n    \r\n    \r\n    String Function(String id){\r\n// This part\r\n            return null;\r\n    }\r\n       \r\n    }\r\n```","title":"how to get specific tag content inside parant tag from id in xml using java?","body":"<p>I have an XML file as below. I want to get its specific child tag from the parent tag using java.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;  \n&lt;class&gt;  \n    \n  &lt;question  id=&quot;scores&quot;&gt;\n        &lt;ans&gt;12&lt;/ans&gt;\n        &lt;ans&gt;32&lt;/ans&gt;\n        &lt;ans&gt;44&lt;/ans&gt;\n  &lt;/question&gt;\n\n  &lt;question  id=&quot;ratings&quot;&gt;\n        &lt;ans&gt;10&lt;/ans&gt;\n        &lt;ans&gt;22&lt;/ans&gt;\n        &lt;ans&gt;45&lt;/ans&gt;\n        &lt;ans&gt;100&lt;/ans&gt;\n  &lt;/question&gt;\n&lt;default&gt;\n    Sorry wrong\n&lt;/default&gt;\n  &lt;/class&gt;  \n</code></pre>\n<p>i want the function to be like this</p>\n<pre><code>String function(String id)\n</code></pre>\n<p>it will return the ans tag randomly<br />\ni.e if I give input  id=scores, the program will look in the XML tag for scores as id and get length()of its children, in this case, 3, then retun randomly like 32 or 44 or 12.if id is not present, return default.</p>\n<p>my code so far</p>\n<pre><code>public class ChatBot {\n    \n    private String filepath=&quot;E:\\\\myfile.xml&quot;;\n    private File file;\n    private Document doc;\n\n    public ChatBot() throws SAXException, IOException, ParserConfigurationException {\n         file = new File(&quot;E:\\\\myfile.xml&quot;);  \n         DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();  \n         DocumentBuilder db = dbf.newDocumentBuilder();  \n         doc = db.parse(file); \n    }\n    \n    \n    String Function(String id){\n// This part\n            return null;\n    }\n       \n    }\n</code></pre>\n"},{"tags":["java","levenshtein-distance"],"answers":[{"comments":[{"owner":{"account_id":2526078,"reputation":2695,"user_id":2195440,"accept_rate":58,"display_name":"Exploring"},"score":0,"creation_date":1601359929,"post_id":64113807,"comment_id":113375127,"body_markdown":"the following should work - right? ```if (s1.length() &gt; s2.length() || (s1.length() == s2.length())) {\n            return levenshtein/s1.length();\n        }\n        else {\n            // if (s2.length() &gt; s1.length())\n            return levenshtein/s2.length();\n        }```","body":"the following should work - right? <code>if (s1.length() &gt; s2.length() || (s1.length() == s2.length())) {             return levenshtein&#47;s1.length();         }         else {             &#47;&#47; if (s2.length() &gt; s1.length())             return levenshtein&#47;s2.length();         }</code>"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1601360667,"post_id":64113807,"comment_id":113375399,"body_markdown":"I&#39;d jsut write this as `return levenshtein / Math.max(s1.length(), s2.length());`.","body":"I&#39;d jsut write this as <code>return levenshtein &#47; Math.max(s1.length(), s2.length());</code>."},{"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":1,"creation_date":1601362141,"post_id":64113807,"comment_id":113375934,"body_markdown":"I prefer being explicit, @JoachimSauer","body":"I prefer being explicit, @JoachimSauer"},{"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":1,"creation_date":1601362219,"post_id":64113807,"comment_id":113375962,"body_markdown":"@Exploring that should work, I just prefer having my conditions explicitly stated.","body":"@Exploring that should work, I just prefer having my conditions explicitly stated."},{"owner":{"account_id":88993,"reputation":2497,"user_id":245813,"display_name":"COME FROM"},"score":1,"creation_date":1601368757,"post_id":64113807,"comment_id":113378876,"body_markdown":"An important characteristic of any distance function is that it represents [a metric](https://en.wikipedia.org/wiki/Metric_(mathematics)). See https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/EditDistance.html Normalizing with max(s1.length, s2.length) will break triangle inequality. I think this is why there&#39;s no such implementation in commons-text.","body":"An important characteristic of any distance function is that it represents <a href=\"https://en.wikipedia.org/wiki/Metric_(mathematics)\" rel=\"nofollow noreferrer\">a metric</a>. See <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/EditDistance.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text/apidocs/org/apache/&hellip;</a> Normalizing with max(s1.length, s2.length) will break triangle inequality. I think this is why there&#39;s no such implementation in commons-text."},{"owner":{"account_id":2526078,"reputation":2695,"user_id":2195440,"accept_rate":58,"display_name":"Exploring"},"score":0,"creation_date":1601373643,"post_id":64113807,"comment_id":113381171,"body_markdown":"@COMEFROM I have not understood this concept of inequality. Can you please give me an example. Thanks for your help.","body":"@COMEFROM I have not understood this concept of inequality. Can you please give me an example. Thanks for your help."},{"owner":{"account_id":88993,"reputation":2497,"user_id":245813,"display_name":"COME FROM"},"score":0,"creation_date":1601379385,"post_id":64113807,"comment_id":113383791,"body_markdown":"See [triange inequality](https://en.wikipedia.org/wiki/Triangle_inequality). It&#39;s one of the three characteristics of [a metric](https://en.wikipedia.org/wiki/Metric_(mathematics)). In layman&#39;s terms, a sensible notion of distance will not violate triangle inequality. Furthermore, implementations of [the EditDistance interface](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/EditDistance.html) in the commons-text shouldn&#39;t violate triangle inequality. It&#39;s in the Javadoc.","body":"See <a href=\"https://en.wikipedia.org/wiki/Triangle_inequality\" rel=\"nofollow noreferrer\">triange inequality</a>. It&#39;s one of the three characteristics of <a href=\"https://en.wikipedia.org/wiki/Metric_(mathematics)\" rel=\"nofollow noreferrer\">a metric</a>. In layman&#39;s terms, a sensible notion of distance will not violate triangle inequality. Furthermore, implementations of <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/EditDistance.html\" rel=\"nofollow noreferrer\">the EditDistance interface</a> in the commons-text shouldn&#39;t violate triangle inequality. It&#39;s in the Javadoc."},{"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":1,"creation_date":1601400377,"post_id":64113807,"comment_id":113394219,"body_markdown":"@Exploring if this was a helpful answer to you, would you kindly accept it?","body":"@Exploring if this was a helpful answer to you, would you kindly accept it?"}],"tags":[],"owner":{"account_id":411142,"reputation":34094,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672431444,"creation_date":1601359594,"answer_id":64113807,"question_id":64113621,"body_markdown":"Your first answer begins with &quot;The effects of both variants should be nearly the same&quot;. The reason normalized LevenshteinDistance doesn&#39;t exist is because you (or somebody else) hasn&#39;t seen fit to implement it. Besides, it seems a rather trivial once you have the Levenshtein distance:\r\n\r\n    private double normalizedLevenshteinDistance(double levenshtein, String s1, String s2) {\r\n        if (s1.length() &gt;= s2.length()) {\r\n            return levenshtein / s1.length();\r\n        }\r\n        else {\r\n            return levenshtein / s2.length();\r\n        }\r\n    }\r\n\r\nAfter 3 days, once this has been thoroughly ripped to shreds, I&#39;ll add it as a Github issue on commons-text.","title":"How to normalize Levenshtein distance between 0 to 1","body":"<p>Your first answer begins with &quot;The effects of both variants should be nearly the same&quot;. The reason normalized LevenshteinDistance doesn't exist is because you (or somebody else) hasn't seen fit to implement it. Besides, it seems a rather trivial once you have the Levenshtein distance:</p>\n<pre><code>private double normalizedLevenshteinDistance(double levenshtein, String s1, String s2) {\n    if (s1.length() &gt;= s2.length()) {\n        return levenshtein / s1.length();\n    }\n    else {\n        return levenshtein / s2.length();\n    }\n}\n</code></pre>\n<p>After 3 days, once this has been thoroughly ripped to shreds, I'll add it as a Github issue on commons-text.</p>\n"},{"tags":[],"owner":{"account_id":88993,"reputation":2497,"user_id":245813,"display_name":"COME FROM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601412859,"creation_date":1601412859,"answer_id":64127506,"question_id":64113621,"body_markdown":"It seems you need a measure of similarity rather than an actual measure of distance.\r\n\r\nA proper measure of distance should obey the rules of [metric](https://en.wikipedia.org/wiki/Metric_(mathematics)) like [the Javadoc of the interface EditDistance in Commons Text](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/EditDistance.html) says. There is a reason Commons Text does not include an implementation for normalized Levenshtein distance. It can be done properly, but I doubt the results would be useful.\r\n\r\nHowever, using Levenshtein distance to define *a measure of similarity* like you suggested will work.\r\n\r\nApache Commons Text already has some implementations for measuring similarity. Perhaps [JaroWinklerSimilarity](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/JaroWinklerSimilarity.html) would fit the bill.\r\n\r\nI&#39;d consider writing an implementation for the [SimilarityScore](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/SimilarityScore.html) interface using Levenshtein distance like you suggested. It will produce slightly different results than JaroWinklerSimilarity. Using the interface for your own implementation would allow changing it easily to any implementation provided by Commons Text. You could easily compare different algorithms.\r\n\r\nJust make sure you don&#39;t divide with `max(s1.length, s2.length)` before checking it&#39;s not zero!","title":"How to normalize Levenshtein distance between 0 to 1","body":"<p>It seems you need a measure of similarity rather than an actual measure of distance.</p>\n<p>A proper measure of distance should obey the rules of <a href=\"https://en.wikipedia.org/wiki/Metric_(mathematics)\" rel=\"nofollow noreferrer\">metric</a> like <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/EditDistance.html\" rel=\"nofollow noreferrer\">the Javadoc of the interface EditDistance in Commons Text</a> says. There is a reason Commons Text does not include an implementation for normalized Levenshtein distance. It can be done properly, but I doubt the results would be useful.</p>\n<p>However, using Levenshtein distance to define <em>a measure of similarity</em> like you suggested will work.</p>\n<p>Apache Commons Text already has some implementations for measuring similarity. Perhaps <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/JaroWinklerSimilarity.html\" rel=\"nofollow noreferrer\">JaroWinklerSimilarity</a> would fit the bill.</p>\n<p>I'd consider writing an implementation for the <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/SimilarityScore.html\" rel=\"nofollow noreferrer\">SimilarityScore</a> interface using Levenshtein distance like you suggested. It will produce slightly different results than JaroWinklerSimilarity. Using the interface for your own implementation would allow changing it easily to any implementation provided by Commons Text. You could easily compare different algorithms.</p>\n<p>Just make sure you don't divide with <code>max(s1.length, s2.length)</code> before checking it's not zero!</p>\n"},{"tags":[],"owner":{"account_id":11725845,"reputation":178,"user_id":8583170,"display_name":"Sam Tseng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645845867,"creation_date":1645845867,"answer_id":71273842,"question_id":64113621,"body_markdown":"I had used a normalized edit distance or similarity (NES) which I think is very useful, defined by Daniel Lopresti and Jiangyin Zhou, in Equation (6) of their work: http://www.cse.lehigh.edu/~lopresti/Publications/1996/sdair96.pdf.\r\n\r\nThe NES in python is:\r\n\r\n    import math\r\n    def normalized_edit_similarity(m, d):\r\n        # d : edit distance between the two strings\r\n        # m : length of the shorter string\r\n        return ( 1.0 / math.exp( d / (m - d) ) )\r\n    \r\n    print(normalized_edit_similarity(3, 0))\r\n    print(normalized_edit_similarity(3, 1))\r\n    print(normalized_edit_similarity(4, 1))\r\n    print(normalized_edit_similarity(5, 1))\r\n    print(normalized_edit_similarity(5, 2))\r\n\r\n    1.0\r\n    0.6065306597126334\r\n    0.7165313105737893\r\n    0.7788007830714049\r\n    0.513417119032592\r\n\r\nMore examples can be found in Table 2 in the above paper.\r\n\r\nThe variable `m` in the above function can be replaced with the length of the longer string to fit your need. \r\n\r\nSee also: https://stackoverflow.com/a/71266201/8583170 (I have not yet familiar with how to answer similar questions with the same answer).","title":"How to normalize Levenshtein distance between 0 to 1","body":"<p>I had used a normalized edit distance or similarity (NES) which I think is very useful, defined by Daniel Lopresti and Jiangyin Zhou, in Equation (6) of their work: <a href=\"http://www.cse.lehigh.edu/%7Elopresti/Publications/1996/sdair96.pdf\" rel=\"nofollow noreferrer\">http://www.cse.lehigh.edu/~lopresti/Publications/1996/sdair96.pdf</a>.</p>\n<p>The NES in python is:</p>\n<pre><code>import math\ndef normalized_edit_similarity(m, d):\n    # d : edit distance between the two strings\n    # m : length of the shorter string\n    return ( 1.0 / math.exp( d / (m - d) ) )\n\nprint(normalized_edit_similarity(3, 0))\nprint(normalized_edit_similarity(3, 1))\nprint(normalized_edit_similarity(4, 1))\nprint(normalized_edit_similarity(5, 1))\nprint(normalized_edit_similarity(5, 2))\n\n1.0\n0.6065306597126334\n0.7165313105737893\n0.7788007830714049\n0.513417119032592\n</code></pre>\n<p>More examples can be found in Table 2 in the above paper.</p>\n<p>The variable <code>m</code> in the above function can be replaced with the length of the longer string to fit your need.</p>\n<p>See also: <a href=\"https://stackoverflow.com/a/71266201/8583170\">https://stackoverflow.com/a/71266201/8583170</a> (I have not yet familiar with how to answer similar questions with the same answer).</p>\n"}],"owner":{"account_id":2526078,"reputation":2695,"user_id":2195440,"accept_rate":58,"display_name":"Exploring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4433,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64113807,"answer_count":3,"score":2,"last_activity_date":1672431444,"creation_date":1601358603,"question_id":64113621,"body_markdown":"I have to normalize the Levenshtein distance between 0 to 1. I see different variations floating in SO.\r\n\r\nI am thinking to adopt the following approach:\r\n\r\n- if two strings, s1 and s2\r\n- len = max(s1.length(), s2.length());\r\n- normalized_distance = float(len - levenshteinDistance(s1, s2)) / float(len);\r\n\r\nThen the highest score 1.0 means an exact match and 0.0 means no match.\r\n\r\nBut I see variations here:\r\nhttps://stackoverflow.com/questions/15612475/two-whole-texts-similarity-using-levenshtein-distance where  1- distance(a,b)/max(a.length, b.length)\r\n\r\nhttps://stackoverflow.com/questions/41066394/difference-in-normalization-of-levenshtein-edit-distance\r\n\r\nhttps://stackoverflow.com/questions/30787098/explanation-of-normalized-edit-distance-formula\r\n\r\nI am wondering is there a canonical code implementation in Java? I know `org.apache.commons.text` only implements LevenshteinDistance and not normalized LevenshteinDistance.\r\n\r\nhttps://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html\r\n\r\n\r\n\r\n","title":"How to normalize Levenshtein distance between 0 to 1","body":"<p>I have to normalize the Levenshtein distance between 0 to 1. I see different variations floating in SO.</p>\n<p>I am thinking to adopt the following approach:</p>\n<ul>\n<li>if two strings, s1 and s2</li>\n<li>len = max(s1.length(), s2.length());</li>\n<li>normalized_distance = float(len - levenshteinDistance(s1, s2)) / float(len);</li>\n</ul>\n<p>Then the highest score 1.0 means an exact match and 0.0 means no match.</p>\n<p>But I see variations here:\n<a href=\"https://stackoverflow.com/questions/15612475/two-whole-texts-similarity-using-levenshtein-distance\">two whole texts similarity using levenshtein distance</a> where  1- distance(a,b)/max(a.length, b.length)</p>\n<p><a href=\"https://stackoverflow.com/questions/41066394/difference-in-normalization-of-levenshtein-edit-distance\">Difference in normalization of Levenshtein (edit) distance?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/30787098/explanation-of-normalized-edit-distance-formula\">Explanation of normalized edit distance formula</a></p>\n<p>I am wondering is there a canonical code implementation in Java? I know <code>org.apache.commons.text</code> only implements LevenshteinDistance and not normalized LevenshteinDistance.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/similarity/LevenshteinDistance.html</a></p>\n"},{"tags":["java","design-patterns","singleton"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672420589,"post_id":74964052,"comment_id":132287919,"body_markdown":"When you generalize your code for a question, then you should do that with all your code, or else you end up with variables like `clus` which has no reference anywhere in the question. Also, is this code used to check if a file has been changed and got more entries/items? If yes, then both approaches are kinda smelly.","body":"When you generalize your code for a question, then you should do that with all your code, or else you end up with variables like <code>clus</code> which has no reference anywhere in the question. Also, is this code used to check if a file has been changed and got more entries/items? If yes, then both approaches are kinda smelly."},{"owner":{"account_id":25363881,"reputation":21,"user_id":19178732,"display_name":"avrath"},"score":0,"creation_date":1672431643,"post_id":74964052,"comment_id":132290387,"body_markdown":"Sorry for the non-general code - oversight on my part, edited it. Basically yes, it is checked if after reload the collection contains modified/new objects compared to before (which are created by parsing files in folder)","body":"Sorry for the non-general code - oversight on my part, edited it. Basically yes, it is checked if after reload the collection contains modified/new objects compared to before (which are created by parsing files in folder)"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672431756,"post_id":74964052,"comment_id":132290403,"body_markdown":"I don&#39;t see the problem with it, as long as it&#39;s not pretending to be a true singleton.","body":"I don&#39;t see the problem with it, as long as it&#39;s not pretending to be a true singleton."},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672431973,"post_id":74964052,"comment_id":132290460,"body_markdown":"When that&#39;s what you&#39;re after, then you could also use existing tools to &quot;listen&quot; to file changes. Then you don&#39;t need to reload the file and check the collection. For example Apache File Monitor or JDK WatchService","body":"When that&#39;s what you&#39;re after, then you could also use existing tools to &quot;listen&quot; to file changes. Then you don&#39;t need to reload the file and check the collection. For example Apache File Monitor or JDK WatchService"}],"owner":{"account_id":25363881,"reputation":21,"user_id":19178732,"display_name":"avrath"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672431361,"creation_date":1672420022,"question_id":74964052,"body_markdown":"I stumbled upon a pseudo-singleton class that is responsible for housing a few collections. It looks something like this:\r\n\r\n```\r\npublic class PseudoSingleton {\r\n    private List&lt;Object&gt; collection1;\r\n    private List&lt;Object&gt; collection2;\r\n    private static PseudoSingleton instance = null;\r\n\r\n    public static synchronized PseudoSingleton getInstance() {\r\n        if (instance == null) {\r\n            instance = new PseudoSingleton();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public static synchronized void reload()  {\r\n        instance = new PseudoSingleton();\r\n    }\r\n\r\n    private PseudoSingleton() {\r\n        load();\r\n    }\r\n    \r\n    private void load() {\r\n        //parse some files from disk and fill collections\r\n    }\r\n}\r\n```\r\n\r\nThe reason it is coded like this is that in a few places in code a comparison of `collection1` before and after reload needs to be done. \r\n\r\nHowever this way seems like a major code smell to me.\r\n\r\nI tried to refactor the code slightly by making the `reload()` method not static:\r\n\r\n```\r\npublic synchronized void reload() {\r\n   //clear collections\r\n   //load collections\r\n}\r\n```\r\n\r\nIn order to be able to compare collection before reload I added a method that needs to be called before reloading the collection:\r\n\r\n```\r\npublic List&lt;Object&gt; getCollection1Copy() {\r\n   return new LinkedList&lt;&gt;(collection1);\r\n}\r\n```\r\nHowever, in review I got a comment that the previous way was better and I should leave it as is. I am not convinced. Should I insist to go my way or leave it? Or is there a better way to code it?","title":"Alternative to multiple instances of pseudo-singleton","body":"<p>I stumbled upon a pseudo-singleton class that is responsible for housing a few collections. It looks something like this:</p>\n<pre><code>public class PseudoSingleton {\n    private List&lt;Object&gt; collection1;\n    private List&lt;Object&gt; collection2;\n    private static PseudoSingleton instance = null;\n\n    public static synchronized PseudoSingleton getInstance() {\n        if (instance == null) {\n            instance = new PseudoSingleton();\n        }\n        return instance;\n    }\n\n    public static synchronized void reload()  {\n        instance = new PseudoSingleton();\n    }\n\n    private PseudoSingleton() {\n        load();\n    }\n    \n    private void load() {\n        //parse some files from disk and fill collections\n    }\n}\n</code></pre>\n<p>The reason it is coded like this is that in a few places in code a comparison of <code>collection1</code> before and after reload needs to be done.</p>\n<p>However this way seems like a major code smell to me.</p>\n<p>I tried to refactor the code slightly by making the <code>reload()</code> method not static:</p>\n<pre><code>public synchronized void reload() {\n   //clear collections\n   //load collections\n}\n</code></pre>\n<p>In order to be able to compare collection before reload I added a method that needs to be called before reloading the collection:</p>\n<pre><code>public List&lt;Object&gt; getCollection1Copy() {\n   return new LinkedList&lt;&gt;(collection1);\n}\n</code></pre>\n<p>However, in review I got a comment that the previous way was better and I should leave it as is. I am not convinced. Should I insist to go my way or leave it? Or is there a better way to code it?</p>\n"},{"tags":["java","spring-boot","graphql"],"comments":[{"owner":{"account_id":11247423,"reputation":609,"user_id":8249665,"display_name":"was_777"},"score":0,"creation_date":1691485433,"post_id":74965475,"comment_id":135494614,"body_markdown":"did you find any solution?","body":"did you find any solution?"}],"owner":{"account_id":18617752,"reputation":31,"user_id":16736186,"display_name":"999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672431265,"creation_date":1672431265,"question_id":74965475,"body_markdown":"In Java Spring Boot with BatchMapping, I was wondering how to access the arguments. Below is parts of the schema:\r\n\r\n```\r\ntype Query {\r\n    user(username: String!): User\r\n}\r\n\r\n\r\ntype User {\r\n    username: String!\r\n    posts: [Post!]!\r\n}\r\n\r\ntype Post {\r\n    upvotes: [User!]!\r\n    upvoted(username: String!): Boolean\r\n}\r\n```\r\n\r\nand the resolver looks like this:\r\n\r\n```\r\n@SchemaMapping\r\npublic Boolean upvoted(@Argument String username) {\r\n        //...\r\n}\r\n```\r\n\r\nbut if I want to improve efficiency because of the n + 1 problem, I would do something like:\r\n\r\n```\r\n@BatchMapping\r\npublic Map&lt;Post, Boolean&gt; upvoted(List&lt;Post&gt; posts) {\r\n      // ...\r\n}\r\n```\r\n\r\nI am not sure how to access the argument &quot;username&quot; in order to query the database, such as in a query like this:\r\n\r\n```\r\n{\r\n user(username: &quot;1&quot;) {\r\n    posts {\r\n      upvoted(username: &quot;2&quot;)\r\n    }\r\n  }\r\n}\r\n```","title":"Arguments with @BatchMapping in GraphQL Spring Boot","body":"<p>In Java Spring Boot with BatchMapping, I was wondering how to access the arguments. Below is parts of the schema:</p>\n<pre><code>type Query {\n    user(username: String!): User\n}\n\n\ntype User {\n    username: String!\n    posts: [Post!]!\n}\n\ntype Post {\n    upvotes: [User!]!\n    upvoted(username: String!): Boolean\n}\n</code></pre>\n<p>and the resolver looks like this:</p>\n<pre><code>@SchemaMapping\npublic Boolean upvoted(@Argument String username) {\n        //...\n}\n</code></pre>\n<p>but if I want to improve efficiency because of the n + 1 problem, I would do something like:</p>\n<pre><code>@BatchMapping\npublic Map&lt;Post, Boolean&gt; upvoted(List&lt;Post&gt; posts) {\n      // ...\n}\n</code></pre>\n<p>I am not sure how to access the argument &quot;username&quot; in order to query the database, such as in a query like this:</p>\n<pre><code>{\n user(username: &quot;1&quot;) {\n    posts {\n      upvoted(username: &quot;2&quot;)\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","quarkus","uberjar"],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672430896,"creation_date":1672430207,"question_id":74965363,"body_markdown":"I have a quarkus project with custom maven dependencies (one of which is another quarkus project). The reason is that the dependency project, which is supposed to be a library/template for a microservice, has route resources (@Path etc.) for the API which each of the other quarkus projects need to have. I dont want to repeat that code if it is 100% the same. When i build an uber-jar, so the compiled jar has the custom local maven repository projects included, it contains the application.properties file of the dependency rather than its own application.properties. Why is that? Some more context:\r\n\r\nExample of project hierarchies:\r\n&gt; - **base-quarkus-service** (has classes of which some are @Path resources, but is not supposed to be a real service but only included in other quarkus microservice projects).\r\n&gt;   - `pom.xml` with remote and quarkus dependencies.\r\n&gt;   - `src/main/java/...` service classes with also some resources classes with @Path annotations etc.\r\n&gt;   - `src/main/java/resources/application.properties` with some basic settings so the project can be compiled and packaged.\r\n&gt; - **quarkus-service-1** (a real service which is supposed to include the code and also routes of base-quarkus-project alongside its own)\r\n&gt;   - `pom.xml` with remote and quarkus dependencies AND local `base-quarkus-service` dependency.\r\n&gt;   - `src/main/java/resources/application.properties` with actual settings for the real service (but the the packaged uber-jar for quarkus-service-1 contains application.properties of base-quarkus-service instead of its own)\r\n\r\nI build the compiled project for `base-quarkus-service` so it is stored in the local m2 repository simply with: \r\n\r\n    mvn clean install -DskipTests\r\n\r\nIn the `quarkus-service-1` project i added the following config in application.properties (as explained here https://quarkus.io/guides/maven-tooling#uber-jar-maven), so an uber-jar will be generated when i run mvn clean install:\r\n\r\n    quarkus.package.type=uber-jar\r\n\r\nThis works, as the output target directory contains an jar (called *-runner) with all the sources of the dependencies, including of `base-quarkus_service`, within - at least i am assuming this is the uber-jar. However, the project does not run due to failure to inject custom config properties into my code specified in application.properties. When i opened the generated uber-jar of `quarkus-service-1` to check why, i saw that it contains the application.properties of `base-quarkus-service` instead of its own. Can someone explain to me how to fix this so it uses its own application.properties rather than the one of a dependency for the uber-jar?\r\n\r\n[![uber-jar of quarkus-service-1 opened in explorer][1]][1]\r\n\r\n(Content of the application.properties file here is of `base-quarkus-service`, not from `quarkus-service-1`as it should be)\r\n\r\n  [1]: https://i.stack.imgur.com/e6fIF.png","title":"Why is the application.properties of a dependency used over the main one when building an uber jar for a quarkus project?","body":"<p>I have a quarkus project with custom maven dependencies (one of which is another quarkus project). The reason is that the dependency project, which is supposed to be a library/template for a microservice, has route resources (@Path etc.) for the API which each of the other quarkus projects need to have. I dont want to repeat that code if it is 100% the same. When i build an uber-jar, so the compiled jar has the custom local maven repository projects included, it contains the application.properties file of the dependency rather than its own application.properties. Why is that? Some more context:</p>\n<p>Example of project hierarchies:</p>\n<blockquote>\n<ul>\n<li><strong>base-quarkus-service</strong> (has classes of which some are @Path resources, but is not supposed to be a real service but only included in other quarkus microservice projects).\n<ul>\n<li><code>pom.xml</code> with remote and quarkus dependencies.</li>\n<li><code>src/main/java/...</code> service classes with also some resources classes with @Path annotations etc.</li>\n<li><code>src/main/java/resources/application.properties</code> with some basic settings so the project can be compiled and packaged.</li>\n</ul>\n</li>\n<li><strong>quarkus-service-1</strong> (a real service which is supposed to include the code and also routes of base-quarkus-project alongside its own)\n<ul>\n<li><code>pom.xml</code> with remote and quarkus dependencies AND local <code>base-quarkus-service</code> dependency.</li>\n<li><code>src/main/java/resources/application.properties</code> with actual settings for the real service (but the the packaged uber-jar for quarkus-service-1 contains application.properties of base-quarkus-service instead of its own)</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>I build the compiled project for <code>base-quarkus-service</code> so it is stored in the local m2 repository simply with:</p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p>In the <code>quarkus-service-1</code> project i added the following config in application.properties (as explained here <a href=\"https://quarkus.io/guides/maven-tooling#uber-jar-maven\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/maven-tooling#uber-jar-maven</a>), so an uber-jar will be generated when i run mvn clean install:</p>\n<pre><code>quarkus.package.type=uber-jar\n</code></pre>\n<p>This works, as the output target directory contains an jar (called *-runner) with all the sources of the dependencies, including of <code>base-quarkus_service</code>, within - at least i am assuming this is the uber-jar. However, the project does not run due to failure to inject custom config properties into my code specified in application.properties. When i opened the generated uber-jar of <code>quarkus-service-1</code> to check why, i saw that it contains the application.properties of <code>base-quarkus-service</code> instead of its own. Can someone explain to me how to fix this so it uses its own application.properties rather than the one of a dependency for the uber-jar?</p>\n<p><a href=\"https://i.stack.imgur.com/e6fIF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e6fIF.png\" alt=\"uber-jar of quarkus-service-1 opened in explorer\" /></a></p>\n<p>(Content of the application.properties file here is of <code>base-quarkus-service</code>, not from <code>quarkus-service-1</code>as it should be)</p>\n"},{"tags":["java","hash"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1672430331,"post_id":74965348,"comment_id":132290110,"body_markdown":"Return a `List&lt;Set&lt;People&gt;&gt;`. Or make a custom object that contains two `Set` and return that.","body":"Return a <code>List&lt;Set&lt;People&gt;&gt;</code>. Or make a custom object that contains two <code>Set</code> and return that."},{"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"score":0,"creation_date":1672430594,"post_id":74965348,"comment_id":132290162,"body_markdown":"Could you elaborate more? How can I add my two separate sets in this one list of sets.","body":"Could you elaborate more? How can I add my two separate sets in this one list of sets."}],"answers":[{"comments":[{"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"score":0,"creation_date":1672431213,"post_id":74965444,"comment_id":132290278,"body_markdown":"Thank you. If I use the second approach I would get the value by doing Set&lt;People&gt; visible = foo.get(0) ?","body":"Thank you. If I use the second approach I would get the value by doing Set&lt;People&gt; visible = foo.get(0) ?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1672431502,"post_id":74965444,"comment_id":132290352,"body_markdown":"Yes. The manual indexing makes it arguably the weakest solution here. But it can be useful if you need to return multiple sets, especially if the number is variable.","body":"Yes. The manual indexing makes it arguably the weakest solution here. But it can be useful if you need to return multiple sets, especially if the number is variable."}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672430861,"creation_date":1672430861,"answer_id":74965444,"question_id":74965348,"body_markdown":"One option is to pass them into the method:\r\n\r\n    void foo(Set&lt;People&gt; allPeopleFromTable, Set&lt;People&gt; visibleInfo) {\r\n        // add items to sets\r\n    }\r\n\r\nAnother option is return a list of sets:\r\n\r\n    List&lt;Set&lt;People&gt;&gt; foo() {\r\n        // create sets\r\n        return Arrays.asList(allPeopleFromTable, visibleInfo);\r\n    }\r\n\r\nOr you can return a tuple class, like `Entry`:\r\n\r\n    Map.Entry&lt;Set&lt;People&gt;, Set&lt;People&gt;&gt; foo() {\r\n        // create sets\r\n        return Map.entry(allPeopleFromTable, visibleInfo);\r\n    }\r\n\r\nThe most &quot;proper&quot; approach would be to wrap them in a custom class.\r\n\r\n    record PeopleSets(Set&lt;People&gt; allPeopleFromTable, Set&lt;People&gt; visibleInfo) {}\r\n\r\n    PeopleSets foo() {\r\n        // create sets\r\n        return new PeopleSets(allPeopleFromTable, visibleInfo);\r\n    }\r\n\r\nThis example uses [records][1], but you can use a conventional class if you&#39;re on an older version of Java.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/language/records.html","title":"Return two Hashset from a Java method","body":"<p>One option is to pass them into the method:</p>\n<pre><code>void foo(Set&lt;People&gt; allPeopleFromTable, Set&lt;People&gt; visibleInfo) {\n    // add items to sets\n}\n</code></pre>\n<p>Another option is return a list of sets:</p>\n<pre><code>List&lt;Set&lt;People&gt;&gt; foo() {\n    // create sets\n    return Arrays.asList(allPeopleFromTable, visibleInfo);\n}\n</code></pre>\n<p>Or you can return a tuple class, like <code>Entry</code>:</p>\n<pre><code>Map.Entry&lt;Set&lt;People&gt;, Set&lt;People&gt;&gt; foo() {\n    // create sets\n    return Map.entry(allPeopleFromTable, visibleInfo);\n}\n</code></pre>\n<p>The most &quot;proper&quot; approach would be to wrap them in a custom class.</p>\n<pre><code>record PeopleSets(Set&lt;People&gt; allPeopleFromTable, Set&lt;People&gt; visibleInfo) {}\n\nPeopleSets foo() {\n    // create sets\n    return new PeopleSets(allPeopleFromTable, visibleInfo);\n}\n</code></pre>\n<p>This example uses <a href=\"https://docs.oracle.com/en/java/javase/15/language/records.html\" rel=\"nofollow noreferrer\">records</a>, but you can use a conventional class if you're on an older version of Java.</p>\n"}],"owner":{"account_id":26291632,"reputation":67,"user_id":19958572,"display_name":"pralxx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74965444,"answer_count":1,"score":0,"last_activity_date":1672430861,"creation_date":1672430099,"question_id":74965348,"body_markdown":"I have this piece of code here that I want to transform in a method.\r\n\r\nThe problem is that I need the result of both hashes \r\n\r\nHow can I create a method that will return those two hashset (allPeopleFromTable and visibleInfo) ?\r\n\r\n```\r\npublic method foo: \r\n\r\nSet&lt;People&gt; allPeopleFromTable = new HashSet&lt;&gt;();\r\n        Set&lt;People&gt; visibleInfo = new HashSet&lt;&gt;();\r\n        for (ResultSet rs : resultSets) {\r\n            while (rs.next()) {\r\n                final Table people = new Table(rs);\r\n\r\n                allPeopleFromTable.add(people);\r\n                if (isVisible(people)) {\r\n                    visibleInfo.add(people);\r\n                }\r\n            }\r\n        }\r\n\r\nthen in the main method I want to do\r\nvisibleInfo = getfoo(...)\r\nallPeopleFromTable = getfoo (..)\r\n```","title":"Return two Hashset from a Java method","body":"<p>I have this piece of code here that I want to transform in a method.</p>\n<p>The problem is that I need the result of both hashes</p>\n<p>How can I create a method that will return those two hashset (allPeopleFromTable and visibleInfo) ?</p>\n<pre><code>public method foo: \n\nSet&lt;People&gt; allPeopleFromTable = new HashSet&lt;&gt;();\n        Set&lt;People&gt; visibleInfo = new HashSet&lt;&gt;();\n        for (ResultSet rs : resultSets) {\n            while (rs.next()) {\n                final Table people = new Table(rs);\n\n                allPeopleFromTable.add(people);\n                if (isVisible(people)) {\n                    visibleInfo.add(people);\n                }\n            }\n        }\n\nthen in the main method I want to do\nvisibleInfo = getfoo(...)\nallPeopleFromTable = getfoo (..)\n</code></pre>\n"},{"tags":["java","android","mpandroidchart"],"answers":[{"comments":[{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1672477422,"post_id":74965253,"comment_id":132295877,"body_markdown":"That was a &quot;hell&quot; of a help. Much appreciated !!!! Thanks","body":"That was a &quot;hell&quot; of a help. Much appreciated !!!! Thanks"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1672479760,"post_id":74965253,"comment_id":132296145,"body_markdown":"one thing that isnt working for me, is that i cant get my string label, it always put my count of items. like instead of horses i got the number of horses (2)","body":"one thing that isnt working for me, is that i cant get my string label, it always put my count of items. like instead of horses i got the number of horses (2)"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1672498920,"post_id":74965253,"comment_id":132299284,"body_markdown":"You need a custom ValueFormatter like I used. Check the code in my answer. I add the label as the &quot;data&quot; attribute in BarEntry and read that in the ValueFormatter (`BarEntry(x,y,label)` and `getBarLabel`)","body":"You need a custom ValueFormatter like I used. Check the code in my answer. I add the label as the &quot;data&quot; attribute in BarEntry and read that in the ValueFormatter (<code>BarEntry(x,y,label)</code> and <code>getBarLabel</code>)"}],"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672429285,"creation_date":1672429285,"answer_id":74965253,"question_id":74950320,"body_markdown":"There isn&#39;t a built-in way of putting the text in a non-standard location, but you can do it by writing a custom renderer for your chart. If you extend the [`HorizontalBarChartRenderer`](https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/renderer/HorizontalBarChartRenderer.java) class and override the `drawValues` method (making just a few modifications to the original version in the code linked) you can change where the label gets drawn.\r\n\r\n**Custom Renderer**\r\n\r\n*Code copied from `drawValues` in [`HorizontalBarChartRenderer`](https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/renderer/HorizontalBarChartRenderer.java) and simplified to only include required parts for this use-case (removed logic for stacked charts, icons, toggling values on and off, etc). The only change is to the x,y values passed to `drawValue()`*\r\n\r\n```java\r\nprivate static class MyRenderer extends HorizontalBarChartRenderer {\r\n    public MyRenderer(BarDataProvider chart, ChartAnimator animator,\r\n                                      ViewPortHandler viewPortHandler) {\r\n        super(chart, animator, viewPortHandler);\r\n    }\r\n\r\n    @Override\r\n    public void drawValues(Canvas c) {\r\n\r\n        List&lt;IBarDataSet&gt; dataSets = mChart.getBarData().getDataSets();\r\n\r\n        final float valueOffsetPlus = Utils.convertDpToPixel(5f);\r\n\r\n        for (int i = 0; i &lt; mChart.getBarData().getDataSetCount(); i++) {\r\n\r\n            IBarDataSet dataSet = dataSets.get(i);\r\n            \r\n            // apply the text-styling defined by the DataSet\r\n            applyValueTextStyle(dataSet);\r\n            ValueFormatter formatter = dataSet.getValueFormatter();\r\n\r\n            // get the buffer\r\n            BarBuffer buffer = mBarBuffers[i];\r\n\r\n            for (int j = 0; j &lt; buffer.buffer.length * mAnimator.getPhaseX(); j += 4) {\r\n                \r\n                if (!mViewPortHandler.isInBoundsTop(buffer.buffer[j + 1]))\r\n                    break;\r\n\r\n                if (!mViewPortHandler.isInBoundsX(buffer.buffer[j]))\r\n                    continue;\r\n\r\n                if (!mViewPortHandler.isInBoundsBottom(buffer.buffer[j + 1]))\r\n                    continue;\r\n\r\n                BarEntry entry = dataSet.getEntryForIndex(j / 4);\r\n                String formattedValue = formatter.getBarLabel(entry);\r\n\r\n                // Modify the x, y position here to control where the\r\n                // text is. The &quot;buffer&quot; array gives the positions of\r\n                // the current bar (in pixels)\r\n                drawValue(c,\r\n                        formattedValue,\r\n                        buffer.buffer[j] + valueOffsetPlus,\r\n                        buffer.buffer[j+1] - valueOffsetPlus,\r\n                        dataSet.getValueTextColor(j / 2));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Example Use**\r\n\r\nTo use the custom renderer, set it on the chart and modify the bar widths to leave room for the text.\r\n\r\n```java\r\nHorizontalBarChart chart = findViewById(R.id.chart);\r\n\r\nList&lt;Float&gt; values = Arrays.asList(3f, 2f, 2.2f);\r\nList&lt;Integer&gt; colors = Arrays.asList(Color.CYAN, Color.RED, Color.GREEN);\r\nList&lt;String&gt; labels = Arrays.asList(&quot;Pickled Horses&quot;, &quot;Horses&quot;, &quot;Pickles&quot;);\r\n\r\nList&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();\r\nfor(int i = 0; i &lt; values.size(); ++i) {\r\n    entries.add(new BarEntry(i+1, values.get(i), labels.get(i)));\r\n}\r\n\r\nBarDataSet ds = new BarDataSet(entries, &quot;Values&quot;);\r\nds.setColors(colors);\r\nds.setValueTextSize(14f);\r\nds.setValueFormatter(new ValueFormatter() {\r\n    @Override\r\n    public String getBarLabel(BarEntry barEntry) {\r\n        return (String)barEntry.getData();\r\n    }\r\n});\r\nds.setAxisDependency(YAxis.AxisDependency.RIGHT);\r\n\r\nBarData data = new BarData(ds);\r\n\r\n// Reduce bar width to leave room for text\r\ndata.setBarWidth(0.75f);\r\n\r\n// Use the custom renderer\r\nchart.setRenderer(new MyRenderer(chart, chart.getAnimator(), chart.getViewPortHandler()));\r\n\r\n// Misc formatting &amp; setup\r\nchart.setData(data);\r\nchart.getAxisLeft().setEnabled(false);\r\nchart.getAxisRight().setAxisMinimum(0f);\r\nchart.getAxisRight().setAxisMaximum(4f);\r\nchart.getAxisRight().setGranularity(1f);\r\nchart.getAxisRight().setTextSize(14f);\r\nchart.getAxisRight().setDrawGridLines(false);\r\nchart.getXAxis().setDrawLabels(false);\r\nchart.getXAxis().setDrawGridLines(false);\r\nchart.getXAxis().setAxisMaximum(3.6f);\r\nchart.getDescription().setEnabled(false);\r\nchart.getLegend().setEnabled(false);\r\nchart.setBorderColor(Color.BLACK);\r\nchart.setBorderWidth(1f);\r\nchart.setDrawBorders(true);\r\n```\r\n\r\n[![example output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/svnrJm.png","title":"Android barchart legends on top of the chart","body":"<p>There isn't a built-in way of putting the text in a non-standard location, but you can do it by writing a custom renderer for your chart. If you extend the <a href=\"https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/renderer/HorizontalBarChartRenderer.java\" rel=\"nofollow noreferrer\"><code>HorizontalBarChartRenderer</code></a> class and override the <code>drawValues</code> method (making just a few modifications to the original version in the code linked) you can change where the label gets drawn.</p>\n<p><strong>Custom Renderer</strong></p>\n<p><em>Code copied from <code>drawValues</code> in <a href=\"https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/renderer/HorizontalBarChartRenderer.java\" rel=\"nofollow noreferrer\"><code>HorizontalBarChartRenderer</code></a> and simplified to only include required parts for this use-case (removed logic for stacked charts, icons, toggling values on and off, etc). The only change is to the x,y values passed to <code>drawValue()</code></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class MyRenderer extends HorizontalBarChartRenderer {\n    public MyRenderer(BarDataProvider chart, ChartAnimator animator,\n                                      ViewPortHandler viewPortHandler) {\n        super(chart, animator, viewPortHandler);\n    }\n\n    @Override\n    public void drawValues(Canvas c) {\n\n        List&lt;IBarDataSet&gt; dataSets = mChart.getBarData().getDataSets();\n\n        final float valueOffsetPlus = Utils.convertDpToPixel(5f);\n\n        for (int i = 0; i &lt; mChart.getBarData().getDataSetCount(); i++) {\n\n            IBarDataSet dataSet = dataSets.get(i);\n            \n            // apply the text-styling defined by the DataSet\n            applyValueTextStyle(dataSet);\n            ValueFormatter formatter = dataSet.getValueFormatter();\n\n            // get the buffer\n            BarBuffer buffer = mBarBuffers[i];\n\n            for (int j = 0; j &lt; buffer.buffer.length * mAnimator.getPhaseX(); j += 4) {\n                \n                if (!mViewPortHandler.isInBoundsTop(buffer.buffer[j + 1]))\n                    break;\n\n                if (!mViewPortHandler.isInBoundsX(buffer.buffer[j]))\n                    continue;\n\n                if (!mViewPortHandler.isInBoundsBottom(buffer.buffer[j + 1]))\n                    continue;\n\n                BarEntry entry = dataSet.getEntryForIndex(j / 4);\n                String formattedValue = formatter.getBarLabel(entry);\n\n                // Modify the x, y position here to control where the\n                // text is. The &quot;buffer&quot; array gives the positions of\n                // the current bar (in pixels)\n                drawValue(c,\n                        formattedValue,\n                        buffer.buffer[j] + valueOffsetPlus,\n                        buffer.buffer[j+1] - valueOffsetPlus,\n                        dataSet.getValueTextColor(j / 2));\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Example Use</strong></p>\n<p>To use the custom renderer, set it on the chart and modify the bar widths to leave room for the text.</p>\n<pre class=\"lang-java prettyprint-override\"><code>HorizontalBarChart chart = findViewById(R.id.chart);\n\nList&lt;Float&gt; values = Arrays.asList(3f, 2f, 2.2f);\nList&lt;Integer&gt; colors = Arrays.asList(Color.CYAN, Color.RED, Color.GREEN);\nList&lt;String&gt; labels = Arrays.asList(&quot;Pickled Horses&quot;, &quot;Horses&quot;, &quot;Pickles&quot;);\n\nList&lt;BarEntry&gt; entries = new ArrayList&lt;&gt;();\nfor(int i = 0; i &lt; values.size(); ++i) {\n    entries.add(new BarEntry(i+1, values.get(i), labels.get(i)));\n}\n\nBarDataSet ds = new BarDataSet(entries, &quot;Values&quot;);\nds.setColors(colors);\nds.setValueTextSize(14f);\nds.setValueFormatter(new ValueFormatter() {\n    @Override\n    public String getBarLabel(BarEntry barEntry) {\n        return (String)barEntry.getData();\n    }\n});\nds.setAxisDependency(YAxis.AxisDependency.RIGHT);\n\nBarData data = new BarData(ds);\n\n// Reduce bar width to leave room for text\ndata.setBarWidth(0.75f);\n\n// Use the custom renderer\nchart.setRenderer(new MyRenderer(chart, chart.getAnimator(), chart.getViewPortHandler()));\n\n// Misc formatting &amp; setup\nchart.setData(data);\nchart.getAxisLeft().setEnabled(false);\nchart.getAxisRight().setAxisMinimum(0f);\nchart.getAxisRight().setAxisMaximum(4f);\nchart.getAxisRight().setGranularity(1f);\nchart.getAxisRight().setTextSize(14f);\nchart.getAxisRight().setDrawGridLines(false);\nchart.getXAxis().setDrawLabels(false);\nchart.getXAxis().setDrawGridLines(false);\nchart.getXAxis().setAxisMaximum(3.6f);\nchart.getDescription().setEnabled(false);\nchart.getLegend().setEnabled(false);\nchart.setBorderColor(Color.BLACK);\nchart.setBorderWidth(1f);\nchart.setDrawBorders(true);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/svnrJm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/svnrJm.png\" alt=\"example output\" /></a></p>\n"}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672429285,"creation_date":1672311988,"question_id":74950320,"body_markdown":"So i have a barchart in MPandroid, and i need to put the names on the chart, but there is no space where i want them, the solution is to put them on top of the chart. Like this:\r\n\r\n[![Red line where i want the text to be][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8BnvF.png\r\n\r\n\r\n\r\ncan someone help me achieve this ?","title":"Android barchart legends on top of the chart","body":"<p>So i have a barchart in MPandroid, and i need to put the names on the chart, but there is no space where i want them, the solution is to put them on top of the chart. Like this:</p>\n<p><a href=\"https://i.stack.imgur.com/8BnvF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8BnvF.png\" alt=\"Red line where i want the text to be\" /></a></p>\n<p>can someone help me achieve this ?</p>\n"},{"tags":["java","android","proxy"],"owner":{"account_id":27393594,"reputation":1,"user_id":20896183,"display_name":"amirali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672428813,"creation_date":1672428813,"question_id":74965197,"body_markdown":"I have entered this code in gradle.build:app and it is not downloaded in any way:\r\n```\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:3.4.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-vision:20.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n}\r\n```\r\n\r\n```\r\nWhat should I do?\r\n\r\n```\r\nI have entered this code in gradle.build:app and it is not downloaded in any way:\r\n```\r\n\r\n```\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:3.4.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-vision:20.1.3&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n}\r\n```\r\n\r\n```\r\nWhat should I do?\r\n```\r\n","title":"How to add Zinke&#39;s book house to Android Studio?","body":"<p>I have entered this code in gradle.build:app and it is not downloaded in any way:</p>\n<pre><code>\n</code></pre>\n<p>dependencies {</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.5.1'\nimplementation 'com.google.android.material:material:1.7.0'\nimplementation 'com.journeyapps:zxing-android-embedded:3.4.0'\nimplementation 'com.google.android.gms:play-services-vision:20.1.3'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.4'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n</code></pre>\n<p>}</p>\n<pre><code>\n</code></pre>\n<p>What should I do?</p>\n<pre><code>I have entered this code in gradle.build:app and it is not downloaded in any way:\n</code></pre>\n<pre><code>dependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'com.journeyapps:zxing-android-embedded:3.4.0'\n    implementation 'com.google.android.gms:play-services-vision:20.1.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n}\n</code></pre>\n<pre><code>What should I do?\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"display_name":"user20704132"},"score":0,"creation_date":1672416646,"post_id":74963051,"comment_id":132286845,"body_markdown":"I have error: `Permission denied`\nAnd: `E/FirebaseAnalyticsUtils: error:java.lang.IllegalStateException: Must not be called on the main application thread`","body":"I have error: <code>Permission denied</code> And: <code>E&#47;FirebaseAnalyticsUtils: error:java.lang.IllegalStateException: Must not be called on the main application thread</code>"},{"owner":{"display_name":"user20704132"},"score":0,"creation_date":1672420857,"post_id":74963051,"comment_id":132287989,"body_markdown":"well, i fix them and i haven`t any errors but data didn`t saved. Is trouble with JSON file, whitch sends data in String type and i trying to get it like Integer?","body":"well, i fix them and i haven<code>t any errors but data didn</code>t saved. Is trouble with JSON file, whitch sends data in String type and i trying to get it like Integer?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1672428626,"post_id":74963051,"comment_id":132289741,"body_markdown":"You may have more problems, but does the explanation I gave in my answer make sense? Did you check the documentation I linked too, and does it make sense based on both of those why your original approach doesn&#39;t work and how what I showed in my answer improves on that (as it is what the documentation does)? It is important that you understand both, before we dig any further into more problems you may have. --- I added an update on another problem I spotted in your code.","body":"You may have more problems, but does the explanation I gave in my answer make sense? Did you check the documentation I linked too, and does it make sense based on both of those why your original approach doesn&#39;t work and how what I showed in my answer improves on that (as it is what the documentation does)? It is important that you understand both, before we dig any further into more problems you may have. --- I added an update on another problem I spotted in your code."},{"owner":{"display_name":"user20704132"},"score":0,"creation_date":1672507429,"post_id":74963051,"comment_id":132300898,"body_markdown":"I read all doc from official fb site. Im here cuz i have a lot of questions whith i didn`t understand","body":"I read all doc from official fb site. Im here cuz i have a lot of questions whith i didn`t understand"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1672508119,"post_id":74963051,"comment_id":132301026,"body_markdown":"That&#39;s a good reason to be here, and we&#39;re here because we want to help. In order to do so efficiently, and build a meaningful knowledge base for others, it is important that you follow the site guidance like [how to ask a good question](https://stackoverflow.com/help/how-to-ask) and [how to create a minimal, complete, verifiable example](http://stackoverflow.com/help/mcve). While reading the users fro the database may be a single use-case for your app, there are many potential problems in there. The more you isolate the question on a single problem/API call, the more likely it is we can help.","body":"That&#39;s a good reason to be here, and we&#39;re here because we want to help. In order to do so efficiently, and build a meaningful knowledge base for others, it is important that you follow the site guidance like <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a> and <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal, complete, verifiable example</a>. While reading the users fro the database may be a single use-case for your app, there are many potential problems in there. The more you isolate the question on a single problem/API call, the more likely it is we can help."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672428744,"creation_date":1672413319,"answer_id":74963051,"question_id":74962571,"body_markdown":"Since you get the data at path `/User/$getMail1` from your database, the `task` variable contains a result snapshot of only that data. You can get this result by calling:\r\n```\r\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = task.getResult().getValue(User.class); // &#128072;\r\n            ...\r\n```\r\nAlso see the Firebase documentation on [getting data once](https://firebase.google.com/docs/database/android/read-and-write#read_data_once), on which I based this answer.\r\n\r\n---\r\n\r\nIn addition, it seems you have a push key under the email, which will require you to either know the key or use a loop over the child nodes to get to the properties:\r\n\r\n\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            for (DataSnapshot userSnapshot: task.getResult().getChildren()) { // &#128072;\r\n                User value = userSnapshot.getValue(User.class);\r\n            }\r\n","title":"Reading data from db","body":"<p>Since you get the data at path <code>/User/$getMail1</code> from your database, the <code>task</code> variable contains a result snapshot of only that data. You can get this result by calling:</p>\n<pre><code>database.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = task.getResult().getValue(User.class); // 👈\n            ...\n</code></pre>\n<p>Also see the Firebase documentation on <a href=\"https://firebase.google.com/docs/database/android/read-and-write#read_data_once\" rel=\"nofollow noreferrer\">getting data once</a>, on which I based this answer.</p>\n<hr />\n<p>In addition, it seems you have a push key under the email, which will require you to either know the key or use a loop over the child nodes to get to the properties:</p>\n<pre><code>public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n    if (task.isSuccessful()) {\n        for (DataSnapshot userSnapshot: task.getResult().getChildren()) { // 👈\n            User value = userSnapshot.getValue(User.class);\n        }\n</code></pre>\n"}],"owner":{"display_name":"user20704132"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74963051,"answer_count":1,"score":0,"last_activity_date":1672428744,"creation_date":1672410230,"question_id":74962571,"body_markdown":"i have db and here JSON file from it:\r\n\r\n```json\r\n{\r\n  &quot;User&quot;: {\r\n    &quot;mail@gmail::com&quot;: {\r\n      &quot;-NKTbcSqxmB4XImNrpDq&quot;: {\r\n        &quot;Q&quot;: 0,\r\n        &quot;W&quot;: 0,\r\n        &quot;QW&quot;: 0,\r\n        &quot;WQ&quot;: 0,\r\n        }\r\n    },\r\nmail@gmail:com&quot;: {\r\n      &quot;-NKTbcTUBxMsXYopKMO-&quot;: {\r\n        &quot;Q1&quot;: 0,\r\n        &quot;W1&quot;: 0,\r\n        &quot;QW1&quot;: 0,\r\n        &quot;WQ1&quot;: 0,\r\n        }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI need to read data once time, when button is pressed, so i need use this listener:\r\n\r\n```java\r\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail1).getValue(User.class);\r\n            //saving data in sharedPreferences\r\n            PreferenceConfig.Q1(getApplicationContext(), Q1);\r\n            PreferenceConfig.W1(getApplicationContext(), W1);\r\n            PreferenceConfig.QW1(getApplicationContext(), QW1);\r\n            PreferenceConfig.WQ1(getApplicationContext(), WQ1);\r\n        }\r\n    });\r\n```\r\n\r\ngetEmail - variable mail@gmail::com\r\nUSER_KEY - variable whith have id of user Immediately after this, I create for the second mail exactly the same code as above, only with other values:\r\n\r\n```java\r\ndatabase.child(USER_KEY).child(getMail).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail).getValue(User.class);\r\n            //saving data in sharedPreferences            PreferenceConfig.Q(getApplicationContext(), Q);\r\n            PreferenceConfig.W(getApplicationContext(), W);\r\n            PreferenceConfig.QW(getApplicationContext(), QW);\r\n            PreferenceConfig.WQ(getApplicationContext(), WQ);\r\n        }\r\n    });\r\n```\r\n\r\ngetEmail - var whitch have data mail@gmail:com\r\nand here is full code:\r\n\r\n```java\r\nbtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail1).getValue(User.class);\r\n            PreferenceConfig.Q1(getApplicationContext(), Q1);\r\n            PreferenceConfig.W1(getApplicationContext(), W1);\r\n            PreferenceConfig.QW1(getApplicationContext(), QW1);\r\n            PreferenceConfig.WQ1(getApplicationContext(), WQ1);\r\n        }\r\n    });\r\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail).getValue(User.class);\r\n            PreferenceConfig.Q(getApplicationContext(), Q);\r\n            PreferenceConfig.W(getApplicationContext(), W);\r\n            PreferenceConfig.QW(getApplicationContext(), QW);\r\n            PreferenceConfig.WQ(getApplicationContext(), WQ);\r\n        }\r\n    });\r\n});\r\n```\r\n\r\nBut the data does not come from the database. There is no error, although I display it like this:\r\n\r\nLog.e(&quot;TaskEEEE&quot;, String.valueOf(task.getException()));\r\nWhy is the data not read??","title":"Reading data from db","body":"<p>i have db and here JSON file from it:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;User&quot;: {\n    &quot;mail@gmail::com&quot;: {\n      &quot;-NKTbcSqxmB4XImNrpDq&quot;: {\n        &quot;Q&quot;: 0,\n        &quot;W&quot;: 0,\n        &quot;QW&quot;: 0,\n        &quot;WQ&quot;: 0,\n        }\n    },\nmail@gmail:com&quot;: {\n      &quot;-NKTbcTUBxMsXYopKMO-&quot;: {\n        &quot;Q1&quot;: 0,\n        &quot;W1&quot;: 0,\n        &quot;QW1&quot;: 0,\n        &quot;WQ1&quot;: 0,\n        }\n    }\n  }\n}\n</code></pre>\n<p>I need to read data once time, when button is pressed, so i need use this listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>database.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail1).getValue(User.class);\n            //saving data in sharedPreferences\n            PreferenceConfig.Q1(getApplicationContext(), Q1);\n            PreferenceConfig.W1(getApplicationContext(), W1);\n            PreferenceConfig.QW1(getApplicationContext(), QW1);\n            PreferenceConfig.WQ1(getApplicationContext(), WQ1);\n        }\n    });\n</code></pre>\n<p>getEmail - variable mail@gmail::com\nUSER_KEY - variable whith have id of user Immediately after this, I create for the second mail exactly the same code as above, only with other values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>database.child(USER_KEY).child(getMail).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail).getValue(User.class);\n            //saving data in sharedPreferences            PreferenceConfig.Q(getApplicationContext(), Q);\n            PreferenceConfig.W(getApplicationContext(), W);\n            PreferenceConfig.QW(getApplicationContext(), QW);\n            PreferenceConfig.WQ(getApplicationContext(), WQ);\n        }\n    });\n</code></pre>\n<p>getEmail - var whitch have data mail@gmail:com\nand here is full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail1).getValue(User.class);\n            PreferenceConfig.Q1(getApplicationContext(), Q1);\n            PreferenceConfig.W1(getApplicationContext(), W1);\n            PreferenceConfig.QW1(getApplicationContext(), QW1);\n            PreferenceConfig.WQ1(getApplicationContext(), WQ1);\n        }\n    });\ndatabase.child(&quot;User&quot;).child(getMail1).get().addOnCompleteListener(new OnCompleteListener&lt;DataSnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;DataSnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            User value = dataSnapshot.child(&quot;User&quot;).child(getEmail).getValue(User.class);\n            PreferenceConfig.Q(getApplicationContext(), Q);\n            PreferenceConfig.W(getApplicationContext(), W);\n            PreferenceConfig.QW(getApplicationContext(), QW);\n            PreferenceConfig.WQ(getApplicationContext(), WQ);\n        }\n    });\n});\n</code></pre>\n<p>But the data does not come from the database. There is no error, although I display it like this:</p>\n<p>Log.e(&quot;TaskEEEE&quot;, String.valueOf(task.getException()));\nWhy is the data not read??</p>\n"},{"tags":["java","arrays","recursion"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1417208929,"post_id":27195883,"comment_id":42876814,"body_markdown":"For which test cases?","body":"For which test cases?"},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1417209220,"post_id":27195883,"comment_id":42876896,"body_markdown":"You don&#39;t need a parameter for the array&#39;s length. If you have the array then you have it&#39;s length.","body":"You don&#39;t need a parameter for the array&#39;s length. If you have the array then you have it&#39;s length."},{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":0,"creation_date":1417209228,"post_id":27195883,"comment_id":42876900,"body_markdown":"It looks correct at first sight. What&#39;s the failing test case?","body":"It looks correct at first sight. What&#39;s the failing test case?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1417209287,"post_id":27195883,"comment_id":42876925,"body_markdown":"@Takendarkk And how would you recurse without this third parameter?","body":"@Takendarkk And how would you recurse without this third parameter?"},{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":0,"creation_date":1417209366,"post_id":27195883,"comment_id":42876955,"body_markdown":"@Takendarkk It&#39;s not the length actually, but the index to look at. Would worth renaming.","body":"@Takendarkk It&#39;s not the length actually, but the index to look at. Would worth renaming."},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1417209530,"post_id":27195883,"comment_id":42877010,"body_markdown":"@Joel I do believe &quot;_number of elements in the array_&quot; is length. I don&#39;t see how it would be the index to look at. If that were true and the element to look for was at index 0, this method would never find it. I must really be misunderstanding something here.","body":"@Joel I do believe &quot;<i>number of elements in the array</i>&quot; is length. I don&#39;t see how it would be the index to look at. If that were true and the element to look for was at index 0, this method would never find it. I must really be misunderstanding something here."},{"owner":{"account_id":3033814,"reputation":1720,"user_id":2572341,"accept_rate":86,"display_name":"Dexter"},"score":0,"creation_date":1417209677,"post_id":27195883,"comment_id":42877049,"body_markdown":"are you sure in your test-cases you are sending the correct value of len every-time ? why not send arr.length when you first call it, just to be sure","body":"are you sure in your test-cases you are sending the correct value of len every-time ? why not send arr.length when you first call it, just to be sure"},{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":1,"creation_date":1417209682,"post_id":27195883,"comment_id":42877052,"body_markdown":"I just tested it, and it returns what is expected (true). No issue here.","body":"I just tested it, and it returns what is expected (true). No issue here."},{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":0,"creation_date":1417209762,"post_id":27195883,"comment_id":42877080,"body_markdown":"@Takendarkk the initial call uses the length indeed. Subsequent recursive calls use (length - n)","body":"@Takendarkk the initial call uses the length indeed. Subsequent recursive calls use (length - n)"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1417210173,"post_id":27195883,"comment_id":42877197,"body_markdown":"Regarding your testcases results, this is certainly not the code that you posted which generates this outputs.","body":"Regarding your testcases results, this is certainly not the code that you posted which generates this outputs."},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1417210252,"post_id":27195883,"comment_id":42877231,"body_markdown":"If you&#39;re &#39;just hard coding it for the time being&#39;, where are those test results coming from? I&#39;ve tested them all and your posted code works fine.","body":"If you&#39;re &#39;just hard coding it for the time being&#39;, where are those test results coming from? I&#39;ve tested them all and your posted code works fine."},{"owner":{"account_id":4509873,"reputation":2850,"user_id":3666302,"accept_rate":71,"display_name":"TomTom"},"score":0,"creation_date":1417211318,"post_id":27195883,"comment_id":42877579,"body_markdown":"Agree. Those test results are wrong. The code works fine. len iterates from the highest index down to the lowest.","body":"Agree. Those test results are wrong. The code works fine. len iterates from the highest index down to the lowest."}],"answers":[{"tags":[],"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417209998,"creation_date":1417209581,"answer_id":27196031,"question_id":27195883,"body_markdown":"From what I can see, that code should work fine so I suspect your problem lies in your test cases rather than here.\r\n\r\nOne thing I will mention is that use of `if-return-else` constructs tend to complicate your code unnecessarily.\r\n\r\nIt&#39;s usually better to avoid that with something like:\r\n\r\n    public static boolean search(\r\n        int[] findIn, int target, int len)\r\n    {\r\n        if (len == 0)\r\n            return false;\r\n        if (findIn[len-1] == target)\r\n            return true;\r\n        return search(findIn, target, len-1);\r\n    }\r\n\r\nI find that a lot easier to follow at a glance than trying to track what `if` clause I happen to be in at any given moment.\r\n\r\nIn any case, both it and your version perform fine, at least for small test cases. The first time you pass in a ten-million-element array is probably when you&#39;ll discover it&#39;s not the _best_ poster child for recursion.\r\n","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<p>From what I can see, that code should work fine so I suspect your problem lies in your test cases rather than here.</p>\n\n<p>One thing I will mention is that use of <code>if-return-else</code> constructs tend to complicate your code unnecessarily.</p>\n\n<p>It's usually better to avoid that with something like:</p>\n\n<pre><code>public static boolean search(\n    int[] findIn, int target, int len)\n{\n    if (len == 0)\n        return false;\n    if (findIn[len-1] == target)\n        return true;\n    return search(findIn, target, len-1);\n}\n</code></pre>\n\n<p>I find that a lot easier to follow at a glance than trying to track what <code>if</code> clause I happen to be in at any given moment.</p>\n\n<p>In any case, both it and your version perform fine, at least for small test cases. The first time you pass in a ten-million-element array is probably when you'll discover it's not the <em>best</em> poster child for recursion.</p>\n"},{"comments":[{"owner":{"account_id":2430682,"reputation":2374,"user_id":3697695,"accept_rate":100,"display_name":"Joel"},"score":0,"creation_date":1417210822,"post_id":27196213,"comment_id":42877422,"body_markdown":"You&#39;re right, it seems to explain all test cases. Good one!","body":"You&#39;re right, it seems to explain all test cases. Good one!"},{"owner":{"account_id":4163103,"reputation":61,"user_id":3412722,"accept_rate":80,"display_name":"user3412722"},"score":0,"creation_date":1417212533,"post_id":27196213,"comment_id":42877913,"body_markdown":"Hi, @luuksen, I made that improvement, but it still seems to give me the same results.","body":"Hi, @luuksen, I made that improvement, but it still seems to give me the same results."},{"owner":{"account_id":2165900,"reputation":1357,"user_id":1919022,"accept_rate":86,"display_name":"luuksen"},"score":0,"creation_date":1417212665,"post_id":27196213,"comment_id":42877950,"body_markdown":"Hey! This method signature definitely does not return the same results, when your method calls didn&#39;t change. (or those of your test application)","body":"Hey! This method signature definitely does not return the same results, when your method calls didn&#39;t change. (or those of your test application)"}],"tags":[],"owner":{"account_id":2165900,"reputation":1357,"user_id":1919022,"accept_rate":86,"display_name":"luuksen"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1417210557,"creation_date":1417210557,"answer_id":27196213,"question_id":27195883,"body_markdown":"I am almost certain, that your method parameters are in the wrong order:\r\n\r\nYour results hint that you switched the 2nd and 3rd parameter!\r\n\r\nMaybe this\r\n\r\n    static boolean search(int[] findIn, int target, int len)\r\n\r\nshould actually be\r\n\r\n    static boolean search(int[] findIn, int len, int target)","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<p>I am almost certain, that your method parameters are in the wrong order:</p>\n\n<p>Your results hint that you switched the 2nd and 3rd parameter!</p>\n\n<p>Maybe this</p>\n\n<pre><code>static boolean search(int[] findIn, int target, int len)\n</code></pre>\n\n<p>should actually be</p>\n\n<pre><code>static boolean search(int[] findIn, int len, int target)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7245632,"reputation":31,"user_id":5527629,"display_name":"AutomationLearner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453361795,"creation_date":1453361795,"answer_id":34917873,"question_id":27195883,"body_markdown":"I tried something like this and it is working..\r\nI am using a static instance variable to find the position of number in array.\r\nIn stead of returning the position of number you can modify to return a boolean \r\n    \r\n    public class RecSearch {\r\n    \tstatic int pos=0;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint a[] = {1};\r\n    \t\tSystem.out.println(recSearch(a, 0));\r\n    \t\tSystem.out.println(recSearch(a, 1));\r\n    \t}\r\n    \tpublic static int recursiveSearch(int[] arr, int numtoSearch) {\r\n    \t\tif (pos&gt;=arr.length) {\r\n    \t\t\tpos=0;\r\n    \t\t\treturn -1;\r\n    \t\t}\r\n    \t\tif (arr[pos]==numtoSearch)\r\n    \t\t\treturn (pos+1);\r\n    \t\telse {\r\n    \t\t\tpos++;\r\n    \t\t\treturn recursiveSearch(arr, numtoSearch);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<p>I tried something like this and it is working..\nI am using a static instance variable to find the position of number in array.\nIn stead of returning the position of number you can modify to return a boolean </p>\n\n<pre><code>public class RecSearch {\n    static int pos=0;\n    public static void main(String[] args) {\n        int a[] = {1};\n        System.out.println(recSearch(a, 0));\n        System.out.println(recSearch(a, 1));\n    }\n    public static int recursiveSearch(int[] arr, int numtoSearch) {\n        if (pos&gt;=arr.length) {\n            pos=0;\n            return -1;\n        }\n        if (arr[pos]==numtoSearch)\n            return (pos+1);\n        else {\n            pos++;\n            return recursiveSearch(arr, numtoSearch);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16834777,"reputation":1,"user_id":12171773,"display_name":"Harshit Kuchhal"},"score":0,"creation_date":1604153940,"post_id":64622660,"comment_id":114263135,"body_markdown":"Check Number in Array using Recursion in Java","body":"Check Number in Array using Recursion in Java"}],"tags":[],"owner":{"account_id":16834777,"reputation":1,"user_id":12171773,"display_name":"Harshit Kuchhal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604156705,"creation_date":1604153849,"answer_id":64622660,"question_id":27195883,"body_markdown":"    public class Solution {\r\n    \t\r\n    \tpublic static boolean checkNumber(int input[], int x) {\r\n            \r\n    \t\treturn check(input,x,0);\r\n    \t}\r\n        \r\n        public static boolean check(int input[],int x,int start){\r\n            if(start==input.length)\r\n                return false;\r\n            if(input[start]==x)\r\n                return true;\r\n            return check(input,x,start+1);\r\n        }\r\n        \r\n    }","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<pre><code>public class Solution {\n    \n    public static boolean checkNumber(int input[], int x) {\n        \n        return check(input,x,0);\n    }\n    \n    public static boolean check(int input[],int x,int start){\n        if(start==input.length)\n            return false;\n        if(input[start]==x)\n            return true;\n        return check(input,x,start+1);\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":4163103,"reputation":61,"user_id":3412722,"accept_rate":80,"display_name":"user3412722"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12683,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27196213,"answer_count":4,"score":2,"last_activity_date":1672428481,"creation_date":1417208798,"question_id":27195883,"body_markdown":"I&#39;m trying to write a recursive method that accepts an int array, number of elements in the array, and an integer, and returns whether the integer is present as an element in the array.I just can&#39;t figure out why I this isn&#39;t working for all my test cases. Any help would be much appreciated!\r\n\r\n    public static boolean search(int[] findIn, int target, int len){\r\n\t\tif(len == 0){\r\n\t\t\treturn false;\r\n\t\t}else if(findIn[len-1] == target){\r\n\t\t\treturn true;\r\n\t\t}else{\r\n\t\t\treturn search(findIn, target, len-1);\r\n\t\t}\t\r\n\t}\r\n\r\nYes I realize there are better ways other than recursion to do this, but it is required that I do it this way.\r\n\r\nMy main method looks like this: I&#39;m just hard-coding it for the time being:\r\n\r\n    int[] arr = {1};\r\n\tSystem.out.println(search(arr,1,1));\r\n\r\nTestcases:\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7qb4Z.png","title":"Java: Recursively search an array for an integer given an array, integer, and array length","body":"<p>I'm trying to write a recursive method that accepts an int array, number of elements in the array, and an integer, and returns whether the integer is present as an element in the array.I just can't figure out why I this isn't working for all my test cases. Any help would be much appreciated!</p>\n\n<pre><code>public static boolean search(int[] findIn, int target, int len){\n    if(len == 0){\n        return false;\n    }else if(findIn[len-1] == target){\n        return true;\n    }else{\n        return search(findIn, target, len-1);\n    }   \n}\n</code></pre>\n\n<p>Yes I realize there are better ways other than recursion to do this, but it is required that I do it this way.</p>\n\n<p>My main method looks like this: I'm just hard-coding it for the time being:</p>\n\n<pre><code>int[] arr = {1};\nSystem.out.println(search(arr,1,1));\n</code></pre>\n\n<p>Testcases:\n<img src=\"https://i.stack.imgur.com/7qb4Z.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android","swipecardview"],"answers":[{"tags":[],"owner":{"account_id":22816146,"reputation":1,"user_id":16966728,"display_name":"Denos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672428327,"creation_date":1672420493,"answer_id":74964119,"question_id":74962356,"body_markdown":"Managed to make it work by making my own Adapter that extends ArrayAdapter&lt;String&gt;.\r\nHere is the code for anyone interested:\r\n\r\n    public class MyCustomAdapter extends ArrayAdapter&lt;String&gt; {\r\n\r\n        private Context mContext;\r\n        private List&lt;String&gt; mData;\r\n        private int mResource;\r\n        private int mTextViewResourceId;\r\n        private int mColor;\r\n\r\n        public MyCustomAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull List&lt;String&gt; objects, int color) {\r\n            super(context, resource, textViewResourceId, objects);\r\n            mContext = context;\r\n            mResource = resource;\r\n            mTextViewResourceId = textViewResourceId;\r\n            mData = objects;\r\n            mColor = color;\r\n        }\r\n\r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            View view = super.getView(position, convertView, parent);\r\n            CardView cardView = view.findViewById(R.id.card_view);\r\n            cardView.setCardBackgroundColor(mColor);\r\n            return view;\r\n        }\r\n    }","title":"Change color for a Swipe Card not working (lorentzos Swipecards)","body":"<p>Managed to make it work by making my own Adapter that extends ArrayAdapter.\nHere is the code for anyone interested:</p>\n<pre><code>public class MyCustomAdapter extends ArrayAdapter&lt;String&gt; {\n\n    private Context mContext;\n    private List&lt;String&gt; mData;\n    private int mResource;\n    private int mTextViewResourceId;\n    private int mColor;\n\n    public MyCustomAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull List&lt;String&gt; objects, int color) {\n        super(context, resource, textViewResourceId, objects);\n        mContext = context;\n        mResource = resource;\n        mTextViewResourceId = textViewResourceId;\n        mData = objects;\n        mColor = color;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        View view = super.getView(position, convertView, parent);\n        CardView cardView = view.findViewById(R.id.card_view);\n        cardView.setCardBackgroundColor(mColor);\n        return view;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22816146,"reputation":1,"user_id":16966728,"display_name":"Denos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672428327,"creation_date":1672408730,"question_id":74962356,"body_markdown":"I am building an app that uses:\r\n\r\n```\r\nimplementation &#39;com.lorentzos.swipecards:library:1.0.9@aar&#39;\r\n```\r\n\r\nfor  Swipe Cards. [level 1 color](https://i.stack.imgur.com/wQ05Z.png), [level 2 color](https://i.stack.imgur.com/d48Pq.png)\r\n\r\nIt changes the color of the card but not on the com.lorentzos.flingswipe.SwipeFlingAdapterView itself.\r\n\r\nIf I set the color for com.lorentzos.flingswipe.SwipeFlingAdapterView it only changes the background color, not the color of the card.\r\n\r\nThe implementation has its own Adapter here: \r\n\r\n```\r\n//questions from the MainActivity.class\r\nArrayList &lt;String&gt;  questionsList = (ArrayList&lt;String&gt;) intent.getSerializableExtra(&quot;levelList&quot;);\r\n\r\nSwipeFlingAdapterView swipeFlingAdapterView = (SwipeFlingAdapterView) findViewById(R.id.card);\r\n\r\narrayAdapter = new ArrayAdapter&lt;String&gt;(this, R.layout.details, R.id.card_text, questionsList );\r\n\r\nswipeFlingAdapterView.setAdapter(arrayAdapter);\r\n```\r\n\r\n\r\n I want to change the color of the swipe card depending on the level provided (there are currently 3 levels). Using the :\r\n```\r\n//gets the color for each level\r\nString cardColor = intent.getStringExtra(&quot;cardColorBackground&quot;);\r\n//Sets the color for the card\r\nCardView cardView = findViewById(R.id.card_view);\r\ncardView.setCardBackgroundColor(Color.parseColor(cardColor));\r\n```\r\ndoes not work. It changes the color of the card, but not on the \r\n```\r\ncom.lorentzos.flingswipe.SwipeFlingAdapterView\r\n```\r\nitself.\r\n\r\nI guess I have to make my own Adapter, but I don&#39;t know what to change for it.\r\n\r\nCan you please help ? \r\nMuch appreciated!\r\nP.S: I am still learning Java Android, I am currently a college student and want to work in the field.","title":"Change color for a Swipe Card not working (lorentzos Swipecards)","body":"<p>I am building an app that uses:</p>\n<pre><code>implementation 'com.lorentzos.swipecards:library:1.0.9@aar'\n</code></pre>\n<p>for  Swipe Cards. <a href=\"https://i.stack.imgur.com/wQ05Z.png\" rel=\"nofollow noreferrer\">level 1 color</a>, <a href=\"https://i.stack.imgur.com/d48Pq.png\" rel=\"nofollow noreferrer\">level 2 color</a></p>\n<p>It changes the color of the card but not on the com.lorentzos.flingswipe.SwipeFlingAdapterView itself.</p>\n<p>If I set the color for com.lorentzos.flingswipe.SwipeFlingAdapterView it only changes the background color, not the color of the card.</p>\n<p>The implementation has its own Adapter here:</p>\n<pre><code>//questions from the MainActivity.class\nArrayList &lt;String&gt;  questionsList = (ArrayList&lt;String&gt;) intent.getSerializableExtra(&quot;levelList&quot;);\n\nSwipeFlingAdapterView swipeFlingAdapterView = (SwipeFlingAdapterView) findViewById(R.id.card);\n\narrayAdapter = new ArrayAdapter&lt;String&gt;(this, R.layout.details, R.id.card_text, questionsList );\n\nswipeFlingAdapterView.setAdapter(arrayAdapter);\n</code></pre>\n<p>I want to change the color of the swipe card depending on the level provided (there are currently 3 levels). Using the :</p>\n<pre><code>//gets the color for each level\nString cardColor = intent.getStringExtra(&quot;cardColorBackground&quot;);\n//Sets the color for the card\nCardView cardView = findViewById(R.id.card_view);\ncardView.setCardBackgroundColor(Color.parseColor(cardColor));\n</code></pre>\n<p>does not work. It changes the color of the card, but not on the</p>\n<pre><code>com.lorentzos.flingswipe.SwipeFlingAdapterView\n</code></pre>\n<p>itself.</p>\n<p>I guess I have to make my own Adapter, but I don't know what to change for it.</p>\n<p>Can you please help ?\nMuch appreciated!\nP.S: I am still learning Java Android, I am currently a college student and want to work in the field.</p>\n"},{"tags":["java","excel","apache-poi","xssf"],"owner":{"account_id":236053,"reputation":125,"user_id":503285,"accept_rate":67,"display_name":"user503285"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672427862,"creation_date":1672427862,"question_id":74965090,"body_markdown":"I have a excel in which a column **A** has values with ~ characters &#39;Total Assets (~)&#39; \r\nWhen Column **A** is selected, excel will automatically populate column b with corresponding id\r\nusing formula **VLOOKUP(SUBSTITUTE(E2,&quot;~&quot;,&quot;~~&quot;),Sheet2!A:B,2,FALSE)**\r\n\r\nI have written substitute to overcome ~ character issue.\r\nBut if I try to upload the above excel for processing using Apache POI to process\r\ngetting ERROR as cellType. Wrote below code to process   \r\n\r\n    XSSFCell vCell = vRow.getCell (2);\r\n    \r\n      String vCellValue = vCell.getCellFormula ();\r\n      FormulaEvaluator evaluator = vWorkbook.getCreationHelper().createFormulaEvaluator();\r\n      CellType cellType = evaluator.evaluateFormulaCell(vCell);\r\n\r\nBut unfortunately when evaluator process the cell, its returing cellType as ERROR.\r\n\r\nAny ideas.\r\n\r\n","title":"Apache POI VLookup substiture","body":"<p>I have a excel in which a column <strong>A</strong> has values with ~ characters 'Total Assets (~)'\nWhen Column <strong>A</strong> is selected, excel will automatically populate column b with corresponding id\nusing formula <strong>VLOOKUP(SUBSTITUTE(E2,&quot;~&quot;,&quot;~~&quot;),Sheet2!A:B,2,FALSE)</strong></p>\n<p>I have written substitute to overcome ~ character issue.\nBut if I try to upload the above excel for processing using Apache POI to process\ngetting ERROR as cellType. Wrote below code to process</p>\n<pre><code>XSSFCell vCell = vRow.getCell (2);\n\n  String vCellValue = vCell.getCellFormula ();\n  FormulaEvaluator evaluator = vWorkbook.getCreationHelper().createFormulaEvaluator();\n  CellType cellType = evaluator.evaluateFormulaCell(vCell);\n</code></pre>\n<p>But unfortunately when evaluator process the cell, its returing cellType as ERROR.</p>\n<p>Any ideas.</p>\n"},{"tags":["java","akka","akka-http"],"comments":[{"owner":{"account_id":75725,"reputation":503,"user_id":217125,"display_name":"earthling paul"},"score":0,"creation_date":1672498803,"post_id":74965063,"comment_id":132299263,"body_markdown":"You may have a look at the doc: https://doc.akka.io/docs/akka-http/current/client-side/request-level.html#request-level-client-side-api","body":"You may have a look at the doc: <a href=\"https://doc.akka.io/docs/akka-http/current/client-side/request-level.html#request-level-client-side-api\" rel=\"nofollow noreferrer\">doc.akka.io/docs/akka-http/current/client-side/&hellip;</a>"}],"owner":{"account_id":26895385,"reputation":1,"user_id":20521276,"display_name":"MechSE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672427717,"creation_date":1672427717,"question_id":74965063,"body_markdown":"I have been struggling to simply perform a GET request to the Spotify API and parse the results of the request. I haven&#39;t been able to successfully do it despite trying to follow the docs. I am trying to achieve this within an Actor. I have tried making the HttpEntity a strict HttpEntity but this returns an error. I am not sure if this is due to dependency issues or if it is simply the incorrect approach. What I would like to do is obtain the entire payload of the response and parse it to then return it to another actor. I am unsure what should go inside of the try block to achieve this. Thanks very much.\r\n\r\n\r\n```\r\n\r\nActorSystem actorSystem = getContext().getSystem();\r\nHttp http = Http.get(actorSystem);\r\nString endpoint = &quot;https://api.spotify.com/v1/artists/1moxjboGR7GNWYIMWsRjgG/top-tracks?market=IE&quot;;\r\nAuthorization authorization = Authorization.oauth2(&quot;REDACTED&quot;);\r\nHttpRequest request = HttpRequest.create().withUri(endpoint).addHeader(authorization);\r\nCompletionStage&lt;HttpResponse&gt; responseFuture = http.singleRequest(request)\r\nresponseFuture.thenAccept(response -&gt; {\r\n    try {\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHave tried casting entity to a strict entity but this results in an error.","title":"How can I send a GET request in Akka (Java) and obtain the JSON body of the response?","body":"<p>I have been struggling to simply perform a GET request to the Spotify API and parse the results of the request. I haven't been able to successfully do it despite trying to follow the docs. I am trying to achieve this within an Actor. I have tried making the HttpEntity a strict HttpEntity but this returns an error. I am not sure if this is due to dependency issues or if it is simply the incorrect approach. What I would like to do is obtain the entire payload of the response and parse it to then return it to another actor. I am unsure what should go inside of the try block to achieve this. Thanks very much.</p>\n<pre><code>\nActorSystem actorSystem = getContext().getSystem();\nHttp http = Http.get(actorSystem);\nString endpoint = &quot;https://api.spotify.com/v1/artists/1moxjboGR7GNWYIMWsRjgG/top-tracks?market=IE&quot;;\nAuthorization authorization = Authorization.oauth2(&quot;REDACTED&quot;);\nHttpRequest request = HttpRequest.create().withUri(endpoint).addHeader(authorization);\nCompletionStage&lt;HttpResponse&gt; responseFuture = http.singleRequest(request)\nresponseFuture.thenAccept(response -&gt; {\n    try {\n}\n\n\n</code></pre>\n<p>Have tried casting entity to a strict entity but this results in an error.</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672427698,"creation_date":1672427698,"answer_id":74965061,"question_id":74959543,"body_markdown":"No, `@Formula`s are not parametrizable. Sorry.\r\n","title":"Use parameters inside @Formula Annotation","body":"<p>No, <code>@Formula</code>s are not parametrizable. Sorry.</p>\n"}],"owner":{"account_id":5071367,"reputation":626,"user_id":4070046,"accept_rate":60,"display_name":"Sebastian G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672427698,"creation_date":1672388752,"question_id":74959543,"body_markdown":"Is it possible to use @Param in @Formula annotations when defined in the actual JPA Method.\r\n\r\nLets say this is my Formula annotation for calculating distance between two points in Postgre.\r\n\r\n       @Formula(&quot;(SELECT point(:lat, :lon) &lt;@&gt; (point(clubAddress.longitude, clubAddress.latitude)\\\\:\\\\:point) FROM club_address clubAddress WHERE clubAddress.id = id)&quot;)\r\n\r\n\r\nAnd this is the actual method\r\n \r\n\r\n    List&lt;ClubAddress&gt; getClubAddressClosestBy(@Param(&quot;lat&quot;) double latitude, @Param(&quot;lon&quot;) double longitude);\r\n\r\nWhen using this Spring complains that im not using the Param in the actual query which is true. Is there a way to &quot;trick&quot; Spring into thinking it?","title":"Use parameters inside @Formula Annotation","body":"<p>Is it possible to use @Param in @Formula annotations when defined in the actual JPA Method.</p>\n<p>Lets say this is my Formula annotation for calculating distance between two points in Postgre.</p>\n<pre><code>   @Formula(&quot;(SELECT point(:lat, :lon) &lt;@&gt; (point(clubAddress.longitude, clubAddress.latitude)\\\\:\\\\:point) FROM club_address clubAddress WHERE clubAddress.id = id)&quot;)\n</code></pre>\n<p>And this is the actual method</p>\n<pre><code>List&lt;ClubAddress&gt; getClubAddressClosestBy(@Param(&quot;lat&quot;) double latitude, @Param(&quot;lon&quot;) double longitude);\n</code></pre>\n<p>When using this Spring complains that im not using the Param in the actual query which is true. Is there a way to &quot;trick&quot; Spring into thinking it?</p>\n"},{"tags":["java","android","android-activity","switch-statement","android-fragmentactivity"],"comments":[{"owner":{"account_id":18361596,"reputation":91,"user_id":13373575,"display_name":"MadMax"},"score":0,"creation_date":1642105621,"post_id":70701678,"comment_id":124990369,"body_markdown":"Just send the title as an argument from A or B activity and receive it in X activity. You don&#39;t need a switch case for this.","body":"Just send the title as an argument from A or B activity and receive it in X activity. You don&#39;t need a switch case for this."}],"answers":[{"tags":[],"owner":{"account_id":23934334,"reputation":346,"user_id":17928307,"display_name":"Harry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642115641,"creation_date":1642115641,"answer_id":70704251,"question_id":70701678,"body_markdown":"Send the title as an intent extra (or an argument if you&#39;re using Navigation Component).\r\n\r\n```\r\nIntent intent = new Intent(this, ActivityX.class);   \r\nintent.putExtra(&quot;EXTRA_TITLE&quot;, strTitle);\r\nstartActivity(intent);\r\n```\r\n&quot;strTitle&quot; can be retrieved in ActivityX.","title":"How can I change a label according to origin of an Activity&#39;s opening (Java)?","body":"<p>Send the title as an intent extra (or an argument if you're using Navigation Component).</p>\n<pre><code>Intent intent = new Intent(this, ActivityX.class);   \nintent.putExtra(&quot;EXTRA_TITLE&quot;, strTitle);\nstartActivity(intent);\n</code></pre>\n<p>&quot;strTitle&quot; can be retrieved in ActivityX.</p>\n"}],"owner":{"account_id":23932982,"reputation":1,"user_id":17927169,"display_name":"rafaelahm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672427564,"creation_date":1642100170,"question_id":70701678,"body_markdown":"An **Activity X** can be opened from the **Button A** in **Activity A** and from **button B** in **Activity B**, and it should change the label title in XML in **Activity X** accordingly.\r\n\r\n**I don&#39;t know how to create the following condition:**\r\n\r\n```\r\nswitch (i) {\r\n            case 0:\r\n                binding.lTitle.setText(getString(R.string.benefits_text));\r\n                break;\r\n            case 1:\r\n                binding.lTitle.setText(getString(R.string.coverages_text));\r\n                binding.lInfoText.setVisibility(View.GONE);\r\n                break;\r\n}\r\n```","title":"How can I change a label according to origin of an Activity&#39;s opening (Java)?","body":"<p>An <strong>Activity X</strong> can be opened from the <strong>Button A</strong> in <strong>Activity A</strong> and from <strong>button B</strong> in <strong>Activity B</strong>, and it should change the label title in XML in <strong>Activity X</strong> accordingly.</p>\n<p><strong>I don't know how to create the following condition:</strong></p>\n<pre><code>switch (i) {\n            case 0:\n                binding.lTitle.setText(getString(R.string.benefits_text));\n                break;\n            case 1:\n                binding.lTitle.setText(getString(R.string.coverages_text));\n                binding.lInfoText.setVisibility(View.GONE);\n                break;\n}\n</code></pre>\n"},{"tags":["java","javafx","resize","scenebuilder","gridpane"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667505435,"post_id":74308874,"comment_id":131188834,"body_markdown":"But you are only adding one `ColumnConstraints` and one `RowConstraints`.","body":"But you are only adding one <code>ColumnConstraints</code> and one <code>RowConstraints</code>."},{"owner":{"account_id":14265916,"reputation":13,"user_id":20399276,"display_name":"user120265"},"score":0,"creation_date":1667507325,"post_id":74308874,"comment_id":131189366,"body_markdown":"I thought you add a single constraint per row or column your adding? Could you explain how I would make use of the constraints?","body":"I thought you add a single constraint per row or column your adding? Could you explain how I would make use of the constraints?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667508551,"post_id":74308874,"comment_id":131189713,"body_markdown":"Yes, that&#39;s what you need to do. You&#39;re not doing that. Read your code.","body":"Yes, that&#39;s what you need to do. You&#39;re not doing that. Read your code."},{"owner":{"account_id":14265916,"reputation":13,"user_id":20399276,"display_name":"user120265"},"score":0,"creation_date":1667516531,"post_id":74308874,"comment_id":131191589,"body_markdown":"That&#39;s my problem. I do not understand how to use these methods. How would I create n number of rows and columns?","body":"That&#39;s my problem. I do not understand how to use these methods. How would I create n number of rows and columns?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1667521951,"post_id":74308874,"comment_id":131192421,"body_markdown":"In the code you posted `boardSize` is 50, so I assume you want 50 rows and columns. You create one, and only one `RowConstraints` object. Then you set the height of that one `RowConstraints` to 100, but you do that 50 times. And then you add it, once, to the grid pane. As you said earlier, you need to add one `RowConstraints` *per row*, so you need to add 50 of them.","body":"In the code you posted <code>boardSize</code> is 50, so I assume you want 50 rows and columns. You create one, and only one <code>RowConstraints</code> object. Then you set the height of that one <code>RowConstraints</code> to 100, but you do that 50 times. And then you add it, once, to the grid pane. As you said earlier, you need to add one <code>RowConstraints</code> <i>per row</i>, so you need to add 50 of them."},{"owner":{"account_id":14265916,"reputation":13,"user_id":20399276,"display_name":"user120265"},"score":0,"creation_date":1667661242,"post_id":74308874,"comment_id":131221765,"body_markdown":"When I do that, the rows don&#39;t stay evenly spaced and start to group up near one side of the grid. Also, the 50 is a typo. The goal is for user to enter whatever number they want to set grid size.","body":"When I do that, the rows don&#39;t stay evenly spaced and start to group up near one side of the grid. Also, the 50 is a typo. The goal is for user to enter whatever number they want to set grid size."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667668244,"post_id":74308874,"comment_id":131223305,"body_markdown":"Probably there is not enough space to accommodate 50 rows/columns at the specified size (you would need a window at least 5000x5000 pixels), and so some of them are being sized below their preferred size. I don’t understand your comment about a “typo”, just change it to use the number input by the user instead.","body":"Probably there is not enough space to accommodate 50 rows/columns at the specified size (you would need a window at least 5000x5000 pixels), and so some of them are being sized below their preferred size. I don’t understand your comment about a “typo”, just change it to use the number input by the user instead."}],"answers":[{"comments":[{"owner":{"account_id":14265916,"reputation":13,"user_id":20399276,"display_name":"user120265"},"score":0,"creation_date":1667661949,"post_id":74322464,"comment_id":131221894,"body_markdown":"gameBoard is my grid pane. Thank you for answering my question! I don&#39;t know how to adapt that code to my use. I need the Gridpane to vary in number of columns and rows based on user preferences. If a user selects 7 as boardNumber, then there needs to be seven rows and columns that are evenly spaced.","body":"gameBoard is my grid pane. Thank you for answering my question! I don&#39;t know how to adapt that code to my use. I need the Gridpane to vary in number of columns and rows based on user preferences. If a user selects 7 as boardNumber, then there needs to be seven rows and columns that are evenly spaced."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667668424,"post_id":74322464,"comment_id":131223341,"body_markdown":"Note that `1/3` won’t work here, since it evaluates to `0`. You would need `1.0/3.0`.","body":"Note that <code>1&#47;3</code> won’t work here, since it evaluates to <code>0</code>. You would need <code>1.0&#47;3.0</code>."},{"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"score":0,"creation_date":1667691212,"post_id":74322464,"comment_id":131227484,"body_markdown":"change the 1/3 to a 1/7, and in the &quot;addAll&quot;, add it 7 times instead of 3. The smart way to do it is set it up as a variable instead of hard coding it. But as @James_D Pointed out, make sure its a double. 1.0 and 3.0 will work.","body":"change the 1/3 to a 1/7, and in the &quot;addAll&quot;, add it 7 times instead of 3. The smart way to do it is set it up as a variable instead of hard coding it. But as @James_D Pointed out, make sure its a double. 1.0 and 3.0 will work."}],"tags":[],"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1667592543,"creation_date":1667592543,"answer_id":74322464,"question_id":74308874,"body_markdown":"The question is a little vague out of context, but assuming &quot;gameBoard&quot; is your grid pane, why not set up your grid pane constraints to be a percentage, something like this.\r\n\r\n        GridPane gameBoard = new GridPane();\r\n        ColumnConstraints colThird = new ColumnConstraints();\r\n\t\tcolThird.setPercentWidth(1/3);\r\n\t\tgameBoard.getColumnConstraints().addAll(colThird,colThird,colThird);\r\n\t\tRowConstraints rowThird = new RowConstraints();\r\n\t\trowThird.setPercentHeight(1/3);\r\n\t\tgameBoard.getRowConstraints().addAll(rowThird,rowThird,rowThird);","title":"How To Add Columns to Gridpane in JavaFX","body":"<p>The question is a little vague out of context, but assuming &quot;gameBoard&quot; is your grid pane, why not set up your grid pane constraints to be a percentage, something like this.</p>\n<pre><code>    GridPane gameBoard = new GridPane();\n    ColumnConstraints colThird = new ColumnConstraints();\n    colThird.setPercentWidth(1/3);\n    gameBoard.getColumnConstraints().addAll(colThird,colThird,colThird);\n    RowConstraints rowThird = new RowConstraints();\n    rowThird.setPercentHeight(1/3);\n    gameBoard.getRowConstraints().addAll(rowThird,rowThird,rowThird);\n</code></pre>\n"}],"owner":{"account_id":14265916,"reputation":13,"user_id":20399276,"display_name":"user120265"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1672427461,"creation_date":1667505323,"question_id":74308874,"body_markdown":"I&#39;m trying to create a Tic-Tac-Toe-like program with a board size that users can select. I can&#39;t figure out how to adjust the size of a gridpane in the code. My only lead was using ColumnConstraints and RowContraints, but I have two issues:\r\n\r\n1) When adding a row or column, it won&#39;t add multiple rows and columns in a for loop.\r\n2) I can&#39;t figure out how to resize both the grid and the window so that larger version of the grid is usable.\r\n\r\nCode for function here:\r\n\r\n```\r\npublic void changeGameBoard(ActionEvent event) {\r\n    if (boardNumber &gt; 2) {\r\n        boardNumber = 50;\r\n        sizeLabel.setText(&quot;Set at :&quot; + boardNumber);\r\n        ColumnConstraints column1 = new ColumnConstraints();\r\n        RowConstraints row1 = new RowConstraints();\r\n        for (int i = 0; i &lt; boardNumber; i++) {\r\n            column1.setPrefWidth(100);\r\n            row1.setPrefHeight((100));\r\n        }\r\n        gameBoard.getColumnConstraints().add(column1);\r\n        gameBoard.getRowConstraints().add(row1);\r\n        gameBoard.setMinSize(500,500);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried playing with padding in SceneBuilder and with `setMinSize` of my gridpane (the gameBoard object). I can&#39;t find any resources to help though. I&#39;m also working with IntelliJ.","title":"How To Add Columns to Gridpane in JavaFX","body":"<p>I'm trying to create a Tic-Tac-Toe-like program with a board size that users can select. I can't figure out how to adjust the size of a gridpane in the code. My only lead was using ColumnConstraints and RowContraints, but I have two issues:</p>\n<ol>\n<li>When adding a row or column, it won't add multiple rows and columns in a for loop.</li>\n<li>I can't figure out how to resize both the grid and the window so that larger version of the grid is usable.</li>\n</ol>\n<p>Code for function here:</p>\n<pre><code>public void changeGameBoard(ActionEvent event) {\n    if (boardNumber &gt; 2) {\n        boardNumber = 50;\n        sizeLabel.setText(&quot;Set at :&quot; + boardNumber);\n        ColumnConstraints column1 = new ColumnConstraints();\n        RowConstraints row1 = new RowConstraints();\n        for (int i = 0; i &lt; boardNumber; i++) {\n            column1.setPrefWidth(100);\n            row1.setPrefHeight((100));\n        }\n        gameBoard.getColumnConstraints().add(column1);\n        gameBoard.getRowConstraints().add(row1);\n        gameBoard.setMinSize(500,500);\n    }\n}\n</code></pre>\n<p>I've tried playing with padding in SceneBuilder and with <code>setMinSize</code> of my gridpane (the gameBoard object). I can't find any resources to help though. I'm also working with IntelliJ.</p>\n"},{"tags":["java","exception","lambda","java-8"],"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":1,"creation_date":1438027404,"post_id":19757300,"comment_id":51269067,"body_markdown":"Related: http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception","body":"Related: <a href=\"http://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\" title=\"java 8 lambda function that throws exception\">stackoverflow.com/questions/18198176/&hellip;</a>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1438342273,"post_id":19757300,"comment_id":51423588,"body_markdown":"Related: http://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189","body":"Related: <a href=\"http://stackoverflow.com/questions/31637892/throwing-exception-from-lambda/31638189\" title=\"throwing exception from lambda\">stackoverflow.com/questions/31637892/&hellip;</a>"},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":5,"creation_date":1445698231,"post_id":19757300,"comment_id":54436913,"body_markdown":"The simple and correct answer: catch the exception inside the lambda.","body":"The simple and correct answer: catch the exception inside the lambda."},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672488507,"post_id":19757300,"comment_id":132297447,"body_markdown":"I am not sure but if `Account` object is domain in such application like `Bank` then why we would throw `IoException` on the domain method. In an ideal scenario we would be having some service where we might be fetching the account and then active and other state for that domain would be already there and we can just filter or do operation on those.","body":"I am not sure but if <code>Account</code> object is domain in such application like <code>Bank</code> then why we would throw <code>IoException</code> on the domain method. In an ideal scenario we would be having some service where we might be fetching the account and then active and other state for that domain would be already there and we can just filter or do operation on those."}],"answers":[{"comments":[{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":5,"creation_date":1440505410,"post_id":19757456,"comment_id":52291857,"body_markdown":"I&#39;ve seen NettyIO do the &quot;sneaky throw&quot; before, and I wanted to throw my chair out the window.  &quot;What?  Where did that checked exception leak from?&quot;  This is the first legit use case for sneaky throw I have seen yet.  As a programmer you have to be vigilant about indicating sneaky throw is possible.  Maybe better is just to create another stream interface/impl that supports checked exception?","body":"I&#39;ve seen NettyIO do the &quot;sneaky throw&quot; before, and I wanted to throw my chair out the window.  &quot;What?  Where did that checked exception leak from?&quot;  This is the first legit use case for sneaky throw I have seen yet.  As a programmer you have to be vigilant about indicating sneaky throw is possible.  Maybe better is just to create another stream interface/impl that supports checked exception?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":9,"creation_date":1440505645,"post_id":19757456,"comment_id":52292038,"body_markdown":"No sane API should deliver undeclared checked exceptions to the client, that&#39;s for sure. _Within_ the API there can be an understanding, though, that checked exception can leak. They don&#39;t cause harm as long as they are just another sign of general failure and are about to be caught and handled wholesale.","body":"No sane API should deliver undeclared checked exceptions to the client, that&#39;s for sure. <i>Within</i> the API there can be an understanding, though, that checked exception can leak. They don&#39;t cause harm as long as they are just another sign of general failure and are about to be caught and handled wholesale."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":5,"creation_date":1443109284,"post_id":19757456,"comment_id":53370087,"body_markdown":"@kevinarpe This is the exact reason why sneaky throws are a bad idea.  Shortcircuiting the compiler is bound to confuse future maintainers.","body":"@kevinarpe This is the exact reason why sneaky throws are a bad idea.  Shortcircuiting the compiler is bound to confuse future maintainers."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1443121725,"post_id":19757456,"comment_id":53377248,"body_markdown":"@Thorbj&#248;rnRavnAndersen Checked exceptions are another bad idea, especially within lambda bodies. If they weren&#39;t, nobody would ever consider the sneaky throw.","body":"@Thorbj&#248;rnRavnAndersen Checked exceptions are another bad idea, especially within lambda bodies. If they weren&#39;t, nobody would ever consider the sneaky throw."},{"owner":{"account_id":1416522,"reputation":91374,"user_id":3553087,"display_name":"Brian Goetz"},"score":36,"creation_date":1445698616,"post_id":19757456,"comment_id":54437053,"body_markdown":"Just because you don&#39;t like the rules, doesn&#39;t mean its a good idea to take the law into your own hands.  Your advice is irresponsible because it places the convenience of the code writer over the far more important considerations of transparency and maintainability of the program.","body":"Just because you don&#39;t like the rules, doesn&#39;t mean its a good idea to take the law into your own hands.  Your advice is irresponsible because it places the convenience of the code writer over the far more important considerations of transparency and maintainability of the program."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":46,"creation_date":1445712406,"post_id":19757456,"comment_id":54441779,"body_markdown":"@brian Just because something is a rule doesn&#39;t mean it&#39;s a good idea. But I&#39;m surprised that you refer to the second part of my answer as &quot;advice&quot; since I thought I made it patently obvious what I propose as a solution, and what I offer as an FYI to the interested reader, with profuse disclaimers.","body":"@brian Just because something is a rule doesn&#39;t mean it&#39;s a good idea. But I&#39;m surprised that you refer to the second part of my answer as &quot;advice&quot; since I thought I made it patently obvious what I propose as a solution, and what I offer as an FYI to the interested reader, with profuse disclaimers."},{"owner":{"account_id":6931909,"reputation":376,"user_id":5321133,"accept_rate":88,"display_name":"leif_good"},"score":1,"creation_date":1461338081,"post_id":19757456,"comment_id":61169272,"body_markdown":"Would you suggest to use the lambda-expression with a try-catch-block when iterating over a java-stream with forEach instead of an enhanced-for-loop? Im updating one of my older projects to Java 8. The lambda-expressions came in handy for a long time, but there is a part in the project that handles exception at a high level, meaning everything keeps passing the thrown Exceptions. Are the pros of lambda-expressions overwhelming the cons of the constrained way to handle Exceptions within those expression?","body":"Would you suggest to use the lambda-expression with a try-catch-block when iterating over a java-stream with forEach instead of an enhanced-for-loop? Im updating one of my older projects to Java 8. The lambda-expressions came in handy for a long time, but there is a part in the project that handles exception at a high level, meaning everything keeps passing the thrown Exceptions. Are the pros of lambda-expressions overwhelming the cons of the constrained way to handle Exceptions within those expression?"},{"owner":{"account_id":2772037,"reputation":795,"user_id":2386444,"display_name":"wpodgorski"},"score":1,"creation_date":1462816616,"post_id":19757456,"comment_id":61785580,"body_markdown":"I find your try-catch lambda notation useful, although there is a small syntax error there, the correct form looks like this:\n\n`s = s.filter(a -&gt; {\n        try {\n            return a.isActive(); \n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n);`","body":"I find your try-catch lambda notation useful, although there is a small syntax error there, the correct form looks like this:  <code>s = s.filter(a -&gt; {         try {             return a.isActive();          } catch (IOException e) {             throw new UncheckedIOException(e);         }     } );</code>"},{"owner":{"account_id":4177132,"reputation":6156,"user_id":3423324,"accept_rate":67,"display_name":"luckydonald"},"score":0,"creation_date":1475788871,"post_id":19757456,"comment_id":67097097,"body_markdown":"Note, that class is called `Utils`, if you wonder about `Utils.&lt;RuntimeException, T&gt;sneakyThrow0(e);`","body":"Note, that class is called <code>Utils</code>, if you wonder about <code>Utils.&lt;RuntimeException, T&gt;sneakyThrow0(e);</code>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1475820869,"post_id":19757456,"comment_id":67105719,"body_markdown":"@luckydonald The class in this answer is called `Util`, not `Utils`, but the name has no particular significance.","body":"@luckydonald The class in this answer is called <code>Util</code>, not <code>Utils</code>, but the name has no particular significance."},{"owner":{"account_id":1448448,"reputation":685,"user_id":1366169,"accept_rate":80,"display_name":"Bernhard"},"score":1,"creation_date":1549698702,"post_id":19757456,"comment_id":96004210,"body_markdown":"There is a library that provides these and some more helpers: https://github.com/zalando/faux-pas","body":"There is a library that provides these and some more helpers: <a href=\"https://github.com/zalando/faux-pas\" rel=\"nofollow noreferrer\">github.com/zalando/faux-pas</a>"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1549699293,"post_id":19757456,"comment_id":96004363,"body_markdown":"@Bernhard Faux Pas uses an approach that has been around for a long time and its weakness is that it must special-case each functional interface individually. In my approach, all you need is just two functional interfaces to un-check _any_ functional interface.","body":"@Bernhard Faux Pas uses an approach that has been around for a long time and its weakness is that it must special-case each functional interface individually. In my approach, all you need is just two functional interfaces to un-check <i>any</i> functional interface."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1553716651,"post_id":19757456,"comment_id":97492852,"body_markdown":"You need to add `return false;` to the catch condition. Otherwise there&#39;s an error.","body":"You need to add <code>return false;</code> to the catch condition. Otherwise there&#39;s an error."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1553767663,"post_id":19757456,"comment_id":97510124,"body_markdown":"@geneb. Which of all the catch conditions in the answer, and what&#39;s the error?","body":"@geneb. Which of all the catch conditions in the answer, and what&#39;s the error?"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1553780198,"post_id":19757456,"comment_id":97518184,"body_markdown":"The very first code snippet. You have `return a.isActive();` in the Try block. But you also need an explicit `return` in the Catch block.","body":"The very first code snippet. You have <code>return a.isActive();</code> in the Try block. But you also need an explicit <code>return</code> in the Catch block."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1553780487,"post_id":19757456,"comment_id":97518399,"body_markdown":"@geneb. Code after the `throw` statement is unreachable so actually if I added it, _then_ I&#39;d have a compiler error.","body":"@geneb. Code after the <code>throw</code> statement is unreachable so actually if I added it, <i>then</i> I&#39;d have a compiler error."},{"owner":{"account_id":93255,"reputation":8911,"user_id":255244,"accept_rate":93,"display_name":"Marty Neal"},"score":2,"creation_date":1559322374,"post_id":19757456,"comment_id":99396751,"body_markdown":"The `sneakyThrow` method can be found in `apache.commons.lang3.exception.ExceptionUtils` under the name `typeErasure`.  Use it if you can so that *you* don&#39;t have to be the committer that added `sneakyThrow` to your project. ;-)","body":"The <code>sneakyThrow</code> method can be found in <code>apache.commons.lang3.exception.ExceptionUtils</code> under the name <code>typeErasure</code>.  Use it if you can so that <i>you</i> don&#39;t have to be the committer that added <code>sneakyThrow</code> to your project. ;-)"},{"owner":{"account_id":181087,"reputation":131,"user_id":2491204,"display_name":"Infernoz"},"score":0,"creation_date":1581982173,"post_id":19757456,"comment_id":106611825,"body_markdown":"The misguided design decision of Checked Exceptions should have been mitigated by javac supporting a compile-scope attribute and functionality like the Project Lombok @SneakyThrows attribute, but with support for more scopes like a single statement, including a chained stream sequence.","body":"The misguided design decision of Checked Exceptions should have been mitigated by javac supporting a compile-scope attribute and functionality like the Project Lombok @SneakyThrows attribute, but with support for more scopes like a single statement, including a chained stream sequence."},{"owner":{"account_id":7066348,"reputation":2543,"user_id":5468701,"accept_rate":50,"display_name":"shiva"},"score":0,"creation_date":1640287287,"post_id":19757456,"comment_id":124563758,"body_markdown":"`private static &lt;T extends Throwable&gt; void sneakyThrow(Throwable t) throws T` - From this method signature, how does Java infers the value of T, i.e., exception class that will be re-thrown?","body":"<code>private static &lt;T extends Throwable&gt; void sneakyThrow(Throwable t) throws T</code> - From this method signature, how does Java infers the value of T, i.e., exception class that will be re-thrown?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1640422167,"post_id":19757456,"comment_id":124585384,"body_markdown":"@shiva Lacking any other constraints, it will infer it to `RuntimeException`. The point is that you can throw something that isn&#39;t a `RuntimeException` from this because no actual cast is made with `(T) t`, and the method doesn&#39;t declare a checked exception.","body":"@shiva Lacking any other constraints, it will infer it to <code>RuntimeException</code>. The point is that you can throw something that isn&#39;t a <code>RuntimeException</code> from this because no actual cast is made with <code>(T) t</code>, and the method doesn&#39;t declare a checked exception."},{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":0,"creation_date":1644284021,"post_id":19757456,"comment_id":125560113,"body_markdown":"How could one modify `uncheckCall` to also accept void return type statements? I cannot seem to get it to work for both `&lt;T&gt; T&gt;` return type and `void`.","body":"How could one modify <code>uncheckCall</code> to also accept void return type statements? I cannot seem to get it to work for both <code>&lt;T&gt; T&gt;</code> return type and <code>void</code>."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1644304850,"post_id":19757456,"comment_id":125564059,"body_markdown":"@Philzen The inability to do that is the reason the code in the answer declares `uncheckRun` and `RunnableExc`.","body":"@Philzen The inability to do that is the reason the code in the answer declares <code>uncheckRun</code> and <code>RunnableExc</code>."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":22,"down_vote_count":0,"up_vote_count":238,"is_accepted":true,"score":238,"last_activity_date":1659171238,"creation_date":1383509064,"answer_id":19757456,"question_id":19757300,"body_markdown":"You must catch the exception *before* it escapes the lambda:\r\n\r\n```java\r\ns = s.filter(a -&gt; {\r\n    try {\r\n        return a.isActive();\r\n    } catch (IOException e) {\r\n        throw new UncheckedIOException(e);\r\n    }\r\n});\r\n```\r\n\r\nConsider the fact that the lambda isn&#39;t evaluated at the place you write it, but at some completely unrelated place, within a JDK class. So that would be the point where that checked exception would be thrown, and at that place it isn&#39;t declared.\r\n\r\nYou can deal with it by using a wrapper of your lambda that translates checked exceptions to unchecked ones:\r\n\r\n```java\r\npublic static &lt;T&gt; T uncheckCall(Callable&lt;T&gt; callable) {\r\n    try {\r\n        return callable.call();\r\n    } catch (RuntimeException e) {\r\n        throw e;\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nYour example would be written as\r\n\r\n    return s.filter(a -&gt; uncheckCall(a::isActive))\r\n            .map(Account::getNumber)\r\n            .collect(toSet());\r\n\r\n----\r\n\r\nIn my projects I deal with this issue without wrapping; instead I use a method which effectively defuses compiler&#39;s checking of exceptions. Needless to say, this should be handled with care and everybody on the project must be aware that a checked exception may appear where it is not declared. This is the plumbing code:\r\n\r\n```\r\npublic static &lt;T&gt; T uncheckCall(Callable&lt;T&gt; callable) {\r\n    try {\r\n        return callable.call();\r\n    } catch (Exception e) {\r\n        sneakyThrow(e);\r\n        return null; // Unreachable but needed to satisfy compiler\r\n    }\r\n}\r\n\r\npublic static void uncheckRun(RunnableExc r) {\r\n    try {\r\n        r.run();\r\n    } catch (Exception e) {\r\n        sneakyThrow(e);\r\n    }\r\n}\r\n\r\npublic interface RunnableExc {\r\n    void run() throws Exception;\r\n}\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nprivate static &lt;T extends Throwable&gt; void sneakyThrow(Throwable t) throws T {\r\n    throw (T) t;\r\n}\r\n```\r\n\r\nand you can expect to get an [`IOException`][1] thrown in your face, even though [`collect`][2] does not declare it. In *most, but not all* real-life cases you would want to just rethrow the exception, anyway, and handle it as a generic failure. In all those cases, nothing is lost in clarity or correctness. Just beware of those other cases, where you would actually want to react to the exception on the spot. The developer will not be made aware by the compiler that there is an `IOException` to catch there and the compiler will in fact complain if you try to catch it because we have fooled it into believing that no such exception can be thrown.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>You must catch the exception <em>before</em> it escapes the lambda:</p>\n<pre class=\"lang-java prettyprint-override\"><code>s = s.filter(a -&gt; {\n    try {\n        return a.isActive();\n    } catch (IOException e) {\n        throw new UncheckedIOException(e);\n    }\n});\n</code></pre>\n<p>Consider the fact that the lambda isn't evaluated at the place you write it, but at some completely unrelated place, within a JDK class. So that would be the point where that checked exception would be thrown, and at that place it isn't declared.</p>\n<p>You can deal with it by using a wrapper of your lambda that translates checked exceptions to unchecked ones:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; T uncheckCall(Callable&lt;T&gt; callable) {\n    try {\n        return callable.call();\n    } catch (RuntimeException e) {\n        throw e;\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Your example would be written as</p>\n<pre><code>return s.filter(a -&gt; uncheckCall(a::isActive))\n        .map(Account::getNumber)\n        .collect(toSet());\n</code></pre>\n<hr />\n<p>In my projects I deal with this issue without wrapping; instead I use a method which effectively defuses compiler's checking of exceptions. Needless to say, this should be handled with care and everybody on the project must be aware that a checked exception may appear where it is not declared. This is the plumbing code:</p>\n<pre><code>public static &lt;T&gt; T uncheckCall(Callable&lt;T&gt; callable) {\n    try {\n        return callable.call();\n    } catch (Exception e) {\n        sneakyThrow(e);\n        return null; // Unreachable but needed to satisfy compiler\n    }\n}\n\npublic static void uncheckRun(RunnableExc r) {\n    try {\n        r.run();\n    } catch (Exception e) {\n        sneakyThrow(e);\n    }\n}\n\npublic interface RunnableExc {\n    void run() throws Exception;\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\nprivate static &lt;T extends Throwable&gt; void sneakyThrow(Throwable t) throws T {\n    throw (T) t;\n}\n</code></pre>\n<p>and you can expect to get an <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/IOException.html\" rel=\"noreferrer\"><code>IOException</code></a> thrown in your face, even though <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.stream.Collector)\" rel=\"noreferrer\"><code>collect</code></a> does not declare it. In <em>most, but not all</em> real-life cases you would want to just rethrow the exception, anyway, and handle it as a generic failure. In all those cases, nothing is lost in clarity or correctness. Just beware of those other cases, where you would actually want to react to the exception on the spot. The developer will not be made aware by the compiler that there is an <code>IOException</code> to catch there and the compiler will in fact complain if you try to catch it because we have fooled it into believing that no such exception can be thrown.</p>\n"},{"comments":[{"owner":{"account_id":1519182,"reputation":375,"user_id":1419375,"accept_rate":56,"display_name":"yaromir"},"score":0,"creation_date":1620497989,"post_id":19759653,"comment_id":119220570,"body_markdown":"Also, if you choose to use `propagate` method from Guava, then take into account that it is deprecated. Use `throwIfUnchecked` instead.","body":"Also, if you choose to use <code>propagate</code> method from Guava, then take into account that it is deprecated. Use <code>throwIfUnchecked</code> instead."},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":1,"creation_date":1628212382,"post_id":19759653,"comment_id":121366709,"body_markdown":"There is a good reason why Guava deprecated `propagate`: https://github.com/google/guava/wiki/Why-we-deprecated-Throwables.propagate","body":"There is a good reason why Guava deprecated <code>propagate</code>: <a href=\"https://github.com/google/guava/wiki/Why-we-deprecated-Throwables.propagate\" rel=\"nofollow noreferrer\">github.com/google/guava/wiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":2078312,"reputation":16240,"user_id":1851024,"accept_rate":82,"display_name":"Andrey Chaschev"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1383522812,"creation_date":1383522470,"answer_id":19759653,"question_id":19757300,"body_markdown":"You can also propagate your static pain with lambdas, so the whole thing looks readable:\r\n\r\n    s.filter(a -&gt; propagate(a::isActive))\r\n\r\n`propagate` here receives `java.util.concurrent.Callable` as a parameter and converts any exception caught during the call into `RuntimeException`. There is a similar conversion method [Throwables#propagate(Throwable)][1] in Guava.\r\n\r\nThis method seems being essential for lambda method chaining, so I hope one day it will be added to one of the popular libs or this propagating behavior would be by default.\r\n\r\n    public class PropagateExceptionsSample {\r\n        // a simplified version of Throwables#propagate\r\n        public static RuntimeException runtime(Throwable e) {\r\n            if (e instanceof RuntimeException) {\r\n                return (RuntimeException)e;\r\n            }\r\n    \r\n            return new RuntimeException(e);\r\n        }\r\n \r\n        // this is a new one, n/a in public libs\r\n        // Callable just suits as a functional interface in JDK throwing Exception \r\n        public static &lt;V&gt; V propagate(Callable&lt;V&gt; callable){\r\n            try {\r\n                return callable.call();\r\n            } catch (Exception e) {\r\n                throw runtime(e);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            class Account{\r\n                String name;    \r\n                Account(String name) { this.name = name;}\r\n    \r\n                public boolean isActive() throws IOException {\r\n                    return name.startsWith(&quot;a&quot;);\r\n                }\r\n            }\r\n    \r\n    \r\n            List&lt;Account&gt; accounts = new ArrayList&lt;&gt;(Arrays.asList(new Account(&quot;andrey&quot;), new Account(&quot;angela&quot;), new Account(&quot;pamela&quot;)));\r\n    \r\n            Stream&lt;Account&gt; s = accounts.stream();\r\n    \r\n            s\r\n              .filter(a -&gt; propagate(a::isActive))\r\n              .map(a -&gt; a.name)\r\n              .forEach(System.out::println);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Throwables.html#propagate%28java.lang.Throwable%29","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>You can also propagate your static pain with lambdas, so the whole thing looks readable:</p>\n\n<pre><code>s.filter(a -&gt; propagate(a::isActive))\n</code></pre>\n\n<p><code>propagate</code> here receives <code>java.util.concurrent.Callable</code> as a parameter and converts any exception caught during the call into <code>RuntimeException</code>. There is a similar conversion method <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Throwables.html#propagate%28java.lang.Throwable%29\">Throwables#propagate(Throwable)</a> in Guava.</p>\n\n<p>This method seems being essential for lambda method chaining, so I hope one day it will be added to one of the popular libs or this propagating behavior would be by default.</p>\n\n<pre><code>public class PropagateExceptionsSample {\n    // a simplified version of Throwables#propagate\n    public static RuntimeException runtime(Throwable e) {\n        if (e instanceof RuntimeException) {\n            return (RuntimeException)e;\n        }\n\n        return new RuntimeException(e);\n    }\n\n    // this is a new one, n/a in public libs\n    // Callable just suits as a functional interface in JDK throwing Exception \n    public static &lt;V&gt; V propagate(Callable&lt;V&gt; callable){\n        try {\n            return callable.call();\n        } catch (Exception e) {\n            throw runtime(e);\n        }\n    }\n\n    public static void main(String[] args) {\n        class Account{\n            String name;    \n            Account(String name) { this.name = name;}\n\n            public boolean isActive() throws IOException {\n                return name.startsWith(\"a\");\n            }\n        }\n\n\n        List&lt;Account&gt; accounts = new ArrayList&lt;&gt;(Arrays.asList(new Account(\"andrey\"), new Account(\"angela\"), new Account(\"pamela\")));\n\n        Stream&lt;Account&gt; s = accounts.stream();\n\n        s\n          .filter(a -&gt; propagate(a::isActive))\n          .map(a -&gt; a.name)\n          .forEach(System.out::println);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1730551,"reputation":13017,"user_id":1584255,"accept_rate":65,"display_name":"The Coordinator"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1512457153,"creation_date":1383531018,"answer_id":19760646,"question_id":19757300,"body_markdown":"To properly add IOException (to RuntimeException) handling code, your method will look like this:\r\n\r\n    Stream&lt;Account&gt; s =  accounts.values().stream();\r\n\r\n    s = s.filter(a -&gt; { try { return a.isActive(); } \r\n      catch (IOException e) { throw new RuntimeException(e); }});\r\n\r\n    Stream&lt;String&gt; ss = s.map(a -&gt; { try { return a.getNumber() }\r\n      catch (IOException e) { throw new RuntimeException(e); }});\r\n\r\n    return ss.collect(Collectors.toSet());\r\n\r\nThe problem now is that the `IOException` will have to be captured as a `RuntimeException` and converted back to an `IOException` -- and that will add even more code to the above method.\r\n\r\nWhy use `Stream` when it can be done just like this -- and the method throws `IOException` so no extra code is needed for that too:\r\n\r\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\r\n    for(Account a: accounts.values()){\r\n      if(a.isActive()){\r\n         set.add(a.getNumber());\r\n      } \r\n    }\r\n    return set;\r\n\r\n","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>To properly add IOException (to RuntimeException) handling code, your method will look like this:</p>\n\n<pre><code>Stream&lt;Account&gt; s =  accounts.values().stream();\n\ns = s.filter(a -&gt; { try { return a.isActive(); } \n  catch (IOException e) { throw new RuntimeException(e); }});\n\nStream&lt;String&gt; ss = s.map(a -&gt; { try { return a.getNumber() }\n  catch (IOException e) { throw new RuntimeException(e); }});\n\nreturn ss.collect(Collectors.toSet());\n</code></pre>\n\n<p>The problem now is that the <code>IOException</code> will have to be captured as a <code>RuntimeException</code> and converted back to an <code>IOException</code> -- and that will add even more code to the above method.</p>\n\n<p>Why use <code>Stream</code> when it can be done just like this -- and the method throws <code>IOException</code> so no extra code is needed for that too:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;();\nfor(Account a: accounts.values()){\n  if(a.isActive()){\n     set.add(a.getNumber());\n  } \n}\nreturn set;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"score":0,"creation_date":1440506513,"post_id":23188648,"comment_id":52292595,"body_markdown":"Hello... tiny bug?  `new StreamBridge&lt;&gt;(ts, IOException.class);` -&gt; `new StreamBridge&lt;&gt;(s, IOException.class);`","body":"Hello... tiny bug?  <code>new StreamBridge&lt;&gt;(ts, IOException.class);</code> -&gt; <code>new StreamBridge&lt;&gt;(s, IOException.class);</code>"},{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":1,"creation_date":1440561811,"post_id":23188648,"comment_id":52318962,"body_markdown":"@kevinarpe Yep. It also should have said `StreamAdapter`.","body":"@kevinarpe Yep. It also should have said <code>StreamAdapter</code>."}],"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1440561775,"creation_date":1398035744,"answer_id":23188648,"question_id":19757300,"body_markdown":"You can potentially roll your own `Stream` variant by wrapping your lambda to throw an unchecked exception and then later unwrapping that unchecked exception on terminal operations:\r\n\r\n    @FunctionalInterface\r\n    public interface ThrowingPredicate&lt;T, X extends Throwable&gt; {\r\n        public boolean test(T t) throws X;\r\n    }\r\n    \r\n    @FunctionalInterface\r\n    public interface ThrowingFunction&lt;T, R, X extends Throwable&gt; {\r\n        public R apply(T t) throws X;\r\n    }\r\n\r\n    @FunctionalInterface\r\n    public interface ThrowingSupplier&lt;R, X extends Throwable&gt; {\r\n        public R get() throws X;\r\n    }\r\n    \r\n    public interface ThrowingStream&lt;T, X extends Throwable&gt; {\r\n        public ThrowingStream&lt;T, X&gt; filter(\r\n                ThrowingPredicate&lt;? super T, ? extends X&gt; predicate);\r\n    \r\n        public &lt;R&gt; ThrowingStream&lt;T, R&gt; map(\r\n                ThrowingFunction&lt;? super T, ? extends R, ? extends X&gt; mapper);\r\n    \r\n        public &lt;A, R&gt; R collect(Collector&lt;? super T, A, R&gt; collector) throws X;\r\n    \r\n        // etc\r\n    }\r\n    \r\n    class StreamAdapter&lt;T, X extends Throwable&gt; implements ThrowingStream&lt;T, X&gt; {\r\n        private static class AdapterException extends RuntimeException {\r\n            public AdapterException(Throwable cause) {\r\n                super(cause);\r\n            }\r\n        }\r\n    \r\n        private final Stream&lt;T&gt; delegate;\r\n        private final Class&lt;X&gt; x;\r\n    \r\n        StreamAdapter(Stream&lt;T&gt; delegate, Class&lt;X&gt; x) {\r\n            this.delegate = delegate;\r\n            this.x = x;\r\n        }\r\n    \r\n        private &lt;R&gt; R maskException(ThrowingSupplier&lt;R, X&gt; method) {\r\n            try {\r\n                return method.get();\r\n            } catch (Throwable t) {\r\n                if (x.isInstance(t)) {\r\n                    throw new AdapterException(t);\r\n                } else {\r\n                    throw t;\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public ThrowingStream&lt;T, X&gt; filter(ThrowingPredicate&lt;T, X&gt; predicate) {\r\n            return new StreamAdapter&lt;&gt;(\r\n                    delegate.filter(t -&gt; maskException(() -&gt; predicate.test(t))), x);\r\n        }\r\n    \r\n        @Override\r\n        public &lt;R&gt; ThrowingStream&lt;R, X&gt; map(ThrowingFunction&lt;T, R, X&gt; mapper) {\r\n            return new StreamAdapter&lt;&gt;(\r\n                    delegate.map(t -&gt; maskException(() -&gt; mapper.apply(t))), x);\r\n        }\r\n    \r\n        private &lt;R&gt; R unmaskException(Supplier&lt;R&gt; method) throws X {\r\n            try {\r\n                return method.get();\r\n            } catch (AdapterException e) {\r\n                throw x.cast(e.getCause());\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public &lt;A, R&gt; R collect(Collector&lt;T, A, R&gt; collector) throws X {\r\n            return unmaskException(() -&gt; delegate.collect(collector));\r\n        }\r\n    }\r\n\r\nThen you could use this the same exact way as a `Stream`:\r\n\r\n    Stream&lt;Account&gt; s = accounts.values().stream();\r\n    ThrowingStream&lt;Account, IOException&gt; ts = new StreamAdapter&lt;&gt;(s, IOException.class);\r\n    return ts.filter(Account::isActive).map(Account::getNumber).collect(toSet());\r\n\r\n\r\nThis solution would require quite a bit of boilerplate, so I suggest you take a look at the [library I already made][1] which does exactly what I have described here for the entire `Stream` class (and more!).\r\n\r\n\r\n  [1]: https://github.com/JeffreyFalgout/ThrowingStream","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>You can potentially roll your own <code>Stream</code> variant by wrapping your lambda to throw an unchecked exception and then later unwrapping that unchecked exception on terminal operations:</p>\n\n<pre><code>@FunctionalInterface\npublic interface ThrowingPredicate&lt;T, X extends Throwable&gt; {\n    public boolean test(T t) throws X;\n}\n\n@FunctionalInterface\npublic interface ThrowingFunction&lt;T, R, X extends Throwable&gt; {\n    public R apply(T t) throws X;\n}\n\n@FunctionalInterface\npublic interface ThrowingSupplier&lt;R, X extends Throwable&gt; {\n    public R get() throws X;\n}\n\npublic interface ThrowingStream&lt;T, X extends Throwable&gt; {\n    public ThrowingStream&lt;T, X&gt; filter(\n            ThrowingPredicate&lt;? super T, ? extends X&gt; predicate);\n\n    public &lt;R&gt; ThrowingStream&lt;T, R&gt; map(\n            ThrowingFunction&lt;? super T, ? extends R, ? extends X&gt; mapper);\n\n    public &lt;A, R&gt; R collect(Collector&lt;? super T, A, R&gt; collector) throws X;\n\n    // etc\n}\n\nclass StreamAdapter&lt;T, X extends Throwable&gt; implements ThrowingStream&lt;T, X&gt; {\n    private static class AdapterException extends RuntimeException {\n        public AdapterException(Throwable cause) {\n            super(cause);\n        }\n    }\n\n    private final Stream&lt;T&gt; delegate;\n    private final Class&lt;X&gt; x;\n\n    StreamAdapter(Stream&lt;T&gt; delegate, Class&lt;X&gt; x) {\n        this.delegate = delegate;\n        this.x = x;\n    }\n\n    private &lt;R&gt; R maskException(ThrowingSupplier&lt;R, X&gt; method) {\n        try {\n            return method.get();\n        } catch (Throwable t) {\n            if (x.isInstance(t)) {\n                throw new AdapterException(t);\n            } else {\n                throw t;\n            }\n        }\n    }\n\n    @Override\n    public ThrowingStream&lt;T, X&gt; filter(ThrowingPredicate&lt;T, X&gt; predicate) {\n        return new StreamAdapter&lt;&gt;(\n                delegate.filter(t -&gt; maskException(() -&gt; predicate.test(t))), x);\n    }\n\n    @Override\n    public &lt;R&gt; ThrowingStream&lt;R, X&gt; map(ThrowingFunction&lt;T, R, X&gt; mapper) {\n        return new StreamAdapter&lt;&gt;(\n                delegate.map(t -&gt; maskException(() -&gt; mapper.apply(t))), x);\n    }\n\n    private &lt;R&gt; R unmaskException(Supplier&lt;R&gt; method) throws X {\n        try {\n            return method.get();\n        } catch (AdapterException e) {\n            throw x.cast(e.getCause());\n        }\n    }\n\n    @Override\n    public &lt;A, R&gt; R collect(Collector&lt;T, A, R&gt; collector) throws X {\n        return unmaskException(() -&gt; delegate.collect(collector));\n    }\n}\n</code></pre>\n\n<p>Then you could use this the same exact way as a <code>Stream</code>:</p>\n\n<pre><code>Stream&lt;Account&gt; s = accounts.values().stream();\nThrowingStream&lt;Account, IOException&gt; ts = new StreamAdapter&lt;&gt;(s, IOException.class);\nreturn ts.filter(Account::isActive).map(Account::getNumber).collect(toSet());\n</code></pre>\n\n<p>This solution would require quite a bit of boilerplate, so I suggest you take a look at the <a href=\"https://github.com/JeffreyFalgout/ThrowingStream\" rel=\"noreferrer\">library I already made</a> which does exactly what I have described here for the entire <code>Stream</code> class (and more!).</p>\n"},{"comments":[{"owner":{"account_id":334098,"reputation":7728,"user_id":660311,"accept_rate":85,"display_name":"Spycho"},"score":0,"creation_date":1427456501,"post_id":24539835,"comment_id":46794500,"body_markdown":"The Java 8 blog link is dead.","body":"The Java 8 blog link is dead."}],"tags":[],"owner":{"account_id":898880,"reputation":310,"user_id":935546,"display_name":"Nik Handyman"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1443096303,"creation_date":1404330637,"answer_id":24539835,"question_id":19757300,"body_markdown":"Use #propagate() method. Sample non-Guava implementation from [Java 8 Blog by Sam Beran][1]:\r\n\r\n    public class Throwables {\r\n        public interface ExceptionWrapper&lt;E&gt; {\r\n            E wrap(Exception e);\r\n        }\r\n    \r\n        public static &lt;T&gt; T propagate(Callable&lt;T&gt; callable) throws RuntimeException {\r\n            return propagate(callable, RuntimeException::new);\r\n        }\r\n    \r\n        public static &lt;T, E extends Throwable&gt; T propagate(Callable&lt;T&gt; callable, ExceptionWrapper&lt;E&gt; wrapper) throws E {\r\n            try {\r\n                return callable.call();\r\n            } catch (RuntimeException e) {\r\n                throw e;\r\n            } catch (Exception e) {\r\n                throw wrapper.wrap(e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://web.archive.org/web/20140406000326/http://java8blog.com/post/37385501926/fixing-checked-exceptions-in-java-8","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>Use #propagate() method. Sample non-Guava implementation from <a href=\"http://web.archive.org/web/20140406000326/http://java8blog.com/post/37385501926/fixing-checked-exceptions-in-java-8\" rel=\"nofollow\">Java 8 Blog by Sam Beran</a>:</p>\n\n<pre><code>public class Throwables {\n    public interface ExceptionWrapper&lt;E&gt; {\n        E wrap(Exception e);\n    }\n\n    public static &lt;T&gt; T propagate(Callable&lt;T&gt; callable) throws RuntimeException {\n        return propagate(callable, RuntimeException::new);\n    }\n\n    public static &lt;T, E extends Throwable&gt; T propagate(Callable&lt;T&gt; callable, ExceptionWrapper&lt;E&gt; wrapper) throws E {\n        try {\n            return callable.call();\n        } catch (RuntimeException e) {\n            throw e;\n        } catch (Exception e) {\n            throw wrapper.wrap(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2650998,"reputation":29491,"user_id":3411681,"accept_rate":61,"display_name":"Marcelo Glasberg"},"comment_count":0,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1519672591,"creation_date":1419624933,"answer_id":27661524,"question_id":19757300,"body_markdown":"This `UtilException` helper class lets you use any checked exceptions in Java streams, like this:\r\n\r\n    Stream.of(&quot;java.lang.Object&quot;, &quot;java.lang.Integer&quot;, &quot;java.lang.String&quot;)\r\n          .map(rethrowFunction(Class::forName))\r\n          .collect(Collectors.toList());\r\n\r\nNote `Class::forName` throws `ClassNotFoundException`, which is **checked**. The stream itself also throws `ClassNotFoundException`, and NOT some wrapping unchecked exception.\r\n\r\n\r\n    public final class UtilException {\r\n\r\n    @FunctionalInterface\r\n    public interface Consumer_WithExceptions&lt;T, E extends Exception&gt; {\r\n        void accept(T t) throws E;\r\n        }\r\n\r\n    @FunctionalInterface\r\n    public interface BiConsumer_WithExceptions&lt;T, U, E extends Exception&gt; {\r\n        void accept(T t, U u) throws E;\r\n        }\r\n\r\n    @FunctionalInterface\r\n    public interface Function_WithExceptions&lt;T, R, E extends Exception&gt; {\r\n        R apply(T t) throws E;\r\n        }\r\n\r\n    @FunctionalInterface\r\n    public interface Supplier_WithExceptions&lt;T, E extends Exception&gt; {\r\n        T get() throws E;\r\n        }\r\n\r\n    @FunctionalInterface\r\n    public interface Runnable_WithExceptions&lt;E extends Exception&gt; {\r\n        void run() throws E;\r\n        }\r\n\r\n    /** .forEach(rethrowConsumer(name -&gt; System.out.println(Class.forName(name)))); or .forEach(rethrowConsumer(ClassNameUtil::println)); */\r\n    public static &lt;T, E extends Exception&gt; Consumer&lt;T&gt; rethrowConsumer(Consumer_WithExceptions&lt;T, E&gt; consumer) throws E {\r\n        return t -&gt; {\r\n            try { consumer.accept(t); }\r\n            catch (Exception exception) { throwAsUnchecked(exception); }\r\n            };\r\n        }\r\n\r\n    public static &lt;T, U, E extends Exception&gt; BiConsumer&lt;T, U&gt; rethrowBiConsumer(BiConsumer_WithExceptions&lt;T, U, E&gt; biConsumer) throws E {\r\n        return (t, u) -&gt; {\r\n            try { biConsumer.accept(t, u); }\r\n            catch (Exception exception) { throwAsUnchecked(exception); }\r\n            };\r\n        }\r\n\r\n    /** .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName)) */\r\n    public static &lt;T, R, E extends Exception&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R, E&gt; function) throws E {\r\n        return t -&gt; {\r\n            try { return function.apply(t); }\r\n            catch (Exception exception) { throwAsUnchecked(exception); return null; }\r\n            };\r\n        }\r\n\r\n    /** rethrowSupplier(() -&gt; new StringJoiner(new String(new byte[]{77, 97, 114, 107}, &quot;UTF-8&quot;))), */\r\n    public static &lt;T, E extends Exception&gt; Supplier&lt;T&gt; rethrowSupplier(Supplier_WithExceptions&lt;T, E&gt; function) throws E {\r\n        return () -&gt; {\r\n            try { return function.get(); }\r\n            catch (Exception exception) { throwAsUnchecked(exception); return null; }\r\n            };\r\n        }\r\n\r\n    /** uncheck(() -&gt; Class.forName(&quot;xxx&quot;)); */\r\n    public static void uncheck(Runnable_WithExceptions t)\r\n        {\r\n        try { t.run(); }\r\n        catch (Exception exception) { throwAsUnchecked(exception); }\r\n        }\r\n\r\n    /** uncheck(() -&gt; Class.forName(&quot;xxx&quot;)); */\r\n    public static &lt;R, E extends Exception&gt; R uncheck(Supplier_WithExceptions&lt;R, E&gt; supplier)\r\n        {\r\n        try { return supplier.get(); }\r\n        catch (Exception exception) { throwAsUnchecked(exception); return null; }\r\n        }\r\n\r\n    /** uncheck(Class::forName, &quot;xxx&quot;); */\r\n    public static &lt;T, R, E extends Exception&gt; R uncheck(Function_WithExceptions&lt;T, R, E&gt; function, T t) {\r\n        try { return function.apply(t); }\r\n        catch (Exception exception) { throwAsUnchecked(exception); return null; }\r\n        }\r\n\r\n    @SuppressWarnings (&quot;unchecked&quot;)\r\n    private static &lt;E extends Throwable&gt; void throwAsUnchecked(Exception exception) throws E { throw (E)exception; }\r\n\r\n    }\r\n\r\n\r\nMany other examples on how to use it (after statically importing `UtilException`):\r\n\r\n    @Test\r\n    public void test_Consumer_with_checked_exceptions() throws IllegalAccessException {\r\n        Stream.of(&quot;java.lang.Object&quot;, &quot;java.lang.Integer&quot;, &quot;java.lang.String&quot;)\r\n              .forEach(rethrowConsumer(className -&gt; System.out.println(Class.forName(className))));\r\n\r\n        Stream.of(&quot;java.lang.Object&quot;, &quot;java.lang.Integer&quot;, &quot;java.lang.String&quot;)\r\n              .forEach(rethrowConsumer(System.out::println));\r\n        }\r\n\r\n    @Test\r\n    public void test_Function_with_checked_exceptions() throws ClassNotFoundException {\r\n        List&lt;Class&gt; classes1\r\n              = Stream.of(&quot;Object&quot;, &quot;Integer&quot;, &quot;String&quot;)\r\n                      .map(rethrowFunction(className -&gt; Class.forName(&quot;java.lang.&quot; + className)))\r\n                      .collect(Collectors.toList());\r\n\r\n        List&lt;Class&gt; classes2\r\n              = Stream.of(&quot;java.lang.Object&quot;, &quot;java.lang.Integer&quot;, &quot;java.lang.String&quot;)\r\n                      .map(rethrowFunction(Class::forName))\r\n                      .collect(Collectors.toList());\r\n        }\r\n\r\n    @Test\r\n    public void test_Supplier_with_checked_exceptions() throws ClassNotFoundException {\r\n        Collector.of(\r\n              rethrowSupplier(() -&gt; new StringJoiner(new String(new byte[]{77, 97, 114, 107}, &quot;UTF-8&quot;))),\r\n              StringJoiner::add, StringJoiner::merge, StringJoiner::toString);\r\n        }\r\n\r\n    @Test    \r\n    public void test_uncheck_exception_thrown_by_method() {\r\n        Class clazz1 = uncheck(() -&gt; Class.forName(&quot;java.lang.String&quot;));\r\n\r\n        Class clazz2 = uncheck(Class::forName, &quot;java.lang.String&quot;);\r\n        }\r\n\r\n    @Test (expected = ClassNotFoundException.class)\r\n    public void test_if_correct_exception_is_still_thrown_by_method() {\r\n        Class clazz3 = uncheck(Class::forName, &quot;INVALID&quot;);\r\n        }\r\n\r\n\r\n**But don&#39;t use it before understanding the following advantages, disadvantages, and limitations**:\r\n\r\n • If the calling-code is to handle the checked exception you MUST add it to the throws clause of the method that contains the stream.\r\n The compiler will not force you to add it anymore, so it&#39;s easier to forget it.\r\n\r\n • If the calling-code already handles the checked exception, the compiler WILL remind you to add the throws clause to the method declaration\r\n that contains the stream (if you don&#39;t it will say: Exception is never thrown in body of corresponding try statement).\r\n\r\n • In any case, you won&#39;t be able to surround the stream itself to catch the checked exception INSIDE the method that contains the stream\r\n (if you try, the compiler will say: Exception is never thrown in body of corresponding try statement).\r\n\r\n • If you are calling a method which literally can never throw the exception that it declares, then you should not include the throws clause.\r\n For example: new String(byteArr, &quot;UTF-8&quot;) throws UnsupportedEncodingException, but UTF-8 is guaranteed by the Java spec to always be present.\r\n Here, the throws declaration is a nuisance and any solution to silence it with minimal boilerplate is welcome.\r\n\r\n • If you hate checked exceptions and feel they should never be added to the Java language to begin with (a growing number of people think this way,\r\n and I am NOT one of them), then just don&#39;t add the checked exception to the throws clause of the method that contains the stream. The checked\r\n exception will, then, behave just like an UNchecked exception.\r\n\r\n • If you are implementing a strict interface where you don&#39;t have the option for adding a throws declaration, and yet throwing an exception is\r\n entirely appropriate, then wrapping an exception just to gain the privilege of throwing it results in a stacktrace with spurious exceptions which\r\n contribute no information about what actually went wrong. A good example is Runnable.run(), which does not throw any checked exceptions.\r\n In this case, you may decide not to add the checked exception to the throws clause of the method that contains the stream.\r\n\r\n • In any case, if you decide NOT to add (or forget to add) the checked exception to the throws clause of the method that contains the stream,\r\n be aware of these 2 consequences of throwing CHECKED exceptions:\r\n\r\n 1) The calling-code won&#39;t be able to catch it by name (if you try, the compiler will say: Exception is never thrown in body of corresponding try\r\n statement). It will bubble and probably be catched in the main program loop by some &quot;catch Exception&quot; or &quot;catch Throwable&quot;, which may be what you\r\n want anyway.\r\n\r\n 2) It violates the principle of least surprise: it will no longer be enough to catch RuntimeException to be able to guarantee catching all\r\n possible exceptions. For this reason, I believe this should not be done in framework code, but only in business code that you completely control.\r\n\r\n\r\n**In conclusion: I believe the limitations here are not serious, and the `UtilException` class may be used without fear. However, it&#39;s up to you!**\r\n\r\n* References:\r\n - http://www.philandstuff.com/2012/04/28/sneakily-throwing-checked-exceptions.html\r\n - http://www.mail-archive.com/javaposse@googlegroups.com/msg05984.html\r\n - Project Lombok annotation: @SneakyThrows\r\n - Brian Goetz opinion (against) here: https://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams\r\n - https://softwareengineering.stackexchange.com/questions/225931/workaround-for-java-checked-exceptions?newreg=ddf0dd15e8174af8ba52e091cf85688e *\r\n","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>This <code>UtilException</code> helper class lets you use any checked exceptions in Java streams, like this:</p>\n\n<pre><code>Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n      .map(rethrowFunction(Class::forName))\n      .collect(Collectors.toList());\n</code></pre>\n\n<p>Note <code>Class::forName</code> throws <code>ClassNotFoundException</code>, which is <strong>checked</strong>. The stream itself also throws <code>ClassNotFoundException</code>, and NOT some wrapping unchecked exception.</p>\n\n<pre><code>public final class UtilException {\n\n@FunctionalInterface\npublic interface Consumer_WithExceptions&lt;T, E extends Exception&gt; {\n    void accept(T t) throws E;\n    }\n\n@FunctionalInterface\npublic interface BiConsumer_WithExceptions&lt;T, U, E extends Exception&gt; {\n    void accept(T t, U u) throws E;\n    }\n\n@FunctionalInterface\npublic interface Function_WithExceptions&lt;T, R, E extends Exception&gt; {\n    R apply(T t) throws E;\n    }\n\n@FunctionalInterface\npublic interface Supplier_WithExceptions&lt;T, E extends Exception&gt; {\n    T get() throws E;\n    }\n\n@FunctionalInterface\npublic interface Runnable_WithExceptions&lt;E extends Exception&gt; {\n    void run() throws E;\n    }\n\n/** .forEach(rethrowConsumer(name -&gt; System.out.println(Class.forName(name)))); or .forEach(rethrowConsumer(ClassNameUtil::println)); */\npublic static &lt;T, E extends Exception&gt; Consumer&lt;T&gt; rethrowConsumer(Consumer_WithExceptions&lt;T, E&gt; consumer) throws E {\n    return t -&gt; {\n        try { consumer.accept(t); }\n        catch (Exception exception) { throwAsUnchecked(exception); }\n        };\n    }\n\npublic static &lt;T, U, E extends Exception&gt; BiConsumer&lt;T, U&gt; rethrowBiConsumer(BiConsumer_WithExceptions&lt;T, U, E&gt; biConsumer) throws E {\n    return (t, u) -&gt; {\n        try { biConsumer.accept(t, u); }\n        catch (Exception exception) { throwAsUnchecked(exception); }\n        };\n    }\n\n/** .map(rethrowFunction(name -&gt; Class.forName(name))) or .map(rethrowFunction(Class::forName)) */\npublic static &lt;T, R, E extends Exception&gt; Function&lt;T, R&gt; rethrowFunction(Function_WithExceptions&lt;T, R, E&gt; function) throws E {\n    return t -&gt; {\n        try { return function.apply(t); }\n        catch (Exception exception) { throwAsUnchecked(exception); return null; }\n        };\n    }\n\n/** rethrowSupplier(() -&gt; new StringJoiner(new String(new byte[]{77, 97, 114, 107}, \"UTF-8\"))), */\npublic static &lt;T, E extends Exception&gt; Supplier&lt;T&gt; rethrowSupplier(Supplier_WithExceptions&lt;T, E&gt; function) throws E {\n    return () -&gt; {\n        try { return function.get(); }\n        catch (Exception exception) { throwAsUnchecked(exception); return null; }\n        };\n    }\n\n/** uncheck(() -&gt; Class.forName(\"xxx\")); */\npublic static void uncheck(Runnable_WithExceptions t)\n    {\n    try { t.run(); }\n    catch (Exception exception) { throwAsUnchecked(exception); }\n    }\n\n/** uncheck(() -&gt; Class.forName(\"xxx\")); */\npublic static &lt;R, E extends Exception&gt; R uncheck(Supplier_WithExceptions&lt;R, E&gt; supplier)\n    {\n    try { return supplier.get(); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    }\n\n/** uncheck(Class::forName, \"xxx\"); */\npublic static &lt;T, R, E extends Exception&gt; R uncheck(Function_WithExceptions&lt;T, R, E&gt; function, T t) {\n    try { return function.apply(t); }\n    catch (Exception exception) { throwAsUnchecked(exception); return null; }\n    }\n\n@SuppressWarnings (\"unchecked\")\nprivate static &lt;E extends Throwable&gt; void throwAsUnchecked(Exception exception) throws E { throw (E)exception; }\n\n}\n</code></pre>\n\n<p>Many other examples on how to use it (after statically importing <code>UtilException</code>):</p>\n\n<pre><code>@Test\npublic void test_Consumer_with_checked_exceptions() throws IllegalAccessException {\n    Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n          .forEach(rethrowConsumer(className -&gt; System.out.println(Class.forName(className))));\n\n    Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n          .forEach(rethrowConsumer(System.out::println));\n    }\n\n@Test\npublic void test_Function_with_checked_exceptions() throws ClassNotFoundException {\n    List&lt;Class&gt; classes1\n          = Stream.of(\"Object\", \"Integer\", \"String\")\n                  .map(rethrowFunction(className -&gt; Class.forName(\"java.lang.\" + className)))\n                  .collect(Collectors.toList());\n\n    List&lt;Class&gt; classes2\n          = Stream.of(\"java.lang.Object\", \"java.lang.Integer\", \"java.lang.String\")\n                  .map(rethrowFunction(Class::forName))\n                  .collect(Collectors.toList());\n    }\n\n@Test\npublic void test_Supplier_with_checked_exceptions() throws ClassNotFoundException {\n    Collector.of(\n          rethrowSupplier(() -&gt; new StringJoiner(new String(new byte[]{77, 97, 114, 107}, \"UTF-8\"))),\n          StringJoiner::add, StringJoiner::merge, StringJoiner::toString);\n    }\n\n@Test    \npublic void test_uncheck_exception_thrown_by_method() {\n    Class clazz1 = uncheck(() -&gt; Class.forName(\"java.lang.String\"));\n\n    Class clazz2 = uncheck(Class::forName, \"java.lang.String\");\n    }\n\n@Test (expected = ClassNotFoundException.class)\npublic void test_if_correct_exception_is_still_thrown_by_method() {\n    Class clazz3 = uncheck(Class::forName, \"INVALID\");\n    }\n</code></pre>\n\n<p><strong>But don't use it before understanding the following advantages, disadvantages, and limitations</strong>:</p>\n\n<p>• If the calling-code is to handle the checked exception you MUST add it to the throws clause of the method that contains the stream.\n The compiler will not force you to add it anymore, so it's easier to forget it.</p>\n\n<p>• If the calling-code already handles the checked exception, the compiler WILL remind you to add the throws clause to the method declaration\n that contains the stream (if you don't it will say: Exception is never thrown in body of corresponding try statement).</p>\n\n<p>• In any case, you won't be able to surround the stream itself to catch the checked exception INSIDE the method that contains the stream\n (if you try, the compiler will say: Exception is never thrown in body of corresponding try statement).</p>\n\n<p>• If you are calling a method which literally can never throw the exception that it declares, then you should not include the throws clause.\n For example: new String(byteArr, \"UTF-8\") throws UnsupportedEncodingException, but UTF-8 is guaranteed by the Java spec to always be present.\n Here, the throws declaration is a nuisance and any solution to silence it with minimal boilerplate is welcome.</p>\n\n<p>• If you hate checked exceptions and feel they should never be added to the Java language to begin with (a growing number of people think this way,\n and I am NOT one of them), then just don't add the checked exception to the throws clause of the method that contains the stream. The checked\n exception will, then, behave just like an UNchecked exception.</p>\n\n<p>• If you are implementing a strict interface where you don't have the option for adding a throws declaration, and yet throwing an exception is\n entirely appropriate, then wrapping an exception just to gain the privilege of throwing it results in a stacktrace with spurious exceptions which\n contribute no information about what actually went wrong. A good example is Runnable.run(), which does not throw any checked exceptions.\n In this case, you may decide not to add the checked exception to the throws clause of the method that contains the stream.</p>\n\n<p>• In any case, if you decide NOT to add (or forget to add) the checked exception to the throws clause of the method that contains the stream,\n be aware of these 2 consequences of throwing CHECKED exceptions:</p>\n\n<p>1) The calling-code won't be able to catch it by name (if you try, the compiler will say: Exception is never thrown in body of corresponding try\n statement). It will bubble and probably be catched in the main program loop by some \"catch Exception\" or \"catch Throwable\", which may be what you\n want anyway.</p>\n\n<p>2) It violates the principle of least surprise: it will no longer be enough to catch RuntimeException to be able to guarantee catching all\n possible exceptions. For this reason, I believe this should not be done in framework code, but only in business code that you completely control.</p>\n\n<p><strong>In conclusion: I believe the limitations here are not serious, and the <code>UtilException</code> class may be used without fear. However, it's up to you!</strong></p>\n\n<ul>\n<li>References:\n\n<ul>\n<li><a href=\"http://www.philandstuff.com/2012/04/28/sneakily-throwing-checked-exceptions.html\" rel=\"noreferrer\">http://www.philandstuff.com/2012/04/28/sneakily-throwing-checked-exceptions.html</a></li>\n<li><a href=\"http://www.mail-archive.com/javaposse@googlegroups.com/msg05984.html\" rel=\"noreferrer\">http://www.mail-archive.com/javaposse@googlegroups.com/msg05984.html</a></li>\n<li>Project Lombok annotation: @SneakyThrows</li>\n<li>Brian Goetz opinion (against) here: <a href=\"https://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams\">How can I throw CHECKED exceptions from inside Java 8 streams?</a></li>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/225931/workaround-for-java-checked-exceptions?newreg=ddf0dd15e8174af8ba52e091cf85688e\">https://softwareengineering.stackexchange.com/questions/225931/workaround-for-java-checked-exceptions?newreg=ddf0dd15e8174af8ba52e091cf85688e</a> *</li>\n</ul></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":136630,"reputation":9029,"user_id":340256,"display_name":"Roman M"},"score":0,"creation_date":1467633799,"post_id":31071492,"comment_id":63794277,"body_markdown":"This example doesn&#39;t compile","body":"This example doesn&#39;t compile"},{"owner":{"account_id":264827,"reputation":3887,"user_id":2365724,"display_name":"PaoloC"},"score":0,"creation_date":1467793843,"post_id":31071492,"comment_id":63861772,"body_markdown":"Hi @RomanM thanks for pointing this: i&#39;ve corrected the missing return type on method &quot;throwActualException&quot;. We&#39;re using this in production so I hope it&#39;s working on your side too.","body":"Hi @RomanM thanks for pointing this: i&#39;ve corrected the missing return type on method &quot;throwActualException&quot;. We&#39;re using this in production so I hope it&#39;s working on your side too."}],"tags":[],"owner":{"account_id":264827,"reputation":3887,"user_id":2365724,"display_name":"PaoloC"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467793786,"creation_date":1435316424,"answer_id":31071492,"question_id":19757300,"body_markdown":"Extending @marcg solution, you can normally throw and catch a **checked** exception in Streams; that is, **compiler will ask you to catch/re-throw** as is you were outside streams!!\r\n\r\n    @FunctionalInterface\r\n    public interface Predicate_WithExceptions&lt;T, E extends Exception&gt; {\r\n        boolean test(T t) throws E;\r\n    }\r\n\r\n    /**\r\n     * .filter(rethrowPredicate(t -&gt; t.isActive()))\r\n     */\r\n    public static &lt;T, E extends Exception&gt; Predicate&lt;T&gt; rethrowPredicate(Predicate_WithExceptions&lt;T, E&gt; predicate) throws E {\r\n        return t -&gt; {\r\n            try {\r\n                return predicate.test(t);\r\n            } catch (Exception exception) {\r\n                return throwActualException(exception);\r\n            }\r\n        };\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T, E extends Exception&gt; T throwActualException(Exception exception) throws E {\r\n        throw (E) exception;\r\n    }\r\n\r\nThen, your example would be written as follows (adding tests to show it more clearly):\r\n\r\n    @Test\r\n    public void testPredicate() throws MyTestException {\r\n        List&lt;String&gt; nonEmptyStrings = Stream.of(&quot;ciao&quot;, &quot;&quot;)\r\n                .filter(rethrowPredicate(s -&gt; notEmpty(s)))\r\n                .collect(toList());\r\n        assertEquals(1, nonEmptyStrings.size());\r\n        assertEquals(&quot;ciao&quot;, nonEmptyStrings.get(0));\r\n    }\r\n\r\n    private class MyTestException extends Exception { }\r\n\r\n    private boolean notEmpty(String value) throws MyTestException {\r\n        if(value==null) {\r\n            throw new MyTestException();\r\n        }\r\n        return !value.isEmpty();\r\n    }\r\n\r\n    @Test\r\n    public void testPredicateRaisingException() throws MyTestException {\r\n        try {\r\n            Stream.of(&quot;ciao&quot;, null)\r\n                    .filter(rethrowPredicate(s -&gt; notEmpty(s)))\r\n                    .collect(toList());\r\n            fail();\r\n        } catch (MyTestException e) {\r\n            //OK\r\n        }\r\n    }","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>Extending @marcg solution, you can normally throw and catch a <strong>checked</strong> exception in Streams; that is, <strong>compiler will ask you to catch/re-throw</strong> as is you were outside streams!!</p>\n\n<pre><code>@FunctionalInterface\npublic interface Predicate_WithExceptions&lt;T, E extends Exception&gt; {\n    boolean test(T t) throws E;\n}\n\n/**\n * .filter(rethrowPredicate(t -&gt; t.isActive()))\n */\npublic static &lt;T, E extends Exception&gt; Predicate&lt;T&gt; rethrowPredicate(Predicate_WithExceptions&lt;T, E&gt; predicate) throws E {\n    return t -&gt; {\n        try {\n            return predicate.test(t);\n        } catch (Exception exception) {\n            return throwActualException(exception);\n        }\n    };\n}\n\n@SuppressWarnings(\"unchecked\")\nprivate static &lt;T, E extends Exception&gt; T throwActualException(Exception exception) throws E {\n    throw (E) exception;\n}\n</code></pre>\n\n<p>Then, your example would be written as follows (adding tests to show it more clearly):</p>\n\n<pre><code>@Test\npublic void testPredicate() throws MyTestException {\n    List&lt;String&gt; nonEmptyStrings = Stream.of(\"ciao\", \"\")\n            .filter(rethrowPredicate(s -&gt; notEmpty(s)))\n            .collect(toList());\n    assertEquals(1, nonEmptyStrings.size());\n    assertEquals(\"ciao\", nonEmptyStrings.get(0));\n}\n\nprivate class MyTestException extends Exception { }\n\nprivate boolean notEmpty(String value) throws MyTestException {\n    if(value==null) {\n        throw new MyTestException();\n    }\n    return !value.isEmpty();\n}\n\n@Test\npublic void testPredicateRaisingException() throws MyTestException {\n    try {\n        Stream.of(\"ciao\", null)\n                .filter(rethrowPredicate(s -&gt; notEmpty(s)))\n                .collect(toList());\n        fail();\n    } catch (MyTestException e) {\n        //OK\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455906161,"creation_date":1455906161,"answer_id":35512247,"question_id":19757300,"body_markdown":"Keeping this issue in mind I developed a small library for dealing with checked exceptions and lambdas. Custom adapters allow you to integrate with existing functional types:\r\n\r\n    stream().map(unchecked(URI::new)) //with a static import\r\n\r\nhttps://github.com/TouK/ThrowingFunction/","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>Keeping this issue in mind I developed a small library for dealing with checked exceptions and lambdas. Custom adapters allow you to integrate with existing functional types:</p>\n\n<pre><code>stream().map(unchecked(URI::new)) //with a static import\n</code></pre>\n\n<p><a href=\"https://github.com/TouK/ThrowingFunction/\" rel=\"nofollow\">https://github.com/TouK/ThrowingFunction/</a></p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456335380,"creation_date":1456335380,"answer_id":35609161,"question_id":19757300,"body_markdown":"If you don&#39;t mind using 3rd party libraries, AOL&#39;s [cyclops-react](https://github.com/aol/cyclops-react/) lib, disclosure::I am a contributor, has a [ExceptionSoftener](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/util/ExceptionSoftener.html) class that can help here.\r\n\r\n     s.filter(softenPredicate(a-&gt;a.isActive()));\r\n\r\n","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>If you don't mind using 3rd party libraries, AOL's <a href=\"https://github.com/aol/cyclops-react/\" rel=\"nofollow\">cyclops-react</a> lib, disclosure::I am a contributor, has a <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-RC1/com/aol/cyclops/util/ExceptionSoftener.html\" rel=\"nofollow\">ExceptionSoftener</a> class that can help here.</p>\n\n<pre><code> s.filter(softenPredicate(a-&gt;a.isActive()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5987187,"reputation":209,"user_id":4704403,"display_name":"SeregaLBN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457097481,"creation_date":1457097481,"answer_id":35797098,"question_id":19757300,"body_markdown":"Your example can be written as:\r\n\r\n    import utils.stream.Unthrow;\r\n\r\n    class Bank{\r\n       ....\r\n       public Set&lt;String&gt; getActiveAccountNumbers() {\r\n           return accounts.values().stream()\r\n               .filter(a -&gt; Unthrow.wrap(() -&gt; a.isActive()))\r\n               .map(a -&gt; Unthrow.wrap(() -&gt; a.getNumber()))\r\n               .collect(Collectors.toSet());\r\n       }\r\n       ....\r\n    }\r\n\r\nThe **Unthrow** class can be taken here https://github.com/SeregaLBN/StreamUnthrower\r\n","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>Your example can be written as:</p>\n\n<pre><code>import utils.stream.Unthrow;\n\nclass Bank{\n   ....\n   public Set&lt;String&gt; getActiveAccountNumbers() {\n       return accounts.values().stream()\n           .filter(a -&gt; Unthrow.wrap(() -&gt; a.isActive()))\n           .map(a -&gt; Unthrow.wrap(() -&gt; a.getNumber()))\n           .collect(Collectors.toSet());\n   }\n   ....\n}\n</code></pre>\n\n<p>The <strong>Unthrow</strong> class can be taken here <a href=\"https://github.com/SeregaLBN/StreamUnthrower\" rel=\"nofollow\">https://github.com/SeregaLBN/StreamUnthrower</a></p>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1660726117,"post_id":36816732,"comment_id":129598110,"body_markdown":"So you mean you handle the database or file exception in `readAccount()` and wrap it into IOException? But IOException is still checked exception and it will have to be caught in the caller if it wants to construct a stream right?","body":"So you mean you handle the database or file exception in <code>readAccount()</code> and wrap it into IOException? But IOException is still checked exception and it will have to be caught in the caller if it wants to construct a stream right?"},{"owner":{"account_id":1423961,"reputation":5726,"user_id":1347968,"accept_rate":50,"display_name":"siegi"},"score":0,"creation_date":1660760403,"post_id":36816732,"comment_id":129611255,"body_markdown":"@WesternGun, if you need to wrap the exception in `readAccount()` or just let it &quot;bubble up&quot; without wrapping depends on your case. You can also throw a `SQLException` there or whatever. The important thing is, _only_ `readAccount()` may fail. The methods in `Account` don&#39;t. And yes, the caller of `readAccount()` needs to handle the exception some way. But _using_ the `Account` within a stream is easy, because it never throws something and _that_ was the point of the question. **TLDR:** Split &quot;error-prone&quot; operations from &quot;safe&quot; operations and just use the safe ones in lambdas.","body":"@WesternGun, if you need to wrap the exception in <code>readAccount()</code> or just let it &quot;bubble up&quot; without wrapping depends on your case. You can also throw a <code>SQLException</code> there or whatever. The important thing is, <i>only</i> <code>readAccount()</code> may fail. The methods in <code>Account</code> don&#39;t. And yes, the caller of <code>readAccount()</code> needs to handle the exception some way. But <i>using</i> the <code>Account</code> within a stream is easy, because it never throws something and <i>that</i> was the point of the question. <b>TLDR:</b> Split &quot;error-prone&quot; operations from &quot;safe&quot; operations and just use the safe ones in lambdas."},{"owner":{"account_id":1423961,"reputation":5726,"user_id":1347968,"accept_rate":50,"display_name":"siegi"},"score":0,"creation_date":1660761872,"post_id":36816732,"comment_id":129611748,"body_markdown":"@WesternGun, see my last edit to the answer :-)","body":"@WesternGun, see my last edit to the answer :-)"}],"tags":[],"owner":{"account_id":1423961,"reputation":5726,"user_id":1347968,"accept_rate":50,"display_name":"siegi"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1660761444,"creation_date":1461447393,"answer_id":36816732,"question_id":19757300,"body_markdown":"**TLDR:** Try to avoid the issue by refactoring your code: Split &quot;error-prone&quot; operations from &quot;safe&quot; operations and just use the safe ones in lambdas.\r\n\r\n---\r\n\r\n**Details:**\r\n\r\nThis does not directly answer the question (there are many other answers that do) but tries to avoid the problem in the first place:\r\n\r\nIn my experience the need to handle exceptions in a `Stream` (or other lambda expression) often comes from the fact that the exceptions are declared to be thrown from methods where they should not be thrown. This often comes from mixing business logic with in- and output. Your `Account` interface is a perfect example:\r\n\r\n    interface Account {\r\n        boolean isActive() throws IOException;\r\n        String getNumber() throws IOException;\r\n    }\r\n\r\nInstead of throwing an `IOException` on each getter, consider this design:\r\n\r\n\r\n    interface AccountReader {\r\n        Account readAccount(…) throws IOException;\r\n    }\r\n\r\n    interface Account {\r\n        boolean isActive();\r\n        String getNumber();\r\n    }\r\n\r\nThe method `AccountReader.readAccount(…)` could read an account from a database or a file or whatever and throw an exception if it does not succeed. It constructs an `Account` object that already contains all values, ready to be used. As the values have already been loaded by `readAccount(…)`, the getters would not throw an exception. Thus you can use them freely in lambdas without the need of wrapping, masking or hiding the exceptions.\r\n\r\nNote that you _still_ need to handle the exception thrown by `readAccount(…)`. After all, that is why exceptions exist in the first place. But the assumption is that `readAccount(…)` is used &quot;somewhere else&quot;, i.e. outside of lambdas, where you can use the &quot;normal&quot; exception handling mechanisms Java provides, i.e. `try-catch` to handle it or `throws` to let it &quot;bubble up&quot;.\r\n\r\nOf course it is not always possible to do it the way I described, but often it is and it leads to cleaner code altogether (IMHO):\r\n\r\n* Better [separation of concerns](https://en.wikipedia.org/wiki/Separation_of_concerns) and following [single responsibility principle](https://en.wikipedia.org/wiki/Single_responsibility_principle)\r\n* Less boilerplate: You don&#39;t have to clutter your code with `throws IOException` for no use but to satisfy the compiler\r\n* Error handling: You handle the errors where they happen - when reading from a file or database - instead of somewhere in the middle of your business logic only because you want to get a fields value\r\n* You may be able to make `Account` [immutable](https://en.wikipedia.org/wiki/Immutable_object) and profit from the advantages thereof (e.g. thread safety)\r\n* You don&#39;t need &quot;dirty tricks&quot; or workarounds to use `Account` in lambdas (e.g. in a `Stream`)\r\n","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p><strong>TLDR:</strong> Try to avoid the issue by refactoring your code: Split &quot;error-prone&quot; operations from &quot;safe&quot; operations and just use the safe ones in lambdas.</p>\n<hr />\n<p><strong>Details:</strong></p>\n<p>This does not directly answer the question (there are many other answers that do) but tries to avoid the problem in the first place:</p>\n<p>In my experience the need to handle exceptions in a <code>Stream</code> (or other lambda expression) often comes from the fact that the exceptions are declared to be thrown from methods where they should not be thrown. This often comes from mixing business logic with in- and output. Your <code>Account</code> interface is a perfect example:</p>\n<pre><code>interface Account {\n    boolean isActive() throws IOException;\n    String getNumber() throws IOException;\n}\n</code></pre>\n<p>Instead of throwing an <code>IOException</code> on each getter, consider this design:</p>\n<pre><code>interface AccountReader {\n    Account readAccount(…) throws IOException;\n}\n\ninterface Account {\n    boolean isActive();\n    String getNumber();\n}\n</code></pre>\n<p>The method <code>AccountReader.readAccount(…)</code> could read an account from a database or a file or whatever and throw an exception if it does not succeed. It constructs an <code>Account</code> object that already contains all values, ready to be used. As the values have already been loaded by <code>readAccount(…)</code>, the getters would not throw an exception. Thus you can use them freely in lambdas without the need of wrapping, masking or hiding the exceptions.</p>\n<p>Note that you <em>still</em> need to handle the exception thrown by <code>readAccount(…)</code>. After all, that is why exceptions exist in the first place. But the assumption is that <code>readAccount(…)</code> is used &quot;somewhere else&quot;, i.e. outside of lambdas, where you can use the &quot;normal&quot; exception handling mechanisms Java provides, i.e. <code>try-catch</code> to handle it or <code>throws</code> to let it &quot;bubble up&quot;.</p>\n<p>Of course it is not always possible to do it the way I described, but often it is and it leads to cleaner code altogether (IMHO):</p>\n<ul>\n<li>Better <a href=\"https://en.wikipedia.org/wiki/Separation_of_concerns\" rel=\"nofollow noreferrer\">separation of concerns</a> and following <a href=\"https://en.wikipedia.org/wiki/Single_responsibility_principle\" rel=\"nofollow noreferrer\">single responsibility principle</a></li>\n<li>Less boilerplate: You don't have to clutter your code with <code>throws IOException</code> for no use but to satisfy the compiler</li>\n<li>Error handling: You handle the errors where they happen - when reading from a file or database - instead of somewhere in the middle of your business logic only because you want to get a fields value</li>\n<li>You may be able to make <code>Account</code> <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable</a> and profit from the advantages thereof (e.g. thread safety)</li>\n<li>You don't need &quot;dirty tricks&quot; or workarounds to use <code>Account</code> in lambdas (e.g. in a <code>Stream</code>)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1672427352,"creation_date":1480643102,"answer_id":40923459,"question_id":19757300,"body_markdown":"It can be resolved by below simple code with [Stream][1] and [Try][2] in [abacus-common][3]:\r\n    \r\n    Stream.of(accounts)\r\n          .filter(a -&gt; Try.call(a::isActive))\r\n          .map(a -&gt; Try.call(a::getNumber))\r\n          .toSet();\r\n\r\nOr:\r\n\r\n    Stream.of(accounts)\r\n          .filterE(Account::isActive)\r\n          .mapE(Account::getNumber)\r\n          .toSet();\r\n\r\nDisclosure： I&#39;m the developer of `abacus-common`.\r\n\r\n  [1]: https://htmlpreview.github.io/?https://github.com/landawn/abacus-common/master/docs/Stream_view.html\r\n  [2]: https://htmlpreview.github.io/?https://github.com/landawn/abacus-common/master/docs/Try_view.html\r\n  [3]: https://github.com/landawn/abacus-common","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>It can be resolved by below simple code with <a href=\"https://htmlpreview.github.io/?https://github.com/landawn/abacus-common/master/docs/Stream_view.html\" rel=\"nofollow noreferrer\">Stream</a> and <a href=\"https://htmlpreview.github.io/?https://github.com/landawn/abacus-common/master/docs/Try_view.html\" rel=\"nofollow noreferrer\">Try</a> in <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>Stream.of(accounts)\n      .filter(a -&gt; Try.call(a::isActive))\n      .map(a -&gt; Try.call(a::getNumber))\n      .toSet();\n</code></pre>\n<p>Or:</p>\n<pre><code>Stream.of(accounts)\n      .filterE(Account::isActive)\n      .mapE(Account::getNumber)\n      .toSet();\n</code></pre>\n<p>Disclosure： I'm the developer of <code>abacus-common</code>.</p>\n"},{"tags":[],"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543604893,"creation_date":1543604893,"answer_id":53563450,"question_id":19757300,"body_markdown":"The functional interfaces in Java don’t declare any checked or unchecked exception.\r\nWe need to change the signature of the methods from:\r\n\r\n    boolean isActive() throws IOException; \r\n    String getNumber() throwsIOException;\r\n\r\nTo:\r\n\r\n    boolean isActive();\r\n    String getNumber();\r\n\r\nOr handle it with try-catch block:\r\n\r\n    public Set&lt;String&gt; getActiveAccountNumbers() {\r\n      Stream&lt;Account&gt; s =  accounts.values().stream();\r\n      s = s.filter(a -&gt; \r\n        try{\r\n          a.isActive();\r\n        }catch(IOException e){\r\n          throw new RuntimeException(e);\r\n        }\r\n      );\r\n      Stream&lt;String&gt; ss = s.map(a -&gt; \r\n        try{\r\n          a.getNumber();\r\n        }catch(IOException e){\r\n          throw new RuntimeException(e);\r\n        }\r\n      );\r\n      return ss.collect(Collectors.toSet());\r\n    }\r\n\r\nAnother option is to write a custom wrapper or use a library like ThrowingFunction.\r\nWith the library we only need to add the dependency to our pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;pl.touk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;throwing-function&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd use the specific classes like ThrowingFunction, ThrowingConsumer, ThrowingPredicate, ThrowingRunnable, ThrowingSupplier.\r\n\r\nAt the end the code looks like this:\r\n\r\n    public Set&lt;String&gt; getActiveAccountNumbers() {\r\n      return accounts.values().stream()\r\n        .filter(ThrowingPredicate.unchecked(Account::isActive))\r\n        .map(ThrowingFunction.unchecked(Account::getNumber))\r\n        .collect(Collectors.toSet());\r\n    }","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>The functional interfaces in Java don’t declare any checked or unchecked exception.\nWe need to change the signature of the methods from:</p>\n\n<pre><code>boolean isActive() throws IOException; \nString getNumber() throwsIOException;\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>boolean isActive();\nString getNumber();\n</code></pre>\n\n<p>Or handle it with try-catch block:</p>\n\n<pre><code>public Set&lt;String&gt; getActiveAccountNumbers() {\n  Stream&lt;Account&gt; s =  accounts.values().stream();\n  s = s.filter(a -&gt; \n    try{\n      a.isActive();\n    }catch(IOException e){\n      throw new RuntimeException(e);\n    }\n  );\n  Stream&lt;String&gt; ss = s.map(a -&gt; \n    try{\n      a.getNumber();\n    }catch(IOException e){\n      throw new RuntimeException(e);\n    }\n  );\n  return ss.collect(Collectors.toSet());\n}\n</code></pre>\n\n<p>Another option is to write a custom wrapper or use a library like ThrowingFunction.\nWith the library we only need to add the dependency to our pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;pl.touk&lt;/groupId&gt;\n    &lt;artifactId&gt;throwing-function&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And use the specific classes like ThrowingFunction, ThrowingConsumer, ThrowingPredicate, ThrowingRunnable, ThrowingSupplier.</p>\n\n<p>At the end the code looks like this:</p>\n\n<pre><code>public Set&lt;String&gt; getActiveAccountNumbers() {\n  return accounts.values().stream()\n    .filter(ThrowingPredicate.unchecked(Account::isActive))\n    .map(ThrowingFunction.unchecked(Account::getNumber))\n    .collect(Collectors.toSet());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569515713,"creation_date":1569515713,"answer_id":58121225,"question_id":19757300,"body_markdown":"If you want to handled the exception within the stream and continue processing the additional ones, there is an excellent article in [DZone][1] by Brian Vermeer using the concept of an Either. It shows an excellent way of handling this situation.  The only thing missing is sample code.  This is a sample of my exploration using the concepts from that article.\r\n\r\n    @Test\r\n    public void whenValuePrinted_thenPrintValue() {\r\n\r\n        List&lt;Integer&gt; intStream = Arrays.asList(0, 1, 2, 3, 4, 5, 6);\r\n        intStream.stream().map(Either.liftWithValue(item -&gt; doSomething(item)))\r\n                 .map(item -&gt; item.isLeft() ? item.getLeft() : item.getRight())\r\n                 .flatMap(o -&gt; {\r\n                     System.out.println(o);\r\n                     return o.isPresent() ? Stream.of(o.get()) : Stream.empty();\r\n                 })\r\n                 .forEach(System.out::println);\r\n    }\r\n\r\n    private Object doSomething(Integer item) throws Exception {\r\n\r\n        if (item == 0) {\r\n            throw new Exception(&quot;Zero ain&#39;t a number!&quot;);\r\n        } else if (item == 4) {\r\n            return Optional.empty();\r\n        }\r\n\r\n        return item;\r\n    }\r\n\r\n\r\n  [1]: https://dzone.com/articles/exception-handling-in-java-streams","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>If you want to handled the exception within the stream and continue processing the additional ones, there is an excellent article in <a href=\"https://dzone.com/articles/exception-handling-in-java-streams\" rel=\"nofollow noreferrer\">DZone</a> by Brian Vermeer using the concept of an Either. It shows an excellent way of handling this situation.  The only thing missing is sample code.  This is a sample of my exploration using the concepts from that article.</p>\n\n<pre><code>@Test\npublic void whenValuePrinted_thenPrintValue() {\n\n    List&lt;Integer&gt; intStream = Arrays.asList(0, 1, 2, 3, 4, 5, 6);\n    intStream.stream().map(Either.liftWithValue(item -&gt; doSomething(item)))\n             .map(item -&gt; item.isLeft() ? item.getLeft() : item.getRight())\n             .flatMap(o -&gt; {\n                 System.out.println(o);\n                 return o.isPresent() ? Stream.of(o.get()) : Stream.empty();\n             })\n             .forEach(System.out::println);\n}\n\nprivate Object doSomething(Integer item) throws Exception {\n\n    if (item == 0) {\n        throw new Exception(\"Zero ain't a number!\");\n    } else if (item == 4) {\n        return Optional.empty();\n    }\n\n    return item;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22325547,"reputation":199,"user_id":16547619,"display_name":"user16547619"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630926032,"creation_date":1630925728,"answer_id":69073366,"question_id":19757300,"body_markdown":"It&#39;s also possible to use some external (to stream) error indicator for throwing exception at higher level:\r\n\r\n```\r\nList&lt;String&gt; errorMessages = new ArrayList&lt;&gt;(); // error indicator\r\n//..\r\nerrorMessages.clear();\r\n\r\nList&lt;String&gt; names = new ArrayList&lt;&gt;(Arrays.asList(&quot;andrey&quot;, &quot;angela&quot;, &quot;pamela&quot;));\r\n\r\nnames.stream()\r\n.map(name -&gt; {\r\n    if (name != &quot;pamela&quot;) {\r\n      errorMessages.add(name + &quot; is wrong here!&quot;); \r\n      return null; // triggering the indicator\r\n    }\r\n    return name;\r\n} )\r\n.filter(elem -&gt; (elem != null)) // bypassing propagation of only current unwanted data\r\n//.filter(elem -&gt; (errorMessages.size() == 0)) // or blocking any propagation once unwanted data detected\r\n.forEach(System.out::println);\r\n\r\nif (errorMessages.size() &gt; 0) { // handling the indicator\r\n  throw  new RuntimeException(String,join(&quot;, &quot;, errorMessages));\r\n}\r\n```","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>It's also possible to use some external (to stream) error indicator for throwing exception at higher level:</p>\n<pre><code>List&lt;String&gt; errorMessages = new ArrayList&lt;&gt;(); // error indicator\n//..\nerrorMessages.clear();\n\nList&lt;String&gt; names = new ArrayList&lt;&gt;(Arrays.asList(&quot;andrey&quot;, &quot;angela&quot;, &quot;pamela&quot;));\n\nnames.stream()\n.map(name -&gt; {\n    if (name != &quot;pamela&quot;) {\n      errorMessages.add(name + &quot; is wrong here!&quot;); \n      return null; // triggering the indicator\n    }\n    return name;\n} )\n.filter(elem -&gt; (elem != null)) // bypassing propagation of only current unwanted data\n//.filter(elem -&gt; (errorMessages.size() == 0)) // or blocking any propagation once unwanted data detected\n.forEach(System.out::println);\n\nif (errorMessages.size() &gt; 0) { // handling the indicator\n  throw  new RuntimeException(String,join(&quot;, &quot;, errorMessages));\n}\n</code></pre>\n"}],"owner":{"account_id":2085237,"reputation":3952,"user_id":1856384,"accept_rate":56,"display_name":"Martin Weber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215266,"favorite_count":0,"down_vote_count":0,"up_vote_count":209,"accepted_answer_id":19757456,"answer_count":15,"score":209,"last_activity_date":1672427352,"creation_date":1383508267,"question_id":19757300,"body_markdown":"I have a problem trying out the Lambda expressions of Java 8.\r\nUsually it works fine, but now I have methods that throw `IOException`&#39;s. \r\nIt&#39;s best if you look at the following code:\r\n\r\n    class Bank{\r\n        ....\r\n        public Set&lt;String&gt; getActiveAccountNumbers() throws IOException {\r\n            Stream&lt;Account&gt; s =  accounts.values().stream();\r\n            s = s.filter(a -&gt; a.isActive());\r\n            Stream&lt;String&gt; ss = s.map(a -&gt; a.getNumber());\r\n            return ss.collect(Collectors.toSet());\r\n        }\r\n        ....\r\n    }\r\n\r\n    interface Account{\r\n        ....\r\n        boolean isActive() throws IOException;\r\n        String getNumber() throws IOException;\r\n        ....\r\n    }\r\n\r\nThe problem is, it doesn&#39;t compile, because I have to catch the possible exceptions of the isActive- and the getNumber-Methods. But even if I explicitly use a try-catch-Block like below, it still doesn&#39;t compile because I don&#39;t catch the Exception. So either there is a bug in JDK, or I don&#39;t know how to catch these Exceptions.\r\n\r\n    class Bank{\r\n        ....\r\n        //Doesn&#39;t compile either\r\n        public Set&lt;String&gt; getActiveAccountNumbers() throws IOException {\r\n            try{\r\n                Stream&lt;Account&gt; s =  accounts.values().stream();\r\n                s = s.filter(a -&gt; a.isActive());\r\n                Stream&lt;String&gt; ss = s.map(a -&gt; a.getNumber());\r\n                return ss.collect(Collectors.toSet());\r\n            }catch(IOException ex){\r\n            }\r\n        }\r\n        ....\r\n    }\r\n\r\nHow can I get it work? Can someone hint me to the right solution?","title":"Java 8: Lambda-Streams, Filter by Method with Exception","body":"<p>I have a problem trying out the Lambda expressions of Java 8.\nUsually it works fine, but now I have methods that throw <code>IOException</code>'s. \nIt's best if you look at the following code:</p>\n\n<pre><code>class Bank{\n    ....\n    public Set&lt;String&gt; getActiveAccountNumbers() throws IOException {\n        Stream&lt;Account&gt; s =  accounts.values().stream();\n        s = s.filter(a -&gt; a.isActive());\n        Stream&lt;String&gt; ss = s.map(a -&gt; a.getNumber());\n        return ss.collect(Collectors.toSet());\n    }\n    ....\n}\n\ninterface Account{\n    ....\n    boolean isActive() throws IOException;\n    String getNumber() throws IOException;\n    ....\n}\n</code></pre>\n\n<p>The problem is, it doesn't compile, because I have to catch the possible exceptions of the isActive- and the getNumber-Methods. But even if I explicitly use a try-catch-Block like below, it still doesn't compile because I don't catch the Exception. So either there is a bug in JDK, or I don't know how to catch these Exceptions.</p>\n\n<pre><code>class Bank{\n    ....\n    //Doesn't compile either\n    public Set&lt;String&gt; getActiveAccountNumbers() throws IOException {\n        try{\n            Stream&lt;Account&gt; s =  accounts.values().stream();\n            s = s.filter(a -&gt; a.isActive());\n            Stream&lt;String&gt; ss = s.map(a -&gt; a.getNumber());\n            return ss.collect(Collectors.toSet());\n        }catch(IOException ex){\n        }\n    }\n    ....\n}\n</code></pre>\n\n<p>How can I get it work? Can someone hint me to the right solution?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1620398856,"post_id":67437093,"comment_id":119197404,"body_markdown":"looks like your column name for `stored_in` is `storedIn`","body":"looks like your column name for <code>stored_in</code> is <code>storedIn</code>"},{"owner":{"account_id":15431193,"reputation":57,"user_id":11132580,"display_name":"Kyle Gagnon"},"score":0,"creation_date":1620399632,"post_id":67437093,"comment_id":119197790,"body_markdown":"I agree which is why I did name my function in the JPA Repository ```findAllByStoredIn```","body":"I agree which is why I did name my function in the JPA Repository <code>findAllByStoredIn</code>"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1620399833,"post_id":67437093,"comment_id":119197882,"body_markdown":"I guess the problem is &quot;In&quot; in &quot;findByStoredIn&quot; is a [query keyword](https://docs.spring.io/spring-data/jpa/docs/1.5.0.RELEASE/reference/html/repository-query-keywords.html)","body":"I guess the problem is &quot;In&quot; in &quot;findByStoredIn&quot; is a <a href=\"https://docs.spring.io/spring-data/jpa/docs/1.5.0.RELEASE/reference/html/repository-query-keywords.html\" rel=\"nofollow noreferrer\">query keyword</a>"},{"owner":{"account_id":15431193,"reputation":57,"user_id":11132580,"display_name":"Kyle Gagnon"},"score":0,"creation_date":1620400623,"post_id":67437093,"comment_id":119198278,"body_markdown":"@samabcde That&#39;s actually a really good point. I didn&#39;t think about that. Yep that was absolutely the reason","body":"@samabcde That&#39;s actually a really good point. I didn&#39;t think about that. Yep that was absolutely the reason"}],"answers":[{"comments":[{"owner":{"account_id":15431193,"reputation":57,"user_id":11132580,"display_name":"Kyle Gagnon"},"score":1,"creation_date":1620400653,"post_id":67437380,"comment_id":119198290,"body_markdown":"This is also a good answer for anyone looking","body":"This is also a good answer for anyone looking"}],"tags":[],"owner":{"account_id":3331453,"reputation":569,"user_id":2800318,"display_name":"MANITORATION"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620399905,"creation_date":1620399905,"answer_id":67437380,"question_id":67437093,"body_markdown":"I think It is the problem of column name and variable name in the JPA model,\r\nIf you want to use findAllByStoredIn you can use @Query annotation like this.\r\n \r\nThe Repository class like\r\n\r\n    \r\n    @Repository\r\n    public interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n          \r\n        @Query(&quot;SELECT a FROM Account a WHERE a.userName = :username&quot;)\r\n        Account findByUsername(@Param(&quot;username&quot;) String username);\r\n    }\r\n\r\nAnd the Model class like\r\n\r\n  \r\n\r\n    @Getter\r\n    @Setter\r\n    @RequiredArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;account&quot;)\r\n    public class Account {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(name=&quot;user_id&quot;)\r\n        private Long userId;\r\n    \r\n        @NotNull\r\n        @UniqueUsername(message=&quot;Username already exists&quot;)\r\n        @Size(min = 6, max = 255, message = &quot;Username have to be grater than 6 characters&quot;)\r\n        @Column(name=&quot;user_name&quot;,unique = true)\r\n        private String userName;\r\n    \r\n        }","title":"Spring Data JPA: No property found for type (Field name contains query method predicate keywords)","body":"<p>I think It is the problem of column name and variable name in the JPA model,\nIf you want to use findAllByStoredIn you can use @Query annotation like this.</p>\n<p>The Repository class like</p>\n<pre><code>@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\n      \n    @Query(&quot;SELECT a FROM Account a WHERE a.userName = :username&quot;)\n    Account findByUsername(@Param(&quot;username&quot;) String username);\n}\n</code></pre>\n<p>And the Model class like</p>\n<pre><code>@Getter\n@Setter\n@RequiredArgsConstructor\n@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    @GeneratedValue\n    @Column(name=&quot;user_id&quot;)\n    private Long userId;\n\n    @NotNull\n    @UniqueUsername(message=&quot;Username already exists&quot;)\n    @Size(min = 6, max = 255, message = &quot;Username have to be grater than 6 characters&quot;)\n    @Column(name=&quot;user_name&quot;,unique = true)\n    private String userName;\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15431193,"reputation":57,"user_id":11132580,"display_name":"Kyle Gagnon"},"score":0,"creation_date":1620400713,"post_id":67437439,"comment_id":119198320,"body_markdown":"Yep In was the problem and that was my bad. I changed my variable name as it&#39;s better to just avoid that keyword altogether and so that I can make my variable make more sense","body":"Yep In was the problem and that was my bad. I changed my variable name as it&#39;s better to just avoid that keyword altogether and so that I can make my variable make more sense"}],"tags":[],"owner":{"account_id":10762397,"reputation":36,"user_id":11573568,"display_name":"Romain Vidal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1620400093,"creation_date":1620400093,"answer_id":67437439,"question_id":67437093,"body_markdown":"Look like `In` is a keyword used by Spring query derivation. So it expects a `stored` property which is `In` value provided in arguments.\r\n\r\nhttps://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate\r\n\r\nYou need to use `@Query` annotation to get what you want.\r\n","title":"Spring Data JPA: No property found for type (Field name contains query method predicate keywords)","body":"<p>Look like <code>In</code> is a keyword used by Spring query derivation. So it expects a <code>stored</code> property which is <code>In</code> value provided in arguments.</p>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate</a></p>\n<p>You need to use <code>@Query</code> annotation to get what you want.</p>\n"},{"tags":[],"owner":{"account_id":21132478,"reputation":97,"user_id":15536521,"display_name":"Sandeep Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672427120,"creation_date":1672427120,"answer_id":74964993,"question_id":67437093,"body_markdown":"just this is enough for the issue.\r\n@Repository\r\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n      \r\n    @Query(&quot;SELECT a FROM Account a WHERE a.username = :username&quot;)\r\n    Account findByUsername(@Param(&quot;username&quot;) String username);\r\n}","title":"Spring Data JPA: No property found for type (Field name contains query method predicate keywords)","body":"<p>just this is enough for the issue.\n@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {</p>\n<pre><code>@Query(&quot;SELECT a FROM Account a WHERE a.username = :username&quot;)\nAccount findByUsername(@Param(&quot;username&quot;) String username);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":15431193,"reputation":57,"user_id":11132580,"display_name":"Kyle Gagnon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67437439,"answer_count":3,"score":1,"last_activity_date":1672427120,"creation_date":1620398716,"question_id":67437093,"body_markdown":"So I&#39;ve been trying to wrap my brain around this error. So I&#39;m getting a pretty standard error which I understand what it is telling me I just don&#39;t see how it&#39;s getting this error. So here is the error\r\n\r\n```\r\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property stored found for type StorageItemEntity! Did you mean &#39;storedIn&#39;?\r\n\tat org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\r\n\tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:249) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n\tat org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:250) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:383) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\r\n\tat org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:384) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:95) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n\tat org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.4.8.jar:2.4.8]\r\n\t... 62 common frames omitted\r\n```\r\n\r\nSo pretty standard error right? Ok so it&#39;s telling me that no property &#39;stored&#39; is found for my entity. Makes sense but I can&#39;t seem to understand why because I didn&#39;t define stored. Alright so here is the query that is messing it all up\r\n\r\n```\r\n@Repository\r\npublic interface StorageItemDao extends JpaRepository&lt;StorageItemEntity, Long&gt; {\r\n\t\r\n    // All other methods omitted for sake of keeping it short\r\n\tpublic List&lt;StorageItemEntity&gt; findAllByStoredIn(StorageType storedIn);\r\n\r\n}\r\n```\r\n\r\nAnd here is the StorageItemEntity class\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;storage_item&quot;)\r\npublic class StorageItemEntity implements Serializable{\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = -5373908574936516693L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@NotEmpty(message = &quot;Storage item name can not be empty&quot;)\r\n\t@Size(max = 100, message = &quot;Storage item name can not exceed 100 characters&quot;)\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Range(min = 0, message = &quot;Amount in storage can not be less than 0&quot;)\r\n\t@Column(name = &quot;amount&quot;)\r\n\tprivate int amount;\r\n\t\r\n\t@Range(min = 0, message = &quot;Amount expected in storage per week can not be less than 0&quot;)\r\n\t@Column(name = &quot;amount_expected&quot;)\r\n\tprivate int amountExpected;\r\n\t\r\n\t@NotNull(message = &quot;Storage in type can not be empty&quot;)\r\n\t@Column(name = &quot;stored_in&quot;)\r\n\tprivate StorageType storedIn;\r\n\t\r\n\t@Size(max = 500, message = Constants.ADDITIONAL_INFO_EXCEED)\r\n\t@Column(name = &quot;additional_info&quot;)\r\n\tprivate String additionalInfo;\r\n\t\r\n\t@NotNull(message = &quot;You need to have a vendor associated to this item&quot;)\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;vendor_id&quot;, referencedColumnName=&quot;id&quot;)\r\n\tprivate VendorEntity vendor;\r\n\t\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = &quot;type_of_storage_id&quot;, referencedColumnName=&quot;id&quot;)\r\n\tprivate TypeOfStorageEntity typeOfStorage;\r\n\r\n    // All getters, setters, and constructors are omitted\r\n}\r\n```\r\n\r\nI would also like to note that StorageType is a pretty standard Enumeration. This is not the error but it is a good note just in case. So why would I be getting a &quot;No property &#39;stored&#39; found for type StorageItemEntity&quot; if I never defined said stored in my JPA method?\r\n\r\nThank you","title":"Spring Data JPA: No property found for type (Field name contains query method predicate keywords)","body":"<p>So I've been trying to wrap my brain around this error. So I'm getting a pretty standard error which I understand what it is telling me I just don't see how it's getting this error. So here is the error</p>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property stored found for type StorageItemEntity! Did you mean 'storedIn'?\n    at org.springframework.data.mapping.PropertyPath.&lt;init&gt;(PropertyPath.java:90) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:437) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:413) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:366) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330) ~[na:na]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:348) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:331) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.query.parser.Part.&lt;init&gt;(Part.java:81) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:249) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$OrPart.&lt;init&gt;(PartTree.java:250) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:383) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[na:na]\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[na:na]\n    at org.springframework.data.repository.query.parser.PartTree$Predicate.&lt;init&gt;(PartTree.java:384) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.repository.query.parser.PartTree.&lt;init&gt;(PartTree.java:95) ~[spring-data-commons-2.4.8.jar:2.4.8]\n    at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.&lt;init&gt;(PartTreeJpaQuery.java:89) ~[spring-data-jpa-2.4.8.jar:2.4.8]\n    ... 62 common frames omitted\n</code></pre>\n<p>So pretty standard error right? Ok so it's telling me that no property 'stored' is found for my entity. Makes sense but I can't seem to understand why because I didn't define stored. Alright so here is the query that is messing it all up</p>\n<pre><code>@Repository\npublic interface StorageItemDao extends JpaRepository&lt;StorageItemEntity, Long&gt; {\n    \n    // All other methods omitted for sake of keeping it short\n    public List&lt;StorageItemEntity&gt; findAllByStoredIn(StorageType storedIn);\n\n}\n</code></pre>\n<p>And here is the StorageItemEntity class</p>\n<pre><code>@Entity\n@Table(name = &quot;storage_item&quot;)\npublic class StorageItemEntity implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = -5373908574936516693L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private int id;\n    \n    @NotEmpty(message = &quot;Storage item name can not be empty&quot;)\n    @Size(max = 100, message = &quot;Storage item name can not exceed 100 characters&quot;)\n    @Column(name = &quot;name&quot;)\n    private String name;\n    \n    @Range(min = 0, message = &quot;Amount in storage can not be less than 0&quot;)\n    @Column(name = &quot;amount&quot;)\n    private int amount;\n    \n    @Range(min = 0, message = &quot;Amount expected in storage per week can not be less than 0&quot;)\n    @Column(name = &quot;amount_expected&quot;)\n    private int amountExpected;\n    \n    @NotNull(message = &quot;Storage in type can not be empty&quot;)\n    @Column(name = &quot;stored_in&quot;)\n    private StorageType storedIn;\n    \n    @Size(max = 500, message = Constants.ADDITIONAL_INFO_EXCEED)\n    @Column(name = &quot;additional_info&quot;)\n    private String additionalInfo;\n    \n    @NotNull(message = &quot;You need to have a vendor associated to this item&quot;)\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;vendor_id&quot;, referencedColumnName=&quot;id&quot;)\n    private VendorEntity vendor;\n    \n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;type_of_storage_id&quot;, referencedColumnName=&quot;id&quot;)\n    private TypeOfStorageEntity typeOfStorage;\n\n    // All getters, setters, and constructors are omitted\n}\n</code></pre>\n<p>I would also like to note that StorageType is a pretty standard Enumeration. This is not the error but it is a good note just in case. So why would I be getting a &quot;No property 'stored' found for type StorageItemEntity&quot; if I never defined said stored in my JPA method?</p>\n<p>Thank you</p>\n"},{"tags":["java","xml","jaxb","xml-namespaces","unmarshalling"],"owner":{"account_id":6014413,"reputation":21,"user_id":4723798,"display_name":"furkan brgl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672426943,"creation_date":1672425504,"question_id":74964784,"body_markdown":"The code below works perfectly and i am able to get the success value  when i remove the namesace xmlns(xmlns=&quot;http://w/p-print&quot;) from the xml. But when xml comes with xmlns attribute, response object becomes null after unmarshalling. I tried to map the xmlns attrubute in Response class too but it did not make any difference. Seems like whenever I run into xmlns attrubute in the xml, entire Response object being null. Any idea about it? Thank you all in advance. \r\n\r\nThe xml that I am unmarshalling\r\n`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;PRInfo Version=&quot;2.00&quot;&gt;\r\n\t\r\n        &lt;ePrint&gt;\r\n\t        &lt;Params&gt;\r\n\t\t        &lt;devid&gt;test&lt;/devid&gt;\r\n\t\t        &lt;printjobid&gt;2323&lt;/printjobid&gt;\r\n\t        &lt;/Params&gt;\r\n\t        &lt;PResonse&gt;\r\n\t\t        &lt;response xmlns=&quot;http://w/p-print&quot; success=&quot;true&quot;/&gt;. \r\n                &lt;/response&gt;\r\n\t        &lt;/PResonse&gt;\r\n\t    &lt;ePrint&gt;\r\n\r\n&lt;/PRInfo&gt;\r\n```\r\n`\r\n\r\nClass Based Mapping\r\n\r\n```\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class PRInfo {\r\n\r\n    // required XmlElements comes here\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public static class ePrint {\r\n\r\n        //required XmlElementa comes here\r\n\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        public static class Params {\r\n            // required XmlElement come here...\r\n        }\r\n\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        @XmlType(name = &quot;&quot;, propOrder = {&quot;response&quot;})\r\n        public static class PResonse {\r\n\r\n            @XmlElement\r\n            private Response response;\r\n           // Getter Setter\r\n        }\r\n    }\r\n}\r\n\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlType(name = &quot;response&quot;)\r\npublic class Response {\r\n\r\n    @XmlAttribute(name = &quot;success&quot;)\r\n    protected Boolean success;\r\n// Getter and Setter\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nUnmarshal the xml and get the success value from response object.","title":"xmlns attribute makes the object null while unmarshalling with JAXB","body":"<p>The code below works perfectly and i am able to get the success value  when i remove the namesace xmlns(xmlns=&quot;http://w/p-print&quot;) from the xml. But when xml comes with xmlns attribute, response object becomes null after unmarshalling. I tried to map the xmlns attrubute in Response class too but it did not make any difference. Seems like whenever I run into xmlns attrubute in the xml, entire Response object being null. Any idea about it? Thank you all in advance.</p>\n<p>The xml that I am unmarshalling\n`</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;PRInfo Version=&quot;2.00&quot;&gt;\n    \n        &lt;ePrint&gt;\n            &lt;Params&gt;\n                &lt;devid&gt;test&lt;/devid&gt;\n                &lt;printjobid&gt;2323&lt;/printjobid&gt;\n            &lt;/Params&gt;\n            &lt;PResonse&gt;\n                &lt;response xmlns=&quot;http://w/p-print&quot; success=&quot;true&quot;/&gt;. \n                &lt;/response&gt;\n            &lt;/PResonse&gt;\n        &lt;ePrint&gt;\n\n&lt;/PRInfo&gt;\n</code></pre>\n<p>`</p>\n<p>Class Based Mapping</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\npublic class PRInfo {\n\n    // required XmlElements comes here\n\n    @XmlAccessorType(XmlAccessType.FIELD)\n    public static class ePrint {\n\n        //required XmlElementa comes here\n\n        @XmlAccessorType(XmlAccessType.FIELD)\n        public static class Params {\n            // required XmlElement come here...\n        }\n\n        @XmlAccessorType(XmlAccessType.FIELD)\n        @XmlType(name = &quot;&quot;, propOrder = {&quot;response&quot;})\n        public static class PResonse {\n\n            @XmlElement\n            private Response response;\n           // Getter Setter\n        }\n    }\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;response&quot;)\npublic class Response {\n\n    @XmlAttribute(name = &quot;success&quot;)\n    protected Boolean success;\n// Getter and Setter\n}\n\n</code></pre>\n<p>Unmarshal the xml and get the success value from response object.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2992111,"reputation":970,"user_id":2539474,"accept_rate":100,"display_name":"Fabian"},"score":1,"creation_date":1452878599,"post_id":34816171,"comment_id":57375106,"body_markdown":"replace com.squareup.okhttp3.OkHttpClient; with okhttp3.OkHttpClient","body":"replace com.squareup.okhttp3.OkHttpClient; with okhttp3.OkHttpClient"}],"answers":[{"comments":[{"owner":{"account_id":6730623,"reputation":303,"user_id":5187098,"accept_rate":100,"display_name":"charlesfranciscodev"},"score":0,"creation_date":1452910644,"post_id":34816334,"comment_id":57388026,"body_markdown":"After deleting the import and using autocomplete with Alt+Enter, this line was added `import okhttp3.OkHttpClient;` and solved the issue. Thanks alot.","body":"After deleting the import and using autocomplete with Alt+Enter, this line was added <code>import okhttp3.OkHttpClient;</code> and solved the issue. Thanks alot."}],"tags":[],"owner":{"account_id":4418063,"reputation":4061,"user_id":3599007,"accept_rate":67,"display_name":"Mukesh Rana"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1505980678,"creation_date":1452877974,"answer_id":34816334,"question_id":34816171,"body_markdown":"Try Removing your import, and just go to this line\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n\r\nmove your cursor to `OkHttpClient` and press Alt+Enter, you will see 2 classes to choose import from as you can see in this image:\r\n\r\n![1](https://i.stack.imgur.com/EMtMk.png)\r\n\r\nSo basically there are two types of imports available\r\n\r\n1). `import com.squareup.okhttp.OkHttpClient;`\r\n\r\n2). `import okhttp3.OkHttpClient;`\r\n\r\nand yours is matching none of them, Please try to import the correct one, depending upon your requirements.","title":"square - okhttp - OkHttpClient cannot be resolved","body":"<p>Try Removing your import, and just go to this line</p>\n\n<pre><code>OkHttpClient client = new OkHttpClient();\n</code></pre>\n\n<p>move your cursor to <code>OkHttpClient</code> and press Alt+Enter, you will see 2 classes to choose import from as you can see in this image:</p>\n\n<p><img src=\"https://i.stack.imgur.com/EMtMk.png\" alt=\"1\"></p>\n\n<p>So basically there are two types of imports available</p>\n\n<p>1). <code>import com.squareup.okhttp.OkHttpClient;</code></p>\n\n<p>2). <code>import okhttp3.OkHttpClient;</code></p>\n\n<p>and yours is matching none of them, Please try to import the correct one, depending upon your requirements.</p>\n"},{"tags":[],"owner":{"account_id":3664301,"reputation":2938,"user_id":3053228,"display_name":"prashant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479916590,"creation_date":1479915108,"answer_id":40768415,"question_id":34816171,"body_markdown":"I too faced same problem, try changing your dependencies in the gradle as following.\r\n\r\n**\r\n\r\ndependencies {\r\n\r\n    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    compile files(&#39;libs/okhttp-3.4.2.jar&#39;)\r\n    compile &#39;com.squareup.okhttp3:okhttp:3.4.2&#39;\r\n        androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n    compile &#39;com.android.support:appcompat-v7:25.0.1&#39;\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n}\r\n\r\n**\r\n\r\n\r\n","title":"square - okhttp - OkHttpClient cannot be resolved","body":"<p>I too faced same problem, try changing your dependencies in the gradle as following.</p>\n\n<p>**</p>\n\n<p>dependencies {</p>\n\n<pre><code>compile fileTree(dir: 'libs', include: ['*.jar'])\ncompile files('libs/okhttp-3.4.2.jar')\ncompile 'com.squareup.okhttp3:okhttp:3.4.2'\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\ncompile 'com.android.support:appcompat-v7:25.0.1'\ntestCompile 'junit:junit:4.12'\n</code></pre>\n\n<p>}</p>\n\n<p>**</p>\n"},{"tags":[],"owner":{"account_id":15477003,"reputation":11,"user_id":11165415,"display_name":"Prabhu.d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571639803,"creation_date":1571639803,"answer_id":58480931,"question_id":34816171,"body_markdown":"You have to add these two dependencies in your build.gradle(app) :\r\n\r\n compile &#39;com.squareup.okhttp:okhttp:2.2.0&#39;\r\n\r\n compile &#39;com.squareup.okhttp:okhttp-urlconnection:2.0.0&#39; \r\n\r\nAfter that you will be able to install your application perfectly.","title":"square - okhttp - OkHttpClient cannot be resolved","body":"<p>You have to add these two dependencies in your build.gradle(app) :</p>\n\n<p>compile 'com.squareup.okhttp:okhttp:2.2.0'</p>\n\n<p>compile 'com.squareup.okhttp:okhttp-urlconnection:2.0.0' </p>\n\n<p>After that you will be able to install your application perfectly.</p>\n"}],"owner":{"account_id":6730623,"reputation":303,"user_id":5187098,"accept_rate":100,"display_name":"charlesfranciscodev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38859,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":34816334,"answer_count":3,"score":8,"last_activity_date":1672426091,"creation_date":1452877310,"question_id":34816171,"body_markdown":"Currently I am working on the [Stormy Treehouse Android app](https://teamtreehouse.com/library/build-a-weather-app/networking/making-an-http-get-request-with-okhttp). I want to use the [square OkHttpClient](https://github.com/square/okhttp) but I get an error &quot;cannot resolve symbol okhttp3&quot; when importing the class : `import com.squareup.okhttp3.OkHttpClient;`. Replacing okhttp3 with okhttp does not fix the error. Thanks for you help.\r\n\r\n### MainActivity.java ###\r\n\r\n    ...\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n\r\n    // cannot resolve symbol &#39;okhttp3&#39;\r\n    import com.squareup.okhttp3.OkHttpClient;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            String apiKey = &quot;...&quot;;\r\n            double latitude = 45.5124;\r\n            double longitude = -73.5547;\r\n            String forecastUrl = &quot;https://api.forecast.io/forecast/&quot; + apiKey + &quot;/&quot; + latitude + &quot;,&quot; + longitude;\r\n            // Cannot resolve symbol\r\n            OkHttpClient client = new OkHttpClient();\r\n\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        } // onCreate()\r\n    } // MainActivity\r\n\r\n\r\n### build.gradle (Module:app) ###\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n        compileSdkVersion 23\r\n        buildToolsVersion &quot;23.0.2&quot;\r\n\r\n        defaultConfig {\r\n            applicationId &quot;...&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 23\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:23.1.1&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp:3.0.1&#39;\r\n    }","title":"square - okhttp - OkHttpClient cannot be resolved","body":"<p>Currently I am working on the <a href=\"https://teamtreehouse.com/library/build-a-weather-app/networking/making-an-http-get-request-with-okhttp\" rel=\"nofollow noreferrer\">Stormy Treehouse Android app</a>. I want to use the <a href=\"https://github.com/square/okhttp\" rel=\"nofollow noreferrer\">square OkHttpClient</a> but I get an error &quot;cannot resolve symbol okhttp3&quot; when importing the class : <code>import com.squareup.okhttp3.OkHttpClient;</code>. Replacing okhttp3 with okhttp does not fix the error. Thanks for you help.</p>\n<h3>MainActivity.java</h3>\n<pre><code>...\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\n\n// cannot resolve symbol 'okhttp3'\nimport com.squareup.okhttp3.OkHttpClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        String apiKey = &quot;...&quot;;\n        double latitude = 45.5124;\n        double longitude = -73.5547;\n        String forecastUrl = &quot;https://api.forecast.io/forecast/&quot; + apiKey + &quot;/&quot; + latitude + &quot;,&quot; + longitude;\n        // Cannot resolve symbol\n        OkHttpClient client = new OkHttpClient();\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    } // onCreate()\n} // MainActivity\n</code></pre>\n<h3>build.gradle (Module:app)</h3>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 23\n    buildToolsVersion &quot;23.0.2&quot;\n\n    defaultConfig {\n        applicationId &quot;...&quot;\n        minSdkVersion 15\n        targetSdkVersion 23\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:23.1.1'\n    compile 'com.squareup.okhttp3:okhttp:3.0.1'\n}\n</code></pre>\n"},{"tags":["java","object","tostring"],"comments":[{"owner":{"account_id":443256,"reputation":12498,"user_id":834362,"display_name":"home"},"score":3,"creation_date":1347901392,"post_id":12463923,"comment_id":16764152,"body_markdown":"It seems this is not the hash value - looks like the JVMs object ID (hash value is an int). Btw. Integer.toString() does not return the hash, it returns the integer value in decimal format. Maybe you can provide an example how you use this method?","body":"It seems this is not the hash value - looks like the JVMs object ID (hash value is an int). Btw. Integer.toString() does not return the hash, it returns the integer value in decimal format. Maybe you can provide an example how you use this method?"},{"owner":{"account_id":1394549,"reputation":1296,"user_id":1324595,"accept_rate":65,"display_name":"David K"},"score":0,"creation_date":1347909858,"post_id":12463923,"comment_id":16767333,"body_markdown":"@home: My apologies, I&#39;m still working on understanding all of the correct language in Java.  I&#39;ve updated the question to be more accurate.","body":"@home: My apologies, I&#39;m still working on understanding all of the correct language in Java.  I&#39;ve updated the question to be more accurate."}],"answers":[{"comments":[{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1347901592,"post_id":12464002,"comment_id":16764222,"body_markdown":"That&#39;s correct! `[Z@...` is what gets printed when you call `toString` on a `boolean[]`, and `[I@` shows up for `int[]`.","body":"That&#39;s correct! <code>[Z@...</code> is what gets printed when you call <code>toString</code> on a <code>boolean[]</code>, and <code>[I@</code> shows up for <code>int[]</code>."},{"owner":{"account_id":1394549,"reputation":1296,"user_id":1324595,"accept_rate":65,"display_name":"David K"},"score":0,"creation_date":1347910121,"post_id":12464002,"comment_id":16767428,"body_markdown":"Thanks, you actually revealed another bug in my code!  I was intending to pass elements pulled from arrays, but I forgot to index them and sent the entire array, multiple times.","body":"Thanks, you actually revealed another bug in my code!  I was intending to pass elements pulled from arrays, but I forgot to index them and sent the entire array, multiple times."},{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":1,"creation_date":1347910388,"post_id":12464002,"comment_id":16767517,"body_markdown":"@DavidK: When I&#39;d suggest to do it in more type-safe way: implement a special subclass of `Gate` that wraps a primitive value, and pass `Gate`s instead of `Object`s.","body":"@DavidK: When I&#39;d suggest to do it in more type-safe way: implement a special subclass of <code>Gate</code> that wraps a primitive value, and pass <code>Gate</code>s instead of <code>Object</code>s."}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1672425622,"creation_date":1347901468,"answer_id":12464002,"question_id":12463923,"body_markdown":"Your output clearly says that you pass `int[]` and `boolean[]` into your constructor, not `Integer` and `Boolean` as you say (see [`Class.getName()`][1] for the meaning of binary type names such as `[I`).\r\n\r\nIf it&#39;s expected, than you need to provide your own function to convert arrays to `String` and use it instead on using the default `toString()` implementation that return hash-based values for arrays.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getName%28%29","title":"toString() of Integer or Boolean without returning Object ID","body":"<p>Your output clearly says that you pass <code>int[]</code> and <code>boolean[]</code> into your constructor, not <code>Integer</code> and <code>Boolean</code> as you say (see <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getName%28%29\" rel=\"nofollow noreferrer\"><code>Class.getName()</code></a> for the meaning of binary type names such as <code>[I</code>).</p>\n<p>If it's expected, than you need to provide your own function to convert arrays to <code>String</code> and use it instead on using the default <code>toString()</code> implementation that return hash-based values for arrays.</p>\n"}],"owner":{"account_id":1394549,"reputation":1296,"user_id":1324595,"accept_rate":65,"display_name":"David K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":12464002,"answer_count":1,"score":2,"last_activity_date":1672425622,"creation_date":1347901117,"question_id":12463923,"body_markdown":"I have a set of classes which represent digital logic gates, and I would like to create a toString() command which will recursively go through and print them.  The problem is that they can contain a Gate, Boolean, or Integer, and when I call Boolean.toString() or Integer.toString(), the Object ID is printed rather than the assigned value.  Is there a way to generically call a toString() (or similar) command on these objects and have them print the assigned value?\r\n\r\nWith the code below, the output looks something like: &quot;AND([I@6ca1c,[Z@1bf216a)&quot;\r\n\r\nI would like it to look like: &quot;AND(11,true)&quot;\r\n\r\n\tpublic static class Gate{\r\n\t\tpublic Object in1;\r\n\t}\r\n\t\r\n\tpublic static class ANDgate extends Gate{\r\n\t\t\r\n\t\tpublic Object in2;\r\n\t\t\r\n\t\tpublic ANDgate(Object first,Object second){\r\n\t\t\tin1 = first; // these can be Integer, Boolean, or another Gate\r\n\t\t\tin2 = second;\r\n\t\t}\r\n\t\tpublic String toString(){\r\n\t\t\treturn(&quot;AND(&quot; + in1 + &quot;,&quot; + in2 + &quot;)&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class NOTgate extends Gate{\r\n\r\n\t\tpublic NOTgate(Object obj){\r\n\t\t\tin1 = obj; // this can be Integer, Boolean, or another Gate\r\n\r\n\t\t}\r\n\t\tpublic String toString(){\r\n\t\t\treturn(&quot;NOT(&quot; + in1 + &quot;)&quot;);\r\n\t\t}\r\n\t}","title":"toString() of Integer or Boolean without returning Object ID","body":"<p>I have a set of classes which represent digital logic gates, and I would like to create a toString() command which will recursively go through and print them.  The problem is that they can contain a Gate, Boolean, or Integer, and when I call Boolean.toString() or Integer.toString(), the Object ID is printed rather than the assigned value.  Is there a way to generically call a toString() (or similar) command on these objects and have them print the assigned value?</p>\n\n<p>With the code below, the output looks something like: \"AND([I@6ca1c,[Z@1bf216a)\"</p>\n\n<p>I would like it to look like: \"AND(11,true)\"</p>\n\n<pre><code>public static class Gate{\n    public Object in1;\n}\n\npublic static class ANDgate extends Gate{\n\n    public Object in2;\n\n    public ANDgate(Object first,Object second){\n        in1 = first; // these can be Integer, Boolean, or another Gate\n        in2 = second;\n    }\n    public String toString(){\n        return(\"AND(\" + in1 + \",\" + in2 + \")\");\n    }\n}\n\npublic static class NOTgate extends Gate{\n\n    public NOTgate(Object obj){\n        in1 = obj; // this can be Integer, Boolean, or another Gate\n\n    }\n    public String toString(){\n        return(\"NOT(\" + in1 + \")\");\n    }\n}\n</code></pre>\n"},{"tags":["java","object","tostring","bugzilla"],"comments":[{"owner":{"account_id":480141,"reputation":2280,"user_id":893197,"accept_rate":69,"display_name":"A N M Bazlur Rahman"},"score":3,"creation_date":1392102709,"post_id":21695377,"comment_id":32800763,"body_markdown":"is createResult is an instance of your Search class?","body":"is createResult is an instance of your Search class?"},{"owner":{"account_id":3044638,"reputation":1627,"user_id":2580649,"display_name":"PakkuDon"},"score":2,"creation_date":1392102737,"post_id":21695377,"comment_id":32800782,"body_markdown":"[Overloading != Overriding](http://stackoverflow.com/questions/12374399/difference-between-method-overloading-and-overriding-in-java)","body":"<a href=\"http://stackoverflow.com/questions/12374399/difference-between-method-overloading-and-overriding-in-java\">Overloading != Overriding</a>"},{"owner":{"account_id":3225359,"reputation":6722,"user_id":2721865,"accept_rate":100,"display_name":"kai"},"score":0,"creation_date":1392102983,"post_id":21695377,"comment_id":32800914,"body_markdown":"you are overriding toString() method of your search class.","body":"you are overriding toString() method of your search class."},{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":0,"creation_date":1392103006,"post_id":21695377,"comment_id":32800928,"body_markdown":"If you actually call `toString` on an instance of your `Search` class, it will output what you expect - I don&#39;t see anywhere that you&#39;re doing that in your code though. Where do you think it should be doing it?","body":"If you actually call <code>toString</code> on an instance of your <code>Search</code> class, it will output what you expect - I don&#39;t see anywhere that you&#39;re doing that in your code though. Where do you think it should be doing it?"},{"owner":{"account_id":3922431,"reputation":21,"user_id":3244163,"accept_rate":60,"display_name":"O D"},"score":0,"creation_date":1392106297,"post_id":21695377,"comment_id":32802491,"body_markdown":"@rokonoid createResult is an Object that is returned by an API method i am calling(Bug.seacrh).","body":"@rokonoid createResult is an Object that is returned by an API method i am calling(Bug.seacrh)."},{"owner":{"account_id":3922431,"reputation":21,"user_id":3244163,"accept_rate":60,"display_name":"O D"},"score":0,"creation_date":1392106471,"post_id":21695377,"comment_id":32802554,"body_markdown":"@Chris public String toString() { \n               //System.err.println (&quot;Ojesh&quot;); \n               return String.format(&quot;oje&quot;+&quot;abx&quot;); so when i call create.toString() it should print ojeabx","body":"@Chris public String toString() {                 //System.err.println (&quot;Ojesh&quot;);                 return String.format(&quot;oje&quot;+&quot;abx&quot;); so when i call create.toString() it should print ojeabx"},{"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"score":0,"creation_date":1392106600,"post_id":21695377,"comment_id":32802608,"body_markdown":"I can see the _definition_ of the method - what I don&#39;t see is where you&#39;re _using_ it... You call `toString` in a few places, but not on an instance of your `Search` class.","body":"I can see the <i>definition</i> of the method - what I don&#39;t see is where you&#39;re <i>using</i> it... You call <code>toString</code> in a few places, but not on an instance of your <code>Search</code> class."},{"owner":{"account_id":3922431,"reputation":21,"user_id":3244163,"accept_rate":60,"display_name":"O D"},"score":0,"creation_date":1392108247,"post_id":21695377,"comment_id":32803445,"body_markdown":"@Chris yes you are right. createResult is not an instance of my class. so how can i get contents of this object??","body":"@Chris yes you are right. createResult is not an instance of my class. so how can i get contents of this object??"}],"answers":[{"comments":[{"owner":{"account_id":3922431,"reputation":21,"user_id":3244163,"accept_rate":60,"display_name":"O D"},"score":0,"creation_date":1392108039,"post_id":21695502,"comment_id":32803336,"body_markdown":"System.out.println(new Search().toString()) is behaving fine as it should. But what i want is to get te content of createResult object which have two parametres in it.So i  was trying to use createResult.toString() butu not working. even java.util.Arrays.toString(createResult)) not working. ERROR:-  The method toString(long[]) in the type Arrays is not applicable for the arguments (Object)","body":"System.out.println(new Search().toString()) is behaving fine as it should. But what i want is to get te content of createResult object which have two parametres in it.So i  was trying to use createResult.toString() butu not working. even java.util.Arrays.toString(createResult)) not working. ERROR:-  The method toString(long[]) in the type Arrays is not applicable for the arguments (Object)"},{"owner":{"account_id":3922431,"reputation":21,"user_id":3244163,"accept_rate":60,"display_name":"O D"},"score":0,"creation_date":1392109217,"post_id":21695502,"comment_id":32803972,"body_markdown":"if i want to access the content of object that is not instance of my class, how do i go about it??","body":"if i want to access the content of object that is not instance of my class, how do i go about it??"},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1392112587,"post_id":21695502,"comment_id":32805960,"body_markdown":"@OD, you should use services of this class directly or indirectly. For example if you have class `Person` that implements `getName()` you can call this method to print name. If you are dealing with array (as in your case) you can either iterate over array and print each element or use utility liek `Arrays.toString(arr)`","body":"@OD, you should use services of this class directly or indirectly. For example if you have class <code>Person</code> that implements <code>getName()</code> you can call this method to print name. If you are dealing with array (as in your case) you can either iterate over array and print each element or use utility liek <code>Arrays.toString(arr)</code>"},{"owner":{"account_id":3922431,"reputation":21,"user_id":3244163,"accept_rate":60,"display_name":"O D"},"score":0,"creation_date":1392113173,"post_id":21695502,"comment_id":32806316,"body_markdown":"I already tried Arrays.toString(arr) but its not working. Its a object of class java.util.HashMap.","body":"I already tried Arrays.toString(arr) but its not working. Its a object of class java.util.HashMap."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672425544,"creation_date":1392103037,"answer_id":21695502,"question_id":21695377,"body_markdown":"You indeed created overridden version of `toString()` in your `Search` class. But you do not use it. \r\n\r\n\r\nTry `System.out.println(new Search().toString()));` and see how your `toString()` is working. I do not understand which code line does not work from your point of view.\r\n\r\nThere are 2 lines that print something:\r\n\r\n`System.err.println (&quot;loginResult=&quot; + loginResult); `\r\n\r\nand\r\n\r\n`System.err.println(&quot;createResult =&quot; + createResult.toString()); `\r\n\r\n\r\nThe first line prints array because `loginResult` is and array. The second line prints object returned by your `rpcClient` that in fact is array too. So, you see the `toString` implementation of array that cannot be changed. \r\n\r\n\r\nIf you want to create string representation of array use `Arrays.toString(arr)`.","title":"Unable to Override toString for Object","body":"<p>You indeed created overridden version of <code>toString()</code> in your <code>Search</code> class. But you do not use it.</p>\n<p>Try <code>System.out.println(new Search().toString()));</code> and see how your <code>toString()</code> is working. I do not understand which code line does not work from your point of view.</p>\n<p>There are 2 lines that print something:</p>\n<p><code>System.err.println (&quot;loginResult=&quot; + loginResult); </code></p>\n<p>and</p>\n<p><code>System.err.println(&quot;createResult =&quot; + createResult.toString()); </code></p>\n<p>The first line prints array because <code>loginResult</code> is and array. The second line prints object returned by your <code>rpcClient</code> that in fact is array too. So, you see the <code>toString</code> implementation of array that cannot be changed.</p>\n<p>If you want to create string representation of array use <code>Arrays.toString(arr)</code>.</p>\n"},{"comments":[{"owner":{"account_id":3922431,"reputation":21,"user_id":3244163,"accept_rate":60,"display_name":"O D"},"score":0,"creation_date":1392106922,"post_id":21695534,"comment_id":32802754,"body_markdown":"enen if i directy use return &quot;ABC&quot;, itys not working, i mean my toString() method is not being called in line  System.err.println(&quot;createResult =&quot; + createResult.toString());","body":"enen if i directy use return &quot;ABC&quot;, itys not working, i mean my toString() method is not being called in line  System.err.println(&quot;createResult =&quot; + createResult.toString());"}],"tags":[],"owner":{"account_id":253715,"reputation":116,"user_id":2282826,"display_name":"Anand"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392103161,"creation_date":1392103161,"answer_id":21695534,"question_id":21695377,"body_markdown":"First, you are using String.format which is used to format strings bases on a format as the name implies. See [http://docs.oracle.com/javase/7/docs/api/java/lang/String.html][1]\r\n\r\nWhat you need is to use StringBuilder to create the string that you want by appending them and give it to toString()\r\n\r\nex : [http://docs.oracle.com/javase/tutorial/java/data/buffers.html][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/data/buffers.html","title":"Unable to Override toString for Object","body":"<p>First, you are using String.format which is used to format strings bases on a format as the name implies. See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/String.html</a></p>\n\n<p>What you need is to use StringBuilder to create the string that you want by appending them and give it to toString()</p>\n\n<p>ex : <a href=\"http://docs.oracle.com/javase/tutorial/java/data/buffers.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/data/buffers.html</a></p>\n"}],"owner":{"account_id":3922431,"reputation":21,"user_id":3244163,"accept_rate":60,"display_name":"O D"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1222,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1672425544,"creation_date":1392102553,"question_id":21695377,"body_markdown":"This is the code I wrote in Java and accessing Bugzilla and getting the object. But I am unable to get object Values. I am trying to override toString() function but overrided one is not working.\r\n\r\n    package XMLRPC; \r\n\r\n    import java.net.MalformedURLException; \r\n    import java.net.URL; \r\n    import java.util.HashMap; \r\n    import java.util.Map; \r\n\r\n    import org.apache.commons.httpclient.HttpClient; \r\n    import org.apache.xmlrpc.XmlRpcException; \r\n    import org.apache.xmlrpc.client.XmlRpcClient; \r\n    import org.apache.xmlrpc.client.XmlRpcClientConfigImpl; \r\n    import org.apache.xmlrpc.client.XmlRpcCommonsTransportFactory; \r\n    \r\n    public class Search { \r\n        \r\n        @Override \r\n        public String toString() { \r\n                   //System.err.println (&quot;Ojesh&quot;); \r\n                   return String.format(&quot;oje&quot;+&quot;abx&quot;); \r\n        } \r\n\r\n        public static void main(String args[]) \r\n              throws MalformedURLException, XmlRpcException { \r\n\r\n                   \r\n                   HttpClient httpClient = new HttpClient(); \r\n                XmlRpcClient rpcClient = new XmlRpcClient(); \r\n                XmlRpcCommonsTransportFactory factory = new XmlRpcCommonsTransportFactory(rpcClient); \r\n                XmlRpcClientConfigImpl config = new XmlRpcClientConfigImpl(); \r\n\r\n              factory.setHttpClient(httpClient); \r\n                rpcClient.setTransportFactory(factory); \r\n                config.setServerURL(new URL(&quot;http://abc2/bugzilla/xmlrpc.cgi&quot;)); \r\n                rpcClient.setConfig(config); \r\n\r\n                //map of the login data \r\n                Map loginMap = new HashMap(); \r\n                loginMap.put(&quot;login&quot;, &quot;abc@bag&quot;); \r\n                loginMap.put(&quot;password&quot;, &quot;***&quot;); \r\n                loginMap.put(&quot;rememberlogin&quot;, &quot;Bugzilla_remember&quot;); \r\n\r\n                \r\n                // login to bugzilla \r\n                Object loginResult = rpcClient.execute(&quot;User.login&quot;, new Object[]{loginMap}); \r\n                System.err.println (&quot;loginResult=&quot; + loginResult); \r\n\r\n                // map of the bug data ok \r\n                Map bugMap = new HashMap(); \r\n\r\n                bugMap.put(&quot;id&quot;, &quot;350&quot;); \r\n                 \r\n                //bugMap.put(&quot;status&quot;, &quot;NEW&quot;); \r\n\r\n                // create bug \r\n                Object createResult = rpcClient.execute(&quot;Bug.search&quot;, new Object[]{bugMap}); \r\n                //createResult.toString(); \r\n               \r\n                System.err.println(&quot;createResult =&quot; + createResult.toString());\r\n             }\r\n         } \r\n\r\n\r\nIt&#39;s not returning OJEABX as expected. Instead bugs=[Ljava.lang.Object;@2ee5e48a being displayed. \r\nWhere am I going wrong? I want to print value of Object but not working fine.\r\n","title":"Unable to Override toString for Object","body":"<p>This is the code I wrote in Java and accessing Bugzilla and getting the object. But I am unable to get object Values. I am trying to override toString() function but overrided one is not working.</p>\n\n<pre><code>package XMLRPC; \n\nimport java.net.MalformedURLException; \nimport java.net.URL; \nimport java.util.HashMap; \nimport java.util.Map; \n\nimport org.apache.commons.httpclient.HttpClient; \nimport org.apache.xmlrpc.XmlRpcException; \nimport org.apache.xmlrpc.client.XmlRpcClient; \nimport org.apache.xmlrpc.client.XmlRpcClientConfigImpl; \nimport org.apache.xmlrpc.client.XmlRpcCommonsTransportFactory; \n\npublic class Search { \n\n    @Override \n    public String toString() { \n               //System.err.println (\"Ojesh\"); \n               return String.format(\"oje\"+\"abx\"); \n    } \n\n    public static void main(String args[]) \n          throws MalformedURLException, XmlRpcException { \n\n\n               HttpClient httpClient = new HttpClient(); \n            XmlRpcClient rpcClient = new XmlRpcClient(); \n            XmlRpcCommonsTransportFactory factory = new XmlRpcCommonsTransportFactory(rpcClient); \n            XmlRpcClientConfigImpl config = new XmlRpcClientConfigImpl(); \n\n          factory.setHttpClient(httpClient); \n            rpcClient.setTransportFactory(factory); \n            config.setServerURL(new URL(\"http://abc2/bugzilla/xmlrpc.cgi\")); \n            rpcClient.setConfig(config); \n\n            //map of the login data \n            Map loginMap = new HashMap(); \n            loginMap.put(\"login\", \"abc@bag\"); \n            loginMap.put(\"password\", \"***\"); \n            loginMap.put(\"rememberlogin\", \"Bugzilla_remember\"); \n\n\n            // login to bugzilla \n            Object loginResult = rpcClient.execute(\"User.login\", new Object[]{loginMap}); \n            System.err.println (\"loginResult=\" + loginResult); \n\n            // map of the bug data ok \n            Map bugMap = new HashMap(); \n\n            bugMap.put(\"id\", \"350\"); \n\n            //bugMap.put(\"status\", \"NEW\"); \n\n            // create bug \n            Object createResult = rpcClient.execute(\"Bug.search\", new Object[]{bugMap}); \n            //createResult.toString(); \n\n            System.err.println(\"createResult =\" + createResult.toString());\n         }\n     } \n</code></pre>\n\n<p>It's not returning OJEABX as expected. Instead bugs=[Ljava.lang.Object;@2ee5e48a being displayed. \nWhere am I going wrong? I want to print value of Object but not working fine.</p>\n"},{"tags":["java","batch-file"],"answers":[{"comments":[{"owner":{"account_id":363574,"reputation":12189,"user_id":707414,"accept_rate":94,"display_name":"AabinGunz"},"score":1,"creation_date":1302865714,"post_id":5675638,"comment_id":6479026,"body_markdown":"Hey Thanks Owen. awk does not work on windows, I used the same in linux, but yours seem better here is mine java -version 2&gt;&amp;1 | head -1 | awk &#39;{print $NF}&#39; | cut -d&#39;.&#39; -f2","body":"Hey Thanks Owen. awk does not work on windows, I used the same in linux, but yours seem better here is mine java -version 2&gt;&amp;1 | head -1 | awk &#39;{print $NF}&#39; | cut -d&#39;.&#39; -f2"},{"owner":{"account_id":2428,"reputation":777,"user_id":3382,"accept_rate":50,"display_name":"Owen Fraser-Green"},"score":0,"creation_date":1302865920,"post_id":5675638,"comment_id":6479069,"body_markdown":"Ah, my bad. Sorry, I didn&#39;t read closely enough to notice it was Windows.","body":"Ah, my bad. Sorry, I didn&#39;t read closely enough to notice it was Windows."},{"owner":{"account_id":363574,"reputation":12189,"user_id":707414,"accept_rate":94,"display_name":"AabinGunz"},"score":0,"creation_date":1302866210,"post_id":5675638,"comment_id":6479127,"body_markdown":"It&#39;s ok and it seems I need 15 reputation to vote up. I am new to this site, will do it when I have enough reputation on this site. Thanks again!","body":"It&#39;s ok and it seems I need 15 reputation to vote up. I am new to this site, will do it when I have enough reputation on this site. Thanks again!"},{"owner":{"account_id":2428,"reputation":777,"user_id":3382,"accept_rate":50,"display_name":"Owen Fraser-Green"},"score":0,"creation_date":1302866405,"post_id":5675638,"comment_id":6479193,"body_markdown":"Save it for Patrick who answered the question you actually asked :)","body":"Save it for Patrick who answered the question you actually asked :)"},{"owner":{"account_id":5042,"reputation":28898,"user_id":7903,"accept_rate":94,"display_name":"Patrick Cuff"},"score":0,"creation_date":1302959851,"post_id":5675638,"comment_id":6494586,"body_markdown":"On Windows you can also use PowerShell to do something similar: `$a = [regex]::matches((java -version 2&gt;&amp;1),&quot;[0-9]\\.[0-9]\\.[0-9]_[0-9]{2}&quot;)[1].value; $a.split(&quot;.&quot;)`. You can access the version components by their index; [0] = major, [1] = minor, [2] = build.","body":"On Windows you can also use PowerShell to do something similar: <code>$a = [regex]::matches((java -version 2&gt;&amp;1),&quot;[0-9]\\.[0-9]\\.[0-9]_[0-9]{2}&quot;)[1].value; $a.split(&quot;.&quot;)</code>. You can access the version components by their index; [0] = major, [1] = minor, [2] = build."}],"tags":[],"owner":{"account_id":2428,"reputation":777,"user_id":3382,"accept_rate":50,"display_name":"Owen Fraser-Green"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1302864868,"creation_date":1302864868,"answer_id":5675638,"question_id":5675459,"body_markdown":"This will extract the minor part of the version number:\r\n\r\n    java -version 2&gt;&amp;1 | awk &#39;/version/ {print $3}&#39; | awk -F . &#39;{print $2}&#39;\r\n\r\nHowever, it may be better to extract the major.minor and match on that in case Oracle ever change the version number scheme again e.g.:\r\n\r\n    java -version 2&gt;&amp;1 | awk &#39;/version/ {print $3}&#39; | egrep -o &#39;[0-9]+\\.[0-9]+&#39;","title":"How to get Java Version from batch script?","body":"<p>This will extract the minor part of the version number:</p>\n\n<pre><code>java -version 2&gt;&amp;1 | awk '/version/ {print $3}' | awk -F . '{print $2}'\n</code></pre>\n\n<p>However, it may be better to extract the major.minor and match on that in case Oracle ever change the version number scheme again e.g.:</p>\n\n<pre><code>java -version 2&gt;&amp;1 | awk '/version/ {print $3}' | egrep -o '[0-9]+\\.[0-9]+'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":363574,"reputation":12189,"user_id":707414,"accept_rate":94,"display_name":"AabinGunz"},"score":0,"creation_date":1302869330,"post_id":5675868,"comment_id":6479960,"body_markdown":"Thanks Patrick, that was really cool stuff. Wish i&#39;ll write my own someday, but this for /f is pretty confusing for me :(","body":"Thanks Patrick, that was really cool stuff. Wish i&#39;ll write my own someday, but this for /f is pretty confusing for me :("},{"owner":{"account_id":363574,"reputation":12189,"user_id":707414,"accept_rate":94,"display_name":"AabinGunz"},"score":0,"creation_date":1303206905,"post_id":5675868,"comment_id":6533031,"body_markdown":"There is one more thing I needed to ask related to the above question. If my JAVA_HOME path is set to &quot;c:\\Program Files\\....&quot; and when I run the script it gets a space and says &quot;&#39;C:\\Program&#39; is not recognized as an internal or external command, operable program or batch file.&quot; How can I overcome this issue?","body":"There is one more thing I needed to ask related to the above question. If my JAVA_HOME path is set to &quot;c:\\Program Files\\....&quot; and when I run the script it gets a space and says &quot;&#39;C:\\Program&#39; is not recognized as an internal or external command, operable program or batch file.&quot; How can I overcome this issue?"},{"owner":{"account_id":5042,"reputation":28898,"user_id":7903,"accept_rate":94,"display_name":"Patrick Cuff"},"score":1,"creation_date":1303224569,"post_id":5675868,"comment_id":6538107,"body_markdown":"@Abhishek, try putting double quotes around `%JAVA_HOME%`, like this: `&quot;%JAVA_HOME%&quot;`.","body":"@Abhishek, try putting double quotes around <code>%JAVA_HOME%</code>, like this: <code>&quot;%JAVA_HOME%&quot;</code>."},{"owner":{"account_id":363574,"reputation":12189,"user_id":707414,"accept_rate":94,"display_name":"AabinGunz"},"score":0,"creation_date":1317014890,"post_id":5675868,"comment_id":9151386,"body_markdown":"Please take a look at a similar question http://stackoverflow.com/questions/7550844/identify-if-java-cannot-be-executed-in-widows-batch-script","body":"Please take a look at a similar question <a href=\"http://stackoverflow.com/questions/7550844/identify-if-java-cannot-be-executed-in-widows-batch-script\" title=\"identify if java cannot be executed in widows batch script\">stackoverflow.com/questions/7550844/&hellip;</a>"},{"owner":{"account_id":1084850,"reputation":2100,"user_id":1080793,"accept_rate":69,"display_name":"Neel"},"score":1,"creation_date":1369759968,"post_id":5675868,"comment_id":24207853,"body_markdown":"@Patrick Cuff what if the java executable within the code (line 4) is derived from a variable: `for /f &quot;tokens=3&quot; %%g in (&#39;%JAVA_HOME% -version 2^&gt;^&amp;1 ^| findstr /i &quot;version&quot;&#39;)` - in such cases, how can I specify quotes? Just using quotes around JAVA_HOME does not seem to work!","body":"@Patrick Cuff what if the java executable within the code (line 4) is derived from a variable: <code>for &#47;f &quot;tokens=3&quot; %%g in (&#39;%JAVA_HOME% -version 2^&gt;^&amp;1 ^| findstr &#47;i &quot;version&quot;&#39;)</code> - in such cases, how can I specify quotes? Just using quotes around JAVA_HOME does not seem to work!"},{"owner":{"account_id":490392,"reputation":6191,"user_id":453389,"accept_rate":89,"display_name":"shonky linux user"},"score":1,"creation_date":1410925600,"post_id":5675868,"comment_id":40504996,"body_markdown":"@Neel try adding %JAVA_HOME% (just the bin directory) to the front of the PATH (you have setlocal specified so it is only valid for the scope of the bat file).\n`SET PATH=%JAVA_HOME%\\bin;%PATH%&#39;`\n`for /f &quot;tokens=3&quot; %%g in (&#39;java -version 2^&gt;^&amp;1 ^| findstr /i &quot;version&quot;&#39;)` etc","body":"@Neel try adding %JAVA_HOME% (just the bin directory) to the front of the PATH (you have setlocal specified so it is only valid for the scope of the bat file). <code>SET PATH=%JAVA_HOME%\\bin;%PATH%&#39;</code> <code>for &#47;f &quot;tokens=3&quot; %%g in (&#39;java -version 2^&gt;^&amp;1 ^| findstr &#47;i &quot;version&quot;&#39;)</code> etc"},{"owner":{"account_id":108728,"reputation":31809,"user_id":288456,"display_name":"Alexander Udalov"},"score":0,"creation_date":1610112151,"post_id":5675868,"comment_id":116035881,"body_markdown":"Small clarification to the last comment based on https://superuser.com/a/940139/459204: to add JAVA_HOME to PATH, use `set &quot;PATH=%JAVA_HOME%\\bin;%PATH%&quot;`","body":"Small clarification to the last comment based on <a href=\"https://superuser.com/a/940139/459204\">superuser.com/a/940139/459204</a>: to add JAVA_HOME to PATH, use <code>set &quot;PATH=%JAVA_HOME%\\bin;%PATH%&quot;</code>"}],"tags":[],"owner":{"account_id":5042,"reputation":28898,"user_id":7903,"accept_rate":94,"display_name":"Patrick Cuff"},"comment_count":7,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1302866635,"creation_date":1302866175,"answer_id":5675868,"question_id":5675459,"body_markdown":"    @echo off\r\n    setlocal\r\n    \r\n    set VERSION6=&quot;1.6.0_21&quot;\r\n    for /f &quot;tokens=3&quot; %%g in (&#39;java -version 2^&gt;^&amp;1 ^| findstr /i &quot;version&quot;&#39;) do (\r\n        @echo Output: %%g\r\n        set JAVAVER=%%g\r\n    )\r\n    set JAVAVER=%JAVAVER:&quot;=%\r\n    @echo Output: %JAVAVER%\r\n    \r\n    for /f &quot;delims=. tokens=1-3&quot; %%v in (&quot;%JAVAVER%&quot;) do (\r\n        @echo Major: %%v\r\n        @echo Minor: %%w\r\n        @echo Build: %%x\r\n    )\r\n    \r\n    endlocal\r\n\r\nIn the first `for` loop, `&quot;tokens=3&quot;` says that we&#39;re going to just use the third token from the command output. Rather than redirect the output of the `java -version` command to a file, we can run this command within the `for` loop itself. The carets (`^`) are escape characters, and are needed so we can embed the `&gt;`, `&amp;` and `|` symbols in the command string.\r\n\r\nWithin the body of the `for` loop, we set a new var, `JAVAVER`, so that we can do some manipulation of the version string later.\r\n\r\nThe `set JAVAVER=%JAVAVER:&quot;=%` command removes the double quotes from around the version string.\r\n\r\nThe last `for` loop parses the java version string. `delims=.` says we&#39;re going to delimit tokens using periods. `tokens=1-3` says we&#39;re going to pass the first three tokens from the string to the body of the loop. We can now get the components of the java version string using the explicit variable, `%%v` and the implied variables (next letters in the alphabet) `%%w` and `%%x`.\r\n\r\nWhen I run this on my system I get:\r\n\r\n    Output: &quot;1.6.0_24&quot; \r\n    Output: 1.6.0_24\r\n    Major: 1 \r\n    Minor: 6 \r\n    Build: 0_24\r\n\r\n","title":"How to get Java Version from batch script?","body":"<pre><code>@echo off\nsetlocal\n\nset VERSION6=\"1.6.0_21\"\nfor /f \"tokens=3\" %%g in ('java -version 2^&gt;^&amp;1 ^| findstr /i \"version\"') do (\n    @echo Output: %%g\n    set JAVAVER=%%g\n)\nset JAVAVER=%JAVAVER:\"=%\n@echo Output: %JAVAVER%\n\nfor /f \"delims=. tokens=1-3\" %%v in (\"%JAVAVER%\") do (\n    @echo Major: %%v\n    @echo Minor: %%w\n    @echo Build: %%x\n)\n\nendlocal\n</code></pre>\n\n<p>In the first <code>for</code> loop, <code>\"tokens=3\"</code> says that we're going to just use the third token from the command output. Rather than redirect the output of the <code>java -version</code> command to a file, we can run this command within the <code>for</code> loop itself. The carets (<code>^</code>) are escape characters, and are needed so we can embed the <code>&gt;</code>, <code>&amp;</code> and <code>|</code> symbols in the command string.</p>\n\n<p>Within the body of the <code>for</code> loop, we set a new var, <code>JAVAVER</code>, so that we can do some manipulation of the version string later.</p>\n\n<p>The <code>set JAVAVER=%JAVAVER:\"=%</code> command removes the double quotes from around the version string.</p>\n\n<p>The last <code>for</code> loop parses the java version string. <code>delims=.</code> says we're going to delimit tokens using periods. <code>tokens=1-3</code> says we're going to pass the first three tokens from the string to the body of the loop. We can now get the components of the java version string using the explicit variable, <code>%%v</code> and the implied variables (next letters in the alphabet) <code>%%w</code> and <code>%%x</code>.</p>\n\n<p>When I run this on my system I get:</p>\n\n<pre><code>Output: \"1.6.0_24\" \nOutput: 1.6.0_24\nMajor: 1 \nMinor: 6 \nBuild: 0_24\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1672383826,"post_id":23306971,"comment_id":132279159,"body_markdown":"I get this? `jver=1705+8LTS`","body":"I get this? <code>jver=1705+8LTS</code>"},{"owner":{"account_id":165169,"reputation":55855,"user_id":388389,"accept_rate":87,"display_name":"npocmaka"},"score":0,"creation_date":1672392179,"post_id":23306971,"comment_id":132280783,"body_markdown":"@rogerdpack - what is the output of `java -fullversion` ?","body":"@rogerdpack - what is the output of <code>java -fullversion</code> ?"},{"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"score":0,"creation_date":1672423355,"post_id":23306971,"comment_id":132288570,"body_markdown":"`openjdk full version &quot;17.0.5+8-LTS&quot;`","body":"<code>openjdk full version &quot;17.0.5+8-LTS&quot;</code>"},{"owner":{"account_id":165169,"reputation":55855,"user_id":388389,"accept_rate":87,"display_name":"npocmaka"},"score":0,"creation_date":1672425071,"post_id":23306971,"comment_id":132288961,"body_markdown":"@rogerdpack - I&#39;ve updated the answer. Can you retry it?","body":"@rogerdpack - I&#39;ve updated the answer. Can you retry it?"}],"tags":[],"owner":{"account_id":165169,"reputation":55855,"user_id":388389,"accept_rate":87,"display_name":"npocmaka"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672425030,"creation_date":1398489667,"answer_id":23306971,"question_id":5675459,"body_markdown":"    for /f tokens^=2-5^ delims^=.-_+^&quot; %j in (&#39;java -fullversion 2^&gt;^&amp;1&#39;) do @set &quot;jver=%j%k%l%m&quot;\r\n\r\nThis will store the java version into **`jver`** variable and as integer\r\nAnd you can use it for comparisons .E.G\r\n\r\n    if %jver% LSS 16000 echo not supported version\r\n\r\n.You can use more major version by removing %k and %l and %m.This command prompt version.\r\n\r\n***For .bat use this:***\r\n\r\n    \r\n    @echo off\r\n    PATH %PATH%;%JAVA_HOME%\\bin\\\r\n    for /f tokens^=2-5^ delims^=.-_+^&quot; %%j in (&#39;java -fullversion 2^&gt;^&amp;1&#39;) do set &quot;jver=%%j%%k%%l%%m&quot;\r\n\r\nAccording to my tests this is the fastest way to get the java version from bat (as it uses only internal commands and not external ones as `FIND`,`FINDSTR` and does not use `GOTO` which also can slow the script). Some JDK vendors does not support `-fullversion` switch or their implementation is not the same as this one provided by Oracle (better avoid them). ","title":"How to get Java Version from batch script?","body":"<pre><code>for /f tokens^=2-5^ delims^=.-_+^&quot; %j in ('java -fullversion 2^&gt;^&amp;1') do @set &quot;jver=%j%k%l%m&quot;\n</code></pre>\n<p>This will store the java version into <strong><code>jver</code></strong> variable and as integer\nAnd you can use it for comparisons .E.G</p>\n<pre><code>if %jver% LSS 16000 echo not supported version\n</code></pre>\n<p>.You can use more major version by removing %k and %l and %m.This command prompt version.</p>\n<p><em><strong>For .bat use this:</strong></em></p>\n<pre><code>@echo off\nPATH %PATH%;%JAVA_HOME%\\bin\\\nfor /f tokens^=2-5^ delims^=.-_+^&quot; %%j in ('java -fullversion 2^&gt;^&amp;1') do set &quot;jver=%%j%%k%%l%%m&quot;\n</code></pre>\n<p>According to my tests this is the fastest way to get the java version from bat (as it uses only internal commands and not external ones as <code>FIND</code>,<code>FINDSTR</code> and does not use <code>GOTO</code> which also can slow the script). Some JDK vendors does not support <code>-fullversion</code> switch or their implementation is not the same as this one provided by Oracle (better avoid them).</p>\n"},{"tags":[],"owner":{"account_id":2722,"reputation":94810,"user_id":3827,"accept_rate":94,"display_name":"Eugene Yokota"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672384019,"creation_date":1523004587,"answer_id":49688919,"question_id":5675459,"body_markdown":"I&#39;ve made some modification to [Patrick&#39;s answer](https://stackoverflow.com/questions/5675459/how-to-get-java-version-from-batch-script/5675868#5675868) so it works with Java 9, 10, etc.\r\nThis returns minor version for 1.x, and major version for Java 9, 10, etc.\r\n\r\n    @echo off\r\n    setlocal\r\n    \r\n    rem We use the value the JAVACMD environment variable, if defined\r\n    rem and then try JAVA_HOME\r\n    set &quot;_JAVACMD=%JAVACMD%&quot;\r\n    if &quot;%_JAVACMD&quot;==&quot;&quot; (\r\n      if not &quot;%JAVA_HOME%&quot;==&quot;&quot; (\r\n        if exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; set &quot;_JAVACMD=%JAVA_HOME%\\bin\\java.exe&quot;\r\n      )\r\n    )\r\n    if &quot;%_JAVACMD%&quot;==&quot;&quot; set _JAVACMD=java\r\n    \r\n    rem Parses x out of 1.x; for example 8 out of java version 1.8.0_xx\r\n    rem Otherwise, parses the major version; 9 out of java version 9-ea\r\n    set JAVA_VERSION=0\r\n    for /f &quot;tokens=3&quot; %%g in (&#39;%_JAVACMD% -Xms32M -Xmx32M -version 2^&gt;^&amp;1 ^| findstr /i &quot;version&quot;&#39;) do (\r\n      set JAVA_VERSION=%%g\r\n    )\r\n    set JAVA_VERSION=%JAVA_VERSION:&quot;=%\r\n    for /f &quot;delims=.-_ tokens=1-2&quot; %%v in (&quot;%JAVA_VERSION%&quot;) do (\r\n      if /I &quot;%%v&quot; EQU &quot;1&quot; (\r\n      \tset JAVA_VERSION=%%w\r\n      ) else (\r\n      \tset JAVA_VERSION=%%v\r\n      )\r\n    )\r\n    \r\n    @echo %JAVA_VERSION%\r\n    \r\n    endlocal\r\n\r\nechoes `8` or `17` etc.","title":"How to get Java Version from batch script?","body":"<p>I've made some modification to <a href=\"https://stackoverflow.com/questions/5675459/how-to-get-java-version-from-batch-script/5675868#5675868\">Patrick's answer</a> so it works with Java 9, 10, etc.\nThis returns minor version for 1.x, and major version for Java 9, 10, etc.</p>\n<pre><code>@echo off\nsetlocal\n\nrem We use the value the JAVACMD environment variable, if defined\nrem and then try JAVA_HOME\nset &quot;_JAVACMD=%JAVACMD%&quot;\nif &quot;%_JAVACMD&quot;==&quot;&quot; (\n  if not &quot;%JAVA_HOME%&quot;==&quot;&quot; (\n    if exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; set &quot;_JAVACMD=%JAVA_HOME%\\bin\\java.exe&quot;\n  )\n)\nif &quot;%_JAVACMD%&quot;==&quot;&quot; set _JAVACMD=java\n\nrem Parses x out of 1.x; for example 8 out of java version 1.8.0_xx\nrem Otherwise, parses the major version; 9 out of java version 9-ea\nset JAVA_VERSION=0\nfor /f &quot;tokens=3&quot; %%g in ('%_JAVACMD% -Xms32M -Xmx32M -version 2^&gt;^&amp;1 ^| findstr /i &quot;version&quot;') do (\n  set JAVA_VERSION=%%g\n)\nset JAVA_VERSION=%JAVA_VERSION:&quot;=%\nfor /f &quot;delims=.-_ tokens=1-2&quot; %%v in (&quot;%JAVA_VERSION%&quot;) do (\n  if /I &quot;%%v&quot; EQU &quot;1&quot; (\n    set JAVA_VERSION=%%w\n  ) else (\n    set JAVA_VERSION=%%v\n  )\n)\n\n@echo %JAVA_VERSION%\n\nendlocal\n</code></pre>\n<p>echoes <code>8</code> or <code>17</code> etc.</p>\n"}],"owner":{"account_id":363574,"reputation":12189,"user_id":707414,"accept_rate":94,"display_name":"AabinGunz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14095,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":5675868,"answer_count":4,"score":11,"last_activity_date":1672425030,"creation_date":1302863674,"question_id":5675459,"body_markdown":"I am trying to get &#39;6&#39; out of the java version output given below\r\n\r\n    java version &quot;1.6.0_21&quot;\r\n    Java(TM) SE Runtime Environment (build 1.6.0_21-b07)\r\n    Java HotSpot(TM) Client VM (build 17.0-b17, mixed mode, sharing)\r\n\r\nFor the same I wrote this batch script\r\n\r\n    set VERSION6=&quot;1.6.0_21&quot;\r\n    java -version 2&gt;&amp;1 | findstr &quot;version&quot; &gt;ab.txt\r\n    for /f &quot;tokens=3&quot; %%g in (ab.txt) do (\r\n      if not %%g == %VERSION6% echo %%g\r\n      echo %%g\r\n    )\r\n\r\n`%%g` displays &quot;1.6.0_21&quot;\r\n\r\nMay someone guide me to correct direction? I am not much familiar with `for /f`.\r\n\r\n","title":"How to get Java Version from batch script?","body":"<p>I am trying to get '6' out of the java version output given below</p>\n\n<pre><code>java version \"1.6.0_21\"\nJava(TM) SE Runtime Environment (build 1.6.0_21-b07)\nJava HotSpot(TM) Client VM (build 17.0-b17, mixed mode, sharing)\n</code></pre>\n\n<p>For the same I wrote this batch script</p>\n\n<pre><code>set VERSION6=\"1.6.0_21\"\njava -version 2&gt;&amp;1 | findstr \"version\" &gt;ab.txt\nfor /f \"tokens=3\" %%g in (ab.txt) do (\n  if not %%g == %VERSION6% echo %%g\n  echo %%g\n)\n</code></pre>\n\n<p><code>%%g</code> displays \"1.6.0_21\"</p>\n\n<p>May someone guide me to correct direction? I am not much familiar with <code>for /f</code>.</p>\n"},{"tags":["java","android","amazon-web-services","email","sendgrid"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1672380460,"post_id":74958378,"comment_id":132278684,"body_markdown":"They have an API.  It may or may not work on Android (its a jar file, which can work if it doesn&#39;t use parts of the Java standard library Android doesn&#39;t support).  I&#39;d start by trying that","body":"They have an API.  It may or may not work on Android (its a jar file, which can work if it doesn&#39;t use parts of the Java standard library Android doesn&#39;t support).  I&#39;d start by trying that"}],"answers":[{"tags":[],"owner":{"account_id":2215084,"reputation":6791,"user_id":2919731,"accept_rate":100,"display_name":"Swimburger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672424427,"creation_date":1672424427,"answer_id":74964658,"question_id":74958378,"body_markdown":"SendGrid does have a [Java library](https://github.com/sendgrid/sendgrid-java) and an [API which you can use to send email](https://docs.sendgrid.com/api-reference/mail-send/mail-send). However, these both require an API secret which would not be safe to store inside of a client application like an Android app. But technically, you could do it. Instead though, I&#39;d recommend hosting that code in a Java web application, and creating a secure API to which your Android app can communicate.\r\n\r\nTo send email from an email address that you&#39;re also using for Amazon work email, you&#39;ll need to either [verify a single sender](https://docs.sendgrid.com/ui/sending-email/sender-verification) (good for testing), or [setup domain authentication](https://docs.sendgrid.com/ui/account-and-settings/how-to-set-up-domain-authentication). However, this is sending email using SendGrid, not using Amazon work email, so you won&#39;t see these emails from SendGrid in your outbox if that&#39;s what you want. Replies to these emails will go to the usual email inboxes in your Amazon work email.","title":"Send emails using SendGrid and Amazon work email","body":"<p>SendGrid does have a <a href=\"https://github.com/sendgrid/sendgrid-java\" rel=\"nofollow noreferrer\">Java library</a> and an <a href=\"https://docs.sendgrid.com/api-reference/mail-send/mail-send\" rel=\"nofollow noreferrer\">API which you can use to send email</a>. However, these both require an API secret which would not be safe to store inside of a client application like an Android app. But technically, you could do it. Instead though, I'd recommend hosting that code in a Java web application, and creating a secure API to which your Android app can communicate.</p>\n<p>To send email from an email address that you're also using for Amazon work email, you'll need to either <a href=\"https://docs.sendgrid.com/ui/sending-email/sender-verification\" rel=\"nofollow noreferrer\">verify a single sender</a> (good for testing), or <a href=\"https://docs.sendgrid.com/ui/account-and-settings/how-to-set-up-domain-authentication\" rel=\"nofollow noreferrer\">setup domain authentication</a>. However, this is sending email using SendGrid, not using Amazon work email, so you won't see these emails from SendGrid in your outbox if that's what you want. Replies to these emails will go to the usual email inboxes in your Amazon work email.</p>\n"}],"owner":{"account_id":17012850,"reputation":111,"user_id":12307480,"display_name":"Shehzad Raheem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672424427,"creation_date":1672377730,"question_id":74958378,"body_markdown":"I want to send emails using SendGrid and Amazon work email in Android app.\r\nHow can I do that in an Android app using Java?\r\n","title":"Send emails using SendGrid and Amazon work email","body":"<p>I want to send emails using SendGrid and Amazon work email in Android app.\nHow can I do that in an Android app using Java?</p>\n"},{"tags":["java","containers"],"comments":[{"owner":{"account_id":2697164,"reputation":2364,"user_id":2328889,"display_name":"Adi"},"score":0,"creation_date":1409203843,"post_id":25541275,"comment_id":39879260,"body_markdown":"Yes. this can lead to runtime classcast exceptions. generics is to ensure compile time checks so your code is type safe","body":"Yes. this can lead to runtime classcast exceptions. generics is to ensure compile time checks so your code is type safe"},{"owner":{"account_id":45531,"reputation":25386,"user_id":134252,"accept_rate":66,"display_name":"Dolda2000"},"score":0,"creation_date":1409204883,"post_id":25541275,"comment_id":39879572,"body_markdown":"In the end, it depends on the context. There&#39;s nothing at all to say that it is wrong *per se* to store `Dog`s, `Cat`s and `Car`s in the same list, and there certainly are cases where it is the right thing to do; it depends only on why you&#39;re doing it. If you could provide a bit more context on why you want to do this, that would help in giving a good answer.","body":"In the end, it depends on the context. There&#39;s nothing at all to say that it is wrong <i>per se</i> to store <code>Dog</code>s, <code>Cat</code>s and <code>Car</code>s in the same list, and there certainly are cases where it is the right thing to do; it depends only on why you&#39;re doing it. If you could provide a bit more context on why you want to do this, that would help in giving a good answer."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505981579,"creation_date":1409203881,"answer_id":25541376,"question_id":25541275,"body_markdown":"I think the answer is &quot;usually, but not always.&quot;  There&#39;s not a lot of hard and fast rules in coding;  if you look hard enough you can always find an exception.  But if you pull objects out of a collection that you then have to cast to the correct type, that&#39;s usually a design error.\r\n\r\nTry to make code so that the objects you work with already have the correct type for what you want to do.  If you don&#39;t need to cast, then Object can be fine.  If you do need to cast, you should probably rethink your design.","title":"Multiple Types of Objects in Java containers","body":"<p>I think the answer is \"usually, but not always.\"  There's not a lot of hard and fast rules in coding;  if you look hard enough you can always find an exception.  But if you pull objects out of a collection that you then have to cast to the correct type, that's usually a design error.</p>\n\n<p>Try to make code so that the objects you work with already have the correct type for what you want to do.  If you don't need to cast, then Object can be fine.  If you do need to cast, you should probably rethink your design.</p>\n"},{"tags":[],"owner":{"account_id":4729848,"reputation":2598,"user_id":3825788,"accept_rate":62,"display_name":"Sagar D"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672424377,"creation_date":1409203959,"answer_id":25541388,"question_id":25541275,"body_markdown":"Let us revise the definition of a `Collection`, as [found in the Java *Introduction to Collections* tutorial](https://docs.oracle.com/javase/tutorial/collections/intro/index.html):\r\n\r\n&gt; A collection — sometimes called a container — is simply an object that groups multiple elements into a single unit. Collections are used to store, retrieve, manipulate, and communicate **aggregate data**. Typically, they represent data items that form a **natural group** [...].\r\n\r\nLook at the bold words. That should give you your answer.\r\n\r\nIf you put objects in `ArrayList` which do not belong to same implementations, you are definitely inviting trouble in situations when you want to retrieve objects from the list and typecast them to appropriate types. So you should **AVOID** doing that.\r\n\r\nConsider you store objects of `Dog` and `Car` in `ArrayList`.\r\nThen for each object stored, you want to call some method, say `barkLoudly()`. Now,this method will work fine with the `Dog` object. But when this is called on `Car`, **boooom**....An `Exception` will arise.","title":"Multiple Types of Objects in Java containers","body":"<p>Let us revise the definition of a <code>Collection</code>, as <a href=\"https://docs.oracle.com/javase/tutorial/collections/intro/index.html\" rel=\"nofollow noreferrer\">found in the Java <em>Introduction to Collections</em> tutorial</a>:</p>\n<blockquote>\n<p>A collection — sometimes called a container — is simply an object that groups multiple elements into a single unit. Collections are used to store, retrieve, manipulate, and communicate <strong>aggregate data</strong>. Typically, they represent data items that form a <strong>natural group</strong> [...].</p>\n</blockquote>\n<p>Look at the bold words. That should give you your answer.</p>\n<p>If you put objects in <code>ArrayList</code> which do not belong to same implementations, you are definitely inviting trouble in situations when you want to retrieve objects from the list and typecast them to appropriate types. So you should <strong>AVOID</strong> doing that.</p>\n<p>Consider you store objects of <code>Dog</code> and <code>Car</code> in <code>ArrayList</code>.\nThen for each object stored, you want to call some method, say <code>barkLoudly()</code>. Now,this method will work fine with the <code>Dog</code> object. But when this is called on <code>Car</code>, <strong>boooom</strong>....An <code>Exception</code> will arise.</p>\n"},{"tags":[],"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409204004,"creation_date":1409204004,"answer_id":25541399,"question_id":25541275,"body_markdown":"The design will be really bad, to avoid all such kind of issues, Generics were introduced.\r\nBut the same you can achive using below, provided you have same type of objects.\r\n\r\n&gt; Cat and Dog extends Animal \r\n&gt; \r\n&gt; Car and Bike extends Vehicle\r\n\r\n**But do not mix the the above two statements.**\r\n\r\n**Animal class:**\r\n    \r\n    public abstract class Animal {\r\n        protected String name;\r\n    }\r\n    \r\n**Dog class:**\r\n    \r\n    public class Dog extends Animal {\r\n        public Dog(String name) {\r\n            this.name=name;\r\n        }\r\n    }\r\n    \r\n**Cat class:**\r\n    \r\n    public class Cat extends Animal {\r\n        public Cat(String name) {\r\n            this.name=name;\r\n        }\r\n    }\r\n    \r\n**Main class:**\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Cat Cat = new Cat(&quot;C&quot;);\r\n            Dog Dog = new Dog(&quot;D&quot;);\r\n            ArrayList&lt;Animal&gt; list = new ArrayList&lt;Animal&gt;();\r\n            list.add(Cat);\r\n            list.add(Dog);\r\n       }\r\n    }","title":"Multiple Types of Objects in Java containers","body":"<p>The design will be really bad, to avoid all such kind of issues, Generics were introduced.\nBut the same you can achive using below, provided you have same type of objects.</p>\n\n<blockquote>\n  <p>Cat and Dog extends Animal </p>\n  \n  <p>Car and Bike extends Vehicle</p>\n</blockquote>\n\n<p><strong>But do not mix the the above two statements.</strong></p>\n\n<p><strong>Animal class:</strong></p>\n\n<pre><code>public abstract class Animal {\n    protected String name;\n}\n</code></pre>\n\n<p><strong>Dog class:</strong></p>\n\n<pre><code>public class Dog extends Animal {\n    public Dog(String name) {\n        this.name=name;\n    }\n}\n</code></pre>\n\n<p><strong>Cat class:</strong></p>\n\n<pre><code>public class Cat extends Animal {\n    public Cat(String name) {\n        this.name=name;\n    }\n}\n</code></pre>\n\n<p><strong>Main class:</strong></p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Cat Cat = new Cat(\"C\");\n        Dog Dog = new Dog(\"D\");\n        ArrayList&lt;Animal&gt; list = new ArrayList&lt;Animal&gt;();\n        list.add(Cat);\n        list.add(Dog);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3427640,"reputation":1477,"user_id":2872987,"accept_rate":91,"display_name":"BitNinja"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409204091,"creation_date":1409204091,"answer_id":25541412,"question_id":25541275,"body_markdown":"**You shouldn&#39;t do this**\r\n\r\nLets look at it this way, if an we call a generic `Object` just a &quot;thing&quot; and you create a(n) (`Array`) List of just &quot;things&quot; then how useful is that to you? To store those three things that have seemingly nothing in common in one list doesn&#39;t make sense. Containers were added so that programmers could store groups of *similar* things. \r\n\r\nIf we take a look at it from more of a programming point of view as opposed to a real world point of view it raises more problems. Your code might try to perform an action that only `Car` can do, the compiler doesn&#39;t like that your `Dog` class just tried to `turnOnEngine()`, and throws an error that you didn&#39;t expect. \r\n\r\nSo in short, it is bad practice to add unrelated items to a collection.","title":"Multiple Types of Objects in Java containers","body":"<p><strong>You shouldn't do this</strong></p>\n\n<p>Lets look at it this way, if an we call a generic <code>Object</code> just a \"thing\" and you create a(n) (<code>Array</code>) List of just \"things\" then how useful is that to you? To store those three things that have seemingly nothing in common in one list doesn't make sense. Containers were added so that programmers could store groups of <em>similar</em> things. </p>\n\n<p>If we take a look at it from more of a programming point of view as opposed to a real world point of view it raises more problems. Your code might try to perform an action that only <code>Car</code> can do, the compiler doesn't like that your <code>Dog</code> class just tried to <code>turnOnEngine()</code>, and throws an error that you didn't expect. </p>\n\n<p>So in short, it is bad practice to add unrelated items to a collection.</p>\n"},{"tags":[],"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409204366,"creation_date":1409204366,"answer_id":25541468,"question_id":25541275,"body_markdown":"It depends on what you want to use the `List` for.\r\n\r\nYou should declare the generic type value of the `List` to be the most restrictive that suits your needs, and that way you get the strongest check from the compiler to eliminate the errors at compile time.\r\n\r\nThere might be cases when you really just want to store any type of objects in a `List` in which case you would use `List&lt;Object&gt;`. Again, depends on what you want to use the `List` and the elements for.","title":"Multiple Types of Objects in Java containers","body":"<p>It depends on what you want to use the <code>List</code> for.</p>\n\n<p>You should declare the generic type value of the <code>List</code> to be the most restrictive that suits your needs, and that way you get the strongest check from the compiler to eliminate the errors at compile time.</p>\n\n<p>There might be cases when you really just want to store any type of objects in a <code>List</code> in which case you would use <code>List&lt;Object&gt;</code>. Again, depends on what you want to use the <code>List</code> and the elements for.</p>\n"},{"tags":[],"owner":{"account_id":2848758,"reputation":134,"user_id":2446396,"display_name":"dcborg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409204408,"creation_date":1409204408,"answer_id":25541475,"question_id":25541275,"body_markdown":"The purpose of generics is to have the compiler doing all the type checking for us. So that we don&#39;t need to worry about casting or have to remember what types are really in the list. So using generics also helps ***documenting*** your code by making the contained type more explicit.\r\n\r\nYou could:\r\n\r\n- *not use generics* and enforce your own type checking (by safe downcasting with instanceof)\r\n- use generics *with separate lists* for each type\r\n- use generics *with an abstraction for related class*, for example: `List&lt;Animal&gt;`\r\n","title":"Multiple Types of Objects in Java containers","body":"<p>The purpose of generics is to have the compiler doing all the type checking for us. So that we don't need to worry about casting or have to remember what types are really in the list. So using generics also helps <strong><em>documenting</em></strong> your code by making the contained type more explicit.</p>\n\n<p>You could:</p>\n\n<ul>\n<li><em>not use generics</em> and enforce your own type checking (by safe downcasting with instanceof)</li>\n<li>use generics <em>with separate lists</em> for each type</li>\n<li>use generics <em>with an abstraction for related class</em>, for example: <code>List&lt;Animal&gt;</code></li>\n</ul>\n"}],"owner":{"account_id":2927289,"reputation":395,"user_id":2508344,"accept_rate":78,"display_name":"TheEndIsNear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4584,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":25541388,"answer_count":6,"score":8,"last_activity_date":1672424377,"creation_date":1409203389,"question_id":25541275,"body_markdown":"I am learning about generics in Java, and was wondering if this would be considered poor coding. \r\n\r\nIf I declare an `ArrayList&lt;Object&gt;` I know that I can put any type of object into this list, as all objects descend from Object. I also know that when I call `ArrayList.remove(index)` the object that gets taken out of the array is of type Object, and that I need to typecast it to the type of object that I want to use. \r\n\r\nNow suppose I have object of `Dog`, `Cat`, and `Car`. Would it be bad to put all three objects into the array, considering they are not similar classes?","title":"Multiple Types of Objects in Java containers","body":"<p>I am learning about generics in Java, and was wondering if this would be considered poor coding. </p>\n\n<p>If I declare an <code>ArrayList&lt;Object&gt;</code> I know that I can put any type of object into this list, as all objects descend from Object. I also know that when I call <code>ArrayList.remove(index)</code> the object that gets taken out of the array is of type Object, and that I need to typecast it to the type of object that I want to use. </p>\n\n<p>Now suppose I have object of <code>Dog</code>, <code>Cat</code>, and <code>Car</code>. Would it be bad to put all three objects into the array, considering they are not similar classes?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1672421189,"post_id":74964191,"comment_id":132288085,"body_markdown":"What does &quot;max element to the left of each element&quot; mean? Can you explain the output you&#39;re expecting to get?","body":"What does &quot;max element to the left of each element&quot; mean? Can you explain the output you&#39;re expecting to get?"},{"owner":{"account_id":19993732,"reputation":31,"user_id":14654213,"display_name":"Varun Savai"},"score":0,"creation_date":1672421432,"post_id":74964191,"comment_id":132288139,"body_markdown":"For the input 3 0 0 2 0 4 output would be 3 3 3 3 3 4 (I got the solution using an array but here I&#39;m trying to use a stack as Data Structure)\nFor an element, if there is no max then the current element itself will be in the output array. Ex: for 3 in the array","body":"For the input 3 0 0 2 0 4 output would be 3 3 3 3 3 4 (I got the solution using an array but here I&#39;m trying to use a stack as Data Structure) For an element, if there is no max then the current element itself will be in the output array. Ex: for 3 in the array"},{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1672421686,"post_id":74964191,"comment_id":132288194,"body_markdown":"What should be the output for 5 0 3 2 0 4?","body":"What should be the output for 5 0 3 2 0 4?"},{"owner":{"account_id":19993732,"reputation":31,"user_id":14654213,"display_name":"Varun Savai"},"score":0,"creation_date":1672421749,"post_id":74964191,"comment_id":132288212,"body_markdown":"5 5 5 5 5 5 ...Since 5 is the greatest element to the left of each element","body":"5 5 5 5 5 5 ...Since 5 is the greatest element to the left of each element"}],"answers":[{"comments":[{"owner":{"account_id":19993732,"reputation":31,"user_id":14654213,"display_name":"Varun Savai"},"score":0,"creation_date":1672422042,"post_id":74964323,"comment_id":132288283,"body_markdown":"Thanks for the solution but as mentioned in the previous comment &quot;I got the solution using an array but here I&#39;m trying to use a stack as Data Structure&quot;","body":"Thanks for the solution but as mentioned in the previous comment &quot;I got the solution using an array but here I&#39;m trying to use a stack as Data Structure&quot;"},{"owner":{"account_id":19993732,"reputation":31,"user_id":14654213,"display_name":"Varun Savai"},"score":1,"creation_date":1672423071,"post_id":74964323,"comment_id":132288505,"body_markdown":"Can you explain the intuition?","body":"Can you explain the intuition?"},{"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"score":0,"creation_date":1672423711,"post_id":74964323,"comment_id":132288650,"body_markdown":"I have added some intuition behind the logic.","body":"I have added some intuition behind the logic."}],"tags":[],"owner":{"account_id":18682665,"reputation":1535,"user_id":13618871,"display_name":"AKSingh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672424124,"creation_date":1672421943,"answer_id":74964323,"question_id":74964191,"body_markdown":"## Using Stack ##\r\n\r\n```\r\npublic static int[] maxLeftElement(int[] A)\r\n{\r\n    final int n = A.length;\r\n    int[] ans = new int[n];\r\n\r\n    Stack&lt;Integer&gt; S = new Stack&lt;&gt;();\r\n    S.push(A[0]);\r\n\r\n    for (int i = 0;i &lt;  n;i++)\r\n    {   \r\n        if (S.peek() &lt;= A[i]) \r\n        {\r\n            S.pop();\r\n            S.push(A[i]);\r\n        }\r\n        \r\n        ans[i] = S.peek();\r\n    }\r\n\r\n    return ans;\r\n}\r\n```\r\n\r\n----------\r\n\r\n## Efficient Solution ##\r\n\r\nIn the above solution, there will be only one element in the stack throughout the execution of the function. Hence, it is quite clear to observe the stack does not offer any benefit whatsoever. Hence, it is better to replace it with a simple `int`.\r\n\r\n```\r\npublic static int[] maxLeftElement(int[] A)\r\n{\r\n    final int n = A.length;\r\n    int[] ans = new int[n];\r\n\r\n    int maxSoFar = A[0];\r\n    for (int i = 0;i &lt;  n;i++)\r\n    {\r\n        maxSoFar = Math.max(maxSoFar,A[i]);\r\n        ans[i] = maxSoFar;\r\n    }\r\n\r\n    return ans;\r\n}\r\n```\r\n----------\r\n## Intuition ##\r\n\r\nFor each `A[i]`, we have to find `max(A[0..i])`, for all the valid *i*. If we think about the possible element, there could be only one max element in `A[0..i]`.\r\n\r\nNow, let the max element in `A[0..i]` is `maxSoFar`. We need to find the max left element for `A[i+1]`, which will be `max(A[0...i+1])`. Trivially, `max(A[0..i+1]) = max(A[0...i],A[i+1]) = max(maxSoFar,A[i+1])` which can be solved in constant time. \r\n\r\nWe already know max left element for `A[0]` will be `A[0]`. So, initially `maxSoFar = A[0]`. Hence, we can simple keep increasing i for all the valid values and compute `max(maxOfFar,A[i])`.\r\n\r\n#### Why not stack? ####\r\n\r\nStack should be used when there is a need to store many elements in a particular order which can help us compute the answer for any `A[i]`. We do not need to keep track of multiple elements at any instant to obtain the answer for any `A[i]` for the problem in question. This rules out the possibility of using stack.","title":"Find overall max element to the left of each element in an arrray (not the first max)","body":"<h2>Using Stack</h2>\n<pre><code>public static int[] maxLeftElement(int[] A)\n{\n    final int n = A.length;\n    int[] ans = new int[n];\n\n    Stack&lt;Integer&gt; S = new Stack&lt;&gt;();\n    S.push(A[0]);\n\n    for (int i = 0;i &lt;  n;i++)\n    {   \n        if (S.peek() &lt;= A[i]) \n        {\n            S.pop();\n            S.push(A[i]);\n        }\n        \n        ans[i] = S.peek();\n    }\n\n    return ans;\n}\n</code></pre>\n<hr />\n<h2>Efficient Solution</h2>\n<p>In the above solution, there will be only one element in the stack throughout the execution of the function. Hence, it is quite clear to observe the stack does not offer any benefit whatsoever. Hence, it is better to replace it with a simple <code>int</code>.</p>\n<pre><code>public static int[] maxLeftElement(int[] A)\n{\n    final int n = A.length;\n    int[] ans = new int[n];\n\n    int maxSoFar = A[0];\n    for (int i = 0;i &lt;  n;i++)\n    {\n        maxSoFar = Math.max(maxSoFar,A[i]);\n        ans[i] = maxSoFar;\n    }\n\n    return ans;\n}\n</code></pre>\n<hr />\n<h2>Intuition</h2>\n<p>For each <code>A[i]</code>, we have to find <code>max(A[0..i])</code>, for all the valid <em>i</em>. If we think about the possible element, there could be only one max element in <code>A[0..i]</code>.</p>\n<p>Now, let the max element in <code>A[0..i]</code> is <code>maxSoFar</code>. We need to find the max left element for <code>A[i+1]</code>, which will be <code>max(A[0...i+1])</code>. Trivially, <code>max(A[0..i+1]) = max(A[0...i],A[i+1]) = max(maxSoFar,A[i+1])</code> which can be solved in constant time.</p>\n<p>We already know max left element for <code>A[0]</code> will be <code>A[0]</code>. So, initially <code>maxSoFar = A[0]</code>. Hence, we can simple keep increasing i for all the valid values and compute <code>max(maxOfFar,A[i])</code>.</p>\n<h4>Why not stack?</h4>\n<p>Stack should be used when there is a need to store many elements in a particular order which can help us compute the answer for any <code>A[i]</code>. We do not need to keep track of multiple elements at any instant to obtain the answer for any <code>A[i]</code> for the problem in question. This rules out the possibility of using stack.</p>\n"}],"owner":{"account_id":19993732,"reputation":31,"user_id":14654213,"display_name":"Varun Savai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74964323,"answer_count":1,"score":1,"last_activity_date":1672424124,"creation_date":1672421079,"question_id":74964191,"body_markdown":"I&#39;m trying to find the max element to the left of each element but i could write code for only the first max.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        int a[]={3,0,0,2,0,4};\r\n        Stack&lt;Integer&gt; st=new Stack&lt;Integer&gt;();\r\n        ArrayList&lt;Integer&gt; al=new ArrayList&lt;&gt;();\r\n        for(int i=0;i&lt;5;i++){\r\n            while(st.size()&gt;0 &amp;&amp; a[st.peek()]&lt;a[i]){\r\n                st.pop();\r\n            }\r\n            if(st.empty()) al.add(a[i]);\r\n            else al.add(a[st.peek()]);\r\n\r\n            st.push(i);\r\n        }\r\n        System.out.println(al);\r\n    }\r\n```\r\n","title":"Find overall max element to the left of each element in an arrray (not the first max)","body":"<p>I'm trying to find the max element to the left of each element but i could write code for only the first max.</p>\n<pre><code>public static void main(String[] args) {\n        int a[]={3,0,0,2,0,4};\n        Stack&lt;Integer&gt; st=new Stack&lt;Integer&gt;();\n        ArrayList&lt;Integer&gt; al=new ArrayList&lt;&gt;();\n        for(int i=0;i&lt;5;i++){\n            while(st.size()&gt;0 &amp;&amp; a[st.peek()]&lt;a[i]){\n                st.pop();\n            }\n            if(st.empty()) al.add(a[i]);\n            else al.add(a[st.peek()]);\n\n            st.push(i);\n        }\n        System.out.println(al);\n    }\n</code></pre>\n"},{"tags":["java","undertow"],"comments":[{"owner":{"account_id":2409492,"reputation":768,"user_id":2104970,"accept_rate":56,"display_name":"Vishnu667"},"score":0,"creation_date":1446796459,"post_id":33429632,"comment_id":54902141,"body_markdown":"Yes if you would like to shutdown the Server Gracefully you&#39;ll have to call the server.stop() Method else it will continue Running till its being interrupted.","body":"Yes if you would like to shutdown the Server Gracefully you&#39;ll have to call the server.stop() Method else it will continue Running till its being interrupted."}],"owner":{"account_id":61118,"reputation":11403,"user_id":182289,"accept_rate":73,"display_name":"stepanian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1672423613,"creation_date":1446184949,"question_id":33429632,"body_markdown":"In the [Undertow documentation][1], the following example is presented as a very simple server: \r\n\r\n    public class HelloWorldServer {\r\n    \r\n        public static void main(final String[] args) {\r\n            Undertow server = Undertow.builder()\r\n                    .addHttpListener(8080, &quot;localhost&quot;)\r\n                    .setHandler(new HttpHandler() {\r\n                        @Override\r\n                        public void handleRequest(final HttpServerExchange exchange) throws Exception {\r\n                            exchange.getResponseHeaders().put(Headers.CONTENT_TYPE, &quot;text/plain&quot;);\r\n                            exchange.getResponseSender().send(&quot;Hello World&quot;);\r\n                        }\r\n                    }).build();\r\n            server.start();\r\n        }\r\n    }\r\n\r\nHow does this server shutdown? There is a `server.stop()` method that presumably would shutdown the server gracefully, but it is not used in this example. Should there be a shutdown hook associated with the runtime that would call the `server.stop()` method?\r\n\r\n\r\n  [1]: http://undertow.io/undertow-docs/undertow-docs-1.3.0/index.html","title":"How do you shutdown an embedded Undertow application?","body":"<p>In the <a href=\"http://undertow.io/undertow-docs/undertow-docs-1.3.0/index.html\" rel=\"noreferrer\">Undertow documentation</a>, the following example is presented as a very simple server: </p>\n\n<pre><code>public class HelloWorldServer {\n\n    public static void main(final String[] args) {\n        Undertow server = Undertow.builder()\n                .addHttpListener(8080, \"localhost\")\n                .setHandler(new HttpHandler() {\n                    @Override\n                    public void handleRequest(final HttpServerExchange exchange) throws Exception {\n                        exchange.getResponseHeaders().put(Headers.CONTENT_TYPE, \"text/plain\");\n                        exchange.getResponseSender().send(\"Hello World\");\n                    }\n                }).build();\n        server.start();\n    }\n}\n</code></pre>\n\n<p>How does this server shutdown? There is a <code>server.stop()</code> method that presumably would shutdown the server gracefully, but it is not used in this example. Should there be a shutdown hook associated with the runtime that would call the <code>server.stop()</code> method?</p>\n"},{"tags":["java","repository","gitlab"],"answers":[{"comments":[{"owner":{"account_id":3734113,"reputation":403,"user_id":3105520,"accept_rate":33,"display_name":"Najoua"},"score":0,"creation_date":1462112057,"post_id":36962482,"comment_id":61490806,"body_markdown":"Thanks for your answer, in fact I did, but when I change something in the project and I try to push it I have the following error : \nPermission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.","body":"Thanks for your answer, in fact I did, but when I change something in the project and I try to push it I have the following error :  Permission denied (publickey). fatal: Could not read from remote repository.  Please make sure you have the correct access rights and the repository exists."},{"owner":{"account_id":4989380,"reputation":3490,"user_id":4012073,"accept_rate":88,"display_name":"Imesha Sudasingha"},"score":0,"creation_date":1462112194,"post_id":36962482,"comment_id":61490859,"body_markdown":"check **git remote origin** and see it&#39;s the correct url. If not, use **git remote remove origin** and **git remote add origin &lt;new remote url&gt;**","body":"check <b>git remote origin</b> and see it&#39;s the correct url. If not, use <b>git remote remove origin</b> and <b>git remote add origin &lt;new remote url&gt;</b>"},{"owner":{"account_id":3734113,"reputation":403,"user_id":3105520,"accept_rate":33,"display_name":"Najoua"},"score":0,"creation_date":1462113298,"post_id":36962482,"comment_id":61491214,"body_markdown":"I did, but, here&#39;s a new error that occurs : \nSony@SONY-VAIO ~/Documents/PFE_ (master)\n$ git push -u origin master\nfatal: &#39;origin&#39; does not appear to be a git repository\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.","body":"I did, but, here&#39;s a new error that occurs :  Sony@SONY-VAIO ~/Documents/PFE_ (master) $ git push -u origin master fatal: &#39;origin&#39; does not appear to be a git repository fatal: Could not read from remote repository.  Please make sure you have the correct access rights and the repository exists."},{"owner":{"account_id":4989380,"reputation":3490,"user_id":4012073,"accept_rate":88,"display_name":"Imesha Sudasingha"},"score":0,"creation_date":1462115876,"post_id":36962482,"comment_id":61492110,"body_markdown":"seems like the remote origin url is not correct, or may be a problem with the internet connection","body":"seems like the remote origin url is not correct, or may be a problem with the internet connection"}],"tags":[],"owner":{"account_id":4989380,"reputation":3490,"user_id":4012073,"accept_rate":88,"display_name":"Imesha Sudasingha"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462070482,"creation_date":1462070482,"answer_id":36962482,"question_id":36960559,"body_markdown":"All you have to do is just typing the following command. You should have Git CLI installed.\r\n\r\n    git clone &quot;link here&quot;\r\n\r\nfor example,\r\n\r\n    git clone https://github.com/libgit2/libgit2\r\n\r\nWhen you go to the project dashboard in GitLab, you will see the project URL. When you enter he above command, it will ask for the username of your GitLab account and the password. Once you enter them, repo will be cloned.","title":"clone an existing project in gitLab","body":"<p>All you have to do is just typing the following command. You should have Git CLI installed.</p>\n\n<pre><code>git clone \"link here\"\n</code></pre>\n\n<p>for example,</p>\n\n<pre><code>git clone https://github.com/libgit2/libgit2\n</code></pre>\n\n<p>When you go to the project dashboard in GitLab, you will see the project URL. When you enter he above command, it will ask for the username of your GitLab account and the password. Once you enter them, repo will be cloned.</p>\n"}],"owner":{"account_id":3734113,"reputation":403,"user_id":3105520,"accept_rate":33,"display_name":"Najoua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8569,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1672423335,"creation_date":1462052479,"question_id":36960559,"body_markdown":"First, I was working on a spring project in STS, I created a project in GitLab and commit it to GitLab. Now, I messed up, I deleted the project that existed locally. \r\nHow can I clone the project existing in GitLab and create a new repository?","title":"clone an existing project in gitLab","body":"<p>First, I was working on a spring project in STS, I created a project in GitLab and commit it to GitLab. Now, I messed up, I deleted the project that existed locally.\nHow can I clone the project existing in GitLab and create a new repository?</p>\n"},{"tags":["java","spring","struts2","struts2-json-plugin"],"answers":[{"comments":[{"owner":{"account_id":1135341,"reputation":585,"user_id":1120498,"accept_rate":54,"display_name":"Pradeep Gamage"},"score":0,"creation_date":1354531090,"post_id":13681190,"comment_id":18781778,"body_markdown":"I have added full stack trace","body":"I have added full stack trace"},{"owner":{"account_id":1135341,"reputation":585,"user_id":1120498,"accept_rate":54,"display_name":"Pradeep Gamage"},"score":1,"creation_date":1354532430,"post_id":13681190,"comment_id":18782350,"body_markdown":"how i can setAccesible(true) and where i should do?","body":"how i can setAccesible(true) and where i should do?"},{"owner":{"account_id":1135341,"reputation":585,"user_id":1120498,"accept_rate":54,"display_name":"Pradeep Gamage"},"score":0,"creation_date":1354705773,"post_id":13681190,"comment_id":18848836,"body_markdown":"I found answer.I have added this in to my struts.xml file  &lt;result type=&quot;json&quot;&gt; \n  &lt;param name=&quot;excludeProperties&quot;&gt; \n   &lt;param name=&quot;excludeProperties&quot;&gt;patientService&lt;/param&gt;\n  &lt;/param&gt; \n &lt;/result&gt;","body":"I found answer.I have added this in to my struts.xml file  &lt;result type=&quot;json&quot;&gt;    &lt;param name=&quot;excludeProperties&quot;&gt;     &lt;param name=&quot;excludeProperties&quot;&gt;patientService&lt;/param&gt;   &lt;/param&gt;   &lt;/result&gt;"},{"owner":{"account_id":2937533,"reputation":1848,"user_id":2516131,"accept_rate":25,"display_name":"Chamly Idunil"},"score":0,"creation_date":1427697261,"post_id":13681190,"comment_id":46866909,"body_markdown":"what is patientService means ? @AlexR where can i do setAccesible(true)","body":"what is patientService means ? @AlexR where can i do setAccesible(true)"},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1427723495,"post_id":13681190,"comment_id":46881752,"body_markdown":"@ChamlyIdunil, read again the answer and the comments. The original question did not include stacktrace, so I did not know whether OP performs reflection call himself or it is done by one of the third party libraries. The later comment of OP shows that the problem is happened because some configuration was missing and OP posted this configuration that included reference to `patientService`. I have no idea what is this but believe that it is the OP&#39;s business logic service.","body":"@ChamlyIdunil, read again the answer and the comments. The original question did not include stacktrace, so I did not know whether OP performs reflection call himself or it is done by one of the third party libraries. The later comment of OP shows that the problem is happened because some configuration was missing and OP posted this configuration that included reference to <code>patientService</code>. I have no idea what is this but believe that it is the OP&#39;s business logic service."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":5,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1354530039,"creation_date":1354530039,"answer_id":13681190,"question_id":13681142,"body_markdown":"This class is not public itself. It is package protected (see [here][1]). You have to call `setAccessible(true)` before access its member exactly as when you access private or protected member. \r\n\r\nEDIT.\r\nUnfortunately you have not provided full stack trace. If this exception is result of your activity (I mean you try to access member of Spring class yourself) the solution is above. If however this happened as result of frameworks collision please send more details. Probably your versions of Struts and Spring are not compatible or some additional configuration is required. \r\n\r\n\r\n  [1]: http://grepcode.com/file/repo1.maven.org/maven2/org.springframework/spring/2.5.1/org/springframework/aop/TruePointcut.java","title":"can not access a member of class org.springframework.aop.TruePointcut with modifiers public","body":"<p>This class is not public itself. It is package protected (see <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.springframework/spring/2.5.1/org/springframework/aop/TruePointcut.java\">here</a>). You have to call <code>setAccessible(true)</code> before access its member exactly as when you access private or protected member. </p>\n\n<p>EDIT.\nUnfortunately you have not provided full stack trace. If this exception is result of your activity (I mean you try to access member of Spring class yourself) the solution is above. If however this happened as result of frameworks collision please send more details. Probably your versions of Struts and Spring are not compatible or some additional configuration is required. </p>\n"},{"tags":[],"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604428435,"creation_date":1604428435,"answer_id":64668591,"question_id":13681142,"body_markdown":"In my case I was trying to access public constructor of a non public class.\r\n\r\n    class MyClass {\r\n      public MyClass() {}\r\n    }\r\n\r\n    //...\r\n    MyClass c = JsonIterator.deserialize(bytes, MyClass.class)\r\n\r\nThrows:\r\n`ReflectionMapDecoder can not access a member of class MyClass with modifiers &quot;public&quot;`\r\n\r\nAdded `public` and it works.\r\n\r\n    public class MyClass {\r\n      public MyClass() {}\r\n    }\r\n\r\nHTH","title":"can not access a member of class org.springframework.aop.TruePointcut with modifiers public","body":"<p>In my case I was trying to access public constructor of a non public class.</p>\n<pre><code>class MyClass {\n  public MyClass() {}\n}\n\n//...\nMyClass c = JsonIterator.deserialize(bytes, MyClass.class)\n</code></pre>\n<p>Throws:\n<code>ReflectionMapDecoder can not access a member of class MyClass with modifiers &quot;public&quot;</code></p>\n<p>Added <code>public</code> and it works.</p>\n<pre><code>public class MyClass {\n  public MyClass() {}\n}\n</code></pre>\n<p>HTH</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672423326,"creation_date":1672394371,"answer_id":74960248,"question_id":13681142,"body_markdown":"For me that message meant I was calling \r\n`instance.getClass().getMethod(&quot;methodName&quot;) `\r\nbut for some reason because it was actually defined in a parent class (@Override) this worked instead:\r\n`instance.getClass().getSuperClass().getMethod(&quot;methodName&quot;) `\r\n\r\nref: https://stackoverflow.com/questions/5411434/how-to-call-a-superclass-method-using-java-reflection","title":"can not access a member of class org.springframework.aop.TruePointcut with modifiers public","body":"<p>For me that message meant I was calling\n<code>instance.getClass().getMethod(&quot;methodName&quot;) </code>\nbut for some reason because it was actually defined in a parent class (@Override) this worked instead:\n<code>instance.getClass().getSuperClass().getMethod(&quot;methodName&quot;) </code></p>\n<p>ref: <a href=\"https://stackoverflow.com/questions/5411434/how-to-call-a-superclass-method-using-java-reflection\">How to call a superclass method using Java reflection</a></p>\n"}],"owner":{"account_id":1135341,"reputation":585,"user_id":1120498,"accept_rate":54,"display_name":"Pradeep Gamage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49889,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":3,"score":23,"last_activity_date":1672423326,"creation_date":1354529876,"question_id":13681142,"body_markdown":"I am developing a Spring application using Struts and the Struts JSON plugin. When I run the application it gives the following error (in Firebug):\r\n\r\n    org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: java.lang.IllegalAccessException: Class org.apache.struts2.json.JSONWriter can not access a member of class org.springframework.aop.TruePointcut with modifiers public\r\n\r\nThis is full stack trace:\r\n\r\n    org.apache.struts2.json.JSONException:\r\n    org.apache.struts2.json.JSONException:\r\n    org.apache.struts2.json.JSONException:\r\n    org.apache.struts2.json.JSONException:\r\n    java.lang.IllegalAccessException: Class\r\n    org.apache.struts2.json.JSONWriter can not access a member of class\r\n    org.springframework.aop.TruePointcut with modifiers &amp;quot;public&amp;quot;\r\n    \torg.apache.struts2.json.JSONWriter.bean(JSONWriter.java:238)\r\n    \torg.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:171)\r\n    \torg.apache.struts2.json.JSONWriter.process(JSONWriter.java:161)\r\n    \torg.apache.struts2.json.JSONWriter.value(JSONWriter.java:127)\r\n    \torg.apache.struts2.json.JSONWriter.write(JSONWriter.java:95)\r\n    \torg.apache.struts2.json.JSONUtil.serialize(JSONUtil.java:116)\r\n    \torg.apache.struts2.json.JSONResult.createJSONString(JSONResult.java:196)\r\n    \torg.apache.struts2.json.JSONResult.execute(JSONResult.java:170)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:278)\r\n    \torg.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)\r\n    \tcom.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n    \torg.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n    \tcom.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\r\n    \tcom.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\r\n    \tcom.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \torg.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \torg.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \torg.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\r\n    \tcom.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \torg.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \tcom.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)\r\n    \tcom.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n    \torg.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\r\n    \torg.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:511)\r\n    \torg.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:432)\r\n\r\nRoot cause:\r\n\r\n    org.apache.struts2.json.JSONException:\r\n    org.apache.struts2.json.JSONException:\r\n    org.apache.struts2.json.JSONException:\r\n    java.lang.IllegalAccessException: Class\r\n    org.apache.struts2.json.JSONWriter can not access a member of class\r\n    org.springframework.aop.TruePointcut with modifiers &amp;quot;public&amp;quot;\r\n        org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:238)\r\n        org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:171)\r\n        org.apache.struts2.json.JSONWriter.process(JSONWriter.java:161)\r\n        org.apache.struts2.json.JSONWriter.value(JSONWriter.java:127)\r\n        org.apache.struts2.json.JSONWriter.add(JSONWriter.java:363)\r\n        org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:223)\r\n        org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:171)\r\n        org.apache.struts2.json.JSONWriter.process(JSONWriter.java:161)\r\n        org.apache.struts2.json.JSONWriter.value(JSONWriter.java:127)\r\n        org.apache.struts2.json.JSONWriter.write(JSONWriter.java:95)\r\n        org.apache.struts2.json.JSONUtil.serialize(JSONUtil.java:116)\r\n        org.apache.struts2.json.JSONResult.createJSONString(JSONResult.java:196)\r\n        org.apache.struts2.json.JSONResult.execute(JSONResult.java:170)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:278)\r\n        org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n        com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)\r\n        com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n        com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\r\n        org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\r\n        com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n        com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n        com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\r\n        com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n        com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\r\n        com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n        com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n        org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\r\n        org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\r\n        com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249","title":"can not access a member of class org.springframework.aop.TruePointcut with modifiers public","body":"<p>I am developing a Spring application using Struts and the Struts JSON plugin. When I run the application it gives the following error (in Firebug):</p>\n\n<pre><code>org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: org.apache.struts2.json.JSONException: java.lang.IllegalAccessException: Class org.apache.struts2.json.JSONWriter can not access a member of class org.springframework.aop.TruePointcut with modifiers public\n</code></pre>\n\n<p>This is full stack trace:</p>\n\n<pre><code>org.apache.struts2.json.JSONException:\norg.apache.struts2.json.JSONException:\norg.apache.struts2.json.JSONException:\norg.apache.struts2.json.JSONException:\njava.lang.IllegalAccessException: Class\norg.apache.struts2.json.JSONWriter can not access a member of class\norg.springframework.aop.TruePointcut with modifiers &amp;quot;public&amp;quot;\n    org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:238)\n    org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:171)\n    org.apache.struts2.json.JSONWriter.process(JSONWriter.java:161)\n    org.apache.struts2.json.JSONWriter.value(JSONWriter.java:127)\n    org.apache.struts2.json.JSONWriter.write(JSONWriter.java:95)\n    org.apache.struts2.json.JSONUtil.serialize(JSONUtil.java:116)\n    org.apache.struts2.json.JSONResult.createJSONString(JSONResult.java:196)\n    org.apache.struts2.json.JSONResult.execute(JSONResult.java:170)\n    com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:278)\n    org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:243)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:192)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n    org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:511)\n    org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:432)\n</code></pre>\n\n<p>Root cause:</p>\n\n<pre><code>org.apache.struts2.json.JSONException:\norg.apache.struts2.json.JSONException:\norg.apache.struts2.json.JSONException:\njava.lang.IllegalAccessException: Class\norg.apache.struts2.json.JSONWriter can not access a member of class\norg.springframework.aop.TruePointcut with modifiers &amp;quot;public&amp;quot;\n    org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:238)\n    org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:171)\n    org.apache.struts2.json.JSONWriter.process(JSONWriter.java:161)\n    org.apache.struts2.json.JSONWriter.value(JSONWriter.java:127)\n    org.apache.struts2.json.JSONWriter.add(JSONWriter.java:363)\n    org.apache.struts2.json.JSONWriter.bean(JSONWriter.java:223)\n    org.apache.struts2.json.JSONWriter.processCustom(JSONWriter.java:171)\n    org.apache.struts2.json.JSONWriter.process(JSONWriter.java:161)\n    org.apache.struts2.json.JSONWriter.value(JSONWriter.java:127)\n    org.apache.struts2.json.JSONWriter.write(JSONWriter.java:95)\n    org.apache.struts2.json.JSONUtil.serialize(JSONUtil.java:116)\n    org.apache.struts2.json.JSONResult.createJSONString(JSONResult.java:196)\n    org.apache.struts2.json.JSONResult.execute(JSONResult.java:170)\n    com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:374)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:278)\n    org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n    org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:211)\n    com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:190)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:75)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249)\n    org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:90)\n    com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:249\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"comments":[{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1673923381,"post_id":74963875,"comment_id":132600320,"body_markdown":"Did the solution above resolve your issue?","body":"Did the solution above resolve your issue?"}],"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672418731,"creation_date":1672418731,"answer_id":74963875,"question_id":74962910,"body_markdown":"You are missing `.setCoder(RowCoder.of(schema))` on the resulting `PCollection&lt;Row&gt;`. They are also defined at PCollection level. \r\n\r\nPlease check https://beam.apache.org/documentation/programming-guide/#schemas for more information.","title":"How to convert PCollection&lt;TableRow&gt; to PCollection&lt;Row&gt; in Apache Beam?","body":"<p>You are missing <code>.setCoder(RowCoder.of(schema))</code> on the resulting <code>PCollection&lt;Row&gt;</code>. They are also defined at PCollection level.</p>\n<p>Please check <a href=\"https://beam.apache.org/documentation/programming-guide/#schemas\" rel=\"nofollow noreferrer\">https://beam.apache.org/documentation/programming-guide/#schemas</a> for more information.</p>\n"}],"owner":{"account_id":16061689,"reputation":2319,"user_id":11592386,"display_name":"Nikhil Suthar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672423018,"creation_date":1672412502,"question_id":74962910,"body_markdown":"I have one `PCollection` of `TableRow`. I want to use `SQLTransformation` over that `PCollection`. I tried to use `SQLTransformation` directly over `PCollection&lt;TableRow&gt;` but it is giving the below error:\r\n\r\n**Code Snippet**\r\n\r\n    PCollection&lt;TableRow&gt; rows = [...]\r\n    PCollection&lt;Row&gt; rows1 =   rows.apply(SqlTransform.query(&quot;SELECT max(ID) as max_watermark FROM PCOLLECTION&quot;));\r\n\r\n\r\n**Error**\r\n\r\n    [main] WARN org.apache.beam.sdk.io.jdbc.JdbcIO - Unable to infer a schema for type com.google.api.services.bigquery.model.TableRow. Attempting to infer a coder without a schema.\r\n    java.lang.IllegalStateException: Cannot call getSchema when there is no schema\r\n            at org.apache.beam.sdk.values.PCollection.getSchema(PCollection.java:331)\r\n            at org.apache.beam.sdk.extensions.sql.impl.schema.BeamPCollectionTable.&lt;init&gt;(BeamPCollectionTable.java:35)\r\n            at org.apache.beam.sdk.extensions.sql.SqlTransform.toTableMap(SqlTransform.java:183)\r\n            at org.apache.beam.sdk.extensions.sql.SqlTransform.expand(SqlTransform.java:138)\r\n            at org.apache.beam.sdk.extensions.sql.SqlTransform.expand(SqlTransform.java:110)\r\n            at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\r\n            at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:482)\r\n            at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:360)\r\n            at org.example.Main.main(Main.java:162)\r\n\r\nAs per the document, **SQLTransformation** requires `PCollection&lt;Row&gt;` as an Input so I tried to convert `PCollection&lt;TableRow&gt;` to `PCollection&lt;Row&gt;` with the below logic but that is giving an error with respect to Coder. \r\n\r\n**Logic I tried**\r\n\r\n    final Schema schema = Schema.builder()\r\n        .addStringField(&quot;ID&quot;)\r\n        .build();\r\n    \r\n    PCollection&lt;Row&gt; rows11 =  rows.apply(ParDo.of(new DoFn&lt;TableRow, Row&gt;() {\r\n        @ProcessElement\r\n        public void ProcessElement(@Element TableRow inRow, OutputReceiver&lt;Row&gt; out){\r\n                Row r = Row.withSchema(schema)\r\n                        .addValues(inRow.get(&quot;ID&quot;))\r\n                        .build();\r\n                out.output(r);          \r\n        } \r\n    }));\r\n\r\n    PCollection&lt;Row&gt; rows12 =   rows11.apply(SqlTransform.query(&quot;SELECT max(ID) as max_watermark FROM PCOLLECTION&quot;));\r\n\r\n\r\nBut this is giving the below error. I don&#39;t know what I am missing here. \r\n*my complete use case is to get a max of the id column value from **rows** (`PCollection&lt;TableRow&gt;`) and store it in one of the BigQuery table.*\r\n\r\n**Error**\r\n\r\n    [main] WARN org.apache.beam.sdk.io.jdbc.JdbcIO - Unable to infer a schema for type com.google.api.services.bigquery.model.TableRow. Attempting to infer a coder without a schema.\r\n    java.lang.IllegalStateException: Unable to return a default Coder for ParDo(Anonymous)/ParMultiDo(Anonymous).output [PCollection@185939155]. Correct one of the following root causes:\r\n      No Coder has been manually specified;  you may do so using .setCoder().\r\n      Inferring a Coder from the CoderRegistry failed: Cannot provide a coder for a Beam Row. Please provide a schema instead using PCollection.setRowSchema.\r\n      Using the default output Coder from the producing PTransform failed: PTransform.getOutputCoder called.\r\n            at org.apache.beam.sdk.util.Preconditions.checkStateNotNull(Preconditions.java:471)\r\n            at org.apache.beam.sdk.values.PCollection.getCoder(PCollection.java:284)\r\n            at org.apache.beam.sdk.values.PCollection.finishSpecifying(PCollection.java:115)\r\n            at org.apache.beam.sdk.runners.TransformHierarchy.finishSpecifyingInput(TransformHierarchy.java:154)\r\n            at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:547)\r\n            at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:482)\r\n            at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:360)\r\n            at org.example.Main.main(Main.java:159)","title":"How to convert PCollection&lt;TableRow&gt; to PCollection&lt;Row&gt; in Apache Beam?","body":"<p>I have one <code>PCollection</code> of <code>TableRow</code>. I want to use <code>SQLTransformation</code> over that <code>PCollection</code>. I tried to use <code>SQLTransformation</code> directly over <code>PCollection&lt;TableRow&gt;</code> but it is giving the below error:</p>\n<p><strong>Code Snippet</strong></p>\n<pre><code>PCollection&lt;TableRow&gt; rows = [...]\nPCollection&lt;Row&gt; rows1 =   rows.apply(SqlTransform.query(&quot;SELECT max(ID) as max_watermark FROM PCOLLECTION&quot;));\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>[main] WARN org.apache.beam.sdk.io.jdbc.JdbcIO - Unable to infer a schema for type com.google.api.services.bigquery.model.TableRow. Attempting to infer a coder without a schema.\njava.lang.IllegalStateException: Cannot call getSchema when there is no schema\n        at org.apache.beam.sdk.values.PCollection.getSchema(PCollection.java:331)\n        at org.apache.beam.sdk.extensions.sql.impl.schema.BeamPCollectionTable.&lt;init&gt;(BeamPCollectionTable.java:35)\n        at org.apache.beam.sdk.extensions.sql.SqlTransform.toTableMap(SqlTransform.java:183)\n        at org.apache.beam.sdk.extensions.sql.SqlTransform.expand(SqlTransform.java:138)\n        at org.apache.beam.sdk.extensions.sql.SqlTransform.expand(SqlTransform.java:110)\n        at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:548)\n        at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:482)\n        at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:360)\n        at org.example.Main.main(Main.java:162)\n</code></pre>\n<p>As per the document, <strong>SQLTransformation</strong> requires <code>PCollection&lt;Row&gt;</code> as an Input so I tried to convert <code>PCollection&lt;TableRow&gt;</code> to <code>PCollection&lt;Row&gt;</code> with the below logic but that is giving an error with respect to Coder.</p>\n<p><strong>Logic I tried</strong></p>\n<pre><code>final Schema schema = Schema.builder()\n    .addStringField(&quot;ID&quot;)\n    .build();\n\nPCollection&lt;Row&gt; rows11 =  rows.apply(ParDo.of(new DoFn&lt;TableRow, Row&gt;() {\n    @ProcessElement\n    public void ProcessElement(@Element TableRow inRow, OutputReceiver&lt;Row&gt; out){\n            Row r = Row.withSchema(schema)\n                    .addValues(inRow.get(&quot;ID&quot;))\n                    .build();\n            out.output(r);          \n    } \n}));\n\nPCollection&lt;Row&gt; rows12 =   rows11.apply(SqlTransform.query(&quot;SELECT max(ID) as max_watermark FROM PCOLLECTION&quot;));\n</code></pre>\n<p>But this is giving the below error. I don't know what I am missing here.\n<em>my complete use case is to get a max of the id column value from <strong>rows</strong> (<code>PCollection&lt;TableRow&gt;</code>) and store it in one of the BigQuery table.</em></p>\n<p><strong>Error</strong></p>\n<pre><code>[main] WARN org.apache.beam.sdk.io.jdbc.JdbcIO - Unable to infer a schema for type com.google.api.services.bigquery.model.TableRow. Attempting to infer a coder without a schema.\njava.lang.IllegalStateException: Unable to return a default Coder for ParDo(Anonymous)/ParMultiDo(Anonymous).output [PCollection@185939155]. Correct one of the following root causes:\n  No Coder has been manually specified;  you may do so using .setCoder().\n  Inferring a Coder from the CoderRegistry failed: Cannot provide a coder for a Beam Row. Please provide a schema instead using PCollection.setRowSchema.\n  Using the default output Coder from the producing PTransform failed: PTransform.getOutputCoder called.\n        at org.apache.beam.sdk.util.Preconditions.checkStateNotNull(Preconditions.java:471)\n        at org.apache.beam.sdk.values.PCollection.getCoder(PCollection.java:284)\n        at org.apache.beam.sdk.values.PCollection.finishSpecifying(PCollection.java:115)\n        at org.apache.beam.sdk.runners.TransformHierarchy.finishSpecifyingInput(TransformHierarchy.java:154)\n        at org.apache.beam.sdk.Pipeline.applyInternal(Pipeline.java:547)\n        at org.apache.beam.sdk.Pipeline.applyTransform(Pipeline.java:482)\n        at org.apache.beam.sdk.values.PCollection.apply(PCollection.java:360)\n        at org.example.Main.main(Main.java:159)\n</code></pre>\n"},{"tags":["java","android","chaquopy"],"answers":[{"tags":[],"owner":{"account_id":77317,"reputation":7321,"user_id":220765,"display_name":"mhsmith"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1672409431,"creation_date":1672409431,"answer_id":74962472,"question_id":74956537,"body_markdown":"If you&#39;re familiar with Python, it should be possible to do this using Chaquopy and NumPy. For details of how to pass images to and from Python, see [this question](https://stackoverflow.com/questions/74936976).","title":"Meshgrid-android studio","body":"<p>If you're familiar with Python, it should be possible to do this using Chaquopy and NumPy. For details of how to pass images to and from Python, see <a href=\"https://stackoverflow.com/questions/74936976\">this question</a>.</p>\n"}],"owner":{"account_id":27385902,"reputation":11,"user_id":20889713,"display_name":"norb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672421648,"accepted_answer_id":74962472,"answer_count":1,"score":0,"last_activity_date":1672422177,"creation_date":1672352529,"question_id":74956537,"body_markdown":"Is there a secret library for android studio, in which I will find the meshgrid function? Or a likewise library, where I could build upon my meshgrid function. Because I want to make a photo via the camera, after that the meshgrid of the photo (in greyscale) should be displayed in the imageView. Please help me or give me a hint.\r\n\r\nI also ask myself, how should I code this to so it fits all together? \r\n\r\nI will try it solving it with a python script within the java code, though I want to hear your opinion first.","title":"Meshgrid-android studio","body":"<p>Is there a secret library for android studio, in which I will find the meshgrid function? Or a likewise library, where I could build upon my meshgrid function. Because I want to make a photo via the camera, after that the meshgrid of the photo (in greyscale) should be displayed in the imageView. Please help me or give me a hint.</p>\n<p>I also ask myself, how should I code this to so it fits all together?</p>\n<p>I will try it solving it with a python script within the java code, though I want to hear your opinion first.</p>\n"},{"tags":["java","spring","spring-mvc","httpsession"],"comments":[{"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"score":0,"creation_date":1507638446,"post_id":46662877,"comment_id":80281749,"body_markdown":"Did my answer solve your problem? If solved then you can also accept my answer for fellow **SO** users.","body":"Did my answer solve your problem? If solved then you can also accept my answer for fellow <b>SO</b> users."}],"answers":[{"comments":[{"owner":{"account_id":9499679,"reputation":392,"user_id":7061312,"accept_rate":60,"display_name":"Joshgun"},"score":0,"creation_date":1507638754,"post_id":46662970,"comment_id":80281994,"body_markdown":"Unfortunately, this was not my actual problem. I couldn&#39;t use HttpSession even inside of any method. I&#39;ve solved this problem after importing javax.servlet jar library","body":"Unfortunately, this was not my actual problem. I couldn&#39;t use HttpSession even inside of any method. I&#39;ve solved this problem after importing javax.servlet jar library"},{"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"score":0,"creation_date":1507696543,"post_id":46662970,"comment_id":80307659,"body_markdown":"I also said it in last line (N.B) btw. :)","body":"I also said it in last line (N.B) btw. :)"}],"tags":[],"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672421835,"creation_date":1507627028,"answer_id":46662970,"question_id":46662877,"body_markdown":"You can get your `HttpSession` from `HttpServletRequest`. `req.getSession(false)` returns a `HttpSession` object if already created,if not then `null` returned. `req.getSession(true)` check if no session created, then returned a new one instead of `null`.\r\nN.B: Also make your that [javax servlet api][1] jar added to your class path.\r\n    \r\n    @Controller\r\n    public class MainController {\r\n    @RequestMapping(value = &quot;/doLogin&quot;)\r\n    public String login(\r\n        HttpServletRequest req, \r\n        @RequestParam(&quot;email&quot;) String email,\r\n        @RequestParam(&quot;pwd&quot;) String password, \r\n        Model model\r\n    ){\r\n        HttpSession session = req.getSession(false);\r\n       //some code\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://maven-eu.nuxeo.org/nexus/content/repositories/public-releases/javax/servlet/servlet-api/3.0.1/servlet-api-3.0.1.jar","title":"Can&#39;t access HttpSession in Spring MVC @Controller class","body":"<p>You can get your <code>HttpSession</code> from <code>HttpServletRequest</code>. <code>req.getSession(false)</code> returns a <code>HttpSession</code> object if already created,if not then <code>null</code> returned. <code>req.getSession(true)</code> check if no session created, then returned a new one instead of <code>null</code>.\nN.B: Also make your that <a href=\"https://maven-eu.nuxeo.org/nexus/content/repositories/public-releases/javax/servlet/servlet-api/3.0.1/servlet-api-3.0.1.jar\" rel=\"nofollow noreferrer\">javax servlet api</a> jar added to your class path.</p>\n<pre><code>@Controller\npublic class MainController {\n@RequestMapping(value = &quot;/doLogin&quot;)\npublic String login(\n    HttpServletRequest req, \n    @RequestParam(&quot;email&quot;) String email,\n    @RequestParam(&quot;pwd&quot;) String password, \n    Model model\n){\n    HttpSession session = req.getSession(false);\n   //some code\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6759653,"reputation":5203,"user_id":5207023,"accept_rate":100,"display_name":"Mykola Yashchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1507627055,"creation_date":1507627055,"answer_id":46662983,"question_id":46662877,"body_markdown":"This is because you don&#39;t have servlet api dependency in your classpath. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Can&#39;t access HttpSession in Spring MVC @Controller class","body":"<p>This is because you don't have servlet api dependency in your classpath. </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11905953,"reputation":409,"user_id":8712503,"display_name":"Atimene Nazim"},"score":0,"creation_date":1507628038,"post_id":46663004,"comment_id":80274859,"body_markdown":"I just posted it before seeing your post !","body":"I just posted it before seeing your post !"},{"owner":{"account_id":6759653,"reputation":5203,"user_id":5207023,"accept_rate":100,"display_name":"Mykola Yashchenko"},"score":1,"creation_date":1507628099,"post_id":46663004,"comment_id":80274902,"body_markdown":"You can compare time :) My answer was posted before yours","body":"You can compare time :) My answer was posted before yours"},{"owner":{"account_id":11905953,"reputation":409,"user_id":8712503,"display_name":"Atimene Nazim"},"score":0,"creation_date":1507628204,"post_id":46663004,"comment_id":80274975,"body_markdown":"What&#39;s the matter ? I just told you that yes you posted it before it&#39;s just when I was writting the answer. I didn&#39;t see your post !","body":"What&#39;s the matter ? I just told you that yes you posted it before it&#39;s just when I was writting the answer. I didn&#39;t see your post !"}],"tags":[],"owner":{"account_id":11905953,"reputation":409,"user_id":8712503,"display_name":"Atimene Nazim"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507627103,"creation_date":1507627103,"answer_id":46663004,"question_id":46662877,"body_markdown":"You need to have `java servlet` in your project. Add this to your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Can&#39;t access HttpSession in Spring MVC @Controller class","body":"<p>You need to have <code>java servlet</code> in your project. Add this to your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9499679,"reputation":392,"user_id":7061312,"accept_rate":60,"display_name":"Joshgun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2702,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46662983,"answer_count":3,"score":4,"last_activity_date":1672421835,"creation_date":1507626770,"question_id":46662877,"body_markdown":"I have a controller class in Spring MVC project. My code is like below:\r\n\r\n    @Controller\r\n    public class MainController {\r\n    \r\n    @RequestMapping(value = &quot;/doLogin&quot;)\r\n    public String login(@RequestParam(&quot;email&quot;) String email, @RequestParam(&quot;pwd&quot;) String password, Model model){\r\n       //some code\r\n      }\r\n    }\r\n\r\nI want to pass HttpSession as method parameter but I&#39;m not able to access HttpSession. I&#39;ve attached a screenshot:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uQh9t.png","title":"Can&#39;t access HttpSession in Spring MVC @Controller class","body":"<p>I have a controller class in Spring MVC project. My code is like below:</p>\n\n<pre><code>@Controller\npublic class MainController {\n\n@RequestMapping(value = \"/doLogin\")\npublic String login(@RequestParam(\"email\") String email, @RequestParam(\"pwd\") String password, Model model){\n   //some code\n  }\n}\n</code></pre>\n\n<p>I want to pass HttpSession as method parameter but I'm not able to access HttpSession. I've attached a screenshot:\n<a href=\"https://i.stack.imgur.com/uQh9t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQh9t.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","tomcat","exception","logfile"],"answers":[{"comments":[{"owner":{"account_id":1220254,"reputation":13,"user_id":7279990,"display_name":"JensD"},"score":0,"creation_date":1539846535,"post_id":52840031,"comment_id":92650890,"body_markdown":"Thank you! This case is therefore a duplicate of question 16301668.","body":"Thank you! This case is therefore a duplicate of question 16301668."}],"tags":[],"owner":{"account_id":5139055,"reputation":3874,"user_id":4116988,"display_name":"Konstantin Kolinko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539707241,"creation_date":1539707241,"answer_id":52840031,"question_id":52833771,"body_markdown":"The &quot;**Did you see me**&quot; lines are printed by some page in the Tomcat Examples web application. (That web application is present by default. You should remove it if you are using a Tomcat server for production).\r\n\r\nThings to read:\r\n\r\n*  [source code of the jsp file that prints those messages][1]\r\n*  [security how-to from Tomcat User&#39;s Guide][2] (for Tomcat 9. There exists similar page for Tomcat 7.)\r\n\r\n\r\n  [1]: https://svn.apache.org/viewvc/tomcat/trunk/webapps/examples/jsp/simpletag/foo.jsp?view=markup#l29\r\n  [2]: http://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Examples","title":"Surprising Hack into Tomcat Log File","body":"<p>The \"<strong>Did you see me</strong>\" lines are printed by some page in the Tomcat Examples web application. (That web application is present by default. You should remove it if you are using a Tomcat server for production).</p>\n\n<p>Things to read:</p>\n\n<ul>\n<li><a href=\"https://svn.apache.org/viewvc/tomcat/trunk/webapps/examples/jsp/simpletag/foo.jsp?view=markup#l29\" rel=\"nofollow noreferrer\">source code of the jsp file that prints those messages</a></li>\n<li><a href=\"http://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Examples\" rel=\"nofollow noreferrer\">security how-to from Tomcat User's Guide</a> (for Tomcat 9. There exists similar page for Tomcat 7.)</li>\n</ul>\n"}],"owner":{"account_id":1220254,"reputation":13,"user_id":7279990,"display_name":"JensD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1672421826,"answer_count":1,"score":-3,"last_activity_date":1672421807,"creation_date":1539687056,"question_id":52833771,"body_markdown":"Today I found a friendly hint from a hacker in Tomcat&#39;s catalina.out. There must be some leak after an exception occurred which enables users to write to stderr or stdout. The part of the log file is as follows:\r\n\r\n```none\r\n...\r\nOct 16, 2018 12:40:21 AM org.apache.coyote.http11.AbstractHttp11Processor process\r\nINFO: Error parsing HTTP request header\r\n Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\r\njava.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\r\n\tat org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:136)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1028)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:662)\r\n\r\n**Did you see me on the stderr window?**\r\n\r\n**Did you see me on the browser window as well?**\r\n\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry &#39;244790-85.25.210&#39; for key &#39;PRIMARY&#39;\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n...\r\n```\r\n\r\nI suspect that the exception left the stderr open and a user was able to write into the log. My machine is a Debian 8.7 with Tomcat 7.077.\r\n\r\nDoes anyone know how this could happen?\r\n","title":"Surprising Hack into Tomcat Log File","body":"<p>Today I found a friendly hint from a hacker in Tomcat's catalina.out. There must be some leak after an exception occurred which enables users to write to stderr or stdout. The part of the log file is as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>...\nOct 16, 2018 12:40:21 AM org.apache.coyote.http11.AbstractHttp11Processor process\nINFO: Error parsing HTTP request header\n Note: further occurrences of HTTP header parsing errors will be logged at DEBUG level.\njava.lang.IllegalArgumentException: Invalid character found in method name. HTTP method names must be tokens\n    at org.apache.coyote.http11.InternalInputBuffer.parseRequestLine(InternalInputBuffer.java:136)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1028)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:662)\n\n**Did you see me on the stderr window?**\n\n**Did you see me on the browser window as well?**\n\ncom.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '244790-85.25.210' for key 'PRIMARY'\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n...\n</code></pre>\n<p>I suspect that the exception left the stderr open and a user was able to write into the log. My machine is a Debian 8.7 with Tomcat 7.077.</p>\n<p>Does anyone know how this could happen?</p>\n"},{"tags":["java","unit-testing","assertj"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1636035648,"post_id":69840521,"comment_id":123454566,"body_markdown":"What do you mean “check a group”?","body":"What do you mean “check a group”?"},{"owner":{"account_id":5681909,"reputation":37,"user_id":8121995,"display_name":"Kauan Mocelin"},"score":0,"creation_date":1636036161,"post_id":69840521,"comment_id":123454867,"body_markdown":"I mean get a list inside a group and check you size, for example. I need somehow to access the list inside a &quot;Group&quot; and working with it.","body":"I mean get a list inside a group and check you size, for example. I need somehow to access the list inside a &quot;Group&quot; and working with it."},{"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"score":1,"creation_date":1636060928,"post_id":69840521,"comment_id":123464322,"body_markdown":"Do you know already which element of the map contains the group (and the inner list) you want to test, or do you want to check that at least one entry in the map has a list that satisfies your checks?","body":"Do you know already which element of the map contains the group (and the inner list) you want to test, or do you want to check that at least one entry in the map has a list that satisfies your checks?"},{"owner":{"account_id":5681909,"reputation":37,"user_id":8121995,"display_name":"Kauan Mocelin"},"score":0,"creation_date":1636111523,"post_id":69840521,"comment_id":123475405,"body_markdown":"@StefanoCordio I already know which element will be taken. For example: I&#39;ll get a entry map passing &#39;A&#39; key and then access the players list inside a &quot;Group&quot;.","body":"@StefanoCordio I already know which element will be taken. For example: I&#39;ll get a entry map passing &#39;A&#39; key and then access the players list inside a &quot;Group&quot;."}],"answers":[{"comments":[{"owner":{"account_id":5681909,"reputation":37,"user_id":8121995,"display_name":"Kauan Mocelin"},"score":0,"creation_date":1636036532,"post_id":69840850,"comment_id":123455044,"body_markdown":"My question was edited and removed from title &quot;AssertJ&quot;. I want to do this using AssertJ library.","body":"My question was edited and removed from title &quot;AssertJ&quot;. I want to do this using AssertJ library."},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1636037209,"post_id":69840850,"comment_id":123455358,"body_markdown":"anyway, i showed you how to access the list inside your map. Now do all the checks you want. If you don&#39;t know how to use AssertJ I&#39;m sure there are plenty of exemples all around the web. Like : https://stackoverflow.com/questions/48042592/asserting-properties-on-list-elements-with-assertj","body":"anyway, i showed you how to access the list inside your map. Now do all the checks you want. If you don&#39;t know how to use AssertJ I&#39;m sure there are plenty of exemples all around the web. Like : <a href=\"https://stackoverflow.com/questions/48042592/asserting-properties-on-list-elements-with-assertj\" title=\"asserting properties on list elements with assertj\">stackoverflow.com/questions/48042592/&hellip;</a>"},{"owner":{"account_id":5681909,"reputation":37,"user_id":8121995,"display_name":"Kauan Mocelin"},"score":0,"creation_date":1636038145,"post_id":69840850,"comment_id":123455764,"body_markdown":"My question is only about using AssertJ library, and I already searched about this topic and founded not about it. Maybe I didn&#39;t make clear that this question is about testing, sorry.","body":"My question is only about using AssertJ library, and I already searched about this topic and founded not about it. Maybe I didn&#39;t make clear that this question is about testing, sorry."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1636045027,"post_id":69840850,"comment_id":123458862,"body_markdown":"@KauanMocelin That edit was done (by me) because including tags in the title like you did should not be done. That is what the tag system is for. You didn&#39;t mention AssertJ explicitly in the body of the question, so I have edited your question to do so.","body":"@KauanMocelin That edit was done (by me) because including tags in the title like you did should not be done. That is what the tag system is for. You didn&#39;t mention AssertJ explicitly in the body of the question, so I have edited your question to do so."}],"tags":[],"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636036095,"creation_date":1636036095,"answer_id":69840850,"question_id":69840521,"body_markdown":"    for (Map.Entry&lt;Character, Group&gt; entry : generatedGroups.entrySet()) {\r\n        \r\n        List&lt;Player&gt; players = entry.getValue().getPlayers();\r\n        // Do your check here\r\n    }","title":"Check a list inside a Map entry in a unit test using AssertJ","body":"<pre><code>for (Map.Entry&lt;Character, Group&gt; entry : generatedGroups.entrySet()) {\n    \n    List&lt;Player&gt; players = entry.getValue().getPlayers();\n    // Do your check here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636183852,"creation_date":1636183852,"answer_id":69862187,"question_id":69840521,"body_markdown":"Assuming that `character` is the input key, and `player1` and `player2` are the expected content of the inner list, you can write:\r\n\r\n    assertThat(generatedGroups.get(character))\r\n      .extracting(&quot;players&quot;, as(InstanceOfAssertFactories.LIST))\r\n      .containsExactly(player1, player2);\r\n\r\nor with type safety, in case `Group` offers a `getPlayers()`:\r\n\r\n    assertThat(generatedGroups.get(character))\r\n      .extracting(Group::getPlayers, as(InstanceOfAssertFactories.LIST))\r\n      .containsExactly(player1, player2);\r\n\r\nReference:\r\n* [`extracting(String, InstanceOfAssertFactory)`][1]\r\n* [`extracting(Function, InstanceOfAssertFactory)`][2]\r\n* [`Assertions.as(InstanceOfAssertFactory)`][3]\r\n* [`InstanceOfAssertFactories.LIST`][4]\r\n* [`InstanceOfAssertFactories.list(Class)`][5]\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.lang.String,org.assertj.core.api.InstanceOfAssertFactory)\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.util.function.Function,org.assertj.core.api.InstanceOfAssertFactory)\r\n  [3]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assertions.html#as(org.assertj.core.api.InstanceOfAssertFactory)\r\n  [4]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/InstanceOfAssertFactories.html#LIST\r\n  [5]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/InstanceOfAssertFactories.html#list(java.lang.Class)","title":"Check a list inside a Map entry in a unit test using AssertJ","body":"<p>Assuming that <code>character</code> is the input key, and <code>player1</code> and <code>player2</code> are the expected content of the inner list, you can write:</p>\n<pre><code>assertThat(generatedGroups.get(character))\n  .extracting(&quot;players&quot;, as(InstanceOfAssertFactories.LIST))\n  .containsExactly(player1, player2);\n</code></pre>\n<p>or with type safety, in case <code>Group</code> offers a <code>getPlayers()</code>:</p>\n<pre><code>assertThat(generatedGroups.get(character))\n  .extracting(Group::getPlayers, as(InstanceOfAssertFactories.LIST))\n  .containsExactly(player1, player2);\n</code></pre>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.lang.String,org.assertj.core.api.InstanceOfAssertFactory)\" rel=\"nofollow noreferrer\"><code>extracting(String, InstanceOfAssertFactory)</code></a></li>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/AbstractObjectAssert.html#extracting(java.util.function.Function,org.assertj.core.api.InstanceOfAssertFactory)\" rel=\"nofollow noreferrer\"><code>extracting(Function, InstanceOfAssertFactory)</code></a></li>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assertions.html#as(org.assertj.core.api.InstanceOfAssertFactory)\" rel=\"nofollow noreferrer\"><code>Assertions.as(InstanceOfAssertFactory)</code></a></li>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/InstanceOfAssertFactories.html#LIST\" rel=\"nofollow noreferrer\"><code>InstanceOfAssertFactories.LIST</code></a></li>\n<li><a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/InstanceOfAssertFactories.html#list(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>InstanceOfAssertFactories.list(Class)</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672421665,"creation_date":1672421665,"answer_id":74964270,"question_id":69840521,"body_markdown":"Below is slight different answer with specific use case.\r\n\r\nWe wanted to assert the existence of header in the Response object. Below is the unit test using AssertJ assertions to verify the headers `ResponseEntity.ok().contentType(APPLICATION_JSON)`\r\n\r\n\r\n    assertThat(response).hasFieldOrPropertyWithValue(&quot;statusCode&quot;, OK)\r\n              .extracting(&quot;headers&quot;)\r\n              .isInstanceOf(HttpHeaders.class)\r\n              .hasFieldOrPropertyWithValue(&quot;Content-Type&quot;,List.of(APPLICATION_JSON_VALUE));","title":"Check a list inside a Map entry in a unit test using AssertJ","body":"<p>Below is slight different answer with specific use case.</p>\n<p>We wanted to assert the existence of header in the Response object. Below is the unit test using AssertJ assertions to verify the headers <code>ResponseEntity.ok().contentType(APPLICATION_JSON)</code></p>\n<pre><code>assertThat(response).hasFieldOrPropertyWithValue(&quot;statusCode&quot;, OK)\n          .extracting(&quot;headers&quot;)\n          .isInstanceOf(HttpHeaders.class)\n          .hasFieldOrPropertyWithValue(&quot;Content-Type&quot;,List.of(APPLICATION_JSON_VALUE));\n</code></pre>\n"}],"owner":{"account_id":5681909,"reputation":37,"user_id":8121995,"display_name":"Kauan Mocelin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69862187,"answer_count":3,"score":0,"last_activity_date":1672421665,"creation_date":1636034702,"question_id":69840521,"body_markdown":"I want to check a list that is inside a Map value in a unit test using the AssertJ library:\r\n\r\n```java\r\npublic class Group {\r\n    List&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n\r\n    public Group(List&lt;Player&gt; players) {\r\n        this.players.addAll(players);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nMap&lt;Character, Group&gt; generatedGroups = receiveFromAnyMethod();\r\n```\r\n\r\nInside a Map I have this:\r\n```none\r\nA: Group A -&gt; players(playerA, playerB)\r\n```\r\n\r\nHow I check a list inside a Group? I think I should use a extracting, flatExtracting methods, but I don&#39;t know how.","title":"Check a list inside a Map entry in a unit test using AssertJ","body":"<p>I want to check a list that is inside a Map value in a unit test using the AssertJ library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Group {\n    List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n\n    public Group(List&lt;Player&gt; players) {\n        this.players.addAll(players);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Character, Group&gt; generatedGroups = receiveFromAnyMethod();\n</code></pre>\n<p>Inside a Map I have this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A: Group A -&gt; players(playerA, playerB)\n</code></pre>\n<p>How I check a list inside a Group? I think I should use a extracting, flatExtracting methods, but I don't know how.</p>\n"},{"tags":["java","android","android-widget"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1672411978,"post_id":74962728,"comment_id":132285580,"body_markdown":"You appear to be using [this library](https://github.com/orhanobut/hawk), which has not been maintained in several years. And you are running into a problem as it attempts to convert some object to JSON using Gson. You might consider using something else other than that library.","body":"You appear to be using <a href=\"https://github.com/orhanobut/hawk\" rel=\"nofollow noreferrer\">this library</a>, which has not been maintained in several years. And you are running into a problem as it attempts to convert some object to JSON using Gson. You might consider using something else other than that library."},{"owner":{"account_id":22598942,"reputation":49,"user_id":16780806,"display_name":"shane"},"score":0,"creation_date":1672420389,"post_id":74962728,"comment_id":132287859,"body_markdown":"Thankyou so much for your help.. You are absolutely right. It was Hawk lib. Just a small question -- Shall I replace it with shared prefrences? or is there any other way to quickly store and get values back? Thanks","body":"Thankyou so much for your help.. You are absolutely right. It was Hawk lib. Just a small question -- Shall I replace it with shared prefrences? or is there any other way to quickly store and get values back? Thanks"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1672421382,"post_id":74962728,"comment_id":132288130,"body_markdown":"`SharedPreferences` or the Jetpack DataStore are reasonable options.","body":"<code>SharedPreferences</code> or the Jetpack DataStore are reasonable options."}],"answers":[{"comments":[{"owner":{"account_id":22598942,"reputation":49,"user_id":16780806,"display_name":"shane"},"score":0,"creation_date":1672422174,"post_id":74964264,"comment_id":132288309,"body_markdown":"Well thankyou so much, I have still a lot  to learn. You saved me time and efforts. Have a Great day.","body":"Well thankyou so much, I have still a lot  to learn. You saved me time and efforts. Have a Great day."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672421595,"creation_date":1672421595,"answer_id":74964264,"question_id":74962728,"body_markdown":"That is a long stack trace, but if you scan down far enough, you get past Gson and to other code:\r\n\r\n```\r\n        at com.google.gson.Gson.toJson(Gson.java:519)\r\n        at com.orhanobut.hawk.GsonParser.toJson(GsonParser.java:26)\r\n        at com.orhanobut.hawk.HawkConverter.toString(HawkConverter.java:33)\r\n        at com.orhanobut.hawk.DefaultHawkFacade.put(DefaultHawkFacade.java:33)\r\n        at com.orhanobut.hawk.Hawk.put(Hawk.java:39)\r\n        at com.mm.Widgets.Sp_Widgets.ScreenshotService$ServiceHandler$1.onPageFinished(ScreenshotService.java:142)\r\n```\r\n\r\nI am assuming that `com.mm.Widgets` is your app. You appear to be using [this Hawk library](https://github.com/orhanobut/hawk), and that is what is raising the exception. It uses Gson to persist something, and it is unhappy with what you are trying to persist. Either:\r\n\r\n- There is something specific to what you are passing to `put()` that Gson cannot handle, or\r\n- Hawk is just confused\r\n\r\nSince Hawk does not appear to be actively maintained, I would strongly consider switching away from Hawk. Depending on what you are trying to store, `SharedPreferences` or Jetpack DataStore may work. For large amounts of complex data, consider a SQLite database via Room or SQLDelight.","title":"AppWidget Crashes as soons as it loads","body":"<p>That is a long stack trace, but if you scan down far enough, you get past Gson and to other code:</p>\n<pre><code>        at com.google.gson.Gson.toJson(Gson.java:519)\n        at com.orhanobut.hawk.GsonParser.toJson(GsonParser.java:26)\n        at com.orhanobut.hawk.HawkConverter.toString(HawkConverter.java:33)\n        at com.orhanobut.hawk.DefaultHawkFacade.put(DefaultHawkFacade.java:33)\n        at com.orhanobut.hawk.Hawk.put(Hawk.java:39)\n        at com.mm.Widgets.Sp_Widgets.ScreenshotService$ServiceHandler$1.onPageFinished(ScreenshotService.java:142)\n</code></pre>\n<p>I am assuming that <code>com.mm.Widgets</code> is your app. You appear to be using <a href=\"https://github.com/orhanobut/hawk\" rel=\"nofollow noreferrer\">this Hawk library</a>, and that is what is raising the exception. It uses Gson to persist something, and it is unhappy with what you are trying to persist. Either:</p>\n<ul>\n<li>There is something specific to what you are passing to <code>put()</code> that Gson cannot handle, or</li>\n<li>Hawk is just confused</li>\n</ul>\n<p>Since Hawk does not appear to be actively maintained, I would strongly consider switching away from Hawk. Depending on what you are trying to store, <code>SharedPreferences</code> or Jetpack DataStore may work. For large amounts of complex data, consider a SQLite database via Room or SQLDelight.</p>\n"}],"owner":{"account_id":22598942,"reputation":49,"user_id":16780806,"display_name":"shane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672437140,"accepted_answer_id":74964264,"answer_count":1,"score":0,"last_activity_date":1672421595,"creation_date":1672411334,"question_id":74962728,"body_markdown":"My widget service loads an image (bitmap) from webview and then sets it on the widget view.\r\nIt is mostly working in most of the devices but on some devices, I recieve this error...\r\n\r\n\r\n\r\nIt&#39;s been few days, I&#39;m scratching my head changing code but nothing works ...\r\nPlease help me.. what&#39;s wrong\r\n\r\n\r\nThis is the error\r\n\r\n`\r\n```\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nW/cr_Ime: updateState: type [0-&gt;1], flags [514], show [false], \r\nI/zygote: Background concurrent copying GC freed 100457(2MB) AllocSpace objects, 0(0B) LOS objects, 49% free, 2MB/5MB, paused 5.675ms total 29.498ms\r\n    \r\n    --------- beginning of crash\r\nE/AndroidRuntime: FATAL EXCEPTION: WebpageScreenshotService\r\n    Process: com.mm.Widgets, PID: 5392\r\n    java.lang.StackOverflowError: stack size 1038KB\r\n        at java.lang.Class.isPrimitive(Unknown Source:0)\r\n        at com.google.gson.internal.$Gson$Types.checkNotPrimitive($Gson$Types.java:434)\r\n        at com.google.gson.internal.$Gson$Types.access$000($Gson$Types.java:43)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:551)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\nE/AndroidRuntime:     at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\r\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\r\nE/AndroidRuntime:     at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\r\n\r\n\r\n\r\nE/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\r\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\r\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\r\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\r\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\r\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\r\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\r\nE/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\r\n\r\n\r\nE/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\r\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:113)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:240)\r\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:113)\r\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:240)\r\n        at com.google.gson.Gson.toJson(Gson.java:605)\r\n        at com.google.gson.Gson.toJson(Gson.java:584)\r\n        at com.google.gson.Gson.toJson(Gson.java:539)\r\n        at com.google.gson.Gson.toJson(Gson.java:519)\r\n        at com.orhanobut.hawk.GsonParser.toJson(GsonParser.java:26)\r\n        at com.orhanobut.hawk.HawkConverter.toString(HawkConverter.java:33)\r\n        at com.orhanobut.hawk.DefaultHawkFacade.put(DefaultHawkFacade.java:33)\r\n        at com.orhanobut.hawk.Hawk.put(Hawk.java:39)\r\n        at com.mm.Widgets.Sp_Widgets.ScreenshotService$ServiceHandler$1.onPageFinished(ScreenshotService.java:142)\r\n        at com.android.webview.chromium.WebViewContentsClientAdapter.onPageFinished(WebViewContentsClientAdapter.java:546)\r\n        at org.chromium.android_webview.AwContentsClientCallbackHelper$MyHandler.handleMessage(AwContentsClientCallbackHelper.java:201)\r\n        at android.os.Handler.dispatchMessage(Handler.java:105)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.os.HandlerThread.run(HandlerThread.java:65)\r\n```\r\n`","title":"AppWidget Crashes as soons as it loads","body":"<p>My widget service loads an image (bitmap) from webview and then sets it on the widget view.\nIt is mostly working in most of the devices but on some devices, I recieve this error...</p>\n<p>It's been few days, I'm scratching my head changing code but nothing works ...\nPlease help me.. what's wrong</p>\n<p>This is the error</p>\n<p>`</p>\n<pre><code>D/NetworkSecurityConfig: No Network Security Config specified, using platform default\nW/cr_Ime: updateState: type [0-&gt;1], flags [514], show [false], \nI/zygote: Background concurrent copying GC freed 100457(2MB) AllocSpace objects, 0(0B) LOS objects, 49% free, 2MB/5MB, paused 5.675ms total 29.498ms\n    \n    --------- beginning of crash\nE/AndroidRuntime: FATAL EXCEPTION: WebpageScreenshotService\n    Process: com.mm.Widgets, PID: 5392\n    java.lang.StackOverflowError: stack size 1038KB\n        at java.lang.Class.isPrimitive(Unknown Source:0)\n        at com.google.gson.internal.$Gson$Types.checkNotPrimitive($Gson$Types.java:434)\n        at com.google.gson.internal.$Gson$Types.access$000($Gson$Types.java:43)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:551)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\nE/AndroidRuntime:     at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\n        at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:553)\n        at com.google.gson.internal.$Gson$Types.canonicalize($Gson$Types.java:111)\nE/AndroidRuntime:     at com.google.gson.internal.$Gson$Types$WildcardTypeImpl.&lt;init&gt;($Gson$Types.java:546)\n\n\n\nE/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldAdapter(ReflectiveTypeAdapterFactory.java:136)\nE/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.access$100(ReflectiveTypeAdapterFactory.java:49)\n\n\nE/AndroidRuntime:     at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.&lt;init&gt;(ReflectiveTypeAdapterFactory.java:106)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:105)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:97)\n        at com.google.gson.Gson.getAdapter(Gson.java:360)\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:55)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:113)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:240)\n        at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:68)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:113)\n        at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:240)\n        at com.google.gson.Gson.toJson(Gson.java:605)\n        at com.google.gson.Gson.toJson(Gson.java:584)\n        at com.google.gson.Gson.toJson(Gson.java:539)\n        at com.google.gson.Gson.toJson(Gson.java:519)\n        at com.orhanobut.hawk.GsonParser.toJson(GsonParser.java:26)\n        at com.orhanobut.hawk.HawkConverter.toString(HawkConverter.java:33)\n        at com.orhanobut.hawk.DefaultHawkFacade.put(DefaultHawkFacade.java:33)\n        at com.orhanobut.hawk.Hawk.put(Hawk.java:39)\n        at com.mm.Widgets.Sp_Widgets.ScreenshotService$ServiceHandler$1.onPageFinished(ScreenshotService.java:142)\n        at com.android.webview.chromium.WebViewContentsClientAdapter.onPageFinished(WebViewContentsClientAdapter.java:546)\n        at org.chromium.android_webview.AwContentsClientCallbackHelper$MyHandler.handleMessage(AwContentsClientCallbackHelper.java:201)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.os.HandlerThread.run(HandlerThread.java:65)\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","swagger","springfox"],"comments":[{"owner":{"account_id":4547683,"reputation":3756,"user_id":3693726,"accept_rate":92,"display_name":"Deniss M."},"score":0,"creation_date":1617018549,"post_id":66214455,"comment_id":118174658,"body_markdown":"did you resolve this somehow? I have the same problem","body":"did you resolve this somehow? I have the same problem"},{"owner":{"account_id":4932695,"reputation":805,"user_id":3971900,"display_name":"An&#237;bal"},"score":0,"creation_date":1637205597,"post_id":66214455,"comment_id":123766080,"body_markdown":"Same problem here.","body":"Same problem here."}],"answers":[{"comments":[{"owner":{"account_id":13852503,"reputation":415,"user_id":10000110,"display_name":"st100"},"score":1,"creation_date":1635960314,"post_id":68634466,"comment_id":123433536,"body_markdown":"this solution do not work for me with springfox 3.0.0","body":"this solution do not work for me with springfox 3.0.0"}],"tags":[],"owner":{"account_id":2456527,"reputation":59,"user_id":2141605,"display_name":"Jan Baudisch"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1627986644,"creation_date":1627986644,"answer_id":68634466,"question_id":66214455,"body_markdown":"This works fine for me:\r\n\r\n    @Parameter(name = &quot;languages&quot;, in = QUERY, array = @ArraySchema( schema = @Schema(type = &quot;string&quot;)))","title":"Swagger Springfox - how to generate schema type array for query param List&lt;String&gt;","body":"<p>This works fine for me:</p>\n<pre><code>@Parameter(name = &quot;languages&quot;, in = QUERY, array = @ArraySchema( schema = @Schema(type = &quot;string&quot;)))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2756352,"reputation":10990,"user_id":2374302,"accept_rate":86,"display_name":"Axel Amthor"},"score":0,"creation_date":1679667527,"post_id":74964190,"comment_id":133767076,"body_markdown":"This solution doesn&#39;t work in Spring-Fox 3.0.0. Furthermore it requeres an editor implementation to convert Strings to RequestFilter instances","body":"This solution doesn&#39;t work in Spring-Fox 3.0.0. Furthermore it requeres an editor implementation to convert Strings to RequestFilter instances"}],"tags":[],"owner":{"account_id":1452074,"reputation":11,"user_id":1368698,"display_name":"thejavator"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672421073,"creation_date":1672421073,"answer_id":74964190,"question_id":66214455,"body_markdown":"To make this happen, put the request params inside an object as below : \r\n\r\n ```\r\n   @GetMapping(value = &quot;/filter&quot;)\r\n    public ResponseEntity filterValues(RequestFilter requestFilter) {\r\n```\r\n\r\n```\r\npublic class RequestFilter {\r\n    private List&lt;String&gt; filters;\r\n    private List&lt;Long&gt; ids;\r\n}\r\n\r\n```\r\n\r\n\r\nThe rendered swagger operation is : \r\n\r\n![image](https://user-images.githubusercontent.com/6198887/210096886-e100bee1-0549-4d92-898b-471b9d7271d6.png)\r\n","title":"Swagger Springfox - how to generate schema type array for query param List&lt;String&gt;","body":"<p>To make this happen, put the request params inside an object as below :</p>\n<pre><code>  @GetMapping(value = &quot;/filter&quot;)\n   public ResponseEntity filterValues(RequestFilter requestFilter) {\n</code></pre>\n<pre><code>public class RequestFilter {\n    private List&lt;String&gt; filters;\n    private List&lt;Long&gt; ids;\n}\n\n</code></pre>\n<p>The rendered swagger operation is :</p>\n<p><img src=\"https://user-images.githubusercontent.com/6198887/210096886-e100bee1-0549-4d92-898b-471b9d7271d6.png\" alt=\"image\" /></p>\n"}],"owner":{"account_id":4456559,"reputation":995,"user_id":3626641,"display_name":"Michal Aron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3193,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1672421073,"creation_date":1613418325,"question_id":66214455,"body_markdown":"I am using springfox version 3.0.0 and using OAS annotations.\r\n\r\nI need to produce fragment like this (with schema type array) in Swagger JSON for my method:\r\n```\r\n&quot;parameters&quot;:[\r\n   {\r\n      &quot;name&quot;:&quot;ids&quot;,\r\n      &quot;in&quot;:&quot;query&quot;,\r\n      &quot;description&quot;:&quot;multiple ids&quot;,\r\n      &quot;required&quot;:true,\r\n      &quot;schema&quot;:{\r\n         &quot;uniqueItems&quot;:true,\r\n         &quot;type&quot;:&quot;array&quot;,\r\n         &quot;items&quot;:{\r\n            &quot;type&quot;:&quot;string&quot;\r\n         }\r\n      }\r\n   },\r\n   ...\r\n]\r\n``` \r\nWhich produces desired parameter component in Swagger UI:\r\n[![Schema type array for parameter in Swagger UI][1]][1]\r\n\r\nHowever, I am not able to get this Swagger JSON (and Swagger UI appearance of the parameter) with any of the available Swagger annotations. \r\nCurrently I have code like this in my controller (btw, this works like a charm with the springdoc library, which we have used before we have migrated to springfox):\r\n```\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.media.Content;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\n\r\n@Api\r\n@RestController\r\n@RequestMapping(&quot;/something&quot;)\r\n@RequiredArgsConstructor\r\npublic class MyController {\r\n\r\n  @Operation(summary = &quot;Return list of...&quot;)\r\n  @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;)\r\n  @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\r\n  public List&lt;SomeDTO&gt; getSomethingByIds(@Parameter(description = &quot;List of ids&quot;) @RequestParam(&quot;ids&quot;) Set&lt;String&gt; ids) {\r\n    ...\r\n  }\r\n```\r\n\r\nBut I have also experimented with setting schema of the `io.swagger.v3.oas.annotations.Parameter` annotation manually (like `@Parameter(description = &quot;List of ids&quot;, content = @Content(array = @ArraySchema(schema = @Schema(implementation = String.class))))` ).\r\n&lt;br /&gt; \r\nAlso tried to experiment with older (non OAS) Swagger annotations - like `io.swagger.annotations.ApiImplicitParam` or `io.swagger.annotations.ApiParam`.\r\n&lt;br /&gt; \r\nAlso tried changing of the `Set&lt;String&gt;` type to `List&lt;String&gt;` or `String[]`.\r\n&lt;br /&gt; No success with neither of these, no matter what I have tried, springfox always produces Swagger JSON fragment like this (with schema type string) and therefore just simple string input in swagger UI:\r\n``` \r\n&quot;parameters&quot;:[\r\n   {\r\n      &quot;name&quot;:&quot;ids&quot;,\r\n      &quot;in&quot;:&quot;query&quot;,\r\n      &quot;description&quot;:&quot;List of ids&quot;,\r\n      &quot;required&quot;:true,\r\n      &quot;style&quot;:&quot;form&quot;,\r\n      &quot;explode&quot;:true,\r\n      &quot;schema&quot;:{\r\n         &quot;type&quot;:&quot;string&quot;\r\n      }\r\n   },\r\n   ...\r\n]\r\n``` \r\n\r\nAnyone had better luck with this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tmBdU.png","title":"Swagger Springfox - how to generate schema type array for query param List&lt;String&gt;","body":"<p>I am using springfox version 3.0.0 and using OAS annotations.</p>\n<p>I need to produce fragment like this (with schema type array) in Swagger JSON for my method:</p>\n<pre><code>&quot;parameters&quot;:[\n   {\n      &quot;name&quot;:&quot;ids&quot;,\n      &quot;in&quot;:&quot;query&quot;,\n      &quot;description&quot;:&quot;multiple ids&quot;,\n      &quot;required&quot;:true,\n      &quot;schema&quot;:{\n         &quot;uniqueItems&quot;:true,\n         &quot;type&quot;:&quot;array&quot;,\n         &quot;items&quot;:{\n            &quot;type&quot;:&quot;string&quot;\n         }\n      }\n   },\n   ...\n]\n</code></pre>\n<p>Which produces desired parameter component in Swagger UI:\n<a href=\"https://i.stack.imgur.com/tmBdU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tmBdU.png\" alt=\"Schema type array for parameter in Swagger UI\" /></a></p>\n<p>However, I am not able to get this Swagger JSON (and Swagger UI appearance of the parameter) with any of the available Swagger annotations.\nCurrently I have code like this in my controller (btw, this works like a charm with the springdoc library, which we have used before we have migrated to springfox):</p>\n<pre><code>import io.swagger.annotations.Api;\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.media.Content;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\n\n@Api\n@RestController\n@RequestMapping(&quot;/something&quot;)\n@RequiredArgsConstructor\npublic class MyController {\n\n  @Operation(summary = &quot;Return list of...&quot;)\n  @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Success&quot;)\n  @GetMapping(produces = MediaType.APPLICATION_JSON_VALUE)\n  public List&lt;SomeDTO&gt; getSomethingByIds(@Parameter(description = &quot;List of ids&quot;) @RequestParam(&quot;ids&quot;) Set&lt;String&gt; ids) {\n    ...\n  }\n</code></pre>\n<p>But I have also experimented with setting schema of the <code>io.swagger.v3.oas.annotations.Parameter</code> annotation manually (like <code>@Parameter(description = &quot;List of ids&quot;, content = @Content(array = @ArraySchema(schema = @Schema(implementation = String.class))))</code> ).\n<br />\nAlso tried to experiment with older (non OAS) Swagger annotations - like <code>io.swagger.annotations.ApiImplicitParam</code> or <code>io.swagger.annotations.ApiParam</code>.\n<br />\nAlso tried changing of the <code>Set&lt;String&gt;</code> type to <code>List&lt;String&gt;</code> or <code>String[]</code>.\n<br /> No success with neither of these, no matter what I have tried, springfox always produces Swagger JSON fragment like this (with schema type string) and therefore just simple string input in swagger UI:</p>\n<pre><code>&quot;parameters&quot;:[\n   {\n      &quot;name&quot;:&quot;ids&quot;,\n      &quot;in&quot;:&quot;query&quot;,\n      &quot;description&quot;:&quot;List of ids&quot;,\n      &quot;required&quot;:true,\n      &quot;style&quot;:&quot;form&quot;,\n      &quot;explode&quot;:true,\n      &quot;schema&quot;:{\n         &quot;type&quot;:&quot;string&quot;\n      }\n   },\n   ...\n]\n</code></pre>\n<p>Anyone had better luck with this?</p>\n"},{"tags":["java","reflection","annotation-processing"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1672417532,"post_id":74963645,"comment_id":132287086,"body_markdown":"I don&#39;t think you can, because the language model represents code, and reflection represents the running JVM. Can you perhaps work with `ExecutableElement` instead? That represents a method, constructor or initializer as part of the language model.","body":"I don&#39;t think you can, because the language model represents code, and reflection represents the running JVM. Can you perhaps work with <code>ExecutableElement</code> instead? That represents a method, constructor or initializer as part of the language model."},{"owner":{"account_id":1275436,"reputation":2012,"user_id":1230816,"accept_rate":62,"display_name":"Jemolah"},"score":0,"creation_date":1672420885,"post_id":74963645,"comment_id":132287998,"body_markdown":"You are right and thanks for the hint &quot;model versus runtime reflection&quot;. `ExecutableElement` works for this. I would accept this as an answer.","body":"You are right and thanks for the hint &quot;model versus runtime reflection&quot;. <code>ExecutableElement</code> works for this. I would accept this as an answer."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1672421086,"post_id":74963645,"comment_id":132288064,"body_markdown":"I&#39;ve posted it as an answer as well.","body":"I&#39;ve posted it as an answer as well."}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1672418055,"post_id":74963711,"comment_id":132287245,"body_markdown":"Classes that are currently compiled won&#39;t be loaded in the compiling JVM.","body":"Classes that are currently compiled won&#39;t be loaded in the compiling JVM."}],"tags":[],"owner":{"account_id":4008309,"reputation":3688,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672417609,"creation_date":1672417609,"answer_id":74963711,"question_id":74963645,"body_markdown":"If an annotation has enough data like class name, method name, and arguments etc., then the below snippet can get you a Method object.\r\n\r\n    String className = // Get from the annotation attribute\r\n    String argumentClassName = // Get from the annotation attribute\r\n    String methodName = // Get from the annotation attribute\r\n    \r\n    Class myClass = Class.forName(className);\r\n    Class argumentClass = Class.forName(argumentClassName);\r\n    Method method = myClass.getDeclaredMethod(methodName, argumentClass);\r\n    \r\nRefer this [link1][1], [link2][2] for an example.\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2014/08/invoke-method-using-method-object.html\r\n  [2]: https://self-learning-java-tutorial.blogspot.com/2014/08/invoke-static-methods-using-reflection.html","title":"How to convert an Element to a Method?","body":"<p>If an annotation has enough data like class name, method name, and arguments etc., then the below snippet can get you a Method object.</p>\n<pre><code>String className = // Get from the annotation attribute\nString argumentClassName = // Get from the annotation attribute\nString methodName = // Get from the annotation attribute\n\nClass myClass = Class.forName(className);\nClass argumentClass = Class.forName(argumentClassName);\nMethod method = myClass.getDeclaredMethod(methodName, argumentClass);\n</code></pre>\n<p>Refer this <a href=\"https://self-learning-java-tutorial.blogspot.com/2014/08/invoke-method-using-method-object.html\" rel=\"nofollow noreferrer\">link1</a>, <a href=\"https://self-learning-java-tutorial.blogspot.com/2014/08/invoke-static-methods-using-reflection.html\" rel=\"nofollow noreferrer\">link2</a> for an example.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672421071,"creation_date":1672421071,"answer_id":74964189,"question_id":74963645,"body_markdown":"I don&#39;t think you can, because the language model represents code, and reflection represents the running JVM. Can you perhaps work with `ExecutableElement` instead? That represents a method, constructor or initializer as part of the language model.","title":"How to convert an Element to a Method?","body":"<p>I don't think you can, because the language model represents code, and reflection represents the running JVM. Can you perhaps work with <code>ExecutableElement</code> instead? That represents a method, constructor or initializer as part of the language model.</p>\n"}],"owner":{"account_id":1275436,"reputation":2012,"user_id":1230816,"accept_rate":62,"display_name":"Jemolah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74964189,"answer_count":2,"score":0,"last_activity_date":1672421071,"creation_date":1672417137,"question_id":74963645,"body_markdown":"I&#39;m building an annotation processor for an annotation called &quot;Auditable&quot;. The processor gets invoked by the builder (some parts are left out for easier reading):\r\n\r\n  \t@Override\r\n\tpublic boolean process( Set&lt;? extends TypeElement&gt; annotations,\r\n\t\t\tRoundEnvironment roundEnv ) {\r\n\r\n        //--- Obtain all annotated elements\r\n\t\tSet&lt;? extends Element&gt; annotatedElements =\r\n\t\t\t\troundEnv.getElementsAnnotatedWith( Auditable.class );\r\n\r\n        //--- Separate elements into classes, fields and methods\r\n        for ( Element element : annotatedElements ) {\r\n\t\t\tElementKind kind = element.getKind();\r\n            if ( ElementKind.METHOD.equals( kind ) ) {\r\n\t\t\t\tcheckAndAddMethod( element );  // &lt;-- Must convert Element to Method\r\n\t\t\t} \r\n        ... }\r\n\r\n    void checkAndAddMethod( Method method ) {  // &lt;-- parameter type = Method\r\n\r\nHow can I convert the annotated `Element` to a `Method`?","title":"How to convert an Element to a Method?","body":"<p>I'm building an annotation processor for an annotation called &quot;Auditable&quot;. The processor gets invoked by the builder (some parts are left out for easier reading):</p>\n<pre><code>@Override\npublic boolean process( Set&lt;? extends TypeElement&gt; annotations,\n        RoundEnvironment roundEnv ) {\n\n    //--- Obtain all annotated elements\n    Set&lt;? extends Element&gt; annotatedElements =\n            roundEnv.getElementsAnnotatedWith( Auditable.class );\n\n    //--- Separate elements into classes, fields and methods\n    for ( Element element : annotatedElements ) {\n        ElementKind kind = element.getKind();\n        if ( ElementKind.METHOD.equals( kind ) ) {\n            checkAndAddMethod( element );  // &lt;-- Must convert Element to Method\n        } \n    ... }\n\nvoid checkAndAddMethod( Method method ) {  // &lt;-- parameter type = Method\n</code></pre>\n<p>How can I convert the annotated <code>Element</code> to a <code>Method</code>?</p>\n"},{"tags":["java","maven","dependency-injection","quarkus"],"comments":[{"owner":{"account_id":871771,"reputation":1743,"user_id":922457,"accept_rate":50,"display_name":"Edenshaw"},"score":0,"creation_date":1685738187,"post_id":74956488,"comment_id":134708597,"body_markdown":"In my case I was not injecting a property (@ConfigProperty) but creating a new instance, so at the end I just needed to create a no-args constructor, in order to have two constructors at the end. The other option was to create a Producer but that seems more complex.","body":"In my case I was not injecting a property (@ConfigProperty) but creating a new instance, so at the end I just needed to create a no-args constructor, in order to have two constructors at the end. The other option was to create a Producer but that seems more complex."}],"answers":[{"comments":[{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1672422173,"post_id":74964168,"comment_id":132288308,"body_markdown":"You are 100% correct, i forgot to came back to post my own solution (apologies). I came back with a fresh pair of eyes this morning and instantly noticed that the container wouldn&#39;t know what to inject for a string by itself. Thank you for posting this, as others may stumble across this issue while not noticing this.","body":"You are 100% correct, i forgot to came back to post my own solution (apologies). I came back with a fresh pair of eyes this morning and instantly noticed that the container wouldn&#39;t know what to inject for a string by itself. Thank you for posting this, as others may stumble across this issue while not noticing this."}],"tags":[],"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672420919,"creation_date":1672420919,"answer_id":74964168,"question_id":74956488,"body_markdown":"I _think_ this is caused by Quarkus (or ArC, actually) finding a single constructor and hence treating that constructor as the _bean constructor_. All parameters of the bean constructor are injection points, so ArC tries to resolve a bean of type `String` with the `@Default` qualifier (which is implied because no other qualifier is present).\r\n\r\nIf you want the container to inject a config property into the parameter, add the `@ConfigProperty` qualifier annotation to the parameter. If you don&#39;t want the container to inject anything into a constructor, declare a zero-parameter constructor (and mark it `@Inject` if you want to keep the other constructor).","title":"UnsatisfiedResolutionException: Unsatisfied dependency for type java.lang.String and qualifiers [@Default]","body":"<p>I <em>think</em> this is caused by Quarkus (or ArC, actually) finding a single constructor and hence treating that constructor as the <em>bean constructor</em>. All parameters of the bean constructor are injection points, so ArC tries to resolve a bean of type <code>String</code> with the <code>@Default</code> qualifier (which is implied because no other qualifier is present).</p>\n<p>If you want the container to inject a config property into the parameter, add the <code>@ConfigProperty</code> qualifier annotation to the parameter. If you don't want the container to inject anything into a constructor, declare a zero-parameter constructor (and mark it <code>@Inject</code> if you want to keep the other constructor).</p>\n"}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74964168,"answer_count":1,"score":0,"last_activity_date":1672420919,"creation_date":1672351911,"question_id":74956488,"body_markdown":"I have a very curious dependency injection resolve error during compile time. I have a property in application.properties, which i inject via the @ConfigProperty annotation in a Quarkus project. I have multiple @ConfigProperty injections in the project, none of which cause an issue except one. When i compile the project, i get the following maven error:\r\n\r\n&gt; javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type java.lang.String and qualifiers [@Default]\r\n\r\nTo give more details, it states specifically which member is the issue:\r\n\r\n&gt; java member: com.webscraper.bot.base.builder.ConfigWebScraperBuilder():webScraperClassName\r\n[ERROR]         - declared on CLASS bean [types=[com.webscraper.bot.base.builder.ConfigWebScraperBuilder, java.lang.Object], qualifiers=[@Default, @Any], target=com.webscraper.bot.base.builder.ConfigWebScraperBuilder]\r\n\r\nUsually with an error like this, i would look for missing @ApplicationScoped annotations or such indicating that injected dependency cannot be resolved. However, what is weird here is that it is saying that `java.lang.String` is the unsatisfied dependency - how is that possible? As i said before, i use the @ConfigProperty annotiation in other places perfectly fine for other basic Java data class types like Long etc. (e.g. for &quot;bot.id&quot; property).\r\n\r\nHere is the application.properties:\r\n\r\n    bot.id = 1\r\n    bot.webscraper.className = Test\r\n\r\nHere is the class where the error is raised from (i made the `webScraperClassName` field not private final because i wanted to see whether this is causing injection issues here):\r\n\r\n    @ApplicationScoped\r\n    public class ConfigWebScraperBuilder {\r\n        @ConfigProperty(name = &quot;bot.webscraper.className&quot;)\r\n        String webScraperClassName;\r\n\r\n        public ConfigWebScraperBuilder(String webScraperClassName) {\r\n            this.webScraperClassName = webScraperClassName;\r\n        }\r\n\r\n        public WebScraper buildWebScraperFromConfig() throws Exception {\r\n            Class&lt;?&gt; clazz = Class.forName(webScraperClassName);\r\n            Constructor&lt;?&gt; constructor = clazz.getConstructor(ParserAdapter.class);\r\n            return (WebScraper) constructor.newInstance(new Object[] { new ParserAdapter() });\r\n        }\r\n    }\r\n\r\nEdit: The `@ConfigProperty` annotation is imported from `org.eclipse.microprofile.config.inject.ConfigProperty` and the same one used in other locations where the injection works perfectly fine.","title":"UnsatisfiedResolutionException: Unsatisfied dependency for type java.lang.String and qualifiers [@Default]","body":"<p>I have a very curious dependency injection resolve error during compile time. I have a property in application.properties, which i inject via the @ConfigProperty annotation in a Quarkus project. I have multiple @ConfigProperty injections in the project, none of which cause an issue except one. When i compile the project, i get the following maven error:</p>\n<blockquote>\n<p>javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type java.lang.String and qualifiers [@Default]</p>\n</blockquote>\n<p>To give more details, it states specifically which member is the issue:</p>\n<blockquote>\n<p>java member: com.webscraper.bot.base.builder.ConfigWebScraperBuilder():webScraperClassName\n[ERROR]         - declared on CLASS bean [types=[com.webscraper.bot.base.builder.ConfigWebScraperBuilder, java.lang.Object], qualifiers=[@Default, @Any], target=com.webscraper.bot.base.builder.ConfigWebScraperBuilder]</p>\n</blockquote>\n<p>Usually with an error like this, i would look for missing @ApplicationScoped annotations or such indicating that injected dependency cannot be resolved. However, what is weird here is that it is saying that <code>java.lang.String</code> is the unsatisfied dependency - how is that possible? As i said before, i use the @ConfigProperty annotiation in other places perfectly fine for other basic Java data class types like Long etc. (e.g. for &quot;bot.id&quot; property).</p>\n<p>Here is the application.properties:</p>\n<pre><code>bot.id = 1\nbot.webscraper.className = Test\n</code></pre>\n<p>Here is the class where the error is raised from (i made the <code>webScraperClassName</code> field not private final because i wanted to see whether this is causing injection issues here):</p>\n<pre><code>@ApplicationScoped\npublic class ConfigWebScraperBuilder {\n    @ConfigProperty(name = &quot;bot.webscraper.className&quot;)\n    String webScraperClassName;\n\n    public ConfigWebScraperBuilder(String webScraperClassName) {\n        this.webScraperClassName = webScraperClassName;\n    }\n\n    public WebScraper buildWebScraperFromConfig() throws Exception {\n        Class&lt;?&gt; clazz = Class.forName(webScraperClassName);\n        Constructor&lt;?&gt; constructor = clazz.getConstructor(ParserAdapter.class);\n        return (WebScraper) constructor.newInstance(new Object[] { new ParserAdapter() });\n    }\n}\n</code></pre>\n<p>Edit: The <code>@ConfigProperty</code> annotation is imported from <code>org.eclipse.microprofile.config.inject.ConfigProperty</code> and the same one used in other locations where the injection works perfectly fine.</p>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"score":0,"creation_date":1672284482,"post_id":74942417,"comment_id":132258720,"body_markdown":"The question is not clear. Can you please rephrase the problem you wan to solve?","body":"The question is not clear. Can you please rephrase the problem you wan to solve?"},{"owner":{"account_id":19734683,"reputation":13,"user_id":14449446,"display_name":"Michał Szostek"},"score":0,"creation_date":1672395028,"post_id":74942417,"comment_id":132281404,"body_markdown":"I updated the question. Hope this clarify my problem","body":"I updated the question. Hope this clarify my problem"},{"owner":{"account_id":5449795,"reputation":2687,"user_id":6352160,"accept_rate":75,"display_name":"Shankar"},"score":0,"creation_date":1672449370,"post_id":74942417,"comment_id":132293207,"body_markdown":"Can you increase the TumblingProcessingTimeWindows time interval to a higher value, like 3 minutes? this would make the same key updated only once every 3 minutes, which can help reduce multiple updates for the same key.","body":"Can you increase the TumblingProcessingTimeWindows time interval to a higher value, like 3 minutes? this would make the same key updated only once every 3 minutes, which can help reduce multiple updates for the same key."}],"answers":[{"tags":[],"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672420673,"creation_date":1672420673,"answer_id":74964143,"question_id":74942417,"body_markdown":"If your DB operation could take 3 minutes, you don&#39;t want to use a regular JDBC sink. Instead, look at Flink&#39;s [Async IO][1] support. You&#39;d want to `keyBy(id)`, and then inside of your custom `RichAsyncFunction` operator you can keep track of whether you&#39;ve got an active DB request for a given id.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/asyncio/","title":"Flink block process event with the same id at the same time","body":"<p>If your DB operation could take 3 minutes, you don't want to use a regular JDBC sink. Instead, look at Flink's <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/asyncio/\" rel=\"nofollow noreferrer\">Async IO</a> support. You'd want to <code>keyBy(id)</code>, and then inside of your custom <code>RichAsyncFunction</code> operator you can keep track of whether you've got an active DB request for a given id.</p>\n"}],"owner":{"account_id":19734683,"reputation":13,"user_id":14449446,"display_name":"Michał Szostek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74964143,"answer_count":1,"score":0,"last_activity_date":1672420673,"creation_date":1672243509,"question_id":74942417,"body_markdown":"I have a flink application that process stream of data and write some result to database. The stream is keyd by id. A database operation could take o quite of time (e.g 3 min) and can be only one operation for specified id key to protect against locks. At this moment, this sink operation could not be process with paralell and have to be set parallelism to 1.\r\n\r\n```\r\nprocess\r\n        .keyBy(new ProductKeySelector())\r\n        .addSink(new ProductSink())\r\n        .setParallelism(1)\r\n```\r\n\r\n\r\n\r\nI want to lock stream with actual processing id event and take another, out of order, and wait until same id end process then run process to it. It&#39;s will be process like blocking queue.\r\n\r\n\r\nUpdate: \r\n\r\nexample: \r\n\r\n    kafkaKeyedStream\r\n                .map(new MapToProductType())\r\n                .keyBy(new ProductKeySelector())\r\n                .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\r\n                .reduce(new ProductAggregateFunction())\r\n                .addSink(new ProductSink());\r\n\r\n\r\nFrom Kafka Source i recieved data: \r\n\r\n[enter image description here][1]\r\n\r\nAs you can see, data are grouped by window function (first value in data is the key) and te results are process by sink function. For this example, let&#39;s say that processing will take 20s per each part of data. So if i have 1 thread its not a problem, because the next data waiting for process, but if i set parallelism= 2 then first part of data will be still process by one thread, and after 10s anoter thread start process next part of data with the same key as first. And this create a lock on database.\r\n\r\n\r\nI would like in a situation where one thread is already processing data under a specific key,\r\nthe second thread did not take data on the same key, and took either a different one or did nothing if there is nothing else\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6B1Nf.png","title":"Flink block process event with the same id at the same time","body":"<p>I have a flink application that process stream of data and write some result to database. The stream is keyd by id. A database operation could take o quite of time (e.g 3 min) and can be only one operation for specified id key to protect against locks. At this moment, this sink operation could not be process with paralell and have to be set parallelism to 1.</p>\n<pre><code>process\n        .keyBy(new ProductKeySelector())\n        .addSink(new ProductSink())\n        .setParallelism(1)\n</code></pre>\n<p>I want to lock stream with actual processing id event and take another, out of order, and wait until same id end process then run process to it. It's will be process like blocking queue.</p>\n<p>Update:</p>\n<p>example:</p>\n<pre><code>kafkaKeyedStream\n            .map(new MapToProductType())\n            .keyBy(new ProductKeySelector())\n            .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\n            .reduce(new ProductAggregateFunction())\n            .addSink(new ProductSink());\n</code></pre>\n<p>From Kafka Source i recieved data:</p>\n<p><a href=\"https://i.stack.imgur.com/6B1Nf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>As you can see, data are grouped by window function (first value in data is the key) and te results are process by sink function. For this example, let's say that processing will take 20s per each part of data. So if i have 1 thread its not a problem, because the next data waiting for process, but if i set parallelism= 2 then first part of data will be still process by one thread, and after 10s anoter thread start process next part of data with the same key as first. And this create a lock on database.</p>\n<p>I would like in a situation where one thread is already processing data under a specific key,\nthe second thread did not take data on the same key, and took either a different one or did nothing if there is nothing else</p>\n"},{"tags":["java","tomcat","jsx"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672428195,"post_id":74963591,"comment_id":132289627,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74963591/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":18564880,"reputation":33,"user_id":13528072,"display_name":"Massimo Tonini"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672416773,"creation_date":1672416773,"answer_id":74963591,"question_id":74963186,"body_markdown":"Resolved thank you I discovered there was a localhost log file and I found was missing a class.\r\n","title":"How to resolve Tomcat 9 not starting with Mojarra error","body":"<p>Resolved thank you I discovered there was a localhost log file and I found was missing a class.</p>\n"}],"owner":{"account_id":18564880,"reputation":33,"user_id":13528072,"display_name":"Massimo Tonini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672420600,"creation_date":1672414144,"question_id":74963186,"body_markdown":"I&#39;m porting a Tomcat 6 app to Tomcat 9 I receive this error starting Tomcat:\r\n\r\n\r\n```none\r\n30-Dec-2022 15:22:16.039 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra (1.2_12-b01-FCS) for context &#39;/ordini&#39;\r\n\r\nSEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\nSEVERE [main] org.apache.catalina.core.StandardContext.startInternal Context [/ordini] startup failed due to previous errors\r\n30-Dec-2022 15:22:17.679 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [C:\\smiweb\\tomcat-9.0.70\\conf\\Catalina\\localhost\\ordini.xml] has finished in [5,828] ms\r\n30-Dec-2022 15:22:17.679 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [C:\\smiweb\\tomcat-9.0.70\\conf\\Catalina\\localhost\\ROOT.xml]\r\n30-Dec-2022 15:22:17.679 WARNING [main] org.apache.catalina.startup.HostConfig.deployDescriptor The path attribute with value [] in deployment descriptor [C:\\smiweb\\tomcat-9.0.70\\conf\\Catalina\\localhost\\ROOT.xml] has been ignored\r\n30-Dec-2022 15:22:17.679 WARNING [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [C:\\smiweb\\tomcat-9.0.70\\conf\\Catalina\\localhost\\ROOT.xml] with an external docBase means the directory [C:\\smiweb\\tomcat-9.0.70\\webapps\\ROOT] in the appBase will be ignored\r\n30-Dec-2022 15:22:20.711 WARNING [main] org.apache.catalina.startup.ContextConfig.validateSecurityRoles Security role name [smi] used in an &lt;auth-constraint&gt; without being defined in a &lt;security-role&gt;\r\n30-Dec-2022 15:22:20.929 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n30-Dec-2022 15:22:20.992 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra (1.2_12-b01-FCS) for context &#39;&#39;\r\n30-Dec-2022 15:22:20.992 WARNING [main] com.sun.faces.config.ConfigureListener.contextInitialized JSF1059: WARNING!  The com.sun.faces.verifyObjects feature is to aid developers not using tools.  It shouldn&#39;&#39;t be enabled if using an IDE, or if this application is being deployed for production as it will impact application start times.\r\n30-Dec-2022 15:22:21.586 INFO [main] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\r\n30-Dec-2022 15:22:22.148 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n```\r\n\r\n","title":"How to resolve Tomcat 9 not starting with Mojarra error","body":"<p>I'm porting a Tomcat 6 app to Tomcat 9 I receive this error starting Tomcat:</p>\n<pre class=\"lang-none prettyprint-override\"><code>30-Dec-2022 15:22:16.039 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra (1.2_12-b01-FCS) for context '/ordini'\n\nSEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\nSEVERE [main] org.apache.catalina.core.StandardContext.startInternal Context [/ordini] startup failed due to previous errors\n30-Dec-2022 15:22:17.679 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [C:\\smiweb\\tomcat-9.0.70\\conf\\Catalina\\localhost\\ordini.xml] has finished in [5,828] ms\n30-Dec-2022 15:22:17.679 INFO [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deploying deployment descriptor [C:\\smiweb\\tomcat-9.0.70\\conf\\Catalina\\localhost\\ROOT.xml]\n30-Dec-2022 15:22:17.679 WARNING [main] org.apache.catalina.startup.HostConfig.deployDescriptor The path attribute with value [] in deployment descriptor [C:\\smiweb\\tomcat-9.0.70\\conf\\Catalina\\localhost\\ROOT.xml] has been ignored\n30-Dec-2022 15:22:17.679 WARNING [main] org.apache.catalina.startup.HostConfig.deployDescriptor Deployment of deployment descriptor [C:\\smiweb\\tomcat-9.0.70\\conf\\Catalina\\localhost\\ROOT.xml] with an external docBase means the directory [C:\\smiweb\\tomcat-9.0.70\\webapps\\ROOT] in the appBase will be ignored\n30-Dec-2022 15:22:20.711 WARNING [main] org.apache.catalina.startup.ContextConfig.validateSecurityRoles Security role name [smi] used in an &lt;auth-constraint&gt; without being defined in a &lt;security-role&gt;\n30-Dec-2022 15:22:20.929 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n30-Dec-2022 15:22:20.992 INFO [main] com.sun.faces.config.ConfigureListener.contextInitialized Initializing Mojarra (1.2_12-b01-FCS) for context ''\n30-Dec-2022 15:22:20.992 WARNING [main] com.sun.faces.config.ConfigureListener.contextInitialized JSF1059: WARNING!  The com.sun.faces.verifyObjects feature is to aid developers not using tools.  It shouldn''t be enabled if using an IDE, or if this application is being deployed for production as it will impact application start times.\n30-Dec-2022 15:22:21.586 INFO [main] com.sun.faces.spi.InjectionProviderFactory.createInstance JSF1048: PostConstruct/PreDestroy annotations present.  ManagedBeans methods marked with these annotations will have said annotations processed.\n30-Dec-2022 15:22:22.148 SEVERE [main] org.apache.catalina.core.StandardContext.startInternal One or more listeners failed to start. Full details will be found in the appropriate container log file\n</code></pre>\n"},{"tags":["java","servlets","web.xml"],"comments":[{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1672422882,"post_id":74964081,"comment_id":132288448,"body_markdown":"How do you run your project? Is it a Spring Boot app. Do you use maven?\nWhy do you call &quot;balance&quot; endpoint? Where is &quot;balance&quot; defined as a route or endpoint?","body":"How do you run your project? Is it a Spring Boot app. Do you use maven? Why do you call &quot;balance&quot; endpoint? Where is &quot;balance&quot; defined as a route or endpoint?"},{"owner":{"account_id":24468617,"reputation":1,"user_id":18388651,"display_name":"Lim Nabong"},"score":0,"creation_date":1672440407,"post_id":74964081,"comment_id":132291963,"body_markdown":"No, it is a java EE application and I run it with apache tomcat. It is a dynamic web module project. Did I still need maven dependencies for that?","body":"No, it is a java EE application and I run it with apache tomcat. It is a dynamic web module project. Did I still need maven dependencies for that?"},{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1672489328,"post_id":74964081,"comment_id":132297567,"body_markdown":"You could also check your web browsers Developer Tools, to check what is going on when you call this /balance endpoint. Network and console tabs might be helpful. \nAre you sure you output anything on /balance?","body":"You could also check your web browsers Developer Tools, to check what is going on when you call this /balance endpoint. Network and console tabs might be helpful.  Are you sure you output anything on /balance?"}],"owner":{"account_id":24468617,"reputation":1,"user_id":18388651,"display_name":"Lim Nabong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672420226,"creation_date":1672420226,"question_id":74964081,"body_markdown":"I have a project named balance and this is webservlet annotation of &quot;Security.java&quot; file.\r\nThis is my webservlet.\r\n\r\n```\r\n@WebServlet({\r\n\t&quot;/login&quot;,\r\n\t&quot;/logout&quot;\r\n})\r\n```\r\nand this is my welcome file.\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:web=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd http://xmlns.jcp.org/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;5.0&quot;&gt;\r\n  &lt;display-name&gt;balance&lt;/display-name&gt;\r\n  \t&lt;welcome-file-list&gt;\r\n  \t\t&lt;welcome-file&gt;login&lt;/welcome-file&gt;\r\n  \t&lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nbut they are not connected.Everytime i run on server &quot;localhost/8080/balance/&quot; nothing show. I hope you all have good tips for me.\r\n\r\nI want them to connect and execute the code.But nothing happens even error is not happens and just show nothing but white screen is annoyed.","title":"@Webservlet annotation and web.xml welcome file","body":"<p>I have a project named balance and this is webservlet annotation of &quot;Security.java&quot; file.\nThis is my webservlet.</p>\n<pre><code>@WebServlet({\n    &quot;/login&quot;,\n    &quot;/logout&quot;\n})\n</code></pre>\n<p>and this is my welcome file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:web=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd http://xmlns.jcp.org/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;5.0&quot;&gt;\n  &lt;display-name&gt;balance&lt;/display-name&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;login&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>but they are not connected.Everytime i run on server &quot;localhost/8080/balance/&quot; nothing show. I hope you all have good tips for me.</p>\n<p>I want them to connect and execute the code.But nothing happens even error is not happens and just show nothing but white screen is annoyed.</p>\n"},{"tags":["java","python","aws-lambda"],"comments":[{"owner":{"account_id":378,"reputation":513192,"user_id":476,"accept_rate":70,"display_name":"deceze"},"score":0,"creation_date":1526400344,"post_id":50354628,"comment_id":87725633,"body_markdown":"Does `embulk` have any requirements, like an installed Java environment? Then this probably won&#39;t work on a *Python lambda*. You can typically run any executable which can run on a plain Linux distribution without additional dependencies. There are separate Lambda environments for Java…","body":"Does <code>embulk</code> have any requirements, like an installed Java environment? Then this probably won&#39;t work on a <i>Python lambda</i>. You can typically run any executable which can run on a plain Linux distribution without additional dependencies. There are separate Lambda environments for Java…"},{"owner":{"account_id":8042021,"reputation":45,"user_id":6063437,"display_name":"Jo Geo"},"score":0,"creation_date":1526404704,"post_id":50354628,"comment_id":87728151,"body_markdown":"The AMI environment has got standard Java installed. However, it does not have embulk installed.","body":"The AMI environment has got standard Java installed. However, it does not have embulk installed."},{"owner":{"account_id":378,"reputation":513192,"user_id":476,"accept_rate":70,"display_name":"deceze"},"score":2,"creation_date":1526406954,"post_id":50354628,"comment_id":87729368,"body_markdown":"Soooo… https://stackoverflow.com/q/45101513/476","body":"Soooo… <a href=\"https://stackoverflow.com/q/45101513/476\">stackoverflow.com/q/45101513/476</a>"}],"answers":[{"tags":[],"owner":{"account_id":1692258,"reputation":26916,"user_id":1554386,"accept_rate":71,"display_name":"Alastair McCormack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554804325,"creation_date":1554804325,"answer_id":55590205,"question_id":50354628,"body_markdown":"To get Java running in a Python Lambda environment will require you to package the whole JDK with your Lambda code. You&#39;ll have to make sure it matches exactly to AWS&#39; x86 Linux distro they use.\r\n\r\nThe better approach is to implement your code entirely in Java. Create your own Java Lambda class that invokes Embulk&#39;s existing main class.\r\n\r\nIf you&#39;re not comfortable with Java, you could write a small amount of Java to implement the Lambda Handler, which then invokes a Jython script (Python-in-Java), which then invokes the main method of Embulk.\r\n\r\nAs a Python developer, you ought to find Java relatively easy to understand if you&#39;re already using Object Oriented Python.","title":"Custom software in AWS Lambda Environment","body":"<p>To get Java running in a Python Lambda environment will require you to package the whole JDK with your Lambda code. You'll have to make sure it matches exactly to AWS' x86 Linux distro they use.</p>\n\n<p>The better approach is to implement your code entirely in Java. Create your own Java Lambda class that invokes Embulk's existing main class.</p>\n\n<p>If you're not comfortable with Java, you could write a small amount of Java to implement the Lambda Handler, which then invokes a Jython script (Python-in-Java), which then invokes the main method of Embulk.</p>\n\n<p>As a Python developer, you ought to find Java relatively easy to understand if you're already using Object Oriented Python.</p>\n"}],"owner":{"account_id":8042021,"reputation":45,"user_id":6063437,"display_name":"Jo Geo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672420176,"creation_date":1526400091,"question_id":50354628,"body_markdown":"I want to run a Python wrapper in AWS Lambda. The Python wrapper needs to call an external program through command line. I use Python subprocess package to call the external program. The program called is `embulk` - a java application used for bulk transfer. (http://www.embulk.org/docs/)\r\n\r\nOn my local Mac, I have `embulk` installed and the Python wrapper successfully calls `embulk` to move Amazon S3 data to our cloud data warehouse (on TreasureData). For this Python wrapper to work on Lambda, I somehow need to get `embulk` installed in the AWS Lambda Environment. Is it possible to do that? Or do I need to buy an EC2 instance to get this working?","title":"Custom software in AWS Lambda Environment","body":"<p>I want to run a Python wrapper in AWS Lambda. The Python wrapper needs to call an external program through command line. I use Python subprocess package to call the external program. The program called is <code>embulk</code> - a java application used for bulk transfer. (<a href=\"http://www.embulk.org/docs/\" rel=\"nofollow noreferrer\">http://www.embulk.org/docs/</a>)</p>\n\n<p>On my local Mac, I have <code>embulk</code> installed and the Python wrapper successfully calls <code>embulk</code> to move Amazon S3 data to our cloud data warehouse (on TreasureData). For this Python wrapper to work on Lambda, I somehow need to get <code>embulk</code> installed in the AWS Lambda Environment. Is it possible to do that? Or do I need to buy an EC2 instance to get this working?</p>\n"},{"tags":["java","android","google-maps","google-geocoder","android-gps"],"owner":{"account_id":26035811,"reputation":17,"user_id":19741271,"display_name":"Timow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672419957,"creation_date":1672417554,"question_id":74963703,"body_markdown":"I am using Geocoder to get the address line and city of the location based coordinates get. I successfully extracted the coordinates latitude and longitude and when displayed on a map, it is accurate, however the problem is, the address line on geocoder is sometimes way off compared to the latitude and longitude(which is accurate, since I have tested it on a map). The address line shows the location on the next street, which is incorrect. I dont understand why it does that since, I am getting its location based on the accurate latitude and longitude. \r\n\r\n\r\nSometimes the location gives random letters and numbers plus the street name, city and so on, like this(H4WM+Q5G, Strawberry Ln, City Name, Province Name, Country Name), which is preferable since the street is correct, compared to the innacurate location like for example (#45 Avocado Drive, City Name, Province name, country name) wherein the correct address is located in a different street name usually the street beside it.\r\n\r\nOverall it varies from location to location, I&#39;ve done testing on different places, sometimes it works out fine, but sometimes its innacurate.\r\n\r\nThis is my code: \r\n\r\n    private void getCurrentLocation() {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            if (ActivityCompat.checkSelfPermission(SendReport.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n                if (isGPSEnabled()) {\r\n                    LocationServices.getFusedLocationProviderClient(SendReport.this)\r\n                            .requestLocationUpdates(locationRequest, new LocationCallback() {\r\n                                @Override\r\n                                public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                                    super.onLocationResult(locationResult);\r\n\r\n                                    LocationServices.getFusedLocationProviderClient(SendReport.this)\r\n                                            .removeLocationUpdates(this);\r\n\r\n                                    if (locationResult != null &amp;&amp; locationResult.getLocations().size() &gt;0){\r\n\r\n                                        int index = locationResult.getLocations().size() - 1;\r\n                                        double latitude = locationResult.getLocations().get(index).getLatitude();\r\n                                        double longitude = locationResult.getLocations().get(index).getLongitude();\r\n\r\n                                        Geocoder geocoder = new Geocoder(SendReport.this, Locale.getDefault());\r\n                                        List&lt;Address&gt; addresses = null;\r\n                                        try {\r\n                                            addresses = geocoder.getFromLocation(latitude, longitude, 1);\r\n                                        } catch (IOException e) {\r\n                                            e.printStackTrace();\r\n                                        }\r\n\r\n                                        textViewAdd.setText(addresses.get(0).getAddressLine(0));\r\n                                        textViewCity.setText(addresses.get(0).getLocality());\r\n                                        textViewLatt.setText(&quot; &quot;+ latitude);\r\n                                        textViewLong.setText(&quot; &quot;+ longitude);\r\n                                    }\r\n                                }\r\n                            }, Looper.getMainLooper());\r\n\r\n                } else {\r\n                    turnOnGPS();\r\n                }\r\n\r\n            } else {\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Android Java Geocoder address line not same with coordinates latitude and longitude","body":"<p>I am using Geocoder to get the address line and city of the location based coordinates get. I successfully extracted the coordinates latitude and longitude and when displayed on a map, it is accurate, however the problem is, the address line on geocoder is sometimes way off compared to the latitude and longitude(which is accurate, since I have tested it on a map). The address line shows the location on the next street, which is incorrect. I dont understand why it does that since, I am getting its location based on the accurate latitude and longitude.</p>\n<p>Sometimes the location gives random letters and numbers plus the street name, city and so on, like this(H4WM+Q5G, Strawberry Ln, City Name, Province Name, Country Name), which is preferable since the street is correct, compared to the innacurate location like for example (#45 Avocado Drive, City Name, Province name, country name) wherein the correct address is located in a different street name usually the street beside it.</p>\n<p>Overall it varies from location to location, I've done testing on different places, sometimes it works out fine, but sometimes its innacurate.</p>\n<p>This is my code:</p>\n<pre><code>private void getCurrentLocation() {\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n        if (ActivityCompat.checkSelfPermission(SendReport.this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n\n            if (isGPSEnabled()) {\n                LocationServices.getFusedLocationProviderClient(SendReport.this)\n                        .requestLocationUpdates(locationRequest, new LocationCallback() {\n                            @Override\n                            public void onLocationResult(@NonNull LocationResult locationResult) {\n                                super.onLocationResult(locationResult);\n\n                                LocationServices.getFusedLocationProviderClient(SendReport.this)\n                                        .removeLocationUpdates(this);\n\n                                if (locationResult != null &amp;&amp; locationResult.getLocations().size() &gt;0){\n\n                                    int index = locationResult.getLocations().size() - 1;\n                                    double latitude = locationResult.getLocations().get(index).getLatitude();\n                                    double longitude = locationResult.getLocations().get(index).getLongitude();\n\n                                    Geocoder geocoder = new Geocoder(SendReport.this, Locale.getDefault());\n                                    List&lt;Address&gt; addresses = null;\n                                    try {\n                                        addresses = geocoder.getFromLocation(latitude, longitude, 1);\n                                    } catch (IOException e) {\n                                        e.printStackTrace();\n                                    }\n\n                                    textViewAdd.setText(addresses.get(0).getAddressLine(0));\n                                    textViewCity.setText(addresses.get(0).getLocality());\n                                    textViewLatt.setText(&quot; &quot;+ latitude);\n                                    textViewLong.setText(&quot; &quot;+ longitude);\n                                }\n                            }\n                        }, Looper.getMainLooper());\n\n            } else {\n                turnOnGPS();\n            }\n\n        } else {\n            requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, 1);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","comparator","comparable"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1672417139,"post_id":74963629,"comment_id":132286984,"body_markdown":"Note that `thenComparing` returns a new comparator and does not change the existing one.","body":"Note that <code>thenComparing</code> returns a new comparator and does not change the existing one."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1672417312,"post_id":74963629,"comment_id":132287034,"body_markdown":"You&#39;re exactly right.  That fixed it.  Make this an answer and I&#39;ll accept it","body":"You&#39;re exactly right.  That fixed it.  Make this an answer and I&#39;ll accept it"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1672417586,"post_id":74963629,"comment_id":132287106,"body_markdown":"You are allowed to [answer your own question](https://stackoverflow.com/help/self-answer).","body":"You are allowed to <a href=\"https://stackoverflow.com/help/self-answer\">answer your own question</a>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1672421626,"post_id":74963629,"comment_id":132288179,"body_markdown":"As was stated in the answer, `Comparator` is a `generic` interface.   I presume that your types are all strings.  Which means than numbers will be sorted in lexical, not numeric order.  Just wanted point that out if it were to be a problem.","body":"As was stated in the answer, <code>Comparator</code> is a <code>generic</code> interface.   I presume that your types are all strings.  Which means than numbers will be sorted in lexical, not numeric order.  Just wanted point that out if it were to be a problem."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672419645,"creation_date":1672419067,"answer_id":74963928,"question_id":74963629,"body_markdown":"And as *@dan1st* has pointed out in the comments, you&#39;re not storing the result generated by the invocation of `Comparator.thenComparing()`.\r\n\r\nAlso, note `Comparable` interface is generic, and you&#39;re using a Comparable of row type in your method. \r\n\r\nYour method can be reimplemented in the following way:\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void\r\n    sort(List&lt;List&lt;T&gt;&gt; data, int... sortColumns) {\r\n        \r\n        Comparator&lt;List&lt;T&gt;&gt; comparator = Arrays.stream(sortColumns)\r\n            .mapToObj(i -&gt; Comparator.&lt;List&lt;T&gt;, T&gt;comparing(list -&gt; list.get(i)))\r\n            .reduce(Comparator::thenComparing)\r\n            .orElseThrow();\r\n        \r\n        data.sort(comparator);\r\n    }","title":"Creating generic comparator for List&lt;List&lt;Comparable&gt;&gt;","body":"<p>And as <em>@dan1st</em> has pointed out in the comments, you're not storing the result generated by the invocation of <code>Comparator.thenComparing()</code>.</p>\n<p>Also, note <code>Comparable</code> interface is generic, and you're using a Comparable of row type in your method.</p>\n<p>Your method can be reimplemented in the following way:</p>\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; void\nsort(List&lt;List&lt;T&gt;&gt; data, int... sortColumns) {\n    \n    Comparator&lt;List&lt;T&gt;&gt; comparator = Arrays.stream(sortColumns)\n        .mapToObj(i -&gt; Comparator.&lt;List&lt;T&gt;, T&gt;comparing(list -&gt; list.get(i)))\n        .reduce(Comparator::thenComparing)\n        .orElseThrow();\n    \n    data.sort(comparator);\n}\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74963928,"answer_count":1,"score":1,"last_activity_date":1672419645,"creation_date":1672417030,"question_id":74963629,"body_markdown":"I&#39;m trying to create a generic comparator for a `List&lt;List&lt;Comparable&gt;&gt;` which can sort on multiple fields.  The structure represents a List of rows and within each row, I want to sort on multiple columns. \r\n\r\nI have this\r\n```\r\n    public static void sort(List&lt;List&lt;Comparable&gt;&gt; data, int... sortColumns) {\r\n        System.out.println(&quot;Sorting on columns &quot; + Arrays.toString(sortColumns));\r\n        Comparator&lt;List&lt;Comparable&gt;&gt; comparator = null;\r\n\r\n        for (int i : sortColumns) {\r\n            final Comparator&lt;List&lt;Comparable&gt;&gt; listComparator = (o1, o2) -&gt; o1.get(i).compareTo(o2.get(i));\r\n            if (comparator == null) {\r\n                comparator = listComparator;\r\n            } else {\r\n               comparator.thenComparing(listComparator) ;\r\n            }\r\n        }\r\n        data.sort(comparator);\r\n    }\r\n```\r\nBut it only seems to work on the first sort field, not multiple fields.\r\n\r\nFor example, this is correctly sorted on column 0, but not column 1\r\n```\r\n[[4, foo], [5, baz], [5, barf], [1, zed], [6, fizz], [2, baz], [1, baz]]\r\nSorting on columns [0, 1]\r\n[[1, zed], [1, baz], [2, baz], [4, foo], [5, baz], [5, barf], [6, fizz]]\r\n```\r\n\r\nHere again, it correctly sorts on column 1, but not column 0\r\n```\r\n[[4, foo], [5, baz], [5, barf], [1, zed], [6, fizz], [2, baz], [1, baz]]\r\nSorting on columns [1, 0]\r\n[[5, barf], [5, baz], [2, baz], [1, baz], [6, fizz], [4, foo], [1, zed]]\r\n```\r\n\r\nAm I doing something wrong in constructing the comparator?  Particularly, the use of `thenComparing`\r\n\r\n## Update\r\nThe problem is that `thenComparing` doesn&#39;t change the existing comparator but returns a new one.  I changed the line in the else to `comparator = comparator.thenComparing(listComparator);` and it worked","title":"Creating generic comparator for List&lt;List&lt;Comparable&gt;&gt;","body":"<p>I'm trying to create a generic comparator for a <code>List&lt;List&lt;Comparable&gt;&gt;</code> which can sort on multiple fields.  The structure represents a List of rows and within each row, I want to sort on multiple columns.</p>\n<p>I have this</p>\n<pre><code>    public static void sort(List&lt;List&lt;Comparable&gt;&gt; data, int... sortColumns) {\n        System.out.println(&quot;Sorting on columns &quot; + Arrays.toString(sortColumns));\n        Comparator&lt;List&lt;Comparable&gt;&gt; comparator = null;\n\n        for (int i : sortColumns) {\n            final Comparator&lt;List&lt;Comparable&gt;&gt; listComparator = (o1, o2) -&gt; o1.get(i).compareTo(o2.get(i));\n            if (comparator == null) {\n                comparator = listComparator;\n            } else {\n               comparator.thenComparing(listComparator) ;\n            }\n        }\n        data.sort(comparator);\n    }\n</code></pre>\n<p>But it only seems to work on the first sort field, not multiple fields.</p>\n<p>For example, this is correctly sorted on column 0, but not column 1</p>\n<pre><code>[[4, foo], [5, baz], [5, barf], [1, zed], [6, fizz], [2, baz], [1, baz]]\nSorting on columns [0, 1]\n[[1, zed], [1, baz], [2, baz], [4, foo], [5, baz], [5, barf], [6, fizz]]\n</code></pre>\n<p>Here again, it correctly sorts on column 1, but not column 0</p>\n<pre><code>[[4, foo], [5, baz], [5, barf], [1, zed], [6, fizz], [2, baz], [1, baz]]\nSorting on columns [1, 0]\n[[5, barf], [5, baz], [2, baz], [1, baz], [6, fizz], [4, foo], [1, zed]]\n</code></pre>\n<p>Am I doing something wrong in constructing the comparator?  Particularly, the use of <code>thenComparing</code></p>\n<h2>Update</h2>\n<p>The problem is that <code>thenComparing</code> doesn't change the existing comparator but returns a new one.  I changed the line in the else to <code>comparator = comparator.thenComparing(listComparator);</code> and it worked</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1672419958,"post_id":74963992,"comment_id":132287741,"body_markdown":"Cam you share the failure?","body":"Cam you share the failure?"},{"owner":{"account_id":19164369,"reputation":21,"user_id":13999442,"display_name":"Starlove"},"score":0,"creation_date":1672420874,"post_id":74963992,"comment_id":132287995,"body_markdown":"Well i have added the link to my solution you can check it out, the checker log comment is the failure it seems.","body":"Well i have added the link to my solution you can check it out, the checker log comment is the failure it seems."}],"owner":{"account_id":19164369,"reputation":21,"user_id":13999442,"display_name":"Starlove"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672419636,"creation_date":1672419636,"question_id":74963992,"body_markdown":"Cant seem to understand checkerlog&#39;s(image attached) comment. \r\n\r\nThe output of the following code matches test cases expected output in **IDE** but fails test case 2.\r\n\r\n[Link to problem][1]\r\n\r\n[Link to submitted solution][2]\r\n\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Scanner;\r\n\r\n    public class Whiteboard {\r\n    public static long whiteboard(int[] a, int[] b) {\r\n        Arrays.sort(a);\r\n        Arrays.sort(b);\r\n        int k = b.length - 1;\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            if (k &gt;= 0) a[i] = b[k--];\r\n        }\r\n        long sum = 0;\r\n        for (long j : a) {\r\n            sum += j;\r\n        }\r\n        return sum;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner s = new Scanner(System.in);\r\n        int n = s.nextInt();\r\n        while (n-- &gt; 0) {\r\n            int a = s.nextInt();\r\n            int b = s.nextInt();\r\n            int[] whiteboardA = new int[a];\r\n            int[] whiteboardB = new int[b];\r\n            int p = 0;\r\n            int q = 0;\r\n            while (a-- &gt; 0) {\r\n                whiteboardA[p++] = s.nextInt();\r\n            }\r\n            while (b-- &gt; 0) {\r\n                whiteboardB[q++] = s.nextInt();\r\n            }\r\n            System.out.println(whiteboard(whiteboardA, whiteboardB));\r\n        }\r\n    }\r\n}\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://codeforces.com/contest/1770/problem/A\r\n  [2]: https://codeforces.com/contest/1770/submission/187353465\r\n  [3]: https://i.stack.imgur.com/2WZc2.jpg","title":"Cant understand checkerlog&#39;s(image attached) comment","body":"<p>Cant seem to understand checkerlog's(image attached) comment.</p>\n<p>The output of the following code matches test cases expected output in <strong>IDE</strong> but fails test case 2.</p>\n<p><a href=\"https://codeforces.com/contest/1770/problem/A\" rel=\"nofollow noreferrer\">Link to problem</a></p>\n<p><a href=\"https://codeforces.com/contest/1770/submission/187353465\" rel=\"nofollow noreferrer\">Link to submitted solution</a></p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Whiteboard {\npublic static long whiteboard(int[] a, int[] b) {\n    Arrays.sort(a);\n    Arrays.sort(b);\n    int k = b.length - 1;\n    for (int i = 0; i &lt; a.length; i++) {\n        if (k &gt;= 0) a[i] = b[k--];\n    }\n    long sum = 0;\n    for (long j : a) {\n        sum += j;\n    }\n    return sum;\n}\n\npublic static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    int n = s.nextInt();\n    while (n-- &gt; 0) {\n        int a = s.nextInt();\n        int b = s.nextInt();\n        int[] whiteboardA = new int[a];\n        int[] whiteboardB = new int[b];\n        int p = 0;\n        int q = 0;\n        while (a-- &gt; 0) {\n            whiteboardA[p++] = s.nextInt();\n        }\n        while (b-- &gt; 0) {\n            whiteboardB[q++] = s.nextInt();\n        }\n        System.out.println(whiteboard(whiteboardA, whiteboardB));\n    }\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/2WZc2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2WZc2.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","jackson","internationalization","quarkus"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1672411797,"post_id":74961681,"comment_id":132285538,"body_markdown":"I&#39;d convert the `Content` object to a DTO with all translations filled in, and return that DTO.","body":"I&#39;d convert the <code>Content</code> object to a DTO with all translations filled in, and return that DTO."},{"owner":{"account_id":7794964,"reputation":85,"user_id":5896429,"display_name":"krakowski"},"score":0,"creation_date":1672415854,"post_id":74961681,"comment_id":132286652,"body_markdown":"I might try this solution. This means you would let the mapper take care of translating each field?","body":"I might try this solution. This means you would let the mapper take care of translating each field?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1672416693,"post_id":74961681,"comment_id":132286858,"body_markdown":"Not the `ObjectMapper`, but before that. Either manually or using some mapping code generation like MapStruct.","body":"Not the <code>ObjectMapper</code>, but before that. Either manually or using some mapping code generation like MapStruct."},{"owner":{"account_id":7794964,"reputation":85,"user_id":5896429,"display_name":"krakowski"},"score":0,"creation_date":1672417618,"post_id":74961681,"comment_id":132287114,"body_markdown":"Thanks, by mapper I meant the `@Mapper` annotated interface using MapStruct. On second thought, this might be more complicated than I thought, since the `Content` class also contains nested fields which in turn have `TranslatableString` instances. This would only work with Reflection/`instanceof`-like code, in my opinion. Haven&#39;t found a MapStruct feature which can &quot;serialize&quot; between two types (without specifying field names) using custom logic, yet.","body":"Thanks, by mapper I meant the <code>@Mapper</code> annotated interface using MapStruct. On second thought, this might be more complicated than I thought, since the <code>Content</code> class also contains nested fields which in turn have <code>TranslatableString</code> instances. This would only work with Reflection/<code>instanceof</code>-like code, in my opinion. Haven&#39;t found a MapStruct feature which can &quot;serialize&quot; between two types (without specifying field names) using custom logic, yet."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1672418502,"post_id":74961681,"comment_id":132287376,"body_markdown":"You can try to use [ThreadLocal](https://www.baeldung.com/java-threadlocal). Try to create a bean which uses `ThreadLocal` to set and get `Language`. Set the language in controller method and load it in serialiser.","body":"You can try to use <a href=\"https://www.baeldung.com/java-threadlocal\" rel=\"nofollow noreferrer\">ThreadLocal</a>. Try to create a bean which uses <code>ThreadLocal</code> to set and get <code>Language</code>. Set the language in controller method and load it in serialiser."},{"owner":{"account_id":7794964,"reputation":85,"user_id":5896429,"display_name":"krakowski"},"score":1,"creation_date":1672418693,"post_id":74961681,"comment_id":132287418,"body_markdown":"@RobSpoor, I figured out how to create a simple implementation using MapStruct&#39;s Context feature. I will post this solution underneath my question, since it works pretty well and requires minimal extra code.","body":"@RobSpoor, I figured out how to create a simple implementation using MapStruct&#39;s Context feature. I will post this solution underneath my question, since it works pretty well and requires minimal extra code."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1672724556,"post_id":74961681,"comment_id":132334171,"body_markdown":"There are framework specific ways to get what you are asking. Are you using RESTEasy Reactive?","body":"There are framework specific ways to get what you are asking. Are you using RESTEasy Reactive?"}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1672419843,"post_id":74963959,"comment_id":132287716,"body_markdown":"Nice, I was wondering how you were going to do this. I haven&#39;t worked with `@Context` yet, but its intent is pretty clear from your example.","body":"Nice, I was wondering how you were going to do this. I haven&#39;t worked with <code>@Context</code> yet, but its intent is pretty clear from your example."}],"tags":[],"owner":{"account_id":7794964,"reputation":85,"user_id":5896429,"display_name":"krakowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672419334,"creation_date":1672419334,"answer_id":74963959,"question_id":74961681,"body_markdown":"Based on @RobSpoor&#39;s comment, I came up with the following solution using MapStruct and a DTO instead of relying on Jackson to do the translation.\r\n\r\n1. Create domain specific and DTO class.\r\n\r\n```java\r\npublic @Value class Content {\r\n    TranslatableString body;\r\n}\r\n\r\n// Instances of Content will be mapped to ContentDto by using MapStruct\r\n\r\npublic @Value class ContentDto {\r\n    String body;\r\n}\r\n```\r\n\r\n2. Create MapStruct mapper for mapping from domain object to DTO. Use MapStruct&#39;s [`Context`](https://mapstruct.org/documentation/stable/api/org/mapstruct/Context.html) feature to pass in language during mapping.\r\n\r\n```java\r\n@Mapper(componentModel = &quot;cdi&quot;)\r\npublic abstract class ContentMapper {\r\n\r\n    // Dummy translations\r\n    private final Map&lt;Language, Map&lt;String, String&gt;&gt; translations = Map.of(\r\n            Language.ENGLISH, Map.of(\r\n                    &quot;greeting&quot;, &quot;Hello World&quot;\r\n            ),\r\n\r\n            Language.GERMAN, Map.of(\r\n                    &quot;greeting&quot;, &quot;Hallo Welt&quot;\r\n            )\r\n    );\r\n\r\n    // The language parameter will be passed to the translate method\r\n    abstract ContentDto toDto(Content content, @Context Language language);\r\n\r\n    // Use the language parameter to retrieve the right translation\r\n    protected String translate(TranslatableString translatableString, @Context Language language) {\r\n        return translations.get(language).get(translatableString.getKey());\r\n    }\r\n}\r\n```\r\n\r\n3. Pass language into mapper during service call.\r\n\r\n```java\r\n@Path(&quot;/greeting&quot;)\r\npublic class GreetingResource {\r\n\r\n    @Inject\r\n    ContentMapper mapper;\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public ContentDto evaluate(\r\n            @QueryParam(&quot;lang&quot;)\r\n            @DefaultValue(&quot;en&quot;)\r\n            Language language\r\n    ) {\r\n        return mapper.toDto(\r\n            new Content(new TranslatableString(&quot;greeting&quot;)),\r\n            language\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nNow `/greeting` can be called with an extra query parameter of `lang` specifying the desired language.","title":"Accessing Quarkus query parameters from within Jackson serializer","body":"<p>Based on @RobSpoor's comment, I came up with the following solution using MapStruct and a DTO instead of relying on Jackson to do the translation.</p>\n<ol>\n<li>Create domain specific and DTO class.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public @Value class Content {\n    TranslatableString body;\n}\n\n// Instances of Content will be mapped to ContentDto by using MapStruct\n\npublic @Value class ContentDto {\n    String body;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create MapStruct mapper for mapping from domain object to DTO. Use MapStruct's <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/Context.html\" rel=\"nofollow noreferrer\"><code>Context</code></a> feature to pass in language during mapping.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;cdi&quot;)\npublic abstract class ContentMapper {\n\n    // Dummy translations\n    private final Map&lt;Language, Map&lt;String, String&gt;&gt; translations = Map.of(\n            Language.ENGLISH, Map.of(\n                    &quot;greeting&quot;, &quot;Hello World&quot;\n            ),\n\n            Language.GERMAN, Map.of(\n                    &quot;greeting&quot;, &quot;Hallo Welt&quot;\n            )\n    );\n\n    // The language parameter will be passed to the translate method\n    abstract ContentDto toDto(Content content, @Context Language language);\n\n    // Use the language parameter to retrieve the right translation\n    protected String translate(TranslatableString translatableString, @Context Language language) {\n        return translations.get(language).get(translatableString.getKey());\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Pass language into mapper during service call.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/greeting&quot;)\npublic class GreetingResource {\n\n    @Inject\n    ContentMapper mapper;\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public ContentDto evaluate(\n            @QueryParam(&quot;lang&quot;)\n            @DefaultValue(&quot;en&quot;)\n            Language language\n    ) {\n        return mapper.toDto(\n            new Content(new TranslatableString(&quot;greeting&quot;)),\n            language\n        );\n    }\n}\n</code></pre>\n<p>Now <code>/greeting</code> can be called with an extra query parameter of <code>lang</code> specifying the desired language.</p>\n"}],"owner":{"account_id":7794964,"reputation":85,"user_id":5896429,"display_name":"krakowski"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672419334,"creation_date":1672404119,"question_id":74961681,"body_markdown":"I am currently trying to develop a solution within Quarkus that can serialize JSON responses dynamically based on the properties (i.e. query params, headers, etc.) of the associated request. Here&#39;s an example of what I am trying to achieve.\r\n\r\n\r\n1. The user sends a `GET` request containing a query param `lang` which specifies the language.\r\n\r\n```java\r\n@GET()\r\n@Produces(MediaType.APPLICATION_JSON)\r\npublic Content getContent(\r\n    @QueryParam(&quot;lang&quot;)\r\n    @DefaultValue(&quot;en&quot;)\r\n    Language language\r\n) {\r\n    // Fetch and return content from service\r\n}\r\n```\r\n\r\n2. The `Content` class contains fields of type `TranslatableString`, which store keys used for lookups.\r\n\r\n```java\r\npublic @Value class TranslatableString {\r\n    String key;\r\n}\r\n```\r\n\r\n3. The associated [`JsonSerializer`](https://javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.14.1/com/fasterxml/jackson/databind/JsonSerializer.html) should now take this custom type and use its key to provide the translation for the requested language.\r\n\r\n```java\r\n@ApplicationScoped\r\npublic class Serializer extends JsonSerializer&lt;TranslatableString&gt; {\r\n\r\n    @Inject\r\n    TranslationStore translations;\r\n\r\n    @Override\r\n    public void serialize(TranslatableString value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n        gen.writeString(\r\n            translations.get(value.getKey(), /** ??-Language-?? **/ )\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nIs there some (easy) way to access the user-provided query parameters inside the Jackson `JsonSerializer`?\r\n\r\n**EDIT**\r\n\r\nThis is how I register my custom serializer.\r\n\r\n```java\r\n@Singleton\r\npublic class ObjectMapperConfig implements ObjectMapperCustomizer {\r\n\r\n    @Inject\r\n    Serializer serializer;\r\n\r\n    @Override\r\n    public void customize(ObjectMapper objectMapper) {\r\n        objectMapper.registerModule(\r\n            new SimpleModule()\r\n                    .addSerializer(\r\n                            TranslatableString.class,\r\n                            serializer\r\n                    )\r\n        );\r\n    }\r\n}\r\n```","title":"Accessing Quarkus query parameters from within Jackson serializer","body":"<p>I am currently trying to develop a solution within Quarkus that can serialize JSON responses dynamically based on the properties (i.e. query params, headers, etc.) of the associated request. Here's an example of what I am trying to achieve.</p>\n<ol>\n<li>The user sends a <code>GET</code> request containing a query param <code>lang</code> which specifies the language.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@GET()\n@Produces(MediaType.APPLICATION_JSON)\npublic Content getContent(\n    @QueryParam(&quot;lang&quot;)\n    @DefaultValue(&quot;en&quot;)\n    Language language\n) {\n    // Fetch and return content from service\n}\n</code></pre>\n<ol start=\"2\">\n<li>The <code>Content</code> class contains fields of type <code>TranslatableString</code>, which store keys used for lookups.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public @Value class TranslatableString {\n    String key;\n}\n</code></pre>\n<ol start=\"3\">\n<li>The associated <a href=\"https://javadoc.io/static/com.fasterxml.jackson.core/jackson-databind/2.14.1/com/fasterxml/jackson/databind/JsonSerializer.html\" rel=\"nofollow noreferrer\"><code>JsonSerializer</code></a> should now take this custom type and use its key to provide the translation for the requested language.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class Serializer extends JsonSerializer&lt;TranslatableString&gt; {\n\n    @Inject\n    TranslationStore translations;\n\n    @Override\n    public void serialize(TranslatableString value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        gen.writeString(\n            translations.get(value.getKey(), /** ??-Language-?? **/ )\n        );\n    }\n}\n</code></pre>\n<p>Is there some (easy) way to access the user-provided query parameters inside the Jackson <code>JsonSerializer</code>?</p>\n<p><strong>EDIT</strong></p>\n<p>This is how I register my custom serializer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic class ObjectMapperConfig implements ObjectMapperCustomizer {\n\n    @Inject\n    Serializer serializer;\n\n    @Override\n    public void customize(ObjectMapper objectMapper) {\n        objectMapper.registerModule(\n            new SimpleModule()\n                    .addSerializer(\n                            TranslatableString.class,\n                            serializer\n                    )\n        );\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","awt","zooming"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1672414739,"post_id":74963087,"comment_id":132286318,"body_markdown":"Consider improving the focus of this question, telling what you&#39;ve found, what you&#39;ve tried and what *specifically* is confusing you. This can help reduce the chances of a question&#39;s being closed, can improve its odds of being re-opened if closed and can help get answers quicker.","body":"Consider improving the focus of this question, telling what you&#39;ve found, what you&#39;ve tried and what <i>specifically</i> is confusing you. This can help reduce the chances of a question&#39;s being closed, can improve its odds of being re-opened if closed and can help get answers quicker."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1672416638,"creation_date":1672416638,"answer_id":74963570,"question_id":74963087,"body_markdown":"Let&#39;s assume that the viewport is 600 x 400 pixels.  The center point of the viewport is 300 x 200.\r\n\r\n    center x = x / 2\r\n    center y = y / 2\r\n\r\nLet&#39;s also assume you have three images\r\n\r\n1. 1600 x 1600 maximum zoom in \r\n2. 1200 x 1200 \r\n3. 800 x 800 maximum zoom out.\r\n\r\nYou do all your graphics on the largest image and reduce the size of the image for the other two zoom levels.\r\n\r\nTo answer your question, let&#39;s further assume that the user is looking at the first image and clicks on the 400, 500 point to center the image.\r\n\r\nTo calculate the point that corresponds to viewport 0, 0 (center the image):\r\n\r\n    x = 400 - center x = 100\r\n    y = 500 - center y = 200\r\n\r\nYou place the origin of the viewpoint at image point 100, 200.  If the upper left of the image would be inside the viewport, you can either leave part of the viewport blank or adjust the image.  The same goes for the lower right.\r\n\r\nAdjusting the size of the image for the zoom is a matter of [Image](https://docs.oracle.com/javase/7/docs/api/java/awt/Image.html) scaling using the `getScaledInstance` method.\r\n\r\nIn this example, you would use:\r\n\r\n    image.getScaledInstance(1200, 1200, Image.SCALE_SMOOTH);\r\n    image.getScaledInstance(800, 800, Image.SCALE_SMOOTH);\r\n\r\nYou can choose a different scaling hint.\r\n\r\nThe formula for scaling an image is:\r\n\r\n    new width = original width * percent scaling\r\n    new height = original height * percent scaling\r\n\r\nSo, for 80% scaling of a 1600 x 1600 image:\r\n\r\n    1280 = 1600 * .80\r\n    1280 = 1600 * .80\r\n\r\nThe key to making all this work is to do all your graphics work on the largest image and scale it down for display.","title":"Can someone explain the formula + parameters needed to set a view relative to the mouse in a JScrollPane after zooming?","body":"<p>Let's assume that the viewport is 600 x 400 pixels.  The center point of the viewport is 300 x 200.</p>\n<pre><code>center x = x / 2\ncenter y = y / 2\n</code></pre>\n<p>Let's also assume you have three images</p>\n<ol>\n<li>1600 x 1600 maximum zoom in</li>\n<li>1200 x 1200</li>\n<li>800 x 800 maximum zoom out.</li>\n</ol>\n<p>You do all your graphics on the largest image and reduce the size of the image for the other two zoom levels.</p>\n<p>To answer your question, let's further assume that the user is looking at the first image and clicks on the 400, 500 point to center the image.</p>\n<p>To calculate the point that corresponds to viewport 0, 0 (center the image):</p>\n<pre><code>x = 400 - center x = 100\ny = 500 - center y = 200\n</code></pre>\n<p>You place the origin of the viewpoint at image point 100, 200.  If the upper left of the image would be inside the viewport, you can either leave part of the viewport blank or adjust the image.  The same goes for the lower right.</p>\n<p>Adjusting the size of the image for the zoom is a matter of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Image.html\" rel=\"nofollow noreferrer\">Image</a> scaling using the <code>getScaledInstance</code> method.</p>\n<p>In this example, you would use:</p>\n<pre><code>image.getScaledInstance(1200, 1200, Image.SCALE_SMOOTH);\nimage.getScaledInstance(800, 800, Image.SCALE_SMOOTH);\n</code></pre>\n<p>You can choose a different scaling hint.</p>\n<p>The formula for scaling an image is:</p>\n<pre><code>new width = original width * percent scaling\nnew height = original height * percent scaling\n</code></pre>\n<p>So, for 80% scaling of a 1600 x 1600 image:</p>\n<pre><code>1280 = 1600 * .80\n1280 = 1600 * .80\n</code></pre>\n<p>The key to making all this work is to do all your graphics work on the largest image and scale it down for display.</p>\n"}],"owner":{"account_id":22102258,"reputation":61,"user_id":20848772,"display_name":"Some Ace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1672416356,"accepted_answer_id":74963570,"answer_count":1,"score":-2,"last_activity_date":1672419293,"creation_date":1672413515,"question_id":74963087,"body_markdown":"Below is a minimal reproducible code example. My code has no problems zooming in and out, but it seems that the offset calculations that I have done in the &quot;setZoomFactor&quot; method of the Drawing class, so that I can set the view to be relative to the mouse, are wrong. When you run the program, you have a word &quot;Example&quot; drawn with the drawString method. I am using it to test if my view is correct or not, as I do my zooming in while the mouse is placed over the &quot;Example&quot; written on the JScrollPane. \r\n\r\n```\r\npackage testpane;\r\nimport java.awt.event.MouseAdapter;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.WindowConstants;\r\n\r\npublic class TestPane \r\n{\r\n    public static Drawing d;\r\n    public static double zoomFactor = 1;\r\n    \r\n    public static void main(String[] args) \r\n    {\r\n        JFrame f = new JFrame(&quot;Tree Diagram&quot;);\r\n        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        f.getContentPane().add(new TestPane().makeDiagram());\r\n        f.setSize(1600, 800);\r\n        f.setLocationRelativeTo(null);\r\n        f.setVisible(true);\r\n    }\r\n    \r\n    public JComponent makeDiagram()\r\n    {\r\n        d = new Drawing();\r\n\r\n        MouseAdapter mouseAdapter = new TestPaneMouseListener();\r\n        d.addMouseListener(mouseAdapter);\r\n        d.addMouseMotionListener(mouseAdapter);\r\n        d.addMouseWheelListener(mouseAdapter);\r\n\r\n        return new JScrollPane(d);\r\n    }\r\n}\r\n```\r\n```\r\npackage testpane;\r\nimport java.awt.Color;\r\nimport java.awt.Container;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.MouseInfo;\r\nimport java.awt.Point;\r\nimport java.awt.Rectangle;\r\nimport java.awt.geom.AffineTransform;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JViewport;\r\nimport javax.swing.SwingUtilities;\r\n\r\npublic class Drawing extends JPanel\r\n{\r\n    private final AffineTransform zoomTransform = new AffineTransform();\r\n    private final Rectangle rect = new Rectangle(1600, 800);\r\n    private double xOffset = 0;\r\n    private double yOffset = 0;\r\n    private double prevZoomFactor = 1;\r\n    \r\n    public Drawing()\r\n    {\r\n        Font currentFont = getFont();\r\n        Font newFont = currentFont.deriveFont(currentFont.getSize() * 5F);\r\n        setFont(newFont);\r\n        setBackground(Color.WHITE);\r\n    }\r\n    \r\n    public void setZoomFactor(double zoomFactor) \r\n    {\r\n        zoomTransform.scale(zoomFactor, zoomFactor);\r\n        Container container = SwingUtilities.getUnwrappedParent(this);\r\n        \r\n        double xRel = MouseInfo.getPointerInfo().getLocation().getX() - getLocationOnScreen().getX();\r\n        double yRel = MouseInfo.getPointerInfo().getLocation().getY() - getLocationOnScreen().getY();\r\n        \r\n        double zoomDiv = TestPane.zoomFactor / prevZoomFactor;\r\n\r\n        xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * xRel;\r\n        yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * yRel;\r\n        \r\n        prevZoomFactor = zoomFactor;\r\n        \r\n        ((JViewport) container).setViewPosition(new Point(-(int)xOffset, -(int)yOffset));\r\n        \r\n        revalidate();\r\n        repaint();\r\n    }\r\n    \r\n    @Override\r\n    protected void paintComponent(Graphics g) \r\n    {\r\n        super.paintComponent(g);\r\n        \r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        AffineTransform scrollTransform = g2d.getTransform();\r\n        scrollTransform.concatenate(zoomTransform);\r\n        g2d.setTransform(scrollTransform);\r\n\r\n        g2d.drawString(&quot;Example&quot;, 300, 400);\r\n            \r\n        g2d.dispose();\r\n    }\r\n    \r\n    @Override\r\n    public Dimension getPreferredSize() \r\n    {\r\n        Rectangle r = zoomTransform.createTransformedShape(rect).getBounds();\r\n        return new Dimension(r.width, r.height);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage testpane;\r\nimport java.awt.Component;\r\nimport java.awt.Container;\r\nimport java.awt.Point;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseWheelEvent;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.JViewport;\r\nimport javax.swing.SwingUtilities;\r\nimport static testpane.TestPane.d;\r\nimport static testpane.TestPane.zoomFactor;\r\n\r\npublic class TestPaneMouseListener extends MouseAdapter\r\n{ \r\n    private final Point origin = new Point();\r\n\r\n    @Override\r\n    public void mouseDragged(MouseEvent e) \r\n    {\r\n        Component c = e.getComponent();\r\n        Container p = SwingUtilities.getUnwrappedParent(c);\r\n        if (p instanceof JViewport) \r\n        {\r\n            JViewport viewport = (JViewport) p;\r\n            Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\r\n            Point vp = viewport.getViewPosition();\r\n            vp.translate(origin.x - cp.x, origin.y - cp.y);\r\n            ((JComponent) c).scrollRectToVisible(new Rectangle(vp, viewport.getSize()));\r\n            origin.setLocation(cp);\r\n        }\r\n    }\r\n\r\n   @Override\r\n   public void mousePressed(MouseEvent e) \r\n   {\r\n       Component c = e.getComponent();\r\n       Container p = SwingUtilities.getUnwrappedParent(c);\r\n       if(p instanceof JViewport) \r\n       {\r\n           JViewport viewport = (JViewport) p;\r\n           Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\r\n           origin.setLocation(cp);\r\n       }\r\n   }\r\n   \r\n   @Override\r\n    public void mouseWheelMoved(MouseWheelEvent e) \r\n    {\r\n        if(e.getWheelRotation()&lt;0)\r\n        {\r\n            d.setZoomFactor(1.05);\r\n            zoomFactor*=1.05;\r\n        }\r\n        \r\n        if(e.getWheelRotation()&gt;0)\r\n        {\r\n            d.setZoomFactor(1/1.05);\r\n            zoomFactor/=1.05;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nCan someone explain to me why my calculations for the view are wrong and how I can fix them?","title":"Can someone explain the formula + parameters needed to set a view relative to the mouse in a JScrollPane after zooming?","body":"<p>Below is a minimal reproducible code example. My code has no problems zooming in and out, but it seems that the offset calculations that I have done in the &quot;setZoomFactor&quot; method of the Drawing class, so that I can set the view to be relative to the mouse, are wrong. When you run the program, you have a word &quot;Example&quot; drawn with the drawString method. I am using it to test if my view is correct or not, as I do my zooming in while the mouse is placed over the &quot;Example&quot; written on the JScrollPane.</p>\n<pre><code>package testpane;\nimport java.awt.event.MouseAdapter;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.WindowConstants;\n\npublic class TestPane \n{\n    public static Drawing d;\n    public static double zoomFactor = 1;\n    \n    public static void main(String[] args) \n    {\n        JFrame f = new JFrame(&quot;Tree Diagram&quot;);\n        f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        f.getContentPane().add(new TestPane().makeDiagram());\n        f.setSize(1600, 800);\n        f.setLocationRelativeTo(null);\n        f.setVisible(true);\n    }\n    \n    public JComponent makeDiagram()\n    {\n        d = new Drawing();\n\n        MouseAdapter mouseAdapter = new TestPaneMouseListener();\n        d.addMouseListener(mouseAdapter);\n        d.addMouseMotionListener(mouseAdapter);\n        d.addMouseWheelListener(mouseAdapter);\n\n        return new JScrollPane(d);\n    }\n}\n</code></pre>\n<pre><code>package testpane;\nimport java.awt.Color;\nimport java.awt.Container;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.MouseInfo;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.geom.AffineTransform;\nimport javax.swing.JPanel;\nimport javax.swing.JViewport;\nimport javax.swing.SwingUtilities;\n\npublic class Drawing extends JPanel\n{\n    private final AffineTransform zoomTransform = new AffineTransform();\n    private final Rectangle rect = new Rectangle(1600, 800);\n    private double xOffset = 0;\n    private double yOffset = 0;\n    private double prevZoomFactor = 1;\n    \n    public Drawing()\n    {\n        Font currentFont = getFont();\n        Font newFont = currentFont.deriveFont(currentFont.getSize() * 5F);\n        setFont(newFont);\n        setBackground(Color.WHITE);\n    }\n    \n    public void setZoomFactor(double zoomFactor) \n    {\n        zoomTransform.scale(zoomFactor, zoomFactor);\n        Container container = SwingUtilities.getUnwrappedParent(this);\n        \n        double xRel = MouseInfo.getPointerInfo().getLocation().getX() - getLocationOnScreen().getX();\n        double yRel = MouseInfo.getPointerInfo().getLocation().getY() - getLocationOnScreen().getY();\n        \n        double zoomDiv = TestPane.zoomFactor / prevZoomFactor;\n\n        xOffset = (zoomDiv) * (xOffset) + (1 - zoomDiv) * xRel;\n        yOffset = (zoomDiv) * (yOffset) + (1 - zoomDiv) * yRel;\n        \n        prevZoomFactor = zoomFactor;\n        \n        ((JViewport) container).setViewPosition(new Point(-(int)xOffset, -(int)yOffset));\n        \n        revalidate();\n        repaint();\n    }\n    \n    @Override\n    protected void paintComponent(Graphics g) \n    {\n        super.paintComponent(g);\n        \n        Graphics2D g2d = (Graphics2D) g.create();\n        AffineTransform scrollTransform = g2d.getTransform();\n        scrollTransform.concatenate(zoomTransform);\n        g2d.setTransform(scrollTransform);\n\n        g2d.drawString(&quot;Example&quot;, 300, 400);\n            \n        g2d.dispose();\n    }\n    \n    @Override\n    public Dimension getPreferredSize() \n    {\n        Rectangle r = zoomTransform.createTransformedShape(rect).getBounds();\n        return new Dimension(r.width, r.height);\n    }\n}\n</code></pre>\n<pre><code>package testpane;\nimport java.awt.Component;\nimport java.awt.Container;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseWheelEvent;\nimport javax.swing.JComponent;\nimport javax.swing.JViewport;\nimport javax.swing.SwingUtilities;\nimport static testpane.TestPane.d;\nimport static testpane.TestPane.zoomFactor;\n\npublic class TestPaneMouseListener extends MouseAdapter\n{ \n    private final Point origin = new Point();\n\n    @Override\n    public void mouseDragged(MouseEvent e) \n    {\n        Component c = e.getComponent();\n        Container p = SwingUtilities.getUnwrappedParent(c);\n        if (p instanceof JViewport) \n        {\n            JViewport viewport = (JViewport) p;\n            Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\n            Point vp = viewport.getViewPosition();\n            vp.translate(origin.x - cp.x, origin.y - cp.y);\n            ((JComponent) c).scrollRectToVisible(new Rectangle(vp, viewport.getSize()));\n            origin.setLocation(cp);\n        }\n    }\n\n   @Override\n   public void mousePressed(MouseEvent e) \n   {\n       Component c = e.getComponent();\n       Container p = SwingUtilities.getUnwrappedParent(c);\n       if(p instanceof JViewport) \n       {\n           JViewport viewport = (JViewport) p;\n           Point cp = SwingUtilities.convertPoint(c, e.getPoint(), viewport);\n           origin.setLocation(cp);\n       }\n   }\n   \n   @Override\n    public void mouseWheelMoved(MouseWheelEvent e) \n    {\n        if(e.getWheelRotation()&lt;0)\n        {\n            d.setZoomFactor(1.05);\n            zoomFactor*=1.05;\n        }\n        \n        if(e.getWheelRotation()&gt;0)\n        {\n            d.setZoomFactor(1/1.05);\n            zoomFactor/=1.05;\n        }\n    }\n}\n</code></pre>\n<p>Can someone explain to me why my calculations for the view are wrong and how I can fix them?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1672417952,"post_id":74963684,"comment_id":132287209,"body_markdown":"What do you mean they are not aligned? To me, they are perfectly aligned","body":"What do you mean they are not aligned? To me, they are perfectly aligned"},{"owner":{"account_id":2008682,"reputation":15410,"user_id":4109841,"accept_rate":62,"display_name":"Tem&#252;jin"},"score":0,"creation_date":1672418120,"post_id":74963684,"comment_id":132287264,"body_markdown":"@LeonardoEmmanueldeAzevedo really !? x &amp; xyz field&#39;s types, names, values are properly aligned in column. But, a &amp; abc fields are not.","body":"@LeonardoEmmanueldeAzevedo really !? x &amp; xyz field&#39;s types, names, values are properly aligned in column. But, a &amp; abc fields are not."},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":1,"creation_date":1672418332,"post_id":74963684,"comment_id":132287330,"body_markdown":"you might have to check the java code formatting settings for anonymous classes","body":"you might have to check the java code formatting settings for anonymous classes"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1672418334,"post_id":74963684,"comment_id":132287333,"body_markdown":"They are, `a` and `abc` belong to `new Thread()`, therefore, the are indented inside","body":"They are, <code>a</code> and <code>abc</code> belong to <code>new Thread()</code>, therefore, the are indented inside"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672418748,"post_id":74963684,"comment_id":132287437,"body_markdown":"@LeonardoEmmanueldeAzevedo Is it really that hard to understand? OP means that &quot;a&quot; and &quot;abc&quot; don&#39;t start in the same column, like &quot;x&quot; and &quot;xyz&quot; do. And no, OP doesn&#39;t mean the variable modifiers, just the variable names.","body":"@LeonardoEmmanueldeAzevedo Is it really that hard to understand? OP means that &quot;a&quot; and &quot;abc&quot; don&#39;t start in the same column, like &quot;x&quot; and &quot;xyz&quot; do. And no, OP doesn&#39;t mean the variable modifiers, just the variable names."},{"owner":{"account_id":2008682,"reputation":15410,"user_id":4109841,"accept_rate":62,"display_name":"Tem&#252;jin"},"score":0,"creation_date":1672419398,"post_id":74963684,"comment_id":132287613,"body_markdown":"@blurfus I tried to find that option. But, IntelliJ don&#39;t have option like anonymous classes to align fields","body":"@blurfus I tried to find that option. But, IntelliJ don&#39;t have option like anonymous classes to align fields"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1672423609,"post_id":74963684,"comment_id":132288626,"body_markdown":"hmmm, I thought there was one... let me see what options there are then","body":"hmmm, I thought there was one... let me see what options there are then"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1672425716,"post_id":74963684,"comment_id":132289101,"body_markdown":"In Group Declarations: do you have the `Align assignments in columns` option enabled? (should be in `Preferences &gt; Editor &gt; Code Style &gt; Java &gt; Wrapping and Braces (tab)` - or the `Align fields in columns`","body":"In Group Declarations: do you have the <code>Align assignments in columns</code> option enabled? (should be in <code>Preferences &gt; Editor &gt; Code Style &gt; Java &gt; Wrapping and Braces (tab)</code> - or the <code>Align fields in columns</code>"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1672426131,"post_id":74963684,"comment_id":132289172,"body_markdown":"I did try it on my localhost, no dice... maybe you can&#39;t w/ OOB IntelliJ - not sure if options like `.editorconfig` will allow for it","body":"I did try it on my localhost, no dice... maybe you can&#39;t w/ OOB IntelliJ - not sure if options like <code>.editorconfig</code> will allow for it"},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1672642109,"post_id":74963684,"comment_id":132316942,"body_markdown":"I&#39;ve raised a new issue at JetBrains issues tracker. Please follow https://youtrack.jetbrains.com/issue/IDEA-309660 for updates","body":"I&#39;ve raised a new issue at JetBrains issues tracker. Please follow <a href=\"https://youtrack.jetbrains.com/issue/IDEA-309660\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-309660</a> for updates"}],"owner":{"account_id":2008682,"reputation":15410,"user_id":4109841,"accept_rate":62,"display_name":"Tem&#252;jin"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672419257,"creation_date":1672417427,"question_id":74963684,"body_markdown":"I&#39;m trying to align/reformat code in my IntelliJ IDEA IDE. But, it&#39;s not aligning fields inside anonymous classes. Checkout below example code:\r\n\r\n    public class Hello {\r\n        private int   x   = 1;\r\n        private float xyz = 100F;\r\n    \r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello World&quot;);\r\n    \r\n            (new Thread() {\r\n                private int a = 1;\r\n                private String abc = &quot;alphabet&quot;;\r\n    \r\n                @Override\r\n                public void run() {\r\n                    super.run();\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n&gt; In above code x &amp; xyz fields are aligned properly. But, a &amp; abc fields\r\n&gt; are not aligning. How to solve this issue?","title":"IntelliJ IDEA - How to align fields inside anonymous classes","body":"<p>I'm trying to align/reformat code in my IntelliJ IDEA IDE. But, it's not aligning fields inside anonymous classes. Checkout below example code:</p>\n<pre><code>public class Hello {\n    private int   x   = 1;\n    private float xyz = 100F;\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World&quot;);\n\n        (new Thread() {\n            private int a = 1;\n            private String abc = &quot;alphabet&quot;;\n\n            @Override\n            public void run() {\n                super.run();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<blockquote>\n<p>In above code x &amp; xyz fields are aligned properly. But, a &amp; abc fields\nare not aligning. How to solve this issue?</p>\n</blockquote>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1672419112,"post_id":74963886,"comment_id":132287541,"body_markdown":"This could be fixed by proper usable of variables, but honestly: don&#39;t. Don&#39;t use Objects like them as Map keys. They don&#39;t bring you any advantage. Use something static like a String &quot;coins&quot; or a own Enum. Much more flexible.","body":"This could be fixed by proper usable of variables, but honestly: don&#39;t. Don&#39;t use Objects like them as Map keys. They don&#39;t bring you any advantage. Use something static like a String &quot;coins&quot; or a own Enum. Much more flexible."}],"answers":[{"comments":[{"owner":{"account_id":25427062,"reputation":1,"user_id":19232107,"display_name":"Sofie Buur"},"score":0,"creation_date":1672419640,"post_id":74963944,"comment_id":132287673,"body_markdown":"Ah okay that does make sense! \nBut how can I then add a new object to the inventory and access it later? Should I then declare that as a member too?","body":"Ah okay that does make sense!  But how can I then add a new object to the inventory and access it later? Should I then declare that as a member too?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1672419709,"post_id":74963944,"comment_id":132287688,"body_markdown":"Just like you have a `buyItemPierre` method, you need a `addItem` method so you can add items to the map.","body":"Just like you have a <code>buyItemPierre</code> method, you need a <code>addItem</code> method so you can add items to the map."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1672419752,"post_id":74963944,"comment_id":132287695,"body_markdown":"Aside: the type of map you are using is also called a &quot;multiset&quot; or a &quot;bag&quot;:https://en.wikipedia.org/wiki/Multiset","body":"Aside: the type of map you are using is also called a &quot;multiset&quot; or a &quot;bag&quot;:<a href=\"https://en.wikipedia.org/wiki/Multiset\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Multiset</a>"},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":1,"creation_date":1672420096,"post_id":74963944,"comment_id":132287773,"body_markdown":"I would create a wrapper class around `Item` to hold the count. `public class InventoryItem { Item item; Integer count; ...constructors and setter}` And then declare your map to hold these, indexed by a string. `private Map&lt;String, InventoryItem&gt; inventory=new HashMap&lt;&gt;();` Then, in your constructor, use `inventory.put(&quot;Coins&quot;, new InventoryItem(new Resource(&quot;Coins&quot;,1,1), 50);`","body":"I would create a wrapper class around <code>Item</code> to hold the count. <code>public class InventoryItem { Item item; Integer count; ...constructors and setter}</code> And then declare your map to hold these, indexed by a string. <code>private Map&lt;String, InventoryItem&gt; inventory=new HashMap&lt;&gt;();</code> Then, in your constructor, use <code>inventory.put(&quot;Coins&quot;, new InventoryItem(new Resource(&quot;Coins&quot;,1,1), 50);</code>"},{"owner":{"account_id":25427062,"reputation":1,"user_id":19232107,"display_name":"Sofie Buur"},"score":1,"creation_date":1672425186,"post_id":74963944,"comment_id":132288987,"body_markdown":"Thank you so much for all your responses! Really appreciated","body":"Thank you so much for all your responses! Really appreciated"}],"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672419212,"creation_date":1672419212,"answer_id":74963944,"question_id":74963886,"body_markdown":"You have declared `coins` as a local variable in the constructor.\r\n```Java\r\n        Resource coins = new Resource(&quot;Coins&quot;, 1, 1);\r\n```\r\nSo as soon as the constructor is complete, that variable goes away. You still have the *object* as a key in the map, but if you want to use the `coins` variable to look it up in the map, you have to declare it as a member (outside the constructor).\r\n```Java\r\nprivate Resource coins= new Resource(&quot;Coins&quot;, 1, 1);\r\n```","title":"Objects as keys in a HashMap - how to reference them (java)","body":"<p>You have declared <code>coins</code> as a local variable in the constructor.</p>\n<pre><code>        Resource coins = new Resource(&quot;Coins&quot;, 1, 1);\n</code></pre>\n<p>So as soon as the constructor is complete, that variable goes away. You still have the <em>object</em> as a key in the map, but if you want to use the <code>coins</code> variable to look it up in the map, you have to declare it as a member (outside the constructor).</p>\n<pre><code>private Resource coins= new Resource(&quot;Coins&quot;, 1, 1);\n</code></pre>\n"}],"owner":{"account_id":25427062,"reputation":1,"user_id":19232107,"display_name":"Sofie Buur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672419212,"creation_date":1672418785,"question_id":74963886,"body_markdown":"I am currently working on a small project simulating a game. Each `Player` object has an inventory which is a `HashMap&lt;Item, Integer&gt;` where the Integer is the quantity of that Item.\r\n\r\nI am currently trying to write a method in the `Player` class, that allows the player to buy an `Item` from a `Shop`, if the Player have enough `Coins` in their inventory. Each `Player` starts with 50 `Coins` in their inventory.\r\n\r\nAlthough, when I am trying to acces the coins in the players inventory (using `inventory.get(coins)`), I get an &quot;coins cannot be resolved to a variable error&quot;.\r\n\r\nCONSTRUCTOR\r\n\r\n```\r\nprivate String name;\r\n    private HashMap&lt;Item, Integer&gt; inventory;\r\n    private String location;\r\n\r\n\r\npublic Player (String name){\r\n        this.name = name;\r\n        location = &quot;Home&quot;;\r\n\r\n        inventory = new HashMap&lt;&gt;();\r\n\r\n        Resource coins = new Resource(&quot;Coins&quot;, 1, 1);\r\n        Tool pickaxe = new Tool(&quot;Pickaxe&quot;, 100, 100);\r\n        Tool axe = new Tool(&quot;Axe&quot;, 100, 100);\r\n        Tool shovel = new Tool(&quot;Shovel&quot;, 100, 100);\r\n        Crop turnip = new Crop(&quot;Turnip&quot;, 20, &quot;Spring&quot;);\r\n\r\n        this.inventory.put(coins, 50);\r\n        this.inventory.put(pickaxe, 1);\r\n        this.inventory.put(axe, 1);\r\n        this.inventory.put(shovel, 1);\r\n        this.inventory.put(turnip, 10);\r\n    }\r\n```\r\n\r\nMETHOD THAT FAILS\r\n\r\n```\r\npublic void buyItemPierre(Shop pierres, Item item){\r\n        if (location.equals(&quot;Pierres&quot;)){\r\n\r\n            if (pierres.getForSale().containsKey(item)){\r\n                \r\n                if (inventory.get(**coins**) &gt;= pierres.getForSale().get(item)){ // ERROR HERE\r\n\r\n                }\r\n            }\r\n            else{\r\n                System.out.println(&quot;Sorry, that item is not for sale here&quot;);\r\n            }\r\n\r\n        }\r\n        else{\r\n            System.out.println(&quot;You have to visit Pierres before you can buy anything from there!&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;ve tried instantiating the objects in the main method, although I get the same error. There must be something that I don&#39;t get regarding how to reference objects as keys in a HashMap... How else can I check if the player has enough `coins`? Thank you in advance!","title":"Objects as keys in a HashMap - how to reference them (java)","body":"<p>I am currently working on a small project simulating a game. Each <code>Player</code> object has an inventory which is a <code>HashMap&lt;Item, Integer&gt;</code> where the Integer is the quantity of that Item.</p>\n<p>I am currently trying to write a method in the <code>Player</code> class, that allows the player to buy an <code>Item</code> from a <code>Shop</code>, if the Player have enough <code>Coins</code> in their inventory. Each <code>Player</code> starts with 50 <code>Coins</code> in their inventory.</p>\n<p>Although, when I am trying to acces the coins in the players inventory (using <code>inventory.get(coins)</code>), I get an &quot;coins cannot be resolved to a variable error&quot;.</p>\n<p>CONSTRUCTOR</p>\n<pre><code>private String name;\n    private HashMap&lt;Item, Integer&gt; inventory;\n    private String location;\n\n\npublic Player (String name){\n        this.name = name;\n        location = &quot;Home&quot;;\n\n        inventory = new HashMap&lt;&gt;();\n\n        Resource coins = new Resource(&quot;Coins&quot;, 1, 1);\n        Tool pickaxe = new Tool(&quot;Pickaxe&quot;, 100, 100);\n        Tool axe = new Tool(&quot;Axe&quot;, 100, 100);\n        Tool shovel = new Tool(&quot;Shovel&quot;, 100, 100);\n        Crop turnip = new Crop(&quot;Turnip&quot;, 20, &quot;Spring&quot;);\n\n        this.inventory.put(coins, 50);\n        this.inventory.put(pickaxe, 1);\n        this.inventory.put(axe, 1);\n        this.inventory.put(shovel, 1);\n        this.inventory.put(turnip, 10);\n    }\n</code></pre>\n<p>METHOD THAT FAILS</p>\n<pre><code>public void buyItemPierre(Shop pierres, Item item){\n        if (location.equals(&quot;Pierres&quot;)){\n\n            if (pierres.getForSale().containsKey(item)){\n                \n                if (inventory.get(**coins**) &gt;= pierres.getForSale().get(item)){ // ERROR HERE\n\n                }\n            }\n            else{\n                System.out.println(&quot;Sorry, that item is not for sale here&quot;);\n            }\n\n        }\n        else{\n            System.out.println(&quot;You have to visit Pierres before you can buy anything from there!&quot;);\n        }\n    }\n</code></pre>\n<p>I've tried instantiating the objects in the main method, although I get the same error. There must be something that I don't get regarding how to reference objects as keys in a HashMap... How else can I check if the player has enough <code>coins</code>? Thank you in advance!</p>\n"},{"tags":["java","project-panama"],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1672418890,"post_id":74963821,"comment_id":132287484,"body_markdown":"This manual &quot;erasure&quot; of all pointer types to `MemorySegment` takes a while to get used to. But from my experience, most FFI libraries have that problem.","body":"This manual &quot;erasure&quot; of all pointer types to <code>MemorySegment</code> takes a while to get used to. But from my experience, most FFI libraries have that problem."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1672419083,"post_id":74963821,"comment_id":132287533,"body_markdown":"@JohannesKuhn Yes, and it doesn&#39;t help that structs are now also &#39;erased&#39; to `MemorySegment`. We&#39;ve been talking about having jextract generate more high-level types for pointers and structs, which I think would really help with figuring out the required level of indirection, but there are some performance pitfalls that we haven&#39;t figured out yet. (Though, I&#39;m getting more and more convinced that it&#39;s worth doing either way)","body":"@JohannesKuhn Yes, and it doesn&#39;t help that structs are now also &#39;erased&#39; to <code>MemorySegment</code>. We&#39;ve been talking about having jextract generate more high-level types for pointers and structs, which I think would really help with figuring out the required level of indirection, but there are some performance pitfalls that we haven&#39;t figured out yet. (Though, I&#39;m getting more and more convinced that it&#39;s worth doing either way)"},{"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"score":0,"creation_date":1672419223,"post_id":74963821,"comment_id":132287574,"body_markdown":"Thank you Jorn for the clear explanation. Is there some updated official documentation and examples on how to properly use this new Foreign API?","body":"Thank you Jorn for the clear explanation. Is there some updated official documentation and examples on how to properly use this new Foreign API?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1672419382,"post_id":74963821,"comment_id":132287609,"body_markdown":"I often find myself creating &quot;thin&quot; wrappers around `Addressable` (back in Java 16) - basically `record SomePtr (MemoryAddress address) implements Addressable {}`.","body":"I often find myself creating &quot;thin&quot; wrappers around <code>Addressable</code> (back in Java 16) - basically <code>record SomePtr (MemoryAddress address) implements Addressable {}</code>."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1672420288,"post_id":74963821,"comment_id":132287826,"body_markdown":"@1Z10 Check out https://github.com/openjdk/panama-foreign/blob/foreign-memaccess%2Babi/doc/panama_memaccess.md and https://github.com/openjdk/panama-foreign/blob/foreign-memaccess%2Babi/doc/panama_ffi.md There&#39;s also the jextract samples in the jextract repo","body":"@1Z10 Check out <a href=\"https://github.com/openjdk/panama-foreign/blob/foreign-memaccess%2Babi/doc/panama_memaccess.md\" rel=\"nofollow noreferrer\">github.com/openjdk/panama-foreign/blob/foreign-memaccess%2Ba&zwnj;&#8203;bi/&hellip;</a> and <a href=\"https://github.com/openjdk/panama-foreign/blob/foreign-memaccess%2Babi/doc/panama_ffi.md\" rel=\"nofollow noreferrer\">github.com/openjdk/panama-foreign/blob/foreign-memaccess%2Ba&zwnj;&#8203;bi/&hellip;</a> There&#39;s also the jextract samples in the jextract repo"}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672418895,"creation_date":1672418341,"answer_id":74963821,"question_id":74963497,"body_markdown":"Code using the `&amp;` operator in C can generally not be directly translated into Java. Instead you have to allocate the type passed to the `&amp;` operator directly.\r\n\r\n    YR_COMPILER* compiler = NULL;\r\n    yr_compiler_create(&amp;compiler);\r\n\r\nHere the type of `compiler` is `YR_COMPILER*` so the layout is `C_POINTER`.\r\n\r\nYour second attempt is really close, but you also have to read the pointer back from the `compilerAddress` segment. What your code does is this:\r\n\r\n    compiler -&gt; YR_COMPILER (uninitialized)\r\n    compilerAddress -&gt; C_POINTER (value is address of &#39;compiler&#39;)\r\n\r\nThen the function call happens, which changes the value pointed to by `compilerAddress`, and you get:\r\n\r\n    compiler -&gt; YR_COMPILER (uninitialized)\r\n    compilerAddress -&gt; C_POINTER (value is address set by &#39;yr_compiler_create&#39;)\r\n\r\nSince you then pass the uninitialized `compiler` pointer to `yr_compiler_destroy` it is not surprising the program crashes.\r\n\r\nSo, you just have to read back the pointer from `compilerAddress` _after_ calling `yr_compiler_create`:\r\n\r\n    try (Arena arena = Arena.openConfined()) {\r\n        MemorySegment compilerAddress = arena.allocate(C_POINTER); // YR_COMPILER**\r\n\r\n        int created = yr_compiler_create(compilerAddress);\r\n        Assertions.assertEquals(ERROR_SUCCESS(), created);\r\n\r\n        MemorySegment compiler = compilerAddress.get(C_POINTER, 0); // YR_COMPILER*\r\n\r\n        yr_compiler_destroy(compiler);\r\n    }\r\n\r\n(Note that the `C_POINTER` layout should be generated in `yara_h.java`)\r\n\r\nEssentially, the C code equivalent would be:\r\n\r\n    YR_COMPILER** compilerAddress = malloc(sizeof *compilerAddress);\r\n    yr_compiler_create(compilerAddress);\r\n    YR_COMPILER* compiler = *compilerAddress;\r\n\r\nWhich doesn&#39;t use `&amp;`.","title":"Java Foreign API: how to pass pointers and pointers address?","body":"<p>Code using the <code>&amp;</code> operator in C can generally not be directly translated into Java. Instead you have to allocate the type passed to the <code>&amp;</code> operator directly.</p>\n<pre><code>YR_COMPILER* compiler = NULL;\nyr_compiler_create(&amp;compiler);\n</code></pre>\n<p>Here the type of <code>compiler</code> is <code>YR_COMPILER*</code> so the layout is <code>C_POINTER</code>.</p>\n<p>Your second attempt is really close, but you also have to read the pointer back from the <code>compilerAddress</code> segment. What your code does is this:</p>\n<pre><code>compiler -&gt; YR_COMPILER (uninitialized)\ncompilerAddress -&gt; C_POINTER (value is address of 'compiler')\n</code></pre>\n<p>Then the function call happens, which changes the value pointed to by <code>compilerAddress</code>, and you get:</p>\n<pre><code>compiler -&gt; YR_COMPILER (uninitialized)\ncompilerAddress -&gt; C_POINTER (value is address set by 'yr_compiler_create')\n</code></pre>\n<p>Since you then pass the uninitialized <code>compiler</code> pointer to <code>yr_compiler_destroy</code> it is not surprising the program crashes.</p>\n<p>So, you just have to read back the pointer from <code>compilerAddress</code> <em>after</em> calling <code>yr_compiler_create</code>:</p>\n<pre><code>try (Arena arena = Arena.openConfined()) {\n    MemorySegment compilerAddress = arena.allocate(C_POINTER); // YR_COMPILER**\n\n    int created = yr_compiler_create(compilerAddress);\n    Assertions.assertEquals(ERROR_SUCCESS(), created);\n\n    MemorySegment compiler = compilerAddress.get(C_POINTER, 0); // YR_COMPILER*\n\n    yr_compiler_destroy(compiler);\n}\n</code></pre>\n<p>(Note that the <code>C_POINTER</code> layout should be generated in <code>yara_h.java</code>)</p>\n<p>Essentially, the C code equivalent would be:</p>\n<pre><code>YR_COMPILER** compilerAddress = malloc(sizeof *compilerAddress);\nyr_compiler_create(compilerAddress);\nYR_COMPILER* compiler = *compilerAddress;\n</code></pre>\n<p>Which doesn't use <code>&amp;</code>.</p>\n"}],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74963821,"answer_count":1,"score":0,"last_activity_date":1672418895,"creation_date":1672416126,"question_id":74963497,"body_markdown":"I am working with the new **Java Foreign API** and I have to call two C functions (Java bindings generated using the [JExtract][1] tool) that take in input a double pointer and a pointer:\r\n\r\n - https://yara.readthedocs.io/en/stable/capi.html#c.yr_compiler_create\r\n - https://yara.readthedocs.io/en/stable/capi.html#c.yr_compiler_destroy\r\n---\r\n    int yr_compiler_create(YR_COMPILER** compiler)\r\n\r\n    void yr_compiler_destroy(YR_COMPILER* compiler)\r\n---\r\n\r\nIn the [official YARA C API tests][2] these methods are called as follows:\r\n\r\n    #include &lt;yara.h&gt;\r\n\r\n    voit test_compiler(){\r\n        YR_COMPILER* compiler = NULL;\r\n        yr_initialize();\r\n    \r\n        yr_compiler_create(&amp;compiler);\r\n        yr_compiler_destroy(compiler);\r\n    \r\n        yr_finalize();\r\n    }\r\n---\r\nThe corresponding Java bindings are as follows:\r\n\r\n    /**\r\n     * {@snippet :\r\n     * int yr_compiler_create(YR_COMPILER** compiler);\r\n     * }\r\n     */\r\n    public static int yr_compiler_create(MemorySegment compiler) {\r\n        var mh$ = yr_compiler_create$MH();\r\n        try {\r\n            return (int)mh$.invokeExact(compiler);\r\n        } catch (Throwable ex$) {\r\n            throw new AssertionError(&quot;should not reach here&quot;, ex$);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * {@snippet :\r\n     * void yr_compiler_destroy(YR_COMPILER* compiler);\r\n     * }\r\n     */\r\n    public static void yr_compiler_destroy(MemorySegment compiler) {\r\n        var mh$ = yr_compiler_destroy$MH();\r\n        try {\r\n            mh$.invokeExact(compiler);\r\n        } catch (Throwable ex$) {\r\n            throw new AssertionError(&quot;should not reach here&quot;, ex$);\r\n        }\r\n    }\r\n\r\nAll the generated bindings for the [yara.h header][3] file are available at\r\nhttps://github.com/YARA-Java/YARA-Java/tree/master/yara-java\r\n\r\nGoing to the actual issue, I&#39;m calling these methods from Java as follows:\r\n\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.lang.foreign.Arena;\r\n    import java.lang.foreign.MemorySegment;\r\n    \r\n    import static com.virustotal.yara.yara_h.ERROR_SUCCESS;\r\n    import static com.virustotal.yara.yara_h_1.*;\r\n    \r\n    public class YaraTest {\r\n        @Test\r\n        public void testCompiler(){\r\n            yr_initialize();\r\n    \r\n            try (Arena arena = Arena.openConfined()) {\r\n                MemorySegment compiler = MemorySegment.allocateNative(YR_COMPILER.$LAYOUT(), arena.scope());\r\n    \r\n                int created = yr_compiler_create(compiler);\r\n                Assertions.assertEquals(ERROR_SUCCESS(), created);\r\n    \r\n                yr_compiler_destroy(compiler);\r\n            }\r\n    \r\n            yr_finalize();\r\n        }\r\n    } \r\n\r\nbut it results in the following error, when calling the `yr_compiler_destroy` method:\r\n\r\n    double free or corruption (out)\r\n    \r\n    Process finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n\r\nI did also try to create a C_POINTER (represented by a generated layout class),\r\n\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.lang.foreign.Arena;\r\n    import java.lang.foreign.MemorySegment;\r\n    \r\n    import static com.virustotal.yara.yara_h.ERROR_SUCCESS;\r\n    import static com.virustotal.yara.yara_h_1.*;\r\n    \r\n    public class YaraTest {\r\n        @Test\r\n        public void testCompiler(){\r\n            yr_initialize();\r\n    \r\n            try (Arena arena = Arena.openConfined()) {\r\n                MemorySegment compiler = MemorySegment.allocateNative(YR_COMPILER.$LAYOUT(), arena.scope());\r\n                MemorySegment compilerAddress = MemorySegment.allocateNative(Constants$root.C_POINTER$LAYOUT, arena.scope());\r\n                compilerAddress.set(Constants$root.C_POINTER$LAYOUT, 0, MemorySegment.ofAddress(compiler.address()));\r\n    \r\n                int created = yr_compiler_create(compilerAddress);\r\n                Assertions.assertEquals(ERROR_SUCCESS(), created);\r\n    \r\n                yr_compiler_destroy(compiler);\r\n            }\r\n    \r\n            yr_finalize();\r\n        }\r\n    }\r\n\r\n but it results in a fatal error:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00007f9ae98dab44, pid=75962, tid=75963\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment (20.0+29) (build 20-ea+29-2280)\r\n    # Java VM: OpenJDK 64-Bit Server VM (20-ea+29-2280, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n    # Problematic frame:\r\n    # C  [libyara.so.8.0.0+0x3cb44]\r\n    #\r\n    # Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /mnt/bytes/Workspace/YARA-Java/yara-java/yara-java/core.75962)\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # /mnt/bytes/Workspace/YARA-Java/yara-java/yara-java/hs_err_pid75962.log\r\n    [0,501s][warning][os] Loading hsdis library failed\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n\r\n    Process finished with exit code 134 (interrupted by signal 6: SIGABRT)\r\n\r\nThe full log is available here https://pastebin.com/a6xp6rLD.\r\n\r\nWhat is the equivalent of `YR_COMPILER**` and `YR_COMPILER*` using Java Foreign API?\r\n\r\n  [1]: https://github.com/openjdk/jextract\r\n[2]:https://github.com/VirusTotal/yara/blob/1b2989eee3e8c3ecb223640b7694a722bc5808ef/tests/test-api.c#L101\r\n  [3]: https://github.com/VirusTotal/yara/blob/master/libyara/include/yara.h","title":"Java Foreign API: how to pass pointers and pointers address?","body":"<p>I am working with the new <strong>Java Foreign API</strong> and I have to call two C functions (Java bindings generated using the <a href=\"https://github.com/openjdk/jextract\" rel=\"nofollow noreferrer\">JExtract</a> tool) that take in input a double pointer and a pointer:</p>\n<ul>\n<li><a href=\"https://yara.readthedocs.io/en/stable/capi.html#c.yr_compiler_create\" rel=\"nofollow noreferrer\">https://yara.readthedocs.io/en/stable/capi.html#c.yr_compiler_create</a></li>\n<li><a href=\"https://yara.readthedocs.io/en/stable/capi.html#c.yr_compiler_destroy\" rel=\"nofollow noreferrer\">https://yara.readthedocs.io/en/stable/capi.html#c.yr_compiler_destroy</a></li>\n</ul>\n<hr />\n<pre><code>int yr_compiler_create(YR_COMPILER** compiler)\n\nvoid yr_compiler_destroy(YR_COMPILER* compiler)\n</code></pre>\n<hr />\n<p>In the <a href=\"https://github.com/VirusTotal/yara/blob/1b2989eee3e8c3ecb223640b7694a722bc5808ef/tests/test-api.c#L101\" rel=\"nofollow noreferrer\">official YARA C API tests</a> these methods are called as follows:</p>\n<pre><code>#include &lt;yara.h&gt;\n\nvoit test_compiler(){\n    YR_COMPILER* compiler = NULL;\n    yr_initialize();\n\n    yr_compiler_create(&amp;compiler);\n    yr_compiler_destroy(compiler);\n\n    yr_finalize();\n}\n</code></pre>\n<hr />\n<p>The corresponding Java bindings are as follows:</p>\n<pre><code>/**\n * {@snippet :\n * int yr_compiler_create(YR_COMPILER** compiler);\n * }\n */\npublic static int yr_compiler_create(MemorySegment compiler) {\n    var mh$ = yr_compiler_create$MH();\n    try {\n        return (int)mh$.invokeExact(compiler);\n    } catch (Throwable ex$) {\n        throw new AssertionError(&quot;should not reach here&quot;, ex$);\n    }\n}\n\n/**\n * {@snippet :\n * void yr_compiler_destroy(YR_COMPILER* compiler);\n * }\n */\npublic static void yr_compiler_destroy(MemorySegment compiler) {\n    var mh$ = yr_compiler_destroy$MH();\n    try {\n        mh$.invokeExact(compiler);\n    } catch (Throwable ex$) {\n        throw new AssertionError(&quot;should not reach here&quot;, ex$);\n    }\n}\n</code></pre>\n<p>All the generated bindings for the <a href=\"https://github.com/VirusTotal/yara/blob/master/libyara/include/yara.h\" rel=\"nofollow noreferrer\">yara.h header</a> file are available at\n<a href=\"https://github.com/YARA-Java/YARA-Java/tree/master/yara-java\" rel=\"nofollow noreferrer\">https://github.com/YARA-Java/YARA-Java/tree/master/yara-java</a></p>\n<p>Going to the actual issue, I'm calling these methods from Java as follows:</p>\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.lang.foreign.Arena;\nimport java.lang.foreign.MemorySegment;\n\nimport static com.virustotal.yara.yara_h.ERROR_SUCCESS;\nimport static com.virustotal.yara.yara_h_1.*;\n\npublic class YaraTest {\n    @Test\n    public void testCompiler(){\n        yr_initialize();\n\n        try (Arena arena = Arena.openConfined()) {\n            MemorySegment compiler = MemorySegment.allocateNative(YR_COMPILER.$LAYOUT(), arena.scope());\n\n            int created = yr_compiler_create(compiler);\n            Assertions.assertEquals(ERROR_SUCCESS(), created);\n\n            yr_compiler_destroy(compiler);\n        }\n\n        yr_finalize();\n    }\n} \n</code></pre>\n<p>but it results in the following error, when calling the <code>yr_compiler_destroy</code> method:</p>\n<pre><code>double free or corruption (out)\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n<p>I did also try to create a C_POINTER (represented by a generated layout class),</p>\n<pre><code>import org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.lang.foreign.Arena;\nimport java.lang.foreign.MemorySegment;\n\nimport static com.virustotal.yara.yara_h.ERROR_SUCCESS;\nimport static com.virustotal.yara.yara_h_1.*;\n\npublic class YaraTest {\n    @Test\n    public void testCompiler(){\n        yr_initialize();\n\n        try (Arena arena = Arena.openConfined()) {\n            MemorySegment compiler = MemorySegment.allocateNative(YR_COMPILER.$LAYOUT(), arena.scope());\n            MemorySegment compilerAddress = MemorySegment.allocateNative(Constants$root.C_POINTER$LAYOUT, arena.scope());\n            compilerAddress.set(Constants$root.C_POINTER$LAYOUT, 0, MemorySegment.ofAddress(compiler.address()));\n\n            int created = yr_compiler_create(compilerAddress);\n            Assertions.assertEquals(ERROR_SUCCESS(), created);\n\n            yr_compiler_destroy(compiler);\n        }\n\n        yr_finalize();\n    }\n}\n</code></pre>\n<p>but it results in a fatal error:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f9ae98dab44, pid=75962, tid=75963\n#\n# JRE version: OpenJDK Runtime Environment (20.0+29) (build 20-ea+29-2280)\n# Java VM: OpenJDK 64-Bit Server VM (20-ea+29-2280, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libyara.so.8.0.0+0x3cb44]\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /mnt/bytes/Workspace/YARA-Java/yara-java/yara-java/core.75962)\n#\n# An error report file with more information is saved as:\n# /mnt/bytes/Workspace/YARA-Java/yara-java/yara-java/hs_err_pid75962.log\n[0,501s][warning][os] Loading hsdis library failed\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\nProcess finished with exit code 134 (interrupted by signal 6: SIGABRT)\n</code></pre>\n<p>The full log is available here <a href=\"https://pastebin.com/a6xp6rLD\" rel=\"nofollow noreferrer\">https://pastebin.com/a6xp6rLD</a>.</p>\n<p>What is the equivalent of <code>YR_COMPILER**</code> and <code>YR_COMPILER*</code> using Java Foreign API?</p>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1672411537,"post_id":74962595,"comment_id":132285466,"body_markdown":"Whose code is this? What is the source?","body":"Whose code is this? What is the source?"},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672432739,"post_id":74962595,"comment_id":132290605,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1672586274,"post_id":74962595,"comment_id":132309017,"body_markdown":"It sounds like you want to draw points along a square (or maybe rectangle ?) but instead of the full shape, only reveal areas in between two angles (similar to `arc()` but instead of a circle sector, rendering a &quot;square sector&quot; ? (reminds me of the life bar in the classic video game The Last Ninja). If so, one idea could be to compute the 4 corners of a square, use `lerp()` to find the points in between (constraining/mapping only to the start / stop angle) and mapping the angle to `lerp()`&#39;s interpolation parameter (`t`). Another option could be rendering to `PGraphics` and using `mask()`. HTH","body":"It sounds like you want to draw points along a square (or maybe rectangle ?) but instead of the full shape, only reveal areas in between two angles (similar to <code>arc()</code> but instead of a circle sector, rendering a &quot;square sector&quot; ? (reminds me of the life bar in the classic video game The Last Ninja). If so, one idea could be to compute the 4 corners of a square, use <code>lerp()</code> to find the points in between (constraining/mapping only to the start / stop angle) and mapping the angle to <code>lerp()</code>&#39;s interpolation parameter (<code>t</code>). Another option could be rendering to <code>PGraphics</code> and using <code>mask()</code>. HTH"}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672418125,"creation_date":1672418125,"answer_id":74963784,"question_id":74962595,"body_markdown":"The following code will draw rectangles for the &#39;stop&#39; and &#39;nightLengthInSeconds&#39; data.  I have no idea if this is what you&#39;re looking for.\r\n```\r\nvoid draw(){\r\n  background(255);\r\n  strokeWeight(2.0);  \r\n  for(int i=0; i&lt;12; i++){   \r\n    float start = 0.0;\r\n    float stop = dayLengthInSeconds[i]/twentyfourhoursInSeconds;\r\n   // println(&quot;stop = &quot;,dayLengthInSeconds[i]/twentyfourhoursInSeconds);\r\n   fill(0,0,255);\r\n   rect(start, 30+i*30, stop*100, 10);\r\n    float nightLengthInSeconds = twentyfourhoursInSeconds - dayLengthInSeconds[i];\r\n   // println(&quot;nightLengthInSeconds = &quot;,nightLengthInSeconds);\r\n    fill(255,0,0);\r\n    rect(start, 40+i*30, nightLengthInSeconds/1000, 10);\r\n  }\r\n}\r\n\r\n```","title":"How to modify the code so that the output becomes rectangle in Processing application","body":"<p>The following code will draw rectangles for the 'stop' and 'nightLengthInSeconds' data.  I have no idea if this is what you're looking for.</p>\n<pre><code>void draw(){\n  background(255);\n  strokeWeight(2.0);  \n  for(int i=0; i&lt;12; i++){   \n    float start = 0.0;\n    float stop = dayLengthInSeconds[i]/twentyfourhoursInSeconds;\n   // println(&quot;stop = &quot;,dayLengthInSeconds[i]/twentyfourhoursInSeconds);\n   fill(0,0,255);\n   rect(start, 30+i*30, stop*100, 10);\n    float nightLengthInSeconds = twentyfourhoursInSeconds - dayLengthInSeconds[i];\n   // println(&quot;nightLengthInSeconds = &quot;,nightLengthInSeconds);\n    fill(255,0,0);\n    rect(start, 40+i*30, nightLengthInSeconds/1000, 10);\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":27246361,"reputation":1,"user_id":20771576,"display_name":"Zarr Reese"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672418125,"creation_date":1672410373,"question_id":74962595,"body_markdown":"This is the code.\r\n\r\n```\r\n//Bergen, NORWAY\r\nString LAT = &quot;60.39097752046264&quot;;   \r\nString LONG = &quot;5.310058600685323&quot;;\r\n\r\n//Kuala Lumpur, MALAYSIA\r\n//String LAT = &quot;3.1573573549026794&quot;;   \r\n//String LONG = &quot;101.71161402234756&quot;;\r\n\r\nString[] month = {&quot;01&quot;, &quot;02&quot;, &quot;03&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, \r\n                  &quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12&quot;};\r\n\r\nJSONObject myData;\r\nint[] dayLengthInSeconds = new int[12];\r\nfloat twentyfourhoursInSeconds = 0.0;\r\n\r\nvoid setup(){  \r\n  size(500, 500);\r\n  \r\n  for (int i=0; i&lt;12; i++){\r\n    String DATE = &quot;2022-&quot; + month[i] + &quot;-15&quot;;\r\n    String URL = &quot;https://api.sunrise-sunset.org&quot; +\r\n                 &quot;/json?lat=&quot; + LAT + &quot;&amp;lng=&quot; + LONG + &quot;&amp;date=&quot; + DATE;\r\n    \r\n    myData = loadJSONObject(URL);\r\n    JSONObject results = myData.getJSONObject(&quot;results&quot;);\r\n    String myDayLength = results.getString(&quot;day_length&quot;);\r\n    String[] thisData = split(myDayLength, &quot;:&quot;);\r\n    int HH = int(thisData[0]);\r\n    int MM = int(thisData[1]);\r\n    int SS = int(thisData[2]);\r\n    \r\n    dayLengthInSeconds[i] = HH*60*60 + MM*60 + SS;\r\n  }\r\n  \r\n  twentyfourhoursInSeconds = 24*60*60;\r\n}\r\n\r\nvoid draw(){\r\n  background(255);\r\n  noFill();\r\n  strokeWeight(8);\r\n  \r\n  for(int i=0; i&lt;12; i++){\r\n    float resize = 100 + (i/12.0) * 300;\r\n    \r\n    stroke(200);\r\n    float start = 0.0;\r\n    float stop = radians((dayLengthInSeconds[i]/twentyfourhoursInSeconds)*360.0);\r\n    arc(width*0.5, height*0.5, resize, resize, start, start+stop);\r\n    \r\n    float nightLengthInSeconds = twentyfourhoursInSeconds - dayLengthInSeconds[i];\r\n    stroke(32);\r\n    start = stop;\r\n    stop = radians((nightLengthInSeconds/twentyfourhoursInSeconds)*360.0);\r\n    arc(width*0.5, height*0.5, resize, resize, start, start+stop);\r\n  }\r\n}\r\n```\r\n\r\n[This is the output](https://i.stack.imgur.com/abtwK.png)\r\n\r\nI wonder how do I modify this code so that the ouput becomes rectangle with blue and yellow colour instead of circle with black and grey as shown in the output.\r\n\r\nI ran this code on application called Processing.\r\n\r\nHope someone can help me.\r\n\r\n\r\nI already try to do replace the radians() and arc() with rect() but got errors. \r\n\r\nI&#39;m new to this application, I might be wrong.","title":"How to modify the code so that the output becomes rectangle in Processing application","body":"<p>This is the code.</p>\n<pre><code>//Bergen, NORWAY\nString LAT = &quot;60.39097752046264&quot;;   \nString LONG = &quot;5.310058600685323&quot;;\n\n//Kuala Lumpur, MALAYSIA\n//String LAT = &quot;3.1573573549026794&quot;;   \n//String LONG = &quot;101.71161402234756&quot;;\n\nString[] month = {&quot;01&quot;, &quot;02&quot;, &quot;03&quot;, &quot;04&quot;, &quot;05&quot;, &quot;06&quot;, \n                  &quot;07&quot;, &quot;08&quot;, &quot;09&quot;, &quot;10&quot;, &quot;11&quot;, &quot;12&quot;};\n\nJSONObject myData;\nint[] dayLengthInSeconds = new int[12];\nfloat twentyfourhoursInSeconds = 0.0;\n\nvoid setup(){  \n  size(500, 500);\n  \n  for (int i=0; i&lt;12; i++){\n    String DATE = &quot;2022-&quot; + month[i] + &quot;-15&quot;;\n    String URL = &quot;https://api.sunrise-sunset.org&quot; +\n                 &quot;/json?lat=&quot; + LAT + &quot;&amp;lng=&quot; + LONG + &quot;&amp;date=&quot; + DATE;\n    \n    myData = loadJSONObject(URL);\n    JSONObject results = myData.getJSONObject(&quot;results&quot;);\n    String myDayLength = results.getString(&quot;day_length&quot;);\n    String[] thisData = split(myDayLength, &quot;:&quot;);\n    int HH = int(thisData[0]);\n    int MM = int(thisData[1]);\n    int SS = int(thisData[2]);\n    \n    dayLengthInSeconds[i] = HH*60*60 + MM*60 + SS;\n  }\n  \n  twentyfourhoursInSeconds = 24*60*60;\n}\n\nvoid draw(){\n  background(255);\n  noFill();\n  strokeWeight(8);\n  \n  for(int i=0; i&lt;12; i++){\n    float resize = 100 + (i/12.0) * 300;\n    \n    stroke(200);\n    float start = 0.0;\n    float stop = radians((dayLengthInSeconds[i]/twentyfourhoursInSeconds)*360.0);\n    arc(width*0.5, height*0.5, resize, resize, start, start+stop);\n    \n    float nightLengthInSeconds = twentyfourhoursInSeconds - dayLengthInSeconds[i];\n    stroke(32);\n    start = stop;\n    stop = radians((nightLengthInSeconds/twentyfourhoursInSeconds)*360.0);\n    arc(width*0.5, height*0.5, resize, resize, start, start+stop);\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/abtwK.png\" rel=\"nofollow noreferrer\">This is the output</a></p>\n<p>I wonder how do I modify this code so that the ouput becomes rectangle with blue and yellow colour instead of circle with black and grey as shown in the output.</p>\n<p>I ran this code on application called Processing.</p>\n<p>Hope someone can help me.</p>\n<p>I already try to do replace the radians() and arc() with rect() but got errors.</p>\n<p>I'm new to this application, I might be wrong.</p>\n"},{"tags":["java","webrtc","sdp","ice-protocol","ice4j"],"owner":{"account_id":7295,"reputation":23914,"user_id":12631,"accept_rate":57,"display_name":"Horcrux7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672418120,"creation_date":1672418120,"question_id":74963782,"body_markdown":"In all the ice4j examples ([for example][1]) the agent is set to setControlling(true) for one site and setControlling(false) for the other site.\r\n\r\nWhich value must I set if the other site is a browser? I can modify it only on the Java site in this case. Or is there an equivalent in JavaScript? Can I derive this from a SDP offer or answer? Depends this on the attribute `a=setup:active` and `a=setup:passive`?\r\n\r\n\r\n  [1]: https://github.com/jitsi/ice4j/blob/master/src/test/java/test/Ice.java","title":"Which value should isControlling have in ice4j Agent?","body":"<p>In all the ice4j examples (<a href=\"https://github.com/jitsi/ice4j/blob/master/src/test/java/test/Ice.java\" rel=\"nofollow noreferrer\">for example</a>) the agent is set to setControlling(true) for one site and setControlling(false) for the other site.</p>\n<p>Which value must I set if the other site is a browser? I can modify it only on the Java site in this case. Or is there an equivalent in JavaScript? Can I derive this from a SDP offer or answer? Depends this on the attribute <code>a=setup:active</code> and <code>a=setup:passive</code>?</p>\n"},{"tags":["java","postgresql","maven","jdbc","jar"],"comments":[{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1346925119,"post_id":12297376,"comment_id":16497773,"body_markdown":"you need to add that driver to your dependencies","body":"you need to add that driver to your dependencies"},{"owner":{"account_id":1419093,"reputation":2964,"user_id":1941161,"accept_rate":67,"display_name":"Scis"},"score":1,"creation_date":1346926964,"post_id":12297376,"comment_id":16498518,"body_markdown":"The driver **is** in the dependencies... And the syntax is correct.","body":"The driver <b>is</b> in the dependencies... And the syntax is correct."},{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1346928057,"post_id":12297376,"comment_id":16499009,"body_markdown":"Do you have `Class.forName(...)` to load the driver?","body":"Do you have <code>Class.forName(...)</code> to load the driver?"}],"answers":[{"comments":[{"owner":{"account_id":1419093,"reputation":2964,"user_id":1941161,"accept_rate":67,"display_name":"Scis"},"score":0,"creation_date":1346930248,"post_id":12298606,"comment_id":16499986,"body_markdown":"Thanks, the shade plugin did great. That&#39;s an important &quot;known issue&quot; for maven-assembly-plugin we probably stay away from it...","body":"Thanks, the shade plugin did great. That&#39;s an important &quot;known issue&quot; for maven-assembly-plugin we probably stay away from it..."}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1346930229,"creation_date":1346929202,"answer_id":12298606,"question_id":12297376,"body_markdown":"If you don&#39;t use `Class.forName(...)` to load the driver manually, then I think you faced an infamous problem with `maven-assembly-plugin` - it overwrites files with the same name when they come from different `jar`s.\r\n\r\nIn your case JDBC driver discovery mechanism relies on a file named `/META-INF/services/java.sql.Driver`, and you have at least two `jar`s containing such a file in your dependencies (Oracle and Postgres drivers), therefore one of them is lost after running `maven-assembly-plugin`.\r\n\r\nYou can use `maven-shade-plugin` instead of `maven-assembly-plugin` to merge these files correcly, as described [here][1].\r\n\r\nAlternatively, you can use `Class.forName(...)` to sidestep the failing autodiscovery mechanism.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5586515/idea-to-avoid-that-spring-handlers-spring-schemas-get-overwritten-when-merging-m","title":"No suitable driver found when including the needed drivers with maven-assembly-plugin","body":"<p>If you don't use <code>Class.forName(...)</code> to load the driver manually, then I think you faced an infamous problem with <code>maven-assembly-plugin</code> - it overwrites files with the same name when they come from different <code>jar</code>s.</p>\n\n<p>In your case JDBC driver discovery mechanism relies on a file named <code>/META-INF/services/java.sql.Driver</code>, and you have at least two <code>jar</code>s containing such a file in your dependencies (Oracle and Postgres drivers), therefore one of them is lost after running <code>maven-assembly-plugin</code>.</p>\n\n<p>You can use <code>maven-shade-plugin</code> instead of <code>maven-assembly-plugin</code> to merge these files correcly, as described <a href=\"https://stackoverflow.com/questions/5586515/idea-to-avoid-that-spring-handlers-spring-schemas-get-overwritten-when-merging-m\">here</a>.</p>\n\n<p>Alternatively, you can use <code>Class.forName(...)</code> to sidestep the failing autodiscovery mechanism.</p>\n"}],"owner":{"account_id":1419093,"reputation":2964,"user_id":1941161,"accept_rate":67,"display_name":"Scis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11194,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":12298606,"answer_count":1,"score":9,"last_activity_date":1672417907,"creation_date":1346924991,"question_id":12297376,"body_markdown":"I have a very small too that works with a PostgreSQL DB and it would be very convenient to use it as a single jar. So indeed I&#39;ve tried using the maven-assembly-plugin like so: \r\n\r\n```xml\r\n&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n&lt;version&gt;2.3&lt;/version&gt;\r\n&lt;configuration&gt;\r\n    &lt;archive&gt;\r\n        &lt;manifest&gt;\r\n            &lt;mainClass&gt;pack.name.MainClass&lt;/mainClass&gt;\r\n        &lt;/manifest&gt;\r\n    &lt;/archive&gt;\r\n    &lt;descriptorRefs&gt;\r\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    &lt;/descriptorRefs&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nAnd it works perfectly fine, I can see all the files I require added to the jar file, including the driver&#39;s files, but when I&#39;m trying to run it I get a:\r\n\r\n&gt; java.sql.SQLException: No suitable driver found for jdbc:postgresql://\\&lt;ip&gt;:5432/dbname\r\n\r\nI have this:\r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n        &lt;version&gt;11.2.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nIn the dependencies and the URL is exactly as I wrote above (except the censored address). What am I missing?\r\n","title":"No suitable driver found when including the needed drivers with maven-assembly-plugin","body":"<p>I have a very small too that works with a PostgreSQL DB and it would be very convenient to use it as a single jar. So indeed I've tried using the maven-assembly-plugin like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.3&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;archive&gt;\n        &lt;manifest&gt;\n            &lt;mainClass&gt;pack.name.MainClass&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n    &lt;/archive&gt;\n    &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n    &lt;/descriptorRefs&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And it works perfectly fine, I can see all the files I require added to the jar file, including the driver's files, but when I'm trying to run it I get a:</p>\n<blockquote>\n<p>java.sql.SQLException: No suitable driver found for jdbc:postgresql://&lt;ip&gt;:5432/dbname</p>\n</blockquote>\n<p>I have this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n        &lt;version&gt;11.2.0.3&lt;/version&gt;\n    &lt;/dependency&gt; \n    &lt;dependency&gt;\n        &lt;groupId&gt;postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>In the dependencies and the URL is exactly as I wrote above (except the censored address). What am I missing?</p>\n"},{"tags":["java","lambda","mockito"],"answers":[{"comments":[{"owner":{"account_id":7000812,"reputation":445,"user_id":5366912,"display_name":"JavaSloth"},"score":3,"creation_date":1483542978,"post_id":41463510,"comment_id":70139856,"body_markdown":"This is exactly what I had in mind.\nThank you for your time.","body":"This is exactly what I had in mind. Thank you for your time."},{"owner":{"account_id":275846,"reputation":2344,"user_id":2968699,"display_name":"Tudor"},"score":1,"creation_date":1568808547,"post_id":41463510,"comment_id":102391742,"body_markdown":"Same situation, but it says that arguments are different, although it expects a Runnable and the tested code passes a Lambda.","body":"Same situation, but it says that arguments are different, although it expects a Runnable and the tested code passes a Lambda."},{"owner":{"account_id":8541824,"reputation":357,"user_id":6442528,"display_name":"Yoga Gowda"},"score":0,"creation_date":1588626334,"post_id":41463510,"comment_id":108966702,"body_markdown":"Had same scenario, and have lot of Function based code, this helps a lot solve my mock test","body":"Had same scenario, and have lot of Function based code, this helps a lot solve my mock test"},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":1,"creation_date":1602523889,"post_id":41463510,"comment_id":113741889,"body_markdown":"One of the best answer found for lambda invocation testing !! Thanks a lot.","body":"One of the best answer found for lambda invocation testing !! Thanks a lot."},{"owner":{"account_id":1033733,"reputation":4315,"user_id":1041533,"accept_rate":100,"display_name":"AgentKnopf"},"score":1,"creation_date":1606736702,"post_id":41463510,"comment_id":115042357,"body_markdown":"In my case the Runnable did not work (test file was kotlin), but rather i needed Function1&lt;P1, P2&gt; as a type for the capture, because my function took an argument and returned one.","body":"In my case the Runnable did not work (test file was kotlin), but rather i needed Function1&lt;P1, P2&gt; as a type for the capture, because my function took an argument and returned one."},{"owner":{"account_id":3475177,"reputation":75,"user_id":2908578,"display_name":"Yego"},"score":0,"creation_date":1621961928,"post_id":41463510,"comment_id":119650506,"body_markdown":"unfortunately, this doesn&#39;t solve the problem presented in the description. This solution will verify if method dispatch was ultimately invoked, but it won&#39;t tell you that was the argument passed to handler.registerMessage. I know that, due to the nature of this code in particular, there is no other outcome (dispatch was invoked because it was passed as parameter), but there are other scenarios, like the one I&#39;m dealing with right now, where you need to verify that a specific lambda was passed as parameter without necessarily being invoked","body":"unfortunately, this doesn&#39;t solve the problem presented in the description. This solution will verify if method dispatch was ultimately invoked, but it won&#39;t tell you that was the argument passed to handler.registerMessage. I know that, due to the nature of this code in particular, there is no other outcome (dispatch was invoked because it was passed as parameter), but there are other scenarios, like the one I&#39;m dealing with right now, where you need to verify that a specific lambda was passed as parameter without necessarily being invoked"}],"tags":[],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":6,"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1514640919,"creation_date":1483531801,"answer_id":41463510,"question_id":41462913,"body_markdown":"Yes, you can. The trick here is that you have to get to the instance of the lambda that is passed to the `registerMessage` and then execute that expression and then you can verify the result.\r\n\r\nFor the purpose of a meaningful example I created this `Handler` class that contains the `dispatchMessage` that you want to test:\r\n\r\n    public class Handler {\r\n    \r\n        private Dispatcher dispatcher = new Dispatcher();\r\n    \r\n        public void dispatchMessage(MessageHandler handler, String argument1, String argument2, Long argument3) {\r\n    \r\n            handler.registerMessage(() -&gt; {\r\n                dispatcher.dispatch(argument1,\r\n                        argument2,\r\n                        argument3);\r\n            });\r\n    \r\n        }\r\n    \r\n        interface MessageHandler {\r\n            void registerMessage(Runnable run);\r\n        }\r\n    \r\n        static class Dispatcher {\r\n            void dispatch(String a, String b, long c){\r\n                // Do dispatch\r\n            }\r\n        }\r\n    }\r\nWhat you have to remember is that a lambda expression is just a short hand form to pass a function to a method. In this example the function is the `run` method of a `Runnable`. Therefore the method `registerMessage` of the interface for `MessageHandler` takes a `Runnable` as it&#39;s argument.\r\nI also included an implementation for the `Dispatcher`, which is called from within `registerMessage`.\r\nThe test for this looks like this:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class HandlerTest {\r\n        @Mock\r\n        private Dispatcher dispatcher;\r\n        @InjectMocks\r\n        private Handler classUnderTest;\r\n        @Captor\r\n        private ArgumentCaptor&lt;Runnable&gt; registerMessageLambdaCaptor;\r\n    \r\n        @Test\r\n        public void shouldCallDispatchMethod() {\r\n            final String a = &quot;foo&quot;;\r\n            final String b = &quot;bar&quot;;\r\n            final long c = 42L;\r\n    \r\n            MessageHandler handler = mock(MessageHandler.class);\r\n    \r\n            classUnderTest.dispatchMessage(handler, a, b, c);\r\n    \r\n            verify(handler).registerMessage(registerMessageLambdaCaptor.capture());\r\n    \r\n            Runnable lambda = registerMessageLambdaCaptor.getValue();\r\n    \r\n            lambda.run();\r\n    \r\n            verify(dispatcher).dispatch(a, b, c);\r\n        }\r\n    }\r\nThere is an `ArgumentCaptor` for the lambda expression which we use in the first verification of the `registerMessage`. After that verification we can retrieve the lambda expression from the captor. The type of the lambda expression is `Runnable`, as defined in the `MessageHandler` interface. Hence we can call the `run` method on it and then verify that the `dispatch` method on the `Dispatcher` was called with all the appropriate arguments.","title":"Mockito verify that a specific lambda has been passed as an argument in mock&#39;s method","body":"<p>Yes, you can. The trick here is that you have to get to the instance of the lambda that is passed to the <code>registerMessage</code> and then execute that expression and then you can verify the result.</p>\n\n<p>For the purpose of a meaningful example I created this <code>Handler</code> class that contains the <code>dispatchMessage</code> that you want to test:</p>\n\n<pre><code>public class Handler {\n\n    private Dispatcher dispatcher = new Dispatcher();\n\n    public void dispatchMessage(MessageHandler handler, String argument1, String argument2, Long argument3) {\n\n        handler.registerMessage(() -&gt; {\n            dispatcher.dispatch(argument1,\n                    argument2,\n                    argument3);\n        });\n\n    }\n\n    interface MessageHandler {\n        void registerMessage(Runnable run);\n    }\n\n    static class Dispatcher {\n        void dispatch(String a, String b, long c){\n            // Do dispatch\n        }\n    }\n}\n</code></pre>\n\n<p>What you have to remember is that a lambda expression is just a short hand form to pass a function to a method. In this example the function is the <code>run</code> method of a <code>Runnable</code>. Therefore the method <code>registerMessage</code> of the interface for <code>MessageHandler</code> takes a <code>Runnable</code> as it's argument.\nI also included an implementation for the <code>Dispatcher</code>, which is called from within <code>registerMessage</code>.\nThe test for this looks like this:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class HandlerTest {\n    @Mock\n    private Dispatcher dispatcher;\n    @InjectMocks\n    private Handler classUnderTest;\n    @Captor\n    private ArgumentCaptor&lt;Runnable&gt; registerMessageLambdaCaptor;\n\n    @Test\n    public void shouldCallDispatchMethod() {\n        final String a = \"foo\";\n        final String b = \"bar\";\n        final long c = 42L;\n\n        MessageHandler handler = mock(MessageHandler.class);\n\n        classUnderTest.dispatchMessage(handler, a, b, c);\n\n        verify(handler).registerMessage(registerMessageLambdaCaptor.capture());\n\n        Runnable lambda = registerMessageLambdaCaptor.getValue();\n\n        lambda.run();\n\n        verify(dispatcher).dispatch(a, b, c);\n    }\n}\n</code></pre>\n\n<p>There is an <code>ArgumentCaptor</code> for the lambda expression which we use in the first verification of the <code>registerMessage</code>. After that verification we can retrieve the lambda expression from the captor. The type of the lambda expression is <code>Runnable</code>, as defined in the <code>MessageHandler</code> interface. Hence we can call the <code>run</code> method on it and then verify that the <code>dispatch</code> method on the <code>Dispatcher</code> was called with all the appropriate arguments.</p>\n"},{"comments":[{"owner":{"account_id":1155867,"reputation":992,"user_id":1136504,"accept_rate":67,"display_name":"DannyThunder"},"score":0,"creation_date":1623308214,"post_id":57339198,"comment_id":120043138,"body_markdown":"That would only check if it was called, not catch any mapping error. Most likely you don&#39;t want to send null, null, null as arguments. any() would not catch that.","body":"That would only check if it was called, not catch any mapping error. Most likely you don&#39;t want to send null, null, null as arguments. any() would not catch that."},{"owner":{"account_id":9848146,"reputation":320,"user_id":7295000,"display_name":"Rajan jha"},"score":0,"creation_date":1665482033,"post_id":57339198,"comment_id":130705172,"body_markdown":"What if there is method overloading? This will not able to find out which method we are actually referring to","body":"What if there is method overloading? This will not able to find out which method we are actually referring to"}],"tags":[],"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1564842324,"creation_date":1564842324,"answer_id":57339198,"question_id":41462913,"body_markdown":"Outside of the specific lambda, you can verify that your method was called with **any** lambda expression was called like this:\r\n\r\n        verify(handler).registerMessage(any())\r\n\r\n        private fun &lt;T&gt; any(): T {\r\n            Mockito.any&lt;T&gt;()\r\n            return null as T\r\n        }","title":"Mockito verify that a specific lambda has been passed as an argument in mock&#39;s method","body":"<p>Outside of the specific lambda, you can verify that your method was called with <strong>any</strong> lambda expression was called like this:</p>\n\n<pre><code>    verify(handler).registerMessage(any())\n\n    private fun &lt;T&gt; any(): T {\n        Mockito.any&lt;T&gt;()\n        return null as T\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392528,"reputation":2186,"user_id":2092109,"accept_rate":83,"display_name":"Benas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672417437,"creation_date":1672417437,"answer_id":74963687,"question_id":41462913,"body_markdown":"You want to evaluate lambda `argThat(a -&gt; a.get()` and only then compare it&#39;s value:\r\n\r\n    when(dogObject.barkAt(argThat(a -&gt; a.get().equals(PEOPLE_TO_BARK_AT)))).thenReturn(OUTCOME);","title":"Mockito verify that a specific lambda has been passed as an argument in mock&#39;s method","body":"<p>You want to evaluate lambda <code>argThat(a -&gt; a.get()</code> and only then compare it's value:</p>\n<pre><code>when(dogObject.barkAt(argThat(a -&gt; a.get().equals(PEOPLE_TO_BARK_AT)))).thenReturn(OUTCOME);\n</code></pre>\n"}],"owner":{"account_id":7000812,"reputation":445,"user_id":5366912,"display_name":"JavaSloth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49760,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":41463510,"answer_count":3,"score":44,"last_activity_date":1672417437,"creation_date":1483529929,"question_id":41462913,"body_markdown":"I want to test the following method:\r\n\r\n    \tpublic void dispatchMessage(MessageHandler handler, String argument1, String argument2, Long argument3) {\r\n\r\n\t\thandler.registerMessage(() -&gt; {\r\n\t\t\tdispatcher.dispatch(argument1,\r\n\t\t\t\t\targument2,\r\n\t\t\t\t\targument3);\r\n\t\t});\r\n\r\n\t}\r\n\r\nWhere `MessageHandler` is a helper class which will accept a Functional Interface implementation in the form a lambda, and store it for later execution.\r\n\r\nIs there a way to verify with mockito that the `dispatchMessage` method of the mocked `MessageHandler` has been called with the specific lambda expression:\r\n\r\nMeaning, can I write such a test:\r\n\r\n    \t\t@Test\r\n\tpublic void testDispatchMessage_Success() throws Exception {\r\n\r\n\t\tmyMessageDispatcher.dispatchMessage(handler, &quot;activityId&quot;, &quot;ctxId&quot;, 1l, );\r\n\r\n\t\tverify(handler, times(1)).dispatchMessage(() -&gt; {\r\n\t\t\tdispatcher\r\n\t\t\t\t.dispatch(&quot;activityId&quot;, &quot;ctxId&quot;, 1l,);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t}\r\n\r\nThis test will result in assertion error:\r\nArgument(s) are different! Wanted:\r\n\r\n    ......Tests$$Lambda$28/379645464@48f278eb\r\n\r\nActual invocation has different arguments:\r\n\r\n    ..........Lambda$27/482052083@2f217633\r\n\r\nwhich makes sense since mockito tries to compare two different implementations of the functional interface, which have a different hash code.\r\n\r\nSo is there some other way to verify that the method `dispatchMessage()` has been called with a lambda that returns void and has a body method of \r\n`dispatcher.dispatch(&quot;activityId&quot;, &quot;ctxId&quot;, 1l,);` ? ","title":"Mockito verify that a specific lambda has been passed as an argument in mock&#39;s method","body":"<p>I want to test the following method:</p>\n\n<pre><code>    public void dispatchMessage(MessageHandler handler, String argument1, String argument2, Long argument3) {\n\n    handler.registerMessage(() -&gt; {\n        dispatcher.dispatch(argument1,\n                argument2,\n                argument3);\n    });\n\n}\n</code></pre>\n\n<p>Where <code>MessageHandler</code> is a helper class which will accept a Functional Interface implementation in the form a lambda, and store it for later execution.</p>\n\n<p>Is there a way to verify with mockito that the <code>dispatchMessage</code> method of the mocked <code>MessageHandler</code> has been called with the specific lambda expression:</p>\n\n<p>Meaning, can I write such a test:</p>\n\n<pre><code>        @Test\npublic void testDispatchMessage_Success() throws Exception {\n\n    myMessageDispatcher.dispatchMessage(handler, \"activityId\", \"ctxId\", 1l, );\n\n    verify(handler, times(1)).dispatchMessage(() -&gt; {\n        dispatcher\n            .dispatch(\"activityId\", \"ctxId\", 1l,);\n    });\n\n}\n\n}\n</code></pre>\n\n<p>This test will result in assertion error:\nArgument(s) are different! Wanted:</p>\n\n<pre><code>......Tests$$Lambda$28/379645464@48f278eb\n</code></pre>\n\n<p>Actual invocation has different arguments:</p>\n\n<pre><code>..........Lambda$27/482052083@2f217633\n</code></pre>\n\n<p>which makes sense since mockito tries to compare two different implementations of the functional interface, which have a different hash code.</p>\n\n<p>So is there some other way to verify that the method <code>dispatchMessage()</code> has been called with a lambda that returns void and has a body method of \n<code>dispatcher.dispatch(\"activityId\", \"ctxId\", 1l,);</code> ? </p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672416828,"post_id":74963499,"comment_id":132286906,"body_markdown":"You have some dependencies mismatch. Any specific reason for using very old release candidate version of `spring-cloud-gateway` 2.0.0.RC2? If you are learning better use the latest stable version. Spring Initializr https://start.spring.io/ could be a good start.","body":"You have some dependencies mismatch. Any specific reason for using very old release candidate version of <code>spring-cloud-gateway</code> 2.0.0.RC2? If you are learning better use the latest stable version. Spring Initializr <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> could be a good start."},{"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"score":0,"creation_date":1672417346,"post_id":74963499,"comment_id":132287038,"body_markdown":"@Alex Like I said, I just followed the tutorial, which is fairly recent (July 2022). I didn&#39;t know they had not updated that version in a while. Anyway, your comment did help solve my problem, but now for a very different reason, my server starts and then crashes (different error log this time)","body":"@Alex Like I said, I just followed the tutorial, which is fairly recent (July 2022). I didn&#39;t know they had not updated that version in a while. Anyway, your comment did help solve my problem, but now for a very different reason, my server starts and then crashes (different error log this time)"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672451251,"post_id":74963499,"comment_id":132293370,"body_markdown":"Please update the question and provide more details","body":"Please update the question and provide more details"}],"owner":{"account_id":10490611,"reputation":295,"user_id":10703088,"display_name":"Dan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672417022,"creation_date":1672416132,"question_id":74963499,"body_markdown":"I&#39;m trying to learn about Spring Gateway (how it is put together, how it works).\r\n\r\nI&#39;m following [this tutorial here][1], and I run into an issue as I try to run the server. I haven&#39;t even done anything specific yet, outside of what this tutorial shows.\r\n\r\nThere is no mention of that issue on it, and [this][2] didn&#39;t help my case.\r\n\r\nI&#39;m not sure what I&#39;m missing as the issue I&#39;m running into didn&#39;t seem to be common.\r\n\r\nAny help would be appreciated. \r\n\r\n\r\nHere is my pom.xml :\r\n\r\n```xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.container&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;gateway&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;gateway&lt;/name&gt;\r\n    \t&lt;description&gt;Gateway&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-gateway&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.0.0.RC2&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t\t&lt;finalName&gt;gateway-app&lt;/finalName&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n```\r\n\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-gateway\r\n  [2]: https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications","title":"Spring gateway server won&#39;t start - java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup","body":"<p>I'm trying to learn about Spring Gateway (how it is put together, how it works).</p>\n<p>I'm following <a href=\"https://www.baeldung.com/spring-cloud-gateway\" rel=\"nofollow noreferrer\">this tutorial here</a>, and I run into an issue as I try to run the server. I haven't even done anything specific yet, outside of what this tutorial shows.</p>\n<p>There is no mention of that issue on it, and <a href=\"https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications\">this</a> didn't help my case.</p>\n<p>I'm not sure what I'm missing as the issue I'm running into didn't seem to be common.</p>\n<p>Any help would be appreciated.</p>\n<p>Here is my pom.xml :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.7.7&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.container&lt;/groupId&gt;\n        &lt;artifactId&gt;gateway&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;gateway&lt;/name&gt;\n        &lt;description&gt;Gateway&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n                &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-gateway&lt;/artifactId&gt;\n                    &lt;version&gt;2.0.0.RC2&lt;/version&gt;\n                    &lt;type&gt;pom&lt;/type&gt;\n                    &lt;scope&gt;import&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/dependencyManagement&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n            &lt;finalName&gt;gateway-app&lt;/finalName&gt;\n        &lt;/build&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;spring-milestones&lt;/id&gt;\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/repository&gt;\n            &lt;repository&gt;\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/releases&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;pluginRepositories&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;spring-milestones&lt;/id&gt;\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n                &lt;snapshots&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/snapshots&gt;\n            &lt;/pluginRepository&gt;\n            &lt;pluginRepository&gt;\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n                &lt;releases&gt;\n                    &lt;enabled&gt;false&lt;/enabled&gt;\n                &lt;/releases&gt;\n            &lt;/pluginRepository&gt;\n        &lt;/pluginRepositories&gt;\n    \n    &lt;/project&gt;\n\n\n</code></pre>\n"},{"tags":["java","javafx","fxml","resourcebundle","fxmlloader"],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1672472636,"post_id":74963029,"comment_id":132295290,"body_markdown":"*“the caller module is javafx.fxml”* -&gt; From your stack trace, the caller looks to be `java.base` ~&gt; `java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683)`.  Though, I didn’t run the debugging or investigation that you did to verify this.","body":"<i>“the caller module is javafx.fxml”</i> -&gt; From your stack trace, the caller looks to be <code>java.base</code> ~&gt; <code>java.base&#47;java.util.ResourceBundle.getBundleImpl(ResourceBun&zwnj;&#8203;dle.java:1683)</code>.  Though, I didn’t run the debugging or investigation that you did to verify this."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672480481,"post_id":74963029,"comment_id":132296229,"body_markdown":"What I might consider a bug, or at least just do not understand the reasoning behind, is the [weird call](https://github.com/openjdk/jfx/blob/master/modules/javafx.fxml/src/main/java/javafx/fxml/FXMLLoader.java#L1103) to `getClassLoader()` on the given `ResourceBundle`&#39;s class. Not only does that require the outer FXML to have a `ResourceBundle` set even if only the nested FXML needs it, but it completely ignores the class loader semantics used by the rest of `FXMLLoader`. It also requires you to create that wrapper class, because otherwise it returns `null`. Like, why?","body":"What I might consider a bug, or at least just do not understand the reasoning behind, is the <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.fxml/src/main/java/javafx/fxml/FXMLLoader.java#L1103\" rel=\"nofollow noreferrer\">weird call</a> to <code>getClassLoader()</code> on the given <code>ResourceBundle</code>&#39;s class. Not only does that require the outer FXML to have a <code>ResourceBundle</code> set even if only the nested FXML needs it, but it completely ignores the class loader semantics used by the rest of <code>FXMLLoader</code>. It also requires you to create that wrapper class, because otherwise it returns <code>null</code>. Like, why?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672481615,"post_id":74963029,"comment_id":132296386,"body_markdown":"Regarding your two cents: The [ResourceBundle](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ResourceBundle.html) documentation does mention [ClassLoader.getResourceAsStream](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)) quite a few times, and that method&#39;s documentation states, &quot;_Additionally, and except for the special case where the resource has a name ending with &quot;.class&quot;, this method will only find resources in packages of named modules when the package is opened unconditionally_&quot;.","body":"Regarding your two cents: The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/ResourceBundle.html\" rel=\"nofollow noreferrer\">ResourceBundle</a> documentation does mention <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">ClassLoader.getResourceAsStream</a> quite a few times, and that method&#39;s documentation states, &quot;<i>Additionally, and except for the special case where the resource has a name ending with &quot;.class&quot;, this method will only find resources in packages of named modules when the package is opened unconditionally</i>&quot;."},{"owner":{"account_id":20647599,"reputation":155,"user_id":15158714,"display_name":"wand555"},"score":0,"creation_date":1672486290,"post_id":74963029,"comment_id":132297105,"body_markdown":"@jewelsea If you go to the method `loadPropertyResourceBundle` in ResourceBundle (line 3664) and debug the loading, `callerModule` and `module` are both `javafx.fxml` when loading the resource bundle specified in the `resources` tag inside a FXML file. In comparison the `callerModule` and `module` are `com.example.demo` when loading the resource bundle through `ResourceBundle.getBundle()` in Java. Maybe using the word &quot;caller module&quot; is misleading as I meant the variable and not the literal module the error originates from.","body":"@jewelsea If you go to the method <code>loadPropertyResourceBundle</code> in ResourceBundle (line 3664) and debug the loading, <code>callerModule</code> and <code>module</code> are both <code>javafx.fxml</code> when loading the resource bundle specified in the <code>resources</code> tag inside a FXML file. In comparison the <code>callerModule</code> and <code>module</code> are <code>com.example.demo</code> when loading the resource bundle through <code>ResourceBundle.getBundle()</code> in Java. Maybe using the word &quot;caller module&quot; is misleading as I meant the variable and not the literal module the error originates from."},{"owner":{"account_id":20647599,"reputation":155,"user_id":15158714,"display_name":"wand555"},"score":0,"creation_date":1672487067,"post_id":74963029,"comment_id":132297205,"body_markdown":"@Slaw I dont understand the internals of java enough to fully grasp why this is necessary. They pushed through so hard with the module accessibility yet I have to essentially bypass it to use this &quot;feature&quot;.\nAnd to the weird call: I had that issue before I had the problem in my post. I found an answer in an oracle forum from like 2011 where someone complained the problem and some other person came up with the wrapper solution. They also said there that they reported the bug but any link to the bug tracker is dead (and I only started with java in 2019 so I dont know how stuff worked back then)","body":"@Slaw I dont understand the internals of java enough to fully grasp why this is necessary. They pushed through so hard with the module accessibility yet I have to essentially bypass it to use this &quot;feature&quot;. And to the weird call: I had that issue before I had the problem in my post. I found an answer in an oracle forum from like 2011 where someone complained the problem and some other person came up with the wrapper solution. They also said there that they reported the bug but any link to the bug tracker is dead (and I only started with java in 2019 so I dont know how stuff worked back then)"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1672488186,"post_id":74963029,"comment_id":132297385,"body_markdown":"A related question and answer: [How to access resource using class loader in Java 9](https://stackoverflow.com/a/48790851/1155209).  The comment on that answer is by Alan Bateman, who I think was part of the Java modularization project.","body":"A related question and answer: <a href=\"https://stackoverflow.com/a/48790851/1155209\">How to access resource using class loader in Java 9</a>.  The comment on that answer is by Alan Bateman, who I think was part of the Java modularization project."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672519651,"post_id":74963029,"comment_id":132302665,"body_markdown":"Well, I&#39;ve set up a test application with two modules, `A` and `B`. I put the bundle in `A` and an attempt to load the bundle in `B`.  I used `StackWalker` to get the calling module (`A`) and passed it to `ResourceBundle.getBundle(String,Locale,Module)`. Unless module `A` unconditionally `opens` the bundle&#39;s package, it doesn&#39;t work. Even `opens bundles to java.base, B;` didn&#39;t work. So, I&#39;m not sure this is directly related to `FXMLLoader`. The problem seems to be the caller module (of `getBundle`) is not the same as the bundle&#39;s module. Don&#39;t know if that&#39;s a bug or not.","body":"Well, I&#39;ve set up a test application with two modules, <code>A</code> and <code>B</code>. I put the bundle in <code>A</code> and an attempt to load the bundle in <code>B</code>.  I used <code>StackWalker</code> to get the calling module (<code>A</code>) and passed it to <code>ResourceBundle.getBundle(String,Locale,Module)</code>. Unless module <code>A</code> unconditionally <code>opens</code> the bundle&#39;s package, it doesn&#39;t work. Even <code>opens bundles to java.base, B;</code> didn&#39;t work. So, I&#39;m not sure this is directly related to <code>FXMLLoader</code>. The problem seems to be the caller module (of <code>getBundle</code>) is not the same as the bundle&#39;s module. Don&#39;t know if that&#39;s a bug or not."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1672522171,"post_id":74963029,"comment_id":132302925,"body_markdown":"Looking into it more, it appears the intended way for loading resource bundles across named-module boundaries is via [ResourceBundleProvider](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/spi/ResourceBundleProvider.html). Implementing this is not exactly trivial; see [this article](https://www.morling.dev/blog/resource-bundle-lookups-in-modular-java-applications/). Additionally, I think the `javafx.fxml` module would have to be updated to declare an SPI like `javafx.fxml.spi.FXMLResourcesProvider` and then `uses` that SPI. We can&#39;t make those changes, unfortunately.","body":"Looking into it more, it appears the intended way for loading resource bundles across named-module boundaries is via <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/spi/ResourceBundleProvider.html\" rel=\"nofollow noreferrer\">ResourceBundleProvider</a>. Implementing this is not exactly trivial; see <a href=\"https://www.morling.dev/blog/resource-bundle-lookups-in-modular-java-applications/\" rel=\"nofollow noreferrer\">this article</a>. Additionally, I think the <code>javafx.fxml</code> module would have to be updated to declare an SPI like <code>javafx.fxml.spi.FXMLResourcesProvider</code> and then <code>uses</code> that SPI. We can&#39;t make those changes, unfortunately."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1672523522,"post_id":74963029,"comment_id":132303102,"body_markdown":"Note if you want to minimize the effects of an unconditional `opens`, then you could put your resource bundles in their own bundle-only package(s).","body":"Note if you want to minimize the effects of an unconditional <code>opens</code>, then you could put your resource bundles in their own bundle-only package(s)."}],"tags":[],"owner":{"account_id":20647599,"reputation":155,"user_id":15158714,"display_name":"wand555"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672416860,"creation_date":1672413178,"answer_id":74963029,"question_id":74955115,"body_markdown":"Whew, finally figured it out after digging deep into the source code of `ResourceBundle` and `ClassLoader`.\r\n\r\n# How to fix it: #\r\n\r\n## Really easy way: ##\r\nPut your `.properties` files at the root of the `resources` folder. Then use it inside fxml \r\n```xml\r\n&lt;fx:include source=&quot;second.fxml&quot; resources=&quot;second_bundle&quot;/&gt;\r\n```\r\nand then everything should work fine.\r\nHowever this approach is not suitable for larger projects which subdivide the resource bundles into different packages.\r\n\r\n## Using sub-packages in resources package ##\r\n\r\nGive the fully qualified path name in the `resources` tag.\r\nSo for example if your package structure from `src` is `com/example/demo/` (**also in the resources folder**) then use\r\n```xml\r\n&lt;fx:include source=&quot;second.fxml&quot; resources=&quot;com/example/demo/second_bundle&quot;/&gt;\r\n```\r\nBut we are **not done** yet. You need to open the package to **all** modules in the `module-info.java`, explicitly using\r\n```java\r\nopens com.example.demo to javafx.fxml;\r\n```\r\ndoes **not** work.\r\nInstead you need to write\r\n```java\r\nopens com.example.demo;\r\n```\r\n### My two cents ### \r\nHonestly to me this sounds like a bug.\r\nI debugged the entire loading process and when the `second_bundle` is loaded from inside the fxml file, the caller module is `javafx.fxml`. And as the java doc for [getResourceAsStream][1] (which is internally called when loading) states:\r\n\r\n&gt; A package name is derived from the resource name. If the package name is a package in the module then the resource can only be located by the caller of this method when the package is open to at least the caller&#39;s module. If the resource is not in a package in the module then the resource is not encapsulated.\r\n\r\nSo in theory opening your package to just `javafx.fxml` should work, but it doesn&#39;t...\r\n\r\n# Full demo project #\r\nThis demo project uses sub-packages.\r\n\r\nProject structure:\r\n\r\n[![project structure][2]][2]\r\n\r\n\r\n`HelloApplication`:\r\n```java\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        ResourceBundle bundle = new ResourceBundleWrapper(ResourceBundle.getBundle(&quot;test_bundle&quot;));\r\n        System.out.println(bundle.getString(&quot;first.button&quot;)); // outputs &quot;English/Deutsch&quot;\r\n\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;first.fxml&quot;), bundle);\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n    // this class effectively does nothing, but it will be loaded by the\r\n    // application class loader\r\n    // instead of the system class loader.\r\n    private static class ResourceBundleWrapper extends ResourceBundle {\r\n\r\n        private final ResourceBundle bundle;\r\n\r\n        ResourceBundleWrapper(ResourceBundle bundle) {\r\n            this.bundle = bundle;\r\n        }\r\n\r\n        @Override\r\n        protected Object handleGetObject(String key) {\r\n            return bundle.getObject(key);\r\n        }\r\n\r\n        @Override\r\n        public Enumeration&lt;String&gt; getKeys() {\r\n            return bundle.getKeys();\r\n        }\r\n\r\n        @Override\r\n        public boolean containsKey(String key) {\r\n            return bundle.containsKey(key);\r\n        }\r\n\r\n        @Override\r\n        public Locale getLocale() {\r\n            return bundle.getLocale();\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;String&gt; keySet() {\r\n            return bundle.keySet();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n`first.fxml`:\r\n```xml\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n\r\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n    &lt;Button text=&quot;%first.button&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\r\n    &lt;fx:include source=&quot;second.fxml&quot; resources=&quot;com/example/demo/second_bundle&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```\r\n`second.fxml`:\r\n```xml\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n\r\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n    &lt;Button text=&quot;%second.button&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```\r\n`test_bundle.properties`:\r\n```properties\r\nfirst.button=English\r\n```\r\n`second_bundle.properties`:\r\n```properties\r\nsecond.button=Hello\r\n```\r\n`module-info.java`:\r\n```java\r\nmodule com.example.demo {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    \r\n    opens com.example.demo;\r\n    exports com.example.demo;\r\n}\r\n```\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Module.html#getResourceAsStream(java.lang.String)\r\n  [2]: https://i.stack.imgur.com/jW7NR.png","title":"fx:include with &quot;resources&quot; throws MissingResourceException but works in Java Code","body":"<p>Whew, finally figured it out after digging deep into the source code of <code>ResourceBundle</code> and <code>ClassLoader</code>.</p>\n<h1>How to fix it:</h1>\n<h2>Really easy way:</h2>\n<p>Put your <code>.properties</code> files at the root of the <code>resources</code> folder. Then use it inside fxml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;fx:include source=&quot;second.fxml&quot; resources=&quot;second_bundle&quot;/&gt;\n</code></pre>\n<p>and then everything should work fine.\nHowever this approach is not suitable for larger projects which subdivide the resource bundles into different packages.</p>\n<h2>Using sub-packages in resources package</h2>\n<p>Give the fully qualified path name in the <code>resources</code> tag.\nSo for example if your package structure from <code>src</code> is <code>com/example/demo/</code> (<strong>also in the resources folder</strong>) then use</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;fx:include source=&quot;second.fxml&quot; resources=&quot;com/example/demo/second_bundle&quot;/&gt;\n</code></pre>\n<p>But we are <strong>not done</strong> yet. You need to open the package to <strong>all</strong> modules in the <code>module-info.java</code>, explicitly using</p>\n<pre class=\"lang-java prettyprint-override\"><code>opens com.example.demo to javafx.fxml;\n</code></pre>\n<p>does <strong>not</strong> work.\nInstead you need to write</p>\n<pre class=\"lang-java prettyprint-override\"><code>opens com.example.demo;\n</code></pre>\n<h3>My two cents</h3>\n<p>Honestly to me this sounds like a bug.\nI debugged the entire loading process and when the <code>second_bundle</code> is loaded from inside the fxml file, the caller module is <code>javafx.fxml</code>. And as the java doc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Module.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">getResourceAsStream</a> (which is internally called when loading) states:</p>\n<blockquote>\n<p>A package name is derived from the resource name. If the package name is a package in the module then the resource can only be located by the caller of this method when the package is open to at least the caller's module. If the resource is not in a package in the module then the resource is not encapsulated.</p>\n</blockquote>\n<p>So in theory opening your package to just <code>javafx.fxml</code> should work, but it doesn't...</p>\n<h1>Full demo project</h1>\n<p>This demo project uses sub-packages.</p>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/jW7NR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jW7NR.png\" alt=\"project structure\" /></a></p>\n<p><code>HelloApplication</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        ResourceBundle bundle = new ResourceBundleWrapper(ResourceBundle.getBundle(&quot;test_bundle&quot;));\n        System.out.println(bundle.getString(&quot;first.button&quot;)); // outputs &quot;English/Deutsch&quot;\n\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;first.fxml&quot;), bundle);\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    // this class effectively does nothing, but it will be loaded by the\n    // application class loader\n    // instead of the system class loader.\n    private static class ResourceBundleWrapper extends ResourceBundle {\n\n        private final ResourceBundle bundle;\n\n        ResourceBundleWrapper(ResourceBundle bundle) {\n            this.bundle = bundle;\n        }\n\n        @Override\n        protected Object handleGetObject(String key) {\n            return bundle.getObject(key);\n        }\n\n        @Override\n        public Enumeration&lt;String&gt; getKeys() {\n            return bundle.getKeys();\n        }\n\n        @Override\n        public boolean containsKey(String key) {\n            return bundle.containsKey(key);\n        }\n\n        @Override\n        public Locale getLocale() {\n            return bundle.getLocale();\n        }\n\n        @Override\n        public Set&lt;String&gt; keySet() {\n            return bundle.keySet();\n        }\n\n    }\n}\n</code></pre>\n<p><code>first.fxml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.demo.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;Button text=&quot;%first.button&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\n    &lt;fx:include source=&quot;second.fxml&quot; resources=&quot;com/example/demo/second_bundle&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><code>second.fxml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;Button text=&quot;%second.button&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><code>test_bundle.properties</code>:</p>\n<pre><code>first.button=English\n</code></pre>\n<p><code>second_bundle.properties</code>:</p>\n<pre><code>second.button=Hello\n</code></pre>\n<p><code>module-info.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.demo {\n    requires javafx.controls;\n    requires javafx.fxml;\n    \n    opens com.example.demo;\n    exports com.example.demo;\n}\n</code></pre>\n"}],"owner":{"account_id":20647599,"reputation":155,"user_id":15158714,"display_name":"wand555"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672416860,"creation_date":1672340665,"question_id":74955115,"body_markdown":"I&#39;m trying to use the `resource` tag inside `fx:include` in a FXML file.\r\n\r\nWhat I don&#39;t understand is, that loading the resource bundle manually with `ResourceBundle.getBundle()` works completely fine.\r\nI already tried a lot of variants in the fxml like:\r\n\r\n - &quot;lang_challenges&quot;\r\n   \r\n - &quot;wand555/github/io/challengesreworkedgui/lang_challenges&quot;\r\n\r\n```java\r\npackage wand555.github.io.challengesreworkedgui;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Enumeration;\r\nimport java.util.Locale;\r\nimport java.util.ResourceBundle;\r\nimport java.util.Set;\r\n\r\npublic class ChallengeApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        ResourceBundle.clearCache();\r\n        ResourceBundle bundle = new ResourceBundleWrapper(ResourceBundle.getBundle(&quot;wand555/github/io/challengesreworkedgui/lang_challenges&quot;));\r\n        System.out.println(bundle.getString(&quot;challenge.name&quot;)); // outputs &quot;abc&quot;\r\n        FXMLLoader loader = new FXMLLoader(ChallengeApplication.class.getResource(&quot;overview.fxml&quot;), bundle);\r\n        Parent root = loader.load();\r\n        Scene scene = new Scene(root, 1000, 1000);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n\r\n    // this class effectively does nothing, but it will be loaded by the\r\n    // application class loader\r\n    // instead of the system class loader.\r\n    private static class ResourceBundleWrapper extends ResourceBundle {\r\n\r\n        private final ResourceBundle bundle;\r\n\r\n        ResourceBundleWrapper(ResourceBundle bundle) {\r\n            this.bundle = bundle;\r\n        }\r\n\r\n        @Override\r\n        protected Object handleGetObject(String key) {\r\n            return bundle.getObject(key);\r\n        }\r\n\r\n        @Override\r\n        public Enumeration&lt;String&gt; getKeys() {\r\n            return bundle.getKeys();\r\n        }\r\n\r\n        @Override\r\n        public boolean containsKey(String key) {\r\n            return bundle.containsKey(key);\r\n        }\r\n\r\n        @Override\r\n        public Locale getLocale() {\r\n            return bundle.getLocale();\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;String&gt; keySet() {\r\n            return bundle.keySet();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n`overview.fxml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;AnchorPane prefHeight=&quot;500.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;wand555.github.io.challengesreworkedgui.controllers.OverviewController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;VBox&gt;\r\n         &lt;children&gt;\r\n            &lt;StackPane alignment=&quot;CENTER_LEFT&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Button fx:id=&quot;exportButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onExport&quot; text=&quot;Export&quot; /&gt;\r\n               &lt;/children&gt;\r\n            &lt;/StackPane&gt;\r\n            &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; spacing=&quot;25.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;fx:include fx:id=&quot;challengesOverview&quot; source=&quot;challenges/challenges_overview.fxml&quot; resources=&quot;lang_challenges&quot; charset=&quot;utf-8&quot;/&gt;\r\n                  &lt;Separator orientation=&quot;VERTICAL&quot; prefHeight=&quot;200.0&quot; /&gt;\r\n                  &lt;fx:include source=&quot;goals/goal_overview.fxml&quot; /&gt;\r\n                  &lt;Separator orientation=&quot;VERTICAL&quot; prefHeight=&quot;200.0&quot; /&gt;\r\n               &lt;/children&gt;\r\n            &lt;/HBox&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\nThe `lang_challenges.properties` contains a single key-value pair\r\n```properties\r\nchallenge.name=abc\r\n```\r\nThe `lang_challenges_de.properties&#39; has the same content\r\n```properties\r\nchallenge.name=abc\r\n```\r\n\r\nAnd this is the error message I&#39;m getting\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: javafx.fxml.LoadException: \r\n/Users/felixnaumann/Documents/ChallengesReworked/ChallengesReworkedGUI/target/classes/wand555/github/io/challengesreworkedgui/overview.fxml:21\r\n\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n\tat challenges.reworked.gui/wand555.github.io.challengesreworkedgui.ChallengeApplication.start(ChallengeApplication.java:22)\r\n\tat javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\nCaused by: java.util.MissingResourceException: Can&#39;t find bundle for base name lang_challenges, locale de_DE\r\n\tat java.base/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2045)\r\n\tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683)\r\n\tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1575)\r\n\tat java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:1280)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$IncludeElement.processAttribute(FXMLLoader.java:1100)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:755)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\r\n\tat javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\r\n\t... 9 more\r\nException running application wand555.github.io.challengesreworkedgui.ChallengeApplication\r\n```","title":"fx:include with &quot;resources&quot; throws MissingResourceException but works in Java Code","body":"<p>I'm trying to use the <code>resource</code> tag inside <code>fx:include</code> in a FXML file.</p>\n<p>What I don't understand is, that loading the resource bundle manually with <code>ResourceBundle.getBundle()</code> works completely fine.\nI already tried a lot of variants in the fxml like:</p>\n<ul>\n<li><p>&quot;lang_challenges&quot;</p>\n</li>\n<li><p>&quot;wand555/github/io/challengesreworkedgui/lang_challenges&quot;</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package wand555.github.io.challengesreworkedgui;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Enumeration;\nimport java.util.Locale;\nimport java.util.ResourceBundle;\nimport java.util.Set;\n\npublic class ChallengeApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        ResourceBundle.clearCache();\n        ResourceBundle bundle = new ResourceBundleWrapper(ResourceBundle.getBundle(&quot;wand555/github/io/challengesreworkedgui/lang_challenges&quot;));\n        System.out.println(bundle.getString(&quot;challenge.name&quot;)); // outputs &quot;abc&quot;\n        FXMLLoader loader = new FXMLLoader(ChallengeApplication.class.getResource(&quot;overview.fxml&quot;), bundle);\n        Parent root = loader.load();\n        Scene scene = new Scene(root, 1000, 1000);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n\n    // this class effectively does nothing, but it will be loaded by the\n    // application class loader\n    // instead of the system class loader.\n    private static class ResourceBundleWrapper extends ResourceBundle {\n\n        private final ResourceBundle bundle;\n\n        ResourceBundleWrapper(ResourceBundle bundle) {\n            this.bundle = bundle;\n        }\n\n        @Override\n        protected Object handleGetObject(String key) {\n            return bundle.getObject(key);\n        }\n\n        @Override\n        public Enumeration&lt;String&gt; getKeys() {\n            return bundle.getKeys();\n        }\n\n        @Override\n        public boolean containsKey(String key) {\n            return bundle.containsKey(key);\n        }\n\n        @Override\n        public Locale getLocale() {\n            return bundle.getLocale();\n        }\n\n        @Override\n        public Set&lt;String&gt; keySet() {\n            return bundle.keySet();\n        }\n\n    }\n}\n</code></pre>\n<p><code>overview.fxml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;AnchorPane prefHeight=&quot;500.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;wand555.github.io.challengesreworkedgui.controllers.OverviewController&quot;&gt;\n   &lt;children&gt;\n      &lt;VBox&gt;\n         &lt;children&gt;\n            &lt;StackPane alignment=&quot;CENTER_LEFT&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;exportButton&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#onExport&quot; text=&quot;Export&quot; /&gt;\n               &lt;/children&gt;\n            &lt;/StackPane&gt;\n            &lt;HBox prefHeight=&quot;100.0&quot; prefWidth=&quot;200.0&quot; spacing=&quot;25.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;fx:include fx:id=&quot;challengesOverview&quot; source=&quot;challenges/challenges_overview.fxml&quot; resources=&quot;lang_challenges&quot; charset=&quot;utf-8&quot;/&gt;\n                  &lt;Separator orientation=&quot;VERTICAL&quot; prefHeight=&quot;200.0&quot; /&gt;\n                  &lt;fx:include source=&quot;goals/goal_overview.fxml&quot; /&gt;\n                  &lt;Separator orientation=&quot;VERTICAL&quot; prefHeight=&quot;200.0&quot; /&gt;\n               &lt;/children&gt;\n            &lt;/HBox&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>The <code>lang_challenges.properties</code> contains a single key-value pair</p>\n<pre><code>challenge.name=abc\n</code></pre>\n<p>The `lang_challenges_de.properties' has the same content</p>\n<pre><code>challenge.name=abc\n</code></pre>\n<p>And this is the error message I'm getting</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javafx.fxml.LoadException: \n/Users/felixnaumann/Documents/ChallengesReworked/ChallengesReworkedGUI/target/classes/wand555/github/io/challengesreworkedgui/overview.fxml:21\n\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n    at challenges.reworked.gui/wand555.github.io.challengesreworkedgui.ChallengeApplication.start(ChallengeApplication.java:22)\n    at javafx.graphics@19/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\nCaused by: java.util.MissingResourceException: Can't find bundle for base name lang_challenges, locale de_DE\n    at java.base/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2045)\n    at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683)\n    at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1575)\n    at java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:1280)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$IncludeElement.processAttribute(FXMLLoader.java:1100)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$Element.processStartElement(FXMLLoader.java:230)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:755)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2808)\n    at javafx.fxml@19/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2634)\n    ... 9 more\nException running application wand555.github.io.challengesreworkedgui.ChallengeApplication\n</code></pre>\n"},{"tags":["java","swing","jframe"],"comments":[{"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"score":0,"creation_date":1672411809,"post_id":74962769,"comment_id":132285541,"body_markdown":"Does this answer your question? [Java getClass().getResource(&quot;file&quot;) leads to NullPointerException](https://stackoverflow.com/questions/5769351/java-getclass-getresourcefile-leads-to-nullpointerexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5769351/java-getclass-getresourcefile-leads-to-nullpointerexception\">Java getClass().getResource(&quot;file&quot;) leads to NullPointerException</a>"},{"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"score":0,"creation_date":1672411832,"post_id":74962769,"comment_id":132285546,"body_markdown":"https://stackoverflow.com/questions/5769351/java-getclass-getresourcefile-leads-to-nullpointerexception    this question will help you...","body":"<a href=\"https://stackoverflow.com/questions/5769351/java-getclass-getresourcefile-leads-to-nullpointerexception\" title=\"java getclass getresourcefile leads to nullpointerexception\">stackoverflow.com/questions/5769351/&hellip;</a>    this question will help you..."},{"owner":{"display_name":"user17121955"},"score":0,"creation_date":1672412328,"post_id":74962769,"comment_id":132285672,"body_markdown":"No, it didn&#39;t work. Still the same error. Even I moved the image to the same package with .java file.","body":"No, it didn&#39;t work. Still the same error. Even I moved the image to the same package with .java file."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1672412617,"post_id":74962769,"comment_id":132285751,"body_markdown":"What are you using for building? Are you sure it is configured to copy resources like `png` to the output directory?","body":"What are you using for building? Are you sure it is configured to copy resources like <code>png</code> to the output directory?"},{"owner":{"display_name":"user17121955"},"score":0,"creation_date":1672412868,"post_id":74962769,"comment_id":132285821,"body_markdown":"What do you mean by building? If I&#39;m understanding this correct, I&#39;m using Maven with NetBeans. And I just copied the image from my desktop to the ``com.mycompany.footballist`` folder.","body":"What do you mean by building? If I&#39;m understanding this correct, I&#39;m using Maven with NetBeans. And I just copied the image from my desktop to the <code>com.mycompany.footballist</code> folder."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672413217,"post_id":74962769,"comment_id":132285910,"body_markdown":"*And I just copied the image from my desktop to the com.mycompany.footballist folder*. But that&#39;s wrong - it should be com.mycompany.footballist.pics\n`jar tf whatever-distribution-jar.jar | find &quot;search3030&quot;` (assuming Windows). Personally I wouldn&#39;t use such a deep resources folder","body":"<i>And I just copied the image from my desktop to the com.mycompany.footballist folder</i>. But that&#39;s wrong - it should be com.mycompany.footballist.pics <code>jar tf whatever-distribution-jar.jar | find &quot;search3030&quot;</code> (assuming Windows). Personally I wouldn&#39;t use such a deep resources folder"},{"owner":{"display_name":"user17121955"},"score":0,"creation_date":1672413692,"post_id":74962769,"comment_id":132286022,"body_markdown":"I&#39;m using Windows. Developing the project with NetBeans, Maven and Swing. Sorry(I&#39;m a newbie on Java) I didn&#39;t understand your answer. ``jar tf whatever-distribution-jar.jar | find &quot;search3030&quot;`` what is this? What should I do with this?","body":"I&#39;m using Windows. Developing the project with NetBeans, Maven and Swing. Sorry(I&#39;m a newbie on Java) I didn&#39;t understand your answer. <code>jar tf whatever-distribution-jar.jar | find &quot;search3030&quot;</code> what is this? What should I do with this?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672413986,"post_id":74962769,"comment_id":132286097,"body_markdown":"In cmd.exe change to the directory in which your runnable jar is created and run that command. Tell us what you get","body":"In cmd.exe change to the directory in which your runnable jar is created and run that command. Tell us what you get"},{"owner":{"display_name":"user17121955"},"score":0,"creation_date":1672415063,"post_id":74962769,"comment_id":132286417,"body_markdown":"Ok. what should I type instead of ``whatever-distribution``?","body":"Ok. what should I type instead of <code>whatever-distribution</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672415235,"post_id":74962769,"comment_id":132286471,"body_markdown":"You&#39;ll have to find out the name of the output jar that gets created","body":"You&#39;ll have to find out the name of the output jar that gets created"},{"owner":{"display_name":"user17121955"},"score":0,"creation_date":1672415375,"post_id":74962769,"comment_id":132286517,"body_markdown":"I think I found it. And I&#39;ve ran this command: ``jar tf Footballist-1.0-SNAPSHOT.jar | find &quot;search3030&quot;`` nothing happened.","body":"I think I found it. And I&#39;ve ran this command: <code>jar tf Footballist-1.0-SNAPSHOT.jar | find &quot;search3030&quot;</code> nothing happened."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672416178,"post_id":74962769,"comment_id":132286720,"body_markdown":"Yes, that looks like the right kind of file name. If nothing is found, it means that nothing has got in there. Do the following: Create *directory* /src/main/resources/images in your Maven source tree (most will already be there). Copy the png there. Use the following code: `jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/images/search3030.png&quot;)));` Do that right and you should be able to run `java -jar Footballist-1.0-SNAPSHOT.jar` and have it work and find the image","body":"Yes, that looks like the right kind of file name. If nothing is found, it means that nothing has got in there. Do the following: Create <i>directory</i> /src/main/resources/images in your Maven source tree (most will already be there). Copy the png there. Use the following code: <code>jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;&#47;images&#47;search&zwnj;&#8203;3030.png&quot;)));</code> Do that right and you should be able to run <code>java -jar Footballist-1.0-SNAPSHOT.jar</code> and have it work and find the image"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672416671,"post_id":74962769,"comment_id":132286854,"body_markdown":"Good. I&#39;ll post it as an answer for you to accept","body":"Good. I&#39;ll post it as an answer for you to accept"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672416851,"creation_date":1672416851,"answer_id":74963597,"question_id":74962769,"body_markdown":" - Create directory /src/main/resources/images in your  Maven source\r\n   tree (most will already be there).\r\n   \r\n - Copy the png there.\r\n - Use the following code:\r\n\r\n```jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/images/search3030.png&quot;)));```\r\n\r\nDo that right and you should be able to run `java -jar Footballist-1.0-SNAPSHOT.jar` and have it work and find the image \r\n\r\n","title":"Java Swing Label Icon - java.lang.NullPointerException","body":"<ul>\n<li><p>Create directory /src/main/resources/images in your  Maven source\ntree (most will already be there).</p>\n</li>\n<li><p>Copy the png there.</p>\n</li>\n<li><p>Use the following code:</p>\n</li>\n</ul>\n<p><code>jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/images/search3030.png&quot;)));</code></p>\n<p>Do that right and you should be able to run <code>java -jar Footballist-1.0-SNAPSHOT.jar</code> and have it work and find the image</p>\n"}],"owner":{"display_name":"user17121955"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74963597,"answer_count":1,"score":0,"last_activity_date":1672416851,"creation_date":1672411608,"question_id":74962769,"body_markdown":"I&#39;m trying to set an icon for a label like this:\r\n\r\n    jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/com/mycompany/footballist/pics/search3030.png&quot;)));\r\n\r\nIt&#39;s throwing the error:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\r\n\tat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:217)\r\n\tat com.mycompany.footballist.SearchFrame.&lt;init&gt;(SearchFrame.java:18)\r\n\tat com.mycompany.footballist.StartingFrame.jButton1ActionPerformed(StartingFrame.java:129)\r\n\tat com.mycompany.footballist.StartingFrame$2.actionPerformed(StartingFrame.java:65)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\r\n\tat java.desktop/java.awt.Component.processMouseEvent(Component.java:6635)\r\n\tat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6400)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2263)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\r\n\tat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\r\n\tat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\r\n\tat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\nMy project structure is like that:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI&#39;m trying to access this photo from ``SearchFrame.java`` and they are under the same package. Image is in the pics folder.\r\nI don&#39;t know what am I doing wrong. Can you please help me?\r\n\r\nI moved the file to the same package with SearchFrame.java, but nothing changed. Still the same error.\r\n\r\n  [1]: https://i.stack.imgur.com/v1ZIk.png","title":"Java Swing Label Icon - java.lang.NullPointerException","body":"<p>I'm trying to set an icon for a label like this:</p>\n<pre><code>jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/com/mycompany/footballist/pics/search3030.png&quot;)));\n</code></pre>\n<p>It's throwing the error:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException\nat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:217)\nat com.mycompany.footballist.SearchFrame.&lt;init&gt;(SearchFrame.java:18)\nat com.mycompany.footballist.StartingFrame.jButton1ActionPerformed(StartingFrame.java:129)\nat com.mycompany.footballist.StartingFrame$2.actionPerformed(StartingFrame.java:65)\nat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1967)\nat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2308)\nat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\nat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\nat java.desktop/javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:279)\nat java.desktop/java.awt.Component.processMouseEvent(Component.java:6635)\nat java.desktop/javax.swing.JComponent.processMouseEvent(JComponent.java:3342)\nat java.desktop/java.awt.Component.processEvent(Component.java:6400)\nat java.desktop/java.awt.Container.processEvent(Container.java:2263)\nat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5011)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2321)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\nat java.desktop/java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4918)\nat java.desktop/java.awt.LightweightDispatcher.processMouseEvent(Container.java:4547)\nat java.desktop/java.awt.LightweightDispatcher.dispatchEvent(Container.java:4488)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2307)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2772)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4843)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:772)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:95)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:743)\nat java.base/java.security.AccessController.doPrivileged(Native Method)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:742)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n<p>My project structure is like that:</p>\n<p><a href=\"https://i.stack.imgur.com/v1ZIk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v1ZIk.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm trying to access this photo from <code>SearchFrame.java</code> and they are under the same package. Image is in the pics folder.\nI don't know what am I doing wrong. Can you please help me?</p>\n<p>I moved the file to the same package with SearchFrame.java, but nothing changed. Still the same error.</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672417366,"post_id":74963529,"comment_id":132287046,"body_markdown":"If writes are being encapsulated in `writeValue`, what would be the problem with keeping track in the code itself alone?","body":"If writes are being encapsulated in <code>writeValue</code>, what would be the problem with keeping track in the code itself alone?"},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1672422429,"post_id":74963529,"comment_id":132288357,"body_markdown":"@g00se If it&#39;s that simple, that would work, but I&#39;m assuming the calls to `write` happen in some function called directly or indirectly by `writeValue`.","body":"@g00se If it&#39;s that simple, that would work, but I&#39;m assuming the calls to <code>write</code> happen in some function called directly or indirectly by <code>writeValue</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672422685,"post_id":74963529,"comment_id":132288396,"body_markdown":"That doesn&#39;t really make sense","body":"That doesn&#39;t really make sense"},{"owner":{"account_id":2177869,"reputation":203,"user_id":1928107,"display_name":"Kabiraj Kharel"},"score":0,"creation_date":1672423669,"post_id":74963529,"comment_id":132288636,"body_markdown":"@SolomonUcko Ucko, can you please give me one example? I tried and it didn&#39;t work.","body":"@SolomonUcko Ucko, can you please give me one example? I tried and it didn&#39;t work."},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1672449052,"post_id":74963529,"comment_id":132293169,"body_markdown":"@KabirajKharel What did you try? In what way didn&#39;t it work?","body":"@KabirajKharel What did you try? In what way didn&#39;t it work?"}],"tags":[],"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672416319,"creation_date":1672416319,"answer_id":74963529,"question_id":74963492,"body_markdown":"You could create your own implementation of [`java.io.Writer`](https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html) that delegates to `writer` while also keeping track of how many times `&#39;*&#39;` is written.","title":"Read the string value from BufferedWriter object","body":"<p>You could create your own implementation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Writer.html\" rel=\"nofollow noreferrer\"><code>java.io.Writer</code></a> that delegates to <code>writer</code> while also keeping track of how many times <code>'*'</code> is written.</p>\n"}],"owner":{"account_id":2177869,"reputation":203,"user_id":1928107,"display_name":"Kabiraj Kharel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672416319,"creation_date":1672416098,"question_id":74963492,"body_markdown":"I have BufferedWriter object passed from outside my project. I need to check the value that has been stored in BufferedWriter writer object. And I need to do it in the middle of my code process just to add some extra value based on the logic/condition that comes. I tried to find if it is possible to add get the string value that I added in BufferedWriter. But didn&#39;t know how to read the String inside the object. For example: \r\n\r\n    \r\n\r\n    public int writeValue(BufferedWriter writer) {\r\n            writer.write(&quot;Here is one *&quot;);\r\n            writer.write(&quot;Here is two *&quot;);\r\n            //Now I need to count the * from writer object and need to return the value 2\r\n        }\r\n\r\nThank you in Advance.\r\n","title":"Read the string value from BufferedWriter object","body":"<p>I have BufferedWriter object passed from outside my project. I need to check the value that has been stored in BufferedWriter writer object. And I need to do it in the middle of my code process just to add some extra value based on the logic/condition that comes. I tried to find if it is possible to add get the string value that I added in BufferedWriter. But didn't know how to read the String inside the object. For example:</p>\n<pre><code>public int writeValue(BufferedWriter writer) {\n        writer.write(&quot;Here is one *&quot;);\n        writer.write(&quot;Here is two *&quot;);\n        //Now I need to count the * from writer object and need to return the value 2\n    }\n</code></pre>\n<p>Thank you in Advance.</p>\n"},{"tags":["java","json","api","rest"],"answers":[{"tags":[],"owner":{"display_name":"user4080356"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412194061,"creation_date":1412194061,"answer_id":26149681,"question_id":26149410,"body_markdown":"You can try to use the following code instead of your String variable payload:\n\n    List&lt;NameValuePair&gt; payload = new ArrayList&lt;NameValuePair&gt;();\n\t\t\t\n    payload.add(new BasicNameValuePair(&quot;variable1&quot;, &quot;value1&quot;);\n\nThat worked for me","title":"How to decode JSON from Java REST API request?","body":"<p>You can try to use the following code instead of your String variable payload:</p>\n\n<pre><code>List&lt;NameValuePair&gt; payload = new ArrayList&lt;NameValuePair&gt;();\n\npayload.add(new BasicNameValuePair(\"variable1\", \"value1\");\n</code></pre>\n\n<p>That worked for me</p>\n"},{"comments":[{"owner":{"account_id":1368712,"reputation":1030,"user_id":1304536,"display_name":"Andreas"},"score":0,"creation_date":1412194447,"post_id":26149725,"comment_id":40991743,"body_markdown":"damn it you were faster xD  take my medal!","body":"damn it you were faster xD  take my medal!"},{"owner":{"account_id":3633430,"reputation":8030,"user_id":3029175,"accept_rate":88,"display_name":"pgiecek"},"score":0,"creation_date":1412203322,"post_id":26149725,"comment_id":40995581,"body_markdown":"Look at `json_decode()` [documentation](http://php.net/manual/en/function.json-decode.php). The second parameter determines whether to return associative array. This should work `$entity[&#39;variable1&#39;]`.","body":"Look at <code>json_decode()</code> <a href=\"http://php.net/manual/en/function.json-decode.php\" rel=\"nofollow noreferrer\">documentation</a>. The second parameter determines whether to return associative array. This should work <code>$entity[&#39;variable1&#39;]</code>."}],"tags":[],"owner":{"account_id":3633430,"reputation":8030,"user_id":3029175,"accept_rate":88,"display_name":"pgiecek"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412194617,"creation_date":1412194192,"answer_id":26149725,"question_id":26149410,"body_markdown":"The `$_POST` variable is not set for all HTTP POST requests, but only for specific types, e.g application/x-www-form-urlencoded.\r\n\r\nSince you are posting a request containing JSON entity (application/json), you need to access it as follows.\r\n\r\n    $json = file_get_contents(&#39;php://input&#39;);\r\n    $entity= json_decode($json, TRUE);","title":"How to decode JSON from Java REST API request?","body":"<p>The <code>$_POST</code> variable is not set for all HTTP POST requests, but only for specific types, e.g application/x-www-form-urlencoded.</p>\n\n<p>Since you are posting a request containing JSON entity (application/json), you need to access it as follows.</p>\n\n<pre><code>$json = file_get_contents('php://input');\n$entity= json_decode($json, TRUE);\n</code></pre>\n"}],"owner":{"display_name":"user3420034"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672416145,"creation_date":1412192996,"question_id":26149410,"body_markdown":"I&#39;m sending data to an API from Java using POST.\r\n\r\nWhat I&#39;m trying to do is send a particular variable to the API in the POST request, and then use the value of it. But currently the value is empty. The API is definitely being called.\r\n\r\nMy Java looks like this:\r\n\r\n    String line;\r\n    StringBuffer jsonString = new StringBuffer();\r\n\r\n    try {\r\n        URL url = new URL(&quot;https://www.x.com/api.php&quot;);\r\n        String payload = &quot;{\\&quot;variable1\\&quot;:\\&quot;value1\\&quot;,\\&quot;variable2\\&quot;:\\&quot;value2\\&quot;}&quot;;\r\n    \r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    \r\n        connection.setDoInput(true);\r\n        connection.setDoOutput(true);\r\n        connection.setRequestMethod(&quot;POST&quot;);\r\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n        OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream(), &quot;UTF-8&quot;);\r\n        writer.write(payload);\r\n        writer.close();\r\n    \r\n        BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n        while ((line = br.readLine()) != null) {\r\n    \t    jsonString.append(line);\r\n        }\r\n        br.close();\r\n        connection.disconnect();\r\n    }\r\nThis is based on: https://stackoverflow.com/questions/15570656/how-to-send-request-payload-to-rest-api-in-java\r\n\r\nCurrently the value isn&#39;t being read correctly. Am I sending it correctly in Java? Do I have to do something to decode it?","title":"How to decode JSON from Java REST API request?","body":"<p>I'm sending data to an API from Java using POST.</p>\n<p>What I'm trying to do is send a particular variable to the API in the POST request, and then use the value of it. But currently the value is empty. The API is definitely being called.</p>\n<p>My Java looks like this:</p>\n<pre><code>String line;\nStringBuffer jsonString = new StringBuffer();\n\ntry {\n    URL url = new URL(&quot;https://www.x.com/api.php&quot;);\n    String payload = &quot;{\\&quot;variable1\\&quot;:\\&quot;value1\\&quot;,\\&quot;variable2\\&quot;:\\&quot;value2\\&quot;}&quot;;\n\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n\n    connection.setDoInput(true);\n    connection.setDoOutput(true);\n    connection.setRequestMethod(&quot;POST&quot;);\n    connection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n    connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\n    OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream(), &quot;UTF-8&quot;);\n    writer.write(payload);\n    writer.close();\n\n    BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n    while ((line = br.readLine()) != null) {\n        jsonString.append(line);\n    }\n    br.close();\n    connection.disconnect();\n}\n</code></pre>\n<p>This is based on: <a href=\"https://stackoverflow.com/questions/15570656/how-to-send-request-payload-to-rest-api-in-java\">How to send Request payload to REST API in java?</a></p>\n<p>Currently the value isn't being read correctly. Am I sending it correctly in Java? Do I have to do something to decode it?</p>\n"},{"tags":["java","reflection","abstract-class"],"comments":[{"owner":{"account_id":4617916,"reputation":107707,"user_id":3744182,"display_name":"dbc"},"score":1,"creation_date":1671298680,"post_id":74825564,"comment_id":132071385,"body_markdown":"*&quot;method &#39;save&#39; is not applicable for arguments&quot;.* - this is because you declare `service` as `AbstractService service = (AbstractService) ctor.newInstance();` but `save` is a method on `Service` not `AbstractService`.","body":"<i>&quot;method &#39;save&#39; is not applicable for arguments&quot;.</i> - this is because you declare <code>service</code> as <code>AbstractService service = (AbstractService) ctor.newInstance();</code> but <code>save</code> is a method on <code>Service</code> not <code>AbstractService</code>."},{"owner":{"account_id":1275436,"reputation":2012,"user_id":1230816,"accept_rate":62,"display_name":"Jemolah"},"score":0,"creation_date":1672415644,"post_id":74825564,"comment_id":132286595,"body_markdown":"I have updated the example but the compiler is still not able to resolve the parameters.","body":"I have updated the example but the compiler is still not able to resolve the parameters."}],"answers":[{"tags":[],"owner":{"account_id":1275436,"reputation":2012,"user_id":1230816,"accept_rate":62,"display_name":"Jemolah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672415952,"creation_date":1672415952,"answer_id":74963468,"question_id":74825564,"body_markdown":"Only solution I have found is to use reflection because the compiler cannot validate types. Use like this:\r\n\r\n    //--- Obtain save method from service class\r\n    Method method = serviceClass.getDeclaredMethod( &quot;save&quot;, Class&lt;AbstractParameter&gt;);\r\n\r\n    //--- Invoke method on service object\r\n    method.invoke( serviceObject, param );","title":"How to give an abstract parameter object to a method of an abstract class?","body":"<p>Only solution I have found is to use reflection because the compiler cannot validate types. Use like this:</p>\n<pre><code>//--- Obtain save method from service class\nMethod method = serviceClass.getDeclaredMethod( &quot;save&quot;, Class&lt;AbstractParameter&gt;);\n\n//--- Invoke method on service object\nmethod.invoke( serviceObject, param );\n</code></pre>\n"}],"owner":{"account_id":1275436,"reputation":2012,"user_id":1230816,"accept_rate":62,"display_name":"Jemolah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672415952,"creation_date":1671199615,"question_id":74825564,"body_markdown":"How can I give a parameter to a method using Javas Reflection API?\r\n\r\nThe idea is to have many *param* classes (POJOs) and each of them has its own\r\n*service* class. The *service* class has a method &quot;save&quot; to persist a *param* object.\r\n\r\nClass *FileImporter* should just use params and services by their name.\r\n\r\nHere is a code snippet with lots of simplifications.\r\n\r\n    class Param extends AbstractParam {\r\n    ... class body ...\r\n    }\r\n\r\n    abstract class BaseService {\r\n        abstract void save(AbstractParam p);\r\n    }\r\n\r\n    class Service extends BaseService {\r\n        ConcreteParam save(ConcreteParam param) {\r\n            ... method body. EntityManager omitted ... }\r\n    }\r\n\r\n    class FileImporter {\r\n        void importJson(String serviceName, String paramName, Map&lt;String,Object&gt; jsonMap ) {\r\n                //--- Build service object\r\n            \tClass&lt;AbstractService&gt; serviceClass =\r\n    \t\t\t\t\t(Class&lt;AbstractService&gt;) Class.forName( serviceName );\r\n    \t\t\tConstructor&lt;?&gt; ctor =\r\n    \t\t\t\t\tserviceClass.getConstructor( (Class&lt;?&gt;[]) null );\r\n    \t\t\tAbstractService service = (AbstractService) ctor.newInstance();\r\n\r\n                //--- Build parameter constructor for reuse\r\n                Class&lt;AbstractParameter&gt; paramClass =\r\n\t\t\t\t\t(Class&lt;AbstractParameter&gt;) Class.forName( paramName );\r\n\t\t\t    paramConstructor = paramClass .getConstructor( (Class&lt;?&gt;[]) null );\r\n                \r\n                //--- Build parameter and fill from map\r\n               \tAbstractParameter param = paramConstructor.newInstance();\r\n\t\t\t    BeanHelper.populate( param, entityMap ); // populates param recursively\r\n\t\t        param = service.save( param );\r\n    }\r\n\r\nThis approach ends with compiler error &quot;method &#39;save&#39; is not applicable for arguments&quot;.\r\n\r\n","title":"How to give an abstract parameter object to a method of an abstract class?","body":"<p>How can I give a parameter to a method using Javas Reflection API?</p>\n<p>The idea is to have many <em>param</em> classes (POJOs) and each of them has its own\n<em>service</em> class. The <em>service</em> class has a method &quot;save&quot; to persist a <em>param</em> object.</p>\n<p>Class <em>FileImporter</em> should just use params and services by their name.</p>\n<p>Here is a code snippet with lots of simplifications.</p>\n<pre><code>class Param extends AbstractParam {\n... class body ...\n}\n\nabstract class BaseService {\n    abstract void save(AbstractParam p);\n}\n\nclass Service extends BaseService {\n    ConcreteParam save(ConcreteParam param) {\n        ... method body. EntityManager omitted ... }\n}\n\nclass FileImporter {\n    void importJson(String serviceName, String paramName, Map&lt;String,Object&gt; jsonMap ) {\n            //--- Build service object\n            Class&lt;AbstractService&gt; serviceClass =\n                    (Class&lt;AbstractService&gt;) Class.forName( serviceName );\n            Constructor&lt;?&gt; ctor =\n                    serviceClass.getConstructor( (Class&lt;?&gt;[]) null );\n            AbstractService service = (AbstractService) ctor.newInstance();\n\n            //--- Build parameter constructor for reuse\n            Class&lt;AbstractParameter&gt; paramClass =\n                (Class&lt;AbstractParameter&gt;) Class.forName( paramName );\n            paramConstructor = paramClass .getConstructor( (Class&lt;?&gt;[]) null );\n            \n            //--- Build parameter and fill from map\n            AbstractParameter param = paramConstructor.newInstance();\n            BeanHelper.populate( param, entityMap ); // populates param recursively\n            param = service.save( param );\n}\n</code></pre>\n<p>This approach ends with compiler error &quot;method 'save' is not applicable for arguments&quot;.</p>\n"},{"tags":["java","deadlock"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1672408609,"post_id":74962290,"comment_id":132284682,"body_markdown":"You need to create a minimal reproducible example. How do you know threads are waiting to take a task? If the queue is not empty then they should get the task. Are you using synchronized somehow?","body":"You need to create a minimal reproducible example. How do you know threads are waiting to take a task? If the queue is not empty then they should get the task. Are you using synchronized somehow?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1672415229,"post_id":74962290,"comment_id":132286466,"body_markdown":"Are you aware that Java 8 update 45 is extremely old. Have you tried with a more recent version, like Java 8 update 352.","body":"Are you aware that Java 8 update 45 is extremely old. Have you tried with a more recent version, like Java 8 update 352."}],"owner":{"account_id":11362419,"reputation":1,"user_id":8330235,"display_name":"yangzhe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672415292,"creation_date":1672408363,"question_id":74962290,"body_markdown":"![the threadpool corePoolSize = 128,maximumPoolSize=1280,workQueue is ArrayBlockingQueue,size 512](https://i.stack.imgur.com/kZmBd.png)\r\n\r\nNow, threadpool is full, workQueue is full, many thread blocking at workQueue&#39;s lock, and the consumer thread pool, all consumer thread, are waiting to take task.\r\nI&#39;m sure the ArrayBlockingQueue&#39;s lock can be acquire, but when released, head can&#39;t unpark,\r\n![waitStatus != 0 unpark](https://i.stack.imgur.com/mjJ77.png) \r\n\r\nI don&#39;t know why, now the application is dead. If I send request to it, I just get this: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@2bfa7c15 rejected.\r\n\r\nI must find out the reason.","title":"java1.8_45 ThreadPoolExecutor use ArrayBlockingQueue occur deadlock","body":"<p><img src=\"https://i.stack.imgur.com/kZmBd.png\" alt=\"the threadpool corePoolSize = 128,maximumPoolSize=1280,workQueue is ArrayBlockingQueue,size 512\" /></p>\n<p>Now, threadpool is full, workQueue is full, many thread blocking at workQueue's lock, and the consumer thread pool, all consumer thread, are waiting to take task.\nI'm sure the ArrayBlockingQueue's lock can be acquire, but when released, head can't unpark,\n<img src=\"https://i.stack.imgur.com/mjJ77.png\" alt=\"waitStatus != 0 unpark\" /></p>\n<p>I don't know why, now the application is dead. If I send request to it, I just get this: java.util.concurrent.RejectedExecutionException: Task java.util.concurrent.FutureTask@2bfa7c15 rejected.</p>\n<p>I must find out the reason.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1672377788,"post_id":74957482,"comment_id":132278314,"body_markdown":"You want `s.substring(0, s.length() - 1)`","body":"You want <code>s.substring(0, s.length() - 1)</code>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672414664,"creation_date":1672414664,"answer_id":74963280,"question_id":74957482,"body_markdown":"Don&#39;t replace the entire string each time.\r\n\r\nInstead you can update the `Document` directly to only remove the last character:\r\n\r\n\ttry\r\n\t{\r\n\t\tDocument doc = textField.getDocument();\r\n\t\tdoc.remove(doc.getLength() - 1, 1);\r\n\t}\r\n\tcatch(BadLocationException ble) { ble.getStackTrace(); }\r\n\r\n","title":"How to clear only one value from text field in one press on button in java swing?","body":"<p>Don't replace the entire string each time.</p>\n<p>Instead you can update the <code>Document</code> directly to only remove the last character:</p>\n<pre><code>try\n{\n    Document doc = textField.getDocument();\n    doc.remove(doc.getLength() - 1, 1);\n}\ncatch(BadLocationException ble) { ble.getStackTrace(); }\n</code></pre>\n"}],"owner":{"account_id":27387296,"reputation":1,"user_id":20890866,"display_name":"Md Pranto Imam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672414664,"creation_date":1672364856,"question_id":74957482,"body_markdown":"I want to clear only one value per press from text field \r\n\r\n```java\r\npublic void actionPerformed(ActionEvent e){\r\n\r\n       String s= textfield.getText();\r\n       textfield.setText(s[s.length()-1]);\r\n```\r\n","title":"How to clear only one value from text field in one press on button in java swing?","body":"<p>I want to clear only one value per press from text field</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void actionPerformed(ActionEvent e){\n\n       String s= textfield.getText();\n       textfield.setText(s[s.length()-1]);\n</code></pre>\n"},{"tags":["java","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":14096185,"reputation":6841,"user_id":10182897,"display_name":"Ashish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672399541,"creation_date":1672399541,"answer_id":74960989,"question_id":74960412,"body_markdown":"It is a `List&lt;Map&lt;String, int&gt;&gt;`. You have an immutable variable type in that map.","title":"Type of attribute of class for retrieving list from firebase","body":"<p>It is a <code>List&lt;Map&lt;String, int&gt;&gt;</code>. You have an immutable variable type in that map.</p>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672414447,"creation_date":1672414447,"answer_id":74963239,"question_id":74960412,"body_markdown":"Your `offress` looks like an array of numbers, so that should map to:\r\n\r\n```\r\npublic List&lt;long&gt; offres;\r\n````","title":"Type of attribute of class for retrieving list from firebase","body":"<p>Your <code>offress</code> looks like an array of numbers, so that should map to:</p>\n<pre><code>public List&lt;long&gt; offres;\n</code></pre>\n"}],"owner":{"account_id":22932954,"reputation":11,"user_id":17066880,"display_name":"Samuel Carva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672414447,"creation_date":1672395634,"question_id":74960412,"body_markdown":"[![Sample from database][1]][1]\r\n\r\nI have a class Candidat. I want to know what should be the type of attribute &#171;&#160;offres&#160;&#187; so I can retrieve it from firebase the same way I do for the other attibutes when I build my object this way&#160;:\r\n\r\n```\r\nCandidat candidat = snapshot.child(mail).getValue(Candidat.class);\r\n```\r\n\r\nI have no issues getting the other attributes into my class Candidat with simple casting :\r\n```\r\nprivate String password;\r\nprivate String nom;\r\nprivate String prenom;\r\nprivate String dateNaissance;\r\nprivate String sexe;\r\nprivate String nationalite;\r\nprivate boolean affichageInfo;\r\n```\r\n\r\nBut I don&#39;t know how to do it with &quot;offres&quot;.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cmzpS.png","title":"Type of attribute of class for retrieving list from firebase","body":"<p><a href=\"https://i.stack.imgur.com/cmzpS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cmzpS.png\" alt=\"Sample from database\" /></a></p>\n<p>I have a class Candidat. I want to know what should be the type of attribute « offres » so I can retrieve it from firebase the same way I do for the other attibutes when I build my object this way :</p>\n<pre><code>Candidat candidat = snapshot.child(mail).getValue(Candidat.class);\n</code></pre>\n<p>I have no issues getting the other attributes into my class Candidat with simple casting :</p>\n<pre><code>private String password;\nprivate String nom;\nprivate String prenom;\nprivate String dateNaissance;\nprivate String sexe;\nprivate String nationalite;\nprivate boolean affichageInfo;\n</code></pre>\n<p>But I don't know how to do it with &quot;offres&quot;.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":3606433,"reputation":1648,"user_id":3008506,"display_name":"Lucas Araujo"},"score":1,"creation_date":1461333505,"post_id":36795724,"comment_id":61166014,"body_markdown":"I think &quot;[a-zA-Z0-9]*&quot; should be &quot;[a-zA-Z0-9]+&quot;, the &quot;*&quot; quantifier allows between zero and infinte characters.","body":"I think &quot;[a-zA-Z0-9]*&quot; should be &quot;[a-zA-Z0-9]+&quot;, the &quot;*&quot; quantifier allows between zero and infinte characters."},{"owner":{"account_id":4284874,"reputation":835,"user_id":3503018,"accept_rate":38,"display_name":"soufrk"},"score":0,"creation_date":1461334326,"post_id":36795724,"comment_id":61166572,"body_markdown":"True ! @lbarros\nTry `String string = &quot;&quot;;`","body":"True ! @lbarros Try <code>String string = &quot;&quot;;</code>"}],"answers":[{"tags":[],"owner":{"account_id":5691247,"reputation":2529,"user_id":4499267,"accept_rate":74,"display_name":"Phate01"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461333502,"creation_date":1461333502,"answer_id":36795822,"question_id":36795724,"body_markdown":"The `*` quantifier matches between zero and unlimited times, as many times as possible, giving back as needed. So an empty string can go through your regex. \r\n\r\nExample: https://regex101.com/r/jZ2hI7/1 (note that it&#39;s giving 1 match with empty text)","title":"Possible for null character to get past regex?","body":"<p>The <code>*</code> quantifier matches between zero and unlimited times, as many times as possible, giving back as needed. So an empty string can go through your regex. </p>\n\n<p>Example: <a href=\"https://regex101.com/r/jZ2hI7/1\" rel=\"nofollow\">https://regex101.com/r/jZ2hI7/1</a> (note that it's giving 1 match with empty text)</p>\n"},{"tags":[],"owner":{"account_id":3606433,"reputation":1648,"user_id":3008506,"display_name":"Lucas Araujo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461333725,"creation_date":1461333725,"answer_id":36795908,"question_id":36795724,"body_markdown":"Change `[a-zA-Z0-9]*`\r\nto     `[a-zA-Z0-9]+`. \r\nAsterisk (&quot;*&quot;) will allow zero characters.\r\n\r\n\r\n","title":"Possible for null character to get past regex?","body":"<p>Change <code>[a-zA-Z0-9]*</code>\nto     <code>[a-zA-Z0-9]+</code>. \nAsterisk (\"*\") will allow zero characters.</p>\n"}],"owner":{"display_name":"user3420034"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36795822,"answer_count":2,"score":0,"last_activity_date":1672414348,"creation_date":1461333264,"question_id":36795724,"body_markdown":"I use this regex in Java to allow only letters or numbers through as user input:\r\n\r\n    if (!string.matches(&quot;[a-zA-Z0-9]*&quot;)) {\r\n    }\r\n\r\nA NULL character seems to have passed this. Is this possible? Or is this caused by something else?","title":"Possible for null character to get past regex?","body":"<p>I use this regex in Java to allow only letters or numbers through as user input:</p>\n<pre><code>if (!string.matches(&quot;[a-zA-Z0-9]*&quot;)) {\n}\n</code></pre>\n<p>A NULL character seems to have passed this. Is this possible? Or is this caused by something else?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1627721596,"post_id":68600453,"comment_id":121235847,"body_markdown":"Threads and streams are entirely orthogonal concepts. It&#39;s like asking about blue vs pizza.","body":"Threads and streams are entirely orthogonal concepts. It&#39;s like asking about blue vs pizza."},{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1627722151,"post_id":68600453,"comment_id":121235946,"body_markdown":"Streams are more specific to data, in other words a stream is sequence of memory chunks, reads are limited to a single direction, its true you can implement parallel streams, but that will have the same idea.. the sequence and order of chunks remains the same and you can&#39;t read already visited locations, while threads are less coupled memory, it can lock a part of memory to write or read multiple times, and they don&#39;t guarantee order of invocation. IO related implementations are limited to the OS, and file locking is provided natively to the program to do syscalls.","body":"Streams are more specific to data, in other words a stream is sequence of memory chunks, reads are limited to a single direction, its true you can implement parallel streams, but that will have the same idea.. the sequence and order of chunks remains the same and you can&#39;t read already visited locations, while threads are less coupled memory, it can lock a part of memory to write or read multiple times, and they don&#39;t guarantee order of invocation. IO related implementations are limited to the OS, and file locking is provided natively to the program to do syscalls."}],"answers":[{"tags":[],"owner":{"account_id":7748682,"reputation":933,"user_id":5865397,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1627722696,"creation_date":1627721199,"answer_id":68600557,"question_id":68600453,"body_markdown":"It&#39;s unfortunate that these terms translate to the same thing in your language since they are completely different concepts.\r\n\r\nStreams control a flow of data. In your example, this is the flow of data out of and into files, but you can use them for other things too. See a ll the subclasses of inputstream here: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html\r\n\r\nThreads control a flow of instructions. In your example, you delayed an instruction by half a second. The most valuable part of controlling instructions with threads is the ability to create more than one thread, which can allow 2 flows of instructions to execute at the same time. The concept of multithreading/parallelism is a bit too in depth for a single stackoverflow answer. If you want more information on multithreading, there are a lot of resources about it online. I strongly recommend reading around the subject, since there are many, many things that can go wrong when manually implementing multithreading. ","title":"Thread vs Stream","body":"<p>It's unfortunate that these terms translate to the same thing in your language since they are completely different concepts.</p>\n<p>Streams control a flow of data. In your example, this is the flow of data out of and into files, but you can use them for other things too. See a ll the subclasses of inputstream here: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/InputStream.html</a></p>\n<p>Threads control a flow of instructions. In your example, you delayed an instruction by half a second. The most valuable part of controlling instructions with threads is the ability to create more than one thread, which can allow 2 flows of instructions to execute at the same time. The concept of multithreading/parallelism is a bit too in depth for a single stackoverflow answer. If you want more information on multithreading, there are a lot of resources about it online. I strongly recommend reading around the subject, since there are many, many things that can go wrong when manually implementing multithreading.</p>\n"},{"tags":[],"owner":{"account_id":27325705,"reputation":11,"user_id":20838717,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672414047,"creation_date":1671705301,"answer_id":74887246,"question_id":68600453,"body_markdown":"An interesting note: There are different terms in Russian that describe these two things.\r\nA Stream is indeed &quot;Поток&quot;, while a Thread is actually called &quot;Нить&quot;.\r\n\r\nUnfortunately, though, in the Russian programming tradition, there can indeed be confusion between these two concepts, because multithreading is translated as &quot;многопоточность&quot;, which literally means &quot;multistreaming&quot; or &quot;multicurrenting&quot;.\r\n\r\nI don&#39;t know why such a confusion appeared in the Russian language (maybe because of some &quot;creative&quot; translators who thought that coming up with a more poetic-sounding term is better that translating a term literally)\r\n\r\nI would personally translate &quot;multithreading&quot; literally, saying something like &quot;многонитевость&quot;, but a lot of people would disagree (I guess some people like gatekeeping obscure terms to confuse the newcomers).\r\n\r\nThis is one of the reasons why I try relying on documentation in English first, and only after start reading it in Russian or Spanish, because there are a lot of little discrepancies like that. For example, Spanish speakers would call an Array &quot;Arreglo&quot;, a List would be &quot;Lista&quot; , but &quot;ArrayList&quot; would be pronounced as &quot;Arrai List&quot; and not &quot;Arreglo Lista&quot;. \r\n\r\nAnyways, yeah, there is a difference between Threads and IO Streams.\r\nThreads allow the use of concurrent programming, while IO Streams are just a way to show where the information is coming from and where it is coming to.\r\n\r\nFor example, reading with your eyes would be an Input Stream, your brain processing the information would be a Thread, and you speaking would be an Output Stream.","title":"Thread vs Stream","body":"<p>An interesting note: There are different terms in Russian that describe these two things.\nA Stream is indeed &quot;Поток&quot;, while a Thread is actually called &quot;Нить&quot;.</p>\n<p>Unfortunately, though, in the Russian programming tradition, there can indeed be confusion between these two concepts, because multithreading is translated as &quot;многопоточность&quot;, which literally means &quot;multistreaming&quot; or &quot;multicurrenting&quot;.</p>\n<p>I don't know why such a confusion appeared in the Russian language (maybe because of some &quot;creative&quot; translators who thought that coming up with a more poetic-sounding term is better that translating a term literally)</p>\n<p>I would personally translate &quot;multithreading&quot; literally, saying something like &quot;многонитевость&quot;, but a lot of people would disagree (I guess some people like gatekeeping obscure terms to confuse the newcomers).</p>\n<p>This is one of the reasons why I try relying on documentation in English first, and only after start reading it in Russian or Spanish, because there are a lot of little discrepancies like that. For example, Spanish speakers would call an Array &quot;Arreglo&quot;, a List would be &quot;Lista&quot; , but &quot;ArrayList&quot; would be pronounced as &quot;Arrai List&quot; and not &quot;Arreglo Lista&quot;.</p>\n<p>Anyways, yeah, there is a difference between Threads and IO Streams.\nThreads allow the use of concurrent programming, while IO Streams are just a way to show where the information is coming from and where it is coming to.</p>\n<p>For example, reading with your eyes would be an Input Stream, your brain processing the information would be a Thread, and you speaking would be an Output Stream.</p>\n"}],"owner":{"account_id":21704062,"reputation":33,"user_id":16016828,"display_name":"Dmitry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1434,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68600557,"answer_count":2,"score":3,"last_activity_date":1672414047,"creation_date":1627720152,"question_id":68600453,"body_markdown":"Recently I&#39;ve started to learn Java and I have a question about IO streams and threads. In our language, both of the definitions translate like &quot;Поток&quot; and it confuses me.\r\n\r\nI&#39;m wondering about conception in general for both topics: streams and threads. I will provide an example that will show my point of view related to this topic.\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        try{\r\n            FileOutputStream fos = new FileOutputStream(&quot;C:\\\\Users\\\\TMS\\\\Desktop\\\\Workspace\\\\src\\\\File.txt&quot;);\r\n            FileInputStream fis =  new FileInputStream(&quot;C:\\\\Users\\\\TMS\\\\Desktop\\\\Workspace\\\\src\\\\FileWithInfo&quot;);\r\n            int supnum = 0;\r\n            try{\r\n                while((supnum = fis.read()) != -1){\r\n                    fos.write(supnum);\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\nAs I can understand I created instances of two classes: FileOutputStream and FileInputStream. Instances of these classes we can use as a &quot;controller&quot; which helps us to control our streams by providing with the methods (.write and .read for example) and at the same time implicitly Java &quot;speaks&quot; with the processor and tells the processor to create new streams (I&#39;m not sure, but probably if we create lots of streams, we even will see them in Task Manager). \r\n\t\r\nSo in the and we have a chain: \r\n\r\n1. instance of the class that will help us to control our stream.\r\n2. our stream which we use for transferring data.\r\n3. our file, that we use (for reading or writing information).\r\n\r\nAnd if we talk about threads the chain is almost the same:\r\n```\r\npublic class Program {\r\n\t  \r\n    public static void main(String[] args) {\r\n          \r\n        System.out.println(&quot;Main thread started...&quot;);\r\n        Runnable r = ()-&gt;{\r\n            System.out.printf(&quot;%s started... \\n&quot;, Thread.currentThread().getName());\r\n            try{\r\n                Thread.sleep(500);\r\n            }\r\n            catch(InterruptedException e){\r\n                System.out.println(&quot;Thread has been interrupted&quot;);\r\n            }\r\n            System.out.printf(&quot;%s finished... \\n&quot;, Thread.currentThread().getName());\r\n        };\r\n        Thread myThread = new Thread(r,&quot;MyThread&quot;);\r\n        myThread.start();\r\n        System.out.println(&quot;Main thread finished...&quot;);\r\n    }\r\n}\r\n```\r\nWe have an instance (myThread), which helps us to control our thread with the methods.\r\n\r\nThe difference that I see is that streams can use only for transferring data but threads are a more complex tool, which allows us to use them as an additional .main(String[] args) method. \r\n\r\nI want to know:\r\n\r\n1. Is my guesses correct?\r\n  \r\n   - If not, what is the difference between these terms?\r\n\r\n2. Why IO related classes don&#39;t implement Runnable interfaces like class Thread? \r\n\r\n3. Can we use threads for transferring data like we use streams?\r\n\r\n","title":"Thread vs Stream","body":"<p>Recently I've started to learn Java and I have a question about IO streams and threads. In our language, both of the definitions translate like &quot;Поток&quot; and it confuses me.</p>\n<p>I'm wondering about conception in general for both topics: streams and threads. I will provide an example that will show my point of view related to this topic.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic class Test {\n    public static void main(String[] args) {\n        try{\n            FileOutputStream fos = new FileOutputStream(&quot;C:\\\\Users\\\\TMS\\\\Desktop\\\\Workspace\\\\src\\\\File.txt&quot;);\n            FileInputStream fis =  new FileInputStream(&quot;C:\\\\Users\\\\TMS\\\\Desktop\\\\Workspace\\\\src\\\\FileWithInfo&quot;);\n            int supnum = 0;\n            try{\n                while((supnum = fis.read()) != -1){\n                    fos.write(supnum);\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } catch (IOException e){\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>As I can understand I created instances of two classes: FileOutputStream and FileInputStream. Instances of these classes we can use as a &quot;controller&quot; which helps us to control our streams by providing with the methods (.write and .read for example) and at the same time implicitly Java &quot;speaks&quot; with the processor and tells the processor to create new streams (I'm not sure, but probably if we create lots of streams, we even will see them in Task Manager).</p>\n<p>So in the and we have a chain:</p>\n<ol>\n<li>instance of the class that will help us to control our stream.</li>\n<li>our stream which we use for transferring data.</li>\n<li>our file, that we use (for reading or writing information).</li>\n</ol>\n<p>And if we talk about threads the chain is almost the same:</p>\n<pre><code>public class Program {\n      \n    public static void main(String[] args) {\n          \n        System.out.println(&quot;Main thread started...&quot;);\n        Runnable r = ()-&gt;{\n            System.out.printf(&quot;%s started... \\n&quot;, Thread.currentThread().getName());\n            try{\n                Thread.sleep(500);\n            }\n            catch(InterruptedException e){\n                System.out.println(&quot;Thread has been interrupted&quot;);\n            }\n            System.out.printf(&quot;%s finished... \\n&quot;, Thread.currentThread().getName());\n        };\n        Thread myThread = new Thread(r,&quot;MyThread&quot;);\n        myThread.start();\n        System.out.println(&quot;Main thread finished...&quot;);\n    }\n}\n</code></pre>\n<p>We have an instance (myThread), which helps us to control our thread with the methods.</p>\n<p>The difference that I see is that streams can use only for transferring data but threads are a more complex tool, which allows us to use them as an additional .main(String[] args) method.</p>\n<p>I want to know:</p>\n<ol>\n<li><p>Is my guesses correct?</p>\n<ul>\n<li>If not, what is the difference between these terms?</li>\n</ul>\n</li>\n<li><p>Why IO related classes don't implement Runnable interfaces like class Thread?</p>\n</li>\n<li><p>Can we use threads for transferring data like we use streams?</p>\n</li>\n</ol>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":26048869,"reputation":59,"user_id":19752467,"display_name":"Gareth"},"score":1,"creation_date":1672411292,"post_id":74962651,"comment_id":132285411,"body_markdown":"@Jesse No, the program is being used on macOS Big Sur 11.6","body":"@Jesse No, the program is being used on macOS Big Sur 11.6"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1672413977,"post_id":74962651,"comment_id":132286095,"body_markdown":"*When I add a mouse event listener to the jframe doesn&#39;t detect events on the title bar* - correct, the title bar is a component of the underlying OS and Swing doesn&#39;t have access to those events. *a better approach to this problem?* - maybe use a `ComponentListener` and handle the `componentMoved` event. Or the other approach is to use jni/jna to access the events. I have no idea how to do this.","body":"<i>When I add a mouse event listener to the jframe doesn&#39;t detect events on the title bar</i> - correct, the title bar is a component of the underlying OS and Swing doesn&#39;t have access to those events. <i>a better approach to this problem?</i> - maybe use a <code>ComponentListener</code> and handle the <code>componentMoved</code> event. Or the other approach is to use jni/jna to access the events. I have no idea how to do this."},{"owner":{"display_name":"user15314575"},"score":0,"creation_date":1672414512,"post_id":74962651,"comment_id":132286262,"body_markdown":"Any `MouseListener` is not intended for this. You could use a `ComponentListener` to determine if a `Frame` has been moved by the user. [jframe-drag-listener](https://stackoverflow.com/questions/66825216/jframe-drag-listener)","body":"Any <code>MouseListener</code> is not intended for this. You could use a <code>ComponentListener</code> to determine if a <code>Frame</code> has been moved by the user. <a href=\"https://stackoverflow.com/questions/66825216/jframe-drag-listener\">jframe-drag-listener</a>"},{"owner":{"account_id":26048869,"reputation":59,"user_id":19752467,"display_name":"Gareth"},"score":0,"creation_date":1672757092,"post_id":74962651,"comment_id":132343339,"body_markdown":"@camickr Thank you, this was the solution. ComponentListener worked well","body":"@camickr Thank you, this was the solution. ComponentListener worked well"}],"owner":{"account_id":26048869,"reputation":59,"user_id":19752467,"display_name":"Gareth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672413990,"creation_date":1672410845,"question_id":74962651,"body_markdown":"I have a user that uses 3 monitors of different sizes, I want to use a mouse dragged event listener to detect when the user drags the window to another screen and resize it based on that screens size. When I add a mouse event listener to the jframe doesn&#39;t detect events on the title bar. Is there a way to detect titlebar events? or a better approach to this problem?\r\n\r\nI tried also tried using AWTEventListener but had the same problem where it won&#39;t detect events in the titlebar.\r\n\r\nTest Code showing issue:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class FrameTest extends JFrame\r\n    {\r\n       JPanel pnl;\r\n       JLabel lbl;\r\n       \r\n       public FrameTest()\r\n       {\r\n          setSize(1100,800); \r\n          setLocationRelativeTo(null);\r\n          setTitle(&quot;Frame Test&quot;);\r\n                \r\n          pnl = new JPanel();\r\n          lbl = new JLabel(&quot;This is my Frame&quot;);\r\n          \r\n          add(pnl);\r\n          pnl.add(lbl);\r\n          \r\n          setVisible(true);\r\n          FrameTest.this.addMouseListener(new MouseMotionEvents());  \r\n          FrameTest.this.addMouseMotionListener(new MouseMotionEvents());\r\n    \r\n    \r\n       }\r\n       \r\n       public class MouseMotionEvents implements MouseListener, MouseMotionListener \r\n       {\r\n         \r\n         public MouseMotionEvents() \r\n         {\r\n           addMouseListener(this);\r\n           addMouseMotionListener(this); \r\n         }\r\n       \r\n         public void mouseClicked(MouseEvent me) \r\n         {     \r\n         }\r\n    \r\n         public void mouseEntered(MouseEvent me) \r\n         {\r\n         }\r\n    \r\n         public void mouseExited(MouseEvent me) \r\n         {\r\n         }\r\n    \r\n         public void mousePressed(MouseEvent me) \r\n         {\r\n         }\r\n    \r\n         public void mouseReleased(MouseEvent me) \r\n         {\r\n          \r\n         }\r\n    \r\n         public void mouseDragged(MouseEvent me) \r\n         {\r\n          System.out.println(&quot;Mouse Dragged Event Triggered&quot;);\r\n         }\r\n    \r\n         public void mouseMoved(MouseEvent me) \r\n         {\r\n         }\r\n       }\r\n       \r\n       public static void main( String[] args ) \r\n       {\r\n          new FrameTest();\r\n       }\r\n    }","title":"Titlebar of JFrame not recognizing mouse events","body":"<p>I have a user that uses 3 monitors of different sizes, I want to use a mouse dragged event listener to detect when the user drags the window to another screen and resize it based on that screens size. When I add a mouse event listener to the jframe doesn't detect events on the title bar. Is there a way to detect titlebar events? or a better approach to this problem?</p>\n<p>I tried also tried using AWTEventListener but had the same problem where it won't detect events in the titlebar.</p>\n<p>Test Code showing issue:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\n\npublic class FrameTest extends JFrame\n{\n   JPanel pnl;\n   JLabel lbl;\n   \n   public FrameTest()\n   {\n      setSize(1100,800); \n      setLocationRelativeTo(null);\n      setTitle(&quot;Frame Test&quot;);\n            \n      pnl = new JPanel();\n      lbl = new JLabel(&quot;This is my Frame&quot;);\n      \n      add(pnl);\n      pnl.add(lbl);\n      \n      setVisible(true);\n      FrameTest.this.addMouseListener(new MouseMotionEvents());  \n      FrameTest.this.addMouseMotionListener(new MouseMotionEvents());\n\n\n   }\n   \n   public class MouseMotionEvents implements MouseListener, MouseMotionListener \n   {\n     \n     public MouseMotionEvents() \n     {\n       addMouseListener(this);\n       addMouseMotionListener(this); \n     }\n   \n     public void mouseClicked(MouseEvent me) \n     {     \n     }\n\n     public void mouseEntered(MouseEvent me) \n     {\n     }\n\n     public void mouseExited(MouseEvent me) \n     {\n     }\n\n     public void mousePressed(MouseEvent me) \n     {\n     }\n\n     public void mouseReleased(MouseEvent me) \n     {\n      \n     }\n\n     public void mouseDragged(MouseEvent me) \n     {\n      System.out.println(&quot;Mouse Dragged Event Triggered&quot;);\n     }\n\n     public void mouseMoved(MouseEvent me) \n     {\n     }\n   }\n   \n   public static void main( String[] args ) \n   {\n      new FrameTest();\n   }\n}\n</code></pre>\n"},{"tags":["java","html","spring","rest","model-view-controller"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672373430,"post_id":74957243,"comment_id":132277787,"body_markdown":"Could you add the package information in your snippets? Maybe your controller is not scanned by Spring?","body":"Could you add the package information in your snippets? Maybe your controller is not scanned by Spring?"},{"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"score":0,"creation_date":1672404337,"post_id":74957243,"comment_id":132283586,"body_markdown":"@hiren You mean if controller is in the same package as class with `@SpringBootApplication` annotation? Controllers are in Controller package which is in Zadanie package and  class with @SpringBootApplication annotation is in that (Zadanie) package too. But I do&#39;t know if this is the problem, I can call both add and update forms but only after going from update form to add form i have this problem","body":"@hiren You mean if controller is in the same package as class with <code>@SpringBootApplication</code> annotation? Controllers are in Controller package which is in Zadanie package and  class with @SpringBootApplication annotation is in that (Zadanie) package too. But I do&#39;t know if this is the problem, I can call both add and update forms but only after going from update form to add form i have this problem"}],"answers":[{"tags":[],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672411836,"creation_date":1672411836,"answer_id":74962807,"question_id":74957243,"body_markdown":"It&#39;s ok now, changed in update-form html template from ``` class=&quot;form-horizontal&quot; method=&quot;post&quot; th:href=&quot;@{~/registration}&quot; th:object=&quot;${user}&quot;&gt;``` to ```&lt;form action=&quot;#&quot; method=&quot;POST&quot; th:action=&quot;@{~/registration}&quot; th:object=&quot;${user}&quot;&gt;``` and it works","title":"Why do I get Request method &#39;POST&#39; not supported] with Method Not Allowed, status=405 when entering users/update/{id}","body":"<p>It's ok now, changed in update-form html template from <code> class=&quot;form-horizontal&quot; method=&quot;post&quot; th:href=&quot;@{~/registration}&quot; th:object=&quot;${user}&quot;&gt;</code> to <code>&lt;form action=&quot;#&quot; method=&quot;POST&quot; th:action=&quot;@{~/registration}&quot; th:object=&quot;${user}&quot;&gt;</code> and it works</p>\n"}],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672413785,"creation_date":1672361116,"question_id":74957243,"body_markdown":"When I&#39;m entering users/update/{id} with some id, for example id = 6, I&#39;m getting &quot;Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]&quot;.\r\n\r\nBasically, what I aimed at was to when I&#39;m going on that URL (users/update/{id}) is:\r\n1. method updateUser() triggered by going on mentioned URL retrieves user with id = 6 from repository\r\n2. build a viewModel from it user with id = 6\r\n3. pass this viewModel to HTML template &quot;registration-formUpdate&quot; as a &quot;user&quot; object in ```&lt;form class=&quot;form-horizontal&quot; method=&quot;post&quot; th:href=&quot;@{~/registration}&quot; th:object=&quot;${user}&quot;&gt;```\r\n4. which then passes this object to endpoint &quot;/registration&quot; and to &quot;registrationUsersAdding()&quot; method in RegistrationController class to automatically fill the form with values from the user retrieved from repository\r\n5. by clicking &quot;add&quot; button on the &quot;registration-formUpdate&quot; template save the updated user to database\r\n\r\nHowever, when I click the &quot;add&quot; buttton, I get the 405 status and &quot;Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]&quot;\r\n\r\nSorry if my explanation isn&#39;t all that good, I&#39;m learning Spring and English isn&#39;t my first language. I&#39;ve done this this way 3-4 times on different apps before and it always worked, in this same project I have Events class with different entities, but same logic and it works. I don&#39;t know why here it doesn&#39;t.\r\n\r\nController class\r\n```\r\n@RequiredArgsConstructor\r\n@Controller\r\npublic class RegistrationController {\r\n\r\n    private final UserService userService;\r\n    private final UserRepository userRepository;\r\n\r\n    @PostMapping(&quot;/registration&quot;)\r\n    public String registrationUsersAdding(@ModelAttribute(&quot;user&quot;) @Valid UserViewModel user2,\r\n                                          BindingResult bindingResult) {\r\n        if (bindingResult.hasErrors()) {\r\n            if (user2.getId() == null) {\r\n                return &quot;registration-form&quot;;\r\n            } else {\r\n                return &quot;registration-formUpdate&quot;;\r\n            }\r\n        } else {\r\n            if (user2.getId() == null) {\r\n                userService.add(user2);\r\n            } else {\r\n                userService.update(user2);\r\n            }\r\n        }\r\n        return &quot;redirect:/login&quot;;\r\n    }\r\n\r\n    @Secured(&quot;ROLE_ADMIN&quot;)\r\n    @GetMapping(&quot;users/update/{id}&quot;)//toooooooo\r\n    public String updateUser(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\r\n        var user = userService.userToViewModel(userRepository.getOne(id));\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        return &quot;registration-formUpdate&quot;;\r\n    }\r\n}\r\n```\r\n\r\nService class\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserService implements AddUpdateGetDeleteUser {\r\n\r\n    private final UserRepository userRepository;\r\n    private final RoleRepository roleRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public void add(UserViewModel userViewModel) {\r\n        List&lt;Role&gt; roles;\r\n\r\n        Role role = new Role();\r\n        role.setType(RoleType.valueOf(userViewModel.getRoles()));// pomyslec nad tym\r\n        roleRepository.save(role);\r\n        roles = Collections.singletonList(role);\r\n\r\n        User user1 = User.builder()\r\n                .firstName(userViewModel.getFirstName())\r\n                .lastName(userViewModel.getLastName())\r\n                .login(userViewModel.getLogin())\r\n                .password(passwordEncoder.encode(userViewModel.getPassword()))\r\n                .email(userViewModel.getEmail())\r\n                .roles(roles)\r\n                .build();\r\n        userRepository.save(user1);\r\n    }\r\n\r\n    public void update(UserViewModel userDto) {\r\n        Optional&lt;User&gt; optionalUser = userRepository.findById(userDto.getId());\r\n        if (optionalUser.isPresent()) {\r\n            User user = optionalUser.get();\r\n            user.setId(userDto.getId());\r\n            user.setFirstName(userDto.getFirstName());\r\n            user.setLastName(userDto.getLastName());\r\n            user.setRoles(Collections.singletonList(GetRole(userDto.getRoles())));\r\n            user.setLogin(userDto.getLogin());\r\n            user.setEmail(userDto.getEmail());\r\n            user.setPassword(passwordEncoder.encode(userDto.getPassword()));\r\n            userRepository.save(user);\r\n        }\r\n    }\r\n\r\n    public UserViewModel userToViewModel(User user) {\r\n        return UserViewModel.builder()\r\n                .id(user.getId())\r\n                .firstName(user.getFirstName())\r\n                .lastName(user.getLastName())\r\n                .roles(user.getRoles().get(0).toString())\r\n                .login(user.getLogin())\r\n                .email(user.getEmail())\r\n                .password(passwordEncoder.encode(user.getPassword()))\r\n                .build();\r\n    }\r\n\r\n    private Role GetRole(String roleType) {\r\n        var role = new Role();\r\n        role.setType(RoleType.valueOf(roleType));\r\n\r\n        return role;\r\n    }\r\n}\r\n```\r\n\r\nLog\r\n\r\n```none\r\n2022-12-30 00:35:43.807  INFO 5804 --- [           main] Z.Z.ZadanieRekrutacyjneApplication       : Started ZadanieRekrutacyjneApplication in 10.364 seconds (JVM running for 11.253)\r\n2022-12-30 00:36:28.052  INFO 5804 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-12-30 00:36:28.052  INFO 5804 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-12-30 00:36:28.055  INFO 5804 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n2022-12-30 00:36:28.527  WARN 5804 --- [nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [387] milliseconds.\r\n2022-12-30 00:37:13.180  WARN 5804 --- [nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; not supported]\r\n2022-12-30 00:42:59.615  INFO 5804 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n2022-12-30 00:42:59.621  INFO 5804 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2022-12-30 00:42:59.624  INFO 5804 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2022-12-30 00:42:59.646  INFO 5804 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n```","title":"Why do I get Request method &#39;POST&#39; not supported] with Method Not Allowed, status=405 when entering users/update/{id}","body":"<p>When I'm entering users/update/{id} with some id, for example id = 6, I'm getting &quot;Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]&quot;.</p>\n<p>Basically, what I aimed at was to when I'm going on that URL (users/update/{id}) is:</p>\n<ol>\n<li>method updateUser() triggered by going on mentioned URL retrieves user with id = 6 from repository</li>\n<li>build a viewModel from it user with id = 6</li>\n<li>pass this viewModel to HTML template &quot;registration-formUpdate&quot; as a &quot;user&quot; object in <code>&lt;form class=&quot;form-horizontal&quot; method=&quot;post&quot; th:href=&quot;@{~/registration}&quot; th:object=&quot;${user}&quot;&gt;</code></li>\n<li>which then passes this object to endpoint &quot;/registration&quot; and to &quot;registrationUsersAdding()&quot; method in RegistrationController class to automatically fill the form with values from the user retrieved from repository</li>\n<li>by clicking &quot;add&quot; button on the &quot;registration-formUpdate&quot; template save the updated user to database</li>\n</ol>\n<p>However, when I click the &quot;add&quot; buttton, I get the 405 status and &quot;Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]&quot;</p>\n<p>Sorry if my explanation isn't all that good, I'm learning Spring and English isn't my first language. I've done this this way 3-4 times on different apps before and it always worked, in this same project I have Events class with different entities, but same logic and it works. I don't know why here it doesn't.</p>\n<p>Controller class</p>\n<pre><code>@RequiredArgsConstructor\n@Controller\npublic class RegistrationController {\n\n    private final UserService userService;\n    private final UserRepository userRepository;\n\n    @PostMapping(&quot;/registration&quot;)\n    public String registrationUsersAdding(@ModelAttribute(&quot;user&quot;) @Valid UserViewModel user2,\n                                          BindingResult bindingResult) {\n        if (bindingResult.hasErrors()) {\n            if (user2.getId() == null) {\n                return &quot;registration-form&quot;;\n            } else {\n                return &quot;registration-formUpdate&quot;;\n            }\n        } else {\n            if (user2.getId() == null) {\n                userService.add(user2);\n            } else {\n                userService.update(user2);\n            }\n        }\n        return &quot;redirect:/login&quot;;\n    }\n\n    @Secured(&quot;ROLE_ADMIN&quot;)\n    @GetMapping(&quot;users/update/{id}&quot;)//toooooooo\n    public String updateUser(@PathVariable(value = &quot;id&quot;) Long id, Model model) {\n        var user = userService.userToViewModel(userRepository.getOne(id));\n        model.addAttribute(&quot;user&quot;, user);\n        return &quot;registration-formUpdate&quot;;\n    }\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService implements AddUpdateGetDeleteUser {\n\n    private final UserRepository userRepository;\n    private final RoleRepository roleRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    public void add(UserViewModel userViewModel) {\n        List&lt;Role&gt; roles;\n\n        Role role = new Role();\n        role.setType(RoleType.valueOf(userViewModel.getRoles()));// pomyslec nad tym\n        roleRepository.save(role);\n        roles = Collections.singletonList(role);\n\n        User user1 = User.builder()\n                .firstName(userViewModel.getFirstName())\n                .lastName(userViewModel.getLastName())\n                .login(userViewModel.getLogin())\n                .password(passwordEncoder.encode(userViewModel.getPassword()))\n                .email(userViewModel.getEmail())\n                .roles(roles)\n                .build();\n        userRepository.save(user1);\n    }\n\n    public void update(UserViewModel userDto) {\n        Optional&lt;User&gt; optionalUser = userRepository.findById(userDto.getId());\n        if (optionalUser.isPresent()) {\n            User user = optionalUser.get();\n            user.setId(userDto.getId());\n            user.setFirstName(userDto.getFirstName());\n            user.setLastName(userDto.getLastName());\n            user.setRoles(Collections.singletonList(GetRole(userDto.getRoles())));\n            user.setLogin(userDto.getLogin());\n            user.setEmail(userDto.getEmail());\n            user.setPassword(passwordEncoder.encode(userDto.getPassword()));\n            userRepository.save(user);\n        }\n    }\n\n    public UserViewModel userToViewModel(User user) {\n        return UserViewModel.builder()\n                .id(user.getId())\n                .firstName(user.getFirstName())\n                .lastName(user.getLastName())\n                .roles(user.getRoles().get(0).toString())\n                .login(user.getLogin())\n                .email(user.getEmail())\n                .password(passwordEncoder.encode(user.getPassword()))\n                .build();\n    }\n\n    private Role GetRole(String roleType) {\n        var role = new Role();\n        role.setType(RoleType.valueOf(roleType));\n\n        return role;\n    }\n}\n</code></pre>\n<p>Log</p>\n<pre class=\"lang-none prettyprint-override\"><code>2022-12-30 00:35:43.807  INFO 5804 --- [           main] Z.Z.ZadanieRekrutacyjneApplication       : Started ZadanieRekrutacyjneApplication in 10.364 seconds (JVM running for 11.253)\n2022-12-30 00:36:28.052  INFO 5804 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-12-30 00:36:28.052  INFO 5804 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-12-30 00:36:28.055  INFO 5804 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n2022-12-30 00:36:28.527  WARN 5804 --- [nio-8080-exec-1] o.a.c.util.SessionIdGeneratorBase        : Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [387] milliseconds.\n2022-12-30 00:37:13.180  WARN 5804 --- [nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]\n2022-12-30 00:42:59.615  INFO 5804 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n2022-12-30 00:42:59.621  INFO 5804 --- [extShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2022-12-30 00:42:59.624  INFO 5804 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-12-30 00:42:59.646  INFO 5804 --- [extShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n"},{"tags":["java","annotations","quarkus","guice","interceptor"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672413636,"creation_date":1672413636,"answer_id":74963104,"question_id":74963037,"body_markdown":"That example code requires Google Guice. Quarkus comes with its own mechanism. https://quarkus.io/guides/cdi contains some examples, in section 14.2.\r\n\r\nIn short:\r\n```java\r\n@InterceptorBinding // added\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ ElementType.TYPE, ElementType.METHOD }) // TYPE added\r\n@Inherited // added\r\n@interface WaitCursor {}\r\n```\r\n```java\r\n@WaitCursor\r\n@Interceptor \r\npublic class WaitCursorInterceptor {\r\n\r\n    @AroundInvoke \r\n    public Object invoke(InvocationContext invocation) throws Throwable {\r\n        // show the cursor\r\n        MainUI.getInstance().setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));\r\n        // execute the method annotated with `@WaitCursor`\r\n        Object result = invocation.proceed();\r\n        // hide the waiting cursor\r\n        MainUI.getInstance().setCursor(Cursor.getDefaultCursor());\r\n        return result;\r\n    }\r\n}\r\n```","title":"Java annotation to execute code before and after method","body":"<p>That example code requires Google Guice. Quarkus comes with its own mechanism. <a href=\"https://quarkus.io/guides/cdi\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cdi</a> contains some examples, in section 14.2.</p>\n<p>In short:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InterceptorBinding // added\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.TYPE, ElementType.METHOD }) // TYPE added\n@Inherited // added\n@interface WaitCursor {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@WaitCursor\n@Interceptor \npublic class WaitCursorInterceptor {\n\n    @AroundInvoke \n    public Object invoke(InvocationContext invocation) throws Throwable {\n        // show the cursor\n        MainUI.getInstance().setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));\n        // execute the method annotated with `@WaitCursor`\n        Object result = invocation.proceed();\n        // hide the waiting cursor\n        MainUI.getInstance().setCursor(Cursor.getDefaultCursor());\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12704081,"reputation":888,"user_id":9229931,"display_name":"Danilo K&#246;rber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74963104,"answer_count":1,"score":1,"last_activity_date":1672413636,"creation_date":1672413206,"question_id":74963037,"body_markdown":"I am trying to use this solution (from [this][1] post), but I am getting an error during the build process with Quarkus.\r\n\r\nCustom annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    @interface WaitCursor {}\r\n\r\nThe method interceptor:\r\n\r\n    public class WaitCursorInterceptor implements MethodInterceptor {\r\n        public Object invoke(MethodInvocation invocation) throws Throwable {\r\n            // show the cursor\r\n            MainUI.getInstance().setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));\r\n            // execute the method annotated with `@WaitCursor`\r\n            Object result = invocation.proceed();\r\n            // hide the waiting cursor\r\n            MainUI.getInstance().setCursor(Cursor.getDefaultCursor());\r\n            return result;\r\n        }\r\n    }\r\n\r\nAnd the module to bind the interceptor on any method having the annotation.\r\n\r\n    public class WaitCursorModule extends AbstractModule {\r\n        protected void configure() {\r\n            bindInterceptor(Matchers.any(), Matchers.annotatedWith(WaitCursor.class), new WaitCursorInterceptor());\r\n        }\r\n    }\r\n\r\nThe error I am getting:\r\n```\r\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.15.1.Final:dev (default-cli) on project projectName: Unable to execute mojo: Compilation failure\r\n[ERROR] /git/projectName/api/src/main/java/com/packageName/shared/modules/WaitCursorModule.java:[25,9] cannot find symbol\r\n[ERROR]   symbol:   method bindInterceptor(com.google.inject.matcher.Matcher&lt;java.lang.Object&gt;,com.google.inject.matcher.Matcher&lt;java.lang.reflect.AnnotatedElement&gt;,com.packageName.shared.modules.WaitCursorModule)\r\n[ERROR]   location: class com.packageName.shared.modules.WaitCursorModule\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/12195015/java-annotation-to-execute-some-code-before-and-after-method","title":"Java annotation to execute code before and after method","body":"<p>I am trying to use this solution (from <a href=\"https://stackoverflow.com/questions/12195015/java-annotation-to-execute-some-code-before-and-after-method\">this</a> post), but I am getting an error during the build process with Quarkus.</p>\n<p>Custom annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\n@interface WaitCursor {}\n</code></pre>\n<p>The method interceptor:</p>\n<pre><code>public class WaitCursorInterceptor implements MethodInterceptor {\n    public Object invoke(MethodInvocation invocation) throws Throwable {\n        // show the cursor\n        MainUI.getInstance().setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));\n        // execute the method annotated with `@WaitCursor`\n        Object result = invocation.proceed();\n        // hide the waiting cursor\n        MainUI.getInstance().setCursor(Cursor.getDefaultCursor());\n        return result;\n    }\n}\n</code></pre>\n<p>And the module to bind the interceptor on any method having the annotation.</p>\n<pre><code>public class WaitCursorModule extends AbstractModule {\n    protected void configure() {\n        bindInterceptor(Matchers.any(), Matchers.annotatedWith(WaitCursor.class), new WaitCursorInterceptor());\n    }\n}\n</code></pre>\n<p>The error I am getting:</p>\n<pre><code>[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.15.1.Final:dev (default-cli) on project projectName: Unable to execute mojo: Compilation failure\n[ERROR] /git/projectName/api/src/main/java/com/packageName/shared/modules/WaitCursorModule.java:[25,9] cannot find symbol\n[ERROR]   symbol:   method bindInterceptor(com.google.inject.matcher.Matcher&lt;java.lang.Object&gt;,com.google.inject.matcher.Matcher&lt;java.lang.reflect.AnnotatedElement&gt;,com.packageName.shared.modules.WaitCursorModule)\n[ERROR]   location: class com.packageName.shared.modules.WaitCursorModule\n</code></pre>\n"},{"tags":["java","arrays","json","json-lib"],"comments":[{"owner":{"account_id":5470860,"reputation":9722,"user_id":4350275,"accept_rate":36,"display_name":"Prerak Sola"},"score":0,"creation_date":1426005378,"post_id":28969087,"comment_id":46189946,"body_markdown":"possible duplicate of [Putting HashMap&lt;String, object&gt; in jsonobject](http://stackoverflow.com/questions/17444396/putting-hashmapstring-object-in-jsonobject)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/17444396/putting-hashmapstring-object-in-jsonobject\">Putting HashMap&lt;String, object&gt; in jsonobject</a>"}],"answers":[{"tags":[],"owner":{"account_id":4225608,"reputation":14192,"user_id":3459206,"accept_rate":90,"display_name":"Alex Salauyou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426005551,"creation_date":1426005551,"answer_id":28969300,"question_id":28969087,"body_markdown":"Just iterate over entries of your map putting &quot;data&quot; objects into array:\r\n\r\n    for (Map.Entry&lt;String, String&gt; e : currentValues) {\r\n        JSONObject j = new JSONObject()\r\n                         .put(&quot;type&quot;, e.getKey())\r\n                         .put(&quot;value&quot;, e.getValue());\r\n        payload.add(j);\r\n    }\r\n\r\nthen put array into resulting json:\r\n\r\n    dataset.put(&quot;data&quot;, payload);","title":"How to populate JSON from Hashmap data?","body":"<p>Just iterate over entries of your map putting \"data\" objects into array:</p>\n\n<pre><code>for (Map.Entry&lt;String, String&gt; e : currentValues) {\n    JSONObject j = new JSONObject()\n                     .put(\"type\", e.getKey())\n                     .put(\"value\", e.getValue());\n    payload.add(j);\n}\n</code></pre>\n\n<p>then put array into resulting json:</p>\n\n<pre><code>dataset.put(\"data\", payload);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1068238,"reputation":1318,"user_id":1068176,"display_name":"Archit Maheshwari"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1426005903,"creation_date":1426005903,"answer_id":28969411,"question_id":28969087,"body_markdown":"You can make JSONObject like below then add it to payload.\r\n\r\n    JSONObject dataset = new JSONObject();\r\n    dataset.put(&quot;date&quot;, currentTime);\r\n    dataset.put(&quot;id&quot;, currentID);\r\n    dataset.put(&quot;key&quot;, key);\r\n\r\n    JSONArray payload = new JSONArray();\r\n    JSONObject data = new JSONObject();\r\n\r\n    Iterator it = currentValues.entrySet().iterator();\r\n    while (it.hasNext()) {\r\n    Map.Entry pair = (Map.Entry)it.next();\r\n    data.put(&quot;type&quot;, pair.getKey()) ;\r\n    data.put(&quot;value&quot;, pair.getValue()) ;\r\n    it.remove(); // avoids a ConcurrentModificationException\r\n    }\r\n    JSONArray mapArray = new JSONArray();\r\n    mapArray.add(data);\r\n    dataset.put(&quot;data&quot;, mapArray);\r\n    payload.add(dataset);\r\n\r\n\r\n\r\n","title":"How to populate JSON from Hashmap data?","body":"<p>You can make JSONObject like below then add it to payload.</p>\n\n<pre><code>JSONObject dataset = new JSONObject();\ndataset.put(\"date\", currentTime);\ndataset.put(\"id\", currentID);\ndataset.put(\"key\", key);\n\nJSONArray payload = new JSONArray();\nJSONObject data = new JSONObject();\n\nIterator it = currentValues.entrySet().iterator();\nwhile (it.hasNext()) {\nMap.Entry pair = (Map.Entry)it.next();\ndata.put(\"type\", pair.getKey()) ;\ndata.put(\"value\", pair.getValue()) ;\nit.remove(); // avoids a ConcurrentModificationException\n}\nJSONArray mapArray = new JSONArray();\nmapArray.add(data);\ndataset.put(\"data\", mapArray);\npayload.add(dataset);\n</code></pre>\n"}],"owner":{"display_name":"user3420034"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2080,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":28969411,"answer_count":2,"score":-1,"last_activity_date":1672413419,"creation_date":1426004980,"question_id":28969087,"body_markdown":"I&#39;m working with this data in Java:\r\n\r\n    HashMap&lt;String, String&gt; currentValues = new HashMap&lt;String, String&gt;();\r\n    String currentID;\r\n    Timestamp currentTime;\r\n    String key;\r\n\r\nI need to convert this to JSON, but I can&#39;t work out how. Currently I think this is the best approach:\r\n\r\n    JSONObject dataset = new JSONObject();\r\n    dataset.put(&quot;date&quot;, currentTime);\r\n\tdataset.put(&quot;id&quot;, currentID);\r\n\tdataset.put(&quot;key&quot;, key);\r\n    \r\n    JSONArray payload = new JSONArray();\r\n    payload.add(dataset);\r\n\r\nI&#39;m not sure how I&#39;d do this with the Hashmap. I know it&#39;s something like this:\r\n\r\n    JSONObject data = new JSONObject();\r\n\tIterator it = currentValues.entrySet().iterator();\r\n\twhile (it.hasNext()) {\r\n\t    Map.Entry pair = (Map.Entry)it.next();\r\n\t    \r\n\t    data.put(&quot;type&quot;, pair.getKey()) ;\r\n\t    data.put(&quot;value&quot;, pair.getValue()) ;\r\n\t    it.remove(); // avoids a ConcurrentModificationException\r\n\t}\r\n\r\nBut the exact syntax and how I&#39;d then add it alongside the other data I can&#39;t work out.","title":"How to populate JSON from Hashmap data?","body":"<p>I'm working with this data in Java:</p>\n<pre><code>HashMap&lt;String, String&gt; currentValues = new HashMap&lt;String, String&gt;();\nString currentID;\nTimestamp currentTime;\nString key;\n</code></pre>\n<p>I need to convert this to JSON, but I can't work out how. Currently I think this is the best approach:</p>\n<pre><code>JSONObject dataset = new JSONObject();\ndataset.put(&quot;date&quot;, currentTime);\ndataset.put(&quot;id&quot;, currentID);\ndataset.put(&quot;key&quot;, key);\n\nJSONArray payload = new JSONArray();\npayload.add(dataset);\n</code></pre>\n<p>I'm not sure how I'd do this with the Hashmap. I know it's something like this:</p>\n<pre><code>JSONObject data = new JSONObject();\nIterator it = currentValues.entrySet().iterator();\nwhile (it.hasNext()) {\n    Map.Entry pair = (Map.Entry)it.next();\n    \n    data.put(&quot;type&quot;, pair.getKey()) ;\n    data.put(&quot;value&quot;, pair.getValue()) ;\n    it.remove(); // avoids a ConcurrentModificationException\n}\n</code></pre>\n<p>But the exact syntax and how I'd then add it alongside the other data I can't work out.</p>\n"},{"tags":["java","php","android","server","sha1"],"comments":[{"owner":{"account_id":19545118,"reputation":11,"user_id":14302116,"display_name":"sporcukarti"},"score":0,"creation_date":1672404930,"post_id":74961747,"comment_id":132283746,"body_markdown":"I heard that proguard mixes the code and makes it hard to read. I will use it too. I think there is nothing to do about network traffic. Thanks","body":"I heard that proguard mixes the code and makes it hard to read. I will use it too. I think there is nothing to do about network traffic. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":25180961,"reputation":482,"user_id":19022467,"display_name":"JoelCrypto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672405818,"creation_date":1672405818,"answer_id":74961928,"question_id":74961747,"body_markdown":"You can&#39;t really do it as you don&#39;t have control over the application nor the network traffic. But here is some tricks :\r\n\r\n - Put HTTPS in the server so network traffic cannot be spoofed easily with an external app.\r\n - Create a HMAC from your server or SSL certificates (need an authority CA) and pass it to the application. Send the HMAC only if you have a specific MAC or PC id or IP address, you can check with files and so on that everything is okay but with reverse engineering, it can be reverted. You can use [hash_hmac][1] in PHP.\r\n - You should not keep sensitive information in your application but rely on your server-side for all sensitive informations and check.\r\n - If you need some data to be kept on the application and sent back afterwards, you can also use PGP keys to sign or encrypt data and then send it back to the sever, verify and/or decrypt it. You can do with [GnuPG module][2] or use pass_thru to pass shell args. As the application does not have access to keys, your data cannot be altered nor decrypted.\r\n\r\n\r\n  [1]: https://www.php.net/manual/en/function.hash-hmac.php\r\n  [2]: https://www.php.net/manual/fr/book.gnupg.php","title":"Android secure backend-server connection","body":"<p>You can't really do it as you don't have control over the application nor the network traffic. But here is some tricks :</p>\n<ul>\n<li>Put HTTPS in the server so network traffic cannot be spoofed easily with an external app.</li>\n<li>Create a HMAC from your server or SSL certificates (need an authority CA) and pass it to the application. Send the HMAC only if you have a specific MAC or PC id or IP address, you can check with files and so on that everything is okay but with reverse engineering, it can be reverted. You can use <a href=\"https://www.php.net/manual/en/function.hash-hmac.php\" rel=\"nofollow noreferrer\">hash_hmac</a> in PHP.</li>\n<li>You should not keep sensitive information in your application but rely on your server-side for all sensitive informations and check.</li>\n<li>If you need some data to be kept on the application and sent back afterwards, you can also use PGP keys to sign or encrypt data and then send it back to the sever, verify and/or decrypt it. You can do with <a href=\"https://www.php.net/manual/fr/book.gnupg.php\" rel=\"nofollow noreferrer\">GnuPG module</a> or use pass_thru to pass shell args. As the application does not have access to keys, your data cannot be altered nor decrypted.</li>\n</ul>\n"}],"owner":{"account_id":19545118,"reputation":11,"user_id":14302116,"display_name":"sporcukarti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74961928,"answer_count":1,"score":-1,"last_activity_date":1672413388,"creation_date":1672404542,"question_id":74961747,"body_markdown":"I&#39;m writing an Android app that talks with my php backend server. I want to give sha1 fingerprint to server everytime when i make a request, in this way server will know it&#39;s my app and will answer the request. But as you know, apk datas will reverse engineered easly and the sha1 fingerprint can be discovered and can be hardcore written. \r\nHow can i really be sure that request comes from my app?\r\n\r\nThanks in advance\r\n\r\nedit: to that s.. o. a b.... that dislikes my question. please come here and write why you disliked my question. thanks","title":"Android secure backend-server connection","body":"<p>I'm writing an Android app that talks with my php backend server. I want to give sha1 fingerprint to server everytime when i make a request, in this way server will know it's my app and will answer the request. But as you know, apk datas will reverse engineered easly and the sha1 fingerprint can be discovered and can be hardcore written.\nHow can i really be sure that request comes from my app?</p>\n<p>Thanks in advance</p>\n<p>edit: to that s.. o. a b.... that dislikes my question. please come here and write why you disliked my question. thanks</p>\n"},{"tags":["java","android","android-intent","android-notifications","android-pendingintent"],"answers":[{"comments":[{"owner":{"account_id":22666965,"reputation":33,"user_id":16839187,"display_name":"Shogery"},"score":0,"creation_date":1680898442,"post_id":74963049,"comment_id":133978367,"body_markdown":"Forgot to come back and give you the check. Passing the wrong intent smh","body":"Forgot to come back and give you the check. Passing the wrong intent smh"}],"tags":[],"owner":{"account_id":23416689,"reputation":181,"user_id":17477546,"display_name":"Ajay Makwana"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672413311,"creation_date":1672413311,"answer_id":74963049,"question_id":74957515,"body_markdown":"you can update your **ReminderReceiver**&#39;s code to this and check if it is working\r\n\r\n     Intent notificationIntent = new Intent(context, MainActivity.class);\r\n     notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP &amp; \r\n     Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n     notificationIntent.putExtra(&quot;id&quot;, reminder.getId());\r\n     final PendingIntent pendingIntent;\r\n\r\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n         pendingIntent = PendingIntent.getActivity(context, reminder.getId(), notificationIntent /*update*/ , PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\r\n     } else {\r\n         pendingIntent = PendingIntent.getActivity(context, reminder.getId(), notificationIntent /*update*/ , PendingIntent.FLAG_UPDATE_CURRENT);\r\n     }\r\n\r\n     NotificationHelper helper = new NotificationHelper(context);\r\n     String title = &quot;title&quot;;\r\n     String message = &quot;message&quot;;\r\n     NotificationCompat.Builder builder = helper\r\n         .getReminderNotification(context, title, message, pendingIntent, true);\r\n     helper.GetManager().notify(reminder.getId(), builder.build());\r\n\r\n\r\nI think you are apssing wrong intent into your **NotificationBuilder**.\r\n\r\nHope this works!!","title":"Android Studio : Open app to MainActivity from notification API 31","body":"<p>you can update your <strong>ReminderReceiver</strong>'s code to this and check if it is working</p>\n<pre><code> Intent notificationIntent = new Intent(context, MainActivity.class);\n notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP &amp; \n Intent.FLAG_ACTIVITY_SINGLE_TOP);\n notificationIntent.putExtra(&quot;id&quot;, reminder.getId());\n final PendingIntent pendingIntent;\n\n if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n     pendingIntent = PendingIntent.getActivity(context, reminder.getId(), notificationIntent /*update*/ , PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\n } else {\n     pendingIntent = PendingIntent.getActivity(context, reminder.getId(), notificationIntent /*update*/ , PendingIntent.FLAG_UPDATE_CURRENT);\n }\n\n NotificationHelper helper = new NotificationHelper(context);\n String title = &quot;title&quot;;\n String message = &quot;message&quot;;\n NotificationCompat.Builder builder = helper\n     .getReminderNotification(context, title, message, pendingIntent, true);\n helper.GetManager().notify(reminder.getId(), builder.build());\n</code></pre>\n<p>I think you are apssing wrong intent into your <strong>NotificationBuilder</strong>.</p>\n<p>Hope this works!!</p>\n"}],"owner":{"account_id":22666965,"reputation":33,"user_id":16839187,"display_name":"Shogery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74963049,"answer_count":1,"score":0,"last_activity_date":1672413311,"creation_date":1672365296,"question_id":74957515,"body_markdown":"I have been trying to open my application to my MainActivity, and load a fragment, from a notification and I cannot seem to do so successfully. My most successful build appears to do everything successfully except actually open the app. \r\nThe app will be completely closed and I&#39;ll receive the notification and tap on it. The phone drop down menu will retract and act like it&#39;s about to open the app, then doesn&#39;t. When I open the app manually the application has been create and navigated successfully to the fragment. It just didn&#39;t open my app.\r\n\r\nI&#39;ll list relevant code below:\r\n\r\nManifest Code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.easy.planner&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:theme=&quot;@style/Theme.Planner&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleInstance&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;=\r\n\r\n        &lt;receiver\r\n            android:name=&quot;.ReminderReceiver&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@android:style/Theme.NoDisplay&quot;/&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nCode in ReminderReceiver\r\n```\r\n        Intent notificationIntent = new Intent(context, MainActivity.class);\r\n        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP &amp; Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n        notificationIntent.putExtra(&quot;id&quot;, reminder.getId());\r\n        final PendingIntent pendingIntent;\r\n\r\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S){\r\n            pendingIntent = PendingIntent.getActivity(context, reminder.getId(), intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);}\r\n        else{\r\n            pendingIntent = PendingIntent.getActivity(context, reminder.getId(), intent, PendingIntent.FLAG_UPDATE_CURRENT);}\r\n\r\n        NotificationHelper helper = new NotificationHelper(context);\r\n        String title = &quot;title&quot;;\r\n        String message = &quot;message&quot;;\r\n        NotificationCompat.Builder builder = helper\r\n                .getReminderNotification(context, title, message,pendingIntent, true);\r\n        helper.GetManager().notify(reminder.getId(), builder.build());\r\n```\r\nNotification Helper\r\n```\r\npublic class NotificationHelper extends ContextWrapper {\r\n\r\n    public static final String TAG = &quot;Notification Helper&quot;;\r\n\r\n    public static final String REMINDERS_CHANNEL_ID = &quot;id&quot;;\r\n    public static final String REMINDERS_CHANNEL_NAME = &quot;name&quot;;\r\n\r\n    private NotificationManager manager;\r\n\r\n    public NotificationHelper(Context base) {\r\n        super(base);\r\n        CreateChannels(base);\r\n    }\r\n\r\n    public static boolean CreateChannels(Context context)\r\n    { \r\n        NotificationChannel reminders = new NotificationChannel(REMINDERS_CHANNEL_ID, REMINDERS_CHANNEL_NAME, NotificationManager.IMPORTANCE_HIGH);\r\n        reminders.enableLights(true);\r\n        reminders.enableVibration(true);\r\n\r\n        NotificationManager manager = GetManager(context);\r\n\r\n        manager.createNotificationChannel(reminders);\r\n\r\n        return true;\r\n    }\r\n\r\n    public NotificationCompat.Builder getReminderNotification(Context context, String title, String message, PendingIntent pendingIntent, boolean autoCancel)\r\n    {\r\n        return new NotificationCompat.Builder(getApplicationContext(), REMINDERS_CHANNEL_ID)\r\n                .setSmallIcon(R.drawable.notification_temp)\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setContentIntent(pendingIntent)\r\n                .setAutoCancel(autoCancel);\r\n    }\r\n```\r\nI&#39;ve been looking at plenty of other stackoverflow pages and have yet to find a solution.\r\n","title":"Android Studio : Open app to MainActivity from notification API 31","body":"<p>I have been trying to open my application to my MainActivity, and load a fragment, from a notification and I cannot seem to do so successfully. My most successful build appears to do everything successfully except actually open the app.\nThe app will be completely closed and I'll receive the notification and tap on it. The phone drop down menu will retract and act like it's about to open the app, then doesn't. When I open the app manually the application has been create and navigated successfully to the fragment. It just didn't open my app.</p>\n<p>I'll list relevant code below:</p>\n<p>Manifest Code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.easy.planner&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:theme=&quot;@style/Theme.Planner&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleInstance&quot; &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;=\n\n        &lt;receiver\n            android:name=&quot;.ReminderReceiver&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@android:style/Theme.NoDisplay&quot;/&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Code in ReminderReceiver</p>\n<pre><code>        Intent notificationIntent = new Intent(context, MainActivity.class);\n        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP &amp; Intent.FLAG_ACTIVITY_SINGLE_TOP);\n        notificationIntent.putExtra(&quot;id&quot;, reminder.getId());\n        final PendingIntent pendingIntent;\n\n        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S){\n            pendingIntent = PendingIntent.getActivity(context, reminder.getId(), intent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);}\n        else{\n            pendingIntent = PendingIntent.getActivity(context, reminder.getId(), intent, PendingIntent.FLAG_UPDATE_CURRENT);}\n\n        NotificationHelper helper = new NotificationHelper(context);\n        String title = &quot;title&quot;;\n        String message = &quot;message&quot;;\n        NotificationCompat.Builder builder = helper\n                .getReminderNotification(context, title, message,pendingIntent, true);\n        helper.GetManager().notify(reminder.getId(), builder.build());\n</code></pre>\n<p>Notification Helper</p>\n<pre><code>public class NotificationHelper extends ContextWrapper {\n\n    public static final String TAG = &quot;Notification Helper&quot;;\n\n    public static final String REMINDERS_CHANNEL_ID = &quot;id&quot;;\n    public static final String REMINDERS_CHANNEL_NAME = &quot;name&quot;;\n\n    private NotificationManager manager;\n\n    public NotificationHelper(Context base) {\n        super(base);\n        CreateChannels(base);\n    }\n\n    public static boolean CreateChannels(Context context)\n    { \n        NotificationChannel reminders = new NotificationChannel(REMINDERS_CHANNEL_ID, REMINDERS_CHANNEL_NAME, NotificationManager.IMPORTANCE_HIGH);\n        reminders.enableLights(true);\n        reminders.enableVibration(true);\n\n        NotificationManager manager = GetManager(context);\n\n        manager.createNotificationChannel(reminders);\n\n        return true;\n    }\n\n    public NotificationCompat.Builder getReminderNotification(Context context, String title, String message, PendingIntent pendingIntent, boolean autoCancel)\n    {\n        return new NotificationCompat.Builder(getApplicationContext(), REMINDERS_CHANNEL_ID)\n                .setSmallIcon(R.drawable.notification_temp)\n                .setContentTitle(title)\n                .setContentText(message)\n                .setContentIntent(pendingIntent)\n                .setAutoCancel(autoCancel);\n    }\n</code></pre>\n<p>I've been looking at plenty of other stackoverflow pages and have yet to find a solution.</p>\n"},{"tags":["java","android","collections","runnable"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1672412177,"post_id":74962652,"comment_id":132285632,"body_markdown":"If you&#39;re modifying the `contactList` outside of the `Runnable` as well, you need to properly synchronize access to it.","body":"If you&#39;re modifying the <code>contactList</code> outside of the <code>Runnable</code> as well, you need to properly synchronize access to it."},{"owner":{"account_id":13155919,"reputation":109,"user_id":9503098,"display_name":"Miled"},"score":0,"creation_date":1672413393,"post_id":74962652,"comment_id":132285952,"body_markdown":"i added more details about my function, i don&#39;t think that contactList has been edited @RobSpoor","body":"i added more details about my function, i don&#39;t think that contactList has been edited @RobSpoor"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":3,"creation_date":1672413780,"post_id":74962652,"comment_id":132286043,"body_markdown":"Well, `contactList` comes from `mContactListLiveData.getValue()`. If that doesn&#39;t return a copy but its internal list itself, then updating that list through `mContactListLiveData` will still update `contactList`. If that occurs while it&#39;s being sorted in a different thread, the results will be unpredictable.","body":"Well, <code>contactList</code> comes from <code>mContactListLiveData.getValue()</code>. If that doesn&#39;t return a copy but its internal list itself, then updating that list through <code>mContactListLiveData</code> will still update <code>contactList</code>. If that occurs while it&#39;s being sorted in a different thread, the results will be unpredictable."}],"owner":{"account_id":13155919,"reputation":109,"user_id":9503098,"display_name":"Miled"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672413278,"creation_date":1672410853,"question_id":74962652,"body_markdown":"i am trying to sort a list of contacts(android/car/telephony/common/Contact.java) that does not contain duplicated items:\r\n\r\n   \r\n\r\n        private void updateSortedContactList() {\r\n        if (mContactListLiveData.getValue() == null &amp;&amp; getValue() == null) {\r\n            return;\r\n        }\r\n\r\n        if (mContactListLiveData.getValue() == null\r\n                || mContactListLiveData.getValue().isEmpty()) {\r\n            setValue(null);\r\n            return;\r\n        }\r\n            List&lt;Contact&gt; contactList = mContactListLiveData.getValue();\r\n\r\n        if (mRunnableFuture != null) {\r\n            mRunnableFuture.cancel(true);\r\n        }\r\n        Runnable runnable = () -&gt; {\r\n            Collections.sort(contactList, comparator);\r\n            postValue(new Pair&lt;&gt;(sortMethod, contactList));\r\n        };\r\n        mRunnableFuture = mExecutorService.submit(runnable);\r\n    }\r\n\r\nas a result of this method, some times( not frequently) i get the same size list but with items that were removed, and items that were duplicated,\r\n\r\nps: it&#39;s not always the same items that where duplicated/removed\r\n","title":"Collections.sort with comparator inside runnable return duplicated items?","body":"<p>i am trying to sort a list of contacts(android/car/telephony/common/Contact.java) that does not contain duplicated items:</p>\n<pre><code>    private void updateSortedContactList() {\n    if (mContactListLiveData.getValue() == null &amp;&amp; getValue() == null) {\n        return;\n    }\n\n    if (mContactListLiveData.getValue() == null\n            || mContactListLiveData.getValue().isEmpty()) {\n        setValue(null);\n        return;\n    }\n        List&lt;Contact&gt; contactList = mContactListLiveData.getValue();\n\n    if (mRunnableFuture != null) {\n        mRunnableFuture.cancel(true);\n    }\n    Runnable runnable = () -&gt; {\n        Collections.sort(contactList, comparator);\n        postValue(new Pair&lt;&gt;(sortMethod, contactList));\n    };\n    mRunnableFuture = mExecutorService.submit(runnable);\n}\n</code></pre>\n<p>as a result of this method, some times( not frequently) i get the same size list but with items that were removed, and items that were duplicated,</p>\n<p>ps: it's not always the same items that where duplicated/removed</p>\n"},{"tags":["java","spring","spring-boot","microservices","netflix-eureka"],"answers":[{"comments":[{"owner":{"account_id":9054438,"reputation":560,"user_id":6743289,"display_name":"striker"},"score":0,"creation_date":1669738827,"post_id":74230680,"comment_id":131708833,"body_markdown":"I&#39;m already using it but I&#39;m still facing the same issue, infact I replaced service-name with acutal IP and then it started claiming that it is also not found","body":"I&#39;m already using it but I&#39;m still facing the same issue, infact I replaced service-name with acutal IP and then it started claiming that it is also not found"},{"owner":{"account_id":5448480,"reputation":761,"user_id":4334147,"accept_rate":91,"display_name":"Alex"},"score":0,"creation_date":1691659946,"post_id":74230680,"comment_id":135522542,"body_markdown":"Little note: The RestClient is deprecated, so if you  want to use WebClient instead - here is the solution : https://stackoverflow.com/questions/67649680/loadbalanced-webclient-together-with-eureka-webclient-enabled","body":"Little note: The RestClient is deprecated, so if you  want to use WebClient instead - here is the solution : <a href=\"https://stackoverflow.com/questions/67649680/loadbalanced-webclient-together-with-eureka-webclient-enabled\" title=\"loadbalanced webclient together with eureka webclient enabled\">stackoverflow.com/questions/67649680/&hellip;</a>"}],"tags":[],"owner":{"account_id":14433225,"reputation":303,"user_id":10425982,"display_name":"amar2108"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666931511,"creation_date":1666931511,"answer_id":74230680,"question_id":69980870,"body_markdown":"I was facing the same issue while using rest template and calling the other service, I got it running using the annotation ```@LoadBalanced``` on RestTemplate bean in my application class.","title":"I can&#39;t access the service through its application.name - Eureka","body":"<p>I was facing the same issue while using rest template and calling the other service, I got it running using the annotation <code>@LoadBalanced</code> on RestTemplate bean in my application class.</p>\n"},{"tags":[],"owner":{"account_id":9054438,"reputation":560,"user_id":6743289,"display_name":"striker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669786597,"creation_date":1669786597,"answer_id":74623294,"question_id":69980870,"body_markdown":"I was doing the same as what is suggested here in the answer (adding @LoadBalanced) for the restTemplate injector but it wasn&#39;t working for me.\r\n\r\nI had written the gateway controller in the Eureka Server itself to receive request from front end and redirect it to other micro-services.\r\nWhen I wrote whole new application to work as gateway service, everything is working fine now.","title":"I can&#39;t access the service through its application.name - Eureka","body":"<p>I was doing the same as what is suggested here in the answer (adding @LoadBalanced) for the restTemplate injector but it wasn't working for me.</p>\n<p>I had written the gateway controller in the Eureka Server itself to receive request from front end and redirect it to other micro-services.\nWhen I wrote whole new application to work as gateway service, everything is working fine now.</p>\n"},{"tags":[],"owner":{"account_id":4715429,"reputation":1,"user_id":3814714,"display_name":"user3814714"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672412394,"creation_date":1672412394,"answer_id":74962890,"question_id":69980870,"body_markdown":"Check if you have Ribbon added as a dependency in your pom.xml file OR you are getting exception from Ribbon. If this is the case remove the Ribbon from your project.","title":"I can&#39;t access the service through its application.name - Eureka","body":"<p>Check if you have Ribbon added as a dependency in your pom.xml file OR you are getting exception from Ribbon. If this is the case remove the Ribbon from your project.</p>\n"}],"owner":{"account_id":21914158,"reputation":49,"user_id":16198276,"display_name":"Juan Rojas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1672412394,"creation_date":1637010350,"question_id":69980870,"body_markdown":"Eureka Sever registers all my services, however when trying to access them through their application.name I cannot, I have tried RestTemplate and OpenFeign but it has not been possible in any way.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nxqfT.png\r\nWhen FEATURES-SERVICE requests an image from IMAGES-SERVICE through: http://localhost:9005 work, but when FEATURES-SERVICE requests an image from IMAGES-SERVICE through: http://images-service fail.\r\n\r\nThis is my config for eureka-server:\r\n```\r\nserver:\r\n  port: 8761\r\n\r\neureka:\r\n  client:\r\n    fetch-registry: false\r\n    register-with-eureka: false\r\n```\r\nand config for features-service and images-service\r\n```\r\n// IMAGES-SERVICE\r\nserver:\r\n  port:9005\r\nspring:\r\n  application:\r\n    name: images-service\r\n\r\neureka:\r\n  client:\r\n    fetch-registry: true\r\n    register-with-eureka: true\r\n    service-url:\r\n      default-zone: http://localhost:8761/eureka\r\n    instance:\r\n      hostname: localhost \r\n\r\n// FEATURES-SERVICE\r\nserver:\r\n  port:9004\r\nspring:\r\n  application:\r\n    name: features-service\r\n\r\neureka:\r\n  client:\r\n    fetch-registry: true\r\n    register-with-eureka: true\r\n    service-url:\r\n      default-zone: http://localhost:8761/eureka\r\n    instance:\r\n      hostname: localhost \r\n```\r\n\r\nboth services has the annotation @EnableEurekaClient in the Application file.","title":"I can&#39;t access the service through its application.name - Eureka","body":"<p>Eureka Sever registers all my services, however when trying to access them through their application.name I cannot, I have tried RestTemplate and OpenFeign but it has not been possible in any way.</p>\n<p><a href=\"https://i.stack.imgur.com/nxqfT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nxqfT.png\" alt=\"enter image description here\" /></a></p>\n<p>When FEATURES-SERVICE requests an image from IMAGES-SERVICE through: http://localhost:9005 work, but when FEATURES-SERVICE requests an image from IMAGES-SERVICE through: http://images-service fail.</p>\n<p>This is my config for eureka-server:</p>\n<pre><code>server:\n  port: 8761\n\neureka:\n  client:\n    fetch-registry: false\n    register-with-eureka: false\n</code></pre>\n<p>and config for features-service and images-service</p>\n<pre><code>// IMAGES-SERVICE\nserver:\n  port:9005\nspring:\n  application:\n    name: images-service\n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      default-zone: http://localhost:8761/eureka\n    instance:\n      hostname: localhost \n\n// FEATURES-SERVICE\nserver:\n  port:9004\nspring:\n  application:\n    name: features-service\n\neureka:\n  client:\n    fetch-registry: true\n    register-with-eureka: true\n    service-url:\n      default-zone: http://localhost:8761/eureka\n    instance:\n      hostname: localhost \n</code></pre>\n<p>both services has the annotation @EnableEurekaClient in the Application file.</p>\n"},{"tags":["java","sql-server","google-cloud-dataflow","jtds"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1671855827,"post_id":74878346,"comment_id":132189106,"body_markdown":"Why aren&#39;t you using the Microsoft JDBC Driver for SQL Server? jTDS hasn&#39;t had a release in nearly a decade and was incomplete even back then, lacking support for `nchar` and `nvarchar` data types amongst other things.","body":"Why aren&#39;t you using the Microsoft JDBC Driver for SQL Server? jTDS hasn&#39;t had a release in nearly a decade and was incomplete even back then, lacking support for <code>nchar</code> and <code>nvarchar</code> data types amongst other things."},{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":0,"creation_date":1672147750,"post_id":74878346,"comment_id":132229245,"body_markdown":"The JDBC driver throws a domain exception when trying to use NTLM authentication:\n\n java.sql.SQLException: Cannot create PoolableConnectionFactory (Login failed. The login is from an untrusted domain and cannot be used with Integrated authentication.\n\nThis happens if the pipeline is ran locally, or ran in the cloud in GCP. When using JTDS, though, I can connect running the pipeline locally, but not when running from the cloud because of the error above.","body":"The JDBC driver throws a domain exception when trying to use NTLM authentication:   java.sql.SQLException: Cannot create PoolableConnectionFactory (Login failed. The login is from an untrusted domain and cannot be used with Integrated authentication.  This happens if the pipeline is ran locally, or ran in the cloud in GCP. When using JTDS, though, I can connect running the pipeline locally, but not when running from the cloud because of the error above."}],"answers":[{"comments":[{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":0,"creation_date":1672320121,"post_id":74940680,"comment_id":132266467,"body_markdown":"That would work, but it looks like the DataSourcConfiguration constructor only takes a javax.sql.DataSource, which does not have the same properties as a org.apache.commons.dbcp2.BasicDataSource","body":"That would work, but it looks like the DataSourcConfiguration constructor only takes a javax.sql.DataSource, which does not have the same properties as a org.apache.commons.dbcp2.BasicDataSource"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1672337249,"post_id":74940680,"comment_id":132271431,"body_markdown":"Yeah but BasicDataSource implements javax.sql.DataSource interface, so you should be able to pass it anyway?","body":"Yeah but BasicDataSource implements javax.sql.DataSource interface, so you should be able to pass it anyway?"},{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":0,"creation_date":1672346245,"post_id":74940680,"comment_id":132273645,"body_markdown":"Only other issue is that the data source needs to be serializable:\n\n2022-12-29T14:59:07.0182500Z Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: dataSource must be Serializable\n2022-12-29T14:59:07.0184040Z    at org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions.checkArgument(Preconditions.java:141)\n2022-12-29T14:59:07.0185868Z    at org.apache.beam.sdk.io.jdbc.JdbcIO$DataSourceConfiguration.create(JdbcIO.java:464)\n2022-12-29T14:59:07.0188156Z    at edu.mayo.mcc.aide.confidentialDocuments.Confid...","body":"Only other issue is that the data source needs to be serializable:  2022-12-29T14:59:07.0182500Z Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: dataSource must be Serializable 2022-12-29T14:59:07.0184040Z    at org.apache.beam.vendor.guava.v26_0_jre.com.google.common.bas&zwnj;&#8203;e.Preconditions.chec&zwnj;&#8203;kArgument(Preconditi&zwnj;&#8203;ons.java:141) 2022-12-29T14:59:07.0185868Z    at org.apache.beam.sdk.io.jdbc.JdbcIO$DataSourceConfiguration.c&zwnj;&#8203;reate(JdbcIO.java:46&zwnj;&#8203;4) 2022-12-29T14:59:07.0188156Z    at edu.mayo.mcc.aide.confidentialDocuments.Confid..."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1672347404,"post_id":74940680,"comment_id":132273880,"body_markdown":"Man... OK, use:\nComboPooledDataSource dataSource = new ComboPooledDataSource();\n      dataSource.setDriverClass(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n\n      dataSource.setJdbcUrl(&lt;YOUR URL&gt;);\n      dataSource.setValidationQuery(&quot;select 1&quot;);\n      JdbcIO.DataSourceConfiguration config = JdbcIO.DataSourceConfiguration.create(dataSource);","body":"Man... OK, use: ComboPooledDataSource dataSource = new ComboPooledDataSource();       dataSource.setDriverClass(&quot;net.sourceforge.jtds.jdbc.Driver&quot;&zwnj;&#8203;);        dataSource.setJdbcUrl(&lt;YOUR URL&gt;);       dataSource.setValidationQuery(&quot;select 1&quot;);       JdbcIO.DataSourceConfiguration config = JdbcIO.DataSourceConfiguration.create(dataSource);"},{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":0,"creation_date":1672350833,"post_id":74940680,"comment_id":132274642,"body_markdown":"I think this brings us back to the original issue - ComboPooledDatasource doesn&#39;t seem to have a setValidationQuery function (or similar)","body":"I think this brings us back to the original issue - ComboPooledDatasource doesn&#39;t seem to have a setValidationQuery function (or similar)"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1672357474,"post_id":74940680,"comment_id":132275885,"body_markdown":"Damn. Tricky... Last try, use the actual JdsDataSource, it should be serializable : \n\nJtdsDataSource jt = new JtdsDataSource();\n        jt.setServerName(&quot;localhost&quot;);\n        jt.setPortNumber(1433);\n        jt.setUseNTLMV2(true);\n        jt.setDatabaseName(&quot;master&quot;);","body":"Damn. Tricky... Last try, use the actual JdsDataSource, it should be serializable :   JtdsDataSource jt = new JtdsDataSource();         jt.setServerName(&quot;localhost&quot;);         jt.setPortNumber(1433);         jt.setUseNTLMV2(true);         jt.setDatabaseName(&quot;master&quot;);"},{"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"score":1,"creation_date":1672412023,"post_id":74940680,"comment_id":132285592,"body_markdown":"Thanks for the help! This method worked using the ComboPooledDataSource&#39;s  setPreferredTestQuery to set the validation function","body":"Thanks for the help! This method worked using the ComboPooledDataSource&#39;s  setPreferredTestQuery to set the validation function"}],"tags":[],"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672233011,"creation_date":1672233011,"answer_id":74940680,"question_id":74878346,"body_markdown":"You could create DataSource separately and pass it to DataSourceConfiguration constructor (https://beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/sdk/io/jdbc/JdbcIO.DataSourceConfiguration.html)\r\n\r\nWhen creating DataSource, you should be able to set validation query:\r\n\r\nhttps://commons.apache.org/proper/commons-dbcp/apidocs/org/apache/commons/dbcp2/BasicDataSource.html#setValidationQuery-java.lang.String-","title":"Dataflow JTDS SL Server Validation Query","body":"<p>You could create DataSource separately and pass it to DataSourceConfiguration constructor (<a href=\"https://beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/sdk/io/jdbc/JdbcIO.DataSourceConfiguration.html\" rel=\"nofollow noreferrer\">https://beam.apache.org/releases/javadoc/2.0.0/org/apache/beam/sdk/io/jdbc/JdbcIO.DataSourceConfiguration.html</a>)</p>\n<p>When creating DataSource, you should be able to set validation query:</p>\n<p><a href=\"https://commons.apache.org/proper/commons-dbcp/apidocs/org/apache/commons/dbcp2/BasicDataSource.html#setValidationQuery-java.lang.String-\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-dbcp/apidocs/org/apache/commons/dbcp2/BasicDataSource.html#setValidationQuery-java.lang.String-</a></p>\n"}],"owner":{"account_id":18604807,"reputation":75,"user_id":13558695,"display_name":"Ben Delany"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672412116,"creation_date":1671636891,"question_id":74878346,"body_markdown":"I&#39;m currently trying to connect to a SQL Server from a Dataflow job using the JDBCIO step of a pipeline. I am getting the following error:\r\n\r\n    2022-12-21T15:06:16.7965222Z SEVERE: 2022-12-21T15:04:31.071Z: java.lang.AbstractMethodError\r\n        2022-12-21T15:06:16.7966124Z \tat net.sourceforge.jtds.jdbc.JtdsConnection.isValid(JtdsConnection.java:2833)\r\n        2022-12-21T15:06:16.7967191Z \tat org.apache.commons.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:895)\r\n        2022-12-21T15:06:16.7968254Z \tat org.apache.commons.dbcp2.PoolableConnection.validate(PoolableConnection.java:273)\r\n        2022-12-21T15:06:16.7969451Z \tat org.apache.commons.dbcp2.PoolableConnectionFactory.validateConnection(PoolableConnectionFactory.java:644)\r\n        2022-12-21T15:06:16.7970625Z \tat org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:106)\r\n        2022-12-21T15:06:16.7971833Z \tat org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\r\n        2022-12-21T15:06:16.7973522Z \tat org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\r\n        2022-12-21T15:06:16.7974830Z \tat org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\r\n        2022-12-21T15:06:16.7976091Z \tat org.apache.beam.sdk.io.jdbc.JdbcIO$ReadFn.processElement(JdbcIO.java:1354)\r\n\r\nI have found online that I need to be able to set a validation query on the data source, but I don&#39;t know how to do that from within the dataflow job. Below is the code I&#39;m using to set up the connection - can I add a validation query? Is there another workaround?\r\n\r\n    PCollection&lt;Row&gt; Coll = pipeline\r\n                .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\r\n                        .withDataSourceConfiguration(\r\n                                buildDataSourceConfig(options, URL))\r\n                        .withQuery(query)\r\n                        .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\r\n                          // Convert ResultSet to PCollection\r\n                          public TableRow mapRow(ResultSet rs) throws Exception {\r\n                            String ipAddress = rs.getString(&quot;IP&quot;);\r\n                            return trOf(ipAddress);\r\n                          }\r\n                        }))\r\n\r\n    private static DataSourceConfiguration buildDataSourceConfig(Options options, String url)\r\n              throws Exception {\r\n        \r\n        return DataSourceConfiguration\r\n                .create(&quot;net.sourceforge.jtds.jdbc.Driver&quot;, url)\r\n                .withUsername(user)\r\n                .withPassword(pass);\r\n      }\r\n\r\n","title":"Dataflow JTDS SL Server Validation Query","body":"<p>I'm currently trying to connect to a SQL Server from a Dataflow job using the JDBCIO step of a pipeline. I am getting the following error:</p>\n<pre><code>2022-12-21T15:06:16.7965222Z SEVERE: 2022-12-21T15:04:31.071Z: java.lang.AbstractMethodError\n    2022-12-21T15:06:16.7966124Z    at net.sourceforge.jtds.jdbc.JtdsConnection.isValid(JtdsConnection.java:2833)\n    2022-12-21T15:06:16.7967191Z    at org.apache.commons.dbcp2.DelegatingConnection.isValid(DelegatingConnection.java:895)\n    2022-12-21T15:06:16.7968254Z    at org.apache.commons.dbcp2.PoolableConnection.validate(PoolableConnection.java:273)\n    2022-12-21T15:06:16.7969451Z    at org.apache.commons.dbcp2.PoolableConnectionFactory.validateConnection(PoolableConnectionFactory.java:644)\n    2022-12-21T15:06:16.7970625Z    at org.apache.commons.dbcp2.BasicDataSource.validateConnectionFactory(BasicDataSource.java:106)\n    2022-12-21T15:06:16.7971833Z    at org.apache.commons.dbcp2.BasicDataSource.createPoolableConnectionFactory(BasicDataSource.java:652)\n    2022-12-21T15:06:16.7973522Z    at org.apache.commons.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:534)\n    2022-12-21T15:06:16.7974830Z    at org.apache.commons.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:734)\n    2022-12-21T15:06:16.7976091Z    at org.apache.beam.sdk.io.jdbc.JdbcIO$ReadFn.processElement(JdbcIO.java:1354)\n</code></pre>\n<p>I have found online that I need to be able to set a validation query on the data source, but I don't know how to do that from within the dataflow job. Below is the code I'm using to set up the connection - can I add a validation query? Is there another workaround?</p>\n<pre><code>PCollection&lt;Row&gt; Coll = pipeline\n            .apply(&quot;Connect&quot;, JdbcIO.&lt;TableRow&gt;read()\n                    .withDataSourceConfiguration(\n                            buildDataSourceConfig(options, URL))\n                    .withQuery(query)\n                    .withRowMapper(new JdbcIO.RowMapper&lt;TableRow&gt;() {\n                      // Convert ResultSet to PCollection\n                      public TableRow mapRow(ResultSet rs) throws Exception {\n                        String ipAddress = rs.getString(&quot;IP&quot;);\n                        return trOf(ipAddress);\n                      }\n                    }))\n\nprivate static DataSourceConfiguration buildDataSourceConfig(Options options, String url)\n          throws Exception {\n    \n    return DataSourceConfiguration\n            .create(&quot;net.sourceforge.jtds.jdbc.Driver&quot;, url)\n            .withUsername(user)\n            .withPassword(pass);\n  }\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1672412996,"post_id":74962834,"comment_id":132285852,"body_markdown":"When you call `readUriRaw()`, are you doing so from the same activity instance where you originally got the `uri` value? https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html","body":"When you call <code>readUriRaw()</code>, are you doing so from the same activity instance where you originally got the <code>uri</code> value? <a href=\"https://commonsware.com/blog/2020/08/08/uri-access-lifetime-still-shorter-than-you-might-think.html\" rel=\"nofollow noreferrer\">commonsware.com/blog/2020/08/08/&hellip;</a>"},{"owner":{"account_id":27390725,"reputation":1,"user_id":20893751,"display_name":"Meriem Arrouj"},"score":0,"creation_date":1672419430,"post_id":74962834,"comment_id":132287622,"body_markdown":"the same activity instance","body":"the same activity instance"}],"owner":{"account_id":27390725,"reputation":1,"user_id":20893751,"display_name":"Meriem Arrouj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672411972,"creation_date":1672411972,"question_id":74962834,"body_markdown":"I need help with this problem since I&#39;m new to Android.\r\n\r\nit crashes on the line where openInputStream() is called with error:\r\n\r\n**E/ex: java.lang.SecurityException: Permission Denial: reading com.android.externalstorage.ExternalStorageProvider uri content://com.android.externalstorage.documents/document/primary/MifareClassicTool/Dump-files/dump-file.dump from pid=19139, uid=10241 requires android.permission.MANAGE_DOCUMENTS, or grantUriPermission()**\r\n\r\ncode :\r\n\r\nuri: content://com.android.externalstorage.documents/document/primary/MifareClassicTool/Dump-files/dump-file.dump\r\n\r\n\r\n```\r\npublic static byte[] readUriRaw(Uri uri, Context context) {\r\n\r\n    InputStream contentStream \r\n    if (uri == null || context == null) {\r\n        return null;\r\n    }\r\n\r\n    try {\r\n\r\n           ContentResolver contentResolver = context.getContentResolver();\r\n            int perms =   Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION;\r\n       context.getContentResolver().takePersistableUriPermission(uri, perms);\r\n\r\n        contentStream = context.getContentResolver().openInputStream(uri);\r\n\r\n \r\n    } catch (SecurityException | IOException ex) {\r\n        Log.e( &quot;ex&quot; , ex.toString());\r\n        return null;\r\n    }\r\n\r\n    int len;\r\n    byte[] data = new byte[16384];\r\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    try {\r\n        while ((len = contentStream.read(data, 0, data.length)) != -1) {\r\n            buffer.write(data, 0, len);\r\n        }\r\n    } catch (IOException e) {\r\n        Log.e(LOG_TAG, &quot;Error while reading from file.&quot;, e);\r\n        return null;\r\n    }\r\n\r\n    return buffer.toByteArray();\r\n}\r\n```\r\n\r\n\r\nThank You in advance.\r\n\r\nI need help with this problem.\r\n\r\nThank You in advance.","title":"openInputStream cause SecurityException : Permission Denial","body":"<p>I need help with this problem since I'm new to Android.</p>\n<p>it crashes on the line where openInputStream() is called with error:</p>\n<p><strong>E/ex: java.lang.SecurityException: Permission Denial: reading com.android.externalstorage.ExternalStorageProvider uri content://com.android.externalstorage.documents/document/primary/MifareClassicTool/Dump-files/dump-file.dump from pid=19139, uid=10241 requires android.permission.MANAGE_DOCUMENTS, or grantUriPermission()</strong></p>\n<p>code :</p>\n<p>uri: content://com.android.externalstorage.documents/document/primary/MifareClassicTool/Dump-files/dump-file.dump</p>\n<pre><code>public static byte[] readUriRaw(Uri uri, Context context) {\n\n    InputStream contentStream \n    if (uri == null || context == null) {\n        return null;\n    }\n\n    try {\n\n           ContentResolver contentResolver = context.getContentResolver();\n            int perms =   Intent.FLAG_GRANT_READ_URI_PERMISSION | Intent.FLAG_GRANT_WRITE_URI_PERMISSION;\n       context.getContentResolver().takePersistableUriPermission(uri, perms);\n\n        contentStream = context.getContentResolver().openInputStream(uri);\n\n \n    } catch (SecurityException | IOException ex) {\n        Log.e( &quot;ex&quot; , ex.toString());\n        return null;\n    }\n\n    int len;\n    byte[] data = new byte[16384];\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n    try {\n        while ((len = contentStream.read(data, 0, data.length)) != -1) {\n            buffer.write(data, 0, len);\n        }\n    } catch (IOException e) {\n        Log.e(LOG_TAG, &quot;Error while reading from file.&quot;, e);\n        return null;\n    }\n\n    return buffer.toByteArray();\n}\n</code></pre>\n<p>Thank You in advance.</p>\n<p>I need help with this problem.</p>\n<p>Thank You in advance.</p>\n"},{"tags":["java","sql","spring-boot","spring-data-jpa","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":9573972,"reputation":1131,"user_id":7110786,"display_name":"Saif Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672411949,"creation_date":1672411949,"answer_id":74962829,"question_id":74962200,"body_markdown":"    CriteriaBuilder builder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Object[]&gt; criteria = builder.createQuery(Object[].class);\r\n\r\n    Root&lt;Person&gt; root = criteria.from(Person.class);\r\n\r\n    // Create a subquery to get the maximum spending for each Person\r\n    Subquery&lt;Integer&gt; subquery = criteria.subquery(Integer.class);\r\n    Root&lt;Person&gt; subRoot = subquery.from(Person.class);\r\n    \r\n    subquery.select(builder.max(subRoot.get(&quot;spending&quot;))).groupBy(subRoot.get(&quot;id&quot;));\r\n\r\n    // Select the id, spending, and maximum spending for each person\r\n    criteria.multiselect(root.get(&quot;id&quot;), root.get(&quot;spending&quot;), \r\n    builder.greatest(root.get(&quot;spending&quot;)));\r\n\r\n    // Join the table with the subquery on the id\r\n    criteria.where(builder.equal(root.get(&quot;id&quot;), subRoot.get(&quot;id&quot;)));\r\n\r\n    List&lt;Object[]&gt; results = entityManager.createQuery(criteria).getResultList();\r\n\r\n`Note:` The above JPA criteria might not directly work for you. You might need to make necessary changes according to your need","title":"Nested JPA Criteria Query with GroupBy and Max","body":"<pre><code>CriteriaBuilder builder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Object[]&gt; criteria = builder.createQuery(Object[].class);\n\nRoot&lt;Person&gt; root = criteria.from(Person.class);\n\n// Create a subquery to get the maximum spending for each Person\nSubquery&lt;Integer&gt; subquery = criteria.subquery(Integer.class);\nRoot&lt;Person&gt; subRoot = subquery.from(Person.class);\n\nsubquery.select(builder.max(subRoot.get(&quot;spending&quot;))).groupBy(subRoot.get(&quot;id&quot;));\n\n// Select the id, spending, and maximum spending for each person\ncriteria.multiselect(root.get(&quot;id&quot;), root.get(&quot;spending&quot;), \nbuilder.greatest(root.get(&quot;spending&quot;)));\n\n// Join the table with the subquery on the id\ncriteria.where(builder.equal(root.get(&quot;id&quot;), subRoot.get(&quot;id&quot;)));\n\nList&lt;Object[]&gt; results = entityManager.createQuery(criteria).getResultList();\n</code></pre>\n<p><code>Note:</code> The above JPA criteria might not directly work for you. You might need to make necessary changes according to your need</p>\n"}],"owner":{"account_id":17901410,"reputation":145,"user_id":13005569,"display_name":"ZhenKai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672411949,"creation_date":1672407741,"question_id":74962200,"body_markdown":"I would like to query a table using Criteria Query in JPA Spring boot for the following sql:\r\n\r\n    SELECT p.id, p.spending, ms.maxspending from person p\r\n    INNER JOIN (SELECT p.id, max(p.spending) from person as ms GROUP BY p.id)\r\n    ON p.id = ms.id;\r\n\r\nthe table I want to derive from should look as follow: [![enter image description here][1]][1]\r\nI have no issue joining values from different tables (entities) but I can&#39;t find a way to produce the sql I show above when there is a nested SELECT clause.... any help is greatly appreciated!!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zAgKE.png","title":"Nested JPA Criteria Query with GroupBy and Max","body":"<p>I would like to query a table using Criteria Query in JPA Spring boot for the following sql:</p>\n<pre><code>SELECT p.id, p.spending, ms.maxspending from person p\nINNER JOIN (SELECT p.id, max(p.spending) from person as ms GROUP BY p.id)\nON p.id = ms.id;\n</code></pre>\n<p>the table I want to derive from should look as follow: <a href=\"https://i.stack.imgur.com/zAgKE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zAgKE.png\" alt=\"enter image description here\" /></a>\nI have no issue joining values from different tables (entities) but I can't find a way to produce the sql I show above when there is a nested SELECT clause.... any help is greatly appreciated!!!</p>\n"},{"tags":["java","android","sdk"],"answers":[{"comments":[{"owner":{"account_id":3062473,"reputation":754,"user_id":2594845,"display_name":"Florian Lavorel"},"score":4,"creation_date":1569239865,"post_id":50520690,"comment_id":102520323,"body_markdown":"ANDROID_SDK_HOME must be the worst variable naming ever... Extremely vague and easy to confuse with ANDROID_HOME.","body":"ANDROID_SDK_HOME must be the worst variable naming ever... Extremely vague and easy to confuse with ANDROID_HOME."},{"owner":{"account_id":11571486,"reputation":242,"user_id":8478131,"display_name":"Sri"},"score":1,"creation_date":1652703771,"post_id":50520690,"comment_id":127662501,"body_markdown":"The android docs: https://developer.android.com/studio/command-line/variables, mention that `ANDROID_SDK_ROOT` is deprecated in favor of `ANDROID_HOME`","body":"The android docs: <a href=\"https://developer.android.com/studio/command-line/variables\" rel=\"nofollow noreferrer\">developer.android.com/studio/command-line/variables</a>, mention that <code>ANDROID_SDK_ROOT</code> is deprecated in favor of <code>ANDROID_HOME</code>"}],"tags":[],"owner":{"account_id":1335995,"reputation":24143,"user_id":4390381,"display_name":"Sagar"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1527220561,"creation_date":1527215686,"answer_id":50520690,"question_id":50520656,"body_markdown":"Based on the [documentation][1]: \n\n**ANDROID_HOME**\n\n  `ANDROID_HOME`, points to the SDK installation directory. This has been deprecated, use `ANDROID_SDK_ROOT` instead.\n\n&gt; If you continue to use it, the following rules apply:\n&gt; \n&gt;  - If `ANDROID_HOME` is defined and contains a valid SDK installation, its value is used instead of the value in ANDROID_SDK_ROOT.\n&gt;  - If `ANDROID_HOME` is not defined, the value in ANDROID_SDK_ROOT is used.\n&gt;  - If `ANDROID_HOME` is defined but does not exist or does not contain a valid SDK installation, the value in `ANDROID_SDK_ROOT` is used instead.\n\n**ANDROID_SDK_HOME**\n\nThe root of the user-specific directory where all configuration and AVD content is stored\n\n&gt; can I set it in one dir?\n\nIdeally you shouldn&#39;t, since they serve different purpose.\n\n  [1]: https://developer.android.com/studio/command-line/variables","title":"what is different between ANDROID_HOME &amp; ANDROID_SDK_HOME","body":"<p>Based on the <a href=\"https://developer.android.com/studio/command-line/variables\" rel=\"noreferrer\">documentation</a>:</p>\n<p><strong>ANDROID_HOME</strong></p>\n<p><code>ANDROID_HOME</code>, points to the SDK installation directory. This has been deprecated, use <code>ANDROID_SDK_ROOT</code> instead.</p>\n<blockquote>\n<p>If you continue to use it, the following rules apply:</p>\n<ul>\n<li>If <code>ANDROID_HOME</code> is defined and contains a valid SDK installation, its value is used instead of the value in ANDROID_SDK_ROOT.</li>\n<li>If <code>ANDROID_HOME</code> is not defined, the value in ANDROID_SDK_ROOT is used.</li>\n<li>If <code>ANDROID_HOME</code> is defined but does not exist or does not contain a valid SDK installation, the value in <code>ANDROID_SDK_ROOT</code> is used instead.</li>\n</ul>\n</blockquote>\n<p><strong>ANDROID_SDK_HOME</strong></p>\n<p>The root of the user-specific directory where all configuration and AVD content is stored</p>\n<blockquote>\n<p>can I set it in one dir?</p>\n</blockquote>\n<p>Ideally you shouldn't, since they serve different purpose.</p>\n"},{"tags":[],"owner":{"account_id":146441,"reputation":302,"user_id":356904,"accept_rate":67,"display_name":"keponk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650106826,"creation_date":1650106826,"answer_id":71893300,"question_id":50520656,"body_markdown":"Seems like the accepted answer is no longer valid. The _current_ docs say:\r\n\r\n```\r\n ANDROID_SDK_ROOT, which also points to the SDK installation directory, is deprecated.\r\n```\r\n\r\nSource table: https://developer.android.com/studio/command-line/variables#envar","title":"what is different between ANDROID_HOME &amp; ANDROID_SDK_HOME","body":"<p>Seems like the accepted answer is no longer valid. The <em>current</em> docs say:</p>\n<pre><code> ANDROID_SDK_ROOT, which also points to the SDK installation directory, is deprecated.\n</code></pre>\n<p>Source table: <a href=\"https://developer.android.com/studio/command-line/variables#envar\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/command-line/variables#envar</a></p>\n"},{"tags":[],"owner":{"account_id":15591172,"reputation":5,"user_id":11248174,"display_name":"shyed2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672411112,"creation_date":1672411112,"answer_id":74962692,"question_id":50520656,"body_markdown":"I got this message - \r\n\r\n\r\ncom.android.prefs.AndroidLocationsException: ANDROID_SDK_HOME is set to the root of your SDK: D:\\AndroidStudio\\SDK\r\nANDROID_SDK_HOME was meant to be the parent path of the preference folder expected by the Android tools.\r\nIt is now deprecated.\r\n\r\nTo set a custom preference folder location, use ANDROID_USER_HOME.\r\n\r\nIt should NOT be set to the same directory as the root of your SDK.\r\nTo set a custom SDK location, use ANDROID_HOME.\r\n","title":"what is different between ANDROID_HOME &amp; ANDROID_SDK_HOME","body":"<p>I got this message -</p>\n<p>com.android.prefs.AndroidLocationsException: ANDROID_SDK_HOME is set to the root of your SDK: D:\\AndroidStudio\\SDK\nANDROID_SDK_HOME was meant to be the parent path of the preference folder expected by the Android tools.\nIt is now deprecated.</p>\n<p>To set a custom preference folder location, use ANDROID_USER_HOME.</p>\n<p>It should NOT be set to the same directory as the root of your SDK.\nTo set a custom SDK location, use ANDROID_HOME.</p>\n"}],"owner":{"account_id":5658480,"reputation":1603,"user_id":4476788,"accept_rate":70,"display_name":"Muhamad Yulianto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3832,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50520690,"answer_count":3,"score":7,"last_activity_date":1672411112,"creation_date":1527215395,"question_id":50520656,"body_markdown":"I have 2 directory that look same, \n\n&gt; ANDROID_HOME=C:\\Android\\sdk\n&gt;\n&gt; ANDROID_SDK_HOME=C:\\Users\\[user]\\AppData\\Local\\Android\\Sdk\n\nwhats the different?\ncan I set it in one dir?\n\n","title":"what is different between ANDROID_HOME &amp; ANDROID_SDK_HOME","body":"<p>I have 2 directory that look same,</p>\n<blockquote>\n<p>ANDROID_HOME=C:\\Android\\sdk</p>\n<p>ANDROID_SDK_HOME=C:\\Users[user]\\AppData\\Local\\Android\\Sdk</p>\n</blockquote>\n<p>whats the different?\ncan I set it in one dir?</p>\n"},{"tags":["java","bitset"],"comments":[{"owner":{"account_id":1015001,"reputation":7764,"user_id":1026764,"accept_rate":72,"display_name":"noMAD"},"score":0,"creation_date":1393026075,"post_id":21947375,"comment_id":33249644,"body_markdown":"why not just do right shift, bitwise AND, check if result is 1 in the end","body":"why not just do right shift, bitwise AND, check if result is 1 in the end"}],"answers":[{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393026300,"creation_date":1393026300,"answer_id":21947444,"question_id":21947375,"body_markdown":"For containsAll you are looking to see if every element within one bitset is within the other.\r\n\r\nThe loop will certainly work to do this. If you had access to the underlying data structures you could use bitwise operations but unfortunately you don&#39;t have that.\r\n\r\nYou may get a performance gain by doing toLongArray on both bitsets and then doing bit operations on each long - but the cost to generate the array most likely counteracts the benefits.\r\n ","title":"BitSet, no containsAll, best workaround?","body":"<p>For containsAll you are looking to see if every element within one bitset is within the other.</p>\n\n<p>The loop will certainly work to do this. If you had access to the underlying data structures you could use bitwise operations but unfortunately you don't have that.</p>\n\n<p>You may get a performance gain by doing toLongArray on both bitsets and then doing bit operations on each long - but the cost to generate the array most likely counteracts the benefits.</p>\n"},{"tags":[],"owner":{"account_id":1813630,"reputation":9872,"user_id":1649198,"display_name":"Brandon"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1393026877,"creation_date":1393026877,"answer_id":21947545,"question_id":21947375,"body_markdown":"Your approach is fine.  If you prefer to use more built-in BitSet methods, you can clone the first bit set and do a logical AND with the second then check for equality with the second.\r\n\r\n    private static boolean containsAll(BitSet s1, BitSet s2) {\r\n        BitSet intersection = (BitSet) s1.clone();\r\n        intersection.and(b2);\r\n        return intersection.equals(s2)\r\n    }","title":"BitSet, no containsAll, best workaround?","body":"<p>Your approach is fine.  If you prefer to use more built-in BitSet methods, you can clone the first bit set and do a logical AND with the second then check for equality with the second.</p>\n\n<pre><code>private static boolean containsAll(BitSet s1, BitSet s2) {\n    BitSet intersection = (BitSet) s1.clone();\n    intersection.and(b2);\n    return intersection.equals(s2)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672410976,"creation_date":1672410976,"answer_id":74962672,"question_id":21947375,"body_markdown":"A Java 8 based solution with the [`stream()`][1] API:\r\n\r\n    private static boolean containsAll(BitSet s1, BitSet s2) {\r\n      return s2.stream().allMatch(s1::get);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#stream--","title":"BitSet, no containsAll, best workaround?","body":"<p>A Java 8 based solution with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/BitSet.html#stream--\" rel=\"nofollow noreferrer\"><code>stream()</code></a> API:</p>\n<pre><code>private static boolean containsAll(BitSet s1, BitSet s2) {\n  return s2.stream().allMatch(s1::get);\n}\n</code></pre>\n"}],"owner":{"account_id":165405,"reputation":10947,"user_id":388827,"accept_rate":89,"display_name":"qqilihq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":21947545,"answer_count":3,"score":4,"last_activity_date":1672410976,"creation_date":1393025920,"question_id":21947375,"body_markdown":"I just discovered to my surprise, that `java.util.BitSet` has no `containsAll` method. What I need, is something like the following:\r\n\r\n    BitSet s1 = newBitSet(1, 2, 3, 4, 6);\r\n    BitSet s2 = newBitSet(1, 2, 3, 4);\r\n    BitSet s3 = newBitSet(1, 2, 3, 4, 5);\r\n    assertTrue(containsAll(s1, s2));\r\n    assertFalse(containsAll(s1, s3));\r\n\r\n    private static BitSet newBitSet(int... values) {\r\n        BitSet bitSet = new BitSet();\r\n        for (int value : values) {\r\n            bitSet.set(value);\r\n        }\r\n        return bitSet;\r\n    }\r\n\r\nWhat would be the best variant for implementing a `containsAll` method? Is there a more elegant way than iterating like this? (wird iteration code taken from JavaDoc)\r\n\r\n    private static boolean containsAll(BitSet s1, BitSet s2) {\r\n        for (int i = s2.nextSetBit(0); i &gt;= 0; i = s2.nextSetBit(i + 1)) {\r\n            if (!s1.get(i)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"BitSet, no containsAll, best workaround?","body":"<p>I just discovered to my surprise, that <code>java.util.BitSet</code> has no <code>containsAll</code> method. What I need, is something like the following:</p>\n\n<pre><code>BitSet s1 = newBitSet(1, 2, 3, 4, 6);\nBitSet s2 = newBitSet(1, 2, 3, 4);\nBitSet s3 = newBitSet(1, 2, 3, 4, 5);\nassertTrue(containsAll(s1, s2));\nassertFalse(containsAll(s1, s3));\n\nprivate static BitSet newBitSet(int... values) {\n    BitSet bitSet = new BitSet();\n    for (int value : values) {\n        bitSet.set(value);\n    }\n    return bitSet;\n}\n</code></pre>\n\n<p>What would be the best variant for implementing a <code>containsAll</code> method? Is there a more elegant way than iterating like this? (wird iteration code taken from JavaDoc)</p>\n\n<pre><code>private static boolean containsAll(BitSet s1, BitSet s2) {\n    for (int i = s2.nextSetBit(0); i &gt;= 0; i = s2.nextSetBit(i + 1)) {\n        if (!s1.get(i)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1672390802,"post_id":74959743,"comment_id":132280447,"body_markdown":"Does this answer your question? [What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a>"}],"answers":[{"comments":[{"owner":{"account_id":5174533,"reputation":12742,"user_id":4142130,"display_name":"Hoopje"},"score":0,"creation_date":1672410879,"post_id":74960081,"comment_id":132285292,"body_markdown":"@user16320675 Yes, that &quot;in new code&quot; should also apply to that, of course. But I removed the sentence. It doesn&#39;t really say what I wanted to say with it, and it wasn&#39;t necessary for the answer.","body":"@user16320675 Yes, that &quot;in new code&quot; should also apply to that, of course. But I removed the sentence. It doesn&#39;t really say what I wanted to say with it, and it wasn&#39;t necessary for the answer."}],"tags":[],"owner":{"account_id":5174533,"reputation":12742,"user_id":4142130,"display_name":"Hoopje"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672410728,"creation_date":1672393049,"answer_id":74960081,"question_id":74959743,"body_markdown":"You never *need* to add `&lt;?&gt;`, but in new code you always *should* add it (for generic classes). Basically, the `&lt;?&gt;` tells the compiler that you know about generics and want the strict type checking that comes with it.\r\n\r\nHowever, usually you will not use `&lt;?&gt;` but a more specific type parameter:\r\n\r\n    Message&lt;String, SourceConnectable, TargetConnectable&gt; m = new Message&lt;String, SourceConnectable, TargetConnectable&gt;(...);\r\n\r\nor, employing type inference features of newer Java versions:\r\n\r\n    Message&lt;String, SourceConnectable, TargetConnectable&gt; m = new Message&lt;&gt;(...); // Java 1.7+\r\n    var m = new Message&lt;String, SourceConnectable, TargetConnectable&gt;(...); // Java 10+","title":"When do I need to add &lt;?&gt; when creating generic objects?","body":"<p>You never <em>need</em> to add <code>&lt;?&gt;</code>, but in new code you always <em>should</em> add it (for generic classes). Basically, the <code>&lt;?&gt;</code> tells the compiler that you know about generics and want the strict type checking that comes with it.</p>\n<p>However, usually you will not use <code>&lt;?&gt;</code> but a more specific type parameter:</p>\n<pre><code>Message&lt;String, SourceConnectable, TargetConnectable&gt; m = new Message&lt;String, SourceConnectable, TargetConnectable&gt;(...);\n</code></pre>\n<p>or, employing type inference features of newer Java versions:</p>\n<pre><code>Message&lt;String, SourceConnectable, TargetConnectable&gt; m = new Message&lt;&gt;(...); // Java 1.7+\nvar m = new Message&lt;String, SourceConnectable, TargetConnectable&gt;(...); // Java 10+\n</code></pre>\n"}],"owner":{"account_id":23257535,"reputation":21,"user_id":18133824,"display_name":"Nati"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672393321,"answer_count":1,"score":0,"last_activity_date":1672410728,"creation_date":1672390423,"question_id":74959743,"body_markdown":"let me give you an example (client-server communication), let&#39;s say we have the following class:\r\n\r\n    public class Message&lt;Data, From extends Connectable, To extends Connectable&gt;\r\nConnectable is an interface that both the client and server implements.\r\nMy question is when creating an instance of Message do I have to add `&lt;?, ?, ?&gt;` to the type?\r\n\r\n    Message&lt;?, ?, ?&gt; m = new Message&lt;&gt;(...);\r\nor\r\n\r\n    Message m = new Message&lt;&gt;(...);\r\n\r\nI know `&lt;?&gt;` is a wildcard shortcut for `&lt;? extends Object&gt;` I just don&#39;t get when do I have to add this? Is there any difference? Thanks!","title":"When do I need to add &lt;?&gt; when creating generic objects?","body":"<p>let me give you an example (client-server communication), let's say we have the following class:</p>\n<pre><code>public class Message&lt;Data, From extends Connectable, To extends Connectable&gt;\n</code></pre>\n<p>Connectable is an interface that both the client and server implements.\nMy question is when creating an instance of Message do I have to add <code>&lt;?, ?, ?&gt;</code> to the type?</p>\n<pre><code>Message&lt;?, ?, ?&gt; m = new Message&lt;&gt;(...);\n</code></pre>\n<p>or</p>\n<pre><code>Message m = new Message&lt;&gt;(...);\n</code></pre>\n<p>I know <code>&lt;?&gt;</code> is a wildcard shortcut for <code>&lt;? extends Object&gt;</code> I just don't get when do I have to add this? Is there any difference? Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9455,"page":768,"page_size":100}
