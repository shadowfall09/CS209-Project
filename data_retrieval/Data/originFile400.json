{"items":[{"tags":["java","android","kotlin","oppo"],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685523613,"creation_date":1685523613,"question_id":76371787,"body_markdown":"Can someone provide a working solution for a Device Admin permission issue in my Android app? \r\nThe permission works fine on most devices, but it seems to have problems on specific devices like OnePlus and Oppo. \r\n\r\nUser can disable it from app info -&gt; uninstall -&gt; Shows a dialogue to remove admin permissions -&gt; uninstall app\r\n\r\nI have tried searching for solutions online, but haven&#39;t found any helpful resources or code examples. I am using `DeviceAdminReceiver` to enable the permission. Any assistance or suggestions would be greatly appreciated.\r\n\r\n\r\n\r\n\r\n","title":"Prevent Disabling Device Admin Permission on Oneplus and Oppo Phones","body":"<p>Can someone provide a working solution for a Device Admin permission issue in my Android app?\nThe permission works fine on most devices, but it seems to have problems on specific devices like OnePlus and Oppo.</p>\n<p>User can disable it from app info -&gt; uninstall -&gt; Shows a dialogue to remove admin permissions -&gt; uninstall app</p>\n<p>I have tried searching for solutions online, but haven't found any helpful resources or code examples. I am using <code>DeviceAdminReceiver</code> to enable the permission. Any assistance or suggestions would be greatly appreciated.</p>\n"},{"tags":["java","performance","hibernate","out-of-memory","data-processing"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1388585782,"creation_date":1388585782,"answer_id":20869504,"question_id":20869473,"body_markdown":"I don&#39;t know why you think committing a transaction frees heap memory.  Running garbage collection does that.\r\n\r\nOOM error can happen if your perm gen is exhausted.  \r\n\r\nThe easy answer is to change your min and max heap sizes and perm gen size when you start the JVM and see if it goes away.\r\n\r\nI&#39;d recommending getting a profiler, like VisualVM, and seeing what is consuming your memory at runtime.  It should be easy to fix.\r\n\r\nI&#39;d guess that you&#39;re trying to commit too large a chunk at once.  Break it up into smaller pieces and see if that helps.","title":"Hibernate out of memory exception while processing large collection of elements","body":"<p>I don't know why you think committing a transaction frees heap memory.  Running garbage collection does that.</p>\n\n<p>OOM error can happen if your perm gen is exhausted.  </p>\n\n<p>The easy answer is to change your min and max heap sizes and perm gen size when you start the JVM and see if it goes away.</p>\n\n<p>I'd recommending getting a profiler, like VisualVM, and seeing what is consuming your memory at runtime.  It should be easy to fix.</p>\n\n<p>I'd guess that you're trying to commit too large a chunk at once.  Break it up into smaller pieces and see if that helps.</p>\n"},{"tags":[],"owner":{"account_id":3793875,"reputation":49,"user_id":3149639,"display_name":"theexamtime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388588756,"creation_date":1388588028,"answer_id":20869866,"question_id":20869473,"body_markdown":"Try using session.clear() which\r\n*&quot;Completely clear the session. Evict all loaded instances and cancel all pending saves, updates and deletions. Do not close open iterators or instances of ScrollableResults&quot;*","title":"Hibernate out of memory exception while processing large collection of elements","body":"<p>Try using session.clear() which\n<em>\"Completely clear the session. Evict all loaded instances and cancel all pending saves, updates and deletions. Do not close open iterators or instances of ScrollableResults\"</em></p>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1685523421,"creation_date":1388589078,"answer_id":20869997,"question_id":20869473,"body_markdown":"It&#39;s important to distinguish these two actions:\r\n\r\n- *flushing* a session executes all pending statements against the database (it synchronizes the in-memory state with the database state);\r\n\r\n- *clearing* a session purges the session (1st-level) cache, thus freeing memory.\r\n\r\nSo you need to both flush and clear a session in order to recover the occupied memory.\r\n\r\nIn addition to that, you must disable the 2nd-level cache. Otherwise all (or most of) the objects will remain reachable even after clearing the session.","title":"Hibernate out of memory exception while processing large collection of elements","body":"<p>It's important to distinguish these two actions:</p>\n<ul>\n<li><p><em>flushing</em> a session executes all pending statements against the database (it synchronizes the in-memory state with the database state);</p>\n</li>\n<li><p><em>clearing</em> a session purges the session (1st-level) cache, thus freeing memory.</p>\n</li>\n</ul>\n<p>So you need to both flush and clear a session in order to recover the occupied memory.</p>\n<p>In addition to that, you must disable the 2nd-level cache. Otherwise all (or most of) the objects will remain reachable even after clearing the session.</p>\n"},{"tags":[],"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531556764,"creation_date":1531556764,"answer_id":51336700,"question_id":20869473,"body_markdown":"This article solved my issue\r\n\r\n        Session session = sessionFactory.getCurrentSession();\r\n          ScrollableResults scrollableResults = session.createQuery(&quot;from DemoEntity&quot;).scroll(ScrollMode.FORWARD_ONLY);\r\n          int count = 0;\r\n          while (scrollableResults.next()) {\r\n           if (++count &gt; 0 &amp;&amp; count % 100 == 0) {\r\n            System.out.println(&quot;Fetched &quot; + count + &quot; entities&quot;);\r\n           }\r\n           DemoEntity demoEntity = (DemoEntity) scrollableResults.get()[0];\r\n           //Process and write result\r\n           session.evict(demoEntity);//important to add this\r\n          }\r\n         }\r\n\r\n[bulk fetching hibernate][1]\r\n\r\n1. Use hibernate ScrollableResult\r\n2. Use evict\r\n\r\n**BTW** I tried the statless solution it gave me this exception i did not how to solve ( may be you can improve this answer) [Exception details is here][2]\r\n\r\n    org.hibernate.SessionException: collections cannot be fetched by a stateless session\r\n\r\nSo i tuned with sleep(delay) as its a back ground process and very long with low resources on server i have to cool down cpu; with midnight work ( none rush hours).\r\n\r\n\r\n  [1]: https://dzone.com/articles/bulk-fetching-hibernate\r\n  [2]: https://access.redhat.com/solutions/33032","title":"Hibernate out of memory exception while processing large collection of elements","body":"<p>This article solved my issue</p>\n\n<pre><code>    Session session = sessionFactory.getCurrentSession();\n      ScrollableResults scrollableResults = session.createQuery(\"from DemoEntity\").scroll(ScrollMode.FORWARD_ONLY);\n      int count = 0;\n      while (scrollableResults.next()) {\n       if (++count &gt; 0 &amp;&amp; count % 100 == 0) {\n        System.out.println(\"Fetched \" + count + \" entities\");\n       }\n       DemoEntity demoEntity = (DemoEntity) scrollableResults.get()[0];\n       //Process and write result\n       session.evict(demoEntity);//important to add this\n      }\n     }\n</code></pre>\n\n<p><a href=\"https://dzone.com/articles/bulk-fetching-hibernate\" rel=\"nofollow noreferrer\">bulk fetching hibernate</a></p>\n\n<ol>\n<li>Use hibernate ScrollableResult</li>\n<li>Use evict</li>\n</ol>\n\n<p><strong>BTW</strong> I tried the statless solution it gave me this exception i did not how to solve ( may be you can improve this answer) <a href=\"https://access.redhat.com/solutions/33032\" rel=\"nofollow noreferrer\">Exception details is here</a></p>\n\n<pre><code>org.hibernate.SessionException: collections cannot be fetched by a stateless session\n</code></pre>\n\n<p>So i tuned with sleep(delay) as its a back ground process and very long with low resources on server i have to cool down cpu; with midnight work ( none rush hours).</p>\n"},{"tags":[],"owner":{"account_id":484995,"reputation":1559,"user_id":901019,"accept_rate":85,"display_name":"JonathanReez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655029022,"creation_date":1655029022,"answer_id":72591289,"question_id":20869473,"body_markdown":"This was probably a very obscure version of the same bug, but in my case the culprit was Eclipse. Switching to IntelliJ and running the same project solved the problem - and of course it worked just fine when running the project without an IDE. I couldn&#39;t  quite figure out what was wrong with Eclipse, so stuck with IntelliJ. Full stack trace for future Google searches:\r\n\r\n    INFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect\r\n    июн 12, 2022 11:37:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\r\n    INFO: HHH10001008: Cleaning up connection pool [jdbc:sqlserver://localhost;encrypt=true;trustServerCertificate=true]\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    \tat org.hibernate.loader.PropertyPath.&lt;init&gt;(PropertyPath.java:45)\r\n    \tat org.hibernate.loader.PropertyPath.append(PropertyPath.java:58)\r\n    \tat org.hibernate.loader.plan.build.internal.returns.CollectionFetchableElementEntityGraph.&lt;init&gt;(CollectionFetchableElementEntityGraph.java:26)\r\n    \tat org.hibernate.loader.plan.build.internal.returns.AbstractCollectionReference.buildElementGraph(AbstractCollectionReference.java:135)\r\n    \tat org.hibernate.loader.plan.build.internal.returns.AbstractCollectionReference.&lt;init&gt;(AbstractCollectionReference.java:69)\r\n    \tat org.hibernate.loader.plan.build.internal.returns.CollectionAttributeFetchImpl.&lt;init&gt;(CollectionAttributeFetchImpl.java:32)\r\n    \tat org.hibernate.loader.plan.build.internal.returns.AbstractExpandingFetchSource.buildCollectionAttributeFetch(AbstractExpandingFetchSource.java:176)\r\n    \tat org.hibernate.loader.plan.build.internal.AbstractLoadPlanBuildingAssociationVisitationStrategy.handleAssociationAttribute(AbstractLoadPlanBuildingAssociationVisitationStrategy.java:874)\r\n    \tat org.hibernate.loader.plan.build.internal.FetchStyleLoadPlanBuildingAssociationVisitationStrategy.handleAssociationAttribute(FetchStyleLoadPlanBuildingAssociationVisitationStrategy.java:155)\r\n    \tat org.hibernate.loader.plan.build.internal.AbstractLoadPlanBuildingAssociationVisitationStrategy.startingAttribute(AbstractLoadPlanBuildingAssociationVisitationStrategy.java:564)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:170)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\r\n    \tat org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)","title":"Hibernate out of memory exception while processing large collection of elements","body":"<p>This was probably a very obscure version of the same bug, but in my case the culprit was Eclipse. Switching to IntelliJ and running the same project solved the problem - and of course it worked just fine when running the project without an IDE. I couldn't  quite figure out what was wrong with Eclipse, so stuck with IntelliJ. Full stack trace for future Google searches:</p>\n<pre><code>INFO: HHH000400: Using dialect: org.hibernate.dialect.SQLServerDialect\nиюн 12, 2022 11:37:30 AM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PoolState stop\nINFO: HHH10001008: Cleaning up connection pool [jdbc:sqlserver://localhost;encrypt=true;trustServerCertificate=true]\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at org.hibernate.loader.PropertyPath.&lt;init&gt;(PropertyPath.java:45)\n    at org.hibernate.loader.PropertyPath.append(PropertyPath.java:58)\n    at org.hibernate.loader.plan.build.internal.returns.CollectionFetchableElementEntityGraph.&lt;init&gt;(CollectionFetchableElementEntityGraph.java:26)\n    at org.hibernate.loader.plan.build.internal.returns.AbstractCollectionReference.buildElementGraph(AbstractCollectionReference.java:135)\n    at org.hibernate.loader.plan.build.internal.returns.AbstractCollectionReference.&lt;init&gt;(AbstractCollectionReference.java:69)\n    at org.hibernate.loader.plan.build.internal.returns.CollectionAttributeFetchImpl.&lt;init&gt;(CollectionAttributeFetchImpl.java:32)\n    at org.hibernate.loader.plan.build.internal.returns.AbstractExpandingFetchSource.buildCollectionAttributeFetch(AbstractExpandingFetchSource.java:176)\n    at org.hibernate.loader.plan.build.internal.AbstractLoadPlanBuildingAssociationVisitationStrategy.handleAssociationAttribute(AbstractLoadPlanBuildingAssociationVisitationStrategy.java:874)\n    at org.hibernate.loader.plan.build.internal.FetchStyleLoadPlanBuildingAssociationVisitationStrategy.handleAssociationAttribute(FetchStyleLoadPlanBuildingAssociationVisitationStrategy.java:155)\n    at org.hibernate.loader.plan.build.internal.AbstractLoadPlanBuildingAssociationVisitationStrategy.startingAttribute(AbstractLoadPlanBuildingAssociationVisitationStrategy.java:564)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:170)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitEntityDefinition(MetamodelGraphWalker.java:97)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAssociation(MetamodelGraphWalker.java:209)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributeDefinition(MetamodelGraphWalker.java:178)\n    at org.hibernate.persister.walking.spi.MetamodelGraphWalker.visitAttributes(MetamodelGraphWalker.java:140)\n</code></pre>\n"}],"owner":{"account_id":1867377,"reputation":3480,"user_id":1690578,"accept_rate":73,"display_name":"Yurii Bondarenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10999,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":20869997,"answer_count":5,"score":10,"last_activity_date":1685523421,"creation_date":1388585604,"question_id":20869473,"body_markdown":"I am trying to process collection of heavy weight elements (images). Size of collection varies between 8000 - 50000 entries. But for some reason after processing 1800-1900 entries my program falls with java.lang.OutOfMemoryError: Java heap space.\r\n\r\nIn my understanding each time when I call session.getTransaction().commit() program should free heap memory, but looks like it never happens.\r\nWhat do I do wrong? Here is the code:\r\n\r\n    private static void loadImages( LoadStrategy loadStrategy ) throws IOException {\r\n        log.info( &quot;Loading images for: &quot; + loadStrategy.getPageType() );\r\n\r\n        Session session = sessionFactory.openSession();\r\n        session.setFlushMode( FlushMode.COMMIT );\r\n        Query query = session.createQuery( &quot;from PageRaw where pageType = :pageType and pageStatus = :pageStatus and sessionId = 1&quot; );\r\n        query.setString( &quot;pageStatus&quot;, PageStatus.SUCCESS.name() );\r\n        query.setString( &quot;pageType&quot;, loadStrategy.getPageType().name() );\r\n        query.setMaxResults( 50 );\r\n\r\n        List&lt;PageRaw&gt; pages;\r\n        int resultNum = 0;\r\n\r\n        do {\r\n\r\n            session.getTransaction().begin();\r\n\r\n            log.info( &quot;Get pages statring form &quot; + resultNum + &quot; position&quot; );\r\n            query.setFirstResult( resultNum );\r\n            resultNum += 50;\r\n            pages = query.list();\r\n            log.info( &quot;Found &quot; + pages.size() + &quot; pages&quot; );\r\n\r\n\r\n            for (PageRaw pr : pages ) {\r\n                Set&lt;String&gt; imageUrls = new HashSet&lt;&gt;();\r\n                for ( UrlLocator imageUrlLocator : loadStrategy.getImageUrlLocators() ) {\r\n                    imageUrls.addAll(\r\n                            imageUrlLocator.locateUrls( StringConvector.toString( pr.getSourceHtml() ) )\r\n                    );\r\n                }\r\n\r\n                removeDeletedImageRaws( pr.getImages(), imageUrls );\r\n                loadNewImageRaws( pr.getImages(), imageUrls );\r\n            }\r\n\r\n            session.getTransaction().commit();\r\n\r\n        } while ( pages.size() &gt; 0 );\r\n\r\n        session.close();\r\n    }","title":"Hibernate out of memory exception while processing large collection of elements","body":"<p>I am trying to process collection of heavy weight elements (images). Size of collection varies between 8000 - 50000 entries. But for some reason after processing 1800-1900 entries my program falls with java.lang.OutOfMemoryError: Java heap space.</p>\n\n<p>In my understanding each time when I call session.getTransaction().commit() program should free heap memory, but looks like it never happens.\nWhat do I do wrong? Here is the code:</p>\n\n<pre><code>private static void loadImages( LoadStrategy loadStrategy ) throws IOException {\n    log.info( \"Loading images for: \" + loadStrategy.getPageType() );\n\n    Session session = sessionFactory.openSession();\n    session.setFlushMode( FlushMode.COMMIT );\n    Query query = session.createQuery( \"from PageRaw where pageType = :pageType and pageStatus = :pageStatus and sessionId = 1\" );\n    query.setString( \"pageStatus\", PageStatus.SUCCESS.name() );\n    query.setString( \"pageType\", loadStrategy.getPageType().name() );\n    query.setMaxResults( 50 );\n\n    List&lt;PageRaw&gt; pages;\n    int resultNum = 0;\n\n    do {\n\n        session.getTransaction().begin();\n\n        log.info( \"Get pages statring form \" + resultNum + \" position\" );\n        query.setFirstResult( resultNum );\n        resultNum += 50;\n        pages = query.list();\n        log.info( \"Found \" + pages.size() + \" pages\" );\n\n\n        for (PageRaw pr : pages ) {\n            Set&lt;String&gt; imageUrls = new HashSet&lt;&gt;();\n            for ( UrlLocator imageUrlLocator : loadStrategy.getImageUrlLocators() ) {\n                imageUrls.addAll(\n                        imageUrlLocator.locateUrls( StringConvector.toString( pr.getSourceHtml() ) )\n                );\n            }\n\n            removeDeletedImageRaws( pr.getImages(), imageUrls );\n            loadNewImageRaws( pr.getImages(), imageUrls );\n        }\n\n        session.getTransaction().commit();\n\n    } while ( pages.size() &gt; 0 );\n\n    session.close();\n}\n</code></pre>\n"},{"tags":["java","workflow","aem"],"comments":[{"owner":{"account_id":70798,"reputation":2030,"user_id":204968,"display_name":"ronnyfm"},"score":0,"creation_date":1688056949,"post_id":76371660,"comment_id":135025901,"body_markdown":"Why the OOB on/off time properties do not work for you?","body":"Why the OOB on/off time properties do not work for you?"}],"owner":{"account_id":12918463,"reputation":13,"user_id":9341820,"display_name":"Ankit Sethiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685522448,"creation_date":1685522448,"question_id":76371660,"body_markdown":"Need to Acivate an asset at a Scheduled time provided by User Programatically using SCHEDULED PAGE/ASSET ACTIVATION workflow. I need to set the timeoutHandler value when I call this Workflow from my java code. I&#39;m not sure how to do that. Once this property is set for my workflow instance, I&#39;m hoping AEM should take care of the activation at Scheduled time.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OGoyO.png\r\n","title":"AEM Scheduled Page/Asset Activation Programatically or through Workflow","body":"<p>Need to Acivate an asset at a Scheduled time provided by User Programatically using SCHEDULED PAGE/ASSET ACTIVATION workflow. I need to set the timeoutHandler value when I call this Workflow from my java code. I'm not sure how to do that. Once this property is set for my workflow instance, I'm hoping AEM should take care of the activation at Scheduled time.</p>\n<p><a href=\"https://i.stack.imgur.com/OGoyO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGoyO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","sdk","unity-game-engine"],"comments":[{"owner":{"account_id":8700932,"reputation":562,"user_id":6510850,"display_name":"Douglas Dwyer"},"score":0,"creation_date":1519593886,"post_id":48976296,"comment_id":84962223,"body_markdown":"Do you mean that you imported a plugin, and then this popup appeared and Unity just totally hangs?  That just happened to me, and I&#39;m not sure what to do...","body":"Do you mean that you imported a plugin, and then this popup appeared and Unity just totally hangs?  That just happened to me, and I&#39;m not sure what to do..."},{"owner":{"account_id":10378942,"reputation":323,"user_id":7654353,"accept_rate":73,"display_name":"TheNewbie"},"score":0,"creation_date":1519653495,"post_id":48976296,"comment_id":84984946,"body_markdown":"Yea the same. I have no idea how to fix it. I have been going around different errors for 3 days. My head hurts. I changed Unity version to 5 from 2017 and then the Resolver was fixed, but I couldn&#39;t build my APK. Error after error.","body":"Yea the same. I have no idea how to fix it. I have been going around different errors for 3 days. My head hurts. I changed Unity version to 5 from 2017 and then the Resolver was fixed, but I couldn&#39;t build my APK. Error after error."},{"owner":{"account_id":8700932,"reputation":562,"user_id":6510850,"display_name":"Douglas Dwyer"},"score":0,"creation_date":1519770731,"post_id":48976296,"comment_id":85043264,"body_markdown":"Argh.  I just tried importing some more packages as according to [this GitHub issue](https://github.com/playgameservices/play-games-plugin-for-unity/issues/2116) which seems to detail the error we are experiencing, but to no avail.  Do let me know if you&#39;ve figured this out.","body":"Argh.  I just tried importing some more packages as according to <a href=\"https://github.com/playgameservices/play-games-plugin-for-unity/issues/2116\" rel=\"nofollow noreferrer\">this GitHub issue</a> which seems to detail the error we are experiencing, but to no avail.  Do let me know if you&#39;ve figured this out."},{"owner":{"account_id":8700932,"reputation":562,"user_id":6510850,"display_name":"Douglas Dwyer"},"score":0,"creation_date":1519863131,"post_id":48976296,"comment_id":85086765,"body_markdown":"Hey, I don&#39;t know if you managed to fix this, but I seem to have reached a state where I&#39;ve worked around the error.  I deleted all the GPS and AdMob files from my project, and then reimported GPS and then AdMob whilst Force Resolving the project between each step.","body":"Hey, I don&#39;t know if you managed to fix this, but I seem to have reached a state where I&#39;ve worked around the error.  I deleted all the GPS and AdMob files from my project, and then reimported GPS and then AdMob whilst Force Resolving the project between each step."}],"answers":[{"tags":[],"owner":{"account_id":13579461,"reputation":21,"user_id":9795901,"display_name":"nightofthecow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1526407079,"creation_date":1526407079,"answer_id":50356563,"question_id":48976296,"body_markdown":"Not sure if this will help or cause more issues -- as I will find out soon I guess, but if you already have Play Services package installed along with the Play Services Resolver that comes with it...when importing the AdMobs package make sure that you uncheck the Play Services Resolver before import since it is already installed. You can manage/update the Play Services Resolver from the Assets menu if needed I believe. ","title":"Unity: Resolving Android Dependencies freeze. Cannot import any plug-in","body":"<p>Not sure if this will help or cause more issues -- as I will find out soon I guess, but if you already have Play Services package installed along with the Play Services Resolver that comes with it...when importing the AdMobs package make sure that you uncheck the Play Services Resolver before import since it is already installed. You can manage/update the Play Services Resolver from the Assets menu if needed I believe. </p>\n"},{"tags":[],"owner":{"account_id":10378942,"reputation":323,"user_id":7654353,"accept_rate":73,"display_name":"TheNewbie"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1526507275,"creation_date":1526507275,"answer_id":50380399,"question_id":48976296,"body_markdown":"Well...the problem was that my project folder had spaces in it. If it was\r\n Test App, it should have been TestApp. When I created my project in Unity (Its my first project) I neglected the name of the Project is used as the folder name too. I understood how the whole engine works inside out in hopeless attempts to fix it, but never did I suspect it was so simple. ","title":"Unity: Resolving Android Dependencies freeze. Cannot import any plug-in","body":"<p>Well...the problem was that my project folder had spaces in it. If it was\n Test App, it should have been TestApp. When I created my project in Unity (Its my first project) I neglected the name of the Project is used as the folder name too. I understood how the whole engine works inside out in hopeless attempts to fix it, but never did I suspect it was so simple. </p>\n"},{"tags":[],"owner":{"account_id":2667537,"reputation":378,"user_id":2305602,"display_name":"ivan.rosina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542710704,"creation_date":1542710704,"answer_id":53391277,"question_id":48976296,"body_markdown":"In ProjectSettings you can remove (I suggest rename) the AndroidResolverDependencies.xml then restart unity.\r\nI takes time but you can see jdk working, so wait and it fixes any problem.\r\n","title":"Unity: Resolving Android Dependencies freeze. Cannot import any plug-in","body":"<p>In ProjectSettings you can remove (I suggest rename) the AndroidResolverDependencies.xml then restart unity.\nI takes time but you can see jdk working, so wait and it fixes any problem.</p>\n"},{"tags":[],"owner":{"account_id":186443,"reputation":93,"user_id":423835,"display_name":"st4rdog"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606419752,"creation_date":1606419752,"answer_id":65028341,"question_id":48976296,"body_markdown":"Try going to Edit &gt; Preferences &gt; External Tools &gt; Check/Uncheck the JDK/etc paths and close the window. It can trigger the android dependency manager to continue. If not, go to Assets &gt; External Dependency Manager &gt; Android Resolver &gt; Resolve.","title":"Unity: Resolving Android Dependencies freeze. Cannot import any plug-in","body":"<p>Try going to Edit &gt; Preferences &gt; External Tools &gt; Check/Uncheck the JDK/etc paths and close the window. It can trigger the android dependency manager to continue. If not, go to Assets &gt; External Dependency Manager &gt; Android Resolver &gt; Resolve.</p>\n"},{"tags":[],"owner":{"account_id":20867055,"reputation":1,"user_id":15327852,"display_name":"Deepanshu Soni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614845353,"creation_date":1614845232,"answer_id":66470890,"question_id":48976296,"body_markdown":"Check both of the checkboxes I checked under Build Menu and it&#39;ll fix.\r\n\r\n![Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SMWdz.png","title":"Unity: Resolving Android Dependencies freeze. Cannot import any plug-in","body":"<p>Check both of the checkboxes I checked under Build Menu and it'll fix.</p>\n<p><img src=\"https://i.stack.imgur.com/SMWdz.png\" alt=\"Image\" /></p>\n"}],"owner":{"account_id":10378942,"reputation":323,"user_id":7654353,"accept_rate":73,"display_name":"TheNewbie"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18574,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":50380399,"answer_count":5,"score":9,"last_activity_date":1685522374,"creation_date":1519579250,"question_id":48976296,"body_markdown":"I have a huge issue. For some reason, I am unable to import almost any plug-in into my Unity project. Whenever the import finishes, I get the Resolving Android Dependencies screen, which never actually resolves the issue. I recently got this issue when I imported the Unity Mediation Plug-in and now I reinstalled my Android Studio, Java and Unity, which resulted in the same error but now even for plug-ins, which worked before. I have no idea what to do. After the reinstall, I had to downgrade my SDK tools to 25.0.5 or I couldn&#39;t build the project due to JAVA_HOME error in the Unity Editor. Everything else is up-to-date.\r\n\r\nAny help is appreciated. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OmTxZ.png","title":"Unity: Resolving Android Dependencies freeze. Cannot import any plug-in","body":"<p>I have a huge issue. For some reason, I am unable to import almost any plug-in into my Unity project. Whenever the import finishes, I get the Resolving Android Dependencies screen, which never actually resolves the issue. I recently got this issue when I imported the Unity Mediation Plug-in and now I reinstalled my Android Studio, Java and Unity, which resulted in the same error but now even for plug-ins, which worked before. I have no idea what to do. After the reinstall, I had to downgrade my SDK tools to 25.0.5 or I couldn't build the project due to JAVA_HOME error in the Unity Editor. Everything else is up-to-date.</p>\n\n<p>Any help is appreciated. \n<a href=\"https://i.stack.imgur.com/OmTxZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OmTxZ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":1595031,"reputation":1442,"user_id":1477418,"display_name":"Islam Elbanna"},"score":1,"creation_date":1685524248,"post_id":76371651,"comment_id":134670860,"body_markdown":"Does this answer your question? https://stackoverflow.com/a/72346244/1477418","body":"Does this answer your question? <a href=\"https://stackoverflow.com/a/72346244/1477418\">stackoverflow.com/a/72346244/1477418</a>"},{"owner":{"account_id":25028548,"reputation":425,"user_id":18886549,"display_name":"shalnarkftw"},"score":1,"creation_date":1685543203,"post_id":76371651,"comment_id":134675287,"body_markdown":"In scala we&#39;ll write something like this: \n`df.withColumn(&quot;person_details&quot;, to_json(struct($&quot;FirstName&quot;, $&quot;LastName&quot;, $&quot;Age&quot;)))`\nHope this can help you in order to write this in Java","body":"In scala we&#39;ll write something like this:  <code>df.withColumn(&quot;person_details&quot;, to_json(struct($&quot;FirstName&quot;, $&quot;LastName&quot;, $&quot;Age&quot;)))</code> Hope this can help you in order to write this in Java"}],"owner":{"account_id":11888954,"reputation":125,"user_id":8700452,"display_name":"Ashutosh Rai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685522373,"creation_date":1685522373,"question_id":76371651,"body_markdown":"I have a use case where I want to combine multiple columns values into one single String column in spark?\r\n\r\n```\r\nSource\r\n\r\nFirstName|LastName|Age\r\nAnuj     | Rai    |26\r\n\r\nTarget\r\n\r\nFirstName|LastName|Age | person_details\r\nAnuj     | Rai    | 26 | {FirstName:&quot;Anuj&quot;,LastName:&quot;Rai&quot;,Age:&quot;26&quot;}\r\n```\r\n\r\nI saw that in scala we can do this by using struct but how to do the same in java.I did not find any struct method in java?","title":"How to combine multiple column into one single json structure in spark?","body":"<p>I have a use case where I want to combine multiple columns values into one single String column in spark?</p>\n<pre><code>Source\n\nFirstName|LastName|Age\nAnuj     | Rai    |26\n\nTarget\n\nFirstName|LastName|Age | person_details\nAnuj     | Rai    | 26 | {FirstName:&quot;Anuj&quot;,LastName:&quot;Rai&quot;,Age:&quot;26&quot;}\n</code></pre>\n<p>I saw that in scala we can do this by using struct but how to do the same in java.I did not find any struct method in java?</p>\n"},{"tags":["java","hibernate","jpa","getter"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1685522980,"post_id":76371646,"comment_id":134670601,"body_markdown":"If you stop it in the debugged, you can see in the IDE the stack of the calls that would lead you to the place where it was called and why.","body":"If you stop it in the debugged, you can see in the IDE the stack of the calls that would lead you to the place where it was called and why."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1685523513,"post_id":76371646,"comment_id":134670717,"body_markdown":"Does method `decode` change the value of `this.credentials` internally?  Or just decodes and returns, keeping `this.credentials` as-is, i.e. encoded. Then there should not be any problem, even if it is called multiple times.  And yes, check the call-stack as @NikolasCharalambidis suggests to know from where does it get called in both the cases.","body":"Does method <code>decode</code> change the value of <code>this.credentials</code> internally?  Or just decodes and returns, keeping <code>this.credentials</code> as-is, i.e. encoded. Then there should not be any problem, even if it is called multiple times.  And yes, check the call-stack as @NikolasCharalambidis suggests to know from where does it get called in both the cases."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1685542789,"post_id":76371646,"comment_id":134675176,"body_markdown":"Have the method call (new RuntimeException()).printStackTrace() to log the stack to see what is calling your method as it would help determine why if a break point won&#39;t. There isn&#39;t enough info here to know who/what/why it might be called otherwise or even the API used that you see it occurring with. Best practice though might be to decode/encode it once, using onLoad and prePersist/PreUpdate events, and cache the results in the entity - but I don&#39;t see how your debugging proves the method is called twice. If the decode isn&#39;t in the Get call, it means the credentials were not encoded at all","body":"Have the method call (new RuntimeException()).printStackTrace() to log the stack to see what is calling your method as it would help determine why if a break point won&#39;t. There isn&#39;t enough info here to know who/what/why it might be called otherwise or even the API used that you see it occurring with. Best practice though might be to decode/encode it once, using onLoad and prePersist/PreUpdate events, and cache the results in the entity - but I don&#39;t see how your debugging proves the method is called twice. If the decode isn&#39;t in the Get call, it means the credentials were not encoded at all"}],"owner":{"account_id":15028110,"reputation":93,"user_id":10847244,"display_name":"Taserface"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685522333,"creation_date":1685522333,"question_id":76371646,"body_markdown":"I use Spring Boot with Hibernate. I have an entity containing some credentials:\r\n\r\n\r\n```\r\n@Entity\r\nclass MyEntity {\r\n\r\n    @Column(name = &quot;credentials&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    @Type(type = &quot;jsonb&quot;)\r\n    private Map&lt;String, Object&gt; credentials;\r\n}\r\n```\r\n\r\nOn every read and save of the credentials I do use my custom &#39;encode(credentials)&#39; and &#39;decode(credentials)&#39; methods to only keep the encoded versions in my DB and use decoded everywhere else. This is how my getter looks like:\r\n\r\n\r\n```\r\n    public Map&lt;String, Object&gt; getCredentials() {\r\n        Map&lt;String, Object&gt; encryptedCredentials = decode(this.credentials);\r\n        return encryptedCredentials;\r\n    }\r\n```\r\n\r\nBut for some odd reason, it seems to be called twice, with one (the first) is an implicit call and the debugger does not stop there. Why do I think it is called twice? Because when the I debug it the value of \r\n`this.credentials`\r\nis already decoded. However, when I have the getter method like this:\r\n```\r\n    public Map&lt;String, Object&gt; getCredentials() {\r\n        Map&lt;String, Object&gt; encryptedCredentials = this.credentials;\r\n        return encryptedCredentials;\r\n    }\r\n```\r\n\r\nthe credentials I get during a debug are not decrypted, which imples that the getter gets called twice. Strange. What magic does the Hibernate do here and what best practices should I follow to avoid it?","title":"Why does the entity&#39;s getter get called twice?","body":"<p>I use Spring Boot with Hibernate. I have an entity containing some credentials:</p>\n<pre><code>@Entity\nclass MyEntity {\n\n    @Column(name = &quot;credentials&quot;, columnDefinition = &quot;jsonb&quot;)\n    @Type(type = &quot;jsonb&quot;)\n    private Map&lt;String, Object&gt; credentials;\n}\n</code></pre>\n<p>On every read and save of the credentials I do use my custom 'encode(credentials)' and 'decode(credentials)' methods to only keep the encoded versions in my DB and use decoded everywhere else. This is how my getter looks like:</p>\n<pre><code>    public Map&lt;String, Object&gt; getCredentials() {\n        Map&lt;String, Object&gt; encryptedCredentials = decode(this.credentials);\n        return encryptedCredentials;\n    }\n</code></pre>\n<p>But for some odd reason, it seems to be called twice, with one (the first) is an implicit call and the debugger does not stop there. Why do I think it is called twice? Because when the I debug it the value of\n<code>this.credentials</code>\nis already decoded. However, when I have the getter method like this:</p>\n<pre><code>    public Map&lt;String, Object&gt; getCredentials() {\n        Map&lt;String, Object&gt; encryptedCredentials = this.credentials;\n        return encryptedCredentials;\n    }\n</code></pre>\n<p>the credentials I get during a debug are not decrypted, which imples that the getter gets called twice. Strange. What magic does the Hibernate do here and what best practices should I follow to avoid it?</p>\n"},{"tags":["java","reactjs","jenkins","frontend","devops"],"answers":[{"tags":[],"owner":{"account_id":6966136,"reputation":718,"user_id":5344089,"display_name":"Nadeeshani William"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685522262,"creation_date":1685522262,"answer_id":76371637,"question_id":76371551,"body_markdown":"Handling the CORS issue in the backend is better. The changes below work for me.\r\n\r\nAs a temporary solution, you can use a Chrome plugin (eg: [plugin][1]) to disable the security checks.\r\n\r\n    @Configuration\r\n    public class WebMvcConfig implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(allowedOrigins)\r\n                    .allowedMethods(&quot;*&quot;)\r\n                    .allowedHeaders(&quot;*&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://chrome.google.com/webstore/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf","title":"Changed BE API url to hostname. &lt;not working&gt;","body":"<p>Handling the CORS issue in the backend is better. The changes below work for me.</p>\n<p>As a temporary solution, you can use a Chrome plugin (eg: <a href=\"https://chrome.google.com/webstore/detail/allow-cors-access-control/lhobafahddgcelffkeicbaginigeejlf\" rel=\"nofollow noreferrer\">plugin</a>) to disable the security checks.</p>\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(allowedOrigins)\n                .allowedMethods(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25496411,"reputation":101,"user_id":19290397,"display_name":"Nikhil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685522262,"creation_date":1685521602,"question_id":76371551,"body_markdown":"In my project, FE was using BE API Url like - http://171.28.106.18:32514/.\r\nNow this has been changed to hostname from devops team which is - http://project-backend-qa:8080\r\n\r\nNow I am not able to hit any API&#39;s from my application.\r\nScreenshot below - \r\n\r\n[![enter image description here][1]][1]\r\n\r\nOn BE side(JAVA), this has been written - \r\n```\r\npublic WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;,&quot;PATCH&quot;)\r\n                .allowedHeaders(&quot;*&quot;)\r\n                .maxAge(3600);\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\nBE is allowing all origins, still not able to access the hostname. Any idea what I am missing - \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kJBfF.png","title":"Changed BE API url to hostname. &lt;not working&gt;","body":"<p>In my project, FE was using BE API Url like - <a href=\"http://171.28.106.18:32514/\" rel=\"nofollow noreferrer\">http://171.28.106.18:32514/</a>.\nNow this has been changed to hostname from devops team which is - http://project-backend-qa:8080</p>\n<p>Now I am not able to hit any API's from my application.\nScreenshot below -</p>\n<p><a href=\"https://i.stack.imgur.com/kJBfF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kJBfF.png\" alt=\"enter image description here\" /></a></p>\n<p>On BE side(JAVA), this has been written -</p>\n<pre><code>public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;,&quot;PATCH&quot;)\n                .allowedHeaders(&quot;*&quot;)\n                .maxAge(3600);\n            }\n        };\n    }\n</code></pre>\n<p>BE is allowing all origins, still not able to access the hostname. Any idea what I am missing -</p>\n"},{"tags":["java","maven","elasticsearch"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1685544007,"post_id":76371633,"comment_id":134675505,"body_markdown":"No. Why do you need to load both versions? I mean, it does not make sense to use more than one version at once.","body":"No. Why do you need to load both versions? I mean, it does not make sense to use more than one version at once."},{"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"score":0,"creation_date":1685609417,"post_id":76371633,"comment_id":134684948,"body_markdown":"my application need to manage with multiple version of es database, my currently solution is use the libray that compatible with both version, or is better way to do so?","body":"my application need to manage with multiple version of es database, my currently solution is use the libray that compatible with both version, or is better way to do so?"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1685611311,"post_id":76371633,"comment_id":134685370,"body_markdown":"So, do you mean that some users use the newer version of the database and some the older? Or does your application talk to two different versions of the database simultaneously?","body":"So, do you mean that some users use the newer version of the database and some the older? Or does your application talk to two different versions of the database simultaneously?"},{"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"score":0,"creation_date":1685611419,"post_id":76371633,"comment_id":134685397,"body_markdown":"The user have different version of database.","body":"The user have different version of database."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1685612054,"post_id":76371633,"comment_id":134685571,"body_markdown":"Are your users programmers who use the library, or are they actual users of the application?","body":"Are your users programmers who use the library, or are they actual users of the application?"},{"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"score":0,"creation_date":1685612584,"post_id":76371633,"comment_id":134685682,"body_markdown":"No, they just user of the application.","body":"No, they just user of the application."}],"owner":{"account_id":23351413,"reputation":40,"user_id":17424919,"display_name":"great-jin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685522219,"creation_date":1685522219,"question_id":76371633,"body_markdown":"I have a application need to manage with multiple database version, then came with a painful problem with ElastiSearch. I have to compatible with version of 6.8.0 and 7.8.1. As far as I know that maven didn&#39;t supported depend with multiple version of same libary, is anyway to do so?\r\n\r\nFor my problem, I created a project with tree module &quot;elastic-v6&quot;, &quot;elastic-v7&quot; and &quot;elastic-test&quot;,\r\nthe module of v6 and v7 provide relevant version of elasticsearch operation. In my case it was throught the &quot;RestHighLevelClient&quot; to get indexs.\r\n\r\nhere is module-v6 maven definition, and v7 is same but with es version of 7.8.1.\r\n```xml\r\n&lt;artifactId&gt;elastic-v6&lt;/artifactId&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n        &lt;version&gt;6.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n        &lt;version&gt;6.8.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nboth v6 and v7 module has provide the method &quot;listIndex()&quot;.\r\n```java\r\npublic static Set&lt;String&gt; listIndex(ElasticEntity entity) {\r\n    try (RestHighLevelClient client = Elastic6Client.buildClient(entity)) {\r\n        GetAliasesRequest request = new GetAliasesRequest();\r\n        GetAliasesResponse getAliasesResponse = client.indices()\r\n                    .getAlias(request, RequestOptions.DEFAULT);\r\n        Map&lt;String, Set&lt;AliasMetaData&gt;&gt; map = getAliasesResponse.getAliases();\r\n        return map.keySet();\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nHere is module &quot;elastic-test&quot; maven definition, but the es version transfer from v7 will override the v6 version(6.8.0). Is anyway that I can load version of 6.8.0 and 7.8.1 whthin &quot;elastic-test&quot; module in the same time.\r\n```xml\r\n&lt;artifactId&gt;elastic-test&lt;/artifactId&gt;\r\n\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.great&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elastic-v7&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.great&lt;/groupId&gt;\r\n        &lt;artifactId&gt;elastic-v6&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n","title":"Maven how to depended different version of same libary in one module?","body":"<p>I have a application need to manage with multiple database version, then came with a painful problem with ElastiSearch. I have to compatible with version of 6.8.0 and 7.8.1. As far as I know that maven didn't supported depend with multiple version of same libary, is anyway to do so?</p>\n<p>For my problem, I created a project with tree module &quot;elastic-v6&quot;, &quot;elastic-v7&quot; and &quot;elastic-test&quot;,\nthe module of v6 and v7 provide relevant version of elasticsearch operation. In my case it was throught the &quot;RestHighLevelClient&quot; to get indexs.</p>\n<p>here is module-v6 maven definition, and v7 is same but with es version of 7.8.1.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;elastic-v6&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;6.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n        &lt;version&gt;6.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>both v6 and v7 module has provide the method &quot;listIndex()&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;String&gt; listIndex(ElasticEntity entity) {\n    try (RestHighLevelClient client = Elastic6Client.buildClient(entity)) {\n        GetAliasesRequest request = new GetAliasesRequest();\n        GetAliasesResponse getAliasesResponse = client.indices()\n                    .getAlias(request, RequestOptions.DEFAULT);\n        Map&lt;String, Set&lt;AliasMetaData&gt;&gt; map = getAliasesResponse.getAliases();\n        return map.keySet();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Here is module &quot;elastic-test&quot; maven definition, but the es version transfer from v7 will override the v6 version(6.8.0). Is anyway that I can load version of 6.8.0 and 7.8.1 whthin &quot;elastic-test&quot; module in the same time.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;artifactId&gt;elastic-test&lt;/artifactId&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.great&lt;/groupId&gt;\n        &lt;artifactId&gt;elastic-v7&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.great&lt;/groupId&gt;\n        &lt;artifactId&gt;elastic-v6&lt;/artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1685510856,"post_id":76370360,"comment_id":134668387,"body_markdown":"Think about this expression `(inputValue &gt;= -20) || (inputValue &lt;=  25)` What does `||` mean? Look at each of the two comparisons for 30. Which is true? Which is false? What happens after you apply `||` to those values? Should the final result be true or false for 30?","body":"Think about this expression <code>(inputValue &gt;= -20) || (inputValue &lt;=  25)</code> What does <code>||</code> mean? Look at each of the two comparisons for 30. Which is true? Which is false? What happens after you apply <code>||</code> to those values? Should the final result be true or false for 30?"},{"owner":{"account_id":28174094,"reputation":37,"user_id":21532140,"display_name":"garcGut"},"score":0,"creation_date":1685511117,"post_id":76370360,"comment_id":134668424,"body_markdown":"&amp;&amp; instead of || thanks everyone!","body":"&amp;&amp; instead of || thanks everyone!"}],"answers":[{"tags":[],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685510873,"creation_date":1685510873,"answer_id":76370389,"question_id":76370360,"body_markdown":"Look at this statement **very, very closely**:\r\n\r\n    while( (inputValue &gt;= -20) || (inputValue &lt;=  25)) {\r\n\r\nAnd specifically what the while statement is evaluating;\r\n\r\n    ((inputValue &gt;= -20) || (inputValue &lt;=  25))\r\n\r\nIf inputValue is say... `-49`, what does that expression evaluate to?  true for false?\r\n\r\nBe careful!\r\n\r\n","title":"While loops with numbers in Java","body":"<p>Look at this statement <strong>very, very closely</strong>:</p>\n<pre><code>while( (inputValue &gt;= -20) || (inputValue &lt;=  25)) {\n</code></pre>\n<p>And specifically what the while statement is evaluating;</p>\n<pre><code>((inputValue &gt;= -20) || (inputValue &lt;=  25))\n</code></pre>\n<p>If inputValue is say... <code>-49</code>, what does that expression evaluate to?  true for false?</p>\n<p>Be careful!</p>\n"}],"owner":{"account_id":28174094,"reputation":37,"user_id":21532140,"display_name":"garcGut"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685616547,"accepted_answer_id":76370389,"answer_count":1,"score":1,"last_activity_date":1685521766,"creation_date":1685510521,"question_id":76370360,"body_markdown":"my code won&#39;t output what it should the instructions: \r\nRead integers from input until an integer is read that is not in the range -20 to 25, both inclusive. Output the total number of integers read, including the integer that causes reading to stop. End with a newline.\r\n\r\nEx: If the input is -13 -49 -17 -16 -11, then the output is:\r\n\r\nNumber of integers read: 2\r\nMy code: \r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\n public class CountRead {\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        int inputValue;\r\n        int countRead;\r\n\r\n        inputValue = scnr.nextInt();\r\n        countRead = 0;\r\n\r\n        while ((inputValue &gt;= -20) || (inputValue &lt;= 25)) {\r\n            countRead++;\r\n            inputValue = scnr.nextInt();\r\n        }\r\n\r\n        System.out.println(&quot;Number of integers read: &quot; + (countRead + 1));\r\n\r\n    }\r\n}\r\n```\r\n\r\n \r\n","title":"While loops with numbers in Java","body":"<p>my code won't output what it should the instructions:\nRead integers from input until an integer is read that is not in the range -20 to 25, both inclusive. Output the total number of integers read, including the integer that causes reading to stop. End with a newline.</p>\n<p>Ex: If the input is -13 -49 -17 -16 -11, then the output is:</p>\n<p>Number of integers read: 2\nMy code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\n public class CountRead {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int inputValue;\n        int countRead;\n\n        inputValue = scnr.nextInt();\n        countRead = 0;\n\n        while ((inputValue &gt;= -20) || (inputValue &lt;= 25)) {\n            countRead++;\n            inputValue = scnr.nextInt();\n        }\n\n        System.out.println(&quot;Number of integers read: &quot; + (countRead + 1));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch","opensearch"],"answers":[{"tags":[],"owner":{"account_id":11452871,"reputation":1,"user_id":8394828,"display_name":"Mohit Rawat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685521739,"creation_date":1685447883,"answer_id":76364568,"question_id":76317177,"body_markdown":"Upgrading to **2.6.0** worked for me. Seems like ***_type*** missing from **xcontentparser** while reading response. \r\n\r\nDocWriteResponse class needs ***_type*** to be non null but using **1.1.0** was leading this property to be null and it was internally leading to NPE.","title":"Problem in Using Opensearch with Spring Boot Application","body":"<p>Upgrading to <strong>2.6.0</strong> worked for me. Seems like <em><strong>_type</strong></em> missing from <strong>xcontentparser</strong> while reading response.</p>\n<p>DocWriteResponse class needs <em><strong>_type</strong></em> to be non null but using <strong>1.1.0</strong> was leading this property to be null and it was internally leading to NPE.</p>\n"}],"owner":{"account_id":28664107,"reputation":1,"user_id":21948501,"display_name":"Ruthvik Manapragada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685521739,"creation_date":1684861777,"question_id":76317177,"body_markdown":"Problem in Using Opensearch with Spring Boot Application\r\n\r\nI am trying to use OpenSearch with my SpringBoot Application. As there is no dedicated Spring Boot Starter Open Search Dependency for Open Search. I am Using Spring Boot Starter data elastic search dependency and maven dependecy for opensearch rest high level client and open search. \r\n\r\nLater in the config class, I am Configuring my Open Search like Port and hostName using Instance of Rest High Level Client. \r\n\r\nSo Now, To perform CRUD operations in OpenSearch Using Java, We can use the In Built Methods like save, findById, findAll, deleteById etc by making our Repository Interface Extend ElasticSearchRepository.\r\n\r\nBut My Issue is while Adding Data into DB using save(T t) method like Cricketer cricketer = repo.save(Cricketer) the data is getting saved in the DB but I am getting an Exception with message &quot;java.lang.RuntimeException: Unable to parse response body for Response{requestLine=PUT /game-index1/_doc/2009?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}&quot;\r\n\r\nThis Issue is only with save method, for the Get Methods like findById and findAll are also working fine. Only save method has this problem.\r\n\r\nAlso while starting the spring boot application, although the application is getting started, its is stating there is an version mismatch between Elasticsearch Client and Cluster: 7.12.1 - 2.7.0, But here the problem is the cluster is of openserach and there is no 7.x version of it. Please Help me in rectifying this issue.\r\n\r\n\r\n-&gt; My Dependencies in pom.xml are \r\n    `\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;opensearch-rest-high-level-client&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.opensearch&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;opensearch&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;`\r\n```\r\n\r\n-&gt; -&gt; My OpenSearch Config Class is :\r\n    `\r\n```\r\n@Configuration\r\n    @EnableElasticsearchRepositories(basePackageClasses = CricketerRepo.class)\r\n    @ComponentScan(basePackageClasses = OpenSearchConfig.class)\r\n    public class OpenSearchConfig {\r\n       @Bean\r\n       public RestHighLevelClient client() {\r\n           return new RestHighLevelClient(\r\n                   RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;)));\r\n       }\r\n    }`\r\n```\r\n\r\nNote : Here I disabled the Login Part for OpenSearch for Posting purpose.\r\n\r\n-&gt; My Document class is :\r\n   \r\n```\r\n @Document(indexName = &quot;game-index1&quot;)\r\n    public class Cricketer {\r\n       @Id\r\n       private String cID;\r\n       private String cName;\r\n       private String cRole;\r\n       private String cCountry;\r\n    }\r\n```\r\n\r\n-&gt; My Repository Class is : \r\n   \r\n```\r\n @Repository\r\n    public interface CricketerRepo extends ElasticsearchRepository&lt;Cricketer, String&gt; {\r\n    }\r\n```\r\n\r\n-&gt; My Add Method in Service Class is :\r\n    \r\n```\r\n@Autowired\r\n    CricketerRepo repository;\r\n\r\n    public Cricketer addCricketer(Cricketer cricketer) {\r\n      return repository.save(cricketer); // Exception occuring at this line\r\n    }\r\n```\r\n\r\n-&gt; Here the date I wanted to save in DB (Opensearch is getting save successfully, But as that save method should return something, Cricketer in this case. I am getting an Exception stating unable to parse Responce)\r\n\r\n-&gt; Exception I am getting is : \r\n   java.lang.RuntimeException: Unable to parse response body for Response{requestLine=PUT /game-index1/_doc/2009?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}\r\n    \r\n-&gt; The Version mismatch message I am getting while starting the spring boot application is :\r\n   Version mismatch in between Elasticsearch Client and Cluster: 7.12.1 - 2.7.0\r\n\r\n   Note : Even Though It is saying there is a version mismatch the spring boot application is starting fine and Also the Get Methods like findById and findAll are also working fine. Only save method has this problem.\r\n\r\n\r\n   ","title":"Problem in Using Opensearch with Spring Boot Application","body":"<p>Problem in Using Opensearch with Spring Boot Application</p>\n<p>I am trying to use OpenSearch with my SpringBoot Application. As there is no dedicated Spring Boot Starter Open Search Dependency for Open Search. I am Using Spring Boot Starter data elastic search dependency and maven dependecy for opensearch rest high level client and open search.</p>\n<p>Later in the config class, I am Configuring my Open Search like Port and hostName using Instance of Rest High Level Client.</p>\n<p>So Now, To perform CRUD operations in OpenSearch Using Java, We can use the In Built Methods like save, findById, findAll, deleteById etc by making our Repository Interface Extend ElasticSearchRepository.</p>\n<p>But My Issue is while Adding Data into DB using save(T t) method like Cricketer cricketer = repo.save(Cricketer) the data is getting saved in the DB but I am getting an Exception with message &quot;java.lang.RuntimeException: Unable to parse response body for Response{requestLine=PUT /game-index1/_doc/2009?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}&quot;</p>\n<p>This Issue is only with save method, for the Get Methods like findById and findAll are also working fine. Only save method has this problem.</p>\n<p>Also while starting the spring boot application, although the application is getting started, its is stating there is an version mismatch between Elasticsearch Client and Cluster: 7.12.1 - 2.7.0, But here the problem is the cluster is of openserach and there is no 7.x version of it. Please Help me in rectifying this issue.</p>\n<p>-&gt; My Dependencies in pom.xml are\n`</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n    &lt;version&gt;2.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;opensearch-rest-high-level-client&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.opensearch&lt;/groupId&gt;\n    &lt;artifactId&gt;opensearch&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;`\n</code></pre>\n<p>-&gt; -&gt; My OpenSearch Config Class is :\n`</p>\n<pre><code>@Configuration\n    @EnableElasticsearchRepositories(basePackageClasses = CricketerRepo.class)\n    @ComponentScan(basePackageClasses = OpenSearchConfig.class)\n    public class OpenSearchConfig {\n       @Bean\n       public RestHighLevelClient client() {\n           return new RestHighLevelClient(\n                   RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;)));\n       }\n    }`\n</code></pre>\n<p>Note : Here I disabled the Login Part for OpenSearch for Posting purpose.</p>\n<p>-&gt; My Document class is :</p>\n<pre><code> @Document(indexName = &quot;game-index1&quot;)\n    public class Cricketer {\n       @Id\n       private String cID;\n       private String cName;\n       private String cRole;\n       private String cCountry;\n    }\n</code></pre>\n<p>-&gt; My Repository Class is :</p>\n<pre><code> @Repository\n    public interface CricketerRepo extends ElasticsearchRepository&lt;Cricketer, String&gt; {\n    }\n</code></pre>\n<p>-&gt; My Add Method in Service Class is :</p>\n<pre><code>@Autowired\n    CricketerRepo repository;\n\n    public Cricketer addCricketer(Cricketer cricketer) {\n      return repository.save(cricketer); // Exception occuring at this line\n    }\n</code></pre>\n<p>-&gt; Here the date I wanted to save in DB (Opensearch is getting save successfully, But as that save method should return something, Cricketer in this case. I am getting an Exception stating unable to parse Responce)</p>\n<p>-&gt; Exception I am getting is :\njava.lang.RuntimeException: Unable to parse response body for Response{requestLine=PUT /game-index1/_doc/2009?timeout=1m HTTP/1.1, host=http://localhost:9200, response=HTTP/1.1 201 Created}</p>\n<p>-&gt; The Version mismatch message I am getting while starting the spring boot application is :\nVersion mismatch in between Elasticsearch Client and Cluster: 7.12.1 - 2.7.0</p>\n<p>Note : Even Though It is saying there is a version mismatch the spring boot application is starting fine and Also the Get Methods like findById and findAll are also working fine. Only save method has this problem.</p>\n"},{"tags":["java","spring-boot","huawei-cloud"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685530702,"post_id":76371287,"comment_id":134672151,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":23658819,"reputation":36,"user_id":17686659,"display_name":"cakepbm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685521643,"creation_date":1685521643,"answer_id":76371557,"question_id":76371287,"body_markdown":"Here is a way but it is impossible to guarantee 100% that photos/videos won&#39;t be leaked if another user gets the URL. The solution is to use `signed URLs` with a validity period. legal users can still get a regenerated signed URL even after the original one has expired.\r\n\r\n```\r\nimport com.obs.services.ObsClient;\r\nimport com.obs.services.model.TemporarySignatureRequest;\r\nimport com.obs.services.model.TemporarySignatureResponse;\r\n\r\nObsClient obsClient = new ObsClient(&quot;access key&quot;, &quot;secret key&quot;, &quot;obs endpoint&quot;);\r\n\r\n// Create a request for a temporary signed URL\r\nTemporarySignatureRequest request = new TemporarySignatureRequest();\r\nrequest.setMethod(&quot;GET&quot;);\r\nrequest.setBucketName(&quot;bucket name&quot;);\r\nrequest.setObjectName(&quot;object name&quot;);\r\nrequest.setExpires(3600);  // Set URL to expire after 1 hour\r\n\r\n// Get the temporary signed URL\r\nTemporarySignatureResponse response = obsClient.createTemporarySignature(request);\r\nString signedUrl = response.getSignedUrl();\r\n```\r\n\r\nYou can shorten the expires to increase security .\r\nbut nothing is completely secure.","title":"How to private image/video with CDN address","body":"<p>Here is a way but it is impossible to guarantee 100% that photos/videos won't be leaked if another user gets the URL. The solution is to use <code>signed URLs</code> with a validity period. legal users can still get a regenerated signed URL even after the original one has expired.</p>\n<pre><code>import com.obs.services.ObsClient;\nimport com.obs.services.model.TemporarySignatureRequest;\nimport com.obs.services.model.TemporarySignatureResponse;\n\nObsClient obsClient = new ObsClient(&quot;access key&quot;, &quot;secret key&quot;, &quot;obs endpoint&quot;);\n\n// Create a request for a temporary signed URL\nTemporarySignatureRequest request = new TemporarySignatureRequest();\nrequest.setMethod(&quot;GET&quot;);\nrequest.setBucketName(&quot;bucket name&quot;);\nrequest.setObjectName(&quot;object name&quot;);\nrequest.setExpires(3600);  // Set URL to expire after 1 hour\n\n// Get the temporary signed URL\nTemporarySignatureResponse response = obsClient.createTemporarySignature(request);\nString signedUrl = response.getSignedUrl();\n</code></pre>\n<p>You can shorten the expires to increase security .\nbut nothing is completely secure.</p>\n"}],"owner":{"account_id":28660046,"reputation":1,"user_id":21945139,"display_name":"dempsey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685521643,"creation_date":1685519538,"question_id":76371287,"body_markdown":"\r\nI have a springboot project and use huawei&#39;s cloud to store pictures and videos.\r\nThe problem is how can I prevent other people from seeing the photos/videos when they have a CDN address that I have not allowed.\r\n\r\nI tried to find out, I know the cloud server side can solve this problem\r\n\r\nBut I want to know if there is a way to handle it on the code side, if so, how?\r\nPlease let me know if you have the answer.\r\n\r\nSorry I am not allowed to show the project code.\r\n\r\nThanks!!\r\n\r\n","title":"How to private image/video with CDN address","body":"<p>I have a springboot project and use huawei's cloud to store pictures and videos.\nThe problem is how can I prevent other people from seeing the photos/videos when they have a CDN address that I have not allowed.</p>\n<p>I tried to find out, I know the cloud server side can solve this problem</p>\n<p>But I want to know if there is a way to handle it on the code side, if so, how?\nPlease let me know if you have the answer.</p>\n<p>Sorry I am not allowed to show the project code.</p>\n<p>Thanks!!</p>\n"},{"tags":["java","spring","security","configuration"],"comments":[{"owner":{"account_id":16478744,"reputation":150,"user_id":11905991,"display_name":"Man Man Yu"},"score":1,"creation_date":1695106611,"post_id":61388484,"comment_id":135975971,"body_markdown":"@Archmede have same issue with you, donnot want to write a lot of dummy code, have you solved the problem yet","body":"@Archmede have same issue with you, donnot want to write a lot of dummy code, have you solved the problem yet"},{"owner":{"account_id":8104679,"reputation":1650,"user_id":6106641,"accept_rate":80,"display_name":"Archmede"},"score":0,"creation_date":1695146583,"post_id":61388484,"comment_id":135984065,"body_markdown":"@ManManYu I didn&#39;t ask this question but you&#39;re probably better off solving the problem with something like `@PreAuthorize(&quot;hasAuthorityOrWildcardAction(&#39;&#39;)&quot;)` at the controller level","body":"@ManManYu I didn&#39;t ask this question but you&#39;re probably better off solving the problem with something like <code>@PreAuthorize(&quot;hasAuthorityOrWildcardAction(&#39;&#39;)&quot;)</code> at the controller level"}],"owner":{"account_id":18239078,"reputation":21,"user_id":13276433,"display_name":"JochenSchotte"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685521443,"creation_date":1587648663,"question_id":61388484,"body_markdown":"While configuring the security of my Spring Boot application, I wanted to secure parts of the API depending on the PathVariable that is entered there. My current configuration is as follows:\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        //not important\r\n\r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http.cors();\r\n            http.authorizeRequests()\r\n                .mvcMatchers(&quot;/api&quot;).authenticated()\r\n                .mvcMatchers(&quot;/api/TEST&quot;).hasAuthority(&quot;SCOPE_dep:TEST&quot;)\r\n                .and().oauth2ResourceServer().jwt();\r\n        }\r\n    }\r\n\r\nIn the `api/{PathVariable}` endpoint is the one I want to have customized, making sure that someone with the authority `SCOPE_dep:TEST` can access the `api/TEST` endpoint, someone with `SCOPE_dep:TEST2` authority can access the `api/TEST2` endpoint, even allowing more than one such endpoint for a user which has multiple of these authorities.\r\n\r\nIs there a way to do this by using a type of wildcard/matcher that I&#39;m unaware of, or is the only possibility to hardcode all these different authorities?","title":"Spring Security - Wildcards/matchers in authorization rules","body":"<p>While configuring the security of my Spring Boot application, I wanted to secure parts of the API depending on the PathVariable that is entered there. My current configuration is as follows:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    //not important\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.cors();\n        http.authorizeRequests()\n            .mvcMatchers(&quot;/api&quot;).authenticated()\n            .mvcMatchers(&quot;/api/TEST&quot;).hasAuthority(&quot;SCOPE_dep:TEST&quot;)\n            .and().oauth2ResourceServer().jwt();\n    }\n}\n</code></pre>\n<p>In the <code>api/{PathVariable}</code> endpoint is the one I want to have customized, making sure that someone with the authority <code>SCOPE_dep:TEST</code> can access the <code>api/TEST</code> endpoint, someone with <code>SCOPE_dep:TEST2</code> authority can access the <code>api/TEST2</code> endpoint, even allowing more than one such endpoint for a user which has multiple of these authorities.</p>\n<p>Is there a way to do this by using a type of wildcard/matcher that I'm unaware of, or is the only possibility to hardcode all these different authorities?</p>\n"},{"tags":["java","intellij-idea","apache-camel"],"comments":[{"owner":{"account_id":1282416,"reputation":12126,"user_id":1236217,"accept_rate":100,"display_name":"Namphibian"},"score":0,"creation_date":1507153784,"post_id":46572048,"comment_id":80102978,"body_markdown":"See https://www.jetbrains.com/help/idea/configuring-code-style.html.","body":"See <a href=\"https://www.jetbrains.com/help/idea/configuring-code-style.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/configuring-code-style.html</a>."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1507201053,"post_id":46572048,"comment_id":80120697,"body_markdown":"close voter - why is this off-topic? it&#39;s a clear question about a DSL and a programming tool. If you don&#39;t understand the question, please ask why.","body":"close voter - why is this off-topic? it&#39;s a clear question about a DSL and a programming tool. If you don&#39;t understand the question, please ask why."},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1507201115,"post_id":46572048,"comment_id":80120740,"body_markdown":"@well - I never found a way to do this, so just don&#39;t format the code. It&#39;s nice to have the indenting in the DSL code... just never use the auto format feature.","body":"@well - I never found a way to do this, so just don&#39;t format the code. It&#39;s nice to have the indenting in the DSL code... just never use the auto format feature."}],"answers":[{"tags":[],"owner":{"account_id":1470353,"reputation":1531,"user_id":1382079,"display_name":"Tadayoshi Sato"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1507184894,"creation_date":1507184894,"answer_id":46579150,"question_id":46572048,"body_markdown":"I don&#39;t think there is yet a nice plugin that can format Java DSL code as desired.\r\n\r\nAt best we can only disable formatting the specific DSL parts in Java code. I would recommend to use the formatter on/off feature in IntelliJ IDEA for Camel DSL routes:\r\n\r\n    // @formatter:off\r\n    ...\r\n    // @formatter:on\r\n\r\nYou can find the `Formatter Control` settings in `Preferences...` -&gt; `Editor` -&gt; `Code Style` (as of 2017.2.3).\r\n\r\nRefer to other StackOverflow questions such as this for more details on the IntelliJ feature:  \r\nhttps://stackoverflow.com/questions/3375307/how-to-disable-code-formatting-for-some-part-of-the-code-using-comments","title":"Apache Camel and Intellij Idea code format","body":"<p>I don't think there is yet a nice plugin that can format Java DSL code as desired.</p>\n\n<p>At best we can only disable formatting the specific DSL parts in Java code. I would recommend to use the formatter on/off feature in IntelliJ IDEA for Camel DSL routes:</p>\n\n<pre><code>// @formatter:off\n...\n// @formatter:on\n</code></pre>\n\n<p>You can find the <code>Formatter Control</code> settings in <code>Preferences...</code> -> <code>Editor</code> -> <code>Code Style</code> (as of 2017.2.3).</p>\n\n<p>Refer to other StackOverflow questions such as this for more details on the IntelliJ feature:<br>\n<a href=\"https://stackoverflow.com/questions/3375307/how-to-disable-code-formatting-for-some-part-of-the-code-using-comments\">How to disable code formatting for some part of the code using comments?</a></p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1685521068,"creation_date":1507196908,"answer_id":46582611,"question_id":46572048,"body_markdown":"Starting from Camel IDEA plugin v 0.9.9, it is now possible to reformat your routes written with the Java DSL thanks to the shortcut &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt; / &lt;kbd&gt;Cmd&lt;/kbd&gt; + &lt;kbd&gt;Option&lt;/kbd&gt; + &lt;kbd&gt;L&lt;/kbd&gt; on a complete file or on a specific text range as shown in the screenshot below:\r\n\r\n[![Reformat a route in Java][1]][1]\r\n\r\n---\r\n\r\nOriginal Answer\r\n\r\nThere is a ticket about this for the Camel IDEA plugin: https://github.com/camel-idea-plugin/camel-idea-plugin/issues/309\r\n\r\nYou can use the +1 to indicate its something desired.\r\n\r\nI personally would also like to have such feature but haven&#39;t had much spare time to work on this as I am busy with regular work, and also finishing my Camel book.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/32zHU.gif","title":"Apache Camel and Intellij Idea code format","body":"<p>Starting from Camel IDEA plugin v 0.9.9, it is now possible to reformat your routes written with the Java DSL thanks to the shortcut <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>L</kbd> / <kbd>Cmd</kbd> + <kbd>Option</kbd> + <kbd>L</kbd> on a complete file or on a specific text range as shown in the screenshot below:</p>\n<p><a href=\"https://i.stack.imgur.com/32zHU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/32zHU.gif\" alt=\"Reformat a route in Java\" /></a></p>\n<hr />\n<p>Original Answer</p>\n<p>There is a ticket about this for the Camel IDEA plugin: <a href=\"https://github.com/camel-idea-plugin/camel-idea-plugin/issues/309\" rel=\"nofollow noreferrer\">https://github.com/camel-idea-plugin/camel-idea-plugin/issues/309</a></p>\n<p>You can use the +1 to indicate its something desired.</p>\n<p>I personally would also like to have such feature but haven't had much spare time to work on this as I am busy with regular work, and also finishing my Camel book.</p>\n"}],"owner":{"account_id":7793862,"reputation":591,"user_id":6099620,"display_name":"well"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3816,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"answer_count":2,"score":17,"last_activity_date":1685521068,"creation_date":1507142693,"question_id":46572048,"body_markdown":"Intellij Idea formats code in camel routs like this: \r\n\r\n    from(&quot;direct:loop&quot;)\r\n         .log(&quot;Loop: ${header[loopCount]}&quot;)\r\n         .choice()\r\n         .when(simple(&quot;header[loopCount] &lt; 10&quot;))\r\n         .process(exchange -&gt; {\r\n             Message in = exchange.getIn();\r\n             in.setHeader(&quot;loopCount&quot;, in.getHeader(&quot;loopCount&quot;, Integer.class) + 1);\r\n         })\r\n         .to(&quot;direct:loop&quot;)\r\n         .otherwise()\r\n         .log(&quot;Exiting loop&quot;)\r\n         .end();\r\nIs there any plugins or other ways to do like this:\r\n\r\n    from(&quot;direct:loop&quot;)\r\n     .log(&quot;Loop: ${header[loopCount]}&quot;)\r\n     .choice()\r\n         .when(simple(&quot;header[loopCount] &lt; 10&quot;))\r\n             .process(exchange -&gt; {\r\n                 Message in = exchange.getIn();\r\n                 in.setHeader(&quot;loopCount&quot;, in.getHeader(&quot;loopCount&quot;, Integer.class) + 1);\r\n             })\r\n             .to(&quot;direct:loop&quot;)\r\n         .otherwise()\r\n             .log(&quot;Exiting loop&quot;)\r\n     .end();\r\n?","title":"Apache Camel and Intellij Idea code format","body":"<p>Intellij Idea formats code in camel routs like this: </p>\n\n<pre><code>from(\"direct:loop\")\n     .log(\"Loop: ${header[loopCount]}\")\n     .choice()\n     .when(simple(\"header[loopCount] &lt; 10\"))\n     .process(exchange -&gt; {\n         Message in = exchange.getIn();\n         in.setHeader(\"loopCount\", in.getHeader(\"loopCount\", Integer.class) + 1);\n     })\n     .to(\"direct:loop\")\n     .otherwise()\n     .log(\"Exiting loop\")\n     .end();\n</code></pre>\n\n<p>Is there any plugins or other ways to do like this:</p>\n\n<pre><code>from(\"direct:loop\")\n .log(\"Loop: ${header[loopCount]}\")\n .choice()\n     .when(simple(\"header[loopCount] &lt; 10\"))\n         .process(exchange -&gt; {\n             Message in = exchange.getIn();\n             in.setHeader(\"loopCount\", in.getHeader(\"loopCount\", Integer.class) + 1);\n         })\n         .to(\"direct:loop\")\n     .otherwise()\n         .log(\"Exiting loop\")\n .end();\n</code></pre>\n\n<p>?</p>\n"},{"tags":["java","spring-webflux","remote-server","redis-cluster"],"owner":{"account_id":21885224,"reputation":3,"user_id":16172947,"display_name":"Amir Nadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685520653,"creation_date":1685520653,"question_id":76371433,"body_markdown":"firs sorry about my English . \r\ni have a spring webFlux project , i want to connect redis-cluster in remote server. i just run redis-cluster with docker-compose . everything is ok . i have telnet from my pc to remote server in cluster ports . but when i run my project , throws excpetion that can not connect to remote  . can anyone help me ? \r\n\r\n\r\n\r\n\r\n\r\n\r\nmy config : \r\n\r\n```\r\n@Bean\r\n    @Primary\r\n    public LettuceConnectionFactory  reactiveRedisConnectionFactory(RedisClusterConfiguration defaultRedisConfig) {\r\n        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\r\n                .readFrom(ReadFrom.ANY)\r\n                .commandTimeout(Duration.ofMillis(60000)).build();\r\n     return   new  LettuceConnectionFactory(defaultRedisConfig, clientConfig);\r\n    }\r\n\r\n    @Bean\r\n    RedisClusterConfiguration redisConfiguration() {\r\n        RedisClusterConfiguration  redisClusterConfiguration = new RedisClusterConfiguration(clusterProperties.getNodes());\r\n        redisClusterConfiguration.setMaxRedirects(clusterProperties.getMaxRedirects());\r\n        return redisClusterConfiguration;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @Bean\r\n    public ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate( LettuceConnectionFactory  factory) {\r\n        StringRedisSerializer keySerializer = new StringRedisSerializer();\r\n        Jackson2JsonRedisSerializer&lt;Object&gt; valueSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(\r\n                Object.class);\r\n        Jackson2JsonRedisSerializer&lt;String&gt; valueSerializer1 = new Jackson2JsonRedisSerializer&lt;&gt;(\r\n                String.class);\r\n        RedisSerializationContext.RedisSerializationContextBuilder&lt;String, Object&gt; builder = RedisSerializationContext\r\n                .newSerializationContext(keySerializer);\r\n        RedisSerializationContext&lt;String, Object&gt; context = builder.key(valueSerializer1).value(valueSerializer).build();\r\n        return new ReactiveRedisTemplate&lt;&gt;(factory, context);\r\n    }\r\n\r\n```\r\n\r\nRedisClusterConfig : \r\n\r\n```\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;spring.redis.cluster&quot;)\r\npublic class RedisClusterConfig {\r\n\r\n    /*\r\n    * spring.redis.cluster.nodes[0] = 127.0.0.1:7379 spring.redis.cluster.nodes[1]\r\n    * = 127.0.0.1:7380 ...\r\n     */\r\n    private List&lt;String&gt; nodes;\r\n\r\n    /**\r\n     * spring.redis.cluster.max-redirects=3\r\n     */\r\n    private int maxRedirects;\r\n\r\n    /**\r\n     * Get initial collection of known\r\n     * cluster nodes in format\r\n     * {@code host:port}.\r\n     *\r\n     * @return\r\n     */\r\n    public List&lt;String&gt; getNodes() {\r\n        return nodes;\r\n    }\r\n\r\n    public void setNodes(List&lt;String&gt; nodes) {\r\n        this.nodes = nodes;\r\n    }\r\n\r\n    public int getMaxRedirects() {\r\n        return maxRedirects;\r\n    }\r\n\r\n    public void setMaxRedirects(int maxRedirects) {\r\n        this.maxRedirects = maxRedirects;\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nmy yml file : \r\n\r\n\r\n```\r\n\r\nspring:\r\n   redis:\r\n    cluster:\r\n      nodes[0] : &quot;192.168.53.73:7000&quot;\r\n      nodes[1] : &quot;192.168.53.73:7001&quot;\r\n      nodes[2] : &quot;192.168.53.73:7002&quot;\r\n      nodes[3] : &quot;192.168.53.73:7003&quot;\r\n      nodes[4] : &quot;192.168.53.73:7004&quot;\r\n      nodes[5] : &quot;192.168.53.73:7005&quot;\r\n      enabled: true\r\n      max-redirects: 3\r\n\r\n```\r\n\r\nexception :\r\n\r\n\r\n```\r\n\r\n\r\n31-05-2023 10:56:32.914 [reactor-http-nio-4] INFO  i.c.sadad.avatarapi.services.Aspects.redisReactiveCacheGet - Evaluated Redis cacheKey: material\r\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-4] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.7/&lt;unresolved&gt;:7002]: connection timed out: /10.10.25.7:7002\r\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-7] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.2/&lt;unresolved&gt;:7003]: connection timed out: /10.10.25.2:7003\r\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-8] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.3/&lt;unresolved&gt;:7004]: connection timed out: /10.10.25.3:7004\r\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-3] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.6/&lt;unresolved&gt;:7000]: connection timed out: /10.10.25.6:7000\r\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-2] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.5/&lt;unresolved&gt;:7001]: connection timed out: /10.10.25.5:7001\r\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-1] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.4/&lt;unresolved&gt;:7005]: connection timed out: /10.10.25.4:7005\r\n\r\n\r\n\r\n```\r\n\r\n\r\n","title":"Can not connect to redis-cluster in remote server with spring webflux project","body":"<p>firs sorry about my English .\ni have a spring webFlux project , i want to connect redis-cluster in remote server. i just run redis-cluster with docker-compose . everything is ok . i have telnet from my pc to remote server in cluster ports . but when i run my project , throws excpetion that can not connect to remote  . can anyone help me ?</p>\n<p>my config :</p>\n<pre><code>@Bean\n    @Primary\n    public LettuceConnectionFactory  reactiveRedisConnectionFactory(RedisClusterConfiguration defaultRedisConfig) {\n        LettuceClientConfiguration clientConfig = LettuceClientConfiguration.builder()\n                .readFrom(ReadFrom.ANY)\n                .commandTimeout(Duration.ofMillis(60000)).build();\n     return   new  LettuceConnectionFactory(defaultRedisConfig, clientConfig);\n    }\n\n    @Bean\n    RedisClusterConfiguration redisConfiguration() {\n        RedisClusterConfiguration  redisClusterConfiguration = new RedisClusterConfiguration(clusterProperties.getNodes());\n        redisClusterConfiguration.setMaxRedirects(clusterProperties.getMaxRedirects());\n        return redisClusterConfiguration;\n    }\n\n\n\n\n\n    @Bean\n    public ReactiveRedisOperations&lt;String, Object&gt; reactiveRedisTemplate( LettuceConnectionFactory  factory) {\n        StringRedisSerializer keySerializer = new StringRedisSerializer();\n        Jackson2JsonRedisSerializer&lt;Object&gt; valueSerializer = new Jackson2JsonRedisSerializer&lt;&gt;(\n                Object.class);\n        Jackson2JsonRedisSerializer&lt;String&gt; valueSerializer1 = new Jackson2JsonRedisSerializer&lt;&gt;(\n                String.class);\n        RedisSerializationContext.RedisSerializationContextBuilder&lt;String, Object&gt; builder = RedisSerializationContext\n                .newSerializationContext(keySerializer);\n        RedisSerializationContext&lt;String, Object&gt; context = builder.key(valueSerializer1).value(valueSerializer).build();\n        return new ReactiveRedisTemplate&lt;&gt;(factory, context);\n    }\n\n</code></pre>\n<p>RedisClusterConfig :</p>\n<pre><code>@Component\n@ConfigurationProperties(prefix = &quot;spring.redis.cluster&quot;)\npublic class RedisClusterConfig {\n\n    /*\n    * spring.redis.cluster.nodes[0] = 127.0.0.1:7379 spring.redis.cluster.nodes[1]\n    * = 127.0.0.1:7380 ...\n     */\n    private List&lt;String&gt; nodes;\n\n    /**\n     * spring.redis.cluster.max-redirects=3\n     */\n    private int maxRedirects;\n\n    /**\n     * Get initial collection of known\n     * cluster nodes in format\n     * {@code host:port}.\n     *\n     * @return\n     */\n    public List&lt;String&gt; getNodes() {\n        return nodes;\n    }\n\n    public void setNodes(List&lt;String&gt; nodes) {\n        this.nodes = nodes;\n    }\n\n    public int getMaxRedirects() {\n        return maxRedirects;\n    }\n\n    public void setMaxRedirects(int maxRedirects) {\n        this.maxRedirects = maxRedirects;\n    }\n\n}\n\n\n\n</code></pre>\n<p>my yml file :</p>\n<pre><code>\nspring:\n   redis:\n    cluster:\n      nodes[0] : &quot;192.168.53.73:7000&quot;\n      nodes[1] : &quot;192.168.53.73:7001&quot;\n      nodes[2] : &quot;192.168.53.73:7002&quot;\n      nodes[3] : &quot;192.168.53.73:7003&quot;\n      nodes[4] : &quot;192.168.53.73:7004&quot;\n      nodes[5] : &quot;192.168.53.73:7005&quot;\n      enabled: true\n      max-redirects: 3\n\n</code></pre>\n<p>exception :</p>\n<pre><code>\n\n31-05-2023 10:56:32.914 [reactor-http-nio-4] INFO  i.c.sadad.avatarapi.services.Aspects.redisReactiveCacheGet - Evaluated Redis cacheKey: material\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-4] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.7/&lt;unresolved&gt;:7002]: connection timed out: /10.10.25.7:7002\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-7] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.2/&lt;unresolved&gt;:7003]: connection timed out: /10.10.25.2:7003\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-8] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.3/&lt;unresolved&gt;:7004]: connection timed out: /10.10.25.3:7004\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-3] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.6/&lt;unresolved&gt;:7000]: connection timed out: /10.10.25.6:7000\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-2] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.5/&lt;unresolved&gt;:7001]: connection timed out: /10.10.25.5:7001\n31-05-2023 10:56:43.605 [lettuce-nioEventLoop-8-1] WARN  i.l.c.c.t.DefaultClusterTopologyRefresh.lambda$openConnections$12 - Unable to connect to [10.10.25.4/&lt;unresolved&gt;:7005]: connection timed out: /10.10.25.4:7005\n\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","authentication","spring-security","single-sign-on"],"answers":[{"tags":[],"owner":{"account_id":3340442,"reputation":67,"user_id":2806844,"display_name":"Danushka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589785641,"creation_date":1589785641,"answer_id":61864155,"question_id":61817966,"body_markdown":"Finally can be found the answer for this. Issue is spring boot version. I have changed my spring boot version to 2.1.3.RELEASE. now it is working as expected. But still don&#39;t have idea why it is not working in latest spring boot version.","title":"Spring Boot + Oauth 2 Single Sign-On ridirect uri misbehaviour","body":"<p>Finally can be found the answer for this. Issue is spring boot version. I have changed my spring boot version to 2.1.3.RELEASE. now it is working as expected. But still don't have idea why it is not working in latest spring boot version.</p>\n"},{"tags":[],"owner":{"account_id":7536663,"reputation":91,"user_id":5722702,"display_name":"Neetu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639841491,"creation_date":1639841016,"answer_id":70404650,"question_id":61817966,"body_markdown":"Faced the similar issue :\r\n```\r\nerror=&quot;invalid_grant&quot;, error_description=&quot;Invalid redirect: http://localhost:8082/login does not match one of the registered values: [http://localhost:8082/]&quot;\r\n```\r\nUpdating below line from\r\n\r\n    client.redirectUris(&quot;http://localhost:9292&quot;)\r\nto\r\n\r\n    client.redirectUris(&quot;http://localhost:9292/login&quot;);\r\nresolved the issue for me.\r\n","title":"Spring Boot + Oauth 2 Single Sign-On ridirect uri misbehaviour","body":"<p>Faced the similar issue :</p>\n<pre><code>error=&quot;invalid_grant&quot;, error_description=&quot;Invalid redirect: http://localhost:8082/login does not match one of the registered values: [http://localhost:8082/]&quot;\n</code></pre>\n<p>Updating below line from</p>\n<pre><code>client.redirectUris(&quot;http://localhost:9292&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>client.redirectUris(&quot;http://localhost:9292/login&quot;);\n</code></pre>\n<p>resolved the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":12476582,"reputation":597,"user_id":9082736,"display_name":"Bilal Demir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685520533,"creation_date":1685520533,"answer_id":76371422,"question_id":61817966,"body_markdown":"You can use Custom RedirectResolver.\r\n\r\nSample Code:\r\n    \r\n    public class CustomRedirectResolver implements RedirectResolver {\r\n    \r\n    \tprivate Collection&lt;String&gt; redirectGrantTypes = Arrays.asList(&quot;implicit&quot;, &quot;authorization_code&quot;);\r\n    \r\n    \tprivate boolean matchSubdomains = false;\r\n    \r\n    \tprivate boolean matchPorts = true;\r\n        \r\n    \tpublic void setMatchSubdomains(boolean matchSubdomains) {\r\n    \t\tthis.matchSubdomains = matchSubdomains;\r\n    \t}\r\n        \r\n    \tpublic void setMatchPorts(boolean matchPorts) {\r\n    \t\tthis.matchPorts = matchPorts;\r\n    \t}\r\n        \r\n    \tpublic void setRedirectGrantTypes(Collection&lt;String&gt; redirectGrantTypes) {\r\n    \t\tthis.redirectGrantTypes = new HashSet&lt;String&gt;(redirectGrantTypes);\r\n    \t}\r\n    \r\n    \tpublic String resolveRedirect(String requestedRedirect, ClientDetails client) throws OAuth2Exception {\r\n    \r\n    \t\tSet&lt;String&gt; authorizedGrantTypes = client.getAuthorizedGrantTypes();\r\n    \t\tif (authorizedGrantTypes.isEmpty()) {\r\n    \t\t\tthrow new InvalidGrantException(&quot;A client must have at least one authorized grant type.&quot;);\r\n    \t\t}\r\n    \t\tif (!containsRedirectGrantType(authorizedGrantTypes)) {\r\n    \t\t\tthrow new InvalidGrantException(\r\n    \t\t\t\t\t&quot;A redirect_uri can only be used by implicit or authorization_code grant types.&quot;);\r\n    \t\t}\r\n    \r\n    \t\tSet&lt;String&gt; registeredRedirectUris = client.getRegisteredRedirectUri();\r\n    \t\tif (registeredRedirectUris == null || registeredRedirectUris.isEmpty()) {\r\n    \t\t\tthrow new InvalidRequestException(&quot;At least one redirect_uri must be registered with the client.&quot;);\r\n    \t\t}\r\n    \t\treturn obtainMatchingRedirect(registeredRedirectUris, requestedRedirect);\r\n    \t}\r\n        \r\n    \tprivate boolean containsRedirectGrantType(Set&lt;String&gt; grantTypes) {\r\n    \t\tfor (String type : grantTypes) {\r\n    \t\t\tif (redirectGrantTypes.contains(type)) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n        \r\n    \tprotected boolean redirectMatches(String requestedRedirect, String redirectUri) {\r\n    \t\tUriComponents requestedRedirectUri = UriComponentsBuilder.fromUriString(requestedRedirect).build();\r\n    \t\tUriComponents registeredRedirectUri = UriComponentsBuilder.fromUriString(redirectUri).build();\r\n    \r\n    \t\tboolean schemeMatch = isEqual(registeredRedirectUri.getScheme(), requestedRedirectUri.getScheme());\r\n    \t\tboolean userInfoMatch = isEqual(registeredRedirectUri.getUserInfo(), requestedRedirectUri.getUserInfo());\r\n    \t\tboolean hostMatch = hostMatches(registeredRedirectUri.getHost(), requestedRedirectUri.getHost());\r\n    \t\tboolean portMatch = !matchPorts || registeredRedirectUri.getPort() == requestedRedirectUri.getPort();\r\n    \r\n            // path match condition removed\r\n    \t\treturn schemeMatch &amp;&amp; userInfoMatch &amp;&amp; hostMatch &amp;&amp; portMatch;\r\n    \t}\r\n        \r\n    \tprivate boolean matchQueryParams(MultiValueMap&lt;String, String&gt; registeredRedirectUriQueryParams,\r\n    \t\t\t\t\t\t\t\t\t MultiValueMap&lt;String, String&gt; requestedRedirectUriQueryParams) {\r\n    \r\n    \r\n    \t\tIterator&lt;String&gt; iter = registeredRedirectUriQueryParams.keySet().iterator();\r\n    \t\twhile (iter.hasNext()) {\r\n    \t\t\tString key = iter.next();\r\n    \t\t\tList&lt;String&gt; registeredRedirectUriQueryParamsValues = registeredRedirectUriQueryParams.get(key);\r\n    \t\t\tList&lt;String&gt; requestedRedirectUriQueryParamsValues = requestedRedirectUriQueryParams.get(key);\r\n    \r\n    \t\t\tif (!registeredRedirectUriQueryParamsValues.equals(requestedRedirectUriQueryParamsValues)) {\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n        \r\n    \tprivate boolean isEqual(String str1, String str2) {\r\n    \t\tif (StringUtils.isEmpty(str1) &amp;&amp; StringUtils.isEmpty(str2)) {\r\n    \t\t\treturn true;\r\n    \t\t} else if (!StringUtils.isEmpty(str1)) {\r\n    \t\t\treturn str1.equals(str2);\r\n    \t\t} else {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n        \r\n    \tprotected boolean hostMatches(String registered, String requested) {\r\n    \t\tif (matchSubdomains) {\r\n    \t\t\treturn isEqual(registered, requested) || (requested != null &amp;&amp; requested.endsWith(&quot;.&quot; + registered));\r\n    \t\t}\r\n    \t\treturn isEqual(registered, requested);\r\n    \t}\r\n        \r\n    \tprivate String obtainMatchingRedirect(Set&lt;String&gt; redirectUris, String requestedRedirect) {\r\n    \t\tAssert.notEmpty(redirectUris, &quot;Redirect URIs cannot be empty&quot;);\r\n    \r\n    \t\tif (redirectUris.size() == 1 &amp;&amp; requestedRedirect == null) {\r\n    \t\t\treturn redirectUris.iterator().next();\r\n    \t\t}\r\n    \r\n    \t\tfor (String redirectUri : redirectUris) {\r\n    \t\t\tif (requestedRedirect != null &amp;&amp; redirectMatches(requestedRedirect, redirectUri)) {\r\n    \t\t\t\t// Initialize with the registered redirect-uri\r\n    \t\t\t\tUriComponentsBuilder redirectUriBuilder = UriComponentsBuilder.fromUriString(redirectUri);\r\n    \r\n    \t\t\t\tUriComponents requestedRedirectUri = UriComponentsBuilder.fromUriString(requestedRedirect).build();\r\n    \r\n    \t\t\t\tif (this.matchSubdomains) {\r\n    \t\t\t\t\tredirectUriBuilder.host(requestedRedirectUri.getHost());\r\n    \t\t\t\t}\r\n    \t\t\t\tif (!this.matchPorts) {\r\n    \t\t\t\t\tredirectUriBuilder.port(requestedRedirectUri.getPort());\r\n    \t\t\t\t}\r\n    \t\t\t\tredirectUriBuilder.replaceQuery(requestedRedirectUri.getQuery());\t\t// retain additional params (if any)\r\n    \t\t\t\tredirectUriBuilder.fragment(null);\r\n                    // RedirectUri changed to RequestRedirectUri\r\n    \t\t\t\treturn requestedRedirectUri.toUriString();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tthrow new RedirectMismatchException(&quot;Invalid redirect: &quot; + requestedRedirect\r\n    \t\t\t\t+ &quot; does not match one of the registered values.&quot;);\r\n    \t}\r\n    }\r\n\r\nYou need to configuration class:\r\n\r\n    @Configuration\r\n    public class AuthorizartionConfigurer extends AuthorizationServerConfigurerAdapter {\r\n    \r\n            \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n            // some configurations code here\r\n            // ...\r\n            endpoints.redirectResolver(new CustomRedirectResolver());\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Spring Boot + Oauth 2 Single Sign-On ridirect uri misbehaviour","body":"<p>You can use Custom RedirectResolver.</p>\n<p>Sample Code:</p>\n<pre><code>public class CustomRedirectResolver implements RedirectResolver {\n\n    private Collection&lt;String&gt; redirectGrantTypes = Arrays.asList(&quot;implicit&quot;, &quot;authorization_code&quot;);\n\n    private boolean matchSubdomains = false;\n\n    private boolean matchPorts = true;\n    \n    public void setMatchSubdomains(boolean matchSubdomains) {\n        this.matchSubdomains = matchSubdomains;\n    }\n    \n    public void setMatchPorts(boolean matchPorts) {\n        this.matchPorts = matchPorts;\n    }\n    \n    public void setRedirectGrantTypes(Collection&lt;String&gt; redirectGrantTypes) {\n        this.redirectGrantTypes = new HashSet&lt;String&gt;(redirectGrantTypes);\n    }\n\n    public String resolveRedirect(String requestedRedirect, ClientDetails client) throws OAuth2Exception {\n\n        Set&lt;String&gt; authorizedGrantTypes = client.getAuthorizedGrantTypes();\n        if (authorizedGrantTypes.isEmpty()) {\n            throw new InvalidGrantException(&quot;A client must have at least one authorized grant type.&quot;);\n        }\n        if (!containsRedirectGrantType(authorizedGrantTypes)) {\n            throw new InvalidGrantException(\n                    &quot;A redirect_uri can only be used by implicit or authorization_code grant types.&quot;);\n        }\n\n        Set&lt;String&gt; registeredRedirectUris = client.getRegisteredRedirectUri();\n        if (registeredRedirectUris == null || registeredRedirectUris.isEmpty()) {\n            throw new InvalidRequestException(&quot;At least one redirect_uri must be registered with the client.&quot;);\n        }\n        return obtainMatchingRedirect(registeredRedirectUris, requestedRedirect);\n    }\n    \n    private boolean containsRedirectGrantType(Set&lt;String&gt; grantTypes) {\n        for (String type : grantTypes) {\n            if (redirectGrantTypes.contains(type)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    \n    protected boolean redirectMatches(String requestedRedirect, String redirectUri) {\n        UriComponents requestedRedirectUri = UriComponentsBuilder.fromUriString(requestedRedirect).build();\n        UriComponents registeredRedirectUri = UriComponentsBuilder.fromUriString(redirectUri).build();\n\n        boolean schemeMatch = isEqual(registeredRedirectUri.getScheme(), requestedRedirectUri.getScheme());\n        boolean userInfoMatch = isEqual(registeredRedirectUri.getUserInfo(), requestedRedirectUri.getUserInfo());\n        boolean hostMatch = hostMatches(registeredRedirectUri.getHost(), requestedRedirectUri.getHost());\n        boolean portMatch = !matchPorts || registeredRedirectUri.getPort() == requestedRedirectUri.getPort();\n\n        // path match condition removed\n        return schemeMatch &amp;&amp; userInfoMatch &amp;&amp; hostMatch &amp;&amp; portMatch;\n    }\n    \n    private boolean matchQueryParams(MultiValueMap&lt;String, String&gt; registeredRedirectUriQueryParams,\n                                     MultiValueMap&lt;String, String&gt; requestedRedirectUriQueryParams) {\n\n\n        Iterator&lt;String&gt; iter = registeredRedirectUriQueryParams.keySet().iterator();\n        while (iter.hasNext()) {\n            String key = iter.next();\n            List&lt;String&gt; registeredRedirectUriQueryParamsValues = registeredRedirectUriQueryParams.get(key);\n            List&lt;String&gt; requestedRedirectUriQueryParamsValues = requestedRedirectUriQueryParams.get(key);\n\n            if (!registeredRedirectUriQueryParamsValues.equals(requestedRedirectUriQueryParamsValues)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n    \n    private boolean isEqual(String str1, String str2) {\n        if (StringUtils.isEmpty(str1) &amp;&amp; StringUtils.isEmpty(str2)) {\n            return true;\n        } else if (!StringUtils.isEmpty(str1)) {\n            return str1.equals(str2);\n        } else {\n            return false;\n        }\n    }\n    \n    protected boolean hostMatches(String registered, String requested) {\n        if (matchSubdomains) {\n            return isEqual(registered, requested) || (requested != null &amp;&amp; requested.endsWith(&quot;.&quot; + registered));\n        }\n        return isEqual(registered, requested);\n    }\n    \n    private String obtainMatchingRedirect(Set&lt;String&gt; redirectUris, String requestedRedirect) {\n        Assert.notEmpty(redirectUris, &quot;Redirect URIs cannot be empty&quot;);\n\n        if (redirectUris.size() == 1 &amp;&amp; requestedRedirect == null) {\n            return redirectUris.iterator().next();\n        }\n\n        for (String redirectUri : redirectUris) {\n            if (requestedRedirect != null &amp;&amp; redirectMatches(requestedRedirect, redirectUri)) {\n                // Initialize with the registered redirect-uri\n                UriComponentsBuilder redirectUriBuilder = UriComponentsBuilder.fromUriString(redirectUri);\n\n                UriComponents requestedRedirectUri = UriComponentsBuilder.fromUriString(requestedRedirect).build();\n\n                if (this.matchSubdomains) {\n                    redirectUriBuilder.host(requestedRedirectUri.getHost());\n                }\n                if (!this.matchPorts) {\n                    redirectUriBuilder.port(requestedRedirectUri.getPort());\n                }\n                redirectUriBuilder.replaceQuery(requestedRedirectUri.getQuery());       // retain additional params (if any)\n                redirectUriBuilder.fragment(null);\n                // RedirectUri changed to RequestRedirectUri\n                return requestedRedirectUri.toUriString();\n            }\n        }\n\n        throw new RedirectMismatchException(&quot;Invalid redirect: &quot; + requestedRedirect\n                + &quot; does not match one of the registered values.&quot;);\n    }\n}\n</code></pre>\n<p>You need to configuration class:</p>\n<pre><code>@Configuration\npublic class AuthorizartionConfigurer extends AuthorizationServerConfigurerAdapter {\n\n        \n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        // some configurations code here\n        // ...\n        endpoints.redirectResolver(new CustomRedirectResolver());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3340442,"reputation":67,"user_id":2806844,"display_name":"Danushka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685520533,"creation_date":1589541516,"question_id":61817966,"body_markdown":"I need to implement Single Sign-On application using Spring Boot (2.1.9.RELEASE) and OAuth2. I have created two client application and authentication server as well. When i hit client application URL it successfully redirect to the authentication server and validate username and password. But when it redirect back to the client application always gives below oauth error.\r\n\r\n    error=&quot;invalid_grant&quot;, error_description=&quot;Invalid redirect: http://localhost:8082/app1/login does not match one of the registered values: [http://localhost:8082/app1]&quot;\r\n\r\nHere i have noticed that always append **/login** path automatically to the end of redirect uri. Maybe it is the default behavior of the Spring Boot SSO. I have tried many ways to resolve this error but couldn&#39;t. Can anyone help me.\r\n\r\nI have followed sample project [sample project][1]\r\n\r\n**Steps**\r\n\r\n 1. Hit client application url (http://localhost:8082/app1)\r\n 2. Successfully redirect to the authentication server (http://localhost:8081/auth/login)\r\n 3. enter username  and password and validate\r\n 4. redirect URL with error\r\nhttp://localhost:8081/auth/oauth/authorize?client_id=foo&amp;redirect_uri=http://localhost:8082/app1/login&amp;response_type=code&amp;state=03W7yX\r\n\r\n**Authentication Server**\r\n\r\n**POM file**\r\n\r\n    &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;spring-cloud.version&gt;Finchley.SR1&lt;/spring-cloud.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0-b170127.1453&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n**Main Class**\r\n\r\n    @SpringBootApplication\r\n    @EnableResourceServer\r\n    public class TestProjectApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(TestProjectApplication.class, args);\r\n        }\r\n    }\r\n\r\n**Security config class**\r\n\r\n    @Configuration\r\n    @Order(1)\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.requestMatchers()\r\n                    .antMatchers(&quot;/login&quot;, &quot;/oauth/authorize&quot;)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .formLogin().permitAll();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication()\r\n                    .withUser(&quot;john&quot;)\r\n                    .password(passwordEncoder().encode(&quot;123&quot;))\r\n                    .roles(&quot;USER&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    }\r\n\r\n**Client Application**\r\n\r\n**POM File**\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;spring-cloud.version&gt;Finchley.SR1&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n\r\n**Main Class**\r\n\r\n    @SpringBootApplication\r\n    @EnableOAuth2Sso\r\n    public class App1Application implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(&quot;/&quot;).setViewName(&quot;index&quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(App1Application.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n**Application.yml**\r\n\r\n    server:\r\n      port: 8082\r\n      servlet:\r\n        context-path: /app1\r\n    spring:\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n    security:\r\n      basic:\r\n        enabled: false\r\n      oauth2:\r\n        client:\r\n          clientId: foo\r\n          clientSecret: bar\r\n          accessTokenUri: http://localhost:8081/auth/oauth/token\r\n          userAuthorizationUri: http://localhost:8081/auth/oauth/authorize\r\n        resource:\r\n          userInfoUri: http://localhost:8080/auth/user/me\r\n\r\n  [1]: https://github.com/nkhs007/spring-boot-sso","title":"Spring Boot + Oauth 2 Single Sign-On ridirect uri misbehaviour","body":"<p>I need to implement Single Sign-On application using Spring Boot (2.1.9.RELEASE) and OAuth2. I have created two client application and authentication server as well. When i hit client application URL it successfully redirect to the authentication server and validate username and password. But when it redirect back to the client application always gives below oauth error.</p>\n\n<pre><code>error=\"invalid_grant\", error_description=\"Invalid redirect: http://localhost:8082/app1/login does not match one of the registered values: [http://localhost:8082/app1]\"\n</code></pre>\n\n<p>Here i have noticed that always append <strong>/login</strong> path automatically to the end of redirect uri. Maybe it is the default behavior of the Spring Boot SSO. I have tried many ways to resolve this error but couldn't. Can anyone help me.</p>\n\n<p>I have followed sample project <a href=\"https://github.com/nkhs007/spring-boot-sso\" rel=\"nofollow noreferrer\">sample project</a></p>\n\n<p><strong>Steps</strong></p>\n\n<ol>\n<li>Hit client application url (<a href=\"http://localhost:8082/app1\" rel=\"nofollow noreferrer\">http://localhost:8082/app1</a>)</li>\n<li>Successfully redirect to the authentication server (<a href=\"http://localhost:8081/auth/login\" rel=\"nofollow noreferrer\">http://localhost:8081/auth/login</a>)</li>\n<li>enter username  and password and validate</li>\n<li>redirect URL with error\n<a href=\"http://localhost:8081/auth/oauth/authorize?client_id=foo&amp;redirect_uri=http://localhost:8082/app1/login&amp;response_type=code&amp;state=03W7yX\" rel=\"nofollow noreferrer\">http://localhost:8081/auth/oauth/authorize?client_id=foo&amp;redirect_uri=http://localhost:8082/app1/login&amp;response_type=code&amp;state=03W7yX</a></li>\n</ol>\n\n<p><strong>Authentication Server</strong></p>\n\n<p><strong>POM file</strong></p>\n\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Finchley.SR1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0-b170127.1453&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n\n<p><strong>Main Class</strong></p>\n\n<pre><code>@SpringBootApplication\n@EnableResourceServer\npublic class TestProjectApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestProjectApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>Security config class</strong></p>\n\n<pre><code>@Configuration\n@Order(1)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.requestMatchers()\n                .antMatchers(\"/login\", \"/oauth/authorize\")\n                .and()\n                .authorizeRequests()\n                .anyRequest().authenticated()\n                .and()\n                .formLogin().permitAll();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(\"john\")\n                .password(passwordEncoder().encode(\"123\"))\n                .roles(\"USER\");\n    }\n\n    @Bean\n    public BCryptPasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n\n<p><strong>Client Application</strong></p>\n\n<p><strong>POM File</strong></p>\n\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;spring-cloud.version&gt;Finchley.SR1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n</code></pre>\n\n<p><strong>Main Class</strong></p>\n\n<pre><code>@SpringBootApplication\n@EnableOAuth2Sso\npublic class App1Application implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(\"/\").setViewName(\"index\");\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(App1Application.class, args);\n    }\n\n}\n</code></pre>\n\n<p><strong>Application.yml</strong></p>\n\n<pre><code>server:\n  port: 8082\n  servlet:\n    context-path: /app1\nspring:\n  main:\n    allow-bean-definition-overriding: true\nsecurity:\n  basic:\n    enabled: false\n  oauth2:\n    client:\n      clientId: foo\n      clientSecret: bar\n      accessTokenUri: http://localhost:8081/auth/oauth/token\n      userAuthorizationUri: http://localhost:8081/auth/oauth/authorize\n    resource:\n      userInfoUri: http://localhost:8080/auth/user/me\n</code></pre>\n"},{"tags":["java","hibernate","count","hql","jpql"],"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1401097091,"post_id":23867119,"comment_id":36736160,"body_markdown":"What is this, Java 4? It even did not have generics...","body":"What is this, Java 4? It even did not have generics..."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1401097174,"post_id":23867119,"comment_id":36736215,"body_markdown":"you miss the `group by` statement!!","body":"you miss the <code>group by</code> statement!!"},{"owner":{"account_id":3860808,"reputation":5608,"user_id":3198603,"accept_rate":70,"display_name":"user3198603"},"score":0,"creation_date":1401097282,"post_id":23867119,"comment_id":36736277,"body_markdown":"groupBy is not mandatory","body":"groupBy is not mandatory"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":1,"creation_date":1401098723,"post_id":23867119,"comment_id":36737041,"body_markdown":"@jubinPatel: The question seems more about **why** not how.","body":"@jubinPatel: The question seems more about <b>why</b> not how."}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685520441,"creation_date":1401097340,"answer_id":23867237,"question_id":23867119,"body_markdown":"This issue may be caused by entity inheritance. Most likely that the `CustomerData` is the base class of other subclasses.\r\n\r\nSo, you should select from the actual subclass.","title":"Hibernate JPQL is returning multiple results for a count(*) query","body":"<p>This issue may be caused by entity inheritance. Most likely that the <code>CustomerData</code> is the base class of other subclasses.</p>\n<p>So, you should select from the actual subclass.</p>\n"},{"tags":[],"owner":{"account_id":1384517,"reputation":1982,"user_id":1665095,"accept_rate":70,"display_name":"Jubin Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401098343,"creation_date":1401098343,"answer_id":23867556,"question_id":23867119,"body_markdown":"Your code is perfect, at the end of your query just add this\r\n\r\n    return ((Integer)test.get(0)).intValue();\r\n\r\nOR\r\n\r\n    Integer result = ((Integer) test.get(0)).intValue();\r\n\r\n[Reference link][1]\r\n\r\n\r\n  [1]: http://forum.spring.io/forum/spring-projects/data/19639-dao-count-for-hibernate","title":"Hibernate JPQL is returning multiple results for a count(*) query","body":"<p>Your code is perfect, at the end of your query just add this</p>\n\n<pre><code>return ((Integer)test.get(0)).intValue();\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>Integer result = ((Integer) test.get(0)).intValue();\n</code></pre>\n\n<p><a href=\"http://forum.spring.io/forum/spring-projects/data/19639-dao-count-for-hibernate\" rel=\"nofollow\">Reference link</a></p>\n"},{"tags":[],"owner":{"account_id":13251388,"reputation":21,"user_id":9568803,"display_name":"willycha0119"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671817373,"creation_date":1671817373,"answer_id":74902538,"question_id":23867119,"body_markdown":"It&#39;s a bit late, but I&#39;ll reply anyway.\r\n\r\nIn my case, I got 3 rows while I use &#39;select count(a) from TaskAttachment&#39;,\r\n\r\njust because I have another 2 domain object called TaskPostAttachment and \r\n\r\nTaskDiscussionAttachment, and then these 2 domain object all extend my \r\n\r\nTaskAttachment for some reason,\r\n\r\nso I create another domain object called RootAttachment,\r\n\r\nand then these 3 TaskAttachment object all extend the RootAttachment,\r\n\r\nthen the problem will be resolved.\r\n\r\nsorry for my bad English. ","title":"Hibernate JPQL is returning multiple results for a count(*) query","body":"<p>It's a bit late, but I'll reply anyway.</p>\n<p>In my case, I got 3 rows while I use 'select count(a) from TaskAttachment',</p>\n<p>just because I have another 2 domain object called TaskPostAttachment and</p>\n<p>TaskDiscussionAttachment, and then these 2 domain object all extend my</p>\n<p>TaskAttachment for some reason,</p>\n<p>so I create another domain object called RootAttachment,</p>\n<p>and then these 3 TaskAttachment object all extend the RootAttachment,</p>\n<p>then the problem will be resolved.</p>\n<p>sorry for my bad English.</p>\n"}],"owner":{"account_id":3860808,"reputation":5608,"user_id":3198603,"accept_rate":70,"display_name":"user3198603"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23867237,"answer_count":3,"score":1,"last_activity_date":1685520512,"creation_date":1401096978,"question_id":23867119,"body_markdown":"I have the below code in my Dao:   \r\n\r\n    String query = SELECT COUNT(*)  FROM CustomerData ;\r\n \r\n    Query query = session.createQuery(query);\r\n    List test = query.list();\r\n    \r\n    it returns a list with a size of 2. It contains the following value [1,0]\r\n    \r\nHow come it&#39;s returning 2 rows when it&#39;s not possible, as I have used COUNT(*) in the select clause, which will always return a single value? \r\n\r\nIs Hibernate doing something here?","title":"Hibernate JPQL is returning multiple results for a count(*) query","body":"<p>I have the below code in my Dao:</p>\n<pre><code>String query = SELECT COUNT(*)  FROM CustomerData ;\n\nQuery query = session.createQuery(query);\nList test = query.list();\n\nit returns a list with a size of 2. It contains the following value [1,0]\n</code></pre>\n<p>How come it's returning 2 rows when it's not possible, as I have used COUNT(*) in the select clause, which will always return a single value?</p>\n<p>Is Hibernate doing something here?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1626020,"reputation":405,"user_id":1501567,"display_name":"nedenom"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1450209438,"creation_date":1450209145,"answer_id":34298171,"question_id":34297666,"body_markdown":"You can pass it on the command line: \r\n\r\n    java -Dlibrary.system.property=value -jar myapp.jar ","title":"Pass system property to spring boot","body":"<p>You can pass it on the command line: </p>\n\n<pre><code>java -Dlibrary.system.property=value -jar myapp.jar \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7984243,"reputation":71,"user_id":6024351,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470208793,"creation_date":1470207514,"answer_id":38736508,"question_id":34297666,"body_markdown":"If you are using spring-boot maven plugin to execute the application, try (no line breaks)\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Xms2048m -Xmx4000m -XX:MaxPermSize=2048m \r\n    -Dlibrary.system.property=value&quot;\r\n\r\n\r\nRefer [maven plugin][1] for additional details\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html","title":"Pass system property to spring boot","body":"<p>If you are using spring-boot maven plugin to execute the application, try (no line breaks)</p>\n\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=\"-Xms2048m -Xmx4000m -XX:MaxPermSize=2048m \n-Dlibrary.system.property=value\"\n</code></pre>\n\n<p>Refer <a href=\"http://docs.spring.io/spring-boot/docs/current/maven-plugin/run-mojo.html\" rel=\"nofollow\">maven plugin</a> for additional details</p>\n"},{"tags":[],"owner":{"account_id":2546050,"reputation":409,"user_id":2210838,"accept_rate":73,"display_name":"Jan Siekierski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470236850,"creation_date":1470236850,"answer_id":38747357,"question_id":34297666,"body_markdown":"you can also do it like this:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.setProperty(&quot;key&quot;, &quot;value&quot;);\r\n\t\tSpringApplication.run(MyApplication.class);\r\n\t}","title":"Pass system property to spring boot","body":"<p>you can also do it like this:</p>\n\n<pre><code>public static void main(String[] args) {\n    System.setProperty(\"key\", \"value\");\n    SpringApplication.run(MyApplication.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1685520197,"creation_date":1578510784,"answer_id":59652415,"question_id":34297666,"body_markdown":"**Update 2020-01-08**\r\n\r\nFor spring-boot **2.2.2.RELEASE** while develop\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dmy_system_properties=test1&quot;\r\n\r\nFor spring-boot **1.5.x.RELEASE** or below  while develop\r\n\r\n    mvn spring-boot:run -Drun.jvmArguments=&quot;-Dmy_system_properties=test1&quot;\r\n\r\nFor run as **jar**\r\n\r\n    java -Dmy_system_properties=test1 -jar service.jar \r\n\r\nYou can try with a runnable example, here https://www.surasint.com/spring-boot-pass-system-properties-in-command-line/\r\n","title":"Pass system property to spring boot","body":"<p><strong>Update 2020-01-08</strong></p>\n<p>For spring-boot <strong>2.2.2.RELEASE</strong> while develop</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.jvmArguments=&quot;-Dmy_system_properties=test1&quot;\n</code></pre>\n<p>For spring-boot <strong>1.5.x.RELEASE</strong> or below  while develop</p>\n<pre><code>mvn spring-boot:run -Drun.jvmArguments=&quot;-Dmy_system_properties=test1&quot;\n</code></pre>\n<p>For run as <strong>jar</strong></p>\n<pre><code>java -Dmy_system_properties=test1 -jar service.jar \n</code></pre>\n<p>You can try with a runnable example, here <a href=\"https://www.surasint.com/spring-boot-pass-system-properties-in-command-line/\" rel=\"nofollow noreferrer\">https://www.surasint.com/spring-boot-pass-system-properties-in-command-line/</a></p>\n"}],"owner":{"account_id":2209133,"reputation":3193,"user_id":1951544,"accept_rate":60,"display_name":"zibi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20801,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":34298171,"answer_count":4,"score":10,"last_activity_date":1685520197,"creation_date":1450207422,"question_id":34297666,"body_markdown":"A library I need to use reads system property in the following way:\r\n\r\n    System.getProperty(&quot;library.system.property&quot;)\r\n\r\nIs there any way to pass such a property to spring boot while starting the app or do I need to set it in the system?","title":"Pass system property to spring boot","body":"<p>A library I need to use reads system property in the following way:</p>\n\n<pre><code>System.getProperty(\"library.system.property\")\n</code></pre>\n\n<p>Is there any way to pass such a property to spring boot while starting the app or do I need to set it in the system?</p>\n"},{"tags":["java","spring","hibernate","configuration","transactions"],"comments":[{"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"score":2,"creation_date":1424419263,"post_id":28624052,"comment_id":45549457,"body_markdown":"Do you have `&lt;tx:annotation-driven/&gt;`","body":"Do you have <code>&lt;tx:annotation-driven&#47;&gt;</code>"},{"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1424420491,"post_id":28624052,"comment_id":45549980,"body_markdown":"have a look at these answer: http://stackoverflow.com/a/4396530/280244","body":"have a look at these answer: <a href=\"http://stackoverflow.com/a/4396530/280244\">stackoverflow.com/a/4396530/280244</a>"},{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":0,"creation_date":1424421594,"post_id":28624052,"comment_id":45550468,"body_markdown":"[See here](http://stackoverflow.com/a/25910635/3364187)","body":"<a href=\"http://stackoverflow.com/a/25910635/3364187\">See here</a>"},{"owner":{"account_id":2357292,"reputation":5009,"user_id":2064835,"accept_rate":72,"display_name":"ankit"},"score":0,"creation_date":1424423953,"post_id":28624052,"comment_id":45551688,"body_markdown":"@Evgeni yes its there","body":"@Evgeni yes its there"},{"owner":{"account_id":2019478,"reputation":4894,"user_id":1806005,"accept_rate":56,"display_name":"hi_my_name_is"},"score":0,"creation_date":1425297517,"post_id":28624052,"comment_id":45890718,"body_markdown":"how do you call saveRequest? From another method in same class?","body":"how do you call saveRequest? From another method in same class?"},{"owner":{"account_id":2357292,"reputation":5009,"user_id":2064835,"accept_rate":72,"display_name":"ankit"},"score":0,"creation_date":1425299833,"post_id":28624052,"comment_id":45892020,"body_markdown":"no it is getting called from service layer , and also I have tried moving @ transactional to service layer @freakman","body":"no it is getting called from service layer , and also I have tried moving @ transactional to service layer @freakman"},{"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"score":0,"creation_date":1425641300,"post_id":28624052,"comment_id":46055051,"body_markdown":"Have you tried instead of &quot;org.hibernate.context.internal.ThreadLocalSessionContext&quot; putting &quot;thread&quot;? According to doc there are 3 short values for out-of-the-box implementations: &quot;jta&quot;, &quot;thread&quot;, and &quot;managed&quot;","body":"Have you tried instead of &quot;org.hibernate.context.internal.ThreadLocalSessionContext&quot; putting &quot;thread&quot;? According to doc there are 3 short values for out-of-the-box implementations: &quot;jta&quot;, &quot;thread&quot;, and &quot;managed&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1012936,"reputation":145168,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1425335876,"creation_date":1425335876,"answer_id":28820772,"question_id":28624052,"body_markdown":"You definitely don&#39;t need this setting:\r\n\r\n    &lt;beans:prop key=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocalSessionContext&lt;/beans:prop&gt;\r\n\r\nSpring Transaction Management layer should bind the Hibernate Session to the current running Thread.\r\n\r\nThe settings are fine, the only thing that might cause it comes from this statement of yours:\r\n\r\n&gt; no it is getting called from service layer , and also I have tried\r\n&gt; moving @ transactional to service layer\r\n\r\nYou need to expose this method:\r\n\r\n    Request saveRequest(Request request);\r\n\r\nthrough a Service interface, that you inject in any other component (web or other service layer beans).\r\n\r\nTo validate this, you can place a debug break-point in the `saveRequest` method implementation, and look for the [TransactionInterceptor][1] up the call-stack. If it&#39;s not there, then Spring couldn&#39;t wrap your method call into a Transaction Aspect processing logic.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/interceptor/TransactionInterceptor.html","title":"How to fix the &quot;No CurrentSessionContext configured&quot; with Spring and Hibernate","body":"<p>You definitely don't need this setting:</p>\n\n<pre><code>&lt;beans:prop key=\"hibernate.current_session_context_class\"&gt;org.hibernate.context.internal.ThreadLocalSessionContext&lt;/beans:prop&gt;\n</code></pre>\n\n<p>Spring Transaction Management layer should bind the Hibernate Session to the current running Thread.</p>\n\n<p>The settings are fine, the only thing that might cause it comes from this statement of yours:</p>\n\n<blockquote>\n  <p>no it is getting called from service layer , and also I have tried\n  moving @ transactional to service layer</p>\n</blockquote>\n\n<p>You need to expose this method:</p>\n\n<pre><code>Request saveRequest(Request request);\n</code></pre>\n\n<p>through a Service interface, that you inject in any other component (web or other service layer beans).</p>\n\n<p>To validate this, you can place a debug break-point in the <code>saveRequest</code> method implementation, and look for the <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/transaction/interceptor/TransactionInterceptor.html\" rel=\"nofollow\">TransactionInterceptor</a> up the call-stack. If it's not there, then Spring couldn't wrap your method call into a Transaction Aspect processing logic.</p>\n"},{"tags":[],"owner":{"account_id":435280,"reputation":14323,"user_id":821786,"display_name":"Gergely Bacso"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425671673,"creation_date":1425671673,"answer_id":28906589,"question_id":28624052,"body_markdown":"Having your function annotated as Transactional is not necessarily enough. You also need to ensure that:\r\n\r\n - Your bean gets created via Spring (defined as @Component and found via componentScan OR declared in xml configuration)\r\n - The reference to your bean needs to be obtained through Spring dependency injection","title":"How to fix the &quot;No CurrentSessionContext configured&quot; with Spring and Hibernate","body":"<p>Having your function annotated as Transactional is not necessarily enough. You also need to ensure that:</p>\n\n<ul>\n<li>Your bean gets created via Spring (defined as @Component and found via componentScan OR declared in xml configuration)</li>\n<li>The reference to your bean needs to be obtained through Spring dependency injection</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425761401,"creation_date":1425761401,"answer_id":28919830,"question_id":28624052,"body_markdown":"For `@Transactional` to be effective you have to tell the Spring context that you want to use that. Annotations without a processor for that annotation is pretty useless. To enable the processor for the `@Transactional` annotation add `&lt;tx:annotation-driven /&gt;` to your context. (As explained [here][1] in the reference guide).\r\n\r\nYour hibernate configuration is also problematic when using Spring you shouldn&#39;t mess around with the `hibernate.current_session_context_class` configuration property (unless you use some specific JTA provider but apparently you aren&#39;t). If you start setting that property you will break proper spring integration for transaction management. Spring already sets that property for you and your setting overrides the default. \r\n\r\nYour configuration should look something like this.\r\n\r\n\t&lt;beans:bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;packagesToScan&quot; value=&quot;com.hcentive.cig.domain&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;beans:props&gt;\r\n\t\t\t\t&lt;beans:prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/beans:prop&gt;\r\n\t\t\t\t&lt;beans:prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/beans:prop&gt;\r\n\t\t\t\t&lt;beans:prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n\t\t\t&lt;/beans:props&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt; \t\r\n\r\n\t&lt;beans:bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n\t\t\t&lt;beans:property name=&quot;sessionFactory&quot; ref bean=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;tx:annotation-driven /&gt;\r\n\r\n[1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html#transaction-declarative-annotations","title":"How to fix the &quot;No CurrentSessionContext configured&quot; with Spring and Hibernate","body":"<p>For <code>@Transactional</code> to be effective you have to tell the Spring context that you want to use that. Annotations without a processor for that annotation is pretty useless. To enable the processor for the <code>@Transactional</code> annotation add <code>&lt;tx:annotation-driven /&gt;</code> to your context. (As explained <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/transaction.html#transaction-declarative-annotations\" rel=\"nofollow\">here</a> in the reference guide).</p>\n\n<p>Your hibernate configuration is also problematic when using Spring you shouldn't mess around with the <code>hibernate.current_session_context_class</code> configuration property (unless you use some specific JTA provider but apparently you aren't). If you start setting that property you will break proper spring integration for transaction management. Spring already sets that property for you and your setting overrides the default. </p>\n\n<p>Your configuration should look something like this.</p>\n\n<pre><code>&lt;beans:bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;beans:property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;beans:property name=\"packagesToScan\" value=\"com.hcentive.cig.domain\" /&gt;\n    &lt;beans:property name=\"hibernateProperties\"&gt;\n        &lt;beans:props&gt;\n            &lt;beans:prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/beans:prop&gt;\n            &lt;beans:prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/beans:prop&gt;\n            &lt;beans:prop key=\"hibernate.show_sql\"&gt;true&lt;/beans:prop&gt;\n        &lt;/beans:props&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;   \n\n&lt;beans:bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;beans:property name=\"sessionFactory\" ref bean=\"sessionFactory\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;tx:annotation-driven /&gt;\n</code></pre>\n"}],"owner":{"account_id":2357292,"reputation":5009,"user_id":2064835,"accept_rate":72,"display_name":"ankit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1957,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1685520048,"creation_date":1424418911,"question_id":28624052,"body_markdown":"I was using programmatic transaction management in spring, now I have switched to declarative transaction management. \r\n\r\nSessionFactory \r\n\r\n    &lt;beans:bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;packagesToScan&quot; value=&quot;com.hcentive.cig.domain&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;beans:props&gt;\r\n    \t\t\t\t&lt;beans:prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;update&lt;/beans:prop&gt;\r\n    \t\t\t\t&lt;beans:prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect\r\n    \t\t\t\t&lt;/beans:prop&gt;\r\n    \t\t\t\t&lt;beans:prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n    \t\t\t\t&lt;beans:prop key=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocalSessionContext&lt;/beans:prop&gt;\r\n    \t\t\t&lt;/beans:props&gt;\r\n    \t\t&lt;/beans:property&gt;\r\n    \t&lt;/beans:bean&gt; \r\n\r\n\r\nTransactionManager \r\n\r\n    &lt;beans:bean id=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;sessionFactory&quot;&gt;\r\n    \t\t\t&lt;beans:ref bean=&quot;sessionFactory&quot; /&gt;\r\n    \t\t&lt;/beans:property&gt;\r\n    \t&lt;/beans:bean&gt;\r\n\r\n\r\nNow If run my code\r\n\r\n    @Override\r\n    \t@Transactional\r\n    \tpublic Request saveRequest(Request request) {\r\n    \t\tsessionFactory.getCurrentSession().save(request);\r\n    \t\treturn request;\r\n    \t}\r\n\r\n&gt; I get exception save is not valid without an active transaction\r\n\r\n\r\nif I remove below line\r\n\r\n\t\t\r\n\r\n    &lt;beans:prop key=&quot;hibernate.current_session_context_class&quot;&gt;org.hibernate.context.internal.ThreadLocalSessionContext&lt;/beans:prop&gt;\r\n\r\n\r\nI get \r\n\r\n    \r\n\r\n&gt; No CurrentSessionContext configured!","title":"How to fix the &quot;No CurrentSessionContext configured&quot; with Spring and Hibernate","body":"<p>I was using programmatic transaction management in spring, now I have switched to declarative transaction management. </p>\n\n<p>SessionFactory </p>\n\n<pre><code>&lt;beans:bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n        &lt;beans:property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;beans:property name=\"packagesToScan\" value=\"com.hcentive.cig.domain\" /&gt;\n        &lt;beans:property name=\"hibernateProperties\"&gt;\n            &lt;beans:props&gt;\n                &lt;beans:prop key=\"hibernate.hbm2ddl.auto\"&gt;update&lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect\n                &lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.show_sql\"&gt;true&lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.current_session_context_class\"&gt;org.hibernate.context.internal.ThreadLocalSessionContext&lt;/beans:prop&gt;\n            &lt;/beans:props&gt;\n        &lt;/beans:property&gt;\n    &lt;/beans:bean&gt; \n</code></pre>\n\n<p>TransactionManager </p>\n\n<pre><code>&lt;beans:bean id=\"transactionManager\"\n        class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;beans:property name=\"sessionFactory\"&gt;\n            &lt;beans:ref bean=\"sessionFactory\" /&gt;\n        &lt;/beans:property&gt;\n    &lt;/beans:bean&gt;\n</code></pre>\n\n<p>Now If run my code</p>\n\n<pre><code>@Override\n    @Transactional\n    public Request saveRequest(Request request) {\n        sessionFactory.getCurrentSession().save(request);\n        return request;\n    }\n</code></pre>\n\n<blockquote>\n  <p>I get exception save is not valid without an active transaction</p>\n</blockquote>\n\n<p>if I remove below line</p>\n\n<pre><code>&lt;beans:prop key=\"hibernate.current_session_context_class\"&gt;org.hibernate.context.internal.ThreadLocalSessionContext&lt;/beans:prop&gt;\n</code></pre>\n\n<p>I get </p>\n\n<blockquote>\n  <p>No CurrentSessionContext configured!</p>\n</blockquote>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685514173,"post_id":76368550,"comment_id":134668823,"body_markdown":"Please give a couple of examples of input, expected result and observed result.","body":"Please give a couple of examples of input, expected result and observed result."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685557091,"post_id":76368550,"comment_id":134678404,"body_markdown":"When posting a schoolwork question, make an explicit not of that fact. Your phrase &quot;You have to it in two ways&quot; is unclear, but presumably means you have been given a homework assignment, and by &quot;You have to do&quot; you really mean &quot;I have to do&quot;.","body":"When posting a schoolwork question, make an explicit not of that fact. Your phrase &quot;You have to it in two ways&quot; is unclear, but presumably means you have been given a homework assignment, and by &quot;You have to do&quot; you really mean &quot;I have to do&quot;."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685481955,"creation_date":1685481542,"answer_id":76368715,"question_id":76368550,"body_markdown":"The Wikipedia documentation for _Zeller&#39;s congruence_ states that _h_ will be an index starting with _&quot;Saturday&quot;_.\r\n\r\n&gt; _**h** is the day of the week (0 = Saturday, 1 = Sunday, 2 = Monday, ..., 6 = Friday)_\r\n\r\nYour _days_ array in the _whatDay_ method is starting with _&quot;Monday&quot;_.\r\n\r\n```java\r\n{ &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot; };\r\n```\r\n```java\r\n{ &quot;Saturday&quot;, &quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot; };\r\n```","title":"My own class &#39;calendar&#39;, how to display the day of the week?","body":"<p>The Wikipedia documentation for <em>Zeller's congruence</em> states that <em>h</em> will be an index starting with <em>&quot;Saturday&quot;</em>.</p>\n<blockquote>\n<p><em><strong>h</strong> is the day of the week (0 = Saturday, 1 = Sunday, 2 = Monday, ..., 6 = Friday)</em></p>\n</blockquote>\n<p>Your <em>days</em> array in the <em>whatDay</em> method is starting with <em>&quot;Monday&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>{ &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot; };\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>{ &quot;Saturday&quot;, &quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot; };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3021841,"reputation":129,"user_id":2562675,"display_name":"thiagotrss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685482452,"creation_date":1685482452,"answer_id":76368803,"question_id":76368550,"body_markdown":"The answer is more simple than you believe.\r\nTest the snippet code below. I think it will solve your problem.\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    private final String showWeekDayName(String stringDate) throws ParseException {\r\n    \tfinal Date date = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(stringDate);\r\n    \t\r\n    \tCalendar calendar = Calendar.getInstance();\r\n    \tcalendar.setTime(date);\r\n    \treturn calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG_FORMAT, Locale.getDefault());\r\n    }\r\n\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\nJust make sure to update your date format and the locale you need the week name.\r\n","title":"My own class &#39;calendar&#39;, how to display the day of the week?","body":"<p>The answer is more simple than you believe.\nTest the snippet code below. I think it will solve your problem.</p>\n<pre><code>\n\n    private final String showWeekDayName(String stringDate) throws ParseException {\n        final Date date = new SimpleDateFormat(\"dd/MM/yyyy\").parse(stringDate);\n        \n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(date);\n        return calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG_FORMAT, Locale.getDefault());\n    }\n\n</pre></code>\n<p>Just make sure to update your date format and the locale you need the week name.</p>\n"}],"owner":{"account_id":27460832,"reputation":3,"user_id":20951437,"display_name":"Ala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685519821,"creation_date":1685479991,"question_id":76368550,"body_markdown":"I have a problem with a task,  I need to add a method to a class that returns the name of the day of the week for a given date. You have to do it in two ways, using the methods of shifting by a week (comparing to the selected reference date, e.g. May 14, 2023 is Sunday) and by determining using the modulo operation (https://en.wikipedia.org/w/index.php?title=Zeller%27s_congruence&amp;oldid=1033222037.\r\n\r\nmy code shows wrong results using both methods, i don&#39;t understand why. e.g. when given 3/17/2030, the reference method displays Wednesday, and the Zeller algorithm displays Friday, when the correct result is Sunday. please help me find the error. I don&#39;t want to use any built-in classes or functions\r\n\r\n\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Comparator;\r\n   class DateComparator implements Comparator&lt;Date&gt;{\r\n\r\n    @Override\r\n    public int compare(Date date1, Date date2){\r\n        int yearComparison = Integer.compare(date1.getYear(), date2.getYear());\r\n        if( yearComparison != 0){\r\n            return yearComparison;\r\n        }\r\n\r\n        int monthComparison = Integer.compare(date1.getMonth(), date2.getMonth());\r\n        if(monthComparison != 0){\r\n            \r\n            return monthComparison;\r\n        }\r\n\r\n\r\n\r\n        return Integer.compare(date1.getDay(), date2.getDay());\r\n    }\r\n}\r\n\r\nclass Month{\r\n    private int monthNumber;\r\n    private String name;\r\n    private int days;\r\n\r\n    public Month(int monthNumber, String name, int days){\r\n        this.monthNumber = monthNumber;\r\n        this.name = name;\r\n        this.days = days;\r\n    }\r\n    public int getMonthNumber() {\r\n        return monthNumber;\r\n    }\r\n\r\n    public int getDays() {\r\n        return days;\r\n    }\r\n\r\n    public void setDays(int days){\r\n        this.days = days;\r\n    }\r\n}\r\n\r\npublic class Date {\r\n\r\n    Months monthsObj = new Months();\r\n    private int year;\r\n    private int month;\r\n    private int day;\r\n\r\n    public Date() {\r\n    }\r\n\r\n    public Date(int year, int month, int day){\r\n        this.year = year;\r\n        this.month = month;\r\n        this.day = day;\r\n    }\r\n\r\n    public int getYear(){\r\n        return year;\r\n    }\r\n\r\n    public void setYear(int year){\r\n        this.year = year;\r\n    }\r\n\r\n    public int getMonth(){\r\n        return month;\r\n    }\r\n\r\n    public void setMonth(int month){\r\n        this.month = month;\r\n    }\r\n\r\n    public int getDay(){\r\n        return day;\r\n    }\r\n\r\n    public void setDay(int day){\r\n        this.day = day;\r\n    }\r\n\r\n    public void printDate(){\r\n        System.out.println(year + &quot;-&quot; + month + &quot;-&quot; + day);\r\n    }\r\n\r\n\r\n    public void incrementWeek(){\r\n        int daysInMonth = monthsObj.getDaysInMonth(year, month);\r\n        day += 7;\r\n        if(day &gt; daysInMonth){\r\n            day -= daysInMonth;\r\n            month++;\r\n            if(month &gt; 12){\r\n                year++;\r\n                month = 1;\r\n            }\r\n        }\r\n    }\r\n\r\n   \r\n\r\n    public void decrementWeek(){\r\n        int daysInPreviousMonth;\r\n        int daysToRemove = 8 - day;\r\n        if(daysToRemove &lt;= 0){\r\n            day -= 7;\r\n        }else{\r\n            month--;\r\n            if(month == 0){\r\n                month = 12;\r\n                year--;\r\n            }\r\n            daysInPreviousMonth = monthsObj.getDaysInMonth(year, month);\r\n            day = daysInPreviousMonth + 1 - daysToRemove;\r\n        }\r\n    }\r\n\r\n\r\n    public void whatDay() {\r\n        int h = (day + 13 * (month + 1) / 5 + year % 100 + (year % 100) / 4 + (year / 100) / 4 - 2 * (year / 100)) % 7;\r\n\r\n        String[] days = { &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};\r\n        System.out.println(days[h]);\r\n    }\r\n\r\n    public void moveWeek(Date reference, Date calendar, int result){\r\n\r\n        String[] days = { &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};\r\n\r\n        if(result &gt; 0){\r\n            while((reference.getYear() != calendar.getYear()) || (reference.getMonth() != calendar.getMonth()) || (reference.getDay()-calendar.getDay() &gt;= 7)){\r\n                calendar.incrementWeek();\r\n                calendar.printDate();\r\n            }\r\n        }\r\n\r\n        if(result &lt; 0){\r\n            while((reference.getYear() != calendar.getYear()) || (reference.getMonth() != calendar.getMonth()) || ((reference.getDay()-calendar.getDay() &gt;= 7)||(reference.getDay()- calendar.getDay()&lt;0))){\r\n                calendar.decrementWeek();\r\n                calendar.printDate();\r\n\r\n            }\r\n        }\r\n\r\n\r\n        int difference = reference.getDay() - calendar.getDay();\r\n        System.out.println(days[6-difference]);\r\n\r\n    }\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        DateComparator comparator = new DateComparator();\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;podaj dzien, miesiac i rok:&quot;);\r\n        int day = sc.nextInt();\r\n        int month = sc.nextInt();\r\n        int year = sc.nextInt();\r\n\r\n        Date reference = new Date(2023, 5, 14);\r\n        Date calendar = new Date(year, month, day);\r\n        calendar.moveWeek(reference, calendar, comparator.compare(reference, calendar));\r\n        calendar.whatDay();\r\n      \r\n\r\n    }\r\n}\r\n\r\nclass Months{\r\n    private static final Month[] months = {\r\n            new Month(1, &quot;January&quot;, 31),\r\n            new Month(2, &quot;February&quot;, 28),\r\n            new Month(3, &quot;March&quot;, 31),\r\n            new Month(4, &quot;April&quot;, 30),\r\n            new Month(5, &quot;May&quot;, 31),\r\n            new Month(6, &quot;June&quot;, 30),\r\n            new Month(7, &quot;July&quot;, 31),\r\n            new Month(8, &quot;August&quot;, 31),\r\n            new Month(9, &quot;September&quot;, 30),\r\n            new Month(10, &quot;October&quot;, 31),\r\n            new Month(11, &quot;November&quot;, 30),\r\n            new Month(12, &quot;December&quot;, 31)\r\n    };\r\n\r\n    public boolean isLeapYear(int year){\r\n\r\n        return (year % 4 == 0 &amp;&amp; year % 100 !=0) || year % 400 == 0;\r\n    }\r\n\r\n    public int getDaysInMonth(int year, int month){\r\n\r\n        if(isLeapYear(year) &amp;&amp; month == 2){\r\n            months[1].setDays(29);\r\n        }\r\n\r\n        return months[month-1].getDays();\r\n    }\r\n\r\n}\r\n```","title":"My own class &#39;calendar&#39;, how to display the day of the week?","body":"<p>I have a problem with a task,  I need to add a method to a class that returns the name of the day of the week for a given date. You have to do it in two ways, using the methods of shifting by a week (comparing to the selected reference date, e.g. May 14, 2023 is Sunday) and by determining using the modulo operation (<a href=\"https://en.wikipedia.org/w/index.php?title=Zeller%27s_congruence&amp;oldid=1033222037\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/w/index.php?title=Zeller%27s_congruence&amp;oldid=1033222037</a>.</p>\n<p>my code shows wrong results using both methods, i don't understand why. e.g. when given 3/17/2030, the reference method displays Wednesday, and the Zeller algorithm displays Friday, when the correct result is Sunday. please help me find the error. I don't want to use any built-in classes or functions</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Comparator;\n   class DateComparator implements Comparator&lt;Date&gt;{\n\n    @Override\n    public int compare(Date date1, Date date2){\n        int yearComparison = Integer.compare(date1.getYear(), date2.getYear());\n        if( yearComparison != 0){\n            return yearComparison;\n        }\n\n        int monthComparison = Integer.compare(date1.getMonth(), date2.getMonth());\n        if(monthComparison != 0){\n            \n            return monthComparison;\n        }\n\n\n\n        return Integer.compare(date1.getDay(), date2.getDay());\n    }\n}\n\nclass Month{\n    private int monthNumber;\n    private String name;\n    private int days;\n\n    public Month(int monthNumber, String name, int days){\n        this.monthNumber = monthNumber;\n        this.name = name;\n        this.days = days;\n    }\n    public int getMonthNumber() {\n        return monthNumber;\n    }\n\n    public int getDays() {\n        return days;\n    }\n\n    public void setDays(int days){\n        this.days = days;\n    }\n}\n\npublic class Date {\n\n    Months monthsObj = new Months();\n    private int year;\n    private int month;\n    private int day;\n\n    public Date() {\n    }\n\n    public Date(int year, int month, int day){\n        this.year = year;\n        this.month = month;\n        this.day = day;\n    }\n\n    public int getYear(){\n        return year;\n    }\n\n    public void setYear(int year){\n        this.year = year;\n    }\n\n    public int getMonth(){\n        return month;\n    }\n\n    public void setMonth(int month){\n        this.month = month;\n    }\n\n    public int getDay(){\n        return day;\n    }\n\n    public void setDay(int day){\n        this.day = day;\n    }\n\n    public void printDate(){\n        System.out.println(year + &quot;-&quot; + month + &quot;-&quot; + day);\n    }\n\n\n    public void incrementWeek(){\n        int daysInMonth = monthsObj.getDaysInMonth(year, month);\n        day += 7;\n        if(day &gt; daysInMonth){\n            day -= daysInMonth;\n            month++;\n            if(month &gt; 12){\n                year++;\n                month = 1;\n            }\n        }\n    }\n\n   \n\n    public void decrementWeek(){\n        int daysInPreviousMonth;\n        int daysToRemove = 8 - day;\n        if(daysToRemove &lt;= 0){\n            day -= 7;\n        }else{\n            month--;\n            if(month == 0){\n                month = 12;\n                year--;\n            }\n            daysInPreviousMonth = monthsObj.getDaysInMonth(year, month);\n            day = daysInPreviousMonth + 1 - daysToRemove;\n        }\n    }\n\n\n    public void whatDay() {\n        int h = (day + 13 * (month + 1) / 5 + year % 100 + (year % 100) / 4 + (year / 100) / 4 - 2 * (year / 100)) % 7;\n\n        String[] days = { &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};\n        System.out.println(days[h]);\n    }\n\n    public void moveWeek(Date reference, Date calendar, int result){\n\n        String[] days = { &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};\n\n        if(result &gt; 0){\n            while((reference.getYear() != calendar.getYear()) || (reference.getMonth() != calendar.getMonth()) || (reference.getDay()-calendar.getDay() &gt;= 7)){\n                calendar.incrementWeek();\n                calendar.printDate();\n            }\n        }\n\n        if(result &lt; 0){\n            while((reference.getYear() != calendar.getYear()) || (reference.getMonth() != calendar.getMonth()) || ((reference.getDay()-calendar.getDay() &gt;= 7)||(reference.getDay()- calendar.getDay()&lt;0))){\n                calendar.decrementWeek();\n                calendar.printDate();\n\n            }\n        }\n\n\n        int difference = reference.getDay() - calendar.getDay();\n        System.out.println(days[6-difference]);\n\n    }\n\n\n\n    public static void main(String[] args) {\n        DateComparator comparator = new DateComparator();\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;podaj dzien, miesiac i rok:&quot;);\n        int day = sc.nextInt();\n        int month = sc.nextInt();\n        int year = sc.nextInt();\n\n        Date reference = new Date(2023, 5, 14);\n        Date calendar = new Date(year, month, day);\n        calendar.moveWeek(reference, calendar, comparator.compare(reference, calendar));\n        calendar.whatDay();\n      \n\n    }\n}\n\nclass Months{\n    private static final Month[] months = {\n            new Month(1, &quot;January&quot;, 31),\n            new Month(2, &quot;February&quot;, 28),\n            new Month(3, &quot;March&quot;, 31),\n            new Month(4, &quot;April&quot;, 30),\n            new Month(5, &quot;May&quot;, 31),\n            new Month(6, &quot;June&quot;, 30),\n            new Month(7, &quot;July&quot;, 31),\n            new Month(8, &quot;August&quot;, 31),\n            new Month(9, &quot;September&quot;, 30),\n            new Month(10, &quot;October&quot;, 31),\n            new Month(11, &quot;November&quot;, 30),\n            new Month(12, &quot;December&quot;, 31)\n    };\n\n    public boolean isLeapYear(int year){\n\n        return (year % 4 == 0 &amp;&amp; year % 100 !=0) || year % 400 == 0;\n    }\n\n    public int getDaysInMonth(int year, int month){\n\n        if(isLeapYear(year) &amp;&amp; month == 2){\n            months[1].setDays(29);\n        }\n\n        return months[month-1].getDays();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":12521194,"reputation":867,"user_id":9112491,"display_name":"user"},"score":0,"creation_date":1685520113,"post_id":76371328,"comment_id":134669957,"body_markdown":"It is generally not possible to directly collocate two different versions of the same library within the same application, as it can lead to conflicts and compatibility issues.","body":"It is generally not possible to directly collocate two different versions of the same library within the same application, as it can lead to conflicts and compatibility issues."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1685522233,"post_id":76371328,"comment_id":134670427,"body_markdown":"For many libraries you can get away with using shaded libraries (basically &quot;private&quot; copies of the libraries in different packages). I&#39;m not sure if that&#39;ll work well with something as big and complex as Spring itself.","body":"For many libraries you can get away with using shaded libraries (basically &quot;private&quot; copies of the libraries in different packages). I&#39;m not sure if that&#39;ll work well with something as big and complex as Spring itself."}],"owner":{"account_id":21620025,"reputation":35,"user_id":15945184,"display_name":"Snaps"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685519812,"creation_date":1685519812,"question_id":76371328,"body_markdown":"My project, call it A, depends on Project B\r\n\r\nProject A\r\n\r\n - Runs on JDK 17\r\n - Uses spring-framework version 6.0.6 \r\n\r\n \r\nProject B\r\n\r\n - Runs on JDK 11\r\n - Uses spring-framework version 5.3.9 and spring-boot version 2.7.9\r\n \r\n\r\nWhen Project B is added as a dependency in Project A, all of its spring transitive dependencies are overridden with a higher version. Which breaks Project B. Project A requires spring version 6 to run, we can&#39;t downgrade it.\r\n\r\n - Normally the resolution would be to upgrade the JDK and spring version in project B (fairly sure things will break and not sure if it&#39;s worth the time retesting).\r\n - Even if I am able to resolve this issue by upgrading project B&#39;s spring and jdk versions because I can control project B. How do I handle a similar situation when I have a 3rd party dependency on which I do not have any control?\r\n\r\nIs there any way to collocate two different versions of spring-framework in Project A such that it uses the newer version of spring for Project A and the older version of spring for Project B?\r\n\r\n\r\n","title":"How to collocate different spring major versions in a project?","body":"<p>My project, call it A, depends on Project B</p>\n<p>Project A</p>\n<ul>\n<li>Runs on JDK 17</li>\n<li>Uses spring-framework version 6.0.6</li>\n</ul>\n<p>Project B</p>\n<ul>\n<li>Runs on JDK 11</li>\n<li>Uses spring-framework version 5.3.9 and spring-boot version 2.7.9</li>\n</ul>\n<p>When Project B is added as a dependency in Project A, all of its spring transitive dependencies are overridden with a higher version. Which breaks Project B. Project A requires spring version 6 to run, we can't downgrade it.</p>\n<ul>\n<li>Normally the resolution would be to upgrade the JDK and spring version in project B (fairly sure things will break and not sure if it's worth the time retesting).</li>\n<li>Even if I am able to resolve this issue by upgrading project B's spring and jdk versions because I can control project B. How do I handle a similar situation when I have a 3rd party dependency on which I do not have any control?</li>\n</ul>\n<p>Is there any way to collocate two different versions of spring-framework in Project A such that it uses the newer version of spring for Project A and the older version of spring for Project B?</p>\n"},{"tags":["java","javascript","webview","javafx"],"answers":[{"tags":[],"owner":{"account_id":468335,"reputation":6075,"user_id":874257,"display_name":"Josiah Hester"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1386045275,"creation_date":1386045275,"answer_id":20342947,"question_id":20342738,"body_markdown":"You have to set Javascript disabled on the [`WebEngine`](http://docs.oracle.com/javafx/2/api/javafx/scene/web/WebEngine.html#setJavaScriptEnabled(boolean)) itself that the WebView controls.\r\n\r\n    WebView browser = new WebView();\r\n    WebEngine webEngine = browser.getEngine();\r\n    webEngine.setJavaScriptEnabled(false);\r\n","title":"Disable JavaScript from running in JavaFX WebView","body":"<p>You have to set Javascript disabled on the <a href=\"http://docs.oracle.com/javafx/2/api/javafx/scene/web/WebEngine.html#setJavaScriptEnabled(boolean)\" rel=\"noreferrer\"><code>WebEngine</code></a> itself that the WebView controls.</p>\n\n<pre><code>WebView browser = new WebView();\nWebEngine webEngine = browser.getEngine();\nwebEngine.setJavaScriptEnabled(false);\n</code></pre>\n"}],"owner":{"account_id":1181689,"reputation":312,"user_id":1156493,"accept_rate":43,"display_name":"Dinesh Ravichandran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3241,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":20342947,"answer_count":1,"score":6,"last_activity_date":1685519331,"creation_date":1386043899,"question_id":20342738,"body_markdown":"I would like to know if JavaScript can be disabled in `WebView` of JavaFX. I have searched the web but cant get any information about this.\r\n\r\nThe link in [Oracle](http://docs.oracle.com/javafx/2/webview/jfxpub-webview.htm) website says that JavaScript can be enabled and disabled but can&#39;t find any documentation.","title":"Disable JavaScript from running in JavaFX WebView","body":"<p>I would like to know if JavaScript can be disabled in <code>WebView</code> of JavaFX. I have searched the web but cant get any information about this.</p>\n<p>The link in <a href=\"http://docs.oracle.com/javafx/2/webview/jfxpub-webview.htm\" rel=\"nofollow noreferrer\">Oracle</a> website says that JavaScript can be enabled and disabled but can't find any documentation.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1685179884,"post_id":76344811,"comment_id":134627732,"body_markdown":"*&quot;but surely there is a better way to express this, right?&quot;* This is a very subjective question without a clear goal, so I doubt it&#39;s possible to answer this. *&quot;Also, can this be expressed as a multiset query&quot;* of course it can. *&quot;I know it would most likely be an overkill here&quot;* no, why would it be? *&quot;but I&#39;m still curious how that would look like, because I could not get it right.&quot;* what have you tried? Why did it fail?","body":"<i>&quot;but surely there is a better way to express this, right?&quot;</i> This is a very subjective question without a clear goal, so I doubt it&#39;s possible to answer this. <i>&quot;Also, can this be expressed as a multiset query&quot;</i> of course it can. <i>&quot;I know it would most likely be an overkill here&quot;</i> no, why would it be? <i>&quot;but I&#39;m still curious how that would look like, because I could not get it right.&quot;</i> what have you tried? Why did it fail?"},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1685203474,"post_id":76344811,"comment_id":134630352,"body_markdown":"1. I&#39;ll rephrase it then: is the nested `mapping` the obvious way to handle this? 2. Can be expressed just as concisely with simpler constructs (as I have already done). 3. I&#39;ll update the question with an example of what I tried, but I could not figure out how to express it, the generics just never lined up.","body":"1. I&#39;ll rephrase it then: is the nested <code>mapping</code> the obvious way to handle this? 2. Can be expressed just as concisely with simpler constructs (as I have already done). 3. I&#39;ll update the question with an example of what I tried, but I could not figure out how to express it, the generics just never lined up."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1685350928,"post_id":76344811,"comment_id":134643923,"body_markdown":"OK I think I get it now. I mean, `mapping()` is just a convenience utility to turn a `Record[N]` type into a `Function[N]` higher order function in a type safe way. it was introduced to make type safe `Book::new` constructor reference expressions available. But it isn&#39;t strictly necessary, there are many ways to do the same thing. I&#39;m still not clear what would constitute &quot;better&quot; (which is very subjective), so I still think this is a hard to answer question, but I can try? If my answer isn&#39;t &quot;better&quot;, then maybe a clear specification of what constitutes &quot;good&quot; and &quot;bad&quot; for you could help.","body":"OK I think I get it now. I mean, <code>mapping()</code> is just a convenience utility to turn a <code>Record[N]</code> type into a <code>Function[N]</code> higher order function in a type safe way. it was introduced to make type safe <code>Book::new</code> constructor reference expressions available. But it isn&#39;t strictly necessary, there are many ways to do the same thing. I&#39;m still not clear what would constitute &quot;better&quot; (which is very subjective), so I still think this is a hard to answer question, but I can try? If my answer isn&#39;t &quot;better&quot;, then maybe a clear specification of what constitutes &quot;good&quot; and &quot;bad&quot; for you could help."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1685351467,"post_id":76344811,"comment_id":134643995,"body_markdown":"Regarding the `MULTISET` part, I&#39;m happy to answer a new question about this, if you can show what you tried, so I can explain why that might not have worked.","body":"Regarding the <code>MULTISET</code> part, I&#39;m happy to answer a new question about this, if you can show what you tried, so I can explain why that might not have worked."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685351292,"creation_date":1685350660,"answer_id":76355938,"question_id":76344811,"body_markdown":"You can do this, probably?\r\n\r\n```java\r\n.fetchGroups(\r\n    BOOK_AUTHOR.AUTHOR_ID,\r\n    r -&gt; r.value2().into(Book.class)\r\n);\r\n```\r\n\r\nOr this:\r\n\r\n\r\n```java\r\n.fetchGroups(\r\n    r -&gt; r.value1(),\r\n    r -&gt; r.value2().into(Book.class)\r\n);\r\n```\r\n\r\nThis uses reflection (in the [`DefaultRecordMapper`][1]) to map the book columns of the nested `BOOK_AUTHOR.book()` record into the `Book` POJO. If you enabled the `&lt;recordsImplementingRecordN/&gt;` flag in your code generator, you could do this, in the query:\r\n\r\n```java\r\nBOOK_AUTHOR.book().mapping(Book::new)\r\n```\r\n\r\nThere are maybe other ways to &quot;improve&quot; things, though as I said in the comments, this appears to be subjective. Or maybe, you&#39;re looking for a *specific* operator that could be added to the jOOQ API? [You could request it here][2].\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\r\n  [2]: https://github.com/jOOQ/jOOQ/issues/new/choose","title":"Fetch POJOs grouped by an external field in JOOQ","body":"<p>You can do this, probably?</p>\n<pre class=\"lang-java prettyprint-override\"><code>.fetchGroups(\n    BOOK_AUTHOR.AUTHOR_ID,\n    r -&gt; r.value2().into(Book.class)\n);\n</code></pre>\n<p>Or this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.fetchGroups(\n    r -&gt; r.value1(),\n    r -&gt; r.value2().into(Book.class)\n);\n</code></pre>\n<p>This uses reflection (in the <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\" rel=\"nofollow noreferrer\"><code>DefaultRecordMapper</code></a>) to map the book columns of the nested <code>BOOK_AUTHOR.book()</code> record into the <code>Book</code> POJO. If you enabled the <code>&lt;recordsImplementingRecordN/&gt;</code> flag in your code generator, you could do this, in the query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BOOK_AUTHOR.book().mapping(Book::new)\n</code></pre>\n<p>There are maybe other ways to &quot;improve&quot; things, though as I said in the comments, this appears to be subjective. Or maybe, you're looking for a <em>specific</em> operator that could be added to the jOOQ API? <a href=\"https://github.com/jOOQ/jOOQ/issues/new/choose\" rel=\"nofollow noreferrer\">You could request it here</a>.</p>\n"}],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76355938,"answer_count":1,"score":1,"last_activity_date":1685519185,"creation_date":1685145622,"question_id":76344811,"body_markdown":"Take the usual example of the `book` and `author` tables in a many-to-many (`book_author`) relationship.\r\n\r\nI currently have this and it works:\r\n\r\n    Map&lt;UUID, List&lt;Book&gt;&gt; booksByAuthorId = dsl\r\n        .select(BOOK_AUTHOR.AUTHOR_ID, BOOK_AUTHOR.book())\r\n        .from(BOOK_AUTHOR)\r\n        .where(BOOK_AUTHOR.AUTHOR_ID.in(authorIds))\r\n        .fetchGroups(\r\n            BOOK_AUTHOR.AUTHOR_ID,\r\n            mapping((a, bookRecord) -&gt; mapping(Book::new).apply(bookRecord)));\r\n       \r\n\r\nbut the nested `mapping` makes me feel I&#39;m doing something wrong. Is that really the most obvious approach?","title":"Fetch POJOs grouped by an external field in JOOQ","body":"<p>Take the usual example of the <code>book</code> and <code>author</code> tables in a many-to-many (<code>book_author</code>) relationship.</p>\n<p>I currently have this and it works:</p>\n<pre><code>Map&lt;UUID, List&lt;Book&gt;&gt; booksByAuthorId = dsl\n    .select(BOOK_AUTHOR.AUTHOR_ID, BOOK_AUTHOR.book())\n    .from(BOOK_AUTHOR)\n    .where(BOOK_AUTHOR.AUTHOR_ID.in(authorIds))\n    .fetchGroups(\n        BOOK_AUTHOR.AUTHOR_ID,\n        mapping((a, bookRecord) -&gt; mapping(Book::new).apply(bookRecord)));\n   \n</code></pre>\n<p>but the nested <code>mapping</code> makes me feel I'm doing something wrong. Is that really the most obvious approach?</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1685512482,"post_id":76370506,"comment_id":134668580,"body_markdown":"Side note: You are assigning the same value (`valueControl`) to `valueZero` in both branches of the *if* condition. Re-think on what you want to return when `valueControl` is lesser than 0 and when it is greater than 0. If you want to return the same, then you can rewrite the *if* to compare against 0 (`== 0`).","body":"Side note: You are assigning the same value (<code>valueControl</code>) to <code>valueZero</code> in both branches of the <i>if</i> condition. Re-think on what you want to return when <code>valueControl</code> is lesser than 0 and when it is greater than 0. If you want to return the same, then you can rewrite the <i>if</i> to compare against 0 (<code>== 0</code>)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685514695,"post_id":76370506,"comment_id":134668889,"body_markdown":"Regarding your `(0)`, be careful to not pass a `float`/`double` to the constructor of `BigDecimal` if your goal is accuracy. Those floating-point types trade away accurate for speed of execution. So pass decimal numbers as strings to the constructor.","body":"Regarding your <code>(0)</code>, be careful to not pass a <code>float</code>/<code>double</code> to the constructor of <code>BigDecimal</code> if your goal is accuracy. Those floating-point types trade away accurate for speed of execution. So pass decimal numbers as strings to the constructor."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1685519641,"post_id":76370506,"comment_id":134669858,"body_markdown":"Your conditions are useless, for example, `private BigDecimal validateValue(BigDecimal valueControl) {\n    return valueControl;\n}` return the same result of your code","body":"Your conditions are useless, for example, <code>private BigDecimal validateValue(BigDecimal valueControl) {     return valueControl; }</code> return the same result of your code"}],"answers":[{"tags":[],"owner":{"account_id":23594916,"reputation":109,"user_id":17632159,"display_name":"roksui"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685514517,"creation_date":1685512332,"answer_id":76370534,"question_id":76370506,"body_markdown":"You need to initialize your local variable `valueZero`. \r\n\r\nYou can do so using the constant, [`BigDecimal.ZERO`][1].\r\n\r\n    BigDecimal valueZero = BigDecimal.ZERO;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#ZERO","title":"How do i give a BigDecimal variable a value in a method?","body":"<p>You need to initialize your local variable <code>valueZero</code>.</p>\n<p>You can do so using the constant, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#ZERO\" rel=\"nofollow noreferrer\"><code>BigDecimal.ZERO</code></a>.</p>\n<pre><code>BigDecimal valueZero = BigDecimal.ZERO;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685512555,"creation_date":1685512555,"answer_id":76370549,"question_id":76370506,"body_markdown":"     private BigDecimal validateValue(BigDecimal valueControl){\r\n        BigDecimal valueZero = new BigDecimal(&quot;0&quot;); \r\n        if(valueControl.compareTo(valueZero) &gt; 0){\r\n          valueZero = valueControl;\r\n        } else if(valueControl.compareTo(valueZero) &lt; 0) {\r\n          valueZero = valueControl;\r\n        } return valueZero;\r\n       }\r\n\r\nYou need to instantiate your variable valueZero using the &quot;new&quot; keyword since you&#39;re not using a primitive type otherwise java can&#39;t know what is valueZero, ence your error message\r\n\r\n\r\n","title":"How do i give a BigDecimal variable a value in a method?","body":"<pre><code> private BigDecimal validateValue(BigDecimal valueControl){\n    BigDecimal valueZero = new BigDecimal(&quot;0&quot;); \n    if(valueControl.compareTo(valueZero) &gt; 0){\n      valueZero = valueControl;\n    } else if(valueControl.compareTo(valueZero) &lt; 0) {\n      valueZero = valueControl;\n    } return valueZero;\n   }\n</code></pre>\n<p>You need to instantiate your variable valueZero using the &quot;new&quot; keyword since you're not using a primitive type otherwise java can't know what is valueZero, ence your error message</p>\n"}],"owner":{"account_id":28703750,"reputation":13,"user_id":21980468,"display_name":"MasterSteve"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685519137,"creation_date":1685512037,"question_id":76370506,"body_markdown":"Like the title says im trying to give the BigDecimal Variable a value of zero &quot;(0)&quot; or any other number in a method. I know that local variables in a method dont have a default value unlike a member variable.  But how do i do it? I&#39;m new to java. \r\n\r\nThanks in advance! \r\n\r\n\r\n\r\n\r\n\r\n```\r\n  private BigDecimal validateValue(BigDecimal valueControl){\r\n    BigDecimal valueZero(0); // here i&#39;m having my issue. \r\n    if(valueControl.compareTo(valueZero) &gt; 0){\r\n      valueZero = valueControl;\r\n    } else if(valueControl.compareTo(valueZero) &lt; 0) {\r\n      valueZero = valueControl;\r\n    } return valueZero;\r\n   }\r\n```\r\nProblems:\r\n\r\n&gt; &#39;;&#39; expected\r\n&gt; Variable &#39;valueZero&#39; might not have been initialized","title":"How do i give a BigDecimal variable a value in a method?","body":"<p>Like the title says im trying to give the BigDecimal Variable a value of zero &quot;(0)&quot; or any other number in a method. I know that local variables in a method dont have a default value unlike a member variable.  But how do i do it? I'm new to java.</p>\n<p>Thanks in advance!</p>\n<pre><code>  private BigDecimal validateValue(BigDecimal valueControl){\n    BigDecimal valueZero(0); // here i'm having my issue. \n    if(valueControl.compareTo(valueZero) &gt; 0){\n      valueZero = valueControl;\n    } else if(valueControl.compareTo(valueZero) &lt; 0) {\n      valueZero = valueControl;\n    } return valueZero;\n   }\n</code></pre>\n<p>Problems:</p>\n<blockquote>\n<p>';' expected\nVariable 'valueZero' might not have been initialized</p>\n</blockquote>\n"},{"tags":["java","micronaut","micronaut-client","micronaut-rest"],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685518678,"creation_date":1685448337,"question_id":76364640,"body_markdown":"From the API gateway using the micronaut declarative HTTP client as below\r\n\r\n    @Client(id=&quot;fetebirdProductApi&quot;, path = &quot;/tag&quot;)\r\n    public interface ITagClient extends ITagOperation {\r\n    }\r\n\r\nIn one of the micro-service, there is a validation error on the controller and it is throwing a BAD Request with a message in the body as below\r\n\r\n    @Override\r\n    public Mono&lt;MutableHttpResponse&lt;?&gt;&gt; post(@Valid TagDto model) {\r\n        LOG.info(&quot;Creating a new tag&quot;);\r\n        return _iServiceBus.&lt;TagCreateCommand, Mono&lt;Result&lt;TagDto&gt;&gt;&gt;send(new TagCreateCommand(model)).flatMap(item -&gt; {\r\n                    if (Result.isSuccess.get()) {\r\n                        try {\r\n                            return Mono.just(HttpResponse.created(item.value(), new URI(String.format(&quot;/%s&quot;, item.value().id()))));\r\n                        } catch (URISyntaxException e) {\r\n                            return Mono.error(new GlobalException(e));\r\n                        }\r\n                    } else\r\n                        return Mono.just(HttpResponse.badRequest(item.exception().getMessage()));\r\n                }\r\n        );\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the API Gateway I am handling the HTTP response as below, it does catch the HTTP Bad Request, however the message is not be mapped \r\n\r\n    @Singleton\r\n    public class ClientResponseExceptionHandler implements ExceptionHandler&lt;HttpClientResponseException, MutableHttpResponse&lt;?&gt;&gt;{\r\n        private static final Logger LOG = LoggerFactory.getLogger(ClientResponseExceptionHandler.class);\r\n    \r\n        @Override\r\n        public MutableHttpResponse&lt;?&gt; handle(HttpRequest request, HttpClientResponseException exception) {\r\n            final HttpResponse&lt;?&gt; response = exception.getResponse();\r\n            if (response.status().getCode() &lt; 500) {\r\n                final JsonError error = new JsonError(exception.getMessage());\r\n                error.link(Link.SELF, request.getPath());\r\n                return HttpResponse.status(\r\n                        response.status(),\r\n                        response.reason()\r\n                ).body(error);\r\n            } else {\r\n                if (LOG.isErrorEnabled()) {\r\n                    LOG.error(&quot;Service responded with error &quot; + exception.getMessage(), exception);\r\n                }\r\n                final JsonError error = new JsonError(&quot;API currently unavailable due to error&quot;);\r\n                error.link(Link.SELF, request.getPath());\r\n                return HttpResponse.serverError(error);\r\n            }\r\n        }\r\n    }\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pV2U7.png\r\n  [2]: https://i.stack.imgur.com/DRRgQ.png","title":"ExceptionHandler not mapping the body message of the exception in micronaut","body":"<p>From the API gateway using the micronaut declarative HTTP client as below</p>\n<pre><code>@Client(id=&quot;fetebirdProductApi&quot;, path = &quot;/tag&quot;)\npublic interface ITagClient extends ITagOperation {\n}\n</code></pre>\n<p>In one of the micro-service, there is a validation error on the controller and it is throwing a BAD Request with a message in the body as below</p>\n<pre><code>@Override\npublic Mono&lt;MutableHttpResponse&lt;?&gt;&gt; post(@Valid TagDto model) {\n    LOG.info(&quot;Creating a new tag&quot;);\n    return _iServiceBus.&lt;TagCreateCommand, Mono&lt;Result&lt;TagDto&gt;&gt;&gt;send(new TagCreateCommand(model)).flatMap(item -&gt; {\n                if (Result.isSuccess.get()) {\n                    try {\n                        return Mono.just(HttpResponse.created(item.value(), new URI(String.format(&quot;/%s&quot;, item.value().id()))));\n                    } catch (URISyntaxException e) {\n                        return Mono.error(new GlobalException(e));\n                    }\n                } else\n                    return Mono.just(HttpResponse.badRequest(item.exception().getMessage()));\n            }\n    );\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/pV2U7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pV2U7.png\" alt=\"enter image description here\" /></a></p>\n<p>In the API Gateway I am handling the HTTP response as below, it does catch the HTTP Bad Request, however the message is not be mapped</p>\n<pre><code>@Singleton\npublic class ClientResponseExceptionHandler implements ExceptionHandler&lt;HttpClientResponseException, MutableHttpResponse&lt;?&gt;&gt;{\n    private static final Logger LOG = LoggerFactory.getLogger(ClientResponseExceptionHandler.class);\n\n    @Override\n    public MutableHttpResponse&lt;?&gt; handle(HttpRequest request, HttpClientResponseException exception) {\n        final HttpResponse&lt;?&gt; response = exception.getResponse();\n        if (response.status().getCode() &lt; 500) {\n            final JsonError error = new JsonError(exception.getMessage());\n            error.link(Link.SELF, request.getPath());\n            return HttpResponse.status(\n                    response.status(),\n                    response.reason()\n            ).body(error);\n        } else {\n            if (LOG.isErrorEnabled()) {\n                LOG.error(&quot;Service responded with error &quot; + exception.getMessage(), exception);\n            }\n            final JsonError error = new JsonError(&quot;API currently unavailable due to error&quot;);\n            error.link(Link.SELF, request.getPath());\n            return HttpResponse.serverError(error);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DRRgQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRRgQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","file","sdk","external"],"comments":[{"owner":{"account_id":19819037,"reputation":868,"user_id":14516046,"display_name":"Andrey Bienkowski"},"score":0,"creation_date":1685606690,"post_id":76371151,"comment_id":134684387,"body_markdown":"1. Which line of code throws the exception? 2. Please provide a [mcve]. In particular: there is more work you can do on your end to reduce the example - make it more minimal - does a function that creates a new File object with a hardcoded path in an existing directory and calls file.createNewFile() produce the same error?","body":"1. Which line of code throws the exception? 2. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In particular: there is more work you can do on your end to reduce the example - make it more minimal - does a function that creates a new File object with a hardcoded path in an existing directory and calls file.createNewFile() produce the same error?"}],"owner":{"account_id":23228993,"reputation":1,"user_id":20699566,"display_name":"Văn Mạnh Trịnh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685518531,"creation_date":1685518531,"question_id":76371151,"body_markdown":"I&#39;m facing the problem of writing files to Android external storage here is my code:\r\n\r\n    public static File createFile(File path, String fileName) {\r\n        Timber.d(&quot;%s%s&quot;, path.getAbsolutePath(), fileName);\r\n\t\tif (path != null) {\r\n\t\t\tcreateDir(path);\r\n\t\t\tLog.d(LOG_TAG, &quot;createFile path = &quot; + path.getAbsolutePath() + &quot; fileName = &quot; + fileName);\r\n\t\t\tFile file = new File(path, fileName);\r\n\t\t\tif (!file.exists()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (file.createNewFile()) {\r\n\t\t\t\t\t\tLog.i(LOG_TAG, &quot;The file was successfully created! - &quot; + file.getAbsolutePath());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tLog.i(LOG_TAG, &quot;The file exist! - &quot; + file.getAbsolutePath());\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tLog.e(LOG_TAG, &quot;Failed to create the file.&quot;, e);\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.e(LOG_TAG, &quot;File already exists!! Please rename file!&quot;);\r\n\t\t\t\tLog.i(LOG_TAG, &quot;Renaming file&quot;);\r\n\t\t\t\treturn createFile(path, &quot;1&quot; + fileName);\r\n\t\t\t}\r\n\t\t\tif (!file.canWrite()) {\r\n\t\t\t\tLog.e(LOG_TAG, &quot;The file can not be written.&quot;);\r\n\t\t\t}\r\n\t\t\treturn file;\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static File createDir(File dir) {\r\n\t\tif (dir != null) {\r\n\t\t\tif (!dir.exists()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (dir.mkdirs()) {\r\n\t\t\t\t\t\tLog.d(LOG_TAG, &quot;Dirs are successfully created&quot;);\r\n\t\t\t\t\t\treturn dir;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tLog.e(LOG_TAG, &quot;Dirs are NOT created! Please check permission write to external storage!&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tTimber.e(e);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLog.d(LOG_TAG, &quot;Dir already exists&quot;);\r\n\t\t\t\treturn dir;\r\n\t\t\t}\r\n\t\t}\r\n\t\tLog.e(LOG_TAG, &quot;File is null or unable to create dirs&quot;);\r\n\t\treturn null;\r\n\t}\r\n\r\nthis is my Manifest:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;32&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n\r\nI granted permission and added *android:requestLegacyExternalStorage=&quot;true&quot;* \r\ni have learned many different ways, i tried on android API &lt; 29, it works fine, however i tried with API 32 i got the above error, hope anyone can help, thank you","title":"java.lang.RuntimeException: java.io.IOException: Operation not permitted","body":"<p>I'm facing the problem of writing files to Android external storage here is my code:</p>\n<pre><code>public static File createFile(File path, String fileName) {\n    Timber.d(&quot;%s%s&quot;, path.getAbsolutePath(), fileName);\n    if (path != null) {\n        createDir(path);\n        Log.d(LOG_TAG, &quot;createFile path = &quot; + path.getAbsolutePath() + &quot; fileName = &quot; + fileName);\n        File file = new File(path, fileName);\n        if (!file.exists()) {\n            try {\n                if (file.createNewFile()) {\n                    Log.i(LOG_TAG, &quot;The file was successfully created! - &quot; + file.getAbsolutePath());\n                } else {\n                    Log.i(LOG_TAG, &quot;The file exist! - &quot; + file.getAbsolutePath());\n                }\n            } catch (IOException e) {\n                Log.e(LOG_TAG, &quot;Failed to create the file.&quot;, e);\n                return null;\n            }\n        } else {\n            Log.e(LOG_TAG, &quot;File already exists!! Please rename file!&quot;);\n            Log.i(LOG_TAG, &quot;Renaming file&quot;);\n            return createFile(path, &quot;1&quot; + fileName);\n        }\n        if (!file.canWrite()) {\n            Log.e(LOG_TAG, &quot;The file can not be written.&quot;);\n        }\n        return file;\n    } else {\n        return null;\n    }\n}\n\npublic static File createDir(File dir) {\n    if (dir != null) {\n        if (!dir.exists()) {\n            try {\n                if (dir.mkdirs()) {\n                    Log.d(LOG_TAG, &quot;Dirs are successfully created&quot;);\n                    return dir;\n                } else {\n                    Log.e(LOG_TAG, &quot;Dirs are NOT created! Please check permission write to external storage!&quot;);\n                }\n            } catch (Exception e) {\n                Timber.e(e);\n            }\n        } else {\n            Log.d(LOG_TAG, &quot;Dir already exists&quot;);\n            return dir;\n        }\n    }\n    Log.e(LOG_TAG, &quot;File is null or unable to create dirs&quot;);\n    return null;\n}\n</code></pre>\n<p>this is my Manifest:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n    android:maxSdkVersion=&quot;32&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n<p>I granted permission and added <em>android:requestLegacyExternalStorage=&quot;true&quot;</em>\ni have learned many different ways, i tried on android API &lt; 29, it works fine, however i tried with API 32 i got the above error, hope anyone can help, thank you</p>\n"},{"tags":["java","datetime","jackson","objectmapper"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676696848,"post_id":75484340,"comment_id":133194272,"body_markdown":"You are probably wrong. In your Java program you neither want epoch milliseconds nor a formatted date string. Just like you use `int` for a whole number and not a string, you want to use `ZonedDateTime` or `Instant` for your date and time. You only want to format it into a string when presenting it to your user in your UI.","body":"You are probably wrong. In your Java program you neither want epoch milliseconds nor a formatted date string. Just like you use <code>int</code> for a whole number and not a string, you want to use <code>ZonedDateTime</code> or <code>Instant</code> for your date and time. You only want to format it into a string when presenting it to your user in your UI."},{"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"score":0,"creation_date":1676712534,"post_id":75484340,"comment_id":133195752,"body_markdown":"@OleV.V. this POJO is being used for precisely that sir. it belongs to a service which is a _bridge_ and upstream is _dumb_ by design. hence it does all the parsing and downstream is not in my control! :)","body":"@OleV.V. this POJO is being used for precisely that sir. it belongs to a service which is a <i>bridge</i> and upstream is <i>dumb</i> by design. hence it does all the parsing and downstream is not in my control! :)"}],"answers":[{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685518517,"creation_date":1676638335,"answer_id":75484561,"question_id":75484340,"body_markdown":"You&#39;re almost doing it right. However having a `@JsonFormat`-Annotation on a `String` field does not make to much sense, because if it already is String, there is nothing to convert for Jackson anymore. You can just make both fields of type `Date` and the `@JsonFormat` annotation on the `formattedDate` field will serialize it into the proper JSON String representation, exactly in the format you specified in the `pattern`. Jackson will by default serialize all `java.util.Date` Object of an object it needs to serialize into the epoch milliseconds as a regular JSON number. So this would work for you. However, as both fields in the final JSON will refer to the exact same Date object it feels weird to have them both as fields of the `CalendarData` object. I would suggest you just give `CalendarData` a single field `date` and then create a getter method for the `formattedDate` field. Here is what this could look like. By default Jackson will pick up all  getter functions and serialize their returned data into the generated json object.\r\n\r\n    @Data\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CalendarData {\r\n    \r\n        CalendarData(final Date date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd/MM/yyyy HH:mm:ss&quot;)\r\n        private Date getFormattedDate(){\r\n            return this.date;\r\n        };\r\n    \r\n        private Date date;\r\n    }\r\n\r\n**UPDATE**\r\nAs you updated your question I also want to update my answer. I recommend to you the following (analogous to what I already explained above).\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class CalendarData {\r\n    \r\n        private Date date;\r\n        private String errorCode;\r\n        private String subErrorCode;\r\n    \r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd/MM/yyyy HH:mm:ss&quot;)\r\n        // field to contain formatted date as per clients requirement - shud be mirror of &quot;date&quot;\r\n        private Date getFormattedDate(){\r\n            return this.date;\r\n        };\r\n    }\r\n\r\n **Then in my main I tried it out**\r\n    \r\n    public static void main(String[] args) throws JsonProcessingException {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n    \r\n            CalendarData data  = CalendarData.builder()\r\n                    .errorCode(&quot;23&quot;)\r\n                    .subErrorCode(&quot;42&quot;)\r\n                    .date(new Date())\r\n                    .build();\r\n    \r\n            System.out.println(mapper.writeValueAsString(data));\r\n        }\r\n\r\nWhich perfectly prints out\r\n\r\n    {\r\n        &quot;date&quot;: 1676642216673,\r\n        &quot;errorCode&quot;: &quot;23&quot;,\r\n        &quot;subErrorCode&quot;: &quot;42&quot;,\r\n        &quot;formattedDate&quot;: &quot;17/02/2023 13:56:56&quot;\r\n    }","title":"Populating custom field through jackson","body":"<p>You're almost doing it right. However having a <code>@JsonFormat</code>-Annotation on a <code>String</code> field does not make to much sense, because if it already is String, there is nothing to convert for Jackson anymore. You can just make both fields of type <code>Date</code> and the <code>@JsonFormat</code> annotation on the <code>formattedDate</code> field will serialize it into the proper JSON String representation, exactly in the format you specified in the <code>pattern</code>. Jackson will by default serialize all <code>java.util.Date</code> Object of an object it needs to serialize into the epoch milliseconds as a regular JSON number. So this would work for you. However, as both fields in the final JSON will refer to the exact same Date object it feels weird to have them both as fields of the <code>CalendarData</code> object. I would suggest you just give <code>CalendarData</code> a single field <code>date</code> and then create a getter method for the <code>formattedDate</code> field. Here is what this could look like. By default Jackson will pick up all  getter functions and serialize their returned data into the generated json object.</p>\n<pre><code>@Data\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CalendarData {\n\n    CalendarData(final Date date) {\n        this.date = date;\n    }\n\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd/MM/yyyy HH:mm:ss&quot;)\n    private Date getFormattedDate(){\n        return this.date;\n    };\n\n    private Date date;\n}\n</code></pre>\n<p><strong>UPDATE</strong>\nAs you updated your question I also want to update my answer. I recommend to you the following (analogous to what I already explained above).</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CalendarData {\n\n    private Date date;\n    private String errorCode;\n    private String subErrorCode;\n\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd/MM/yyyy HH:mm:ss&quot;)\n    // field to contain formatted date as per clients requirement - shud be mirror of &quot;date&quot;\n    private Date getFormattedDate(){\n        return this.date;\n    };\n}\n</code></pre>\n<p><strong>Then in my main I tried it out</strong></p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n\n        CalendarData data  = CalendarData.builder()\n                .errorCode(&quot;23&quot;)\n                .subErrorCode(&quot;42&quot;)\n                .date(new Date())\n                .build();\n\n        System.out.println(mapper.writeValueAsString(data));\n    }\n</code></pre>\n<p>Which perfectly prints out</p>\n<pre><code>{\n    &quot;date&quot;: 1676642216673,\n    &quot;errorCode&quot;: &quot;23&quot;,\n    &quot;subErrorCode&quot;: &quot;42&quot;,\n    &quot;formattedDate&quot;: &quot;17/02/2023 13:56:56&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75484561,"answer_count":1,"score":0,"last_activity_date":1685518517,"creation_date":1676637137,"question_id":75484340,"body_markdown":"I have a POJO as below:\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class CalendarData {\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd/MM/yyyy HH:mm:ss&quot;)\r\n    // field to contain formatted date as per clients requirement - shud be mirror of &quot;date&quot;\r\n    private String formattedDate;\r\n    private long date;\r\n    private String errorCode;\r\n    private String subErrorCode;\r\n}\r\n```\r\n\r\nDownstream service is only sending `date` field as epoch and i want to have the `formattedDate` populated in run time in given format.\r\n\r\nI can always write a custom function to format the data, but want to understand is there any _native jackson way_ or _custom setter_ to do that.\r\n","title":"Populating custom field through jackson","body":"<p>I have a POJO as below:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class CalendarData {\n\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd/MM/yyyy HH:mm:ss&quot;)\n    // field to contain formatted date as per clients requirement - shud be mirror of &quot;date&quot;\n    private String formattedDate;\n    private long date;\n    private String errorCode;\n    private String subErrorCode;\n}\n</code></pre>\n<p>Downstream service is only sending <code>date</code> field as epoch and i want to have the <code>formattedDate</code> populated in run time in given format.</p>\n<p>I can always write a custom function to format the data, but want to understand is there any <em>native jackson way</em> or <em>custom setter</em> to do that.</p>\n"},{"tags":["java","spring","spring-boot","utf-8","character-encoding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685520345,"post_id":76371149,"comment_id":134670001,"body_markdown":"I don&#39;t know this API but it looks like it is receiving corrupt content. Check that content","body":"I don&#39;t know this API but it looks like it is receiving corrupt content. Check that content"},{"owner":{"account_id":14762104,"reputation":197,"user_id":10661133,"display_name":"shruti garg"},"score":0,"creation_date":1685526899,"post_id":76371149,"comment_id":134671420,"body_markdown":"content is fine and API works fine , but it is not accepting special characters like &#241;, &#193;,\n&#194;, &#196;, &#198;, &#199;, &#200;,&#201;","body":"content is fine and API works fine , but it is not accepting special characters like &#241;, &#193;, &#194;, &#196;, &#198;, &#199;, &#200;,&#201;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685528557,"post_id":76371149,"comment_id":134671750,"body_markdown":"Take the very first of the above characters *only*. What is the error message with `&#241;`?","body":"Take the very first of the above characters <i>only</i>. What is the error message with <code>&#241;</code>?"},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":1,"creation_date":1685539983,"post_id":76371149,"comment_id":134674402,"body_markdown":"As far I can read from the error, the API want UTF-8, but you are not giving it a valid UTF-8 string. So check and encode properly the string. -- PS: declaring UTF-8 in all places, doesn&#39;t make a string UTF-8. Check that your data is UTF-8","body":"As far I can read from the error, the API want UTF-8, but you are not giving it a valid UTF-8 string. So check and encode properly the string. -- PS: declaring UTF-8 in all places, doesn&#39;t make a string UTF-8. Check that your data is UTF-8"},{"owner":{"account_id":14762104,"reputation":197,"user_id":10661133,"display_name":"shruti garg"},"score":0,"creation_date":1685632527,"post_id":76371149,"comment_id":134690567,"body_markdown":"if it could relate to spring boot version, because I tried a new POC with spring boot version 2.2.6.RELEASE. It worked. It accepted the UTF-8 chars with out any property addittion.","body":"if it could relate to spring boot version, because I tried a new POC with spring boot version 2.2.6.RELEASE. It worked. It accepted the UTF-8 chars with out any property addittion."}],"owner":{"account_id":14762104,"reputation":197,"user_id":10661133,"display_name":"shruti garg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685518504,"creation_date":1685518504,"question_id":76371149,"body_markdown":"Rest controller is not accepting UTF-8 special characters in POST request body in spring boot. \r\nGiving below error:\r\n\r\n```JSON parse error: Invalid UTF-8 middle byte 0x6f; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Invalid UTF-8 middle byte 0x6f```\r\n\r\n\r\nI have added below mapping in my controller\r\n\r\n```\r\nconsumes = MediaType.APPLICATION_JSON_UTF8_VALUE\r\nproduces = MediaType.APPLICATION_JSON_UTF8_VALUE\r\n```\r\n\r\nIn header I have added below:\r\n```\r\napplication/json; Charset=utf-8\r\n```\r\n\r\nand in application.properties I have added below options as well\r\n```\r\nserver.servlet.encoding.charset=UTF-8\r\nserver.servlet.encoding.force-response=true\r\nserver.servlet.encoding.enabled=true\r\nserver.servlet.encoding.force-request=true\r\nspring.mandatory_file_encoding=UTF-8\r\n```\r\n\r\nbut did not work.\r\n```\r\nmy spring boot version = 2.1.3.RELEASE \r\nJava version = 1.8\r\n```\r\n\r\nI have added below property in POM.xml \r\n\r\n```&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;```\r\n\r\nIf any body could provide any solution:\r\n","title":"Rest controller is not accepting UTF-8 special characters in POST request body in spring boot","body":"<p>Rest controller is not accepting UTF-8 special characters in POST request body in spring boot.\nGiving below error:</p>\n<p><code>JSON parse error: Invalid UTF-8 middle byte 0x6f; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Invalid UTF-8 middle byte 0x6f</code></p>\n<p>I have added below mapping in my controller</p>\n<pre><code>consumes = MediaType.APPLICATION_JSON_UTF8_VALUE\nproduces = MediaType.APPLICATION_JSON_UTF8_VALUE\n</code></pre>\n<p>In header I have added below:</p>\n<pre><code>application/json; Charset=utf-8\n</code></pre>\n<p>and in application.properties I have added below options as well</p>\n<pre><code>server.servlet.encoding.charset=UTF-8\nserver.servlet.encoding.force-response=true\nserver.servlet.encoding.enabled=true\nserver.servlet.encoding.force-request=true\nspring.mandatory_file_encoding=UTF-8\n</code></pre>\n<p>but did not work.</p>\n<pre><code>my spring boot version = 2.1.3.RELEASE \nJava version = 1.8\n</code></pre>\n<p>I have added below property in POM.xml</p>\n<p><code>&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</code></p>\n<p>If any body could provide any solution:</p>\n"},{"tags":["java","executorservice","java.util.concurrent"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1685473599,"post_id":76367775,"comment_id":134664238,"body_markdown":"Are you really so sure the tasks completed? Given the problem occurs when you have larger numbers of longer tasks, I suspect the submitted tasks have not completed.  Example: 60 tasks at one hour each with a thread pool of 6 will take at least 10 hours, using all of your 5 hour wait.","body":"Are you really so sure the tasks completed? Given the problem occurs when you have larger numbers of longer tasks, I suspect the submitted tasks have not completed.  Example: 60 tasks at one hour each with a thread pool of 6 will take at least 10 hours, using all of your 5 hour wait."},{"owner":{"account_id":16764362,"reputation":23,"user_id":12118365,"display_name":"Елена Ковалинская"},"score":0,"creation_date":1685481503,"post_id":76367775,"comment_id":134665643,"body_markdown":"Thanks for your reply. Yes, I mean &quot;increase&quot;. I am absolutely sure that all the tasks are completed.  I determine this by the logs inside the tasks.  All tasks are completed in approximately 3 hours and 50 minutes.","body":"Thanks for your reply. Yes, I mean &quot;increase&quot;. I am absolutely sure that all the tasks are completed.  I determine this by the logs inside the tasks.  All tasks are completed in approximately 3 hours and 50 minutes."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685481648,"post_id":76367775,"comment_id":134665664,"body_markdown":"Check the threads if they are really all finished. Use a tool like VisualVM or on command line `jstack` to see the threads stack traces.","body":"Check the threads if they are really all finished. Use a tool like VisualVM or on command line <code>jstack</code> to see the threads stack traces."},{"owner":{"account_id":16764362,"reputation":23,"user_id":12118365,"display_name":"Елена Ковалинская"},"score":0,"creation_date":1685481789,"post_id":76367775,"comment_id":134665692,"body_markdown":"Anyway, if the tasks were interrupted by timeout, the code after awaitTermination would have been executed. Or am I still wrong?","body":"Anyway, if the tasks were interrupted by timeout, the code after awaitTermination would have been executed. Or am I still wrong?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685490759,"post_id":76367775,"comment_id":134666714,"body_markdown":"Also please clarify why the code after `pool.awaitTermination(5, TimeUnit.HOURS)` doesn’t execute: is it because `awaitTermination` throws or is it never returning? If you’re not sure, a thread dump will tell you that, too. Have you tested waiting the entire five hours?","body":"Also please clarify why the code after <code>pool.awaitTermination(5, TimeUnit.HOURS)</code> doesn’t execute: is it because <code>awaitTermination</code> throws or is it never returning? If you’re not sure, a thread dump will tell you that, too. Have you tested waiting the entire five hours?"},{"owner":{"account_id":16764362,"reputation":23,"user_id":12118365,"display_name":"Елена Ковалинская"},"score":0,"creation_date":1685517119,"post_id":76367775,"comment_id":134669335,"body_markdown":"Tim Moore, thank you for your answer. awaitTermination never retuns anything. I have tested waiting the entire 5 hours, but nothing happened. There was no any exception or awaitTermination result.","body":"Tim Moore, thank you for your answer. awaitTermination never retuns anything. I have tested waiting the entire 5 hours, but nothing happened. There was no any exception or awaitTermination result."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685513908,"creation_date":1685513555,"answer_id":76370624,"question_id":76367775,"body_markdown":"# Capture result of `awaitTermination`\r\n\r\nI suggest you do some debugging by recreating the scenario, as simply as possible. Add pieces to get closer to your current scenario.\r\n\r\nMost importantly, &#128073; track what is happening to your `awaitTermination`. Your code ignores its return value, a `boolean`. To quote [the Javadoc][1]:\r\n\r\n&gt;Returns: `true` if this executor terminated and `false` if the timeout elapsed before termination\r\n\r\nHere is some simplified code to begin with. \r\n\r\nBy the way, I recommend *not* using the term *pool* in regards to your executor service. An executor service may or may not involve a backing pool of threads. The point of the service is to let us ignore details of managing threads and thread pools. \r\n\r\n```java\r\nSystem.out.println ( &quot;Demo begins. &quot; + Instant.now ( ) );\r\nExecutorService executorService = Executors.newFixedThreadPool ( 6 );\r\n\r\nList &lt; Integer &gt; numbers = IntStream.rangeClosed ( 1 , 100 ).boxed ( ).toList ( );\r\nfor ( Integer number : numbers )\r\n{\r\n    executorService.submit ( ( ) -&gt;\r\n    {\r\n        Thread.currentThread ( ).setName ( &quot;Processing &quot; + number );\r\n        try\r\n        {\r\n            Thread.sleep ( Duration.ofMinutes ( 60 ) );\r\n        }\r\n        catch ( InterruptedException e )\r\n        {\r\n            System.out.println ( &quot;Sleep interrupted on thread: &quot; + Thread.currentThread ( ).getName ( ) );\r\n            return;\r\n        }\r\n        System.out.println ( &quot;Finished the run for # &quot; + number + &quot; on thread: &quot; + Thread.currentThread ( ).getName ( ) );\r\n    } );\r\n}\r\n\r\nexecutorService.shutdown ( );\r\ntry\r\n{\r\n    System.out.println ( &quot;Awaiting termination. &quot; + Instant.now ( ) );\r\n    boolean awaitTerminatedBeforeTimeLimit = executorService.awaitTermination ( 5 , TimeUnit.MINUTES );\r\n    System.out.println ( &quot;awaitTerminatedBeforeTimeLimit = &quot; + awaitTerminatedBeforeTimeLimit );\r\n}\r\ncatch ( InterruptedException e ) { e.printStackTrace ( ); }\r\nSystem.out.println ( &quot;Demo done. &quot; + Instant.now ( ) );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nDemo begins. 2023-05-30T23:20:47.255904Z\r\nAwaiting termination. 2023-05-30T23:20:47.263300Z\r\nawaitTerminatedBeforeTimeLimit = false\r\nDemo done. 2023-05-30T23:25:47.289905Z\r\n```\r\n\r\nNotice that `awaitTerminatedBeforeTimeLimit` is `false`. This means getting all our tasks done took more time than we allowed in our specified time limit passed to `awaitTermination`. \r\n\r\n## Improperly neglected shutdown of executor service\r\n\r\nAlso, very importantly, notice that the backing **thread pool of our executor service is still running** even though our app supposedly ended. \r\n\r\n- You can tell this in deployment because a Java process will still be running, unexpectedly. \r\n- Within in an IDE such as IntelliJ, you will see that the *Run* status of the app execution has not ceased. In IntelliJ that appears as red *Stop* button with the rounded square icon will still be active, still red, meaning the app has not entirely ended yet. \r\n\r\nTo avoid this zombie &#129503;‍♂️ thread pool, completely shut down your executor service.\r\n\r\nTo properly shutdown your executor service, see the boilerplate code given to you in the Javadoc of the [`ExecutorService`][2] interface. Look for the method named `shutdownAndAwaitTermination`. Here is my slightly modified version of that code.\r\n\r\n```java\r\nprivate void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTermination )\r\n{\r\n    executorService.shutdown ( ); // Disallow any more task submissions to this executor service.\r\n    try\r\n    {\r\n        // Wait a while for existing tasks to terminate.\r\n        if ( ! executorService.awaitTermination ( waitForTermination.toMillis ( ) , TimeUnit.MILLISECONDS ) )\r\n        {\r\n            executorService.shutdownNow ( ); // Cancel currently executing tasks\r\n            // Wait a while for tasks to respond to being cancelled.\r\n            if ( ! executorService.awaitTermination ( 60 , TimeUnit.SECONDS ) )\r\n                System.err.println ( &quot;Executor service did not terminate. &quot; + Instant.now ( ) );\r\n        }\r\n    }\r\n    catch ( InterruptedException ex )\r\n    {\r\n        // (Re-)Cancel if current thread also interrupted\r\n        executorService.shutdownNow ( );\r\n        // Preserve interrupt status\r\n        Thread.currentThread ( ).interrupt ( );\r\n    }\r\n}\r\n```\r\n\r\nLet&#39;s revise our code to call that method for graceful shutdown of the executor service.\r\n\r\n```java\r\nSystem.out.println ( &quot;Demo begins. &quot; + Instant.now ( ) );\r\nExecutorService executorService = Executors.newFixedThreadPool ( 6 );\r\n\r\nList &lt; Integer &gt; numbers = IntStream.rangeClosed ( 1 , 100 ).boxed ( ).toList ( );\r\nfor ( Integer number : numbers )\r\n{\r\n    executorService.submit ( ( ) -&gt;\r\n    {\r\n        Thread.currentThread ( ).setName ( &quot;Processing &quot; + number );\r\n        try\r\n        {\r\n            Thread.sleep ( Duration.ofMinutes ( 60 ) );\r\n        }\r\n        catch ( InterruptedException e )\r\n        {\r\n            System.out.println ( &quot;Sleep interrupted on thread: &quot; + Thread.currentThread ( ).getName ( ) );\r\n            return;\r\n        }\r\n        System.out.println ( &quot;Finished the run for # &quot; + number + &quot; on thread: &quot; + Thread.currentThread ( ).getName ( ) );\r\n    } );\r\n}\r\n\r\nthis.shutdownAndAwaitTermination ( executorService , Duration.ofMinutes ( 5 ) );\r\nSystem.out.println ( &quot;Demo done. &quot; + Instant.now ( ) );\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nDemo begins. 2023-05-31T05:46:17.163745Z\r\nSleep interrupted on thread: Processing 3\r\nSleep interrupted on thread: Processing 1\r\nSleep interrupted on thread: Processing 4\r\nSleep interrupted on thread: Processing 5\r\nSleep interrupted on thread: Processing 6\r\nSleep interrupted on thread: Processing 2\r\nDemo done. 2023-05-31T05:51:17.182036Z\r\n```\r\n\r\nWe have the same situation, where our running tasks need more time than we allow. But now, notice (a) our executing tasks were interrupted successfully, and (b) the app has truly ended. Be sure to write your own tasks so that they properly look for the interrupt flag.\r\n\r\n\r\n----------\r\n\r\n\r\nTip: If you are sure your tasks will finish within a day, in modern Java you can use try-with-resources syntax to take advantage of `ExecutorService` now being `AutoCloseable`. \r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\r\n  [5]: https://wiki.openjdk.org/display/loom/Main\r\n  [6]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ExecutorService.java","title":"java.util.concurrent.ExecutorService.awaitTermination() doesn&#39;t work as expected","body":"<h1>Capture result of <code>awaitTermination</code></h1>\n<p>I suggest you do some debugging by recreating the scenario, as simply as possible. Add pieces to get closer to your current scenario.</p>\n<p>Most importantly, 👉 track what is happening to your <code>awaitTermination</code>. Your code ignores its return value, a <code>boolean</code>. To quote <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html#awaitTermination(long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">the Javadoc</a>:</p>\n<blockquote>\n<p>Returns: <code>true</code> if this executor terminated and <code>false</code> if the timeout elapsed before termination</p>\n</blockquote>\n<p>Here is some simplified code to begin with.</p>\n<p>By the way, I recommend <em>not</em> using the term <em>pool</em> in regards to your executor service. An executor service may or may not involve a backing pool of threads. The point of the service is to let us ignore details of managing threads and thread pools.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println ( &quot;Demo begins. &quot; + Instant.now ( ) );\nExecutorService executorService = Executors.newFixedThreadPool ( 6 );\n\nList &lt; Integer &gt; numbers = IntStream.rangeClosed ( 1 , 100 ).boxed ( ).toList ( );\nfor ( Integer number : numbers )\n{\n    executorService.submit ( ( ) -&gt;\n    {\n        Thread.currentThread ( ).setName ( &quot;Processing &quot; + number );\n        try\n        {\n            Thread.sleep ( Duration.ofMinutes ( 60 ) );\n        }\n        catch ( InterruptedException e )\n        {\n            System.out.println ( &quot;Sleep interrupted on thread: &quot; + Thread.currentThread ( ).getName ( ) );\n            return;\n        }\n        System.out.println ( &quot;Finished the run for # &quot; + number + &quot; on thread: &quot; + Thread.currentThread ( ).getName ( ) );\n    } );\n}\n\nexecutorService.shutdown ( );\ntry\n{\n    System.out.println ( &quot;Awaiting termination. &quot; + Instant.now ( ) );\n    boolean awaitTerminatedBeforeTimeLimit = executorService.awaitTermination ( 5 , TimeUnit.MINUTES );\n    System.out.println ( &quot;awaitTerminatedBeforeTimeLimit = &quot; + awaitTerminatedBeforeTimeLimit );\n}\ncatch ( InterruptedException e ) { e.printStackTrace ( ); }\nSystem.out.println ( &quot;Demo done. &quot; + Instant.now ( ) );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Demo begins. 2023-05-30T23:20:47.255904Z\nAwaiting termination. 2023-05-30T23:20:47.263300Z\nawaitTerminatedBeforeTimeLimit = false\nDemo done. 2023-05-30T23:25:47.289905Z\n</code></pre>\n<p>Notice that <code>awaitTerminatedBeforeTimeLimit</code> is <code>false</code>. This means getting all our tasks done took more time than we allowed in our specified time limit passed to <code>awaitTermination</code>.</p>\n<h2>Improperly neglected shutdown of executor service</h2>\n<p>Also, very importantly, notice that the backing <strong>thread pool of our executor service is still running</strong> even though our app supposedly ended.</p>\n<ul>\n<li>You can tell this in deployment because a Java process will still be running, unexpectedly.</li>\n<li>Within in an IDE such as IntelliJ, you will see that the <em>Run</em> status of the app execution has not ceased. In IntelliJ that appears as red <em>Stop</em> button with the rounded square icon will still be active, still red, meaning the app has not entirely ended yet.</li>\n</ul>\n<p>To avoid this zombie 🧟‍♂️ thread pool, completely shut down your executor service.</p>\n<p>To properly shutdown your executor service, see the boilerplate code given to you in the Javadoc of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a> interface. Look for the method named <code>shutdownAndAwaitTermination</code>. Here is my slightly modified version of that code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void shutdownAndAwaitTermination ( final ExecutorService executorService , final Duration waitForTermination )\n{\n    executorService.shutdown ( ); // Disallow any more task submissions to this executor service.\n    try\n    {\n        // Wait a while for existing tasks to terminate.\n        if ( ! executorService.awaitTermination ( waitForTermination.toMillis ( ) , TimeUnit.MILLISECONDS ) )\n        {\n            executorService.shutdownNow ( ); // Cancel currently executing tasks\n            // Wait a while for tasks to respond to being cancelled.\n            if ( ! executorService.awaitTermination ( 60 , TimeUnit.SECONDS ) )\n                System.err.println ( &quot;Executor service did not terminate. &quot; + Instant.now ( ) );\n        }\n    }\n    catch ( InterruptedException ex )\n    {\n        // (Re-)Cancel if current thread also interrupted\n        executorService.shutdownNow ( );\n        // Preserve interrupt status\n        Thread.currentThread ( ).interrupt ( );\n    }\n}\n</code></pre>\n<p>Let's revise our code to call that method for graceful shutdown of the executor service.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println ( &quot;Demo begins. &quot; + Instant.now ( ) );\nExecutorService executorService = Executors.newFixedThreadPool ( 6 );\n\nList &lt; Integer &gt; numbers = IntStream.rangeClosed ( 1 , 100 ).boxed ( ).toList ( );\nfor ( Integer number : numbers )\n{\n    executorService.submit ( ( ) -&gt;\n    {\n        Thread.currentThread ( ).setName ( &quot;Processing &quot; + number );\n        try\n        {\n            Thread.sleep ( Duration.ofMinutes ( 60 ) );\n        }\n        catch ( InterruptedException e )\n        {\n            System.out.println ( &quot;Sleep interrupted on thread: &quot; + Thread.currentThread ( ).getName ( ) );\n            return;\n        }\n        System.out.println ( &quot;Finished the run for # &quot; + number + &quot; on thread: &quot; + Thread.currentThread ( ).getName ( ) );\n    } );\n}\n\nthis.shutdownAndAwaitTermination ( executorService , Duration.ofMinutes ( 5 ) );\nSystem.out.println ( &quot;Demo done. &quot; + Instant.now ( ) );\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Demo begins. 2023-05-31T05:46:17.163745Z\nSleep interrupted on thread: Processing 3\nSleep interrupted on thread: Processing 1\nSleep interrupted on thread: Processing 4\nSleep interrupted on thread: Processing 5\nSleep interrupted on thread: Processing 6\nSleep interrupted on thread: Processing 2\nDemo done. 2023-05-31T05:51:17.182036Z\n</code></pre>\n<p>We have the same situation, where our running tasks need more time than we allow. But now, notice (a) our executing tasks were interrupted successfully, and (b) the app has truly ended. Be sure to write your own tasks so that they properly look for the interrupt flag.</p>\n<hr />\n<p>Tip: If you are sure your tasks will finish within a day, in modern Java you can use try-with-resources syntax to take advantage of <code>ExecutorService</code> now being <code>AutoCloseable</code>.</p>\n"}],"owner":{"account_id":16764362,"reputation":23,"user_id":12118365,"display_name":"Елена Ковалинская"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685518301,"creation_date":1685472462,"question_id":76367775,"body_markdown":"I have a problem. The code that follows pool.awaitTermination() is not executed.\r\n\r\n```\r\n        ExecutorService pool = Executors.newFixedThreadPool(6);\r\n\r\n        for (HierarchyItem rootItem : rootObjectItems) {\r\n            pool.submit(() -&gt; {\r\n                final Thread currentThread = Thread.currentThread();\r\n                currentThread.setName(&quot;Processing &quot; + rootItem.getName());\r\n                try {\r\n                    addressObjectProcessor.handle(rootItem);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n        }\r\n\r\n        pool.shutdown();\r\n        try {\r\n            boolean poolTermination = pool.awaitTermination(5, TimeUnit.HOURS);\r\n            System.out.println(poolTermination);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        /// code after pool.awaitTermination. It&#39;s not executed\r\n         . . . . \r\n```\r\n\r\nI see in my logs, that all tasks are absolutely completed, but the code after ```pool.awaitTermination(5, TimeUnit.HOURS);``` doesnt execute. This problem appears when ```rootObjectItems``` size is 90. When the ```rootObjectItems``` size is 15, everything works fine, but when I increase ```rootObjectItems```, it looks like the main thread sleeps or stops running this method, and nothing happens even after timeout. Every task processing takes from 5 to 60 minutes. \r\n\r\n```pool.awaitTermination``` result is never printed to logs, and the InterruptedException is never thrown.\r\n\r\nI am new in concurrent, please, help me solve this problem. Many thanks in advance!","title":"java.util.concurrent.ExecutorService.awaitTermination() doesn&#39;t work as expected","body":"<p>I have a problem. The code that follows pool.awaitTermination() is not executed.</p>\n<pre><code>        ExecutorService pool = Executors.newFixedThreadPool(6);\n\n        for (HierarchyItem rootItem : rootObjectItems) {\n            pool.submit(() -&gt; {\n                final Thread currentThread = Thread.currentThread();\n                currentThread.setName(&quot;Processing &quot; + rootItem.getName());\n                try {\n                    addressObjectProcessor.handle(rootItem);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n        }\n\n        pool.shutdown();\n        try {\n            boolean poolTermination = pool.awaitTermination(5, TimeUnit.HOURS);\n            System.out.println(poolTermination);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        /// code after pool.awaitTermination. It's not executed\n         . . . . \n</code></pre>\n<p>I see in my logs, that all tasks are absolutely completed, but the code after <code>pool.awaitTermination(5, TimeUnit.HOURS);</code> doesnt execute. This problem appears when <code>rootObjectItems</code> size is 90. When the <code>rootObjectItems</code> size is 15, everything works fine, but when I increase <code>rootObjectItems</code>, it looks like the main thread sleeps or stops running this method, and nothing happens even after timeout. Every task processing takes from 5 to 60 minutes.</p>\n<p><code>pool.awaitTermination</code> result is never printed to logs, and the InterruptedException is never thrown.</p>\n<p>I am new in concurrent, please, help me solve this problem. Many thanks in advance!</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2379579,"reputation":2825,"user_id":2081889,"accept_rate":80,"display_name":"Taylor Hx"},"score":2,"creation_date":1385957911,"post_id":20320719,"comment_id":30325504,"body_markdown":"How do you define a sentence? Is it a string of characters ending with a punctuation mark, or do you have a stricter definition?","body":"How do you define a sentence? Is it a string of characters ending with a punctuation mark, or do you have a stricter definition?"},{"owner":{"account_id":2004971,"reputation":307,"user_id":1795126,"accept_rate":33,"display_name":"user1923"},"score":0,"creation_date":1385957958,"post_id":20320719,"comment_id":30325519,"body_markdown":"My sentence must start with either one or more whitespaces/tabs. (tabs and spaces can be bunched together before any non-whitespace phrase of characters appears). Each word after the first must be separated by a whitespace. And yes, the sentence must end with a punctuation.","body":"My sentence must start with either one or more whitespaces/tabs. (tabs and spaces can be bunched together before any non-whitespace phrase of characters appears). Each word after the first must be separated by a whitespace. And yes, the sentence must end with a punctuation."},{"owner":{"account_id":2367596,"reputation":14579,"user_id":2073001,"accept_rate":91,"display_name":"Steve P."},"score":1,"creation_date":1385958140,"post_id":20320719,"comment_id":30325574,"body_markdown":"@user1923 Your example sentence doesn&#39;t end in a period.","body":"@user1923 Your example sentence doesn&#39;t end in a period."},{"owner":{"account_id":2004971,"reputation":307,"user_id":1795126,"accept_rate":33,"display_name":"user1923"},"score":0,"creation_date":1385958210,"post_id":20320719,"comment_id":30325588,"body_markdown":"^ please look at the stricter definition i posed above.","body":"^ please look at the stricter definition i posed above."}],"answers":[{"tags":[],"owner":{"account_id":2379579,"reputation":2825,"user_id":2081889,"accept_rate":80,"display_name":"Taylor Hx"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1385958694,"creation_date":1385958239,"answer_id":20320820,"question_id":20320719,"body_markdown":"An example regex to match sentences by the definition: &quot;A sentence is a series of characters, starting with at lease one whitespace character, that ends in one of `.`, `!` or `?`&quot; is as follows:\r\n\r\n    \\s+[^.!?]*[.!?]\r\n\r\n![Regular expression visualization](https://www.debuggex.com/i/wLhujYNc2DYcbdSN.png)\r\n\r\nNote that newline characters will also be included in this match.","title":"Constructing regex pattern to match sentence","body":"<p>An example regex to match sentences by the definition: \"A sentence is a series of characters, starting with at lease one whitespace character, that ends in one of <code>.</code>, <code>!</code> or <code>?</code>\" is as follows:</p>\n\n<pre><code>\\s+[^.!?]*[.!?]\n</code></pre>\n\n<p><img src=\"https://www.debuggex.com/i/wLhujYNc2DYcbdSN.png\" alt=\"Regular expression visualization\"></p>\n\n<p>Note that newline characters will also be included in this match.</p>\n"},{"tags":[],"owner":{"account_id":2367596,"reputation":14579,"user_id":2073001,"accept_rate":91,"display_name":"Steve P."},"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1385958587,"creation_date":1385958255,"answer_id":20320828,"question_id":20320719,"body_markdown":"    String regex = &quot;^\\\\s+[A-Za-z,;&#39;\\&quot;\\\\s]+[.?!]$&quot;\r\n\r\n`^` means &quot;begins with&quot;&lt;br&gt;\r\n`\\\\s` means white space&lt;br&gt;\r\n`+` means 1 or more&lt;br&gt;\r\n`[A-Za-z,;&#39;&quot;\\\\s]` means any letter, `,`, `;`, `&#39;`, `&quot;`, or whitespace character&lt;br&gt;\r\n`$` means &quot;ends with&quot;&lt;br&gt;","title":"Constructing regex pattern to match sentence","body":"<pre><code>String regex = \"^\\\\s+[A-Za-z,;'\\\"\\\\s]+[.?!]$\"\n</code></pre>\n\n<p><code>^</code> means \"begins with\"<br>\n<code>\\\\s</code> means white space<br>\n<code>+</code> means 1 or more<br>\n<code>[A-Za-z,;'\"\\\\s]</code> means any letter, <code>,</code>, <code>;</code>, <code>'</code>, <code>\"</code>, or whitespace character<br>\n<code>$</code> means \"ends with\"<br></p>\n"},{"tags":[],"owner":{"account_id":2540011,"reputation":70006,"user_id":2206004,"accept_rate":100,"display_name":"hwnd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1385959143,"creation_date":1385958351,"answer_id":20320840,"question_id":20320719,"body_markdown":"Based upon what you desire and asked for, the following will work.\r\n\r\n    String s  = &quot;    hello there I like regex!&quot;;\r\n    Pattern p = Pattern.compile(&quot;^\\\\s+[a-zA-Z\\\\s]+[.?!]$&quot;);\r\n    Matcher m = p.matcher(s); \r\n    if (m.matches()) {\r\n        System.out.println(&quot;hurray!&quot;);\r\n    }\r\n\r\nSee [`working demo`][1]\r\n\r\n\r\n  [1]: http://ideone.com/Gx9m9k","title":"Constructing regex pattern to match sentence","body":"<p>Based upon what you desire and asked for, the following will work.</p>\n\n<pre><code>String s  = \"    hello there I like regex!\";\nPattern p = Pattern.compile(\"^\\\\s+[a-zA-Z\\\\s]+[.?!]$\");\nMatcher m = p.matcher(s); \nif (m.matches()) {\n    System.out.println(\"hurray!\");\n}\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/Gx9m9k\" rel=\"nofollow\"><code>working demo</code></a></p>\n"},{"tags":[],"owner":{"account_id":3650433,"reputation":39,"user_id":3042755,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385958643,"creation_date":1385958643,"answer_id":20320893,"question_id":20320719,"body_markdown":"If you looking to match all strings starting with a white space you can try using &quot;^\\s+*&quot;\r\nregular expression.\r\n\r\nThis tool could help you to test your regular expression efficiently.\r\n\r\nhttp://www.rubular.com/\r\n","title":"Constructing regex pattern to match sentence","body":"<p>If you looking to match all strings starting with a white space you can try using \"^\\s+*\"\nregular expression.</p>\n\n<p>This tool could help you to test your regular expression efficiently.</p>\n\n<p><a href=\"http://www.rubular.com/\" rel=\"nofollow\">http://www.rubular.com/</a></p>\n"},{"tags":[],"owner":{"account_id":17550228,"reputation":11,"user_id":12730776,"display_name":"Eloi Montanaro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579257273,"creation_date":1579257273,"answer_id":59785646,"question_id":20320719,"body_markdown":"```\r\nString regex = &quot;(?&lt;=^|(\\.|!|\\?) |\\n|\\t|\\r|\\r\\n) *\\(?[A-Z][^.!?]*((\\.|!|\\?)(?! |\\n|\\r|\\r\\n)[^.!?]*)*(\\.|!|\\?)(?= |\\n|\\r|\\r\\n)&quot;\r\n```\r\nThis match any sentence following the definition &#39;a sentence start with a capital letter and end with a dot&#39;.","title":"Constructing regex pattern to match sentence","body":"<pre><code>String regex = \"(?&lt;=^|(\\.|!|\\?) |\\n|\\t|\\r|\\r\\n) *\\(?[A-Z][^.!?]*((\\.|!|\\?)(?! |\\n|\\r|\\r\\n)[^.!?]*)*(\\.|!|\\?)(?= |\\n|\\r|\\r\\n)\"\n</code></pre>\n\n<p>This match any sentence following the definition 'a sentence start with a capital letter and end with a dot'.</p>\n"},{"tags":[],"owner":{"account_id":183994,"reputation":19070,"user_id":419761,"accept_rate":86,"display_name":"l33t"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611355378,"creation_date":1611355378,"answer_id":65853729,"question_id":20320719,"body_markdown":"A sentence starts with a *word boundary* (hence `\\b`) and ends with *one or more* terminators. Thus: \r\n\r\n```regex\r\n\\b[^.!?]+[.!?]+\r\n```\r\n\r\nhttps://regex101.com/r/7DdyM1/1\r\n\r\nThis gives pretty accurate results. However, it will **not** handle fractional numbers. E.g. This sentence will be interpreted as two sentences:\r\n```\r\nThe value of PI is 3.141...\r\n```","title":"Constructing regex pattern to match sentence","body":"<p>A sentence starts with a <em>word boundary</em> (hence <code>\\b</code>) and ends with <em>one or more</em> terminators. Thus:</p>\n<pre class=\"lang-regex prettyprint-override\"><code>\\b[^.!?]+[.!?]+\n</code></pre>\n<p><a href=\"https://regex101.com/r/7DdyM1/1\" rel=\"noreferrer\">https://regex101.com/r/7DdyM1/1</a></p>\n<p>This gives pretty accurate results. However, it will <strong>not</strong> handle fractional numbers. E.g. This sentence will be interpreted as two sentences:</p>\n<pre><code>The value of PI is 3.141...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4984101,"reputation":31,"user_id":4008235,"display_name":"John Kyalo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646935684,"creation_date":1646916944,"answer_id":71424502,"question_id":20320719,"body_markdown":"The below regex pattern matches sentences in a paragraph.\r\n\r\n\r\n```Pattern pattern = Pattern.compile(&quot;\\\\b[\\\\w\\\\p{Space}“”’\\\\p{Punct}&amp;&amp;[^.?!]]+[.?!]&quot;);```\r\n\r\nReference: https://devsought.com/regex-pattern-to-match-sentence","title":"Constructing regex pattern to match sentence","body":"<p>The below regex pattern matches sentences in a paragraph.</p>\n<p><code>Pattern pattern = Pattern.compile(&quot;\\\\b[\\\\w\\\\p{Space}“”’\\\\p{Punct}&amp;&amp;[^.?!]]+[.?!]&quot;);</code></p>\n<p>Reference: <a href=\"https://devsought.com/regex-pattern-to-match-sentence\" rel=\"nofollow noreferrer\">https://devsought.com/regex-pattern-to-match-sentence</a></p>\n"},{"tags":[],"owner":{"account_id":1284397,"reputation":672,"user_id":1237786,"accept_rate":40,"display_name":"anefeletos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685518036,"creation_date":1685518036,"answer_id":76371083,"question_id":20320719,"body_markdown":"This pattern takes account abbrevations also, considering that next sentence also begins with capital letter:\r\n\r\n      ((?:[A-ZΆ-Ω0-9][\\S\\s]+?)+?[a-zά-ω0-9][.!?;]+)(?= [A-ZΆ-Ω0-9]|$)\r\n\r\nIncludes greek char range also. [Test Here][1].\r\n\r\n\r\n  [1]: https://regex101.com/r/PMJp2r/1","title":"Constructing regex pattern to match sentence","body":"<p>This pattern takes account abbrevations also, considering that next sentence also begins with capital letter:</p>\n<pre><code>  ((?:[A-ZΆ-Ω0-9][\\S\\s]+?)+?[a-zά-ω0-9][.!?;]+)(?= [A-ZΆ-Ω0-9]|$)\n</code></pre>\n<p>Includes greek char range also. <a href=\"https://regex101.com/r/PMJp2r/1\" rel=\"nofollow noreferrer\">Test Here</a>.</p>\n"}],"owner":{"account_id":2004971,"reputation":307,"user_id":1795126,"accept_rate":33,"display_name":"user1923"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132269,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":20320828,"answer_count":8,"score":17,"last_activity_date":1685518036,"creation_date":1385957683,"question_id":20320719,"body_markdown":"I&#39;m trying to write a regex pattern that will match any sentence that begins with multiple or one tab and/or whitespace.\r\nFor example, I want my regex pattern to be able to match &quot;    hello there I like regex!&quot; \r\nbut so I&#39;m scratching my head on how to match words after &quot;hello&quot;. So far I have this:\r\n\r\n        String REGEX = &quot;(?s)(\\\\p{Blank}+)([a-z][ ])*&quot;;\r\n\t    Pattern PATTERN = Pattern.compile(REGEX);\r\n\t    Matcher m = PATTERN.matcher(&quot;         asdsada  adf adfah.&quot;);\r\n\t    if (m.matches()) {\r\n\t        System.out.println(&quot;hurray!&quot;);\r\n\t    }\r\nAny help would be appreciated. Thanks.","title":"Constructing regex pattern to match sentence","body":"<p>I'm trying to write a regex pattern that will match any sentence that begins with multiple or one tab and/or whitespace.\nFor example, I want my regex pattern to be able to match \"    hello there I like regex!\" \nbut so I'm scratching my head on how to match words after \"hello\". So far I have this:</p>\n\n<pre><code>    String REGEX = \"(?s)(\\\\p{Blank}+)([a-z][ ])*\";\n    Pattern PATTERN = Pattern.compile(REGEX);\n    Matcher m = PATTERN.matcher(\"         asdsada  adf adfah.\");\n    if (m.matches()) {\n        System.out.println(\"hurray!\");\n    }\n</code></pre>\n\n<p>Any help would be appreciated. Thanks.</p>\n"},{"tags":["java","apache-poi","docx","apache-tika","tika-server"],"comments":[{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1696656083,"post_id":76371078,"comment_id":136184402,"body_markdown":"Updating the reason behind this latency:- Files like docx, pptx are compressed formats, if we are creating a pure text file of lets say 2 MB for docx, its actual size can be identified via checking the byte Array and that coming as very large in length. So, a 2 MB text file and 2 MB docx file having only text cant be comparable to validate the response time.","body":"Updating the reason behind this latency:- Files like docx, pptx are compressed formats, if we are creating a pure text file of lets say 2 MB for docx, its actual size can be identified via checking the byte Array and that coming as very large in length. So, a 2 MB text file and 2 MB docx file having only text cant be comparable to validate the response time."}],"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685518005,"creation_date":1685518005,"question_id":76371078,"body_markdown":"I am using tika 2.6.x with java opts as XX:MaxMetaspaceSize=200M -Xss512K -XX:MaxDirectMemorySize=64M for below code. It seems that processing time is very high(around a minute) for a pure text containing docx file of size more than equals to 2 MB. Same code logic is working very efficient for 2 MB csv, pptx and other files and sending the response in less than 5seconds. Any more configuration needed? please suggest, thanks.\r\n\r\n    Parser pasrer=new AutoDetectParser()\r\n    BufferWriter=Files.newBufferedWriter(&quot;MyFile&quot;)\r\n    Handler handler=new BodyContentHandler(BufferWriter)\r\n    //some code logic for embdedded image\r\n    context.set(classOf[EmbeddedDocumentExtractor], imageChecker)\r\n    parse(TikaInputStreamObj, handler, Metadata, context)\r\n\r\n\r\n\r\n","title":"Tika Docx Scanning for 2 MB file (Pure text docx file) taking more than 30 seconds","body":"<p>I am using tika 2.6.x with java opts as XX:MaxMetaspaceSize=200M -Xss512K -XX:MaxDirectMemorySize=64M for below code. It seems that processing time is very high(around a minute) for a pure text containing docx file of size more than equals to 2 MB. Same code logic is working very efficient for 2 MB csv, pptx and other files and sending the response in less than 5seconds. Any more configuration needed? please suggest, thanks.</p>\n<pre><code>Parser pasrer=new AutoDetectParser()\nBufferWriter=Files.newBufferedWriter(&quot;MyFile&quot;)\nHandler handler=new BodyContentHandler(BufferWriter)\n//some code logic for embdedded image\ncontext.set(classOf[EmbeddedDocumentExtractor], imageChecker)\nparse(TikaInputStreamObj, handler, Metadata, context)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":14500349,"reputation":118,"user_id":10473718,"display_name":"I_AM__PAUL"},"score":0,"creation_date":1614296464,"post_id":66375980,"comment_id":117350119,"body_markdown":"Are you trying to work with Actuator? If not then create a config with extend of WebSecurityConfigurerAdapter to adjust the secuity.","body":"Are you trying to work with Actuator? If not then create a config with extend of WebSecurityConfigurerAdapter to adjust the secuity."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":4,"creation_date":1614296620,"post_id":66375980,"comment_id":117350150,"body_markdown":"you need to add `@EnableWebSecurity` https://stackoverflow.com/a/45682916/1840146","body":"you need to add <code>@EnableWebSecurity</code> <a href=\"https://stackoverflow.com/a/45682916/1840146\">stackoverflow.com/a/45682916/1840146</a>"},{"owner":{"account_id":15408092,"reputation":287,"user_id":11115666,"display_name":"Albin"},"score":0,"creation_date":1614352774,"post_id":66375980,"comment_id":117367616,"body_markdown":"@I_AM__PAUL\nExtend with WebSecurityConfigurerAdapter  and overriding the configure method is working. But my question is specifically based on the spring document I shared. In that it is talking about creating a bean for this. That way I added the code as I mentioned in the question, but it is not working","body":"@I_AM__PAUL Extend with WebSecurityConfigurerAdapter  and overriding the configure method is working. But my question is specifically based on the spring document I shared. In that it is talking about creating a bean for this. That way I added the code as I mentioned in the question, but it is not working"},{"owner":{"account_id":15408092,"reputation":287,"user_id":11115666,"display_name":"Albin"},"score":0,"creation_date":1614352836,"post_id":66375980,"comment_id":117367647,"body_markdown":"@Toerktumlare\nI tried that, still the same failure. Updated the change in the original question","body":"@Toerktumlare I tried that, still the same failure. Updated the change in the original question"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1614354086,"post_id":66375980,"comment_id":117368218,"body_markdown":"please post your full exception","body":"please post your full exception"},{"owner":{"account_id":15408092,"reputation":287,"user_id":11115666,"display_name":"Albin"},"score":0,"creation_date":1614356657,"post_id":66375980,"comment_id":117369401,"body_markdown":"@Toerktumlare\nPlease find the update added in the question","body":"@Toerktumlare Please find the update added in the question"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1614358808,"post_id":66375980,"comment_id":117370408,"body_markdown":"have you tried removing the `@Configuration`","body":"have you tried removing the <code>@Configuration</code>"},{"owner":{"account_id":15408092,"reputation":287,"user_id":11115666,"display_name":"Albin"},"score":0,"creation_date":1614360232,"post_id":66375980,"comment_id":117371006,"body_markdown":"@Toerktumlare I tried that now. Still the same failure.","body":"@Toerktumlare I tried that now. Still the same failure."}],"owner":{"account_id":15408092,"reputation":287,"user_id":11115666,"display_name":"Albin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6971,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1685517669,"creation_date":1614284823,"question_id":66375980,"body_markdown":"I am following the description in the link [Securing HTTP Endpoints][1] to add the security in my application. I am getting the error that HttpSecurity bean could not be found. The code I added is as below:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration {\r\n    \t\r\n    \t@Bean\r\n    \tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \t    http.requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests(requests -&gt;\r\n    \t        requests.anyRequest().hasRole(&quot;ENDPOINT_ADMIN&quot;));\r\n    \t    http.httpBasic();\r\n    \t    return http.build();\r\n    \t}\r\n    }\r\n\r\nNothing else added. I also have the spring-boot-starter-security added in the pom.xml. But if I extend the class with WebSecurityConfigurerAdapter and by using the overridden configure method, it is working. \r\n\r\nException is:\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [SecurityConfiguration.class]: Unsatisfied dependency expressed through method &#39;securityFilterChain&#39; parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:538)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\t... 65 common frames omitted\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1717)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1273)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-security","title":"HttpSecurity bean could not be found when actuator securing","body":"<p>I am following the description in the link <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints-security\" rel=\"nofollow noreferrer\">Securing HTTP Endpoints</a> to add the security in my application. I am getting the error that HttpSecurity bean could not be found. The code I added is as below:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests(requests -&gt;\n            requests.anyRequest().hasRole(&quot;ENDPOINT_ADMIN&quot;));\n        http.httpBasic();\n        return http.build();\n    }\n}\n</code></pre>\n<p>Nothing else added. I also have the spring-boot-starter-security added in the pom.xml. But if I extend the class with WebSecurityConfigurerAdapter and by using the overridden configure method, it is working.</p>\n<p>Exception is:</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityFilterChain' defined in class path resource [SecurityConfiguration.class]: Unsatisfied dependency expressed through method 'securityFilterChain' parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:538)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1176)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 65 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1717)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1273)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:884)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)\n</code></pre>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":4227103,"reputation":1688,"user_id":3460387,"accept_rate":75,"display_name":"KiKo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685517200,"creation_date":1685517200,"question_id":76370979,"body_markdown":"I&#39;m trying to delete documents on Elasticsearch. For this I&#39;m using `RestHighLevelClient`, then I&#39;m creating `DeleteByQueryRequest` and sending a request like this:\r\n\r\n    BulkByScrollResponse bulkResponse = client.deleteByQuery(deleteRequest, RequestOptions.DEFAULT)\r\n\r\nCurrently, I&#39;m logging documents like this:\r\n\r\n    System.out.println(&quot;Total documents processed: &quot; + bulkResponse.getTotal());\r\n    System.out.println(&quot;Total documents deleted: &quot; + bulkResponse.getDeleted());\r\n\r\n\r\nHow can I log all the documents that are processed / deleted ?","title":"Log result from BulkByScrollResponse Elasticsearch java api","body":"<p>I'm trying to delete documents on Elasticsearch. For this I'm using <code>RestHighLevelClient</code>, then I'm creating <code>DeleteByQueryRequest</code> and sending a request like this:</p>\n<pre><code>BulkByScrollResponse bulkResponse = client.deleteByQuery(deleteRequest, RequestOptions.DEFAULT)\n</code></pre>\n<p>Currently, I'm logging documents like this:</p>\n<pre><code>System.out.println(&quot;Total documents processed: &quot; + bulkResponse.getTotal());\nSystem.out.println(&quot;Total documents deleted: &quot; + bulkResponse.getDeleted());\n</code></pre>\n<p>How can I log all the documents that are processed / deleted ?</p>\n"},{"tags":["java","rabbitmq","amqp","spring-amqp","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622123388,"creation_date":1622123388,"answer_id":67723563,"question_id":67720604,"body_markdown":"I presume you are using the `Jackson2JsonMessageConverter`.\r\n\r\nYou can add type mappings to the converter&#39;s typeMapper.\r\n\r\nOn the producer side\r\n\r\n    mapper.setIdClassMapping(Map.of(ProductCreatedDTO.class, &quot;created&quot;));\r\n\r\nOn the consumer side map the target class to the same token.\r\n\r\nThe type mapper will consult the map using the type id header (`created` in this case) to determine which type to use.\r\n\r\n","title":"Java RabbitMQ: can&#39;t map message to corresponding class","body":"<p>I presume you are using the <code>Jackson2JsonMessageConverter</code>.</p>\n<p>You can add type mappings to the converter's typeMapper.</p>\n<p>On the producer side</p>\n<pre><code>mapper.setIdClassMapping(Map.of(ProductCreatedDTO.class, &quot;created&quot;));\n</code></pre>\n<p>On the consumer side map the target class to the same token.</p>\n<p>The type mapper will consult the map using the type id header (<code>created</code> in this case) to determine which type to use.</p>\n"},{"tags":[],"owner":{"account_id":15237833,"reputation":37,"user_id":10994988,"display_name":"winston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685515896,"creation_date":1685515896,"answer_id":76370839,"question_id":67720604,"body_markdown":"I have faced the same issue. After investigating, I found that we can add the annotation @Payload to your parameter. With this annotation, this parameter will be treated as **inferredType**. And the priority of inferredType is higher than `__TypeId__` \r\n\r\nI think this is a better solution.\r\n\r\nRelated source code:\r\n\r\n```java\r\n\r\n@Override\r\n\tpublic JavaType toJavaType(MessageProperties properties) {\r\n        //inferredType\r\n\t\tJavaType inferredType = getInferredType(properties);\r\n\t\tif (inferredType != null &amp;&amp; canConvert(inferredType)) {\r\n\t\t\treturn inferredType;\r\n\t\t}\r\n\r\n\t\tString typeIdHeader = retrieveHeaderAsString(properties, getClassIdFieldName());\r\n\r\n\t\tif (typeIdHeader != null) {\r\n\t\t\treturn fromTypeHeader(properties, typeIdHeader);\r\n\t\t}\r\n\r\n\t\tif (hasInferredTypeHeader(properties)) {\r\n\t\t\treturn fromInferredTypeHeader(properties);\r\n\t\t}\r\n\r\n\t\treturn TypeFactory.defaultInstance().constructType(Object.class);\r\n\t}\r\n\r\n```","title":"Java RabbitMQ: can&#39;t map message to corresponding class","body":"<p>I have faced the same issue. After investigating, I found that we can add the annotation @Payload to your parameter. With this annotation, this parameter will be treated as <strong>inferredType</strong>. And the priority of inferredType is higher than <code>__TypeId__</code></p>\n<p>I think this is a better solution.</p>\n<p>Related source code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Override\n    public JavaType toJavaType(MessageProperties properties) {\n        //inferredType\n        JavaType inferredType = getInferredType(properties);\n        if (inferredType != null &amp;&amp; canConvert(inferredType)) {\n            return inferredType;\n        }\n\n        String typeIdHeader = retrieveHeaderAsString(properties, getClassIdFieldName());\n\n        if (typeIdHeader != null) {\n            return fromTypeHeader(properties, typeIdHeader);\n        }\n\n        if (hasInferredTypeHeader(properties)) {\n            return fromInferredTypeHeader(properties);\n        }\n\n        return TypeFactory.defaultInstance().constructType(Object.class);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":19950030,"reputation":63,"user_id":14638259,"display_name":"Leandro Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67723563,"answer_count":2,"score":1,"last_activity_date":1685515896,"creation_date":1622112585,"question_id":67720604,"body_markdown":"I have two different java spring projects that communicate through rabbitmq. I&#39;m trying to send a java object but I get this error message:\r\n\r\n    org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener threw exception\r\n    Caused by: org.springframework.amqp.support.converter.MessageConversionException: failed to resolve class name. Class not found [com.thesis.gamamicroservices.productservice.dto.ProductCreatedDTO]\r\n\r\nI&#39;m aware that the problem is in the classpath that should be the same in both producer and consumer, but since each project has a different name I can&#39;t make the classpath the same even though both have the exact same class inside the same packages.\r\n\r\nThe class path is present in the header:\r\n\r\n    headers={__TypeId__=com.thesis.gamamicroservices.productservice.dto.ProductCreatedDTO}\r\n\r\nThe only difference is that the consumer app is called inventoryservice and not productservice, so it always results in conversion error.\r\n\r\nIs there any workaround? My current provisory &quot;solution&quot; is using primitives or java.util classes that I later convert to the target class, but it&#39;s far from ideal since I have cases in which I need to send over 8 different types of objects, I ran out of primitives for my @RabbitHandler&#39;s...\r\n\r\nI&#39;ve also made it work by defining the target classpath in the producer but since the message is sent to multiple queues/services it&#39;s not a viable solution here. \r\n\r\nEdit:\r\n\r\nHere&#39;s my configuration:\r\n\r\nEvent producer:\r\n\r\n    @Configuration\r\n    public class EventProducerConfiguration {\r\n\r\n        @Bean(name=&quot;productCreatedDeletedExchange&quot;)\r\n        public Exchange createdDeletedExchange() {\r\n           return new FanoutExchange(&quot;productCreatedDeletedExchange&quot;);\r\n        }\r\n\r\n        @Bean\r\n        public RabbitTemplate rabbitTemplate(final ConnectionFactory connectionFactory) {\r\n            final var rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n            rabbitTemplate.setMessageConverter(messageConverter());\r\n            return rabbitTemplate;\r\n        }\r\n    \r\n        @Bean\r\n        public MessageConverter messageConverter() {\r\n            Jackson2JsonMessageConverter messageConverter = new Jackson2JsonMessageConverter();\r\n            DefaultClassMapper classMapper = new DefaultClassMapper();\r\n            classMapper.setTrustedPackages(&quot;*&quot;);\r\n            classMapper.setIdClassMapping(Map.of(&quot;created&quot;, ProductCreatedDTO.class));\r\n            messageConverter.setClassMapper(classMapper);\r\n            return messageConverter;\r\n        }\r\n    \r\n    }\r\n\r\nHow I send messages:\r\n\r\n    rabbitTemplate.convertAndSend(deletedCreatedExchange.getName(), RoutingKeys.CREATED.getNotation(), new ProductCreatedDTO(p, brand.getId(), category.getId()));\r\n\r\n\r\nEvent consumer:\r\n\r\n    @Configuration\r\n    public class EventConsumerConfiguration {\r\n    \r\n        @Bean(name=&quot;productsExchange&quot;)\r\n        public FanoutExchange productsPubSubExchange() {\r\n            return new FanoutExchange(&quot;productCreatedDeletedExchange&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public Queue productsQueue() {\r\n            return new Queue(&quot;productsInventoryServiceQueue&quot;);\r\n        }\r\n        @Bean\r\n        public Binding bindingProducts(@Qualifier(&quot;productsExchange&quot;) FanoutExchange productsExchange) {\r\n            return BindingBuilder\r\n                    .bind(productsQueue())\r\n                    .to(productsExchange);\r\n        }\r\n        @Bean\r\n        public ProductOpsReceiver productEventsReceiver() {\r\n            return new ProductOpsReceiver();\r\n        }\r\n    }\r\n\r\nP.s.: I&#39;m not sure if I need to define rabbitTemaplate with the message converter inside the consumer config the same way I did on the producer config, but the two apps are both a consumer and a producer so those bean are defined nonetheless.\r\n\r\nHow I receive messages:\r\n\r\n    @RabbitListener(queues=&quot;productsInventoryServiceQueue&quot;)\r\n    public class ProductOpsReceiver {\r\n    \r\n          @RabbitHandler\r\n          public void productCreated(ProductCreatedDTO product) {\r\n    \r\n               logger.info(PRODUCT_CREATED_LOG, product.getId());\r\n    \r\n          }\r\n    }\r\n\r\n","title":"Java RabbitMQ: can&#39;t map message to corresponding class","body":"<p>I have two different java spring projects that communicate through rabbitmq. I'm trying to send a java object but I get this error message:</p>\n<pre><code>org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener threw exception\nCaused by: org.springframework.amqp.support.converter.MessageConversionException: failed to resolve class name. Class not found [com.thesis.gamamicroservices.productservice.dto.ProductCreatedDTO]\n</code></pre>\n<p>I'm aware that the problem is in the classpath that should be the same in both producer and consumer, but since each project has a different name I can't make the classpath the same even though both have the exact same class inside the same packages.</p>\n<p>The class path is present in the header:</p>\n<pre><code>headers={__TypeId__=com.thesis.gamamicroservices.productservice.dto.ProductCreatedDTO}\n</code></pre>\n<p>The only difference is that the consumer app is called inventoryservice and not productservice, so it always results in conversion error.</p>\n<p>Is there any workaround? My current provisory &quot;solution&quot; is using primitives or java.util classes that I later convert to the target class, but it's far from ideal since I have cases in which I need to send over 8 different types of objects, I ran out of primitives for my @RabbitHandler's...</p>\n<p>I've also made it work by defining the target classpath in the producer but since the message is sent to multiple queues/services it's not a viable solution here.</p>\n<p>Edit:</p>\n<p>Here's my configuration:</p>\n<p>Event producer:</p>\n<pre><code>@Configuration\npublic class EventProducerConfiguration {\n\n    @Bean(name=&quot;productCreatedDeletedExchange&quot;)\n    public Exchange createdDeletedExchange() {\n       return new FanoutExchange(&quot;productCreatedDeletedExchange&quot;);\n    }\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(final ConnectionFactory connectionFactory) {\n        final var rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setMessageConverter(messageConverter());\n        return rabbitTemplate;\n    }\n\n    @Bean\n    public MessageConverter messageConverter() {\n        Jackson2JsonMessageConverter messageConverter = new Jackson2JsonMessageConverter();\n        DefaultClassMapper classMapper = new DefaultClassMapper();\n        classMapper.setTrustedPackages(&quot;*&quot;);\n        classMapper.setIdClassMapping(Map.of(&quot;created&quot;, ProductCreatedDTO.class));\n        messageConverter.setClassMapper(classMapper);\n        return messageConverter;\n    }\n\n}\n</code></pre>\n<p>How I send messages:</p>\n<pre><code>rabbitTemplate.convertAndSend(deletedCreatedExchange.getName(), RoutingKeys.CREATED.getNotation(), new ProductCreatedDTO(p, brand.getId(), category.getId()));\n</code></pre>\n<p>Event consumer:</p>\n<pre><code>@Configuration\npublic class EventConsumerConfiguration {\n\n    @Bean(name=&quot;productsExchange&quot;)\n    public FanoutExchange productsPubSubExchange() {\n        return new FanoutExchange(&quot;productCreatedDeletedExchange&quot;);\n    }\n\n    @Bean\n    public Queue productsQueue() {\n        return new Queue(&quot;productsInventoryServiceQueue&quot;);\n    }\n    @Bean\n    public Binding bindingProducts(@Qualifier(&quot;productsExchange&quot;) FanoutExchange productsExchange) {\n        return BindingBuilder\n                .bind(productsQueue())\n                .to(productsExchange);\n    }\n    @Bean\n    public ProductOpsReceiver productEventsReceiver() {\n        return new ProductOpsReceiver();\n    }\n}\n</code></pre>\n<p>P.s.: I'm not sure if I need to define rabbitTemaplate with the message converter inside the consumer config the same way I did on the producer config, but the two apps are both a consumer and a producer so those bean are defined nonetheless.</p>\n<p>How I receive messages:</p>\n<pre><code>@RabbitListener(queues=&quot;productsInventoryServiceQueue&quot;)\npublic class ProductOpsReceiver {\n\n      @RabbitHandler\n      public void productCreated(ProductCreatedDTO product) {\n\n           logger.info(PRODUCT_CREATED_LOG, product.getId());\n\n      }\n}\n</code></pre>\n"},{"tags":["java","google-maps","google-maps-api-3"],"comments":[{"owner":{"account_id":147587,"reputation":5293,"user_id":358804,"accept_rate":50,"display_name":"Aidan Feldman"},"score":1,"creation_date":1555079841,"post_id":55653800,"comment_id":97996818,"body_markdown":"While annoying, [the documentation you linked to](https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest) for the `bounds` does say &quot;Predictions will be biased towards, but not restricted to, the given bounds.&quot;","body":"While annoying, <a href=\"https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest\" rel=\"nofollow noreferrer\">the documentation you linked to</a> for the <code>bounds</code> does say &quot;Predictions will be biased towards, but not restricted to, the given bounds.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":147587,"reputation":5293,"user_id":358804,"accept_rate":50,"display_name":"Aidan Feldman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555080045,"creation_date":1555080045,"answer_id":55654123,"question_id":55653800,"body_markdown":"Especially since the `AutocompleteService` is `@private`, it seems like you should be using the [`Autocomplete`](https://developers.google.com/maps/documentation/javascript/places-autocomplete#add_autocomplete) class instead, which does support `strictBounds`.","title":"How to restrict Google Maps API AutocompleteService from giving out of bounds suggestions","body":"<p>Especially since the <code>AutocompleteService</code> is <code>@private</code>, it seems like you should be using the <a href=\"https://developers.google.com/maps/documentation/javascript/places-autocomplete#add_autocomplete\" rel=\"nofollow noreferrer\"><code>Autocomplete</code></a> class instead, which does support <code>strictBounds</code>.</p>\n"},{"tags":[],"owner":{"account_id":11711234,"reputation":1514,"user_id":8573097,"display_name":"rafon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556076733,"creation_date":1556076733,"answer_id":55822010,"question_id":55653800,"body_markdown":"We have an entry for this feature request to add **strictBounds for Autocomplete Service** in our Google Public Issue Tracker.\r\n\r\nIssues in the Issue Tracker are directly curated by Google Maps Platform API specialists, who will provide updates in the Issue Tracker whenever there&#39;s news from the engineering team.\r\n\r\nWe would like to warmly invite you to view the issue in the Issue Tracker, and to star it to register your interest. This will subscribe you to receive technical updates on the issue. Starring the issue also provides us with valuable feedback on the importance of the issue to our customers, and increases the issue&#39;s priority with the product engineering team.\r\n\r\nYou can view and star the issue here:\r\n- https://issuetracker.google.com/36219203\r\n\r\nThis Issue Tracker entry is the authoritative source for public information regarding this issue, and all publicly-relevant updates will be posted there.","title":"How to restrict Google Maps API AutocompleteService from giving out of bounds suggestions","body":"<p>We have an entry for this feature request to add <strong>strictBounds for Autocomplete Service</strong> in our Google Public Issue Tracker.</p>\n\n<p>Issues in the Issue Tracker are directly curated by Google Maps Platform API specialists, who will provide updates in the Issue Tracker whenever there's news from the engineering team.</p>\n\n<p>We would like to warmly invite you to view the issue in the Issue Tracker, and to star it to register your interest. This will subscribe you to receive technical updates on the issue. Starring the issue also provides us with valuable feedback on the importance of the issue to our customers, and increases the issue's priority with the product engineering team.</p>\n\n<p>You can view and star the issue here:\n- <a href=\"https://issuetracker.google.com/36219203\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/36219203</a></p>\n\n<p>This Issue Tracker entry is the authoritative source for public information regarding this issue, and all publicly-relevant updates will be posted there.</p>\n"},{"tags":[],"owner":{"account_id":23031139,"reputation":1,"user_id":17150608,"display_name":"Kishan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685515739,"creation_date":1685515739,"answer_id":76370821,"question_id":55653800,"body_markdown":"bit late but if you are someone still looking for a solution as I was &#175;\\_(ツ)_/&#175;\r\n\r\nbounds, location, and radius are deprecated on May 2023 instead we can use **locationBias** and **locationRestriction** refer this link https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest.locationRestriction\r\n\r\nWorked for me.","title":"How to restrict Google Maps API AutocompleteService from giving out of bounds suggestions","body":"<p>bit late but if you are someone still looking for a solution as I was ¯_(ツ)_/¯</p>\n<p>bounds, location, and radius are deprecated on May 2023 instead we can use <strong>locationBias</strong> and <strong>locationRestriction</strong> refer this link <a href=\"https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest.locationRestriction\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompletionRequest.locationRestriction</a></p>\n<p>Worked for me.</p>\n"}],"owner":{"account_id":7831282,"reputation":3147,"user_id":5921203,"accept_rate":42,"display_name":"Steven Aguilar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685515739,"creation_date":1555078966,"question_id":55653800,"body_markdown":"Currently I&#39;m working with `AutocompleteService` class from the Google Maps API. From the [documentation][1] I&#39;m using the `bounds` to apply the bounds for New York City. However, I&#39;m getting results from NJ and PA. \n\nThere is no `strictBounds` option for the AutocompleteService class and this makes it hard to restrict results to only be within bounds. Here are the following bounds I&#39;m providing for NYC:\n\n    /**\n     * NYC Bound Parameters for Google Maps API\n     * @enum {object}\n     */\n     OfficeMap.NYC_BOUNDS = {\n       &#39;south&#39;: 40.4773991,\n       &#39;west&#39;: -74.25908989999999,\n       &#39;north&#39;: 40.9175771,\n       &#39;east&#39;: -73.7002721\n     };\n\nHowever, this is not completely working as expected since suggestions from outside New York have been showing:\n[![enter image description here][2]][2]\n\n\nAs you see from the image above suggestions from PA are shown.\n\n      /** @private {this._google.maps.places.Autocomplete}Autocomplete instance */\n        this._service = new this._google.maps.places.AutocompleteService();\n    \n      // Attach handler for the autocomplete search box. This updates the map\n        // position and re-sorts locations around that position.\n        this._searchEl.addEventListener(&#39;keyup&#39;, event =&gt; {\n          if(event.target.value) {\n            this._service.getPlacePredictions({\n               input: event.target.value,\n               offset: 3,\n               types: [&#39;geocode&#39;],\n               componentRestrictions: {country: &#39;us&#39;},\n               bounds: OfficeMap.NYC_BOUNDS\n            }, predictions =&gt; {\n              if(predictions) {\n                let results = predictions.map(e =&gt; [e[&#39;description&#39;]]);\n                this._inputAutocomplete._autocomplete.options = results;\n                const autocompleteSelf = this._inputAutocomplete._autocomplete;\n    \n                this._inputAutocomplete._autocomplete.select = () =&gt; {\n                    if (autocompleteSelf.highlightedIndex !== -1) {\n                      autocompleteSelf.input.value = autocompleteSelf\n                        .scoredOptions[autocompleteSelf.highlightedIndex]\n                        .displayValue;\n                      autocompleteSelf.removeDropdown();\n    \n                      let nameOfLocation = autocompleteSelf.input.value;\n                      let googlePlaceObj = this.getGooglePlaceByName(nameOfLocation,\n                                                                     predictions);\n    \n                      this.displayPlacesOnMap(googlePlaceObj);\n                    }\n                  };\n                }\n            });\n          }\n        });\n\nThe method `getPlacePredictions` should only give out NYC suggestions since is NYC bounds parameter which are passed. From the [documentation][3]\nthere is no way to restrict it.\n\nHow can I restrict to AutocompleteService `getPlacePredictions` to only return objects within bounds?\n\n  [1]: \nhttps://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service\n\n  [2]: https://i.stack.imgur.com/AGcP3.png\n  [3]: https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompleteService.getPlacePredictions","title":"How to restrict Google Maps API AutocompleteService from giving out of bounds suggestions","body":"<p>Currently I'm working with <code>AutocompleteService</code> class from the Google Maps API. From the <a href=\"https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service\" rel=\"nofollow noreferrer\">documentation</a> I'm using the <code>bounds</code> to apply the bounds for New York City. However, I'm getting results from NJ and PA.</p>\n<p>There is no <code>strictBounds</code> option for the AutocompleteService class and this makes it hard to restrict results to only be within bounds. Here are the following bounds I'm providing for NYC:</p>\n<pre><code>/**\n * NYC Bound Parameters for Google Maps API\n * @enum {object}\n */\n OfficeMap.NYC_BOUNDS = {\n   'south': 40.4773991,\n   'west': -74.25908989999999,\n   'north': 40.9175771,\n   'east': -73.7002721\n };\n</code></pre>\n<p>However, this is not completely working as expected since suggestions from outside New York have been showing:\n<a href=\"https://i.stack.imgur.com/AGcP3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AGcP3.png\" alt=\"enter image description here\" /></a></p>\n<p>As you see from the image above suggestions from PA are shown.</p>\n<pre><code>  /** @private {this._google.maps.places.Autocomplete}Autocomplete instance */\n    this._service = new this._google.maps.places.AutocompleteService();\n\n  // Attach handler for the autocomplete search box. This updates the map\n    // position and re-sorts locations around that position.\n    this._searchEl.addEventListener('keyup', event =&gt; {\n      if(event.target.value) {\n        this._service.getPlacePredictions({\n           input: event.target.value,\n           offset: 3,\n           types: ['geocode'],\n           componentRestrictions: {country: 'us'},\n           bounds: OfficeMap.NYC_BOUNDS\n        }, predictions =&gt; {\n          if(predictions) {\n            let results = predictions.map(e =&gt; [e['description']]);\n            this._inputAutocomplete._autocomplete.options = results;\n            const autocompleteSelf = this._inputAutocomplete._autocomplete;\n\n            this._inputAutocomplete._autocomplete.select = () =&gt; {\n                if (autocompleteSelf.highlightedIndex !== -1) {\n                  autocompleteSelf.input.value = autocompleteSelf\n                    .scoredOptions[autocompleteSelf.highlightedIndex]\n                    .displayValue;\n                  autocompleteSelf.removeDropdown();\n\n                  let nameOfLocation = autocompleteSelf.input.value;\n                  let googlePlaceObj = this.getGooglePlaceByName(nameOfLocation,\n                                                                 predictions);\n\n                  this.displayPlacesOnMap(googlePlaceObj);\n                }\n              };\n            }\n        });\n      }\n    });\n</code></pre>\n<p>The method <code>getPlacePredictions</code> should only give out NYC suggestions since is NYC bounds parameter which are passed. From the <a href=\"https://developers.google.com/maps/documentation/javascript/reference/places-autocomplete-service#AutocompleteService.getPlacePredictions\" rel=\"nofollow noreferrer\">documentation</a>\nthere is no way to restrict it.</p>\n<p>How can I restrict to AutocompleteService <code>getPlacePredictions</code> to only return objects within bounds?</p>\n"},{"tags":["java","spring","spring-boot","message-queue","quarkus"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1685512311,"post_id":76370492,"comment_id":134668554,"body_markdown":"The approach is right and the implementation is entirely your choice. You have the option of doing everything yourself, but using a message broker + MDB will give you a good asynchronous implementation.","body":"The approach is right and the implementation is entirely your choice. You have the option of doing everything yourself, but using a message broker + MDB will give you a good asynchronous implementation."},{"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"score":0,"creation_date":1685516362,"post_id":76370492,"comment_id":134669208,"body_markdown":"If these are processed in the background, I don&#39;t understand why you&#39;d need to block the user.","body":"If these are processed in the background, I don&#39;t understand why you&#39;d need to block the user."},{"owner":{"account_id":5290004,"reputation":577,"user_id":4222875,"display_name":"Yusuf Kapasi"},"score":0,"creation_date":1685544099,"post_id":76370492,"comment_id":134675535,"body_markdown":"Once you receive a request add it in a cache (NoSQL DBs are good choice) and return the accepted status to user, run a scheduler to pick pending requests from cache and run your job, don&#39;t run a new job if there are any job running at any point of time.","body":"Once you receive a request add it in a cache (NoSQL DBs are good choice) and return the accepted status to user, run a scheduler to pick pending requests from cache and run your job, don&#39;t run a new job if there are any job running at any point of time."}],"answers":[{"tags":[],"owner":{"account_id":5543478,"reputation":1188,"user_id":4399071,"accept_rate":50,"display_name":"Badr B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685513341,"creation_date":1685513341,"answer_id":76370608,"question_id":76370492,"body_markdown":"You definitely need a distributed queue if you wish to horizontally scale this service and if you want tasks to persist across reboots. What I would do is create 3 components: the backend application, the queue, and a database. Then the workflow will look something like this:\r\n\r\n1. User submits task through REST API. Backend application queries database to check if a task for the current user is already running. If not, submit the task to the queue and record the new task status in the database.\r\n\r\n2. Queue consumer picks up the task (the consumer can be the same application or a separate one). Consumer works on the task and updates database with task status (i.e. failed, running, at checkpoint 3, etc.).\r\n\r\n3. Optionally, the client can query the task status through the REST API.\r\n\r\n4. Task either completes successfully or fails. Exit status is persisted in database. Now there&#39;s no running task for the user, so the REST API will allow another submission per the logic in step 1. You can also do some things here like send an email, Slack notification, etc.\r\n\r\nThere may be some queue implementations that give you more freedom in querying task status, but I prefer this design since it offers a lot of flexibility and it&#39;s agnostic to the queue service used.","title":"Design Pattern to follow for long running rest API?","body":"<p>You definitely need a distributed queue if you wish to horizontally scale this service and if you want tasks to persist across reboots. What I would do is create 3 components: the backend application, the queue, and a database. Then the workflow will look something like this:</p>\n<ol>\n<li><p>User submits task through REST API. Backend application queries database to check if a task for the current user is already running. If not, submit the task to the queue and record the new task status in the database.</p>\n</li>\n<li><p>Queue consumer picks up the task (the consumer can be the same application or a separate one). Consumer works on the task and updates database with task status (i.e. failed, running, at checkpoint 3, etc.).</p>\n</li>\n<li><p>Optionally, the client can query the task status through the REST API.</p>\n</li>\n<li><p>Task either completes successfully or fails. Exit status is persisted in database. Now there's no running task for the user, so the REST API will allow another submission per the logic in step 1. You can also do some things here like send an email, Slack notification, etc.</p>\n</li>\n</ol>\n<p>There may be some queue implementations that give you more freedom in querying task status, but I prefer this design since it offers a lot of flexibility and it's agnostic to the queue service used.</p>\n"},{"tags":[],"owner":{"account_id":6592146,"reputation":136,"user_id":5093000,"display_name":"Aaron Chen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685514344,"creation_date":1685514344,"answer_id":76370690,"question_id":76370492,"body_markdown":"Using an external queue would be a better choice:\r\n\r\n1. Scalability and Performance: External message queues like RabbitMQ and Kafka are designed to handle large volumes of messages. They already deployed advanced techniques to optimize message delivery, such as batching, compression, and parallel processing.\r\n\r\n2. Durability: External queues provide durable message storage, meaning messages are stored on disk and can survive server crashes or restarts. This ensures that messages are not lost in case of system failures or unexpected errors.\r\n\r\n3. Decoupling: External queues provide a decoupling mechanism between the producer and consumer. This means that the REST API can produce messages to the queue without blocking, and the background task workers can consume messages from the queue at their own pace. This allows for better separation of concerns and reduces the risk of system failures due to bottlenecks or overloading.\r\n\r\n4. Integration with other systems: External message queues like RabbitMQ and Kafka provide APIs and integration points with other systems and frameworks, such as Spring Boot, Django, Express.js, Golang, etc. which can simplify the development and deployment process.","title":"Design Pattern to follow for long running rest API?","body":"<p>Using an external queue would be a better choice:</p>\n<ol>\n<li><p>Scalability and Performance: External message queues like RabbitMQ and Kafka are designed to handle large volumes of messages. They already deployed advanced techniques to optimize message delivery, such as batching, compression, and parallel processing.</p>\n</li>\n<li><p>Durability: External queues provide durable message storage, meaning messages are stored on disk and can survive server crashes or restarts. This ensures that messages are not lost in case of system failures or unexpected errors.</p>\n</li>\n<li><p>Decoupling: External queues provide a decoupling mechanism between the producer and consumer. This means that the REST API can produce messages to the queue without blocking, and the background task workers can consume messages from the queue at their own pace. This allows for better separation of concerns and reduces the risk of system failures due to bottlenecks or overloading.</p>\n</li>\n<li><p>Integration with other systems: External message queues like RabbitMQ and Kafka provide APIs and integration points with other systems and frameworks, such as Spring Boot, Django, Express.js, Golang, etc. which can simplify the development and deployment process.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":13474237,"reputation":137,"user_id":9721761,"display_name":"Roshni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1685629876,"answer_count":2,"score":1,"last_activity_date":1685515164,"creation_date":1685511935,"question_id":76370492,"body_markdown":"I have a rest api which takes an input from user and executes a background task which runs for about 2-3 hours. User cannot make another call to this api till the first task completes.\r\n\r\nSo I am planning to use a queue to store the request as and when they come and not block the user.\r\n\r\nShould I use java inbuilt collection for it or external queues like RabbitMQ?\r\n\r\nNote : We are only going to store 3 messages in the queue and its not a distributed application.\r\nAny other suggestions are also welcome ","title":"Design Pattern to follow for long running rest API?","body":"<p>I have a rest api which takes an input from user and executes a background task which runs for about 2-3 hours. User cannot make another call to this api till the first task completes.</p>\n<p>So I am planning to use a queue to store the request as and when they come and not block the user.</p>\n<p>Should I use java inbuilt collection for it or external queues like RabbitMQ?</p>\n<p>Note : We are only going to store 3 messages in the queue and its not a distributed application.\nAny other suggestions are also welcome</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685482783,"post_id":76368738,"comment_id":134665844,"body_markdown":"&quot;query by example&quot; sounds like a perfect macth","body":"&quot;query by example&quot; sounds like a perfect macth"}],"answers":[{"tags":[],"owner":{"account_id":3202785,"reputation":26,"user_id":2704528,"display_name":"DaGunMan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685514160,"creation_date":1685514160,"answer_id":76370676,"question_id":76368738,"body_markdown":"You could use a parameter map...\r\n\r\n        private static Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n    \r\n    public static void main(String[] args) {\r\n        parameters.put(&quot;streetName&quot;, &quot;Linz&quot;);\r\n        parameters.put(&quot;houseNumber&quot;, 1);\r\n        \r\n        String sql = parameters.entrySet().stream().map(e -&gt; &quot;a.&quot; + e.getKey() + &quot; = :&quot; + e.getKey()).collect(Collectors.joining(&quot; AND &quot;));\r\n        \r\n        TypedQuery&lt;AddressEntity&gt; query = entityManager.createQuery(sql, AddressEntity.class);\r\n        \r\n        parameters.entrySet().stream().forEach(e -&gt; query.setParameter(e.getKey(), e.getValue()));\r\n        \r\n        return query.getResultList();\r\n    }\r\n}\r\n","title":"What&#39;s the cleanest way to chain multiple optional query parameters in Hibernate?","body":"<p>You could use a parameter map...</p>\n<pre><code>    private static Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n\npublic static void main(String[] args) {\n    parameters.put(&quot;streetName&quot;, &quot;Linz&quot;);\n    parameters.put(&quot;houseNumber&quot;, 1);\n    \n    String sql = parameters.entrySet().stream().map(e -&gt; &quot;a.&quot; + e.getKey() + &quot; = :&quot; + e.getKey()).collect(Collectors.joining(&quot; AND &quot;));\n    \n    TypedQuery&lt;AddressEntity&gt; query = entityManager.createQuery(sql, AddressEntity.class);\n    \n    parameters.entrySet().stream().forEach(e -&gt; query.setParameter(e.getKey(), e.getValue()));\n    \n    return query.getResultList();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":22727429,"reputation":13,"user_id":16890936,"display_name":"moritzl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76370676,"answer_count":1,"score":0,"last_activity_date":1685514160,"creation_date":1685481786,"question_id":76368738,"body_markdown":"What is the best way to chain multiple optional parameters to a query in hibernate?\r\n\r\nDoing something like this feels very clunky, but I don&#39;t see a better way to do it:\r\n\r\n\r\n```\r\nStringBuilder builder = new StringBuilder(&quot;SELECT a from address a WHERE &quot;);\r\n    \r\nif(!StringUtil.isNullOrEmpty(streetName)) {\r\n  builder.append(&quot;a.streetName = :streetName AND &quot;);\r\n}\r\nif(!StringUtil.isNullOrEmpty(houseNumber)) {\r\n  builder.append(&quot;a.houseNumber = :houseNumber AND &quot;);\r\n}\r\nif(!StringUtil.isNullOrEmpty(city)) {\r\n  builder.append(&quot;a.city = :city AND &quot;);\r\n}\r\nif(!StringUtil.isNullOrEmpty(countryCode)) {\r\n  builder.append(&quot;a.countryCode = :countryCode AND &quot;);\r\n}\r\nString sql = builder.substring(0, builder.length() - 4); //remove trailing &#39;AND&#39;\r\n  \r\nTypedQuery&lt;AddressEntity&gt; query = entityManager.createQuery(sql, AddressEntity.class);\r\n \r\nif(!StringUtil.isNullOrEmpty(streetName)) {\r\n  query.setParameter(&quot;streetName&quot;, streetName);\r\n}\r\nif(!StringUtil.isNullOrEmpty(houseNumber)) {\r\n  query.setParameter(&quot;houseNumber&quot;, houseNumber);\r\n}\r\nif(!StringUtil.isNullOrEmpty(city)) {\r\n  query.setParameter(&quot;city&quot;, city);\r\n}\r\nif(!StringUtil.isNullOrEmpty(countryCode)) {\r\n  query.setParameter(&quot;countryCode&quot;, countryCode);\r\n}\r\n  \r\nreturn query.getResultList();\r\n```\r\n","title":"What&#39;s the cleanest way to chain multiple optional query parameters in Hibernate?","body":"<p>What is the best way to chain multiple optional parameters to a query in hibernate?</p>\n<p>Doing something like this feels very clunky, but I don't see a better way to do it:</p>\n<pre><code>StringBuilder builder = new StringBuilder(&quot;SELECT a from address a WHERE &quot;);\n    \nif(!StringUtil.isNullOrEmpty(streetName)) {\n  builder.append(&quot;a.streetName = :streetName AND &quot;);\n}\nif(!StringUtil.isNullOrEmpty(houseNumber)) {\n  builder.append(&quot;a.houseNumber = :houseNumber AND &quot;);\n}\nif(!StringUtil.isNullOrEmpty(city)) {\n  builder.append(&quot;a.city = :city AND &quot;);\n}\nif(!StringUtil.isNullOrEmpty(countryCode)) {\n  builder.append(&quot;a.countryCode = :countryCode AND &quot;);\n}\nString sql = builder.substring(0, builder.length() - 4); //remove trailing 'AND'\n  \nTypedQuery&lt;AddressEntity&gt; query = entityManager.createQuery(sql, AddressEntity.class);\n \nif(!StringUtil.isNullOrEmpty(streetName)) {\n  query.setParameter(&quot;streetName&quot;, streetName);\n}\nif(!StringUtil.isNullOrEmpty(houseNumber)) {\n  query.setParameter(&quot;houseNumber&quot;, houseNumber);\n}\nif(!StringUtil.isNullOrEmpty(city)) {\n  query.setParameter(&quot;city&quot;, city);\n}\nif(!StringUtil.isNullOrEmpty(countryCode)) {\n  query.setParameter(&quot;countryCode&quot;, countryCode);\n}\n  \nreturn query.getResultList();\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1685453369,"post_id":76365185,"comment_id":134659665,"body_markdown":"Why do you have multiple dependencies for the same artifact?","body":"Why do you have multiple dependencies for the same artifact?"},{"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"score":0,"creation_date":1686251950,"post_id":76365185,"comment_id":134777273,"body_markdown":"One is needed to run when testing and one is needed to run when a specific profile is given. This redundancy is what I am trying to avoid hence the final comment.","body":"One is needed to run when testing and one is needed to run when a specific profile is given. This redundancy is what I am trying to avoid hence the final comment."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685512871,"creation_date":1685512871,"answer_id":76370574,"question_id":76365185,"body_markdown":"You may potentially override dependency scopes via properties as was described in [Override maven dependency scope in profile](https://stackoverflow.com/a/51136345/3426309), in your case that would look like:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  &lt;h2.scope&gt;test&lt;/h2.scope&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n    &lt;id&gt;local&lt;/id&gt;\r\n    &lt;properties&gt;\r\n      &lt;h2.scope&gt;runtime&lt;/h2.scope&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;scope&gt;${h2.scope}&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nMoreover, you may even more weird things like [defining &quot;dynamic dependencies&quot;](https://stackoverflow.com/a/28426305/3426309).\r\n\r\nHowever, despite the fact `maven` allows such setups you are better off with staying clear of them: [maven team](https://maven.apache.org/guides/introduction/introduction-to-profiles.html) defines profile use cases as the last resort of influencing on a build process or environment, in the most cases more convenient options do exist. ","title":"Is there a way to avoid multiple imports on h2 in maven when providing a profile to test locally?","body":"<p>You may potentially override dependency scopes via properties as was described in <a href=\"https://stackoverflow.com/a/51136345/3426309\">Override maven dependency scope in profile</a>, in your case that would look like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;h2.scope&gt;test&lt;/h2.scope&gt;\n&lt;/properties&gt;\n\n&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;local&lt;/id&gt;\n    &lt;properties&gt;\n      &lt;h2.scope&gt;runtime&lt;/h2.scope&gt;\n    &lt;/properties&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;scope&gt;${h2.scope}&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Moreover, you may even more weird things like <a href=\"https://stackoverflow.com/a/28426305/3426309\">defining &quot;dynamic dependencies&quot;</a>.</p>\n<p>However, despite the fact <code>maven</code> allows such setups you are better off with staying clear of them: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-profiles.html\" rel=\"nofollow noreferrer\">maven team</a> defines profile use cases as the last resort of influencing on a build process or environment, in the most cases more convenient options do exist.</p>\n"}],"owner":{"account_id":12908744,"reputation":3232,"user_id":9335205,"accept_rate":50,"display_name":"JGleason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76370574,"answer_count":1,"score":1,"last_activity_date":1685512871,"creation_date":1685451939,"question_id":76365185,"body_markdown":"I currently have the following...\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    ...\r\n    &lt;dependencies&gt;\r\n       ...\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;local&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                    &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIs there a way to do this without the multiple imports?","title":"Is there a way to avoid multiple imports on h2 in maven when providing a profile to test locally?","body":"<p>I currently have the following...</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    ...\n    &lt;dependencies&gt;\n       ...\n       &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;&gt;\n    &lt;/dependencies&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n                    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n                    &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Is there a way to do this without the multiple imports?</p>\n"},{"tags":["java","android","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":9906633,"reputation":1075,"user_id":7334951,"display_name":"Younes Charfaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685512443,"creation_date":1685512443,"answer_id":76370541,"question_id":76370313,"body_markdown":"Yep, GC can handle active graphs, even if the root is part of a cycle. The GC can trace the references from the root to the grandchild node, and then back to the root, which eventually breaks the cycle. This allows the GC to collect the memory used by the objects in the cycle.\r\n\r\nNowadays, most garbage collectors are designed to detect and collect cyclic references, also called garbage cycles or memory leaks. However, the effectiveness of garbage collection in handling cycles depends on the specific GC algorithm and its implementation.\r\n\r\nSome garbage collectors, such as the mark-and-sweep algorithm with reachability analysis, can manage cyclic references by identifying objects that are no longer reachable from any GC root and reclaiming their memory. To mark and sweep objects, these algorithms use graph traversal techniques, breaking cycles and freeing memory occupied by unreachable objects.\r\n\r\nIf you are concerned about a potential memory leak caused by cyclic references,, Use memory profiling tools, like Android Profiler in Android Studio, to identify any strong reference cycles causing a memory leak.","title":"Will gc root root be cleaned up if referenced by a child object?","body":"<p>Yep, GC can handle active graphs, even if the root is part of a cycle. The GC can trace the references from the root to the grandchild node, and then back to the root, which eventually breaks the cycle. This allows the GC to collect the memory used by the objects in the cycle.</p>\n<p>Nowadays, most garbage collectors are designed to detect and collect cyclic references, also called garbage cycles or memory leaks. However, the effectiveness of garbage collection in handling cycles depends on the specific GC algorithm and its implementation.</p>\n<p>Some garbage collectors, such as the mark-and-sweep algorithm with reachability analysis, can manage cyclic references by identifying objects that are no longer reachable from any GC root and reclaiming their memory. To mark and sweep objects, these algorithms use graph traversal techniques, breaking cycles and freeing memory occupied by unreachable objects.</p>\n<p>If you are concerned about a potential memory leak caused by cyclic references,, Use memory profiling tools, like Android Profiler in Android Studio, to identify any strong reference cycles causing a memory leak.</p>\n"}],"owner":{"account_id":28287175,"reputation":3,"user_id":21627938,"display_name":"Scott McDiggles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76370541,"answer_count":1,"score":0,"last_activity_date":1685512443,"creation_date":1685509759,"question_id":76370313,"body_markdown":"Debugging memory issues and I noticed that a gc root was referenced by a grandchild node. I know that the gc can generally handle grap hg s that are active, but does it handle it correctly if the root is part of the cycle? Or is this a leak?\r\n\r\n","title":"Will gc root root be cleaned up if referenced by a child object?","body":"<p>Debugging memory issues and I noticed that a gc root was referenced by a grandchild node. I know that the gc can generally handle grap hg s that are active, but does it handle it correctly if the root is part of the cycle? Or is this a leak?</p>\n"},{"tags":["java","spring"],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685512243,"creation_date":1685504956,"question_id":76370038,"body_markdown":"I have a rest api which return response like below:\r\n\r\n    {\r\n       code : &#39;00000&#39;, \r\n       total: 2\r\n       data : [\r\n          {},\r\n          {},\r\n       ]\r\n    }\r\n\r\nthe data is an array of type depends on uri. for example, if uri is `/user`\r\n\r\n    {\r\n       code : &#39;00000&#39;, \r\n       total: 2 \r\n       data : [\r\n          {&quot;username&quot; : &quot;jack&quot;, email: &quot;jack@acme.com&quot;},\r\n          {&quot;username&quot; : &quot;rose&quot;, email: &quot;rose@acme.com&quot;}\r\n       ]\r\n    }\r\n\r\nif uri is `/task`, then response will be \r\n```\r\n    {\r\n       code : &#39;00000&#39;,\r\n       total: 2 \r\n       data : [\r\n          {&quot;id&quot; : 1, name: &quot;clean house&quot;},\r\n          {&quot;id&quot; : 2, name: &quot;buy food&quot;}\r\n       ]\r\n    }\r\n```\r\n\r\nmy java model to represent such response:\r\n\r\n```\r\npublic class SEAReadResponse&lt;T&gt; extends SEAResponse {\r\n\t\r\n\tprivate long total;\r\n\t\r\n\tprivate List&lt;T&gt; data;\r\n\r\n\tpublic long getTotal() {\r\n\t\treturn total;\r\n\t}\r\n\r\n\tpublic void setTotal(long total) {\r\n\t\tthis.total = total;\r\n\t}\r\n\r\n\tpublic List&lt;T&gt; getData() {\r\n\t\treturn data;\r\n\t}\r\n\r\n\tpublic void setData(List&lt;T&gt; data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\t\r\n}\r\n```\r\nnow calling such api with spring&#39;s WebClient:\r\n\r\n\r\n```\r\npublic class HttpRestSEAClient implements ISEAClient {\r\n\t\r\n\tprivate WebClient client;\r\n\t\r\n\tpublic HttpRestSEAClient(WebClient.Builder builder) {\r\n\t\tclient = builder.build();\r\n\t}\r\n\r\n\tpublic &lt;T&gt; List&lt;T&gt; read(SEAReadRequest&lt;T&gt; req) {\r\n\t\tParameterizedTypeReference&lt;SEAReadResponse&lt;T&gt;&gt; typeReference = new ParameterizedTypeReference&lt;SEAReadResponse&lt;T&gt;&gt;() {};\r\n\t\treturn client.put().uri(req.getLocator()).bodyValue(req).retrieve().bodyToMono(typeReference).block().getData();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\nSEAReadRequest&lt;User&gt; userReq = new SEAReadRequest&lt;User&gt;();\r\nuserReq.setLocator(&quot;pub/user&quot;);\r\nuserReq.setFilter(in(&quot;userId&quot;, userIds.keySet()));\r\nuserReq.setIncludes(new String[] {&quot;userId&quot;, &quot;userName&quot;});\r\nclient.read(userReq).forEach(u -&gt; {\r\n\tuserIds.put(u.getUserId(), u.getUserName());\r\n});\r\n```\r\n\r\nan CCE was thrown:\r\n```\r\njava.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to fwx.apps.pub.models.User\r\n```\r\nplease help.","title":"Spring WebClient deserialize json to generic types","body":"<p>I have a rest api which return response like below:</p>\n<pre><code>{\n   code : '00000', \n   total: 2\n   data : [\n      {},\n      {},\n   ]\n}\n</code></pre>\n<p>the data is an array of type depends on uri. for example, if uri is <code>/user</code></p>\n<pre><code>{\n   code : '00000', \n   total: 2 \n   data : [\n      {&quot;username&quot; : &quot;jack&quot;, email: &quot;jack@acme.com&quot;},\n      {&quot;username&quot; : &quot;rose&quot;, email: &quot;rose@acme.com&quot;}\n   ]\n}\n</code></pre>\n<p>if uri is <code>/task</code>, then response will be</p>\n<pre><code>    {\n       code : '00000',\n       total: 2 \n       data : [\n          {&quot;id&quot; : 1, name: &quot;clean house&quot;},\n          {&quot;id&quot; : 2, name: &quot;buy food&quot;}\n       ]\n    }\n</code></pre>\n<p>my java model to represent such response:</p>\n<pre><code>public class SEAReadResponse&lt;T&gt; extends SEAResponse {\n    \n    private long total;\n    \n    private List&lt;T&gt; data;\n\n    public long getTotal() {\n        return total;\n    }\n\n    public void setTotal(long total) {\n        this.total = total;\n    }\n\n    public List&lt;T&gt; getData() {\n        return data;\n    }\n\n    public void setData(List&lt;T&gt; data) {\n        this.data = data;\n    }\n    \n}\n</code></pre>\n<p>now calling such api with spring's WebClient:</p>\n<pre><code>public class HttpRestSEAClient implements ISEAClient {\n    \n    private WebClient client;\n    \n    public HttpRestSEAClient(WebClient.Builder builder) {\n        client = builder.build();\n    }\n\n    public &lt;T&gt; List&lt;T&gt; read(SEAReadRequest&lt;T&gt; req) {\n        ParameterizedTypeReference&lt;SEAReadResponse&lt;T&gt;&gt; typeReference = new ParameterizedTypeReference&lt;SEAReadResponse&lt;T&gt;&gt;() {};\n        return client.put().uri(req.getLocator()).bodyValue(req).retrieve().bodyToMono(typeReference).block().getData();\n    }\n\n}\n</code></pre>\n<pre><code>SEAReadRequest&lt;User&gt; userReq = new SEAReadRequest&lt;User&gt;();\nuserReq.setLocator(&quot;pub/user&quot;);\nuserReq.setFilter(in(&quot;userId&quot;, userIds.keySet()));\nuserReq.setIncludes(new String[] {&quot;userId&quot;, &quot;userName&quot;});\nclient.read(userReq).forEach(u -&gt; {\n    userIds.put(u.getUserId(), u.getUserName());\n});\n</code></pre>\n<p>an CCE was thrown:</p>\n<pre><code>java.lang.ClassCastException: java.util.LinkedHashMap cannot be cast to fwx.apps.pub.models.User\n</code></pre>\n<p>please help.</p>\n"},{"tags":["java","pass-by-reference"],"answers":[{"tags":[],"owner":{"account_id":26335795,"reputation":948,"user_id":19995658,"display_name":"Sparkling Marcel "},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685512211,"creation_date":1685512211,"answer_id":76370519,"question_id":76370402,"body_markdown":"In Java, when you pass an object as a parameter to a method, you are actually passing a copy of the reference to that object. \r\n\r\nSo, when you reassign deepestLevelSum with \r\n\r\n    deepestLevelSum = new HashMap.SimpleEntry(level, root.val);\r\n\r\n     \r\nyou are assigning a new reference to the local deepestLevelSum variable within the method, but it does not affect the original reference outside the method ence why \r\n\r\n    return deepestLevelSum.getValue();\r\n\r\ndoesn&#39;t return the value you expected.\r\n\r\nIn the end, what you are doing is &quot;overwriting&quot; the reference copy you have, while what you were expecting is &quot;overwriting&quot; the object to which the reference leads.\r\n\r\nHope this is clear","title":"Why don&#39;t updates to Map.Entry&lt;Integer,Integer&gt; in a Java child method reflect in the parent method, when passed around as state?","body":"<p>In Java, when you pass an object as a parameter to a method, you are actually passing a copy of the reference to that object.</p>\n<p>So, when you reassign deepestLevelSum with</p>\n<pre><code>deepestLevelSum = new HashMap.SimpleEntry(level, root.val);\n\n \n</code></pre>\n<p>you are assigning a new reference to the local deepestLevelSum variable within the method, but it does not affect the original reference outside the method ence why</p>\n<pre><code>return deepestLevelSum.getValue();\n</code></pre>\n<p>doesn't return the value you expected.</p>\n<p>In the end, what you are doing is &quot;overwriting&quot; the reference copy you have, while what you were expecting is &quot;overwriting&quot; the object to which the reference leads.</p>\n<p>Hope this is clear</p>\n"}],"owner":{"account_id":5319652,"reputation":21,"user_id":4243461,"display_name":"Zephyr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685582707,"accepted_answer_id":76370519,"answer_count":1,"score":-1,"last_activity_date":1685512211,"creation_date":1685511016,"question_id":76370402,"body_markdown":"I am trying to solve a simple leetcode problem. The question is a tree-problem , asking us to return the deepest leaves sum. \r\nhttps://leetcode.com/problems/deepest-leaves-sum/description/\r\n\r\nI used DFS to solve this problem. I pass a level variable as one of the inputs to the recursive DFS call. I report the result (if the level is indeed deeper than or equal to what we have seen before) at the leaf node (base case). I used a Map.Entry&lt;Integer, Integer&gt; to hold the result - which maps the deepest level to its respective sum. \r\n \r\nWhat I notice is when  I declare this Map.Entry&lt;&gt; as a global class level variable, the methods reflect the updates made to it correctly. But when I initialize it to null in the parent function and pass it around as state in the dfs call, trying to update it at the leaf nodes - the changes don&#39;t reflect in the main method. \r\n\r\nI am struggling to understand why? \r\n\r\n\r\nThis works\r\n```\r\n/**\r\n * Definition for a binary tree node.\r\n * public class TreeNode {\r\n *     int val;\r\n *     TreeNode left;\r\n *     TreeNode right;\r\n *     TreeNode() {}\r\n *     TreeNode(int val) { this.val = val; }\r\n *     TreeNode(int val, TreeNode left, TreeNode right) {\r\n *         this.val = val;\r\n *         this.left = left;\r\n *         this.right = right;\r\n *     }\r\n * }\r\n */\r\nclass Solution {\r\n\r\n    Map.Entry&lt;Integer, Integer&gt; deepestLevelSum; \r\n\r\n    public int deepestLeavesSum(TreeNode root) {\r\n        if (root.left == null &amp;&amp; root.right == null)\r\n            return root.val;\r\n        deepestLevelSum = null;\r\n        dfsHelper(root, 0);\r\n        return deepestLevelSum.getValue();\r\n    }\r\n\r\n    private void dfsHelper(TreeNode root, int level){\r\n        //report result if valid\r\n        if (root.left == null &amp;&amp; root.right == null) {\r\n            if (deepestLevelSum == null || deepestLevelSum.getKey() &lt; level) {\r\n                deepestLevelSum = new HashMap.SimpleEntry(level, root.val);     \r\n            } else if (deepestLevelSum.getKey() == level){\r\n                deepestLevelSum.setValue(deepestLevelSum.getValue()+root.val);\r\n            }\r\n        } else {\r\n            if (root.left != null) \r\n                dfsHelper(root.left, level+1);\r\n            if (root.right != null)\r\n                dfsHelper(root.right, level+1);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nBut this doesn&#39;t. Changes made to Map.Entry&lt;Integer, Integer&gt; deepestLevelSum variable in the dfs call, doesn&#39;t get reflected in the main (parent) method. \r\n\r\n\r\n```\r\nclass Solution {\r\n\r\n    public int deepestLeavesSum(TreeNode root) {\r\n        if (root.left == null &amp;&amp; root.right == null)\r\n            return root.val;\r\n        Map.Entry&lt;Integer, Integer&gt; deepestLevelSum = new HashMap.SimpleEntry(0, root.val); \r\n        dfsHelper(root, 0, deepestLevelSum);\r\n        return deepestLevelSum.getValue();\r\n    }\r\n\r\n    private void dfsHelper(TreeNode root, int level, Map.Entry&lt;Integer, Integer&gt; deepestLevelSum){\r\n        //report result if valid\r\n        if (root.left == null &amp;&amp; root.right == null) {\r\n            if (deepestLevelSum == null || deepestLevelSum.getKey() &lt; level) {\r\n                deepestLevelSum = new HashMap.SimpleEntry(level, root.val);     \r\n            } else if (deepestLevelSum.getKey() == level){\r\n                deepestLevelSum.setValue(deepestLevelSum.getValue()+root.val);\r\n            }\r\n        } else {\r\n            if (root.left != null) \r\n                dfsHelper(root.left, level+1, deepestLevelSum);\r\n            if (root.right != null)\r\n                dfsHelper(root.right, level+1, deepestLevelSum);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nAs far as I understand, the entry is mutable - that&#39;s why we have the setValue() method, but am I missing something in my basic understanding of pass-by-reference? ","title":"Why don&#39;t updates to Map.Entry&lt;Integer,Integer&gt; in a Java child method reflect in the parent method, when passed around as state?","body":"<p>I am trying to solve a simple leetcode problem. The question is a tree-problem , asking us to return the deepest leaves sum.\n<a href=\"https://leetcode.com/problems/deepest-leaves-sum/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/deepest-leaves-sum/description/</a></p>\n<p>I used DFS to solve this problem. I pass a level variable as one of the inputs to the recursive DFS call. I report the result (if the level is indeed deeper than or equal to what we have seen before) at the leaf node (base case). I used a Map.Entry&lt;Integer, Integer&gt; to hold the result - which maps the deepest level to its respective sum.</p>\n<p>What I notice is when  I declare this Map.Entry&lt;&gt; as a global class level variable, the methods reflect the updates made to it correctly. But when I initialize it to null in the parent function and pass it around as state in the dfs call, trying to update it at the leaf nodes - the changes don't reflect in the main method.</p>\n<p>I am struggling to understand why?</p>\n<p>This works</p>\n<pre><code>/**\n * Definition for a binary tree node.\n * public class TreeNode {\n *     int val;\n *     TreeNode left;\n *     TreeNode right;\n *     TreeNode() {}\n *     TreeNode(int val) { this.val = val; }\n *     TreeNode(int val, TreeNode left, TreeNode right) {\n *         this.val = val;\n *         this.left = left;\n *         this.right = right;\n *     }\n * }\n */\nclass Solution {\n\n    Map.Entry&lt;Integer, Integer&gt; deepestLevelSum; \n\n    public int deepestLeavesSum(TreeNode root) {\n        if (root.left == null &amp;&amp; root.right == null)\n            return root.val;\n        deepestLevelSum = null;\n        dfsHelper(root, 0);\n        return deepestLevelSum.getValue();\n    }\n\n    private void dfsHelper(TreeNode root, int level){\n        //report result if valid\n        if (root.left == null &amp;&amp; root.right == null) {\n            if (deepestLevelSum == null || deepestLevelSum.getKey() &lt; level) {\n                deepestLevelSum = new HashMap.SimpleEntry(level, root.val);     \n            } else if (deepestLevelSum.getKey() == level){\n                deepestLevelSum.setValue(deepestLevelSum.getValue()+root.val);\n            }\n        } else {\n            if (root.left != null) \n                dfsHelper(root.left, level+1);\n            if (root.right != null)\n                dfsHelper(root.right, level+1);\n        }\n    }\n}\n</code></pre>\n<p>But this doesn't. Changes made to Map.Entry&lt;Integer, Integer&gt; deepestLevelSum variable in the dfs call, doesn't get reflected in the main (parent) method.</p>\n<pre><code>class Solution {\n\n    public int deepestLeavesSum(TreeNode root) {\n        if (root.left == null &amp;&amp; root.right == null)\n            return root.val;\n        Map.Entry&lt;Integer, Integer&gt; deepestLevelSum = new HashMap.SimpleEntry(0, root.val); \n        dfsHelper(root, 0, deepestLevelSum);\n        return deepestLevelSum.getValue();\n    }\n\n    private void dfsHelper(TreeNode root, int level, Map.Entry&lt;Integer, Integer&gt; deepestLevelSum){\n        //report result if valid\n        if (root.left == null &amp;&amp; root.right == null) {\n            if (deepestLevelSum == null || deepestLevelSum.getKey() &lt; level) {\n                deepestLevelSum = new HashMap.SimpleEntry(level, root.val);     \n            } else if (deepestLevelSum.getKey() == level){\n                deepestLevelSum.setValue(deepestLevelSum.getValue()+root.val);\n            }\n        } else {\n            if (root.left != null) \n                dfsHelper(root.left, level+1, deepestLevelSum);\n            if (root.right != null)\n                dfsHelper(root.right, level+1, deepestLevelSum);\n        }\n    }\n}\n\n</code></pre>\n<p>As far as I understand, the entry is mutable - that's why we have the setValue() method, but am I missing something in my basic understanding of pass-by-reference?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685509922,"post_id":76370297,"comment_id":134668310,"body_markdown":"`cb.or(cb.equal(r.get(&quot;tabNum&quot;), 23), outerRoot.get(&quot;group_id&quot;).in(subQuery))`","body":"<code>cb.or(cb.equal(r.get(&quot;tabNum&quot;), 23), outerRoot.get(&quot;group_id&quot;).in(subQuery))</code>"}],"answers":[{"tags":[],"owner":{"account_id":13946546,"reputation":272,"user_id":10071165,"display_name":"tapsshore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685511503,"creation_date":1685511503,"answer_id":76370456,"question_id":76370297,"body_markdown":"    public static Predicate studentPredicate(CriteriaBuilder criteriaBuilder, Root&lt;Student&gt; root) {\r\n        Subquery&lt;String&gt; subQuery = outerQuery.subquery(String.class);\r\n        Root&lt;Class&gt; subRoot = subQuery.from(Class.class);\r\n        subQuery.select(subRoot.get(&quot;student_id&quot;))\r\n                .where(criteriaBuilder.equal(subRoot.get(&quot;place&quot;), &quot;23&quot;), criteriaBuilder.isNotNull(subRoot.get(&quot;student_id&quot;)));\r\n        Predicate mainQueryPredicate = criteriaBuilder.or(\r\n                criteriaBuilder.in(root.get(&quot;group_id&quot;)).value(subQuery),\r\n                criteriaBuilder.equal(root.get(&quot;tabNum&quot;), &quot;23&quot;)\r\n        );\r\n    \r\n        return mainQueryPredicate;\r\n    }\r\n\r\nIn this code, I have used Subquery&lt;String&gt; instead of CriteriaQuery&lt;Class&gt; to retrieve the student IDs from the Class table. The outerQuery.subquery(String.class) gives the type  of the subquery as String (assuming student_id is of type String).\r\n\r\nAlso i created the mainQueryPredicate using criteriaBuilder.or to group together the two conditions: the IN condition using criteriaBuilder.in with the subquery as the value, the equality condition using criteriaBuilder.equal comparing tabNum with the value &quot;23&quot;.\r\n\r\nPlease adjust the types and conditions according to your data model.","title":"Java specification select query","body":"<pre><code>public static Predicate studentPredicate(CriteriaBuilder criteriaBuilder, Root&lt;Student&gt; root) {\n    Subquery&lt;String&gt; subQuery = outerQuery.subquery(String.class);\n    Root&lt;Class&gt; subRoot = subQuery.from(Class.class);\n    subQuery.select(subRoot.get(&quot;student_id&quot;))\n            .where(criteriaBuilder.equal(subRoot.get(&quot;place&quot;), &quot;23&quot;), criteriaBuilder.isNotNull(subRoot.get(&quot;student_id&quot;)));\n    Predicate mainQueryPredicate = criteriaBuilder.or(\n            criteriaBuilder.in(root.get(&quot;group_id&quot;)).value(subQuery),\n            criteriaBuilder.equal(root.get(&quot;tabNum&quot;), &quot;23&quot;)\n    );\n\n    return mainQueryPredicate;\n}\n</code></pre>\n<p>In this code, I have used Subquery instead of CriteriaQuery to retrieve the student IDs from the Class table. The outerQuery.subquery(String.class) gives the type  of the subquery as String (assuming student_id is of type String).</p>\n<p>Also i created the mainQueryPredicate using criteriaBuilder.or to group together the two conditions: the IN condition using criteriaBuilder.in with the subquery as the value, the equality condition using criteriaBuilder.equal comparing tabNum with the value &quot;23&quot;.</p>\n<p>Please adjust the types and conditions according to your data model.</p>\n"}],"owner":{"account_id":20968555,"reputation":123,"user_id":15406186,"display_name":"AlexWhite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685511503,"creation_date":1685509468,"question_id":76370297,"body_markdown":"I have a following sql query, that I need to change to java specification:\r\n\r\n    select * from student s where s.group_id in (\r\n    select student_id from class c where c.place=&#39;23&#39; and c.student_id IS NOT NULL)\r\n    or s.tab_num = &#39;23&#39;;\r\n\r\n \r\n\r\nHere I have two different tables: Student and Class. Here what I have done by now. \r\n\r\n\r\n    public static Predicate studentPredicate(CriteriaBuilder cb, Root&lt;?&gt; r) {\r\n\r\n    CriteriaQuery&lt;Class&gt; subQuery = cb.createQuery(Class.class);\r\n\r\n    Root&lt;Class&gt; subRoot = subQuery.from(Class.class);\r\n\r\n    subQuery.select(subRoot.get(&quot;student_id&quot;)).where(cb.equal(subRoot.get(&quot;place&quot;), 23L), cb.isNotNull(subRoot.get(&quot;student_id&quot;));\r\n\r\n    CriteriaQuery&lt;Dictionary&gt; id = outerQuery.where(outerRoot.get(&quot;group_id&quot;).in(subQuery));\r\n\r\n    return cb.or(cb.equal(r.get(&quot;tabNum&quot;), 23)); // here is an issue\r\n}\r\n\r\nI have an issue with the last line of code. Cant compare the id result with cb.or(). Is there a way to resolve this or another way to code the sql query?\r\n","title":"Java specification select query","body":"<p>I have a following sql query, that I need to change to java specification:</p>\n<pre><code>select * from student s where s.group_id in (\nselect student_id from class c where c.place='23' and c.student_id IS NOT NULL)\nor s.tab_num = '23';\n</code></pre>\n<p>Here I have two different tables: Student and Class. Here what I have done by now.</p>\n<pre><code>public static Predicate studentPredicate(CriteriaBuilder cb, Root&lt;?&gt; r) {\n\nCriteriaQuery&lt;Class&gt; subQuery = cb.createQuery(Class.class);\n\nRoot&lt;Class&gt; subRoot = subQuery.from(Class.class);\n\nsubQuery.select(subRoot.get(&quot;student_id&quot;)).where(cb.equal(subRoot.get(&quot;place&quot;), 23L), cb.isNotNull(subRoot.get(&quot;student_id&quot;));\n\nCriteriaQuery&lt;Dictionary&gt; id = outerQuery.where(outerRoot.get(&quot;group_id&quot;).in(subQuery));\n\nreturn cb.or(cb.equal(r.get(&quot;tabNum&quot;), 23)); // here is an issue\n</code></pre>\n<p>}</p>\n<p>I have an issue with the last line of code. Cant compare the id result with cb.or(). Is there a way to resolve this or another way to code the sql query?</p>\n"},{"tags":["java","solidity","web3-java"],"answers":[{"tags":[],"owner":{"account_id":5785308,"reputation":433,"user_id":4564749,"display_name":"Sourabh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685511302,"creation_date":1685511302,"answer_id":76370432,"question_id":73680365,"body_markdown":"I had the conversion issues once. However the root cause was configuration of dev-tools.\r\n\r\nAfter removing the dependency from gradle file, rebuilding the project. It worked find for me. ","title":"java.util.concurrent.ExecutionException: org.web3j.tx.exceptions.ContractCallException: Unable to convert response","body":"<p>I had the conversion issues once. However the root cause was configuration of dev-tools.</p>\n<p>After removing the dependency from gradle file, rebuilding the project. It worked find for me.</p>\n"}],"owner":{"account_id":17226386,"reputation":26,"user_id":12471918,"display_name":"Zi Hang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685511302,"creation_date":1662908922,"question_id":73680365,"body_markdown":"I&#39;m having some trouble with web3j and calling getter functions for structs in java. \r\n\r\nAs per the title, whenever I call the function in web3j, e.g.:\r\n\r\n`\r\nMetadata _metadata = complianceContract.getDocMetadata(hash).send();\r\n`\r\n\r\nI would get the error (for this query):\r\n\r\n`org.web3j.tx.exceptions.ContractCallException: Unable to convert response: [org.web3j.abi.datatypes.generated.Uint8@cda25fa6, AOATESTFILE.pdf] to expected type: Metadata`\r\n\r\nI used the web3j CLI to generate the wrapper file, but still to no luck. Here&#39;s the snippet for this particular type. \r\n\r\n```java\r\npublic static class Metadata extends DynamicStruct {\r\n        public BigInteger docType;\r\n\r\n        public String fileName;\r\n\r\n        public Metadata(BigInteger docType, String fileName) {\r\n            super(new org.web3j.abi.datatypes.generated.Uint8(docType),new org.web3j.abi.datatypes.Utf8String(fileName));\r\n            this.docType = docType;\r\n            this.fileName = fileName;\r\n        }\r\n\r\n        public Metadata(Uint8 docType, Utf8String fileName) {\r\n            super(docType,fileName);\r\n            this.docType = docType.getValue();\r\n            this.fileName = fileName.getValue();\r\n        }\r\n    }\r\n```\r\n\r\nAnd it&#39;s subsequent function call:\r\n\r\n```java\r\n    public RemoteFunctionCall&lt;Metadata&gt; getDocMetadata(byte[] _hash) {\r\n        final org.web3j.abi.datatypes.Function function = new org.web3j.abi.datatypes.Function(FUNC_GETDOCMETADATA, \r\n                Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Bytes32(_hash)), \r\n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Metadata&gt;() {}));\r\n        return executeRemoteCallSingleValueReturn(function, Metadata.class);\r\n    }\r\n```\r\n```\r\n","title":"java.util.concurrent.ExecutionException: org.web3j.tx.exceptions.ContractCallException: Unable to convert response","body":"<p>I'm having some trouble with web3j and calling getter functions for structs in java.</p>\n<p>As per the title, whenever I call the function in web3j, e.g.:</p>\n<p><code>Metadata _metadata = complianceContract.getDocMetadata(hash).send();</code></p>\n<p>I would get the error (for this query):</p>\n<p><code>org.web3j.tx.exceptions.ContractCallException: Unable to convert response: [org.web3j.abi.datatypes.generated.Uint8@cda25fa6, AOATESTFILE.pdf] to expected type: Metadata</code></p>\n<p>I used the web3j CLI to generate the wrapper file, but still to no luck. Here's the snippet for this particular type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Metadata extends DynamicStruct {\n        public BigInteger docType;\n\n        public String fileName;\n\n        public Metadata(BigInteger docType, String fileName) {\n            super(new org.web3j.abi.datatypes.generated.Uint8(docType),new org.web3j.abi.datatypes.Utf8String(fileName));\n            this.docType = docType;\n            this.fileName = fileName;\n        }\n\n        public Metadata(Uint8 docType, Utf8String fileName) {\n            super(docType,fileName);\n            this.docType = docType.getValue();\n            this.fileName = fileName.getValue();\n        }\n    }\n</code></pre>\n<p>And it's subsequent function call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public RemoteFunctionCall&lt;Metadata&gt; getDocMetadata(byte[] _hash) {\n        final org.web3j.abi.datatypes.Function function = new org.web3j.abi.datatypes.Function(FUNC_GETDOCMETADATA, \n                Arrays.&lt;Type&gt;asList(new org.web3j.abi.datatypes.generated.Bytes32(_hash)), \n                Arrays.&lt;TypeReference&lt;?&gt;&gt;asList(new TypeReference&lt;Metadata&gt;() {}));\n        return executeRemoteCallSingleValueReturn(function, Metadata.class);\n    }\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1685543777,"post_id":76370410,"comment_id":134675429,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":9248415,"reputation":1,"user_id":6869631,"display_name":"Назар Пронь"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685511065,"creation_date":1685511065,"question_id":76370410,"body_markdown":"Is it possible to set watermark in the Google Dataflow to current system time? \r\n\r\nIs it possible to set watermark in the Google Dataflow to current system time? Im using Sliding Window 10 seconds every 5 seconds, but wery offten multiple sliding windows firing at the same time (some ot them has delay 20-30 seconds some 0). \r\n[3 windows fires at the same time](https://i.stack.imgur.com/3lR30.png)","title":"Is it possible to set watermark in the Google Dataflow to current system time?","body":"<p>Is it possible to set watermark in the Google Dataflow to current system time?</p>\n<p>Is it possible to set watermark in the Google Dataflow to current system time? Im using Sliding Window 10 seconds every 5 seconds, but wery offten multiple sliding windows firing at the same time (some ot them has delay 20-30 seconds some 0).\n<a href=\"https://i.stack.imgur.com/3lR30.png\" rel=\"nofollow noreferrer\">3 windows fires at the same time</a></p>\n"},{"tags":["java","random","do-while"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1685507561,"post_id":76370149,"comment_id":134668108,"body_markdown":"[How do I generate random integers within a specific range in Java?](https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java)","body":"<a href=\"https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java\">How do I generate random integers within a specific range in Java?</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685507857,"post_id":76370149,"comment_id":134668131,"body_markdown":"You can use the _[Random#nextInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int))_ method, which has a lower and upper bound as parameters.","body":"You can use the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)\" rel=\"nofollow noreferrer\">Random#nextInt</a></i> method, which has a lower and upper bound as parameters."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685507951,"post_id":76370149,"comment_id":134668139,"body_markdown":"I don&#39;t see the point of having sides if you&#39;ve defined the bounds, but it would seem that something like `return ThreadLocalRandom.current().nextInt(min, max - 1);` would do exactly what you&#39;re asking (Oh, and &quot;die&quot; is the singular, &quot;dice&quot; is the plural ... oh my, I&#39;m giving grammar corrections, the world has truely come to and end &#128540;&#129315;) - oh and is max/min inclusive or exclusive as that would change your bounds ranges","body":"I don&#39;t see the point of having sides if you&#39;ve defined the bounds, but it would seem that something like <code>return ThreadLocalRandom.current().nextInt(min, max - 1);</code> would do exactly what you&#39;re asking (Oh, and &quot;die&quot; is the singular, &quot;dice&quot; is the plural ... oh my, I&#39;m giving grammar corrections, the world has truely come to and end 😜🤣) - oh and is max/min inclusive or exclusive as that would change your bounds ranges"},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1685508377,"post_id":76370149,"comment_id":134668173,"body_markdown":"So if there was a 20 sided die, and min was 16 and max was 25, you&#39;d want any of the int values 16 through 20 to be returned, each with a 20% chance?","body":"So if there was a 20 sided die, and min was 16 and max was 25, you&#39;d want any of the int values 16 through 20 to be returned, each with a 20% chance?"}],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685508780,"creation_date":1685508780,"answer_id":76370258,"question_id":76370149,"body_markdown":"Assuming I&#39;m interpreting your intentions correctly, as a concrete example, `rollDie` for a `MinMaxDice` with `sides = 20`, `min = 16`, and `max = 25` should produce an int value between 16 and 20, each with an equal 20% chance.\r\n\r\nIn that case, we can use [`ThreadLocalRandom.nextInt(int origin, int bound)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)) to generate a random number in the allowed range:\r\n\r\n&gt; Returns a pseudorandomly chosen int value between the specified origin (inclusive) and the specified bound (exclusive).\r\n\r\n```lang-java\r\npublic int rollDie() {\r\n    return ThreadLocalRandom.current()\r\n            .nextInt(this.min, 1 + Math.min(this.max, this.sides));\r\n}\r\n```","title":"I am trying to set an upper bounds for a random int generator independant of the maximum value set in the generator itself","body":"<p>Assuming I'm interpreting your intentions correctly, as a concrete example, <code>rollDie</code> for a <code>MinMaxDice</code> with <code>sides = 20</code>, <code>min = 16</code>, and <code>max = 25</code> should produce an int value between 16 and 20, each with an equal 20% chance.</p>\n<p>In that case, we can use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom.nextInt(int origin, int bound)</code></a> to generate a random number in the allowed range:</p>\n<blockquote>\n<p>Returns a pseudorandomly chosen int value between the specified origin (inclusive) and the specified bound (exclusive).</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public int rollDie() {\n    return ThreadLocalRandom.current()\n            .nextInt(this.min, 1 + Math.min(this.max, this.sides));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27796788,"reputation":1,"user_id":21222099,"display_name":"HermitIX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685510932,"creation_date":1685510932,"answer_id":76370394,"question_id":76370149,"body_markdown":"This question was not as unique as I thought, and the answer was super simple. I just replaced the do-while with an if statement that changed the max value to sides if it was higher than sides. Easy Peasy, I am embarrassed I even asked the question. ","title":"I am trying to set an upper bounds for a random int generator independant of the maximum value set in the generator itself","body":"<p>This question was not as unique as I thought, and the answer was super simple. I just replaced the do-while with an if statement that changed the max value to sides if it was higher than sides. Easy Peasy, I am embarrassed I even asked the question.</p>\n"}],"owner":{"account_id":27796788,"reputation":1,"user_id":21222099,"display_name":"HermitIX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685510932,"creation_date":1685506800,"question_id":76370149,"body_markdown":"The idea is that I can set the max value to 15 or 25 but if the die only has 20 sides it shouldn&#39;t roll higher than 20. \r\n\r\nI am creating a die roller as a personal project. I created a Dice object that takes in the size of the die (how many sides) as well as the minimum and maximum values that can be rolled on the die. I was having a problem where the on a 20 sided die, if i set the maximum over 20 it would roll higher than 20. I fixed this issue by implementing a do while loop that runs until the random value produces is less than the size of the die. \r\n\r\nThis seems wildly inefficient to me as theoretically it could run for hours just getting incorrect values again and again. I am looking for a more efficient solution. \r\n```java\r\n//Main.java\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        MinMaxDice d20 = new MinMaxDice(20, 10, 20);\r\n        System.out.println(&quot;\\nThere are &quot; + d20.sides + &quot; sides on this die.&quot;);\r\n        System.out.println(&quot;The max is &quot; + d20.max + &quot; and the min is &quot; + d20.min + &quot;.&quot;);\r\n        for (int i = 0; i &lt; 20; i++) {\r\n            System.out.println(&quot;It rolled a &quot; + d20.rollDie() + &quot;.&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n//MinMaxDice.java\r\nimport java.util.concurrent.ThreadLocalRandom;\r\n\r\npublic class MinMaxDice extends Dice {\r\n    int max;\r\n    int min;\r\n\r\n    MinMaxDice(int sides, int min, int max) {\r\n        super(sides);\r\n        this.max = max;\r\n        this.min = min;\r\n    }\r\n\r\n    public int rollDie() {\r\n        int result;\r\n        do {\r\n            result = this.min + ThreadLocalRandom.current().nextInt(this.max - (this.min - 1));\r\n        } while (result &gt; sides);\r\n        return result;\r\n    }\r\n}\r\n```","title":"I am trying to set an upper bounds for a random int generator independant of the maximum value set in the generator itself","body":"<p>The idea is that I can set the max value to 15 or 25 but if the die only has 20 sides it shouldn't roll higher than 20.</p>\n<p>I am creating a die roller as a personal project. I created a Dice object that takes in the size of the die (how many sides) as well as the minimum and maximum values that can be rolled on the die. I was having a problem where the on a 20 sided die, if i set the maximum over 20 it would roll higher than 20. I fixed this issue by implementing a do while loop that runs until the random value produces is less than the size of the die.</p>\n<p>This seems wildly inefficient to me as theoretically it could run for hours just getting incorrect values again and again. I am looking for a more efficient solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Main.java\npublic class Main {\n\n    public static void main(String[] args) {\n\n        MinMaxDice d20 = new MinMaxDice(20, 10, 20);\n        System.out.println(&quot;\\nThere are &quot; + d20.sides + &quot; sides on this die.&quot;);\n        System.out.println(&quot;The max is &quot; + d20.max + &quot; and the min is &quot; + d20.min + &quot;.&quot;);\n        for (int i = 0; i &lt; 20; i++) {\n            System.out.println(&quot;It rolled a &quot; + d20.rollDie() + &quot;.&quot;);\n        }\n    }\n}\n\n//MinMaxDice.java\nimport java.util.concurrent.ThreadLocalRandom;\n\npublic class MinMaxDice extends Dice {\n    int max;\n    int min;\n\n    MinMaxDice(int sides, int min, int max) {\n        super(sides);\n        this.max = max;\n        this.min = min;\n    }\n\n    public int rollDie() {\n        int result;\n        do {\n            result = this.min + ThreadLocalRandom.current().nextInt(this.max - (this.min - 1));\n        } while (result &gt; sides);\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":["java","sql","azure-synapse"],"owner":{"account_id":22322326,"reputation":210,"user_id":16544811,"display_name":"AJ31"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685510830,"creation_date":1684315156,"question_id":76270469,"body_markdown":"I have a Synapse Dedicated SQL Pool setup. I need to call a stored procedure from the java : \r\nSome stored procedure contains the use of the temporary tables while the other stored procedures do not use temporary tables. The stored procedure without temporary tables are getting executed via my Java application however the stored procedure with temporary tables fails with the following error\r\n```\r\nDistributed transaction completed. Either enlist this session in a new transaction or the NULL transaction.\r\n```\r\n\r\nThe java code I use to call stored procedure : \r\n```\r\npublic DataList(String rowID, int jobID, String userID) {\r\n\tConnection conn = null;\r\n\tDataEntry gle = null;\r\n\tlst = new ArrayList&lt;DataEntry&gt;();\r\n\t\r\n\ttry {\r\n\t\tconn = SqlDBConnectEPM.getConnection(&quot;dataDW&quot;);\r\n\t\tString sql = &quot;EXEC [dbo].[DATACURSOR_OpenResults] ?,?,?&quot;;\r\n\t\tPreparedStatement s = conn.prepareStatement(sql);\r\n\t\ts.setEscapeProcessing(true);\r\n\t\ts.setQueryTimeout(90);\r\n\t\ts.setString(1, rowID);\r\n\t\ts.setInt(2, jobID);\r\n\t\ts.setString(3, userID);\r\n\t\tResultSet rs = s.executeQuery();\r\n\t\twhile(rs.next()) {\r\n\t\t\tgle = new DataEntry(rs);\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tConfiguration.getInstance().getTelemetry().trackEvent(&quot;Job Failed for user : &quot; + userID + &quot; for Job : &quot; + jobID);\r\n\t\tConfiguration.getInstance().getTelemetry().trackException(e);\r\n\t} finally {\r\n\t\tif(conn != null)\r\n\t\t{\r\n\t\t\ttry {\r\n\t\t\t\tconn.close();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t Configuration.getInstance().getTelemetry().trackException(e);\r\n\t\t\t} \r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nI cannot get rid of temporary tables in my stored procedure. Can there be a workaround with the way we call the Stored Procedure from the java code?\r\n\r\nThe stored procedure executes fine when executed from the SQL server. How do I resolve this issue?","title":"Stored Procedure Execution via Java","body":"<p>I have a Synapse Dedicated SQL Pool setup. I need to call a stored procedure from the java :\nSome stored procedure contains the use of the temporary tables while the other stored procedures do not use temporary tables. The stored procedure without temporary tables are getting executed via my Java application however the stored procedure with temporary tables fails with the following error</p>\n<pre><code>Distributed transaction completed. Either enlist this session in a new transaction or the NULL transaction.\n</code></pre>\n<p>The java code I use to call stored procedure :</p>\n<pre><code>public DataList(String rowID, int jobID, String userID) {\n    Connection conn = null;\n    DataEntry gle = null;\n    lst = new ArrayList&lt;DataEntry&gt;();\n    \n    try {\n        conn = SqlDBConnectEPM.getConnection(&quot;dataDW&quot;);\n        String sql = &quot;EXEC [dbo].[DATACURSOR_OpenResults] ?,?,?&quot;;\n        PreparedStatement s = conn.prepareStatement(sql);\n        s.setEscapeProcessing(true);\n        s.setQueryTimeout(90);\n        s.setString(1, rowID);\n        s.setInt(2, jobID);\n        s.setString(3, userID);\n        ResultSet rs = s.executeQuery();\n        while(rs.next()) {\n            gle = new DataEntry(rs);\n        }\n    } catch (Exception e) {\n        Configuration.getInstance().getTelemetry().trackEvent(&quot;Job Failed for user : &quot; + userID + &quot; for Job : &quot; + jobID);\n        Configuration.getInstance().getTelemetry().trackException(e);\n    } finally {\n        if(conn != null)\n        {\n            try {\n                conn.close();\n            } catch (SQLException e) {\n                 Configuration.getInstance().getTelemetry().trackException(e);\n            } \n        }\n    }\n}\n</code></pre>\n<p>I cannot get rid of temporary tables in my stored procedure. Can there be a workaround with the way we call the Stored Procedure from the java code?</p>\n<p>The stored procedure executes fine when executed from the SQL server. How do I resolve this issue?</p>\n"},{"tags":["java","apache-httpclient-4.x"],"answers":[{"tags":[],"owner":{"account_id":19939059,"reputation":13,"user_id":14611127,"display_name":"Rafał"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685510107,"creation_date":1685510107,"answer_id":76370336,"question_id":76367753,"body_markdown":"I was casting to X509Certificate from TrusManagers[] created before. If I get X509Certificate from session.getPeerCertificates() there is value present in getSubjectAlternativeNames\r\n\r\n    public boolean verify(String hostname, SSLSession session) {\r\n\t\tX509Certificate[] peerCertificates = (X509Certificate[]) session.getPeerCertificates();\r\n\t\tfor(X509Certificate peerCertificate:peerCertificates ) {\r\n\r\n\t\t\tCollection&lt;List&lt;?&gt;&gt; sans = peerCertificate.getSubjectAlternativeNames();\r\n\r\n\t\t\t\r\n\t\t}\r\n\t\treturn false;\r\n\r\n ","title":"Apache Http Client, HostnameVerifier","body":"<p>I was casting to X509Certificate from TrusManagers[] created before. If I get X509Certificate from session.getPeerCertificates() there is value present in getSubjectAlternativeNames</p>\n<pre><code>public boolean verify(String hostname, SSLSession session) {\n    X509Certificate[] peerCertificates = (X509Certificate[]) session.getPeerCertificates();\n    for(X509Certificate peerCertificate:peerCertificates ) {\n\n        Collection&lt;List&lt;?&gt;&gt; sans = peerCertificate.getSubjectAlternativeNames();\n\n        \n    }\n    return false;\n</code></pre>\n"}],"owner":{"account_id":19939059,"reputation":13,"user_id":14611127,"display_name":"Rafał"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76370336,"answer_count":1,"score":0,"last_activity_date":1685510107,"creation_date":1685472266,"question_id":76367753,"body_markdown":"I am using Apache Http Client 4.5.14 but I am struggling with error:\r\n\r\n&gt; Certificate for \\&lt;sub1.sub2.sub3.domain.com\\&gt; doesn&#39;t match any of the subject alternative names: \\[ \\*.sub3.domain.com, SAN2, SAN3\\]\r\n\r\nAfter some digging I learned that this error is generated because wildcard \\* do not support multiple subdomains. HttpClientBuilder allow me to set custom SSLHostnameVerifier when default verifcations fails but I am missing somthing.\r\n\r\n```\r\nbuilder.setSSLContext(context); // SSLContext context with loaded trustStore.jks and keysotre.jks \r\n\r\nbuilder.setSSLHostnameVerifier(new HostnameVerifier() {\r\n\r\n   private boolean matchDomian(String hostname, String subjectAlternativeName ) {\r\n     // return true if SAN checks agains hostname, allow first wildcard * to be multiple subdomain\r\n   }\r\n    @Override\r\n     public boolean verify(String hostname, SSLSession session) {\r\n          for(String subjectAlternativeName: subjectAlternativeNames) {\r\n\t\tif(matchDomian(hostname,subjectAlternativeName)) return true;\r\n\t   }\r\n\t   return false;\r\n      }\r\n});\r\n```\r\n\r\nBut I don&#39;t get how I get this array of all SANS in my error.\r\n`Certificate for &lt;sub1.sub2.sub3.domain.com&gt; doesn&#39;t match any of the subject alternative names: [ *.sub3.domain.com, SAN2, SAN3]`\r\n\r\nI tried casting cert to X509Certificate and using\r\n`Collection&lt;List&lt;?&gt;&gt; sans = cert.getSubjectAlternativeNames();`\r\n\r\nbut there was nothing in here. I checked with Keytool and yes in trustStore I don&#39;t have 2.5.29.17 .\r\n\r\nThen how do I get Subject Alternative Names in error( yes they were correct) , and how can I access them ? Or can I configure some parameters to allow \\* to be multiple subdomains ?\r\n\r\nYes I know I can disable all checking via\r\n\r\n```\r\nbuilder.setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE);\r\n```\r\n\r\nbut this is not solution.","title":"Apache Http Client, HostnameVerifier","body":"<p>I am using Apache Http Client 4.5.14 but I am struggling with error:</p>\n<blockquote>\n<p>Certificate for &lt;sub1.sub2.sub3.domain.com&gt; doesn't match any of the subject alternative names: [ *.sub3.domain.com, SAN2, SAN3]</p>\n</blockquote>\n<p>After some digging I learned that this error is generated because wildcard * do not support multiple subdomains. HttpClientBuilder allow me to set custom SSLHostnameVerifier when default verifcations fails but I am missing somthing.</p>\n<pre><code>builder.setSSLContext(context); // SSLContext context with loaded trustStore.jks and keysotre.jks \n\nbuilder.setSSLHostnameVerifier(new HostnameVerifier() {\n\n   private boolean matchDomian(String hostname, String subjectAlternativeName ) {\n     // return true if SAN checks agains hostname, allow first wildcard * to be multiple subdomain\n   }\n    @Override\n     public boolean verify(String hostname, SSLSession session) {\n          for(String subjectAlternativeName: subjectAlternativeNames) {\n        if(matchDomian(hostname,subjectAlternativeName)) return true;\n       }\n       return false;\n      }\n});\n</code></pre>\n<p>But I don't get how I get this array of all SANS in my error.\n<code>Certificate for &lt;sub1.sub2.sub3.domain.com&gt; doesn't match any of the subject alternative names: [ *.sub3.domain.com, SAN2, SAN3]</code></p>\n<p>I tried casting cert to X509Certificate and using\n<code>Collection&lt;List&lt;?&gt;&gt; sans = cert.getSubjectAlternativeNames();</code></p>\n<p>but there was nothing in here. I checked with Keytool and yes in trustStore I don't have 2.5.29.17 .</p>\n<p>Then how do I get Subject Alternative Names in error( yes they were correct) , and how can I access them ? Or can I configure some parameters to allow * to be multiple subdomains ?</p>\n<p>Yes I know I can disable all checking via</p>\n<pre><code>builder.setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE);\n</code></pre>\n<p>but this is not solution.</p>\n"},{"tags":["java","security","plugins","module","classloader"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684984472,"post_id":76328619,"comment_id":134598262,"body_markdown":"You should learn more about modules before attempting this. There may be other issues that you need to address.","body":"You should learn more about modules before attempting this. There may be other issues that you need to address."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684985371,"post_id":76328619,"comment_id":134598343,"body_markdown":"[`ModuleLayer#defineModules(Configuration, Function&lt;String, ClassLoader&gt;)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ModuleLayer.html#defineModules(java.lang.module.Configuration,java.util.function.Function)).","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ModuleLayer.html#defineModules(java.lang.module.Configuration,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>ModuleLayer#defineModules(Configuration, Function&lt;String, ClassLoader&gt;)</code></a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1684985603,"post_id":76328619,"comment_id":134598361,"body_markdown":"The class loader you pass to `defineModulesWithOneLoader` and `defineModulesWithManyLoaders` is used as the _parent_ of a class loader created as part of the implementation. If you want to fully customize the class loader used by each module, use the method I linked previously.","body":"The class loader you pass to <code>defineModulesWithOneLoader</code> and <code>defineModulesWithManyLoaders</code> is used as the <i>parent</i> of a class loader created as part of the implementation. If you want to fully customize the class loader used by each module, use the method I linked previously."},{"owner":{"account_id":25135697,"reputation":35,"user_id":18982496,"display_name":"JasonBourne"},"score":0,"creation_date":1684986369,"post_id":76328619,"comment_id":134598444,"body_markdown":"One last question, @Slaw, as you know, I&#39;m essentially just being a middleman to check if classes should be loaded or not. If I wish to load the plugin class, I notice that calling `super.loadClass(name, resolve)` inside the overided `loadClass` method of the WhitelistClassLoader does not seem to find the class. When using this approach, is class loading delegation no longer occurring? (Thanks again, and apologies for the ignorance)","body":"One last question, @Slaw, as you know, I&#39;m essentially just being a middleman to check if classes should be loaded or not. If I wish to load the plugin class, I notice that calling <code>super.loadClass(name, resolve)</code> inside the overided <code>loadClass</code> method of the WhitelistClassLoader does not seem to find the class. When using this approach, is class loading delegation no longer occurring? (Thanks again, and apologies for the ignorance)"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685154301,"post_id":76328619,"comment_id":134626015,"body_markdown":"So, the problem is `*WithOneLoader` and `*WithManyLoaders` create their own class loader implementation (with the one you pass used as its parent). This class loader is capable of searching the modules in the configuration. When you use `defineModules(Configuration, Function)`, that internal implementation of class loader is no longer used. In other words, the class loader you pass to `defineModules` needs to be able to find classes in the modules, in addition to filtering which classes are allowed to be loaded.","body":"So, the problem is <code>*WithOneLoader</code> and <code>*WithManyLoaders</code> create their own class loader implementation (with the one you pass used as its parent). This class loader is capable of searching the modules in the configuration. When you use <code>defineModules(Configuration, Function)</code>, that internal implementation of class loader is no longer used. In other words, the class loader you pass to <code>defineModules</code> needs to be able to find classes in the modules, in addition to filtering which classes are allowed to be loaded."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685308767,"post_id":76328619,"comment_id":134640056,"body_markdown":"You can see the internal class loader implementation [here](https://github.com/openjdk/jdk/blob/547a8b40b324917e66c71409b31421feacce79d7/src/java.base/share/classes/jdk/internal/loader/Loader.java#L87). Note it does things a little differently than a purely class-path-based loader. From what I understand, it first looks in the current `Configuration` (i.e., the current `ModuleLayer`), then it looks at the _parent_ `ModuleLayer`s (based on module readability), and only then, if the class wasn&#39;t found in a named module, does it delegate to the parent `ClassLoader`.","body":"You can see the internal class loader implementation <a href=\"https://github.com/openjdk/jdk/blob/547a8b40b324917e66c71409b31421feacce79d7/src/java.base/share/classes/jdk/internal/loader/Loader.java#L87\" rel=\"nofollow noreferrer\">here</a>. Note it does things a little differently than a purely class-path-based loader. From what I understand, it first looks in the current <code>Configuration</code> (i.e., the current <code>ModuleLayer</code>), then it looks at the <i>parent</i> <code>ModuleLayer</code>s (based on module readability), and only then, if the class wasn&#39;t found in a named module, does it delegate to the parent <code>ClassLoader</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685308934,"post_id":76328619,"comment_id":134640070,"body_markdown":"I don&#39;t know if you&#39;d need to implement the same behavior to be &quot;compliant&quot;.","body":"I don&#39;t know if you&#39;d need to implement the same behavior to be &quot;compliant&quot;."},{"owner":{"account_id":25135697,"reputation":35,"user_id":18982496,"display_name":"JasonBourne"},"score":0,"creation_date":1685322125,"post_id":76328619,"comment_id":134641009,"body_markdown":"Thanks for the info, I ended up implementing my own classloader to manually load the required classes from there in the `loadClass` method. Good idea to have a look at the internal class loader implementation too. My next step is to add a service loader to the equation so I&#39;m not dealing with the Object class or unnecessary reflection","body":"Thanks for the info, I ended up implementing my own classloader to manually load the required classes from there in the <code>loadClass</code> method. Good idea to have a look at the internal class loader implementation too. My next step is to add a service loader to the equation so I&#39;m not dealing with the Object class or unnecessary reflection"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685460920,"post_id":76328619,"comment_id":134661662,"body_markdown":"@Slaw the implementation does not try alternatives one after another. The package name of the class to load does already define the owner module. This might be a named module of the current layer or a parent layer, but there’s no ambiguity allowed here, so the lookup structures are already prepared at class loader construction time. If the package name belongs to a known (named) module, only that module’s source is queried and if no class has been found there, it will fail. Only the loading of classes whose packages do not belong to a known named module will be delegated to the parent loader.","body":"@Slaw the implementation does not try alternatives one after another. The package name of the class to load does already define the owner module. This might be a named module of the current layer or a parent layer, but there’s no ambiguity allowed here, so the lookup structures are already prepared at class loader construction time. If the package name belongs to a known (named) module, only that module’s source is queried and if no class has been found there, it will fail. Only the loading of classes whose packages do not belong to a known named module will be delegated to the parent loader."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1685481077,"post_id":76328619,"comment_id":134665581,"body_markdown":"@Holger Sorry, that&#39;s actually what I meant in my head while I was writing my comment. Didn&#39;t mean to imply otherwise. Thanks for clarifying.","body":"@Holger Sorry, that&#39;s actually what I meant in my head while I was writing my comment. Didn&#39;t mean to imply otherwise. Thanks for clarifying."}],"owner":{"account_id":25135697,"reputation":35,"user_id":18982496,"display_name":"JasonBourne"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685506883,"creation_date":1684983397,"question_id":76328619,"body_markdown":"Following the wake of JEP 411, I am trying to create a simple sandbox in Java for loading untrusted code.\r\n\r\nUnfortunately, I am unfamiliar with the module system and it seems I cannot get my created module layer to use my custom class loader when loading module classes.\r\n\r\n\r\nI have tried creating the module layer and used the method `defineModulesWithOneLoader` to assign my custom class loader, however, this does not seem to use my custom class loader.\r\n\r\nHere is the following code I am using:\r\n\r\n\r\nMain\r\n```java\r\n        String moduleName = &quot;somemodule&quot;;\r\n        Path dir = Path.of(&quot;./path/to/somemodule/&quot;);\r\n        ModuleFinder finder = ModuleFinder.of(pluginDirectory);\r\n        ModuleLayer parent = ModuleLayer.boot();\r\n        Configuration conf = parent.configuration().resolve(finder, ModuleFinder.of(), Set.of(moduleName));\r\n        ClassLoader classLoader = new CustomClassLoader();\r\n        ModuleLayer layer = parent.defineModulesWithOneLoader(config, classLoader);\r\n        Class&lt;?&gt; c = layer.findLoader(&quot;somemodule&quot;).loadClass(&quot;com.example.foo.MyClass&quot;);\r\n        System.out.println(c.getClassLoader().getName()); // this does not return the expected classloader, but returns null, indicating the boot layer was used (i think).\r\n```\r\n\r\ncustom classloader\r\n```java\r\npublic class CustomClassLoader extends ClassLoader {\r\n\t@Override\r\n\tprotected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\r\n\t\tthrow new ClassNotFoundException(&quot;Custom class loader was used&quot;);\r\n\t}\r\n}\r\n```\r\n","title":"How can I assign a custom classloader to a module layer in Java?","body":"<p>Following the wake of JEP 411, I am trying to create a simple sandbox in Java for loading untrusted code.</p>\n<p>Unfortunately, I am unfamiliar with the module system and it seems I cannot get my created module layer to use my custom class loader when loading module classes.</p>\n<p>I have tried creating the module layer and used the method <code>defineModulesWithOneLoader</code> to assign my custom class loader, however, this does not seem to use my custom class loader.</p>\n<p>Here is the following code I am using:</p>\n<p>Main</p>\n<pre class=\"lang-java prettyprint-override\"><code>        String moduleName = &quot;somemodule&quot;;\n        Path dir = Path.of(&quot;./path/to/somemodule/&quot;);\n        ModuleFinder finder = ModuleFinder.of(pluginDirectory);\n        ModuleLayer parent = ModuleLayer.boot();\n        Configuration conf = parent.configuration().resolve(finder, ModuleFinder.of(), Set.of(moduleName));\n        ClassLoader classLoader = new CustomClassLoader();\n        ModuleLayer layer = parent.defineModulesWithOneLoader(config, classLoader);\n        Class&lt;?&gt; c = layer.findLoader(&quot;somemodule&quot;).loadClass(&quot;com.example.foo.MyClass&quot;);\n        System.out.println(c.getClassLoader().getName()); // this does not return the expected classloader, but returns null, indicating the boot layer was used (i think).\n</code></pre>\n<p>custom classloader</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomClassLoader extends ClassLoader {\n    @Override\n    protected Class&lt;?&gt; loadClass(String name, boolean resolve) throws ClassNotFoundException {\n        throw new ClassNotFoundException(&quot;Custom class loader was used&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data"],"answers":[{"tags":[],"owner":{"account_id":26680163,"reputation":16,"user_id":20290233,"display_name":"Nithish Kumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672663531,"creation_date":1672663531,"answer_id":74982597,"question_id":74970218,"body_markdown":"You can exclude the use the \r\n`@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})` to stop the default password generation.\r\nFor any different ways if you want you can follow this thread.\r\n[Click here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30761253/remove-using-default-security-password-on-spring-boot","title":"Configuring LDAP on Spring Boot 3","body":"<p>You can exclude the use the\n<code>@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})</code> to stop the default password generation.\nFor any different ways if you want you can follow this thread.\n<a href=\"https://stackoverflow.com/questions/30761253/remove-using-default-security-password-on-spring-boot\">Click here</a></p>\n"},{"tags":[],"owner":{"account_id":20556771,"reputation":83,"user_id":15088140,"display_name":"aloopaneer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685506787,"creation_date":1685506787,"answer_id":76370147,"question_id":74970218,"body_markdown":"First, you must create a context source, which includes your LDAP url (url), your Manager DN or the Base DN from which your users belong (managerDn), your LDAP password to authenticate yourself / your app to the server, and, last but not least, the connection pooling flag for LDAP (setPooled), which is recommended if you have a large number of users.\r\n\r\n```JAVA\r\n@Bean\r\npublic LdapContextSource contextSource() {\r\n    LdapContextSource contextSource = new LdapContextSource();\r\n    contextSource.setUrl(url);\r\n    contextSource.setUserDn(managerDn);\r\n    contextSource.setPassword(ldapPassword);\r\n    contextSource.setPooled(true);\r\n\r\n    return contextSource;\r\n}\r\n```\r\n\r\nSecond, you must configure the authentication manager object, which will assist spring boot in recognising that you will be using LDAP for authentication.\r\n\r\n```JAVA\r\n@Bean\r\nAuthenticationManager authenticationManager(BaseLdapPathContextSource contextSource) {\r\n    LdapBindAuthenticationManagerFactory factory = new LdapBindAuthenticationManagerFactory(contextSource);\r\n    factory.setUserSearchBase(userSearchBase);\r\n    factory.setUserSearchFilter(userSearchFilter);\r\n\r\n    return factory.createAuthenticationManager();\r\n}\r\n```\r\n\r\nFinally, this is entirely optional. If you need to look up an LDAP user in your app, this interface will come in handy.\r\n\r\n```JAVA\r\n@Bean\r\npublic LdapTemplate ldapTemplate() {\r\n    return new LdapTemplate(contextSource());\r\n}\r\n```","title":"Configuring LDAP on Spring Boot 3","body":"<p>First, you must create a context source, which includes your LDAP url (url), your Manager DN or the Base DN from which your users belong (managerDn), your LDAP password to authenticate yourself / your app to the server, and, last but not least, the connection pooling flag for LDAP (setPooled), which is recommended if you have a large number of users.</p>\n<pre><code>@Bean\npublic LdapContextSource contextSource() {\n    LdapContextSource contextSource = new LdapContextSource();\n    contextSource.setUrl(url);\n    contextSource.setUserDn(managerDn);\n    contextSource.setPassword(ldapPassword);\n    contextSource.setPooled(true);\n\n    return contextSource;\n}\n</code></pre>\n<p>Second, you must configure the authentication manager object, which will assist spring boot in recognising that you will be using LDAP for authentication.</p>\n<pre><code>@Bean\nAuthenticationManager authenticationManager(BaseLdapPathContextSource contextSource) {\n    LdapBindAuthenticationManagerFactory factory = new LdapBindAuthenticationManagerFactory(contextSource);\n    factory.setUserSearchBase(userSearchBase);\n    factory.setUserSearchFilter(userSearchFilter);\n\n    return factory.createAuthenticationManager();\n}\n</code></pre>\n<p>Finally, this is entirely optional. If you need to look up an LDAP user in your app, this interface will come in handy.</p>\n<pre><code>@Bean\npublic LdapTemplate ldapTemplate() {\n    return new LdapTemplate(contextSource());\n}\n</code></pre>\n"}],"owner":{"account_id":20556771,"reputation":83,"user_id":15088140,"display_name":"aloopaneer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76370147,"answer_count":2,"score":0,"last_activity_date":1685506860,"creation_date":1672497496,"question_id":74970218,"body_markdown":"I was experimenting with spring boot 3 and spring security 6.\r\n\r\nI configured my spring security to use LDAP authentication via AD, which works fine, but spring boot still doesn&#39;t detect a custom &#39;AuthenticationManager&#39; and generates its own password.\r\n\r\nThis is how I set up my LDAP authentication:\r\n```lang-java\r\n@Autowired\r\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    auth.ldapAuthentication().userSearchBase(userSearchBase).userSearchFilter(userSearchFilter).contextSource()\r\n            .url(url).managerDn(managerDn).managerPassword(ldapPassword);\r\n}\r\n```\r\n\r\nEven after configuring ldap, this is what I get.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/fHicb.png)](https://i.stack.imgur.com/fHicb.png)","title":"Configuring LDAP on Spring Boot 3","body":"<p>I was experimenting with spring boot 3 and spring security 6.</p>\n<p>I configured my spring security to use LDAP authentication via AD, which works fine, but spring boot still doesn't detect a custom 'AuthenticationManager' and generates its own password.</p>\n<p>This is how I set up my LDAP authentication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.ldapAuthentication().userSearchBase(userSearchBase).userSearchFilter(userSearchFilter).contextSource()\n            .url(url).managerDn(managerDn).managerPassword(ldapPassword);\n}\n</code></pre>\n<p>Even after configuring ldap, this is what I get.</p>\n<p><a href=\"https://i.stack.imgur.com/fHicb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fHicb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","module","classloader","serviceloader"],"owner":{"account_id":25135697,"reputation":35,"user_id":18982496,"display_name":"JasonBourne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685506697,"creation_date":1685505777,"question_id":76370095,"body_markdown":"I am trying to load a service provider from my own module layer, using a custom class loader. \r\n\r\nI am receiving the error: `Exception in thread &quot;main&quot; java.util.ServiceConfigurationError: client.MyInterface: Provider implementation.MyInterfaceImpl not found`.\r\n\r\nHere is my code:\r\n```java\r\nClassLoader classLoader = new CustomClassLoader();\r\nString module = &quot;implementation&quot;;\r\nPath dir = Path.of(&quot;/path/to/lib.jar&quot;);\r\nModuleFinder finder = ModuleFinder.of(dir);\r\nModuleLayer parent = ModuleLayer.boot();\r\nConfiguration conf = parent.configuration().resolve(finder, ModuleFinder.of(), Set.of(module));\r\nModuleLayer layer = parent.defineModules(conf, (String name) -&gt; classLoader);\r\n\r\n//layer.findLoader(module).loadClass(&quot;implementation.MyInterfaceImpl&quot;);\r\n\r\n\r\nServiceLoader&lt;MyInterface&gt; loader = ServiceLoader.load(layer, MyInterface.class);\r\nIterator&lt;MyInterface&gt; iterator = loader.iterator();\r\nfor(MyInterface impl: loader){\r\n    impl.doSomething();\r\n}\r\n```\r\n\r\n\r\nI can bypass the error by including the line: `layer.findLoader(module).loadClass(&quot;implementation.MyInterfaceImpl&quot;);`, however, I wish to avoid this so that I don&#39;t have to define implementations at compile time.\r\n\r\nAny ideas why this error might be occurring? Shouldn&#39;t the service loader by calling the class loader for the module layer in the same way I do? It seems my classloader is not being used.","title":"How can I load a service provider from a module layer with a custom class loader?","body":"<p>I am trying to load a service provider from my own module layer, using a custom class loader.</p>\n<p>I am receiving the error: <code>Exception in thread &quot;main&quot; java.util.ServiceConfigurationError: client.MyInterface: Provider implementation.MyInterfaceImpl not found</code>.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassLoader classLoader = new CustomClassLoader();\nString module = &quot;implementation&quot;;\nPath dir = Path.of(&quot;/path/to/lib.jar&quot;);\nModuleFinder finder = ModuleFinder.of(dir);\nModuleLayer parent = ModuleLayer.boot();\nConfiguration conf = parent.configuration().resolve(finder, ModuleFinder.of(), Set.of(module));\nModuleLayer layer = parent.defineModules(conf, (String name) -&gt; classLoader);\n\n//layer.findLoader(module).loadClass(&quot;implementation.MyInterfaceImpl&quot;);\n\n\nServiceLoader&lt;MyInterface&gt; loader = ServiceLoader.load(layer, MyInterface.class);\nIterator&lt;MyInterface&gt; iterator = loader.iterator();\nfor(MyInterface impl: loader){\n    impl.doSomething();\n}\n</code></pre>\n<p>I can bypass the error by including the line: <code>layer.findLoader(module).loadClass(&quot;implementation.MyInterfaceImpl&quot;);</code>, however, I wish to avoid this so that I don't have to define implementations at compile time.</p>\n<p>Any ideas why this error might be occurring? Shouldn't the service loader by calling the class loader for the module layer in the same way I do? It seems my classloader is not being used.</p>\n"},{"tags":["java","spring","apple-push-notifications"],"owner":{"account_id":13359748,"reputation":21,"user_id":9642194,"display_name":"Aakash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685506385,"creation_date":1685448095,"question_id":76364598,"body_markdown":"I am trying to implement live activity push notifications in my Java application using the Pushy library. However, I&#39;m facing issues and the notifications are not being delivered successfully.\r\n```\r\n\r\n\t\t\tString fileName = &quot;&lt;XXX.p8&gt;&quot;;\r\n\t\t\tString teamID = &quot;&lt;TEAM_ID&gt;&quot;;\r\n\t\t\tString keyID = &quot;&lt;KEY_ID&gt;&quot;;\r\n\t\t\tString topic = &quot;&lt;bundleID&gt;&quot;;\r\n\t\t\tString cirt = this.getClass().getResource(fileName).getFile();\r\n\t\t\tString tk = &quot;&lt;DEVICE_TOKEN&gt;&quot;;\r\n\t\t\tlog.info(&quot;cirt file : {} &quot;, cirt);\r\n\t\t\tif (!new File(cirt).exists()) {\r\n\t\t\t\tthrow new NotFoundException(NotFound.APNSNOTFOUND, Boolean.TRUE);\r\n\t\t\t}\r\n\t\t\tfinal ApnsClient apnsClient = new ApnsClientBuilder().setApnsServer(ApnsClientBuilder.DEVELOPMENT_APNS_HOST)\r\n\t\t\t\t\t.setSigningKey(ApnsSigningKey.loadFromPkcs8File(new File(cirt), teamID, keyID)).build();\r\n\t\t\tSimpleApnsPushNotification pushNotification = null;\r\n\t\t\t{\r\n\t\t\t\tfinal String payload = &quot;{\\&quot;aps\\&quot;:{\\&quot;timestamp\\&quot;:1685577599,\\&quot;event\\&quot;:\\&quot;update\\&quot;,\\&quot;relevance-score\\&quot;:75.0,\\&quot;stale-date\\&quot;:1650998941,\\&quot;content-state\\&quot;:{\\&quot;flightStatus\\&quot;:\\&quot;Arrived!\\&quot;,\\&quot;statusColor\\&quot;:\\&quot;green\\&quot;,\\&quot;estimatedTime\\&quot;:1659416400},\\&quot;alert\\&quot;:{\\&quot;title\\&quot;:\\&quot;Delivery Update\\&quot;,\\&quot;body\\&quot;:\\&quot;Your pizza order will arrive soon.\\&quot;,\\&quot;sound\\&quot;:\\&quot;example.aiff\\&quot;}}}&quot;;\r\n\t\t\t\tfinal String token = TokenUtil.sanitizeTokenString(tk);\r\n\t\t\t\tpushNotification = new SimpleApnsPushNotification(token, topic, payload);\r\n\t\t\t\tlog.info(&quot;topic : {}&quot;, pushNotification.getTopic());\r\n\t\t\t\tfinal PushNotificationFuture&lt;SimpleApnsPushNotification, PushNotificationResponse&lt;SimpleApnsPushNotification&gt;&gt; sendNotificationFuture = apnsClient\r\n\t\t\t\t\t\t.sendNotification(pushNotification);\r\n\t\t\t\tsendNotificationFuture.whenComplete((response, cause) -&gt; {\r\n\t\t\t\t\tif (response.isAccepted()) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Push notification accepted by APNs gateway.&quot;);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tSystem.out\r\n\t\t\t\t\t\t\t\t.println(&quot;Notification rejected by the APNs gateway: &quot; + response.getRejectionReason());\r\n\r\n\t\t\t\t\t\tresponse.getTokenInvalidationTimestamp().ifPresent(timestamp -&gt; {\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;\\t…and the token is invalid as of &quot; + timestamp);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\tapnsClient.close();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\r\n```\r\n\r\nI have replaced &lt;FILENAME&gt;,&lt;TEAM_ID&gt;,&lt;KEY_ID&gt;  with my actual Pushy API key and &lt;DEVICE_TOKEN&gt; with the target device token. However, the notification is not being received by the device.\r\n\r\nI would appreciate any suggestions or advice on how to successfully send live activity push notifications using Java with the Pushy library.\r\nThank you!","title":"Sending live activity push notifications using Java with Pushy library not working","body":"<p>I am trying to implement live activity push notifications in my Java application using the Pushy library. However, I'm facing issues and the notifications are not being delivered successfully.</p>\n<pre><code>\n            String fileName = &quot;&lt;XXX.p8&gt;&quot;;\n            String teamID = &quot;&lt;TEAM_ID&gt;&quot;;\n            String keyID = &quot;&lt;KEY_ID&gt;&quot;;\n            String topic = &quot;&lt;bundleID&gt;&quot;;\n            String cirt = this.getClass().getResource(fileName).getFile();\n            String tk = &quot;&lt;DEVICE_TOKEN&gt;&quot;;\n            log.info(&quot;cirt file : {} &quot;, cirt);\n            if (!new File(cirt).exists()) {\n                throw new NotFoundException(NotFound.APNSNOTFOUND, Boolean.TRUE);\n            }\n            final ApnsClient apnsClient = new ApnsClientBuilder().setApnsServer(ApnsClientBuilder.DEVELOPMENT_APNS_HOST)\n                    .setSigningKey(ApnsSigningKey.loadFromPkcs8File(new File(cirt), teamID, keyID)).build();\n            SimpleApnsPushNotification pushNotification = null;\n            {\n                final String payload = &quot;{\\&quot;aps\\&quot;:{\\&quot;timestamp\\&quot;:1685577599,\\&quot;event\\&quot;:\\&quot;update\\&quot;,\\&quot;relevance-score\\&quot;:75.0,\\&quot;stale-date\\&quot;:1650998941,\\&quot;content-state\\&quot;:{\\&quot;flightStatus\\&quot;:\\&quot;Arrived!\\&quot;,\\&quot;statusColor\\&quot;:\\&quot;green\\&quot;,\\&quot;estimatedTime\\&quot;:1659416400},\\&quot;alert\\&quot;:{\\&quot;title\\&quot;:\\&quot;Delivery Update\\&quot;,\\&quot;body\\&quot;:\\&quot;Your pizza order will arrive soon.\\&quot;,\\&quot;sound\\&quot;:\\&quot;example.aiff\\&quot;}}}&quot;;\n                final String token = TokenUtil.sanitizeTokenString(tk);\n                pushNotification = new SimpleApnsPushNotification(token, topic, payload);\n                log.info(&quot;topic : {}&quot;, pushNotification.getTopic());\n                final PushNotificationFuture&lt;SimpleApnsPushNotification, PushNotificationResponse&lt;SimpleApnsPushNotification&gt;&gt; sendNotificationFuture = apnsClient\n                        .sendNotification(pushNotification);\n                sendNotificationFuture.whenComplete((response, cause) -&gt; {\n                    if (response.isAccepted()) {\n                        System.out.println(&quot;Push notification accepted by APNs gateway.&quot;);\n                    } else {\n                        System.out\n                                .println(&quot;Notification rejected by the APNs gateway: &quot; + response.getRejectionReason());\n\n                        response.getTokenInvalidationTimestamp().ifPresent(timestamp -&gt; {\n                            System.out.println(&quot;\\t…and the token is invalid as of &quot; + timestamp);\n                        });\n                    }\n                    apnsClient.close();\n                });\n            }\n\n        \n</code></pre>\n<p>I have replaced ,&lt;TEAM_ID&gt;,&lt;KEY_ID&gt;  with my actual Pushy API key and &lt;DEVICE_TOKEN&gt; with the target device token. However, the notification is not being received by the device.</p>\n<p>I would appreciate any suggestions or advice on how to successfully send live activity push notifications using Java with the Pushy library.\nThank you!</p>\n"},{"tags":["java","amazon-web-services","amazon-kms","encryption-asymmetric"],"owner":{"account_id":17228592,"reputation":11,"user_id":12473678,"display_name":"Rajat Dobriyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685505847,"creation_date":1685505847,"question_id":76370099,"body_markdown":"I need to fetch AWS KMS asymmetric keys from my java code. Plus is there a way I can upload any outside key to kms and fetch that through java code?\r\n\r\nPlease let me know if you have any suggestion or solution for this.","title":"FETCH AWS KMS asymmetric keys - JAVA","body":"<p>I need to fetch AWS KMS asymmetric keys from my java code. Plus is there a way I can upload any outside key to kms and fetch that through java code?</p>\n<p>Please let me know if you have any suggestion or solution for this.</p>\n"},{"tags":["java","audio","mp3","javasound"],"comments":[{"owner":{"account_id":908335,"reputation":5155,"user_id":942774,"accept_rate":100,"display_name":"Hendrik"},"score":0,"creation_date":1686664068,"post_id":76366404,"comment_id":134827969,"body_markdown":"You might want to post the full stack trace, if you&#39;re still interested in a solution.","body":"You might want to post the full stack trace, if you&#39;re still interested in a solution."}],"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685504829,"creation_date":1685460554,"question_id":76366404,"body_markdown":"I am making a game where the player can download the sound from the newground, this sound is downloaded in mp3 format. I added the Javazoom library to play this sound, but the code throws an error: &quot;Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer&quot;.\r\n\r\n\r\n    import javazoom.jlgui.basicplayer.BasicPlayer;\r\n\r\n    @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            BasicPlayer player = new BasicPlayer();\r\n            try {\r\n                player.open(new File(soundId+&quot;.mp3&quot;));//soundId - id of the sound on newgrounds\r\n                player.play();\r\n            } catch (BasicPlayerException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n","title":"Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer","body":"<p>I am making a game where the player can download the sound from the newground, this sound is downloaded in mp3 format. I added the Javazoom library to play this sound, but the code throws an error: &quot;Could not initialize class javazoom.jlgui.basicplayer.BasicPlayer&quot;.</p>\n<pre><code>import javazoom.jlgui.basicplayer.BasicPlayer;\n\n@Override\n    public void keyPressed(KeyEvent e) {\n        BasicPlayer player = new BasicPlayer();\n        try {\n            player.open(new File(soundId+&quot;.mp3&quot;));//soundId - id of the sound on newgrounds\n            player.play();\n        } catch (BasicPlayerException ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","httpurlconnection","urlconnection"],"answers":[{"tags":[],"owner":{"account_id":1456333,"reputation":353,"user_id":1371825,"display_name":"swagat"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1392790706,"creation_date":1378904859,"answer_id":18742082,"question_id":16122999,"body_markdown":"You are not always required to explicitly call the connect method to initiate the connection. \r\n\r\nOperations that depend on being connected, like `getInputStream`, `getOutputStream`, etc, will implicitly perform the connection, if necessary.\r\n\r\nHere&#39;s the oracle doc [link][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/networking/urls/connecting.html","title":"Java URLConnection - When do I need to use the connect() method?","body":"<p>You are not always required to explicitly call the connect method to initiate the connection. </p>\n\n<p>Operations that depend on being connected, like <code>getInputStream</code>, <code>getOutputStream</code>, etc, will implicitly perform the connection, if necessary.</p>\n\n<p>Here's the oracle doc <a href=\"http://docs.oracle.com/javase/tutorial/networking/urls/connecting.html\" rel=\"noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":4467479,"reputation":486,"user_id":3634662,"display_name":"Amanda Jiang"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1400029522,"creation_date":1400028251,"answer_id":23643872,"question_id":16122999,"body_markdown":"    HttpURLConnection conn = (HttpURLConnection) u.openConnection();\r\nonly creates an Object\r\n\r\n`connect()` method is invoked by `conn.getInputStream();`","title":"Java URLConnection - When do I need to use the connect() method?","body":"<pre><code>HttpURLConnection conn = (HttpURLConnection) u.openConnection();\n</code></pre>\n\n<p>only creates an Object</p>\n\n<p><code>connect()</code> method is invoked by <code>conn.getInputStream();</code></p>\n"}],"owner":{"account_id":1428175,"reputation":520,"user_id":1351198,"accept_rate":0,"display_name":"kappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22000,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":23643872,"answer_count":2,"score":37,"last_activity_date":1685504734,"creation_date":1366477813,"question_id":16122999,"body_markdown":"I have a problem to understand the meaning of the `connect()` method in the `URLConnection` class. In the following code, if I use the `connect()` method, I get the same result if I don&#39;t use it.\r\n\r\nWhy (or when) do I need to use it?\r\n\r\n    URL u = new URL(&quot;http://example.com&quot;);\r\n    HttpURLConnection conn = (HttpURLConnection) u.openConnection();\r\n\r\n    conn.connect();//with or without it I have the same result\r\n\r\n    InputStream in = conn.getInputStream();\r\n    int b;\r\n    while ((b = in.read()) != -1) {\r\n     System.out.write(b);\r\n    }","title":"Java URLConnection - When do I need to use the connect() method?","body":"<p>I have a problem to understand the meaning of the <code>connect()</code> method in the <code>URLConnection</code> class. In the following code, if I use the <code>connect()</code> method, I get the same result if I don't use it.</p>\n\n<p>Why (or when) do I need to use it?</p>\n\n<pre><code>URL u = new URL(\"http://example.com\");\nHttpURLConnection conn = (HttpURLConnection) u.openConnection();\n\nconn.connect();//with or without it I have the same result\n\nInputStream in = conn.getInputStream();\nint b;\nwhile ((b = in.read()) != -1) {\n System.out.write(b);\n}\n</code></pre>\n"},{"tags":["java","object","random","methods","constructor"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1685501539,"post_id":76369828,"comment_id":134667542,"body_markdown":"Since you pass `sides` to the constructor, what&#39;s the point of `public int rollDie(int sides) {`?","body":"Since you pass <code>sides</code> to the constructor, what&#39;s the point of <code>public int rollDie(int sides) {</code>?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685501455,"creation_date":1685501455,"answer_id":76369849,"question_id":76369828,"body_markdown":"Use the sides already configured in the constructor. Just add a method that calls the original rollDie() with that as parameter:\r\n``` lang-java\r\npublic int rollDie() {\r\n        return rollDie(sides);\r\n}\r\n```","title":"How do I call a method in an object without passing a variable that should already be in the object?","body":"<p>Use the sides already configured in the constructor. Just add a method that calls the original rollDie() with that as parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int rollDie() {\n        return rollDie(sides);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685503494,"creation_date":1685503080,"answer_id":76369940,"question_id":76369828,"body_markdown":"A method doesn&#39;t require parameters.  \r\n_[Defining Methods (The Java&amp;trade; Tutorials &gt; Learning the Java Language &gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html)_.\r\n\r\nYou can access your class [field](https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html), _sides_, from within the class method, _rollDie_.\r\n\r\n```java\r\npublic int rollDie()\r\n```\r\n\r\nAdditionally, you can use the alternate _[Random#nextInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int))_ method, which has parameters for a lower and upper bound.\r\n\r\n```java\r\nint result = random.nextInt(1, sides + 1);\r\n```\r\n\r\nFurthermore, if you will be invoking this method more than once per instance, you can increase the scope of the local _Random_ declaration, and place it as a field.\r\n\r\nAltogether, your class would be as follows.\r\n\r\n```java\r\npublic class Dice {\r\n    int sides;\r\n    int roll;\r\n    Random random = new Random();\r\n    \r\n    Dice(int sides) {\r\n        this.sides = sides;\r\n    }\r\n\r\n    public int rollDie() {\r\n        return random.nextInt(1, sides + 1);\r\n    }\r\n}\r\n```","title":"How do I call a method in an object without passing a variable that should already be in the object?","body":"<p>A method doesn't require parameters.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">Defining Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<p>You can access your class <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\" rel=\"nofollow noreferrer\">field</a>, <em>sides</em>, from within the class method, <em>rollDie</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int rollDie()\n</code></pre>\n<p>Additionally, you can use the alternate <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int,int)\" rel=\"nofollow noreferrer\">Random#nextInt</a></em> method, which has parameters for a lower and upper bound.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int result = random.nextInt(1, sides + 1);\n</code></pre>\n<p>Furthermore, if you will be invoking this method more than once per instance, you can increase the scope of the local <em>Random</em> declaration, and place it as a field.</p>\n<p>Altogether, your class would be as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Dice {\n    int sides;\n    int roll;\n    Random random = new Random();\n    \n    Dice(int sides) {\n        this.sides = sides;\n    }\n\n    public int rollDie() {\n        return random.nextInt(1, sides + 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685503094,"creation_date":1685503094,"answer_id":76369942,"question_id":76369828,"body_markdown":"It would appear `rollDie` should not take an argument. At least not for the instance method. Also, I recommend [`ThreadLocalRandom`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html). And I&#39;m pretty sure your current implementation has an off-by-one problem (you have a seven sided die, not a six sided one). Putting that all together, might look something like\r\n\r\n    public class Dice {\r\n        private int sides;\r\n    \r\n        public Dice(int sides) {\r\n            this.sides = sides;\r\n        }\r\n    \r\n        public static int rollDie(int sides) {\r\n            return 1 + ThreadLocalRandom.current().nextInt(sides);\r\n        }\r\n    \r\n        public int rollDie() {\r\n            return 1 + ThreadLocalRandom.current().nextInt(this.sides);\r\n        }\r\n    }\r\n\r\n","title":"How do I call a method in an object without passing a variable that should already be in the object?","body":"<p>It would appear <code>rollDie</code> should not take an argument. At least not for the instance method. Also, I recommend <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom</code></a>. And I'm pretty sure your current implementation has an off-by-one problem (you have a seven sided die, not a six sided one). Putting that all together, might look something like</p>\n<pre><code>public class Dice {\n    private int sides;\n\n    public Dice(int sides) {\n        this.sides = sides;\n    }\n\n    public static int rollDie(int sides) {\n        return 1 + ThreadLocalRandom.current().nextInt(sides);\n    }\n\n    public int rollDie() {\n        return 1 + ThreadLocalRandom.current().nextInt(this.sides);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27796788,"reputation":1,"user_id":21222099,"display_name":"HermitIX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1685503494,"creation_date":1685501203,"question_id":76369828,"body_markdown":"I am trying to create a dice rolling program to practice writing a program. I am creating a Dice object. I want to be able to create a die and state the number of sides when I create it. Example Dice d6 = new Dice(6). After that I want to be able to just print out the roll result without needing to specify the number of sides. in the call. Right now I have this... System.out.println(d6.rollDie(6));. I would like to be able to just do System.out.println(d6.rollDie); or System.out.println(d6.rollDie()); Having to specify the number of sides each time I call negates the point of having a sides variable in the object. \r\n\r\nThis is my current Java code. \r\n\r\n\r\n    //Main.java\r\n    public class Main {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t\r\n\t\t    Dice d6 = new Dice(6);\r\n\t\t    System.out.println(d6.sides);\r\n\t\t    System.out.println(d6.rollDie(6));\r\n\t    }\r\n\r\n    }\r\n\r\n\r\n    //Dice.java\r\n    import java.util.Random;\r\n    \r\n    public class Dice {\r\n\t    int sides;\r\n\t    int roll;\r\n    \r\n\t    Dice(int sides) {\r\n\t\t    this.sides = sides;\r\n\t    }\r\n\t\r\n\t\r\n\t    public int rollDie(int sides) {\r\n\t\t    this.sides = sides;\r\n\t\t    Random random = new Random();\r\n\t\t    int result = random.nextInt(sides + 1) + 1;\r\n\t\t\r\n\t\t    return result;\r\n\t    }\r\n\t\r\n    }\r\n","title":"How do I call a method in an object without passing a variable that should already be in the object?","body":"<p>I am trying to create a dice rolling program to practice writing a program. I am creating a Dice object. I want to be able to create a die and state the number of sides when I create it. Example Dice d6 = new Dice(6). After that I want to be able to just print out the roll result without needing to specify the number of sides. in the call. Right now I have this... System.out.println(d6.rollDie(6));. I would like to be able to just do System.out.println(d6.rollDie); or System.out.println(d6.rollDie()); Having to specify the number of sides each time I call negates the point of having a sides variable in the object.</p>\n<p>This is my current Java code.</p>\n<pre><code>//Main.java\npublic class Main {\n\n    public static void main(String[] args) {\n    \n        Dice d6 = new Dice(6);\n        System.out.println(d6.sides);\n        System.out.println(d6.rollDie(6));\n    }\n\n}\n\n\n//Dice.java\nimport java.util.Random;\n\npublic class Dice {\n    int sides;\n    int roll;\n\n    Dice(int sides) {\n        this.sides = sides;\n    }\n\n\n    public int rollDie(int sides) {\n        this.sides = sides;\n        Random random = new Random();\n        int result = random.nextInt(sides + 1) + 1;\n    \n        return result;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","hibernate-6.x"],"comments":[{"owner":{"account_id":17799930,"reputation":21,"user_id":12926966,"display_name":"NAVEEN NAVEEN"},"score":0,"creation_date":1680358849,"post_id":75906777,"comment_id":133886858,"body_markdown":"super.configure(LongType.INSTANCE, params, serviceRegistry);\nLongType.INSTANCE return Type","body":"super.configure(LongType.INSTANCE, params, serviceRegistry); LongType.INSTANCE return Type"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680871490,"creation_date":1680871490,"answer_id":75958549,"question_id":75906777,"body_markdown":"In Hibernate 6 the recommended way to implement a generator of this sort is to implement `BeforeExecutionGenerator`.","title":"Custom, Sequence-Based ID Generator Hibernate 6 Issue","body":"<p>In Hibernate 6 the recommended way to implement a generator of this sort is to implement <code>BeforeExecutionGenerator</code>.</p>\n"},{"tags":[],"owner":{"account_id":7899323,"reputation":71,"user_id":5966871,"display_name":"dhananjay mundhada"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1681999262,"creation_date":1681999216,"answer_id":76064959,"question_id":75906777,"body_markdown":"After checking javadocs https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/type/BasicTypeRegistry.html , i tried with this and it worked :\r\n```\r\nsuper.configure(new TypeConfiguration().getBasicTypeRegistry().getRegisteredType(Long.class), params, serviceRegistry);\r\n```","title":"Custom, Sequence-Based ID Generator Hibernate 6 Issue","body":"<p>After checking javadocs <a href=\"https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/type/BasicTypeRegistry.html\" rel=\"noreferrer\">https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/type/BasicTypeRegistry.html</a> , i tried with this and it worked :</p>\n<pre><code>super.configure(new TypeConfiguration().getBasicTypeRegistry().getRegisteredType(Long.class), params, serviceRegistry);\n</code></pre>\n"}],"owner":{"account_id":17799930,"reputation":21,"user_id":12926966,"display_name":"NAVEEN NAVEEN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685503159,"creation_date":1680358683,"question_id":75906777,"body_markdown":"**I had recently Migrated Hibernate from 5 to 6**\r\n \r\nBut facing issues with **LongType** which is deprecated in Hibernate 6\r\n\r\n**Here is my implementation in Hibernate 5**\r\n\r\n```java\r\npublic class StringPrefixedSequenceIdGenerator extends SequenceStyleGenerator {\r\n \r\n    public static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\r\n    public static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\r\n    private String valuePrefix;\r\n \r\n    public static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\r\n    public static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\r\n    private String numberFormat;\r\n \r\n    @Override\r\n    public Serializable generate(SharedSessionContractImplementor session,\r\n            Object object) throws HibernateException {\r\n        return valuePrefix + String.format(numberFormat, super.generate(session, object));\r\n    }\r\n \r\n    @Override\r\n    public void configure(Type type, Properties params,\r\n            ServiceRegistry serviceRegistry) throws MappingException {\r\n        super.configure(LongType.INSTANCE, params, serviceRegistry);\r\n        valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\r\n                params, VALUE_PREFIX_DEFAULT);\r\n        numberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\r\n                params, NUMBER_FORMAT_DEFAULT);\r\n    }\r\n \r\n}\r\n```\r\n\r\nSince in Hibernate 6 -&gt; org.hibernate.type.LongType is deprecated I am getting Error \r\n\r\n\r\n\r\n\r\n**how to Implement a Custom, Sequence-Based ID Generator ??**","title":"Custom, Sequence-Based ID Generator Hibernate 6 Issue","body":"<p><strong>I had recently Migrated Hibernate from 5 to 6</strong></p>\n<p>But facing issues with <strong>LongType</strong> which is deprecated in Hibernate 6</p>\n<p><strong>Here is my implementation in Hibernate 5</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringPrefixedSequenceIdGenerator extends SequenceStyleGenerator {\n \n    public static final String VALUE_PREFIX_PARAMETER = &quot;valuePrefix&quot;;\n    public static final String VALUE_PREFIX_DEFAULT = &quot;&quot;;\n    private String valuePrefix;\n \n    public static final String NUMBER_FORMAT_PARAMETER = &quot;numberFormat&quot;;\n    public static final String NUMBER_FORMAT_DEFAULT = &quot;%d&quot;;\n    private String numberFormat;\n \n    @Override\n    public Serializable generate(SharedSessionContractImplementor session,\n            Object object) throws HibernateException {\n        return valuePrefix + String.format(numberFormat, super.generate(session, object));\n    }\n \n    @Override\n    public void configure(Type type, Properties params,\n            ServiceRegistry serviceRegistry) throws MappingException {\n        super.configure(LongType.INSTANCE, params, serviceRegistry);\n        valuePrefix = ConfigurationHelper.getString(VALUE_PREFIX_PARAMETER,\n                params, VALUE_PREFIX_DEFAULT);\n        numberFormat = ConfigurationHelper.getString(NUMBER_FORMAT_PARAMETER,\n                params, NUMBER_FORMAT_DEFAULT);\n    }\n \n}\n</code></pre>\n<p>Since in Hibernate 6 -&gt; org.hibernate.type.LongType is deprecated I am getting Error</p>\n<p><strong>how to Implement a Custom, Sequence-Based ID Generator ??</strong></p>\n"},{"tags":["java","spring-boot","smtp"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1685482079,"post_id":76368557,"comment_id":134665729,"body_markdown":"Where is the single dot on a line by itself that signals the end of the message?  It looks like your code never sent that, so it eventually timed out waiting for a response code that was never going to arrive.","body":"Where is the single dot on a line by itself that signals the end of the message?  It looks like your code never sent that, so it eventually timed out waiting for a response code that was never going to arrive."}],"answers":[{"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685503000,"creation_date":1685503000,"answer_id":76369939,"question_id":76368557,"body_markdown":"Some VPS providers require you to configure the security network for outbound network communication. In some cases, you may need to configure outbound rules to allow communication from your Spring Boot application to the SMTP server and allow sending of emails.","title":"Springboot app SMTP sending emails works just on localhost","body":"<p>Some VPS providers require you to configure the security network for outbound network communication. In some cases, you may need to configure outbound rules to allow communication from your Spring Boot application to the SMTP server and allow sending of emails.</p>\n"}],"owner":{"account_id":22246447,"reputation":17,"user_id":16480070,"display_name":"Sizor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685503000,"creation_date":1685480045,"question_id":76368557,"body_markdown":"Hi i am trying to send email from my springboot app and it work perfect, but just on localhost. When i try it put on vps, i get this error, i see that my vps normal connect  and authenticate to SMTP server, but in the end for some reason sending fail. I have no firewall on my vps, have anyone idea, why is this happening? Thanks!\r\n\r\n    DEBUG: setDebug: Jakarta Mail version 2.0.1\r\n    DEBUG: getProvider() returning jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\r\n    DEBUG SMTP: need username and password for authentication\r\n    DEBUG SMTP: protocolConnect returning false, host=wes1-smtp.wedos.net, user=martin.lepic@email.cz, password=&lt;null&gt;\r\n    DEBUG SMTP: useEhlo true, useAuth true\r\n    DEBUG SMTP: trying to connect to host &quot;wes1-smtp.wedos.net&quot;, port 587, isSSL false\r\n    220 wes1-so2.wedos.net ESMTP Postfix - S.T.A.N.D.A. postak OUT\r\n    DEBUG SMTP: connected to host &quot;wes1-smtp.wedos.net&quot;, port: 587\r\n    EHLO 5575e5731be3\r\n    250-wes1-so2.wedos.net\r\n    250-PIPELINING\r\n    250-SIZE 104857600\r\n    250-VRFY\r\n    250-ETRN\r\n    250-STARTTLS\r\n    250-ENHANCEDSTATUSCODES\r\n    250-8BITMIME\r\n    250 DSN\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;104857600&quot;\r\n    DEBUG SMTP: Found extension &quot;VRFY&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ETRN&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\n    STARTTLS\r\n    220 2.0.0 Ready to start TLS\r\n    EHLO 5575e5731be3\r\n    250-wes1-so2.wedos.net\r\n    250-PIPELINING\r\n    250-SIZE 104857600\r\n    250-VRFY\r\n    250-ETRN\r\n    250-AUTH PLAIN LOGIN\r\n    250-ENHANCEDSTATUSCODES\r\n    250-8BITMIME\r\n    250 DSN\r\n    DEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;104857600&quot;\r\n    DEBUG SMTP: Found extension &quot;VRFY&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;ETRN&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;PLAIN LOGIN&quot;\r\n    DEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\n    DEBUG SMTP: protocolConnect login, host=wes1-smtp.wedos.net, user=martin.lepic@email.cz, password=&lt;non-null&gt;\r\n    DEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2\r\n    DEBUG SMTP: Using mechanism LOGIN\r\n    DEBUG SMTP: AUTH LOGIN command trace suppressed\r\n    DEBUG SMTP: AUTH LOGIN succeeded\r\n    DEBUG SMTP: use8bit false\r\n    MAIL FROM:&lt;martin.lepic@email.cz&gt;\r\n    250 2.1.0 Ok\r\n    RCPT TO:&lt;martin.lepic@email.cz&gt;\r\n    250 2.1.5 Ok\r\n    DEBUG SMTP: Verified Addresses\r\n    DEBUG SMTP:   martin.lepic@email.cz\r\n    DATA\r\n    354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;\r\n    Date: Tue, 30 May 2023 18:08:21 +0000 (UTC)\r\n    From: martin.lepic@email.cz\r\n    To: martin.lepic@email.cz\r\n    Message-ID: &lt;1085117917.0.1685470101618@5575e5731be3&gt;\r\n    Subject: Email Subject\r\n    MIME-Version: 1.0\r\n    Content-Type: text/plain; charset=UTF-8\r\n    Content-Transfer-Encoding: quoted-printable\r\n    \r\n    QUIT\r\n    DEBUG SMTP: exception reading response, THROW:\r\n    java.net.SocketTimeoutException: Read timed out\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n    \tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1455)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1059)\r\n    \tat com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:102)\r\n    \tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\r\n    \tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:263)\r\n    \tat com.sun.mail.util.LineInputStream.readLine(LineInputStream.java:100)\r\n    \tat com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:2456)\r\n    \tat com.sun.mail.smtp.SMTPTransport.close(SMTPTransport.java:1396)\r\n    \tat org.simplejavamail.mailer.internal.util.TransportRunner.runOnSessionTransport(TransportRunner.java:74)\r\n    \tat org.simplejavamail.mailer.internal.util.TransportRunner.sendMessage(TransportRunner.java:51)\r\n    \tat org.simplejavamail.mailer.internal.SendMailClosure.executeClosure(SendMailClosure.java:69)\r\n    \tat org.simplejavamail.mailer.internal.AbstractProxyServerSyncingClosure.run(AbstractProxyServerSyncingClosure.java:56)\r\n    \tat org.simplejavamail.mailer.internal.MailerImpl.sendMail(MailerImpl.java:363)\r\n    \tat org.simplejavamail.mailer.internal.MailerImpl.sendMail(MailerImpl.java:348)\r\n    \tat cz.digikyblik.main.services.EmailService.simpleMail(EmailService.java:63)\r\n    \tat cz.digikyblik.main.services.BucketService.lambda$createBucket$0(BucketService.java:79)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n    org.simplejavamail.mailer.internal.MailerException: Failed to send email [ID: &#39;&lt;1085117917.0.1685470101618@5575e5731be3&gt;&#39;], reason: Unknown error\r\n    \tat org.simplejavamail.mailer.internal.SendMailClosure.handleException(SendMailClosure.java:85)\r\n    \tat org.simplejavamail.mailer.internal.SendMailClosure.executeClosure(SendMailClosure.java:76)\r\n    \tat org.simplejavamail.mailer.internal.AbstractProxyServerSyncingClosure.run(AbstractProxyServerSyncingClosure.java:56)\r\n    \tat org.simplejavamail.mailer.internal.MailerImpl.sendMail(MailerImpl.java:363)\r\n    \tat org.simplejavamail.mailer.internal.MailerImpl.sendMail(MailerImpl.java:348)\r\n    \tat cz.digikyblik.main.services.EmailService.simpleMail(EmailService.java:63)\r\n    \tat cz.digikyblik.main.services.BucketService.lambda$createBucket$0(BucketService.java:79)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n    Caused by: java.lang.RuntimeException: Provider for jakarta.activation.spi.MailcapRegistryProvider cannot be found\r\n    \tat jakarta.activation.FactoryFinder.find(FactoryFinder.java:90)\r\n    \tat jakarta.activation.MailcapCommandMap.getImplementation(MailcapCommandMap.java:696)\r\n    \tat jakarta.activation.MailcapCommandMap.loadFile(MailcapCommandMap.java:284)\r\n    \tat jakarta.activation.MailcapCommandMap.&lt;init&gt;(MailcapCommandMap.java:154)\r\n    \tat jakarta.activation.CommandMap.getDefaultCommandMap(CommandMap.java:60)\r\n    \tat jakarta.activation.DataHandler.getCommandMap(DataHandler.java:128)\r\n    \tat jakarta.activation.DataHandler.getDataContentHandler(DataHandler.java:590)\r\n    \tat jakarta.activation.DataHandler.writeTo(DataHandler.java:290)\r\n    \tat jakarta.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:1670)\r\n    \tat jakarta.mail.internet.MimeMessage.writeTo(MimeMessage.java:1888)\r\n    \tat com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1300)\r\n    \tat org.simplejavamail.mailer.internal.util.TransportRunner.lambda$sendMessage$0(TransportRunner.java:53)\r\n    \tat org.simplejavamail.mailer.internal.util.TransportRunner.runOnSessionTransport(TransportRunner.java:73)\r\n    \tat org.simplejavamail.mailer.internal.util.TransportRunner.sendMessage(TransportRunner.java:51)\r\n    \tat org.simplejavamail.mailer.internal.SendMailClosure.executeClosure(SendMailClosure.java:69)\r\n    \t... 12 more\r\n    \tSuppressed: jakarta.mail.MessagingException: Exception reading response;\r\n      nested exception is:\r\n    \tjava.net.SocketTimeoutException: Read timed out\r\n    \t\tat com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:2476)\r\n    \t\tat com.sun.mail.smtp.SMTPTransport.close(SMTPTransport.java:1396)\r\n    \t\tat org.simplejavamail.mailer.internal.util.TransportRunner.runOnSessionTransport(TransportRunner.java:74)\r\n    \t\t... 14 more\r\n    \tCaused by: java.net.SocketTimeoutException: Read timed out\r\n    \t\tat java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\r\n    \t\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\r\n    \t\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n    \t\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n    \t\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n    \t\tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\r\n    \t\tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n    \t\tat java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\r\n    \t\tat java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1455)\r\n    \t\tat java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1059)\r\n    \t\tat com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:102)\r\n    \t\tat java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\r\n    \t\tat java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:263)\r\n    \t\tat com.sun.mail.util.LineInputStream.readLine(LineInputStream.java:100)\r\n    \t\tat com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:2456)\r\n    \t\t... 16 more\r\n\r\n\r\nEDIT\r\nHere is code, but like i said, it works normal when i run it on localhost and its send it immediately.\r\n\r\n    public void simpleMail() {\r\n        Email email = EmailBuilder.startingBlank()\r\n                .from(&quot;noreply@digikyblik.cz&quot;)\r\n                .to(&quot;martin.lepic@email.cz&quot;)\r\n                .withSubject(&quot;Email Subject&quot;)\r\n                .withPlainText(&quot;Email Body&quot;)\r\n                .buildEmail();\r\n    \r\n        Mailer mailer = MailerBuilder\r\n                .withSMTPServer(&quot;wes1-smtp.wedos.net&quot;, 587, &quot;mail&quot;, &quot;pass&quot;)\r\n                .withTransportStrategy(TransportStrategy.SMTP_TLS)\r\n                .buildMailer();\r\n    \r\n        mailer.getSession().setDebug(true);\r\n    \r\n        try {\r\n            mailer.sendMail(email);\r\n        } catch (MailException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n    }","title":"Springboot app SMTP sending emails works just on localhost","body":"<p>Hi i am trying to send email from my springboot app and it work perfect, but just on localhost. When i try it put on vps, i get this error, i see that my vps normal connect  and authenticate to SMTP server, but in the end for some reason sending fail. I have no firewall on my vps, have anyone idea, why is this happening? Thanks!</p>\n<pre><code>DEBUG: setDebug: Jakarta Mail version 2.0.1\nDEBUG: getProvider() returning jakarta.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]\nDEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=wes1-smtp.wedos.net, user=martin.lepic@email.cz, password=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;wes1-smtp.wedos.net&quot;, port 587, isSSL false\n220 wes1-so2.wedos.net ESMTP Postfix - S.T.A.N.D.A. postak OUT\nDEBUG SMTP: connected to host &quot;wes1-smtp.wedos.net&quot;, port: 587\nEHLO 5575e5731be3\n250-wes1-so2.wedos.net\n250-PIPELINING\n250-SIZE 104857600\n250-VRFY\n250-ETRN\n250-STARTTLS\n250-ENHANCEDSTATUSCODES\n250-8BITMIME\n250 DSN\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;104857600&quot;\nDEBUG SMTP: Found extension &quot;VRFY&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ETRN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nSTARTTLS\n220 2.0.0 Ready to start TLS\nEHLO 5575e5731be3\n250-wes1-so2.wedos.net\n250-PIPELINING\n250-SIZE 104857600\n250-VRFY\n250-ETRN\n250-AUTH PLAIN LOGIN\n250-ENHANCEDSTATUSCODES\n250-8BITMIME\n250 DSN\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;104857600&quot;\nDEBUG SMTP: Found extension &quot;VRFY&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ETRN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;PLAIN LOGIN&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: protocolConnect login, host=wes1-smtp.wedos.net, user=martin.lepic@email.cz, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2\nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN succeeded\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;martin.lepic@email.cz&gt;\n250 2.1.0 Ok\nRCPT TO:&lt;martin.lepic@email.cz&gt;\n250 2.1.5 Ok\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP:   martin.lepic@email.cz\nDATA\n354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;\nDate: Tue, 30 May 2023 18:08:21 +0000 (UTC)\nFrom: martin.lepic@email.cz\nTo: martin.lepic@email.cz\nMessage-ID: &lt;1085117917.0.1685470101618@5575e5731be3&gt;\nSubject: Email Subject\nMIME-Version: 1.0\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: quoted-printable\n\nQUIT\nDEBUG SMTP: exception reading response, THROW:\njava.net.SocketTimeoutException: Read timed out\n    at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\n    at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1455)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1059)\n    at com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:102)\n    at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\n    at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:263)\n    at com.sun.mail.util.LineInputStream.readLine(LineInputStream.java:100)\n    at com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:2456)\n    at com.sun.mail.smtp.SMTPTransport.close(SMTPTransport.java:1396)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.runOnSessionTransport(TransportRunner.java:74)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.sendMessage(TransportRunner.java:51)\n    at org.simplejavamail.mailer.internal.SendMailClosure.executeClosure(SendMailClosure.java:69)\n    at org.simplejavamail.mailer.internal.AbstractProxyServerSyncingClosure.run(AbstractProxyServerSyncingClosure.java:56)\n    at org.simplejavamail.mailer.internal.MailerImpl.sendMail(MailerImpl.java:363)\n    at org.simplejavamail.mailer.internal.MailerImpl.sendMail(MailerImpl.java:348)\n    at cz.digikyblik.main.services.EmailService.simpleMail(EmailService.java:63)\n    at cz.digikyblik.main.services.BucketService.lambda$createBucket$0(BucketService.java:79)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\norg.simplejavamail.mailer.internal.MailerException: Failed to send email [ID: '&lt;1085117917.0.1685470101618@5575e5731be3&gt;'], reason: Unknown error\n    at org.simplejavamail.mailer.internal.SendMailClosure.handleException(SendMailClosure.java:85)\n    at org.simplejavamail.mailer.internal.SendMailClosure.executeClosure(SendMailClosure.java:76)\n    at org.simplejavamail.mailer.internal.AbstractProxyServerSyncingClosure.run(AbstractProxyServerSyncingClosure.java:56)\n    at org.simplejavamail.mailer.internal.MailerImpl.sendMail(MailerImpl.java:363)\n    at org.simplejavamail.mailer.internal.MailerImpl.sendMail(MailerImpl.java:348)\n    at cz.digikyblik.main.services.EmailService.simpleMail(EmailService.java:63)\n    at cz.digikyblik.main.services.BucketService.lambda$createBucket$0(BucketService.java:79)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\nCaused by: java.lang.RuntimeException: Provider for jakarta.activation.spi.MailcapRegistryProvider cannot be found\n    at jakarta.activation.FactoryFinder.find(FactoryFinder.java:90)\n    at jakarta.activation.MailcapCommandMap.getImplementation(MailcapCommandMap.java:696)\n    at jakarta.activation.MailcapCommandMap.loadFile(MailcapCommandMap.java:284)\n    at jakarta.activation.MailcapCommandMap.&lt;init&gt;(MailcapCommandMap.java:154)\n    at jakarta.activation.CommandMap.getDefaultCommandMap(CommandMap.java:60)\n    at jakarta.activation.DataHandler.getCommandMap(DataHandler.java:128)\n    at jakarta.activation.DataHandler.getDataContentHandler(DataHandler.java:590)\n    at jakarta.activation.DataHandler.writeTo(DataHandler.java:290)\n    at jakarta.mail.internet.MimeBodyPart.writeTo(MimeBodyPart.java:1670)\n    at jakarta.mail.internet.MimeMessage.writeTo(MimeMessage.java:1888)\n    at com.sun.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1300)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.lambda$sendMessage$0(TransportRunner.java:53)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.runOnSessionTransport(TransportRunner.java:73)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.sendMessage(TransportRunner.java:51)\n    at org.simplejavamail.mailer.internal.SendMailClosure.executeClosure(SendMailClosure.java:69)\n    ... 12 more\n    Suppressed: jakarta.mail.MessagingException: Exception reading response;\n  nested exception is:\n    java.net.SocketTimeoutException: Read timed out\n        at com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:2476)\n        at com.sun.mail.smtp.SMTPTransport.close(SMTPTransport.java:1396)\n        at org.simplejavamail.mailer.internal.util.TransportRunner.runOnSessionTransport(TransportRunner.java:74)\n        ... 14 more\n    Caused by: java.net.SocketTimeoutException: Read timed out\n        at java.base/sun.nio.ch.NioSocketImpl.timedRead(NioSocketImpl.java:283)\n        at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:309)\n        at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n        at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n        at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:478)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.bytesInCompletePacket(SSLSocketInputRecord.java:70)\n        at java.base/sun.security.ssl.SSLSocketImpl.readApplicationRecord(SSLSocketImpl.java:1455)\n        at java.base/sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:1059)\n        at com.sun.mail.util.TraceInputStream.read(TraceInputStream.java:102)\n        at java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:244)\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:263)\n        at com.sun.mail.util.LineInputStream.readLine(LineInputStream.java:100)\n        at com.sun.mail.smtp.SMTPTransport.readServerResponse(SMTPTransport.java:2456)\n        ... 16 more\n</code></pre>\n<p>EDIT\nHere is code, but like i said, it works normal when i run it on localhost and its send it immediately.</p>\n<pre><code>public void simpleMail() {\n    Email email = EmailBuilder.startingBlank()\n            .from(&quot;noreply@digikyblik.cz&quot;)\n            .to(&quot;martin.lepic@email.cz&quot;)\n            .withSubject(&quot;Email Subject&quot;)\n            .withPlainText(&quot;Email Body&quot;)\n            .buildEmail();\n\n    Mailer mailer = MailerBuilder\n            .withSMTPServer(&quot;wes1-smtp.wedos.net&quot;, 587, &quot;mail&quot;, &quot;pass&quot;)\n            .withTransportStrategy(TransportStrategy.SMTP_TLS)\n            .buildMailer();\n\n    mailer.getSession().setDebug(true);\n\n    try {\n        mailer.sendMail(email);\n    } catch (MailException e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","intellij-idea","look-and-feel"],"comments":[{"owner":{"account_id":5670274,"reputation":1547,"user_id":4485127,"accept_rate":82,"display_name":"Angel Garcia"},"score":0,"creation_date":1469684796,"post_id":38627813,"comment_id":79362874,"body_markdown":"This is just a suggestion and is also personal preference, but I love flat colored UI&#39;s. I&#39;ve been noticing that a lot of developers nowadays are styling their programs with flat colors. It gives them a more simplistic and modern look in my opinion. If you&#39;re interested, I would suggest using https://flatuicolors.com/ they have a decent amount of colors to use. I personally use them in my java applications.","body":"This is just a suggestion and is also personal preference, but I love flat colored UI&#39;s. I&#39;ve been noticing that a lot of developers nowadays are styling their programs with flat colors. It gives them a more simplistic and modern look in my opinion. If you&#39;re interested, I would suggest using <a href=\"https://flatuicolors.com/\" rel=\"nofollow noreferrer\">flatuicolors.com</a> they have a decent amount of colors to use. I personally use them in my java applications."},{"owner":{"display_name":"user6602265"},"score":0,"creation_date":1469685127,"post_id":38627813,"comment_id":79362883,"body_markdown":"Swing is ok... i recommend to use **JavaFx**. it helps in making better applications than swing. It supports css files. or you can make a hybirid of swing and javafx [try this for starters](https://www.google.co.in/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=10&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiCub7wu5XOAhUOTI8KHfjFDoEQFghXMAk&amp;url=http%3A%2F%2Fwww.javafxtutorials.com%2F&amp;usg=AFQjCNEEeaC3b1MT9CnHnwaDtE1siaBQEQ&amp;sig2=o1liIGGuJ-YkYo8_cA-S3ghttp://)","body":"Swing is ok... i recommend to use <b>JavaFx</b>. it helps in making better applications than swing. It supports css files. or you can make a hybirid of swing and javafx <a href=\"https://www.google.co.in/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=10&amp;cad=rja&amp;uact=8&amp;ved=0ahUKEwiCub7wu5XOAhUOTI8KHfjFDoEQFghXMAk&amp;url=http%3A%2F%2Fwww.javafxtutorials.com%2F&amp;usg=AFQjCNEEeaC3b1MT9CnHnwaDtE1siaBQEQ&amp;sig2=o1liIGGuJ-YkYo8_cA-S3ghttp://\" rel=\"nofollow noreferrer\">try this for starters</a>"}],"answers":[{"tags":[],"owner":{"account_id":8804687,"reputation":603,"user_id":6579771,"display_name":"mayha"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1685502964,"creation_date":1469685572,"answer_id":38628174,"question_id":38627813,"body_markdown":"To change look and feel in Java just add this to your main method before you create the GUI.\r\n\r\n```java\r\ntry {\r\n    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);  // Windows Look and feel\r\n} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n\t\t\t\t\t\t\t","title":"How to change look and feel of swing application in intellij idea","body":"<p>To change look and feel in Java just add this to your main method before you create the GUI.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.windows.WindowsLookAndFeel&quot;);  // Windows Look and feel\n} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":8824885,"reputation":111,"user_id":6593448,"display_name":"ShakeeL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38628174,"answer_count":1,"score":1,"last_activity_date":1685502964,"creation_date":1469684063,"question_id":38627813,"body_markdown":"I am a student, I am using idea for my applications. \r\nI am working on swing form , I have done every thing but unable to change look and feel of my app.\r\n\r\nI am using intellij idea community edition, can anyone tell me how I can change look and feel of my swing application?","title":"How to change look and feel of swing application in intellij idea","body":"<p>I am a student, I am using idea for my applications. \nI am working on swing form , I have done every thing but unable to change look and feel of my app.</p>\n\n<p>I am using intellij idea community edition, can anyone tell me how I can change look and feel of my swing application?</p>\n"},{"tags":["java","swing","polygon","rounded-corners"],"comments":[{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":3,"creation_date":1432907008,"post_id":30531158,"comment_id":49135863,"body_markdown":"Repeat x 3 (draw a line; draw an arc of a small-radius circle)","body":"Repeat x 3 (draw a line; draw an arc of a small-radius circle)"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1432909536,"post_id":30531158,"comment_id":49137707,"body_markdown":"Using a [BasicStroke}(http://docs.oracle.com/javase/7/docs/api/java/awt/BasicStroke.html) you can control the _joins_ - see `JOIN_ROUND`. This of course is minimal, though you could use `scale` too.","body":"Using a [BasicStroke}(<a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/BasicStroke.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/awt/Bas&zwnj;&#8203;icStroke.html</a>) you can control the <i>joins</i> - see <code>JOIN_ROUND</code>. This of course is minimal, though you could use <code>scale</code> too."}],"answers":[{"tags":[],"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432907743,"creation_date":1432907743,"answer_id":30531465,"question_id":30531158,"body_markdown":"If you want a relatively small amount of rounding, look at [Stroke][1] and [BasicStroke][2], which allows you to round the corners of any polygon. If you want a very rounded triangle you will have to construct the line shape for yourself. Draw circle arcs instead of corners, or use splines to create the shape.\r\n\r\nHere is [a tutorial for Strokes][3].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Stroke.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/awt/BasicStroke.html\r\n  [3]: https://docs.oracle.com/javase/tutorial/2d/geometry/strokeandfill.html","title":"Draw triangle with rounded corner","body":"<p>If you want a relatively small amount of rounding, look at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Stroke.html\" rel=\"nofollow\">Stroke</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/BasicStroke.html\" rel=\"nofollow\">BasicStroke</a>, which allows you to round the corners of any polygon. If you want a very rounded triangle you will have to construct the line shape for yourself. Draw circle arcs instead of corners, or use splines to create the shape.</p>\n\n<p>Here is <a href=\"https://docs.oracle.com/javase/tutorial/2d/geometry/strokeandfill.html\" rel=\"nofollow\">a tutorial for Strokes</a>.</p>\n"},{"tags":[],"owner":{"account_id":1504382,"reputation":8300,"user_id":1408143,"display_name":"copeg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1432919496,"creation_date":1432908703,"answer_id":30531820,"question_id":30531158,"body_markdown":"For more control over the rounded corners (beyond using a [Stroke][1]), you can combine 3 lines for the sides, and 3 bezier curves for the rounded corners. Use linear interpolation to get the start/end point of the lines and curves, with the corner points being the control point for the curves.\r\n\r\n\tpublic Point interpolate(Point p1, Point p2, double t){\r\n\t\treturn new Point((int)Math.round(p1.x * (1-t) + p2.x*t), \r\n\t\t\t\t(int)Math.round(p1.y * (1-t) + p2.y*t));\r\n\t}\r\n\r\n    Point p1 = new Point(50,10);\r\n\tPoint p2 = new Point(10,100);\r\n\tPoint p3 = new Point(100,100);\r\n\t\r\n\tPoint p1p2a = interpolate(p1, p2, 0.2);\r\n\tPoint p1p2b = interpolate(p1, p2, 0.8);\r\n\t\r\n\tPoint p2p3a = interpolate(p2, p3, 0.2);\r\n\tPoint p2p3b = interpolate(p2, p3, 0.8);\r\n\t\r\n\tPoint p3p1a = interpolate(p3, p1, 0.2);\r\n\tPoint p3p1b = interpolate(p3, p1, 0.8);\r\n    ...\r\n\r\n\tg.drawLine(p1p2a.x, p1p2a.y, p1p2b.x, p1p2b.y);\r\n\tg.drawLine(p2p3a.x, p2p3a.y, p2p3b.x, p2p3b.y);\r\n\tg.drawLine(p3p1a.x, p3p1a.y, p3p1b.x, p3p1b.y);\r\n\tQuadCurve2D c1 = new QuadCurve2D.Double(p1p2b.x, p1p2b.y, p2.x, p2.y, p2p3a.x, p2p3a.y);\r\n\tQuadCurve2D c2 = new QuadCurve2D.Double(p2p3b.x, p2p3b.y, p3.x, p3.y, p3p1a.x, p3p1a.y);\r\n\tQuadCurve2D c3 = new QuadCurve2D.Double(p3p1b.x, p3p1b.y, p1.x, p1.y, p1p2a.x, p1p2a.y);\r\n\tg.draw(c1);\r\n\tg.draw(c2);\r\n\tg.draw(c3);\r\n \r\nIn the above code, you can adjust the `t` parameter passed to `interpolate` to change how rounded the corners are. \r\n\r\nYou can also append all of these into a [Path2D][2]. `Path2D` implements the `Shape` interface, which among other things allows on to pass the object to `Graphics2D.fill` to fill the Shape\r\n\r\n \tPath2D path = new Path2D.Double();\r\n\tAffineTransform at = new AffineTransform();\r\n\tpath.moveTo(p1p2a.x, p1p2a.y);\r\n\tpath.lineTo(p1p2b.x, p1p2b.y);\r\n\tpath.append(c1.getPathIterator(at), true);\r\n\tpath.lineTo(p2p3b.x, p2p3b.y);\r\n\tpath.append(c2.getPathIterator(at), true);\r\n\tpath.lineTo(p3p1b.x, p3p1b.y);\r\n\tpath.append(c3.getPathIterator(at), true);\r\n\tpath.closePath();\r\n\tg.fill(path);\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/2d/geometry/strokeandfill.html\r\n[2]: http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Path2D.Double.html","title":"Draw triangle with rounded corner","body":"<p>For more control over the rounded corners (beyond using a <a href=\"https://docs.oracle.com/javase/tutorial/2d/geometry/strokeandfill.html\" rel=\"nofollow\">Stroke</a>), you can combine 3 lines for the sides, and 3 bezier curves for the rounded corners. Use linear interpolation to get the start/end point of the lines and curves, with the corner points being the control point for the curves.</p>\n\n<pre><code>public Point interpolate(Point p1, Point p2, double t){\n    return new Point((int)Math.round(p1.x * (1-t) + p2.x*t), \n            (int)Math.round(p1.y * (1-t) + p2.y*t));\n}\n\nPoint p1 = new Point(50,10);\nPoint p2 = new Point(10,100);\nPoint p3 = new Point(100,100);\n\nPoint p1p2a = interpolate(p1, p2, 0.2);\nPoint p1p2b = interpolate(p1, p2, 0.8);\n\nPoint p2p3a = interpolate(p2, p3, 0.2);\nPoint p2p3b = interpolate(p2, p3, 0.8);\n\nPoint p3p1a = interpolate(p3, p1, 0.2);\nPoint p3p1b = interpolate(p3, p1, 0.8);\n...\n\ng.drawLine(p1p2a.x, p1p2a.y, p1p2b.x, p1p2b.y);\ng.drawLine(p2p3a.x, p2p3a.y, p2p3b.x, p2p3b.y);\ng.drawLine(p3p1a.x, p3p1a.y, p3p1b.x, p3p1b.y);\nQuadCurve2D c1 = new QuadCurve2D.Double(p1p2b.x, p1p2b.y, p2.x, p2.y, p2p3a.x, p2p3a.y);\nQuadCurve2D c2 = new QuadCurve2D.Double(p2p3b.x, p2p3b.y, p3.x, p3.y, p3p1a.x, p3p1a.y);\nQuadCurve2D c3 = new QuadCurve2D.Double(p3p1b.x, p3p1b.y, p1.x, p1.y, p1p2a.x, p1p2a.y);\ng.draw(c1);\ng.draw(c2);\ng.draw(c3);\n</code></pre>\n\n<p>In the above code, you can adjust the <code>t</code> parameter passed to <code>interpolate</code> to change how rounded the corners are. </p>\n\n<p>You can also append all of these into a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/geom/Path2D.Double.html\" rel=\"nofollow\">Path2D</a>. <code>Path2D</code> implements the <code>Shape</code> interface, which among other things allows on to pass the object to <code>Graphics2D.fill</code> to fill the Shape</p>\n\n<pre><code>Path2D path = new Path2D.Double();\nAffineTransform at = new AffineTransform();\npath.moveTo(p1p2a.x, p1p2a.y);\npath.lineTo(p1p2b.x, p1p2b.y);\npath.append(c1.getPathIterator(at), true);\npath.lineTo(p2p3b.x, p2p3b.y);\npath.append(c2.getPathIterator(at), true);\npath.lineTo(p3p1b.x, p3p1b.y);\npath.append(c3.getPathIterator(at), true);\npath.closePath();\ng.fill(path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22038257,"reputation":1,"user_id":16304396,"display_name":"Aditya Gaurav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685502952,"creation_date":1685433755,"answer_id":76362763,"question_id":30531158,"body_markdown":"    protected Path createShapePath() {\r\n        Path path = new Path();\r\n        float cornerRadius = 10.0f; // Adjust the radius to control the roundness of the corners\r\n        // Starting point at the bottom-left corner\r\n        path.moveTo(shapeBox.left , shapeBox.bottom - cornerRadius );\r\n        // Top point with rounded edge\r\n        path.lineTo(shapeBox.centerX() - cornerRadius, shapeBox.top + cornerRadius);\r\n        path.arcTo(new RectF(shapeBox.centerX() - cornerRadius, shapeBox.top, shapeBox.centerX() + cornerRadius, shapeBox.top + 2 * cornerRadius), 180, 180);\r\n        // Bottom-right point with rounded edge\r\n        path.lineTo(shapeBox.right, shapeBox.bottom - cornerRadius);\r\n        path.arcTo(new RectF(shapeBox.right- 2 * cornerRadius , shapeBox.bottom - 2 * cornerRadius, shapeBox.right, shapeBox.bottom), 0, 90);\r\n        // Bottom-left point with rounded edge\r\n        path.lineTo(shapeBox.left + cornerRadius , shapeBox.bottom );\r\n        path.arcTo(new RectF(shapeBox.left, shapeBox.bottom - 2 * cornerRadius, shapeBox.left + 2 * cornerRadius, shapeBox.bottom), 90, 90);\r\n        // Close the path\r\n        path.close();\r\n        return path;\r\n    }\r\n\r\n&gt; Here &quot;shapeBox&quot; is a &quot;RectF&quot; in java having four corners value inside which\r\n&gt; you can draw your Traingle with round corners.\r\n&gt; This is simple and works for me.[enter image description here][2]","title":"Draw triangle with rounded corner","body":"<pre><code>protected Path createShapePath() {\n    Path path = new Path();\n    float cornerRadius = 10.0f; // Adjust the radius to control the roundness of the corners\n    // Starting point at the bottom-left corner\n    path.moveTo(shapeBox.left , shapeBox.bottom - cornerRadius );\n    // Top point with rounded edge\n    path.lineTo(shapeBox.centerX() - cornerRadius, shapeBox.top + cornerRadius);\n    path.arcTo(new RectF(shapeBox.centerX() - cornerRadius, shapeBox.top, shapeBox.centerX() + cornerRadius, shapeBox.top + 2 * cornerRadius), 180, 180);\n    // Bottom-right point with rounded edge\n    path.lineTo(shapeBox.right, shapeBox.bottom - cornerRadius);\n    path.arcTo(new RectF(shapeBox.right- 2 * cornerRadius , shapeBox.bottom - 2 * cornerRadius, shapeBox.right, shapeBox.bottom), 0, 90);\n    // Bottom-left point with rounded edge\n    path.lineTo(shapeBox.left + cornerRadius , shapeBox.bottom );\n    path.arcTo(new RectF(shapeBox.left, shapeBox.bottom - 2 * cornerRadius, shapeBox.left + 2 * cornerRadius, shapeBox.bottom), 90, 90);\n    // Close the path\n    path.close();\n    return path;\n}\n</code></pre>\n<blockquote>\n<p>Here &quot;shapeBox&quot; is a &quot;RectF&quot; in java having four corners value inside which\nyou can draw your Traingle with round corners.\nThis is simple and works for me.[enter image description here][2]</p>\n</blockquote>\n"}],"owner":{"account_id":3458165,"reputation":762,"user_id":2896152,"accept_rate":29,"display_name":"user2896152"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3762,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30531820,"answer_count":3,"score":3,"last_activity_date":1685502952,"creation_date":1432906854,"question_id":30531158,"body_markdown":"I would like to draw a triangle whose vertices are a bit smoothed in Java Swing. I learnt how to draw a triangle with these lines of code\r\n              \r\n    Polygon p=new Polygon (vertice_x, vertices_y, number_of_vertices);\r\n    g.drawPolygon(p);\r\n\r\nbut I&#39;ve found nothing about rounded corners. I read there is a method in Graphics2D that lets you to draw a rectangle with rounded borders but for a general Polygon? How should I do that?","title":"Draw triangle with rounded corner","body":"<p>I would like to draw a triangle whose vertices are a bit smoothed in Java Swing. I learnt how to draw a triangle with these lines of code</p>\n\n<pre><code>Polygon p=new Polygon (vertice_x, vertices_y, number_of_vertices);\ng.drawPolygon(p);\n</code></pre>\n\n<p>but I've found nothing about rounded corners. I read there is a method in Graphics2D that lets you to draw a rectangle with rounded borders but for a general Polygon? How should I do that?</p>\n"},{"tags":["java","apache-kafka","spark-structured-streaming"],"owner":{"account_id":19854192,"reputation":145,"user_id":14555117,"display_name":"Diego Gallo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685501875,"creation_date":1685470596,"question_id":76367584,"body_markdown":"#### Summary ####\r\n\r\nDeveloping a Spark application using Java for financial analytics. Apache Kafka is being used for streaming data in conjunction with Spark Struct Streaming API for reading data. `group_by()` and `window()` functions are used to calculate the average bid and ask prices every minute. I want to calculate the percentage change of the average of those two prices between the current and past window.\r\n\r\n#### Relevant code block ####\r\n\t`public static void test2() throws Exception {\r\n        // Create SparkSession\r\n        SparkSession spark = SparkSession.builder()\r\n                .appName(&quot;BidAskPriceChanges&quot;)\r\n                .master(&quot;local&quot;)\r\n                .getOrCreate();\r\n\r\n        // Define the schema for the streaming data\r\n        StructType schema = new StructType()\r\n        \t\t.add(&quot;book&quot;, &quot;string&quot;, false)\r\n        \t\t.add(&quot;volume&quot;, &quot;string&quot;, false)\r\n        \t\t.add(&quot;high&quot;, &quot;string&quot;,true)\r\n        \t\t.add(&quot;last&quot;, &quot;string&quot;, false)\r\n        \t\t.add(&quot;low&quot;, &quot;string&quot;, false)\r\n        \t\t.add(&quot;vwap&quot;, &quot;string&quot;, false)\r\n        \t\t.add(&quot;ask&quot;, &quot;string&quot;, false)\r\n        \t\t.add(&quot;bid&quot;, &quot;string&quot;, false)\r\n                .add(&quot;created_at&quot;, &quot;string&quot;,true);\r\n\r\n        // Read streaming data from Kafka\r\n        Dataset&lt;Row&gt; data = spark\r\n                .readStream()\r\n                .format(&quot;kafka&quot;)\r\n                .option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9093&quot;)\r\n                .option(&quot;subscribe&quot;, &quot;topic1&quot;)\r\n                .load()\r\n                .selectExpr(&quot;CAST(value AS STRING) as json&quot;)\r\n                .select(functions.from_json(functions.col(&quot;json&quot;), schema).as(&quot;data&quot;))\r\n                .select(&quot;data.*&quot;);\r\n\r\n        // Parse the &#39;created_at&#39; column as timestamp\r\n        data = data\r\n                .withColumn(&quot;volume&quot;, col(&quot;volume&quot;).cast(DataTypes.DoubleType))\r\n                .withColumn(&quot;high&quot;, col(&quot;high&quot;).cast(DataTypes.DoubleType))\r\n                .withColumn(&quot;last&quot;, col(&quot;last&quot;).cast(DataTypes.DoubleType))\r\n                .withColumn(&quot;low&quot;, col(&quot;low&quot;).cast(DataTypes.DoubleType))\r\n                .withColumn(&quot;vwap&quot;, col(&quot;vwap&quot;).cast(DataTypes.DoubleType))\r\n                .withColumn(&quot;ask&quot;, col(&quot;ask&quot;).cast(DataTypes.DoubleType))\r\n                .withColumn(&quot;bid&quot;, col(&quot;bid&quot;).cast(DataTypes.DoubleType))\r\n        \t\t.withColumn(&quot;created_at&quot;, to_timestamp(col(&quot;created_at&quot;), &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;));\r\n        \r\n        \r\n        // Define the window duration and sliding interval\r\n        String windowDuration = &quot;5 minutes&quot;;\r\n        String slidingInterval = &quot;1 minute&quot;;\r\n        \r\n        WindowSpec windowSpec = Window.partitionBy(window(col(&quot;created_at&quot;), windowDuration, slidingInterval))\r\n        \t\t.orderBy(&quot;created_at&quot;);\r\n        Dataset&lt;Row&gt; windowedData = data\r\n                .withColumn(&quot;avg_bid&quot;, avg(col(&quot;bid&quot;)).over(windowSpec))\r\n                .withColumn(&quot;avg_ask&quot;, avg(col(&quot;ask&quot;)).over(windowSpec));\r\n\r\n        // Compute the lagged average bid/ask prices for comparison\r\n        Column prevAvgBid = lag(col(&quot;avg_bid&quot;), 1).over(windowSpec);\r\n        Column prevAvgAsk = lag(col(&quot;avg_ask&quot;), 1).over(windowSpec);\r\n\r\n        windowedData = windowedData.withColumn(&quot;prev_avg_bid&quot;, prevAvgBid)\r\n                .withColumn(&quot;prev_avg_ask&quot;, prevAvgAsk);\r\n\r\n        \r\n        Dataset&lt;Row&gt; avgPrices = data\r\n        \t    .withWatermark(&quot;created_at&quot;, &quot;1 minute&quot;)\r\n        \t    .groupBy(window(col(&quot;created_at&quot;), &quot;1 minute&quot;))\r\n        \t    .agg(avg(&quot;bid&quot;).alias(&quot;avg_bid&quot;), avg(&quot;ask&quot;).alias(&quot;avg_ask&quot;))\r\n        \t    .withColumn(&quot;next_minute&quot;, col(&quot;window.end&quot;));\r\n        \t    .withColumn(&quot;bid_percentage_change&quot;, (col(&quot;avg_bid&quot;).minus(lag(&quot;avg_bid&quot;, 1).over(Window.orderBy(&quot;window&quot;)))).divide(lag(&quot;avg_bid&quot;, 1).over(Window.orderBy(&quot;window&quot;))).multiply(100))\r\n        \t    .withColumn(&quot;ask_percentage_change&quot;, (col(&quot;avg_ask&quot;).minus(lag(&quot;avg_ask&quot;, 1).over(Window.orderBy(&quot;window&quot;)))).divide(lag(&quot;avg_ask&quot;, 1).over(Window.orderBy(&quot;window&quot;))).multiply(100));\r\n\r\n        \t// Start the streaming query to write the results to the console\r\n        \tStreamingQuery query = avgPrices\r\n        \t    .writeStream()\r\n        \t    .outputMode(&quot;complete&quot;)\r\n        \t    .format(&quot;console&quot;)\r\n        \t    .trigger(Trigger.ProcessingTime(&quot;1 minute&quot;))\r\n        \t    .start();\r\n\r\n        query.awaitTermination();`\r\n#### Errors displayed ####\r\nWhen I add the columns `bid_percentage_change` and `ask_percentage_change` I go the error: `org.apache.spark.sql.AnalysisException: Non-time-based windows are not supported on streaming DataFrames/Datasets;`. If I remove those two columns, the program runs without a problem.\r\n#### Additional information ####\r\n\r\nI&#39;ve consulted additional resources before posting my question but none have thrown a solution. According to one answer from a similar question, Spark Struct Streaming does not handle multiple aggregation operations. Tried implementing an apporach using `flatMapGroupWithState` with no result. Here is a list of resources I already consulted.\r\n 1. ChatGPT\r\n 2. Similar SOF questions and answers &lt;https://stackoverflow.com/questions/53294809/spark-non-time-based-windows-are-not-supported-on-streaming-dataframes-dataset&gt;.\r\n 3. Official Spark Documentation\r\n\r\n","title":"Calculating percentage change between average price using Java Spark Struct Streaming","body":"<h4>Summary</h4>\n<p>Developing a Spark application using Java for financial analytics. Apache Kafka is being used for streaming data in conjunction with Spark Struct Streaming API for reading data. <code>group_by()</code> and <code>window()</code> functions are used to calculate the average bid and ask prices every minute. I want to calculate the percentage change of the average of those two prices between the current and past window.</p>\n<h4>Relevant code block</h4>\n<pre><code>`public static void test2() throws Exception {\n    // Create SparkSession\n    SparkSession spark = SparkSession.builder()\n            .appName(&quot;BidAskPriceChanges&quot;)\n            .master(&quot;local&quot;)\n            .getOrCreate();\n\n    // Define the schema for the streaming data\n    StructType schema = new StructType()\n            .add(&quot;book&quot;, &quot;string&quot;, false)\n            .add(&quot;volume&quot;, &quot;string&quot;, false)\n            .add(&quot;high&quot;, &quot;string&quot;,true)\n            .add(&quot;last&quot;, &quot;string&quot;, false)\n            .add(&quot;low&quot;, &quot;string&quot;, false)\n            .add(&quot;vwap&quot;, &quot;string&quot;, false)\n            .add(&quot;ask&quot;, &quot;string&quot;, false)\n            .add(&quot;bid&quot;, &quot;string&quot;, false)\n            .add(&quot;created_at&quot;, &quot;string&quot;,true);\n\n    // Read streaming data from Kafka\n    Dataset&lt;Row&gt; data = spark\n            .readStream()\n            .format(&quot;kafka&quot;)\n            .option(&quot;kafka.bootstrap.servers&quot;, &quot;localhost:9093&quot;)\n            .option(&quot;subscribe&quot;, &quot;topic1&quot;)\n            .load()\n            .selectExpr(&quot;CAST(value AS STRING) as json&quot;)\n            .select(functions.from_json(functions.col(&quot;json&quot;), schema).as(&quot;data&quot;))\n            .select(&quot;data.*&quot;);\n\n    // Parse the 'created_at' column as timestamp\n    data = data\n            .withColumn(&quot;volume&quot;, col(&quot;volume&quot;).cast(DataTypes.DoubleType))\n            .withColumn(&quot;high&quot;, col(&quot;high&quot;).cast(DataTypes.DoubleType))\n            .withColumn(&quot;last&quot;, col(&quot;last&quot;).cast(DataTypes.DoubleType))\n            .withColumn(&quot;low&quot;, col(&quot;low&quot;).cast(DataTypes.DoubleType))\n            .withColumn(&quot;vwap&quot;, col(&quot;vwap&quot;).cast(DataTypes.DoubleType))\n            .withColumn(&quot;ask&quot;, col(&quot;ask&quot;).cast(DataTypes.DoubleType))\n            .withColumn(&quot;bid&quot;, col(&quot;bid&quot;).cast(DataTypes.DoubleType))\n            .withColumn(&quot;created_at&quot;, to_timestamp(col(&quot;created_at&quot;), &quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;));\n    \n    \n    // Define the window duration and sliding interval\n    String windowDuration = &quot;5 minutes&quot;;\n    String slidingInterval = &quot;1 minute&quot;;\n    \n    WindowSpec windowSpec = Window.partitionBy(window(col(&quot;created_at&quot;), windowDuration, slidingInterval))\n            .orderBy(&quot;created_at&quot;);\n    Dataset&lt;Row&gt; windowedData = data\n            .withColumn(&quot;avg_bid&quot;, avg(col(&quot;bid&quot;)).over(windowSpec))\n            .withColumn(&quot;avg_ask&quot;, avg(col(&quot;ask&quot;)).over(windowSpec));\n\n    // Compute the lagged average bid/ask prices for comparison\n    Column prevAvgBid = lag(col(&quot;avg_bid&quot;), 1).over(windowSpec);\n    Column prevAvgAsk = lag(col(&quot;avg_ask&quot;), 1).over(windowSpec);\n\n    windowedData = windowedData.withColumn(&quot;prev_avg_bid&quot;, prevAvgBid)\n            .withColumn(&quot;prev_avg_ask&quot;, prevAvgAsk);\n\n    \n    Dataset&lt;Row&gt; avgPrices = data\n            .withWatermark(&quot;created_at&quot;, &quot;1 minute&quot;)\n            .groupBy(window(col(&quot;created_at&quot;), &quot;1 minute&quot;))\n            .agg(avg(&quot;bid&quot;).alias(&quot;avg_bid&quot;), avg(&quot;ask&quot;).alias(&quot;avg_ask&quot;))\n            .withColumn(&quot;next_minute&quot;, col(&quot;window.end&quot;));\n            .withColumn(&quot;bid_percentage_change&quot;, (col(&quot;avg_bid&quot;).minus(lag(&quot;avg_bid&quot;, 1).over(Window.orderBy(&quot;window&quot;)))).divide(lag(&quot;avg_bid&quot;, 1).over(Window.orderBy(&quot;window&quot;))).multiply(100))\n            .withColumn(&quot;ask_percentage_change&quot;, (col(&quot;avg_ask&quot;).minus(lag(&quot;avg_ask&quot;, 1).over(Window.orderBy(&quot;window&quot;)))).divide(lag(&quot;avg_ask&quot;, 1).over(Window.orderBy(&quot;window&quot;))).multiply(100));\n\n        // Start the streaming query to write the results to the console\n        StreamingQuery query = avgPrices\n            .writeStream()\n            .outputMode(&quot;complete&quot;)\n            .format(&quot;console&quot;)\n            .trigger(Trigger.ProcessingTime(&quot;1 minute&quot;))\n            .start();\n\n    query.awaitTermination();`\n</code></pre>\n<h4>Errors displayed</h4>\n<p>When I add the columns <code>bid_percentage_change</code> and <code>ask_percentage_change</code> I go the error: <code>org.apache.spark.sql.AnalysisException: Non-time-based windows are not supported on streaming DataFrames/Datasets;</code>. If I remove those two columns, the program runs without a problem.</p>\n<h4>Additional information</h4>\n<p>I've consulted additional resources before posting my question but none have thrown a solution. According to one answer from a similar question, Spark Struct Streaming does not handle multiple aggregation operations. Tried implementing an apporach using <code>flatMapGroupWithState</code> with no result. Here is a list of resources I already consulted.</p>\n<ol>\n<li>ChatGPT</li>\n<li>Similar SOF questions and answers <a href=\"https://stackoverflow.com/questions/53294809/spark-non-time-based-windows-are-not-supported-on-streaming-dataframes-dataset\">Spark - Non-time-based windows are not supported on streaming DataFrames/Datasets;</a>.</li>\n<li>Official Spark Documentation</li>\n</ol>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":12565433,"reputation":1862,"user_id":9141593,"display_name":"Antonio Gomez Alvarado"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685475408,"creation_date":1685475408,"answer_id":76368070,"question_id":76367636,"body_markdown":"There is no built in message delay - see more about this [here.][1]\r\n\r\n\r\nYou can however, leverage the `pause` and `resume` methods from the [KafkaConsumer API][2]\r\n\r\n\r\nWhich states the following \r\n\r\n&gt; Kafka supports dynamic controlling of consumption flows by using pause(Collection) and resume(Collection) to pause the consumption on the specified assigned partitions and resume the consumption on the specified paused partitions respectively in the future poll(long) calls.\r\n\r\n\r\nThis seem to me as the go to solution after reading [this][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47991670/delayed-message-consumption-in-kafka\r\n  [2]: https://kafka.apache.org/0102/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)\r\n  [3]: https://medium.com/naukri-engineering/retry-mechanism-and-delay-queues-in-apache-kafka-528a6524f722\r\n\r\nSo Java code would be as following, more or less, this is a sketch:\r\n```\r\nSet&lt;TopicPartition&gt; partitions = consumer.assignment();\r\nconsumer.pause(partitions);\r\nThread.sleep(10000); // 10 Seconds in millis\r\n...\r\nconsumer.resume(partitions)\r\n```\r\n\r\n**Disclaimer: I haven&#39;t tested it.**","title":"How to read messages from topic by Kafka after a my custom time interval?","body":"<p>There is no built in message delay - see more about this <a href=\"https://stackoverflow.com/questions/47991670/delayed-message-consumption-in-kafka\">here.</a></p>\n<p>You can however, leverage the <code>pause</code> and <code>resume</code> methods from the <a href=\"https://kafka.apache.org/0102/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#pause(java.util.Collection)\" rel=\"nofollow noreferrer\">KafkaConsumer API</a></p>\n<p>Which states the following</p>\n<blockquote>\n<p>Kafka supports dynamic controlling of consumption flows by using pause(Collection) and resume(Collection) to pause the consumption on the specified assigned partitions and resume the consumption on the specified paused partitions respectively in the future poll(long) calls.</p>\n</blockquote>\n<p>This seem to me as the go to solution after reading <a href=\"https://medium.com/naukri-engineering/retry-mechanism-and-delay-queues-in-apache-kafka-528a6524f722\" rel=\"nofollow noreferrer\">this</a></p>\n<p>So Java code would be as following, more or less, this is a sketch:</p>\n<pre><code>Set&lt;TopicPartition&gt; partitions = consumer.assignment();\nconsumer.pause(partitions);\nThread.sleep(10000); // 10 Seconds in millis\n...\nconsumer.resume(partitions)\n</code></pre>\n<p><strong>Disclaimer: I haven't tested it.</strong></p>\n"}],"owner":{"account_id":12787333,"reputation":489,"user_id":9253117,"display_name":"Kirill Sereda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685501846,"creation_date":1685471093,"question_id":76367636,"body_markdown":"I need the consumer to read messages from the topic not immediately, but after a certain time interval.\r\nIn my case, this time = 10 seconds.\r\n\r\nI made a KafkaConfig in which I specified the properties and added them to the DefaultKafkaConsumerFactory:\r\n\r\n1) I tried through\r\n\r\n\r\n    *factory.getContainerProperties().setIdleBetweenPolls(10000);*\r\n\r\n\r\n2) I also tried via\r\n\r\n    *props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 10000);*\r\n\r\n3) I also tried via\r\n\r\n    *props.put(ConsumerConfig.FETCH_MIN_BYTES_CONFIG, &quot;999999999&quot;);\r\n    props.put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, &quot;10000&quot;)*\r\n\r\nBut none of the above works :(\r\n\r\nI am sad.\r\n\r\nI found similar cases here, they are very similar to my solution from the internet, but they don&#39;t work either.\r\n\r\nExample of my code below:\r\n\r\n    @Slf4j\r\n    @EnableKafka\r\n    @Configuration\r\n    @ConditionalOnProperty(\r\n        value = &quot;exclude.kafka&quot;,\r\n        havingValue = &quot;false&quot;,\r\n        matchIfMissing = true\r\n    )\r\n    @RequiredArgsConstructor\r\n    public class MyKafkaConfig {\r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; concurrentKafkaListenerContainerFactory() {\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(consumerFactory());\r\n    \r\n            factory.getContainerProperties().setIdleBetweenPolls(10000);\r\n    \r\n            return factory;\r\n        }\r\n    \r\n        private ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfig());\r\n        }\r\n    \r\n        private Map&lt;String, Object&gt; consumerConfig() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;batchId&quot;);\r\n    //        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;500&quot;);\r\n    //        props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 10000);\r\n            props.put(ConsumerConfig.FETCH_MIN_BYTES_CONFIG, &quot;999999999&quot;);\r\n    //        props.put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, &quot;10000&quot;);\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            return props;\r\n        }\r\n    }\r\n\r\nDoes anyone have any ideas how to make Kafka work (read messages after 10 seconds, not as soon as they hit the topic) ?","title":"How to read messages from topic by Kafka after a my custom time interval?","body":"<p>I need the consumer to read messages from the topic not immediately, but after a certain time interval.\nIn my case, this time = 10 seconds.</p>\n<p>I made a KafkaConfig in which I specified the properties and added them to the DefaultKafkaConsumerFactory:</p>\n<ol>\n<li><p>I tried through</p>\n<p><em>factory.getContainerProperties().setIdleBetweenPolls(10000);</em></p>\n</li>\n<li><p>I also tried via</p>\n<p><em>props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 10000);</em></p>\n</li>\n<li><p>I also tried via</p>\n<p><em>props.put(ConsumerConfig.FETCH_MIN_BYTES_CONFIG, &quot;999999999&quot;);\nprops.put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, &quot;10000&quot;)</em></p>\n</li>\n</ol>\n<p>But none of the above works :(</p>\n<p>I am sad.</p>\n<p>I found similar cases here, they are very similar to my solution from the internet, but they don't work either.</p>\n<p>Example of my code below:</p>\n<pre><code>@Slf4j\n@EnableKafka\n@Configuration\n@ConditionalOnProperty(\n    value = &quot;exclude.kafka&quot;,\n    havingValue = &quot;false&quot;,\n    matchIfMissing = true\n)\n@RequiredArgsConstructor\npublic class MyKafkaConfig {\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; concurrentKafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n\n        factory.getContainerProperties().setIdleBetweenPolls(10000);\n\n        return factory;\n    }\n\n    private ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfig());\n    }\n\n    private Map&lt;String, Object&gt; consumerConfig() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;batchId&quot;);\n//        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;500&quot;);\n//        props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, 10000);\n        props.put(ConsumerConfig.FETCH_MIN_BYTES_CONFIG, &quot;999999999&quot;);\n//        props.put(ConsumerConfig.FETCH_MAX_WAIT_MS_CONFIG, &quot;10000&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return props;\n    }\n}\n</code></pre>\n<p>Does anyone have any ideas how to make Kafka work (read messages after 10 seconds, not as soon as they hit the topic) ?</p>\n"},{"tags":["java","for-loop","jbutton","jlabel","setbounds"],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685501430,"creation_date":1685501430,"answer_id":76369847,"question_id":76369781,"body_markdown":"Make use of appropriate layouts.  Start by having a looking at [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)\r\n\r\nThe following example makes use of a `GridBagLayout`, I do this so I can move from the right to left across the row.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n\r\n                int index = 99;\r\n                for (int y = 0; y &lt; 10; y++) {\r\n                    gbc.gridy = y;\r\n                    for (int x = 0; x &lt; 10; x++) {\r\n                        gbc.gridx = 10 - x;\r\n                        add(new JButton(Integer.toString(index--)), gbc);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gu37C.png","title":"ascending buttons from 0 to 99","body":"<p>Make use of appropriate layouts.  Start by having a looking at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n<p>The following example makes use of a <code>GridBagLayout</code>, I do this so I can move from the right to left across the row.</p>\n<p><a href=\"https://i.stack.imgur.com/Gu37C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gu37C.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n\n            int index = 99;\n            for (int y = 0; y &lt; 10; y++) {\n                gbc.gridy = y;\n                for (int x = 0; x &lt; 10; x++) {\n                    gbc.gridx = 10 - x;\n                    add(new JButton(Integer.toString(index--)), gbc);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20656701,"reputation":1,"user_id":21989853,"display_name":"ArieesPhantom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685501750,"creation_date":1685500107,"question_id":76369781,"body_markdown":"I need my buttons to start on 0 on the bottom left corner and go to 99 all the way to the right top corner.. Can you please help me correct my code. Every chage I make to fix it, takes all the buttons lower and I dont need that\r\n\r\n\r\n```\r\n   private void crear()\r\n   {\r\n      for (i=0; i&lt;100; i++)\r\n      {\r\n         btn_boton = new JButton(String.valueOf(i));\r\n         btn_boton.setBounds(50+55*(i%10),325+25*(i/10),50,20);\r\n         btn_boton.addActionListener(this);\r\n         ventana.add(btn_boton);\r\n      }\r\n      ventana.repaint();\r\n\r\n   }\r\n```\r\n\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/gjiTn.png)\r\n\r\nQuest Button... and text fields, et\r\n\r\n    9\r\n    8\r\n    7\r\n    6\r\n    5\r\n    4\r\n    3\r\n    2\r\n    1\r\n    0  10  20  30  40  50  60  70  80  90","title":"ascending buttons from 0 to 99","body":"<p>I need my buttons to start on 0 on the bottom left corner and go to 99 all the way to the right top corner.. Can you please help me correct my code. Every chage I make to fix it, takes all the buttons lower and I dont need that</p>\n<pre><code>   private void crear()\n   {\n      for (i=0; i&lt;100; i++)\n      {\n         btn_boton = new JButton(String.valueOf(i));\n         btn_boton.setBounds(50+55*(i%10),325+25*(i/10),50,20);\n         btn_boton.addActionListener(this);\n         ventana.add(btn_boton);\n      }\n      ventana.repaint();\n\n   }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/gjiTn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Quest Button... and text fields, et</p>\n<pre><code>9\n8\n7\n6\n5\n4\n3\n2\n1\n0  10  20  30  40  50  60  70  80  90\n</code></pre>\n"},{"tags":["java","maven","visual-studio-code","jsp","jstl"],"comments":[{"owner":{"account_id":15396644,"reputation":25745,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1683928687,"post_id":76240061,"comment_id":134447344,"body_markdown":"was this working before? If so, try to find the version where the behaviour changed. https://stackoverflow.com/q/42626065/11107541","body":"was this working before? If so, try to find the version where the behaviour changed. <a href=\"https://stackoverflow.com/q/42626065/11107541\">stackoverflow.com/q/42626065/11107541</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1683974341,"post_id":76240061,"comment_id":134450902,"body_markdown":"What VSCode extension for JSPs are you using?","body":"What VSCode extension for JSPs are you using?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1684131926,"post_id":76240061,"comment_id":134466064,"body_markdown":"Have you installed JSP -related extensions and have a complete [Java expansion package](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack)?","body":"Have you installed JSP -related extensions and have a complete <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Java expansion package</a>?"}],"answers":[{"tags":[],"owner":{"account_id":23240561,"reputation":39,"user_id":17329945,"display_name":"Othmane Darhoni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684624406,"creation_date":1684624406,"answer_id":76297680,"question_id":76240061,"body_markdown":"You install the **Java Extension Pack** for Visual Studio Code by Microsoft.\r\n\r\nIt includes several extensions (such as language support, a Java debugger, IntelliCode for Java) that make Java development in VS Code a snap.\r\n\r\nJust click on the Extensions button (over on the left, looks like a Rubik’s cube being taken apart). Search for it on the Marketplace. It’s free. Download and install.\r\n\r\nGood luck!","title":"&lt;%@ not being recognized in any .jsp files on VSCode","body":"<p>You install the <strong>Java Extension Pack</strong> for Visual Studio Code by Microsoft.</p>\n<p>It includes several extensions (such as language support, a Java debugger, IntelliCode for Java) that make Java development in VS Code a snap.</p>\n<p>Just click on the Extensions button (over on the left, looks like a Rubik’s cube being taken apart). Search for it on the Marketplace. It’s free. Download and install.</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":9003721,"reputation":91,"user_id":6711302,"display_name":"cypher256"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685500882,"creation_date":1685500882,"answer_id":76369812,"question_id":76240061,"body_markdown":"&quot;Extension Pack for Java&quot; does not include JSP support.\r\nJSP extension is available at\r\n\r\nhttps://marketplace.visualstudio.com/items?itemName=pthorsson.vscode-jsp\r\n\r\nHowever, the JSP extension is not maintained. There are currently no active JSP extensions available for VSCode.","title":"&lt;%@ not being recognized in any .jsp files on VSCode","body":"<p>&quot;Extension Pack for Java&quot; does not include JSP support.\nJSP extension is available at</p>\n<p><a href=\"https://marketplace.visualstudio.com/items?itemName=pthorsson.vscode-jsp\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=pthorsson.vscode-jsp</a></p>\n<p>However, the JSP extension is not maintained. There are currently no active JSP extensions available for VSCode.</p>\n"}],"owner":{"account_id":28590716,"reputation":11,"user_id":21890019,"display_name":"Oskari Rautiainen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1685500882,"creation_date":1683927277,"question_id":76240061,"body_markdown":"As the title says, I&#39;ve encountered an issue where not a single \\&lt;%@ directive attribute is being even recognised in any jsp files on VSCode.\r\n\r\nFor example something like `&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;` doesnt work, or `&lt;%@page import=&quot;java.util.ArrayList&quot; %&gt;`. Basically, anything with \\&lt;%@ doesnt work, \\&lt; just gets colored with red. Universal issue, happens with all Java projects.\r\n\r\nThe syntax is correct, I have the right Maven Dependencies installed, jstl-1.2 . I tried installing VSCode on a seperate computer, and even there I have the same issue, the \\&lt; is just marked with red and the lines just show up as &quot;?&quot; in the outline. This happens with any Java project, mine or even my teacher&#39;s example code. And since taglib is not working, neither is any c: commands like c:forEach.\r\n\r\nI know im probably missing something obvious but after 5 hours of searching I just got no answers. I presume its something to do with my VSCode settings or extensions or something else. Know some more details are probably needed, please ask anything.\r\n\r\nWould love any suggestions on whats happening/what I am missing.\r\n\r\nExample of code that otherwise works except for taglib and \\&lt;c:forEach .\r\n\r\n```\r\n&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n&lt;html&gt;\r\n    \r\n    &lt;title&gt;\r\n        Shopping List\r\n    &lt;/title&gt;\r\n    &lt;body&gt;\r\n        &lt;h1&gt;Shopping List&lt;/h1&gt;\r\n        &lt;table&gt;\r\n            &lt;thead&gt;\r\n                &lt;tr&gt;&lt;th&gt;Product&lt;/th&gt;&lt;/tr&gt;\r\n            &lt;/thead&gt;\r\n            &lt;tbody&gt;\r\n                &lt;c:forEach items=&quot; ${ items }&quot; var=&quot;shoppingListItem&quot;&gt;\r\n                &lt;tr&gt;&lt;td&gt;${ shoppingListItem.getTitle() }&lt;/td&gt;&lt;/tr&gt;\r\n                &lt;/c:forEach&gt;\r\n\r\n            &lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"&lt;%@ not being recognized in any .jsp files on VSCode","body":"<p>As the title says, I've encountered an issue where not a single &lt;%@ directive attribute is being even recognised in any jsp files on VSCode.</p>\n<p>For example something like <code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;</code> doesnt work, or <code>&lt;%@page import=&quot;java.util.ArrayList&quot; %&gt;</code>. Basically, anything with &lt;%@ doesnt work, &lt; just gets colored with red. Universal issue, happens with all Java projects.</p>\n<p>The syntax is correct, I have the right Maven Dependencies installed, jstl-1.2 . I tried installing VSCode on a seperate computer, and even there I have the same issue, the &lt; is just marked with red and the lines just show up as &quot;?&quot; in the outline. This happens with any Java project, mine or even my teacher's example code. And since taglib is not working, neither is any c: commands like c:forEach.</p>\n<p>I know im probably missing something obvious but after 5 hours of searching I just got no answers. I presume its something to do with my VSCode settings or extensions or something else. Know some more details are probably needed, please ask anything.</p>\n<p>Would love any suggestions on whats happening/what I am missing.</p>\n<p>Example of code that otherwise works except for taglib and &lt;c:forEach .</p>\n<pre><code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;html&gt;\n    \n    &lt;title&gt;\n        Shopping List\n    &lt;/title&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Shopping List&lt;/h1&gt;\n        &lt;table&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;&lt;th&gt;Product&lt;/th&gt;&lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;c:forEach items=&quot; ${ items }&quot; var=&quot;shoppingListItem&quot;&gt;\n                &lt;tr&gt;&lt;td&gt;${ shoppingListItem.getTitle() }&lt;/td&gt;&lt;/tr&gt;\n                &lt;/c:forEach&gt;\n\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","serialization","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":5580448,"reputation":2340,"user_id":4422479,"display_name":"Rohit Yadav"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1590033134,"creation_date":1590033134,"answer_id":61926933,"question_id":61926685,"body_markdown":"**Serialization**\r\n        \r\n Serialization refers to the translation of java object state into bytes to send it over the network or store it in the hard disk.\r\n\r\n**Why we need Serialization?**\r\n\r\nWe need serialization because the hard disk or network infrastructure is hardware component and we cannot send java objects because it understands just bytes and not java objects.\r\n\r\nThe same behavior is required in the Kafka also.so serialization/deserialization is required in Kafka.\r\n\r\nKafka provides some primitive serializers: for example, `IntegerSerializer, ByteArraySerializer, StringSerializer`. On the consumer side, similar `Deserializers` convert byte arrays to an object the application can deal with.\r\n\r\nAvro is a popular serialization/deserialization framework for Kafka key/value\r\n\r\n\r\n\r\n ","title":"Why serialize/deserialize key and value in Apache Kafka?","body":"<p><strong>Serialization</strong></p>\n\n<p>Serialization refers to the translation of java object state into bytes to send it over the network or store it in the hard disk.</p>\n\n<p><strong>Why we need Serialization?</strong></p>\n\n<p>We need serialization because the hard disk or network infrastructure is hardware component and we cannot send java objects because it understands just bytes and not java objects.</p>\n\n<p>The same behavior is required in the Kafka also.so serialization/deserialization is required in Kafka.</p>\n\n<p>Kafka provides some primitive serializers: for example, <code>IntegerSerializer, ByteArraySerializer, StringSerializer</code>. On the consumer side, similar <code>Deserializers</code> convert byte arrays to an object the application can deal with.</p>\n\n<p>Avro is a popular serialization/deserialization framework for Kafka key/value</p>\n"}],"owner":{"account_id":13348705,"reputation":363,"user_id":9634545,"display_name":"Anderson Choi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61926933,"answer_count":1,"score":1,"last_activity_date":1685500012,"creation_date":1590031594,"question_id":61926685,"body_markdown":"Why serialize/deserialize key and value in Apache Kafka?\r\n\r\n    configs.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n    configs.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\r\nIs there any benefit from using it?","title":"Why serialize/deserialize key and value in Apache Kafka?","body":"<p>Why serialize/deserialize key and value in Apache Kafka?</p>\n<pre><code>configs.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\nconfigs.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n</code></pre>\n<p>Is there any benefit from using it?</p>\n"},{"tags":["java","cicd","checkmarx","secure-coding","log-forging"],"comments":[{"owner":{"account_id":446457,"reputation":5228,"user_id":839513,"accept_rate":57,"display_name":"baruchiro"},"score":1,"creation_date":1588920928,"post_id":61671349,"comment_id":109091015,"body_markdown":"Does this answer your question? [Checkmarx Java fix for Log Forging -sanitizing user input](https://stackoverflow.com/questions/55364577/checkmarx-java-fix-for-log-forging-sanitizing-user-input)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55364577/checkmarx-java-fix-for-log-forging-sanitizing-user-input\">Checkmarx Java fix for Log Forging -sanitizing user input</a>"},{"owner":{"account_id":7793860,"reputation":87,"user_id":5895767,"display_name":"gautham"},"score":0,"creation_date":1602790801,"post_id":61671349,"comment_id":113839415,"body_markdown":"I used data sanitize method before logging anything and converted the harmful strings then made the bug as not exploitable in checkmarx there by security team unflagged the issue.","body":"I used data sanitize method before logging anything and converted the harmful strings then made the bug as not exploitable in checkmarx there by security team unflagged the issue."}],"answers":[{"tags":[],"owner":{"account_id":7793860,"reputation":87,"user_id":5895767,"display_name":"gautham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653314127,"creation_date":1653314127,"answer_id":72349781,"question_id":61671349,"body_markdown":"I used data sanitize method before logging anything and converted the harmful strings then made the bug as not exploitable in checkmarx there by security team unflagged the issue. Checkmarx don&#39;t intelligently validate the method, security team made the issue not exploitable.","title":"Log forging in checkmarx scan in java","body":"<p>I used data sanitize method before logging anything and converted the harmful strings then made the bug as not exploitable in checkmarx there by security team unflagged the issue. Checkmarx don't intelligently validate the method, security team made the issue not exploitable.</p>\n"}],"owner":{"account_id":7793860,"reputation":87,"user_id":5895767,"display_name":"gautham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2388,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72349781,"answer_count":1,"score":2,"last_activity_date":1685499857,"creation_date":1588907246,"question_id":61671349,"body_markdown":"**Log forging in checkmarx scan in Java**\r\n\r\nHow to resolve log forging for Java in a checkmarx scan. I tried sanitizing input before putting in the log file. But, it still complains validate or sanitize the input before logging. Please help me to resolve this issue.","title":"Log forging in checkmarx scan in java","body":"<p><strong>Log forging in checkmarx scan in Java</strong></p>\n\n<p>How to resolve log forging for Java in a checkmarx scan. I tried sanitizing input before putting in the log file. But, it still complains validate or sanitize the input before logging. Please help me to resolve this issue.</p>\n"},{"tags":["java","spring-boot","maven","visual-studio-code","debugging"],"comments":[{"owner":{"account_id":18597571,"reputation":15,"user_id":13553163,"display_name":"FishOnAComputer"},"score":0,"creation_date":1685499871,"post_id":76369765,"comment_id":134667402,"body_markdown":"Side note I have forgotten to mention is that I have tried uninstalling and reinstalling the extension multiple times.","body":"Side note I have forgotten to mention is that I have tried uninstalling and reinstalling the extension multiple times."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1685609222,"post_id":76369765,"comment_id":134684900,"body_markdown":"Use `mvn clean install` to clean up and rebuild the project, update the dependency items in pom.xml, and restart the vscode or refresh the Maven option.","body":"Use <code>mvn clean install</code> to clean up and rebuild the project, update the dependency items in pom.xml, and restart the vscode or refresh the Maven option."},{"owner":{"account_id":18597571,"reputation":15,"user_id":13553163,"display_name":"FishOnAComputer"},"score":0,"creation_date":1685656667,"post_id":76369765,"comment_id":134695329,"body_markdown":"@JialeDu Unfortunately this only gave the same results, I tried it several times too.","body":"@JialeDu Unfortunately this only gave the same results, I tried it several times too."}],"owner":{"account_id":18597571,"reputation":15,"user_id":13553163,"display_name":"FishOnAComputer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685499814,"creation_date":1685499814,"question_id":76369765,"body_markdown":"I have the Java extension pack for VS Code installed as well as Red Hat Java language support extention. Every time I try to `run and debug` right away I get the error message `Exception has occurred: java.io.FileNotFoundException\r\n&quot;java.io.FileNotFoundException: \\C:\\Users\\myUserName\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-api-2.3.1.jar&quot;`. When I go looking for this file in my local drive it is  missing but when attempting to install it from [maven central][1] it also does not appear to exist. \r\n\r\n**What I have tried:**\r\n\r\n 1. installing it from maven central - the file does not exist there either\r\n 2. making my own blank file with the required name - I get another error referring to null zip\r\n 3. A ton of different debug `launch` configurations all with the same exception being thrown\r\n\r\n**Below is my current `launch.json` file:**\r\n\r\n    {\r\n    // Use IntelliSense to learn about possible attributes.\r\n    // Hover to view descriptions of existing attributes.\r\n    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Current File&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;myAppName&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;com.name.myAppName&quot;\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;myAppName&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;com.name.myAppName&quot;,\r\n            &quot;projectName&quot;: &quot;projectName&quot;,\r\n            &quot;vmArgs&quot;: &quot;-DAPP_NAME=myAppName -DAPP_FILE_LOG=true -DAPP_CONSOLE_LOG=true&quot; //    &lt;----- this enables the logging, others need it on too and launch using the GUI\r\n        },\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Spring Boot-myAppName&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\r\n            &quot;mainClass&quot;: &quot;com.name.myAppName&quot;,\r\n            &quot;projectName&quot;: &quot;projectName&quot;,\r\n            &quot;args&quot;: &quot;&quot;,\r\n            &quot;envFile&quot;: &quot;${workspaceFolder}/.env&quot;\r\n        }\r\n    ]\r\n}\r\n\r\n**Note: I have tried launching numerous ways such as GUI, command palette, right clicking on main file, etc.**\r\n\r\n**launching the application without debugging works just fine**\r\n\r\n**What should I do to fix this? I figure I either need the file or a way for the debugger to stop looking for this file**\r\n\r\n  [1]: https://repo1.maven.org/maven2/org/glassfish/jaxb/jaxb-runtime/2.3.1/","title":"Why is VS Code Java debugger looking for a JAR file for a dependency that does not exist?","body":"<p>I have the Java extension pack for VS Code installed as well as Red Hat Java language support extention. Every time I try to <code>run and debug</code> right away I get the error message <code>Exception has occurred: java.io.FileNotFoundException &quot;java.io.FileNotFoundException: \\C:\\Users\\myUserName\\.m2\\repository\\org\\glassfish\\jaxb\\jaxb-runtime\\2.3.1\\jaxb-api-2.3.1.jar&quot;</code>. When I go looking for this file in my local drive it is  missing but when attempting to install it from <a href=\"https://repo1.maven.org/maven2/org/glassfish/jaxb/jaxb-runtime/2.3.1/\" rel=\"nofollow noreferrer\">maven central</a> it also does not appear to exist.</p>\n<p><strong>What I have tried:</strong></p>\n<ol>\n<li>installing it from maven central - the file does not exist there either</li>\n<li>making my own blank file with the required name - I get another error referring to null zip</li>\n<li>A ton of different debug <code>launch</code> configurations all with the same exception being thrown</li>\n</ol>\n<p><strong>Below is my current <code>launch.json</code> file:</strong></p>\n<pre><code>{\n// Use IntelliSense to learn about possible attributes.\n// Hover to view descriptions of existing attributes.\n// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\n&quot;version&quot;: &quot;0.2.0&quot;,\n&quot;configurations&quot;: [\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Launch Current File&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;${file}&quot;\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;myAppName&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;com.name.myAppName&quot;\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;myAppName&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;mainClass&quot;: &quot;com.name.myAppName&quot;,\n        &quot;projectName&quot;: &quot;projectName&quot;,\n        &quot;vmArgs&quot;: &quot;-DAPP_NAME=myAppName -DAPP_FILE_LOG=true -DAPP_CONSOLE_LOG=true&quot; //    &lt;----- this enables the logging, others need it on too and launch using the GUI\n    },\n    {\n        &quot;type&quot;: &quot;java&quot;,\n        &quot;name&quot;: &quot;Spring Boot-myAppName&quot;,\n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\n        &quot;mainClass&quot;: &quot;com.name.myAppName&quot;,\n        &quot;projectName&quot;: &quot;projectName&quot;,\n        &quot;args&quot;: &quot;&quot;,\n        &quot;envFile&quot;: &quot;${workspaceFolder}/.env&quot;\n    }\n]\n</code></pre>\n<p>}</p>\n<p><strong>Note: I have tried launching numerous ways such as GUI, command palette, right clicking on main file, etc.</strong></p>\n<p><strong>launching the application without debugging works just fine</strong></p>\n<p><strong>What should I do to fix this? I figure I either need the file or a way for the debugger to stop looking for this file</strong></p>\n"},{"tags":["java","openshift","prometheus","jmx","scrape"],"owner":{"account_id":3166758,"reputation":31,"user_id":2676594,"display_name":"user2676594"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685499364,"creation_date":1685499364,"question_id":76369741,"body_markdown":"I have a springboot application running on a pod in an openshift platform, and I have enabled application monitoring through prometheus (by creating a ServiceMonitor object). It works as expected, but sometimes this exception raises:\r\n\r\n&gt; JMX scrape failed: javax.management.RuntimeMBeanException: getMBeanInfo threw RuntimeException\r\n Caused by: java.util.ConcurrentModificationException\r\n\r\nHas anyone run into the same issue?\r\nThanks in advance.","title":"JMX scrape failed","body":"<p>I have a springboot application running on a pod in an openshift platform, and I have enabled application monitoring through prometheus (by creating a ServiceMonitor object). It works as expected, but sometimes this exception raises:</p>\n<blockquote>\n<p>JMX scrape failed: javax.management.RuntimeMBeanException: getMBeanInfo threw RuntimeException\nCaused by: java.util.ConcurrentModificationException</p>\n</blockquote>\n<p>Has anyone run into the same issue?\nThanks in advance.</p>\n"},{"tags":["java","reactive-programming","project-reactor","completable-future"],"answers":[{"tags":[],"owner":{"account_id":6294682,"reputation":11898,"user_id":4891253,"display_name":"Oleh Dokuka"},"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1585080996,"creation_date":1551101613,"answer_id":54867417,"question_id":54866391,"body_markdown":"# CompletableFuture is Async. But is it non-blocking?\r\n\r\nOne which is true about CompletableFuture is that it is truly async, it allows you to run your task asynchronously from the caller thread and the API such as `thenXXX` allows you to process the result when it becomes available. On the other hand, `CompletableFuture` is not always non-blocking. For example, when you run the following code, it will be executed asynchronously on the default `ForkJoinPool`: \r\n\r\n\r\n    CompletableFuture.supplyAsync(() -&gt; {\r\n        try {\r\n            Thread.sleep(1000);\r\n        }\r\n        catch (InterruptedException e) {\r\n    \r\n        }\r\n    \r\n        return 1;\r\n    });\r\n\r\nIt is clear that the `Thread` in `ForkJoinPool` that executes the task will be blocked eventually which means that we can&#39;t guarantee that the call will be non-blocking.\r\n\r\nOn the other hand, `CompletableFuture` exposes API which allows you to make it truly non-blocking.\r\n\r\nFor example, you can always do the following: \r\n\r\n    public CompletableFuture myNonBlockingHttpCall(Object someData) {\r\n        var uncompletedFuture = new CompletableFuture(); // creates uncompleted future\r\n        \r\n        myAsyncHttpClient.execute(someData, (result, exception -&gt; {\r\n            if(exception != null) {\r\n                uncompletedFuture.completeExceptionally(exception);\r\n                return;\r\n            }\r\n            uncompletedFuture.complete(result);\r\n        })\r\n        \r\n        return uncompletedFuture;\r\n    }\r\n\r\nAs you can see, the API of `CompletableFuture` future provides you with the `complete` and `completeExceptionally` methods that complete your execution whenever it is needed without blocking any thread.\r\n\r\n# Mono vs CompletableFuture\r\n\r\nIn the previous section, we got an overview of CF behavior, but what is the central difference between CompletableFuture and Mono? \r\n\r\nIt worth to mention that we can do blocking Mono as well. No one prevents us from writing the following:\r\n\r\n    Mono.fromCallable(() -&gt; {\r\n        try {\r\n            Thread.sleep(1000);\r\n        }\r\n        catch (InterruptedException e) {\r\n    \r\n        }\r\n    \r\n        return 1;\r\n    })\r\n\r\nOf course, once we subscribe to the future, the caller thread will be blocked. But we can always work around that by providing an additional `subscribeOn` operator. Nevertheless, the broader API of `Mono` is not the key feature.\r\n\r\nIn order to understand the main difference between `CompletableFuture` and `Mono`, lets back to previously mentioned `myNonBlockingHttpCall` method implementation.\r\n\r\n    public CompletableFuture myUpperLevelBusinessLogic() {\r\n        var future = myNonBlockingHttpCall();\r\n        \r\n        // ... some code\r\n        \r\n        if (something) {\r\n           // oh we don&#39;t really need anything, let&#39;s just throw an exception\r\n           var errorFuture = new CompletableFuture();\r\n           errorFuture.completeExceptionally(new RuntimeException());\r\n    \r\n           return errorFuture;\r\n        }\r\n    \r\n       return future;\r\n    }\r\n\r\nIn the case of `CompletableFuture`, once the method is called, it will eagerly execute HTTP call to another service/resource. Even though we will not really need the result of the execution after verifying some pre/post conditions, it starts the execution, and additional CPU/DB-Connections/What-Ever-Machine-Resources will be allocated for this work.\r\n\r\nIn contrast, the `Mono` type is lazy by definition:\r\n\r\n    public Mono myNonBlockingHttpCallWithMono(Object someData) {\r\n        return Mono.create(sink -&gt; {\r\n                myAsyncHttpClient.execute(someData, (result, exception -&gt; {\r\n                    if(exception != null) {\r\n                        sink.error(exception);\r\n                        return;\r\n                    }\r\n                    sink.success(result);\r\n                })\r\n        });\r\n    } \r\n\r\n    public Mono myUpperLevelBusinessLogic() {\r\n        var mono = myNonBlockingHttpCallWithMono();\r\n        \r\n        // ... some code\r\n        \r\n        if (something) {\r\n           // oh we don&#39;t really need anything, let&#39;s just throw an exception\r\n\r\n           return Mono.error(new RuntimeException());\r\n        }\r\n    \r\n       return mono;\r\n    }\r\n\r\nIn this case, nothing will happen until the final `mono` is subscribed. Thus, only when `Mono` returned by the `myNonBlockingHttpCallWithMono` method, will be subscribed, the logic provided to `Mono.create(Consumer)` will be executed.\r\n\r\nAnd we can go even further. We can make our execution much lazier. As you might know, `Mono` extends `Publisher` from the Reactive Streams specification. The screaming feature of Reactive Streams is backpressure support. Thus, using the `Mono` API we can do execution only when the data is really needed, and our subscriber is ready to consume them:\r\n\r\n\r\n    Mono.create(sink -&gt; {\r\n        AtomicBoolean once = new AtomicBoolean();\r\n        sink.onRequest(__ -&gt; {\r\n            if(!once.get() &amp;&amp; once.compareAndSet(false, true) {\r\n                myAsyncHttpClient.execute(someData, (result, exception -&gt; {\r\n                    if(exception != null) {\r\n                        sink.error(exception);\r\n                        return;\r\n                    }\r\n                    sink.success(result);\r\n                });\r\n            }\r\n        });\r\n    });\r\n\r\nIn this example, we execute data only when subscriber called `Subscription#request` so by doing that it declared its readiness to receive data.\r\n\r\n# Summary \r\n\r\n - `CompletableFuture` is async and can be non-blocking\r\n - `CompletableFuture` is eager. You can&#39;t postpone the execution. But you can cancel them (which is better than nothing)\r\n - `Mono` is async/non-blocking and can easily execute any call on different `Thread` by composing the main `Mono` with different operators.\r\n - `Mono` is truly lazy and allows postponing execution startup by the subscriber presence and its readiness to consume data.","title":"Mono vs CompletableFuture","body":"<h1>CompletableFuture is Async. But is it non-blocking?</h1>\n\n<p>One which is true about CompletableFuture is that it is truly async, it allows you to run your task asynchronously from the caller thread and the API such as <code>thenXXX</code> allows you to process the result when it becomes available. On the other hand, <code>CompletableFuture</code> is not always non-blocking. For example, when you run the following code, it will be executed asynchronously on the default <code>ForkJoinPool</code>: </p>\n\n<pre><code>CompletableFuture.supplyAsync(() -&gt; {\n    try {\n        Thread.sleep(1000);\n    }\n    catch (InterruptedException e) {\n\n    }\n\n    return 1;\n});\n</code></pre>\n\n<p>It is clear that the <code>Thread</code> in <code>ForkJoinPool</code> that executes the task will be blocked eventually which means that we can't guarantee that the call will be non-blocking.</p>\n\n<p>On the other hand, <code>CompletableFuture</code> exposes API which allows you to make it truly non-blocking.</p>\n\n<p>For example, you can always do the following: </p>\n\n<pre><code>public CompletableFuture myNonBlockingHttpCall(Object someData) {\n    var uncompletedFuture = new CompletableFuture(); // creates uncompleted future\n\n    myAsyncHttpClient.execute(someData, (result, exception -&gt; {\n        if(exception != null) {\n            uncompletedFuture.completeExceptionally(exception);\n            return;\n        }\n        uncompletedFuture.complete(result);\n    })\n\n    return uncompletedFuture;\n}\n</code></pre>\n\n<p>As you can see, the API of <code>CompletableFuture</code> future provides you with the <code>complete</code> and <code>completeExceptionally</code> methods that complete your execution whenever it is needed without blocking any thread.</p>\n\n<h1>Mono vs CompletableFuture</h1>\n\n<p>In the previous section, we got an overview of CF behavior, but what is the central difference between CompletableFuture and Mono? </p>\n\n<p>It worth to mention that we can do blocking Mono as well. No one prevents us from writing the following:</p>\n\n<pre><code>Mono.fromCallable(() -&gt; {\n    try {\n        Thread.sleep(1000);\n    }\n    catch (InterruptedException e) {\n\n    }\n\n    return 1;\n})\n</code></pre>\n\n<p>Of course, once we subscribe to the future, the caller thread will be blocked. But we can always work around that by providing an additional <code>subscribeOn</code> operator. Nevertheless, the broader API of <code>Mono</code> is not the key feature.</p>\n\n<p>In order to understand the main difference between <code>CompletableFuture</code> and <code>Mono</code>, lets back to previously mentioned <code>myNonBlockingHttpCall</code> method implementation.</p>\n\n<pre><code>public CompletableFuture myUpperLevelBusinessLogic() {\n    var future = myNonBlockingHttpCall();\n\n    // ... some code\n\n    if (something) {\n       // oh we don't really need anything, let's just throw an exception\n       var errorFuture = new CompletableFuture();\n       errorFuture.completeExceptionally(new RuntimeException());\n\n       return errorFuture;\n    }\n\n   return future;\n}\n</code></pre>\n\n<p>In the case of <code>CompletableFuture</code>, once the method is called, it will eagerly execute HTTP call to another service/resource. Even though we will not really need the result of the execution after verifying some pre/post conditions, it starts the execution, and additional CPU/DB-Connections/What-Ever-Machine-Resources will be allocated for this work.</p>\n\n<p>In contrast, the <code>Mono</code> type is lazy by definition:</p>\n\n<pre><code>public Mono myNonBlockingHttpCallWithMono(Object someData) {\n    return Mono.create(sink -&gt; {\n            myAsyncHttpClient.execute(someData, (result, exception -&gt; {\n                if(exception != null) {\n                    sink.error(exception);\n                    return;\n                }\n                sink.success(result);\n            })\n    });\n} \n\npublic Mono myUpperLevelBusinessLogic() {\n    var mono = myNonBlockingHttpCallWithMono();\n\n    // ... some code\n\n    if (something) {\n       // oh we don't really need anything, let's just throw an exception\n\n       return Mono.error(new RuntimeException());\n    }\n\n   return mono;\n}\n</code></pre>\n\n<p>In this case, nothing will happen until the final <code>mono</code> is subscribed. Thus, only when <code>Mono</code> returned by the <code>myNonBlockingHttpCallWithMono</code> method, will be subscribed, the logic provided to <code>Mono.create(Consumer)</code> will be executed.</p>\n\n<p>And we can go even further. We can make our execution much lazier. As you might know, <code>Mono</code> extends <code>Publisher</code> from the Reactive Streams specification. The screaming feature of Reactive Streams is backpressure support. Thus, using the <code>Mono</code> API we can do execution only when the data is really needed, and our subscriber is ready to consume them:</p>\n\n<pre><code>Mono.create(sink -&gt; {\n    AtomicBoolean once = new AtomicBoolean();\n    sink.onRequest(__ -&gt; {\n        if(!once.get() &amp;&amp; once.compareAndSet(false, true) {\n            myAsyncHttpClient.execute(someData, (result, exception -&gt; {\n                if(exception != null) {\n                    sink.error(exception);\n                    return;\n                }\n                sink.success(result);\n            });\n        }\n    });\n});\n</code></pre>\n\n<p>In this example, we execute data only when subscriber called <code>Subscription#request</code> so by doing that it declared its readiness to receive data.</p>\n\n<h1>Summary</h1>\n\n<ul>\n<li><code>CompletableFuture</code> is async and can be non-blocking</li>\n<li><code>CompletableFuture</code> is eager. You can't postpone the execution. But you can cancel them (which is better than nothing)</li>\n<li><code>Mono</code> is async/non-blocking and can easily execute any call on different <code>Thread</code> by composing the main <code>Mono</code> with different operators.</li>\n<li><code>Mono</code> is truly lazy and allows postponing execution startup by the subscriber presence and its readiness to consume data.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1743554,"reputation":885,"user_id":1594261,"display_name":"alexgirao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620732077,"creation_date":1620732077,"answer_id":67485737,"question_id":54866391,"body_markdown":"Building up on Oleh&#39;s answer, a possible lazy solution for `CompletableFuture` would be\r\n\r\n```lang-java\r\npublic CompletableFuture myNonBlockingHttpCall(CompletableFuture&lt;ExecutorService&gt; dispatch, Object someData) {\r\n    var uncompletedFuture = new CompletableFuture(); // creates uncompleted future\r\n\r\n    dispatch.thenAccept(x -&gt; x.submit(() -&gt; {\r\n        myAsyncHttpClient.execute(someData, (result, exception -&gt; {\r\n            if(exception != null) {\r\n                uncompletedFuture.completeExceptionally(exception);\r\n                return;\r\n            }\r\n            uncompletedFuture.complete(result);\r\n        })\r\n    }));\r\n\r\n    return uncompletedFuture;\r\n}\r\n```\r\n\r\nThen, later on you simply do\r\n\r\n```lang-java\r\ndispatch.complete(executor);\r\n```\r\n\r\nThat would make `CompletableFuture` equivalent to `Mono`, but without backpressure, I guess.\r\n","title":"Mono vs CompletableFuture","body":"<p>Building up on Oleh's answer, a possible lazy solution for <code>CompletableFuture</code> would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompletableFuture myNonBlockingHttpCall(CompletableFuture&lt;ExecutorService&gt; dispatch, Object someData) {\n    var uncompletedFuture = new CompletableFuture(); // creates uncompleted future\n\n    dispatch.thenAccept(x -&gt; x.submit(() -&gt; {\n        myAsyncHttpClient.execute(someData, (result, exception -&gt; {\n            if(exception != null) {\n                uncompletedFuture.completeExceptionally(exception);\n                return;\n            }\n            uncompletedFuture.complete(result);\n        })\n    }));\n\n    return uncompletedFuture;\n}\n</code></pre>\n<p>Then, later on you simply do</p>\n<pre class=\"lang-java prettyprint-override\"><code>dispatch.complete(executor);\n</code></pre>\n<p>That would make <code>CompletableFuture</code> equivalent to <code>Mono</code>, but without backpressure, I guess.</p>\n"}],"owner":{"account_id":8176368,"reputation":729,"user_id":6154967,"display_name":"XYZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28517,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":54867417,"answer_count":2,"score":53,"last_activity_date":1685499236,"creation_date":1551098241,"question_id":54866391,"body_markdown":"`CompletableFuture` executes a task on a separate thread ( uses a thread-pool ) and provides a callback function. Let&#39;s say I have an API call in a `CompletableFuture`. Is that an API call blocking? Would the thread be blocked till it does not get a response from the API? ( I know main thread/tomcat thread will be non-blocking, but what about the thread on which CompletableFuture task is executing? )\r\n\r\nMono is completely non-blocking, as far as I know.\r\n\r\nPlease shed some light on this and correct me if I am wrong.","title":"Mono vs CompletableFuture","body":"<p><code>CompletableFuture</code> executes a task on a separate thread ( uses a thread-pool ) and provides a callback function. Let's say I have an API call in a <code>CompletableFuture</code>. Is that an API call blocking? Would the thread be blocked till it does not get a response from the API? ( I know main thread/tomcat thread will be non-blocking, but what about the thread on which CompletableFuture task is executing? )</p>\n\n<p>Mono is completely non-blocking, as far as I know.</p>\n\n<p>Please shed some light on this and correct me if I am wrong.</p>\n"},{"tags":["java","transient"],"answers":[{"tags":[],"owner":{"account_id":15897,"reputation":49261,"user_id":34065,"accept_rate":100,"display_name":"schnaader"},"down_vote_count":8,"up_vote_count":281,"is_accepted":true,"score":273,"last_activity_date":1685498862,"creation_date":1299672899,"answer_id":5245617,"question_id":5245600,"body_markdown":"You might first have a look at what [serialization][2] is.\r\n\r\n&gt; It marks a member variable not to be\r\n&gt; serialized when it is persisted to\r\n&gt; streams of bytes. When an object is\r\n&gt; transferred through the network, the\r\n&gt; object needs to be &#39;serialized&#39;.\r\n&gt; Serialization converts the object\r\n&gt; state to serial bytes. Those bytes are\r\n&gt; sent over the network and the object\r\n&gt; is recreated from those bytes. Member\r\n&gt; variables marked by the java transient\r\n&gt; keyword are not transferred, they are\r\n&gt; lost intentionally.\r\n\r\nExample from there, slightly modified (thanks @pgras):\r\n\r\n    public class Foo implements Serializable\r\n     {\r\n       private String saveMe;\r\n       private transient String dontSaveMe;\r\n       private transient String password;\r\n       //...\r\n     }\r\n\r\n\r\n  [1]: http://en.wikibooks.org/wiki/Java_Programming/Keywords/transient\r\n  [2]: http://en.wikipedia.org/wiki/Serialization","title":"What does the keyword &quot;transient&quot; mean in Java?","body":"<p>You might first have a look at what <a href=\"http://en.wikipedia.org/wiki/Serialization\" rel=\"nofollow noreferrer\">serialization</a> is.</p>\n<blockquote>\n<p>It marks a member variable not to be\nserialized when it is persisted to\nstreams of bytes. When an object is\ntransferred through the network, the\nobject needs to be 'serialized'.\nSerialization converts the object\nstate to serial bytes. Those bytes are\nsent over the network and the object\nis recreated from those bytes. Member\nvariables marked by the java transient\nkeyword are not transferred, they are\nlost intentionally.</p>\n</blockquote>\n<p>Example from there, slightly modified (thanks @pgras):</p>\n<pre><code>public class Foo implements Serializable\n {\n   private String saveMe;\n   private transient String dontSaveMe;\n   private transient String password;\n   //...\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306129,"reputation":89426,"user_id":616700,"display_name":"Erik"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1299672899,"creation_date":1299672899,"answer_id":5245619,"question_id":5245600,"body_markdown":"It means that `trackDAO` should not be serialized.","title":"What does the keyword &quot;transient&quot; mean in Java?","body":"<p>It means that <code>trackDAO</code> should not be serialized.</p>\n"},{"tags":[],"owner":{"account_id":240726,"reputation":2094,"user_id":511125,"accept_rate":100,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1537191570,"creation_date":1299673134,"answer_id":5245665,"question_id":5245600,"body_markdown":"Transient variables in Java are never serialized.","title":"What does the keyword &quot;transient&quot; mean in Java?","body":"<p>Transient variables in Java are never serialized.</p>\n"}],"owner":{"display_name":"user562350"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194628,"favorite_count":0,"down_vote_count":8,"up_vote_count":198,"closed_date":1457734402,"accepted_answer_id":5245617,"answer_count":3,"score":190,"last_activity_date":1685498862,"creation_date":1299672815,"question_id":5245600,"body_markdown":"I saw somewhere\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\ntransient private TrackDAO trackDAO;\r\n&lt;/code&gt;\r\n&lt;/pre&gt;","title":"What does the keyword &quot;transient&quot; mean in Java?","body":"<p>I saw somewhere</p>\n\n<pre>\n<code>\ntransient private TrackDAO trackDAO;\n</code>\n</pre>\n"},{"tags":["java","string","swing","combobox"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1685497212,"post_id":76369595,"comment_id":134667207,"body_markdown":"Use an `ActionListener` or `ItemListener` on the combo box to listen for changes to the selected item. Read the Swing tutorial on [How to Use Combo Boxes](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html) for more information and examples. Or if the item selection isn&#39;t changed then use a `DocumentListener` on the text field editor. The tutorial also has a section on `How to Write a DocumentListener`.","body":"Use an <code>ActionListener</code> or <code>ItemListener</code> on the combo box to listen for changes to the selected item. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow noreferrer\">How to Use Combo Boxes</a> for more information and examples. Or if the item selection isn&#39;t changed then use a <code>DocumentListener</code> on the text field editor. The tutorial also has a section on <code>How to Write a DocumentListener</code>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685497432,"post_id":76369595,"comment_id":134667215,"body_markdown":"If you want to monitor the input been put into the text field, then you will need to make use of a `DocumentListener` and possible supply your own &quot;editor&quot; (in the form of a configured `JTextField`) -DO NOT use a `KeyListener` for this, they are inappropriate for the task","body":"If you want to monitor the input been put into the text field, then you will need to make use of a <code>DocumentListener</code> and possible supply your own &quot;editor&quot; (in the form of a configured <code>JTextField</code>) -DO NOT use a <code>KeyListener</code> for this, they are inappropriate for the task"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1685497674,"post_id":76369595,"comment_id":134667233,"body_markdown":"For [example](https://stackoverflow.com/questions/12118060/add-propertychangelistener-to-jcombobox/12118415#12118415)","body":"For <a href=\"https://stackoverflow.com/questions/12118060/add-propertychangelistener-to-jcombobox/12118415#12118415\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685498229,"creation_date":1685498229,"answer_id":76369668,"question_id":76369595,"body_markdown":"Don&#39;t use a `KeyListener` for monitor input into a text field, it&#39;s not appropriate for the task for a number of reasons.\r\n\r\nInstead, make use of a `DocumentListener`. See [How to Write a Document Listener](https://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html)\r\n\r\nThe following example makes use of a custom `ComboBoxEditor`, you don&#39;t &quot;need&quot; to go to this extend, but it does isolate the core functionality which makes it easier to re-use.\r\n\r\n    import java.awt.Component;\r\n    import java.awt.EventQueue;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.ComboBoxEditor;\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.event.DocumentEvent;\r\n    import javax.swing.event.DocumentListener;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(new String[]{&quot;Test&quot;, &quot;Testy&quot;, &quot;Testing&quot;, &quot;More testing&quot;});\r\n                comboBox.setEditor(new MonitorableComboBoxEditor(new MonitorableComboBoxEditor.Observer() {\r\n                    @Override\r\n                    public void editorTextDidChange(String text) {\r\n                        System.out.println(&quot;Text did change &quot; + text);\r\n                    }\r\n                }));\r\n                comboBox.setEditable(true);\r\n\r\n                add(comboBox);\r\n            }\r\n        }\r\n\r\n        public class MonitorableComboBoxEditor implements ComboBoxEditor {\r\n\r\n            public interface Observer {\r\n                public void editorTextDidChange(String text);\r\n            }\r\n\r\n            private JTextField editor = new JTextField();\r\n\r\n            public MonitorableComboBoxEditor(Observer observer) {\r\n                editor.getDocument().addDocumentListener(new DocumentListener() {\r\n                    @Override\r\n                    public void insertUpdate(DocumentEvent e) {\r\n                        observer.editorTextDidChange(editor.getText());\r\n                    }\r\n\r\n                    @Override\r\n                    public void removeUpdate(DocumentEvent e) {\r\n                        observer.editorTextDidChange(editor.getText());\r\n                    }\r\n\r\n                    @Override\r\n                    public void changedUpdate(DocumentEvent e) {\r\n                        observer.editorTextDidChange(editor.getText());\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public Component getEditorComponent() {\r\n                return editor;\r\n            }\r\n\r\n            @Override\r\n            public void setItem(Object anObject) {\r\n                if (!(anObject instanceof String)) {\r\n                    return;\r\n                }\r\n                editor.setText((String)anObject);\r\n            }\r\n\r\n            @Override\r\n            public Object getItem() {\r\n                return editor.getText();\r\n            }\r\n\r\n            @Override\r\n            public void selectAll() {\r\n                editor.selectAll();\r\n            }\r\n\r\n            @Override\r\n            public void addActionListener(ActionListener l) {\r\n                editor.addActionListener(l);\r\n            }\r\n\r\n            @Override\r\n            public void removeActionListener(ActionListener l) {\r\n                editor.removeActionListener(l);\r\n            }\r\n        }\r\n    }\r\n\r\nEqually, you could make use of factory methods to configure a pre-existing `JComboBox`, but that&#39;s up to you.","title":"Java ComboBox editable Get string each time any key is relisted","body":"<p>Don't use a <code>KeyListener</code> for monitor input into a text field, it's not appropriate for the task for a number of reasons.</p>\n<p>Instead, make use of a <code>DocumentListener</code>. See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/documentlistener.html\" rel=\"nofollow noreferrer\">How to Write a Document Listener</a></p>\n<p>The following example makes use of a custom <code>ComboBoxEditor</code>, you don't &quot;need&quot; to go to this extend, but it does isolate the core functionality which makes it easier to re-use.</p>\n<pre><code>import java.awt.Component;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionListener;\nimport javax.swing.ComboBoxEditor;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.event.DocumentEvent;\nimport javax.swing.event.DocumentListener;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            JComboBox&lt;String&gt; comboBox = new JComboBox&lt;&gt;(new String[]{&quot;Test&quot;, &quot;Testy&quot;, &quot;Testing&quot;, &quot;More testing&quot;});\n            comboBox.setEditor(new MonitorableComboBoxEditor(new MonitorableComboBoxEditor.Observer() {\n                @Override\n                public void editorTextDidChange(String text) {\n                    System.out.println(&quot;Text did change &quot; + text);\n                }\n            }));\n            comboBox.setEditable(true);\n\n            add(comboBox);\n        }\n    }\n\n    public class MonitorableComboBoxEditor implements ComboBoxEditor {\n\n        public interface Observer {\n            public void editorTextDidChange(String text);\n        }\n\n        private JTextField editor = new JTextField();\n\n        public MonitorableComboBoxEditor(Observer observer) {\n            editor.getDocument().addDocumentListener(new DocumentListener() {\n                @Override\n                public void insertUpdate(DocumentEvent e) {\n                    observer.editorTextDidChange(editor.getText());\n                }\n\n                @Override\n                public void removeUpdate(DocumentEvent e) {\n                    observer.editorTextDidChange(editor.getText());\n                }\n\n                @Override\n                public void changedUpdate(DocumentEvent e) {\n                    observer.editorTextDidChange(editor.getText());\n                }\n            });\n        }\n\n        @Override\n        public Component getEditorComponent() {\n            return editor;\n        }\n\n        @Override\n        public void setItem(Object anObject) {\n            if (!(anObject instanceof String)) {\n                return;\n            }\n            editor.setText((String)anObject);\n        }\n\n        @Override\n        public Object getItem() {\n            return editor.getText();\n        }\n\n        @Override\n        public void selectAll() {\n            editor.selectAll();\n        }\n\n        @Override\n        public void addActionListener(ActionListener l) {\n            editor.addActionListener(l);\n        }\n\n        @Override\n        public void removeActionListener(ActionListener l) {\n            editor.removeActionListener(l);\n        }\n    }\n}\n</code></pre>\n<p>Equally, you could make use of factory methods to configure a pre-existing <code>JComboBox</code>, but that's up to you.</p>\n"}],"owner":{"account_id":21808321,"reputation":13,"user_id":16106235,"display_name":"Alberto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685498229,"creation_date":1685497049,"question_id":76369595,"body_markdown":"I need to have a comboBox that each time that letter, number or space written (release key), a string is returned with the text write inside the comboBox and without the need of press the Enter key.\r\n\r\nExample: I press de “a” key and I release the key “a”, my String need to return “a”\r\nNext, I press the “b” key and I realise, my string return “ab” etc.\r\n\r\nI use the code from: http://www.java2s.com/Tutorials/Java/Swing_How_to/JComboBox/Add_key_listener_to_Editable_JcomboBox_TextField.htm\r\n\r\nAnd I added in the Key Released event:\r\n\r\n    Object value = combobox.getSelectedItem();\r\n    System.out.println(&quot;String: &quot; + value);\r\n\r\nIn this case that work only if I press the Enter key but I don’t want that\r\n\r\nAmy suggestions?\r\n\r\nThanks\r\n\r\n    import java.awt.FlowLayout;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.event.KeyListener;\r\n    //w ww.j  a v  a2  s  .  c om\r\n    import javax.swing.JComboBox;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextField;\r\n    \r\n    public class SwingListenerDemo extends JFrame implements KeyListener {\r\n    \tJComboBox&lt;String&gt; combobox;\r\n      JComboBox&lt;String&gt; combobox1 = new JComboBox(new String[]{&quot;b&quot;,&quot;b&quot;,&quot;c&quot;});\r\n      public static void main(String[] args) {\r\n        new SwingListenerDemo();\r\n      }\r\n    \r\n      private SwingListenerDemo() {\r\n    \tString[] options = {&quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;};\r\n    \tcombobox = new JComboBox&lt;String&gt;(options);\r\n        combobox.setEditable(true);\r\n        combobox.setSelectedIndex(-1);\r\n      \r\n        combobox1.setEditable(true);\r\n        JTextField editor = (JTextField) combobox.getEditor().getEditorComponent();\r\n        System.out.println(&quot;editor&quot; + editor);\r\n        editor.addKeyListener(this);\r\n        setLayout(new FlowLayout());\r\n        add(combobox);\r\n        add(combobox1);\r\n        pack();\r\n        setVisible(true);\r\n      }\r\n    \r\n      public void keyTyped(KeyEvent arg0) {\r\n        System.out.println(&quot;Key Typed &quot; + arg0.getKeyCode());\r\n      }\r\n    \r\n      public void keyPressed(KeyEvent arg0) {\r\n        System.out.println(&quot;Key Pressed &quot; + arg0.getKeyCode());\r\n      }\r\n    \r\n      public void keyReleased(KeyEvent arg0) {\r\n        System.out.println(&quot;Key Released &quot; + arg0.getKeyCode());\r\n        Object value = combobox.getSelectedItem();\r\n        System.out.println(&quot;String: &quot; + value);\r\n    \r\n      }\r\n    }\r\n\r\n\r\n\r\n","title":"Java ComboBox editable Get string each time any key is relisted","body":"<p>I need to have a comboBox that each time that letter, number or space written (release key), a string is returned with the text write inside the comboBox and without the need of press the Enter key.</p>\n<p>Example: I press de “a” key and I release the key “a”, my String need to return “a”\nNext, I press the “b” key and I realise, my string return “ab” etc.</p>\n<p>I use the code from: <a href=\"http://www.java2s.com/Tutorials/Java/Swing_How_to/JComboBox/Add_key_listener_to_Editable_JcomboBox_TextField.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorials/Java/Swing_How_to/JComboBox/Add_key_listener_to_Editable_JcomboBox_TextField.htm</a></p>\n<p>And I added in the Key Released event:</p>\n<pre><code>Object value = combobox.getSelectedItem();\nSystem.out.println(&quot;String: &quot; + value);\n</code></pre>\n<p>In this case that work only if I press the Enter key but I don’t want that</p>\n<p>Amy suggestions?</p>\n<p>Thanks</p>\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n//w ww.j  a v  a2  s  .  c om\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\n\npublic class SwingListenerDemo extends JFrame implements KeyListener {\n    JComboBox&lt;String&gt; combobox;\n  JComboBox&lt;String&gt; combobox1 = new JComboBox(new String[]{&quot;b&quot;,&quot;b&quot;,&quot;c&quot;});\n  public static void main(String[] args) {\n    new SwingListenerDemo();\n  }\n\n  private SwingListenerDemo() {\n    String[] options = {&quot;Red&quot;, &quot;Green&quot;, &quot;Blue&quot;};\n    combobox = new JComboBox&lt;String&gt;(options);\n    combobox.setEditable(true);\n    combobox.setSelectedIndex(-1);\n  \n    combobox1.setEditable(true);\n    JTextField editor = (JTextField) combobox.getEditor().getEditorComponent();\n    System.out.println(&quot;editor&quot; + editor);\n    editor.addKeyListener(this);\n    setLayout(new FlowLayout());\n    add(combobox);\n    add(combobox1);\n    pack();\n    setVisible(true);\n  }\n\n  public void keyTyped(KeyEvent arg0) {\n    System.out.println(&quot;Key Typed &quot; + arg0.getKeyCode());\n  }\n\n  public void keyPressed(KeyEvent arg0) {\n    System.out.println(&quot;Key Pressed &quot; + arg0.getKeyCode());\n  }\n\n  public void keyReleased(KeyEvent arg0) {\n    System.out.println(&quot;Key Released &quot; + arg0.getKeyCode());\n    Object value = combobox.getSelectedItem();\n    System.out.println(&quot;String: &quot; + value);\n\n  }\n}\n</code></pre>\n"},{"tags":["java","authentication","postman","basic-authentication"],"answers":[{"tags":[],"owner":{"account_id":5271912,"reputation":55,"user_id":4209925,"display_name":"rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685497141,"creation_date":1685497141,"answer_id":76369602,"question_id":76369209,"body_markdown":"According to the error message, maybe the code line \r\n\r\n    .requestMatchers(&quot;**/auth/**&quot;)\r\n\r\nshould be changed to \r\n\r\n    .requestMatchers(&quot;/auth/**&quot;)\r\n\r\nor something like. That is to say, after &quot;**&quot;, there should be nothing.","title":"Is there a logic error in my Springboot code?","body":"<p>According to the error message, maybe the code line</p>\n<pre><code>.requestMatchers(&quot;**/auth/**&quot;)\n</code></pre>\n<p>should be changed to</p>\n<pre><code>.requestMatchers(&quot;/auth/**&quot;)\n</code></pre>\n<p>or something like. That is to say, after &quot;**&quot;, there should be nothing.</p>\n"}],"owner":{"account_id":20805677,"reputation":1,"user_id":15280633,"display_name":"RajMazing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685497141,"creation_date":1685489190,"question_id":76369209,"body_markdown":"I started learning Springboot from an online tutorial and many of the logic/dependencies used for the project has been deprecated so I struggled looking for alternative methods that I can use for basic authentication. \r\n\r\nI came across the requestMatchers() method due to antMatchers() being deprecated, I think I somewhat understand the logic but I can&#39;t seem to get the authentication to work when posting to the server whenever I use postman. Can someone please assist? This is my SecurityConfig file with the logic\r\n\r\nwhen I start my server then trying to posting to the link \r\n\r\n\r\n```\r\npackage com.workshop.Security.config;\r\n\r\nimport com.workshop.Security.config.dao.UserDao;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtAuthFilter jwtAuthFilter;\r\n    private final UserDao userDao;\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                .requestMatchers(&quot;**/auth/**&quot;)\r\n                .permitAll()\r\n               .anyRequest()\r\n               .authenticated()\r\n               .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authenticationProvider())\r\n                .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\r\n\r\n       return http.build();\r\n    }\r\n\r\n@Bean\r\npublic AuthenticationProvider authenticationProvider() {\r\n        final DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n    authenticationProvider.setUserDetailsService(userDetailsService());\r\n    authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n        return authenticationProvider;\r\n}\r\n@Bean\r\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n        return config.getAuthenticationManager();\r\n}\r\n\r\n\r\n@Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n    return new BCryptPasswordEncoder();\r\n//        return NoOpPasswordEncoder.getInstance();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n       return new UserDetailsService() {\r\n           @Override\r\n           public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n                return userDao.findUserByEmail(email);\r\n\r\n           }\r\n       };\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\n\r\nThis is the error that displays when I try posting to postman (I get a 500 error message)\r\n\r\n\r\n```\r\norg.springframework.web.util.pattern.PatternParseException: No more pattern data allowed after {*...} or ** pattern element\r\n```\r\n\r\nCan someone help me find the error?\r\n\r\nI was expecting to authenticate the current user as admin but I can&#39;t connect to the server","title":"Is there a logic error in my Springboot code?","body":"<p>I started learning Springboot from an online tutorial and many of the logic/dependencies used for the project has been deprecated so I struggled looking for alternative methods that I can use for basic authentication.</p>\n<p>I came across the requestMatchers() method due to antMatchers() being deprecated, I think I somewhat understand the logic but I can't seem to get the authentication to work when posting to the server whenever I use postman. Can someone please assist? This is my SecurityConfig file with the logic</p>\n<p>when I start my server then trying to posting to the link</p>\n<pre><code>package com.workshop.Security.config;\n\nimport com.workshop.Security.config.dao.UserDao;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n\nimport org.springframework.security.config.http.SessionCreationPolicy;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtAuthFilter jwtAuthFilter;\n    private final UserDao userDao;\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .requestMatchers(&quot;**/auth/**&quot;)\n                .permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider())\n                .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\n\n       return http.build();\n    }\n\n@Bean\npublic AuthenticationProvider authenticationProvider() {\n        final DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n    authenticationProvider.setUserDetailsService(userDetailsService());\n    authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n}\n@Bean\npublic AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n}\n\n\n@Bean\n    public PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n//        return NoOpPasswordEncoder.getInstance();\n\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n       return new UserDetailsService() {\n           @Override\n           public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n                return userDao.findUserByEmail(email);\n\n           }\n       };\n    }\n}\n\n\n\n</code></pre>\n<p>This is the error that displays when I try posting to postman (I get a 500 error message)</p>\n<pre><code>org.springframework.web.util.pattern.PatternParseException: No more pattern data allowed after {*...} or ** pattern element\n</code></pre>\n<p>Can someone help me find the error?</p>\n<p>I was expecting to authenticate the current user as admin but I can't connect to the server</p>\n"},{"tags":["java","flutter"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685495769,"creation_date":1685495769,"answer_id":76369541,"question_id":76369496,"body_markdown":"You need to install a full JDK. A JRE doesn&#39;t has developer tools like keytool.","title":"bash: keytool: command not found in a Flutter Project","body":"<p>You need to install a full JDK. A JRE doesn't has developer tools like keytool.</p>\n"}],"owner":{"account_id":18120626,"reputation":733,"user_id":13176726,"display_name":"A_K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685496919,"creation_date":1685494873,"question_id":76369496,"body_markdown":"I am trying to following the steps to deploy a Flutter Application using https://docs.flutter.dev/deployment/android\r\n\r\nwhen I paste the following command `keytool -genkey -v -keystore %userprofile%\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload`\r\n\r\nI keep getting `bash: keytool: command not found` I have followed alot of the answers provided and here is what I came up with: \r\n```\r\n$ java -version\r\njava version &quot;1.8.0_241&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.241-b07, mixed mode)\r\n```\r\n\r\nI have changed the Environment Path and here is the print screen: \r\n[![enter image description here][1]][1]\r\n\r\nMY Question what else should I change or update in order to fix this error \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S3Vfp.jpg","title":"bash: keytool: command not found in a Flutter Project","body":"<p>I am trying to following the steps to deploy a Flutter Application using <a href=\"https://docs.flutter.dev/deployment/android\" rel=\"nofollow noreferrer\">https://docs.flutter.dev/deployment/android</a></p>\n<p>when I paste the following command <code>keytool -genkey -v -keystore %userprofile%\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload</code></p>\n<p>I keep getting <code>bash: keytool: command not found</code> I have followed alot of the answers provided and here is what I came up with:</p>\n<pre><code>$ java -version\njava version &quot;1.8.0_241&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.241-b07, mixed mode)\n</code></pre>\n<p>I have changed the Environment Path and here is the print screen:\n<a href=\"https://i.stack.imgur.com/S3Vfp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S3Vfp.jpg\" alt=\"enter image description here\" /></a></p>\n<p>MY Question what else should I change or update in order to fix this error</p>\n"},{"tags":["java","streaming","filestream","apache-spark"],"comments":[{"owner":{"account_id":5540317,"reputation":73,"user_id":4397102,"accept_rate":100,"display_name":"stupig"},"score":0,"creation_date":1419754493,"post_id":27665155,"comment_id":43764311,"body_markdown":"When I was searching for this problem in the Internet, I found somebody wrote their code as below:\n\n`JavaPairInputDStream&lt;LongWritable, Text&gt; inputLines = ssc.&lt;LongWritable, Text, TextInputFormat&gt;fileStream(dataDirectory);`\n\nSo, I tried, but not work at all.\n\nOne interesting thing is that [cgrothaus](https://github.com/cgrothaus/spark/blob/master/streaming/src/test/java/spark/streaming/JavaAPISuite.java) supply **testFileStream** function, however, [apache](https://github.com/apache/spark/blob/master/streaming/src/test/java/org/apache/spark/streaming/JavaAPISuite.java) does not-_-","body":"When I was searching for this problem in the Internet, I found somebody wrote their code as below:  <code>JavaPairInputDStream&lt;LongWritable, Text&gt; inputLines = ssc.&lt;LongWritable, Text, TextInputFormat&gt;fileStream(dataDirectory);</code>  So, I tried, but not work at all.  One interesting thing is that <a href=\"https://github.com/cgrothaus/spark/blob/master/streaming/src/test/java/spark/streaming/JavaAPISuite.java\" rel=\"nofollow noreferrer\">cgrothaus</a> supply <b>testFileStream</b> function, however, <a href=\"https://github.com/apache/spark/blob/master/streaming/src/test/java/org/apache/spark/streaming/JavaAPISuite.java\" rel=\"nofollow noreferrer\">apache</a> does not-_-"}],"answers":[{"tags":[],"owner":{"account_id":3493721,"reputation":2232,"user_id":2922639,"accept_rate":86,"display_name":"Hana Bzh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1419664283,"creation_date":1419664283,"answer_id":27665197,"question_id":27665155,"body_markdown":"You need to add\r\n\r\n    import java.io.File;\r\n\r\nor \r\n\r\n    import java.io.*;\r\n\r\n","title":"Java implementation of JavaStreamingContext.fileStream","body":"<p>You need to add</p>\n\n<pre><code>import java.io.File;\n</code></pre>\n\n<p>or </p>\n\n<pre><code>import java.io.*;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5540317,"reputation":73,"user_id":4397102,"accept_rate":100,"display_name":"stupig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685495903,"creation_date":1419990409,"answer_id":27715147,"question_id":27665155,"body_markdown":"The **fileStream cannot be resolved or is not a field** problem is caused by improper using of `fileStream`. When using `fileStream` as below:\r\n\r\n    JavaPairInputDStream&lt;LongWritable, Text&gt; inputLines = ssc.&lt;LongWritable, Text, TestInputFormat&gt;fileStream(dataDirectory);\r\n\r\nand `TestInputFormat` must extends `OutputFormat&lt;LongWritable, Text&gt;`.\r\n\r\n    public interface TestOutputFormat extends OutputFormat&lt;LongWritable, Text&gt;\r\n\r\nThere is no problem when using in this way, but you have to implement the Class of TestInputFormat Using **old API(org.apache.hadoop.mapred.*)**. and I have not tried this. ^_^","title":"Java implementation of JavaStreamingContext.fileStream","body":"<p>The <strong>fileStream cannot be resolved or is not a field</strong> problem is caused by improper using of <code>fileStream</code>. When using <code>fileStream</code> as below:</p>\n<pre><code>JavaPairInputDStream&lt;LongWritable, Text&gt; inputLines = ssc.&lt;LongWritable, Text, TestInputFormat&gt;fileStream(dataDirectory);\n</code></pre>\n<p>and <code>TestInputFormat</code> must extends <code>OutputFormat&lt;LongWritable, Text&gt;</code>.</p>\n<pre><code>public interface TestOutputFormat extends OutputFormat&lt;LongWritable, Text&gt;\n</code></pre>\n<p>There is no problem when using in this way, but you have to implement the Class of TestInputFormat Using <strong>old API(org.apache.hadoop.mapred.*)</strong>. and I have not tried this. ^_^</p>\n"}],"owner":{"account_id":5540317,"reputation":73,"user_id":4397102,"accept_rate":100,"display_name":"stupig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27715147,"answer_count":2,"score":0,"last_activity_date":1685495903,"creation_date":1419663801,"question_id":27665155,"body_markdown":"I have some trouble of programming with spark streaming. As I want to create a input stream and read them using self-defined input format. The definition looks like this:\r\n\r\n    def fileStream[K, V, F &lt;: NewInputFormat[K, V]](\r\n          directory: String): JavaPairInputDStream[K, V] = {\r\n        implicit val cmk: ClassTag[K] =\r\n          implicitly[ClassTag[AnyRef]].asInstanceOf[ClassTag[K]]\r\n        implicit val cmv: ClassTag[V] =\r\n          implicitly[ClassTag[AnyRef]].asInstanceOf[ClassTag[V]]\r\n        implicit val cmf: ClassTag[F] =\r\n          implicitly[ClassTag[AnyRef]].asInstanceOf[ClassTag[F]]\r\n        ssc.fileStream[K, V, F](directory)\r\n    }\r\n\r\nIf I&#39;m using scala, then I will write my code as below:\r\n\r\n    val lines = ssc.fileStream[LongWritable, Text, TextInputFormat](dataDirectory)\r\n\r\nBut, when I&#39;m using java like this:\r\n\r\n    ClassTag&lt;LongWritable&gt; k = scala.reflect.ClassTag$.MODULE$.apply(LongWritable.class);\r\n    ClassTag&lt;Text&gt; v = scala.reflect.ClassTag$.MODULE$.apply(Text.class);\r\n    ClassTag&lt;InputFormat&lt;LongWritable, Text&gt;&gt; f = scala.reflect.ClassTag$.MODULE$.apply(TextInputFormat.class);\r\n    JavaPairInputDStream&lt;LongWritable, Text&gt; inputLines = ssc.fileStream&lt;k, v, f&gt;(&quot;dataDirectory);\r\n\r\nI will come across the errors of &quot;**fileStream cannot be resolved or is not a field**&quot;.\r\nSo, how to use JavaStreamingContext.fileStream?\r\n\r\nI created ssc with the code below:\r\n\r\n    JavaStreamingContext ssc = new JavaStreamingContext(new SparkConf().setAppName(&quot;Spark Streaming Demo&quot;), new Duration(3000));\r\n\r\nThanks!","title":"Java implementation of JavaStreamingContext.fileStream","body":"<p>I have some trouble of programming with spark streaming. As I want to create a input stream and read them using self-defined input format. The definition looks like this:</p>\n\n<pre><code>def fileStream[K, V, F &lt;: NewInputFormat[K, V]](\n      directory: String): JavaPairInputDStream[K, V] = {\n    implicit val cmk: ClassTag[K] =\n      implicitly[ClassTag[AnyRef]].asInstanceOf[ClassTag[K]]\n    implicit val cmv: ClassTag[V] =\n      implicitly[ClassTag[AnyRef]].asInstanceOf[ClassTag[V]]\n    implicit val cmf: ClassTag[F] =\n      implicitly[ClassTag[AnyRef]].asInstanceOf[ClassTag[F]]\n    ssc.fileStream[K, V, F](directory)\n}\n</code></pre>\n\n<p>If I'm using scala, then I will write my code as below:</p>\n\n<pre><code>val lines = ssc.fileStream[LongWritable, Text, TextInputFormat](dataDirectory)\n</code></pre>\n\n<p>But, when I'm using java like this:</p>\n\n<pre><code>ClassTag&lt;LongWritable&gt; k = scala.reflect.ClassTag$.MODULE$.apply(LongWritable.class);\nClassTag&lt;Text&gt; v = scala.reflect.ClassTag$.MODULE$.apply(Text.class);\nClassTag&lt;InputFormat&lt;LongWritable, Text&gt;&gt; f = scala.reflect.ClassTag$.MODULE$.apply(TextInputFormat.class);\nJavaPairInputDStream&lt;LongWritable, Text&gt; inputLines = ssc.fileStream&lt;k, v, f&gt;(\"dataDirectory);\n</code></pre>\n\n<p>I will come across the errors of \"<strong>fileStream cannot be resolved or is not a field</strong>\".\nSo, how to use JavaStreamingContext.fileStream?</p>\n\n<p>I created ssc with the code below:</p>\n\n<pre><code>JavaStreamingContext ssc = new JavaStreamingContext(new SparkConf().setAppName(\"Spark Streaming Demo\"), new Duration(3000));\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","scroll","appium","appium-android"],"answers":[{"tags":[],"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543297434,"creation_date":1534416176,"answer_id":51875141,"question_id":51859723,"body_markdown":"Make sure you imported **TouchAction** from **io.appium.java_client.TouchAction**\r\n\r\n    import io.appium.java_client.TouchAction;\r\n    import io.appium.java_client.touch.WaitOptions;\r\n    import io.appium.java_client.touch.offset.PointOption;\r\n    import java.util.concurrent.TimeUnit;\r\n    import static java.time.Duration.ofSeconds;\r\n\r\n    TouchAction action = new TouchAction(driver); \r\n    action.press(PointOption.point(115, 650)).waitAction(WaitOptions.waitOptions(ofSeconds(1)))\r\n                    .moveTo(PointOption.point(115, 350)).release().perform();\r\n\r\n\r\n&gt;Updated: You need to upgrade your selenium-java version to latest stable version\r\n\r\n    import org.openqa.selenium.interactions.touch.TouchActions;\r\n\r\n    //AppiumDriver&lt;WebElement&gt; driver;\r\n    TouchActions action1=new TouchActions(driver);\r\n        action1.scroll(element,x1,x2).perform();\r\n","title":"How to scroll page by using TouchActions appium method?","body":"<p>Make sure you imported <strong>TouchAction</strong> from <strong>io.appium.java_client.TouchAction</strong></p>\n\n<pre><code>import io.appium.java_client.TouchAction;\nimport io.appium.java_client.touch.WaitOptions;\nimport io.appium.java_client.touch.offset.PointOption;\nimport java.util.concurrent.TimeUnit;\nimport static java.time.Duration.ofSeconds;\n\nTouchAction action = new TouchAction(driver); \naction.press(PointOption.point(115, 650)).waitAction(WaitOptions.waitOptions(ofSeconds(1)))\n                .moveTo(PointOption.point(115, 350)).release().perform();\n</code></pre>\n\n<blockquote>\n  <p>Updated: You need to upgrade your selenium-java version to latest stable version</p>\n</blockquote>\n\n<pre><code>import org.openqa.selenium.interactions.touch.TouchActions;\n\n//AppiumDriver&lt;WebElement&gt; driver;\nTouchActions action1=new TouchActions(driver);\n    action1.scroll(element,x1,x2).perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8520845,"reputation":1,"user_id":6387822,"display_name":"Kumar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551314011,"creation_date":1551314011,"answer_id":54916629,"question_id":51859723,"body_markdown":"Here is the perfectly working commands. \r\n\r\n\t     TouchAction action = new TouchAction(driver); \r\n\t\t\t     action.press(PointOption.point(115, 915)).waitAction(WaitOptions.waitOptions(Duration.ofSeconds(3)))\r\n\t\t\t                     .moveTo(PointOption.point(115, 150)).release().perform();","title":"How to scroll page by using TouchActions appium method?","body":"<p>Here is the perfectly working commands. </p>\n\n<pre><code>     TouchAction action = new TouchAction(driver); \n             action.press(PointOption.point(115, 915)).waitAction(WaitOptions.waitOptions(Duration.ofSeconds(3)))\n                             .moveTo(PointOption.point(115, 150)).release().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27305565,"reputation":1,"user_id":20821616,"display_name":"Manjay Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685494799,"creation_date":1685437830,"answer_id":76363279,"question_id":51859723,"body_markdown":"```\r\nTouchAction action = new TouchAction(driver);\r\n\r\naction.press(PointOption.point(115,915))\r\n      .waitAction(WaitOptions.waitOptions(Duration.ofSeconds(3)))\r\n      .moveTo(PointOption.point(115, 150))\r\n      .release()\r\n      .perform();\r\n```\r\nIt is good and it is working.","title":"How to scroll page by using TouchActions appium method?","body":"<pre><code>TouchAction action = new TouchAction(driver);\n\naction.press(PointOption.point(115,915))\n      .waitAction(WaitOptions.waitOptions(Duration.ofSeconds(3)))\n      .moveTo(PointOption.point(115, 150))\n      .release()\n      .perform();\n</code></pre>\n<p>It is good and it is working.</p>\n"}],"owner":{"account_id":5464663,"reputation":407,"user_id":4345808,"display_name":"dmytro Minz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685494799,"creation_date":1534339912,"question_id":51859723,"body_markdown":"I wrie automated tests for Android native application and forced with scroll problem.\r\n\r\nI need to scroll Android application page, and googled next method for this : [http://appium.io/docs/en/commands/interactions/touch/scroll/][1]\r\n\r\n    TouchActions action = new TouchActions(driver);\r\n    action.scroll(element, 10, 100);\r\n    action.perform();\r\n\r\nBut in first line I’m getting an exception &quot; java.lang.ClassCastException: io.appium.java_client.android.AndroidDriver cannot be cast to org.openqa.selenium.interactions.HasTouchScreen&quot;\r\n\r\nMy environment is: java, jdk 1.8.0_65, appium 1.6.1\r\n\r\nP.S. I tried use TouchAction - from these [Automating mobile gestures][2], it works, but methods are deprecated.\r\n\r\n    .press(100,100) \r\n    .moveTo(100,100)\r\n\r\nP.P.S. I also tried to execute adb command, smth like this:\r\n\r\n \r\n\r\n      &quot;adb -s shell input touchscreen swipe &quot; + startx + &quot; &quot; + starty + &quot; &quot; + endx + &quot; &quot; + endy + &quot; &quot; + duration&quot;\r\n\r\nbut it also doesn&#39;t work for me and I want to use native appium methodsif it possible of course.\r\n\r\n  [1]: http://appium.io/docs/en/commands/interactions/touch/scroll/\r\n  [2]: http://appium.io/docs/en/writing-running-appium/touch-actions/","title":"How to scroll page by using TouchActions appium method?","body":"<p>I wrie automated tests for Android native application and forced with scroll problem.</p>\n\n<p>I need to scroll Android application page, and googled next method for this : <a href=\"http://appium.io/docs/en/commands/interactions/touch/scroll/\" rel=\"nofollow noreferrer\">http://appium.io/docs/en/commands/interactions/touch/scroll/</a></p>\n\n<pre><code>TouchActions action = new TouchActions(driver);\naction.scroll(element, 10, 100);\naction.perform();\n</code></pre>\n\n<p>But in first line I’m getting an exception \" java.lang.ClassCastException: io.appium.java_client.android.AndroidDriver cannot be cast to org.openqa.selenium.interactions.HasTouchScreen\"</p>\n\n<p>My environment is: java, jdk 1.8.0_65, appium 1.6.1</p>\n\n<p>P.S. I tried use TouchAction - from these <a href=\"http://appium.io/docs/en/writing-running-appium/touch-actions/\" rel=\"nofollow noreferrer\">Automating mobile gestures</a>, it works, but methods are deprecated.</p>\n\n<pre><code>.press(100,100) \n.moveTo(100,100)\n</code></pre>\n\n<p>P.P.S. I also tried to execute adb command, smth like this:</p>\n\n<pre><code>  \"adb -s shell input touchscreen swipe \" + startx + \" \" + starty + \" \" + endx + \" \" + endy + \" \" + duration\"\n</code></pre>\n\n<p>but it also doesn't work for me and I want to use native appium methodsif it possible of course.</p>\n"},{"tags":["java","eclipse","testing","mobile","appium"],"owner":{"account_id":28681746,"reputation":1,"user_id":21962787,"display_name":"kirti singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685494502,"creation_date":1685115388,"question_id":76342286,"body_markdown":"I am performing automation on one of the EdTech app, with the following code, where the app gets launched in Android studio Emulator and basic functionalities are checked. I have written the below basic code which will open an application and click on particular element:\r\n\r\n```\r\n`&lt;sup&gt;&lt;kbd&gt;package outskill.appium;\r\nimport io.appium.java_client.AppiumBy;\r\n//import io.appium.java_client.remote.MobileCapabilityType;\r\nimport io.appium.java_client.android.AndroidDriver;\r\n\r\nimport io.appium.java_client.android.options.UiAutomator2Options;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\n//import org.openqa.selenium.support.ui.WebDriverWait;\r\n//import org.openqa.selenium.WebElement;\r\n\r\n//import org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.testng.annotations.Test;\r\n\r\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\r\nimport io.appium.java_client.service.local.AppiumServiceBuilder;\r\n\r\nimport java.io.File;\r\nimport java.net.MalformedURLException;\r\n//import java.net.MalformedURLException;\r\nimport java.net.URL;\r\n//import java.time.Duration;\r\n\r\npublic class outskillbasics {\r\n\r\n    @Test\r\n    public void outskilltest() throws MalformedURLException {\r\n    \t//start appium server\r\n    \tAppiumDriverLocalService service = new AppiumServiceBuilder().withAppiumJS(new File(&quot;C:\\\\Users\\\\Kirti Singh\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\r\n    \t\t\t.withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).build();\r\n    \tservice.start();\r\n    \t\r\n    \tUiAutomator2Options options = new UiAutomator2Options();\r\n    \toptions.setDeviceName(&quot;Kirti Emulator&quot;);\r\n    \toptions.setApp(&quot;C://Users//Kirti Singh//eclipse-workspace//appium//src//test//java//outskillapp//app (2).apk&quot;);\r\n        AndroidDriver driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723&quot;), options);\r\n        driver.findElement(AppiumBy.xpath(&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.View/android.view.View/android.view.View/android.view.View/android.widget.Button\\r\\n&quot;\r\n        \t)).click();\r\n       driver.findElement(AppiumBy.xpath(&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.View/android.view.View/android.view.View/android.view.View/android.widget.Button\\r\\n&quot;\r\n        \t)).click();\r\n       boolean isPresent =  driver.findElement(AppiumBy.accessibilityId(&quot;Increase your knowledge in domains like Self-Help, Business, Art, &amp; beyond with Audiobook Summaries, handpicked by the best mentors.&quot;)).isDisplayed();\r\n       System.out.println(isPresent);\r\n       driver.findElement(AppiumBy.xpath(&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.View/android.view.View/android.view.View/android.view.View/android.widget.Button\\r\\n&quot;\r\n        \t)).click();&lt;/kbd&gt;&lt;/sup&gt;`\r\n\r\n```\r\n\r\nWhile executing an Appium script the app is getting open and getting quickly closed with below error message:\r\n\r\n    error : org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Could not proxy command to the remote server. Original error: socket hang up \r\n    Host info: host: &#39;LAPTOP-0OBQI7FL&#39;, ip: &#39;192.168.1.3&#39;\r\n    Build info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;\r\n    Driver info: io.appium.java_client.android.AndroidDriver\r\n    Command: [null, newSession {capabilities=[{appium:deviceName=Kirti Emulator, platformName=ANDROID, appium:automationName=UIAutomator2, appium:app=C://Users//Kirti Singh//eclipse-workspace//appium//src//test//java//outskillapp//app (2).apk}], desiredCapabilities=Capabilities {appium:app: C://Users//Kirti Singh//ecl..., appium:automationName: UIAutomator2, appium:deviceName: Kirti Emulator, platformName: ANDROID}}]\r\n    Capabilities {appium:app: C://Users//Kirti Singh//ecl..., appium:automationName: UIAutomator2, appium:deviceName: Kirti Emulator, platformName: ANDROID}\r\n\r\nMainly the session is not getting created after executing a script.","title":"Appium Java test automation throws org.openqa.selenium.SessionNotCreatedException: Could not start a new session. How to fix?","body":"<p>I am performing automation on one of the EdTech app, with the following code, where the app gets launched in Android studio Emulator and basic functionalities are checked. I have written the below basic code which will open an application and click on particular element:</p>\n<pre><code>`&lt;sup&gt;&lt;kbd&gt;package outskill.appium;\nimport io.appium.java_client.AppiumBy;\n//import io.appium.java_client.remote.MobileCapabilityType;\nimport io.appium.java_client.android.AndroidDriver;\n\nimport io.appium.java_client.android.options.UiAutomator2Options;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\n//import org.openqa.selenium.support.ui.WebDriverWait;\n//import org.openqa.selenium.WebElement;\n\n//import org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.annotations.Test;\n\nimport io.appium.java_client.service.local.AppiumDriverLocalService;\nimport io.appium.java_client.service.local.AppiumServiceBuilder;\n\nimport java.io.File;\nimport java.net.MalformedURLException;\n//import java.net.MalformedURLException;\nimport java.net.URL;\n//import java.time.Duration;\n\npublic class outskillbasics {\n\n    @Test\n    public void outskilltest() throws MalformedURLException {\n        //start appium server\n        AppiumDriverLocalService service = new AppiumServiceBuilder().withAppiumJS(new File(&quot;C:\\\\Users\\\\Kirti Singh\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;))\n                .withIPAddress(&quot;127.0.0.1&quot;).usingPort(4723).build();\n        service.start();\n        \n        UiAutomator2Options options = new UiAutomator2Options();\n        options.setDeviceName(&quot;Kirti Emulator&quot;);\n        options.setApp(&quot;C://Users//Kirti Singh//eclipse-workspace//appium//src//test//java//outskillapp//app (2).apk&quot;);\n        AndroidDriver driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723&quot;), options);\n        driver.findElement(AppiumBy.xpath(&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.View/android.view.View/android.view.View/android.view.View/android.widget.Button\\r\\n&quot;\n            )).click();\n       driver.findElement(AppiumBy.xpath(&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.View/android.view.View/android.view.View/android.view.View/android.widget.Button\\r\\n&quot;\n            )).click();\n       boolean isPresent =  driver.findElement(AppiumBy.accessibilityId(&quot;Increase your knowledge in domains like Self-Help, Business, Art, &amp; beyond with Audiobook Summaries, handpicked by the best mentors.&quot;)).isDisplayed();\n       System.out.println(isPresent);\n       driver.findElement(AppiumBy.xpath(&quot;/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.View/android.view.View/android.view.View/android.view.View/android.widget.Button\\r\\n&quot;\n            )).click();&lt;/kbd&gt;&lt;/sup&gt;`\n\n</code></pre>\n<p>While executing an Appium script the app is getting open and getting quickly closed with below error message:</p>\n<pre><code>error : org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Could not proxy command to the remote server. Original error: socket hang up \nHost info: host: 'LAPTOP-0OBQI7FL', ip: '192.168.1.3'\nBuild info: version: '4.9.1', revision: 'eb2032df7f'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.6'\nDriver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{appium:deviceName=Kirti Emulator, platformName=ANDROID, appium:automationName=UIAutomator2, appium:app=C://Users//Kirti Singh//eclipse-workspace//appium//src//test//java//outskillapp//app (2).apk}], desiredCapabilities=Capabilities {appium:app: C://Users//Kirti Singh//ecl..., appium:automationName: UIAutomator2, appium:deviceName: Kirti Emulator, platformName: ANDROID}}]\nCapabilities {appium:app: C://Users//Kirti Singh//ecl..., appium:automationName: UIAutomator2, appium:deviceName: Kirti Emulator, platformName: ANDROID}\n</code></pre>\n<p>Mainly the session is not getting created after executing a script.</p>\n"},{"tags":["java","spring","hibernate","transactions","assertj"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1612787002,"post_id":66069181,"comment_id":116866882,"body_markdown":"What kind of exception are you actually throwing in the `prepareNotificationRequest`an `send` methods. Is any kind of `RuntimeException`? It is not declared in the methods signature.","body":"What kind of exception are you actually throwing in the <code>prepareNotificationRequest</code>an <code>send</code> methods. Is any kind of <code>RuntimeException</code>? It is not declared in the methods signature."},{"owner":{"account_id":2303363,"reputation":106,"user_id":2023172,"display_name":"byksl"},"score":0,"creation_date":1612802409,"post_id":66069181,"comment_id":116874519,"body_markdown":"I am throwing an exception of a class which extends `RuntimeException`.","body":"I am throwing an exception of a class which extends <code>RuntimeException</code>."},{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1613361334,"post_id":66069181,"comment_id":117042569,"body_markdown":"Is it safe to assume that the id of your notification order is always going to be 1? Are there other tests using the same repository? What&#39;s the life-cycle of your test data store?","body":"Is it safe to assume that the id of your notification order is always going to be 1? Are there other tests using the same repository? What&#39;s the life-cycle of your test data store?"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612772994,"creation_date":1612772994,"answer_id":66098150,"question_id":66069181,"body_markdown":"Try enabling SQL logging and parameter bind logging and look through the statements. I don&#39;t know all of your code, but maybe your are setting the message to null somewhere? It could also be, that the actions are interleaving somehow such that `updateNotificationOrderRetryCount` is called before/while `saveNotificationOrderErrorMessage` in a way that causes this. If both run right before commit, but `saveNotificationOrderErrorMessage` commits before `updateNotificationOrderRetryCount`, you could see the error message being overwritten with null.","title":"Does a hibernate transaction commit changes asynchronously, independent of the program flow?","body":"<p>Try enabling SQL logging and parameter bind logging and look through the statements. I don't know all of your code, but maybe your are setting the message to null somewhere? It could also be, that the actions are interleaving somehow such that <code>updateNotificationOrderRetryCount</code> is called before/while <code>saveNotificationOrderErrorMessage</code> in a way that causes this. If both run right before commit, but <code>saveNotificationOrderErrorMessage</code> commits before <code>updateNotificationOrderRetryCount</code>, you could see the error message being overwritten with null.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685492624,"creation_date":1612802955,"answer_id":66105823,"question_id":66069181,"body_markdown":"If the code snippet of the question is accurate, pay attention to the fact that you are rethrowing the exception raised in the `prepareNotificationRequest` method, I assume in order to enable the retry mechanism:\r\n\r\n```java\r\nNotificationRequest request;\r\ntry {\r\n    request = prepareNotificationRequest(order);\r\n} catch (Exception e) {\r\n    notificationOrderCommonTransactionsService.saveNotificationOrderErrorMessage(order.getId(),\r\n                  e.getMessage());\r\n    throw e; // You are rethrowing the exception\r\n}\r\n```\r\n\r\nFor your comment, the exception thrown extends `RuntimeException`.\r\n\r\nAs the [Spring documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-rolling-back) indicates:\r\n\r\n&gt; In its default configuration, the Spring Framework’s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions. That is, when the thrown exception is an instance or subclass of RuntimeException. ( Error instances also, by default, result in a rollback). Checked exceptions that are thrown from a transactional method do not result in rollback in the default configuration.\r\n\r\nProbably Spring is performing rollback of the initial transaction, that one associated with `saveNotificationOrderErrorMessage`. I realize that this method is annotated as `@Transactional(propagation = Propagation.REQUIRES_NEW)` and that it [is initiating a new transaction](https://stackoverflow.com/questions/5789788/what-exactly-propagation-requires-new-means-using-spring-transaction-managemen), but perhaps the problem could be related with it. \r\n\r\nWhen the retry mechanism takes place, another transaction, associated with the invocation of the method `updateNotificationOrderRetryCount` is performed, and this transaction is successfully committed. This is the reason why the changes performed in this second method are properly committed.\r\n\r\nThe solution of the problem will depend on how your retry mechanism is implemented, but you can, for example, raise the original exception and, as a first step in the retry mechanism, trace the problem in the database or, raise a checked exception - Spring by default will not perform rollback for it - and handle it as appropriate.\r\n\r\nUpdate\r\n---\r\n\r\nAnother possible reason of the problem could be the transaction demarcations in the `send` method.\r\n\r\nThis method is annotated as `@Transactional`. As a consequence, Spring will initiate a new transaction for it.\r\n\r\nThe error occurs, and you trace the error in the database, in a new transaction but please, be aware that the initial transaction is still there.\r\n\r\nAlthough not described in your code, in some way, the retry mechanism takes place, and updates the retry count. It this operation is performed within the initial transaction (or a higher level one), due to the transaction boundaries, database isolation levels, and related stuff, it is possible that this transaction, the initial, fetch an actually outdated, but current from the transaction boundary point of view, `NotificationOrder`. And this information is the one that finally is committed, overwriting the  information of the error.\r\n\r\nOne simple solution, maybe for both possibilities, could be to include the error message in the `updateNotificationOrderRetryCount` method itself, reducing the problem to a single transaction:\r\n\r\n```java\r\n/* If appropriate, mark it as Transactional */\r\n@Transactional\r\npublic NotificationOrder updateNotificationOrderRetryCount(Long orderId, String errorMessage) {\r\n  NotificationOrder order = notificationRepository.findOne(orderId);\r\n  order.setRetryCount(order.getRetryCount() + 1);\r\n  order.setOrderStatus(NotificationOrderStatus.IN_PROGRESS);\r\n  order.setErrorDescription(errorMessage);\r\n  // It is unnecessary, all the changes performed in the entity within the transaction will be committed\r\n  // notificationRepository.save(order); \r\n  return order;\r\n}\r\n```","title":"Does a hibernate transaction commit changes asynchronously, independent of the program flow?","body":"<p>If the code snippet of the question is accurate, pay attention to the fact that you are rethrowing the exception raised in the <code>prepareNotificationRequest</code> method, I assume in order to enable the retry mechanism:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NotificationRequest request;\ntry {\n    request = prepareNotificationRequest(order);\n} catch (Exception e) {\n    notificationOrderCommonTransactionsService.saveNotificationOrderErrorMessage(order.getId(),\n                  e.getMessage());\n    throw e; // You are rethrowing the exception\n}\n</code></pre>\n<p>For your comment, the exception thrown extends <code>RuntimeException</code>.</p>\n<p>As the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#transaction-declarative-rolling-back\" rel=\"nofollow noreferrer\">Spring documentation</a> indicates:</p>\n<blockquote>\n<p>In its default configuration, the Spring Framework’s transaction infrastructure code marks a transaction for rollback only in the case of runtime, unchecked exceptions. That is, when the thrown exception is an instance or subclass of RuntimeException. ( Error instances also, by default, result in a rollback). Checked exceptions that are thrown from a transactional method do not result in rollback in the default configuration.</p>\n</blockquote>\n<p>Probably Spring is performing rollback of the initial transaction, that one associated with <code>saveNotificationOrderErrorMessage</code>. I realize that this method is annotated as <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> and that it <a href=\"https://stackoverflow.com/questions/5789788/what-exactly-propagation-requires-new-means-using-spring-transaction-managemen\">is initiating a new transaction</a>, but perhaps the problem could be related with it.</p>\n<p>When the retry mechanism takes place, another transaction, associated with the invocation of the method <code>updateNotificationOrderRetryCount</code> is performed, and this transaction is successfully committed. This is the reason why the changes performed in this second method are properly committed.</p>\n<p>The solution of the problem will depend on how your retry mechanism is implemented, but you can, for example, raise the original exception and, as a first step in the retry mechanism, trace the problem in the database or, raise a checked exception - Spring by default will not perform rollback for it - and handle it as appropriate.</p>\n<h2>Update</h2>\n<p>Another possible reason of the problem could be the transaction demarcations in the <code>send</code> method.</p>\n<p>This method is annotated as <code>@Transactional</code>. As a consequence, Spring will initiate a new transaction for it.</p>\n<p>The error occurs, and you trace the error in the database, in a new transaction but please, be aware that the initial transaction is still there.</p>\n<p>Although not described in your code, in some way, the retry mechanism takes place, and updates the retry count. It this operation is performed within the initial transaction (or a higher level one), due to the transaction boundaries, database isolation levels, and related stuff, it is possible that this transaction, the initial, fetch an actually outdated, but current from the transaction boundary point of view, <code>NotificationOrder</code>. And this information is the one that finally is committed, overwriting the  information of the error.</p>\n<p>One simple solution, maybe for both possibilities, could be to include the error message in the <code>updateNotificationOrderRetryCount</code> method itself, reducing the problem to a single transaction:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/* If appropriate, mark it as Transactional */\n@Transactional\npublic NotificationOrder updateNotificationOrderRetryCount(Long orderId, String errorMessage) {\n  NotificationOrder order = notificationRepository.findOne(orderId);\n  order.setRetryCount(order.getRetryCount() + 1);\n  order.setOrderStatus(NotificationOrderStatus.IN_PROGRESS);\n  order.setErrorDescription(errorMessage);\n  // It is unnecessary, all the changes performed in the entity within the transaction will be committed\n  // notificationRepository.save(order); \n  return order;\n}\n</code></pre>\n"}],"owner":{"account_id":2303363,"reputation":106,"user_id":2023172,"display_name":"byksl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685492624,"creation_date":1612551958,"question_id":66069181,"body_markdown":"I have a test method which sometimes fails during deploy and sometimes does not. I have never seen it fail on my local. You can see my code below.\r\n\r\nI have the following retry mechanism which is asynchronously called from another service:\r\n\r\n```\r\n@Transactional\r\npublic boolean retry(NotificationOrder order) {\r\n    notificationService.send(order);\r\n    return true;\r\n}\r\n\r\npublic void resolveOnFailedAttempt(Long orderId) {  //automatically called if `retry` method fails\r\n    notificationOrderCommonTransactionsService.updateNotificationOrderRetryCount(orderId);\r\n}\r\n```\r\nThe notification service is like this :\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class NotificationServiceImpl implements NotificationService {\r\n\r\n    private final NotificationOrderCommonTransactionsService notificationOrderCommonTransactionsService;\r\n\r\n    @Override\r\n    @Transactional\r\n    public NotificationResponse send(NotificationOrder order) {\r\n        NotificationRequest request;\r\n        try {\r\n            request = prepareNotificationRequest(order);\r\n        } catch (Exception e) {\r\n            notificationOrderCommonTransactionsService.saveNotificationOrderErrorMessage(order.getId(),\r\n                          e.getMessage());\r\n            throw e;\r\n        }\r\n\r\n        ...\r\n \r\n        return response;\r\n    }\r\n\r\n        private void prepareNotificationRequest(NotificationOrder order) {\r\n            ...\r\n            throw new Exception(&quot;ERROR&quot;);\r\n        }\r\n}\r\n\r\n\r\n```\r\n\r\nAnd the commmon transactions service is like this :\r\n```\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public NotificationOrder saveNotificationOrderErrorMessage(Long orderId, String errorMessage) {\r\n        NotificationOrder order = notificationRepository.findOne(orderId);\r\n        order.setErrorDescription(errorMessage);\r\n        notificationRepository.save(order);\r\n        return order;\r\n    }\r\n\r\n    public NotificationOrder updateNotificationOrderRetryCount(Long orderId) {\r\n        NotificationOrder order = notificationRepository.findOne(orderId);\r\n        order.setRetryCount(order.getRetryCount() + 1);\r\n        order.setOrderStatus(NotificationOrderStatus.IN_PROGRESS);\r\n        notificationRepository.save(order);\r\n        return order;\r\n    }\r\n```\r\n\r\nHere is my integration test :\r\n```\r\n    @Test\r\n    public void test() {\r\n \r\n        NotificationOrderRequest invalidRequest = invalidRequest();\r\n\r\n        ResponseEntity&lt;NotificationOrderResponse&gt; responseEntity = send(invalidRequest);\r\n\r\n        NotificationOrder notificationOrder = notificationOrderRepository.findOne(1);\r\n\r\n        softly.assertThat(notificationOrder.getOrderStatus().isEqualTo(NotificationOrderStatus.IN_PROGRESS))\r\n        softly.assertThat(notificationOrder.getErrorDescription())\r\n                 .isEqualTo(&quot;ERROR&quot;);  //This the line that fails.\r\n\r\n        softly.assertThat(responseEntity.getStatusCode()).isEqualTo(HttpStatus.OK);\r\n    }\r\n```\r\n\r\nIn the test method it is confirmed that `updateNotificationOrderRetryCount` is called and the order status is updated as `IN_PROGRESS`. However, the error message is null and I get the following assertion error : \r\n\r\n```\r\n    -- failure 1 --\r\n    Expecting:\r\n     &lt;null&gt;\r\n    to be equal to:\r\n     &lt;&quot;ERROR&quot;&gt;\r\n    but was not.\r\n```\r\n\r\nI expect `saveNotificationOrderErrorMessage` transaction to be completed and the changes to be committed before `updateNotificationOrderRetryCount` method is called. But it seems like it does work that way. Could anyone help me find out why my code behave like this ?\r\n\r\nHow can I reproduce this error on my local? And what can I do to fix it ?\r\n\r\nThanks.","title":"Does a hibernate transaction commit changes asynchronously, independent of the program flow?","body":"<p>I have a test method which sometimes fails during deploy and sometimes does not. I have never seen it fail on my local. You can see my code below.</p>\n<p>I have the following retry mechanism which is asynchronously called from another service:</p>\n<pre><code>@Transactional\npublic boolean retry(NotificationOrder order) {\n    notificationService.send(order);\n    return true;\n}\n\npublic void resolveOnFailedAttempt(Long orderId) {  //automatically called if `retry` method fails\n    notificationOrderCommonTransactionsService.updateNotificationOrderRetryCount(orderId);\n}\n</code></pre>\n<p>The notification service is like this :</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class NotificationServiceImpl implements NotificationService {\n\n    private final NotificationOrderCommonTransactionsService notificationOrderCommonTransactionsService;\n\n    @Override\n    @Transactional\n    public NotificationResponse send(NotificationOrder order) {\n        NotificationRequest request;\n        try {\n            request = prepareNotificationRequest(order);\n        } catch (Exception e) {\n            notificationOrderCommonTransactionsService.saveNotificationOrderErrorMessage(order.getId(),\n                          e.getMessage());\n            throw e;\n        }\n\n        ...\n \n        return response;\n    }\n\n        private void prepareNotificationRequest(NotificationOrder order) {\n            ...\n            throw new Exception(&quot;ERROR&quot;);\n        }\n}\n\n\n</code></pre>\n<p>And the commmon transactions service is like this :</p>\n<pre><code>    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public NotificationOrder saveNotificationOrderErrorMessage(Long orderId, String errorMessage) {\n        NotificationOrder order = notificationRepository.findOne(orderId);\n        order.setErrorDescription(errorMessage);\n        notificationRepository.save(order);\n        return order;\n    }\n\n    public NotificationOrder updateNotificationOrderRetryCount(Long orderId) {\n        NotificationOrder order = notificationRepository.findOne(orderId);\n        order.setRetryCount(order.getRetryCount() + 1);\n        order.setOrderStatus(NotificationOrderStatus.IN_PROGRESS);\n        notificationRepository.save(order);\n        return order;\n    }\n</code></pre>\n<p>Here is my integration test :</p>\n<pre><code>    @Test\n    public void test() {\n \n        NotificationOrderRequest invalidRequest = invalidRequest();\n\n        ResponseEntity&lt;NotificationOrderResponse&gt; responseEntity = send(invalidRequest);\n\n        NotificationOrder notificationOrder = notificationOrderRepository.findOne(1);\n\n        softly.assertThat(notificationOrder.getOrderStatus().isEqualTo(NotificationOrderStatus.IN_PROGRESS))\n        softly.assertThat(notificationOrder.getErrorDescription())\n                 .isEqualTo(&quot;ERROR&quot;);  //This the line that fails.\n\n        softly.assertThat(responseEntity.getStatusCode()).isEqualTo(HttpStatus.OK);\n    }\n</code></pre>\n<p>In the test method it is confirmed that <code>updateNotificationOrderRetryCount</code> is called and the order status is updated as <code>IN_PROGRESS</code>. However, the error message is null and I get the following assertion error :</p>\n<pre><code>    -- failure 1 --\n    Expecting:\n     &lt;null&gt;\n    to be equal to:\n     &lt;&quot;ERROR&quot;&gt;\n    but was not.\n</code></pre>\n<p>I expect <code>saveNotificationOrderErrorMessage</code> transaction to be completed and the changes to be committed before <code>updateNotificationOrderRetryCount</code> method is called. But it seems like it does work that way. Could anyone help me find out why my code behave like this ?</p>\n<p>How can I reproduce this error on my local? And what can I do to fix it ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","http","servlets","tcp","integration"],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337806131,"creation_date":1337806131,"answer_id":10727609,"question_id":10710772,"body_markdown":"One way to achieve this, is to embed Jetty into your main application. Here is a [tutorial][1].\r\n\r\nWith the embedded Jetty servlet container you can run standard Java web applications (WARs). At the same time in your main application you can listen to other TCP ports via a [ServerSocket][2].\r\n\r\n\r\n  [1]: http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/net/ServerSocket.html","title":"Combining http servlets with other TCP server in Java","body":"<p>One way to achieve this, is to embed Jetty into your main application. Here is a <a href=\"http://wiki.eclipse.org/Jetty/Tutorial/Embedding_Jetty\" rel=\"nofollow\">tutorial</a>.</p>\n\n<p>With the embedded Jetty servlet container you can run standard Java web applications (WARs). At the same time in your main application you can listen to other TCP ports via a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/ServerSocket.html\" rel=\"nofollow\">ServerSocket</a>.</p>\n"}],"owner":{"account_id":14129,"reputation":16062,"user_id":28802,"accept_rate":90,"display_name":"Manuel Araoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685492506,"creation_date":1337723858,"question_id":10710772,"body_markdown":"Is it possible to have a Java application listen to HTTP requests via servlets and to listen to other TCP port at the same time? Is there a standard way to do this?\r\n","title":"Combining http servlets with other TCP server in Java","body":"<p>Is it possible to have a Java application listen to HTTP requests via servlets and to listen to other TCP port at the same time? Is there a standard way to do this?</p>\n"},{"tags":["java","ajax","url","wicket"],"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":1,"creation_date":1309819065,"post_id":6576354,"comment_id":7755008,"body_markdown":"If you think about it, it would be a massive security flaw if browsers allowed anything like this.","body":"If you think about it, it would be a massive security flaw if browsers allowed anything like this."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309816787,"creation_date":1309816787,"answer_id":6576388,"question_id":6576354,"body_markdown":"No, it isn&#39;t. If you change the location in the browser, a new request is made to that URL.\r\n\r\n(You do that with `window.location.href = newUrl`, but the page reloads)","title":"Changing URL via AJAX using wicket","body":"<p>No, it isn't. If you change the location in the browser, a new request is made to that URL.</p>\n\n<p>(You do that with <code>window.location.href = newUrl</code>, but the page reloads)</p>\n"},{"tags":[],"owner":{"account_id":144614,"reputation":77217,"user_id":353802,"accept_rate":100,"display_name":"AlienWebguy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1309816791,"creation_date":1309816791,"answer_id":6576389,"question_id":6576354,"body_markdown":"The only part of the url you can change with javascript is the hash\r\n\r\nYou could change `localhost:8080/#/someUrl` to  `localhost:8080/#/otherUrl`\r\n\r\nDo this with `window.location.hash`\r\n\r\nHere&#39;s an example of a flash site which uses this concept to allow for deep-linking URL&#39;s: [http://www.2advanced.com][1]\r\n\r\n\r\n  [1]: http://www.2advanced.com","title":"Changing URL via AJAX using wicket","body":"<p>The only part of the url you can change with javascript is the hash</p>\n\n<p>You could change <code>localhost:8080/#/someUrl</code> to  <code>localhost:8080/#/otherUrl</code></p>\n\n<p>Do this with <code>window.location.hash</code></p>\n\n<p>Here's an example of a flash site which uses this concept to allow for deep-linking URL's: <a href=\"http://www.2advanced.com\" rel=\"nofollow\">http://www.2advanced.com</a></p>\n"},{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1309854355,"creation_date":1309854355,"answer_id":6579784,"question_id":6576354,"body_markdown":"Actually you can !\r\nBut this is not related to Wicket at all.\r\nThis is what the new History API in HTML5 is about.\r\nJust search for &quot;html5 History API example&quot; in Google and enjoy.","title":"Changing URL via AJAX using wicket","body":"<p>Actually you can !\nBut this is not related to Wicket at all.\nThis is what the new History API in HTML5 is about.\nJust search for \"html5 History API example\" in Google and enjoy.</p>\n"},{"tags":[],"owner":{"account_id":42068,"reputation":20631,"user_id":122441,"accept_rate":70,"display_name":"Hendy Irawan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1374833922,"creation_date":1374833922,"answer_id":17878801,"question_id":6576354,"body_markdown":"Help make this feature happen, vote (or contribute!) for https://issues.apache.org/jira/browse/WICKET-5290","title":"Changing URL via AJAX using wicket","body":"<p>Help make this feature happen, vote (or contribute!) for <a href=\"https://issues.apache.org/jira/browse/WICKET-5290\" rel=\"nofollow\">https://issues.apache.org/jira/browse/WICKET-5290</a></p>\n"}],"owner":{"account_id":14129,"reputation":16062,"user_id":28802,"accept_rate":90,"display_name":"Manuel Araoz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6576389,"answer_count":4,"score":2,"last_activity_date":1685492427,"creation_date":1309816452,"question_id":6576354,"body_markdown":"Is there a way to make an AJAX call alter the current page URL without redirecting or reloading the page, in Apache Wicket?  \r\n\r\nFor example, say we are in the URL:\r\n\r\n    localhost:8080/someUrl\r\n\r\nI&#39;d like that when I click an ajax link, some action is performed, and the URL changes to, say:\r\n\r\n    localhost:8080/otherUrl\r\n\r\nwithout redirecting, just changing the URL displayed in the browser.\r\nIs this even possible?\r\n","title":"Changing URL via AJAX using wicket","body":"<p>Is there a way to make an AJAX call alter the current page URL without redirecting or reloading the page, in Apache Wicket?</p>\n<p>For example, say we are in the URL:</p>\n<pre><code>localhost:8080/someUrl\n</code></pre>\n<p>I'd like that when I click an ajax link, some action is performed, and the URL changes to, say:</p>\n<pre><code>localhost:8080/otherUrl\n</code></pre>\n<p>without redirecting, just changing the URL displayed in the browser.\nIs this even possible?</p>\n"},{"tags":["java","arrays","console-application"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685492162,"creation_date":1685492162,"answer_id":76369369,"question_id":76367030,"body_markdown":"The error occurs with the _checkWin_ method parameters.\r\n\r\nThe _heightIndex_ and _widthIndex_ should be swapped.\r\n\r\n```java\r\nvoid checkWin(String[][] gb, String p, int widthIndex, int heightIndex)\r\n```\r\n\r\n```none\r\n_   _   _   _   _   _   _   \r\n_   _   _   _   _   _   _   \r\n_   _   _   _   _   _   _   \r\n_   _   _   _   _   _   _   \r\n_   _   _   _   _   _   2   \r\n_   _   _   _   _   _   2   \r\n1   1   1   1   _   _   2   \r\n1 3 0\r\nGame over. Player 1 wins!\r\n```","title":"Why is my Connect 4 recreation not counting consecutive pieces correctly?","body":"<p>The error occurs with the <em>checkWin</em> method parameters.</p>\n<p>The <em>heightIndex</em> and <em>widthIndex</em> should be swapped.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void checkWin(String[][] gb, String p, int widthIndex, int heightIndex)\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>_   _   _   _   _   _   _   \n_   _   _   _   _   _   _   \n_   _   _   _   _   _   _   \n_   _   _   _   _   _   _   \n_   _   _   _   _   _   2   \n_   _   _   _   _   _   2   \n1   1   1   1   _   _   2   \n1 3 0\nGame over. Player 1 wins!\n</code></pre>\n"}],"owner":{"account_id":28712260,"reputation":13,"user_id":21987543,"display_name":"Sam Stevens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76369369,"answer_count":1,"score":0,"last_activity_date":1685492162,"creation_date":1685465705,"question_id":76367030,"body_markdown":"I&#39;m coding in an IDE for my final Computer Science 1 assignment of the year. I can&#39;t figure out why when a player puts pieces next to each other, the horizontalLeft and horizontalRight variables aren&#39;t increasing? \r\n\r\n```\r\n//Sam Stevens\r\nimport java.util.*;\r\npublic class MyProgram\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        String[][] gameboard = new String[7][7];\r\n        //first value &quot;i&quot; is the height, second &quot;j&quot; is the width.\r\n        for(int i = 0; i&lt; gameboard.length; i++){\r\n        for(int j = 0; j&lt; gameboard[0].length; j++){\r\n        gameboard[i][j] = &quot;_&quot;;\r\n        }\r\n        }\r\n        //Initialize Gameboard\r\n        print(gameboard);\r\n        for(int i = 0; i &lt; 10; i++){\r\n        play(gameboard);\r\n        }\r\n        //this for loop makes the game last 10 turns\r\n    }\r\n        \r\n        public static void print(String[][] gb){\r\n            System.out.println(&quot;\\n&quot;);\r\n        for(int i = 0; i&lt; gb.length; i++){\r\n        for(int j = 0; j&lt; gb[0].length; j++){\r\n        System.out.printf(&quot;%-3s &quot;, gb[i][j]);\r\n        }\r\n        System.out.println();\r\n        }\r\n        }\r\n        //print out the gameboard\r\n    \r\n        public static void play(String[][] gb){\r\n            Scanner input = new Scanner(System.in);\r\n            boolean cont = true;\r\n            do{\r\n                System.out.println(&quot;Player 1, where would you like to go? (1,2,3,4,5,6,7)&quot;);\r\n                int p1choice = input.nextInt() - 1;\r\n                boolean moving = true;\r\n                int i = 6;\r\n                int j = p1choice;\r\n                int yIndex = 0;\r\n                do{\r\n                    if(i&gt;=0){\r\n                    if(gb[i][j] == &quot;_&quot;){\r\n                        gb[i][j] = &quot;1&quot;;\r\n                        moving = false;\r\n                        yIndex = i;\r\n                    }\r\n                    i--;\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Invalid move. Sucks to be you.&quot;);\r\n                        moving = false;\r\n                    }\r\n                }while(moving);\r\n                print(gb);\r\n                checkWin(gb, &quot;1&quot;, p1choice, yIndex);\r\n                \r\n                System.out.println(&quot;Player 2, where would you like to go? (1,2,3,4,5,6,7)&quot;);\r\n                int p2choice = input.nextInt() - 1;\r\n                moving = true;\r\n                i = 6;\r\n                j = p2choice;\r\n                int yIndexP2 = 0;\r\n                do{\r\n                    if(i&gt;=0){\r\n                    if(gb[i][j] == &quot;_&quot;){\r\n                        gb[i][j] = &quot;2&quot;;\r\n                        moving = false;\r\n                        yIndexP2 = i;\r\n                    }\r\n                    i--;\r\n                    }\r\n                    else{\r\n                        System.out.println(&quot;Invalid move. Sucks to be you.&quot;);\r\n                        moving = false;\r\n                    }\r\n                }while(moving);\r\n                print(gb);\r\n                checkWin(gb, &quot;2&quot;, p2choice, yIndexP2);\r\n            }while(!cont);\r\n        }\r\n        \r\n        public static void checkWin(String[][] gb, String p, int heightIndex, int widthIndex){\r\n            //p tells us which player we are checking for and we can use it as which piece we&#39;re looking for.\r\n            int horizontalLeft = 0;\r\n            int horizontalRight = 0;\r\n            int verticalUp = 0;\r\n            int verticalDown = 0;\r\n            \r\n            //check pieces to the left\r\n            boolean leftContinue = true;\r\n            if(widthIndex != 0){\r\n                int leftCount = 1;\r\n                do{\r\n                    if(gb[heightIndex][widthIndex - leftCount] == p){\r\n                        horizontalLeft ++;\r\n                        leftCount ++;\r\n                    }\r\n                    else{\r\n                        leftContinue = false;\r\n                    }\r\n                }while(leftContinue &amp;&amp; (widthIndex - leftCount &gt;= 0));\r\n            }\r\n            \r\n            //check pieces to the right\r\n            boolean rightContinue = true;\r\n            if(widthIndex != 6){\r\n                int rightCount = 1;\r\n                do{\r\n                    if(gb[heightIndex][widthIndex + rightCount] == p){\r\n                        horizontalRight ++;\r\n                        rightCount ++;\r\n                    }\r\n                    else{\r\n                        rightContinue = false;\r\n                    }\r\n                }while(rightContinue &amp;&amp; (widthIndex + rightCount &lt;= 6));\r\n            }\r\n            \r\n            System.out.println(p + &quot; &quot;+ horizontalLeft + &quot; &quot;+ horizontalRight);\r\n            //BELOW HERE SHOULD BE ONLY CHECK WIN\r\n            if(horizontalLeft + horizontalRight &gt;= 3){\r\n                System.out.println(&quot;Game over. Player &quot; + p + &quot; wins!&quot;);\r\n            }\r\n        }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried moving the &quot;leftCount/rightCount ++;&quot; lines, but when I do that, the game mysteriously hangs when a player puts two of their own pieces one on top of another strictly on the far right side. I&#39;m stumped. Apologies if I didn&#39;t format this question correctly, this is my first post.","title":"Why is my Connect 4 recreation not counting consecutive pieces correctly?","body":"<p>I'm coding in an IDE for my final Computer Science 1 assignment of the year. I can't figure out why when a player puts pieces next to each other, the horizontalLeft and horizontalRight variables aren't increasing?</p>\n<pre><code>//Sam Stevens\nimport java.util.*;\npublic class MyProgram\n{\n    public static void main(String[] args)\n    {\n        String[][] gameboard = new String[7][7];\n        //first value &quot;i&quot; is the height, second &quot;j&quot; is the width.\n        for(int i = 0; i&lt; gameboard.length; i++){\n        for(int j = 0; j&lt; gameboard[0].length; j++){\n        gameboard[i][j] = &quot;_&quot;;\n        }\n        }\n        //Initialize Gameboard\n        print(gameboard);\n        for(int i = 0; i &lt; 10; i++){\n        play(gameboard);\n        }\n        //this for loop makes the game last 10 turns\n    }\n        \n        public static void print(String[][] gb){\n            System.out.println(&quot;\\n&quot;);\n        for(int i = 0; i&lt; gb.length; i++){\n        for(int j = 0; j&lt; gb[0].length; j++){\n        System.out.printf(&quot;%-3s &quot;, gb[i][j]);\n        }\n        System.out.println();\n        }\n        }\n        //print out the gameboard\n    \n        public static void play(String[][] gb){\n            Scanner input = new Scanner(System.in);\n            boolean cont = true;\n            do{\n                System.out.println(&quot;Player 1, where would you like to go? (1,2,3,4,5,6,7)&quot;);\n                int p1choice = input.nextInt() - 1;\n                boolean moving = true;\n                int i = 6;\n                int j = p1choice;\n                int yIndex = 0;\n                do{\n                    if(i&gt;=0){\n                    if(gb[i][j] == &quot;_&quot;){\n                        gb[i][j] = &quot;1&quot;;\n                        moving = false;\n                        yIndex = i;\n                    }\n                    i--;\n                    }\n                    else{\n                        System.out.println(&quot;Invalid move. Sucks to be you.&quot;);\n                        moving = false;\n                    }\n                }while(moving);\n                print(gb);\n                checkWin(gb, &quot;1&quot;, p1choice, yIndex);\n                \n                System.out.println(&quot;Player 2, where would you like to go? (1,2,3,4,5,6,7)&quot;);\n                int p2choice = input.nextInt() - 1;\n                moving = true;\n                i = 6;\n                j = p2choice;\n                int yIndexP2 = 0;\n                do{\n                    if(i&gt;=0){\n                    if(gb[i][j] == &quot;_&quot;){\n                        gb[i][j] = &quot;2&quot;;\n                        moving = false;\n                        yIndexP2 = i;\n                    }\n                    i--;\n                    }\n                    else{\n                        System.out.println(&quot;Invalid move. Sucks to be you.&quot;);\n                        moving = false;\n                    }\n                }while(moving);\n                print(gb);\n                checkWin(gb, &quot;2&quot;, p2choice, yIndexP2);\n            }while(!cont);\n        }\n        \n        public static void checkWin(String[][] gb, String p, int heightIndex, int widthIndex){\n            //p tells us which player we are checking for and we can use it as which piece we're looking for.\n            int horizontalLeft = 0;\n            int horizontalRight = 0;\n            int verticalUp = 0;\n            int verticalDown = 0;\n            \n            //check pieces to the left\n            boolean leftContinue = true;\n            if(widthIndex != 0){\n                int leftCount = 1;\n                do{\n                    if(gb[heightIndex][widthIndex - leftCount] == p){\n                        horizontalLeft ++;\n                        leftCount ++;\n                    }\n                    else{\n                        leftContinue = false;\n                    }\n                }while(leftContinue &amp;&amp; (widthIndex - leftCount &gt;= 0));\n            }\n            \n            //check pieces to the right\n            boolean rightContinue = true;\n            if(widthIndex != 6){\n                int rightCount = 1;\n                do{\n                    if(gb[heightIndex][widthIndex + rightCount] == p){\n                        horizontalRight ++;\n                        rightCount ++;\n                    }\n                    else{\n                        rightContinue = false;\n                    }\n                }while(rightContinue &amp;&amp; (widthIndex + rightCount &lt;= 6));\n            }\n            \n            System.out.println(p + &quot; &quot;+ horizontalLeft + &quot; &quot;+ horizontalRight);\n            //BELOW HERE SHOULD BE ONLY CHECK WIN\n            if(horizontalLeft + horizontalRight &gt;= 3){\n                System.out.println(&quot;Game over. Player &quot; + p + &quot; wins!&quot;);\n            }\n        }\n}\n</code></pre>\n<p>I've tried moving the &quot;leftCount/rightCount ++;&quot; lines, but when I do that, the game mysteriously hangs when a player puts two of their own pieces one on top of another strictly on the far right side. I'm stumped. Apologies if I didn't format this question correctly, this is my first post.</p>\n"},{"tags":["java","postgresql","prepared-statement"],"comments":[{"owner":{"account_id":171331,"reputation":310904,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"score":1,"creation_date":1401524056,"post_id":23967770,"comment_id":36926917,"body_markdown":"It is helpful that you included the code, but it would be really good if you showed *the exact text of the error message* (including stack trace). Your code also looks strangely indented. Finally, you really shouldn&#39;t be doing SQL in a loop like this - just do a single `SELECT` that finds all 1000 results with an appropriate `WHERE` clause (join on a `VALUES` list or temp table, ...)","body":"It is helpful that you included the code, but it would be really good if you showed <i>the exact text of the error message</i> (including stack trace). Your code also looks strangely indented. Finally, you really shouldn&#39;t be doing SQL in a loop like this - just do a single <code>SELECT</code> that finds all 1000 results with an appropriate <code>WHERE</code> clause (join on a <code>VALUES</code> list or temp table, ...)"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685491819,"post_id":23967770,"comment_id":134666800,"body_markdown":"You&#39;re not checking the return from `idResultSet.next()`: If the query returns no rows your code will explode.","body":"You&#39;re not checking the return from <code>idResultSet.next()</code>: If the query returns no rows your code will explode."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401525105,"creation_date":1401524761,"answer_id":23967986,"question_id":23967770,"body_markdown":"The code should have looked like this (in Java 7 or higher):\r\n\r\n    String docno = &quot;[101,102,103,104]&quot;;\r\n    String[] minoutid = new String[1000];\r\n    String documentno = docno.substring(1, docno.length() - 1);\r\n    String[] split = documentno.split(&quot;,&quot;);\r\n\r\n    String sql = &quot;select id from mytable where fid=?&quot;;\r\n    try (PreparedStatement outid = conn.prepareStatement(sql)) {\r\n        for (int i = 0; i &lt; split.length; i++) {\r\n            int fid = Integer.parseInt(split[i]);\r\n            outid.setInt(1, fid);\r\n            try (ResultSet idResultSet = outid.executeQuery()) {\r\n                if (idResultSet.next()) {\r\n                    String id = idResultSet.getString(&quot;id&quot;);\r\n                    final List&lt;Object&gt; parameters = new ArrayList&lt;&gt;();\r\n                    parameters.add(null);\r\n                    parameters.add(id);\r\n\r\n                    myfunction(parameters);\r\n                }\r\n            }      \r\n        }\r\n    }\r\n\r\nThis closes prepared statement and result set. Also I have used `setInt` instead of `setString` (maybe erroneously). But that could have given the error, as otherwise everything worked ia a way. Give the error if this does not help.\r\n","title":"ResultSet not positioned properly, perhaps you need to call next in java","body":"<p>The code should have looked like this (in Java 7 or higher):</p>\n\n<pre><code>String docno = \"[101,102,103,104]\";\nString[] minoutid = new String[1000];\nString documentno = docno.substring(1, docno.length() - 1);\nString[] split = documentno.split(\",\");\n\nString sql = \"select id from mytable where fid=?\";\ntry (PreparedStatement outid = conn.prepareStatement(sql)) {\n    for (int i = 0; i &lt; split.length; i++) {\n        int fid = Integer.parseInt(split[i]);\n        outid.setInt(1, fid);\n        try (ResultSet idResultSet = outid.executeQuery()) {\n            if (idResultSet.next()) {\n                String id = idResultSet.getString(\"id\");\n                final List&lt;Object&gt; parameters = new ArrayList&lt;&gt;();\n                parameters.add(null);\n                parameters.add(id);\n\n                myfunction(parameters);\n            }\n        }      \n    }\n}\n</code></pre>\n\n<p>This closes prepared statement and result set. Also I have used <code>setInt</code> instead of <code>setString</code> (maybe erroneously). But that could have given the error, as otherwise everything worked ia a way. Give the error if this does not help.</p>\n"},{"tags":[],"owner":{"account_id":4440016,"reputation":9,"user_id":3614760,"accept_rate":33,"display_name":"user3614760"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401625038,"creation_date":1401625038,"answer_id":23979776,"question_id":23967770,"body_markdown":"From second string a space was added in each string. I am using POSTGREYSQL so each space will take it as string. So i elimiate the space of string by trim().Now working fine. Thank you all","title":"ResultSet not positioned properly, perhaps you need to call next in java","body":"<p>From second string a space was added in each string. I am using POSTGREYSQL so each space will take it as string. So i elimiate the space of string by trim().Now working fine. Thank you all</p>\n"}],"owner":{"account_id":4440016,"reputation":9,"user_id":3614760,"accept_rate":33,"display_name":"user3614760"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1482,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1685491164,"creation_date":1401522670,"question_id":23967770,"body_markdown":"I am getting `ResultSet` not positioned properly, perhaps you need to call next in java error when i try execute following code. Please anyone help me\r\n\r\n    PreparedStatement m_inoutid = null;\r\n     docno=&quot;[101,102,103,104]&quot;;\r\n     String minoutid[]=new String[1000];\r\n     String documentno = docno.substring(1, docno.length() - 1);\r\n     List&lt;String&gt; docnumbers = new ArrayList&lt;String&gt;();\r\n     String[] split = documentno.split(&quot;,&quot;);\r\n     StringBuilder sb = new StringBuilder();\r\n     for (int i = 0; i &lt; split.length; i++) {\r\n    \r\n      String sql = &quot;select id from mytable where fid=?&quot;;\r\n    \r\n       outid = conn.prepareStatement(sql);\r\n       String  idfromquery=split[i];\r\n        outid.setString(1, idfromquery);\r\n        ResultSet idResultSet = outid.executeQuery();\r\n        idResultSet.next();\r\n    \r\n        id = idResultSet.getString(&quot;id&quot;);\r\n    \r\n       final List&lt;Object&gt; parameters = new ArrayList&lt;Object&gt;();\r\n       parameters.add(null);\r\n       parameters.add(id);\r\n    \r\n       myfunction(parameters);\r\n        }","title":"ResultSet not positioned properly, perhaps you need to call next in java","body":"<p>I am getting <code>ResultSet</code> not positioned properly, perhaps you need to call next in java error when i try execute following code. Please anyone help me</p>\n\n<pre><code>PreparedStatement m_inoutid = null;\n docno=\"[101,102,103,104]\";\n String minoutid[]=new String[1000];\n String documentno = docno.substring(1, docno.length() - 1);\n List&lt;String&gt; docnumbers = new ArrayList&lt;String&gt;();\n String[] split = documentno.split(\",\");\n StringBuilder sb = new StringBuilder();\n for (int i = 0; i &lt; split.length; i++) {\n\n  String sql = \"select id from mytable where fid=?\";\n\n   outid = conn.prepareStatement(sql);\n   String  idfromquery=split[i];\n    outid.setString(1, idfromquery);\n    ResultSet idResultSet = outid.executeQuery();\n    idResultSet.next();\n\n    id = idResultSet.getString(\"id\");\n\n   final List&lt;Object&gt; parameters = new ArrayList&lt;Object&gt;();\n   parameters.add(null);\n   parameters.add(id);\n\n   myfunction(parameters);\n    }\n</code></pre>\n"},{"tags":["java","compiler-construction","jvm","jit","vm-implementation"],"comments":[{"owner":{"account_id":156914,"reputation":9897,"user_id":374499,"accept_rate":80,"display_name":"Chander Shivdasani"},"score":0,"creation_date":1328156582,"post_id":9105505,"comment_id":11948999,"body_markdown":"This blog is another good resource... http://www.azulsystems.com/blog/cliff/2011-11-22-what-the-heck-is-osr-and-why-is-it-bad-or-good","body":"This blog is another good resource... <a href=\"http://www.azulsystems.com/blog/cliff/2011-11-22-what-the-heck-is-osr-and-why-is-it-bad-or-good\" rel=\"nofollow noreferrer\">azulsystems.com/blog/cliff/&hellip;</a>"},{"owner":{"account_id":4953530,"reputation":3840,"user_id":4114447,"accept_rate":86,"display_name":"Dan M."},"score":0,"creation_date":1653548623,"post_id":9105505,"comment_id":127880042,"body_markdown":"working link: https://web.archive.org/web/20140126120326/http://www.azulsystems.com/blog/cliff/2011-11-22-what-the-heck-is-osr-and-why-is-it-bad-or-good","body":"working link: <a href=\"https://web.archive.org/web/20140126120326/http://www.azulsystems.com/blog/cliff/2011-11-22-what-the-heck-is-osr-and-why-is-it-bad-or-good\" rel=\"nofollow noreferrer\">web.archive.org/web/20140126120326/http://www.azulsystems.co&zwnj;&#8203;m/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1572268890,"creation_date":1328143282,"answer_id":9105589,"question_id":9105505,"body_markdown":"Yes, that&#39;s pretty much it. [Just-in-time compilation](http://en.wikipedia.org/wiki/Just-in-time_compilation) can improve performance by compiling &quot;hot spots&quot; (spots of bytecode that are known / supposed to execute very often) of bytecode to native instructions. [On-Stack Replacement](http://java.sun.com/developer/technicalArticles/Networking/HotSpot/onstack.html) complements JIT capabilities by replacing long running interpreted &quot;hot&quot; bytecode by it&#39;s compiled version when it becomes available. The mentioned [On-Stack Replacement article](https://web.archive.org/web/20120221015612/http://java.sun.com/developer/technicalArticles/Networking/HotSpot/onstack.html) shows a nice example where JIT compilation would not be very useful without OSR. ","title":"Differences between Just in Time compilation and On Stack Replacement","body":"<p>Yes, that's pretty much it. <a href=\"http://en.wikipedia.org/wiki/Just-in-time_compilation\" rel=\"noreferrer\">Just-in-time compilation</a> can improve performance by compiling \"hot spots\" (spots of bytecode that are known / supposed to execute very often) of bytecode to native instructions. <a href=\"http://java.sun.com/developer/technicalArticles/Networking/HotSpot/onstack.html\" rel=\"noreferrer\">On-Stack Replacement</a> complements JIT capabilities by replacing long running interpreted \"hot\" bytecode by it's compiled version when it becomes available. The mentioned <a href=\"https://web.archive.org/web/20120221015612/http://java.sun.com/developer/technicalArticles/Networking/HotSpot/onstack.html\" rel=\"noreferrer\">On-Stack Replacement article</a> shows a nice example where JIT compilation would not be very useful without OSR. </p>\n"},{"tags":[],"owner":{"account_id":1416,"reputation":29092,"user_id":1891,"accept_rate":80,"display_name":"Jay Conrod"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1359487383,"creation_date":1328145620,"answer_id":9105846,"question_id":9105505,"body_markdown":"In general, *Just-in-time* compilation refers to compiling native code at runtime and executing it instead of (or in addition to) interpreting. Some VMs, such as Google V8, don&#39;t even have an interpreter; they JIT compile every function that gets executed (with varying degrees of optimization).\r\n\r\nOn Stack Replacement (OSR) is a technique for switching between different implementations of the same function. For example, you could use OSR to switch from interpreted or unoptimized code to JITed code as soon as it finishes compiling.\r\n\r\nOSR is useful in situations where you identify a function as &quot;hot&quot; while it is running. This might not necessarily be because the function gets called frequently; it might be called only once, but it spends a lot of time in a big loop which could benefit from optimization. When OSR occurs, the VM is paused, and the stack frame for the target function is replaced by an equivalent frame which may have variables in different locations. \r\n\r\nOSR can also occur in the other direction: from optimized code to unoptimized code or interpreted code. Optimized code may make some assumptions about the runtime behavior of the program based on past behavior. For instance, you could convert a virtual or dynamic method call into a static call if you&#39;ve only ever seen one type of receiver object. If it turns out later that these assumptions were wrong, OSR can be used to fall back to a more conservative implementation: the optimized stack frame gets converted into an unoptimized stack frame. If the VM supports inlining, you might even end up converting an optimized stack frame into *several* unoptimized stack frames.","title":"Differences between Just in Time compilation and On Stack Replacement","body":"<p>In general, <em>Just-in-time</em> compilation refers to compiling native code at runtime and executing it instead of (or in addition to) interpreting. Some VMs, such as Google V8, don't even have an interpreter; they JIT compile every function that gets executed (with varying degrees of optimization).</p>\n\n<p>On Stack Replacement (OSR) is a technique for switching between different implementations of the same function. For example, you could use OSR to switch from interpreted or unoptimized code to JITed code as soon as it finishes compiling.</p>\n\n<p>OSR is useful in situations where you identify a function as \"hot\" while it is running. This might not necessarily be because the function gets called frequently; it might be called only once, but it spends a lot of time in a big loop which could benefit from optimization. When OSR occurs, the VM is paused, and the stack frame for the target function is replaced by an equivalent frame which may have variables in different locations. </p>\n\n<p>OSR can also occur in the other direction: from optimized code to unoptimized code or interpreted code. Optimized code may make some assumptions about the runtime behavior of the program based on past behavior. For instance, you could convert a virtual or dynamic method call into a static call if you've only ever seen one type of receiver object. If it turns out later that these assumptions were wrong, OSR can be used to fall back to a more conservative implementation: the optimized stack frame gets converted into an unoptimized stack frame. If the VM supports inlining, you might even end up converting an optimized stack frame into <em>several</em> unoptimized stack frames.</p>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685490973,"creation_date":1685490391,"answer_id":76369271,"question_id":9105505,"body_markdown":"JIT is just.. looks for number of method invocations, and if it crosses a threshold, (-XX:CompileThreshold=&lt;number&gt;) it compiles (to machine code/ native) and caches the method. On next invocation, the compiled version will invoke.&lt;br&gt;\r\nOSR is interesting. Supposing a gigantic for loop is running in interpret mode. JVM decides to compile at some point of time when it has crossed the compile threshold. So while the loop is still running, its interpreted version can get replaced with a compiled to native version while the code is still running!&lt;br&gt;\r\nSo essentially it is exactly what it says. Replacing interpreted code, which is still running on stack, while it is running, with compiled code.&lt;br&gt;\r\nThis can also result in an interesting but benign issue called &#39;who ate my variable&#39;. See [who ate my variable][1]\r\n\r\n\r\n  [1]: https://jonisalonen.com/2012/can-your-interpreter-do-this/","title":"Differences between Just in Time compilation and On Stack Replacement","body":"<p>JIT is just.. looks for number of method invocations, and if it crosses a threshold, (-XX:CompileThreshold=) it compiles (to machine code/ native) and caches the method. On next invocation, the compiled version will invoke.<br>\nOSR is interesting. Supposing a gigantic for loop is running in interpret mode. JVM decides to compile at some point of time when it has crossed the compile threshold. So while the loop is still running, its interpreted version can get replaced with a compiled to native version while the code is still running!<br>\nSo essentially it is exactly what it says. Replacing interpreted code, which is still running on stack, while it is running, with compiled code.<br>\nThis can also result in an interesting but benign issue called 'who ate my variable'. See <a href=\"https://jonisalonen.com/2012/can-your-interpreter-do-this/\" rel=\"nofollow noreferrer\">who ate my variable</a></p>\n"}],"owner":{"account_id":156914,"reputation":9897,"user_id":374499,"accept_rate":80,"display_name":"Chander Shivdasani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11735,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":9105846,"answer_count":3,"score":56,"last_activity_date":1685490973,"creation_date":1328142579,"question_id":9105505,"body_markdown":"Both of them pretty much do the same thing. Identify that the method is hot and compile it instead of interpreting. With OSR, you just move to the compiled version right after it gets compiled, unlike with JIT, where the compiled code gets called when the method is called for the second time. \r\n\r\nOther than this, are there any other differences?","title":"Differences between Just in Time compilation and On Stack Replacement","body":"<p>Both of them pretty much do the same thing. Identify that the method is hot and compile it instead of interpreting. With OSR, you just move to the compiled version right after it gets compiled, unlike with JIT, where the compiled code gets called when the method is called for the second time. </p>\n\n<p>Other than this, are there any other differences?</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456786392,"creation_date":1456786392,"answer_id":35711366,"question_id":35711173,"body_markdown":"The reason of the exception in this line\r\n\r\n    if (BF.nextLine().equals(boysNames.get(i))) \r\n\r\nyou read a line and if equation isn&#39;t `true` in else branch you call `BF.nextLine()` again. So sometimes you read line twice but you call `hasNextLine()` only once .\r\n\r\n**Solution:** read line only one time before `if` statement.","title":"Why won&#39;t my method read in every value from a file?","body":"<p>The reason of the exception in this line</p>\n\n<pre><code>if (BF.nextLine().equals(boysNames.get(i))) \n</code></pre>\n\n<p>you read a line and if equation isn't <code>true</code> in else branch you call <code>BF.nextLine()</code> again. So sometimes you read line twice but you call <code>hasNextLine()</code> only once .</p>\n\n<p><strong>Solution:</strong> read line only one time before <code>if</code> statement.</p>\n"}],"owner":{"account_id":7304132,"reputation":1,"user_id":5565663,"display_name":"M.Pestonit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685490654,"creation_date":1456785557,"question_id":35711173,"body_markdown":"    public static int getBoys(ArrayList&lt;String&gt; boysNames, Scanner s) throws IOException {\r\n        // Getting boys file location\r\n        System.out.println(&quot;Please enter the file name containing the the boys names.&quot;);\r\n        String boyFileLocation = s.nextLine();\r\n\r\n        // Opening the file containing the names of boys\r\n        File boyFile = new File(boyFileLocation);\r\n        Scanner BF = new Scanner(boyFile);\r\n        int initialBoyCount = 0;\r\n        int i = 0;\r\n        boysNames.add(BF.nextLine());\r\n\r\n        while (BF.hasNextLine()) {\r\n            if (BF.nextLine().equals(boysNames.get(i))) {\r\n\r\n            } else {\r\n                boysNames.add(BF.nextLine());\r\n                initialBoyCount++;\r\n                i++;\r\n                System.out.println(boysNames.get(i));\r\n            }\r\n        }\r\n\r\n        return (initialBoyCount);\r\n    }\r\n\r\n\r\nI am trying to read in from a file a list of names and add them to an array list. However there are duplicates of certain names and i am only suppoused to keep the unique ones (If if already exists don&#39;t add it again). However, I figured out that it is only giving me every other name. Starting with 2, and giving me the following errors.\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n    \tat java.util.Scanner.nextLine(Scanner.java:1540)\r\n    \tat namesList.namesList.getBoys(namesList.java:53)\r\n    \tat namesList.namesList.main(namesList.java:27)","title":"Why won&#39;t my method read in every value from a file?","body":"<pre><code>public static int getBoys(ArrayList&lt;String&gt; boysNames, Scanner s) throws IOException {\n    // Getting boys file location\n    System.out.println(\"Please enter the file name containing the the boys names.\");\n    String boyFileLocation = s.nextLine();\n\n    // Opening the file containing the names of boys\n    File boyFile = new File(boyFileLocation);\n    Scanner BF = new Scanner(boyFile);\n    int initialBoyCount = 0;\n    int i = 0;\n    boysNames.add(BF.nextLine());\n\n    while (BF.hasNextLine()) {\n        if (BF.nextLine().equals(boysNames.get(i))) {\n\n        } else {\n            boysNames.add(BF.nextLine());\n            initialBoyCount++;\n            i++;\n            System.out.println(boysNames.get(i));\n        }\n    }\n\n    return (initialBoyCount);\n}\n</code></pre>\n\n<p>I am trying to read in from a file a list of names and add them to an array list. However there are duplicates of certain names and i am only suppoused to keep the unique ones (If if already exists don't add it again). However, I figured out that it is only giving me every other name. Starting with 2, and giving me the following errors.</p>\n\n<pre><code>Exception in thread \"main\" java.util.NoSuchElementException: No line found\n    at java.util.Scanner.nextLine(Scanner.java:1540)\n    at namesList.namesList.getBoys(namesList.java:53)\n    at namesList.namesList.main(namesList.java:27)\n</code></pre>\n"},{"tags":["java","windows-8","compilation","javac"],"comments":[{"owner":{"account_id":894139,"reputation":1214,"user_id":931794,"accept_rate":100,"display_name":"Max DeLiso"},"score":0,"creation_date":1363971125,"post_id":15575801,"comment_id":22079756,"body_markdown":"can you start a shell, type `echo %PATH%` and post results?","body":"can you start a shell, type <code>echo %PATH%</code> and post results?"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":5,"creation_date":1363971185,"post_id":15575801,"comment_id":22079787,"body_markdown":"What is the error that you see?  Saying &quot;I can not get [it] to work&quot; doesn&#39;t tell us anything about the problem.","body":"What is the error that you see?  Saying &quot;I can not get [it] to work&quot; doesn&#39;t tell us anything about the problem."},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":0,"creation_date":1363971609,"post_id":15575801,"comment_id":22080026,"body_markdown":"The double semicolons might be a problem.","body":"The double semicolons might be a problem."},{"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"score":0,"creation_date":1363971745,"post_id":15575801,"comment_id":22080103,"body_markdown":"Do you have an extra space in you path? I can see: Pr ogram Files there...","body":"Do you have an extra space in you path? I can see: Pr ogram Files there..."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1363971767,"post_id":15575801,"comment_id":22080115,"body_markdown":"https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows","body":"<a href=\"https://confluence.atlassian.com/display/DOC/Setting+the+JAVA_HOME+Variable+in+Windows\" rel=\"nofollow noreferrer\">confluence.atlassian.com/display/DOC/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363971379,"creation_date":1363971379,"answer_id":15575902,"question_id":15575801,"body_markdown":"Start off by opening a cmd.exe session, changing directory to the &quot;program files&quot; directory that has the javac.exe executable and running .\\javac.exe.\r\n\r\nIf that doesn&#39;t work, reinstall java.  If that works, odds are you will find (in doing that task) that you&#39;ve installed a 64 bit `javac.exe`, or a slightly different release number of `javac.exe`, or in a different drive, etc. and selecting the right entry in your path will become child&#39;s play.\r\n\r\nOnly use the semicolon _between_ directories in the PATH environment variable, and remember that in _some_ systems, you need to log out and log back in before the new environment variable is accessible to _all_ environments.","title":"Javac is not found","body":"<p>Start off by opening a cmd.exe session, changing directory to the \"program files\" directory that has the javac.exe executable and running .\\javac.exe.</p>\n\n<p>If that doesn't work, reinstall java.  If that works, odds are you will find (in doing that task) that you've installed a 64 bit <code>javac.exe</code>, or a slightly different release number of <code>javac.exe</code>, or in a different drive, etc. and selecting the right entry in your path will become child's play.</p>\n\n<p>Only use the semicolon <em>between</em> directories in the PATH environment variable, and remember that in <em>some</em> systems, you need to log out and log back in before the new environment variable is accessible to <em>all</em> environments.</p>\n"},{"tags":[],"owner":{"account_id":2361026,"reputation":7058,"user_id":2067704,"display_name":"Sean Landsman"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1363971794,"creation_date":1363971794,"answer_id":15576035,"question_id":15575801,"body_markdown":"As far as I can see you have the `JRE` in your `PATH`, but not the `JDK`.\r\n\r\nFrom a command prompt try this:\r\n\r\n    set PATH=%PATH%;C:\\Program Files (x86)\\Java\\jdk1.7.0_17\\bin\r\n\r\nThen try `javac` again - if this works you&#39;ll need to permanently modify your environment variables to have `PATH` include the `JDK` too.","title":"Javac is not found","body":"<p>As far as I can see you have the <code>JRE</code> in your <code>PATH</code>, but not the <code>JDK</code>.</p>\n\n<p>From a command prompt try this:</p>\n\n<pre><code>set PATH=%PATH%;C:\\Program Files (x86)\\Java\\jdk1.7.0_17\\bin\n</code></pre>\n\n<p>Then try <code>javac</code> again - if this works you'll need to permanently modify your environment variables to have <code>PATH</code> include the <code>JDK</code> too.</p>\n"},{"tags":[],"owner":{"account_id":1760367,"reputation":4807,"user_id":1607660,"accept_rate":70,"display_name":"FazoM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363971878,"creation_date":1363971878,"answer_id":15576063,"question_id":15575801,"body_markdown":"You don&#39;t have jdk1.7.0_17 in your PATH - check again.\r\nThere is only JRE which may not contain &#39;javac&#39; compiler.\r\n\r\nBesides it is best to set JAVA_HOME variable, and then include it in PATH.","title":"Javac is not found","body":"<p>You don't have jdk1.7.0_17 in your PATH - check again.\nThere is only JRE which may not contain 'javac' compiler.</p>\n\n<p>Besides it is best to set JAVA_HOME variable, and then include it in PATH.</p>\n"},{"tags":[],"owner":{"account_id":2496612,"reputation":15,"user_id":2172826,"display_name":"eta99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365437472,"creation_date":1365436894,"answer_id":15883821,"question_id":15575801,"body_markdown":"I&#39;m searched many answers that suggest me to type in cmd: \r\n        \r\n    set path = &quot;%path%;c:program files\\java\\jdk1.7.0\\bin&quot;\r\n\r\nbut this is WRONG!\r\n\r\n**the right solution** is that you leave &quot;set&quot; and just type\r\n\r\n    path = %path%;c:program files\\java\\jdk1.7.0\\bin\r\n\r\n\r\n*P/s: of course you have to replace &quot;jdk1.7.0&quot; folder by your current java version folder. This works well on win 7 32bit, but I think it also works on win 8 - try it!*","title":"Javac is not found","body":"<p>I'm searched many answers that suggest me to type in cmd: </p>\n\n<pre><code>set path = \"%path%;c:program files\\java\\jdk1.7.0\\bin\"\n</code></pre>\n\n<p>but this is WRONG!</p>\n\n<p><strong>the right solution</strong> is that you leave \"set\" and just type</p>\n\n<pre><code>path = %path%;c:program files\\java\\jdk1.7.0\\bin\n</code></pre>\n\n<p><em>P/s: of course you have to replace \"jdk1.7.0\" folder by your current java version folder. This works well on win 7 32bit, but I think it also works on win 8 - try it!</em></p>\n"},{"tags":[],"owner":{"account_id":5853314,"reputation":291,"user_id":4611364,"display_name":"user4611364"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1637531163,"creation_date":1424970884,"answer_id":28748647,"question_id":15575801,"body_markdown":" 1. Go to my computer;\r\n 2. Right click properties;\r\n 3. Go to advanced system settings;\r\n 4. Go to environment variables;\r\n 5. In user variables for user click on new(top new button, not on system variables);\r\n 6. Set variable name as: `Path`\r\n 7. Set the value of that variable to: `C:\\Program Files\\Java\\jdk1.7.0_76\\bin` \r\n 8. Click ok;\r\n 9. Click ok;\r\n 10. Click ok. \r\n\r\nNow you&#39;re set. Type `javac` in cmd. All javac options will be displayed.\r\n\r\n**EDIT:** As @MediaMaker pointed out, after completing the above steps, you need to open a new command prompt for it to work.","title":"Javac is not found","body":"<ol>\n<li>Go to my computer;</li>\n<li>Right click properties;</li>\n<li>Go to advanced system settings;</li>\n<li>Go to environment variables;</li>\n<li>In user variables for user click on new(top new button, not on system variables);</li>\n<li>Set variable name as: <code>Path</code></li>\n<li>Set the value of that variable to: <code>C:\\Program Files\\Java\\jdk1.7.0_76\\bin</code></li>\n<li>Click ok;</li>\n<li>Click ok;</li>\n<li>Click ok.</li>\n</ol>\n<p>Now you're set. Type <code>javac</code> in cmd. All javac options will be displayed.</p>\n<p><strong>EDIT:</strong> As @MediaMaker pointed out, after completing the above steps, you need to open a new command prompt for it to work.</p>\n"},{"tags":[],"owner":{"account_id":7185742,"reputation":1448,"user_id":5487769,"accept_rate":67,"display_name":"adrian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445903135,"creation_date":1445903135,"answer_id":33357547,"question_id":15575801,"body_markdown":"do this:\r\n1. run CMD (WIN+R then type in CMD)\r\n2. Type this:\r\n\r\nset PATH=%PATH%; java installation path\\bin\r\n\r\nReplace &quot;java installation path&quot; with the directory JDK is installed in, such as C:\\Program Files (x86)\\Java. Be sure to add the \\bin after the JDK directory, because this points to &quot;javac&quot; and &quot;java&quot; (BIN stands for &quot;binaries&quot;)\r\n\r\nThis way, you can run the Java compiler from anywhere. It is impossible to CD to the JDK directory because it has a space in Program Files, and DOS will not let you CD to these directories. ","title":"Javac is not found","body":"<p>do this:\n1. run CMD (WIN+R then type in CMD)\n2. Type this:</p>\n\n<p>set PATH=%PATH%; java installation path\\bin</p>\n\n<p>Replace \"java installation path\" with the directory JDK is installed in, such as C:\\Program Files (x86)\\Java. Be sure to add the \\bin after the JDK directory, because this points to \"javac\" and \"java\" (BIN stands for \"binaries\")</p>\n\n<p>This way, you can run the Java compiler from anywhere. It is impossible to CD to the JDK directory because it has a space in Program Files, and DOS will not let you CD to these directories. </p>\n"},{"tags":[],"owner":{"account_id":7089875,"reputation":21,"user_id":5425442,"display_name":"user5425442"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454125871,"creation_date":1454123095,"answer_id":35097499,"question_id":15575801,"body_markdown":"Easiest way: search for javac.exe in windows search bar. Then copy and paste the entire folder name and add it into the environmental variables path in advanced system settings.","title":"Javac is not found","body":"<p>Easiest way: search for javac.exe in windows search bar. Then copy and paste the entire folder name and add it into the environmental variables path in advanced system settings.</p>\n"},{"tags":[],"owner":{"account_id":15872866,"reputation":9,"user_id":11452996,"display_name":"Rocketlife2810"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685489735,"creation_date":1685489735,"answer_id":76369241,"question_id":15575801,"body_markdown":"\r\n\r\n**Just type** enviormental vairables in start menu, and you will see\r\n\r\nEdit the system enviormental...,\r\n\r\n**click enviromental variables**\r\n\r\n**click** in user vairables list:\r\n\r\nPath **(ONCE)**\r\n\r\nClick **New**\r\n\r\n**Copy &amp; Paste** You&#39;re Bin directory for the jdk.\r\n\r\ne.g. \r\nC:\\Program Files\\Java\\jdk-1.8\\bin\r\n\r\n**Hit Enter**\r\n\r\n**Open New CMD**\r\n\r\n**Type** &#39;javac&#39;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Javac is not found","body":"<p><strong>Just type</strong> enviormental vairables in start menu, and you will see</p>\n<p>Edit the system enviormental...,</p>\n<p><strong>click enviromental variables</strong></p>\n<p><strong>click</strong> in user vairables list:</p>\n<p>Path <strong>(ONCE)</strong></p>\n<p>Click <strong>New</strong></p>\n<p><strong>Copy &amp; Paste</strong> You're Bin directory for the jdk.</p>\n<p>e.g.\nC:\\Program Files\\Java\\jdk-1.8\\bin</p>\n<p><strong>Hit Enter</strong></p>\n<p><strong>Open New CMD</strong></p>\n<p><strong>Type</strong> 'javac'</p>\n"}],"owner":{"account_id":1937554,"reputation":587,"user_id":1744625,"accept_rate":75,"display_name":"Arktri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187189,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":15576035,"answer_count":8,"score":32,"last_activity_date":1685489735,"creation_date":1363971074,"question_id":15575801,"body_markdown":"I&#39;m running Windows 8 and I can not get javac to work. \r\n\r\nI have set my PATH in environmental variables to \r\n\r\n`C:\\Program Files (x86)\\Java\\jdk1.7.0_17\\bin` \r\n\r\nI have tried both with and without &#39;;&#39; but to no avail. \r\n\r\nI recently had this issue on my desktop and adding ; worked but it&#39;s not in this case. \r\n\r\nI have made sure that javac does exist in the bin too. \r\n\r\nAny suggestions on fixes would be greatly appreciated. \r\n\r\nEDITS\r\necho %PATH% gives: \r\n\r\n    C:\\Users\\Arktri\\Desktop&gt;echo %PATH%\r\n\r\n    C:\\Program Files (x86)\\Intel\\iCLS Client\\;\r\n    C:\\Program Files\\Intel\\iCLS Client\\;\r\n    C:\\Windows\\system32;C:\\Windows;\r\n    C:\\Windows\\System32\\Wbem;\r\n    C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;\r\n    C:\\Program Files (x86)\\Intel\\OpenCL SDK\\2.0\\bin\\x86;\r\n    C:\\Program Files (x86)\\Intel\\OpenCL SDK\\2.0\\bin\\x64;\r\n    C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;\r\n    C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;\r\n    C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\r\n    C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;;\r\n    C:\\Program Files (x86)\\Java\\jre7\\bin\r\n    \r\n\r\nAnd the exact error is: &#39;javac&#39; is not recognized as an internal or external command, operable program or batch file.","title":"Javac is not found","body":"<p>I'm running Windows 8 and I can not get javac to work. </p>\n\n<p>I have set my PATH in environmental variables to </p>\n\n<p><code>C:\\Program Files (x86)\\Java\\jdk1.7.0_17\\bin</code> </p>\n\n<p>I have tried both with and without ';' but to no avail. </p>\n\n<p>I recently had this issue on my desktop and adding ; worked but it's not in this case. </p>\n\n<p>I have made sure that javac does exist in the bin too. </p>\n\n<p>Any suggestions on fixes would be greatly appreciated. </p>\n\n<p>EDITS\necho %PATH% gives: </p>\n\n<pre><code>C:\\Users\\Arktri\\Desktop&gt;echo %PATH%\n\nC:\\Program Files (x86)\\Intel\\iCLS Client\\;\nC:\\Program Files\\Intel\\iCLS Client\\;\nC:\\Windows\\system32;C:\\Windows;\nC:\\Windows\\System32\\Wbem;\nC:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;\nC:\\Program Files (x86)\\Intel\\OpenCL SDK\\2.0\\bin\\x86;\nC:\\Program Files (x86)\\Intel\\OpenCL SDK\\2.0\\bin\\x64;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;\nC:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;;\nC:\\Program Files (x86)\\Java\\jre7\\bin\n</code></pre>\n\n<p>And the exact error is: 'javac' is not recognized as an internal or external command, operable program or batch file.</p>\n"},{"tags":["java","applet"],"answers":[{"tags":[],"owner":{"account_id":5869307,"reputation":466,"user_id":4622086,"accept_rate":82,"display_name":"kjsmita6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685489451,"creation_date":1685144184,"answer_id":76344726,"question_id":76344651,"body_markdown":"The error message is pretty clear,\r\n\r\n&gt; **org.apache.batik.swing.JSVGCanvas** cannot be cast to class **org.apache.batik.swing.svg.SVGLoadEventDispatcherListener** \r\n\r\nThese classes are not at all related (https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/JSVGCanvas.html and https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/svg/SVGLoadEventDispatcher.html).\r\n\r\nYou are not allowed to cast any object to any type, they must have a similar hierarchy. In the classic example of `Animal`, `Dog`, and `Cat`, you are not allowed to say that this `Dog` is a `Cat` (you can say that the `Dog` is an `Animal` though).\r\n\r\nIf you want to be sure, check\r\n```java\r\nif (this.canvas1 instanceof SVGLoadEventDispatcherListener) {\r\n    System.out.println(&quot;You can cast!&quot;);\r\nelse {\r\n    System.out.println(&quot;Casting not allowed&quot;);\r\n}\r\n```\r\n\r\nIt&#39;s recommended to do this if the type of something is ever dubious or if the parameter of a function is an interface but you need a specific concrete type.","title":"Exception in thread &quot;AWT-EventQueue-0&quot; | JSVGCanvas and SVGLoadEventDispatcherListener are in unnamed module of loader &#39;app&#39;","body":"<p>The error message is pretty clear,</p>\n<blockquote>\n<p><strong>org.apache.batik.swing.JSVGCanvas</strong> cannot be cast to class <strong>org.apache.batik.swing.svg.SVGLoadEventDispatcherListener</strong></p>\n</blockquote>\n<p>These classes are not at all related (<a href=\"https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/JSVGCanvas.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/JSVGCanvas.html</a> and <a href=\"https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/svg/SVGLoadEventDispatcher.html\" rel=\"nofollow noreferrer\">https://xmlgraphics.apache.org/batik/javadoc/org/apache/batik/swing/svg/SVGLoadEventDispatcher.html</a>).</p>\n<p>You are not allowed to cast any object to any type, they must have a similar hierarchy. In the classic example of <code>Animal</code>, <code>Dog</code>, and <code>Cat</code>, you are not allowed to say that this <code>Dog</code> is a <code>Cat</code> (you can say that the <code>Dog</code> is an <code>Animal</code> though).</p>\n<p>If you want to be sure, check</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (this.canvas1 instanceof SVGLoadEventDispatcherListener) {\n    System.out.println(&quot;You can cast!&quot;);\nelse {\n    System.out.println(&quot;Casting not allowed&quot;);\n}\n</code></pre>\n<p>It's recommended to do this if the type of something is ever dubious or if the parameter of a function is an interface but you need a specific concrete type.</p>\n"}],"owner":{"account_id":19056555,"reputation":3,"user_id":13913585,"display_name":"Vedant Bahel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685489451,"creation_date":1685142704,"question_id":76344651,"body_markdown":"Getting this error at Java runtime: \r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class org.apache.batik.swing.JSVGCanvas cannot be cast to class org.apache.batik.swing.svg.SVGLoadEventDispatcherListener (org.apache.batik.swing.JSVGCanvas and org.apache.batik.swing.svg.SVGLoadEventDispatcherListener are in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\nCode:\r\n```java\r\nprivate void handleSVGs(JSVGCanvas canvas) { \r\n    canvas.addSVGLoadEventDispatcherListener((SVGLoadEventDispatcherListener) this.canvas1);\r\n}\r\n```\r\n\r\nOne of the earlier compiled versions of this code runs. But after re-compiling the same code, it throws above error during run-time, not compile time. \r\n\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot; | JSVGCanvas and SVGLoadEventDispatcherListener are in unnamed module of loader &#39;app&#39;","body":"<p>Getting this error at Java runtime:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ClassCastException: class org.apache.batik.swing.JSVGCanvas cannot be cast to class org.apache.batik.swing.svg.SVGLoadEventDispatcherListener (org.apache.batik.swing.JSVGCanvas and org.apache.batik.swing.svg.SVGLoadEventDispatcherListener are in unnamed module of loader 'app')\n</code></pre>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void handleSVGs(JSVGCanvas canvas) { \n    canvas.addSVGLoadEventDispatcherListener((SVGLoadEventDispatcherListener) this.canvas1);\n}\n</code></pre>\n<p>One of the earlier compiled versions of this code runs. But after re-compiling the same code, it throws above error during run-time, not compile time.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-ec2","aws-sdk"],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657454324,"creation_date":1657454324,"answer_id":72928313,"question_id":72897155,"body_markdown":"This is the implementation of the `class`: https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java\r\n\r\nI have found no Java alternative for this, despite searching on google, so, I have realized that a deeper research is needed. I describe the possibilities that you have as follows:\r\n\r\n# 1. You can leave this as it is\r\n\r\nThe warning clearly suggests that it&#39;s a good idea to use an alternative, but the nonexistence of a ready-made alternative and possible goodies of future versions of the `class` are good counter-arguments, so you can ignore this note for now.\r\n\r\n# 2. You can download the open-source library and search for calls of this method\r\n\r\nIf you find the calls for this method somewhere else in the library and you are able to somehow use it instead, then that may be an alternative. For instance, after cloning with\r\n\r\n    git clone git@github.com:aws/aws-sdk-java.git\r\n\r\nand searching for occurrences of this method with:\r\n\r\n    grep -rn &#39;yourpath&#39; -e &quot;getEC2InstanceRegion&quot;\r\n\r\nI have got these results:\r\n\r\n```\r\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java:286:    public static String getEC2InstanceRegion() {\r\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/regions/InstanceMetadataRegionProvider.java:59:            return EC2MetadataUtils.getEC2InstanceRegion();\r\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/regions/Regions.java:110:            final String region = EC2MetadataUtils.getEC2InstanceRegion();\r\n```\r\n\r\nThe first match is the definition of the method.\r\n\r\nThe second match looks like this:\r\n\r\n```\r\n/*\r\n * Copyright 2011-2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;).\r\n * You may not use this file except in compliance with the License.\r\n * A copy of the License is located at\r\n *\r\n *  http://aws.amazon.com/apache2.0\r\n *\r\n * or in the &quot;license&quot; file accompanying this file. This file is distributed\r\n * on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\r\n * express or implied. See the License for the specific language governing\r\n * permissions and limitations under the License.\r\n */\r\npackage com.amazonaws.regions;\r\n\r\nimport com.amazonaws.AmazonClientException;\r\nimport com.amazonaws.SDKGlobalConfiguration;\r\nimport com.amazonaws.util.EC2MetadataUtils;\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\n\r\n/**\r\n * Attempts to load region information from the EC2 Metadata service. If the application is not\r\n * running on EC2 or {@link SDKGlobalConfiguration#isEc2MetadataDisabled()} returns true,\r\n * this provider will return null.\r\n */\r\npublic class InstanceMetadataRegionProvider extends AwsRegionProvider {\r\n\r\n    private static final Log LOG = LogFactory.getLog(InstanceMetadataRegionProvider.class);\r\n\r\n    /**\r\n     * Cache region as it will not change during the lifetime of the JVM.\r\n     */\r\n    private volatile String region;\r\n\r\n    /**\r\n     * @throws AmazonClientException if {@link SDKGlobalConfiguration#isEc2MetadataDisabled()} is true\r\n     */\r\n    @Override\r\n    public String getRegion() {\r\n        if (SDKGlobalConfiguration.isEc2MetadataDisabled()) {\r\n            throw new AmazonClientException(&quot;AWS_EC2_METADATA_DISABLED is set to true, not loading region from EC2 Instance &quot;\r\n                                         + &quot;Metadata service&quot;);\r\n        }\r\n\r\n        if (region == null) {\r\n            synchronized (this) {\r\n                if (region == null) {\r\n                    this.region = tryDetectRegion();\r\n                }\r\n            }\r\n        }\r\n        return region;\r\n    }\r\n\r\n    private String tryDetectRegion() {\r\n        try {\r\n            return EC2MetadataUtils.getEC2InstanceRegion();\r\n        } catch (AmazonClientException sce) {\r\n            LOG.debug(&quot;Ignoring failure to retrieve the region: &quot; + sce.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo, it seems that the `getRegion` method of `InstanceMetadataRegionProvider` looks like the alternative that you were looking for.\r\n\r\nThe third match looks like this:\r\n\r\n```\r\n/*\r\n * Copyright 2013-2022 Amazon Technologies, Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at:\r\n *\r\n *    http://aws.amazon.com/apache2.0\r\n *\r\n * This file is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES\r\n * OR CONDITIONS OF ANY KIND, either express or implied. See the\r\n * License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\npackage com.amazonaws.regions;\r\n\r\nimport com.amazonaws.AmazonClientException;\r\nimport org.apache.commons.logging.LogFactory;\r\n\r\nimport com.amazonaws.util.EC2MetadataUtils;\r\n\r\n/**\r\n * Enumeration of region names\r\n */\r\npublic enum Regions {\r\n\r\n    GovCloud(&quot;us-gov-west-1&quot;, &quot;AWS GovCloud (US)&quot;),\r\n    US_GOV_EAST_1(&quot;us-gov-east-1&quot;, &quot;AWS GovCloud (US-East)&quot;),\r\n    US_EAST_1(&quot;us-east-1&quot;, &quot;US East (N. Virginia)&quot;),\r\n    US_EAST_2(&quot;us-east-2&quot;, &quot;US East (Ohio)&quot;),\r\n    US_WEST_1(&quot;us-west-1&quot;, &quot;US West (N. California)&quot;),\r\n    US_WEST_2(&quot;us-west-2&quot;, &quot;US West (Oregon)&quot;),\r\n    EU_WEST_1(&quot;eu-west-1&quot;, &quot;EU (Ireland)&quot;),\r\n    EU_WEST_2(&quot;eu-west-2&quot;, &quot;EU (London)&quot;),\r\n    EU_WEST_3(&quot;eu-west-3&quot;, &quot;EU (Paris)&quot;),\r\n    EU_CENTRAL_1(&quot;eu-central-1&quot;, &quot;EU (Frankfurt)&quot;),\r\n    EU_NORTH_1(&quot;eu-north-1&quot;, &quot;EU (Stockholm)&quot;),\r\n    EU_SOUTH_1(&quot;eu-south-1&quot;, &quot;EU (Milan)&quot;),\r\n    AP_EAST_1(&quot;ap-east-1&quot;, &quot;Asia Pacific (Hong Kong)&quot;),\r\n    AP_SOUTH_1(&quot;ap-south-1&quot;, &quot;Asia Pacific (Mumbai)&quot;),\r\n    AP_SOUTHEAST_1(&quot;ap-southeast-1&quot;, &quot;Asia Pacific (Singapore)&quot;),\r\n    AP_SOUTHEAST_2(&quot;ap-southeast-2&quot;, &quot;Asia Pacific (Sydney)&quot;),\r\n    AP_SOUTHEAST_3(&quot;ap-southeast-3&quot;, &quot;Asia Pacific (Jakarta)&quot;),\r\n    AP_NORTHEAST_1(&quot;ap-northeast-1&quot;, &quot;Asia Pacific (Tokyo)&quot;),\r\n    AP_NORTHEAST_2(&quot;ap-northeast-2&quot;, &quot;Asia Pacific (Seoul)&quot;),\r\n    AP_NORTHEAST_3(&quot;ap-northeast-3&quot;, &quot;Asia Pacific (Osaka)&quot;),\r\n\r\n    SA_EAST_1(&quot;sa-east-1&quot;, &quot;South America (Sao Paulo)&quot;),\r\n    CN_NORTH_1(&quot;cn-north-1&quot;, &quot;China (Beijing)&quot;),\r\n    CN_NORTHWEST_1(&quot;cn-northwest-1&quot;, &quot;China (Ningxia)&quot;),\r\n    CA_CENTRAL_1(&quot;ca-central-1&quot;, &quot;Canada (Central)&quot;),\r\n    ME_SOUTH_1(&quot;me-south-1&quot;, &quot;Middle East (Bahrain)&quot;),\r\n    AF_SOUTH_1(&quot;af-south-1&quot;, &quot;Africa (Cape Town)&quot;),\r\n    US_ISO_EAST_1(&quot;us-iso-east-1&quot;, &quot;US ISO East&quot;),\r\n    US_ISOB_EAST_1(&quot;us-isob-east-1&quot;, &quot;US ISOB East (Ohio)&quot;),\r\n    US_ISO_WEST_1(&quot;us-iso-west-1&quot;, &quot;US ISO West&quot;)\r\n    ;\r\n\r\n    /**\r\n     * The default region that new customers in the US are encouraged to use\r\n     * when using AWS services for the first time.\r\n     */\r\n    public static final Regions DEFAULT_REGION = US_WEST_2;\r\n\r\n    private final String name;\r\n    private final String description;\r\n\r\n    private Regions(String name, String description) {\r\n        this.name = name;\r\n        this.description = description;\r\n    }\r\n\r\n    /**\r\n     * The name of this region, used in the regions.xml file to identify it.\r\n     */\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    /**\r\n     * Descriptive readable name for this region.\r\n     */\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    /**\r\n     * Returns a region enum corresponding to the given region name.\r\n     *\r\n     * @param regionName\r\n     *            The name of the region. Ex.: eu-west-1\r\n     * @return Region enum representing the given region name.\r\n     */\r\n    public static Regions fromName(String regionName) {\r\n        for (Regions region : Regions.values()) {\r\n            if (region.getName().equals(regionName)) {\r\n                return region;\r\n            }\r\n        }\r\n        throw new IllegalArgumentException(&quot;Cannot create enum from &quot; + regionName + &quot; value!&quot;);\r\n    }\r\n\r\n    /**\r\n     * Returns a Region object representing the region the application is\r\n     * running in, when running in EC2. If this method is called from a non-EC2\r\n     * environment, it will return null.\r\n     */\r\n    public static Region getCurrentRegion() {\r\n        try {\r\n            final String region = EC2MetadataUtils.getEC2InstanceRegion();\r\n            if (region != null)\r\n                return RegionUtils.getRegion(region);\r\n        } catch (AmazonClientException e) {\r\n            LogFactory.getLog(Regions.class).debug(\r\n                &quot;Ignoring failure to retrieve the region: &quot; + e.getMessage());\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nSo, `getCurrentRegion` at `Regions` looks like another alternative. If you manage to use one of these for your purpose successfully, then it will be easy to refactor and it also makes sense to refactor accordingly.\r\n\r\n# 3. Copy and rename the class\r\n\r\nIf the first two options are unfeasible for you, then you can copy and rename the `class`, so you will be able to make sure that this method will remain unchanged even if the internal API is changed. This is not a very elegant approach and it is not easy to implement either, as the `class` has dependencies, so, as a result, you will have some difficulties to resolve, but we know in advance that this is a possible solution.\r\n\r\n# 4. Finally the do-it-yourself approach\r\n\r\nThis is an article about retrieving instance metadata: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html\r\n\r\nAs we can see, among the metadata information of the instance, you can find the region: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html\r\n\r\n[![enter image description here][1]][1]\r\n\r\nA command example that uses **curl** and **jq** that looks like\r\n\r\n    curl -s http://169.254.169.254/latest/dynamic/instance-identity/document | jq -r .region\r\n\r\ncan be found here: https://www.howtouselinux.com/post/find-ec2-instance-region-info-in-aws\r\n\r\n  [1]: https://i.stack.imgur.com/jW60b.png","title":"Alternate for EC2MetadataUtils","body":"<p>This is the implementation of the <code>class</code>: <a href=\"https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java\" rel=\"noreferrer\">https://github.com/aws/aws-sdk-java/blob/master/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java</a></p>\n<p>I have found no Java alternative for this, despite searching on google, so, I have realized that a deeper research is needed. I describe the possibilities that you have as follows:</p>\n<h1>1. You can leave this as it is</h1>\n<p>The warning clearly suggests that it's a good idea to use an alternative, but the nonexistence of a ready-made alternative and possible goodies of future versions of the <code>class</code> are good counter-arguments, so you can ignore this note for now.</p>\n<h1>2. You can download the open-source library and search for calls of this method</h1>\n<p>If you find the calls for this method somewhere else in the library and you are able to somehow use it instead, then that may be an alternative. For instance, after cloning with</p>\n<pre><code>git clone git@github.com:aws/aws-sdk-java.git\n</code></pre>\n<p>and searching for occurrences of this method with:</p>\n<pre><code>grep -rn 'yourpath' -e &quot;getEC2InstanceRegion&quot;\n</code></pre>\n<p>I have got these results:</p>\n<pre><code>&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/util/EC2MetadataUtils.java:286:    public static String getEC2InstanceRegion() {\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/regions/InstanceMetadataRegionProvider.java:59:            return EC2MetadataUtils.getEC2InstanceRegion();\n&lt;path&gt;/aws-sdk-java/aws-java-sdk-core/src/main/java/com/amazonaws/regions/Regions.java:110:            final String region = EC2MetadataUtils.getEC2InstanceRegion();\n</code></pre>\n<p>The first match is the definition of the method.</p>\n<p>The second match looks like this:</p>\n<pre><code>/*\n * Copyright 2011-2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;).\n * You may not use this file except in compliance with the License.\n * A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n * or in the &quot;license&quot; file accompanying this file. This file is distributed\n * on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n * express or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\npackage com.amazonaws.regions;\n\nimport com.amazonaws.AmazonClientException;\nimport com.amazonaws.SDKGlobalConfiguration;\nimport com.amazonaws.util.EC2MetadataUtils;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\n/**\n * Attempts to load region information from the EC2 Metadata service. If the application is not\n * running on EC2 or {@link SDKGlobalConfiguration#isEc2MetadataDisabled()} returns true,\n * this provider will return null.\n */\npublic class InstanceMetadataRegionProvider extends AwsRegionProvider {\n\n    private static final Log LOG = LogFactory.getLog(InstanceMetadataRegionProvider.class);\n\n    /**\n     * Cache region as it will not change during the lifetime of the JVM.\n     */\n    private volatile String region;\n\n    /**\n     * @throws AmazonClientException if {@link SDKGlobalConfiguration#isEc2MetadataDisabled()} is true\n     */\n    @Override\n    public String getRegion() {\n        if (SDKGlobalConfiguration.isEc2MetadataDisabled()) {\n            throw new AmazonClientException(&quot;AWS_EC2_METADATA_DISABLED is set to true, not loading region from EC2 Instance &quot;\n                                         + &quot;Metadata service&quot;);\n        }\n\n        if (region == null) {\n            synchronized (this) {\n                if (region == null) {\n                    this.region = tryDetectRegion();\n                }\n            }\n        }\n        return region;\n    }\n\n    private String tryDetectRegion() {\n        try {\n            return EC2MetadataUtils.getEC2InstanceRegion();\n        } catch (AmazonClientException sce) {\n            LOG.debug(&quot;Ignoring failure to retrieve the region: &quot; + sce.getMessage());\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>So, it seems that the <code>getRegion</code> method of <code>InstanceMetadataRegionProvider</code> looks like the alternative that you were looking for.</p>\n<p>The third match looks like this:</p>\n<pre><code>/*\n * Copyright 2013-2022 Amazon Technologies, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at:\n *\n *    http://aws.amazon.com/apache2.0\n *\n * This file is distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES\n * OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and\n * limitations under the License.\n */\npackage com.amazonaws.regions;\n\nimport com.amazonaws.AmazonClientException;\nimport org.apache.commons.logging.LogFactory;\n\nimport com.amazonaws.util.EC2MetadataUtils;\n\n/**\n * Enumeration of region names\n */\npublic enum Regions {\n\n    GovCloud(&quot;us-gov-west-1&quot;, &quot;AWS GovCloud (US)&quot;),\n    US_GOV_EAST_1(&quot;us-gov-east-1&quot;, &quot;AWS GovCloud (US-East)&quot;),\n    US_EAST_1(&quot;us-east-1&quot;, &quot;US East (N. Virginia)&quot;),\n    US_EAST_2(&quot;us-east-2&quot;, &quot;US East (Ohio)&quot;),\n    US_WEST_1(&quot;us-west-1&quot;, &quot;US West (N. California)&quot;),\n    US_WEST_2(&quot;us-west-2&quot;, &quot;US West (Oregon)&quot;),\n    EU_WEST_1(&quot;eu-west-1&quot;, &quot;EU (Ireland)&quot;),\n    EU_WEST_2(&quot;eu-west-2&quot;, &quot;EU (London)&quot;),\n    EU_WEST_3(&quot;eu-west-3&quot;, &quot;EU (Paris)&quot;),\n    EU_CENTRAL_1(&quot;eu-central-1&quot;, &quot;EU (Frankfurt)&quot;),\n    EU_NORTH_1(&quot;eu-north-1&quot;, &quot;EU (Stockholm)&quot;),\n    EU_SOUTH_1(&quot;eu-south-1&quot;, &quot;EU (Milan)&quot;),\n    AP_EAST_1(&quot;ap-east-1&quot;, &quot;Asia Pacific (Hong Kong)&quot;),\n    AP_SOUTH_1(&quot;ap-south-1&quot;, &quot;Asia Pacific (Mumbai)&quot;),\n    AP_SOUTHEAST_1(&quot;ap-southeast-1&quot;, &quot;Asia Pacific (Singapore)&quot;),\n    AP_SOUTHEAST_2(&quot;ap-southeast-2&quot;, &quot;Asia Pacific (Sydney)&quot;),\n    AP_SOUTHEAST_3(&quot;ap-southeast-3&quot;, &quot;Asia Pacific (Jakarta)&quot;),\n    AP_NORTHEAST_1(&quot;ap-northeast-1&quot;, &quot;Asia Pacific (Tokyo)&quot;),\n    AP_NORTHEAST_2(&quot;ap-northeast-2&quot;, &quot;Asia Pacific (Seoul)&quot;),\n    AP_NORTHEAST_3(&quot;ap-northeast-3&quot;, &quot;Asia Pacific (Osaka)&quot;),\n\n    SA_EAST_1(&quot;sa-east-1&quot;, &quot;South America (Sao Paulo)&quot;),\n    CN_NORTH_1(&quot;cn-north-1&quot;, &quot;China (Beijing)&quot;),\n    CN_NORTHWEST_1(&quot;cn-northwest-1&quot;, &quot;China (Ningxia)&quot;),\n    CA_CENTRAL_1(&quot;ca-central-1&quot;, &quot;Canada (Central)&quot;),\n    ME_SOUTH_1(&quot;me-south-1&quot;, &quot;Middle East (Bahrain)&quot;),\n    AF_SOUTH_1(&quot;af-south-1&quot;, &quot;Africa (Cape Town)&quot;),\n    US_ISO_EAST_1(&quot;us-iso-east-1&quot;, &quot;US ISO East&quot;),\n    US_ISOB_EAST_1(&quot;us-isob-east-1&quot;, &quot;US ISOB East (Ohio)&quot;),\n    US_ISO_WEST_1(&quot;us-iso-west-1&quot;, &quot;US ISO West&quot;)\n    ;\n\n    /**\n     * The default region that new customers in the US are encouraged to use\n     * when using AWS services for the first time.\n     */\n    public static final Regions DEFAULT_REGION = US_WEST_2;\n\n    private final String name;\n    private final String description;\n\n    private Regions(String name, String description) {\n        this.name = name;\n        this.description = description;\n    }\n\n    /**\n     * The name of this region, used in the regions.xml file to identify it.\n     */\n    public String getName() {\n        return name;\n    }\n\n    /**\n     * Descriptive readable name for this region.\n     */\n    public String getDescription() {\n        return description;\n    }\n\n    /**\n     * Returns a region enum corresponding to the given region name.\n     *\n     * @param regionName\n     *            The name of the region. Ex.: eu-west-1\n     * @return Region enum representing the given region name.\n     */\n    public static Regions fromName(String regionName) {\n        for (Regions region : Regions.values()) {\n            if (region.getName().equals(regionName)) {\n                return region;\n            }\n        }\n        throw new IllegalArgumentException(&quot;Cannot create enum from &quot; + regionName + &quot; value!&quot;);\n    }\n\n    /**\n     * Returns a Region object representing the region the application is\n     * running in, when running in EC2. If this method is called from a non-EC2\n     * environment, it will return null.\n     */\n    public static Region getCurrentRegion() {\n        try {\n            final String region = EC2MetadataUtils.getEC2InstanceRegion();\n            if (region != null)\n                return RegionUtils.getRegion(region);\n        } catch (AmazonClientException e) {\n            LogFactory.getLog(Regions.class).debug(\n                &quot;Ignoring failure to retrieve the region: &quot; + e.getMessage());\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>So, <code>getCurrentRegion</code> at <code>Regions</code> looks like another alternative. If you manage to use one of these for your purpose successfully, then it will be easy to refactor and it also makes sense to refactor accordingly.</p>\n<h1>3. Copy and rename the class</h1>\n<p>If the first two options are unfeasible for you, then you can copy and rename the <code>class</code>, so you will be able to make sure that this method will remain unchanged even if the internal API is changed. This is not a very elegant approach and it is not easy to implement either, as the <code>class</code> has dependencies, so, as a result, you will have some difficulties to resolve, but we know in advance that this is a possible solution.</p>\n<h1>4. Finally the do-it-yourself approach</h1>\n<p>This is an article about retrieving instance metadata: <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-retrieval.html</a></p>\n<p>As we can see, among the metadata information of the instance, you can find the region: <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instancedata-data-categories.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/jW60b.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jW60b.png\" alt=\"enter image description here\" /></a></p>\n<p>A command example that uses <strong>curl</strong> and <strong>jq</strong> that looks like</p>\n<pre><code>curl -s http://169.254.169.254/latest/dynamic/instance-identity/document | jq -r .region\n</code></pre>\n<p>can be found here: <a href=\"https://www.howtouselinux.com/post/find-ec2-instance-region-info-in-aws\" rel=\"noreferrer\">https://www.howtouselinux.com/post/find-ec2-instance-region-info-in-aws</a></p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685487487,"creation_date":1657986375,"answer_id":73005577,"question_id":72897155,"body_markdown":"The region information in which the EC2 instance is running is provided as part of the instance identity document.\r\n\r\nAs explained [in the AWS documentation](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html) and pointed out as well by @LajosArpad in his very good answer, this information can be obtained from the following URL from inside the EC2 instance, running `curl`, for instance:\r\n\r\n```\r\ncurl http://169.254.169.254/latest/dynamic/instance-identity/document\r\n```\r\n\r\nThe response provided will be similar to the following:\r\n\r\n```json\r\n{\r\n    &quot;devpayProductCodes&quot; : null,\r\n    &quot;marketplaceProductCodes&quot; : [ &quot;1abc2defghijklm3nopqrs4tu&quot; ], \r\n    &quot;availabilityZone&quot; : &quot;us-west-2b&quot;,\r\n    &quot;privateIp&quot; : &quot;10.158.112.84&quot;,\r\n    &quot;version&quot; : &quot;2017-09-30&quot;,\r\n    &quot;instanceId&quot; : &quot;i-1234567890abcdef0&quot;,\r\n    &quot;billingProducts&quot; : null,\r\n    &quot;instanceType&quot; : &quot;t2.micro&quot;,\r\n    &quot;accountId&quot; : &quot;123456789012&quot;,\r\n    &quot;imageId&quot; : &quot;ami-5fb8c835&quot;,\r\n    &quot;pendingTime&quot; : &quot;2016-11-19T16:32:11Z&quot;,\r\n    &quot;architecture&quot; : &quot;x86_64&quot;,\r\n    &quot;kernelId&quot; : null,\r\n    &quot;ramdiskId&quot; : null,\r\n    &quot;region&quot; : &quot;us-west-2&quot;\r\n}\r\n```\r\n\r\nPlease, note the `region` field.\r\n\r\n[`EC2MetadataUtils`](https://github.com/aws/aws-sdk-java-v2/blob/4d20c0c5010098fb24df6cb591d9fb153e008c79/core/regions/src/main/java/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.java) basically, of course, with more detail, and in a more structured way, is [reading this information](https://github.com/aws/aws-sdk-java-v2/blob/4d20c0c5010098fb24df6cb591d9fb153e008c79/core/regions/src/main/java/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.java#L234-L251) as well to give you the EC2 region in which the instance is running.\r\n\r\nYou could try reproducing a minimal version of the functionality exposed by `EC2MetadataUtils` in your own code.\r\n\r\nThe exact way will depend on the libraries you want to use to perform the task but, independently of them, you will need to read the returned document, parse it as JSON, and get the `region` field.\r\n\r\nFor instance, using the standard Java API for JSON processing, and using the example provided in the [documentation](https://www.oracle.com/technical-resources/articles/java/json.html), you could try something like the following to obtain the region in one row:\r\n\r\n```java\r\nURL url = new URL(&quot;http://169.254.169.254/latest/dynamic/instance-identity/document&quot;);\r\ntry (InputStream is = url.openStream();\r\n     JsonReader reader = Json.createReader(is)) {\r\n\r\n     JsonObject instanceDocument = reader.readObject();\r\n     String region = instanceDocument.getString(&quot;region&quot;);\r\n     // return it or use it as you need to\r\n}\r\n```\r\n\r\nAs I told, you can use other libraries (Jackson, org.json, Gson, ... for JSON processing, or commons-io, etc. to URL/`InputStream` read and write) as well.\r\n\r\nThe code uses IDMSv1, and could be improved in many different ways, verifying the identity document signature, etcetera.\r\n","title":"Alternate for EC2MetadataUtils","body":"<p>The region information in which the EC2 instance is running is provided as part of the instance identity document.</p>\n<p>As explained <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-identity-documents.html\" rel=\"nofollow noreferrer\">in the AWS documentation</a> and pointed out as well by @LajosArpad in his very good answer, this information can be obtained from the following URL from inside the EC2 instance, running <code>curl</code>, for instance:</p>\n<pre><code>curl http://169.254.169.254/latest/dynamic/instance-identity/document\n</code></pre>\n<p>The response provided will be similar to the following:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;devpayProductCodes&quot; : null,\n    &quot;marketplaceProductCodes&quot; : [ &quot;1abc2defghijklm3nopqrs4tu&quot; ], \n    &quot;availabilityZone&quot; : &quot;us-west-2b&quot;,\n    &quot;privateIp&quot; : &quot;10.158.112.84&quot;,\n    &quot;version&quot; : &quot;2017-09-30&quot;,\n    &quot;instanceId&quot; : &quot;i-1234567890abcdef0&quot;,\n    &quot;billingProducts&quot; : null,\n    &quot;instanceType&quot; : &quot;t2.micro&quot;,\n    &quot;accountId&quot; : &quot;123456789012&quot;,\n    &quot;imageId&quot; : &quot;ami-5fb8c835&quot;,\n    &quot;pendingTime&quot; : &quot;2016-11-19T16:32:11Z&quot;,\n    &quot;architecture&quot; : &quot;x86_64&quot;,\n    &quot;kernelId&quot; : null,\n    &quot;ramdiskId&quot; : null,\n    &quot;region&quot; : &quot;us-west-2&quot;\n}\n</code></pre>\n<p>Please, note the <code>region</code> field.</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2/blob/4d20c0c5010098fb24df6cb591d9fb153e008c79/core/regions/src/main/java/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.java\" rel=\"nofollow noreferrer\"><code>EC2MetadataUtils</code></a> basically, of course, with more detail, and in a more structured way, is <a href=\"https://github.com/aws/aws-sdk-java-v2/blob/4d20c0c5010098fb24df6cb591d9fb153e008c79/core/regions/src/main/java/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.java#L234-L251\" rel=\"nofollow noreferrer\">reading this information</a> as well to give you the EC2 region in which the instance is running.</p>\n<p>You could try reproducing a minimal version of the functionality exposed by <code>EC2MetadataUtils</code> in your own code.</p>\n<p>The exact way will depend on the libraries you want to use to perform the task but, independently of them, you will need to read the returned document, parse it as JSON, and get the <code>region</code> field.</p>\n<p>For instance, using the standard Java API for JSON processing, and using the example provided in the <a href=\"https://www.oracle.com/technical-resources/articles/java/json.html\" rel=\"nofollow noreferrer\">documentation</a>, you could try something like the following to obtain the region in one row:</p>\n<pre class=\"lang-java prettyprint-override\"><code>URL url = new URL(&quot;http://169.254.169.254/latest/dynamic/instance-identity/document&quot;);\ntry (InputStream is = url.openStream();\n     JsonReader reader = Json.createReader(is)) {\n\n     JsonObject instanceDocument = reader.readObject();\n     String region = instanceDocument.getString(&quot;region&quot;);\n     // return it or use it as you need to\n}\n</code></pre>\n<p>As I told, you can use other libraries (Jackson, org.json, Gson, ... for JSON processing, or commons-io, etc. to URL/<code>InputStream</code> read and write) as well.</p>\n<p>The code uses IDMSv1, and could be improved in many different ways, verifying the identity document signature, etcetera.</p>\n"}],"owner":{"account_id":2985220,"reputation":5535,"user_id":2534236,"accept_rate":72,"display_name":"Suganthan Madhavan Pillai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":72928313,"answer_count":2,"score":7,"last_activity_date":1685487487,"creation_date":1657193970,"question_id":72897155,"body_markdown":"In our code, to get the ec2 instance&#39;s region we are using `EC2MetadataUtils.getEC2InstanceRegion()`, and we just realized we must not use [`EC2MetadataUtils`](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.html) because it is an internal API that is subject to change.\r\n\r\n&gt; Note: this is an internal API subject to change. Users of the SDK should not depend on this.\r\n\r\nDid some google searches but was unable to find an alternate solution, Is there any alternative solution available to get the ec2 instance&#39;s region?\r\n\r\nThanks for any help!","title":"Alternate for EC2MetadataUtils","body":"<p>In our code, to get the ec2 instance's region we are using <code>EC2MetadataUtils.getEC2InstanceRegion()</code>, and we just realized we must not use <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/regions/internal/util/EC2MetadataUtils.html\" rel=\"nofollow noreferrer\"><code>EC2MetadataUtils</code></a> because it is an internal API that is subject to change.</p>\n<blockquote>\n<p>Note: this is an internal API subject to change. Users of the SDK should not depend on this.</p>\n</blockquote>\n<p>Did some google searches but was unable to find an alternate solution, Is there any alternative solution available to get the ec2 instance's region?</p>\n<p>Thanks for any help!</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1576919675,"post_id":59434918,"comment_id":105054714,"body_markdown":"The child shouldn&#39;t have a parentId. This is the foreign key, and it&#39;s managed by the parent, since you have a unidirectional association. If you want the child to know its parent, then it means you should have a bidirectional association.","body":"The child shouldn&#39;t have a parentId. This is the foreign key, and it&#39;s managed by the parent, since you have a unidirectional association. If you want the child to know its parent, then it means you should have a bidirectional association."},{"owner":{"account_id":1419347,"reputation":394,"user_id":1344303,"accept_rate":75,"display_name":"Pierre"},"score":0,"creation_date":1576926039,"post_id":59434918,"comment_id":105055788,"body_markdown":"@JBNizet I didn&#39;t know hibernate could work without the forein key in the object. It now totally make sense, I removed it and my object is consistent. And yes you are right, if the child need the parentId it is a bidirectional association.","body":"@JBNizet I didn&#39;t know hibernate could work without the forein key in the object. It now totally make sense, I removed it and my object is consistent. And yes you are right, if the child need the parentId it is a bidirectional association."}],"owner":{"account_id":1419347,"reputation":394,"user_id":1344303,"accept_rate":75,"display_name":"Pierre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685487245,"creation_date":1576919314,"question_id":59434918,"body_markdown":"I have a unidirectional @OneToMany @JoinColumn relationship between a parent having a list of children.\r\n\r\nThe primary key are generated by the database (IDENTITY / mysql auto increment).\r\n\r\nWhen I insert a new parent with new children (all ids are set to null), the database is populated and the references are correctly set.\r\n\r\nHowever, after insertion only the primary key are updated in the objects, the foreinKey are left to null. I have to clear the persistence context and do a find to retrieve a value with the correct foreign keys.\r\n\r\n**Do we have a way to force hibernate to populate the foreign key in our memory model without doing it ourself ?**\r\n\r\nI think it is the reponsibility of the ORM to do it like it is responsible for to set the ID value. I want to it to be done automatically so we won&#39;t forget to do it manually by doing setParentId().\r\n\r\nI know the argument of there is no such relation in the object model because the parent own the list of child so the child doesn&#39;t the need the reference ID, but in our case we want it for consistency purpose. Why a find() model should return the foreign key populated while the freshly inserted one won&#39;t have them. It doesn&#39;t sound right to me.\r\n\r\n(Also it is important for us to only have the unidirectional @OneToMany we don&#39;t want to have a @ManyToOne reference of the Parent in the Child (because our child doesn&#39;t need it, it just needs the parentId)).\r\n\r\n```java\r\n\r\n// main\r\nvar emFactory = buildFactory(); // Persistence.createEntityManagerFactory(&quot;ORM&quot;);\r\nvar em = emFactory.createEntityManager();\r\n\r\nvar transaction = em.getTransaction();\r\ntransaction.begin();\r\nvar parent = new Parent(null, 0, List.of(new Child(null, null, 10)));\r\nem.persist(parent);\r\ntransaction.commit();\r\n\r\n// just inserted, parentId is null\r\nSystem.out.println(parent.children);\r\n\r\n// using find() parentId will still be null\r\nSystem.out.println(em.find(Parent.class, parent.id).children);\r\n\r\n// If I clear the persistent context, the retrieved entity has the correct value...\r\nem.clear();\r\nSystem.out.println(em.find(Parent.class, parent.id).children);\r\n\r\n\r\n// Parent\r\n@Entity @ToString\r\npublic class Parent {\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n\r\n    public int value;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;parentId&quot;, referencedColumnName = &quot;id&quot;)\r\n    public List&lt;Child&gt; children;\r\n\r\n    public Parent(Long id, int value, List&lt;Child&gt; children) {\r\n        this.id = id;\r\n        this.value = value;\r\n        this.children = children;\r\n    }\r\n\r\n    private Parent() {\r\n    }\r\n}\r\n\r\n// Child\r\n@Entity @ToString\r\npublic class Child {\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    Long id;\r\n\r\n    Long parentId;\r\n\r\n    int value;\r\n\r\n    public Child(Long id, Long parentId, int value) {\r\n        this.id = id;\r\n        this.parentId = parentId;\r\n        this.value = value;\r\n    }\r\n\r\n    private Child() {\r\n    }\r\n}\r\n```","title":"How to auto-update foreign key in child in unidirectional @OneToMany relationship","body":"<p>I have a unidirectional @OneToMany @JoinColumn relationship between a parent having a list of children.</p>\n\n<p>The primary key are generated by the database (IDENTITY / mysql auto increment).</p>\n\n<p>When I insert a new parent with new children (all ids are set to null), the database is populated and the references are correctly set.</p>\n\n<p>However, after insertion only the primary key are updated in the objects, the foreinKey are left to null. I have to clear the persistence context and do a find to retrieve a value with the correct foreign keys.</p>\n\n<p><strong>Do we have a way to force hibernate to populate the foreign key in our memory model without doing it ourself ?</strong></p>\n\n<p>I think it is the reponsibility of the ORM to do it like it is responsible for to set the ID value. I want to it to be done automatically so we won't forget to do it manually by doing setParentId().</p>\n\n<p>I know the argument of there is no such relation in the object model because the parent own the list of child so the child doesn't the need the reference ID, but in our case we want it for consistency purpose. Why a find() model should return the foreign key populated while the freshly inserted one won't have them. It doesn't sound right to me.</p>\n\n<p>(Also it is important for us to only have the unidirectional @OneToMany we don't want to have a @ManyToOne reference of the Parent in the Child (because our child doesn't need it, it just needs the parentId)).</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>\n// main\nvar emFactory = buildFactory(); // Persistence.createEntityManagerFactory(\"ORM\");\nvar em = emFactory.createEntityManager();\n\nvar transaction = em.getTransaction();\ntransaction.begin();\nvar parent = new Parent(null, 0, List.of(new Child(null, null, 10)));\nem.persist(parent);\ntransaction.commit();\n\n// just inserted, parentId is null\nSystem.out.println(parent.children);\n\n// using find() parentId will still be null\nSystem.out.println(em.find(Parent.class, parent.id).children);\n\n// If I clear the persistent context, the retrieved entity has the correct value...\nem.clear();\nSystem.out.println(em.find(Parent.class, parent.id).children);\n\n\n// Parent\n@Entity @ToString\npublic class Parent {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    public int value;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"parentId\", referencedColumnName = \"id\")\n    public List&lt;Child&gt; children;\n\n    public Parent(Long id, int value, List&lt;Child&gt; children) {\n        this.id = id;\n        this.value = value;\n        this.children = children;\n    }\n\n    private Parent() {\n    }\n}\n\n// Child\n@Entity @ToString\npublic class Child {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Long id;\n\n    Long parentId;\n\n    int value;\n\n    public Child(Long id, Long parentId, int value) {\n        this.id = id;\n        this.parentId = parentId;\n        this.value = value;\n    }\n\n    private Child() {\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685138904,"post_id":76342083,"comment_id":134624875,"body_markdown":"Please provide the full stacktrace of your error in k8s.","body":"Please provide the full stacktrace of your error in k8s."},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685152219,"post_id":76342083,"comment_id":134625925,"body_markdown":"here is the full log https://pastebin.com/smhGekNb","body":"here is the full log <a href=\"https://pastebin.com/smhGekNb\" rel=\"nofollow noreferrer\">pastebin.com/smhGekNb</a>"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1685178189,"post_id":76342083,"comment_id":134627567,"body_markdown":"Hibernate seems to be looking for your entities in strange paths. I think you should check your Docker file, how your java process is started, with which options, what&#39;s the classpath etc.","body":"Hibernate seems to be looking for your entities in strange paths. I think you should check your Docker file, how your java process is started, with which options, what&#39;s the classpath etc."},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685272214,"post_id":76342083,"comment_id":134635968,"body_markdown":"Thanks a lot, @SebPerp. Any comment worth too much for me. I&#39;ll do","body":"Thanks a lot, @SebPerp. Any comment worth too much for me. I&#39;ll do"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":1,"creation_date":1685272817,"post_id":76342083,"comment_id":134636031,"body_markdown":"No pb. Add the pi&#232;ces of information I  mentioned in your question (docker file etc). It should help to find the root cause and the solution.","body":"No pb. Add the pi&#232;ces of information I  mentioned in your question (docker file etc). It should help to find the root cause and the solution."},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685450337,"post_id":76342083,"comment_id":134658877,"body_markdown":"@SebPerp I added the dockerfile","body":"@SebPerp I added the dockerfile"},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685487152,"post_id":76342083,"comment_id":134666375,"body_markdown":"@SebPerp problem is fixed. I wrote the solution below","body":"@SebPerp problem is fixed. I wrote the solution below"},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1685554444,"post_id":76342083,"comment_id":134677901,"body_markdown":"Good news ! Thanks for your docker file I didnt know about this layout management provided by spring boot","body":"Good news ! Thanks for your docker file I didnt know about this layout management provided by spring boot"},{"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"score":0,"creation_date":1685625166,"post_id":76342083,"comment_id":134688501,"body_markdown":"so its win-win for both of us then :)","body":"so its win-win for both of us then :)"}],"answers":[{"tags":[],"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685487096,"creation_date":1685487096,"answer_id":76369104,"question_id":76342083,"body_markdown":"I have fixed the problem.\r\n\r\nI don&#39;t know the exact cause of the problem but here is the solution. I want to thank @SebPerb because of his suggestion. \r\n\r\nWhen I use `WORKDIR`, the problem is fixed.\r\n\r\n    FROM amazoncorretto:17-alpine AS builder\r\n    WORKDIR application\r\n    ARG JAR_FILE=*.jar\r\n    COPY ${JAR_FILE} application.jar\r\n    RUN java -Djarmode=layertools -jar application.jar extract\r\n    \r\n    FROM amazoncorretto:17-alpine\r\n    WORKDIR application\r\n    COPY --from=builder application/dependencies/ ./\r\n    COPY --from=builder application/snapshot-dependencies/ ./\r\n    COPY --from=builder application/spring-boot-loader/ ./\r\n    COPY --from=builder application/application/ ./\r\n    ENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n\r\n","title":"Failed to initialize JPA File Must Exist Error In Kubernetes","body":"<p>I have fixed the problem.</p>\n<p>I don't know the exact cause of the problem but here is the solution. I want to thank @SebPerb because of his suggestion.</p>\n<p>When I use <code>WORKDIR</code>, the problem is fixed.</p>\n<pre><code>FROM amazoncorretto:17-alpine AS builder\nWORKDIR application\nARG JAR_FILE=*.jar\nCOPY ${JAR_FILE} application.jar\nRUN java -Djarmode=layertools -jar application.jar extract\n\nFROM amazoncorretto:17-alpine\nWORKDIR application\nCOPY --from=builder application/dependencies/ ./\nCOPY --from=builder application/snapshot-dependencies/ ./\nCOPY --from=builder application/spring-boot-loader/ ./\nCOPY --from=builder application/application/ ./\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n"}],"owner":{"account_id":7220277,"reputation":1605,"user_id":5511084,"accept_rate":36,"display_name":"Berkin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76369104,"answer_count":1,"score":2,"last_activity_date":1685487120,"creation_date":1685113844,"question_id":76342083,"body_markdown":"I am trying to run an application with two different datasources. One of the datasource is to **write** one of them is to **read**\r\n\r\nMy application runs smoothly on my local. Not a single error. But when I deploy it to the k8s cluster, I am getting this error.\r\n\r\n# Log from K8S\r\n\r\n    Failed to initialize JPA EntityManagerFactory: File must exist : /proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/7/cwd/proc/sys/net/ipv4/tcp_autocorking\r\n\r\nI literally have no clue. The logs below is from my local. I think its related with JPA EntityManagerFactory so I believe it worth to share. \r\n\r\n# Log from Local\r\n\r\n    Building JPA container EntityManagerFactory for persistence unit &#39;default&#39;\r\n    \r\n    PersistenceUnitInfo [\r\n        name: default\r\n        persistence provider classname: null\r\n        classloader: org.springframework.boot.loader.LaunchedURLClassLoader@8bd1b6a\r\n        excludeUnlistedClasses: true\r\n        JTA datasource: null\r\n        Non JTA datasource: HikariDataSource (null)\r\n        Transaction type: RESOURCE_LOCAL\r\n        PU root URL: file:/Users/berkin.akaydin/IdeaProjects/sendingmethods-api/target/sendingmethods-api-XXX.XXX.jar\r\n        Shared Cache Mode: UNSPECIFIED\r\n        Validation Mode: AUTO\r\n        Jar files URLs []\r\n        Managed classes names [\r\n            com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.OrderEntity\r\n            com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.TbbLogEntity\r\n            com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.WriteConnectionEntity\r\n            ]\r\n        Mapping files names []\r\n        Properties []\r\n    ]\r\n\r\n\r\n# Read Configuration (the same for write)\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories(\r\n        basePackages = [&quot;com.berkin.sendingmethodsapi.domain.connection.persistance.repository.read&quot;],\r\n        entityManagerFactoryRef = &quot;readEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;readTransactionManager&quot;\r\n    )\r\n    class readConfiguration {\r\n    \r\n        @Bean(&quot;readDataSourceProperties&quot;)\r\n        @ConfigurationProperties(&quot;spring.datasource.read&quot;)\r\n        fun readDataSourceProperties() = DataSourceProperties()\r\n    \r\n        @Bean(&quot;readDataSource&quot;)\r\n        fun readDataSource(\r\n            @Qualifier(&quot;readDataSourceProperties&quot;) readDataSourceProperties: DataSourceProperties\r\n        ): DataSource =\r\n            readDataSourceProperties.initializeDataSourceBuilder().build()\r\n    \r\n        @Bean(&quot;readTransactionManager&quot;)\r\n        fun readTransactionManager(\r\n            @Qualifier(&quot;readEntityManagerFactory&quot;) readEntityManagerFactory: LocalContainerEntityManagerFactoryBean\r\n        ) = readEntityManagerFactory.`object`?.let { JpaTransactionManager(it) }\r\n    \r\n        @Bean(&quot;readEntityManagerFactory&quot;)\r\n        fun readEntityManagerFactory(\r\n            @Qualifier(&quot;readDataSource&quot;) dataSource: DataSource\r\n        ): LocalContainerEntityManagerFactoryBean {\r\n            val entityManagerFactory = LocalContainerEntityManagerFactoryBean()\r\n            entityManagerFactory.dataSource = dataSource\r\n            entityManagerFactory.setPackagesToScan(&quot;com.berkin.sendingmethodsapi.domain.connection.persistance.model.read&quot;)\r\n            entityManagerFactory.persistenceProvider = HibernatePersistenceProvider()\r\n            entityManagerFactory.jpaVendorAdapter = HibernateJpaVendorAdapter()\r\n            return entityManagerFactory\r\n        }\r\n    }\r\n\r\n\r\n# application.properties\r\n\r\n    jpa:\r\n        open-in-view: false\r\n        hibernate.ddl-auto: validate\r\n        database: MySQL\r\n\r\n\r\n# Dockerfile\r\n\r\n    FROM amazoncorretto:17-alpine as builder\r\n    ARG JAR_FILE=*.jar\r\n    COPY ${JAR_FILE} application.jar\r\n    RUN java -Djarmode=layertools -jar application.jar extract\r\n    \r\n    FROM amazoncorretto:17-alpine\r\n    COPY --from=builder dependencies/ ./\r\n    COPY --from=builder snapshot-dependencies/ ./\r\n    COPY --from=builder spring-boot-loader/ ./\r\n    COPY --from=builder application/ ./\r\n    ENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\r\n\r\n\r\nEdit: \r\nFull log is here\r\nhttps://pastebin.com/smhGekNb","title":"Failed to initialize JPA File Must Exist Error In Kubernetes","body":"<p>I am trying to run an application with two different datasources. One of the datasource is to <strong>write</strong> one of them is to <strong>read</strong></p>\n<p>My application runs smoothly on my local. Not a single error. But when I deploy it to the k8s cluster, I am getting this error.</p>\n<h1>Log from K8S</h1>\n<pre><code>Failed to initialize JPA EntityManagerFactory: File must exist : /proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/1/cwd/proc/self/task/7/cwd/proc/sys/net/ipv4/tcp_autocorking\n</code></pre>\n<p>I literally have no clue. The logs below is from my local. I think its related with JPA EntityManagerFactory so I believe it worth to share.</p>\n<h1>Log from Local</h1>\n<pre><code>Building JPA container EntityManagerFactory for persistence unit 'default'\n\nPersistenceUnitInfo [\n    name: default\n    persistence provider classname: null\n    classloader: org.springframework.boot.loader.LaunchedURLClassLoader@8bd1b6a\n    excludeUnlistedClasses: true\n    JTA datasource: null\n    Non JTA datasource: HikariDataSource (null)\n    Transaction type: RESOURCE_LOCAL\n    PU root URL: file:/Users/berkin.akaydin/IdeaProjects/sendingmethods-api/target/sendingmethods-api-XXX.XXX.jar\n    Shared Cache Mode: UNSPECIFIED\n    Validation Mode: AUTO\n    Jar files URLs []\n    Managed classes names [\n        com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.OrderEntity\n        com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.TbbLogEntity\n        com.berkin.sendingmethodsapi.domain.connection.persistance.model.write.WriteConnectionEntity\n        ]\n    Mapping files names []\n    Properties []\n]\n</code></pre>\n<h1>Read Configuration (the same for write)</h1>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n    basePackages = [&quot;com.berkin.sendingmethodsapi.domain.connection.persistance.repository.read&quot;],\n    entityManagerFactoryRef = &quot;readEntityManagerFactory&quot;,\n    transactionManagerRef = &quot;readTransactionManager&quot;\n)\nclass readConfiguration {\n\n    @Bean(&quot;readDataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.datasource.read&quot;)\n    fun readDataSourceProperties() = DataSourceProperties()\n\n    @Bean(&quot;readDataSource&quot;)\n    fun readDataSource(\n        @Qualifier(&quot;readDataSourceProperties&quot;) readDataSourceProperties: DataSourceProperties\n    ): DataSource =\n        readDataSourceProperties.initializeDataSourceBuilder().build()\n\n    @Bean(&quot;readTransactionManager&quot;)\n    fun readTransactionManager(\n        @Qualifier(&quot;readEntityManagerFactory&quot;) readEntityManagerFactory: LocalContainerEntityManagerFactoryBean\n    ) = readEntityManagerFactory.`object`?.let { JpaTransactionManager(it) }\n\n    @Bean(&quot;readEntityManagerFactory&quot;)\n    fun readEntityManagerFactory(\n        @Qualifier(&quot;readDataSource&quot;) dataSource: DataSource\n    ): LocalContainerEntityManagerFactoryBean {\n        val entityManagerFactory = LocalContainerEntityManagerFactoryBean()\n        entityManagerFactory.dataSource = dataSource\n        entityManagerFactory.setPackagesToScan(&quot;com.berkin.sendingmethodsapi.domain.connection.persistance.model.read&quot;)\n        entityManagerFactory.persistenceProvider = HibernatePersistenceProvider()\n        entityManagerFactory.jpaVendorAdapter = HibernateJpaVendorAdapter()\n        return entityManagerFactory\n    }\n}\n</code></pre>\n<h1>application.properties</h1>\n<pre><code>jpa:\n    open-in-view: false\n    hibernate.ddl-auto: validate\n    database: MySQL\n</code></pre>\n<h1>Dockerfile</h1>\n<pre><code>FROM amazoncorretto:17-alpine as builder\nARG JAR_FILE=*.jar\nCOPY ${JAR_FILE} application.jar\nRUN java -Djarmode=layertools -jar application.jar extract\n\nFROM amazoncorretto:17-alpine\nCOPY --from=builder dependencies/ ./\nCOPY --from=builder snapshot-dependencies/ ./\nCOPY --from=builder spring-boot-loader/ ./\nCOPY --from=builder application/ ./\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n<p>Edit:\nFull log is here\n<a href=\"https://pastebin.com/smhGekNb\" rel=\"nofollow noreferrer\">https://pastebin.com/smhGekNb</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8901867,"reputation":344,"user_id":6645076,"display_name":"crazo7924"},"score":0,"creation_date":1685467031,"post_id":76367128,"comment_id":134663033,"body_markdown":"This is the formula: amountX = principal * (1.0 + rate)^yearX (X denotes a particular year)","body":"This is the formula: amountX = principal * (1.0 + rate)^yearX (X denotes a particular year)"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1685467065,"post_id":76367128,"comment_id":134663037,"body_markdown":"You are multiplying the rate with your value twice a year. First here `eachYearInvest*rate` and then one more time here `(eachYearRevenue+eachYearInvest)*rate`. Logically that rate is payed out once per year, so multiplying it into your result twice should be a massive red flag for you.","body":"You are multiplying the rate with your value twice a year. First here <code>eachYearInvest*rate</code> and then one more time here <code>(eachYearRevenue+eachYearInvest)*rate</code>. Logically that rate is payed out once per year, so multiplying it into your result twice should be a massive red flag for you."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1685467057,"creation_date":1685467057,"answer_id":76367176,"question_id":76367128,"body_markdown":"You&#39;re multiplying by the interest rate twice for each loop. Also, the revenue/invest calculation doesn&#39;t make sense.\r\n\r\nIf you&#39;re defining revenue as the amount made relative to the starting amount, then I assume this is what you want:\r\n\r\n    public static void main(String[] args) {\r\n        final int year = 10;\r\n        final double startingAmount = 12.0;\r\n        final double rate = 1.035;\r\n        double amount = startingAmount;\r\n        for(int i = 1; i &lt;= year; i++) {\r\n            amount *= rate;\r\n            System.out.println(&quot;at &quot; + i + &quot; year the total revenue is &quot; + (amount - startingAmount));\r\n        }\r\n    }\r\n\r\nwhich outputs this:\r\n\r\n    at 1 year the total revenue is 0.41999999999999815\r\n    at 2 year the total revenue is 0.8546999999999976\r\n    at 3 year the total revenue is 1.304614499999996\r\n    at 4 year the total revenue is 1.7702760074999944\r\n    at 5 year the total revenue is 2.252235667762493\r\n    at 6 year the total revenue is 2.7510639161341786\r\n    at 7 year the total revenue is 3.2673511531988737\r\n    at 8 year the total revenue is 3.801708443560834\r\n    at 9 year the total revenue is 4.3547682390854625\r\n    at 10 year the total revenue is 4.927185127453452","title":"Additional investment compound interest calculation","body":"<p>You're multiplying by the interest rate twice for each loop. Also, the revenue/invest calculation doesn't make sense.</p>\n<p>If you're defining revenue as the amount made relative to the starting amount, then I assume this is what you want:</p>\n<pre><code>public static void main(String[] args) {\n    final int year = 10;\n    final double startingAmount = 12.0;\n    final double rate = 1.035;\n    double amount = startingAmount;\n    for(int i = 1; i &lt;= year; i++) {\n        amount *= rate;\n        System.out.println(&quot;at &quot; + i + &quot; year the total revenue is &quot; + (amount - startingAmount));\n    }\n}\n</code></pre>\n<p>which outputs this:</p>\n<pre><code>at 1 year the total revenue is 0.41999999999999815\nat 2 year the total revenue is 0.8546999999999976\nat 3 year the total revenue is 1.304614499999996\nat 4 year the total revenue is 1.7702760074999944\nat 5 year the total revenue is 2.252235667762493\nat 6 year the total revenue is 2.7510639161341786\nat 7 year the total revenue is 3.2673511531988737\nat 8 year the total revenue is 3.801708443560834\nat 9 year the total revenue is 4.3547682390854625\nat 10 year the total revenue is 4.927185127453452\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685474137,"creation_date":1685467208,"answer_id":76367190,"question_id":76367128,"body_markdown":"&gt;  the expect result should be 12.42/25.28/38.59 etc\r\n\r\nWhat you want based on your question is future value (Deposit plus interest).\r\nYou need to multiply the sum of `(eachYearInvest + cumulativeYearsFutureValue)` by the `rate`, then print.  To round up I added `.005` to the results.  This presumes an initial investment of 12K specified in thousands of dollars.\r\n```\r\nint year=10;\r\ndouble eachYearInvest = 12, // in thousands\r\ncumulativeYearsFutureValue = 0\r\nrate=1.035;\r\nfor(int i=1; i&lt;=year; i++) {            \r\n    cumulativeYearsFutureValue = (eachYearInvest + cumulativeYearsFutureValue)*rate;\r\n    System.out.printf(&quot;at &quot; + i + &quot; year the cumulative future value is %.2f%n&quot;, \r\n     cumulativeYearsFutureValue+.005);\r\n}\r\n```\r\nprints\r\n```\r\nat 1 year the cumulative future value is 12.42\r\nat 2 year the cumulative future value is 25.28\r\nat 3 year the cumulative future value is 38.58\r\nat 4 year the cumulative future value is 52.35\r\nat 5 year the cumulative future value is 66.61\r\nat 6 year the cumulative future value is 81.36\r\nat 7 year the cumulative future value is 96.63\r\nat 8 year the cumulative future value is 112.43\r\nat 9 year the cumulative future value is 128.78\r\nat 10 year the cumulative future value is 145.71\r\n","title":"Additional investment compound interest calculation","body":"<blockquote>\n<p>the expect result should be 12.42/25.28/38.59 etc</p>\n</blockquote>\n<p>What you want based on your question is future value (Deposit plus interest).\nYou need to multiply the sum of <code>(eachYearInvest + cumulativeYearsFutureValue)</code> by the <code>rate</code>, then print.  To round up I added <code>.005</code> to the results.  This presumes an initial investment of 12K specified in thousands of dollars.</p>\n<pre><code>int year=10;\ndouble eachYearInvest = 12, // in thousands\ncumulativeYearsFutureValue = 0\nrate=1.035;\nfor(int i=1; i&lt;=year; i++) {            \n    cumulativeYearsFutureValue = (eachYearInvest + cumulativeYearsFutureValue)*rate;\n    System.out.printf(&quot;at &quot; + i + &quot; year the cumulative future value is %.2f%n&quot;, \n     cumulativeYearsFutureValue+.005);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>at 1 year the cumulative future value is 12.42\nat 2 year the cumulative future value is 25.28\nat 3 year the cumulative future value is 38.58\nat 4 year the cumulative future value is 52.35\nat 5 year the cumulative future value is 66.61\nat 6 year the cumulative future value is 81.36\nat 7 year the cumulative future value is 96.63\nat 8 year the cumulative future value is 112.43\nat 9 year the cumulative future value is 128.78\nat 10 year the cumulative future value is 145.71\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685467425,"creation_date":1685467425,"answer_id":76367222,"question_id":76367128,"body_markdown":"Try this:\r\n\r\n\tpublic static void main(String[] args) throws IOException, ParseException {\r\n\t\tint year = 10;\r\n\t\tdouble eachYearInvest = 12, eachYearRevenue = 0, rate = 1.035, eachYearIn = eachYearInvest;\r\n\r\n\t\tfor (int i = 1; i &lt;= year; i++) {\r\n\t\t\teachYearRevenue = eachYearIn * rate;\r\n\t\t\tSystem.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\r\n\t\t\teachYearIn = eachYearRevenue + eachYearInvest;\r\n\t\t}\r\n\t}","title":"Additional investment compound interest calculation","body":"<p>Try this:</p>\n<pre><code>public static void main(String[] args) throws IOException, ParseException {\n    int year = 10;\n    double eachYearInvest = 12, eachYearRevenue = 0, rate = 1.035, eachYearIn = eachYearInvest;\n\n    for (int i = 1; i &lt;= year; i++) {\n        eachYearRevenue = eachYearIn * rate;\n        System.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\n        eachYearIn = eachYearRevenue + eachYearInvest;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685473042,"creation_date":1685472548,"answer_id":76367785,"question_id":76367128,"body_markdown":"If you are investing $12k, shouldn&#39;t your principal be `12_000.0`?\r\n\r\nAlso, the number formatter supports currencies.\r\n\r\n```java\r\nimport java.text.NumberFormat;\r\nimport java.util.Locale;\r\n\r\npublic class RevenueCalculator {\r\n    private static final NumberFormat currencyFormatter;\r\n\r\n    static {\r\n        currencyFormatter = NumberFormat.getCurrencyInstance(Locale.US);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        double revenue = calculateRevenue(12_000.0, 0.035, 10);\r\n        System.out.printf(&quot;Final amount: %s&quot;, currencyFormatter.format(revenue));\r\n    }\r\n\r\n    public static double calculateRevenue(double principal, double rate, int years) {\r\n        double revenue = principal;\r\n        for (int year = 1; year &lt;= years; year++) {\r\n            revenue *= (1 + rate);\r\n            System.out.printf(&quot;At %d year(s), the total revenue is: %s%n&quot;,\r\n                    year, currencyFormatter.format(revenue - principal));\r\n        }\r\n        return revenue;\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nAt 1 year(s), the total revenue is: $420.00\r\nAt 2 year(s), the total revenue is: $854.70\r\nAt 3 year(s), the total revenue is: $1,304.61\r\nAt 4 year(s), the total revenue is: $1,770.28\r\nAt 5 year(s), the total revenue is: $2,252.24\r\nAt 6 year(s), the total revenue is: $2,751.06\r\nAt 7 year(s), the total revenue is: $3,267.35\r\nAt 8 year(s), the total revenue is: $3,801.71\r\nAt 9 year(s), the total revenue is: $4,354.77\r\nAt 10 year(s), the total revenue is: $4,927.19\r\nFinal amount: $16,927.19\r\n```\r\n\r\nSee also: https://www.calculateme.com/compound-interest/12000/3.5/10","title":"Additional investment compound interest calculation","body":"<p>If you are investing $12k, shouldn't your principal be <code>12_000.0</code>?</p>\n<p>Also, the number formatter supports currencies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class RevenueCalculator {\n    private static final NumberFormat currencyFormatter;\n\n    static {\n        currencyFormatter = NumberFormat.getCurrencyInstance(Locale.US);\n    }\n\n    public static void main(String[] args) {\n        double revenue = calculateRevenue(12_000.0, 0.035, 10);\n        System.out.printf(&quot;Final amount: %s&quot;, currencyFormatter.format(revenue));\n    }\n\n    public static double calculateRevenue(double principal, double rate, int years) {\n        double revenue = principal;\n        for (int year = 1; year &lt;= years; year++) {\n            revenue *= (1 + rate);\n            System.out.printf(&quot;At %d year(s), the total revenue is: %s%n&quot;,\n                    year, currencyFormatter.format(revenue - principal));\n        }\n        return revenue;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>At 1 year(s), the total revenue is: $420.00\nAt 2 year(s), the total revenue is: $854.70\nAt 3 year(s), the total revenue is: $1,304.61\nAt 4 year(s), the total revenue is: $1,770.28\nAt 5 year(s), the total revenue is: $2,252.24\nAt 6 year(s), the total revenue is: $2,751.06\nAt 7 year(s), the total revenue is: $3,267.35\nAt 8 year(s), the total revenue is: $3,801.71\nAt 9 year(s), the total revenue is: $4,354.77\nAt 10 year(s), the total revenue is: $4,927.19\nFinal amount: $16,927.19\n</code></pre>\n<p>See also: <a href=\"https://www.calculateme.com/compound-interest/12000/3.5/10\" rel=\"nofollow noreferrer\">https://www.calculateme.com/compound-interest/12000/3.5/10</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685486858,"creation_date":1685486858,"answer_id":76369095,"question_id":76367128,"body_markdown":"The _eachYearRevenue_ assignment should include the previous year&#39;s value.\r\n\r\n```java\r\neachYearRevenue = (eachYearInvest+eachYearRevenue)*rate;\r\n```\r\n\r\nAs opposed to incrementing the _eachYearInvest_ value.\r\n\r\n```java\r\neachYearInvest = (eachYearRevenue+eachYearInvest)*rate;\r\n```\r\n\r\nSo, your total code would be the following.\r\n\r\n```java\r\nint year=10;\r\ndouble eachYearInvest = 12,\r\n    eachYearRevenue=0,\r\n    rate=1.035;\r\nfor(int i=1; i&lt;=year; i++) {\r\n    eachYearRevenue = (eachYearInvest+eachYearRevenue)*rate;\r\n    System.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nat 1 year the total revenue are 12.419999999999998\r\nat 2 year the total revenue are 25.274699999999996\r\nat 3 year the total revenue are 38.579314499999995\r\nat 4 year the total revenue are 52.34959050749999\r\nat 5 year the total revenue are 66.60182617526247\r\nat 6 year the total revenue are 81.35289009139666\r\nat 7 year the total revenue are 96.62024124459553\r\nat 8 year the total revenue are 112.42194968815637\r\nat 9 year the total revenue are 128.77671792724183\r\nat 10 year the total revenue are 145.70390305469527\r\n```","title":"Additional investment compound interest calculation","body":"<p>The <em>eachYearRevenue</em> assignment should include the previous year's value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>eachYearRevenue = (eachYearInvest+eachYearRevenue)*rate;\n</code></pre>\n<p>As opposed to incrementing the <em>eachYearInvest</em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>eachYearInvest = (eachYearRevenue+eachYearInvest)*rate;\n</code></pre>\n<p>So, your total code would be the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int year=10;\ndouble eachYearInvest = 12,\n    eachYearRevenue=0,\n    rate=1.035;\nfor(int i=1; i&lt;=year; i++) {\n    eachYearRevenue = (eachYearInvest+eachYearRevenue)*rate;\n    System.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>at 1 year the total revenue are 12.419999999999998\nat 2 year the total revenue are 25.274699999999996\nat 3 year the total revenue are 38.579314499999995\nat 4 year the total revenue are 52.34959050749999\nat 5 year the total revenue are 66.60182617526247\nat 6 year the total revenue are 81.35289009139666\nat 7 year the total revenue are 96.62024124459553\nat 8 year the total revenue are 112.42194968815637\nat 9 year the total revenue are 128.77671792724183\nat 10 year the total revenue are 145.70390305469527\n</code></pre>\n"}],"owner":{"account_id":24768436,"reputation":9,"user_id":18652191,"display_name":"Don"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1685486858,"creation_date":1685466584,"question_id":76367128,"body_markdown":"Hi I try to figure out this scenario, \r\ninvest 12k each year, anuual rate is 3.5%, total 10 years. \r\nmy code start getting incorrect calculation since second year. \r\nis there any logic error to use this for loop? \r\nthe expect result should be 12.42/25.28/38.59 etc\r\nbut I got 12.42/26.16/55.10/116.05.....\r\n\r\n    \tint year=10;\r\n\t\tdouble eachYearInvest = 12, \r\n\t\t       eachYearRevenue=0,\r\n\t\t       rate=1.035;\r\n\t\tfor(int i=1; i&lt;=year; i++) {\t\t\t\r\n\t\t\teachYearRevenue = eachYearInvest*rate;\r\n\t\t\tSystem.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\r\n\t\t\teachYearInvest = (eachYearRevenue+eachYearInvest)*rate;\t\t\t\r\n\t\t}","title":"Additional investment compound interest calculation","body":"<p>Hi I try to figure out this scenario,\ninvest 12k each year, anuual rate is 3.5%, total 10 years.\nmy code start getting incorrect calculation since second year.\nis there any logic error to use this for loop?\nthe expect result should be 12.42/25.28/38.59 etc\nbut I got 12.42/26.16/55.10/116.05.....</p>\n<pre><code>    int year=10;\n    double eachYearInvest = 12, \n           eachYearRevenue=0,\n           rate=1.035;\n    for(int i=1; i&lt;=year; i++) {            \n        eachYearRevenue = eachYearInvest*rate;\n        System.out.println(&quot;at &quot; + i + &quot; year the total revenue are &quot; + eachYearRevenue);\n        eachYearInvest = (eachYearRevenue+eachYearInvest)*rate;         \n    }\n</code></pre>\n"},{"tags":["java","android","android-intent","android-pendingintent"],"answers":[{"tags":[],"owner":{"account_id":20104819,"reputation":96,"user_id":14742593,"display_name":"coderms"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1607056885,"creation_date":1607056885,"answer_id":65138030,"question_id":65137470,"body_markdown":"From Android 10 background apps are not allowed to start activities directly. Instead they need to show notification to user and get user consent. An exception to this is If your app has SYSTEM_ALERT_WINDOW permission granted.\r\n\r\nSee\r\n\r\nhttps://developer.android.com/guide/components/activities/background-starts","title":"Activity not starting from Android JobService","body":"<p>From Android 10 background apps are not allowed to start activities directly. Instead they need to show notification to user and get user consent. An exception to this is If your app has SYSTEM_ALERT_WINDOW permission granted.</p>\n<p>See</p>\n<p><a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/activities/background-starts</a></p>\n"}],"owner":{"account_id":199087,"reputation":1284,"user_id":444158,"accept_rate":53,"display_name":"Prabhakaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65138030,"answer_count":1,"score":0,"last_activity_date":1685485274,"creation_date":1607051958,"question_id":65137470,"body_markdown":"I am trying to start an activity from the Android Jobservice and it was not starting. When I start an activity from the notification builder with addAction method I am able to do it but the same I have to do it without any user consent and here I am fail.\r\n\r\n         final Intent intent1 =  Intent intent = new Intent(context, onActivity.class);\r\n         final PendingIntent pendingIntent = PendingIntent.getActivity(this, &quot;1&quot;,\r\n                        intent1 , PendingIntent.FLAG_ONE_SHOT);\r\n    if(acceptvalid) {\r\n        mBuilder.setContentTitle(getString(R.string.app_name))\r\n                        .setContentText(getString(R.string.on))\r\n                        .setSmallIcon(R.drawable.icon)\r\n                        .setDefaults(Notification.DEFAULT_ALL)\r\n                        .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                        .setVisibility(Notification.VISIBILITY_PUBLIC)\r\n                        .setAutoCancel(true)\r\n                        .addAction(R.drawable.ic_yes, getString(android.R.string.yes), installPendingIntent);\r\n                       \r\n        \r\n        notificationManager.notify(1, mBuilder.build());\r\n    } else {\r\n         try{           \r\n                  installPendingIntent.send();\r\n         } catch (PendingIntent.CanceledException e) {\r\n                 LOG.error(&quot;error starting activity.&quot;, e);\r\n            }\r\n        }\r\n\r\nThe above if loop code works for me and else is not working. I even tried the below code in else loop:\r\n\r\n    intent1.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    this.startActivity(intent1 );\r\n\r\nWhat is my error?\r\n","title":"Activity not starting from Android JobService","body":"<p>I am trying to start an activity from the Android Jobservice and it was not starting. When I start an activity from the notification builder with addAction method I am able to do it but the same I have to do it without any user consent and here I am fail.</p>\n<pre><code>     final Intent intent1 =  Intent intent = new Intent(context, onActivity.class);\n     final PendingIntent pendingIntent = PendingIntent.getActivity(this, &quot;1&quot;,\n                    intent1 , PendingIntent.FLAG_ONE_SHOT);\nif(acceptvalid) {\n    mBuilder.setContentTitle(getString(R.string.app_name))\n                    .setContentText(getString(R.string.on))\n                    .setSmallIcon(R.drawable.icon)\n                    .setDefaults(Notification.DEFAULT_ALL)\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\n                    .setVisibility(Notification.VISIBILITY_PUBLIC)\n                    .setAutoCancel(true)\n                    .addAction(R.drawable.ic_yes, getString(android.R.string.yes), installPendingIntent);\n                   \n    \n    notificationManager.notify(1, mBuilder.build());\n} else {\n     try{           \n              installPendingIntent.send();\n     } catch (PendingIntent.CanceledException e) {\n             LOG.error(&quot;error starting activity.&quot;, e);\n        }\n    }\n</code></pre>\n<p>The above if loop code works for me and else is not working. I even tried the below code in else loop:</p>\n<pre><code>intent1.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nthis.startActivity(intent1 );\n</code></pre>\n<p>What is my error?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":271947,"reputation":1205,"user_id":562752,"accept_rate":45,"display_name":"lennykey"},"score":0,"creation_date":1518605964,"post_id":29885428,"comment_id":84572367,"body_markdown":"Lombok opend issues on GitHub has one open issue for this https://github.com/rzwitserloot/lombok/issues/1043","body":"Lombok opend issues on GitHub has one open issue for this <a href=\"https://github.com/rzwitserloot/lombok/issues/1043\" rel=\"nofollow noreferrer\">github.com/rzwitserloot/lombok/issues/1043</a>"},{"owner":{"account_id":3458166,"reputation":607,"user_id":2896153,"accept_rate":71,"display_name":"dragosb"},"score":0,"creation_date":1611661045,"post_id":29885428,"comment_id":116516980,"body_markdown":"It won&#39;t probably work with lombok, since you need access to the actual builder source code, but if you do have access then you can try a plugin I developed to solve exactly these kind of issues: https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin","body":"It won&#39;t probably work with lombok, since you need access to the actual builder source code, but if you do have access then you can try a plugin I developed to solve exactly these kind of issues: <a href=\"https://github.com/banterly91/Java-Builder-Guided-Completion-Intellij-Plugin\" rel=\"nofollow noreferrer\">github.com/banterly91/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":168406,"reputation":3588,"user_id":4105584,"accept_rate":60,"display_name":"Pawel"},"down_vote_count":7,"up_vote_count":117,"is_accepted":true,"score":110,"last_activity_date":1434456836,"creation_date":1434456836,"answer_id":30867286,"question_id":29885428,"body_markdown":"You can do it easily with Lombok annotation configuration\r\n\r\n    import lombok.Builder;\r\n    import lombok.ToString;\r\n    \r\n    @Builder(builderMethodName = &quot;hiddenBuilder&quot;)\r\n    @ToString\r\n    public class Person {\r\n    \r\n    \tprivate String name;\r\n    \tprivate String surname;\r\n    \r\n    \tpublic static PersonBuilder builder(String name) {\r\n    \t\treturn hiddenBuilder().name(name);\r\n    \t}\r\n    }\r\nAnd then use it like that\r\n\r\n    Person p = Person.builder(&quot;Name&quot;).surname(&quot;Surname&quot;).build();\r\n\tSystem.out.println(p);\r\n\r\nOf course `@ToString` is optional here.","title":"Required arguments with a Lombok @Builder","body":"<p>You can do it easily with Lombok annotation configuration</p>\n\n<pre><code>import lombok.Builder;\nimport lombok.ToString;\n\n@Builder(builderMethodName = \"hiddenBuilder\")\n@ToString\npublic class Person {\n\n    private String name;\n    private String surname;\n\n    public static PersonBuilder builder(String name) {\n        return hiddenBuilder().name(name);\n    }\n}\n</code></pre>\n\n<p>And then use it like that</p>\n\n<pre><code>Person p = Person.builder(\"Name\").surname(\"Surname\").build();\nSystem.out.println(p);\n</code></pre>\n\n<p>Of course <code>@ToString</code> is optional here.</p>\n"},{"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1458249031,"creation_date":1458247266,"answer_id":36071280,"question_id":29885428,"body_markdown":"Here&#39;s another approach:\r\n\r\n    @Builder()\r\n    @Getter\r\n    @ToString\r\n    public class Person {\r\n    \t\r\n    \tprivate final String name;\r\n    \tprivate final String surname;\r\n    \t\r\n    \tpublic static PersonBuilder builder(String name){\r\n    \t\treturn new PersonBuilder().name(name);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPerson p = Person.builder(&quot;John Doe&quot;)\r\n    \t\t\t\t.surname(&quot;Bill&quot;)\r\n    \t\t\t\t.build();\r\n    \t}\r\n    }","title":"Required arguments with a Lombok @Builder","body":"<p>Here's another approach:</p>\n\n<pre><code>@Builder()\n@Getter\n@ToString\npublic class Person {\n\n    private final String name;\n    private final String surname;\n\n    public static PersonBuilder builder(String name){\n        return new PersonBuilder().name(name);\n    }\n\n    public static void main(String[] args) {\n        Person p = Person.builder(\"John Doe\")\n                .surname(\"Bill\")\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2908020,"reputation":4642,"user_id":2492865,"display_name":"Anton Koscejev"},"down_vote_count":6,"up_vote_count":68,"is_accepted":false,"score":62,"last_activity_date":1459329670,"creation_date":1459329670,"answer_id":36304580,"question_id":29885428,"body_markdown":"I would recommend against this approach, as you will struggle to apply it consistently on other objects. Instead, you can just mark fields with `@lombok.NonNull` annotation and Lombok will generate null checks for you in the constructor and setters, so that `Builder.build()` will fail, if those fields are not set.\r\n\r\nUsing builder pattern allows you to have very clear identification of which fields you&#39;re setting to which values. This is already lost for name field in your example, and it will further be lost for all other required fields, if you&#39;re building an object with multiple required fields. Consider the following example, can you tell which field is which just by reading code?\r\n\r\n    Person.builder(&quot;John&quot;, &quot;Michael&quot;, 16, 1987) // which is name, which is surname? what is 16?\r\n        .year(1982) // if this is year of birth, then what is 1987 above?\r\n        .build()\r\n","title":"Required arguments with a Lombok @Builder","body":"<p>I would recommend against this approach, as you will struggle to apply it consistently on other objects. Instead, you can just mark fields with <code>@lombok.NonNull</code> annotation and Lombok will generate null checks for you in the constructor and setters, so that <code>Builder.build()</code> will fail, if those fields are not set.</p>\n\n<p>Using builder pattern allows you to have very clear identification of which fields you're setting to which values. This is already lost for name field in your example, and it will further be lost for all other required fields, if you're building an object with multiple required fields. Consider the following example, can you tell which field is which just by reading code?</p>\n\n<pre><code>Person.builder(\"John\", \"Michael\", 16, 1987) // which is name, which is surname? what is 16?\n    .year(1982) // if this is year of birth, then what is 1987 above?\n    .build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1601812,"reputation":1854,"user_id":1482700,"accept_rate":72,"display_name":"kozla13"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1481799069,"creation_date":1481799069,"answer_id":41162327,"question_id":29885428,"body_markdown":"This is my solution for the problem\r\n\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NonNull;\r\n    \r\n    @Data\r\n    @Builder(builderMethodName = &quot;privateBuilder&quot;)\r\n    public class Person {\r\n        @NonNull\r\n        private String name;\r\n        @NonNull\r\n        private String surname;\r\n        private int age;//optional\r\n\r\n    public static Url safeBuilder() {\r\n        return new Builder();\r\n    }\r\n\r\n    interface Url {\r\n        Surname name(String name);\r\n    }\r\n\r\n    interface Surname {\r\n        Build surname(String surname);\r\n    }\r\n\r\n    interface Build {\r\n        Build age(int age);\r\n        Person build();\r\n    }\r\n\r\n    public static class Builder implements Url, Surname, Build {\r\n        PersonBuilder pb = Person.privateBuilder();\r\n\r\n        @Override\r\n        public Surname name(String name) {\r\n            pb.name(name);\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public Build surname(String surname) {\r\n            pb.surname(surname);\r\n            return this;\r\n\r\n        }\r\n\r\n        @Override\r\n        public Build age(int age) {\r\n            pb.age(age);\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public Person build() {\r\n            return pb.build();\r\n        }\r\n        }\r\n    }\r\n\r\ninspired by this blog post:\r\n\r\nhttps://blog.jayway.com/2012/02/07/builder-pattern-with-a-twist/","title":"Required arguments with a Lombok @Builder","body":"<p>This is my solution for the problem</p>\n\n<pre><code>import lombok.Builder;\nimport lombok.Data;\nimport lombok.NonNull;\n\n@Data\n@Builder(builderMethodName = \"privateBuilder\")\npublic class Person {\n    @NonNull\n    private String name;\n    @NonNull\n    private String surname;\n    private int age;//optional\n\npublic static Url safeBuilder() {\n    return new Builder();\n}\n\ninterface Url {\n    Surname name(String name);\n}\n\ninterface Surname {\n    Build surname(String surname);\n}\n\ninterface Build {\n    Build age(int age);\n    Person build();\n}\n\npublic static class Builder implements Url, Surname, Build {\n    PersonBuilder pb = Person.privateBuilder();\n\n    @Override\n    public Surname name(String name) {\n        pb.name(name);\n        return this;\n    }\n\n    @Override\n    public Build surname(String surname) {\n        pb.surname(surname);\n        return this;\n\n    }\n\n    @Override\n    public Build age(int age) {\n        pb.age(age);\n        return this;\n    }\n\n    @Override\n    public Person build() {\n        return pb.build();\n    }\n    }\n}\n</code></pre>\n\n<p>inspired by this blog post:</p>\n\n<p><a href=\"https://blog.jayway.com/2012/02/07/builder-pattern-with-a-twist/\" rel=\"noreferrer\">https://blog.jayway.com/2012/02/07/builder-pattern-with-a-twist/</a></p>\n"},{"tags":[],"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1579825246,"creation_date":1519986653,"answer_id":49067307,"question_id":29885428,"body_markdown":"The simpliest solution is to add a `@lombok.NonNull` to all mandatory values. The Builder will fail to build the object when mandatory fields are not set.\r\n\r\nHere&#39;s a JUnit test to demonstrate the behavior of all combinations of `final` and `@NonNull`:\r\n\r\n    import static org.junit.Assert.fail;\r\n    \r\n    import org.junit.Test;\r\n    \r\n    import lombok.Builder;\r\n    import lombok.ToString;\r\n    \r\n    public class BuilderTests {\r\n    \t@Test\r\n    \tpublic void allGiven() {\r\n    \t\tSystem.err.println(Foo.builder()\r\n                .nonFinalNull(&quot;has_value&quot;)\r\n                .nonFinalNonNull(&quot;has_value&quot;)\r\n                .finalNull(&quot;has_value&quot;)\r\n                .finalNonNull(&quot;has_value&quot;)\r\n                .build());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void noneGiven() {\r\n    \t\ttry {\r\n    \t\t\tSystem.err.println(Foo.builder()\r\n                    .build()\r\n                    .toString());\r\n    \t\t\tfail();\r\n    \t\t} catch (NullPointerException e) {\r\n    \t\t\t// expected\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void nonFinalNullOmitted() {\r\n    \t\tSystem.err.println(Foo.builder()\r\n                .nonFinalNonNull(&quot;has_value&quot;)\r\n                .finalNull(&quot;has_value&quot;)\r\n                .finalNonNull(&quot;has_value&quot;)\r\n                .build());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void nonFinalNonNullOmitted() {\r\n    \t\ttry {\r\n    \t\t\tSystem.err.println(Foo.builder()\r\n                    .nonFinalNull(&quot;has_value&quot;)\r\n                    .finalNull(&quot;has_value&quot;)\r\n                    .finalNonNull(&quot;has_value&quot;)\r\n                    .build());\r\n    \t\t\tfail();\r\n    \t\t} catch (NullPointerException e) {\r\n    \t\t\t// expected\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void finalNullOmitted() {\r\n    \t\tSystem.err.println(Foo.builder()\r\n                .nonFinalNull(&quot;has_value&quot;)\r\n                .nonFinalNonNull(&quot;has_value&quot;)\r\n                .finalNonNull(&quot;has_value&quot;)\r\n                .build());\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void finalNonNullOmitted() {\r\n    \t\ttry {\r\n    \t\t\tSystem.err.println(Foo.builder()\r\n                    .nonFinalNull(&quot;has_value&quot;)\r\n                    .nonFinalNonNull(&quot;has_value&quot;)\r\n                    .finalNull(&quot;has_value&quot;)\r\n                    .build());\r\n    \t\t\tfail();\r\n    \t\t} catch (NullPointerException e) {\r\n    \t\t\t// expected\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Builder\r\n    \t@ToString\r\n    \tprivate static class Foo {\r\n    \t\tprivate String nonFinalNull;\r\n    \r\n    \t\t@lombok.NonNull\r\n    \t\tprivate String nonFinalNonNull;\r\n    \r\n    \t\tprivate final String finalNull;\r\n    \r\n    \t\t@lombok.NonNull\r\n    \t\tprivate final String finalNonNull;\r\n    \t}\r\n    }\r\n\r\n","title":"Required arguments with a Lombok @Builder","body":"<p>The simpliest solution is to add a <code>@lombok.NonNull</code> to all mandatory values. The Builder will fail to build the object when mandatory fields are not set.</p>\n\n<p>Here's a JUnit test to demonstrate the behavior of all combinations of <code>final</code> and <code>@NonNull</code>:</p>\n\n<pre><code>import static org.junit.Assert.fail;\n\nimport org.junit.Test;\n\nimport lombok.Builder;\nimport lombok.ToString;\n\npublic class BuilderTests {\n    @Test\n    public void allGiven() {\n        System.err.println(Foo.builder()\n            .nonFinalNull(\"has_value\")\n            .nonFinalNonNull(\"has_value\")\n            .finalNull(\"has_value\")\n            .finalNonNull(\"has_value\")\n            .build());\n    }\n\n    @Test\n    public void noneGiven() {\n        try {\n            System.err.println(Foo.builder()\n                .build()\n                .toString());\n            fail();\n        } catch (NullPointerException e) {\n            // expected\n        }\n    }\n\n    @Test\n    public void nonFinalNullOmitted() {\n        System.err.println(Foo.builder()\n            .nonFinalNonNull(\"has_value\")\n            .finalNull(\"has_value\")\n            .finalNonNull(\"has_value\")\n            .build());\n    }\n\n    @Test\n    public void nonFinalNonNullOmitted() {\n        try {\n            System.err.println(Foo.builder()\n                .nonFinalNull(\"has_value\")\n                .finalNull(\"has_value\")\n                .finalNonNull(\"has_value\")\n                .build());\n            fail();\n        } catch (NullPointerException e) {\n            // expected\n        }\n    }\n\n    @Test\n    public void finalNullOmitted() {\n        System.err.println(Foo.builder()\n            .nonFinalNull(\"has_value\")\n            .nonFinalNonNull(\"has_value\")\n            .finalNonNull(\"has_value\")\n            .build());\n    }\n\n    @Test\n    public void finalNonNullOmitted() {\n        try {\n            System.err.println(Foo.builder()\n                .nonFinalNull(\"has_value\")\n                .nonFinalNonNull(\"has_value\")\n                .finalNull(\"has_value\")\n                .build());\n            fail();\n        } catch (NullPointerException e) {\n            // expected\n        }\n    }\n\n    @Builder\n    @ToString\n    private static class Foo {\n        private String nonFinalNull;\n\n        @lombok.NonNull\n        private String nonFinalNonNull;\n\n        private final String finalNull;\n\n        @lombok.NonNull\n        private final String finalNonNull;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1540721563,"creation_date":1522206499,"answer_id":49525430,"question_id":29885428,"body_markdown":"Taking Kevin Day&#39;s [answer][1] a step further:\r\n\r\n    @Builder\r\n    @Getter\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE) // If immutability is desired\r\n    @ToString\r\n    public class Person {\r\n        @NonNull // Presumably name cannot be null since its required by the builder\r\n        private final String name;\r\n        private final String surname;\r\n\r\n        private static PersonBuilder builder() {\r\n            return new PersonBuilder();\r\n        }\r\n    \r\n        public static PersonBuilder builder(String name){\r\n            return builder().name(name);\r\n        }\r\n    \r\n    }\r\n\r\nIt&#39;s not ideal, but it provides compile time enforcement and callers of this class will have exactly one builder method to use.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/36071280/2860319","title":"Required arguments with a Lombok @Builder","body":"<p>Taking Kevin Day's <a href=\"https://stackoverflow.com/a/36071280/2860319\">answer</a> a step further:</p>\n\n<pre><code>@Builder\n@Getter\n@AllArgsConstructor(access = AccessLevel.PRIVATE) // If immutability is desired\n@ToString\npublic class Person {\n    @NonNull // Presumably name cannot be null since its required by the builder\n    private final String name;\n    private final String surname;\n\n    private static PersonBuilder builder() {\n        return new PersonBuilder();\n    }\n\n    public static PersonBuilder builder(String name){\n        return builder().name(name);\n    }\n\n}\n</code></pre>\n\n<p>It's not ideal, but it provides compile time enforcement and callers of this class will have exactly one builder method to use.</p>\n"},{"tags":[],"owner":{"account_id":2471729,"reputation":1155,"user_id":2153411,"accept_rate":60,"display_name":"Krishna M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561559676,"creation_date":1561559676,"answer_id":56775292,"question_id":29885428,"body_markdown":"If you need this functionality, you can customize the builder class by yourself and you can still add `@Builder` Annotation.\r\n\r\n    @Builder\r\n    public class Person {\r\n    \t\r\n    \tpublic static class PersonBuilder {\r\n    \t\tprivate String name;\r\n    \t\t\r\n    \t\tprivate PersonBuilder() {\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic PersonBuilder(final String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static PersonBuilder builder() {\r\n    \t\treturn null; // or we can throw exception.\r\n    \t}\r\n    \t\r\n    \tpublic static PersonBuilder builder(final String name) {\r\n    \t\treturn new PersonBuilder(clientId);\r\n    \t}\r\n    }","title":"Required arguments with a Lombok @Builder","body":"<p>If you need this functionality, you can customize the builder class by yourself and you can still add <code>@Builder</code> Annotation.</p>\n\n<pre><code>@Builder\npublic class Person {\n\n    public static class PersonBuilder {\n        private String name;\n\n        private PersonBuilder() {\n        }\n\n        public PersonBuilder(final String name) {\n            this.name = name;\n        }\n    }\n\n    private static PersonBuilder builder() {\n        return null; // or we can throw exception.\n    }\n\n    public static PersonBuilder builder(final String name) {\n        return new PersonBuilder(clientId);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3970425,"reputation":4907,"user_id":3275167,"accept_rate":82,"display_name":"coderz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568676330,"creation_date":1568416078,"answer_id":57931227,"question_id":29885428,"body_markdown":"Take `User` class as example, `id` field is required:\r\n\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE) // required, see https://stackoverflow.com/questions/51122400/why-is-lombok-builder-not-compatible-with-this-constructor\r\n    @NoArgsConstructor(access = AccessLevel.PRIVATE)\r\n    @Builder\r\n    @Getter\r\n    public class User {\r\n        private String id;\r\n        private String name;\r\n        private int age;\r\n    \r\n        public static UserBuilder builder(final String id) {\r\n            return new UserBuilder().id(id);\r\n        }\r\n    }\r\n\r\nYou can ***only*** initialize a `User` instance by builder like `User user = User.builder(&quot;id-123&quot;).name(&quot;Tom&quot;).build;`. With private no args constructer, you are not able to `User user = new User();` or `User user = new User(&quot;id-123&quot;);` so you always need to pass the required parameter `id`. Please note the initialized instance is immutable.","title":"Required arguments with a Lombok @Builder","body":"<p>Take <code>User</code> class as example, <code>id</code> field is required:</p>\n\n<pre><code>@AllArgsConstructor(access = AccessLevel.PRIVATE) // required, see https://stackoverflow.com/questions/51122400/why-is-lombok-builder-not-compatible-with-this-constructor\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\n@Builder\n@Getter\npublic class User {\n    private String id;\n    private String name;\n    private int age;\n\n    public static UserBuilder builder(final String id) {\n        return new UserBuilder().id(id);\n    }\n}\n</code></pre>\n\n<p>You can <strong><em>only</em></strong> initialize a <code>User</code> instance by builder like <code>User user = User.builder(\"id-123\").name(\"Tom\").build;</code>. With private no args constructer, you are not able to <code>User user = new User();</code> or <code>User user = new User(\"id-123\");</code> so you always need to pass the required parameter <code>id</code>. Please note the initialized instance is immutable.</p>\n"},{"tags":[],"owner":{"account_id":10585726,"reputation":33,"user_id":7798155,"display_name":"codemano"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568938140,"creation_date":1568938140,"answer_id":58020197,"question_id":29885428,"body_markdown":"Combining the answer from @Pawel and comment from Max ...\r\n\r\n    import lombok.Builder;\r\n    import lombok.ToString;\r\n\r\n    @Builder\r\n    public class Person {\r\n\r\n      private String name;\r\n      private String surname;\r\n\r\n      public static PersonBuilder builder(String name) {\r\n        return new PersonBuilder().name(name);\r\n      }\r\n    }\r\n\r\n\r\n  ","title":"Required arguments with a Lombok @Builder","body":"<p>Combining the answer from @Pawel and comment from Max ...</p>\n\n<pre><code>import lombok.Builder;\nimport lombok.ToString;\n\n@Builder\npublic class Person {\n\n  private String name;\n  private String surname;\n\n  public static PersonBuilder builder(String name) {\n    return new PersonBuilder().name(name);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1301293,"reputation":464,"user_id":1251135,"display_name":"dallaslu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621998610,"creation_date":1621931063,"answer_id":67684307,"question_id":29885428,"body_markdown":"Best Practice:\r\n\r\n```java\r\nimport lombok.Builder;\r\nimport lombok.NonNull;\r\n\r\n@Builder(builderMethodName = &quot;privateBuilder&quot;)\r\npublic class Person {\r\n\t@NonNull\r\n    private String name;\r\n    private String surname;\r\n\r\n    public static class PersonNameBuilder {\r\n\t\tpublic PersonBuilder name(String name) {\r\n\t\t\treturn Person.privateBuilder().name(status);\r\n\t\t}\r\n\t}\r\n\r\n    public static PersonNameBuilder builder(String name) {\r\n        return new PersonNameBuilder();\r\n    }\r\n\r\n    private static PersonBuilder privateBuilder(){\r\n    \treturn new PersonBuilder();\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```java\r\nPersonNameBuilder nameBuilder = Person.builder();\r\nPersonBuilder builder = nameBuilder.name(&quot;John&quot;);\r\nPerson p1 = builder.surname(&quot;Smith&quot;).build();\r\n\r\n// Or\r\nPerson p2 = Person.builder().name(&quot;John&quot;).surname(&quot;Smith&quot;).build();\r\n```\r\n\r\n","title":"Required arguments with a Lombok @Builder","body":"<p>Best Practice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Builder;\nimport lombok.NonNull;\n\n@Builder(builderMethodName = &quot;privateBuilder&quot;)\npublic class Person {\n    @NonNull\n    private String name;\n    private String surname;\n\n    public static class PersonNameBuilder {\n        public PersonBuilder name(String name) {\n            return Person.privateBuilder().name(status);\n        }\n    }\n\n    public static PersonNameBuilder builder(String name) {\n        return new PersonNameBuilder();\n    }\n\n    private static PersonBuilder privateBuilder(){\n        return new PersonBuilder();\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PersonNameBuilder nameBuilder = Person.builder();\nPersonBuilder builder = nameBuilder.name(&quot;John&quot;);\nPerson p1 = builder.surname(&quot;Smith&quot;).build();\n\n// Or\nPerson p2 = Person.builder().name(&quot;John&quot;).surname(&quot;Smith&quot;).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":301410,"reputation":638,"user_id":609101,"accept_rate":100,"display_name":"iecanfly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627744005,"creation_date":1627744005,"answer_id":68603284,"question_id":29885428,"body_markdown":"As much as I would like to have the compile time validation feature, the authors of the library had made it clear that [the feature probably won&#39;t be added.][1]\r\n\r\nSo my take on this is, to have something like this.\r\n\r\n    @Builder\r\n    public class Person {\r\n      String name;\r\n      Integer age;\r\n      Optional optional;\r\n\r\n      @Builder\r\n      public class Optional {\r\n        String surname;\r\n        String companyName;\r\n        String spouseName;\r\n    }\r\n}\r\n\r\nAnd you can use it like\r\n\r\n     Person p = Person.builder()\r\n                .age(40)\r\n                .name(&quot;David&quot;)\r\n                .optional(Person.Optional.builder()\r\n                        .surname(&quot;Lee&quot;)\r\n                        .companyName(&quot;Super Company&quot;)\r\n                        .spouseName(&quot;Emma&quot;)\r\n                        .build())\r\n                .build();\r\n\r\nNo, there&#39;s no validation. \r\nBut from the library&#39;s users point of view, \r\nit&#39;s pretty clear what&#39;s required and what&#39;s not and be able to build an object instance without looking at the documentation.\r\n\r\n  [1]: https://github.com/projectlombok/lombok/wiki/FEATURE-IDEA:-%22Mandatory%22-fields-with-@Builder","title":"Required arguments with a Lombok @Builder","body":"<p>As much as I would like to have the compile time validation feature, the authors of the library had made it clear that <a href=\"https://github.com/projectlombok/lombok/wiki/FEATURE-IDEA:-%22Mandatory%22-fields-with-@Builder\" rel=\"nofollow noreferrer\">the feature probably won't be added.</a></p>\n<p>So my take on this is, to have something like this.</p>\n<pre><code>@Builder\npublic class Person {\n  String name;\n  Integer age;\n  Optional optional;\n\n  @Builder\n  public class Optional {\n    String surname;\n    String companyName;\n    String spouseName;\n}\n</code></pre>\n<p>}</p>\n<p>And you can use it like</p>\n<pre><code> Person p = Person.builder()\n            .age(40)\n            .name(&quot;David&quot;)\n            .optional(Person.Optional.builder()\n                    .surname(&quot;Lee&quot;)\n                    .companyName(&quot;Super Company&quot;)\n                    .spouseName(&quot;Emma&quot;)\n                    .build())\n            .build();\n</code></pre>\n<p>No, there's no validation.\nBut from the library's users point of view,\nit's pretty clear what's required and what's not and be able to build an object instance without looking at the documentation.</p>\n"},{"tags":[],"owner":{"account_id":10641439,"reputation":119,"user_id":7836305,"display_name":"Philippe Escure"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643278741,"creation_date":1643278741,"answer_id":70876875,"question_id":29885428,"body_markdown":"Here is an inspiration of Pawel response, with an hidden generated builder :\r\n\r\n    import lombok.Builder;\r\n    import lombok.ToString;\r\n    \r\n    @Builder(builderMethodName = &quot;&quot;)\r\n    @ToString\r\n    public class Person {\r\n    \r\n        private String name;\r\n        private String surname;\r\n    \r\n        public static PersonBuilder builder(String name) {\r\n            return new PersonBuilder().name(name);\r\n        }\r\n    }","title":"Required arguments with a Lombok @Builder","body":"<p>Here is an inspiration of Pawel response, with an hidden generated builder :</p>\n<pre><code>import lombok.Builder;\nimport lombok.ToString;\n\n@Builder(builderMethodName = &quot;&quot;)\n@ToString\npublic class Person {\n\n    private String name;\n    private String surname;\n\n    public static PersonBuilder builder(String name) {\n        return new PersonBuilder().name(name);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2927437,"reputation":1282,"user_id":2508466,"accept_rate":0,"display_name":"yaccob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648240438,"creation_date":1648240438,"answer_id":71622807,"question_id":29885428,"body_markdown":"In order to make limitations and risks implied by lombok&#39;s builder implementation as obvious as possible and therefore reduce the probability of erroneous abuse, I propose the following solution:\r\n\r\n```java\r\nimport lombok.Builder;\r\n\r\n@Builder(builderClassName = &quot;UnsafeBuilder&quot;)\r\npublic class Person {\r\n    private String name;\r\n    private String surname;\r\n\r\n    public static UnsafeBuilder builder(String name) {\r\n        return new UnsafeBuilder().name(name);\r\n    }\r\n}\r\n```\r\n\r\nUsing this solution as intended is straightforward:\r\n\r\n```java\r\nPerson thePerson = Person.builder(&quot;the_name&quot;).surname(&quot;the_surname&quot;).build();\r\n```\r\n\r\nThe only way to use the builder in an unintended way makes the risk obvious, and most probably won&#39;t be chosen by mistake:\r\n\r\n```java\r\nfinal Person unsafePerson = new Person.UnsafeBuilder().surname(&quot;the_surname&quot;).build();\r\n```\r\n\r\nThe class name could of course be chosen even more radically - for example `NeverCallThisConstructor`.","title":"Required arguments with a Lombok @Builder","body":"<p>In order to make limitations and risks implied by lombok's builder implementation as obvious as possible and therefore reduce the probability of erroneous abuse, I propose the following solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Builder;\n\n@Builder(builderClassName = &quot;UnsafeBuilder&quot;)\npublic class Person {\n    private String name;\n    private String surname;\n\n    public static UnsafeBuilder builder(String name) {\n        return new UnsafeBuilder().name(name);\n    }\n}\n</code></pre>\n<p>Using this solution as intended is straightforward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person thePerson = Person.builder(&quot;the_name&quot;).surname(&quot;the_surname&quot;).build();\n</code></pre>\n<p>The only way to use the builder in an unintended way makes the risk obvious, and most probably won't be chosen by mistake:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Person unsafePerson = new Person.UnsafeBuilder().surname(&quot;the_surname&quot;).build();\n</code></pre>\n<p>The class name could of course be chosen even more radically - for example <code>NeverCallThisConstructor</code>.</p>\n"},{"tags":[],"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685484727,"creation_date":1685483669,"answer_id":76368906,"question_id":29885428,"body_markdown":"What about this approach?\r\n\r\n```java\r\nimport lombok.Data;\r\nimport lombok.experimental.Accessors;\r\n\r\n@Data\r\n@Accessors(chain = true, fluent = true)\r\npublic class Person {\r\n    private final String name; // &#39;final&#39; prevents lombok from creating a setter method\r\n    private String surname;\r\n\r\n    public Person(String name) {\r\n        this.name = name; // mandatory\r\n        this.surname = null; // optional, with default value of &#39;null&#39;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Person gabi = new Person(&quot;Gabriela&quot;);\r\n        Person smith = new Person(&quot;John&quot;).surname(&quot;Smith&quot;);\r\n        System.out.println(gabi);\r\n        System.out.println(smith);\r\n    }\r\n}\r\n```\r\n\r\nExecuting `main()` will print:\r\n\r\n```\r\nPerson(name=Gabriela, surname=null)\r\nPerson(name=John, surname=Smith)\r\n```\r\n\r\n\r\nThe combination of \r\n```java\r\n@Data\r\n@Accessors(chain = true, fluent = true)\r\n```\r\n\r\nMakes lombok create setters that return `this` instead of void, and the getters and setters will be named as the property names, without &#39;get&#39; and &#39;set&#39; prefix.\r\n\r\nThere will be a setter for `surname()`, but because `name` is `final`,  there won&#39;t be a setter for `name`.\r\n\r\nI guess this implemenation correctly accomodates the builder pattern when there are mandatory and optional fields. ","title":"Required arguments with a Lombok @Builder","body":"<p>What about this approach?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\nimport lombok.experimental.Accessors;\n\n@Data\n@Accessors(chain = true, fluent = true)\npublic class Person {\n    private final String name; // 'final' prevents lombok from creating a setter method\n    private String surname;\n\n    public Person(String name) {\n        this.name = name; // mandatory\n        this.surname = null; // optional, with default value of 'null'\n    }\n\n    public static void main(String[] args) {\n        Person gabi = new Person(&quot;Gabriela&quot;);\n        Person smith = new Person(&quot;John&quot;).surname(&quot;Smith&quot;);\n        System.out.println(gabi);\n        System.out.println(smith);\n    }\n}\n</code></pre>\n<p>Executing <code>main()</code> will print:</p>\n<pre><code>Person(name=Gabriela, surname=null)\nPerson(name=John, surname=Smith)\n</code></pre>\n<p>The combination of</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Accessors(chain = true, fluent = true)\n</code></pre>\n<p>Makes lombok create setters that return <code>this</code> instead of void, and the getters and setters will be named as the property names, without 'get' and 'set' prefix.</p>\n<p>There will be a setter for <code>surname()</code>, but because <code>name</code> is <code>final</code>,  there won't be a setter for <code>name</code>.</p>\n<p>I guess this implemenation correctly accomodates the builder pattern when there are mandatory and optional fields.</p>\n"}],"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127607,"favorite_count":0,"down_vote_count":1,"up_vote_count":105,"accepted_answer_id":30867286,"answer_count":14,"score":104,"last_activity_date":1685484727,"creation_date":1430095432,"question_id":29885428,"body_markdown":"If I add [@Builder](http://projectlombok.org/features/Builder.html) to a class.  The builder method is created.\r\n\r\n    Person.builder().name(&quot;john&quot;).surname(&quot;Smith&quot;).build();\r\n\r\nI have a requirement where a particular field is required.  In this case, the name field is required but the surname is not. Ideally, I would like to declare it like so. \r\n\r\n    Person.builder(&quot;john&quot;).surname(&quot;Smith&quot;).build()\r\n\r\nI can&#39;t work out how to do this.  I have tried adding the @Builder to a constructor but it didn&#39;t work.\r\n\r\n    @Builder\r\n    public Person(String name) {\r\n        this.name = name;\r\n    }","title":"Required arguments with a Lombok @Builder","body":"<p>If I add <a href=\"http://projectlombok.org/features/Builder.html\" rel=\"noreferrer\">@Builder</a> to a class.  The builder method is created.</p>\n\n<pre><code>Person.builder().name(\"john\").surname(\"Smith\").build();\n</code></pre>\n\n<p>I have a requirement where a particular field is required.  In this case, the name field is required but the surname is not. Ideally, I would like to declare it like so. </p>\n\n<pre><code>Person.builder(\"john\").surname(\"Smith\").build()\n</code></pre>\n\n<p>I can't work out how to do this.  I have tried adding the @Builder to a constructor but it didn't work.</p>\n\n<pre><code>@Builder\npublic Person(String name) {\n    this.name = name;\n}\n</code></pre>\n"},{"tags":["java","arrays","object","constructor"],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685484369,"creation_date":1685484369,"answer_id":76368948,"question_id":76368265,"body_markdown":"There are a few different ways to check to see if a _boolean_ array contains a specific value.\r\n\r\nThe first would be to simply traverse the array, setting _isTrue_ to _true_ when a _false_ value is encountered.\r\n\r\n```java\r\nboolean isTrue = false;\r\nfor (boolean value : box.cells) {\r\n    if (!value) {\r\n        isTrue = true;\r\n        break;\r\n    }\r\n}\r\nSystem.out.println(isTrue);\r\n```\r\n\r\nIf you&#39;re looking to utilize a _stream_&amp;mdash;as you&#39;ve used in your code initially&amp;mdash;you can use the following.\r\n\r\nYou&#39;ll have to convert the _boolean_ array to a _List_ of _Boolean_ first.\r\n\r\n```java\r\nList&lt;Boolean&gt; cells = new ArrayList&lt;&gt;();\r\nfor (boolean value : box.cells) cells.add(value);\r\nboolean isTrue = cells.stream().anyMatch(b -&gt; !b);\r\nSystem.out.println(isTrue);\r\n```","title":"Checking values in a boolean array of a KeyBox object in Java","body":"<p>There are a few different ways to check to see if a <em>boolean</em> array contains a specific value.</p>\n<p>The first would be to simply traverse the array, setting <em>isTrue</em> to <em>true</em> when a <em>false</em> value is encountered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isTrue = false;\nfor (boolean value : box.cells) {\n    if (!value) {\n        isTrue = true;\n        break;\n    }\n}\nSystem.out.println(isTrue);\n</code></pre>\n<p>If you're looking to utilize a <em>stream</em>—as you've used in your code initially—you can use the following.</p>\n<p>You'll have to convert the <em>boolean</em> array to a <em>List</em> of <em>Boolean</em> first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Boolean&gt; cells = new ArrayList&lt;&gt;();\nfor (boolean value : box.cells) cells.add(value);\nboolean isTrue = cells.stream().anyMatch(b -&gt; !b);\nSystem.out.println(isTrue);\n</code></pre>\n"}],"owner":{"account_id":21744714,"reputation":1,"user_id":16051560,"display_name":"potapov.alexey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685484369,"creation_date":1685477326,"question_id":76368265,"body_markdown":"I create a `KeyBox` class with `boolean[] cells` and `KeyBox` object `box = new KeyBox(new boolean[3])`.\r\nHow to check if the `cell` values of the box object are `false`. \r\n\r\n\r\n\r\nMy code is:\r\n```java\r\npublic class KeyBox {\r\n    static int numberCells = 3;\r\n    boolean[] cells;\r\n\r\n    public KeyBox(boolean[] cells) {\r\n        this.cells = cells;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        KeyBox box = new KeyBox(new boolean[numberCells]);\r\n        PutKey.put(box);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class PutKey {\r\n    public static void put(KeyBox box) {\r\n        boolean isTrue = Arrays.asList(box.cells).stream().findAny().equals(&quot;false&quot;);\r\n        System.out.println(isTrue);\r\n    }\r\n}\r\n```\r\n\r\n\r\nBy default `boolean` get `false` value, I am expect that `sout isTrue` will get `true`.\r\n\r\n\r\n","title":"Checking values in a boolean array of a KeyBox object in Java","body":"<p>I create a <code>KeyBox</code> class with <code>boolean[] cells</code> and <code>KeyBox</code> object <code>box = new KeyBox(new boolean[3])</code>.\nHow to check if the <code>cell</code> values of the box object are <code>false</code>.</p>\n<p>My code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class KeyBox {\n    static int numberCells = 3;\n    boolean[] cells;\n\n    public KeyBox(boolean[] cells) {\n        this.cells = cells;\n    }\n\n    public static void main(String[] args) {\n        KeyBox box = new KeyBox(new boolean[numberCells]);\n        PutKey.put(box);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class PutKey {\n    public static void put(KeyBox box) {\n        boolean isTrue = Arrays.asList(box.cells).stream().findAny().equals(&quot;false&quot;);\n        System.out.println(isTrue);\n    }\n}\n</code></pre>\n<p>By default <code>boolean</code> get <code>false</code> value, I am expect that <code>sout isTrue</code> will get <code>true</code>.</p>\n"},{"tags":["java","i2c","gpio","raspberry-pi4","pi4j"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685483002,"post_id":76368816,"comment_id":134665886,"body_markdown":"If you did `i2cget`, then you must know what the device address is.  You have to have that.  That&#39;s like the IP address of the device.  What i2cget command worked?","body":"If you did <code>i2cget</code>, then you must know what the device address is.  You have to have that.  That&#39;s like the IP address of the device.  What i2cget command worked?"},{"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"score":0,"creation_date":1685483781,"post_id":76368816,"comment_id":134665997,"body_markdown":"If I think correct, then device number and register are same, so in my case is 0x18 - but I&#39;m not sure of that. Same as I2C ID is strict corelated with bus number?","body":"If I think correct, then device number and register are same, so in my case is 0x18 - but I&#39;m not sure of that. Same as I2C ID is strict corelated with bus number?"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685512490,"post_id":76368816,"comment_id":134668581,"body_markdown":"Every chip has its own I2C device ID.  You need to know that number in order to address the device.  Did you mean QWIIC?  You said OWIIC.  Yes, the QWIIC defaults to an address of 0x18.  However, I don&#39;t believe 0x18 is a register number.  Check the code here:  https://github.com/sparkfun/Qwiic_Relay_Py/blob/main/qwiic_relay.py","body":"Every chip has its own I2C device ID.  You need to know that number in order to address the device.  Did you mean QWIIC?  You said OWIIC.  Yes, the QWIIC defaults to an address of 0x18.  However, I don&#39;t believe 0x18 is a register number.  Check the code here:  <a href=\"https://github.com/sparkfun/Qwiic_Relay_Py/blob/main/qwiic_relay.py\" rel=\"nofollow noreferrer\">github.com/sparkfun/Qwiic_Relay_Py/blob/main/qwiic_relay.py</a>"},{"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"score":0,"creation_date":1685514354,"post_id":76368816,"comment_id":134668847,"body_markdown":"As I mentioned, using i2cget/set it&#39;s all working. Using register adres 0x18 I can enable and disable flow on device. But problem appears on Pi4J. When I try to read/write data, I&#39;m always get 0, and can&#39;t use device again until I restart it (even using i2cget/set).","body":"As I mentioned, using i2cget/set it&#39;s all working. Using register adres 0x18 I can enable and disable flow on device. But problem appears on Pi4J. When I try to read/write data, I&#39;m always get 0, and can&#39;t use device again until I restart it (even using i2cget/set)."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685516906,"post_id":76368816,"comment_id":134669291,"body_markdown":"Again, exactly what `i2cset` command did you enter that worked?","body":"Again, exactly what <code>i2cset</code> command did you enter that worked?"},{"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"score":0,"creation_date":1685519015,"post_id":76368816,"comment_id":134669706,"body_markdown":"`i2cset -y 1 0x18 1` - enable flow on device","body":"<code>i2cset -y 1 0x18 1</code> - enable flow on device"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685554952,"post_id":76368816,"comment_id":134678007,"body_markdown":"What this says is that your device does not use registers, and that agrees with what I read in the datasheet.  You are simply sending the one-byte command 1 to device 0x18 on bus 1.  I couldn&#39;t find documentation to match the module you&#39;re using, but there should be a something like a `WriteByte` API that will work.","body":"What this says is that your device does not use registers, and that agrees with what I read in the datasheet.  You are simply sending the one-byte command 1 to device 0x18 on bus 1.  I couldn&#39;t find documentation to match the module you&#39;re using, but there should be a something like a <code>WriteByte</code> API that will work."},{"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"score":0,"creation_date":1685562774,"post_id":76368816,"comment_id":134679382,"body_markdown":"Thanks @TimRoberts, it&#39;s working :)\nI can now change status, but still when I try to read value device freeze.\nMaybe it&#39;s something connected with locking logic in LinuxFsI2C... I&#39;m trying to understod how it&#39;s working, but it&#39;s little complicated :)","body":"Thanks @TimRoberts, it&#39;s working :) I can now change status, but still when I try to read value device freeze. Maybe it&#39;s something connected with locking logic in LinuxFsI2C... I&#39;m trying to understod how it&#39;s working, but it&#39;s little complicated :)"},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1685570502,"post_id":76368816,"comment_id":134680628,"body_markdown":"You&#39;ll have to read the datasheet to figure out the sequence, because not all I2C devices use the same options.  Like, do you have to issue a &quot;write byte&quot; of 0x05 (which is &quot;read status&quot;) and then issue a &quot;read byte&quot;, or is it all one sequence?  You MIGHT try `ReadRegister` on register 5 to see if that gets you the status.","body":"You&#39;ll have to read the datasheet to figure out the sequence, because not all I2C devices use the same options.  Like, do you have to issue a &quot;write byte&quot; of 0x05 (which is &quot;read status&quot;) and then issue a &quot;read byte&quot;, or is it all one sequence?  You MIGHT try <code>ReadRegister</code> on register 5 to see if that gets you the status."}],"owner":{"account_id":2218073,"reputation":970,"user_id":1958210,"accept_rate":44,"display_name":"Son"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685482555,"creation_date":1685482555,"question_id":76368816,"body_markdown":"I&#39;m trying to read value from register on my device using I2C protocol on RPi CM4.\r\n&lt;br/&gt;\r\nAll is connected and workign fine using i2cget/i2cset on shell level.\r\n\r\nBut when I try to access to register of my device by Pi4J, I always get 0 value and communication with device freeze, I can&#39;t even using i2cget/i2cset do anything until I restart my device.\r\n\r\nDevice is Owiic Relay based on OMRON G5LE.\r\n\r\nI&#39;m not sure if my I2CConfig is ok, because I can&#39;t find what I should set in `id` and `device` fields.\r\n\r\n```\r\nContext context = Pi4J.newAutoContext();\r\nI2CProvider i2CProvider = context.provider(&quot;linuxfs-i2c&quot;);\r\nI2CConfig i2cConfig = I2C.newConfigBuilder(context).id(&quot;i2c-1&quot;).bus(1).device(0x18).build();\r\nI2C device = i2CProvider.create(i2cConfig);\r\n\r\ndevice.readRegister(0x18);\r\n```\r\nRegister address is 0x18, and bus number is 1, that&#39;s all I know.\r\nAlso I tried diferent i2c providers like raspberrypi-i2c, pigpio-i2c and linuxfs-i2c.","title":"How to read from I2C on RPi using Java Pi4J","body":"<p>I'm trying to read value from register on my device using I2C protocol on RPi CM4.\n<br/>\nAll is connected and workign fine using i2cget/i2cset on shell level.</p>\n<p>But when I try to access to register of my device by Pi4J, I always get 0 value and communication with device freeze, I can't even using i2cget/i2cset do anything until I restart my device.</p>\n<p>Device is Owiic Relay based on OMRON G5LE.</p>\n<p>I'm not sure if my I2CConfig is ok, because I can't find what I should set in <code>id</code> and <code>device</code> fields.</p>\n<pre><code>Context context = Pi4J.newAutoContext();\nI2CProvider i2CProvider = context.provider(&quot;linuxfs-i2c&quot;);\nI2CConfig i2cConfig = I2C.newConfigBuilder(context).id(&quot;i2c-1&quot;).bus(1).device(0x18).build();\nI2C device = i2CProvider.create(i2cConfig);\n\ndevice.readRegister(0x18);\n</code></pre>\n<p>Register address is 0x18, and bus number is 1, that's all I know.\nAlso I tried diferent i2c providers like raspberrypi-i2c, pigpio-i2c and linuxfs-i2c.</p>\n"},{"tags":["java","json","jackson","annotations","jackson-databind"],"comments":[{"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"score":0,"creation_date":1685408618,"post_id":76361027,"comment_id":134652273,"body_markdown":"Can you explain more about `explicit sorting order` or give some examples?","body":"Can you explain more about <code>explicit sorting order</code> or give some examples?"}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685482093,"creation_date":1685482093,"answer_id":76368766,"question_id":76361027,"body_markdown":"You can extend `com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector` class and provide your order for any class you want by overriding `findSerializationPropertyOrder` method.\r\n\r\n```java\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\nimport com.fasterxml.jackson.databind.introspect.AnnotatedClass;\r\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\r\nimport com.fasterxml.jackson.databind.json.JsonMapper;\r\nimport lombok.Data;\r\n\r\npublic class JacksonAnnotationIntrospectorApp {\r\n\tprivate final static JsonMapper JSON_MAPPER = JsonMapper.builder()\r\n\t\t\t.enable(SerializationFeature.INDENT_OUTPUT)\r\n\t\t\t.annotationIntrospector(new DynamicOrderJacksonAnnotationIntrospector())\r\n\t\t\t.build();\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tvar pojo = new DynamicOrderPojo();\r\n\t\tpojo.setA(&quot;A&quot;);\r\n\t\tpojo.setB(1);\r\n\t\tpojo.setC(3.33);\r\n\r\n\t\tJSON_MAPPER.writeValue(System.out, pojo);\r\n\t}\r\n}\r\n\r\nclass DynamicOrderJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\r\n\r\n\t@Override\r\n\tpublic String[] findSerializationPropertyOrder(AnnotatedClass ac) {\r\n\t\tif (ac.getRawType() == DynamicOrderPojo.class) {\r\n\t\t\treturn new String[]{&quot;b&quot;, &quot;a&quot;, &quot;c&quot;};\r\n\t\t}\r\n\t\treturn super.findSerializationPropertyOrder(ac);\r\n\t}\r\n}\r\n\r\n@Data\r\nclass DynamicOrderPojo {\r\n\r\n\tprivate String a;\r\n\tprivate Integer b;\r\n\tprivate Double c;\r\n}\r\n```\r\n\r\nAbove code prints:\r\n```json\r\n{\r\n  &quot;b&quot; : 1,\r\n  &quot;a&quot; : &quot;A&quot;,\r\n  &quot;c&quot; : 3.33\r\n}\r\n```\r\n\r\nSee also:\r\n\r\n - [Custom serializer/deserializer for a collection, specifically a set][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75149509/custom-serializer-deserializer-for-a-collection-specifically-a-set/75153237#75153237","title":"Is it possible to specify the order of ObjectNode properties without using annotations?","body":"<p>You can extend <code>com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector</code> class and provide your order for any class you want by overriding <code>findSerializationPropertyOrder</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.introspect.AnnotatedClass;\nimport com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport lombok.Data;\n\npublic class JacksonAnnotationIntrospectorApp {\n    private final static JsonMapper JSON_MAPPER = JsonMapper.builder()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .annotationIntrospector(new DynamicOrderJacksonAnnotationIntrospector())\n            .build();\n\n    public static void main(String[] args) throws Exception {\n        var pojo = new DynamicOrderPojo();\n        pojo.setA(&quot;A&quot;);\n        pojo.setB(1);\n        pojo.setC(3.33);\n\n        JSON_MAPPER.writeValue(System.out, pojo);\n    }\n}\n\nclass DynamicOrderJacksonAnnotationIntrospector extends JacksonAnnotationIntrospector {\n\n    @Override\n    public String[] findSerializationPropertyOrder(AnnotatedClass ac) {\n        if (ac.getRawType() == DynamicOrderPojo.class) {\n            return new String[]{&quot;b&quot;, &quot;a&quot;, &quot;c&quot;};\n        }\n        return super.findSerializationPropertyOrder(ac);\n    }\n}\n\n@Data\nclass DynamicOrderPojo {\n\n    private String a;\n    private Integer b;\n    private Double c;\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;b&quot; : 1,\n  &quot;a&quot; : &quot;A&quot;,\n  &quot;c&quot; : 3.33\n}\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/75149509/custom-serializer-deserializer-for-a-collection-specifically-a-set/75153237#75153237\">Custom serializer/deserializer for a collection, specifically a set</a></li>\n</ul>\n"}],"owner":{"account_id":8235,"reputation":87010,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76368766,"answer_count":1,"score":0,"last_activity_date":1685482166,"creation_date":1685408450,"question_id":76361027,"body_markdown":"Jackson allows users to specify an explicit serialization order for `ObjectNode` properties using the `@JsonProperty(index = ?)` annotation. Meaning, given properties `a, b, c` I can instruct Jackson to serialize them in the following order: `b, a, c`. I control the exact serialization order.\r\n\r\nIs it possible to achieve the same without the use of annotations?\r\n\r\nI do not want alphabetic sorting. I want to specify an explicit sorting order.","title":"Is it possible to specify the order of ObjectNode properties without using annotations?","body":"<p>Jackson allows users to specify an explicit serialization order for <code>ObjectNode</code> properties using the <code>@JsonProperty(index = ?)</code> annotation. Meaning, given properties <code>a, b, c</code> I can instruct Jackson to serialize them in the following order: <code>b, a, c</code>. I control the exact serialization order.</p>\n<p>Is it possible to achieve the same without the use of annotations?</p>\n<p>I do not want alphabetic sorting. I want to specify an explicit sorting order.</p>\n"},{"tags":["java","android","file","uri","storage-access-framework"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605092335,"post_id":64784937,"comment_id":114544472,"body_markdown":"A normal app does not need &#39;real paths&#39; but uses the uries obtained by those actions. You got a nice SAF uri. Use it as it is. But.. you can tell us of course why you think you need to convert it to a file system path.","body":"A normal app does not need &#39;real paths&#39; but uses the uries obtained by those actions. You got a nice SAF uri. Use it as it is. But.. you can tell us of course why you think you need to convert it to a file system path."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605092456,"post_id":64784937,"comment_id":114544525,"body_markdown":"`intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)` Remove that. It does nothing. You cannot grant anything. You should be glad that something becomes granted to you.","body":"<code>intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)</code> Remove that. It does nothing. You cannot grant anything. You should be glad that something becomes granted to you."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605092642,"post_id":64784937,"comment_id":114544595,"body_markdown":"You can obtain the &#39;real path&#39; of a removable micro sd card by looking at the second item returned by getExternalFilesDirs().","body":"You can obtain the &#39;real path&#39; of a removable micro sd card by looking at the second item returned by getExternalFilesDirs()."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605092737,"post_id":64784937,"comment_id":114544629,"body_markdown":"Also if you looked at the uri.toString() value of a uri choosed from removable sd card you could easily decode &#39;real path&#39; yourself. Please post such an uri and i will show you.","body":"Also if you looked at the uri.toString() value of a uri choosed from removable sd card you could easily decode &#39;real path&#39; yourself. Please post such an uri and i will show you."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605093854,"post_id":64784937,"comment_id":114545111,"body_markdown":"@blackapps i need the real path so that i can check if the path in the `MediaStore.Audio.AudioColumns.DATA` column matches the selected path. `MediaStore.Audio.AudioColumns.DATA` contains real path of audio files ant not the uri.","body":"@blackapps i need the real path so that i can check if the path in the <code>MediaStore.Audio.AudioColumns.DATA</code> column matches the selected path. <code>MediaStore.Audio.AudioColumns.DATA</code> contains real path of audio files ant not the uri."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605093976,"post_id":64784937,"comment_id":114545167,"body_markdown":"@blackapps Uri of folder selected from sdcard looks like `content://com.android.externalstorage.documents/tree/96EC-0CA8%3ATestFolder`. Can you help me build the real path?","body":"@blackapps Uri of folder selected from sdcard looks like <code>content:&#47;&#47;com.android.externalstorage.documents&#47;tree&#47;96EC-0C&zwnj;&#8203;A8%3ATestFolder</code>. Can you help me build the real path?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605094495,"post_id":64784937,"comment_id":114545377,"body_markdown":"Well after you have seen a few of such paths you would know the &#39;real path&#39; would be `/storage/96EC-0CA8/TestFolder`. Not too difficult to make a function who does that conversion.","body":"Well after you have seen a few of such paths you would know the &#39;real path&#39; would be <code>&#47;storage&#47;96EC-0CA8&#47;TestFolder</code>. Not too difficult to make a function who does that conversion."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605094640,"post_id":64784937,"comment_id":114545438,"body_markdown":"The .DATA column is not available on Android 10+.","body":"The .DATA column is not available on Android 10+."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605094869,"post_id":64784937,"comment_id":114545523,"body_markdown":"Further it is totally unclear why you would mess around with the media store for an uri obtained by SAF. Makes no sense.","body":"Further it is totally unclear why you would mess around with the media store for an uri obtained by SAF. Makes no sense."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605095246,"post_id":64784937,"comment_id":114545682,"body_markdown":"I am not querying media store with the URI obtained by SAF or anything such. When loading audio files from MediaStore, I am simply filtering audio files whose path in the `MediaStore.Audio.AudioColumns.DATA` column matches the selected folder path. Since you mentioned that the specific column will not be available from Android 10+, can you suggest any alternative so that i can hide audio files from the folders that the user blacklisted in my app?","body":"I am not querying media store with the URI obtained by SAF or anything such. When loading audio files from MediaStore, I am simply filtering audio files whose path in the <code>MediaStore.Audio.AudioColumns.DATA</code> column matches the selected folder path. Since you mentioned that the specific column will not be available from Android 10+, can you suggest any alternative so that i can hide audio files from the folders that the user blacklisted in my app?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1605095549,"post_id":64784937,"comment_id":114545813,"body_markdown":"&quot;Currently, this works fine with folder that are present in primary external storage&quot; -- there are over 26,000 device models. How many were you planning on testing to see if this undocumented and unsupported approach will prove to be reliable? What do you plan to do when the user chooses a cloud storage provider when you request a location via `ACTION_OPEN_DOCUMENT_TREE`? What do you plan to do with `DATA` values that do not match your expectations?","body":"&quot;Currently, this works fine with folder that are present in primary external storage&quot; -- there are over 26,000 device models. How many were you planning on testing to see if this undocumented and unsupported approach will prove to be reliable? What do you plan to do when the user chooses a cloud storage provider when you request a location via <code>ACTION_OPEN_DOCUMENT_TREE</code>? What do you plan to do with <code>DATA</code> values that do not match your expectations?"},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605095975,"post_id":64784937,"comment_id":114545993,"body_markdown":"@CommonsWare. This is my initial implementation which i am currently testing. And yes this may not be reliable but i am not sure how to get the user select a folder otherwise. This is what i came up with initially.","body":"@CommonsWare. This is my initial implementation which i am currently testing. And yes this may not be reliable but i am not sure how to get the user select a folder otherwise. This is what i came up with initially."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605096011,"post_id":64784937,"comment_id":114546016,"body_markdown":"`am using the MediaStore.Audio.AudioColumns.DATA column to filter out audio files that is present inside those folders ` Use the .RELATIVE_PATH column to filter out folders. As .RELATIVE_PATH contains folder names.","body":"<code>am using the MediaStore.Audio.AudioColumns.DATA column to filter out audio files that is present inside those folders </code> Use the .RELATIVE_PATH column to filter out folders. As .RELATIVE_PATH contains folder names."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605096258,"post_id":64784937,"comment_id":114546115,"body_markdown":"If you want to let the user choose folders to blacklist them then query the mediastore for all audio files. Meanwhile make an arraylist of all .RELATIVE_PATH values. Let the user choose from this arraylist to block folders. No need for all that SAF and &#39;real path&#39; stuff.","body":"If you want to let the user choose folders to blacklist them then query the mediastore for all audio files. Meanwhile make an arraylist of all .RELATIVE_PATH values. Let the user choose from this arraylist to block folders. No need for all that SAF and &#39;real path&#39; stuff."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605099382,"post_id":64784937,"comment_id":114547401,"body_markdown":"@blackapps Thanks for your suggestions. As per the documentation RELATIVE_PATH is added in Api 29  so i need to continue to use the &quot;real path&quot; impl. for Api&lt;29, which is not an issue as we dont have storage restrictions.","body":"@blackapps Thanks for your suggestions. As per the documentation RELATIVE_PATH is added in Api 29  so i need to continue to use the &quot;real path&quot; impl. for Api&lt;29, which is not an issue as we dont have storage restrictions."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1605099743,"post_id":64784937,"comment_id":114547532,"body_markdown":"Even then you could do without SAF by building up an arraylist of folders obtained from .DATA column.","body":"Even then you could do without SAF by building up an arraylist of folders obtained from .DATA column."},{"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"score":0,"creation_date":1605100539,"post_id":64784937,"comment_id":114547840,"body_markdown":"Yup i was thinking of the same. Thanks for the help.","body":"Yup i was thinking of the same. Thanks for the help."}],"owner":{"account_id":13228095,"reputation":294,"user_id":9552636,"display_name":"Ashutosh Patoa"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685482039,"creation_date":1605091562,"question_id":64784937,"body_markdown":"I am developing a music player app that allows users to blacklist certain folders. The audio files from those folders will not be shown in the app.\r\n\r\nI am using the `MediaStore.Audio.AudioColumns.DATA` column to filter out audio files that is present inside those folders when querying `MediaStore` for audio files.\r\n\r\nI am using this logic to build a complete real path from the uri.\r\n\r\n```\r\n// Open folder picker\r\nIntent intent = new Intent();\r\nintent.setAction(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\nintent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\nstartActivityForResult(intent, REQUEST_CODE_FOLDER_SELECT);\r\n\r\n\r\n// Then in onActivityResult I am building the real path\r\n\r\nUri folder = data.getData();\r\nString[] paths = Objects.requireNonNull(folder.getPath()).split(&quot;:&quot;);\r\n\r\n// completePath looks like: /storage/emulated/0/Test/Another test\r\nString completePath = Environment.getExternalStorageDirectory() + \r\n                      (paths.length &gt; 1 ? File.separator + paths[1] : &quot;&quot;);\r\n\r\n```\r\n\r\nCurrently, this works fine with folder that are present in primary external storage.\r\nBut i would like users to select folders from external (removable) sdcards.\r\n\r\nI am not sure how to build real folder path for folders present in (removable) sdcards.\r\n\r\nI have come across a lot of solutions for &quot;Get part from uri&quot;, but most of them were written before Android 10 came with Storage restrictions or only work for internal storage. \r\n\r\nMy real concern is that different vendors have [different](https://gist.github.com/PauloLuan/4bcecc086095bce28e22#gistcomment-1297081) name and mounting paths for removable sdcards, hence i cannot hard code something like: &quot;storage/sdcard/{relative folder path from uri}&quot; \r\n","title":"Get real folder path from document tree Uri in Android 10","body":"<p>I am developing a music player app that allows users to blacklist certain folders. The audio files from those folders will not be shown in the app.</p>\n<p>I am using the <code>MediaStore.Audio.AudioColumns.DATA</code> column to filter out audio files that is present inside those folders when querying <code>MediaStore</code> for audio files.</p>\n<p>I am using this logic to build a complete real path from the uri.</p>\n<pre><code>// Open folder picker\nIntent intent = new Intent();\nintent.setAction(Intent.ACTION_OPEN_DOCUMENT_TREE);\nintent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\nstartActivityForResult(intent, REQUEST_CODE_FOLDER_SELECT);\n\n\n// Then in onActivityResult I am building the real path\n\nUri folder = data.getData();\nString[] paths = Objects.requireNonNull(folder.getPath()).split(&quot;:&quot;);\n\n// completePath looks like: /storage/emulated/0/Test/Another test\nString completePath = Environment.getExternalStorageDirectory() + \n                      (paths.length &gt; 1 ? File.separator + paths[1] : &quot;&quot;);\n\n</code></pre>\n<p>Currently, this works fine with folder that are present in primary external storage.\nBut i would like users to select folders from external (removable) sdcards.</p>\n<p>I am not sure how to build real folder path for folders present in (removable) sdcards.</p>\n<p>I have come across a lot of solutions for &quot;Get part from uri&quot;, but most of them were written before Android 10 came with Storage restrictions or only work for internal storage.</p>\n<p>My real concern is that different vendors have <a href=\"https://gist.github.com/PauloLuan/4bcecc086095bce28e22#gistcomment-1297081\" rel=\"nofollow noreferrer\">different</a> name and mounting paths for removable sdcards, hence i cannot hard code something like: &quot;storage/sdcard/{relative folder path from uri}&quot;</p>\n"},{"tags":["java","mockito","junit5","argumentcaptor"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685481890,"creation_date":1685481890,"answer_id":76368750,"question_id":76368593,"body_markdown":"&quot;No argument value was captured!&quot; usually comes because you didn&#39;t invoke the expected method in your system under test.  If you want to use a Captor for the sake of learning how, you&#39;ll need to first stub your change, then invoke your system under test, then verify.\r\n\r\nI&#39;m assuming here that you&#39;re trying to extract the request content so you can check it was a reasonable request.\r\n\r\n```java\r\nAccount account = setUpTheAccountYouWantToReturnHere();\r\n\r\ndoReturn(account)\r\n    .when(stub)\r\n    .response(isA(RequestContent.class), any(Class.class));  // or any()\r\n\r\nsystemUnderTest.doThingYouAreTestingThatInvokesTheStubResponse();\r\n\r\n// You can also set this up using a @Captor annotation.\r\nArgumentCaptor&lt;RequestContent&gt; captor =\r\n    ArgumentCaptor.forClass(RequestContent.class);\r\n\r\nverify(stub).response(captor.capture(), any(Class.class));\r\n\r\n// Now that your captor has captured a value, you can start to assert against it.\r\n\r\ncheckThatRequestContentPropertiesAreCorrect(captor.getValue());\r\n```\r\n\r\nI&#39;ve used `any(Class.class)` on the assumption that it&#39;s not important, but you can also use `eq(Account.class)` instead of `any(Class.class)`. This has the added benefit of failing your test (because you won&#39;t have a matching stub) if your system under test calls `response` with anything other than an Account as its second parameter.\r\n\r\nFor that matter, if your RequestContent supports [`equals` and `hashCode`](https://stackoverflow.com/q/2265503/1426891) based on its contents, you can confirm that it has the right values by creating the RequestContent you expect to see and using `eq(yourExpectedRequestContent)` in your `when` call in Mockito. However, depending on the size of RequestContent and how reasonable its `toString()` implementation is, it might be easier to just call `capture` and check its properties as above.","title":"Mockito capture Class&lt;T&gt; argument type","body":"<p>&quot;No argument value was captured!&quot; usually comes because you didn't invoke the expected method in your system under test.  If you want to use a Captor for the sake of learning how, you'll need to first stub your change, then invoke your system under test, then verify.</p>\n<p>I'm assuming here that you're trying to extract the request content so you can check it was a reasonable request.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Account account = setUpTheAccountYouWantToReturnHere();\n\ndoReturn(account)\n    .when(stub)\n    .response(isA(RequestContent.class), any(Class.class));  // or any()\n\nsystemUnderTest.doThingYouAreTestingThatInvokesTheStubResponse();\n\n// You can also set this up using a @Captor annotation.\nArgumentCaptor&lt;RequestContent&gt; captor =\n    ArgumentCaptor.forClass(RequestContent.class);\n\nverify(stub).response(captor.capture(), any(Class.class));\n\n// Now that your captor has captured a value, you can start to assert against it.\n\ncheckThatRequestContentPropertiesAreCorrect(captor.getValue());\n</code></pre>\n<p>I've used <code>any(Class.class)</code> on the assumption that it's not important, but you can also use <code>eq(Account.class)</code> instead of <code>any(Class.class)</code>. This has the added benefit of failing your test (because you won't have a matching stub) if your system under test calls <code>response</code> with anything other than an Account as its second parameter.</p>\n<p>For that matter, if your RequestContent supports <a href=\"https://stackoverflow.com/q/2265503/1426891\"><code>equals</code> and <code>hashCode</code></a> based on its contents, you can confirm that it has the right values by creating the RequestContent you expect to see and using <code>eq(yourExpectedRequestContent)</code> in your <code>when</code> call in Mockito. However, depending on the size of RequestContent and how reasonable its <code>toString()</code> implementation is, it might be easier to just call <code>capture</code> and check its properties as above.</p>\n"}],"owner":{"account_id":1598981,"reputation":51,"user_id":1480437,"display_name":"Karos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685481890,"creation_date":1685480435,"question_id":76368593,"body_markdown":"How to capture the Class&lt;T&gt; argument of a method with Argument Capture For the following method\r\n\r\n      public &lt;T&gt; T response(RequestContent requestContent, Class&lt;T&gt; returnType) throws Exception\r\n      {\r\n        var response = getResponse(requestContent);\r\n        var type = objectMapper.getTypeFactory().constructType(returnType);\r\n        return objectMapper.readValue(response, type);\r\n      }\r\nThe method is used in the caller class as \r\n\r\n    var res = response(requestContent, Account.class);\r\n\r\nI do not know how to use `doReturn` and `Argument Capture` in the following situations:\r\n\r\n    doReturn(Account).when(stub).response(isA(RequestContent.class), ???);\r\n\r\nand \r\n\r\n    verify(stub).getResponseClass(requestCaptor.capture(), ???);\r\n\r\nI get the following error\r\n\r\n    No argument value was captured!\r\n    You might have forgotten to use argument.capture() in verify()...\r\n    ...or you used capture() in stubbing but stubbed method was not called.\r\n    Be aware that it is recommended to use capture() only with verify()","title":"Mockito capture Class&lt;T&gt; argument type","body":"<p>How to capture the Class argument of a method with Argument Capture For the following method</p>\n<pre><code>  public &lt;T&gt; T response(RequestContent requestContent, Class&lt;T&gt; returnType) throws Exception\n  {\n    var response = getResponse(requestContent);\n    var type = objectMapper.getTypeFactory().constructType(returnType);\n    return objectMapper.readValue(response, type);\n  }\n</code></pre>\n<p>The method is used in the caller class as</p>\n<pre><code>var res = response(requestContent, Account.class);\n</code></pre>\n<p>I do not know how to use <code>doReturn</code> and <code>Argument Capture</code> in the following situations:</p>\n<pre><code>doReturn(Account).when(stub).response(isA(RequestContent.class), ???);\n</code></pre>\n<p>and</p>\n<pre><code>verify(stub).getResponseClass(requestCaptor.capture(), ???);\n</code></pre>\n<p>I get the following error</p>\n<pre><code>No argument value was captured!\nYou might have forgotten to use argument.capture() in verify()...\n...or you used capture() in stubbing but stubbed method was not called.\nBe aware that it is recommended to use capture() only with verify()\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1685403851,"post_id":76359794,"comment_id":134651884,"body_markdown":"Please share error logs in the format of plain text","body":"Please share error logs in the format of plain text"}],"answers":[{"tags":[],"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685393550,"creation_date":1685393550,"answer_id":76360270,"question_id":76359794,"body_markdown":"Ok, after reviewing your Exception trace (which you should have added as text)\r\n\r\nThe problem is that the Jackson serialization library does not know how to handle Hibernate proxies (which are being used in case of lazy loading)\r\n\r\nSo you need to follow the advice which was present in the error log:\r\n\r\ndisable the feature `FAIL_ON_EMPTY_BEANS` from the Jackson serialization configuration.","title":"How to resolve lazy loading issue in Spring Boot?","body":"<p>Ok, after reviewing your Exception trace (which you should have added as text)</p>\n<p>The problem is that the Jackson serialization library does not know how to handle Hibernate proxies (which are being used in case of lazy loading)</p>\n<p>So you need to follow the advice which was present in the error log:</p>\n<p>disable the feature <code>FAIL_ON_EMPTY_BEANS</code> from the Jackson serialization configuration.</p>\n"}],"owner":{"account_id":26229958,"reputation":3,"user_id":19907590,"display_name":"Tachank.a"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685481884,"creation_date":1685387030,"question_id":76359794,"body_markdown":"The problem arose with lazy loading. In the essence of the task there is a field called &quot;resultImage&quot;. This field contains a large picture and when unloading all task objects, I don’t want to unload it. The error occurs when the mapper converts the Task object into a DTO object.\r\n\r\nError logs;\r\n\r\n[enter image description here](https://i.stack.imgur.com/OU8sf.png)\r\n\r\nTask entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TASKS&quot;, schema = &quot;main&quot;)\r\n@Builder\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Task {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @OneToOne(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;RESULT_IMAGE_ID&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Image resultImage;\r\n\r\n    @OneToOne(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;PREVIEW_RESULT_IMAGE_ID&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Image previewResultImage;\r\n}\r\n```\r\n\r\n\r\n\r\nImage entity:\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;IMAGES&quot;,schema = &quot;main&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Image {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;DATA&quot;)\r\n    @Lob\r\n    private byte[] data;\r\n\r\n}\r\n```\r\n\r\n\r\nDTO-class:\r\n\r\n\r\n```\r\n@Data\r\n@Builder\r\npublic class ResponseDTO {\r\n\r\n    private Long taskId;\r\n\r\n    private String sampleImageData;\r\n\r\n    private String imagePreviewResultData;\r\n}\r\n```\r\n\r\n\r\nthe method where the error occurs:\r\n\r\n\r\n```\r\npublic List&lt;ResponseDTO&gt; getAllTasks(Long userId) {\r\n\r\n        List&lt;Task&gt; tasks = taskRepository.findAllByUserId(userId);\r\n\r\n        return tasks.stream().\r\n                map(Mapper.INSTANCE::taskToResponseDTO).\r\n                collect(Collectors.toList());\r\n    }\r\n```\r\n\r\n\r\ntransform method in mapper:\r\n\r\n\r\n```\r\n@org.mapstruct.Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\npublic interface Mapper {\r\n\r\n    Mapper INSTANCE = Mappers.getMapper(Mapper.class);\r\n\r\n    @Mapping(target = &quot;taskId&quot;, source = &quot;id&quot;)\r\n    @Mapping(target = &quot;sampleImageData&quot;, source = &quot;imageMetadata.sampleImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\r\n    @Mapping(target = &quot;imagePreviewResultData&quot;, source = &quot;previewResultImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\r\n    ResponseDTO taskToResponseDTO(Task task);\r\n}\r\n```\r\n\r\n\r\nI tried to disable the mapping of fields that are not configured, but it did not help.\r\n\r\nI will be glad for any help!","title":"How to resolve lazy loading issue in Spring Boot?","body":"<p>The problem arose with lazy loading. In the essence of the task there is a field called &quot;resultImage&quot;. This field contains a large picture and when unloading all task objects, I don’t want to unload it. The error occurs when the mapper converts the Task object into a DTO object.</p>\n<p>Error logs;</p>\n<p><a href=\"https://i.stack.imgur.com/OU8sf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Task entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;TASKS&quot;, schema = &quot;main&quot;)\n@Builder\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Task {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @OneToOne(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;USER_ID&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;RESULT_IMAGE_ID&quot;, referencedColumnName = &quot;id&quot;)\n    private Image resultImage;\n\n    @OneToOne(fetch = FetchType.EAGER,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;PREVIEW_RESULT_IMAGE_ID&quot;, referencedColumnName = &quot;id&quot;)\n    private Image previewResultImage;\n}\n</code></pre>\n<p>Image entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;IMAGES&quot;,schema = &quot;main&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class Image {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    @Column(name = &quot;DATA&quot;)\n    @Lob\n    private byte[] data;\n\n}\n</code></pre>\n<p>DTO-class:</p>\n<pre><code>@Data\n@Builder\npublic class ResponseDTO {\n\n    private Long taskId;\n\n    private String sampleImageData;\n\n    private String imagePreviewResultData;\n}\n</code></pre>\n<p>the method where the error occurs:</p>\n<pre><code>public List&lt;ResponseDTO&gt; getAllTasks(Long userId) {\n\n        List&lt;Task&gt; tasks = taskRepository.findAllByUserId(userId);\n\n        return tasks.stream().\n                map(Mapper.INSTANCE::taskToResponseDTO).\n                collect(Collectors.toList());\n    }\n</code></pre>\n<p>transform method in mapper:</p>\n<pre><code>@org.mapstruct.Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\npublic interface Mapper {\n\n    Mapper INSTANCE = Mappers.getMapper(Mapper.class);\n\n    @Mapping(target = &quot;taskId&quot;, source = &quot;id&quot;)\n    @Mapping(target = &quot;sampleImageData&quot;, source = &quot;imageMetadata.sampleImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\n    @Mapping(target = &quot;imagePreviewResultData&quot;, source = &quot;previewResultImage.data&quot;,qualifiedByName = &quot;dataToBase64&quot;)\n    ResponseDTO taskToResponseDTO(Task task);\n}\n</code></pre>\n<p>I tried to disable the mapping of fields that are not configured, but it did not help.</p>\n<p>I will be glad for any help!</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1505148137,"post_id":46160319,"comment_id":79283119,"body_markdown":"1) For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) Please learn common Java nomenclature (naming conventions - e.g. `EachWordUpperCaseClass`, `firstWordLowerCaseMethod()`, `firstWordLowerCaseAttribute` unless it is an `UPPER_CASE_CONSTANT`) and use it consistently.","body":"1) For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) Please learn common Java nomenclature (naming conventions - e.g. <code>EachWordUpperCaseClass</code>, <code>firstWordLowerCaseMethod()</code>, <code>firstWordLowerCaseAttribute</code> unless it is an <code>UPPER_CASE_CONSTANT</code>) and use it consistently."},{"owner":{"account_id":1726292,"reputation":2791,"user_id":1580864,"accept_rate":74,"display_name":"Mark W"},"score":1,"creation_date":1505154176,"post_id":46160319,"comment_id":79286229,"body_markdown":"What doesn&#39;t work about the first approach? Both are a JFileChooser... so they both expose getSelectedFile() to return the string value of the path. Just put it in a variable someplace and use it.","body":"What doesn&#39;t work about the first approach? Both are a JFileChooser... so they both expose getSelectedFile() to return the string value of the path. Just put it in a variable someplace and use it."},{"owner":{"account_id":9771318,"reputation":69,"user_id":7243081,"accept_rate":27,"display_name":"euranoo"},"score":0,"creation_date":1505238973,"post_id":46160319,"comment_id":79328235,"body_markdown":"imo its problem with eclipse wich display compilation error","body":"imo its problem with eclipse wich display compilation error"},{"owner":{"account_id":9771318,"reputation":69,"user_id":7243081,"accept_rate":27,"display_name":"euranoo"},"score":0,"creation_date":1505242433,"post_id":46160319,"comment_id":79329898,"body_markdown":"I FIXED IT POSTING SOLUTION: Path workDir = jfc.getSelectedFile().toPath();","body":"I FIXED IT POSTING SOLUTION: Path workDir = jfc.getSelectedFile().toPath();"}],"owner":{"account_id":9771318,"reputation":69,"user_id":7243081,"accept_rate":27,"display_name":"euranoo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685481556,"creation_date":1505147311,"question_id":46160319,"body_markdown":"In this application I&#39;m asking the user to choose a folder, however using code below I&#39;m unable to use this input as variable path\r\n\r\n    public class csvtoxls {\r\n    \r\n        public static void main() throws IOException {\r\n\r\n            JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\r\n            jfc.setDialogTitle(&quot;Wybierz folder do konwersji: &quot;);\r\n            jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\r\n            jfc.setAcceptAllFileFilterUsed(false);\r\n            int returnValue = jfc.showSaveDialog(null);\r\n            if (returnValue == JFileChooser.APPROVE_OPTION) {\r\n                if (jfc.getSelectedFile().isDirectory()) {\r\n                    System.out.println(&quot;You selected the directory: &quot; + jfc.getSelectedFile());\r\n\r\n\r\nSo in order to achieve this I used function: \r\n\r\n    public class getpath {\r\n    \r\n    \t  public static String pickPath(JFileChooser fileChooser)\r\n    \t  {\r\n    \t    String path = null;\r\n    \t    \r\n    \t    /* create a JFrame to be the parent of the file \r\n    \t     * chooser open dialog if you don&#39;t do this then \r\n    \t     * you may not see the dialog.\r\n    \t     */\r\n    \t    JFrame frame = new JFrame();\r\n    \t    frame.setAlwaysOnTop(true);\r\n    \t    \r\n    \t    // get the return value from choosing a file\r\n    \t    int returnVal = fileChooser.showOpenDialog(frame);\r\n    \t    \r\n    \t    // if the return value says the user picked a file \r\n    \t    if (returnVal == JFileChooser.APPROVE_OPTION)\r\n    \t      path = fileChooser.getSelectedFile().getPath();\r\n    \t    return path;\r\n    \t    \r\n    \t  }\r\n    }\r\n\r\nVariable:\r\n\r\n    Path workDir = Paths.get(getpath.pickPath(jfc));\r\n\r\nThe problem with this solution is that user have to choose folder twice which can easily lead to mistake. Is there way to get this path easier?","title":"Java get selected folder path","body":"<p>In this application I'm asking the user to choose a folder, however using code below I'm unable to use this input as variable path</p>\n<pre><code>public class csvtoxls {\n\n    public static void main() throws IOException {\n\n        JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());\n        jfc.setDialogTitle(&quot;Wybierz folder do konwersji: &quot;);\n        jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);\n        jfc.setAcceptAllFileFilterUsed(false);\n        int returnValue = jfc.showSaveDialog(null);\n        if (returnValue == JFileChooser.APPROVE_OPTION) {\n            if (jfc.getSelectedFile().isDirectory()) {\n                System.out.println(&quot;You selected the directory: &quot; + jfc.getSelectedFile());\n</code></pre>\n<p>So in order to achieve this I used function:</p>\n<pre><code>public class getpath {\n\n      public static String pickPath(JFileChooser fileChooser)\n      {\n        String path = null;\n        \n        /* create a JFrame to be the parent of the file \n         * chooser open dialog if you don't do this then \n         * you may not see the dialog.\n         */\n        JFrame frame = new JFrame();\n        frame.setAlwaysOnTop(true);\n        \n        // get the return value from choosing a file\n        int returnVal = fileChooser.showOpenDialog(frame);\n        \n        // if the return value says the user picked a file \n        if (returnVal == JFileChooser.APPROVE_OPTION)\n          path = fileChooser.getSelectedFile().getPath();\n        return path;\n        \n      }\n}\n</code></pre>\n<p>Variable:</p>\n<pre><code>Path workDir = Paths.get(getpath.pickPath(jfc));\n</code></pre>\n<p>The problem with this solution is that user have to choose folder twice which can easily lead to mistake. Is there way to get this path easier?</p>\n"},{"tags":["java","package"],"answers":[{"tags":[],"owner":{"account_id":89663,"reputation":4547,"user_id":247230,"accept_rate":70,"display_name":"jr."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1263093084,"creation_date":1263093084,"answer_id":2035947,"question_id":2035896,"body_markdown":"I would think that it would generate something in a customer supplied package name? Ie: ask the user the package they would like to use. \r\n\r\nDoes it generate things in more then one package? ","title":"proper Java package hierarchy?","body":"<p>I would think that it would generate something in a customer supplied package name? Ie: ask the user the package they would like to use. </p>\n\n<p>Does it generate things in more then one package? </p>\n"},{"tags":[],"owner":{"account_id":72720,"reputation":9178,"user_id":209828,"accept_rate":83,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1263093214,"creation_date":1263093214,"answer_id":2035953,"question_id":2035896,"body_markdown":"the idea is that the package names will be globally unique","title":"proper Java package hierarchy?","body":"<p>the idea is that the package names will be globally unique</p>\n"},{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1263093257,"creation_date":1263093257,"answer_id":2035954,"question_id":2035896,"body_markdown":"It probably does this so it can access &quot;package local&quot; classes.","title":"proper Java package hierarchy?","body":"<p>It probably does this so it can access \"package local\" classes.</p>\n"},{"tags":[],"owner":{"account_id":86536,"reputation":10312,"user_id":240566,"accept_rate":82,"display_name":"Jay Askren"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1263093339,"creation_date":1263093339,"answer_id":2035960,"question_id":2035896,"body_markdown":"I would say your intuition is correct.  I would personally refactor it to be your own package.  Is this just a tutorial project it generated, or is it your project that you are going to be working on.  If this is not a tutorial project, I would be surprised if there is no way to override the package name when it is created.","title":"proper Java package hierarchy?","body":"<p>I would say your intuition is correct.  I would personally refactor it to be your own package.  Is this just a tutorial project it generated, or is it your project that you are going to be working on.  If this is not a tutorial project, I would be surprised if there is no way to override the package name when it is created.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685481000,"creation_date":1685481000,"answer_id":76368662,"question_id":2035896,"body_markdown":"Using your own reverse domain name makes the most sense.  The [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.1)  (JLS) states that the purpose of the standard package naming structure is to avoid having different published packages with the same name.  By using your own domain name, you ensure that your package will not conflict with other packages published following the standard package naming conventions.  If you use someone else&#39;s domain name, you risk a package naming conflict.\r\n\r\nThe relevant portions of the JLS:\r\n\r\n&gt; _Programmers should take steps to avoid the possibility of two published packages having the same name by choosing unique package names for packages that are widely distributed. This allows packages to be easily and automatically installed and catalogued. This section specifies a suggested convention for generating such unique package names. […]_\r\n&gt;\r\n&gt; _If unique package names are not used, then package name conflicts may arise far from the point of creation of either of the conflicting packages. This may create a situation that is difficult or impossible for the user or programmer to resolve. […]_\r\n&gt;\r\n&gt; _You form a unique package name by first having (or belonging to an organization that has) an Internet domain name, such as `oracle.com`. You then reverse this name, component by component, to obtain, in this example, `com.oracle`, and use this as a prefix for your package names, using a convention developed within your organization to further administer package names. […]_","title":"proper Java package hierarchy?","body":"<p>Using your own reverse domain name makes the most sense.  The <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.1\" rel=\"nofollow noreferrer\">Java Language Specification</a>  (JLS) states that the purpose of the standard package naming structure is to avoid having different published packages with the same name.  By using your own domain name, you ensure that your package will not conflict with other packages published following the standard package naming conventions.  If you use someone else's domain name, you risk a package naming conflict.</p>\n<p>The relevant portions of the JLS:</p>\n<blockquote>\n<p><em>Programmers should take steps to avoid the possibility of two published packages having the same name by choosing unique package names for packages that are widely distributed. This allows packages to be easily and automatically installed and catalogued. This section specifies a suggested convention for generating such unique package names. […]</em></p>\n<p><em>If unique package names are not used, then package name conflicts may arise far from the point of creation of either of the conflicting packages. This may create a situation that is difficult or impossible for the user or programmer to resolve. […]</em></p>\n<p><em>You form a unique package name by first having (or belonging to an organization that has) an Internet domain name, such as <code>oracle.com</code>. You then reverse this name, component by component, to obtain, in this example, <code>com.oracle</code>, and use this as a prefix for your package names, using a convention developed within your organization to further administer package names. […]</em></p>\n</blockquote>\n"}],"owner":{"account_id":20630,"reputation":140545,"user_id":49485,"accept_rate":72,"display_name":"Sophie Alpert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1926,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":2035960,"answer_count":5,"score":3,"last_activity_date":1685481000,"creation_date":1263091674,"question_id":2035896,"body_markdown":"I just started looking at the new FIRST Robotics Java SDK, which includes project generators to build sample robotics programs.\r\n\r\nSomething I was curious about is the file it generates begins with:\r\n\r\n    package edu.wpi.first.wpilibj.templates;\r\n\r\nDoes this actually make sense? (The library I&#39;m using is from first.wpi.edu, but my project doesn&#39;t really have any affiliation with them otherwise.) I&#39;d think that I should want to instead use my own reverse domain for the package specifier.\r\n\r\nThoughts?","title":"proper Java package hierarchy?","body":"<p>I just started looking at the new FIRST Robotics Java SDK, which includes project generators to build sample robotics programs.</p>\n\n<p>Something I was curious about is the file it generates begins with:</p>\n\n<pre><code>package edu.wpi.first.wpilibj.templates;\n</code></pre>\n\n<p>Does this actually make sense? (The library I'm using is from first.wpi.edu, but my project doesn't really have any affiliation with them otherwise.) I'd think that I should want to instead use my own reverse domain for the package specifier.</p>\n\n<p>Thoughts?</p>\n"},{"tags":["java","android-studio","recyclerlistview"],"owner":{"account_id":21542820,"reputation":1,"user_id":15880250,"display_name":"Fatomy Sadiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685480949,"creation_date":1685480949,"question_id":76368656,"body_markdown":"I have a recommendation in play console after I tried to publish my app.\r\n\r\nThis item may not have a label readable by screen readers.\r\n\r\nthe xml code:\r\n\r\n```\r\n &lt;RelativeLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:padding=&quot;10dp&quot;\r\n        &gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;186dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:contentDescription=&quot;clickable_image7_meegat&quot;\r\n            android:src=&quot;@drawable/dhoalhulaifah&quot;&gt;\r\n\r\n        &lt;/ImageView&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n```\r\n\r\nthe java adapter code:\r\n\r\n\r\n```\r\n  public Almashaaer_Adapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater =  LayoutInflater.from (context);\r\n        View view=inflater.inflate (R.layout.single_item,parent,false);\r\n\r\n        return new Almashaaer_Adapter.MyViewHolder(view,recyclerViewInterface);\r\n    }\r\n```\r\n\r\nthen I try to create if condtion for the list in the code:\r\n\r\n\r\n```\r\n @Override\r\n    public void onItemClick(int position) {\r\n        if(position == 0 ){\r\n            Intent intent = new Intent (Almashaaer.this,Minaa.class);\r\n            startActivity (intent);}\r\n        else\r\n        if(position == 1){\r\n            Intent intent = new Intent (Almashaaer.this,Aljamarat.class);\r\n            startActivity (intent);\r\n        }else.......etc\r\n```\r\n\r\n\r\n\r\nI try to eliminate the onClick()","title":"This item may not have a label readable by screen readers","body":"<p>I have a recommendation in play console after I tried to publish my app.</p>\n<p>This item may not have a label readable by screen readers.</p>\n<p>the xml code:</p>\n<pre><code> &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;10dp&quot;\n        &gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/imageView&quot;\n            android:layout_width=&quot;186dp&quot;\n            android:layout_height=&quot;60dp&quot;\n            android:layout_centerInParent=&quot;true&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:contentDescription=&quot;clickable_image7_meegat&quot;\n            android:src=&quot;@drawable/dhoalhulaifah&quot;&gt;\n\n        &lt;/ImageView&gt;\n\n    &lt;/RelativeLayout&gt;\n</code></pre>\n<p>the java adapter code:</p>\n<pre><code>  public Almashaaer_Adapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater =  LayoutInflater.from (context);\n        View view=inflater.inflate (R.layout.single_item,parent,false);\n\n        return new Almashaaer_Adapter.MyViewHolder(view,recyclerViewInterface);\n    }\n</code></pre>\n<p>then I try to create if condtion for the list in the code:</p>\n<pre><code> @Override\n    public void onItemClick(int position) {\n        if(position == 0 ){\n            Intent intent = new Intent (Almashaaer.this,Minaa.class);\n            startActivity (intent);}\n        else\n        if(position == 1){\n            Intent intent = new Intent (Almashaaer.this,Aljamarat.class);\n            startActivity (intent);\n        }else.......etc\n</code></pre>\n<p>I try to eliminate the onClick()</p>\n"},{"tags":["java","multithreading","uuid"],"answers":[{"tags":[],"owner":{"account_id":1503634,"reputation":748,"user_id":1407544,"accept_rate":29,"display_name":"Redwan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1436648958,"creation_date":1436648958,"answer_id":31361879,"question_id":31361833,"body_markdown":"You can synchronize uuid-generation method, and/or you can pregen uuid pool and generate more identificators in one thread when pool starts to deplete.","title":"Same UUID being generated in multi-threaded application","body":"<p>You can synchronize uuid-generation method, and/or you can pregen uuid pool and generate more identificators in one thread when pool starts to deplete.</p>\n"},{"tags":[],"owner":{"account_id":5558081,"reputation":71,"user_id":4408712,"display_name":"V1ma-8"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590169020,"creation_date":1590169020,"answer_id":61960763,"question_id":31361833,"body_markdown":"You can try something like this \r\n\r\n    int uuid = ThreadLocalRandom.current().nextInt());","title":"Same UUID being generated in multi-threaded application","body":"<p>You can try something like this </p>\n\n<pre><code>int uuid = ThreadLocalRandom.current().nextInt());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1053260,"reputation":1032,"user_id":1056610,"display_name":"fabiolimace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651343030,"creation_date":1592449971,"answer_id":62441732,"question_id":31361833,"body_markdown":"Maybe this example can help someone in the future:\r\n\r\n\r\n```java\r\nUUID uuid = UuidCreator.getRandomBased();\r\n```\r\n\r\nThis library uses `java.security.SecureRandom`:\r\n\r\nhttps://github.com/f4b6a3/uuid-creator\r\n\r\n","title":"Same UUID being generated in multi-threaded application","body":"<p>Maybe this example can help someone in the future:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UUID uuid = UuidCreator.getRandomBased();\n</code></pre>\n<p>This library uses <code>java.security.SecureRandom</code>:</p>\n<p><a href=\"https://github.com/f4b6a3/uuid-creator\" rel=\"nofollow noreferrer\">https://github.com/f4b6a3/uuid-creator</a></p>\n"},{"tags":[],"owner":{"account_id":8607564,"reputation":912,"user_id":6447189,"display_name":"Melissa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651286320,"creation_date":1651286320,"answer_id":72065295,"question_id":31361833,"body_markdown":"I saw the same thing. I was calling `UUID.randomUUID()` in a multi-threaded application. Different threads were getting the same UUID. For me (and I&#39;m guessing you), this was because I was stored uuid in a static variable:\r\n\r\n```\r\n  static class UserJourneyThread implements Callable&lt;UserJourneyResult&gt; {\r\n\r\n    private static final String uuid = UUID.randomUUID().toString();\r\n\r\n    public UserJourneyResult call() {\r\n    }\r\n  }\r\n```\r\n\r\nIf `call()` is called once per thread, this should fix the problem:\r\n\r\n\r\n```\r\n  private static final ThreadLocal&lt;String&gt; uuid =\r\n      ThreadLocal.withInitial(() -&gt; UUID.randomUUID().toString());\r\n```\r\n\r\nIn my case, each thread called `call()` multiple times, so I had to move `UUID.randomUUID()` into `call()`.","title":"Same UUID being generated in multi-threaded application","body":"<p>I saw the same thing. I was calling <code>UUID.randomUUID()</code> in a multi-threaded application. Different threads were getting the same UUID. For me (and I'm guessing you), this was because I was stored uuid in a static variable:</p>\n<pre><code>  static class UserJourneyThread implements Callable&lt;UserJourneyResult&gt; {\n\n    private static final String uuid = UUID.randomUUID().toString();\n\n    public UserJourneyResult call() {\n    }\n  }\n</code></pre>\n<p>If <code>call()</code> is called once per thread, this should fix the problem:</p>\n<pre><code>  private static final ThreadLocal&lt;String&gt; uuid =\n      ThreadLocal.withInitial(() -&gt; UUID.randomUUID().toString());\n</code></pre>\n<p>In my case, each thread called <code>call()</code> multiple times, so I had to move <code>UUID.randomUUID()</code> into <code>call()</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1651293313,"creation_date":1651293313,"answer_id":72065754,"question_id":31361833,"body_markdown":"I honestly think you are barking up the wrong tree.  The real problem here is the (apparently) non-thread-safe way that you are using `UUID.randomUUID`.  (You didn&#39;t show us the code for that, so we can&#39;t spot the actual issue for you!)  The best solution would be to find and fix the thread safety problem.  \r\n\r\nDon&#39;t try implementing your own random/unique string generator.  Doing that will just create more problems down the track.  \r\n\r\nFor example, your use of `Random` like this would effectively limit you to ~2^48 distinct UUIDs ... because that is the seed length for `Random`; see https://docs.oracle.com/javase/8/docs/api/java/util/Random.html.   `ThreadLocalRandom` has the same problem.\r\n\r\nEven if you get your implementation correct, you still need to deal with the underlying thread safety issue.  And you have added a bunch of (IMO) unnecessary code to your code base that needs thorough unit testing ... and has to be maintained for the lifetime of your code base.","title":"Same UUID being generated in multi-threaded application","body":"<p>I honestly think you are barking up the wrong tree.  The real problem here is the (apparently) non-thread-safe way that you are using <code>UUID.randomUUID</code>.  (You didn't show us the code for that, so we can't spot the actual issue for you!)  The best solution would be to find and fix the thread safety problem.</p>\n<p>Don't try implementing your own random/unique string generator.  Doing that will just create more problems down the track.</p>\n<p>For example, your use of <code>Random</code> like this would effectively limit you to ~2^48 distinct UUIDs ... because that is the seed length for <code>Random</code>; see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Random.html</a>.   <code>ThreadLocalRandom</code> has the same problem.</p>\n<p>Even if you get your implementation correct, you still need to deal with the underlying thread safety issue.  And you have added a bunch of (IMO) unnecessary code to your code base that needs thorough unit testing ... and has to be maintained for the lifetime of your code base.</p>\n"},{"tags":[],"owner":{"account_id":4933775,"reputation":11,"user_id":3972658,"display_name":"ahmad.zuhd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685480361,"creation_date":1685480361,"answer_id":76368583,"question_id":31361833,"body_markdown":"in my case, i have applied all possible solutions. Even the library by [v1ma-8][1] still getting me repeated results. I have figured out that the issue is related to number of active threads .. it&#39;s reasonable to get the same id by the same thread...\r\n\r\nI have used `server.tomcat.threads.min-spare` option in tomcat to increase the number of threads for testing and it works fine as long as you don&#39;t exceed this min number.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4408712/v1ma-8","title":"Same UUID being generated in multi-threaded application","body":"<p>in my case, i have applied all possible solutions. Even the library by <a href=\"https://stackoverflow.com/users/4408712/v1ma-8\">v1ma-8</a> still getting me repeated results. I have figured out that the issue is related to number of active threads .. it's reasonable to get the same id by the same thread...</p>\n<p>I have used <code>server.tomcat.threads.min-spare</code> option in tomcat to increase the number of threads for testing and it works fine as long as you don't exceed this min number.</p>\n"}],"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5148,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":31361879,"answer_count":6,"score":9,"last_activity_date":1685480361,"creation_date":1436648644,"question_id":31361833,"body_markdown":"I am using the UUID.randomUUID().toString() to append a unique value to a string that is ultimately stored in the database and has unique constraint on it\r\n\r\nBut because my application is multi-threaded the execution happens at the same time of UUID generation and ultimately the same UUID is appended to the string and persistence fails. \r\n\r\nIs there a better way to generate random string i.e. a fail-safe method. \r\n\r\nI tried debugging and when I paused the other threads and let them go one by one then it worked fine. \r\n\r\nI am currently using the following code to make it more random but i do not like this approach. \r\n\r\n    Random r = new Random();\r\n    List&lt;Integer&gt; uniqueNUmbers = new ArrayList&lt;&gt;();\r\n    for (int i=0;i&lt;10;i++) {\r\n    int x=r.nextInt(9999);\r\n    while (uniqueNumbers.contains(x))\r\n    x=r.nextInt(9999);\r\n    uniqueNumbers.add(x);\r\n    } \r\n    String string = String.format(&quot;%04d&quot;, uniqueNumbers.get(0));\r\n    \r\n    string = uuid + string;\r\n\r\n\r\nBut this is like a hacky code. And I dont like this. \r\n\r\nDoes any one know a fail-proof method to actually geenrate a random string. ","title":"Same UUID being generated in multi-threaded application","body":"<p>I am using the UUID.randomUUID().toString() to append a unique value to a string that is ultimately stored in the database and has unique constraint on it</p>\n\n<p>But because my application is multi-threaded the execution happens at the same time of UUID generation and ultimately the same UUID is appended to the string and persistence fails. </p>\n\n<p>Is there a better way to generate random string i.e. a fail-safe method. </p>\n\n<p>I tried debugging and when I paused the other threads and let them go one by one then it worked fine. </p>\n\n<p>I am currently using the following code to make it more random but i do not like this approach. </p>\n\n<pre><code>Random r = new Random();\nList&lt;Integer&gt; uniqueNUmbers = new ArrayList&lt;&gt;();\nfor (int i=0;i&lt;10;i++) {\nint x=r.nextInt(9999);\nwhile (uniqueNumbers.contains(x))\nx=r.nextInt(9999);\nuniqueNumbers.add(x);\n} \nString string = String.format(\"%04d\", uniqueNumbers.get(0));\n\nstring = uuid + string;\n</code></pre>\n\n<p>But this is like a hacky code. And I dont like this. </p>\n\n<p>Does any one know a fail-proof method to actually geenrate a random string. </p>\n"},{"tags":["java","package"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1685479974,"post_id":7847568,"comment_id":134665397,"body_markdown":"See also: https://stackoverflow.com/a/64018076/1108305","body":"See also: <a href=\"https://stackoverflow.com/a/64018076/1108305\">stackoverflow.com/a/64018076/1108305</a>"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1319190055,"creation_date":1319190055,"answer_id":7847584,"question_id":7847568,"body_markdown":"There is no relation between packages and subpackages. It is just a hierarchical structure for the convenience of a developer and has no further meaning to Java itself.","title":"Relation between package and a sub package in Java","body":"<p>There is no relation between packages and subpackages. It is just a hierarchical structure for the convenience of a developer and has no further meaning to Java itself.</p>\n"},{"tags":[],"owner":{"account_id":985924,"reputation":31,"user_id":1004416,"display_name":"Yuhua Liu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1319190516,"creation_date":1319190516,"answer_id":7847672,"question_id":7847568,"body_markdown":"There is no relation between them.\r\npackage com.stackoverflow in java code just like com/stackoverflow in your operating system.\r\nI&#39;m sorry,my English is poor,beg your parden.","title":"Relation between package and a sub package in Java","body":"<p>There is no relation between them.\npackage com.stackoverflow in java code just like com/stackoverflow in your operating system.\nI'm sorry,my English is poor,beg your parden.</p>\n"},{"tags":[],"owner":{"account_id":26472781,"reputation":1,"user_id":20113153,"display_name":"uthra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685480180,"creation_date":1664542268,"answer_id":73909068,"question_id":7847568,"body_markdown":"Relation between the package and a sub-package in Java\r\n          \r\nAs Mark Rotteveel said It is just a hierarchical structure for the convenience of a developer \r\n\r\nIf you&#39;re asking about the relationship between them we might say that parent and child relationship.\r\n\r\nA **package** is like a folder. In Java containing a group of related classes, interfaces, enumeration, and annotation.\r\n          \r\n**Sub-package** is nothing but defined inside of another package.\r\n\r\nA package may have many sub-packages inside it.\r\n\r\nWe use packages to avoid name conflicts and to organize your code better, making access easy.\r\n\r\nDefine package in java:(package must be in the first code of your code)\r\n\r\n```lang-java\r\npackage packagename;\r\npackage packagename.subpackagename;\r\n```\r\n\r\n**import packages in java:**\r\n\r\n```lang-java\r\nimport packagename.classname; or import packagename.*;\r\nimport packagename.subpackagename.classname; or import packagename.subpackagename.*;\r\n```\r\n\r\n**Predefined sub-packages in java:**\r\n\r\n```lang-java\r\nimport java.util.*;\r\n```\r\n        \r\nhere java is a package and util is a sub-package ( lang,net,util,awt,SQL)\r\n\r\nHow to run package in notepad        \r\n  \r\n```lang-none\r\njavac packagename\\subpackagename\\programname.java\r\njavac packagename.subpackagename.programname\r\n```\r\n\r\n\r\n","title":"Relation between package and a sub package in Java","body":"<p>Relation between the package and a sub-package in Java</p>\n<p>As Mark Rotteveel said It is just a hierarchical structure for the convenience of a developer</p>\n<p>If you're asking about the relationship between them we might say that parent and child relationship.</p>\n<p>A <strong>package</strong> is like a folder. In Java containing a group of related classes, interfaces, enumeration, and annotation.</p>\n<p><strong>Sub-package</strong> is nothing but defined inside of another package.</p>\n<p>A package may have many sub-packages inside it.</p>\n<p>We use packages to avoid name conflicts and to organize your code better, making access easy.</p>\n<p>Define package in java:(package must be in the first code of your code)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package packagename;\npackage packagename.subpackagename;\n</code></pre>\n<p><strong>import packages in java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import packagename.classname; or import packagename.*;\nimport packagename.subpackagename.classname; or import packagename.subpackagename.*;\n</code></pre>\n<p><strong>Predefined sub-packages in java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n</code></pre>\n<p>here java is a package and util is a sub-package ( lang,net,util,awt,SQL)</p>\n<p>How to run package in notepad</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac packagename\\subpackagename\\programname.java\njavac packagename.subpackagename.programname\n</code></pre>\n"}],"owner":{"account_id":989050,"reputation":69,"user_id":1006819,"display_name":"user1006819"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":878,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1685480255,"creation_date":1319189947,"question_id":7847568,"body_markdown":"Can anyone please let me know the relation between a package and a sub package in java?\r\n","title":"Relation between package and a sub package in Java","body":"<p>Can anyone please let me know the relation between a package and a sub package in java?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9592,"page":400,"page_size":100}
