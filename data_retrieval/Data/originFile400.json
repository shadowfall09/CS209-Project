{"items":[{"tags":["java","gradle","jar","gitlab"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685557805,"post_id":76376343,"comment_id":134678544,"body_markdown":"Pulled to where exactly?","body":"Pulled to where exactly?"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1685558132,"post_id":76376343,"comment_id":134678596,"body_markdown":"@aled to the project where build.gradle is located","body":"@aled to the project where build.gradle is located"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685558269,"post_id":76376343,"comment_id":134678613,"body_markdown":"Does this answer your question? [How to download javadocs and sources for jar using Gradle 2.0?](https://stackoverflow.com/questions/28404149/how-to-download-javadocs-and-sources-for-jar-using-gradle-2-0)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28404149/how-to-download-javadocs-and-sources-for-jar-using-gradle-2-0\">How to download javadocs and sources for jar using Gradle 2.0?</a>"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1685558559,"post_id":76376343,"comment_id":134678686,"body_markdown":"@aled no, I&#39;ve seen these answers and the given solutions don&#39;t help. The problem is in gitlab, from other package registries, sources for jar are downloaded","body":"@aled no, I&#39;ve seen these answers and the given solutions don&#39;t help. The problem is in gitlab, from other package registries, sources for jar are downloaded"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685558644,"post_id":76376343,"comment_id":134678706,"body_markdown":"Why do you need to download the sources&amp;Javadoc of a dependency? I would understand for an IDE it is useful for reference when editing. Why outside the IDE?","body":"Why do you need to download the sources&amp;Javadoc of a dependency? I would understand for an IDE it is useful for reference when editing. Why outside the IDE?"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1685558952,"post_id":76376343,"comment_id":134678773,"body_markdown":"@aled this is necessary for the prompt in the IDE when editing the project and for other package registries it works out of the box","body":"@aled this is necessary for the prompt in the IDE when editing the project and for other package registries it works out of the box"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685559651,"post_id":76376343,"comment_id":134678902,"body_markdown":"Why the solution for that didn&#39;t work? https://stackoverflow.com/a/33653146/721855","body":"Why the solution for that didn&#39;t work? <a href=\"https://stackoverflow.com/a/33653146/721855\">stackoverflow.com/a/33653146/721855</a>"},{"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"score":0,"creation_date":1685560327,"post_id":76376343,"comment_id":134679018,"body_markdown":"@aled With the option in this question, the library resources are not pulled from the gitlab. They are not in the gradle cache. There is no way to use javadoc, since I am essentially working with source code that is recreated from a .class file using IntelliJ IDEA.","body":"@aled With the option in this question, the library resources are not pulled from the gitlab. They are not in the gradle cache. There is no way to use javadoc, since I am essentially working with source code that is recreated from a .class file using IntelliJ IDEA."}],"owner":{"account_id":7291906,"reputation":503,"user_id":7789681,"display_name":"Alexey Bril"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685558877,"creation_date":1685557434,"question_id":76376343,"body_markdown":"There is a GitLab Community Edition 15.11.3 server in which the artifacts of our java libs are stored in the package registry (lib-name.jar, lib-name.sources.jar, lib-name.javadoc.jar)\r\nThere are projects that, through build.gradle, pull our libs from gitlab, everything is ok, everything works:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;idea&#39;\r\n}\r\n\r\nrepositories {\r\n    maven {\r\n        url &quot;https://gitlab.server.com/api/v4/groups/maven/-/packages/maven&quot;\r\n        name &quot;GitLab&quot;\r\n        credentials(HttpHeaderCredentials) {\r\n            name = gradle.vcsAuthHeader\r\n            value = gradle.vcsAccessToken\r\n        }\r\n        authentication {\r\n            header(HttpHeaderAuthentication)\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.google.guava:guava:31.1-jre&#39;\r\n    implementation &#39;org.company.tool:lib-name:0.0.1&#39;\r\n}\r\n```\r\n\r\nBut lib-name.sources.jar and lib-name.javadoc.jar are not pulled up, but only lib-name.jar, while sources and javadoc are easily pulled up from any other sources.\r\nSources are pulled from the github, ours, if we put them in the nexus, any other libs from the maven repositories.\r\n\r\nFor example, when working with the guava library, I see both sources and javadocs in the gradle cache and, accordingly, intellij IDEA automatically pulls all this up for them, but not for our libs.\r\n\r\nTried different versions of Gradle, from old to latest, doesn&#39;t help.\r\n\r\nWhat could be the problem?\r\n\r\n**Updates:**\r\n\r\nWill add sources jar to my application&#39;s classpath. It&#39;s not what I would like:\r\n```\r\n    implementation &#39;org.company.tool:lib-name:0.0.1:sources&#39;\r\n```\r\n\r\n\r\nDoes not help:\r\n```\r\nidea {\r\n    module {\r\n        downloadJavadoc = true\r\n        downloadSources = true\r\n    }\r\n}\r\n```","title":"How can I get lib-name.sources.jar and lib-name.javadoc.jar to be pulled up along with lib-name.jar from my GitLab server?","body":"<p>There is a GitLab Community Edition 15.11.3 server in which the artifacts of our java libs are stored in the package registry (lib-name.jar, lib-name.sources.jar, lib-name.javadoc.jar)\nThere are projects that, through build.gradle, pull our libs from gitlab, everything is ok, everything works:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'idea'\n}\n\nrepositories {\n    maven {\n        url &quot;https://gitlab.server.com/api/v4/groups/maven/-/packages/maven&quot;\n        name &quot;GitLab&quot;\n        credentials(HttpHeaderCredentials) {\n            name = gradle.vcsAuthHeader\n            value = gradle.vcsAccessToken\n        }\n        authentication {\n            header(HttpHeaderAuthentication)\n        }\n    }\n}\n\ndependencies {\n    implementation 'com.google.guava:guava:31.1-jre'\n    implementation 'org.company.tool:lib-name:0.0.1'\n}\n</code></pre>\n<p>But lib-name.sources.jar and lib-name.javadoc.jar are not pulled up, but only lib-name.jar, while sources and javadoc are easily pulled up from any other sources.\nSources are pulled from the github, ours, if we put them in the nexus, any other libs from the maven repositories.</p>\n<p>For example, when working with the guava library, I see both sources and javadocs in the gradle cache and, accordingly, intellij IDEA automatically pulls all this up for them, but not for our libs.</p>\n<p>Tried different versions of Gradle, from old to latest, doesn't help.</p>\n<p>What could be the problem?</p>\n<p><strong>Updates:</strong></p>\n<p>Will add sources jar to my application's classpath. It's not what I would like:</p>\n<pre><code>    implementation 'org.company.tool:lib-name:0.0.1:sources'\n</code></pre>\n<p>Does not help:</p>\n<pre><code>idea {\n    module {\n        downloadJavadoc = true\n        downloadSources = true\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26593916,"reputation":291,"user_id":20228153,"display_name":"charlesz"},"score":0,"creation_date":1685558543,"post_id":76376429,"comment_id":134678681,"body_markdown":"You need to compile it into a class first, and load it using reflection.","body":"You need to compile it into a class first, and load it using reflection."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1685558556,"post_id":76376429,"comment_id":134678685,"body_markdown":"is there a reason why you need to dynamically generate code at runtime?","body":"is there a reason why you need to dynamically generate code at runtime?"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1685558794,"post_id":76376444,"comment_id":134678741,"body_markdown":"This topic has been addressed already on Stack Overflow many times.","body":"This topic has been addressed already on Stack Overflow many times."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685558569,"creation_date":1685558569,"answer_id":76376444,"question_id":76376429,"body_markdown":"You can not because Java is not an interpreted language. You have to compile first the source code into bytecode, then execute the bytecode with the Java runtime. If that works for you then you could do that programmatically, by using the [Java Compiler API][1] then loading the classes in a JAR file dynamically. You can search for that topic, there should be plenty of answers.\r\n\r\n\r\n  [1]: https://www.developer.com/design/an-introduction-to-the-java-compiler-api/","title":"How can I write and use a Java file in the same runtime","body":"<p>You can not because Java is not an interpreted language. You have to compile first the source code into bytecode, then execute the bytecode with the Java runtime. If that works for you then you could do that programmatically, by using the <a href=\"https://www.developer.com/design/an-introduction-to-the-java-compiler-api/\" rel=\"nofollow noreferrer\">Java Compiler API</a> then loading the classes in a JAR file dynamically. You can search for that topic, there should be plenty of answers.</p>\n"}],"owner":{"account_id":26731042,"reputation":1,"user_id":20333374,"display_name":"RYAN BINDEWALD"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1685558621,"accepted_answer_id":76376444,"answer_count":1,"score":-1,"last_activity_date":1685558666,"creation_date":1685558372,"question_id":76376429,"body_markdown":"I am trying to make this program write the Ran.java file and us it in the same run time. But because the file is not made yet the java error checking is making it so I can not make a object of it in my code. Is there a way to make it so the file can be wrighten and used in the same run?\r\n\r\n```\r\nimport java.io.File;  \r\nimport java.io.IOException; \r\nimport java.io.FileWriter;\r\nclass Main {\r\n public static void main(String[] args) {\r\n    try {\r\n      File myObj = new File(&quot;Ran.java&quot;);\r\n      if (myObj.createNewFile()) {\r\n        System.out.println(&quot;File created: &quot; + myObj.getName());\r\n          FileWriter my = new FileWriter(&quot;Ran.java&quot;);\r\n        my.write(&quot;&quot;&quot; \r\nimport java.util.Random;\r\nclass Ran {\r\nRandom ran = new Random();\r\n  int makeRint(int N, int M){\r\nint a = ran.nextInt(M + N - 1) + N;\r\n    return a;\r\n  }\r\n} \r\n                 &quot;&quot;&quot;);\r\n        my.close();\r\n        run();\r\n      } \r\n      else {\r\n        run();\r\n      }\r\n    } catch (IOException e) {\r\n      System.out.println(&quot;An error occurred.&quot;);\r\n      e.printStackTrace();\r\n    }\r\n  }\r\n\r\n  public static void run(){\r\nRan a = new Ran();\r\nSystem.out.println(a.makeRint(1, 35));\r\n    \r\n  }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nIf I take out the instantiation of the Ran object and the call to it&#39;s US method I am able to run the file and add it in after, but I don&#39;t want to edit the .java file manuely. Even if there is a way to run the Ran.java file on the secound run through without editing Main.java that would be great.","title":"How can I write and use a Java file in the same runtime","body":"<p>I am trying to make this program write the Ran.java file and us it in the same run time. But because the file is not made yet the java error checking is making it so I can not make a object of it in my code. Is there a way to make it so the file can be wrighten and used in the same run?</p>\n<pre><code>import java.io.File;  \nimport java.io.IOException; \nimport java.io.FileWriter;\nclass Main {\n public static void main(String[] args) {\n    try {\n      File myObj = new File(&quot;Ran.java&quot;);\n      if (myObj.createNewFile()) {\n        System.out.println(&quot;File created: &quot; + myObj.getName());\n          FileWriter my = new FileWriter(&quot;Ran.java&quot;);\n        my.write(&quot;&quot;&quot; \nimport java.util.Random;\nclass Ran {\nRandom ran = new Random();\n  int makeRint(int N, int M){\nint a = ran.nextInt(M + N - 1) + N;\n    return a;\n  }\n} \n                 &quot;&quot;&quot;);\n        my.close();\n        run();\n      } \n      else {\n        run();\n      }\n    } catch (IOException e) {\n      System.out.println(&quot;An error occurred.&quot;);\n      e.printStackTrace();\n    }\n  }\n\n  public static void run(){\nRan a = new Ran();\nSystem.out.println(a.makeRint(1, 35));\n    \n  }\n}\n\n\n</code></pre>\n<p>If I take out the instantiation of the Ran object and the call to it's US method I am able to run the file and add it in after, but I don't want to edit the .java file manuely. Even if there is a way to run the Ran.java file on the secound run through without editing Main.java that would be great.</p>\n"},{"tags":["java","scala","google-cloud-dataflow","data-pipeline"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1684768299,"post_id":76307098,"comment_id":134561328,"body_markdown":"You need to either increase the JVM memory or write to the file record per record, i.e. not reading the entire result into memory.","body":"You need to either increase the JVM memory or write to the file record per record, i.e. not reading the entire result into memory."}],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685558502,"creation_date":1685557548,"answer_id":76376361,"question_id":76307098,"body_markdown":"The error `java.lang.OutOfMemoryError: Java heap space` is mainly caused by **very high memory load on your workers** since you are dealing with 30 million records of SQL query. One way to resolve this issue is to **increase the workers&#39; memory**. It is best to set the size of your worker to `n1-highmem-4 or above`. This parameter can be used in choosing your [machine type](https://cloud.google.com/compute/docs/general-purpose-machines#n1-high-memory): `--workerMachineType`.\r\n\r\nAnother workaround is you can also check through **heap dump** to determine the **out-of-memory (OOM)** errors when JVM runs out of memory. Re-run the jobs with flags `--dumpHeapOnOOM` to save the heap dump locally and `--saveHeapDumpsToGcsPath=gs://&lt;path_to_a_gcs_bucket&gt;` to save it on a specific bucket which you have **write permissions** on. But using heat dump is only recommended when debugging since it has another cost on top of your current service.","title":"Data Flow ERROR java.lang.OutOfMemoryError: Java heap space","body":"<p>The error <code>java.lang.OutOfMemoryError: Java heap space</code> is mainly caused by <strong>very high memory load on your workers</strong> since you are dealing with 30 million records of SQL query. One way to resolve this issue is to <strong>increase the workers' memory</strong>. It is best to set the size of your worker to <code>n1-highmem-4 or above</code>. This parameter can be used in choosing your <a href=\"https://cloud.google.com/compute/docs/general-purpose-machines#n1-high-memory\" rel=\"nofollow noreferrer\">machine type</a>: <code>--workerMachineType</code>.</p>\n<p>Another workaround is you can also check through <strong>heap dump</strong> to determine the <strong>out-of-memory (OOM)</strong> errors when JVM runs out of memory. Re-run the jobs with flags <code>--dumpHeapOnOOM</code> to save the heap dump locally and <code>--saveHeapDumpsToGcsPath=gs://&lt;path_to_a_gcs_bucket&gt;</code> to save it on a specific bucket which you have <strong>write permissions</strong> on. But using heat dump is only recommended when debugging since it has another cost on top of your current service.</p>\n"}],"owner":{"account_id":14230284,"reputation":9,"user_id":10279720,"display_name":"P.pp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685558502,"creation_date":1684764824,"question_id":76307098,"body_markdown":"I have to create the pipeline to transfer the data from BigQuery and save it as json file. But I got this error. The result from sql query is 30 million records. How to improve this code?\r\n\r\nError:\r\n\r\n&gt; [error] (run-main-0) java.lang.OutOfMemoryError: Java heap space\r\n[error] \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n        object tmp {\r\n          private val logger = LoggerFactory.getLogger(this.getClass)\r\n          var date = &quot;2023-05-22&quot;\r\n\r\n          def main(cmdlineArgs: Array[String]){\r\n            val (sc, args) = ContextAndArgs(cmdlineArgs)\r\n            val file_path = &quot;src/main/scala/thunder/tmp.sql&quot;\r\n            val sql_content = Source.fromFile(file_path).mkString\r\n            val queryConfig = QueryJobConfiguration.newBuilder(sql_content).build()\r\n            val client = BigQueryOptions.getDefaultInstance().getService()\r\n            val queryResult = client.query(queryConfig)\r\n            var result = queryResult.iterateAll().iterator().asScala.map(_.asScala.map(_.getValue).toArray).toSeq\r\n            val json_result = result.map { row =&gt;\r\n              val pin_username = row(0).toString\r\n              val feature_name = row(1).toString\r\n              implicit val formats = DefaultFormats\r\n              write(Map((&quot;pin_username&quot;-&gt;pin_username),(&quot;feature_name&quot; -&gt; feature_name)))\r\n\r\n            }\r\n            sc.parallelize(json_result)\r\n              .saveAsTextFile(&quot;output&quot;, &quot;.json&quot;)\r\n\r\n            sc.close().waitUntilFinish()\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Data Flow ERROR java.lang.OutOfMemoryError: Java heap space","body":"<p>I have to create the pipeline to transfer the data from BigQuery and save it as json file. But I got this error. The result from sql query is 30 million records. How to improve this code?</p>\n<p>Error:</p>\n<blockquote>\n<p>[error] (run-main-0) java.lang.OutOfMemoryError: Java heap space\n[error]</p>\n</blockquote>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    object tmp {\n      private val logger = LoggerFactory.getLogger(this.getClass)\n      var date = \"2023-05-22\"\n\n      def main(cmdlineArgs: Array[String]){\n        val (sc, args) = ContextAndArgs(cmdlineArgs)\n        val file_path = \"src/main/scala/thunder/tmp.sql\"\n        val sql_content = Source.fromFile(file_path).mkString\n        val queryConfig = QueryJobConfiguration.newBuilder(sql_content).build()\n        val client = BigQueryOptions.getDefaultInstance().getService()\n        val queryResult = client.query(queryConfig)\n        var result = queryResult.iterateAll().iterator().asScala.map(_.asScala.map(_.getValue).toArray).toSeq\n        val json_result = result.map { row =&gt;\n          val pin_username = row(0).toString\n          val feature_name = row(1).toString\n          implicit val formats = DefaultFormats\n          write(Map((\"pin_username\"-&gt;pin_username),(\"feature_name\" -&gt; feature_name)))\n\n        }\n        sc.parallelize(json_result)\n          .saveAsTextFile(\"output\", \".json\")\n\n        sc.close().waitUntilFinish()\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1685542316,"post_id":76374156,"comment_id":134675030,"body_markdown":"What is the response status code? Look in your browser&#39;s dev tools.","body":"What is the response status code? Look in your browser&#39;s dev tools."},{"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"score":0,"creation_date":1685557981,"post_id":76374156,"comment_id":134678566,"body_markdown":"DevTools gives the following status: `(failed) net::ERR_CONNECTION_RESET`","body":"DevTools gives the following status: <code>(failed) net::ERR_CONNECTION_RESET</code>"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1685569185,"post_id":76374156,"comment_id":134680459,"body_markdown":"Did it give a status code number? 500 ? 200 ?","body":"Did it give a status code number? 500 ? 200 ?"},{"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"score":0,"creation_date":1685595986,"post_id":76374156,"comment_id":134682741,"body_markdown":"No, I am not getting 200,400,500 code. Instead I get the above message.","body":"No, I am not getting 200,400,500 code. Instead I get the above message."},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1685628474,"post_id":76374156,"comment_id":134689421,"body_markdown":"Did you try answer at  https://stackoverflow.com/questions/21573450/how-to-handle-maxuploadsizeexceededexception-maximum-upload-in-servlet    That answer put the response.sendError line inside the catch block.","body":"Did you try answer at  <a href=\"https://stackoverflow.com/questions/21573450/how-to-handle-maxuploadsizeexceededexception-maximum-upload-in-servlet\" title=\"how to handle maxuploadsizeexceededexception maximum upload in servlet\">stackoverflow.com/questions/21573450/&hellip;</a>    That answer put the response.sendError line inside the catch block."}],"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685558044,"creation_date":1685540436,"question_id":76374156,"body_markdown":"In my servlet (Apache Tomcat v9.0) I have added this annotation in order to limit the size of the uploaded file:\r\n\r\n    @MultipartConfig(location = &quot;/tmp&quot;, fileSizeThreshold = 1024 * 1024, maxFileSize = 1024 * 1024 * 50, maxRequestSize = 1024 * 1024 * 100)\r\n\r\nThis works but when I try to upload a large file, in the browser I see this error message:\r\n\r\n&gt; &quot;This site can’t be reached. The connection was reset.&quot;\r\n\r\nIn browser&#39;s devTools I am getting this status `(failed) net::ERR_CONNECTION_RESET`\r\n\r\nIn the `web.xml` file I have added:\r\n\r\n    &lt;error-page&gt;\r\n    \t&lt;error-code&gt;404&lt;/error-code&gt;\r\n    \t&lt;location&gt;/error404.jsp&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n    &lt;error-page&gt;\r\n    \t&lt;error-code&gt;500&lt;/error-code&gt;\r\n    \t&lt;location&gt;/error404.jsp&lt;/location&gt;\r\n    &lt;/error-page&gt;\r\n\r\nand in the servlet I have put the statements inside `try-catch`\r\n\r\n    try{\r\n      //get files from the user\r\n    }catch (Exception e) {\r\n      System.err.println(e);\r\n    }\r\n    \r\n    response.sendRedirect(&quot;/mypage.jsp&quot;);\r\n\r\nand in the logs I am getting the following message:\r\n\r\n    java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field files exceeds its maximum permitted size of 52428800 bytes.\r\n\r\nWhat am I missing here? Why I am not see my jsp page (mypage.jsp or error404.jsp, error405.jsp) and I am getting this error in the browser?","title":"&quot;This site can’t be reached&quot; after FileSizeLimitExceededException error","body":"<p>In my servlet (Apache Tomcat v9.0) I have added this annotation in order to limit the size of the uploaded file:</p>\n<pre><code>@MultipartConfig(location = &quot;/tmp&quot;, fileSizeThreshold = 1024 * 1024, maxFileSize = 1024 * 1024 * 50, maxRequestSize = 1024 * 1024 * 100)\n</code></pre>\n<p>This works but when I try to upload a large file, in the browser I see this error message:</p>\n<blockquote>\n<p>&quot;This site can’t be reached. The connection was reset.&quot;</p>\n</blockquote>\n<p>In browser's devTools I am getting this status <code>(failed) net::ERR_CONNECTION_RESET</code></p>\n<p>In the <code>web.xml</code> file I have added:</p>\n<pre><code>&lt;error-page&gt;\n    &lt;error-code&gt;404&lt;/error-code&gt;\n    &lt;location&gt;/error404.jsp&lt;/location&gt;\n&lt;/error-page&gt;\n&lt;error-page&gt;\n    &lt;error-code&gt;500&lt;/error-code&gt;\n    &lt;location&gt;/error404.jsp&lt;/location&gt;\n&lt;/error-page&gt;\n</code></pre>\n<p>and in the servlet I have put the statements inside <code>try-catch</code></p>\n<pre><code>try{\n  //get files from the user\n}catch (Exception e) {\n  System.err.println(e);\n}\n\nresponse.sendRedirect(&quot;/mypage.jsp&quot;);\n</code></pre>\n<p>and in the logs I am getting the following message:</p>\n<pre><code>java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.impl.FileSizeLimitExceededException: The field files exceeds its maximum permitted size of 52428800 bytes.\n</code></pre>\n<p>What am I missing here? Why I am not see my jsp page (mypage.jsp or error404.jsp, error405.jsp) and I am getting this error in the browser?</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685557377,"creation_date":1685557377,"answer_id":76376340,"question_id":76373656,"body_markdown":"Ok.. I found it. Somehow classloading order has changed. I now included:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n            &lt;version&gt;${xerces.xercesimpl.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\nAnd a SPI definition:\r\n\r\n```\r\njavax.xml.datatype.DatatypeFactory\r\n```\r\nwith content\r\n```\r\norg.apache.xerces.jaxp.datatype.DatatypeFactoryImpl\r\n```\r\nforcing using this factory always (and not the java internal one). \r\n\r\nThis fixed it.\r\n\r\n\r\n","title":"Removing quarkus.package.type=legacy-jar leads to not finding DataTypeFactoryImpl","body":"<p>Ok.. I found it. Somehow classloading order has changed. I now included:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;xerces&lt;/groupId&gt;\n            &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n            &lt;version&gt;${xerces.xercesimpl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>And a SPI definition:</p>\n<pre><code>javax.xml.datatype.DatatypeFactory\n</code></pre>\n<p>with content</p>\n<pre><code>org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl\n</code></pre>\n<p>forcing using this factory always (and not the java internal one).</p>\n<p>This fixed it.</p>\n"}],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685557377,"creation_date":1685537311,"question_id":76373656,"body_markdown":"We removed the `legacy-jar` option from the `application.properties`. However, when running the code in our openshift cluster I get the following class not found exception:\r\n\r\n```\r\n14:42:22 WARN  [nl.bro.mic.com.rs.pro.DefaultExceptionProvider] (executor-thread-12) javax.xml.datatype.DatatypeConfigurationException: Provider org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl not found: java.lang.RuntimeException: javax.xml.datatype.DatatypeConfigurationException: Provider org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl not found\r\n\tat nl.bro.microservices.rba.be.mapping.models.ModelXmlMapperImpl.&lt;init&gt;(ModelXmlMapperImpl.java:42\r\n\t...\r\nCaused by: java.lang.ClassNotFoundException: org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:115)\r\n\tat io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:65)\r\n\tat javax.xml.datatype.FactoryFinder.newInstance(Unknown Source)\r\n\tat javax.xml.datatype.FactoryFinder.find(Unknown Source)\r\n\t... 70 more\r\n```\r\n\r\nThe docker file takes care on copying our jars to the target location:\r\n\r\n```\r\nCOPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\r\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\r\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\r\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\r\n```\r\nThis is not happening in dev mode (locally). I tried a lot of things. Most prominent is adding the dependency: \r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-jaxb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n``` \r\n\r\nversion Quarkus: 2.16.6.Final, Java 11 (openjdk)\r\n\r\nWhat are we missing? I can see its looking for the class without the `com.sun` package prefix\r\n","title":"Removing quarkus.package.type=legacy-jar leads to not finding DataTypeFactoryImpl","body":"<p>We removed the <code>legacy-jar</code> option from the <code>application.properties</code>. However, when running the code in our openshift cluster I get the following class not found exception:</p>\n<pre><code>14:42:22 WARN  [nl.bro.mic.com.rs.pro.DefaultExceptionProvider] (executor-thread-12) javax.xml.datatype.DatatypeConfigurationException: Provider org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl not found: java.lang.RuntimeException: javax.xml.datatype.DatatypeConfigurationException: Provider org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl not found\n    at nl.bro.microservices.rba.be.mapping.models.ModelXmlMapperImpl.&lt;init&gt;(ModelXmlMapperImpl.java:42\n    ...\nCaused by: java.lang.ClassNotFoundException: org.apache.xerces.jaxp.datatype.DatatypeFactoryImpl\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:115)\n    at io.quarkus.bootstrap.runner.RunnerClassLoader.loadClass(RunnerClassLoader.java:65)\n    at javax.xml.datatype.FactoryFinder.newInstance(Unknown Source)\n    at javax.xml.datatype.FactoryFinder.find(Unknown Source)\n    ... 70 more\n</code></pre>\n<p>The docker file takes care on copying our jars to the target location:</p>\n<pre><code>COPY --chown=185 target/quarkus-app/lib/ /deployments/lib/\nCOPY --chown=185 target/quarkus-app/*.jar /deployments/\nCOPY --chown=185 target/quarkus-app/app/ /deployments/app/\nCOPY --chown=185 target/quarkus-app/quarkus/ /deployments/quarkus/\n</code></pre>\n<p>This is not happening in dev mode (locally). I tried a lot of things. Most prominent is adding the dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jaxb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>version Quarkus: 2.16.6.Final, Java 11 (openjdk)</p>\n<p>What are we missing? I can see its looking for the class without the <code>com.sun</code> package prefix</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1612434489,"post_id":66042946,"comment_id":116767964,"body_markdown":"You might get a  [Java 15 JDK from AdoptOpenJDK](https://adoptopenjdk.net/?variant=openjdk15) (https://jdk.java.net/15/ provides the source code, not an executable Java VM) and configure it in Eclipse in _Window &gt; Preferences: Java &gt; Installed JREs_.","body":"You might get a  <a href=\"https://adoptopenjdk.net/?variant=openjdk15\" rel=\"nofollow noreferrer\">Java 15 JDK from AdoptOpenJDK</a> (<a href=\"https://jdk.java.net/15/\" rel=\"nofollow noreferrer\">jdk.java.net/15</a> provides the source code, not an executable Java VM) and configure it in Eclipse in <i>Window &gt; Preferences: Java &gt; Installed JREs</i>."},{"owner":{"account_id":15920984,"reputation":49,"user_id":11488000,"display_name":"AlElM"},"score":1,"creation_date":1613242025,"post_id":66042946,"comment_id":117017597,"body_markdown":"Sorry for replying so late but thank you, it helped me. I got it to work. Thanks again.@howlger","body":"Sorry for replying so late but thank you, it helped me. I got it to work. Thanks again.@howlger"}],"answers":[{"tags":[],"owner":{"account_id":2205706,"reputation":3110,"user_id":1964277,"accept_rate":65,"display_name":"rupweb"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1624986444,"creation_date":1624986444,"answer_id":68182973,"question_id":66042946,"body_markdown":"I had this problem with an auto update.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHad to go to my project properties and change the JDK Compliance level.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z21UQ.png\r\n  [2]: https://i.stack.imgur.com/PJUW2.png","title":"BuildPath Errors in Eclipse","body":"<p>I had this problem with an auto update.</p>\n<p><a href=\"https://i.stack.imgur.com/z21UQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/z21UQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Had to go to my project properties and change the JDK Compliance level.</p>\n<p><a href=\"https://i.stack.imgur.com/PJUW2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PJUW2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25967210,"reputation":1,"user_id":19682997,"display_name":"Rishav Kalra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685557323,"creation_date":1685557323,"answer_id":76376330,"question_id":66042946,"body_markdown":"GO TO\r\nPreferences &gt; Java &gt; Installed JREs and Select the appropriate JRE (not jdk). \r\nThis helped me","title":"BuildPath Errors in Eclipse","body":"<p>GO TO\nPreferences &gt; Java &gt; Installed JREs and Select the appropriate JRE (not jdk).\nThis helped me</p>\n"}],"owner":{"account_id":15920984,"reputation":49,"user_id":11488000,"display_name":"AlElM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9103,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1685557323,"creation_date":1612431473,"question_id":66042946,"body_markdown":"I&#39;ve been using Eclipse IDE for... nearly a month now and one day all my projects had suddenly an error sign over them. I&#39;ve already tried to assign in the Library tab from Build Path the JDK I already have (the jdk.11.0.2, or at least that&#39;s the one it recognizes) and it still popped up 30 error messages. Mainly these two: The project cannot be built until build path errors are resolved and The project was not built due to &quot;release 15 is not found in the system&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent.\r\n\r\nI&#39;m using the latest version of Eclipse IDE.\r\n \r\nI&#39;ve tried to clean it, it didn&#39;t work. I&#39;ve tried to search on Stack Overflow but I found answers I didn&#39;t understand. I&#39;ve downloaded a JDK package from here (https://jdk.java.net/15/), the Windows version if it matters, but I realized I do not actually know how to actually install it. If someone would be so kind to guide me a little I would be grateful. Thank you for considering my question.\r\n","title":"BuildPath Errors in Eclipse","body":"<p>I've been using Eclipse IDE for... nearly a month now and one day all my projects had suddenly an error sign over them. I've already tried to assign in the Library tab from Build Path the JDK I already have (the jdk.11.0.2, or at least that's the one it recognizes) and it still popped up 30 error messages. Mainly these two: The project cannot be built until build path errors are resolved and The project was not built due to &quot;release 15 is not found in the system&quot;. Fix the problem, then try refreshing this project and building it since it may be inconsistent.</p>\n<p>I'm using the latest version of Eclipse IDE.</p>\n<p>I've tried to clean it, it didn't work. I've tried to search on Stack Overflow but I found answers I didn't understand. I've downloaded a JDK package from here (<a href=\"https://jdk.java.net/15/\" rel=\"nofollow noreferrer\">https://jdk.java.net/15/</a>), the Windows version if it matters, but I realized I do not actually know how to actually install it. If someone would be so kind to guide me a little I would be grateful. Thank you for considering my question.</p>\n"},{"tags":["java","cryptography","rsa"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1484251374,"post_id":41526826,"comment_id":70445277,"body_markdown":"Hah, thought I was on Crypto due to the edit of e-sushi :P","body":"Hah, thought I was on Crypto due to the edit of e-sushi :P"}],"answers":[{"comments":[{"owner":{"account_id":7556592,"reputation":152,"user_id":5735978,"accept_rate":60,"display_name":"android_guy"},"score":1,"creation_date":1484323806,"post_id":41622373,"comment_id":70477253,"body_markdown":"i got to know later abt getencoded method,this works great though i uses filewriter to write to file from base64 string ;)","body":"i got to know later abt getencoded method,this works great though i uses filewriter to write to file from base64 string ;)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1484348326,"post_id":41622373,"comment_id":70489278,"body_markdown":"I like to explicitly specify the character set. For base64 this is usually not an issue though, except when the default is UTF-16. Otherwise identical.","body":"I like to explicitly specify the character set. For base64 this is usually not an issue though, except when the default is UTF-16. Otherwise identical."},{"owner":{"account_id":2833714,"reputation":1932,"user_id":2434726,"accept_rate":80,"display_name":"scottysseus"},"score":0,"creation_date":1521573897,"post_id":41622373,"comment_id":85786706,"body_markdown":"`Base64.getEncoder().encodeToString(encodedPublicKey);` is all I needed...which would probably be obvious to someone more familiar with these file formats. Thanks!","body":"<code>Base64.getEncoder().encodeToString(encodedPublicKey);</code> is all I needed...which would probably be obvious to someone more familiar with these file formats. Thanks!"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1521631730,"post_id":41622373,"comment_id":85811159,"body_markdown":"@scottyseus Everything is obvious if you already know the answer :) The trick is to find a solution if you do *not* know the answer. Glad I could help you find it.","body":"@scottyseus Everything is obvious if you already know the answer :) The trick is to find a solution if you do <i>not</i> know the answer. Glad I could help you find it."}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1635975880,"creation_date":1484252865,"answer_id":41622373,"question_id":41526826,"body_markdown":"Generally if you want to store a file in base 64 you can simply encode the byte array. You can even put a Base64 stream in between the `ObjectOutputStream` and `FileOutputStream` (helpfully provided by the Base64 class within Java 8).\r\n\r\nHowever, public keys and private keys have default encodings which can be accessed using their `getEncoded` methods:\r\n\r\n    PublicKey publicKey = key.getPublic();\r\n    byte[] encodedPublicKey = publicKey.getEncoded();\r\n    String b64PublicKey = Base64.getEncoder().encodeToString(encodedPublicKey);\r\n    \r\n    try (OutputStreamWriter publicKeyWriter =\r\n            new OutputStreamWriter(\r\n                    new FileOutputStream(publicKeyFile),\r\n                    StandardCharsets.US_ASCII.newEncoder())) {\r\n        publicKeyWriter.write(b64PublicKey);\r\n    }\r\n\r\nThis saves the public key in `SubjectPublicKeyInfo` format, something that can be read and written by multiple types of software and cryptographic libraries.\r\n\r\nFor instance, you can [paste it in an online ASN.1 decoder](https://lapo.it/asn1js/#30820122300D06092A864886F70D01010105000382010F003082010A0282010100B8DFEE113DF2F011B282BF14A9DD9DAC99ACFF76531E74494571D8EF84E822281FEB6CE1443188EE65AC13AA9E46EF7DFC253A790E1933F5DA1C89DF328C220C9CFED5D31D2D9E75086CE979D11F65CA12301DBBCE8EA62B3550B698386E6530ABC7EF910240553AE9834A775E75ED95F47AC937DE0E28759CF21844D7191F2FF7BDD6E5F30A7CDF0A590A025E73A5EA3A264716365BBCE27A2CA2DE900B8603EFEC1181CA89DC1607FBF75D44322D2BE029CA24BDD972142E48EDD99BF37B2D70752F4193670C85CC7347FBD3617408A29F4BAB0004507E49837083D65A55576C65A5145A0F4ED0C10EECBCA6C096CC695FB96309F88E0E431AB8566D0827030203010001) (the online decoder will itself convert it to hex, but it will parse base 64 as well). The format of bytes are in so called ASN.1 / DER (which is a generic format, just like you can encode multiple types of files in XML).\r\n\r\n---\r\n\r\nIf you want to have the key in OpenSSL compatible format (with a &quot;PUBLIC KEY&quot; header and footer) you can use a library such as Bouncy Castle (e.g. [`org.bouncycastle.openssl.jcajce.JcaPEMWriter`](https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/openssl/jcajce/JcaPEMWriter.html#JcaPEMWriter-java.io.Writer-)).","title":"convert RSA Publickey to base64 and vice versa","body":"<p>Generally if you want to store a file in base 64 you can simply encode the byte array. You can even put a Base64 stream in between the <code>ObjectOutputStream</code> and <code>FileOutputStream</code> (helpfully provided by the Base64 class within Java 8).</p>\n<p>However, public keys and private keys have default encodings which can be accessed using their <code>getEncoded</code> methods:</p>\n<pre><code>PublicKey publicKey = key.getPublic();\nbyte[] encodedPublicKey = publicKey.getEncoded();\nString b64PublicKey = Base64.getEncoder().encodeToString(encodedPublicKey);\n\ntry (OutputStreamWriter publicKeyWriter =\n        new OutputStreamWriter(\n                new FileOutputStream(publicKeyFile),\n                StandardCharsets.US_ASCII.newEncoder())) {\n    publicKeyWriter.write(b64PublicKey);\n}\n</code></pre>\n<p>This saves the public key in <code>SubjectPublicKeyInfo</code> format, something that can be read and written by multiple types of software and cryptographic libraries.</p>\n<p>For instance, you can <a href=\"https://lapo.it/asn1js/#30820122300D06092A864886F70D01010105000382010F003082010A0282010100B8DFEE113DF2F011B282BF14A9DD9DAC99ACFF76531E74494571D8EF84E822281FEB6CE1443188EE65AC13AA9E46EF7DFC253A790E1933F5DA1C89DF328C220C9CFED5D31D2D9E75086CE979D11F65CA12301DBBCE8EA62B3550B698386E6530ABC7EF910240553AE9834A775E75ED95F47AC937DE0E28759CF21844D7191F2FF7BDD6E5F30A7CDF0A590A025E73A5EA3A264716365BBCE27A2CA2DE900B8603EFEC1181CA89DC1607FBF75D44322D2BE029CA24BDD972142E48EDD99BF37B2D70752F4193670C85CC7347FBD3617408A29F4BAB0004507E49837083D65A55576C65A5145A0F4ED0C10EECBCA6C096CC695FB96309F88E0E431AB8566D0827030203010001\" rel=\"nofollow noreferrer\">paste it in an online ASN.1 decoder</a> (the online decoder will itself convert it to hex, but it will parse base 64 as well). The format of bytes are in so called ASN.1 / DER (which is a generic format, just like you can encode multiple types of files in XML).</p>\n<hr />\n<p>If you want to have the key in OpenSSL compatible format (with a &quot;PUBLIC KEY&quot; header and footer) you can use a library such as Bouncy Castle (e.g. <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/openssl/jcajce/JcaPEMWriter.html#JcaPEMWriter-java.io.Writer-\" rel=\"nofollow noreferrer\"><code>org.bouncycastle.openssl.jcajce.JcaPEMWriter</code></a>).</p>\n"}],"owner":{"account_id":7556592,"reputation":152,"user_id":5735978,"accept_rate":60,"display_name":"android_guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25229,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41622373,"answer_count":1,"score":5,"last_activity_date":1685557292,"creation_date":1483824919,"question_id":41526826,"body_markdown":"I have a publicKey/privateKey pair generated from this function:\r\n\r\n    public static void generateKey() {\r\n            try {\r\n                final KeyPairGenerator keyGen = KeyPairGenerator.getInstance(ALGORITHM);\r\n                keyGen.initialize(2048);\r\n                final KeyPair key = keyGen.generateKeyPair();\r\n    \r\n                File privateKeyFile = new File(PRIVATE_KEY_FILE);\r\n                File publicKeyFile = new File(PUBLIC_KEY_FILE);\r\n    \r\n                // Create files to store public and private key\r\n                if (privateKeyFile.getParentFile() != null) {\r\n                    privateKeyFile.getParentFile().mkdirs();\r\n                }\r\n                privateKeyFile.createNewFile();\r\n    \r\n                if (publicKeyFile.getParentFile() != null) {\r\n                    publicKeyFile.getParentFile().mkdirs();\r\n                }\r\n                publicKeyFile.createNewFile();\r\n    \r\n                // Saving the Public key in a file\r\n                ObjectOutputStream publicKeyOS = new ObjectOutputStream(\r\n                        new FileOutputStream(publicKeyFile));\r\n                publicKeyOS.writeObject(key.getPublic());\r\n                publicKeyOS.close();\r\n    \r\n                // Saving the Private key in a file\r\n                ObjectOutputStream privateKeyOS = new ObjectOutputStream(\r\n                        new FileOutputStream(privateKeyFile));\r\n                privateKeyOS.writeObject(key.getPrivate());\r\n                privateKeyOS.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\nNow I want to convert publicKey to `base64` while writing and use that base64 decode to get publicKey back ,how can that be done?","title":"convert RSA Publickey to base64 and vice versa","body":"<p>I have a publicKey/privateKey pair generated from this function:</p>\n\n<pre><code>public static void generateKey() {\n        try {\n            final KeyPairGenerator keyGen = KeyPairGenerator.getInstance(ALGORITHM);\n            keyGen.initialize(2048);\n            final KeyPair key = keyGen.generateKeyPair();\n\n            File privateKeyFile = new File(PRIVATE_KEY_FILE);\n            File publicKeyFile = new File(PUBLIC_KEY_FILE);\n\n            // Create files to store public and private key\n            if (privateKeyFile.getParentFile() != null) {\n                privateKeyFile.getParentFile().mkdirs();\n            }\n            privateKeyFile.createNewFile();\n\n            if (publicKeyFile.getParentFile() != null) {\n                publicKeyFile.getParentFile().mkdirs();\n            }\n            publicKeyFile.createNewFile();\n\n            // Saving the Public key in a file\n            ObjectOutputStream publicKeyOS = new ObjectOutputStream(\n                    new FileOutputStream(publicKeyFile));\n            publicKeyOS.writeObject(key.getPublic());\n            publicKeyOS.close();\n\n            // Saving the Private key in a file\n            ObjectOutputStream privateKeyOS = new ObjectOutputStream(\n                    new FileOutputStream(privateKeyFile));\n            privateKeyOS.writeObject(key.getPrivate());\n            privateKeyOS.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n\n<p>Now I want to convert publicKey to <code>base64</code> while writing and use that base64 decode to get publicKey back ,how can that be done?</p>\n"},{"tags":["java","excel","apache-poi"],"owner":{"account_id":17766532,"reputation":1,"user_id":21995347,"display_name":"jose nu&#241;ez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685556448,"creation_date":1685556169,"question_id":76376208,"body_markdown":"I have to make a report but the content is bigger than the cell space and I want to autofit the cell height using wrapText from Apache.Poi\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m experiencing an issue with applying the &#39;wrap text&#39; feature correctly when using the sheet.addMergedRegion method with a for loop for parameter passing. I have defined a headerCellStyle and set the wrapText property to true along with other formatting options. However, the text does not wrap as expected. Here&#39;s the relevant code:\r\n```\r\nCellStyle headerCellStyle = workbook.createCellStyle();\r\n            headerCellStyle.setFont(font);\r\n            headerCellStyle.setWrapText(true);\r\n            headerCellStyle.setAlignment(HorizontalAlignment.CENTER);\r\n            headerCellStyle.setBorderLeft(BorderStyle.MEDIUM);\r\n            headerCellStyle.setBorderRight(BorderStyle.MEDIUM);\r\n            headerCellStyle.setBorderTop(BorderStyle.MEDIUM);\r\n            headerCellStyle.setBorderBottom(BorderStyle.MEDIUM);\r\n\r\n            Row rowHeader = sheet.createRow(12);\r\n            Cell cellHeader=null;\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                cellHeader = rowHeader.createCell((i*10) + 1);\r\n                cellHeader.setCellValue(listaCabecera.get(i));\r\n                cellHeader.setCellStyle(headerCellStyle);\r\n                sheet.addMergedRegion(new CellRangeAddress(12, 12, (i*10)+1, (i*10)+10));\r\n            }\r\n```\r\nHowever, if I explicitly specify the range for each sheet.addMergedRegion call, the wrapText feature works correctly. For example:\r\n```\r\n            Row rowHeader = sheet.createRow(12);\r\n            Cell cellHeader=null;\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                cellHeader = rowHeader.createCell((i*10) + 1);\r\n                cellHeader.setCellValue(listaCabecera.get(i));\r\n                cellHeader.setCellStyle(headerCellStyle); // Aplica el estilo a cada celda creada\r\n                if(i==0) {\r\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 1, 10));\r\n                }\r\n                if(i==1) {\r\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 11, 20));\r\n                }\r\n                if(i==2) {\r\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 21, 30));\r\n                }\r\n            }\r\n```\r\nWhy is the wrapText not working when using the sheet.addMergedRegion method within a for loop? Any suggestions on how to resolve this issue? Thank you!&quot;","title":"AutoSize height for rows In Apache.Poi 3.15","body":"<p>I have to make a report but the content is bigger than the cell space and I want to autofit the cell height using wrapText from Apache.Poi</p>\n<p>I'm experiencing an issue with applying the 'wrap text' feature correctly when using the sheet.addMergedRegion method with a for loop for parameter passing. I have defined a headerCellStyle and set the wrapText property to true along with other formatting options. However, the text does not wrap as expected. Here's the relevant code:</p>\n<pre><code>CellStyle headerCellStyle = workbook.createCellStyle();\n            headerCellStyle.setFont(font);\n            headerCellStyle.setWrapText(true);\n            headerCellStyle.setAlignment(HorizontalAlignment.CENTER);\n            headerCellStyle.setBorderLeft(BorderStyle.MEDIUM);\n            headerCellStyle.setBorderRight(BorderStyle.MEDIUM);\n            headerCellStyle.setBorderTop(BorderStyle.MEDIUM);\n            headerCellStyle.setBorderBottom(BorderStyle.MEDIUM);\n\n            Row rowHeader = sheet.createRow(12);\n            Cell cellHeader=null;\n            for (int i = 0; i &lt; 3; i++) {\n                cellHeader = rowHeader.createCell((i*10) + 1);\n                cellHeader.setCellValue(listaCabecera.get(i));\n                cellHeader.setCellStyle(headerCellStyle);\n                sheet.addMergedRegion(new CellRangeAddress(12, 12, (i*10)+1, (i*10)+10));\n            }\n</code></pre>\n<p>However, if I explicitly specify the range for each sheet.addMergedRegion call, the wrapText feature works correctly. For example:</p>\n<pre><code>            Row rowHeader = sheet.createRow(12);\n            Cell cellHeader=null;\n            for (int i = 0; i &lt; 3; i++) {\n                cellHeader = rowHeader.createCell((i*10) + 1);\n                cellHeader.setCellValue(listaCabecera.get(i));\n                cellHeader.setCellStyle(headerCellStyle); // Aplica el estilo a cada celda creada\n                if(i==0) {\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 1, 10));\n                }\n                if(i==1) {\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 11, 20));\n                }\n                if(i==2) {\n                    sheet.addMergedRegion(new CellRangeAddress(12, 12, 21, 30));\n                }\n            }\n</code></pre>\n<p>Why is the wrapText not working when using the sheet.addMergedRegion method within a for loop? Any suggestions on how to resolve this issue? Thank you!&quot;</p>\n"},{"tags":["java","hibernate","object","type-conversion"],"comments":[{"owner":{"account_id":2875465,"reputation":1957,"user_id":2467652,"display_name":"ajay.patel"},"score":0,"creation_date":1371544168,"post_id":17164014,"comment_id":24848958,"body_markdown":"Looks like getAttendanceList is returning you Long. Can you post the code for the same","body":"Looks like getAttendanceList is returning you Long. Can you post the code for the same"},{"owner":{"account_id":2895112,"reputation":297,"user_id":2483066,"display_name":"Matteo N."},"score":0,"creation_date":1371544311,"post_id":17164014,"comment_id":24852674,"body_markdown":"Are you sure you&#39;re returning an Integer? ClassCastException says that you&#39;re not returning an Integer...","body":"Are you sure you&#39;re returning an Integer? ClassCastException says that you&#39;re not returning an Integer..."},{"owner":{"account_id":2912362,"reputation":447,"user_id":2496295,"accept_rate":75,"display_name":"SWEE"},"score":0,"creation_date":1371544450,"post_id":17164014,"comment_id":24852675,"body_markdown":"Yes.. i want to store getAttendanceList() method return value into k. then only ClassCastException coming and now i&#39;m casting to (Integer) but again that exception come..","body":"Yes.. i want to store getAttendanceList() method return value into k. then only ClassCastException coming and now i&#39;m casting to (Integer) but again that exception come.."}],"answers":[{"comments":[{"owner":{"account_id":2912362,"reputation":447,"user_id":2496295,"accept_rate":75,"display_name":"SWEE"},"score":1,"creation_date":1371544237,"post_id":17164042,"comment_id":24848989,"body_markdown":"But IDE shows... The method intValue() is undefined for the type Object","body":"But IDE shows... The method intValue() is undefined for the type Object"},{"owner":{"account_id":2325393,"reputation":9581,"user_id":2040040,"accept_rate":93,"display_name":"johnchen902"},"score":3,"creation_date":1371544242,"post_id":17164042,"comment_id":24848992,"body_markdown":"Why not use `((Number) userService.getAttendanceList(currentUser)).intValue();`","body":"Why not use <code>((Number) userService.getAttendanceList(currentUser)).intValue();</code>"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371544411,"post_id":17164042,"comment_id":24849080,"body_markdown":"@johnchen902 yes, that is true... But in this case I am not sure OP really wants that. Or that the db model will change from `Long` to some other numeric type overnight ;)","body":"@johnchen902 yes, that is true... But in this case I am not sure OP really wants that. Or that the db model will change from <code>Long</code> to some other numeric type overnight ;)"},{"owner":{"account_id":2912362,"reputation":447,"user_id":2496295,"accept_rate":75,"display_name":"SWEE"},"score":0,"creation_date":1371544855,"post_id":17164042,"comment_id":24849304,"body_markdown":"oh... thankyou.. fge.. it&#39;s working... but when we write like ((Number) userService.getAttendanceList(currentUser)).intValue(); it is not working why???","body":"oh... thankyou.. fge.. it&#39;s working... but when we write like ((Number) userService.getAttendanceList(currentUser)).intValue(); it is not working why???"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371545112,"post_id":17164042,"comment_id":24849451,"body_markdown":"@user2496295 uh! That should work... Or do you have another `Number` class which is not the JDK&#39;s?","body":"@user2496295 uh! That should work... Or do you have another <code>Number</code> class which is not the JDK&#39;s?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1371545279,"post_id":17164042,"comment_id":24849530,"body_markdown":"@user2496295that is not what I meant. Look at your imports. Look at what is the import for `Number`. It should be `java.lang.Number`.","body":"@user2496295that is not what I meant. Look at your imports. Look at what is the import for <code>Number</code>. It should be <code>java.lang.Number</code>."}],"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":6,"down_vote_count":1,"up_vote_count":72,"is_accepted":true,"score":71,"last_activity_date":1371544124,"creation_date":1371544124,"answer_id":17164042,"question_id":17164014,"body_markdown":"Use:\r\n\r\n    ((Long) userService.getAttendanceList(currentUser)).intValue();\r\n\r\ninstead.\r\n\r\nThe `.intValue()` method is defined in class [`Number`][1], which `Long` extends.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Number.html#intValue%28%29","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>Use:</p>\n\n<pre><code>((Long) userService.getAttendanceList(currentUser)).intValue();\n</code></pre>\n\n<p>instead.</p>\n\n<p>The <code>.intValue()</code> method is defined in class <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Number.html#intValue%28%29\"><code>Number</code></a>, which <code>Long</code> extends.</p>\n"},{"tags":[],"owner":{"account_id":1172694,"reputation":1409,"user_id":1466126,"accept_rate":62,"display_name":"Jeroen Kransen"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1371544884,"creation_date":1371544884,"answer_id":17164308,"question_id":17164014,"body_markdown":"The number of results can (theoretically) be greater than the range of an integer. I would refactor the code and work with the returned long value instead.","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>The number of results can (theoretically) be greater than the range of an integer. I would refactor the code and work with the returned long value instead.</p>\n"},{"tags":[],"owner":{"account_id":13239720,"reputation":112,"user_id":9560693,"display_name":"Yehouda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652870692,"creation_date":1652870692,"answer_id":72287718,"question_id":17164014,"body_markdown":"You can do like that :\r\n \r\n\r\n    int k = Math.toIntExact((Long) userService.getAttendanceList(currentUser));","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>You can do like that :</p>\n<pre><code>int k = Math.toIntExact((Long) userService.getAttendanceList(currentUser));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26077378,"reputation":1,"user_id":19776138,"display_name":"Mr Etineh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685556036,"creation_date":1685556036,"answer_id":76376192,"question_id":17164014,"body_markdown":"Just change the ```long``` to ```Number```\r\nRemember your database is Number not int or long.","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>Just change the <code>long</code> to <code>Number</code>\nRemember your database is Number not int or long.</p>\n"}],"owner":{"account_id":2912362,"reputation":447,"user_id":2496295,"accept_rate":75,"display_name":"SWEE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139009,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":17164042,"answer_count":4,"score":30,"last_activity_date":1685556036,"creation_date":1371544035,"question_id":17164014,"body_markdown":"Even I&#39;m casting `Object` into int, but this exception occur...\r\n\r\nActually my Hibernate-JPA method was return `Object` then I&#39;m converting that `Object` into `int`...\r\n\r\nHere is my Hibernate code:\r\n\r\n    @Transactional\r\n\tpublic Object getAttendanceList(User user){\r\n\t\r\n\t\tQuery query = entityManager.createQuery(&quot;select Count(ad) from AttendanceDemo ad inner join ad.attendee at  where at.user=:user&quot;,\r\n\t\t\t\tLong.class);\r\n\t\tquery.setParameter(&quot;user&quot;, user);\r\n\t\treturn query.getSingleResult();\r\n\t}\r\n\r\n Now I&#39;m converting this `Object` as `int`:\r\n\r\n    int k = (Integer) userService.getAttendanceList(currentUser);\r\n\r\nI&#39;m converting `Object` to `Integer`.","title":"java.lang.ClassCastException: java.lang.Long cannot be cast to java.lang.Integer in java 1.6","body":"<p>Even I'm casting <code>Object</code> into int, but this exception occur...</p>\n\n<p>Actually my Hibernate-JPA method was return <code>Object</code> then I'm converting that <code>Object</code> into <code>int</code>...</p>\n\n<p>Here is my Hibernate code:</p>\n\n<pre><code>@Transactional\npublic Object getAttendanceList(User user){\n\n    Query query = entityManager.createQuery(\"select Count(ad) from AttendanceDemo ad inner join ad.attendee at  where at.user=:user\",\n            Long.class);\n    query.setParameter(\"user\", user);\n    return query.getSingleResult();\n}\n</code></pre>\n\n<p>Now I'm converting this <code>Object</code> as <code>int</code>:</p>\n\n<pre><code>int k = (Integer) userService.getAttendanceList(currentUser);\n</code></pre>\n\n<p>I'm converting <code>Object</code> to <code>Integer</code>.</p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"answers":[{"comments":[{"owner":{"account_id":12939619,"reputation":166,"user_id":9355842,"display_name":"Georgi Velev"},"score":0,"creation_date":1648491400,"post_id":71646419,"comment_id":126632282,"body_markdown":"Nope. No result at all, I excluded using your approach mockito-core and result is the same. My call stack still goes to org.springframework.boot.test.mock.mockito.MockReset,java where cannot solve the MockingDetails (interface) getMockCreationSettings() method. Which is CRAZY since MockingDetails is a MOCKITO CLASS ! I feel desperate.","body":"Nope. No result at all, I excluded using your approach mockito-core and result is the same. My call stack still goes to org.springframework.boot.test.mock.mockito.MockReset,java where cannot solve the MockingDetails (interface) getMockCreationSettings() method. Which is CRAZY since MockingDetails is a MOCKITO CLASS ! I feel desperate."},{"owner":{"account_id":24525025,"reputation":21,"user_id":18437588,"display_name":"vanxa"},"score":0,"creation_date":1648500616,"post_id":71646419,"comment_id":126635301,"body_markdown":"Like I said, you can expect to have incompatibility issues during runtime (i.e. when running your test). In fact, you are having such issues: the newer `spring-boot-starter-test` relies internally on newer calls to `mockito`, but you are supplying an **older** version of `mockito` for compile and runtime. Looking at the stacktrace, the test failed because Spring is looking for the `org.mockito.MockingDetails#getMockCreationSettings()` method, but that method is introduced in `mockito 2.1.0` (see https://github.com/mockito/mockito/blob/main/src/main/java/org/mockito/MockingDetails.java)","body":"Like I said, you can expect to have incompatibility issues during runtime (i.e. when running your test). In fact, you are having such issues: the newer <code>spring-boot-starter-test</code> relies internally on newer calls to <code>mockito</code>, but you are supplying an <b>older</b> version of <code>mockito</code> for compile and runtime. Looking at the stacktrace, the test failed because Spring is looking for the <code>org.mockito.MockingDetails#getMockCreationSettings()</code> method, but that method is introduced in <code>mockito 2.1.0</code> (see <a href=\"https://github.com/mockito/mockito/blob/main/src/main/java/org/mockito/MockingDetails.java\" rel=\"nofollow noreferrer\">github.com/mockito/mockito/blob/main/src/main/java/org/mocki&zwnj;&#8203;to/&hellip;</a>)"}],"tags":[],"owner":{"account_id":24525025,"reputation":21,"user_id":18437588,"display_name":"vanxa"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648465420,"creation_date":1648465420,"answer_id":71646419,"question_id":71646010,"body_markdown":"What is the version of `org.springframework.boot:spring-boot-starter-test` that gets resolved when you compile your project?\r\n\r\nYou can also check the dependency graph by using the `project-report` plugin (https://docs.gradle.org/current/userguide/project_report_plugin.html) to verify what version of mockito is used (i.e. is it overridden?)\r\n\r\n`org.springframework.boot:spring-boot-starter-test` versions `2.x` use Mockito `2.x`, as you can see here: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test/2.0.0.RELEASE\r\n\r\nIf you want to override the Mockito version that is used, you can try excluding the dependency that comes along with `spring-boot-starter-test` by doing\r\n```\r\ntestImplementation(&#39;org.springframework.boot:spring-boot-starter-test:{your version here}&#39;) {\r\n            exclude group: &#39;org.mockito&#39;, module: &#39;mockito-core&#39;\r\n            force = true\r\n        }\r\n```\r\n\r\nBecause you are forcing a `major version downgrade` for a component, you can expect to have incompatibility issues during runtime, depending on how you use the test libraries. ","title":"java.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings eeror","body":"<p>What is the version of <code>org.springframework.boot:spring-boot-starter-test</code> that gets resolved when you compile your project?</p>\n<p>You can also check the dependency graph by using the <code>project-report</code> plugin (<a href=\"https://docs.gradle.org/current/userguide/project_report_plugin.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/project_report_plugin.html</a>) to verify what version of mockito is used (i.e. is it overridden?)</p>\n<p><code>org.springframework.boot:spring-boot-starter-test</code> versions <code>2.x</code> use Mockito <code>2.x</code>, as you can see here: <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test/2.0.0.RELEASE\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-test/2.0.0.RELEASE</a></p>\n<p>If you want to override the Mockito version that is used, you can try excluding the dependency that comes along with <code>spring-boot-starter-test</code> by doing</p>\n<pre><code>testImplementation('org.springframework.boot:spring-boot-starter-test:{your version here}') {\n            exclude group: 'org.mockito', module: 'mockito-core'\n            force = true\n        }\n</code></pre>\n<p>Because you are forcing a <code>major version downgrade</code> for a component, you can expect to have incompatibility issues during runtime, depending on how you use the test libraries.</p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685555516,"creation_date":1685555516,"answer_id":76376135,"question_id":71646010,"body_markdown":"As mentioned in this thread: https://github.com/mockito/mockito/issues/1394 I excluded mockito-all dependency and solved my issue\r\n\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;","title":"java.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings eeror","body":"<p>As mentioned in this thread: <a href=\"https://github.com/mockito/mockito/issues/1394\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/1394</a> I excluded mockito-all dependency and solved my issue</p>\n<pre><code>            &lt;exclusion&gt;\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n                &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n</code></pre>\n"}],"owner":{"account_id":12939619,"reputation":166,"user_id":9355842,"display_name":"Georgi Velev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685555516,"creation_date":1648463434,"question_id":71646010,"body_markdown":"I&#39;am upgrading a project (Spring 4 -&gt; Spring 5, Spring Boot 1 -&gt; Spring Boot 2). \r\nI have the following error  \r\n\r\n    org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings;\r\n    java.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings;\r\n    \tat org.springframework.boot.test.mock.mockito.MockReset.get(MockReset.java:107)\r\n    \tat org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.resetMocks(ResetMocksTestExecutionListener.java:82)\r\n    \tat org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.resetMocks(ResetMocksTestExecutionListener.java:70)\r\n    \tat org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.beforeTestMethod(ResetMocksTestExecutionListener.java:57)\r\n    \tat org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:293)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n    \tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\nI am currently using \r\n\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    testImplementation &#39;org.mockito:mockito-core:1.10.19&#39;\r\n    testImplementation project(&quot;:test&quot;)\r\n\r\nAnd there was no such error in Spring 4. I have a new library `org.mockito:mockito-junit-jupiter:4.0.0` that I **did not have** in Spring 4 , I suppose this is the issue? But I don&#39;t know how to remove this ? Can somebody help ?\r\n\r\n**PLEASE NOTE** !  \r\n I **want** to keep using my current mockito version 1.10.19. Do not advice to remove this dependency and let spring-boot-starter to take care, because then I will need to re-write all the tests. I already try this and this is not a solution in my case. \r\n\r\n\r\n","title":"java.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings eeror","body":"<p>I'am upgrading a project (Spring 4 -&gt; Spring 5, Spring Boot 1 -&gt; Spring Boot 2).\nI have the following error</p>\n<pre><code>org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings;\njava.lang.NoSuchMethodError: org.mockito.MockingDetails.getMockCreationSettings()Lorg/mockito/mock/MockCreationSettings;\n    at org.springframework.boot.test.mock.mockito.MockReset.get(MockReset.java:107)\n    at org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.resetMocks(ResetMocksTestExecutionListener.java:82)\n    at org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.resetMocks(ResetMocksTestExecutionListener.java:70)\n    at org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener.beforeTestMethod(ResetMocksTestExecutionListener.java:57)\n    at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:293)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>I am currently using</p>\n<pre><code>testImplementation 'junit:junit:4.12'\ntestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\ntestImplementation 'org.mockito:mockito-core:1.10.19'\ntestImplementation project(&quot;:test&quot;)\n</code></pre>\n<p>And there was no such error in Spring 4. I have a new library <code>org.mockito:mockito-junit-jupiter:4.0.0</code> that I <strong>did not have</strong> in Spring 4 , I suppose this is the issue? But I don't know how to remove this ? Can somebody help ?</p>\n<p><strong>PLEASE NOTE</strong> !<br />\nI <strong>want</strong> to keep using my current mockito version 1.10.19. Do not advice to remove this dependency and let spring-boot-starter to take care, because then I will need to re-write all the tests. I already try this and this is not a solution in my case.</p>\n"},{"tags":["java","scala","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1685551178,"post_id":76375640,"comment_id":134677222,"body_markdown":"Try to delete `.idea` directory and [re-import the project](https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start). All the dependencies should be configured automatically. If the issue persists, [file a bug](https://youtrack.jetbrains.com/newIssue?project=IDEA) with the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) attached.","body":"Try to delete <code>.idea</code> directory and <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">re-import the project</a>. All the dependencies should be configured automatically. If the issue persists, <a href=\"https://youtrack.jetbrains.com/newIssue?project=IDEA\" rel=\"nofollow noreferrer\">file a bug</a> with the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> attached."},{"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"score":0,"creation_date":1685555346,"post_id":76375640,"comment_id":134678080,"body_markdown":"@CrazyCoder, wow that fixed it! I normally try that. Do you want to make that an answer or should I just delete this thread?","body":"@CrazyCoder, wow that fixed it! I normally try that. Do you want to make that an answer or should I just delete this thread?"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685555403,"creation_date":1685555403,"answer_id":76376119,"question_id":76375640,"body_markdown":"The common workaround/fix for such problems is to delete `.idea` directory from the project root and [re-import the project](https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start) from the build file.","title":"IntelliJ `No &#39;scala-library*.jar&#39; in Scala compiler classpath in Scala SDK Maven: org.scala-lang:scala-library:2.12.7`","body":"<p>The common workaround/fix for such problems is to delete <code>.idea</code> directory from the project root and <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">re-import the project</a> from the build file.</p>\n"}],"owner":{"account_id":1888553,"reputation":18649,"user_id":1767106,"accept_rate":78,"display_name":"clay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76376119,"answer_count":1,"score":1,"last_activity_date":1685555403,"creation_date":1685550909,"question_id":76375640,"body_markdown":"```\r\nscalac: No &#39;scala-library*.jar&#39; in Scala compiler classpath in Scala SDK Maven: org.scala-lang:scala-library:2.12.7\r\n```\r\n\r\nI&#39;m working on a large existing project that uses Java 8 + Scala 2.12.7 with Maven for build. I want to use the IntelliJ Ultimate IDE, version 2023.1.2 which is the current version as of this writing, to work on the project.\r\n\r\nThis project builds successfully with this command in a shell window:\r\n\r\n```\r\nmvn clean install -Dfast -DskipTests=true -Dscala-2.12\r\n```\r\n\r\nIn IntelliJ Project Structure -&gt; Platform Settings -&gt; Global Libraries, I&#39;ve downloaded scala-sdk-2.12.7. There are no other Global Libraries configured. \r\n\r\nI see related stackoverflow threads like this one (https://stackoverflow.com/questions/46827010/no-scala-library-jar-in-every-new-intellij-scala-project/46831548#46831548) but that is years ago and while it&#39;s the same error message, the answers aren&#39;t helpful and most aren&#39;t applicable. I&#39;m not using SBT. And I can&#39;t just upgrade to a newer Scala as this is a large legacy project.\r\n\r\nI&#39;ve also done &quot;Rebuild Project&quot; and &quot;Invalidate Caches...&quot; (with restart) several times.","title":"IntelliJ `No &#39;scala-library*.jar&#39; in Scala compiler classpath in Scala SDK Maven: org.scala-lang:scala-library:2.12.7`","body":"<pre><code>scalac: No 'scala-library*.jar' in Scala compiler classpath in Scala SDK Maven: org.scala-lang:scala-library:2.12.7\n</code></pre>\n<p>I'm working on a large existing project that uses Java 8 + Scala 2.12.7 with Maven for build. I want to use the IntelliJ Ultimate IDE, version 2023.1.2 which is the current version as of this writing, to work on the project.</p>\n<p>This project builds successfully with this command in a shell window:</p>\n<pre><code>mvn clean install -Dfast -DskipTests=true -Dscala-2.12\n</code></pre>\n<p>In IntelliJ Project Structure -&gt; Platform Settings -&gt; Global Libraries, I've downloaded scala-sdk-2.12.7. There are no other Global Libraries configured.</p>\n<p>I see related stackoverflow threads like this one (<a href=\"https://stackoverflow.com/questions/46827010/no-scala-library-jar-in-every-new-intellij-scala-project/46831548#46831548\">No &#39;scala-library*.jar&#39; in every new IntelliJ Scala Project</a>) but that is years ago and while it's the same error message, the answers aren't helpful and most aren't applicable. I'm not using SBT. And I can't just upgrade to a newer Scala as this is a large legacy project.</p>\n<p>I've also done &quot;Rebuild Project&quot; and &quot;Invalidate Caches...&quot; (with restart) several times.</p>\n"},{"tags":["java","json","jackson","deserialization"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1685524380,"post_id":76371794,"comment_id":134670886,"body_markdown":"Have you looked up &quot;Jackson custom deserializer&quot;? There should be a lot of results for that.","body":"Have you looked up &quot;Jackson custom deserializer&quot;? There should be a lot of results for that."}],"answers":[{"tags":[],"owner":{"account_id":24346889,"reputation":74,"user_id":18283306,"display_name":"Dylan LaMott"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685554447,"creation_date":1685554447,"answer_id":76376021,"question_id":76371794,"body_markdown":"If it were me I would create a POJO class to map the JSON response to the object. I would just use this: https://www.jsonschema2pojo.org/ to create the classes I need and then do: \r\n\r\n    Example object = new Gson().fromJson(json, Example.class);\r\n\r\nUsing the above link will save time and prevent the headache of mapping the JSON object. You could then refer in your code like:\r\n\r\n   \r\n\r\n    List&lt;String&gt; codeList =  object.getCodes();","title":"How to deserialize List&lt;String&gt; as comma separated String in Jackson","body":"<p>If it were me I would create a POJO class to map the JSON response to the object. I would just use this: <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org/</a> to create the classes I need and then do:</p>\n<pre><code>Example object = new Gson().fromJson(json, Example.class);\n</code></pre>\n<p>Using the above link will save time and prevent the headache of mapping the JSON object. You could then refer in your code like:</p>\n<pre><code>List&lt;String&gt; codeList =  object.getCodes();\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685554447,"creation_date":1685523641,"question_id":76371794,"body_markdown":"I want to deserialize the below JSON in `Map&lt;String,String&gt;` format, but with the `codes` param in List format. I needs to deserialize `codes` as a comma-separated string in a map value.\r\n\r\n```json\r\n{\r\n  &quot;frequency&quot;: &quot;Daily&quot;,\r\n  &quot;level&quot;: &quot;Standard&quot;,\r\n  &quot;id&quot;: &quot;1234&quot;,\r\n  &quot;name&quot;: &quot;test user&quot;,\r\n  &quot;codes&quot;: [\r\n    &quot;177&quot;,\r\n    &quot;989&quot;\r\n  ]\r\n}\r\n```\r\n\r\nI tried to change to a `Map&lt;String,Object&gt;` and was able to deserialize it. But I want to add a custom deserializer for it. Is any way to add a custom deserializer for it?","title":"How to deserialize List&lt;String&gt; as comma separated String in Jackson","body":"<p>I want to deserialize the below JSON in <code>Map&lt;String,String&gt;</code> format, but with the <code>codes</code> param in List format. I needs to deserialize <code>codes</code> as a comma-separated string in a map value.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;frequency&quot;: &quot;Daily&quot;,\n  &quot;level&quot;: &quot;Standard&quot;,\n  &quot;id&quot;: &quot;1234&quot;,\n  &quot;name&quot;: &quot;test user&quot;,\n  &quot;codes&quot;: [\n    &quot;177&quot;,\n    &quot;989&quot;\n  ]\n}\n</code></pre>\n<p>I tried to change to a <code>Map&lt;String,Object&gt;</code> and was able to deserialize it. But I want to add a custom deserializer for it. Is any way to add a custom deserializer for it?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685554357,"creation_date":1685554357,"answer_id":76376015,"question_id":76375739,"body_markdown":"JPA does not define any way to specify an alias for a persistent property, nor does Hibernate (since you mention HQL in particular) offer an extension for that purpose.  If you use field-based access, as in your example, then in your HQL queries, you must refer to entity attributes via their field names.  On the other hand, if you use property-based access then you must refer to entity attributes via names derived from the names of the annotated accessor methods.  There is no field-level analogue of the `name` attribute of the `@Entity` annotation.\r\n\r\n&gt; How to make possible selecting by **customized** column name in HQL\r\n\r\nOnly by naming the field on the Java side with whatever name you want to use to refer to it in your queries.  For example,\r\n```\r\n    @Column(name = &quot;example_field&quot;)\r\n    public String example_field;\r\n```\r\nIf you happen to be subject to Java coding conventions that disallow such field names then you&#39;re stuck. There is no way to satisfy such conventions and also refer to the fields by the names you prefer in your HQL queries.\r\n","title":"How to change column alias in entity definition, that is used in HQL queries in Hibernate?","body":"<p>JPA does not define any way to specify an alias for a persistent property, nor does Hibernate (since you mention HQL in particular) offer an extension for that purpose.  If you use field-based access, as in your example, then in your HQL queries, you must refer to entity attributes via their field names.  On the other hand, if you use property-based access then you must refer to entity attributes via names derived from the names of the annotated accessor methods.  There is no field-level analogue of the <code>name</code> attribute of the <code>@Entity</code> annotation.</p>\n<blockquote>\n<p>How to make possible selecting by <strong>customized</strong> column name in HQL</p>\n</blockquote>\n<p>Only by naming the field on the Java side with whatever name you want to use to refer to it in your queries.  For example,</p>\n<pre><code>    @Column(name = &quot;example_field&quot;)\n    public String example_field;\n</code></pre>\n<p>If you happen to be subject to Java coding conventions that disallow such field names then you're stuck. There is no way to satisfy such conventions and also refer to the fields by the names you prefer in your HQL queries.</p>\n"}],"owner":{"account_id":15769059,"reputation":1441,"user_id":11378599,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685554357,"creation_date":1685551744,"question_id":76375739,"body_markdown":"I&#39;m trying to figure out how to change column name alias used in HQL, like we can change entity name alias with `@Entity(name = &quot;example&quot;)` annotation.\r\n\r\nSay for example we have such entity class:\r\n\r\n```\r\n\r\n@Entity(name = &quot;example&quot;)\r\n@Table(name = &quot;example&quot;)\r\npublic class Example {\r\n    public Example(String exampleField) {\r\n        this.exampleField = exampleField;\r\n    }\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;id&quot;)\r\n    public Long id;\r\n\r\n    @Column(name = &quot;example_field&quot;)\r\n    public String exampleField;\r\n}\r\n\r\n```\r\n\r\nSelecting by field name in *HQL* works:\r\n\r\n```\r\n    entityManager.createQuery(&quot;select e.exampleField from example e&quot;)\r\n```\r\n\r\nHow to make possible selecting by **customized** column name in *HQL*, like this?\r\n\r\n```\r\n    entityManager.createQuery(&quot;select e.example_field from example e&quot;)\r\n```\r\n\r\nNotice, the second (not working, but preferred) example has `example_field` instead of `exampleField`","title":"How to change column alias in entity definition, that is used in HQL queries in Hibernate?","body":"<p>I'm trying to figure out how to change column name alias used in HQL, like we can change entity name alias with <code>@Entity(name = &quot;example&quot;)</code> annotation.</p>\n<p>Say for example we have such entity class:</p>\n<pre><code>\n@Entity(name = &quot;example&quot;)\n@Table(name = &quot;example&quot;)\npublic class Example {\n    public Example(String exampleField) {\n        this.exampleField = exampleField;\n    }\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    public Long id;\n\n    @Column(name = &quot;example_field&quot;)\n    public String exampleField;\n}\n\n</code></pre>\n<p>Selecting by field name in <em>HQL</em> works:</p>\n<pre><code>    entityManager.createQuery(&quot;select e.exampleField from example e&quot;)\n</code></pre>\n<p>How to make possible selecting by <strong>customized</strong> column name in <em>HQL</em>, like this?</p>\n<pre><code>    entityManager.createQuery(&quot;select e.example_field from example e&quot;)\n</code></pre>\n<p>Notice, the second (not working, but preferred) example has <code>example_field</code> instead of <code>exampleField</code></p>\n"},{"tags":["java","amazon-web-services","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644598744,"creation_date":1644598744,"answer_id":71083799,"question_id":70989658,"body_markdown":"They are still there, in the AWS SDK:\r\n\r\nhttps://github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils/src/main/java/software/amazon/awssdk/core/auth/policy\r\n\r\nBut they are probably test classes (look at the full path). So, they may never meant to be a part of the public API. The Javadocs were &quot;fixed&quot; between [`2.1.3`][1] and [`2.1.4`][2].\r\n\r\nIf you are looking for those classes, they reside in [this articact][3]. Add it to your project, and you&#39;ll get them.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/2.1.3/software/amazon/awssdk/core/auth/policy/package-summary.html\r\n  [2]: https://sdk.amazonaws.com/java/api/2.1.4/software/amazon/awssdk/core/auth/policy/package-summary.html\r\n  [3]: https://search.maven.org/artifact/software.amazon.awssdk/test-utils","title":"Where did the package software.amazon.awssdk.core.auth.policy go in the AWS Java SDK V2?","body":"<p>They are still there, in the AWS SDK:</p>\n<p><a href=\"https://github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils/src/main/java/software/amazon/awssdk/core/auth/policy\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/tree/master/test/test-utils/src/main/java/software/amazon/awssdk/core/auth/policy</a></p>\n<p>But they are probably test classes (look at the full path). So, they may never meant to be a part of the public API. The Javadocs were &quot;fixed&quot; between <a href=\"https://sdk.amazonaws.com/java/api/2.1.3/software/amazon/awssdk/core/auth/policy/package-summary.html\" rel=\"nofollow noreferrer\"><code>2.1.3</code></a> and <a href=\"https://sdk.amazonaws.com/java/api/2.1.4/software/amazon/awssdk/core/auth/policy/package-summary.html\" rel=\"nofollow noreferrer\"><code>2.1.4</code></a>.</p>\n<p>If you are looking for those classes, they reside in <a href=\"https://search.maven.org/artifact/software.amazon.awssdk/test-utils\" rel=\"nofollow noreferrer\">this articact</a>. Add it to your project, and you'll get them.</p>\n"},{"comments":[{"owner":{"account_id":16963135,"reputation":389,"user_id":12269777,"display_name":"Anonymous Beaver"},"score":0,"creation_date":1646331120,"post_id":71331240,"comment_id":126102650,"body_markdown":"Thanks for pointing me to this, I&#39;ll go and comment","body":"Thanks for pointing me to this, I&#39;ll go and comment"}],"tags":[],"owner":{"account_id":1433507,"reputation":31,"user_id":9120812,"display_name":"cenedhryn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646272388,"creation_date":1646272388,"answer_id":71331240,"question_id":70989658,"body_markdown":"The Github repo for the V2 AWS Java SDK has a feature request for official support: https://github.com/aws/aws-sdk-java-v2/issues/39\r\n\r\nPlease +1 and/or comment if you are missing this feature!","title":"Where did the package software.amazon.awssdk.core.auth.policy go in the AWS Java SDK V2?","body":"<p>The Github repo for the V2 AWS Java SDK has a feature request for official support: <a href=\"https://github.com/aws/aws-sdk-java-v2/issues/39\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java-v2/issues/39</a></p>\n<p>Please +1 and/or comment if you are missing this feature!</p>\n"},{"tags":[],"owner":{"account_id":1635072,"reputation":81,"user_id":1508792,"display_name":"AlexP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685554268,"creation_date":1685554268,"answer_id":76376007,"question_id":70989658,"body_markdown":"It is in maven, but with &quot;test&quot; scope.\r\n\r\nhttps://mvnrepository.com/artifact/software.amazon.awssdk/test-utils","title":"Where did the package software.amazon.awssdk.core.auth.policy go in the AWS Java SDK V2?","body":"<p>It is in maven, but with &quot;test&quot; scope.</p>\n<p><a href=\"https://mvnrepository.com/artifact/software.amazon.awssdk/test-utils\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/software.amazon.awssdk/test-utils</a></p>\n"}],"owner":{"account_id":16963135,"reputation":389,"user_id":12269777,"display_name":"Anonymous Beaver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71083799,"answer_count":3,"score":1,"last_activity_date":1685554268,"creation_date":1643991892,"question_id":70989658,"body_markdown":"I found this piece of documentation for a way to build policies for accessing S3 Buckets (among other things) programmatically, but I can&#39;t find seem to find it. (Based on the file path, I would&#39;ve guessed that it would be in either auth or sdk-core).\r\n\r\nHas this been deprecated and moved somewhere else? There seems to be a similar (possibly equivalent) version in the V1 version of the SDK but would rather use V2 if possible.\r\n\r\nLink to documentation: https://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/auth/policy/package-summary.html","title":"Where did the package software.amazon.awssdk.core.auth.policy go in the AWS Java SDK V2?","body":"<p>I found this piece of documentation for a way to build policies for accessing S3 Buckets (among other things) programmatically, but I can't find seem to find it. (Based on the file path, I would've guessed that it would be in either auth or sdk-core).</p>\n<p>Has this been deprecated and moved somewhere else? There seems to be a similar (possibly equivalent) version in the V1 version of the SDK but would rather use V2 if possible.</p>\n<p>Link to documentation: <a href=\"https://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/auth/policy/package-summary.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/2.0.0/software/amazon/awssdk/core/auth/policy/package-summary.html</a></p>\n"},{"tags":["java","android","jar","dagger-2","lib"],"comments":[{"owner":{"account_id":8339437,"reputation":591,"user_id":6265187,"display_name":"Shubham Anand"},"score":0,"creation_date":1593617085,"post_id":53156315,"comment_id":110845284,"body_markdown":"can you tell the solution?","body":"can you tell the solution?"}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685554213,"creation_date":1685554213,"answer_id":76375999,"question_id":53156315,"body_markdown":"Shading is a part of packaging the library dependency: you&#39;d use a rewriting tool repackage that library to include the `dagger.internal` from Dagger 2.13 under a new name (say `librarynamehere.shaded.dagger.internal`) that changes all references inside the library to use the new name. This would allow the two versions of `dagger.internal` to coexist in your library, but you should only try this if you can&#39;t upgrade your versions of Dagger to match in the library and in your application.\r\n\r\n---\r\n\r\nAs in [this answer](https://stackoverflow.com/q/50533476/1426891), a refactor in Dagger 2.14 [removed the method MembersInjector.injectMembers](https://github.com/google/dagger/commit/d61f198f1a9429e560b6e4758971978cbd58df09#diff-19f275685a69d9f838380ddb260c2df3). Code generated with 2.14 and beyond shouldn&#39;t call into this method.\r\n\r\nWhat&#39;s happening here is that the library you&#39;re consuming has packaged up Dagger-generated code that assumes the presence of `MembersInjector.injectMembers` as it was prior to 2.14. With the upgrade to 2.19, the method is absent, so the generated code is broken.\r\n\r\nThis is particularly tricky because the removal of this method is arguably a [semantic versioning](https://semver.org/) breaking change, but has a minor version increase that package management libraries might assume is non-breaking. In fairness to Dagger, the [intent](https://github.com/google/dagger/pull/950#issuecomment-439026362) is that libraries do not ship generated code, but instead document their usage or allow the consuming application to generate code with matching libraries:\r\n\r\n&gt; There&#39;s no guarantee that the generated code (i.e. factories) work well with each other across versions. We don&#39;t have any way of testing that. It&#39;s a generally good idea that any libraries that are intended to use Dagger in tandem are using the same version of Dagger.\r\n&gt; \r\n&gt; If a library _you don&#39;t own_ is passing along Dagger codegen to you and isn&#39;t documenting it, that&#39;s a bad idea on the library owners part.\r\n\r\nIf you have the option to upgrade or recompile the library with a newer version of Dagger, ideally one that matches the outer version of Dagger you&#39;re using, that would solve the problem. Likewise, if you were to keep your outer version of Dagger to match the version in the dependency. Those would be more ideal than shading.\r\n\r\nAs in the Software Engineering SE question [What is a &quot;shaded&quot; Java dependency?](https://softwareengineering.stackexchange.com/questions/297276/what-is-a-shaded-java-dependency), shading refers to repackaging and/or renaming a Java resource using a tool like [jarjar](https://github.com/shevek/jarjar). The idea here is to package a copy of the 2.13 `dagger.internal` library with the dependency, rewriting the bytecode in the library to consume the repackaged version of Dagger rather than the new one.\r\n\r\nHowever, the cheapest (but most fragile) solution is &quot;shadowing&quot;: adding a file in your source directory for `dagger/internal/MembersInjectors.java` matching [the version of Dagger you&#39;re using](https://github.com/google/dagger/blob/master/java/dagger/internal/MembersInjectors.java) but readding [the missing `injectMembers` method](https://github.com/google/dagger/blob/c6db7c532f4517a2a2efa813899038ea3705bfa9/java/dagger/internal/MembersInjectors.java#L31-L39). Assuming that your build system prefers local files over dependencies when setting up the classpath, your local file will be found before the Dagger-provided equivalent. This might work, but could then become a merge hazard later, and might cause weird errors if MembersInjectors changes in yet-newer versions of Dagger: I&#39;d try this only for very temporary code.\r\n\r\nSee also: [Java Class Shadowing and Shading](https://medium.com/@akhaku/java-class-shadowing-and-shading-9439b0eacb13) by Ammar Khaku on Medium","title":"Can&#39;t find referenced method &#39;java.lang.Object injectMembers(dagger.MembersInjector,java.lang.Object)","body":"<p>Shading is a part of packaging the library dependency: you'd use a rewriting tool repackage that library to include the <code>dagger.internal</code> from Dagger 2.13 under a new name (say <code>librarynamehere.shaded.dagger.internal</code>) that changes all references inside the library to use the new name. This would allow the two versions of <code>dagger.internal</code> to coexist in your library, but you should only try this if you can't upgrade your versions of Dagger to match in the library and in your application.</p>\n<hr />\n<p>As in <a href=\"https://stackoverflow.com/q/50533476/1426891\">this answer</a>, a refactor in Dagger 2.14 <a href=\"https://github.com/google/dagger/commit/d61f198f1a9429e560b6e4758971978cbd58df09#diff-19f275685a69d9f838380ddb260c2df3\" rel=\"nofollow noreferrer\">removed the method MembersInjector.injectMembers</a>. Code generated with 2.14 and beyond shouldn't call into this method.</p>\n<p>What's happening here is that the library you're consuming has packaged up Dagger-generated code that assumes the presence of <code>MembersInjector.injectMembers</code> as it was prior to 2.14. With the upgrade to 2.19, the method is absent, so the generated code is broken.</p>\n<p>This is particularly tricky because the removal of this method is arguably a <a href=\"https://semver.org/\" rel=\"nofollow noreferrer\">semantic versioning</a> breaking change, but has a minor version increase that package management libraries might assume is non-breaking. In fairness to Dagger, the <a href=\"https://github.com/google/dagger/pull/950#issuecomment-439026362\" rel=\"nofollow noreferrer\">intent</a> is that libraries do not ship generated code, but instead document their usage or allow the consuming application to generate code with matching libraries:</p>\n<blockquote>\n<p>There's no guarantee that the generated code (i.e. factories) work well with each other across versions. We don't have any way of testing that. It's a generally good idea that any libraries that are intended to use Dagger in tandem are using the same version of Dagger.</p>\n<p>If a library <em>you don't own</em> is passing along Dagger codegen to you and isn't documenting it, that's a bad idea on the library owners part.</p>\n</blockquote>\n<p>If you have the option to upgrade or recompile the library with a newer version of Dagger, ideally one that matches the outer version of Dagger you're using, that would solve the problem. Likewise, if you were to keep your outer version of Dagger to match the version in the dependency. Those would be more ideal than shading.</p>\n<p>As in the Software Engineering SE question <a href=\"https://softwareengineering.stackexchange.com/questions/297276/what-is-a-shaded-java-dependency\">What is a &quot;shaded&quot; Java dependency?</a>, shading refers to repackaging and/or renaming a Java resource using a tool like <a href=\"https://github.com/shevek/jarjar\" rel=\"nofollow noreferrer\">jarjar</a>. The idea here is to package a copy of the 2.13 <code>dagger.internal</code> library with the dependency, rewriting the bytecode in the library to consume the repackaged version of Dagger rather than the new one.</p>\n<p>However, the cheapest (but most fragile) solution is &quot;shadowing&quot;: adding a file in your source directory for <code>dagger/internal/MembersInjectors.java</code> matching <a href=\"https://github.com/google/dagger/blob/master/java/dagger/internal/MembersInjectors.java\" rel=\"nofollow noreferrer\">the version of Dagger you're using</a> but readding <a href=\"https://github.com/google/dagger/blob/c6db7c532f4517a2a2efa813899038ea3705bfa9/java/dagger/internal/MembersInjectors.java#L31-L39\" rel=\"nofollow noreferrer\">the missing <code>injectMembers</code> method</a>. Assuming that your build system prefers local files over dependencies when setting up the classpath, your local file will be found before the Dagger-provided equivalent. This might work, but could then become a merge hazard later, and might cause weird errors if MembersInjectors changes in yet-newer versions of Dagger: I'd try this only for very temporary code.</p>\n<p>See also: <a href=\"https://medium.com/@akhaku/java-class-shadowing-and-shading-9439b0eacb13\" rel=\"nofollow noreferrer\">Java Class Shadowing and Shading</a> by Ammar Khaku on Medium</p>\n"}],"owner":{"account_id":3985924,"reputation":55305,"user_id":3286489,"accept_rate":60,"display_name":"Elye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1685554213,"creation_date":1541427936,"question_id":53156315,"body_markdown":"Recently I upgrade Dagger 2.13 to 2.19, I have the below compile error at Proguard stage of this warning.\r\n\r\n    Warning: com.mypackage.MyClass_Factory: can&#39;t find referenced method &#39;java.lang.Object injectMembers(dagger.MembersInjector,java.lang.Object)&#39; in program class dagger.internal.MembersInjectors\r\n\r\nThis also happens from Dagger 2.14.1 onwards. This happens only to `MyClass` which is in a library I include.\r\n\r\nIf I use\r\n\r\n    -dontwarn com.mypackage.MyClass_Factory\r\n\r\nThen it will crash on runtime\r\n\r\n    java.lang.NoSuchMethodError: No static method injectMembers(Ldagger/MembersInjector;Ljava/lang/Object;)Ljava/lang/Object; in class Ldagger/internal/MembersInjectors; or its super classes (declaration of &#39;dagger.internal.MembersInjectors&#39; appears in MyClass\r\n\r\nWhich means the warning from Proguard is a legit warning I should take care.\r\n\r\nI search and found the issue is reported in https://github.com/google/dagger/pull/950#issuecomment-353223029\r\n\r\nThe solution by @ronshapiro is \r\n\r\n**You should shade the `dagger.internal` from one (or both) of the libraries. The old one is probably easiest**\r\n\r\nWhat does `shade the dagger.internal` means? How to solve my problem?","title":"Can&#39;t find referenced method &#39;java.lang.Object injectMembers(dagger.MembersInjector,java.lang.Object)","body":"<p>Recently I upgrade Dagger 2.13 to 2.19, I have the below compile error at Proguard stage of this warning.</p>\n\n<pre><code>Warning: com.mypackage.MyClass_Factory: can't find referenced method 'java.lang.Object injectMembers(dagger.MembersInjector,java.lang.Object)' in program class dagger.internal.MembersInjectors\n</code></pre>\n\n<p>This also happens from Dagger 2.14.1 onwards. This happens only to <code>MyClass</code> which is in a library I include.</p>\n\n<p>If I use</p>\n\n<pre><code>-dontwarn com.mypackage.MyClass_Factory\n</code></pre>\n\n<p>Then it will crash on runtime</p>\n\n<pre><code>java.lang.NoSuchMethodError: No static method injectMembers(Ldagger/MembersInjector;Ljava/lang/Object;)Ljava/lang/Object; in class Ldagger/internal/MembersInjectors; or its super classes (declaration of 'dagger.internal.MembersInjectors' appears in MyClass\n</code></pre>\n\n<p>Which means the warning from Proguard is a legit warning I should take care.</p>\n\n<p>I search and found the issue is reported in <a href=\"https://github.com/google/dagger/pull/950#issuecomment-353223029\" rel=\"noreferrer\">https://github.com/google/dagger/pull/950#issuecomment-353223029</a></p>\n\n<p>The solution by @ronshapiro is </p>\n\n<p><strong>You should shade the <code>dagger.internal</code> from one (or both) of the libraries. The old one is probably easiest</strong></p>\n\n<p>What does <code>shade the dagger.internal</code> means? How to solve my problem?</p>\n"},{"tags":["java","numpy","nd4j"],"answers":[{"comments":[{"owner":{"account_id":6515929,"reputation":569,"user_id":5041759,"accept_rate":25,"display_name":"foobar"},"score":0,"creation_date":1588008872,"post_id":61464544,"comment_id":108729024,"body_markdown":"it returns `someValue` if is exists in `myArr`. But still it is not returning the `index` in `myArr` where `someValue` exists. Maybe we have to use some function other than `getWhere`","body":"it returns <code>someValue</code> if is exists in <code>myArr</code>. But still it is not returning the <code>index</code> in <code>myArr</code> where <code>someValue</code> exists. Maybe we have to use some function other than <code>getWhere</code>"}],"tags":[],"owner":{"account_id":9457788,"reputation":1993,"user_id":7032512,"accept_rate":75,"display_name":"amin saffar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588007840,"creation_date":1588007840,"answer_id":61464544,"question_id":61463854,"body_markdown":"simply use `Conditions.equals`\r\n\r\nfirst import `Conditions`\r\n\r\n    import org.nd4j.linalg.indexing.conditions.Conditions;\r\n\r\n\r\nthen:\r\n\r\n    myArr.getWhere(someValue, Conditions.equals(1));","title":"Nd4J: get index where a value exists","body":"<p>simply use <code>Conditions.equals</code></p>\n\n<p>first import <code>Conditions</code></p>\n\n<pre><code>import org.nd4j.linalg.indexing.conditions.Conditions;\n</code></pre>\n\n<p>then:</p>\n\n<pre><code>myArr.getWhere(someValue, Conditions.equals(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4873847,"reputation":336,"user_id":3929541,"display_name":"raver119"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588010629,"creation_date":1588010629,"answer_id":61465427,"question_id":61463854,"body_markdown":"BooleanIndexing.firstIndex(INDArray, Condition) is what you&#39;re looking i think.","title":"Nd4J: get index where a value exists","body":"<p>BooleanIndexing.firstIndex(INDArray, Condition) is what you're looking i think.</p>\n"},{"tags":[],"owner":{"account_id":19589573,"reputation":41,"user_id":14336893,"display_name":"Filip Pavičić"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685553985,"creation_date":1685553985,"answer_id":76375968,"question_id":61463854,"body_markdown":"You can use org.nd4j.linalg.factory.Nd4j where function, just provide null as second and third argument.\r\n\r\n    import org.nd4j.linalg.api.ndarray.INDArray;\r\n    import org.nd4j.linalg.factory.Nd4j;\r\n    \r\n    \r\n    public class Main1 {\r\n        public static void main(String[] args) {\r\n            INDArray array = Nd4j.create(new double[]{1.0, 4.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0});\r\n    \r\n            double someValue = 1.0;\r\n            INDArray indexes = Nd4j.where(array.eq(someValue), null, null)[0];\r\n    \r\n            System.out.println(indexes);\r\n        }\r\n    }\r\n\r\n","title":"Nd4J: get index where a value exists","body":"<p>You can use org.nd4j.linalg.factory.Nd4j where function, just provide null as second and third argument.</p>\n<pre><code>import org.nd4j.linalg.api.ndarray.INDArray;\nimport org.nd4j.linalg.factory.Nd4j;\n\n\npublic class Main1 {\n    public static void main(String[] args) {\n        INDArray array = Nd4j.create(new double[]{1.0, 4.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0});\n\n        double someValue = 1.0;\n        INDArray indexes = Nd4j.where(array.eq(someValue), null, null)[0];\n\n        System.out.println(indexes);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6515929,"reputation":569,"user_id":5041759,"accept_rate":25,"display_name":"foobar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61465427,"answer_count":3,"score":0,"last_activity_date":1685553985,"creation_date":1588005644,"question_id":61463854,"body_markdown":"how to get index where a certain value exists. In numpy:\r\n```\r\nimport numpy as np\r\nmyArr = np.array()\r\nindex = np.where(myArr == someValue)\r\n// Output: an index value consisting rows and cols will be given\r\n```\r\nIn ND4J, I have reached here, but I dont know what to put in condition parameter:\r\n```\r\nINDArray index = myArr.getWhere(someValue, condition=??);\r\n```\r\nIn other words, how to find an element in INDArray in ND4J?","title":"Nd4J: get index where a value exists","body":"<p>how to get index where a certain value exists. In numpy:</p>\n\n<pre><code>import numpy as np\nmyArr = np.array()\nindex = np.where(myArr == someValue)\n// Output: an index value consisting rows and cols will be given\n</code></pre>\n\n<p>In ND4J, I have reached here, but I dont know what to put in condition parameter:</p>\n\n<pre><code>INDArray index = myArr.getWhere(someValue, condition=??);\n</code></pre>\n\n<p>In other words, how to find an element in INDArray in ND4J?</p>\n"},{"tags":["java","path","absolute-path"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1685460311,"post_id":76366230,"comment_id":134661499,"body_markdown":"from the [documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/FileSystem.html#getPath(java.lang.String,java.lang.String...)) of `getPath()`, used to created the `Path`: &quot;*The parsing and conversion to a path object is inherently implementation dependent.*&quot;","body":"from the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/FileSystem.html#getPath(java.lang.String,java.lang.String...)\" rel=\"nofollow noreferrer\">documentation</a> of <code>getPath()</code>, used to created the <code>Path</code>: &quot;<i>The parsing and conversion to a path object is inherently implementation dependent.</i>&quot;"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1685461890,"post_id":76366230,"comment_id":134661871,"body_markdown":"On Windows neither path is absolute - absolute paths on Windows must include the drive letter.","body":"On Windows neither path is absolute - absolute paths on Windows must include the drive letter."},{"owner":{"account_id":1883557,"reputation":316,"user_id":1791306,"display_name":"Plamen"},"score":0,"creation_date":1685463139,"post_id":76366230,"comment_id":134662174,"body_markdown":"@ThomasKl&#228;ger Understood the 2nd path is absolute on a Linux machine and the whole code is not portable to Windows?","body":"@ThomasKl&#228;ger Understood the 2nd path is absolute on a Linux machine and the whole code is not portable to Windows?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1685479150,"post_id":76366230,"comment_id":134665245,"body_markdown":"Depends on how you define &quot;portable&quot;: on [Windows](https://learn.microsoft.com/en-us/dotnet/standard/io/file-path-formats) an absolute path has either the form C:\\path\\to\\something or \\\\server\\share\\path\\to\\something (or as Java strings: `&quot;C:\\\\path\\\\to\\\\something&quot;` and `&quot;\\\\\\\\server\\\\share\\\\path\\\\to\\\\something&quot;`) and for these paths `Path.isAbsolute()` returns true. And the Java parser for Windows paths also accepts the forward slash: `&quot;C:/path/to/something&quot;` and `&quot;//server/share/path/to/something&quot;` represent the same two paths and for these paths `Path.isAbsolute()` also returns true.","body":"Depends on how you define &quot;portable&quot;: on <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/io/file-path-formats\" rel=\"nofollow noreferrer\">Windows</a> an absolute path has either the form C:\\path\\to\\something or \\\\server\\share\\path\\to\\something (or as Java strings: <code>&quot;C:\\\\path\\\\to\\\\something&quot;</code> and <code>&quot;\\\\\\\\server\\\\share\\\\path\\\\to\\\\something&quot;</code>) and for these paths <code>Path.isAbsolute()</code> returns true. And the Java parser for Windows paths also accepts the forward slash: <code>&quot;C:&#47;path&#47;to&#47;something&quot;</code> and <code>&quot;&#47;&#47;server&#47;share&#47;path&#47;to&#47;something&quot;</code> represent the same two paths and for these paths <code>Path.isAbsolute()</code> also returns true."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685553946,"creation_date":1685461540,"answer_id":76366527,"question_id":76366230,"body_markdown":"Java on Windows recognises both forms of slash `/` and backslash `\\` as file separator, so you will find that on Windows `ESPath.equals(ESPath2)` is `true` because they contain the same relative path and they both have 3 components - see `ESPath.getNameCount()`.\r\n\r\nSee comments by @ThomasKl&#228;ger. Windows will report `ESPath/ESPath2.isAbsolute()` as false because there is no drive letter. When you call `ESPath.toAbsolutePath()` Windows will return absolute path prefixing your paths with the current drive letter that applied at the time you started the JVM, and so would resolve to different locations if you ran:\r\n\r\n    cd /d c:\\SomeDir\r\n    java YourApp\r\n   \r\n    cd /d d:\\AnotherDir\r\n    java YourApp\r\n\r\nYour &quot;This code&quot; link shows the GNU/Linux handling which is different compared to Windows as it only recognises slash `/` as a path separator, and treats backslash `\\` as yet another character of the filename. Try:\r\n\r\n    touch a\\\\b\\\\c\r\n    =&gt; creates a file called a\\b\\c in current directory\r\n\r\nThus you will find that `ESPath.equals(ESPath2)` is `false`, `ESPath.isAbsolute()` is `false` as `ESPath.getNameCount()` shows only one path component, whereas `ESPath2.getNameCount()` is 3 and `ESPath2.isAbsolute()` is `true` because the path starts with `/`.","title":"How Java isAbsolute() depends on path separator and/or OS?","body":"<p>Java on Windows recognises both forms of slash <code>/</code> and backslash <code>\\</code> as file separator, so you will find that on Windows <code>ESPath.equals(ESPath2)</code> is <code>true</code> because they contain the same relative path and they both have 3 components - see <code>ESPath.getNameCount()</code>.</p>\n<p>See comments by @ThomasKläger. Windows will report <code>ESPath/ESPath2.isAbsolute()</code> as false because there is no drive letter. When you call <code>ESPath.toAbsolutePath()</code> Windows will return absolute path prefixing your paths with the current drive letter that applied at the time you started the JVM, and so would resolve to different locations if you ran:</p>\n<pre><code>cd /d c:\\SomeDir\njava YourApp\n\ncd /d d:\\AnotherDir\njava YourApp\n</code></pre>\n<p>Your &quot;This code&quot; link shows the GNU/Linux handling which is different compared to Windows as it only recognises slash <code>/</code> as a path separator, and treats backslash <code>\\</code> as yet another character of the filename. Try:</p>\n<pre><code>touch a\\\\b\\\\c\n=&gt; creates a file called a\\b\\c in current directory\n</code></pre>\n<p>Thus you will find that <code>ESPath.equals(ESPath2)</code> is <code>false</code>, <code>ESPath.isAbsolute()</code> is <code>false</code> as <code>ESPath.getNameCount()</code> shows only one path component, whereas <code>ESPath2.getNameCount()</code> is 3 and <code>ESPath2.isAbsolute()</code> is <code>true</code> because the path starts with <code>/</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685464502,"creation_date":1685464502,"answer_id":76366907,"question_id":76366230,"body_markdown":"I started a debugging process and used the _Force Step Into_ command to derive the in-equality.\r\n\r\nThe first path, _ESPath_, is using the _[UnixPath#isAbsolute](https://github.com/openjdk/jdk/blob/master/src/java.base/unix/classes/sun/nio/fs/UnixPath.java#L359)_ method.\r\n\r\nWhich, is yielding a _false_ on the second condition, here.  \r\nWhereas, _ESPath2_ is yielding a _true_, for both.\r\n\r\n```java\r\n@Override\r\npublic boolean isAbsolute() {\r\n    return (path.length &gt; 0 &amp;&amp; path[0] == &#39;/&#39;);\r\n}\r\n```\r\n\r\nFurthermore, the _[Paths](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Paths.html)_ JavaDoc has the following _@apiNote_ recommendation.\r\n\r\n```java\r\n/**\r\n * @apiNote\r\n * It is recommended to obtain a {@code Path} via the {@code Path.of} methods\r\n * instead of via the {@code get} methods defined in this class as this class\r\n * may be deprecated in a future release.\r\n */\r\n```","title":"How Java isAbsolute() depends on path separator and/or OS?","body":"<p>I started a debugging process and used the <em>Force Step Into</em> command to derive the in-equality.</p>\n<p>The first path, <em>ESPath</em>, is using the <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/unix/classes/sun/nio/fs/UnixPath.java#L359\" rel=\"nofollow noreferrer\">UnixPath#isAbsolute</a></em> method.</p>\n<p>Which, is yielding a <em>false</em> on the second condition, here.<br />\nWhereas, <em>ESPath2</em> is yielding a <em>true</em>, for both.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean isAbsolute() {\n    return (path.length &gt; 0 &amp;&amp; path[0] == '/');\n}\n</code></pre>\n<p>Furthermore, the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Paths.html\" rel=\"nofollow noreferrer\">Paths</a></em> JavaDoc has the following <em>@apiNote</em> recommendation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * @apiNote\n * It is recommended to obtain a {@code Path} via the {@code Path.of} methods\n * instead of via the {@code get} methods defined in this class as this class\n * may be deprecated in a future release.\n */\n</code></pre>\n"}],"owner":{"account_id":1883557,"reputation":316,"user_id":1791306,"display_name":"Plamen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685553946,"creation_date":1685459289,"question_id":76366230,"body_markdown":"I&#39;m trying to correct some code written in Java.\r\nBack and forward slashes behave differently in isAbsolute() function. \r\n\r\n    Path ESPath = Paths.get(&quot;\\\\es-module-repo\\\\fdea3319-18ea-4bd5-8ae2-2662d6f2ba72\\\\foo.mjs&quot;);\r\n    if (ESPath.isAbsolute()) { ... }\r\n\tPath ESPath2 = Paths.get(&quot;/es-module-repo/fdea3319-18ea-4bd5-8ae2-2662d6f2ba72/foo.mjs&quot;);\r\n    if (ESPath2.isAbsolute()) { ... }\r\n\r\nBut does this depends on OS on which Java is running?\r\n[This code][1] shows the difference.\r\nIs the path (which one?) actually absolute or not?\r\nSo, what is the safest method to transfer backslashes (actually double backslashes) to forward slashes? And is it correct to do that?\n\nEDIT: I&#39;m working on a Windows machine and have the first case, which returns `false`.\r\n\r\n\r\n  [1]: https://ideone.com/lMHSeE","title":"How Java isAbsolute() depends on path separator and/or OS?","body":"<p>I'm trying to correct some code written in Java.\nBack and forward slashes behave differently in isAbsolute() function.</p>\n<pre><code>Path ESPath = Paths.get(&quot;\\\\es-module-repo\\\\fdea3319-18ea-4bd5-8ae2-2662d6f2ba72\\\\foo.mjs&quot;);\nif (ESPath.isAbsolute()) { ... }\nPath ESPath2 = Paths.get(&quot;/es-module-repo/fdea3319-18ea-4bd5-8ae2-2662d6f2ba72/foo.mjs&quot;);\nif (ESPath2.isAbsolute()) { ... }\n</code></pre>\n<p>But does this depends on OS on which Java is running?\n<a href=\"https://ideone.com/lMHSeE\" rel=\"nofollow noreferrer\">This code</a> shows the difference.\nIs the path (which one?) actually absolute or not?\nSo, what is the safest method to transfer backslashes (actually double backslashes) to forward slashes? And is it correct to do that?</p>\n<p>EDIT: I'm working on a Windows machine and have the first case, which returns <code>false</code>.</p>\n"},{"tags":["java","user-interface","jbutton","actionevent"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":2,"creation_date":1685019596,"post_id":76332457,"comment_id":134604576,"body_markdown":"If `e.getSource() == startButton` is TRUE, then only it will go in the if-block, and after printing &#39;a&#39;, you are checking if `e.getSource() == handButtons[i]` - this is not going to be TRUE ever, as source is `startButton`, then only it went into the if block, and executed the loop. When you press the handButton, the first IF, source == startButton will be FALSE, and won&#39;t go in the if block at all, won&#39;t execute the for loop, and no other conditions will be checked.","body":"If <code>e.getSource() == startButton</code> is TRUE, then only it will go in the if-block, and after printing &#39;a&#39;, you are checking if <code>e.getSource() == handButtons[i]</code> - this is not going to be TRUE ever, as source is <code>startButton</code>, then only it went into the if block, and executed the loop. When you press the handButton, the first IF, source == startButton will be FALSE, and won&#39;t go in the if block at all, won&#39;t execute the for loop, and no other conditions will be checked."},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":1,"creation_date":1685019899,"post_id":76332457,"comment_id":134604657,"body_markdown":"Remember, each click on the button calls `actionPerformed` afresh with ActionEvent object having the source button which you clicked. So, handlers for StartButton and HandButtons should be separate. You should have two separate `actionPerformed` implementations or there should be 2 parallel if conditions to determine which button is clicked, not nested - hand inside start.  If start is false, hand will never be checked in your case.","body":"Remember, each click on the button calls <code>actionPerformed</code> afresh with ActionEvent object having the source button which you clicked. So, handlers for StartButton and HandButtons should be separate. You should have two separate <code>actionPerformed</code> implementations or there should be 2 parallel if conditions to determine which button is clicked, not nested - hand inside start.  If start is false, hand will never be checked in your case."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685019988,"post_id":76332457,"comment_id":134604685,"body_markdown":"If each card is linked to a button press, why is not each button having the same `ActionListener` added to it?","body":"If each card is linked to a button press, why is not each button having the same <code>ActionListener</code> added to it?"},{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":0,"creation_date":1685020110,"post_id":76332457,"comment_id":134604724,"body_markdown":"In that case (single actionListener for all buttons), there should be 2 parallel ifs.. ```if(source == start) { ... all logic for start ... } else { for (all hand buttons) { if (source == hand[i]) { ... ith hand handler ... break; } } }```.  Not if inside if.","body":"In that case (single actionListener for all buttons), there should be 2 parallel ifs.. <code>if(source == start) { ... all logic for start ... } else { for (all hand buttons) { if (source == hand[i]) { ... ith hand handler ... break; } } }</code>.  Not if inside if."}],"owner":{"account_id":26218356,"reputation":1,"user_id":19896196,"display_name":"Zero 611"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685553617,"creation_date":1685019038,"question_id":76332457,"body_markdown":"I&#39;m trying to make a card game in Java GUI, and I can&#39;t figure out how to iterate through the player&#39;s hand to check if a card in the hand has been pressed. When I press one of the buttons in handButtons, all it does is print &quot;a&quot; about a dozen times, but never enters the if statement.\r\n(Update: I fixed it. I just moved my code to be outside of the (e.getSource() == startButton) heading)\r\n\r\n````\r\n@Override\r\npublic void actionPerformed(ActionEvent e) \r\n{   \r\n    int pIndex; \r\n    if (e.getSource() == startButton)\r\n    {\r\n        pIndex = whoGoesFirst();\r\n        Trick t = new Trick(players[pIndex], cardsInTrick);\r\n        for (int p = 0; p &lt; NUM_OF_PLAYERS; p++) // Goes through all players&#39; turns\r\n        {\r\n            for (int i = 0; i &lt; handButtons.length; i++) // Goes through all cards in the hand \r\n            // (handButtons is an array of JButtons)\r\n            {\r\n                System.out.println(&quot;a&quot;); \r\n                // When I run this, it prints &quot;a&quot; a lot of times, but never &quot;b&quot; or &quot;c&quot;\r\n                if (e.getSource() == handButtons[i]) \r\n                {\r\n                    System.out.println(&quot;b&quot;);\r\n                    if (t.isLegal(players[pIndex], players[pIndex].getHand().get(i)))\r\n                    {\r\n                        System.out.println(&quot;c&quot;);\r\n                        trickCardSlots[pIndex].setIcon((ImageIcon) handButtons[pIndex].getIcon());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }    \r\n}\r\n````","title":"How can I iterate through an array of JButtons to check if a button has been pressed in a Java GUI?","body":"<p>I'm trying to make a card game in Java GUI, and I can't figure out how to iterate through the player's hand to check if a card in the hand has been pressed. When I press one of the buttons in handButtons, all it does is print &quot;a&quot; about a dozen times, but never enters the if statement.\n(Update: I fixed it. I just moved my code to be outside of the (e.getSource() == startButton) heading)</p>\n<pre><code>@Override\npublic void actionPerformed(ActionEvent e) \n{   \n    int pIndex; \n    if (e.getSource() == startButton)\n    {\n        pIndex = whoGoesFirst();\n        Trick t = new Trick(players[pIndex], cardsInTrick);\n        for (int p = 0; p &lt; NUM_OF_PLAYERS; p++) // Goes through all players' turns\n        {\n            for (int i = 0; i &lt; handButtons.length; i++) // Goes through all cards in the hand \n            // (handButtons is an array of JButtons)\n            {\n                System.out.println(&quot;a&quot;); \n                // When I run this, it prints &quot;a&quot; a lot of times, but never &quot;b&quot; or &quot;c&quot;\n                if (e.getSource() == handButtons[i]) \n                {\n                    System.out.println(&quot;b&quot;);\n                    if (t.isLegal(players[pIndex], players[pIndex].getHand().get(i)))\n                    {\n                        System.out.println(&quot;c&quot;);\n                        trickCardSlots[pIndex].setIcon((ImageIcon) handButtons[pIndex].getIcon());\n                    }\n                }\n            }\n        }\n    }    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0"],"answers":[{"comments":[{"owner":{"account_id":16567115,"reputation":641,"user_id":11971373,"display_name":"Andrea Damiani"},"score":0,"creation_date":1636020565,"post_id":69831375,"comment_id":123448399,"body_markdown":"Thanks for the kind reply. Tried your suggestion but now I&#39;m getting `com.nimbusds.jose.proc.BadJWSException: Signed JWT rejected: Invalid signature`","body":"Thanks for the kind reply. Tried your suggestion but now I&#39;m getting <code>com.nimbusds.jose.proc.BadJWSException: Signed JWT rejected: Invalid signature</code>"},{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1636021039,"post_id":69831375,"comment_id":123448569,"body_markdown":"@damsen could you test with 32 and 64 instead of 128?","body":"@damsen could you test with 32 and 64 instead of 128?"},{"owner":{"account_id":16567115,"reputation":641,"user_id":11971373,"display_name":"Andrea Damiani"},"score":0,"creation_date":1636021349,"post_id":69831375,"comment_id":123448675,"body_markdown":"tried both 32 and 64 but same exception occurs","body":"tried both 32 and 64 but same exception occurs"},{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1636021549,"post_id":69831375,"comment_id":123448747,"body_markdown":"@damsen is it possible for you to add how source signs the message?","body":"@damsen is it possible for you to add how source signs the message?"},{"owner":{"account_id":16567115,"reputation":641,"user_id":11971373,"display_name":"Andrea Damiani"},"score":0,"creation_date":1636022027,"post_id":69831375,"comment_id":123448920,"body_markdown":"added it to the main post","body":"added it to the main post"},{"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"score":0,"creation_date":1636024464,"post_id":69831375,"comment_id":123449944,"body_markdown":"@damsen I add more details to answer. kindly say it was helpful or not","body":"@damsen I add more details to answer. kindly say it was helpful or not"},{"owner":{"account_id":16567115,"reputation":641,"user_id":11971373,"display_name":"Andrea Damiani"},"score":0,"creation_date":1636024888,"post_id":69831375,"comment_id":123450121,"body_markdown":"thank you very much, trying it out right now :) will let you know","body":"thank you very much, trying it out right now :) will let you know"},{"owner":{"account_id":16567115,"reputation":641,"user_id":11971373,"display_name":"Andrea Damiani"},"score":1,"creation_date":1636026373,"post_id":69831375,"comment_id":123450659,"body_markdown":"it worked with `io.jsonwebtoken.impl.TextCodec.BASE64.decode(secretKey)` instead of `org.apache.tomcat.util.codec.binary.Base64.decodeBase64(secretKey)`, with the latter i still had a `com.nimbusds.jose.proc.BadJWSException`. Thanks a lot :)","body":"it worked with <code>io.jsonwebtoken.impl.TextCodec.BASE64.decode(secretKey)</code> instead of <code>org.apache.tomcat.util.codec.binary.Base64.decodeBase64(secr&zwnj;&#8203;etKey)</code>, with the latter i still had a <code>com.nimbusds.jose.proc.BadJWSException</code>. Thanks a lot :)"}],"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":8,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1636026671,"creation_date":1635971485,"answer_id":69831375,"question_id":69829603,"body_markdown":"it looks like that ,[HMAC][1], if the secret length is shorter than the block size of hash algorithm it would pad the secret with zeros. \r\n\r\nand according to [this][2]\r\n\r\n&gt; Block size: the size of the data block the underlying hash algorithm\r\n&gt; operates upon. For SHA-256, this is 512 bits, for SHA-384 and SHA-512,\r\n&gt; this is 1024 bits.\r\n&gt; \r\n&gt; Output length: the size of the hash value produced by the underlying\r\n&gt; hash algorithm. For SHA-256, this is 256 bits, for SHA-384 this is 384\r\n&gt; bits, and for SHA-512, this is 512 bits.\r\n\r\nthe block size of SHA-512 is 128 bytes.\r\n\r\nI suggest that if the source used HS512 algorithm try to pad the secret with zeros to see if it works or not. if you have `Guava` library in your class path:\r\n\r\n    Bytes.ensureCapacity(secretKey.getBytes(StandardCharsets.UTF_8), 128, 0);\r\n\r\n`ensureCapacity` method source code:\r\n\r\n      public static byte[] ensureCapacity(byte[] array, int minLength, int padding) {\r\n        Preconditions.checkArgument(minLength &gt;= 0, &quot;Invalid minLength: %s&quot;, minLength);\r\n        Preconditions.checkArgument(padding &gt;= 0, &quot;Invalid padding: %s&quot;, padding);\r\n        return array.length &lt; minLength ? Arrays.copyOf(array, minLength + padding) : array;\r\n      }\r\n\r\n\r\n**Edit 2:**\r\n\r\nfirst try to decode the secret to base 64\r\n\r\n    byte[] decodedBytes = Base64.decodeBase64(secret)\r\n\r\nthen add padding and use it in your decoder(if the size of the `decodedBytes` is less than 128): \r\n\r\n    Arrays.copyOf(decodedBytes, 128);\r\n\r\nI did the following test and everything was ok:\r\n\r\n      private String generateToken(Map&lt;String, Object&gt; claims, String username) {\r\n    \r\n        Header header = Jwts.header();\r\n        header.setType(&quot;JWT&quot;);\r\n    \r\n        String jti = UUID.randomUUID().toString();\r\n        Date now = new Date(System.currentTimeMillis());\r\n    \r\n        return Jwts.builder()\r\n            .setClaims(claims)\r\n            .setHeader((Map&lt;String, Object&gt;) header)\r\n            .setSubject(username)\r\n            .setIssuedAt(now)\r\n            .setIssuer(&quot;issuer&quot;)\r\n            .setId(jti)\r\n            .signWith(SignatureAlgorithm.HS512, &quot;asdf&quot;)\r\n            .compact();\r\n      }\r\n    \r\n      public JwtDecoder jwtDecoder() {\r\n      // base64 decoder from org.apache.tomcat.util.codec.binary.Base64;\r\n        byte[] key = Base64.decodeBase64(&quot;asdf&quot;);\r\n       // var key = &quot;asdf&quot;.getBytes(StandardCharsets.UTF_8);\r\n        var paddedKey = Arrays.copyOf(key, 128);\r\n        return NimbusJwtDecoder\r\n            .withSecretKey(new SecretKeySpec(paddedKey, &quot;HS512&quot;))\r\n            .macAlgorithm(MacAlgorithm.HS512)\r\n            .build();\r\n      }\r\n\r\nand used it like:\r\n\r\n    Main s = new Main();\r\n    String token = s.generateToken(new HashMap&lt;&gt;(), &quot;hatef&quot;);\r\n    JwtDecoder decoder = s.jwtDecoder();\r\n    System.out.println(decoder.decode(token));\r\n\r\n**Edit 3**:\r\n\r\nOP reported in comments:\r\n\r\n\r\n&gt; it worked with\r\n&gt; `io.jsonwebtoken.impl.TextCodec.BASE64.decode(secretKey)` instead of\r\n&gt; `org.apache.tomcat.util.codec.binary.Base64.decodeBase64(secretKey)`,\r\n&gt; with the latter i still had a `com.nimbusds.jose.proc.BadJWSException`\r\n\r\n \r\n    \r\n  [1]: https://en.wikipedia.org/wiki/HMAC\r\n  [2]: https://security.stackexchange.com/questions/95972/what-are-requirements-for-hmac-secret-key","title":"How to avoid KeyLengthException when using Spring OAuth2 Resource Server and a symmetric key","body":"<p>it looks like that ,<a href=\"https://en.wikipedia.org/wiki/HMAC\" rel=\"nofollow noreferrer\">HMAC</a>, if the secret length is shorter than the block size of hash algorithm it would pad the secret with zeros.</p>\n<p>and according to <a href=\"https://security.stackexchange.com/questions/95972/what-are-requirements-for-hmac-secret-key\">this</a></p>\n<blockquote>\n<p>Block size: the size of the data block the underlying hash algorithm\noperates upon. For SHA-256, this is 512 bits, for SHA-384 and SHA-512,\nthis is 1024 bits.</p>\n<p>Output length: the size of the hash value produced by the underlying\nhash algorithm. For SHA-256, this is 256 bits, for SHA-384 this is 384\nbits, and for SHA-512, this is 512 bits.</p>\n</blockquote>\n<p>the block size of SHA-512 is 128 bytes.</p>\n<p>I suggest that if the source used HS512 algorithm try to pad the secret with zeros to see if it works or not. if you have <code>Guava</code> library in your class path:</p>\n<pre><code>Bytes.ensureCapacity(secretKey.getBytes(StandardCharsets.UTF_8), 128, 0);\n</code></pre>\n<p><code>ensureCapacity</code> method source code:</p>\n<pre><code>  public static byte[] ensureCapacity(byte[] array, int minLength, int padding) {\n    Preconditions.checkArgument(minLength &gt;= 0, &quot;Invalid minLength: %s&quot;, minLength);\n    Preconditions.checkArgument(padding &gt;= 0, &quot;Invalid padding: %s&quot;, padding);\n    return array.length &lt; minLength ? Arrays.copyOf(array, minLength + padding) : array;\n  }\n</code></pre>\n<p><strong>Edit 2:</strong></p>\n<p>first try to decode the secret to base 64</p>\n<pre><code>byte[] decodedBytes = Base64.decodeBase64(secret)\n</code></pre>\n<p>then add padding and use it in your decoder(if the size of the <code>decodedBytes</code> is less than 128):</p>\n<pre><code>Arrays.copyOf(decodedBytes, 128);\n</code></pre>\n<p>I did the following test and everything was ok:</p>\n<pre><code>  private String generateToken(Map&lt;String, Object&gt; claims, String username) {\n\n    Header header = Jwts.header();\n    header.setType(&quot;JWT&quot;);\n\n    String jti = UUID.randomUUID().toString();\n    Date now = new Date(System.currentTimeMillis());\n\n    return Jwts.builder()\n        .setClaims(claims)\n        .setHeader((Map&lt;String, Object&gt;) header)\n        .setSubject(username)\n        .setIssuedAt(now)\n        .setIssuer(&quot;issuer&quot;)\n        .setId(jti)\n        .signWith(SignatureAlgorithm.HS512, &quot;asdf&quot;)\n        .compact();\n  }\n\n  public JwtDecoder jwtDecoder() {\n  // base64 decoder from org.apache.tomcat.util.codec.binary.Base64;\n    byte[] key = Base64.decodeBase64(&quot;asdf&quot;);\n   // var key = &quot;asdf&quot;.getBytes(StandardCharsets.UTF_8);\n    var paddedKey = Arrays.copyOf(key, 128);\n    return NimbusJwtDecoder\n        .withSecretKey(new SecretKeySpec(paddedKey, &quot;HS512&quot;))\n        .macAlgorithm(MacAlgorithm.HS512)\n        .build();\n  }\n</code></pre>\n<p>and used it like:</p>\n<pre><code>Main s = new Main();\nString token = s.generateToken(new HashMap&lt;&gt;(), &quot;hatef&quot;);\nJwtDecoder decoder = s.jwtDecoder();\nSystem.out.println(decoder.decode(token));\n</code></pre>\n<p><strong>Edit 3</strong>:</p>\n<p>OP reported in comments:</p>\n<blockquote>\n<p>it worked with\n<code>io.jsonwebtoken.impl.TextCodec.BASE64.decode(secretKey)</code> instead of\n<code>org.apache.tomcat.util.codec.binary.Base64.decodeBase64(secretKey)</code>,\nwith the latter i still had a <code>com.nimbusds.jose.proc.BadJWSException</code></p>\n</blockquote>\n"}],"owner":{"account_id":16567115,"reputation":641,"user_id":11971373,"display_name":"Andrea Damiani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2060,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":69831375,"answer_count":1,"score":4,"last_activity_date":1685553399,"creation_date":1635962163,"question_id":69829603,"body_markdown":"So I&#39;m working on a Resource Server (a Spring Boot app), and I would like to leverage the goodies of Spring Security OAuth2 Resource Server library.\r\n\r\nThe problem I&#39;m facing right now is that the Authorization Server (another Spring Boot app) signs JWTs with a symmetric key, that was set to a pretty short string a long time ago, and I that cannot change.\r\n\r\nI tried this, following the Spring Security documentation:\r\n\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests(authorize -&gt; authorize\r\n                            .anyRequest().permitAll())\r\n                    .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n        }\r\n        \r\n        @Bean\r\n        public JwtDecoder jwtDecoder(@Value(&quot;${jwt.secret-key}&quot;) String secretKey) {\r\n            return NimbusJwtDecoder\r\n                    .withSecretKey(new SecretKeySpec(secretKey.getBytes(StandardCharsets.UTF_8), &quot;HS512&quot;))\r\n                    .macAlgorithm(MacAlgorithm.HS512)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nBut I get the following error:\r\n\r\n    Caused by: com.nimbusds.jose.KeyLengthException: The secret length must be at least 256 bits\r\n\tat com.nimbusds.jose.crypto.impl.MACProvider.&lt;init&gt;(MACProvider.java:118) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n\tat com.nimbusds.jose.crypto.MACVerifier.&lt;init&gt;(MACVerifier.java:168) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n\tat com.nimbusds.jose.crypto.MACVerifier.&lt;init&gt;(MACVerifier.java:81) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n\tat com.nimbusds.jose.crypto.MACVerifier.&lt;init&gt;(MACVerifier.java:113) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n\tat com.nimbusds.jose.crypto.factories.DefaultJWSVerifierFactory.createJWSVerifier(DefaultJWSVerifierFactory.java:100) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n\tat com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:364) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n\tat com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n\tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:154) ~[spring-security-oauth2-jose-5.5.3.jar:5.5.3]\r\n\t... 61 common frames omitted\r\n\r\nFrom what I can see the `MACProvider` that generates this exception is not configurable and the key length required cannot be relaxed. Is there any way around this?\r\n\r\nThanks\r\n\r\nEDIT:\r\n\r\nTried the suggestion of padding the key with 0s like so:\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder(@Value(&quot;${jwt.secret-key}&quot;) String secretKey) {\r\n        var key = secretKey.getBytes(StandardCharsets.UTF_8);\r\n        var paddedKey = Arrays.copyOf(key, 128);\r\n        return NimbusJwtDecoder\r\n                .withSecretKey(new SecretKeySpec(paddedKey, &quot;HS512&quot;))\r\n                .macAlgorithm(MacAlgorithm.HS512)\r\n                .build();\r\n    }\r\n\r\nbut now I&#39;m getting the following exception:\r\n\r\n    com.nimbusds.jose.proc.BadJWSException: Signed JWT rejected: Invalid signature\r\n    \tat com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:378) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n    \tat com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\r\n    \tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:154) ~[spring-security-oauth2-jose-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:137) ~[spring-security-oauth2-jose-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:97) ~[spring-security-oauth2-resource-server-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:130) ~[spring-security-oauth2-resource-server-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178) ~[spring-security-oauth2-client-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.6.jar:2.5.6]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\nEDIT2:\r\n\r\nThe source generates the JWT like so (using io.jsonwebtoken 0.9.1 library):\r\n\r\n    private String generateToken(Map&lt;String, Object&gt; claims, String username) {\r\n    \r\n        Header header = Jwts.header();\r\n        header.setType(&quot;JWT&quot;);\r\n    \r\n        String jti = UUID.randomUUID().toString();\r\n        Date now = new Date(System.currentTimeMillis());\r\n    \r\n        return Jwts.builder()\r\n                .setClaims(claims)\r\n                .setHeader((Map&lt;String, Object&gt;) header)\r\n                .setSubject(username)\r\n                .setIssuedAt(now)\r\n                .setIssuer(&quot;issuer&quot;)\r\n                .setId(jti)\r\n                .signWith(SignatureAlgorithm.HS512, secret)\r\n                .compact();\r\n    }\r\n\r\nEDIT3:\r\n\r\nSolution:\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder(@Value(&quot;${jwt.secret-key}&quot;) String secretKey) {\r\n        var key = TextCodec.BASE64.decode(secretKey);\r\n        var paddedKey = key.length &lt; 128 ? Arrays.copyOf(key, 128) : key;\r\n        return NimbusJwtDecoder\r\n                .withSecretKey(new SecretKeySpec(paddedKey, &quot;HS512&quot;))\r\n                .macAlgorithm(MacAlgorithm.HS512)\r\n                .build();\r\n    }","title":"How to avoid KeyLengthException when using Spring OAuth2 Resource Server and a symmetric key","body":"<p>So I'm working on a Resource Server (a Spring Boot app), and I would like to leverage the goodies of Spring Security OAuth2 Resource Server library.</p>\n<p>The problem I'm facing right now is that the Authorization Server (another Spring Boot app) signs JWTs with a symmetric key, that was set to a pretty short string a long time ago, and I that cannot change.</p>\n<p>I tried this, following the Spring Security documentation:</p>\n<pre><code>@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests(authorize -&gt; authorize\n                        .anyRequest().permitAll())\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n    }\n    \n    @Bean\n    public JwtDecoder jwtDecoder(@Value(&quot;${jwt.secret-key}&quot;) String secretKey) {\n        return NimbusJwtDecoder\n                .withSecretKey(new SecretKeySpec(secretKey.getBytes(StandardCharsets.UTF_8), &quot;HS512&quot;))\n                .macAlgorithm(MacAlgorithm.HS512)\n                .build();\n    }\n}\n</code></pre>\n<p>But I get the following error:</p>\n<pre><code>Caused by: com.nimbusds.jose.KeyLengthException: The secret length must be at least 256 bits\nat com.nimbusds.jose.crypto.impl.MACProvider.&lt;init&gt;(MACProvider.java:118) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\nat com.nimbusds.jose.crypto.MACVerifier.&lt;init&gt;(MACVerifier.java:168) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\nat com.nimbusds.jose.crypto.MACVerifier.&lt;init&gt;(MACVerifier.java:81) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\nat com.nimbusds.jose.crypto.MACVerifier.&lt;init&gt;(MACVerifier.java:113) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\nat com.nimbusds.jose.crypto.factories.DefaultJWSVerifierFactory.createJWSVerifier(DefaultJWSVerifierFactory.java:100) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\nat com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:364) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\nat com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\nat org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:154) ~[spring-security-oauth2-jose-5.5.3.jar:5.5.3]\n... 61 common frames omitted\n</code></pre>\n<p>From what I can see the <code>MACProvider</code> that generates this exception is not configurable and the key length required cannot be relaxed. Is there any way around this?</p>\n<p>Thanks</p>\n<p>EDIT:</p>\n<p>Tried the suggestion of padding the key with 0s like so:</p>\n<pre><code>@Bean\npublic JwtDecoder jwtDecoder(@Value(&quot;${jwt.secret-key}&quot;) String secretKey) {\n    var key = secretKey.getBytes(StandardCharsets.UTF_8);\n    var paddedKey = Arrays.copyOf(key, 128);\n    return NimbusJwtDecoder\n            .withSecretKey(new SecretKeySpec(paddedKey, &quot;HS512&quot;))\n            .macAlgorithm(MacAlgorithm.HS512)\n            .build();\n}\n</code></pre>\n<p>but now I'm getting the following exception:</p>\n<pre><code>com.nimbusds.jose.proc.BadJWSException: Signed JWT rejected: Invalid signature\n    at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:378) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\n    at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.10.1.jar:9.10.1]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:154) ~[spring-security-oauth2-jose-5.5.3.jar:5.5.3]\n    at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:137) ~[spring-security-oauth2-jose-5.5.3.jar:5.5.3]\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:97) ~[spring-security-oauth2-resource-server-5.5.3.jar:5.5.3]\n    at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-5.5.3.jar:5.5.3]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-5.5.3.jar:5.5.3]\n    at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:130) ~[spring-security-oauth2-resource-server-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:178) ~[spring-security-oauth2-client-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.3.jar:5.5.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.6.jar:2.5.6]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.12.jar:5.3.12]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.54.jar:9.0.54]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n<p>EDIT2:</p>\n<p>The source generates the JWT like so (using io.jsonwebtoken 0.9.1 library):</p>\n<pre><code>private String generateToken(Map&lt;String, Object&gt; claims, String username) {\n\n    Header header = Jwts.header();\n    header.setType(&quot;JWT&quot;);\n\n    String jti = UUID.randomUUID().toString();\n    Date now = new Date(System.currentTimeMillis());\n\n    return Jwts.builder()\n            .setClaims(claims)\n            .setHeader((Map&lt;String, Object&gt;) header)\n            .setSubject(username)\n            .setIssuedAt(now)\n            .setIssuer(&quot;issuer&quot;)\n            .setId(jti)\n            .signWith(SignatureAlgorithm.HS512, secret)\n            .compact();\n}\n</code></pre>\n<p>EDIT3:</p>\n<p>Solution:</p>\n<pre><code>@Bean\npublic JwtDecoder jwtDecoder(@Value(&quot;${jwt.secret-key}&quot;) String secretKey) {\n    var key = TextCodec.BASE64.decode(secretKey);\n    var paddedKey = key.length &lt; 128 ? Arrays.copyOf(key, 128) : key;\n    return NimbusJwtDecoder\n            .withSecretKey(new SecretKeySpec(paddedKey, &quot;HS512&quot;))\n            .macAlgorithm(MacAlgorithm.HS512)\n            .build();\n}\n</code></pre>\n"},{"tags":["java","file","java-11","filewriter","export-csv"],"answers":[{"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1685554830,"post_id":76036479,"comment_id":134677971,"body_markdown":"`new File` does **not** create a file in the file system if it does not exist.  A `File` is simply a representation of a path name. And [per the documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#length()) the length of a non-existent file is zero.","body":"<code>new File</code> does <b>not</b> create a file in the file system if it does not exist.  A <code>File</code> is simply a representation of a path name. And <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#length()\" rel=\"nofollow noreferrer\">per the documentation</a> the length of a non-existent file is zero."}],"tags":[],"owner":{"account_id":16211805,"reputation":565,"user_id":11705601,"display_name":"Zach"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1681743299,"creation_date":1681743299,"answer_id":76036479,"question_id":76017100,"body_markdown":"Issue was with me not understanding that `File file = new File(exportFilePath);` creates the file on at least the latest `Java 11.0.16+11`. \r\n\r\nI was able to remove all of that and now the code works as this: \r\n```\r\n        File file = new File(exportFilePath);\r\n        if (file.length() == 0) fileWriter.append(String.join(&quot;,&quot;, headers)).append(&quot;\\n&quot;);\r\n        fileWriter.append(String.join(&quot;,&quot;, currentLine)).append(&quot;\\n&quot;).close();\r\n```","title":"File createNewFile() Fails If-Statement When File length() Does Not","body":"<p>Issue was with me not understanding that <code>File file = new File(exportFilePath);</code> creates the file on at least the latest <code>Java 11.0.16+11</code>.</p>\n<p>I was able to remove all of that and now the code works as this:</p>\n<pre><code>        File file = new File(exportFilePath);\n        if (file.length() == 0) fileWriter.append(String.join(&quot;,&quot;, headers)).append(&quot;\\n&quot;);\n        fileWriter.append(String.join(&quot;,&quot;, currentLine)).append(&quot;\\n&quot;).close();\n</code></pre>\n"}],"owner":{"account_id":16211805,"reputation":565,"user_id":11705601,"display_name":"Zach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76036479,"answer_count":1,"score":0,"last_activity_date":1685552985,"creation_date":1681489008,"question_id":76017100,"body_markdown":"# What are the details of your problem? \r\n\r\nWhy does the If-Statement of `file.createNewFile()` not seem to trigger? \r\n\r\nThe file does create and does do `fileWriter.append()` after this if-statement.  \r\nIf I create a `if (!file.createNewFile())` this triggers every time after.  \r\nThe file does append on the `file.length()==0`. \r\n\r\nWhy does the file create and append fine but the if block doesn&#39;t work? \r\n\r\n# What did you try and what were you expecting?\r\n\r\nI&#39;ve tried to whittle down my problem to the smallest snippet for illustration.  \r\nIf instead I should be making the smallest readily run program, let me know and I will update this.  \r\n\r\n```java \r\n            String exportFilePath = &quot;some/where/to/export/file.csv&quot;;\r\n            FileWriter fileWriter = new FileWriter(exportFilePath, true);\r\n            File file = new File(exportFilePath);\r\n            if (file.createNewFile()) {\r\n                System.out.println(&quot;Created File:\\t&quot; + file);\r\n\r\n                // This Does Not Work \r\n                fileWriter.append(String.join(&quot;,&quot;, headers))\r\n                        .append(&quot;\\n&quot;)\r\n                        .close();\r\n            }\r\n            if (file.length()==0)\r\n\r\n                // This Does Work \r\n                fileWriter.append(String.join(&quot;,&quot;, headers))\r\n                        .append(&quot;\\n&quot;)\r\n                        .close();\r\n```","title":"File createNewFile() Fails If-Statement When File length() Does Not","body":"<h1>What are the details of your problem?</h1>\n<p>Why does the If-Statement of <code>file.createNewFile()</code> not seem to trigger?</p>\n<p>The file does create and does do <code>fileWriter.append()</code> after this if-statement.<br />\nIf I create a <code>if (!file.createNewFile())</code> this triggers every time after.<br />\nThe file does append on the <code>file.length()==0</code>.</p>\n<p>Why does the file create and append fine but the if block doesn't work?</p>\n<h1>What did you try and what were you expecting?</h1>\n<p>I've tried to whittle down my problem to the smallest snippet for illustration.<br />\nIf instead I should be making the smallest readily run program, let me know and I will update this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            String exportFilePath = &quot;some/where/to/export/file.csv&quot;;\n            FileWriter fileWriter = new FileWriter(exportFilePath, true);\n            File file = new File(exportFilePath);\n            if (file.createNewFile()) {\n                System.out.println(&quot;Created File:\\t&quot; + file);\n\n                // This Does Not Work \n                fileWriter.append(String.join(&quot;,&quot;, headers))\n                        .append(&quot;\\n&quot;)\n                        .close();\n            }\n            if (file.length()==0)\n\n                // This Does Work \n                fileWriter.append(String.join(&quot;,&quot;, headers))\n                        .append(&quot;\\n&quot;)\n                        .close();\n</code></pre>\n"},{"tags":["java","hibernate","junit","ant"],"owner":{"account_id":28721004,"reputation":1,"user_id":21994759,"display_name":"aleks_gright"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685551535,"creation_date":1685551535,"question_id":76375710,"body_markdown":"I have jsf aplication with connection to PostgreSQL. Also I wrote a test for checking this connection. It works fine when I run this test via maven, but it fails with &quot;No persistence provider for EntityManager named myUnitSuper&quot;, when I try to use my Ant target &quot;test&quot;.\r\nThis is my build.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project name=&quot;Web3&quot;&gt;\r\n    &lt;property name=&quot;src&quot; location=&quot;src&quot;/&gt;\r\n    &lt;property name=&quot;target&quot; location=&quot;target&quot;/&gt;\r\n    &lt;property name=&quot;classes&quot; location=&quot;${target}/classes&quot;/&gt;\r\n    &lt;property name=&quot;build&quot; location=&quot;${target}/jar&quot;/&gt;\r\n    &lt;property name=&quot;doc&quot; location=&quot;${target}/doc&quot;/&gt;\r\n    &lt;property name=&quot;team&quot; location=&quot;${target}/team&quot;/&gt;\r\n    &lt;property name=&quot;meta&quot; location=&quot;${src}/main/resources/META-INF/MANIFEST.MF&quot;/&gt;\r\n    &lt;property name=&quot;test-classes&quot; location=&quot;${target}/test-classes&quot;/&gt;\r\n\r\n    &lt;path id=&quot;build.classpath&quot;&gt;\r\n        &lt;fileset dir=&quot;libs&quot;&gt;\r\n            &lt;include name=&quot;*.jar&quot;/&gt;\r\n        &lt;/fileset&gt;\r\n    &lt;/path&gt;\r\n\r\n    &lt;target name=&quot;compile&quot;&gt;\r\n        &lt;delete dir=&quot;${classes}&quot;/&gt;\r\n        &lt;mkdir dir=&quot;${classes}&quot;/&gt;\r\n        &lt;copy todir=&quot;${target}/classes&quot;&gt;\r\n            &lt;fileset dir=&quot;${src}/main/resources&quot;/&gt;\r\n        &lt;/copy&gt;\r\n        &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${classes}&quot; includeantruntime=&quot;false&quot;&gt;\r\n            &lt;src path=&quot;${src}&quot;/&gt;\r\n            &lt;classpath&gt;\r\n                &lt;path refid=&quot;build.classpath&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n        &lt;/javac&gt;\r\n        &lt;mkdir dir=&quot;${test-classes}&quot;/&gt;\r\n        &lt;move todir=&quot;${test-classes}&quot;&gt;\r\n            &lt;filelist dir=&quot;${classes}&quot;&gt;\r\n                &lt;file name=&quot;QueriesTest.class&quot;/&gt;\r\n            &lt;/filelist&gt;\r\n        &lt;/move&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;build&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;property name=&quot;jarName&quot; value=&quot;Web3&quot;/&gt;\r\n        &lt;mkdir dir=&quot;${build}&quot;/&gt;\r\n        &lt;jar destfile=&quot;${build}/${jarName}.jar&quot; basedir=&quot;${classes}&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;clean&quot;&gt;\r\n        &lt;delete dir=&quot;${target}&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;test&quot; depends=&quot;build&quot;&gt;\r\n        &lt;mkdir dir=&quot;${target}/reports&quot;/&gt;\r\n        &lt;junit printsummary=&quot;true&quot; haltonfailure=&quot;true&quot; showoutput=&quot;true&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;pathelement location=&quot;${test-classes}&quot;/&gt;\r\n                &lt;pathelement location=&quot;${classes}&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n            &lt;test name=&quot;QueriesTest&quot; todir=&quot;${target}/reports&quot;/&gt;\r\n            &lt;formatter type=&quot;plain&quot;/&gt;\r\n        &lt;/junit&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nTest class:\r\n\r\n```\r\npublic class QueriesTest {\r\n    final EntityManager entityManager = Persistence.createEntityManagerFactory(&quot;myUnitSuper&quot;).createEntityManager();\r\n\r\n    @Test\r\n    public void testDB() {\r\n        long id = 1;\r\n        Shot shot = new Shot(id, true, 2, 3, 4, new Date(123), 1, &quot;#FFFFFF&quot;);\r\n        entityManager.getTransaction().begin();\r\n        entityManager.merge(shot);\r\n        entityManager.getTransaction().commit();\r\n        Shot find = entityManager.find(Shot.class, id);\r\n        assert(shot.equals(find));\r\n    }\r\n}\r\n```\r\n\r\npersistence.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;persistence version=&quot;2.0&quot;\r\n             xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;myUnitSuper&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;com.example.web3.entities.Shot&lt;/class&gt;\r\n        &lt;class&gt;com.example.web3.db.DatabaseManager&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt; &lt;!-- DB Driver --&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/postgres&quot; /&gt; &lt;!-- BD Mane --&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;aleksgright&quot; /&gt; &lt;!-- DB User --&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;230921&quot; /&gt; &lt;!-- DB Password --&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nI need to run my test with &quot;ant test&quot;. I guess the problem is that my testClass dont have a path to persistence.xml ot persistence.xml is located in a wrong place, but I can&#39;t figure out what I should do.","title":"JUnit test running via ant returns No persistence provider for EntityManager","body":"<p>I have jsf aplication with connection to PostgreSQL. Also I wrote a test for checking this connection. It works fine when I run this test via maven, but it fails with &quot;No persistence provider for EntityManager named myUnitSuper&quot;, when I try to use my Ant target &quot;test&quot;.\nThis is my build.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project name=&quot;Web3&quot;&gt;\n    &lt;property name=&quot;src&quot; location=&quot;src&quot;/&gt;\n    &lt;property name=&quot;target&quot; location=&quot;target&quot;/&gt;\n    &lt;property name=&quot;classes&quot; location=&quot;${target}/classes&quot;/&gt;\n    &lt;property name=&quot;build&quot; location=&quot;${target}/jar&quot;/&gt;\n    &lt;property name=&quot;doc&quot; location=&quot;${target}/doc&quot;/&gt;\n    &lt;property name=&quot;team&quot; location=&quot;${target}/team&quot;/&gt;\n    &lt;property name=&quot;meta&quot; location=&quot;${src}/main/resources/META-INF/MANIFEST.MF&quot;/&gt;\n    &lt;property name=&quot;test-classes&quot; location=&quot;${target}/test-classes&quot;/&gt;\n\n    &lt;path id=&quot;build.classpath&quot;&gt;\n        &lt;fileset dir=&quot;libs&quot;&gt;\n            &lt;include name=&quot;*.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/path&gt;\n\n    &lt;target name=&quot;compile&quot;&gt;\n        &lt;delete dir=&quot;${classes}&quot;/&gt;\n        &lt;mkdir dir=&quot;${classes}&quot;/&gt;\n        &lt;copy todir=&quot;${target}/classes&quot;&gt;\n            &lt;fileset dir=&quot;${src}/main/resources&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${classes}&quot; includeantruntime=&quot;false&quot;&gt;\n            &lt;src path=&quot;${src}&quot;/&gt;\n            &lt;classpath&gt;\n                &lt;path refid=&quot;build.classpath&quot;/&gt;\n            &lt;/classpath&gt;\n        &lt;/javac&gt;\n        &lt;mkdir dir=&quot;${test-classes}&quot;/&gt;\n        &lt;move todir=&quot;${test-classes}&quot;&gt;\n            &lt;filelist dir=&quot;${classes}&quot;&gt;\n                &lt;file name=&quot;QueriesTest.class&quot;/&gt;\n            &lt;/filelist&gt;\n        &lt;/move&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;build&quot; depends=&quot;compile&quot;&gt;\n        &lt;property name=&quot;jarName&quot; value=&quot;Web3&quot;/&gt;\n        &lt;mkdir dir=&quot;${build}&quot;/&gt;\n        &lt;jar destfile=&quot;${build}/${jarName}.jar&quot; basedir=&quot;${classes}&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;clean&quot;&gt;\n        &lt;delete dir=&quot;${target}&quot;/&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;test&quot; depends=&quot;build&quot;&gt;\n        &lt;mkdir dir=&quot;${target}/reports&quot;/&gt;\n        &lt;junit printsummary=&quot;true&quot; haltonfailure=&quot;true&quot; showoutput=&quot;true&quot;&gt;\n            &lt;classpath&gt;\n                &lt;pathelement location=&quot;${test-classes}&quot;/&gt;\n                &lt;pathelement location=&quot;${classes}&quot;/&gt;\n            &lt;/classpath&gt;\n            &lt;test name=&quot;QueriesTest&quot; todir=&quot;${target}/reports&quot;/&gt;\n            &lt;formatter type=&quot;plain&quot;/&gt;\n        &lt;/junit&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Test class:</p>\n<pre><code>public class QueriesTest {\n    final EntityManager entityManager = Persistence.createEntityManagerFactory(&quot;myUnitSuper&quot;).createEntityManager();\n\n    @Test\n    public void testDB() {\n        long id = 1;\n        Shot shot = new Shot(id, true, 2, 3, 4, new Date(123), 1, &quot;#FFFFFF&quot;);\n        entityManager.getTransaction().begin();\n        entityManager.merge(shot);\n        entityManager.getTransaction().commit();\n        Shot find = entityManager.find(Shot.class, id);\n        assert(shot.equals(find));\n    }\n}\n</code></pre>\n<p>persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;persistence version=&quot;2.0&quot;\n             xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;myUnitSuper&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;com.example.web3.entities.Shot&lt;/class&gt;\n        &lt;class&gt;com.example.web3.db.DatabaseManager&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot; /&gt; &lt;!-- DB Driver --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/postgres&quot; /&gt; &lt;!-- BD Mane --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;aleksgright&quot; /&gt; &lt;!-- DB User --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;230921&quot; /&gt; &lt;!-- DB Password --&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;drop-and-create&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\n\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I need to run my test with &quot;ant test&quot;. I guess the problem is that my testClass dont have a path to persistence.xml ot persistence.xml is located in a wrong place, but I can't figure out what I should do.</p>\n"},{"tags":["java","solaris","sigar"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685347651,"post_id":76355576,"comment_id":134643466,"body_markdown":"Cite example output.","body":"Cite example output."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685347659,"post_id":76355576,"comment_id":134643467,"body_markdown":"What version of Java?","body":"What version of Java?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685347682,"post_id":76355576,"comment_id":134643470,"body_markdown":"Link to documentation for `getProcTime`.","body":"Link to documentation for <code>getProcTime</code>."},{"owner":{"account_id":3942452,"reputation":1031,"user_id":3256272,"accept_rate":18,"display_name":"user_vs"},"score":0,"creation_date":1685348673,"post_id":76355576,"comment_id":134643598,"body_markdown":"Using Java 1.8 version","body":"Using Java 1.8 version"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1685362403,"post_id":76355576,"comment_id":134645725,"body_markdown":"What does `ps -f -p PID` show for the `STIME` value - that&#39;s the start time.  Your Perl code is getting the time from the timestamp of the `/proc/PID` directory entry.  Sigar is probably getting it from `/proc/PID/status`, while `ps` will get the start time from `/proc/PID/psinfo`.  Depending on what version of Solaris your Sigar install was built for, the location of the start time data in the file could have moved.","body":"What does <code>ps -f -p PID</code> show for the <code>STIME</code> value - that&#39;s the start time.  Your Perl code is getting the time from the timestamp of the <code>&#47;proc&#47;PID</code> directory entry.  Sigar is probably getting it from <code>&#47;proc&#47;PID&#47;status</code>, while <code>ps</code> will get the start time from <code>&#47;proc&#47;PID&#47;psinfo</code>.  Depending on what version of Solaris your Sigar install was built for, the location of the start time data in the file could have moved."},{"owner":{"account_id":3942452,"reputation":1031,"user_id":3256272,"accept_rate":18,"display_name":"user_vs"},"score":0,"creation_date":1685379176,"post_id":76355576,"comment_id":134648776,"body_markdown":"There is hardly any documentation we could find, only option is to dig into api . But in core api&#39;s native codes are there and difficult find the root cause.","body":"There is hardly any documentation we could find, only option is to dig into api . But in core api&#39;s native codes are there and difficult find the root cause."},{"owner":{"account_id":3942452,"reputation":1031,"user_id":3256272,"accept_rate":18,"display_name":"user_vs"},"score":0,"creation_date":1685380940,"post_id":76355576,"comment_id":134649049,"body_markdown":"I didn&#39;t understand the line &quot;the location of the start time data in the file could have moved&quot; Why its strange for solaris? Any way to fix this behavior ?","body":"I didn&#39;t understand the line &quot;the location of the start time data in the file could have moved&quot; Why its strange for solaris? Any way to fix this behavior ?"}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685551245,"creation_date":1685410693,"answer_id":76361120,"question_id":76355576,"body_markdown":"The authors of SIGAR chose to calculate start time [using this calculation][1]:\r\n```c\r\nproctime-&gt;start_time = usage.pr_create.tv_sec + sigar-&gt;boot_time;\r\nproctime-&gt;start_time *= MILLISEC;\r\n```\r\nThis assumes that both the process create time and boot time are accurate.  Since you are getting times in the future, this is obviously not the case.\r\n\r\nTo debug which of those two elements is wrong, you&#39;d need to run code that populates that structure, which reads the contents of `/proc/pid/usage` into it; it obtains `boot_time` from KSTAT.\r\n\r\nI just queried these values on the GNU Compile Farm Solaris SPARC box (gcc211): The actual process start time from `psinfo` (and confirmed by matching actual Unix time) was 1685507726287.\r\n\r\nI got a boot time of 1652966303 (from `kstat -p unix:0:system_misc:boot_time`) and create time from `usage` of 32551759.  Adding those times together gives 1685518062000 which is 10335713 milliseconds (2.87 hours) ahead of the actual start time.  Further investigation shows the boot time (compared to days+hours+minutes of up time) to be the primary source of that 10336-second difference.\r\n\r\nPoking around the internet it appears that boot time [is inaccurate in a zone](https://github.com/saltstack/salt/issues/37318) and potentially doesn&#39;t reset on a reboot, and other various issues (enter &quot;Solaris boot time inaccurate&quot; in your favorite search engine), so the SIGAR code does appear to be a bug (at least in versions after 8).\r\n\r\nI&#39;m not sure why the authors of SIGAR didn&#39;t just use the start time from `psinfo` for this data, and their approach may have worked when they wrote it for an earlier Solaris version.  However, the last release was 12 years ago and the last commit to the SIGAR repository was 7 years ago.  Any bug won&#39;t be fixed.  There are alternative actively-maintained Java-based projects to give you information like this, one of which I maintain.\r\n\r\n  [1]: https://github.com/hyperic/sigar/blob/ad47dc3b494e9293d1f087aebb099bdba832de5e/src/os/solaris/solaris_sigar.c#L768-L769","title":"Getting process start time as future date in sigar java api","body":"<p>The authors of SIGAR chose to calculate start time <a href=\"https://github.com/hyperic/sigar/blob/ad47dc3b494e9293d1f087aebb099bdba832de5e/src/os/solaris/solaris_sigar.c#L768-L769\" rel=\"nofollow noreferrer\">using this calculation</a>:</p>\n<pre class=\"lang-c prettyprint-override\"><code>proctime-&gt;start_time = usage.pr_create.tv_sec + sigar-&gt;boot_time;\nproctime-&gt;start_time *= MILLISEC;\n</code></pre>\n<p>This assumes that both the process create time and boot time are accurate.  Since you are getting times in the future, this is obviously not the case.</p>\n<p>To debug which of those two elements is wrong, you'd need to run code that populates that structure, which reads the contents of <code>/proc/pid/usage</code> into it; it obtains <code>boot_time</code> from KSTAT.</p>\n<p>I just queried these values on the GNU Compile Farm Solaris SPARC box (gcc211): The actual process start time from <code>psinfo</code> (and confirmed by matching actual Unix time) was 1685507726287.</p>\n<p>I got a boot time of 1652966303 (from <code>kstat -p unix:0:system_misc:boot_time</code>) and create time from <code>usage</code> of 32551759.  Adding those times together gives 1685518062000 which is 10335713 milliseconds (2.87 hours) ahead of the actual start time.  Further investigation shows the boot time (compared to days+hours+minutes of up time) to be the primary source of that 10336-second difference.</p>\n<p>Poking around the internet it appears that boot time <a href=\"https://github.com/saltstack/salt/issues/37318\" rel=\"nofollow noreferrer\">is inaccurate in a zone</a> and potentially doesn't reset on a reboot, and other various issues (enter &quot;Solaris boot time inaccurate&quot; in your favorite search engine), so the SIGAR code does appear to be a bug (at least in versions after 8).</p>\n<p>I'm not sure why the authors of SIGAR didn't just use the start time from <code>psinfo</code> for this data, and their approach may have worked when they wrote it for an earlier Solaris version.  However, the last release was 12 years ago and the last commit to the SIGAR repository was 7 years ago.  Any bug won't be fixed.  There are alternative actively-maintained Java-based projects to give you information like this, one of which I maintain.</p>\n"}],"owner":{"account_id":3942452,"reputation":1031,"user_id":3256272,"accept_rate":18,"display_name":"user_vs"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685551245,"creation_date":1685346967,"question_id":76355576,"body_markdown":"As i am using sigar java api to get the process start time in solaris sparc OS, \r\nCurrently am getting a future start time as return. \r\n\r\nCould anyone suggest what can be the issue? \r\n```java\r\ntry {\r\n    startTime = sigar.getProcTime(pid).getStartTime();\r\n} catch (SigarException e) {\r\n}\r\n```\r\nOutput: 20230720151134 (converted july 20 2023) \r\n\r\nWhen we tried with\r\n```bash\r\nperl -e&#39;@d=localtime ((stat(shift)) [9]) ; printf&quot;%4d%02d%02d----&quot; /proc/34411\r\n```\r\nI am getting correct output. ","title":"Getting process start time as future date in sigar java api","body":"<p>As i am using sigar java api to get the process start time in solaris sparc OS,\nCurrently am getting a future start time as return.</p>\n<p>Could anyone suggest what can be the issue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    startTime = sigar.getProcTime(pid).getStartTime();\n} catch (SigarException e) {\n}\n</code></pre>\n<p>Output: 20230720151134 (converted july 20 2023)</p>\n<p>When we tried with</p>\n<pre class=\"lang-bash prettyprint-override\"><code>perl -e'@d=localtime ((stat(shift)) [9]) ; printf&quot;%4d%02d%02d----&quot; /proc/34411\n</code></pre>\n<p>I am getting correct output.</p>\n"},{"tags":["java","apache-kafka","avro","apache-kafka-streams"],"comments":[{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1539365544,"post_id":52737242,"comment_id":92490255,"body_markdown":"Did you add the schema via `MockSchemaRegistry#register(String subject, Schema schema)` ?","body":"Did you add the schema via <code>MockSchemaRegistry#register(String subject, Schema schema)</code> ?"}],"answers":[{"comments":[{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":0,"creation_date":1539320729,"post_id":52740970,"comment_id":92467077,"body_markdown":"Would you know what maven repository I&#39;d have to import to use this EmbeddedSingleNodeKafkaCluster? From the comments in https://github.com/confluentinc/kafka-streams-examples/issues/26 it would appear it&#39;s not actually available yet.","body":"Would you know what maven repository I&#39;d have to import to use this EmbeddedSingleNodeKafkaCluster? From the comments in <a href=\"https://github.com/confluentinc/kafka-streams-examples/issues/26\" rel=\"nofollow noreferrer\">github.com/confluentinc/kafka-streams-examples/issues/26</a> it would appear it&#39;s not actually available yet."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1539349903,"post_id":52740970,"comment_id":92481981,"body_markdown":"I use `kafka_2.11`, classifier=test, scope=test","body":"I use <code>kafka_2.11</code>, classifier=test, scope=test"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539177189,"creation_date":1539176747,"answer_id":52740970,"question_id":52737242,"body_markdown":"Confluent provides a plethora of example code for testing Kafka (Streams) alongside the Schema Registry.\r\n\r\nhttps://github.com/confluentinc/kafka-streams-examples/blob/5.0.0-post/src/test/java/io/confluent/examples/streams/SpecificAvroIntegrationTest.java\r\n\r\nMost importantly, mocking isn&#39;t a complete integration test - starting an actual Kafka broker with an in memory schema registry is. \r\n\r\nIn the above code, see \r\n\r\n    @ClassRule\r\n    public static final EmbeddedSingleNodeKafkaCluster CLUSTER = new EmbeddedSingleNodeKafkaCluster();\r\n\r\nAnd \r\n\r\n    streamsConfiguration.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, CLUSTER.schemaRegistryUrl());","title":"How can do Functional tests for Kafka Streams with Avro (schemaRegistry)?","body":"<p>Confluent provides a plethora of example code for testing Kafka (Streams) alongside the Schema Registry.</p>\n\n<p><a href=\"https://github.com/confluentinc/kafka-streams-examples/blob/5.0.0-post/src/test/java/io/confluent/examples/streams/SpecificAvroIntegrationTest.java\" rel=\"nofollow noreferrer\">https://github.com/confluentinc/kafka-streams-examples/blob/5.0.0-post/src/test/java/io/confluent/examples/streams/SpecificAvroIntegrationTest.java</a></p>\n\n<p>Most importantly, mocking isn't a complete integration test - starting an actual Kafka broker with an in memory schema registry is. </p>\n\n<p>In the above code, see </p>\n\n<pre><code>@ClassRule\npublic static final EmbeddedSingleNodeKafkaCluster CLUSTER = new EmbeddedSingleNodeKafkaCluster();\n</code></pre>\n\n<p>And </p>\n\n<pre><code>streamsConfiguration.put(AbstractKafkaAvroSerDeConfig.SCHEMA_REGISTRY_URL_CONFIG, CLUSTER.schemaRegistryUrl());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13739164,"reputation":362,"user_id":9914736,"display_name":"Ramon jansen gomez"},"score":1,"creation_date":1539252172,"post_id":52746680,"comment_id":92437812,"body_markdown":"&quot;Thus, you don&#39;t need to configure any http endpoint because the provide mock client won&#39;t use it anyway.&quot; It&#39;s required by the constructor, throws an exception if the property isn&#39;t filled","body":"&quot;Thus, you don&#39;t need to configure any http endpoint because the provide mock client won&#39;t use it anyway.&quot; It&#39;s required by the constructor, throws an exception if the property isn&#39;t filled"},{"owner":{"account_id":6611062,"reputation":2494,"user_id":5106170,"display_name":"Irshad P I"},"score":0,"creation_date":1542186215,"post_id":52746680,"comment_id":93473621,"body_markdown":"Hi @MatthiasJ.Sax, constructor `SpecificAvroSerde&lt;&gt;(schemaRegistryClient)` has package private access and can&#39;t be used.  I tried using `KafkaAvroDeserializer` and passing it doesn&#39;t help either. It still seems to be trying to access the schema from the passed url.","body":"Hi @MatthiasJ.Sax, constructor <code>SpecificAvroSerde&lt;&gt;(schemaRegistryClient)</code> has package private access and can&#39;t be used.  I tried using <code>KafkaAvroDeserializer</code> and passing it doesn&#39;t help either. It still seems to be trying to access the schema from the passed url."},{"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1542235288,"post_id":52746680,"comment_id":93500469,"body_markdown":"Not sure what version you are using, but current 5.0 release has a public constructor: https://github.com/confluentinc/schema-registry/blob/5.0.0-post/avro-serde/src/main/java/io/confluent/kafka/streams/serdes/avro/SpecificAvroSerde.java#L86","body":"Not sure what version you are using, but current 5.0 release has a public constructor: <a href=\"https://github.com/confluentinc/schema-registry/blob/5.0.0-post/avro-serde/src/main/java/io/confluent/kafka/streams/serdes/avro/SpecificAvroSerde.java#L86\" rel=\"nofollow noreferrer\">github.com/confluentinc/schema-registry/blob/5.0.0-post/&hellip;</a>"},{"owner":{"account_id":337419,"reputation":2276,"user_id":665679,"accept_rate":74,"display_name":"Chris W."},"score":0,"creation_date":1626020049,"post_id":52746680,"comment_id":120776221,"body_markdown":"Works like a gem!","body":"Works like a gem!"}],"tags":[],"owner":{"account_id":6384814,"reputation":60273,"user_id":4953079,"display_name":"Matthias J. Sax"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539365620,"creation_date":1539196379,"answer_id":52746680,"question_id":52737242,"body_markdown":"*Disclaimer: I have not tested this. It&#39;s just some ideas I share how you might be able to make it work. Hope this helps. If you can provide feedback to this answer, it would be great to get to a correct and working solution.*\r\n\r\nI don&#39;t think you can use the regular Avro Serde via config:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    props.setProperty(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class.getName());\r\n\r\nFrom my understanding, this will try to connect to \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    props.setProperty(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;http://mock:8081&quot;);\r\n\r\nHowever, using `MockSchemaRegistryClient` there is no http endpoint to connect to. Instead, you need pass the mock client into the Serde when you create it:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    MockSchemaRegistryClient schemaRegistryClient = new MockSchemaRegistryClient();\r\n    // add the schemas you want to use\r\n    schemaRegistryClient.register(...);\r\n    SpecificAvroSerde&lt;T&gt; serde = new SpecificAvroSerde&lt;&gt;(schemaRegistryClient);\r\n\r\nThus, you just configure a &quot;dummy&quot; http endpoint because the provide mock client won&#39;t use it anyway.\r\n\r\nPassing in the corresponding Serde via code like here seems to be correct:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    StreamBuilder.stream(&quot;topic&quot;, Consumed.with(Serdes.String(), avroSerde));","title":"How can do Functional tests for Kafka Streams with Avro (schemaRegistry)?","body":"<p><em>Disclaimer: I have not tested this. It's just some ideas I share how you might be able to make it work. Hope this helps. If you can provide feedback to this answer, it would be great to get to a correct and working solution.</em></p>\n\n<p>I don't think you can use the regular Avro Serde via config:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>props.setProperty(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class.getName());\n</code></pre>\n\n<p>From my understanding, this will try to connect to </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>props.setProperty(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, \"http://mock:8081\");\n</code></pre>\n\n<p>However, using <code>MockSchemaRegistryClient</code> there is no http endpoint to connect to. Instead, you need pass the mock client into the Serde when you create it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>MockSchemaRegistryClient schemaRegistryClient = new MockSchemaRegistryClient();\n// add the schemas you want to use\nschemaRegistryClient.register(...);\nSpecificAvroSerde&lt;T&gt; serde = new SpecificAvroSerde&lt;&gt;(schemaRegistryClient);\n</code></pre>\n\n<p>Thus, you just configure a \"dummy\" http endpoint because the provide mock client won't use it anyway.</p>\n\n<p>Passing in the corresponding Serde via code like here seems to be correct:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>StreamBuilder.stream(\"topic\", Consumed.with(Serdes.String(), avroSerde));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1539268446,"post_id":52747289,"comment_id":92448413,"body_markdown":"Editing your hosts file is wrong. Please refer to https://rmoff.net/2018/08/02/kafka-listeners-explained/ Though, this approach is too much overhead compared to starting an in memory broker, Zookeeper, etc because they&#39;re all Java processes already, so importing them isn&#39;t difficult (Kafka itself doesn&#39;t run unit/integration tests in containers)","body":"Editing your hosts file is wrong. Please refer to <a href=\"https://rmoff.net/2018/08/02/kafka-listeners-explained/\" rel=\"nofollow noreferrer\">rmoff.net/2018/08/02/kafka-listeners-explained</a> Though, this approach is too much overhead compared to starting an in memory broker, Zookeeper, etc because they&#39;re all Java processes already, so importing them isn&#39;t difficult (Kafka itself doesn&#39;t run unit/integration tests in containers)"},{"owner":{"account_id":1316061,"reputation":125,"user_id":1262884,"display_name":"Levani Kokhreidze"},"score":1,"creation_date":1539272786,"post_id":52747289,"comment_id":92451180,"body_markdown":"I would argue with that. Depends what you want to achieve. If you want to have full integration test with multiple versions of Kafka/Schema Registry to check compatibility etc I would prefer this approach. I would argue about the overhead as well since with test containers it&#39;s very simple to write this kind of integration tests. Thanks for the link.","body":"I would argue with that. Depends what you want to achieve. If you want to have full integration test with multiple versions of Kafka/Schema Registry to check compatibility etc I would prefer this approach. I would argue about the overhead as well since with test containers it&#39;s very simple to write this kind of integration tests. Thanks for the link."}],"tags":[],"owner":{"account_id":1316061,"reputation":125,"user_id":1262884,"display_name":"Levani Kokhreidze"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555673137,"creation_date":1539198885,"answer_id":52747289,"question_id":52737242,"body_markdown":"Approach that worked for us the best is [java test containers][1] with confluent platform docker images. You can setup up following docker compose file:\r\n\r\n    version: &#39;2&#39;\r\n    \r\n    services:\r\n      zookeeper:\r\n        image: confluentinc/cp-zookeeper:5.0.0\r\n        environment:\r\n          ZOOKEEPER_CLIENT_PORT: 2181\r\n      kafka:\r\n        image: confluentinc/cp-kafka:5.0.0\r\n        environment:\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092\r\n          KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n        ports:\r\n          - 9092:9092\r\n        depends_on:\r\n          - zookeeper\r\n      schema-registry:\r\n        image: confluentinc/cp-schema-registry:5.0.0\r\n        environment:\r\n          SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\r\n          SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n          SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:2181\r\n          SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka:9092\r\n        ports:\r\n          - 8081:8081\r\n        depends_on:\r\n          - zookeeper\r\n          - kafka\r\n\r\nThe only thing that you need to do is to add `127.0.0.1 kafka` to `/etc/hosts`. With this approach you have essentially whole cluster up and running for your integration test. Cluster will be destroyed after integration test is finished.\r\n\r\n**EDIT:**\r\n\r\nBetter docker-compose without actually modifying `/etc/hosts`\r\n\r\n    ---\r\n    version: &#39;2&#39;\r\n    \r\n    services:\r\n      zookeeper:\r\n        image: confluentinc/cp-zookeeper:5.0.0\r\n        hostname: zookeeper\r\n        ports:\r\n          - &#39;32181:32181&#39;\r\n        environment:\r\n          ZOOKEEPER_CLIENT_PORT: 32181\r\n          ZOOKEEPER_TICK_TIME: 2000\r\n        extra_hosts:\r\n          - &quot;moby:127.0.0.1&quot;\r\n    \r\n      kafka:\r\n        image: confluentinc/cp-kafka:5.0.0\r\n        hostname: kafka\r\n        ports:\r\n          - &#39;9092:9092&#39;\r\n          - &#39;29092:29092&#39;\r\n        depends_on:\r\n          - zookeeper\r\n        environment:\r\n          KAFKA_BROKER_ID: 1\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:32181\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n          KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\r\n          KAFKA_AUTO_CREATE_TOPICS_ENABLE: &quot;false&quot;\r\n          KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n        extra_hosts:\r\n          - &quot;moby:127.0.0.1&quot;\r\n    \r\n      schema-registry:\r\n        image: confluentinc/cp-schema-registry:5.0.0\r\n        hostname: schema-registry\r\n        depends_on:\r\n          - zookeeper\r\n          - kafka\r\n        ports:\r\n          - &#39;8081:8081&#39;\r\n        environment:\r\n          SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n          SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:32181\r\n        extra_hosts:\r\n          - &quot;moby:127.0.0.1&quot;\r\n\r\nKafka will be available on localhost:9092\r\n\r\n  [1]: https://github.com/testcontainers/testcontainers-java\r\n","title":"How can do Functional tests for Kafka Streams with Avro (schemaRegistry)?","body":"<p>Approach that worked for us the best is <a href=\"https://github.com/testcontainers/testcontainers-java\" rel=\"nofollow noreferrer\">java test containers</a> with confluent platform docker images. You can setup up following docker compose file:</p>\n\n<pre><code>version: '2'\n\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:5.0.0\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n  kafka:\n    image: confluentinc/cp-kafka:5.0.0\n    environment:\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n    ports:\n      - 9092:9092\n    depends_on:\n      - zookeeper\n  schema-registry:\n    image: confluentinc/cp-schema-registry:5.0.0\n    environment:\n      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\n      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:2181\n      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka:9092\n    ports:\n      - 8081:8081\n    depends_on:\n      - zookeeper\n      - kafka\n</code></pre>\n\n<p>The only thing that you need to do is to add <code>127.0.0.1 kafka</code> to <code>/etc/hosts</code>. With this approach you have essentially whole cluster up and running for your integration test. Cluster will be destroyed after integration test is finished.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Better docker-compose without actually modifying <code>/etc/hosts</code></p>\n\n<pre><code>---\nversion: '2'\n\nservices:\n  zookeeper:\n    image: confluentinc/cp-zookeeper:5.0.0\n    hostname: zookeeper\n    ports:\n      - '32181:32181'\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 32181\n      ZOOKEEPER_TICK_TIME: 2000\n    extra_hosts:\n      - \"moby:127.0.0.1\"\n\n  kafka:\n    image: confluentinc/cp-kafka:5.0.0\n    hostname: kafka\n    ports:\n      - '9092:9092'\n      - '29092:29092'\n    depends_on:\n      - zookeeper\n    environment:\n      KAFKA_BROKER_ID: 1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:32181\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:29092,PLAINTEXT_HOST://localhost:9092\n      KAFKA_AUTO_CREATE_TOPICS_ENABLE: \"false\"\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n    extra_hosts:\n      - \"moby:127.0.0.1\"\n\n  schema-registry:\n    image: confluentinc/cp-schema-registry:5.0.0\n    hostname: schema-registry\n    depends_on:\n      - zookeeper\n      - kafka\n    ports:\n      - '8081:8081'\n    environment:\n      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:32181\n    extra_hosts:\n      - \"moby:127.0.0.1\"\n</code></pre>\n\n<p>Kafka will be available on localhost:9092</p>\n"},{"tags":[],"owner":{"account_id":4687782,"reputation":914,"user_id":3794744,"display_name":"Vassilis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604590467,"creation_date":1560778736,"answer_id":56632527,"question_id":52737242,"body_markdown":"For doing this I ended up doing this small test library based on testcontainers: https://github.com/vspiliop/embedded-kafka-cluster. Starts a fully configurable docker based Kafka cluster (broker, zookeeper and Confluent Schema Registry) as part of your tests. Check out the example unit and cucumber tests. \r\n\r\nThe key difference to other non-docker based solutions (e.g. spring-boot embedded kafka test) is that the docker compose file is &quot;generated&quot; via the @EmbeddedKafkaCluster annotation parameters and it is not hardcoded. This means you can configure your tests to match 100% production and be sure that all versions match your production cluster by setting the confluent `platformVersion`.\r\n\r\nFurthermore, you can utilise things like toxi-proxy to  write unit tests that test your real cluster behaviour when certain network errors occur.\r\n\r\nE.g. you can use the @EmbeddedKafkaCluster annotation as follows:\r\n\r\n    @ContextConfiguration()\r\n    @EmbeddedKafkaCluster(topics = {&quot;test.t&quot;}, brokersCount = 1, zookeepersCount = 1, schemaRegistriesCount = 1, platformVersion = &quot;your_production_kafka_confluent_version&quot;)\r\n    @DirtiesContext(classMode = ClassMode.AFTER_CLASS)\r\n    public class FeatureSteps {","title":"How can do Functional tests for Kafka Streams with Avro (schemaRegistry)?","body":"<p>For doing this I ended up doing this small test library based on testcontainers: <a href=\"https://github.com/vspiliop/embedded-kafka-cluster\" rel=\"nofollow noreferrer\">https://github.com/vspiliop/embedded-kafka-cluster</a>. Starts a fully configurable docker based Kafka cluster (broker, zookeeper and Confluent Schema Registry) as part of your tests. Check out the example unit and cucumber tests.</p>\n<p>The key difference to other non-docker based solutions (e.g. spring-boot embedded kafka test) is that the docker compose file is &quot;generated&quot; via the @EmbeddedKafkaCluster annotation parameters and it is not hardcoded. This means you can configure your tests to match 100% production and be sure that all versions match your production cluster by setting the confluent <code>platformVersion</code>.</p>\n<p>Furthermore, you can utilise things like toxi-proxy to  write unit tests that test your real cluster behaviour when certain network errors occur.</p>\n<p>E.g. you can use the @EmbeddedKafkaCluster annotation as follows:</p>\n<pre><code>@ContextConfiguration()\n@EmbeddedKafkaCluster(topics = {&quot;test.t&quot;}, brokersCount = 1, zookeepersCount = 1, schemaRegistriesCount = 1, platformVersion = &quot;your_production_kafka_confluent_version&quot;)\n@DirtiesContext(classMode = ClassMode.AFTER_CLASS)\npublic class FeatureSteps {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685551128,"creation_date":1685551128,"answer_id":76375666,"question_id":52737242,"body_markdown":"We are using Docker compose based solution to mock Kafka.\r\n\r\nBelow is snippet from docker-compose.yml\r\n\r\n    zookeeper:\r\n        image: confluentinc/cp-zookeeper:6.1.0\r\n        hostname: zookeeper\r\n        container_name: zookeeper\r\n        healthcheck:\r\n          test: nc -z zookeeper 2181\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        environment:\r\n          ZOOKEEPER_CLIENT_PORT: 2181\r\n          # Default 8080 port clashes with existing services\r\n          KAFKA_OPTS: &#39;-Dzookeeper.admin.serverPort=3181&#39;\r\n    \r\n      kafka:\r\n        image: confluentinc/cp-kafka:6.1.0\r\n        hostname: kafka\r\n        container_name: kafka\r\n        healthcheck:\r\n          test: nc -z kafka 29092\r\n        depends_on:\r\n          zookeeper:\r\n            condition: service_healthy\r\n        ports:\r\n          - &quot;29092:29092&quot;\r\n        environment:\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\r\n          KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n          KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\r\n          KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\r\n    \r\n      schema-registry:\r\n        image: confluentinc/cp-schema-registry:6.1.0\r\n        hostname: schema-registry\r\n        container_name: schema-registry\r\n        healthcheck:\r\n          test: nc -z schema-registry 8081\r\n        restart: always\r\n        depends_on:\r\n          kafka:\r\n            condition: service_healthy\r\n        ports:\r\n          - &#39;8081:8081&#39;\r\n        environment:\r\n          SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka:9092\r\n          SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:2181\r\n          SCHEMA_REGISTRY_HOST_NAME: schema-registry\r\n          SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\r\n\r\nAnd then we have cucumber and java based step implementation to connect with this mock Kafka setup.\r\n\r\n\r\n    @Given(&quot;a test Kafka producer is available&quot;)\r\n      public void createProducer() {\r\n        producer = new KafkaProducer&lt;&gt;(getKafkaConnectorProperties());\r\n      }\r\n\r\n    private Properties getProducerProps() {\r\n            var properties = new Properties();\r\n            properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;http://localhost:29092&quot;);\r\n            properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class.getName());\r\n            properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class.getName());\r\n            properties.setProperty(SCHEMA_REGISTRY_CONFIG, &quot;http://localhost:8081&quot;);\r\n            return properties;\r\n        }\r\n\r\nNow using this producer we can send the message to the topic.\r\n\r\n\r\nGenerate the message \r\n\r\n    var record = new ProducerRecord&lt;&gt;(&quot;my-topic&quot;, &quot;message-key&quot;, &quot;message-value&quot;)\r\n\r\n\r\nand send using the producer\r\n\r\n    sendRecord(producer,record);\r\n\r\nwhere:\r\n\r\n    private &lt;K,V&gt; void sendRecord(KafkaProducer&lt;K, V&gt; producer, ProducerRecord&lt;K, V&gt; record)\r\n              throws ExecutionException, InterruptedException, TimeoutException {\r\n        var result = producer.send(record).get(30, TimeUnit.SECONDS);\r\n        assertThat(result.topic()).isEqualTo(record.topic());\r\n        assertThat(result.hasOffset()).isTrue();\r\n      }\r\n\r\n\r\n","title":"How can do Functional tests for Kafka Streams with Avro (schemaRegistry)?","body":"<p>We are using Docker compose based solution to mock Kafka.</p>\n<p>Below is snippet from docker-compose.yml</p>\n<pre><code>zookeeper:\n    image: confluentinc/cp-zookeeper:6.1.0\n    hostname: zookeeper\n    container_name: zookeeper\n    healthcheck:\n      test: nc -z zookeeper 2181\n    ports:\n      - &quot;2181:2181&quot;\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      # Default 8080 port clashes with existing services\n      KAFKA_OPTS: '-Dzookeeper.admin.serverPort=3181'\n\n  kafka:\n    image: confluentinc/cp-kafka:6.1.0\n    hostname: kafka\n    container_name: kafka\n    healthcheck:\n      test: nc -z kafka 29092\n    depends_on:\n      zookeeper:\n        condition: service_healthy\n    ports:\n      - &quot;29092:29092&quot;\n    environment:\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://kafka:9092,PLAINTEXT_HOST://localhost:29092\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: PLAINTEXT\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_CONFLUENT_LICENSE_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_CONFLUENT_BALANCER_TOPIC_REPLICATION_FACTOR: 1\n\n  schema-registry:\n    image: confluentinc/cp-schema-registry:6.1.0\n    hostname: schema-registry\n    container_name: schema-registry\n    healthcheck:\n      test: nc -z schema-registry 8081\n    restart: always\n    depends_on:\n      kafka:\n        condition: service_healthy\n    ports:\n      - '8081:8081'\n    environment:\n      SCHEMA_REGISTRY_KAFKASTORE_BOOTSTRAP_SERVERS: PLAINTEXT://kafka:9092\n      SCHEMA_REGISTRY_KAFKASTORE_CONNECTION_URL: zookeeper:2181\n      SCHEMA_REGISTRY_HOST_NAME: schema-registry\n      SCHEMA_REGISTRY_LISTENERS: http://0.0.0.0:8081\n</code></pre>\n<p>And then we have cucumber and java based step implementation to connect with this mock Kafka setup.</p>\n<pre><code>@Given(&quot;a test Kafka producer is available&quot;)\n  public void createProducer() {\n    producer = new KafkaProducer&lt;&gt;(getKafkaConnectorProperties());\n  }\n\nprivate Properties getProducerProps() {\n        var properties = new Properties();\n        properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;http://localhost:29092&quot;);\n        properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class.getName());\n        properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, KafkaAvroSerializer.class.getName());\n        properties.setProperty(SCHEMA_REGISTRY_CONFIG, &quot;http://localhost:8081&quot;);\n        return properties;\n    }\n</code></pre>\n<p>Now using this producer we can send the message to the topic.</p>\n<p>Generate the message</p>\n<pre><code>var record = new ProducerRecord&lt;&gt;(&quot;my-topic&quot;, &quot;message-key&quot;, &quot;message-value&quot;)\n</code></pre>\n<p>and send using the producer</p>\n<pre><code>sendRecord(producer,record);\n</code></pre>\n<p>where:</p>\n<pre><code>private &lt;K,V&gt; void sendRecord(KafkaProducer&lt;K, V&gt; producer, ProducerRecord&lt;K, V&gt; record)\n          throws ExecutionException, InterruptedException, TimeoutException {\n    var result = producer.send(record).get(30, TimeUnit.SECONDS);\n    assertThat(result.topic()).isEqualTo(record.topic());\n    assertThat(result.hasOffset()).isTrue();\n  }\n</code></pre>\n"}],"owner":{"account_id":13739164,"reputation":362,"user_id":9914736,"display_name":"Ramon jansen gomez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5828,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":5,"score":5,"last_activity_date":1685551128,"creation_date":1539164652,"question_id":52737242,"body_markdown":"* A brief explanation of what I want to achieve: \r\nI want to do functional tests for a kafka stream topology (using TopologyTestDriver) for avro records.\r\n\r\n* Issues: Can&#39;t &quot;mock&quot; schemaRegistry to automate the schema publishing/reading\r\n\r\nWhat I tried so far is use MockSchemaRegistryClient to try to mock the schemaRegistry, but I don&#39;t know how to link it to the Avro Serde.\r\n\r\nCode\r\n\r\n    public class SyncronizerIntegrationTest {\r\n        \r\n\r\n        private ConsumerRecordFactory&lt;String, Tracking&gt; recordFactory = new ConsumerRecordFactory&lt;&gt;(new StringSerializer(), new SpecificAvroSerializer&lt;&gt;());\r\n\r\n        MockSchemaRegistryClient mockSchemaRegistryClient = new MockSchemaRegistryClient();\r\n\r\n\r\n        @Test\r\n        void integrationTest() throws IOException, RestClientException {\r\n\r\n\r\n            Properties props = new Properties();\r\n            props.setProperty(StreamsConfig.APPLICATION_ID_CONFIG, &quot;streamsTest&quot;);\r\n            props.setProperty(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;dummy:1234&quot;);\r\n            props.setProperty(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n            props.setProperty(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class.getName());\r\n            props.setProperty(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;http://mock:8081&quot;); //Dunno if this do anything? :/\r\n            StreamsBuilder kStreamBuilder = new StreamsBuilder();\r\n            Serde&lt;Tracking&gt; avroSerde = getAvroSerde();\r\n            mockSchemaRegistryClient.register(Tracking.getClassSchema().getName(), Tracking.getClassSchema());\r\n\r\n\r\n            KStream&lt;String, Tracking&gt; unmappedOrdersStream = kStreamBuilder.stream(\r\n                    &quot;topic&quot;,\r\n                    Consumed.with(Serdes.String(), avroSerde));\r\n\r\n            unmappedOrdersStream\r\n                    .filter((k, v) -&gt; v != null).to(&quot;ouput&quot;);\r\n\r\n            Topology topology = kStreamBuilder.build();\r\n            TopologyTestDriver testDriver = new TopologyTestDriver(topology, props);\r\n\r\n            testDriver.pipeInput(recordFactory.create(&quot;topic&quot;, &quot;1&quot;, createValidMappedTracking()));\r\n\r\n        }\r\n    }\r\n\r\n\r\nAvroSerde method\r\n\r\n    private &lt;T extends SpecificRecord&gt; Serde&lt;T&gt; getAvroSerde() {\r\n        \r\n        // Configure Avro ser/des\r\n        final Map&lt;String,String&gt; avroSerdeConfig = new HashMap&lt;&gt;();\r\n        avroSerdeConfig.put(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, &quot;http://mock:8081&quot;);\r\n\r\n        final Serde&lt;T&gt; avroSerde = new SpecificAvroSerde&lt;&gt;();\r\n        avroSerde.configure(avroSerdeConfig, false); // `false` for record values\r\n        return avroSerde;\r\n    }\r\n\r\n\r\n\r\nIf I run the test without `testDriver.pipeInput(recordFactory.create(&quot;topic&quot;, &quot;1&quot;, createValidMappedTracking()));` it works well (looks like everything is properly settled) \r\n\r\nBut\r\n\r\nWhen I try to insert data(**pipeInput**), it throws the following exception: The object &quot;Tracking&quot; is full filled.\r\n\r\n    org.apache.kafka.common.errors.SerializationException: Error serializing Avro message\r\n    Caused by: java.lang.NullPointerException\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.serializeImpl(AbstractKafkaAvroSerializer.java:82)\r\n    \tat io.confluent.kafka.serializers.KafkaAvroSerializer.serialize(KafkaAvroSerializer.java:53)\r\n    \tat io.confluent.kafka.streams.serdes.avro.SpecificAvroSerializer.serialize(SpecificAvroSerializer.java:65)\r\n    \tat io.confluent.kafka.streams.serdes.avro.SpecificAvroSerializer.serialize(SpecificAvroSerializer.java:38)\r\n    \tat org.apache.kafka.streams.test.ConsumerRecordFactory.create(ConsumerRecordFactory.java:184)\r\n    \tat org.apache.kafka.streams.test.ConsumerRecordFactory.create(ConsumerRecordFactory.java:270)\r\n\r\n\r\nEdited, I didn&#39;t deleted this, for &quot;history log&quot; to provide the path followed.","title":"How can do Functional tests for Kafka Streams with Avro (schemaRegistry)?","body":"<ul>\n<li><p>A brief explanation of what I want to achieve: \nI want to do functional tests for a kafka stream topology (using TopologyTestDriver) for avro records.</p></li>\n<li><p>Issues: Can't \"mock\" schemaRegistry to automate the schema publishing/reading</p></li>\n</ul>\n\n<p>What I tried so far is use MockSchemaRegistryClient to try to mock the schemaRegistry, but I don't know how to link it to the Avro Serde.</p>\n\n<p>Code</p>\n\n<pre><code>public class SyncronizerIntegrationTest {\n\n\n    private ConsumerRecordFactory&lt;String, Tracking&gt; recordFactory = new ConsumerRecordFactory&lt;&gt;(new StringSerializer(), new SpecificAvroSerializer&lt;&gt;());\n\n    MockSchemaRegistryClient mockSchemaRegistryClient = new MockSchemaRegistryClient();\n\n\n    @Test\n    void integrationTest() throws IOException, RestClientException {\n\n\n        Properties props = new Properties();\n        props.setProperty(StreamsConfig.APPLICATION_ID_CONFIG, \"streamsTest\");\n        props.setProperty(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"dummy:1234\");\n        props.setProperty(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n        props.setProperty(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, GenericAvroSerde.class.getName());\n        props.setProperty(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, \"http://mock:8081\"); //Dunno if this do anything? :/\n        StreamsBuilder kStreamBuilder = new StreamsBuilder();\n        Serde&lt;Tracking&gt; avroSerde = getAvroSerde();\n        mockSchemaRegistryClient.register(Tracking.getClassSchema().getName(), Tracking.getClassSchema());\n\n\n        KStream&lt;String, Tracking&gt; unmappedOrdersStream = kStreamBuilder.stream(\n                \"topic\",\n                Consumed.with(Serdes.String(), avroSerde));\n\n        unmappedOrdersStream\n                .filter((k, v) -&gt; v != null).to(\"ouput\");\n\n        Topology topology = kStreamBuilder.build();\n        TopologyTestDriver testDriver = new TopologyTestDriver(topology, props);\n\n        testDriver.pipeInput(recordFactory.create(\"topic\", \"1\", createValidMappedTracking()));\n\n    }\n}\n</code></pre>\n\n<p>AvroSerde method</p>\n\n<pre><code>private &lt;T extends SpecificRecord&gt; Serde&lt;T&gt; getAvroSerde() {\n\n    // Configure Avro ser/des\n    final Map&lt;String,String&gt; avroSerdeConfig = new HashMap&lt;&gt;();\n    avroSerdeConfig.put(KafkaAvroSerializerConfig.SCHEMA_REGISTRY_URL_CONFIG, \"http://mock:8081\");\n\n    final Serde&lt;T&gt; avroSerde = new SpecificAvroSerde&lt;&gt;();\n    avroSerde.configure(avroSerdeConfig, false); // `false` for record values\n    return avroSerde;\n}\n</code></pre>\n\n<p>If I run the test without <code>testDriver.pipeInput(recordFactory.create(\"topic\", \"1\", createValidMappedTracking()));</code> it works well (looks like everything is properly settled) </p>\n\n<p>But</p>\n\n<p>When I try to insert data(<strong>pipeInput</strong>), it throws the following exception: The object \"Tracking\" is full filled.</p>\n\n<pre><code>org.apache.kafka.common.errors.SerializationException: Error serializing Avro message\nCaused by: java.lang.NullPointerException\n    at io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.serializeImpl(AbstractKafkaAvroSerializer.java:82)\n    at io.confluent.kafka.serializers.KafkaAvroSerializer.serialize(KafkaAvroSerializer.java:53)\n    at io.confluent.kafka.streams.serdes.avro.SpecificAvroSerializer.serialize(SpecificAvroSerializer.java:65)\n    at io.confluent.kafka.streams.serdes.avro.SpecificAvroSerializer.serialize(SpecificAvroSerializer.java:38)\n    at org.apache.kafka.streams.test.ConsumerRecordFactory.create(ConsumerRecordFactory.java:184)\n    at org.apache.kafka.streams.test.ConsumerRecordFactory.create(ConsumerRecordFactory.java:270)\n</code></pre>\n\n<p>Edited, I didn't deleted this, for \"history log\" to provide the path followed.</p>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1685201370,"post_id":76347600,"comment_id":134630073,"body_markdown":"@user16320675 Thanks, I had a look around before posting and I&#39;m a bit confused. If you could add an answer to fill in the part `pb.inputFromList(input)` that would be great!","body":"@user16320675 Thanks, I had a look around before posting and I&#39;m a bit confused. If you could add an answer to fill in the part <code>pb.inputFromList(input)</code> that would be great!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685202304,"post_id":76347600,"comment_id":134630209,"body_markdown":"There&#39;s a puzzling disconnect here: if you&#39;re looking for the equivalent of `echo -e &quot;foo\\nbar\\nspam&quot; | grep &#39;foo&#39;` why would you want to discard most of the potential input? One of the problems here is that you&#39;re not stating your actual [goal](https://technojeeves.com/index.php/15-smart-questions) so this could be an &#39;XY question&#39;","body":"There&#39;s a puzzling disconnect here: if you&#39;re looking for the equivalent of <code>echo -e &quot;foo\\nbar\\nspam&quot; | grep &#39;foo&#39;</code> why would you want to discard most of the potential input? One of the problems here is that you&#39;re not stating your actual <a href=\"https://technojeeves.com/index.php/15-smart-questions\" rel=\"nofollow noreferrer\">goal</a> so this could be an &#39;XY question&#39;"},{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1685202541,"post_id":76347600,"comment_id":134630241,"body_markdown":"@g00se I just made a toy example to illustrate the problem. I have list of strings that I want to parse through a system command as if the list of strings is a file with one string per line.","body":"@g00se I just made a toy example to illustrate the problem. I have list of strings that I want to parse through a system command as if the list of strings is a file with one string per line."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1685208282,"post_id":76347600,"comment_id":134630910,"body_markdown":"It should be mentioned that one should *never* use ProcessBuilder to run `grep`, because Java can do everything grep can do. See the [java.util.regex package](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/package-summary.html).","body":"It should be mentioned that one should <i>never</i> use ProcessBuilder to run <code>grep</code>, because Java can do everything grep can do. See the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/package-summary.html\" rel=\"nofollow noreferrer\">java.util.regex package</a>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685213687,"post_id":76347600,"comment_id":134631494,"body_markdown":"So, the command is _grep_ and you want to _grep foo_, _grep bar_, _grep spam_?","body":"So, the command is <i>grep</i> and you want to <i>grep foo</i>, <i>grep bar</i>, <i>grep spam</i>?"},{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1685215019,"post_id":76347600,"comment_id":134631632,"body_markdown":"@Reilas Not quite - I want the equivalent of `cat in.txt | grep foo` where `in.txt` contains &quot;foo&quot;, &quot;bar&quot;, &quot;spam&quot;, each word on its own line. However, instead of feeding grep with `cat ... |` I want to feed it with a ArrayList of strings. (And again, grep is just to make the example easy).","body":"@Reilas Not quite - I want the equivalent of <code>cat in.txt | grep foo</code> where <code>in.txt</code> contains &quot;foo&quot;, &quot;bar&quot;, &quot;spam&quot;, each word on its own line. However, instead of feeding grep with <code>cat ... |</code> I want to feed it with a ArrayList of strings. (And again, grep is just to make the example easy)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685215179,"post_id":76347600,"comment_id":134631652,"body_markdown":"*I want the equivalent of ...* As @VGR said, that functionality would be easily replicable by simply using the `List` of values directly. e.g. `input.stream().filter(s -&gt;s.contains(&quot;foo&quot;))...`","body":"<i>I want the equivalent of ...</i> As @VGR said, that functionality would be easily replicable by simply using the <code>List</code> of values directly. e.g. <code>input.stream().filter(s -&gt;s.contains(&quot;foo&quot;))...</code>"},{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1685215631,"post_id":76347600,"comment_id":134631700,"body_markdown":"@g00se Again: grep is here just for example and maybe the phrasing of the question doesn&#39;t make it clear. The question is: Use an ArrayList as stdin to a system command (e.g. grep).","body":"@g00se Again: grep is here just for example and maybe the phrasing of the question doesn&#39;t make it clear. The question is: Use an ArrayList as stdin to a system command (e.g. grep)."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1685219237,"post_id":76347600,"comment_id":134632086,"body_markdown":"@dariober, it appears there is a maximum input for ProcessBuilder, platform specific.   _https://stackoverflow.com/a/32202756/17758716_","body":"@dariober, it appears there is a maximum input for ProcessBuilder, platform specific.   <i><a href=\"https://stackoverflow.com/a/32202756/17758716\">stackoverflow.com/a/32202756/17758716</a></i>"}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685207207,"post_id":76347744,"comment_id":134630800,"body_markdown":"As others have pointed out, [Process.outputWriter()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Process.html#outputWriter()) and [Process.inputReader()](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Process.html#inputReader()) take care of using the native encoding.","body":"As others have pointed out, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Process.html#outputWriter()\" rel=\"nofollow noreferrer\">Process.outputWriter()</a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Process.html#inputReader()\" rel=\"nofollow noreferrer\">Process.inputReader()</a> take care of using the native encoding."},{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1685215167,"post_id":76347744,"comment_id":134631651,"body_markdown":"@rzwitserloot I made some progress but I&#39;m stuck with the deadlock problem (I think). I edited my question, any help much appreciated.","body":"@rzwitserloot I made some progress but I&#39;m stuck with the deadlock problem (I think). I edited my question, any help much appreciated."},{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1685270242,"post_id":76347744,"comment_id":134635753,"body_markdown":"@rzwitserloot Thanks, but I&#39;m afraid I still don&#39;t get it... Can you check my UPDATE 2 in the question?","body":"@rzwitserloot Thanks, but I&#39;m afraid I still don&#39;t get it... Can you check my UPDATE 2 in the question?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685280745,"post_id":76347744,"comment_id":134636873,"body_markdown":"All you&#39;re missing is to allow that reader thread to finish its work. Just call `readerThread.join()`, _then_ `return results;`. (You&#39;d think `p.waitFor()` does that, but for a bunch of reasons, that&#39;s not good enough).","body":"All you&#39;re missing is to allow that reader thread to finish its work. Just call <code>readerThread.join()</code>, <i>then</i> <code>return results;</code>. (You&#39;d think <code>p.waitFor()</code> does that, but for a bunch of reasons, that&#39;s not good enough)."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685216900,"creation_date":1685202773,"answer_id":76347744,"question_id":76347600,"body_markdown":"The way &#39;standard in&#39; and &#39;standard out&#39; works is: They are _byte streams_. A sequence of bytes, sent whenever you want, with one out-of-band concept called &#39;ending it&#39; (closing the stream / EOF). You can&#39;t start sending this data until _after_ the app has been launched; after all, you can send a few gigabytes through (you wouldn&#39;t want to pre-load that), or even, an infinite supply of something (let&#39;s say an endless stream of one values; the linux `/bin/true` command, if you pipe it to something, would do exactly that: Stuff ones into the standard in of the thing you pipe it to, _endlessly_.\r\n\r\n```\r\nProcess p = pb.start();\r\ntry (var out = p.getOutputStream()) {\r\n  for (String in : inputList) {\r\n    out.write(in.getBytes(StandardCharsets.UTF_8));\r\n    out.write(&#39;\\n&#39;);\r\n  }\r\n}\r\n```\r\n\r\ndoes the job. As I said, this stuff is bytes, not chars, so we have to convert, and converting means we need a charset. You might want to prefer the platform default instead:\r\n\r\n```\r\nCharset platformDefault = Charset.defaultCharset();\r\ntry {\r\n  platformDefault = Charset.forName(System.getProperty(&quot;native.encoding&quot;));\r\n} catch (Exception ignore) {}\r\n\r\n// then you can do:\r\nout.write(in.getBytes(platformDefault);\r\n```\r\n\r\nOrdinarily you wouldn&#39;t want to mess with &#39;platform default encoding&#39; (just go with UTF-8, which is standard, even, on JDK17+, but it doesn&#39;t hurt to explicitly say it, makes your code more readable and avoids confusion as it isn&#39;t a guaranteed default on JDK11), but if your app is explicitly designed to interact with other non-JVM-based applications on the system, they tend to want platform default.\r\n\r\n## But, careful - this is deadlock prone!\r\n\r\nIf you send a ton of data, well, while you&#39;re sending data to that app, many apps will start responding data back to you. Eventually a buffer might get full: The other application will pause, wanting somebody to pull whatever it is emitting to standard out away from it before it continues, and in this code, you aren&#39;t doing that.\r\n\r\nThis would then cause __deadlock__: Your java app never gets to the phase where you read `p.getInputStream()`&#39;s data out, and the other app never lets your java app send more (i.ee those `out.write` calls will be pausing forever).\r\n\r\nThe only solution to this is to either tell the process to just &#39;merge&#39; your java process&#39;s standard out (call `.redirectInput(ProcessBuilder.Redirect.INHERIT)` _before_ `start()`ing), or fire up a second thread that calls `.getInputStream()` and reads the bytes out of that (or start a thread to send your list of strings - either one needs to be done by a separate thread).\r\n\r\n## EDIT: How to use a thread\r\n\r\nRun your reader code as:\r\n\r\n```\r\nThread readerThread = new Thread(() -&gt; {\r\n  try {\r\n    try (BufferedReader reader = new BufferedReader(new \r\n    InputStreamReader(p.getInputStream()))) {\r\n      String line;\r\n      while ((line = reader.readLine()) != null) {\r\n        System.err.println(line);\r\n      }\r\n    }\r\n  } catch (Exception e) {\r\n    throw new RuntimeException(&quot;Unhandled&quot;, e);\r\n  }\r\n});\r\n\r\nreaderThread.start();\r\n```\r\n\r\nand do that before starting your `p.getOutputStream()` part.\r\n","title":"ArrayList as stdin to ProcessBuilder","body":"<p>The way 'standard in' and 'standard out' works is: They are <em>byte streams</em>. A sequence of bytes, sent whenever you want, with one out-of-band concept called 'ending it' (closing the stream / EOF). You can't start sending this data until <em>after</em> the app has been launched; after all, you can send a few gigabytes through (you wouldn't want to pre-load that), or even, an infinite supply of something (let's say an endless stream of one values; the linux <code>/bin/true</code> command, if you pipe it to something, would do exactly that: Stuff ones into the standard in of the thing you pipe it to, <em>endlessly</em>.</p>\n<pre><code>Process p = pb.start();\ntry (var out = p.getOutputStream()) {\n  for (String in : inputList) {\n    out.write(in.getBytes(StandardCharsets.UTF_8));\n    out.write('\\n');\n  }\n}\n</code></pre>\n<p>does the job. As I said, this stuff is bytes, not chars, so we have to convert, and converting means we need a charset. You might want to prefer the platform default instead:</p>\n<pre><code>Charset platformDefault = Charset.defaultCharset();\ntry {\n  platformDefault = Charset.forName(System.getProperty(&quot;native.encoding&quot;));\n} catch (Exception ignore) {}\n\n// then you can do:\nout.write(in.getBytes(platformDefault);\n</code></pre>\n<p>Ordinarily you wouldn't want to mess with 'platform default encoding' (just go with UTF-8, which is standard, even, on JDK17+, but it doesn't hurt to explicitly say it, makes your code more readable and avoids confusion as it isn't a guaranteed default on JDK11), but if your app is explicitly designed to interact with other non-JVM-based applications on the system, they tend to want platform default.</p>\n<h2>But, careful - this is deadlock prone!</h2>\n<p>If you send a ton of data, well, while you're sending data to that app, many apps will start responding data back to you. Eventually a buffer might get full: The other application will pause, wanting somebody to pull whatever it is emitting to standard out away from it before it continues, and in this code, you aren't doing that.</p>\n<p>This would then cause <strong>deadlock</strong>: Your java app never gets to the phase where you read <code>p.getInputStream()</code>'s data out, and the other app never lets your java app send more (i.ee those <code>out.write</code> calls will be pausing forever).</p>\n<p>The only solution to this is to either tell the process to just 'merge' your java process's standard out (call <code>.redirectInput(ProcessBuilder.Redirect.INHERIT)</code> <em>before</em> <code>start()</code>ing), or fire up a second thread that calls <code>.getInputStream()</code> and reads the bytes out of that (or start a thread to send your list of strings - either one needs to be done by a separate thread).</p>\n<h2>EDIT: How to use a thread</h2>\n<p>Run your reader code as:</p>\n<pre><code>Thread readerThread = new Thread(() -&gt; {\n  try {\n    try (BufferedReader reader = new BufferedReader(new \n    InputStreamReader(p.getInputStream()))) {\n      String line;\n      while ((line = reader.readLine()) != null) {\n        System.err.println(line);\n      }\n    }\n  } catch (Exception e) {\n    throw new RuntimeException(&quot;Unhandled&quot;, e);\n  }\n});\n\nreaderThread.start();\n</code></pre>\n<p>and do that before starting your <code>p.getOutputStream()</code> part.</p>\n"},{"comments":[{"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"score":0,"creation_date":1685270529,"post_id":76349131,"comment_id":134635789,"body_markdown":"Can you check UPDATE 2 in the question? Any help much appreciated - *write stdin to a file and setup ProcessBuilder to read stdin from that file*, yes, I have considered that, but I thought it clunky and inefficient. However, I also thought reading from stdin was much simpler than all this.","body":"Can you check UPDATE 2 in the question? Any help much appreciated - <i>write stdin to a file and setup ProcessBuilder to read stdin from that file</i>, yes, I have considered that, but I thought it clunky and inefficient. However, I also thought reading from stdin was much simpler than all this."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1685300648,"post_id":76349131,"comment_id":134639178,"body_markdown":"You don&#39;t know for sure that the background thread has finished, you need `readerThread.join()` before `p.waitFor()`","body":"You don&#39;t know for sure that the background thread has finished, you need <code>readerThread.join()</code> before <code>p.waitFor()</code>"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685550714,"creation_date":1685223097,"answer_id":76349131,"question_id":76347600,"body_markdown":"There is a limited (platform specific) default buffer size to stdin, stdout and stderr. Failing to consume output can lead to deadlock. \r\n\r\nIn your case your for loop over `stdin.write` is being read by `grep` which generates stdout. This stdout blocks when full because your stdout reader code is not reached until after the stdin for loop ends (you can confirm with jstack trace).\r\n\r\nA similar deadlock can happen with independent stdout / stderr streams which are read one after the other and when the second is filled first. Nearly all SO examples of `ProcessBuilder` don&#39;t actually work reliably.\r\n\r\nWhen the stdin stream you send to the sub-process is large is must be in a separate thread to the consumer of stdout (and also stderr if that is not redirected to stdin). So run this part of your code in a background thread and you should avoid the deadlock you have now hit for large inputList:\r\n\r\n    for(String line : inputList){\r\n    \r\n     stdin.write(line.getBytes(StandardCharsets.UTF_8));\r\n        stdin.write(&#39;\\n&#39;);\r\n        i++;\r\n        System.err.println(i);\r\n    }\r\n    stdin.close();\r\n\r\nIn addition you need redirect error to output or inheritIO as in @rzwitserloot answer with the code to consume stdout before calling `p.waitFor()`. \r\n\r\nIf you do add any background tasks to provide stdin or consume stdout/stderr as a `Thread` or via `ExecutorService` then don&#39;t forget to wait for the actions by adding `thread.join()` or `future.get()` before calling `p.waitFor()`.\r\n\r\nAnother way to avoid large stdin deadlock is to write stdin to a file and setup ProcessBuilder to read stdin from that file.","title":"ArrayList as stdin to ProcessBuilder","body":"<p>There is a limited (platform specific) default buffer size to stdin, stdout and stderr. Failing to consume output can lead to deadlock.</p>\n<p>In your case your for loop over <code>stdin.write</code> is being read by <code>grep</code> which generates stdout. This stdout blocks when full because your stdout reader code is not reached until after the stdin for loop ends (you can confirm with jstack trace).</p>\n<p>A similar deadlock can happen with independent stdout / stderr streams which are read one after the other and when the second is filled first. Nearly all SO examples of <code>ProcessBuilder</code> don't actually work reliably.</p>\n<p>When the stdin stream you send to the sub-process is large is must be in a separate thread to the consumer of stdout (and also stderr if that is not redirected to stdin). So run this part of your code in a background thread and you should avoid the deadlock you have now hit for large inputList:</p>\n<pre><code>for(String line : inputList){\n\n stdin.write(line.getBytes(StandardCharsets.UTF_8));\n    stdin.write('\\n');\n    i++;\n    System.err.println(i);\n}\nstdin.close();\n</code></pre>\n<p>In addition you need redirect error to output or inheritIO as in @rzwitserloot answer with the code to consume stdout before calling <code>p.waitFor()</code>.</p>\n<p>If you do add any background tasks to provide stdin or consume stdout/stderr as a <code>Thread</code> or via <code>ExecutorService</code> then don't forget to wait for the actions by adding <code>thread.join()</code> or <code>future.get()</code> before calling <code>p.waitFor()</code>.</p>\n<p>Another way to avoid large stdin deadlock is to write stdin to a file and setup ProcessBuilder to read stdin from that file.</p>\n"}],"owner":{"account_id":1127568,"reputation":8540,"user_id":1114453,"accept_rate":61,"display_name":"dariober"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685550714,"creation_date":1685200757,"question_id":76347600,"body_markdown":"I have a list of strings that I want to stream through system commands via `ProcessBuilder`; each string is the equivalent of a line of input passed to the system command as `stdin`. For example, if my list is `[&quot;foo&quot; &quot;bar&quot; &quot;spam&quot;]`, I&#39;m looking for the rough equivalent of:\r\n\r\n```bash\r\necho -e &quot;foo\\nbar\\nspam&quot; | grep &#39;foo&#39;\r\n```\r\n\r\nI don&#39;t know how to turn a list of strings to an input suitable for `ProcessBuilder`. This is some draft code:\r\n\r\n```Java\r\nList&lt;String&gt; input = new ArrayList&lt;String&gt;();\r\ninput.add(&quot;foo&quot;);\r\ninput.add(&quot;bar&quot;);\r\ninput.add(&quot;spam&quot;);\r\n\r\nList&lt;String&gt; cmd = new ArrayList&lt;String&gt;();\r\ncmd.add(&quot;grep&quot;);\r\ncmd.add(&quot;foo&quot;);\r\n\r\nProcessBuilder pb = new ProcessBuilder().command(cmd);\r\n\r\n// *** Some magic here to pass `input` to ProcessBuilder, like: ***\r\npb.inputFromList(input);\r\n\r\n// Then process and collect output (this I&#39;m ok):\r\nProcess p= pb.start();\r\nBufferedReader reader= new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n// Do something with reader which now contains only &quot;foo&quot;.\r\n```\r\n\r\nI could write the input list to a temporary file first and use that in the system command `cmd`, but I would prefer to avoid that.\r\n\r\nAlso, I&#39;m not dead set on using `ProcessBuilder`, any other option is ok.\r\n\r\n----\r\n\r\n**UPDATE** I made some progress following @rzwitserloot answer. The code below works as long as the `inputList` of strings is not too big. However, as anticipated by @rzwitserloot, it locks once `inputList` has ~40000 elements. \r\n\r\nNow I&#39;m stuck again. If I include the line \r\n\r\n```\r\npb.redirectInput(ProcessBuilder.Redirect.INHERIT);\r\n``` \r\n\r\nI get `java.io.IOException: Stream closed`. I tried to implement the other option not using `pb.redirectInput(...)` to no avail.\r\n\r\n```java\r\nList&lt;String&gt; inputList = new ArrayList&lt;String&gt;();\r\nfor(int i = 0; i &lt; 100; i++) {\r\n    // Small input is ok. If i &gt; 50000 it blocks\r\n    inputList.add(&quot;foo&quot;);\r\n    inputList.add(&quot;bar&quot;);\r\n}\r\n\r\nList&lt;String&gt; cmd = new ArrayList&lt;String&gt;();\r\ncmd.add(&quot;grep&quot;);\r\ncmd.add(&quot;foo&quot;);\r\n\r\nProcessBuilder pb = new ProcessBuilder().command(cmd);\r\n// pb.redirectInput(ProcessBuilder.Redirect.INHERIT);\r\nProcess p = pb.start();\r\n\r\nOutputStream stdin = p.getOutputStream();\r\n\r\nint i = 0;\r\nfor(String line : inputList){\r\n    stdin.write(line.getBytes(StandardCharsets.UTF_8));\r\n    stdin.write(&#39;\\n&#39;);\r\n    i++;\r\n    System.err.println(i);\r\n}\r\nstdin.close();\r\n\r\nBufferedReader reader= new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\nString line = &quot;&quot;;\r\nwhile ((line = reader.readLine())!= null) {\r\n    System.err.println(line);\r\n}\r\nreader.close();\r\np.waitFor();\r\n```\r\n\r\n----\r\n\r\n**UPDATE 2** This is far more complex than I thought and I wonder whether I should fall back to the temporary file solution. But let&#39;s try again. \r\n\r\nThe function below is supposed to take a list of strings as input and a system command with its arguments. It returns a list resulting from streaming the input list through the system command. \r\n\r\n```java\r\npublic static ArrayList&lt;String&gt; execSystemCommand(List&lt;String&gt; inputList, List&lt;String&gt; cmd) throws IOException, InterruptedException {\r\n\r\n    ProcessBuilder pb = new ProcessBuilder().command(cmd);\r\n    pb.redirectErrorStream(true); // Do I need this?\r\n    Process p = pb.start();\r\n\r\n    ArrayList&lt;String&gt; results= new ArrayList&lt;String&gt;();\r\n    \r\n    Thread readerThread = new Thread(() -&gt; {\r\n        try {\r\n            try (BufferedReader reader = new BufferedReader(new \r\n                    InputStreamReader(p.getInputStream()))) {\r\n                String line;\r\n                while ((line = reader.readLine()) != null) {\r\n                    results.add(line);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Unhandled&quot;, e);\r\n        }\r\n    });\r\n    readerThread.start();\r\n    \r\n    OutputStream stdin = p.getOutputStream();\r\n\r\n    for(String line : inputList){\r\n        stdin.write(line.getBytes(StandardCharsets.UTF_8));\r\n        stdin.write(&#39;\\n&#39;);\r\n    }\r\n    stdin.close();\r\n    p.waitFor();\r\n    \r\n    return results;\r\n}\r\n```\r\n\r\nand here&#39;s a test case:\r\n\r\n```java\r\n@Test\r\npublic void test() throws IOException, InterruptedException {\r\n    \r\n    // Input list is [foo0, foo1, ..., foo99999]\r\n    List&lt;String&gt; inputList = new ArrayList&lt;String&gt;();\r\n    for(int i = 0; i &lt; 100000; i++) {\r\n        inputList.add(&quot;foo&quot; + i);\r\n    }\r\n    \r\n    List&lt;String&gt; cmd = new ArrayList&lt;String&gt;();\r\n    cmd.add(&quot;grep&quot;);\r\n    cmd.add(&quot;foo&quot;);\r\n\r\n    ArrayList&lt;String&gt; results = Utils.execSystemCommand(inputList, cmd);\r\n    \r\n    System.out.println(&quot;Size:&quot; + results.size());\r\n    System.out.println(&quot;First element:&quot; + results.get(0));\r\n    System.out.println(&quot;Last element:&quot; + results.get(results.size() - 1));\r\n}\r\n```\r\n\r\nI can see an erratic behaviour as on different executions I get different results, for example:\r\n\r\n```\r\nSize:93166\r\nFirst element:foo0\r\nLast element:foo93165\r\n\r\nSize:100000\r\nFirst element:foo0\r\nLast element:foo99999\r\n\r\nSize:93622\r\nFirst element:foo0\r\nLast element:foo96351\r\n```\r\n\r\nSo, still not there.\r\n\r\n---\r\n\r\nFor the record: I&#39;m not using this to run `grep`. Here `grep` is just for example.","title":"ArrayList as stdin to ProcessBuilder","body":"<p>I have a list of strings that I want to stream through system commands via <code>ProcessBuilder</code>; each string is the equivalent of a line of input passed to the system command as <code>stdin</code>. For example, if my list is <code>[&quot;foo&quot; &quot;bar&quot; &quot;spam&quot;]</code>, I'm looking for the rough equivalent of:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo -e &quot;foo\\nbar\\nspam&quot; | grep 'foo'\n</code></pre>\n<p>I don't know how to turn a list of strings to an input suitable for <code>ProcessBuilder</code>. This is some draft code:</p>\n<pre><code>List&lt;String&gt; input = new ArrayList&lt;String&gt;();\ninput.add(&quot;foo&quot;);\ninput.add(&quot;bar&quot;);\ninput.add(&quot;spam&quot;);\n\nList&lt;String&gt; cmd = new ArrayList&lt;String&gt;();\ncmd.add(&quot;grep&quot;);\ncmd.add(&quot;foo&quot;);\n\nProcessBuilder pb = new ProcessBuilder().command(cmd);\n\n// *** Some magic here to pass `input` to ProcessBuilder, like: ***\npb.inputFromList(input);\n\n// Then process and collect output (this I'm ok):\nProcess p= pb.start();\nBufferedReader reader= new BufferedReader(new InputStreamReader(p.getInputStream()));\n// Do something with reader which now contains only &quot;foo&quot;.\n</code></pre>\n<p>I could write the input list to a temporary file first and use that in the system command <code>cmd</code>, but I would prefer to avoid that.</p>\n<p>Also, I'm not dead set on using <code>ProcessBuilder</code>, any other option is ok.</p>\n<hr />\n<p><strong>UPDATE</strong> I made some progress following @rzwitserloot answer. The code below works as long as the <code>inputList</code> of strings is not too big. However, as anticipated by @rzwitserloot, it locks once <code>inputList</code> has ~40000 elements.</p>\n<p>Now I'm stuck again. If I include the line</p>\n<pre><code>pb.redirectInput(ProcessBuilder.Redirect.INHERIT);\n</code></pre>\n<p>I get <code>java.io.IOException: Stream closed</code>. I tried to implement the other option not using <code>pb.redirectInput(...)</code> to no avail.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; inputList = new ArrayList&lt;String&gt;();\nfor(int i = 0; i &lt; 100; i++) {\n    // Small input is ok. If i &gt; 50000 it blocks\n    inputList.add(&quot;foo&quot;);\n    inputList.add(&quot;bar&quot;);\n}\n\nList&lt;String&gt; cmd = new ArrayList&lt;String&gt;();\ncmd.add(&quot;grep&quot;);\ncmd.add(&quot;foo&quot;);\n\nProcessBuilder pb = new ProcessBuilder().command(cmd);\n// pb.redirectInput(ProcessBuilder.Redirect.INHERIT);\nProcess p = pb.start();\n\nOutputStream stdin = p.getOutputStream();\n\nint i = 0;\nfor(String line : inputList){\n    stdin.write(line.getBytes(StandardCharsets.UTF_8));\n    stdin.write('\\n');\n    i++;\n    System.err.println(i);\n}\nstdin.close();\n\nBufferedReader reader= new BufferedReader(new InputStreamReader(p.getInputStream()));\n\nString line = &quot;&quot;;\nwhile ((line = reader.readLine())!= null) {\n    System.err.println(line);\n}\nreader.close();\np.waitFor();\n</code></pre>\n<hr />\n<p><strong>UPDATE 2</strong> This is far more complex than I thought and I wonder whether I should fall back to the temporary file solution. But let's try again.</p>\n<p>The function below is supposed to take a list of strings as input and a system command with its arguments. It returns a list resulting from streaming the input list through the system command.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;String&gt; execSystemCommand(List&lt;String&gt; inputList, List&lt;String&gt; cmd) throws IOException, InterruptedException {\n\n    ProcessBuilder pb = new ProcessBuilder().command(cmd);\n    pb.redirectErrorStream(true); // Do I need this?\n    Process p = pb.start();\n\n    ArrayList&lt;String&gt; results= new ArrayList&lt;String&gt;();\n    \n    Thread readerThread = new Thread(() -&gt; {\n        try {\n            try (BufferedReader reader = new BufferedReader(new \n                    InputStreamReader(p.getInputStream()))) {\n                String line;\n                while ((line = reader.readLine()) != null) {\n                    results.add(line);\n                }\n            }\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Unhandled&quot;, e);\n        }\n    });\n    readerThread.start();\n    \n    OutputStream stdin = p.getOutputStream();\n\n    for(String line : inputList){\n        stdin.write(line.getBytes(StandardCharsets.UTF_8));\n        stdin.write('\\n');\n    }\n    stdin.close();\n    p.waitFor();\n    \n    return results;\n}\n</code></pre>\n<p>and here's a test case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test() throws IOException, InterruptedException {\n    \n    // Input list is [foo0, foo1, ..., foo99999]\n    List&lt;String&gt; inputList = new ArrayList&lt;String&gt;();\n    for(int i = 0; i &lt; 100000; i++) {\n        inputList.add(&quot;foo&quot; + i);\n    }\n    \n    List&lt;String&gt; cmd = new ArrayList&lt;String&gt;();\n    cmd.add(&quot;grep&quot;);\n    cmd.add(&quot;foo&quot;);\n\n    ArrayList&lt;String&gt; results = Utils.execSystemCommand(inputList, cmd);\n    \n    System.out.println(&quot;Size:&quot; + results.size());\n    System.out.println(&quot;First element:&quot; + results.get(0));\n    System.out.println(&quot;Last element:&quot; + results.get(results.size() - 1));\n}\n</code></pre>\n<p>I can see an erratic behaviour as on different executions I get different results, for example:</p>\n<pre><code>Size:93166\nFirst element:foo0\nLast element:foo93165\n\nSize:100000\nFirst element:foo0\nLast element:foo99999\n\nSize:93622\nFirst element:foo0\nLast element:foo96351\n</code></pre>\n<p>So, still not there.</p>\n<hr />\n<p>For the record: I'm not using this to run <code>grep</code>. Here <code>grep</code> is just for example.</p>\n"},{"tags":["java","java-11","agent","instrumentation"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685457545,"post_id":76365938,"comment_id":134660822,"body_markdown":"Does this answer your question? [Java Class cast Exception - Spring boot](https://stackoverflow.com/questions/52385610/java-class-cast-exception-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52385610/java-class-cast-exception-spring-boot\">Java Class cast Exception - Spring boot</a>"},{"owner":{"account_id":2892905,"reputation":41,"user_id":2481257,"display_name":"hotcoder"},"score":0,"creation_date":1685457631,"post_id":76365938,"comment_id":134660843,"body_markdown":"thank you for the suggestions; didn&#39;t resolved it","body":"thank you for the suggestions; didn&#39;t resolved it"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685458304,"post_id":76365938,"comment_id":134661016,"body_markdown":"Please read [How to Ask](https://stackoverflow.com/help/how-to-ask). You should provide complete the [complete error message](https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough) and a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>. You should provide complete the <a href=\"https://meta.stackoverflow.com/questions/359146/why-should-i-post-complete-errors-why-isnt-the-message-itself-enough\">complete error message</a> and a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1685463856,"post_id":76365938,"comment_id":134662369,"body_markdown":"You&#39;re doing something which is not valid anymore in Java 9 and higher. The type of the system classloader changed, so you can&#39;t just cast to URLClassLoader and expect it to work.","body":"You&#39;re doing something which is not valid anymore in Java 9 and higher. The type of the system classloader changed, so you can&#39;t just cast to URLClassLoader and expect it to work."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685526577,"post_id":76365938,"comment_id":134671346,"body_markdown":"@MarkRotteveel to be more precise, this has never been valid at all. It just happened to work in a specific implementation.","body":"@MarkRotteveel to be more precise, this has never been valid at all. It just happened to work in a specific implementation."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685526626,"post_id":76365938,"comment_id":134671361,"body_markdown":"Since this question has been tagged with “agent” and “instrumentation”, an explanation is needed why you don’t use the Instrumentation API but resort to this hack.","body":"Since this question has been tagged with “agent” and “instrumentation”, an explanation is needed why you don’t use the Instrumentation API but resort to this hack."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1685533186,"post_id":76365938,"comment_id":134672681,"body_markdown":"If you use an agent, then just call [Instrumentation.appendToSystemClassLoaderSearch](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch%28java.util.jar.JarFile%29).","body":"If you use an agent, then just call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch%28java.util.jar.JarFile%29\" rel=\"nofollow noreferrer\">Instrumentation.appendToSystemClassLoaderSearch</a>."}],"answers":[{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685550661,"creation_date":1685550661,"answer_id":76375610,"question_id":76365938,"body_markdown":"You you have tagged this question with both [tag:agent] and [tag:instrumentation] - so you may actually be interested in adding a jar to the system class loader from a *javaagent*.\r\n\r\n\r\nThe `Instrumentation` interface already has a supported method to do exactly that: [`Instumentation.appendToSystemClassLoaderSearch`](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch%28java.util.jar.JarFile%29).\r\n\r\nBy using this supported method you avoid all the problems that the reflective solution has - as this method is part of Java, it will be updated to account for any internal changes - preserving its functionality.\r\n","title":"jdk.internal.loader.ClassLoaders$AppClassLoader incompatible with java.net.URLClassLoader (j8 - j11)","body":"<p>You you have tagged this question with both <a href=\"/questions/tagged/agent\" class=\"post-tag\" title=\"show questions tagged &#39;agent&#39;\" aria-label=\"show questions tagged &#39;agent&#39;\" rel=\"tag\" aria-labelledby=\"tag-agent-tooltip-container\">agent</a> and <a href=\"/questions/tagged/instrumentation\" class=\"post-tag\" title=\"show questions tagged &#39;instrumentation&#39;\" aria-label=\"show questions tagged &#39;instrumentation&#39;\" rel=\"tag\" aria-labelledby=\"tag-instrumentation-tooltip-container\">instrumentation</a> - so you may actually be interested in adding a jar to the system class loader from a <em>javaagent</em>.</p>\n<p>The <code>Instrumentation</code> interface already has a supported method to do exactly that: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch%28java.util.jar.JarFile%29\" rel=\"nofollow noreferrer\"><code>Instumentation.appendToSystemClassLoaderSearch</code></a>.</p>\n<p>By using this supported method you avoid all the problems that the reflective solution has - as this method is part of Java, it will be updated to account for any internal changes - preserving its functionality.</p>\n"}],"owner":{"account_id":2892905,"reputation":41,"user_id":2481257,"display_name":"hotcoder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685550661,"creation_date":1685457244,"question_id":76365938,"body_markdown":"I created a custom class to add urls into a class loader dynamically. \r\n\r\n       void addURL(URL url) {\r\n             try {\r\n                 Class&lt;?&gt;[] parameters = new Class[]{URL.class};\r\n                 Class&lt;?&gt; sysclass = URLClassLoader.class;\r\n                 Method method = sysclass.getDeclaredMethod(&quot;addURL&quot;, parameters);\r\n                 method.setAccessible(true);\r\n    \r\n                 URLClassLoader sysloader = (URLClassLoader) (getClass().getClassLoader());\r\n                 while (sysloader != null) {\r\n                     method.invoke(sysloader, url);\r\n                     sysloader = (URLClassLoader) sysloader.getParent();\r\n                 }\r\n             }catch (Exception e) {\r\n                 e.printStackTrace();\r\n             }\r\n              }\r\n\r\nAnd then I&#39;m trying to add the url with the following method \r\n\r\n           \r\n\r\n String filePath = &quot;jar path&quot;;\r\n\r\n    File file = new File(filePath);\r\n    URL url = file.toURI().toURL();\r\n        CustomClassLoader customURLClassLoader = new CustomClassLoader();\r\n        customURLClassLoader.addURL(url);\r\n\r\nI&#39;m getting the following exception \r\n\r\n    java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"jdk.internal.loader.ClassLoaders$AppClassLoader incompatible with java.net.URLClassLoader (j8 - j11)","body":"<p>I created a custom class to add urls into a class loader dynamically.</p>\n<pre><code>   void addURL(URL url) {\n         try {\n             Class&lt;?&gt;[] parameters = new Class[]{URL.class};\n             Class&lt;?&gt; sysclass = URLClassLoader.class;\n             Method method = sysclass.getDeclaredMethod(&quot;addURL&quot;, parameters);\n             method.setAccessible(true);\n\n             URLClassLoader sysloader = (URLClassLoader) (getClass().getClassLoader());\n             while (sysloader != null) {\n                 method.invoke(sysloader, url);\n                 sysloader = (URLClassLoader) sysloader.getParent();\n             }\n         }catch (Exception e) {\n             e.printStackTrace();\n         }\n          }\n</code></pre>\n<p>And then I'm trying to add the url with the following method</p>\n<p>String filePath = &quot;jar path&quot;;</p>\n<pre><code>File file = new File(filePath);\nURL url = file.toURI().toURL();\n    CustomClassLoader customURLClassLoader = new CustomClassLoader();\n    customURLClassLoader.addURL(url);\n</code></pre>\n<p>I'm getting the following exception</p>\n<pre><code>java.lang.ClassCastException: class jdk.internal.loader.ClassLoaders$AppClassLoader cannot be cast to class java.net.URLClassLoader (jdk.internal.loader.ClassLoaders$AppClassLoader and java.net.URLClassLoader are in module java.base of loader 'bootstrap')\n</code></pre>\n"},{"tags":["java","web-scraping","jsonobjectrequest"],"owner":{"account_id":23608480,"reputation":73,"user_id":17643850,"display_name":"NewbieBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685549839,"creation_date":1685549839,"question_id":76375507,"body_markdown":"I&#39;m writing code to scrape data from a historical website. Below is an example of a function that scrapes the information of a historical place, based on a table on the Wiki. The problem here is that when I save the data one by one, and print out the check, everything is the way I want it to be. Here is the tag for the header\r\n```\r\n        List&lt;String&gt; header = new ArrayList&lt;String&gt;();\r\n        header.add(&quot;Tag 1&quot;);\r\n        header.add(&quot;Tag 2&quot;);\r\n        header.add(&quot;Tag 3&quot;);\r\n        header.add(&quot;Tag 4&quot;);\r\n```\r\nI tried printing it like this and the results were *infoItem* exactly what I wanted\r\n\r\n```\r\nSystem.out.println(header.get(index) + &quot;.  &quot; + infoItem);\r\n// Below is the output\r\nTag 1.  {&quot;name&quot;:&quot;Trần Ph&#225;n, Đầm Dơi&quot;,&quot;url&quot;:&quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;}\r\nTag 2.  {&quot;name&quot;:&quot;Lịch sử&quot;,&quot;url&quot;:&quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;}\r\nTag 3.  {&quot;name&quot;:&quot;2016&quot;,&quot;url&quot;:&quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;}\r\nTag 4.  {&quot;name&quot;:&quot;&quot;,&quot;url&quot;:&quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;}\r\n```\r\nHere is the part of code to scrape: \r\n```\r\n        JSONObject info = new JSONObject();\r\n        Elements tr = doc.select(&quot; table.wikitable &gt; tbody &gt; tr&quot;);\r\n        if (tr.size() &gt; 0) {\r\n            for (Element element : tr) {\r\n                JSONObject infoItem = new JSONObject();\r\n                Elements dataCells = element.select(&quot;td:not(:first-child)&quot;);\r\n                int index = 0;\r\n                for (Element dataCell : dataCells) {\r\n                    if (index &gt;= header.size()){\r\n                        break;\r\n                    }\r\n                    Element urlConnect = dataCell.selectFirst(&quot;a&quot;);\r\n                    infoItem.put(&quot;name&quot;, dataCell.text());\r\n                    if (urlConnect != null) {\r\n                        infoItem.put(&quot;url&quot;, urlConnect.attr(&quot;href&quot;));\r\n                    }\r\n                    info.put(header.get(index), infoItem);\r\n                    index++;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(info);\r\n    }\r\n```\r\nHere is *info* when I put all *infoItem* in with *info* :\r\n```\r\n{\r\n  &quot;Tag 3&quot;: {\r\n    &quot;name&quot;: &quot;&quot;,\r\n    &quot;url&quot;: &quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;\r\n  },\r\n  &quot;Tag 2&quot;: {\r\n    &quot;name&quot;: &quot;&quot;,\r\n    &quot;url&quot;: &quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;\r\n  },\r\n  &quot;Tag 4&quot;: {\r\n    &quot;name&quot;: &quot;&quot;,\r\n    &quot;url&quot;: &quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;\r\n  },\r\n  &quot;Tag 1&quot;: {\r\n    &quot;name&quot;: &quot;&quot;,\r\n    &quot;url&quot;: &quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;\r\n  }\r\n}\r\n```\r\nTemporarily ignore the *url* because I know how to handle it. I want to ask why my name tag is missing information.","title":"Missing data when putting into JSONObject","body":"<p>I'm writing code to scrape data from a historical website. Below is an example of a function that scrapes the information of a historical place, based on a table on the Wiki. The problem here is that when I save the data one by one, and print out the check, everything is the way I want it to be. Here is the tag for the header</p>\n<pre><code>        List&lt;String&gt; header = new ArrayList&lt;String&gt;();\n        header.add(&quot;Tag 1&quot;);\n        header.add(&quot;Tag 2&quot;);\n        header.add(&quot;Tag 3&quot;);\n        header.add(&quot;Tag 4&quot;);\n</code></pre>\n<p>I tried printing it like this and the results were <em>infoItem</em> exactly what I wanted</p>\n<pre><code>System.out.println(header.get(index) + &quot;.  &quot; + infoItem);\n// Below is the output\nTag 1.  {&quot;name&quot;:&quot;Trần Phán, Đầm Dơi&quot;,&quot;url&quot;:&quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;}\nTag 2.  {&quot;name&quot;:&quot;Lịch sử&quot;,&quot;url&quot;:&quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;}\nTag 3.  {&quot;name&quot;:&quot;2016&quot;,&quot;url&quot;:&quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;}\nTag 4.  {&quot;name&quot;:&quot;&quot;,&quot;url&quot;:&quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;}\n</code></pre>\n<p>Here is the part of code to scrape:</p>\n<pre><code>        JSONObject info = new JSONObject();\n        Elements tr = doc.select(&quot; table.wikitable &gt; tbody &gt; tr&quot;);\n        if (tr.size() &gt; 0) {\n            for (Element element : tr) {\n                JSONObject infoItem = new JSONObject();\n                Elements dataCells = element.select(&quot;td:not(:first-child)&quot;);\n                int index = 0;\n                for (Element dataCell : dataCells) {\n                    if (index &gt;= header.size()){\n                        break;\n                    }\n                    Element urlConnect = dataCell.selectFirst(&quot;a&quot;);\n                    infoItem.put(&quot;name&quot;, dataCell.text());\n                    if (urlConnect != null) {\n                        infoItem.put(&quot;url&quot;, urlConnect.attr(&quot;href&quot;));\n                    }\n                    info.put(header.get(index), infoItem);\n                    index++;\n                }\n            }\n        }\n        System.out.println(info);\n    }\n</code></pre>\n<p>Here is <em>info</em> when I put all <em>infoItem</em> in with <em>info</em> :</p>\n<pre><code>{\n  &quot;Tag 3&quot;: {\n    &quot;name&quot;: &quot;&quot;,\n    &quot;url&quot;: &quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;\n  },\n  &quot;Tag 2&quot;: {\n    &quot;name&quot;: &quot;&quot;,\n    &quot;url&quot;: &quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;\n  },\n  &quot;Tag 4&quot;: {\n    &quot;name&quot;: &quot;&quot;,\n    &quot;url&quot;: &quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;\n  },\n  &quot;Tag 1&quot;: {\n    &quot;name&quot;: &quot;&quot;,\n    &quot;url&quot;: &quot;/wiki/%C4%90%E1%BA%A7m_D%C6%A1i&quot;\n  }\n}\n</code></pre>\n<p>Temporarily ignore the <em>url</em> because I know how to handle it. I want to ask why my name tag is missing information.</p>\n"},{"tags":["java","intellij-idea","suppress-warnings"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1685549761,"post_id":76375473,"comment_id":134676921,"body_markdown":"Well, one option is to wrap it in a proxy class in your project and use only that. How hard that is will depend on the number of methods and fields and how it is used.","body":"Well, one option is to wrap it in a proxy class in your project and use only that. How hard that is will depend on the number of methods and fields and how it is used."},{"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"score":0,"creation_date":1685550297,"post_id":76375473,"comment_id":134677033,"body_markdown":"It would be pretty hard in my case because I have to pass objects of the deprecated class into library code, and because the class is final I would not be able to create a drop-in replacement and simply change imports. I would have to do a massive refactoring which I don&#39;t want to do for a cosmetic issue.","body":"It would be pretty hard in my case because I have to pass objects of the deprecated class into library code, and because the class is final I would not be able to create a drop-in replacement and simply change imports. I would have to do a massive refactoring which I don&#39;t want to do for a cosmetic issue."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1685551978,"post_id":76375473,"comment_id":134677397,"body_markdown":"Yes, that is one of the situations where this will be tricky. You&#39;d have to unwrap the proxy to pass the original back to the library.","body":"Yes, that is one of the situations where this will be tricky. You&#39;d have to unwrap the proxy to pass the original back to the library."}],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1685549542,"creation_date":1685549542,"question_id":76375473,"body_markdown":"My project depends on a library that deprecated a **final** class. It&#39;s hard to migrate to a substitute class and we don&#39;t have time to do it now. At the same time, I don&#39;t like it when there are a lot of warnings in my code, so I would like to suppress warnings for which I made a decision to not fix them right now. However, I would like to still know about all other deprecated classes. Ideally, I would like to do it project-wide. I could not find a way to do it in Java.\r\n\r\nI&#39;m using IntelliJ IDEA. Maybe it&#39;s possible to achieve this in it?","title":"Is there a way to suppress deprecation warnings about a specific final class in Java?","body":"<p>My project depends on a library that deprecated a <strong>final</strong> class. It's hard to migrate to a substitute class and we don't have time to do it now. At the same time, I don't like it when there are a lot of warnings in my code, so I would like to suppress warnings for which I made a decision to not fix them right now. However, I would like to still know about all other deprecated classes. Ideally, I would like to do it project-wide. I could not find a way to do it in Java.</p>\n<p>I'm using IntelliJ IDEA. Maybe it's possible to achieve this in it?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685539353,"post_id":76373915,"comment_id":134674244,"body_markdown":"What are the expected and actual outputs?","body":"What are the expected and actual outputs?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1685539357,"post_id":76373915,"comment_id":134674246,"body_markdown":"Pls take some time to format the code","body":"Pls take some time to format the code"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1685539531,"post_id":76373915,"comment_id":134674290,"body_markdown":"What is not working? Your description talks about process name. But your code just checks for the presence of the same key between the two maps. In a way, the output from your code matches your intended output. But the approach sounds wrong. Maybe you should check the position or index or the whatever the second column is when comparing?","body":"What is not working? Your description talks about process name. But your code just checks for the presence of the same key between the two maps. In a way, the output from your code matches your intended output. But the approach sounds wrong. Maybe you should check the position or index or the whatever the second column is when comparing?"},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1685539795,"post_id":76373915,"comment_id":134674353,"body_markdown":"in hashmaps keys will be the address of file process eg: output1={ b3ec5000-b3ed4000=/lib/libm-2.31.so, b3ee7000-b3ee8000=/lib/libm-2.31.so} output2={{b3e74000-b3ec5000=/lib/libm-2.31.so, b3ec5000-b3ed4000=/lib/libm-2.31.so}, i want to compare the keys of same index positions of two maps are not equal. In real case in output2 expecting a change in the memory address of file process","body":"in hashmaps keys will be the address of file process eg: output1={ b3ec5000-b3ed4000=/lib/libm-2.31.so, b3ee7000-b3ee8000=/lib/libm-2.31.so} output2={{b3e74000-b3ec5000=/lib/libm-2.31.so, b3ec5000-b3ed4000=/lib/libm-2.31.so}, i want to compare the keys of same index positions of two maps are not equal. In real case in output2 expecting a change in the memory address of file process"},{"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"score":0,"creation_date":1685540311,"post_id":76373915,"comment_id":134674487,"body_markdown":"@Thiyagu yes i want to compare the key&#39;s on two maps based on the index position only...in my current code, checking any of the first map key is present in second map keyset. not based on index position..but bit worried how it can be with hashmap","body":"@Thiyagu yes i want to compare the key&#39;s on two maps based on the index position only...in my current code, checking any of the first map key is present in second map keyset. not based on index position..but bit worried how it can be with hashmap"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1685540739,"post_id":76373915,"comment_id":134674597,"body_markdown":"So the last column doesn&#39;t matter (`/lib/libm-2.31.so`) and only want to check if the value in the first column is same in two outputs?","body":"So the last column doesn&#39;t matter (<code>&#47;lib&#47;libm-2.31.so</code>) and only want to check if the value in the first column is same in two outputs?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685549238,"creation_date":1685549238,"answer_id":76375428,"question_id":76373915,"body_markdown":"It may be best to use a `Map&lt;String, List&lt;String&gt;` where the key is the filename with an index appended to it and the List holds the memory addresses for each file. And using `LinkedHashMap` (as you did) is required to preserve order of entry.\r\n\r\n```\r\n String output1 = &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n         + &quot;b3ec5000-b3ed4000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n         + &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n         + &quot;b3ed5000-b3ed6000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\r\n\r\n String output2 = &quot;\\r\\n&quot;\r\n         + &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n         + &quot;b3ed8000-b3ee7000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n         + &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n         + &quot;b3ee8000-b3ee9000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\r\n Map&lt;String, List&lt;String&gt;&gt; map = getMemoryAddressWithFileName(new String[] {output1,\r\n         output2});\r\n \r\n for (Entry&lt;String,List&lt;String&gt;&gt; e : map.entrySet()) {\r\n     String mem1 = e.getValue().get(0);\r\n     String mem2 = e.getValue().get(1);\r\n\r\n     System.out.printf(&quot;File: %s - &#39;%s&#39; and &#39;%s&#39; are %s%n&quot;,\r\n        e.getKey(), mem1,  mem2, mem1.equals(mem2) ? &quot;equal&quot; : &quot;not equal&quot;); \r\n }\r\n```\r\nprints\r\n```\r\nFile: /lib/libm-2.31.so#1 - &#39;b3e74000-b3ec5000&#39; and &#39;b3e74000-b3ec5000&#39; are equal\r\nFile: /lib/libm-2.31.so#2 - &#39;b3ec5000-b3ed4000&#39; and &#39;b3ed8000-b3ee7000&#39; are not equal\r\nFile: /lib/libm-2.31.so#3 - &#39;b3ee7000-b3ee8000&#39; and &#39;b3ee7000-b3ee8000&#39; are equal\r\nFile: /lib/libm-2.31.so#4 - &#39;b3ed5000-b3ed6000&#39; and &#39;b3ee8000-b3ee9000&#39; are not equal\r\n```\r\nThis method returns a `Map&lt;String, List&lt;String&gt;`\r\n- it takes an array of two response strings as an argument.\r\n- The Scanner is used to read from the string, taking advantage of the end of line delimiter.\r\n- The `keyIndex` is used to alter the file names to act as unique keys.\r\n\r\nThe process is like this.\r\n\r\n- for each line, split on the spaces followed by a leading slash\r\n- the key is the file name appended with &quot;#n&quot; where `n` is the incremented keyIndex\r\n- the value is memory address and is entered into a list. [computeIfAbsent](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)) makes this easy.  Check the JavaDoc link for details.\r\n- then return and process the map.\r\n```\r\npublic static Map&lt;String, List&lt;String&gt;&gt; getMemoryAddressWithFileName(\r\n        String[] responses) {\r\n   \r\n    Map&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\r\n    for (String response : responses) {\r\n        Scanner s = new Scanner(response);\r\n        int keyIndex = 1;\r\n        while (s.hasNextLine()) {\r\n            String[] subs = s.nextLine().split(&quot;\\\\s+(?=/)&quot;);\r\n            if (subs.length &gt; 1) {  // to take care of lone \\r\\n\r\n                String key = subs[1] + &quot;#&quot; + keyIndex++;\r\n                map.computeIfAbsent(key, v -&gt; new ArrayList&lt;&gt;())\r\n                        .add(subs[0].substring(0, subs[0].indexOf(&quot; &quot;)));\r\n            }\r\n        }\r\n    }\r\n    return map;\r\n}\r\n","title":"Compare two map keys in same index position","body":"<p>It may be best to use a <code>Map&lt;String, List&lt;String&gt;</code> where the key is the filename with an index appended to it and the List holds the memory addresses for each file. And using <code>LinkedHashMap</code> (as you did) is required to preserve order of entry.</p>\n<pre><code> String output1 = &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n         + &quot;b3ec5000-b3ed4000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n         + &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n         + &quot;b3ed5000-b3ed6000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\n\n String output2 = &quot;\\r\\n&quot;\n         + &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n         + &quot;b3ed8000-b3ee7000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n         + &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n         + &quot;b3ee8000-b3ee9000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\n Map&lt;String, List&lt;String&gt;&gt; map = getMemoryAddressWithFileName(new String[] {output1,\n         output2});\n \n for (Entry&lt;String,List&lt;String&gt;&gt; e : map.entrySet()) {\n     String mem1 = e.getValue().get(0);\n     String mem2 = e.getValue().get(1);\n\n     System.out.printf(&quot;File: %s - '%s' and '%s' are %s%n&quot;,\n        e.getKey(), mem1,  mem2, mem1.equals(mem2) ? &quot;equal&quot; : &quot;not equal&quot;); \n }\n</code></pre>\n<p>prints</p>\n<pre><code>File: /lib/libm-2.31.so#1 - 'b3e74000-b3ec5000' and 'b3e74000-b3ec5000' are equal\nFile: /lib/libm-2.31.so#2 - 'b3ec5000-b3ed4000' and 'b3ed8000-b3ee7000' are not equal\nFile: /lib/libm-2.31.so#3 - 'b3ee7000-b3ee8000' and 'b3ee7000-b3ee8000' are equal\nFile: /lib/libm-2.31.so#4 - 'b3ed5000-b3ed6000' and 'b3ee8000-b3ee9000' are not equal\n</code></pre>\n<p>This method returns a <code>Map&lt;String, List&lt;String&gt;</code></p>\n<ul>\n<li>it takes an array of two response strings as an argument.</li>\n<li>The Scanner is used to read from the string, taking advantage of the end of line delimiter.</li>\n<li>The <code>keyIndex</code> is used to alter the file names to act as unique keys.</li>\n</ul>\n<p>The process is like this.</p>\n<ul>\n<li>for each line, split on the spaces followed by a leading slash</li>\n<li>the key is the file name appended with &quot;#n&quot; where <code>n</code> is the incremented keyIndex</li>\n<li>the value is memory address and is entered into a list. <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">computeIfAbsent</a> makes this easy.  Check the JavaDoc link for details.</li>\n<li>then return and process the map.</li>\n</ul>\n<pre><code>public static Map&lt;String, List&lt;String&gt;&gt; getMemoryAddressWithFileName(\n        String[] responses) {\n   \n    Map&lt;String, List&lt;String&gt;&gt; map = new LinkedHashMap&lt;&gt;();\n    for (String response : responses) {\n        Scanner s = new Scanner(response);\n        int keyIndex = 1;\n        while (s.hasNextLine()) {\n            String[] subs = s.nextLine().split(&quot;\\\\s+(?=/)&quot;);\n            if (subs.length &gt; 1) {  // to take care of lone \\r\\n\n                String key = subs[1] + &quot;#&quot; + keyIndex++;\n                map.computeIfAbsent(key, v -&gt; new ArrayList&lt;&gt;())\n                        .add(subs[0].substring(0, subs[0].indexOf(&quot; &quot;)));\n            }\n        }\n    }\n    return map;\n}\n</code></pre>\n"}],"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76375428,"answer_count":1,"score":-1,"last_activity_date":1685549238,"creation_date":1685538948,"question_id":76373915,"body_markdown":"Iam checking the memory address of file process are changed in second o/p\r\n\r\nHere in second o/p, the address of file process 3rd /lib/libm-2.31.so is not changed. it is still same as that of first address b3ee7000-b3ee8000.\r\n\r\nSimilarly second  o/p, the address of file process ist  /lib/libm-2.31.so is not changed . it is still b3e74000-b3ec5000\r\n\t\r\nHow can i validate this using java Hashmap.\r\nI did comparisons but not working\r\n\t\r\n```\r\n\r\n    String output1 = &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n    \t\t+ &quot;b3ec5000-b3ed4000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n    \t\t+ &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n    \t\t+ &quot;b3ed5000-b3ed6000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\r\n\r\n\r\n```\r\n\r\nSecond o/p\t\r\n\r\n\t```\r\n\t\tString output2 = &quot;\\r\\n&quot;\r\n\t\t+ &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ed8000-b3ee7000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ee8000-b3ee9000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\r\n ```\r\n\r\n\r\n\t\r\n\t\r\n\tcode part\r\n\t\r\n\t\r\n\r\n public static void main(String[] args) throws IOException {\r\n\t\r\n\tString output1 = &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ec5000-b3ed4000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ed5000-b3ed6000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\r\n\r\n\tMap&lt;String, String&gt; firstoutput = getMemoryAddressWithFileName(output1);\r\n\r\n\tSystem.out.println(&quot;firstoutput&quot; + firstoutput);\r\n\r\n\tString output2 = &quot;\\r\\n&quot;\r\n\t\t+ &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ed8000-b3ee7000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\r\n\t\t+ &quot;b3ee8000-b3ee9000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\r\n\r\n\tMap&lt;String, String&gt; secoutput = getMemoryAddressWithFileName(output2);\r\n\tSystem.out.println(&quot;secoutput&quot; + firstoutput);\r\n\r\n\tfor (Map.Entry&lt;String, String&gt; foentry : firstoutput.entrySet()) {\r\n\t    String foKey = foentry.getKey();\r\n\t    for (Map.Entry&lt;String, String&gt; soEntry : secoutput.entrySet()) {\r\n\t\tString soKey = soEntry.getKey();\r\n\t\tString soValue = soEntry.getValue();\r\n\t\tif (soKey.equals(foKey) /* &amp;&amp; !soValue.contains(&quot;[&quot;) */) {\r\n\t\t    System.out.println( Memory address of virtual file process &quot; + soValue\r\n\t\t\t    + &quot;is not changed. Memoery address if first execution is: &quot; + foKey\r\n\t\t\t    + &quot; Memory address of second execution is: &quot; + soKey);\r\n\t\t \r\n\r\n\t\t}\r\n\t    }\r\n\t}\r\n    }\r\n public static Map&lt;String, String&gt; getMemoryAddressWithFileName(String response) throws IOException {\r\n\r\n\tReader inputString = new StringReader(response);\r\n\tBufferedReader reader = new BufferedReader(inputString);\r\n\tMap&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\r\n\tString[] processValues = null;\r\n\tString line = null;\r\n\t\tif (response != null) {\r\n\t    while ((line = reader.readLine()) != null) {\r\n\t\t// System.out.println(line);\r\n\t\tprocessValues = line.split(&quot; +&quot;, 6);\r\n\t\t// System.out.println(strings.length);\r\n\t\tif (6 == processValues.length) {\r\n\r\n\t\t    map.put(processValues[0], processValues[5]);\r\n\t\t}\r\n\t    }\r\n\t}\r\n\t// .out.println(map);\r\n\treturn map;\r\n\r\n    }\t\r\n    \t","title":"Compare two map keys in same index position","body":"<p>Iam checking the memory address of file process are changed in second o/p</p>\n<p>Here in second o/p, the address of file process 3rd /lib/libm-2.31.so is not changed. it is still same as that of first address b3ee7000-b3ee8000.</p>\n<p>Similarly second  o/p, the address of file process ist  /lib/libm-2.31.so is not changed . it is still b3e74000-b3ec5000</p>\n<p>How can i validate this using java Hashmap.\nI did comparisons but not working</p>\n<pre><code>\n    String output1 = &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n            + &quot;b3ec5000-b3ed4000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n            + &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n            + &quot;b3ed5000-b3ed6000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\n\n\n</code></pre>\n<p>Second o/p</p>\n<pre><code>```\n    String output2 = &quot;\\r\\n&quot;\n    + &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n    + &quot;b3ed8000-b3ee7000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n    + &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n    + &quot;b3ee8000-b3ee9000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\n</code></pre>\n<pre><code>\n\n   \n   \n   code part\n   \n   \n\npublic static void main(String[] args) throws IOException {\n   \n   String output1 = &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n       + &quot;b3ec5000-b3ed4000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n       + &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n       + &quot;b3ed5000-b3ed6000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\n\n   Map&lt;String, String&gt; firstoutput = getMemoryAddressWithFileName(output1);\n\n   System.out.println(&quot;firstoutput&quot; + firstoutput);\n\n   String output2 = &quot;\\r\\n&quot;\n       + &quot;b3e74000-b3ec5000 r-xp 00000000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n       + &quot;b3ed8000-b3ee7000 ---p 00051000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n       + &quot;b3ee7000-b3ee8000 r--p 00050000 fb:00 1653       /lib/libm-2.31.so\\r\\n&quot;\n       + &quot;b3ee8000-b3ee9000 rw-p 00051000 fb:00 1653       /lib/libm-2.31.so&quot;;\n\n   Map&lt;String, String&gt; secoutput = getMemoryAddressWithFileName(output2);\n   System.out.println(&quot;secoutput&quot; + firstoutput);\n\n   for (Map.Entry&lt;String, String&gt; foentry : firstoutput.entrySet()) {\n       String foKey = foentry.getKey();\n       for (Map.Entry&lt;String, String&gt; soEntry : secoutput.entrySet()) {\n       String soKey = soEntry.getKey();\n       String soValue = soEntry.getValue();\n       if (soKey.equals(foKey) /* &amp;&amp; !soValue.contains(&quot;[&quot;) */) {\n           System.out.println( Memory address of virtual file process &quot; + soValue\n               + &quot;is not changed. Memoery address if first execution is: &quot; + foKey\n               + &quot; Memory address of second execution is: &quot; + soKey);\n        \n\n       }\n       }\n   }\n   }\npublic static Map&lt;String, String&gt; getMemoryAddressWithFileName(String response) throws IOException {\n\n   Reader inputString = new StringReader(response);\n   BufferedReader reader = new BufferedReader(inputString);\n   Map&lt;String, String&gt; map = new LinkedHashMap&lt;&gt;();\n   String[] processValues = null;\n   String line = null;\n       if (response != null) {\n       while ((line = reader.readLine()) != null) {\n       // System.out.println(line);\n       processValues = line.split(&quot; +&quot;, 6);\n       // System.out.println(strings.length);\n       if (6 == processValues.length) {\n\n           map.put(processValues[0], processValues[5]);\n       }\n       }\n   }\n   // .out.println(map);\n   return map;\n\n   }   \n       \n</code></pre>\n"},{"tags":["java","excel","sorting","apache-poi","pivot-table"],"comments":[{"owner":{"account_id":3703110,"reputation":3347,"user_id":3082272,"accept_rate":50,"display_name":"bobbel"},"score":0,"creation_date":1579876170,"post_id":38470735,"comment_id":105924074,"body_markdown":"I&#39;ve the same question, how to automatically sort the data of a pivot table? Do you already have a solution for this?","body":"I&#39;ve the same question, how to automatically sort the data of a pivot table? Do you already have a solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":19114267,"reputation":146,"user_id":14444537,"display_name":"Sjoerd Hemminga"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1602629585,"creation_date":1602629585,"answer_id":64344240,"question_id":38470735,"body_markdown":"It is possible to sort the data in the pivot table, though you have to use the CT-classes and probably need to include another dependency.\r\n\r\nTo sort by the first column in ascending order:\r\n\r\n``` lang-java\r\nint indexOfSortColumn = 0;\r\npivotTable.getCTPivotTableDefinition()\r\n    .getPivotFields()\r\n    .getPivotFieldArray(indexOfSortColumn)\r\n    .setSortType(STFieldSortType.ASCENDING);\r\n```\r\n\r\n`indexOfSortColumn` is the index in the input area.\r\n\r\nIf your compiler can&#39;t find STFieldSortType, you&#39;ll need to replace your dependency on `org.apache.poi:poi-ooxml-schemas` with a dependency on `org.apache.poi:ooxml-schemas`. `ooxml-schemas` and `poi-ooxml-schemas` both contain the XML model for OOXML documents, but the latter is slimmed down.","title":"How do you sort Pivot Table Data using the Apache POI library in Java","body":"<p>It is possible to sort the data in the pivot table, though you have to use the CT-classes and probably need to include another dependency.</p>\n<p>To sort by the first column in ascending order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int indexOfSortColumn = 0;\npivotTable.getCTPivotTableDefinition()\n    .getPivotFields()\n    .getPivotFieldArray(indexOfSortColumn)\n    .setSortType(STFieldSortType.ASCENDING);\n</code></pre>\n<p><code>indexOfSortColumn</code> is the index in the input area.</p>\n<p>If your compiler can't find STFieldSortType, you'll need to replace your dependency on <code>org.apache.poi:poi-ooxml-schemas</code> with a dependency on <code>org.apache.poi:ooxml-schemas</code>. <code>ooxml-schemas</code> and <code>poi-ooxml-schemas</code> both contain the XML model for OOXML documents, but the latter is slimmed down.</p>\n"},{"tags":[],"owner":{"account_id":10868953,"reputation":81,"user_id":7991462,"display_name":"Constantine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685548648,"creation_date":1685548648,"answer_id":76375355,"question_id":38470735,"body_markdown":"I someone come by searching for how to sort pivot by values instead of rows:\r\n```\r\n// I reproduced this by comparing pivot table XMLs before and after sorting\r\nvar reference = pivotTable.ctPivotTableDefinition\r\n    .pivotFields.getPivotFieldArray(rowLabelColumn)\r\n    .addNewAutoSortScope()\r\n    .addNewPivotArea()\r\n    .addNewReferences()\r\n    .addNewReference()\r\n\r\n// I have no idea what these constants are for\r\nreference.field = 4294967294\r\nreference.addNewX().v = 0\r\n```","title":"How do you sort Pivot Table Data using the Apache POI library in Java","body":"<p>I someone come by searching for how to sort pivot by values instead of rows:</p>\n<pre><code>// I reproduced this by comparing pivot table XMLs before and after sorting\nvar reference = pivotTable.ctPivotTableDefinition\n    .pivotFields.getPivotFieldArray(rowLabelColumn)\n    .addNewAutoSortScope()\n    .addNewPivotArea()\n    .addNewReferences()\n    .addNewReference()\n\n// I have no idea what these constants are for\nreference.field = 4294967294\nreference.addNewX().v = 0\n</code></pre>\n"}],"owner":{"account_id":8852273,"reputation":838,"user_id":6611088,"accept_rate":78,"display_name":"Josh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1579,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64344240,"answer_count":2,"score":3,"last_activity_date":1685548648,"creation_date":1468976409,"question_id":38470735,"body_markdown":"Is it possible to sort XSSFPivotTable data using Apache POI in Java? Currently I am able to create a pivot table, assign a labels, and add aggregate functions but no luck with the data sorting. Currently my Java code is as follows:\r\n\r\n    public XSSFSheet createPivotTable (XSSFSheet datasht, XSSFSheet destinationsheet) {\r\n        XSSFPivotTable pivotTable = destinationsheet.createPivotTable(new AreaReference(&quot;$A:$AV&quot;), new CellReference(&quot;A1&quot;), datasht);\r\n        pivotTable.addRowLabel(0);\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.MIN, 25);\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.MIN, 24);\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.MIN, 46);\r\n        pivotTable.addColumnLabel(DataConsolidateFunction.MIN, 47);\r\n        /*\r\n        Insert code to sort pivot table data in ascending order here\r\n        */\r\n        return destinationsheet;\r\n    }\r\nDoes anyone out there know how to access the sorting functionality of the XSSFPivotTable or know if this is even possible?\r\n\r\nAnother option I have looked at is to have a template excel file with a pre-existing pivot table configured how I want (including sorting) which is linked to a named range in excel. Then simply update the named range in my template file with new data every time my Java code is executed.\r\n\r\nHowever the excel pivot table is a strange beast indeed and when you save your &quot;template&quot; excel document as a new file, the pivot table area reference always updates to be absolute, i.e. =OLDFILENAME.xlsx!pivotdatarange as opposed to =NAMEFILENAME.xlsx!pivotdatarange.\r\n\r\nSo my question for this option would be is it possible to modify the area reference of an existing pivot table in excel?\r\n\r\nCheers,\r\n\r\nJosh","title":"How do you sort Pivot Table Data using the Apache POI library in Java","body":"<p>Is it possible to sort XSSFPivotTable data using Apache POI in Java? Currently I am able to create a pivot table, assign a labels, and add aggregate functions but no luck with the data sorting. Currently my Java code is as follows:</p>\n\n<pre><code>public XSSFSheet createPivotTable (XSSFSheet datasht, XSSFSheet destinationsheet) {\n    XSSFPivotTable pivotTable = destinationsheet.createPivotTable(new AreaReference(\"$A:$AV\"), new CellReference(\"A1\"), datasht);\n    pivotTable.addRowLabel(0);\n    pivotTable.addColumnLabel(DataConsolidateFunction.MIN, 25);\n    pivotTable.addColumnLabel(DataConsolidateFunction.MIN, 24);\n    pivotTable.addColumnLabel(DataConsolidateFunction.MIN, 46);\n    pivotTable.addColumnLabel(DataConsolidateFunction.MIN, 47);\n    /*\n    Insert code to sort pivot table data in ascending order here\n    */\n    return destinationsheet;\n}\n</code></pre>\n\n<p>Does anyone out there know how to access the sorting functionality of the XSSFPivotTable or know if this is even possible?</p>\n\n<p>Another option I have looked at is to have a template excel file with a pre-existing pivot table configured how I want (including sorting) which is linked to a named range in excel. Then simply update the named range in my template file with new data every time my Java code is executed.</p>\n\n<p>However the excel pivot table is a strange beast indeed and when you save your \"template\" excel document as a new file, the pivot table area reference always updates to be absolute, i.e. =OLDFILENAME.xlsx!pivotdatarange as opposed to =NAMEFILENAME.xlsx!pivotdatarange.</p>\n\n<p>So my question for this option would be is it possible to modify the area reference of an existing pivot table in excel?</p>\n\n<p>Cheers,</p>\n\n<p>Josh</p>\n"},{"tags":["java","spring","jetty"],"owner":{"account_id":3020430,"reputation":909,"user_id":3176108,"display_name":"Raghu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685548426,"creation_date":1685547945,"question_id":76375255,"body_markdown":"We have a Jetty Application which supports JAX RS using Apache CXF and also Spring Controllers. The Jetty server is configured to create a Spring Application Context and also  initialize a Dispatcher Servlet during startup,\r\n\r\n```Java\r\nServletContextHandler context = new ServletContextHandler(ServletContextHandler.SECURITY);\r\n....\r\ncontext.addEventListener(new ContextLoaderListener());\r\n\t\tcontext.setInitParameter(&quot;contextConfigLocation&quot;,\r\n\t\t\t\t&quot;classpath:/webapp/WEB-INF/spring/applicationContext.xml&quot;);\r\n...\r\nServletHolder cxfServlet = context.addServlet(CXFServlet.class,\r\n\t\t\t\t&quot;/services/*&quot;);\r\n\t\tcxfServlet.setInitOrder(1);\r\n\t\t\r\n\t\tServletHolder mvcServlet = context.addServlet(DispatcherServlet.class,\r\n\t\t\t\t&quot;/controller/*&quot;);\r\n\t\tmvcServlet.setInitOrder(1);\r\n\t\tmvcServlet.setInitParameter(&quot;contextConfigLocation&quot;, &quot;classpath:*/webapp/WEB-INF/spring/webContext.xml&quot;);\r\n```\r\nThe Jetty Server starts without any issue in IDE but when I try to run the shaded jar it fails with the following exception,\r\n\r\n```\r\n2023-May-31 17:06:39 PM [main] ERROR org.springframework.web.servlet.DispatcherServlet - Context initialization failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Could not resolve bean definition resource pattern [classpath:*/webapp/WEB-INF/spring/webContext.xml]; nested exception is java.io.FileNotFoundException: class path resource [] cannot be resolved to URL because it does not exist\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:234) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:638) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530) ~[jetty-shaded.jar:?]\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170) ~[jetty-shaded.jar:?]\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:244) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750) ~[jetty-shaded.jar:?]\r\n\tat java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[?:1.8.0_275]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483) ~[?:1.8.0_275]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_275]\r\n\tat java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:313) ~[?:1.8.0_275]\r\n\tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[?:1.8.0_275]\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647) ~[?:1.8.0_275]\r\n\tat org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.server.Server.start(Server.java:423) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-shaded.jar:?]\r\n\tat org.eclipse.jetty.server.Server.doStart(Server.java:387) ~[jetty-shaded.jar:?]\r\n```\r\n\r\nThe webContext.xml is not configured in the Classpath and so the above exception makes sense. But Why did it not occur in the IDE?\r\n\r\nFrom the Trace Logs I can find a difference in how Spring tries to resolve the path,\r\n\r\n```\r\n[main]  TRACE org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace &#39;org.springframework.web.servlet.DispatcherServlet-b3ca52e-servlet&#39;, started on Wed May 31 17:04:46 IST 2023, parent: Root WebApplicationContext\r\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/home/&lt;username&gt;/git/jetty-poc/target/classes]\r\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/home/&lt;username&gt;/git/jetty-poc/target/classes] for files matching pattern [/home/&lt;username&gt;/git/jetty-poc/target/classes/*/webapp/WEB-INF/spring/webContext.xml]\r\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/home/&lt;username&gt;/git/jetty-poc/target/classes/META-INF] for files matching pattern [/home/&lt;username&gt;/git/jetty-poc/target/classes/*/webapp/WEB-INF/spring/webContext.xml]\r\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/home/&lt;username&gt;/git/jetty-poc/target/classes/com] for files matching pattern [/home/&lt;username&gt;/git/jetty-poc/target/classes/*/webapp/WEB-INF/spring/webContext.xml]\r\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath:*/webapp/WEB-INF/spring/webContext.xml] to resources []\r\n[main]  TRACE org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 0 bean definitions from location pattern [classpath:*/webapp/WEB-INF/spring/webContext.xml]\r\n```\r\n\r\nLogs from CLI (When trying to run shaded jar)\r\n\r\n```\r\n[main] TRACE org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace &#39;\r\n-662ac478-servlet&#39;, started on Wed May 31 17:06:39 IST 2023, parent: Root WebApplicationContext\r\n[main] ERROR org.springframework.web.servlet.DispatcherServlet - Context initialization failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Could not resolve bean definition resource pattern [classpath:*/webapp/WEB-INF/spring/webContext.xml]; nested exception is java.io.FileNotFoundException: class path resource [] cannot be resolved to URL because it does not exist\r\n```\r\n\r\nSo just adding a folder to ClassPath somehow changes the Spring Behaviour. Is my assumption correct and any explanation for this behaviour?\r\n\r\nEDIT\r\nI&#39;m using Spring 5.2.22.","title":"Weird Behaviour in Spring MVC when context.xml configured in contextConfigLocation is missing","body":"<p>We have a Jetty Application which supports JAX RS using Apache CXF and also Spring Controllers. The Jetty server is configured to create a Spring Application Context and also  initialize a Dispatcher Servlet during startup,</p>\n<pre><code>ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SECURITY);\n....\ncontext.addEventListener(new ContextLoaderListener());\n        context.setInitParameter(&quot;contextConfigLocation&quot;,\n                &quot;classpath:/webapp/WEB-INF/spring/applicationContext.xml&quot;);\n...\nServletHolder cxfServlet = context.addServlet(CXFServlet.class,\n                &quot;/services/*&quot;);\n        cxfServlet.setInitOrder(1);\n        \n        ServletHolder mvcServlet = context.addServlet(DispatcherServlet.class,\n                &quot;/controller/*&quot;);\n        mvcServlet.setInitOrder(1);\n        mvcServlet.setInitParameter(&quot;contextConfigLocation&quot;, &quot;classpath:*/webapp/WEB-INF/spring/webContext.xml&quot;);\n</code></pre>\n<p>The Jetty Server starts without any issue in IDE but when I try to run the shaded jar it fails with the following exception,</p>\n<pre><code>2023-May-31 17:06:39 PM [main] ERROR org.springframework.web.servlet.DispatcherServlet - Context initialization failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Could not resolve bean definition resource pattern [classpath:*/webapp/WEB-INF/spring/webContext.xml]; nested exception is java.io.FileNotFoundException: class path resource [] cannot be resolved to URL because it does not exist\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:234) ~[jetty-shaded.jar:?]\n    at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195) ~[jetty-shaded.jar:?]\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:125) ~[jetty-shaded.jar:?]\n    at org.springframework.web.context.support.XmlWebApplicationContext.loadBeanDefinitions(XmlWebApplicationContext.java:94) ~[jetty-shaded.jar:?]\n    at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:130) ~[jetty-shaded.jar:?]\n    at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:638) ~[jetty-shaded.jar:?]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523) ~[jetty-shaded.jar:?]\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702) ~[jetty-shaded.jar:?]\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668) ~[jetty-shaded.jar:?]\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716) ~[jetty-shaded.jar:?]\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591) ~[jetty-shaded.jar:?]\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530) ~[jetty-shaded.jar:?]\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170) ~[jetty-shaded.jar:?]\n    at javax.servlet.GenericServlet.init(GenericServlet.java:244) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.servlet.ServletHolder.initServlet(ServletHolder.java:632) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.servlet.ServletHolder.initialize(ServletHolder.java:415) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.servlet.ServletHandler.lambda$initialize$0(ServletHandler.java:750) ~[jetty-shaded.jar:?]\n    at java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[?:1.8.0_275]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:483) ~[?:1.8.0_275]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472) ~[?:1.8.0_275]\n    at java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:313) ~[?:1.8.0_275]\n    at java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:743) ~[?:1.8.0_275]\n    at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647) ~[?:1.8.0_275]\n    at org.eclipse.jetty.servlet.ServletHandler.initialize(ServletHandler.java:774) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.servlet.ServletContextHandler.startContext(ServletContextHandler.java:379) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.server.handler.ContextHandler.doStart(ContextHandler.java:916) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.servlet.ServletContextHandler.doStart(ServletContextHandler.java:288) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:117) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.util.component.AbstractLifeCycle.start(AbstractLifeCycle.java:73) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.start(ContainerLifeCycle.java:169) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.server.Server.start(Server.java:423) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.util.component.ContainerLifeCycle.doStart(ContainerLifeCycle.java:110) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.server.handler.AbstractHandler.doStart(AbstractHandler.java:97) ~[jetty-shaded.jar:?]\n    at org.eclipse.jetty.server.Server.doStart(Server.java:387) ~[jetty-shaded.jar:?]\n</code></pre>\n<p>The webContext.xml is not configured in the Classpath and so the above exception makes sense. But Why did it not occur in the IDE?</p>\n<p>From the Trace Logs I can find a difference in how Spring tries to resolve the path,</p>\n<pre><code>[main]  TRACE org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace 'org.springframework.web.servlet.DispatcherServlet-b3ca52e-servlet', started on Wed May 31 17:04:46 IST 2023, parent: Root WebApplicationContext\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/home/&lt;username&gt;/git/jetty-poc/target/classes]\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/home/&lt;username&gt;/git/jetty-poc/target/classes] for files matching pattern [/home/&lt;username&gt;/git/jetty-poc/target/classes/*/webapp/WEB-INF/spring/webContext.xml]\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/home/&lt;username&gt;/git/jetty-poc/target/classes/META-INF] for files matching pattern [/home/&lt;username&gt;/git/jetty-poc/target/classes/*/webapp/WEB-INF/spring/webContext.xml]\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/home/&lt;username&gt;/git/jetty-poc/target/classes/com] for files matching pattern [/home/&lt;username&gt;/git/jetty-poc/target/classes/*/webapp/WEB-INF/spring/webContext.xml]\n[main]  TRACE org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath:*/webapp/WEB-INF/spring/webContext.xml] to resources []\n[main]  TRACE org.springframework.beans.factory.xml.XmlBeanDefinitionReader - Loaded 0 bean definitions from location pattern [classpath:*/webapp/WEB-INF/spring/webContext.xml]\n</code></pre>\n<p>Logs from CLI (When trying to run shaded jar)</p>\n<pre><code>[main] TRACE org.springframework.web.context.support.XmlWebApplicationContext - Refreshing WebApplicationContext for namespace '\n-662ac478-servlet', started on Wed May 31 17:06:39 IST 2023, parent: Root WebApplicationContext\n[main] ERROR org.springframework.web.servlet.DispatcherServlet - Context initialization failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Could not resolve bean definition resource pattern [classpath:*/webapp/WEB-INF/spring/webContext.xml]; nested exception is java.io.FileNotFoundException: class path resource [] cannot be resolved to URL because it does not exist\n</code></pre>\n<p>So just adding a folder to ClassPath somehow changes the Spring Behaviour. Is my assumption correct and any explanation for this behaviour?</p>\n<p>EDIT\nI'm using Spring 5.2.22.</p>\n"},{"tags":["java","selenium-webdriver","selenide"],"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1678332738,"post_id":75680149,"comment_id":133513318,"body_markdown":"I had disable the firewall but still cannot. This happen after i invalidate the caches.","body":"I had disable the firewall but still cannot. This happen after i invalidate the caches."},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1678334599,"post_id":75680149,"comment_id":133513485,"body_markdown":"Im using Centos 9 Stream OS","body":"Im using Centos 9 Stream OS"},{"owner":{"account_id":19037441,"reputation":84,"user_id":13898258,"display_name":"David Marquardt"},"score":0,"creation_date":1680617805,"post_id":75680149,"comment_id":133926216,"body_markdown":"why arent you using ws?","body":"why arent you using ws?"}],"answers":[{"comments":[{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":1,"creation_date":1678417896,"post_id":75682422,"comment_id":133532705,"body_markdown":"How to do it in Selenide framework?","body":"How to do it in Selenide framework?"},{"owner":{"account_id":274340,"reputation":480,"user_id":566511,"display_name":"Andrei Solntsev"},"score":1,"creation_date":1678430918,"post_id":75682422,"comment_id":133534372,"body_markdown":"It&#39;s already done in Selenide 6.12.2.\nYou just need to upgrade, no need to add any options.","body":"It&#39;s already done in Selenide 6.12.2. You just need to upgrade, no need to add any options."},{"owner":{"account_id":4081884,"reputation":66,"user_id":3352176,"display_name":"Iainn"},"score":2,"creation_date":1678809177,"post_id":75682422,"comment_id":133603497,"body_markdown":"@nicholas - For Selenide you can add this line before opening the browser - `Configuration.browserCapabilities = new ChromeOptions().addArguments(&quot;--remote-allow-origins=*&quot;);`","body":"@nicholas - For Selenide you can add this line before opening the browser - <code>Configuration.browserCapabilities = new ChromeOptions().addArguments(&quot;--remote-allow-origins=*&quot;);</code>"}],"tags":[],"owner":{"account_id":7377466,"reputation":785,"user_id":5615517,"display_name":"Egor Stepanov"},"comment_count":3,"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1678352718,"creation_date":1678352718,"answer_id":75682422,"question_id":75680149,"body_markdown":"I managed to solve it by adding an option:\r\n```\r\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n```\r\n\r\nThere is a discussion about it in google group\r\nhttps://groups.google.com/g/chromedriver-users/c/xL5-13_qGaA\r\n","title":"Unable to establish websocket connection","body":"<p>I managed to solve it by adding an option:</p>\n<pre><code>options.addArguments(&quot;--remote-allow-origins=*&quot;);\n</code></pre>\n<p>There is a discussion about it in google group\n<a href=\"https://groups.google.com/g/chromedriver-users/c/xL5-13_qGaA\" rel=\"noreferrer\">https://groups.google.com/g/chromedriver-users/c/xL5-13_qGaA</a></p>\n"},{"comments":[{"owner":{"account_id":10158490,"reputation":150,"user_id":7502769,"display_name":"KESHAV KUMAR"},"score":1,"creation_date":1678886917,"post_id":75703971,"comment_id":133619751,"body_markdown":"Adding dependency worked for me.\nOne additional property need to be added is: --remote-allow-origins=*\n No need to add property System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);","body":"Adding dependency worked for me. One additional property need to be added is: --remote-allow-origins=*  No need to add property System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);"},{"owner":{"account_id":5074573,"reputation":4134,"user_id":4072371,"display_name":"titusfortner"},"score":1,"creation_date":1678897152,"post_id":75703971,"comment_id":133623247,"body_markdown":"@KESHAVKUMAR If you add the dependency (which you should do if you can), you do not need to to add the Option for `--remote-allow-origins`.","body":"@KESHAVKUMAR If you add the dependency (which you should do if you can), you do not need to to add the Option for <code>--remote-allow-origins</code>."},{"owner":{"account_id":5074573,"reputation":4134,"user_id":4072371,"display_name":"titusfortner"},"score":1,"creation_date":1678897221,"post_id":75703971,"comment_id":133623278,"body_markdown":"This is the best solution for Java 11+ users until we release a new version of Selenium. The old HTTP Client is not well maintained, and this new one will eventually be made the default.","body":"This is the best solution for Java 11+ users until we release a new version of Selenium. The old HTTP Client is not well maintained, and this new one will eventually be made the default."},{"owner":{"account_id":1502497,"reputation":2147,"user_id":1406702,"accept_rate":50,"display_name":"happy_marmoset"},"score":0,"creation_date":1681193698,"post_id":75703971,"comment_id":134012604,"body_markdown":"But this method requires Java 11+, for example Java 17.","body":"But this method requires Java 11+, for example Java 17."}],"tags":[],"owner":{"account_id":8953429,"reputation":101,"user_id":6678690,"display_name":"PhuocThua"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1678527085,"creation_date":1678526952,"answer_id":75703971,"question_id":75680149,"body_markdown":"This solution worked for me (I&#39;m using Selenium WebDriver).\r\nI downloaded the newest chromedriver.exe with 111.0.5563.64 version.\r\nThen I added one more dependency:\r\n\r\n    &lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;4.5.0&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n\r\nand added this code line at the first line into @BeforeTest method:\r\n\r\n    System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\r\n\r\nHope this help! Thanks Phaneesh Kashyap!!!\r\nIf this is not work for you. You can keep searching on this (https://groups.google.com/g/chromedriver-users/c/xL5-13_qGaA)","title":"Unable to establish websocket connection","body":"<p>This solution worked for me (I'm using Selenium WebDriver).\nI downloaded the newest chromedriver.exe with 111.0.5563.64 version.\nThen I added one more dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n    &lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and added this code line at the first line into @BeforeTest method:</p>\n<pre><code>System.setProperty(&quot;webdriver.http.factory&quot;, &quot;jdk-http-client&quot;);\n</code></pre>\n<p>Hope this help! Thanks Phaneesh Kashyap!!!\nIf this is not work for you. You can keep searching on this (<a href=\"https://groups.google.com/g/chromedriver-users/c/xL5-13_qGaA\" rel=\"noreferrer\">https://groups.google.com/g/chromedriver-users/c/xL5-13_qGaA</a>)</p>\n"},{"tags":[],"owner":{"account_id":5738617,"reputation":1145,"user_id":4531941,"accept_rate":83,"display_name":"Sadik Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1680032381,"creation_date":1678599536,"answer_id":75711246,"question_id":75680149,"body_markdown":"Create chrome option class object and pass into your ChromeDriver class like below:\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    ChromeDriver driver = new ChromeDriver(options);\r\n\r\nNow Selenium 4.8.2 version release and can resolve this issue by using this version without using above code","title":"Unable to establish websocket connection","body":"<p>Create chrome option class object and pass into your ChromeDriver class like below:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\nChromeDriver driver = new ChromeDriver(options);\n</code></pre>\n<p>Now Selenium 4.8.2 version release and can resolve this issue by using this version without using above code</p>\n"},{"tags":[],"owner":{"account_id":10158490,"reputation":150,"user_id":7502769,"display_name":"KESHAV KUMAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678887362,"creation_date":1678887362,"answer_id":75745470,"question_id":75680149,"body_markdown":"\r\n \r\n\r\nAdd --remote-allow-origins=* while initializing the driver instance.\r\n\r\n     ChromeOptions chromeOptions = new ChromeOptions();\r\n     chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n     ChromeDriver driver = new ChromeDriver(chromeOptions);\r\n\r\n \r\n\r\nAlso add below dependency or corresponding jar to project class path. \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.1&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n     ","title":"Unable to establish websocket connection","body":"<p>Add --remote-allow-origins=* while initializing the driver instance.</p>\n<pre><code> ChromeOptions chromeOptions = new ChromeOptions();\n chromeOptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n ChromeDriver driver = new ChromeDriver(chromeOptions);\n</code></pre>\n<p>Also add below dependency or corresponding jar to project class path.</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-http-jdk-client&lt;/artifactId&gt;\n        &lt;version&gt;4.8.1&lt;/version&gt;\n &lt;/dependency&gt;\n \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20468636,"reputation":57,"user_id":15019592,"display_name":"Chandan Bhagat"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678951596,"creation_date":1678951596,"answer_id":75753183,"question_id":75680149,"body_markdown":"Change the selenium java version on the pom file. like\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Unable to establish websocket connection","body":"<p>Change the selenium java version on the pom file. like</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682298483,"creation_date":1682298483,"answer_id":76088005,"question_id":75680149,"body_markdown":"Upgrading the Selenium lib worked for me (was on version 4.4.0):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;4.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI suspect they now just add the `--remote-allow-origins=*` arg by default. &#128578;\r\n","title":"Unable to establish websocket connection","body":"<p>Upgrading the Selenium lib worked for me (was on version 4.4.0):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I suspect they now just add the <code>--remote-allow-origins=*</code> arg by default. 🙂</p>\n"},{"tags":[],"owner":{"account_id":9722005,"reputation":51,"user_id":7210433,"display_name":"beaucequebec"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682624212,"creation_date":1682624212,"answer_id":76124048,"question_id":75680149,"body_markdown":"Java 11 + selenium 4.8.2 and above is working without adding the chrome options. Selenium 4.8.2 + Java 8 is not and generate the websocket exception.","title":"Unable to establish websocket connection","body":"<p>Java 11 + selenium 4.8.2 and above is working without adding the chrome options. Selenium 4.8.2 + Java 8 is not and generate the websocket exception.</p>\n"},{"comments":[{"owner":{"account_id":8318870,"reputation":252,"user_id":6251262,"accept_rate":75,"display_name":"Amit"},"score":0,"creation_date":1694896581,"post_id":76161099,"comment_id":135952576,"body_markdown":"what is &quot;PROXY&quot; at line number 5 in the code example.","body":"what is &quot;PROXY&quot; at line number 5 in the code example."}],"tags":[],"owner":{"account_id":12285943,"reputation":26,"user_id":8965380,"display_name":"Saad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683096345,"creation_date":1683096345,"answer_id":76161099,"question_id":75680149,"body_markdown":"For Edge Browser you can use below code it worked for me\r\n\r\n    EdgeOptions options = new EdgeOptions();\r\n\t\t\toptions.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\r\n\t\t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t\t\toptions.setCapability(&quot;ignore-certificate-errors&quot;, true);\r\n\t\t\t \r\n    WebDriverManager.edgedriver().avoidResolutionCache().proxy(PROXY).setup();\r\n\t\t\tdriver.set(new EdgeDriver(options));\r\n\t\t\tdriver.get().manage().window().maximize();\r\n\t\t\tdriver.get().manage().deleteAllCookies();","title":"Unable to establish websocket connection","body":"<p>For Edge Browser you can use below code it worked for me</p>\n<pre><code>EdgeOptions options = new EdgeOptions();\n        options.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        options.setCapability(&quot;ignore-certificate-errors&quot;, true);\n         \nWebDriverManager.edgedriver().avoidResolutionCache().proxy(PROXY).setup();\n        driver.set(new EdgeDriver(options));\n        driver.get().manage().window().maximize();\n        driver.get().manage().deleteAllCookies();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2243962,"reputation":121,"user_id":1977801,"display_name":"Daniele Privitera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685548108,"creation_date":1685548108,"answer_id":76375282,"question_id":75680149,"body_markdown":"I had same problem, but in my case seems a problem just of Chrome/chromedriver!\r\nUsing Windows 10, Java 8, Selenium 4.3.0, and Chrome 114 (last Chrome, May 2023) do not work! \r\nChanging Chrome, to old version Chrome 105 (and the according chromedriver), it works normally!","title":"Unable to establish websocket connection","body":"<p>I had same problem, but in my case seems a problem just of Chrome/chromedriver!\nUsing Windows 10, Java 8, Selenium 4.3.0, and Chrome 114 (last Chrome, May 2023) do not work!\nChanging Chrome, to old version Chrome 105 (and the according chromedriver), it works normally!</p>\n"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66919,"favorite_count":0,"down_vote_count":1,"up_vote_count":36,"answer_count":9,"score":35,"last_activity_date":1685548108,"creation_date":1678331933,"question_id":75680149,"body_markdown":"I had coded automation testing in selenide but strange time comes up. \r\n\r\nThe browser window not able to establish websocket connection to http://localhost:2757/devtools/browser/uuid\r\n\r\n    &gt; [ERROR] Tests run: 97, Failures: 1, Errors: 0, Skipped: 96, Time\r\n    &gt; elapsed: 3.945 s &lt;&lt;&lt; FAILURE! - in\r\n    &gt; com.rev.testManager.GenericTestManager [ERROR]\r\n    &gt; com.rev.testManager.GenericTestManager.openPage  Time elapsed: 3.727 s\r\n    &gt; &lt;&lt;&lt; FAILURE!\r\n    &gt; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to\r\n    &gt; establish websocket connection to\r\n    &gt; http://localhost:2757/devtools/browser/d5f72b05-f030-41ee-88b2-5823e7d0f35c\r\n    &gt; Build info: version: &#39;4.4.0&#39;, revision: &#39;e5c75ed026a&#39; System info:\r\n    &gt; host: &#39;localhost&#39;, ip: &#39;127.0.0.1&#39;, os.name: &#39;Linux&#39;, os.arch:\r\n    &gt; &#39;amd64&#39;, os.version: &#39;5.14.0-283.el9.x86_64&#39;, java.version: &#39;18.0.2&#39;\r\n    &gt; Driver info: driver.version: SelenideDriver selenide.url:\r\n    &gt; https://www.buletintv3.my/ selenide.baseUrl:\r\n    &gt; https://www.buletintv3.my/ \tat\r\n    &gt; org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n    &gt; \tat\r\n    &gt; org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n    &gt; \tat\r\n    &gt; org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\r\n    &gt; \tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\r\n    &gt; \tat\r\n    &gt; org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n    &gt; \tat java.base/java.util.Optional.map(Optional.java:260) \tat\r\n    &gt; org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n    &gt; \tat\r\n    &gt; org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.webdriver.ChromeDriverFactory.create(ChromeDriverFactory.java:42)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriverInstance(WebDriverFactory.java:109)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriver(WebDriverFactory.java:69)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.drivercommands.CreateDriverCommand.lambda$createDriver$0(CreateDriverCommand.java:76)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.logevents.SelenideLogger.get(SelenideLogger.java:166)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.drivercommands.CreateDriverCommand.createDriver(CreateDriverCommand.java:52)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createDriver(WebDriverThreadLocalContainer.java:180)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.impl.WebDriverThreadLocalContainer.getAndCheckWebDriver(WebDriverThreadLocalContainer.java:149)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.WebDriverRunner.getAndCheckWebDriver(WebDriverRunner.java:130)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.impl.StaticDriver.getAndCheckWebDriver(StaticDriver.java:65)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.SelenideDriver.getAndCheckWebDriver(SelenideDriver.java:220)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.drivercommands.Navigator.lambda$navigateTo$0(Navigator.java:72)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.logevents.SelenideLogger.run(SelenideLogger.java:153)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.drivercommands.Navigator.navigateTo(Navigator.java:70)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.drivercommands.Navigator.open(Navigator.java:32)\r\n    &gt; \tat\r\n    &gt; com.codeborne.selenide.SelenideDriver.open(SelenideDriver.java:101)\r\n    &gt; \tat com.codeborne.selenide.Selenide.open(Selenide.java:52) \tat\r\n    &gt; com.rev.testManager.GenericTestManager.openPage(GenericTestManager.java:27)\r\n    &gt; \tat\r\n    &gt; java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    &gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:577) \tat\r\n    &gt; org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:361)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:296)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.TestInvoker.runConfigMethods(TestInvoker.java:816)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:590)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n    &gt; \tat\r\n    &gt; org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    &gt; \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) \tat\r\n    &gt; org.testng.TestRunner.privateRun(TestRunner.java:806) \tat\r\n    &gt; org.testng.TestRunner.run(TestRunner.java:601) \tat\r\n    &gt; org.testng.SuiteRunner.runTest(SuiteRunner.java:433) \tat\r\n    &gt; org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427) \tat\r\n    &gt; org.testng.SuiteRunner.privateRun(SuiteRunner.java:387) \tat\r\n    &gt; org.testng.SuiteRunner.run(SuiteRunner.java:330) \tat\r\n    &gt; org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52) \tat\r\n    &gt; org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95) \tat\r\n    &gt; org.testng.TestNG.runSuitesSequentially(TestNG.java:1256) \tat\r\n    &gt; org.testng.TestNG.runSuitesLocally(TestNG.java:1176) \tat\r\n    &gt; org.testng.TestNG.runSuites(TestNG.java:1099) \tat\r\n    &gt; org.testng.TestNG.run(TestNG.java:1067) \tat\r\n    &gt; org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:151)\r\n    &gt; \tat\r\n    &gt; org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeSingleClass(TestNGDirectoryTestSuite.java:111)\r\n    &gt; \tat\r\n    &gt; org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:98)\r\n    &gt; \tat\r\n    &gt; org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:155)\r\n    &gt; \tat\r\n    &gt; org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)\r\n    &gt; \tat\r\n    &gt; org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)\r\n    &gt; \tat\r\n    &gt; org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)\r\n    &gt; \tat\r\n    &gt; org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)\r\n\r\n","title":"Unable to establish websocket connection","body":"<p>I had coded automation testing in selenide but strange time comes up.</p>\n<p>The browser window not able to establish websocket connection to http://localhost:2757/devtools/browser/uuid</p>\n<pre><code>&gt; [ERROR] Tests run: 97, Failures: 1, Errors: 0, Skipped: 96, Time\n&gt; elapsed: 3.945 s &lt;&lt;&lt; FAILURE! - in\n&gt; com.rev.testManager.GenericTestManager [ERROR]\n&gt; com.rev.testManager.GenericTestManager.openPage  Time elapsed: 3.727 s\n&gt; &lt;&lt;&lt; FAILURE!\n&gt; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to\n&gt; establish websocket connection to\n&gt; http://localhost:2757/devtools/browser/d5f72b05-f030-41ee-88b2-5823e7d0f35c\n&gt; Build info: version: '4.4.0', revision: 'e5c75ed026a' System info:\n&gt; host: 'localhost', ip: '127.0.0.1', os.name: 'Linux', os.arch:\n&gt; 'amd64', os.version: '5.14.0-283.el9.x86_64', java.version: '18.0.2'\n&gt; Driver info: driver.version: SelenideDriver selenide.url:\n&gt; https://www.buletintv3.my/ selenide.baseUrl:\n&gt; https://www.buletintv3.my/    at\n&gt; org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n&gt;   at\n&gt; org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\n&gt;   at\n&gt; org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:106)\n&gt;   at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:77)\n&gt;   at\n&gt; org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\n&gt;   at java.base/java.util.Optional.map(Optional.java:260)  at\n&gt; org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\n&gt;   at\n&gt; org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n&gt;   at\n&gt; com.codeborne.selenide.webdriver.ChromeDriverFactory.create(ChromeDriverFactory.java:42)\n&gt;   at\n&gt; com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriverInstance(WebDriverFactory.java:109)\n&gt;   at\n&gt; com.codeborne.selenide.webdriver.WebDriverFactory.createWebDriver(WebDriverFactory.java:69)\n&gt;   at\n&gt; com.codeborne.selenide.drivercommands.CreateDriverCommand.lambda$createDriver$0(CreateDriverCommand.java:76)\n&gt;   at\n&gt; com.codeborne.selenide.logevents.SelenideLogger.get(SelenideLogger.java:166)\n&gt;   at\n&gt; com.codeborne.selenide.drivercommands.CreateDriverCommand.createDriver(CreateDriverCommand.java:52)\n&gt;   at\n&gt; com.codeborne.selenide.impl.WebDriverThreadLocalContainer.createDriver(WebDriverThreadLocalContainer.java:180)\n&gt;   at\n&gt; com.codeborne.selenide.impl.WebDriverThreadLocalContainer.getAndCheckWebDriver(WebDriverThreadLocalContainer.java:149)\n&gt;   at\n&gt; com.codeborne.selenide.WebDriverRunner.getAndCheckWebDriver(WebDriverRunner.java:130)\n&gt;   at\n&gt; com.codeborne.selenide.impl.StaticDriver.getAndCheckWebDriver(StaticDriver.java:65)\n&gt;   at\n&gt; com.codeborne.selenide.SelenideDriver.getAndCheckWebDriver(SelenideDriver.java:220)\n&gt;   at\n&gt; com.codeborne.selenide.drivercommands.Navigator.lambda$navigateTo$0(Navigator.java:72)\n&gt;   at\n&gt; com.codeborne.selenide.logevents.SelenideLogger.run(SelenideLogger.java:153)\n&gt;   at\n&gt; com.codeborne.selenide.drivercommands.Navigator.navigateTo(Navigator.java:70)\n&gt;   at\n&gt; com.codeborne.selenide.drivercommands.Navigator.open(Navigator.java:32)\n&gt;   at\n&gt; com.codeborne.selenide.SelenideDriver.open(SelenideDriver.java:101)\n&gt;   at com.codeborne.selenide.Selenide.open(Selenide.java:52)   at\n&gt; com.rev.testManager.GenericTestManager.openPage(GenericTestManager.java:27)\n&gt;   at\n&gt; java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n&gt;   at java.base/java.lang.reflect.Method.invoke(Method.java:577)   at\n&gt; org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n&gt;   at\n&gt; org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:69)\n&gt;   at\n&gt; org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:361)\n&gt;   at\n&gt; org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:296)\n&gt;   at\n&gt; org.testng.internal.invokers.TestInvoker.runConfigMethods(TestInvoker.java:816)\n&gt;   at\n&gt; org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:590)\n&gt;   at\n&gt; org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n&gt;   at\n&gt; org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n&gt;   at\n&gt; org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n&gt;   at\n&gt; org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n&gt;   at\n&gt; org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n&gt;   at\n&gt; org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n&gt;   at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)   at\n&gt; org.testng.TestRunner.privateRun(TestRunner.java:806)     at\n&gt; org.testng.TestRunner.run(TestRunner.java:601)    at\n&gt; org.testng.SuiteRunner.runTest(SuiteRunner.java:433)  at\n&gt; org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)  at\n&gt; org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)   at\n&gt; org.testng.SuiteRunner.run(SuiteRunner.java:330)  at\n&gt; org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)  at\n&gt; org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)   at\n&gt; org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)     at\n&gt; org.testng.TestNG.runSuitesLocally(TestNG.java:1176)  at\n&gt; org.testng.TestNG.runSuites(TestNG.java:1099)     at\n&gt; org.testng.TestNG.run(TestNG.java:1067)   at\n&gt; org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:151)\n&gt;   at\n&gt; org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.executeSingleClass(TestNGDirectoryTestSuite.java:111)\n&gt;   at\n&gt; org.apache.maven.surefire.testng.TestNGDirectoryTestSuite.execute(TestNGDirectoryTestSuite.java:98)\n&gt;   at\n&gt; org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:155)\n&gt;   at\n&gt; org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)\n&gt;   at\n&gt; org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)\n&gt;   at\n&gt; org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)\n&gt;   at\n&gt; org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)\n</code></pre>\n"},{"tags":["java","jakarta-migration"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1643195402,"post_id":70862464,"comment_id":125273546,"body_markdown":"you could try using a custom class loader that redirects `javax` imports to `jakarta` imports if the `jakarta` imports exist.","body":"you could try using a custom class loader that redirects <code>javax</code> imports to <code>jakarta</code> imports if the <code>jakarta</code> imports exist."}],"answers":[{"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1643457273,"post_id":70904311,"comment_id":125347459,"body_markdown":"That would be quite a lot of work, though e.g. Lombok can help generating all the methods. You also have to wrap everything in the library that takes or returns a `javax` object.","body":"That would be quite a lot of work, though e.g. Lombok can help generating all the methods. You also have to wrap everything in the library that takes or returns a <code>javax</code> object."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1643464905,"post_id":70904311,"comment_id":125349213,"body_markdown":"It&#39;s not possible to do this for annotations though, is it?","body":"It&#39;s not possible to do this for annotations though, is it?"},{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":0,"creation_date":1643474761,"post_id":70904311,"comment_id":125351736,"body_markdown":"Indeed, it won&#39;t work for annotations. If you don&#39;t mind me asking, why do you want to do this? Whichever solution you eventually settle for will most likely take more time to implement than just updating the libraries and doing a replace all on the imports to change them from javax to jakarta.","body":"Indeed, it won&#39;t work for annotations. If you don&#39;t mind me asking, why do you want to do this? Whichever solution you eventually settle for will most likely take more time to implement than just updating the libraries and doing a replace all on the imports to change them from javax to jakarta."}],"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643452944,"creation_date":1643451514,"answer_id":70904311,"question_id":70862464,"body_markdown":"Like you mention, the APIs are compatible except for the trademark changes, so one solution is to build wrappers around them that delegate from the new library to the old. Might not always be straightforward, but depending on your use case, it could work.\r\n\r\n[For example][1]:\r\n\r\n```\r\npublic class LegacyServlet implements jakarta.servlet.Servlet {\r\n \r\n  private final javax.servlet.Servlet delegate;\r\n \r\n  public LegacyServlet(javax.servlet.Servlet delegate) {\r\n    this.delegate = delegate;\r\n  }\r\n \r\n  @Override\r\n  public void service(jakarta.servlet.ServletRequest req, jakarta.servlet.ServletResponse resp) {\r\n    delegate.service(new LegacyServletRequest(req), new LegacyServletResponse(resp));\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://dzone.com/articles/jakarta-ee-without-javax-the-world-wont-end-this-time-either","title":"How to use Java EE and Jakarta EE dependencies together?","body":"<p>Like you mention, the APIs are compatible except for the trademark changes, so one solution is to build wrappers around them that delegate from the new library to the old. Might not always be straightforward, but depending on your use case, it could work.</p>\n<p><a href=\"https://dzone.com/articles/jakarta-ee-without-javax-the-world-wont-end-this-time-either\" rel=\"nofollow noreferrer\">For example</a>:</p>\n<pre><code>public class LegacyServlet implements jakarta.servlet.Servlet {\n \n  private final javax.servlet.Servlet delegate;\n \n  public LegacyServlet(javax.servlet.Servlet delegate) {\n    this.delegate = delegate;\n  }\n \n  @Override\n  public void service(jakarta.servlet.ServletRequest req, jakarta.servlet.ServletResponse resp) {\n    delegate.service(new LegacyServletRequest(req), new LegacyServletResponse(resp));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1685547937,"creation_date":1643492396,"answer_id":70909966,"question_id":70862464,"body_markdown":"You can use the [Eclipse Transformer][1] project to transform your older Java EE compatible jar with `javax.*` imports to a jar using `jakarta.*` imports.\r\n\r\nThe transformer takes care of some additional things like renaming constants in configuration files and such. It&#39;s a work in progress, but does the job quite well already.\r\n\r\n\r\n  [1]: https://github.com/eclipse/transformer","title":"How to use Java EE and Jakarta EE dependencies together?","body":"<p>You can use the <a href=\"https://github.com/eclipse/transformer\" rel=\"nofollow noreferrer\">Eclipse Transformer</a> project to transform your older Java EE compatible jar with <code>javax.*</code> imports to a jar using <code>jakarta.*</code> imports.</p>\n<p>The transformer takes care of some additional things like renaming constants in configuration files and such. It's a work in progress, but does the job quite well already.</p>\n"}],"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4465,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1685547937,"creation_date":1643195167,"question_id":70862464,"body_markdown":"Is it at all possible to use older Java EE libraries (with `javax` package) in new Jakarta EE applications (with `jakarta` package)?\r\n\r\nAll the APIs would be backwards compatible if it weren&#39;t for the trademark issue. Is there any runtime library or build tool available that can get them to work together? Is the only solution to fork old libraries and updated them manually?\r\n\r\nI&#39;m in particular looking at the Servlet API, but validation, persistence, webservices and mail may bite me too.","title":"How to use Java EE and Jakarta EE dependencies together?","body":"<p>Is it at all possible to use older Java EE libraries (with <code>javax</code> package) in new Jakarta EE applications (with <code>jakarta</code> package)?</p>\n<p>All the APIs would be backwards compatible if it weren't for the trademark issue. Is there any runtime library or build tool available that can get them to work together? Is the only solution to fork old libraries and updated them manually?</p>\n<p>I'm in particular looking at the Servlet API, but validation, persistence, webservices and mail may bite me too.</p>\n"},{"tags":["java","saml","opensaml"],"owner":{"account_id":28720544,"reputation":1,"user_id":21994362,"display_name":"Kirill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685547687,"creation_date":1685546818,"question_id":76375110,"body_markdown":"I have a string that i get in request from idp to service provider. I know that this string is encoded xml response, but i do not know how can i decode it\r\n\r\nI am trying to update my service provider application to use spring 6, java 17 and opensaml 4. I am using ssocircle as identity provider.\r\n\r\nAfter login I see saml response(xml) and the request to my application using chrome saml extension. The request contains &quot;Request POST Data&quot; section that contains encoded(i think so) response.\r\n\r\nHere is it value(not full):\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/KxaDt.png)\r\n\r\n\r\nBut I also see a valid xml (saml response) in saml extension\r\nThe problem is that i need to get xml view from request, but all i can do is to use ServletRequest.getInputStream() and get encoded string from request body.\r\n\r\nDo you know how can I decode this string and get an xml? May be i can use certificates for that?","title":"How can I decode the encoded XML response from my SSO identity provider using Spring 6 and opensaml 4 in Java 17?","body":"<p>I have a string that i get in request from idp to service provider. I know that this string is encoded xml response, but i do not know how can i decode it</p>\n<p>I am trying to update my service provider application to use spring 6, java 17 and opensaml 4. I am using ssocircle as identity provider.</p>\n<p>After login I see saml response(xml) and the request to my application using chrome saml extension. The request contains &quot;Request POST Data&quot; section that contains encoded(i think so) response.</p>\n<p>Here is it value(not full):</p>\n<p><a href=\"https://i.stack.imgur.com/KxaDt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>But I also see a valid xml (saml response) in saml extension\nThe problem is that i need to get xml view from request, but all i can do is to use ServletRequest.getInputStream() and get encoded string from request body.</p>\n<p>Do you know how can I decode this string and get an xml? May be i can use certificates for that?</p>\n"},{"tags":["java","spring","cxf","jakarta-migration"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1685470818,"post_id":76367601,"comment_id":134663778,"body_markdown":"I think you need dependencies compiled for JDK 9+ and 11+. If you own those dependencies, you will have to recompile them. See also: [Java Magazine ~ Transition from Java EE to Jakarta EE](https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee)","body":"I think you need dependencies compiled for JDK 9+ and 11+. If you own those dependencies, you will have to recompile them. See also: <a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"nofollow noreferrer\">Java Magazine ~ Transition from Java EE to Jakarta EE</a>"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":2,"creation_date":1685471458,"post_id":76367601,"comment_id":134663876,"body_markdown":"I think you&#39;d have to do some kind of byte code re-write of all the classes of your dependencies. I think it is doable but weird and complicated. If your dependencies are open source projects it is probably easier do download the source, replace the imports and build the new versions.","body":"I think you&#39;d have to do some kind of byte code re-write of all the classes of your dependencies. I think it is doable but weird and complicated. If your dependencies are open source projects it is probably easier do download the source, replace the imports and build the new versions."},{"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"score":0,"creation_date":1685546667,"post_id":76367601,"comment_id":134676189,"body_markdown":"I have to keep dependency code unmodified, cause there are other consumers, with java ee8","body":"I have to keep dependency code unmodified, cause there are other consumers, with java ee8"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1685547100,"post_id":76367601,"comment_id":134676298,"body_markdown":"This makes no sense. You can simply modify your dependencies and release them with a new version without impacting the other consumers.","body":"This makes no sense. You can simply modify your dependencies and release them with a new version without impacting the other consumers."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1685547499,"post_id":76367601,"comment_id":134676396,"body_markdown":"Look up &quot;Eclipse Transformer&quot;.","body":"Look up &quot;Eclipse Transformer&quot;."},{"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"score":0,"creation_date":1685547547,"post_id":76367601,"comment_id":134676406,"body_markdown":"@AbhijitSarkar, then I have to support two versions of dependency in parallel. I&#39;m not saying, that there is no other way. The point of this question is to find out, is there an utilities/approaches for this case and compare all pros/cons to obvious solutions","body":"@AbhijitSarkar, then I have to support two versions of dependency in parallel. I&#39;m not saying, that there is no other way. The point of this question is to find out, is there an utilities/approaches for this case and compare all pros/cons to obvious solutions"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1685547902,"post_id":76367601,"comment_id":134676507,"body_markdown":"I found the dupe. See link above.","body":"I found the dupe. See link above."},{"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"score":0,"creation_date":1685548048,"post_id":76367601,"comment_id":134676539,"body_markdown":"@BalusC, yep, thanks, I hoped some alternatives are appeared for the last year","body":"@BalusC, yep, thanks, I hoped some alternatives are appeared for the last year"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1685548297,"post_id":76367601,"comment_id":134676606,"body_markdown":"Eclipse Transformer apparently does its job so good that no one found urge to reinvent it. Another alternative is to simply swap out CXF for [Metro](https://github.com/eclipse-ee4j/metro-jax-ws) (you tagged `cxf` so I gather you&#39;re actually ultimately after using an already Jakartified JAX-WS implementation), yet another alternative is to use stock Jakarta EE instead of Spring ;)","body":"Eclipse Transformer apparently does its job so good that no one found urge to reinvent it. Another alternative is to simply swap out CXF for <a href=\"https://github.com/eclipse-ee4j/metro-jax-ws\" rel=\"nofollow noreferrer\">Metro</a> (you tagged <code>cxf</code> so I gather you&#39;re actually ultimately after using an already Jakartified JAX-WS implementation), yet another alternative is to use stock Jakarta EE instead of Spring ;)"}],"answers":[{"comments":[{"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"score":0,"creation_date":1685546393,"post_id":76367956,"comment_id":134676106,"body_markdown":"Yep, extreme measures is what I meant. I&#39;m searching for a byte code modifier (as one  of solution), cause those dependencies are being used by other modules with EE8 (javax).","body":"Yep, extreme measures is what I meant. I&#39;m searching for a byte code modifier (as one  of solution), cause those dependencies are being used by other modules with EE8 (javax)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1685546546,"post_id":76367956,"comment_id":134676149,"body_markdown":"@ZedZed Then edit your Question to make clear your willingness to use extreme measures. Because that approach would be highly unusual.","body":"@ZedZed Then edit your Question to make clear your willingness to use extreme measures. Because that approach would be highly unusual."},{"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"score":0,"creation_date":1685546864,"post_id":76367956,"comment_id":134676247,"body_markdown":"I wrote &quot;without recompiling&quot;, that covers such approach :)","body":"I wrote &quot;without recompiling&quot;, that covers such approach :)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685546873,"creation_date":1685474160,"answer_id":76367956,"question_id":76367601,"body_markdown":"Your dependencies are already built. You cannot alter their package names. (Unless you took extreme measures, not recommended, as [commented][1].)\r\n\r\nYou will need to use only those dependencies that have been updated to the new `jakarta.*` naming, and updated to run in modern Java. \r\n\r\nOr stick with the original version of Jakarta EE 8, which uses the old `javax.*` packages. Same as Java EE 8. Implementations are still supported, so no pressing need to migrate to the current Jakarta. You’ll migrate eventually, but you can wait for the dependencies to migrate. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76367601/jdk-17-migration-from-javax-to-jakarta-for-dependencies/76367956#comment134663876_76367601","title":"Migration from javax to jakarta for dependencies","body":"<p>Your dependencies are already built. You cannot alter their package names. (Unless you took extreme measures, not recommended, as <a href=\"https://stackoverflow.com/questions/76367601/jdk-17-migration-from-javax-to-jakarta-for-dependencies/76367956#comment134663876_76367601\">commented</a>.)</p>\n<p>You will need to use only those dependencies that have been updated to the new <code>jakarta.*</code> naming, and updated to run in modern Java.</p>\n<p>Or stick with the original version of Jakarta EE 8, which uses the old <code>javax.*</code> packages. Same as Java EE 8. Implementations are still supported, so no pressing need to migrate to the current Jakarta. You’ll migrate eventually, but you can wait for the dependencies to migrate.</p>\n"}],"owner":{"account_id":22491619,"reputation":39,"user_id":16689262,"display_name":"ZedZed"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3623,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1685547798,"answer_count":1,"score":1,"last_activity_date":1685547483,"creation_date":1685470749,"question_id":76367601,"body_markdown":"Is there any way to replace the javax.* to jakarta.* packages **inside the dependencies** of my module without recompiling them?\r\nAt compile/deploytime?\r\nSpring boot 3 / Java 17","title":"Migration from javax to jakarta for dependencies","body":"<p>Is there any way to replace the javax.* to jakarta.* packages <strong>inside the dependencies</strong> of my module without recompiling them?\nAt compile/deploytime?\nSpring boot 3 / Java 17</p>\n"},{"tags":["java","unicode-string"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1685389295,"post_id":76359946,"comment_id":134650241,"body_markdown":"Please [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others. Also explain in detail how exactly you are compiling your code, which charset encoding you use in your source code and how you run your application.","body":"Please <a href=\"https://stackoverflow.com/posts/76359946/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Also explain in detail how exactly you are compiling your code, which charset encoding you use in your source code and how you run your application."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1685389398,"post_id":76359946,"comment_id":134650256,"body_markdown":"@Progman Isn&#39;t `&quot;ąbc&quot;.substring(0,1)` enough?","body":"@Progman Isn&#39;t <code>&quot;ąbc&quot;.substring(0,1)</code> enough?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1685389622,"post_id":76359946,"comment_id":134650280,"body_markdown":"[No](https://www.mycompiler.io/view/LxBcatGDWRy)","body":"<a href=\"https://www.mycompiler.io/view/LxBcatGDWRy\" rel=\"nofollow noreferrer\">No</a>"},{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1685389874,"post_id":76359946,"comment_id":134650311,"body_markdown":"or you can use System.out.println(&quot;ąbc&quot;.charAt(0));","body":"or you can use System.out.println(&quot;ąbc&quot;.charAt(0));"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685390058,"post_id":76359946,"comment_id":134650334,"body_markdown":"And how do you obtain the output? Are you using System.out.println? Are you looking at it in the operating system console or inside an IDE?","body":"And how do you obtain the output? Are you using System.out.println? Are you looking at it in the operating system console or inside an IDE?"},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1685390235,"post_id":76359946,"comment_id":134650361,"body_markdown":"@aled I&#39;m using IntelliJ as IDE. Only then I get the wrong result.","body":"@aled I&#39;m using IntelliJ as IDE. Only then I get the wrong result."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1685396147,"post_id":76359946,"comment_id":134651142,"body_markdown":"By the way, `char` is a legacy type, essentially broken since Java 2. One effect of that is `String#substring` can fail with most characters. Make a habit of using code point integers instead.  `System.out.println ( Character.toString ( &quot;ąbc&quot;.codePoints ( ).toArray ( )[ 0 ] ) );`","body":"By the way, <code>char</code> is a legacy type, essentially broken since Java 2. One effect of that is <code>String#substring</code> can fail with most characters. Make a habit of using code point integers instead.  <code>System.out.println ( Character.toString ( &quot;ąbc&quot;.codePoints ( ).toArray ( )[ 0 ] ) );</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1685415166,"post_id":76359946,"comment_id":134652728,"body_markdown":"I wonder if &quot;ąbc&quot; in that program is actually `&quot;\\u0061\\u0238bc&quot;` rather than `&quot;\\u0105bc&quot;`.","body":"I wonder if &quot;ąbc&quot; in that program is actually <code>&quot;\\u0061\\u0238bc&quot;</code> rather than <code>&quot;\\u0105bc&quot;</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685437717,"post_id":76359946,"comment_id":134656077,"body_markdown":"@VGR, as copy and pasted from this page, it&#39;s U+0105 (LATIN SMALL LETTER A WITH OGONEK)","body":"@VGR, as copy and pasted from this page, it&#39;s U+0105 (LATIN SMALL LETTER A WITH OGONEK)"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1685448500,"post_id":76359946,"comment_id":134658383,"body_markdown":"If you [decompose](https://docs.oracle.com/javase/7/docs/api/java/text/Normalizer.Form.html) the string first using `String s = Normalizer.normalize(&quot;ąbc&quot;, Normalizer.Form.NFD);`, then that still prints `ąbc` - but if you try to print the first character you will get a regular `a`: `System.out.println(Character.toString(s.codePoints().toArray()[0]));`. The diacritic mark is separated from the base character. Change `[0]` to `[1]` to see this.","body":"If you <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/Normalizer.Form.html\" rel=\"nofollow noreferrer\">decompose</a> the string first using <code>String s = Normalizer.normalize(&quot;ąbc&quot;, Normalizer.Form.NFD);</code>, then that still prints <code>ąbc</code> - but if you try to print the first character you will get a regular <code>a</code>: <code>System.out.println(Character.toString(s.codePoints().toArray&zwnj;&#8203;()[0]));</code>. The diacritic mark is separated from the base character. Change <code>[0]</code> to <code>[1]</code> to see this."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1685453929,"post_id":76359946,"comment_id":134659820,"body_markdown":"@andrewJames So how do I get `ą` then?","body":"@andrewJames So how do I get <code>ą</code> then?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685454677,"post_id":76359946,"comment_id":134660019,"body_markdown":"*The following unit test works fine:* Clarification please: are you saying that works fine in IntelliJ too?","body":"<i>The following unit test works fine:</i> Clarification please: are you saying that works fine in IntelliJ too?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685454902,"post_id":76359946,"comment_id":134660074,"body_markdown":"I see you have accepted an answer - which is great - problem solved! How specifically did you solve it? What specific change did you make in IntelliJ? (My decomposition comment is just a side note, really. I have to confess, I am surprised IntelliJ would ever automatically decompose `ą` to `a` - but I guess it did!)","body":"I see you have accepted an answer - which is great - problem solved! How specifically did you solve it? What specific change did you make in IntelliJ? (My decomposition comment is just a side note, really. I have to confess, I am surprised IntelliJ would ever automatically decompose <code>ą</code> to <code>a</code> - but I guess it did!)"},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":1,"creation_date":1685547730,"post_id":76359946,"comment_id":134676464,"body_markdown":"@andrewJames I changed font. The answer suggested this solution.","body":"@andrewJames I changed font. The answer suggested this solution."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685548001,"post_id":76359946,"comment_id":134676529,"body_markdown":"Thank you for clarifying. What font are you using now?","body":"Thank you for clarifying. What font are you using now?"},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":1,"creation_date":1685548270,"post_id":76359946,"comment_id":134676596,"body_markdown":"Now I use `IBM Plex Sans JP Medm`. Before I used Dejavu Sans, if I remember it correctly.","body":"Now I use <code>IBM Plex Sans JP Medm</code>. Before I used Dejavu Sans, if I remember it correctly."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685552587,"post_id":76359946,"comment_id":134677531,"body_markdown":"Actually Deja Vu Sans has no problem displaying U+0105 afaics","body":"Actually Deja Vu Sans has no problem displaying U+0105 afaics"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":5,"creation_date":1685400211,"post_id":76360038,"comment_id":134651524,"body_markdown":"Per @Basil Bourque&#39;s comment, that would be better as  `System.out.printf(&quot;%04x%n&quot;, &quot;ąbc&quot;.codePointAt(0));`","body":"Per @Basil Bourque&#39;s comment, that would be better as  <code>System.out.printf(&quot;%04x%n&quot;, &quot;ąbc&quot;.codePointAt(0));</code>"}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685396405,"creation_date":1685390410,"answer_id":76360038,"question_id":76359946,"body_markdown":"This is probably an issue with your IDE console not being configured correctly for the [character encoding][1].\r\n\r\nRegardless of the visible character you can confirm it is the right character by printing the hexadecimal value of the character:\r\n\r\n``` lang-java\r\n      System.out.println(String.format(&quot;%04x&quot;, (int) &quot;ąbc&quot;.charAt(0)));\r\n```\r\nThe result should be `0105` for that character.\r\n\r\nTo display the correct character you may need to change [Intellij&#39;s theme][2] or configuration.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Character_encoding\r\n  [2]: https://intellij-support.jetbrains.com/hc/en-us/community/posts/207053315-Display-utf8-character-on-debugger-","title":"How do I get accented letter using substring()?","body":"<p>This is probably an issue with your IDE console not being configured correctly for the <a href=\"https://en.wikipedia.org/wiki/Character_encoding\" rel=\"nofollow noreferrer\">character encoding</a>.</p>\n<p>Regardless of the visible character you can confirm it is the right character by printing the hexadecimal value of the character:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      System.out.println(String.format(&quot;%04x&quot;, (int) &quot;ąbc&quot;.charAt(0)));\n</code></pre>\n<p>The result should be <code>0105</code> for that character.</p>\n<p>To display the correct character you may need to change <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/207053315-Display-utf8-character-on-debugger-\" rel=\"nofollow noreferrer\">Intellij's theme</a> or configuration.</p>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76360038,"answer_count":1,"score":1,"last_activity_date":1685547424,"creation_date":1685388921,"question_id":76359946,"body_markdown":"I have the following string: `ąbc`. I&#39;d like to get its first character, ie. `ą`. When I use use the following code\r\n    `&quot;ąbc&quot;.substring(0,1)`\r\nI get the correct result using `jshell`. However, when using `IntelliJ`, I get `a` instead of `ą`. What&#39;s wrong?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uzbtn.png\r\n\r\nThe following unit test works fine (in IntelliJ and in Maven):\r\n\r\n        @Test\r\n        void test() {\r\n            // GIVEN\r\n            String string = &quot;ąbc&quot;;\r\n    \r\n            // WHEN\r\n            final String substring = string.substring(0, 1);\r\n    \r\n            // THEN\r\n            assertThat(substring).isEqualTo(&quot;ą&quot;);\r\n        }","title":"How do I get accented letter using substring()?","body":"<p>I have the following string: <code>ąbc</code>. I'd like to get its first character, ie. <code>ą</code>. When I use use the following code\n<code>&quot;ąbc&quot;.substring(0,1)</code>\nI get the correct result using <code>jshell</code>. However, when using <code>IntelliJ</code>, I get <code>a</code> instead of <code>ą</code>. What's wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/uzbtn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uzbtn.png\" alt=\"enter image description here\" /></a></p>\n<p>The following unit test works fine (in IntelliJ and in Maven):</p>\n<pre><code>    @Test\n    void test() {\n        // GIVEN\n        String string = &quot;ąbc&quot;;\n\n        // WHEN\n        final String substring = string.substring(0, 1);\n\n        // THEN\n        assertThat(substring).isEqualTo(&quot;ą&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","rest","enums"],"answers":[{"tags":[],"owner":{"account_id":5322173,"reputation":325,"user_id":4245323,"accept_rate":60,"display_name":"Rob Gravelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685546892,"creation_date":1685546892,"answer_id":76375118,"question_id":76374807,"body_markdown":"All I had to do was add the @JsonValue annotation to getResult():\r\n\r\n    @JsonValue\r\n\tpublic String getResult() {\r\n\t\treturn result;\r\n\t}","title":"How do I return a String Enum&#39;s value from a RESTful service using Spring Boot?","body":"<p>All I had to do was add the @JsonValue annotation to getResult():</p>\n<pre><code>@JsonValue\npublic String getResult() {\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":5322173,"reputation":325,"user_id":4245323,"accept_rate":60,"display_name":"Rob Gravelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685546892,"creation_date":1685544845,"question_id":76374807,"body_markdown":"I have an enum that contains only three values, including one with spaces:\r\n\r\n    public enum ResultEnum {\r\n    \tSold(&quot;Sold&quot;),\r\n    \tNo_deal_today(&quot;No deal today&quot;),\r\n    \tAppointment(&quot;Appointment&quot;);\r\n    \t\r\n    \tprivate String result;\r\n    \t\r\n    \tprivate ResultEnum(String result) {\r\n    \t\tthis.result = result;\r\n    \t}\r\n    \t\r\n    \tpublic String getResult() {\r\n    \t\treturn result;\r\n    \t}\r\n    \t\r\n    \tpublic static ResultEnum fromResult(String result) {\r\n    \t\tswitch (result) {\r\n            case &quot;Sold&quot;:\r\n                return ResultEnum.Sold;\r\n     \r\n            case &quot;No deal today&quot;:\r\n                return ResultEnum.No_deal_today;\r\n     \r\n            case &quot;Appointment&quot;:\r\n                return ResultEnum.Appointment;\r\n     \r\n            default:\r\n                throw new IllegalArgumentException(&quot;ResultEnum [&quot; + result\r\n                        + &quot;] not supported.&quot;);\r\n            }\r\n    \t}\r\n    }\r\n\r\nI created a converter for it:\r\n\r\n    @Converter(autoApply = true)\r\n    public class ResultConverter implements AttributeConverter&lt;ResultEnum, String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic String convertToDatabaseColumn(ResultEnum resultEnum) {\r\n    \t\treturn resultEnum.getResult();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ResultEnum convertToEntityAttribute(String result) {\r\n    \t\treturn ResultEnum.fromResult(result);\r\n    \t}\r\n    \r\n    }\r\n\r\nThis works great, except that it returns the Enum value in the results:\r\n\r\n    &quot;result&quot;: &quot;No_deal_today&quot;\r\n\r\n**Is there a way to return the string value from the controller rather than the ENUM value?**\r\n\r\n    &quot;result&quot;: &quot;No deal today&quot;\r\n\r\nThanks!","title":"How do I return a String Enum&#39;s value from a RESTful service using Spring Boot?","body":"<p>I have an enum that contains only three values, including one with spaces:</p>\n<pre><code>public enum ResultEnum {\n    Sold(&quot;Sold&quot;),\n    No_deal_today(&quot;No deal today&quot;),\n    Appointment(&quot;Appointment&quot;);\n    \n    private String result;\n    \n    private ResultEnum(String result) {\n        this.result = result;\n    }\n    \n    public String getResult() {\n        return result;\n    }\n    \n    public static ResultEnum fromResult(String result) {\n        switch (result) {\n        case &quot;Sold&quot;:\n            return ResultEnum.Sold;\n \n        case &quot;No deal today&quot;:\n            return ResultEnum.No_deal_today;\n \n        case &quot;Appointment&quot;:\n            return ResultEnum.Appointment;\n \n        default:\n            throw new IllegalArgumentException(&quot;ResultEnum [&quot; + result\n                    + &quot;] not supported.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I created a converter for it:</p>\n<pre><code>@Converter(autoApply = true)\npublic class ResultConverter implements AttributeConverter&lt;ResultEnum, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(ResultEnum resultEnum) {\n        return resultEnum.getResult();\n    }\n\n    @Override\n    public ResultEnum convertToEntityAttribute(String result) {\n        return ResultEnum.fromResult(result);\n    }\n\n}\n</code></pre>\n<p>This works great, except that it returns the Enum value in the results:</p>\n<pre><code>&quot;result&quot;: &quot;No_deal_today&quot;\n</code></pre>\n<p><strong>Is there a way to return the string value from the controller rather than the ENUM value?</strong></p>\n<pre><code>&quot;result&quot;: &quot;No deal today&quot;\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","maven","gradle","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1685545815,"post_id":76374904,"comment_id":134675989,"body_markdown":"Try re-importing the project: https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start.","body":"Try re-importing the project: <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>."},{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1685546189,"post_id":76374904,"comment_id":134676063,"body_markdown":"still not working","body":"still not working"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1685546216,"post_id":76374904,"comment_id":134676074,"body_markdown":"Delete .idea directory from the project first. Update to the current release version: https://www.jetbrains.com/idea/download/index.html.","body":"Delete .idea directory from the project first. Update to the current release version: <a href=\"https://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download/index.html</a>."},{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1685546480,"post_id":76374904,"comment_id":134676133,"body_markdown":"I use modules from micro-services, I do not have any .idea for this project","body":"I use modules from micro-services, I do not have any .idea for this project"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1685546521,"post_id":76374904,"comment_id":134676144,"body_markdown":"`.idea` directory is always created inside the project root on the initial import.","body":"<code>.idea</code> directory is always created inside the project root on the initial import."},{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1685546739,"post_id":76374904,"comment_id":134676210,"body_markdown":"I changed the screenshot to a full project screenshot, I do not see my `.idea`","body":"I changed the screenshot to a full project screenshot, I do not see my <code>.idea</code>"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1685546815,"post_id":76374904,"comment_id":134676238,"body_markdown":"Might be in another location, use your file manager to find it.","body":"Might be in another location, use your file manager to find it."},{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1685547063,"post_id":76374904,"comment_id":134676292,"body_markdown":"I disable the `gradle` plugin and the maven icon now appears, I will also try to find the `.idea` and delete it","body":"I disable the <code>gradle</code> plugin and the maven icon now appears, I will also try to find the <code>.idea</code> and delete it"}],"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685546711,"creation_date":1685545412,"question_id":76374904,"body_markdown":"I have this maven project that i&#39;m implementing.\r\n\r\nUsually, my projects builds with maven and there is a relaod icon from maven that pops up when I make changes inside my `pom.xml`.\r\n\r\nRecently, I imported a gradle project and It made changes to my intellij configs.\r\n\r\nNow, instead of the maven reload icon I get this one from gradle : [![Gradle reload icon][1]][1]\r\n\r\nHere is a full project screenshot\r\n\r\n[![Full project][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2hFYx.png\r\n  [3]: https://i.stack.imgur.com/iTgOm.png","title":"Intellij Projects thinks it&#39;s using gradle","body":"<p>I have this maven project that i'm implementing.</p>\n<p>Usually, my projects builds with maven and there is a relaod icon from maven that pops up when I make changes inside my <code>pom.xml</code>.</p>\n<p>Recently, I imported a gradle project and It made changes to my intellij configs.</p>\n<p>Now, instead of the maven reload icon I get this one from gradle : <a href=\"https://i.stack.imgur.com/2hFYx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2hFYx.png\" alt=\"Gradle reload icon\" /></a></p>\n<p>Here is a full project screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/iTgOm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTgOm.png\" alt=\"Full project\" /></a></p>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1671111836,"post_id":74812454,"comment_id":132031054,"body_markdown":"That explanation from the book is incorrect. The compiler picks what signature (which exact overload) will be called, the runtime/JVM picks which implementation of that signature will be executed (which is why the actual object is needed.).","body":"That explanation from the book is incorrect. The compiler picks what signature (which exact overload) will be called, the runtime/JVM picks which implementation of that signature will be executed (which is why the actual object is needed.)."}],"answers":[{"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671192629,"creation_date":1671111678,"answer_id":74812476,"question_id":74812454,"body_markdown":"Method overriding is dynamic, because  the decision on which method to call occurs at runtime. method overloading is static, because the decision is made at compile type, based on the number and types of the parameters.\r\n\r\nOverriding:\r\n\r\n```java\r\n    public class A {\r\n       public void foo(){System.out.println(&quot;I am A&quot;);}\r\n    }\r\n\r\n    public class B extends A {\r\n       public void foo(){System.out.println(&quot;I am B&quot;);} \r\n    }\r\n\r\n    A z = getAnObject();\r\n    z.foo();\r\n```\r\n\r\nLet&#39;s say that `getAnObject()` returns an Object of type `A`, but the compiler has no way to tell if  its runtime class is `A` or `B`  or something else. Indeed, in different invocations, the returned object may be of different types. If it happens that its type is `B`, the above will print &quot;I am B&quot;.\r\n\r\n\r\n\r\n```java\r\n    public class A {\r\n       public void foo(int x){System.out.println(&quot;with int param&quot;);}\r\n       public void foo(String x){System.out.println(&quot;with String param&quot;);}\r\n    }\r\n \r\n    A a = new A();\r\n    a.foo(42);\r\n```\r\n\r\nThat prints &quot;with int param&quot;. The compiler knows that the param is an `int`, not a `String`, so it knows at compile-time which `foo()` to use.\r\n","title":"Is Method Overloading and Method Overriding both dynamic Polymorphism?","body":"<p>Method overriding is dynamic, because  the decision on which method to call occurs at runtime. method overloading is static, because the decision is made at compile type, based on the number and types of the parameters.</p>\n<p>Overriding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class A {\n       public void foo(){System.out.println(&quot;I am A&quot;);}\n    }\n\n    public class B extends A {\n       public void foo(){System.out.println(&quot;I am B&quot;);} \n    }\n\n    A z = getAnObject();\n    z.foo();\n</code></pre>\n<p>Let's say that <code>getAnObject()</code> returns an Object of type <code>A</code>, but the compiler has no way to tell if  its runtime class is <code>A</code> or <code>B</code>  or something else. Indeed, in different invocations, the returned object may be of different types. If it happens that its type is <code>B</code>, the above will print &quot;I am B&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class A {\n       public void foo(int x){System.out.println(&quot;with int param&quot;);}\n       public void foo(String x){System.out.println(&quot;with String param&quot;);}\n    }\n \n    A a = new A();\n    a.foo(42);\n</code></pre>\n<p>That prints &quot;with int param&quot;. The compiler knows that the param is an <code>int</code>, not a <code>String</code>, so it knows at compile-time which <code>foo()</code> to use.</p>\n"},{"tags":[],"owner":{"account_id":9845313,"reputation":105,"user_id":7293057,"display_name":"Manohar Bhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685546703,"creation_date":1685546703,"answer_id":76375089,"question_id":74812454,"body_markdown":"In addition to the above answer, even with single argument, the method to be called is determined during compile time. In below code, always &quot;Object called&quot; is printed regardless of whether the object is null or Integer\r\n\r\n```java\r\npublic class MethodOverloadingRandomObjectTest {\r\n\tpublic static  void doSomething(Object obj) {\r\n\t    System.out.println(&quot;Object called&quot;);\r\n\t}\r\n\r\n\tpublic static  void doSomething(char[] obj) {\r\n\t    System.out.println(&quot;Array called&quot;);\r\n\t}\r\n\r\n\tpublic static  void doSomething(Integer obj) {\r\n\t    System.out.println(&quot;Integer called&quot;);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t// compilation error for below\r\n\t\t// doSomething(null);\r\n\t\t\r\n\t\t// try object with random runtime value of null to avoid compilation error\r\n\t\tObject random = Math.random()*10&gt;5?999:null;\r\n\t\tSystem.out.println(&quot;object value by random:&quot;+random);\r\n\t\tSystem.out.println(&quot;object class: &quot;+(random==null?&quot;null&quot;:random.getClass()));\r\n\t\t// &quot;Object called&quot; printed for both Integer value and null value\r\n\t\t// execute multiple times\r\n\t\t// surprise surprise, for Integer object, &quot;Object&quot; method is called\r\n\t\t// this is because method overloading is compile time polymorphism\r\n\t\tdoSomething(random);\r\n\t}\r\n}\r\n\r\n```","title":"Is Method Overloading and Method Overriding both dynamic Polymorphism?","body":"<p>In addition to the above answer, even with single argument, the method to be called is determined during compile time. In below code, always &quot;Object called&quot; is printed regardless of whether the object is null or Integer</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MethodOverloadingRandomObjectTest {\n    public static  void doSomething(Object obj) {\n        System.out.println(&quot;Object called&quot;);\n    }\n\n    public static  void doSomething(char[] obj) {\n        System.out.println(&quot;Array called&quot;);\n    }\n\n    public static  void doSomething(Integer obj) {\n        System.out.println(&quot;Integer called&quot;);\n    }\n    \n    public static void main(String[] args) {\n        // compilation error for below\n        // doSomething(null);\n        \n        // try object with random runtime value of null to avoid compilation error\n        Object random = Math.random()*10&gt;5?999:null;\n        System.out.println(&quot;object value by random:&quot;+random);\n        System.out.println(&quot;object class: &quot;+(random==null?&quot;null&quot;:random.getClass()));\n        // &quot;Object called&quot; printed for both Integer value and null value\n        // execute multiple times\n        // surprise surprise, for Integer object, &quot;Object&quot; method is called\n        // this is because method overloading is compile time polymorphism\n        doSomething(random);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":19281711,"reputation":25,"user_id":18260346,"display_name":"Pratik Tushar Cholke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74812476,"answer_count":2,"score":0,"last_activity_date":1685546703,"creation_date":1671111548,"question_id":74812454,"body_markdown":"I am learning JAVA from ```Core Java An Integrated Approach``` by Dr.R.Nageswara Rao. \r\n\r\nThe book mentions that Method Overloading and Method overriding both are types of Dynamic Polymorphism. But after referring to the online blogs and websites I have found that Method Overloading is Static and Method Overriding is Dynamic polymorphism. I am not sure which one to follow.\r\n\r\n```Explanation from the book:```\r\n\r\n**Method Overloading**\r\n```\r\npublic class Sample {\r\n    void add(int a, int b){\r\n        System.out.println(&quot;Sum of Two: &quot;+ (a+b));\r\n    }\r\n    void add(int a, int b, int c){\r\n        System.out.println(&quot;Sum of Two: &quot;+ (a+b+c));\r\n    }\r\n}\r\n```\r\nThe above class has two methods. The question is who will decide which method to call? Is it Java compiler or JVM? Because the methods are called by using an object, the compiler can not decide at the time of compilation which method is actually called by the user. It has to wait till the object is created for the Sample class. And the creation of an object takes place at runtime by JVM. Now, JVM should decide which methods actually called by the user at runtime. Hence its dynamic polymorphism.\r\n\r\n**Method Overriding**\r\n\r\nHere also JVM decides which method is called depending on the data type(class) of the object used to call the method. Hence method overriding is also a type of Dynamic Polymorphism.\r\n\r\n```Note: ``` Method overloading and method overriding using static methods, private methods, and final methods are examples of static polymorphism.\r\n","title":"Is Method Overloading and Method Overriding both dynamic Polymorphism?","body":"<p>I am learning JAVA from <code>Core Java An Integrated Approach</code> by Dr.R.Nageswara Rao.</p>\n<p>The book mentions that Method Overloading and Method overriding both are types of Dynamic Polymorphism. But after referring to the online blogs and websites I have found that Method Overloading is Static and Method Overriding is Dynamic polymorphism. I am not sure which one to follow.</p>\n<p><code>Explanation from the book:</code></p>\n<p><strong>Method Overloading</strong></p>\n<pre><code>public class Sample {\n    void add(int a, int b){\n        System.out.println(&quot;Sum of Two: &quot;+ (a+b));\n    }\n    void add(int a, int b, int c){\n        System.out.println(&quot;Sum of Two: &quot;+ (a+b+c));\n    }\n}\n</code></pre>\n<p>The above class has two methods. The question is who will decide which method to call? Is it Java compiler or JVM? Because the methods are called by using an object, the compiler can not decide at the time of compilation which method is actually called by the user. It has to wait till the object is created for the Sample class. And the creation of an object takes place at runtime by JVM. Now, JVM should decide which methods actually called by the user at runtime. Hence its dynamic polymorphism.</p>\n<p><strong>Method Overriding</strong></p>\n<p>Here also JVM decides which method is called depending on the data type(class) of the object used to call the method. Hence method overriding is also a type of Dynamic Polymorphism.</p>\n<p><code>Note: </code> Method overloading and method overriding using static methods, private methods, and final methods are examples of static polymorphism.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":4878180,"reputation":578,"user_id":3932670,"accept_rate":65,"display_name":"zacmwa"},"score":0,"creation_date":1485765707,"post_id":41931432,"comment_id":71043717,"body_markdown":"Will this work for all my parameters or only the image?","body":"Will this work for all my parameters or only the image?"},{"owner":{"account_id":8228563,"reputation":2438,"user_id":6190043,"display_name":"Saurabh Bhandari"},"score":0,"creation_date":1485767895,"post_id":41931432,"comment_id":71044924,"body_markdown":"yup it will work for all media types. i upload video, audio and images with this formats","body":"yup it will work for all media types. i upload video, audio and images with this formats"},{"owner":{"account_id":4878180,"reputation":578,"user_id":3932670,"accept_rate":65,"display_name":"zacmwa"},"score":0,"creation_date":1485769273,"post_id":41931432,"comment_id":71045768,"body_markdown":"What about booleans, POJOs and integers?","body":"What about booleans, POJOs and integers?"},{"owner":{"account_id":8228563,"reputation":2438,"user_id":6190043,"display_name":"Saurabh Bhandari"},"score":0,"creation_date":1485769604,"post_id":41931432,"comment_id":71045954,"body_markdown":"just parse them into string. easy to handle with string for detail info follow this tutorial https://futurestud.io/tutorials/retrofit-getting-started-and-android-client","body":"just parse them into string. easy to handle with string for detail info follow this tutorial <a href=\"https://futurestud.io/tutorials/retrofit-getting-started-and-android-client\" rel=\"nofollow noreferrer\">futurestud.io/tutorials/&hellip;</a>"},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1680196724,"post_id":41931432,"comment_id":133861318,"body_markdown":"@SaurabhBhandari server won&#39;t except boolean as text/plain type","body":"@SaurabhBhandari server won&#39;t except boolean as text/plain type"},{"owner":{"account_id":8228563,"reputation":2438,"user_id":6190043,"display_name":"Saurabh Bhandari"},"score":0,"creation_date":1685545381,"post_id":41931432,"comment_id":134675892,"body_markdown":"@user924 you can safely send primitive types with the request without creating requestBody. `@Part(&quot;is_final&quot;) Boolean isFinal`","body":"@user924 you can safely send primitive types with the request without creating requestBody. <code>@Part(&quot;is_final&quot;) Boolean isFinal</code>"}],"tags":[],"owner":{"account_id":8228563,"reputation":2438,"user_id":6190043,"display_name":"Saurabh Bhandari"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685546510,"creation_date":1485764419,"answer_id":41931432,"question_id":41931317,"body_markdown":"  you can parse the POJO and parameters of  media types as follows \r\n\r\n     //for image\r\n                    RequestBody requestBodyMedia = RequestBody.create(MediaType.parse(MULTIPART_FORM_DATA), mediaFile);\r\n                    MultipartBody.Part mediaFileToUpload = MultipartBody.Part.createFormData(&quot;image&quot;, mediaFile.getName(), requestBodyMedia);\r\n\r\nFor primitive types it does not required to create `RequestBody` object. Primitive types can be directly send. \r\n    \r\n                \r\nIn you Interface \r\n\r\n    @Multipart()\r\n    @POST(&quot;api/events/&quot;)\r\n    Observable&lt;Event&gt; postEvent(\r\n        @Part MultipartBody.Part mediaFile,\r\n        @Part (&quot;isFree&quot;) boolean isFree,\r\n        @Part(&quot;ticketPrice&quot;) Double ticketPrice);","title":"How do you define mediatype for a boolean, a POJO and an double in retrofit?","body":"<p>you can parse the POJO and parameters of  media types as follows</p>\n<pre><code> //for image\n                RequestBody requestBodyMedia = RequestBody.create(MediaType.parse(MULTIPART_FORM_DATA), mediaFile);\n                MultipartBody.Part mediaFileToUpload = MultipartBody.Part.createFormData(&quot;image&quot;, mediaFile.getName(), requestBodyMedia);\n</code></pre>\n<p>For primitive types it does not required to create <code>RequestBody</code> object. Primitive types can be directly send.</p>\n<p>In you Interface</p>\n<pre><code>@Multipart()\n@POST(&quot;api/events/&quot;)\nObservable&lt;Event&gt; postEvent(\n    @Part MultipartBody.Part mediaFile,\n    @Part (&quot;isFree&quot;) boolean isFree,\n    @Part(&quot;ticketPrice&quot;) Double ticketPrice);\n</code></pre>\n"}],"owner":{"account_id":4878180,"reputation":578,"user_id":3932670,"accept_rate":65,"display_name":"zacmwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685546510,"creation_date":1485763837,"question_id":41931317,"body_markdown":"I have a multipart form I want to upload and it is defined like this in retrofit:\r\n\r\n    @Multipart()\r\n    @POST(&quot;api/events/&quot;)\r\n        Observable&lt;Event&gt; postEvent(@Header(&quot;Authorization&quot;) String  authHeader,@Part(&quot;venue&quot;) Venue venue,\r\n                                    @Part RequestBody image,\r\n                                    @Part RequestBody name,\r\n                                    @Part RequestBody description,\r\n                                    @Part RequestBody date,\r\n                                    @Part RequestBody type,\r\n                                    @Part RequestBody isInviteOnly,\r\n                                    @Part RequestBody isAgeRestricted,\r\n                                    @Part RequestBody isFree,\r\n                                    @Part RequestBody ticketPrice\r\n                                   );\r\n\r\nThe ones starting with is are boolean, ticket price is a double and Venue is a POJO.\r\n\r\nWhen I try to define the mediatype using Mediatype.parse I get an error because I can&#39;t define a boolean or a POJO as &quot;text/plain&quot;\r\n\r\n     RequestBody requestBodyinvite = RequestBody.create(MediaType.parse(&quot;text/plain&quot;),isInviteOnly);\r\n            RequestBody requestBodyvenue =RequestBody.create(MediaType.parse(&quot;text/plain&quot;,venue));\r\n\r\nHow do I parse the POJO and parameters of types other than string?\r\n\r\n","title":"How do you define mediatype for a boolean, a POJO and an double in retrofit?","body":"<p>I have a multipart form I want to upload and it is defined like this in retrofit:</p>\n\n<pre><code>@Multipart()\n@POST(\"api/events/\")\n    Observable&lt;Event&gt; postEvent(@Header(\"Authorization\") String  authHeader,@Part(\"venue\") Venue venue,\n                                @Part RequestBody image,\n                                @Part RequestBody name,\n                                @Part RequestBody description,\n                                @Part RequestBody date,\n                                @Part RequestBody type,\n                                @Part RequestBody isInviteOnly,\n                                @Part RequestBody isAgeRestricted,\n                                @Part RequestBody isFree,\n                                @Part RequestBody ticketPrice\n                               );\n</code></pre>\n\n<p>The ones starting with is are boolean, ticket price is a double and Venue is a POJO.</p>\n\n<p>When I try to define the mediatype using Mediatype.parse I get an error because I can't define a boolean or a POJO as \"text/plain\"</p>\n\n<pre><code> RequestBody requestBodyinvite = RequestBody.create(MediaType.parse(\"text/plain\"),isInviteOnly);\n        RequestBody requestBodyvenue =RequestBody.create(MediaType.parse(\"text/plain\",venue));\n</code></pre>\n\n<p>How do I parse the POJO and parameters of types other than string?</p>\n"},{"tags":["java","android","text-to-speech"],"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685546558,"post_id":76375031,"comment_id":134676155,"body_markdown":"Try to replace the letters like this: &quot;-A-&quot; instead of &quot;A&quot;. It probably has something to do with how Android TTS handles lone staying letters and probably varies from language to language. But my trick should work.","body":"Try to replace the letters like this: &quot;-A-&quot; instead of &quot;A&quot;. It probably has something to do with how Android TTS handles lone staying letters and probably varies from language to language. But my trick should work."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":0,"creation_date":1685548063,"post_id":76375031,"comment_id":134676544,"body_markdown":"I tried with &quot;-A-&quot;, not working.","body":"I tried with &quot;-A-&quot;, not working."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":0,"creation_date":1685548158,"post_id":76375031,"comment_id":134676567,"body_markdown":"Maybe I have to end up using recorded audio samples for the desired letter sounds instead of relying solely on TTS for individual letter pronunciation.","body":"Maybe I have to end up using recorded audio samples for the desired letter sounds instead of relying solely on TTS for individual letter pronunciation."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685553977,"post_id":76375031,"comment_id":134677819,"body_markdown":"Did you try other languages?","body":"Did you try other languages?"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685554155,"post_id":76375031,"comment_id":134677847,"body_markdown":"Try to add spaces between the vocals like this: &quot; A &quot; instead of &quot;A&quot;. Maybe you can also try to set a point like &quot;A.&quot;.","body":"Try to add spaces between the vocals like this: &quot; A &quot; instead of &quot;A&quot;. Maybe you can also try to set a point like &quot;A.&quot;."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":0,"creation_date":1685564107,"post_id":76375031,"comment_id":134679627,"body_markdown":"yes its working with english and spanish. let me try spaces.","body":"yes its working with english and spanish. let me try spaces."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":0,"creation_date":1685565284,"post_id":76375031,"comment_id":134679847,"body_markdown":"spaces did&#39;nt worked with vowels as well.","body":"spaces did&#39;nt worked with vowels as well."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1685574190,"post_id":76375031,"comment_id":134681022,"body_markdown":"Sorry to hear about that. I am curious about a solution too.","body":"Sorry to hear about that. I am curious about a solution too."},{"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"score":1,"creation_date":1698181469,"post_id":76375031,"comment_id":136372197,"body_markdown":"I finally used mp3 sounds as a solution.","body":"I finally used mp3 sounds as a solution."}],"owner":{"account_id":13740331,"reputation":21,"user_id":9915617,"display_name":"mahamrauf"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685546273,"creation_date":1685546273,"question_id":76375031,"body_markdown":"My code for TTS. \r\n\r\n```\r\npublic void speakUp() {\r\n        tts = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\r\n            @Override\r\n            public void onInit(int status) {\r\n                if (status == TextToSpeech.SUCCESS) {\r\n                    Locale frenchLocale = new Locale(&quot;fr&quot;, &quot;FR&quot;);\r\n                    int result = tts.setLanguage(frenchLocale);\r\n                    if (result == TextToSpeech.LANG_MISSING_DATA ||\r\n                            result == TextToSpeech.LANG_NOT_SUPPORTED) {\r\n                        Log.e(&quot;error&quot;, &quot;This Language is not supported&quot;);\r\n                    } else {\r\n                        return;\r\n                    }\r\n                } else if (status == TextToSpeech.ERROR)\r\n                    Log.e(&quot;error&quot;, &quot;Initilization Failed!&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void ConvertTextToSpeech(String text, Float f) {\r\n        tts.speak(text, TextToSpeech.QUEUE_FLUSH, null);\r\n        tts.setSpeechRate(f);\r\n    }\r\n```\r\n\r\nThe array I am playing: \r\n```\r\nprivate String[] names = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;,&quot;ee&quot;, &quot;J&quot;, &quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;};\r\n```\r\n\r\nfor playing: \r\n\r\n\r\nConvertTextToSpeech(names[resID], 1.1f);\r\n\r\nAll other letters are playing except vowels. What issue is that? Does anyone know? \r\n","title":"Why are only consonants being played in my Android Text-To-Speech code?","body":"<p>My code for TTS.</p>\n<pre><code>public void speakUp() {\n        tts = new TextToSpeech(this, new TextToSpeech.OnInitListener() {\n            @Override\n            public void onInit(int status) {\n                if (status == TextToSpeech.SUCCESS) {\n                    Locale frenchLocale = new Locale(&quot;fr&quot;, &quot;FR&quot;);\n                    int result = tts.setLanguage(frenchLocale);\n                    if (result == TextToSpeech.LANG_MISSING_DATA ||\n                            result == TextToSpeech.LANG_NOT_SUPPORTED) {\n                        Log.e(&quot;error&quot;, &quot;This Language is not supported&quot;);\n                    } else {\n                        return;\n                    }\n                } else if (status == TextToSpeech.ERROR)\n                    Log.e(&quot;error&quot;, &quot;Initilization Failed!&quot;);\n            }\n        });\n    }\n\n    public static void ConvertTextToSpeech(String text, Float f) {\n        tts.speak(text, TextToSpeech.QUEUE_FLUSH, null);\n        tts.setSpeechRate(f);\n    }\n</code></pre>\n<p>The array I am playing:</p>\n<pre><code>private String[] names = {&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;,&quot;ee&quot;, &quot;J&quot;, &quot;K&quot;,&quot;L&quot;,&quot;M&quot;,&quot;N&quot;, &quot;O&quot;, &quot;P&quot;, &quot;Q&quot;, &quot;R&quot;, &quot;S&quot;,&quot;T&quot;,&quot;U&quot;,&quot;V&quot;,&quot;W&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;};\n</code></pre>\n<p>for playing:</p>\n<p>ConvertTextToSpeech(names[resID], 1.1f);</p>\n<p>All other letters are playing except vowels. What issue is that? Does anyone know?</p>\n"},{"tags":["java","spring-boot","multithreading"],"comments":[{"owner":{"account_id":4989848,"reputation":1603,"user_id":4012408,"display_name":"Rafael Guillen"},"score":1,"creation_date":1685454565,"post_id":76365159,"comment_id":134659992,"body_markdown":"You can migrate to Spring Webflux, WebClient and Reactor to implement this in a reactive way, you&#39;ll definitely get better performance, but it&#39;s a huge change.","body":"You can migrate to Spring Webflux, WebClient and Reactor to implement this in a reactive way, you&#39;ll definitely get better performance, but it&#39;s a huge change."},{"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"score":0,"creation_date":1685454858,"post_id":76365159,"comment_id":134660063,"body_markdown":"Just want to optimize the method.","body":"Just want to optimize the method."}],"answers":[{"tags":[],"owner":{"account_id":395867,"reputation":2757,"user_id":759049,"accept_rate":96,"display_name":"Pateman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685513931,"creation_date":1685513931,"answer_id":76370658,"question_id":76365159,"body_markdown":"Well, if the second API doesn&#39;t let you ask for multiple part descriptions, there&#39;s nothing really to do here, because you still need to ask for every part separately.\r\n\r\nOne thing that you could try to see if you gain any performance improvement is to use a pooled connection manager instead of creating a new `RestTemplate` everytime in `getDescriptionFromSecondAPI()`. You said you were using Spring Boot, so you can try to define the following bean in your configuration class (snippet taken from [here][1], you might need to modify it slightly to fit your purpose, I don&#39;t know what dependencies you have in your project):\r\n\r\n    @Bean\r\n    public RestTemplate pooledRestTemplate() {\r\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n        connectionManager.setMaxTotal(2000);\r\n        connectionManager.setDefaultMaxPerRoute(2000);\r\n    \r\n        HttpClient httpClient = HttpClientBuilder.create()\r\n            .setConnectionManager(connectionManager)\r\n            .build();\r\n    \r\n        return new RestTemplateBuilder().rootUri(&quot;http://service-b-base-url:8080/&quot;)\r\n            .setConnectTimeout(Duration.ofMillis(1000))\r\n            .setReadTimeout(Duration.ofMillis(1000))\r\n            .messageConverters(new StringHttpMessageConverter(), new MappingJackson2HttpMessageConverter())\r\n            .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\r\n            .build();\r\n    }\r\n\r\nInject that RestTemplate into the service in question and see if that helps. :)\r\n\r\n  [1]: https://medium.com/@nitinvohra/how-to-improve-performance-of-spring-resttemplate-6af37e0a0f33","title":"Handle two big APIs data processing quickly in spring boot","body":"<p>Well, if the second API doesn't let you ask for multiple part descriptions, there's nothing really to do here, because you still need to ask for every part separately.</p>\n<p>One thing that you could try to see if you gain any performance improvement is to use a pooled connection manager instead of creating a new <code>RestTemplate</code> everytime in <code>getDescriptionFromSecondAPI()</code>. You said you were using Spring Boot, so you can try to define the following bean in your configuration class (snippet taken from <a href=\"https://medium.com/@nitinvohra/how-to-improve-performance-of-spring-resttemplate-6af37e0a0f33\" rel=\"nofollow noreferrer\">here</a>, you might need to modify it slightly to fit your purpose, I don't know what dependencies you have in your project):</p>\n<pre><code>@Bean\npublic RestTemplate pooledRestTemplate() {\n    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n    connectionManager.setMaxTotal(2000);\n    connectionManager.setDefaultMaxPerRoute(2000);\n\n    HttpClient httpClient = HttpClientBuilder.create()\n        .setConnectionManager(connectionManager)\n        .build();\n\n    return new RestTemplateBuilder().rootUri(&quot;http://service-b-base-url:8080/&quot;)\n        .setConnectTimeout(Duration.ofMillis(1000))\n        .setReadTimeout(Duration.ofMillis(1000))\n        .messageConverters(new StringHttpMessageConverter(), new MappingJackson2HttpMessageConverter())\n        .requestFactory(() -&gt; new HttpComponentsClientHttpRequestFactory(httpClient))\n        .build();\n}\n</code></pre>\n<p>Inject that RestTemplate into the service in question and see if that helps. :)</p>\n"},{"tags":[],"owner":{"account_id":20484963,"reputation":35,"user_id":15032355,"display_name":"FredWoozley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685546044,"creation_date":1685546044,"answer_id":76374998,"question_id":76365159,"body_markdown":"Your current usage of the executor service seems to simply use a separate thread to run all requests sequentially (unless I&#39;m really missing some to me hidden feature of hashMap.forEach). You probably want to execute them in parallel. That means your map needs to be created outside of the executor call and you submit each individual retrieval to the executor individually rather than do of them in a single runnable.\r\n\r\nsomething like:\r\n\r\n      hashMap.forEach((key, value) -&gt;\r\n         executorService.execute(() -&gt; {\r\n                {\r\n                    String description = getDescriptionFromSecondAPI(key.toString(), entity);\r\n                    ((MyOrderPartObject) value).setPartDescription(description);\r\n                };\r\n            }));\r\n\r\n(code might not be syntactically correct but should give you the idea; Note that your structures need to be thread safe...)","title":"Handle two big APIs data processing quickly in spring boot","body":"<p>Your current usage of the executor service seems to simply use a separate thread to run all requests sequentially (unless I'm really missing some to me hidden feature of hashMap.forEach). You probably want to execute them in parallel. That means your map needs to be created outside of the executor call and you submit each individual retrieval to the executor individually rather than do of them in a single runnable.</p>\n<p>something like:</p>\n<pre><code>  hashMap.forEach((key, value) -&gt;\n     executorService.execute(() -&gt; {\n            {\n                String description = getDescriptionFromSecondAPI(key.toString(), entity);\n                ((MyOrderPartObject) value).setPartDescription(description);\n            };\n        }));\n</code></pre>\n<p>(code might not be syntactically correct but should give you the idea; Note that your structures need to be thread safe...)</p>\n"}],"owner":{"account_id":190607,"reputation":2765,"user_id":1053182,"accept_rate":48,"display_name":"Neelam Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685546044,"creation_date":1685451748,"question_id":76365159,"body_markdown":"I am working on spring boot application, in which some data to be processed from another API and reports are created.\r\n\r\nI have situation where I have to fetch the data from one API and the process it, from first API I have to extract some data and then call second API to set the result in the object.\r\n\r\nIt&#39;s sequential thing, I have to get the data from first then from first&#39;s result second API hit.\r\n\r\n        public MyOrderPart getReport(**List&lt;FirstAPIResult&gt; serviceOptions**) {\r\n    \r\n            MyOrderPart myOrderPart = new MyOrderPart();\r\n            List&lt;MyOrderPartObject&gt; myOrderPartList = new LinkedList&lt;&gt;();      \r\n            try {          \r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\r\n                headers.set(HttpHeaders.AUTHORIZATION, token);\r\n                HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n                HashMap hashMap = new HashMap();\r\n                if (!serviceOptions.isEmpty()) {\r\n                    for (MyReportModel myReportModel : serviceOptions) {\r\n                        List&lt;SomePartHeader&gt; partHeaderList = myReportModel.getPartHeaders();\r\n                        for (SomePartHeader partHeader : partHeaderList) {\r\n                            MyOrderPartObject myOrderPartObject = new MyOrderPartObject();\r\n                            myOrderPartObject.setSegmentNo(String.valueOf(myReportModel.getSegmentNo()));\r\n                            myOrderPartObject.setOperationNo(String.valueOf(myReportModel.getOperationNo()));\r\n                            myOrderPartObject.setCompCode(myReportModel.getSmcs().getCompCode());\r\n                            myOrderPartObject.setJobCode(myReportModel.getSmcs().getJobCode());\r\n                            myOrderPartObject.setModCode(myReportModel.getSmcs().getModCode());\r\n                            myOrderPartObject.setDescription(myReportModel.getDescription().getDescription());\r\n                            myOrderPartObject.setPartBeginSn(String.valueOf(partHeader.getPartHeaderBeginSn()));\r\n                            myOrderPartObject.setPartEndSn(String.valueOf(partHeader.getPartHeaderEndSn()));\r\n                            myOrderPartObject.setPartGroupNumber(partHeader.getPartHeaderGroupNumber().trim());\r\n                            Optional&lt;SomeJobPart&gt; jobPart = partHeader.getJobParts()\r\n                                    .stream()\r\n                                    .filter(x -&gt; partHeader.getPartHeaderGroupNumber()\r\n                                            .trim()\r\n                                            .equals(x.getMasterPart().getPartNumber().trim()))\r\n                                    .findAny();\r\n                            if (jobPart.isPresent()) {\r\n                                //Second API\r\n                                 String description = getDescriptionFromSecondAPI(jobPart.get().getPartGroupNumber(), entity);\r\n                                myOrderPartObject.setPartDescription(description);\r\n     hashMap.put(jobPart.get().getPartGroupNumber(), workOrderPartObject);\r\n                            } else {\r\n                                myOrderPartObject.setPartDescription(&quot;&quot;);\r\n                            }                      \r\n                            myOrderPartList.add(myOrderPartObject);\r\n    \r\n                        }\r\n                    }               \r\n                }\r\n            } catch (Exception ex) {\r\n                context.getLogger().info(&quot;error: &quot; + ex.getMessage());\r\n            }\r\n            myOrderPart.setWorkOrderPart(myOrderPartList);      \r\n            return myOrderPart;\r\n        }\r\n\r\nHere **List&lt;FirstAPIResult&gt; serviceOptions** it return from One API and I am processing it.\r\n\r\nNow have to call **getDescriptionFromSecondAPI(...)** from first process.\r\n\r\n     public String getDescriptionFromSecondAPI(String partNumber, HttpEntity&lt;?&gt; entity) {\r\n\r\n        String secondURL = SECOND_API_BASE_URL + &quot;?q=&quot; + partNumber + &quot;&amp;sId=constant&quot;;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseEntity&lt;Object&gt; respEntity = null;\r\n        String description = &quot;&quot;;\r\n        try {\r\n            respEntity = restTemplate.exchange(secondURL , HttpMethod.GET, entity,\r\n                    Object.class\r\n            );\r\n            Object body = respEntity.getBody();\r\n            String name = (String) ((LinkedHashMap) ((ArrayList) ((LinkedHashMap) body).get(&quot;abc&quot;)).get(0)).get(&quot;name&quot;);\r\n            if (name != null) {\r\n                description = name.substring(name.indexOf(&quot;:&quot;) + 1, name.length());\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            context.getLogger().info(&quot;Exception  : &quot; + ex);\r\n        }\r\n        return description.trim();\r\n    }\r\n\r\ngetDescriptionFromSecondAPI(...) this method taking long time to get the result and setPartDescription(here), it taking less han one second to get the data for one partNumber.\r\n\r\nHow can I improve the performance of the method so that I can get the response quickly and set it. The input depend from first API. How can I improve it.\r\n\r\nI tried this as well : \r\n\r\nhashMap created at if condition when I am getting jobPart, then after processed it as :\r\n\r\n     ExecutorService executorService = Executors.newFixedThreadPool(100);\r\n                executorService.execute(() -&gt; {\r\n                    hashMap.forEach((key, value) -&gt;\r\n                    {\r\n                        String description = getDescriptionFromSecondAPI(key.toString(), entity);\r\n                        ((MyOrderPartObject) value).setPartDescription(description);\r\n                    });\r\n                });\r\n\r\nThen also it taking time around 4+ mins to set the complete object. How can I improve the performance in java spring boot.","title":"Handle two big APIs data processing quickly in spring boot","body":"<p>I am working on spring boot application, in which some data to be processed from another API and reports are created.</p>\n<p>I have situation where I have to fetch the data from one API and the process it, from first API I have to extract some data and then call second API to set the result in the object.</p>\n<p>It's sequential thing, I have to get the data from first then from first's result second API hit.</p>\n<pre><code>    public MyOrderPart getReport(**List&lt;FirstAPIResult&gt; serviceOptions**) {\n\n        MyOrderPart myOrderPart = new MyOrderPart();\n        List&lt;MyOrderPartObject&gt; myOrderPartList = new LinkedList&lt;&gt;();      \n        try {          \n            HttpHeaders headers = new HttpHeaders();\n            headers.set(HttpHeaders.ACCEPT, MediaType.APPLICATION_JSON_VALUE);\n            headers.set(HttpHeaders.AUTHORIZATION, token);\n            HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\n            HashMap hashMap = new HashMap();\n            if (!serviceOptions.isEmpty()) {\n                for (MyReportModel myReportModel : serviceOptions) {\n                    List&lt;SomePartHeader&gt; partHeaderList = myReportModel.getPartHeaders();\n                    for (SomePartHeader partHeader : partHeaderList) {\n                        MyOrderPartObject myOrderPartObject = new MyOrderPartObject();\n                        myOrderPartObject.setSegmentNo(String.valueOf(myReportModel.getSegmentNo()));\n                        myOrderPartObject.setOperationNo(String.valueOf(myReportModel.getOperationNo()));\n                        myOrderPartObject.setCompCode(myReportModel.getSmcs().getCompCode());\n                        myOrderPartObject.setJobCode(myReportModel.getSmcs().getJobCode());\n                        myOrderPartObject.setModCode(myReportModel.getSmcs().getModCode());\n                        myOrderPartObject.setDescription(myReportModel.getDescription().getDescription());\n                        myOrderPartObject.setPartBeginSn(String.valueOf(partHeader.getPartHeaderBeginSn()));\n                        myOrderPartObject.setPartEndSn(String.valueOf(partHeader.getPartHeaderEndSn()));\n                        myOrderPartObject.setPartGroupNumber(partHeader.getPartHeaderGroupNumber().trim());\n                        Optional&lt;SomeJobPart&gt; jobPart = partHeader.getJobParts()\n                                .stream()\n                                .filter(x -&gt; partHeader.getPartHeaderGroupNumber()\n                                        .trim()\n                                        .equals(x.getMasterPart().getPartNumber().trim()))\n                                .findAny();\n                        if (jobPart.isPresent()) {\n                            //Second API\n                             String description = getDescriptionFromSecondAPI(jobPart.get().getPartGroupNumber(), entity);\n                            myOrderPartObject.setPartDescription(description);\n hashMap.put(jobPart.get().getPartGroupNumber(), workOrderPartObject);\n                        } else {\n                            myOrderPartObject.setPartDescription(&quot;&quot;);\n                        }                      \n                        myOrderPartList.add(myOrderPartObject);\n\n                    }\n                }               \n            }\n        } catch (Exception ex) {\n            context.getLogger().info(&quot;error: &quot; + ex.getMessage());\n        }\n        myOrderPart.setWorkOrderPart(myOrderPartList);      \n        return myOrderPart;\n    }\n</code></pre>\n<p>Here <strong>List serviceOptions</strong> it return from One API and I am processing it.</p>\n<p>Now have to call <strong>getDescriptionFromSecondAPI(...)</strong> from first process.</p>\n<pre><code> public String getDescriptionFromSecondAPI(String partNumber, HttpEntity&lt;?&gt; entity) {\n\n    String secondURL = SECOND_API_BASE_URL + &quot;?q=&quot; + partNumber + &quot;&amp;sId=constant&quot;;\n    RestTemplate restTemplate = new RestTemplate();\n    ResponseEntity&lt;Object&gt; respEntity = null;\n    String description = &quot;&quot;;\n    try {\n        respEntity = restTemplate.exchange(secondURL , HttpMethod.GET, entity,\n                Object.class\n        );\n        Object body = respEntity.getBody();\n        String name = (String) ((LinkedHashMap) ((ArrayList) ((LinkedHashMap) body).get(&quot;abc&quot;)).get(0)).get(&quot;name&quot;);\n        if (name != null) {\n            description = name.substring(name.indexOf(&quot;:&quot;) + 1, name.length());\n        }\n\n    } catch (Exception ex) {\n        context.getLogger().info(&quot;Exception  : &quot; + ex);\n    }\n    return description.trim();\n}\n</code></pre>\n<p>getDescriptionFromSecondAPI(...) this method taking long time to get the result and setPartDescription(here), it taking less han one second to get the data for one partNumber.</p>\n<p>How can I improve the performance of the method so that I can get the response quickly and set it. The input depend from first API. How can I improve it.</p>\n<p>I tried this as well :</p>\n<p>hashMap created at if condition when I am getting jobPart, then after processed it as :</p>\n<pre><code> ExecutorService executorService = Executors.newFixedThreadPool(100);\n            executorService.execute(() -&gt; {\n                hashMap.forEach((key, value) -&gt;\n                {\n                    String description = getDescriptionFromSecondAPI(key.toString(), entity);\n                    ((MyOrderPartObject) value).setPartDescription(description);\n                });\n            });\n</code></pre>\n<p>Then also it taking time around 4+ mins to set the complete object. How can I improve the performance in java spring boot.</p>\n"},{"tags":["java","asynchronous","java-8","completable-future"],"answers":[{"comments":[{"owner":{"account_id":2396215,"reputation":1188,"user_id":2094956,"display_name":"Mr Matrix"},"score":4,"creation_date":1581542948,"post_id":60159269,"comment_id":106474492,"body_markdown":"Thanks @Deadpool, I should have read the documentation more carefully. Nice username btw.","body":"Thanks @Deadpool, I should have read the documentation more carefully. Nice username btw."},{"owner":{"account_id":4727926,"reputation":880,"user_id":3824306,"display_name":"M.."},"score":7,"creation_date":1644506536,"post_id":60159269,"comment_id":125629884,"body_markdown":"why is Deadpool replying inside the Matrix?","body":"why is Deadpool replying inside the Matrix?"}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":2,"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1581373561,"creation_date":1581372918,"answer_id":60159269,"question_id":60159153,"body_markdown":"[runAsync][1] takes Runnable as input parameter and returns `CompletableFuture&lt;Void&gt;`, which means it does not return any result.\r\n\r\n    CompletableFuture&lt;Void&gt; run = CompletableFuture.runAsync(()-&gt; System.out.println(&quot;hello&quot;));\r\n\r\nBut [suppyAsync][2] takes Supplier as argument and returns the `CompletableFuture&lt;U&gt;` with result value, which means it does not take any input parameters but it returns result as output.\r\n\r\n    CompletableFuture&lt;String&gt; supply = CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\tSystem.out.println(&quot;Hello&quot;);\r\n\t\t\treturn &quot;result&quot;;\r\n\t\t});\r\n\r\n     System.out.println(supply.get());  //result\r\n\r\n**Conclusion :** So if you want the result to be returned, then choose `supplyAsync` or if you just want to run an async action, then choose `runAsync`.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-","title":"CompletableFuture runAsync vs supplyAsync, when to choose one over the other?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\" rel=\"noreferrer\">runAsync</a> takes Runnable as input parameter and returns <code>CompletableFuture&lt;Void&gt;</code>, which means it does not return any result.</p>\n\n<pre><code>CompletableFuture&lt;Void&gt; run = CompletableFuture.runAsync(()-&gt; System.out.println(\"hello\"));\n</code></pre>\n\n<p>But <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#supplyAsync-java.util.function.Supplier-\" rel=\"noreferrer\">suppyAsync</a> takes Supplier as argument and returns the <code>CompletableFuture&lt;U&gt;</code> with result value, which means it does not take any input parameters but it returns result as output.</p>\n\n<pre><code>CompletableFuture&lt;String&gt; supply = CompletableFuture.supplyAsync(() -&gt; {\n        System.out.println(\"Hello\");\n        return \"result\";\n    });\n\n System.out.println(supply.get());  //result\n</code></pre>\n\n<p><strong>Conclusion :</strong> So if you want the result to be returned, then choose <code>supplyAsync</code> or if you just want to run an async action, then choose <code>runAsync</code>.</p>\n"}],"owner":{"account_id":2396215,"reputation":1188,"user_id":2094956,"display_name":"Mr Matrix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31115,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":60159269,"answer_count":1,"score":37,"last_activity_date":1685545575,"creation_date":1581372334,"question_id":60159153,"body_markdown":"What is the rationale for choosing one over the other? Only difference I could infer after reading the [documentation][1] is that runAsync takes Runnable as an input parameter and supplyAsync takes Supplier as an input parameter.\r\n\r\n[This][2] stackoverflow post discusses the motivation behind using Supplier with supplyAsync method but it still does not answer when to prefer one over the other.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\r\n  [2]: https://stackoverflow.com/questions/36256337/completablefuture-supplyasync","title":"CompletableFuture runAsync vs supplyAsync, when to choose one over the other?","body":"<p>What is the rationale for choosing one over the other? Only difference I could infer after reading the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#runAsync-java.lang.Runnable-\" rel=\"noreferrer\">documentation</a> is that runAsync takes Runnable as an input parameter and supplyAsync takes Supplier as an input parameter.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36256337/completablefuture-supplyasync\">This</a> stackoverflow post discusses the motivation behind using Supplier with supplyAsync method but it still does not answer when to prefer one over the other.</p>\n"},{"tags":["java","pdf","tiff","openpdf"],"owner":{"account_id":9061273,"reputation":51,"user_id":8862290,"display_name":"user8862290"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1685545452,"creation_date":1685542102,"question_id":76374374,"body_markdown":"I have scanned paper documents and OCR&#39;ed them into text.  I am creating PDF documents from groups of the TIFF images.  I am using Java and OpenPDF.  How can I embed the text behind the tiff image when creating a PDF in a manner that allows the document which only displays the TIFF images to be text searchable?  More than 10 years ago I had the code to do this but long since removed it and no version of it remains.  The internet seems to be forgetting these things now.  I searched high and low and cannot find an example of how to do this.  Here is what I am currently using to build the PDF. I retrieve the raw data from the TIFF image and write into the PdfWriter document.  The problem is that the text is not behind the image or hidden, it is on a separate page altogether and I cannot find an API to specify the text location as well.   \r\n\t\r\n```\r\n\t// step 1: creation of a document-object\r\n\tDocument document = new Document( );\r\n        document.setMargins( 0, 0, 0, 0 );\r\n\t// create a PDF-stream object.\r\n\tPdfWriter.getInstance( document, bout );\r\n\tdocument.open( );\r\n\tfor( int x = 0; x &lt; parts.length; x++ )\r\n\t{\r\n\t\tImageData data = getImageData( db, parts[x].getImageId( ), ImageData.TIFF_FORMAT, usesClob );\r\n\t\tImageInputStream iis = ImageIO.createImageInputStream( data.toStream( true ) );\r\n\t\tImageReader reader = getTiffImageReader();\r\n\t        reader.setInput(iis);\t\t        \r\n\t        int pages = reader.getNumImages(true);\r\n\t        for (int imageIndex = 0; imageIndex &lt; pages; imageIndex++) \r\n\t        {\r\n\t            BufferedImage bufferedImage = reader.read(imageIndex);\r\n\t            Image image = Image.getInstance(bufferedImage, null, false);\r\n\t\t    image.scaleToFit( document.getPageSize( ).getWidth( ), \r\n                            document.getPageSize( ).getHeight( ) );\r\n\t            document.add(image);\r\n\t            // Add the text behind the image.\r\n\t            String pageId = parts[x].getId( );\r\n\t            ArrayList&lt;ImageDataText&gt; blocks = getPageImageDataText( db, pageId );\r\n\t            for( ImageDataText block : blocks )\r\n\t            {\r\n\t            \tParagraph p = new Paragraph();\r\n\t            \tfor( LineText text : block.getLineText( ) )\r\n\t            \t{\r\n\t            \t\tp.add( new Chunk( text.getLine( ) ) );\r\n\t            \t}\r\n\t            \tdocument.add( p );\r\n\t            }\r\n\t            // new page.\r\n\t            document.newPage();\r\n\t        }\r\n\t}\r\n\tdocument.close( );\r\n\tbout.writeTo( out );\r\n\tout.flush( );\r\n\tout.close( );\r\n```\r\n","title":"How to embed OCR text from TIFF images into PDF documents using Java and OpenPDF?","body":"<p>I have scanned paper documents and OCR'ed them into text.  I am creating PDF documents from groups of the TIFF images.  I am using Java and OpenPDF.  How can I embed the text behind the tiff image when creating a PDF in a manner that allows the document which only displays the TIFF images to be text searchable?  More than 10 years ago I had the code to do this but long since removed it and no version of it remains.  The internet seems to be forgetting these things now.  I searched high and low and cannot find an example of how to do this.  Here is what I am currently using to build the PDF. I retrieve the raw data from the TIFF image and write into the PdfWriter document.  The problem is that the text is not behind the image or hidden, it is on a separate page altogether and I cannot find an API to specify the text location as well.</p>\n<pre><code>    // step 1: creation of a document-object\n    Document document = new Document( );\n        document.setMargins( 0, 0, 0, 0 );\n    // create a PDF-stream object.\n    PdfWriter.getInstance( document, bout );\n    document.open( );\n    for( int x = 0; x &lt; parts.length; x++ )\n    {\n        ImageData data = getImageData( db, parts[x].getImageId( ), ImageData.TIFF_FORMAT, usesClob );\n        ImageInputStream iis = ImageIO.createImageInputStream( data.toStream( true ) );\n        ImageReader reader = getTiffImageReader();\n            reader.setInput(iis);               \n            int pages = reader.getNumImages(true);\n            for (int imageIndex = 0; imageIndex &lt; pages; imageIndex++) \n            {\n                BufferedImage bufferedImage = reader.read(imageIndex);\n                Image image = Image.getInstance(bufferedImage, null, false);\n            image.scaleToFit( document.getPageSize( ).getWidth( ), \n                            document.getPageSize( ).getHeight( ) );\n                document.add(image);\n                // Add the text behind the image.\n                String pageId = parts[x].getId( );\n                ArrayList&lt;ImageDataText&gt; blocks = getPageImageDataText( db, pageId );\n                for( ImageDataText block : blocks )\n                {\n                    Paragraph p = new Paragraph();\n                    for( LineText text : block.getLineText( ) )\n                    {\n                        p.add( new Chunk( text.getLine( ) ) );\n                    }\n                    document.add( p );\n                }\n                // new page.\n                document.newPage();\n            }\n    }\n    document.close( );\n    bout.writeTo( out );\n    out.flush( );\n    out.close( );\n</code></pre>\n"},{"tags":["java","date","long-integer"],"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1316532021,"post_id":7487460,"comment_id":9063341,"body_markdown":"Could you tell what values do you expect? The question of seconds/milliseconds may be a valid one, but 1220227200 is not 1/1/1970. It looks like you are passing 0 to the constructor. Some more code might help.","body":"Could you tell what values do you expect? The question of seconds/milliseconds may be a valid one, but 1220227200 is not 1/1/1970. It looks like you are passing 0 to the constructor. Some more code might help."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1420044511,"post_id":7487460,"comment_id":43859760,"body_markdown":"it returns jan 15th 1970, here, not jan 1st.","body":"it returns jan 15th 1970, here, not jan 1st."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1594419726,"post_id":7487460,"comment_id":111130754,"body_markdown":"FYI, the terribly flawed date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/tutorial/datetime/TOC.html) classes built into Java 8 and later.","body":"FYI, the terribly flawed date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":2,"up_vote_count":191,"is_accepted":false,"score":189,"last_activity_date":1685545026,"creation_date":1316531445,"answer_id":7487489,"question_id":7487460,"body_markdown":"The [constructor of `java.util.Date` taking the `date` as a `long` argument][1] interprets the argument in **milliseconds**, not seconds.\r\n\r\n&gt; Parameters:\r\n`date` - the milliseconds since January 1, 1970, 00:00:00 GMT.\r\n\r\nYour value is in seconds, so you need to convert it to milliseconds. You can either multiply it by 1000 or use the [`TimeUnit`][2] helper.\r\n\r\n    Date date = new Date(TimeUnit.SECONDS.toMillis(1220227200));\r\n\r\nThis prints here:\r\n\r\n&gt; Sun Aug 31 20:00:00 GMT-04:00 2008\r\n\r\nWhich equals to 1 september 2008 at 00:00 UTC.\r\n\r\nIn case you&#39;re already on Java 8 or newer, it&#39;s better to use [`Instant#ofEpochSecond()`][3] instead. This way you don&#39;t need to convert seconds to milliseconds even though there&#39;s also a [`Instant#ofEpochMilli()`][4] method.\r\n\r\n    Instant instant = Instant.ofEpochSecond(1220227200);\r\n\r\nThis prints here:\r\n\r\n&gt; 2008-09-01T00:00:00Z\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Date.html#%3Cinit%3E(long)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/TimeUnit.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#ofEpochSecond(long)\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)","title":"Converting Long to Date in Java returns 1970","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Date.html#%3Cinit%3E(long)\" rel=\"nofollow noreferrer\">constructor of <code>java.util.Date</code> taking the <code>date</code> as a <code>long</code> argument</a> interprets the argument in <strong>milliseconds</strong>, not seconds.</p>\n<blockquote>\n<p>Parameters:\n<code>date</code> - the milliseconds since January 1, 1970, 00:00:00 GMT.</p>\n</blockquote>\n<p>Your value is in seconds, so you need to convert it to milliseconds. You can either multiply it by 1000 or use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/TimeUnit.html\" rel=\"nofollow noreferrer\"><code>TimeUnit</code></a> helper.</p>\n<pre><code>Date date = new Date(TimeUnit.SECONDS.toMillis(1220227200));\n</code></pre>\n<p>This prints here:</p>\n<blockquote>\n<p>Sun Aug 31 20:00:00 GMT-04:00 2008</p>\n</blockquote>\n<p>Which equals to 1 september 2008 at 00:00 UTC.</p>\n<p>In case you're already on Java 8 or newer, it's better to use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#ofEpochSecond(long)\" rel=\"nofollow noreferrer\"><code>Instant#ofEpochSecond()</code></a> instead. This way you don't need to convert seconds to milliseconds even though there's also a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Instant.html#ofEpochMilli(long)\" rel=\"nofollow noreferrer\"><code>Instant#ofEpochMilli()</code></a> method.</p>\n<pre><code>Instant instant = Instant.ofEpochSecond(1220227200);\n</code></pre>\n<p>This prints here:</p>\n<blockquote>\n<p>2008-09-01T00:00:00Z</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1316531928,"post_id":7487492,"comment_id":9063307,"body_markdown":"@f1sh: I didn&#39;t downvote, but the original answer was different. He edited it within 5 minute grace period.","body":"@f1sh: I didn&#39;t downvote, but the original answer was different. He edited it within 5 minute grace period."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1316532203,"post_id":7487492,"comment_id":9063389,"body_markdown":"thanks for the clarification. That&#39;s the ownly downside SO has... :-/","body":"thanks for the clarification. That&#39;s the ownly downside SO has... :-/"}],"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"comment_count":2,"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1316531449,"creation_date":1316531449,"answer_id":7487492,"question_id":7487460,"body_markdown":"It looks like your longs are seconds, and not milliseconds. Date constructor takes time as millis, so \r\n\r\n    Date d = new Date(timeInSeconds * 1000);\r\n","title":"Converting Long to Date in Java returns 1970","body":"<p>It looks like your longs are seconds, and not milliseconds. Date constructor takes time as millis, so </p>\n\n<pre><code>Date d = new Date(timeInSeconds * 1000);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":23,"creation_date":1316531838,"post_id":7487495,"comment_id":9063284,"body_markdown":"more properly 30000 milliseconds too slow","body":"more properly 30000 milliseconds too slow"}],"tags":[],"owner":{"account_id":314645,"reputation":921,"user_id":629930,"display_name":"Magnus Winter"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1316531476,"creation_date":1316531476,"answer_id":7487495,"question_id":7487460,"body_markdown":"Those are probably timestamps in **seconds** and not in **milliseconds** which is required for the java new Date(long) constructor. Just multiply them by 1000 and you should be allright.","title":"Converting Long to Date in Java returns 1970","body":"<p>Those are probably timestamps in <strong>seconds</strong> and not in <strong>milliseconds</strong> which is required for the java new Date(long) constructor. Just multiply them by 1000 and you should be allright.</p>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316531607,"creation_date":1316531607,"answer_id":7487521,"question_id":7487460,"body_markdown":"New Date(number) returns a date that&#39;s `number` milliseconds after 1 Jan 1970.  Odds are you date format isn&#39;t showing hours, minutes, and seconds for you to see that it&#39;s just a little bit after 1 Jan 1970.\r\n\r\nYou need to parse the date according to the correct parsing routing.  I don&#39;t know what a 1220227200 is, but if it&#39;s seconds after 1 JAN 1970, then multiply it to yield milliseconds.  If it is not, then convert it in some manner to milliseconds after 1970 (if you want to continue to use java.util.Date).","title":"Converting Long to Date in Java returns 1970","body":"<p>New Date(number) returns a date that's <code>number</code> milliseconds after 1 Jan 1970.  Odds are you date format isn't showing hours, minutes, and seconds for you to see that it's just a little bit after 1 Jan 1970.</p>\n\n<p>You need to parse the date according to the correct parsing routing.  I don't know what a 1220227200 is, but if it's seconds after 1 JAN 1970, then multiply it to yield milliseconds.  If it is not, then convert it in some manner to milliseconds after 1970 (if you want to continue to use java.util.Date).</p>\n"},{"tags":[],"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316531632,"creation_date":1316531632,"answer_id":7487527,"question_id":7487460,"body_markdown":"Works for me. You probably want to multiplz it with 1000, since what you get are the seconds from 1970 and you have to pass the milliseconds from jan 1 1970","title":"Converting Long to Date in Java returns 1970","body":"<p>Works for me. You probably want to multiplz it with 1000, since what you get are the seconds from 1970 and you have to pass the milliseconds from jan 1 1970</p>\n"},{"tags":[],"owner":{"account_id":903562,"reputation":15094,"user_id":939023,"accept_rate":90,"display_name":"Shivan Dragon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1316531647,"creation_date":1316531647,"answer_id":7487532,"question_id":7487460,"body_markdown":"1220227200 corresponds to Jan 15 1980 (and indeed new Date(1220227200).toString() returns &quot;Thu Jan 15 03:57:07 CET 1970&quot;). If you pass a long value to a date, that is before 01/01/1970 it will in fact return a date of 01/01/1970. Make sure that your values are not in this situation (lower than 82800000). ","title":"Converting Long to Date in Java returns 1970","body":"<p>1220227200 corresponds to Jan 15 1980 (and indeed new Date(1220227200).toString() returns \"Thu Jan 15 03:57:07 CET 1970\"). If you pass a long value to a date, that is before 01/01/1970 it will in fact return a date of 01/01/1970. Make sure that your values are not in this situation (lower than 82800000). </p>\n"},{"tags":[],"owner":{"account_id":2377334,"reputation":49,"user_id":2080308,"display_name":"Mohammad Namvar"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1369436976,"creation_date":1361100227,"answer_id":14920540,"question_id":7487460,"body_markdown":"Try this:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTimeInMillis(1220227200 * 1000);\r\n    System.out.println(cal.getTime());","title":"Converting Long to Date in Java returns 1970","body":"<p>Try this:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setTimeInMillis(1220227200 * 1000);\nSystem.out.println(cal.getTime());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":774978,"reputation":3711,"user_id":832174,"accept_rate":83,"display_name":"Jack G."},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1387318396,"creation_date":1369425076,"answer_id":16742626,"question_id":7487460,"body_markdown":"The long values, most likely, correspond to [Epoch][1] timestamps, and the values are:\r\n\r\n1220227200 = Mon, 01 Sep 2008 00:00:00 GMT\r\n\r\n1220832000 = Mon, 08 Sep 2008 00:00:00 GMT\r\n\r\n1221436800 = Mon, 15 Sep 2008 00:00:00 GMT\r\n\r\nOne can convert these long values to [java.util.Date][2], taking into account the fact java.util.Date uses millisecs – as previously hinted, but with some flaw - like this:\r\n \r\n    // note: enforcing long literals (L), without it the values would just be wrong.\r\n    Date date = new Date(1220227200L * 1000L); \r\n\r\nNow, to display the date correctly, one can use java.text.DateFormat as illustrated hereafter:\r\n\r\n\r\n    DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);\r\n    df.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    System.out.println(&quot;Wrong date time value: &quot; + date);\r\n    System.out.println(&quot;Correct date time value: &quot; + df.format(date));\r\n\r\nBelow are the results of displaying the converted long value to java.util.Date without \r\nusing and using the DateFormat:\r\n\r\n\r\n    Date wrong (off by 2 hours): Mon Sep 01 02:00:00 CEST 2008\r\n    Correct date : Monday, 1 September 2008 00:00:00 o&#39;clock UTC\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html","title":"Converting Long to Date in Java returns 1970","body":"<p>The long values, most likely, correspond to <a href=\"https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\" rel=\"noreferrer\">Epoch</a> timestamps, and the values are:</p>\n\n<p>1220227200 = Mon, 01 Sep 2008 00:00:00 GMT</p>\n\n<p>1220832000 = Mon, 08 Sep 2008 00:00:00 GMT</p>\n\n<p>1221436800 = Mon, 15 Sep 2008 00:00:00 GMT</p>\n\n<p>One can convert these long values to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"noreferrer\">java.util.Date</a>, taking into account the fact java.util.Date uses millisecs – as previously hinted, but with some flaw - like this:</p>\n\n<pre><code>// note: enforcing long literals (L), without it the values would just be wrong.\nDate date = new Date(1220227200L * 1000L); \n</code></pre>\n\n<p>Now, to display the date correctly, one can use java.text.DateFormat as illustrated hereafter:</p>\n\n<pre><code>DateFormat df = DateFormat.getDateTimeInstance(DateFormat.FULL, DateFormat.FULL);\ndf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nSystem.out.println(\"Wrong date time value: \" + date);\nSystem.out.println(\"Correct date time value: \" + df.format(date));\n</code></pre>\n\n<p>Below are the results of displaying the converted long value to java.util.Date without \nusing and using the DateFormat:</p>\n\n<pre><code>Date wrong (off by 2 hours): Mon Sep 01 02:00:00 CEST 2008\nCorrect date : Monday, 1 September 2008 00:00:00 o'clock UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3743934,"reputation":139,"user_id":3113082,"display_name":"Marlon"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1387318521,"creation_date":1387318111,"answer_id":20645731,"question_id":7487460,"body_markdown":"Only set the time in mills on Calendar  object\r\n\r\n    Calendar c = Calendar.getInstance();\r\n    c.setTimeInMillis(1385355600000l);\r\n    System.out.println(c.get(Calendar.YEAR));\r\n    System.out.println(c.get(Calendar.MONTH));\r\n    System.out.println(c.get(Calendar.DAY_OF_MONTH));\r\n    // get Date\r\n    System.out.println(c.getTime());","title":"Converting Long to Date in Java returns 1970","body":"<p>Only set the time in mills on Calendar  object</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\nc.setTimeInMillis(1385355600000l);\nSystem.out.println(c.get(Calendar.YEAR));\nSystem.out.println(c.get(Calendar.MONTH));\nSystem.out.println(c.get(Calendar.DAY_OF_MONTH));\n// get Date\nSystem.out.println(c.getTime());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1870396,"reputation":917,"user_id":1692767,"accept_rate":0,"display_name":"Suyash Dixit"},"score":2,"creation_date":1474573029,"post_id":20646345,"comment_id":66598334,"body_markdown":"Cheers buddy. Great explanation. I was getting new DateTime(&lt;long number&gt;) from 1970 when I realised that i was giving it in seconds and required in milliseconds","body":"Cheers buddy. Great explanation. I was getting new DateTime(&lt;long number&gt;) from 1970 when I realised that i was giving it in seconds and required in milliseconds"},{"owner":{"account_id":8640558,"reputation":666,"user_id":6469368,"accept_rate":100,"display_name":"Onome Sotu"},"score":0,"creation_date":1668084210,"post_id":20646345,"comment_id":131323906,"body_markdown":"Absolutely brilliant explanation of the Date/DateTime. Thank you!","body":"Absolutely brilliant explanation of the Date/DateTime. Thank you!"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1594419840,"creation_date":1387320895,"answer_id":20646345,"question_id":7487460,"body_markdown":"# tl;dr\r\n\r\n    java.time.Instant                    // Represent a moment as seen in UTC. Internally, a count of nanoseconds since 1970-01-01T00:00Z.\r\n    .ofEpochSecond( 1_220_227_200L )     // Pass a count of whole seconds since the same epoch reference of 1970-01-01T00:00Z.\r\n\r\n# Know Your Data\r\n\r\nPeople use various precisions in tracking time as a number since an [epoch][1]. So when you obtain some numbers to be interpreted as a count since an epoch, you must determine:\r\n\r\n - **What epoch?**&lt;br&gt;[Many epochs dates][2] have been used in various systems. Commonly used is [POSIX/Unix time][3], where the epoch is the first moment of 1970 in UTC. But you should not *assume* this epoch.\r\n - **What precision?**&lt;br&gt;Are we talking seconds, [milliseconds][4], [microseconds][5], or [nanoseconds][6] since the epoch?\r\n - **What time zone?**&lt;br&gt;Usually a count since epoch is in [UTC][7]/GMT time zone, that is, has no time zone offset at all. But sometimes, when involving inexperienced or date-time ignorant programmers, there may be an implied time zone.\r\n\r\nIn your case, as others noted, you seem to have been given seconds since the Unix epoch. But you are passing those seconds to a constructor that expects milliseconds. So the solution is to multiply by 1,000. \r\n\r\nLessons learned:\r\n\r\n - Determine, don&#39;t assume, the meaning of received data.\r\n - Read [the doc][8].\r\n\r\n![Graph showing various granularities of resolution in date-time systems including whole seconds, milliseconds, microseconds, and nanoseconds.][9]\r\n\r\n# Your Data\r\n\r\nYour data seems to be in whole seconds. If we assume an epoch of the beginning of 1970, and if we assume UTC time zone, then `1,220,227,200` is the first moment of the first day of September 2008.\r\n\r\n# Joda-Time\r\n\r\nThe java.util.Date and .Calendar classes bundled with Java are notoriously troublesome. Avoid them. Use instead either the [Joda-Time][10] library or the new [java.time package][11] bundled in Java 8 (and inspired by Joda-Time).\r\n\r\nNote that unlike j.u.Date, a [`DateTime`][12] in Joda-Time truly knows its own assigned [time zone][13]. So in the example Joda-Time 2.4 code seen below, note that we first parse the milliseconds using the default assumption of UTC. Then, secondly, we assign a time zone of Paris to adjust. Same moment in the timeline of the Universe, but different [wall-clock time][14]. For demonstration, we adjust again, to UTC. Almost always better to explicitly specify your desired/expected time zone rather than rely on an implicit default (often the cause of trouble in date-time work).\r\n\r\nWe need milliseconds to construct a DateTime. So take your input of seconds, and multiply by a thousand. Note that the result must be a 64-bit `long` as we would overflow a 32-bit `int`.\r\n\r\n    long input = 1_220_227_200L;  // Note the &quot;L&quot; appended to long integer literals.\r\n    long milliseconds = ( input * 1_000L ); // Use a &quot;long&quot;, not the usual &quot;int&quot;. Note the appended &quot;L&quot;.\r\n\r\nFeed that count of milliseconds to constructor. That particular constructor assumes the count is from the Unix epoch of 1970. So adjust time zone as desired, after construction.\r\n\r\nUse [proper time zone][15] names, a combination of continent and city/region. Never use 3 or 4 letter codes such as `EST` as they are neither standardized not unique.\r\n\r\n    DateTime dateTimeParis = new DateTime( milliseconds ).withZone( DateTimeZone.forID( &quot;Europe/Paris&quot; ) );\r\n\r\nFor demonstration, adjust the time zone again.\r\n\r\n    DateTime dateTimeUtc = dateTimeParis.withZone( DateTimeZone.UTC );\r\n    DateTime dateTimeMontr&#233;al = dateTimeParis.withZone( DateTimeZone.forID( &quot;America/Montreal&quot; ) );\r\n\r\nDump to console. Note how the date is different in Montr&#233;al, as the new day has begun in Europe but not yet in America.\r\n\r\n    System.out.println( &quot;dateTimeParis: &quot; + dateTimeParis );\r\n    System.out.println( &quot;dateTimeUTC: &quot; + dateTimeUtc );\r\n    System.out.println( &quot;dateTimeMontr&#233;al: &quot; + dateTimeMontr&#233;al );\r\n\r\nWhen run.\r\n    \r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    dateTimeParis: 2008-09-01T02:00:00.000+02:00\r\n    dateTimeUTC: 2008-09-01T00:00:00.000Z\r\n    dateTimeMontr&#233;al: 2008-08-31T20:00:00.000-04:00\r\n\r\n# java.time\r\n\r\nThe makers of Joda-Time have asked us to migrate to its replacement, the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework as soon as is convenient. While Joda-Time continues to be actively supported, all future development will be done on the java.time classes and their extensions in the ThreeTen-Extra project.\r\n\r\nThe java-time framework is defined by [JSR 310][16] and built into Java 8 and later. The java.time classes have been back-ported to Java 6 &amp; 7 on the [ThreeTen-Backport][17] project and to Android in the [ThreeTenABP][18] project. \r\n\r\nAn [`Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) is a moment on the timeline in [UTC][19] with a resolution of nanoseconds. Its epoch is the first moment of 1970 in UTC.\r\n\r\n    Instant instant = Instant.ofEpochSecond( 1_220_227_200L );\r\n\r\nApply an [offset-from-UTC][20] [`ZoneOffset`](https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html) to get an [`OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html). \r\n\r\nBetter yet, if known, apply a time zone [`ZoneId`](https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html) to get a [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html). \r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\r\n\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][21]][21]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\r\n  [2]: https://en.wikipedia.org/wiki/Epoch_%28reference_date%29#Notable_epoch_dates_in_computing\r\n  [3]: https://en.wikipedia.org/wiki/Unix_time\r\n  [4]: https://en.wikipedia.org/wiki/Millisecond\r\n  [5]: https://en.wikipedia.org/wiki/Microsecond\r\n  [6]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [7]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [8]: http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date%28long%29\r\n  [9]: http://i.stack.imgur.com/OW0RW.png\r\n  [10]: http://www.joda.org/joda-time/\r\n  [11]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [12]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [13]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\r\n  [14]: http://en.wikipedia.org/wiki/Wall-clock_time\r\n  [15]: https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [16]: https://jcp.org/en/jsr/detail?id=310\r\n  [17]: http://www.threeten.org/threetenbp/\r\n  [18]: https://github.com/JakeWharton/ThreeTenABP\r\n  [19]: https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [20]: https://en.m.wikipedia.org/wiki/UTC_offset\r\n  [21]: https://i.stack.imgur.com/WyAl2.png","title":"Converting Long to Date in Java returns 1970","body":"<h1>tl;dr</h1>\n<pre><code>java.time.Instant                    // Represent a moment as seen in UTC. Internally, a count of nanoseconds since 1970-01-01T00:00Z.\n.ofEpochSecond( 1_220_227_200L )     // Pass a count of whole seconds since the same epoch reference of 1970-01-01T00:00Z.\n</code></pre>\n<h1>Know Your Data</h1>\n<p>People use various precisions in tracking time as a number since an <a href=\"https://en.wikipedia.org/wiki/Epoch_%28reference_date%29\" rel=\"noreferrer\">epoch</a>. So when you obtain some numbers to be interpreted as a count since an epoch, you must determine:</p>\n<ul>\n<li><strong>What epoch?</strong><br><a href=\"https://en.wikipedia.org/wiki/Epoch_%28reference_date%29#Notable_epoch_dates_in_computing\" rel=\"noreferrer\">Many epochs dates</a> have been used in various systems. Commonly used is <a href=\"https://en.wikipedia.org/wiki/Unix_time\" rel=\"noreferrer\">POSIX/Unix time</a>, where the epoch is the first moment of 1970 in UTC. But you should not <em>assume</em> this epoch.</li>\n<li><strong>What precision?</strong><br>Are we talking seconds, <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a>, <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a>, or <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> since the epoch?</li>\n<li><strong>What time zone?</strong><br>Usually a count since epoch is in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>/GMT time zone, that is, has no time zone offset at all. But sometimes, when involving inexperienced or date-time ignorant programmers, there may be an implied time zone.</li>\n</ul>\n<p>In your case, as others noted, you seem to have been given seconds since the Unix epoch. But you are passing those seconds to a constructor that expects milliseconds. So the solution is to multiply by 1,000.</p>\n<p>Lessons learned:</p>\n<ul>\n<li>Determine, don't assume, the meaning of received data.</li>\n<li>Read <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date%28long%29\" rel=\"noreferrer\">the doc</a>.</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/OW0RW.png\" alt=\"Graph showing various granularities of resolution in date-time systems including whole seconds, milliseconds, microseconds, and nanoseconds.\" /></p>\n<h1>Your Data</h1>\n<p>Your data seems to be in whole seconds. If we assume an epoch of the beginning of 1970, and if we assume UTC time zone, then <code>1,220,227,200</code> is the first moment of the first day of September 2008.</p>\n<h1>Joda-Time</h1>\n<p>The java.util.Date and .Calendar classes bundled with Java are notoriously troublesome. Avoid them. Use instead either the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library or the new <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time package</a> bundled in Java 8 (and inspired by Joda-Time).</p>\n<p>Note that unlike j.u.Date, a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\"><code>DateTime</code></a> in Joda-Time truly knows its own assigned <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTimeZone.html\" rel=\"noreferrer\">time zone</a>. So in the example Joda-Time 2.4 code seen below, note that we first parse the milliseconds using the default assumption of UTC. Then, secondly, we assign a time zone of Paris to adjust. Same moment in the timeline of the Universe, but different <a href=\"http://en.wikipedia.org/wiki/Wall-clock_time\" rel=\"noreferrer\">wall-clock time</a>. For demonstration, we adjust again, to UTC. Almost always better to explicitly specify your desired/expected time zone rather than rely on an implicit default (often the cause of trouble in date-time work).</p>\n<p>We need milliseconds to construct a DateTime. So take your input of seconds, and multiply by a thousand. Note that the result must be a 64-bit <code>long</code> as we would overflow a 32-bit <code>int</code>.</p>\n<pre><code>long input = 1_220_227_200L;  // Note the &quot;L&quot; appended to long integer literals.\nlong milliseconds = ( input * 1_000L ); // Use a &quot;long&quot;, not the usual &quot;int&quot;. Note the appended &quot;L&quot;.\n</code></pre>\n<p>Feed that count of milliseconds to constructor. That particular constructor assumes the count is from the Unix epoch of 1970. So adjust time zone as desired, after construction.</p>\n<p>Use <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">proper time zone</a> names, a combination of continent and city/region. Never use 3 or 4 letter codes such as <code>EST</code> as they are neither standardized not unique.</p>\n<pre><code>DateTime dateTimeParis = new DateTime( milliseconds ).withZone( DateTimeZone.forID( &quot;Europe/Paris&quot; ) );\n</code></pre>\n<p>For demonstration, adjust the time zone again.</p>\n<pre><code>DateTime dateTimeUtc = dateTimeParis.withZone( DateTimeZone.UTC );\nDateTime dateTimeMontréal = dateTimeParis.withZone( DateTimeZone.forID( &quot;America/Montreal&quot; ) );\n</code></pre>\n<p>Dump to console. Note how the date is different in Montréal, as the new day has begun in Europe but not yet in America.</p>\n<pre><code>System.out.println( &quot;dateTimeParis: &quot; + dateTimeParis );\nSystem.out.println( &quot;dateTimeUTC: &quot; + dateTimeUtc );\nSystem.out.println( &quot;dateTimeMontréal: &quot; + dateTimeMontréal );\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>dateTimeParis: 2008-09-01T02:00:00.000+02:00\ndateTimeUTC: 2008-09-01T00:00:00.000Z\ndateTimeMontréal: 2008-08-31T20:00:00.000-04:00\n</code></pre>\n<h1>java.time</h1>\n<p>The makers of Joda-Time have asked us to migrate to its replacement, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework as soon as is convenient. While Joda-Time continues to be actively supported, all future development will be done on the java.time classes and their extensions in the ThreeTen-Extra project.</p>\n<p>The java-time framework is defined by <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a> and built into Java 8 and later. The java.time classes have been back-ported to Java 6 &amp; 7 on the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> project and to Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> project.</p>\n<p>An <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> is a moment on the timeline in <a href=\"https://en.m.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of nanoseconds. Its epoch is the first moment of 1970 in UTC.</p>\n<pre><code>Instant instant = Instant.ofEpochSecond( 1_220_227_200L );\n</code></pre>\n<p>Apply an <a href=\"https://en.m.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> to get an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>.</p>\n<p>Better yet, if known, apply a time zone <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WyAl2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WyAl2.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n"},{"tags":[],"owner":{"account_id":11079417,"reputation":758,"user_id":8135029,"display_name":"abhimanyu"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1541150828,"creation_date":1541142688,"answer_id":53114084,"question_id":7487460,"body_markdown":"Try this with adjusting the date format.\r\n\r\n    long longtime = 1212580300;\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MMddyyHHmm&quot;);\r\n    Date date = (Date) dateFormat.parseObject(longtime + &quot;&quot;);\r\n    System.out.println(date);\r\n\r\nNote: Check for 24 hours or 12 hours cycle.","title":"Converting Long to Date in Java returns 1970","body":"<p>Try this with adjusting the date format.</p>\n\n<pre><code>long longtime = 1212580300;\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"MMddyyHHmm\");\nDate date = (Date) dateFormat.parseObject(longtime + \"\");\nSystem.out.println(date);\n</code></pre>\n\n<p>Note: Check for 24 hours or 12 hours cycle.</p>\n"},{"tags":[],"owner":{"account_id":10385608,"reputation":30,"user_id":10926939,"display_name":"Andrew Samsonov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644413674,"creation_date":1644413674,"answer_id":71050526,"question_id":7487460,"body_markdown":"Because 1220227200 ms = 338,952 hours. \r\njava.util.Date has constructor new Date(Long milliseconds) - Allocates a Date object and initializes it to represent the specified number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely January 1, 1970, 00:00:00 GMT.\r\nSo, in your case just remember 1 sec = 1000 millisec","title":"Converting Long to Date in Java returns 1970","body":"<p>Because 1220227200 ms = 338,952 hours.\njava.util.Date has constructor new Date(Long milliseconds) - Allocates a Date object and initializes it to represent the specified number of milliseconds since the standard base time known as &quot;the epoch&quot;, namely January 1, 1970, 00:00:00 GMT.\nSo, in your case just remember 1 sec = 1000 millisec</p>\n"}],"owner":{"account_id":706336,"reputation":1379,"user_id":909174,"display_name":"mmmiki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433062,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"answer_count":12,"score":137,"last_activity_date":1685545026,"creation_date":1316531313,"question_id":7487460,"body_markdown":"I have list with long values (for example: 1220227200, 1220832000, 1221436800...) which I downloaded from web service. I must convert it to Dates. Unfortunately this way, for example:\r\n\r\n    Date d = new Date(1220227200);\r\n\r\nreturns 1 Jan 1970. Anyone know another way to convert it correctly?","title":"Converting Long to Date in Java returns 1970","body":"<p>I have list with long values (for example: 1220227200, 1220832000, 1221436800...) which I downloaded from web service. I must convert it to Dates. Unfortunately this way, for example:</p>\n\n<pre><code>Date d = new Date(1220227200);\n</code></pre>\n\n<p>returns 1 Jan 1970. Anyone know another way to convert it correctly?</p>\n"},{"tags":["java","android-studio","kotlin"],"answers":[{"comments":[{"owner":{"account_id":28720312,"reputation":1,"user_id":21994166,"display_name":"WatermelonCrushr"},"score":0,"creation_date":1685545811,"post_id":76374826,"comment_id":134675988,"body_markdown":"Whenever I click rebuild project I get many errors, here is an example:\nGradle Sync issues\nCould not find androidx.core:core-ktx:1.10.01.\nRequired by:\n    project :app\nSearch in build.gradle files\nIn my build.gradle file I wrote\nimplementation &#39;androidx.core:core-ktx:1.10.01&#39;\nAlso thank you very much for responding","body":"Whenever I click rebuild project I get many errors, here is an example: Gradle Sync issues Could not find androidx.core:core-ktx:1.10.01. Required by:     project :app Search in build.gradle files In my build.gradle file I wrote implementation &#39;androidx.core:core-ktx:1.10.01&#39; Also thank you very much for responding"}],"tags":[],"owner":{"account_id":27463269,"reputation":1,"user_id":20953442,"display_name":"shree Ram"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685544974,"creation_date":1685544974,"answer_id":76374826,"question_id":76374809,"body_markdown":"If you have already imported the `androidx.annotation.NonNull` package and added the `implementation &#39;androidx.annotation:annotation:1.6.0&#39;` dependency in your `build.gradle` file, but you are still getting the error &quot;Cannot resolve symbol &#39;NonNull&#39;,&quot; there are a few possible solutions you can try:\r\n\r\n1. Make sure you have the latest version of the Android Gradle Plugin and AndroidX annotations. You can check for updates by going to your project&#39;s `build.gradle` file and verifying that you have the latest versions specified. For example:\r\n```gradle\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.2&#39; // Make sure this version is up to date\r\n    }\r\n}\r\n\r\n...\r\n\r\ndependencies {\r\n    implementation &#39;androidx.annotation:annotation:1.6.0&#39; // Make sure this version is up to date\r\n}\r\n```\r\n\r\n2. Clean and rebuild your project. Sometimes, stale or cached files can cause issues. Go to `Build &gt; Clean Project` in Android Studio and then `Build &gt; Rebuild Project` to ensure a clean build.\r\n\r\n3. Check for any conflicting dependencies. In your `build.gradle` file, make sure there are no other dependencies that might conflict with the `androidx.annotation` package. Remove any duplicates or conflicting dependencies.\r\n\r\n4. Verify that your import statements are correct. Double-check your import statements in your code to ensure that you are importing the correct package. The correct import statement for `NonNull` should be:\r\n```java\r\nimport androidx.annotation.NonNull;\r\n```\r\n\r\n5. Check if you are using the correct annotation. The `@NonNull` annotation is part of the AndroidX annotations library. If you are using it for Kotlin code, make sure you import `kotlin-annotations` instead of `androidx.annotation`. Add the following dependency to your `build.gradle` file:\r\n```gradle\r\nimplementation &#39;org.jetbrains.kotlin:kotlin-annotations:1.4.10&#39; // Make sure this version is up to date\r\n```\r\n\r\nIf none of these solutions work, there might be a more specific issue with your project setup or configuration. You can provide more details about your project structure and the specific error messages you are encountering for further assistance.","title":"Android Studio, Cannot resolve symbol &#39;NonNull&#39;, import androidx.annotation.NonNull; is causing the problem","body":"<p>If you have already imported the <code>androidx.annotation.NonNull</code> package and added the <code>implementation 'androidx.annotation:annotation:1.6.0'</code> dependency in your <code>build.gradle</code> file, but you are still getting the error &quot;Cannot resolve symbol 'NonNull',&quot; there are a few possible solutions you can try:</p>\n<ol>\n<li>Make sure you have the latest version of the Android Gradle Plugin and AndroidX annotations. You can check for updates by going to your project's <code>build.gradle</code> file and verifying that you have the latest versions specified. For example:</li>\n</ol>\n<pre><code>buildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.2' // Make sure this version is up to date\n    }\n}\n\n...\n\ndependencies {\n    implementation 'androidx.annotation:annotation:1.6.0' // Make sure this version is up to date\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Clean and rebuild your project. Sometimes, stale or cached files can cause issues. Go to <code>Build &gt; Clean Project</code> in Android Studio and then <code>Build &gt; Rebuild Project</code> to ensure a clean build.</p>\n</li>\n<li><p>Check for any conflicting dependencies. In your <code>build.gradle</code> file, make sure there are no other dependencies that might conflict with the <code>androidx.annotation</code> package. Remove any duplicates or conflicting dependencies.</p>\n</li>\n<li><p>Verify that your import statements are correct. Double-check your import statements in your code to ensure that you are importing the correct package. The correct import statement for <code>NonNull</code> should be:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import androidx.annotation.NonNull;\n</code></pre>\n<ol start=\"5\">\n<li>Check if you are using the correct annotation. The <code>@NonNull</code> annotation is part of the AndroidX annotations library. If you are using it for Kotlin code, make sure you import <code>kotlin-annotations</code> instead of <code>androidx.annotation</code>. Add the following dependency to your <code>build.gradle</code> file:</li>\n</ol>\n<pre><code>implementation 'org.jetbrains.kotlin:kotlin-annotations:1.4.10' // Make sure this version is up to date\n</code></pre>\n<p>If none of these solutions work, there might be a more specific issue with your project setup or configuration. You can provide more details about your project structure and the specific error messages you are encountering for further assistance.</p>\n"}],"owner":{"account_id":28720312,"reputation":1,"user_id":21994166,"display_name":"WatermelonCrushr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685544974,"creation_date":1685544852,"question_id":76374809,"body_markdown":"I have imported NonNull with import androidx.annotation.NonNull;, however it brings up the error Cannot resolve symbol &#39;NonNull&#39;, my build.gradle already has implementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n\r\nI tried implementing implementation &#39;androidx.annotation:annotation:1.6.0&#39; in my build.gradle, and I tried migrating to androidx, I also invalidated the caches, and tried many other variations of import androidx.annotation.NonNull;\r\nI also rebuilt, and cleaned the project multiple times.\r\n\r\nThis error has repeated in the following:\r\n```\r\nimport androidx.annotation.RawRes;\r\nimport androidx.annotation.SdkConstant;\r\nimport androidx.annotation.SdkConstant.SdkConstantType;\r\n```","title":"Android Studio, Cannot resolve symbol &#39;NonNull&#39;, import androidx.annotation.NonNull; is causing the problem","body":"<p>I have imported NonNull with import androidx.annotation.NonNull;, however it brings up the error Cannot resolve symbol 'NonNull', my build.gradle already has implementation 'androidx.annotation:annotation:1.6.0'</p>\n<p>I tried implementing implementation 'androidx.annotation:annotation:1.6.0' in my build.gradle, and I tried migrating to androidx, I also invalidated the caches, and tried many other variations of import androidx.annotation.NonNull;\nI also rebuilt, and cleaned the project multiple times.</p>\n<p>This error has repeated in the following:</p>\n<pre><code>import androidx.annotation.RawRes;\nimport androidx.annotation.SdkConstant;\nimport androidx.annotation.SdkConstant.SdkConstantType;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":16165519,"reputation":451,"user_id":11670593,"display_name":"Abdullah Ajmal"},"score":1,"creation_date":1568476707,"post_id":55025763,"comment_id":102290015,"body_markdown":"Haha, I am an IOS developer and I had the same problem and this answer helped me find a solution. Thanks a lot! :)","body":"Haha, I am an IOS developer and I had the same problem and this answer helped me find a solution. Thanks a lot! :)"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1551883458,"creation_date":1551883458,"answer_id":55025763,"question_id":55024731,"body_markdown":"To solve this, please change the following line of code:\r\n\r\n    database.child(&quot;Users&quot;).child(authorID).addValueEventListener(/* ... */);\r\n\r\nto\r\n\r\n    database.child(&quot;Users&quot;).child(authorID).addListenerForSingleValueEvent(/* ... */);\r\n\r\nTo get the data only once. Using `addValueEventListener()` it means that you are getting the data in realtime and for every change `onDataChange()` is called again.","title":"Android Firebase Database keeps updating value","body":"<p>To solve this, please change the following line of code:</p>\n\n<pre><code>database.child(\"Users\").child(authorID).addValueEventListener(/* ... */);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>database.child(\"Users\").child(authorID).addListenerForSingleValueEvent(/* ... */);\n</code></pre>\n\n<p>To get the data only once. Using <code>addValueEventListener()</code> it means that you are getting the data in realtime and for every change <code>onDataChange()</code> is called again.</p>\n"},{"tags":[],"owner":{"account_id":26077378,"reputation":1,"user_id":19776138,"display_name":"Mr Etineh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685544932,"creation_date":1685534297,"answer_id":76373255,"question_id":55024731,"body_markdown":"use `.addValueEventListener` if you want it to change a value anything another value changes\r\n\r\n\r\nuse `.addListenerForSingleValueEvent` when you want it to change only when clicked.","title":"Android Firebase Database keeps updating value","body":"<p>use <code>.addValueEventListener</code> if you want it to change a value anything another value changes</p>\n<p>use <code>.addListenerForSingleValueEvent</code> when you want it to change only when clicked.</p>\n"}],"owner":{"account_id":14440800,"reputation":153,"user_id":10431501,"display_name":"user10431501"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55025763,"answer_count":2,"score":1,"last_activity_date":1685544932,"creation_date":1551880344,"question_id":55024731,"body_markdown":"I am trying to take a authors score from the Firebase realtime database. I succesfully get the score value. Then I add 100 onto this value and insert the new value, however when i insert the score value keeps increasing by 100 for example if the score was at 500 instead of changing to 600 it will change to 600, then 700, then 800 etc. If i display a Toast in the `addExtraScore` method it will display once and as intended.\r\n\r\nActivity\r\n\r\n    private void getAuthorScore()\r\n        {\r\n            database = FirebaseDatabase.getInstance().getReference();\r\n            database.child(&quot;Users&quot;).child(authorID).addValueEventListener(new ValueEventListener()\r\n            {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot)\r\n                {\r\n                    User author = dataSnapshot.getValue(User.class);\r\n    \r\n                    authorScore = author.getScore();\r\n    \r\n                    addExtraScore();\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError)\r\n                {\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private void addExtraScore()\r\n        {\r\n            int score = authorScore + 100;\r\n    \r\n            FirebaseUtil.updateUsersScore(authorID, score);\r\n        }\r\n\r\n\r\nFirebase Util\r\n    private static DatabaseReference db;\r\n\r\n    public static void updateUsersScore(String id, int score)\r\n    {\r\n        db = FirebaseDatabase.getInstance().getReference();\r\n        db.child(&quot;Users&quot;).child(id).child(&quot;score&quot;).setValue(score);\r\n    }","title":"Android Firebase Database keeps updating value","body":"<p>I am trying to take a authors score from the Firebase realtime database. I succesfully get the score value. Then I add 100 onto this value and insert the new value, however when i insert the score value keeps increasing by 100 for example if the score was at 500 instead of changing to 600 it will change to 600, then 700, then 800 etc. If i display a Toast in the <code>addExtraScore</code> method it will display once and as intended.</p>\n\n<p>Activity</p>\n\n<pre><code>private void getAuthorScore()\n    {\n        database = FirebaseDatabase.getInstance().getReference();\n        database.child(\"Users\").child(authorID).addValueEventListener(new ValueEventListener()\n        {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot)\n            {\n                User author = dataSnapshot.getValue(User.class);\n\n                authorScore = author.getScore();\n\n                addExtraScore();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError)\n            {\n\n            }\n        });\n    }\n\n    private void addExtraScore()\n    {\n        int score = authorScore + 100;\n\n        FirebaseUtil.updateUsersScore(authorID, score);\n    }\n</code></pre>\n\n<p>Firebase Util\n    private static DatabaseReference db;</p>\n\n<pre><code>public static void updateUsersScore(String id, int score)\n{\n    db = FirebaseDatabase.getInstance().getReference();\n    db.child(\"Users\").child(id).child(\"score\").setValue(score);\n}\n</code></pre>\n"},{"tags":["java","reactive-programming","rx-java","reactive-streams"],"answers":[{"comments":[{"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"score":0,"creation_date":1450957539,"post_id":34452016,"comment_id":56646035,"body_markdown":"Well the thing is that i cannot (and its not really seem a good idea) to change those apis providing A and B, both do make perfect sense, and i sure can do what i want with some crap code using PublishSubject, however i wondered if there is something like .onErrorContinue() but for completion like .onCompletionContinue(Observable nextStream)...","body":"Well the thing is that i cannot (and its not really seem a good idea) to change those apis providing A and B, both do make perfect sense, and i sure can do what i want with some crap code using PublishSubject, however i wondered if there is something like .onErrorContinue() but for completion like .onCompletionContinue(Observable nextStream)..."},{"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"score":0,"creation_date":1450957559,"post_id":34452016,"comment_id":56646043,"body_markdown":"Its not that i cannot implement this, its just matter of doing that the proper way :)","body":"Its not that i cannot implement this, its just matter of doing that the proper way :)"}],"tags":[],"owner":{"account_id":1318015,"reputation":3345,"user_id":1264476,"display_name":"Germann Arlington"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450956078,"creation_date":1450956078,"answer_id":34452016,"question_id":34451886,"body_markdown":"I suspect that what you need is 2 queues, not observables.  \r\n\r\nQueueA has a priority and QueueB is only processed once QueueA gets a quit/end of messages signal.\r\n\r\nDo you think that this scenario may be suitable?","title":"Observable composed of cold and hot observables","body":"<p>I suspect that what you need is 2 queues, not observables.  </p>\n\n<p>QueueA has a priority and QueueB is only processed once QueueA gets a quit/end of messages signal.</p>\n\n<p>Do you think that this scenario may be suitable?</p>\n"},{"comments":[{"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"score":0,"creation_date":1450959989,"post_id":34452445,"comment_id":56647000,"body_markdown":"oh cant believe i overlooked that :D","body":"oh cant believe i overlooked that :D"}],"tags":[],"owner":{"account_id":305625,"reputation":2932,"user_id":615903,"display_name":"Gluck"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1450958240,"creation_date":1450958240,"answer_id":34452445,"question_id":34451886,"body_markdown":"If B is hot, then simply `A.concat(B)` should work, because B will be subscribed to only when A finishes.","title":"Observable composed of cold and hot observables","body":"<p>If B is hot, then simply <code>A.concat(B)</code> should work, because B will be subscribed to only when A finishes.</p>\n"}],"owner":{"account_id":330599,"reputation":10771,"user_id":654799,"accept_rate":84,"display_name":"vach"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34452445,"answer_count":2,"score":3,"last_activity_date":1685544394,"creation_date":1450955512,"question_id":34451886,"body_markdown":"I&#39;m having hard time finding proper way of composing an observable which will emit all items from the given cold observable `A` and as soon as its completes continue with hot observable `B`.\r\n\r\nThis is my specific use case : I have a data collector which in realtime appends data to the append only database (an event stream). And when a request arrives for streaming all the event stream it is expected to start streaming everything from database and as soon as database has no more data it shall start streaming whatever the collector streams... as you see both are available as observables.\r\n\r\nI&#39;m new to reactive programming, hence my question may be a bit abstract.\r\n\r\nHere is a diagram for this behavior : \r\n\r\n\r\n    B ----B---B---B----B--B---B---B---X------&gt;\r\n                       |  |   |   |   |\r\n                       |  |   |   |   |\r\n    R --A---A--A----?--B--B---B---B---X------&gt;\r\n        |   |  |    |\r\n        |   |  |    |\r\n    A --A---A--A----X------------------------&gt;\r\n\r\nHere `R` is our result observable and `A` is the cold one, `B` is the hot one. `R` is terminating with `B`.","title":"Observable composed of cold and hot observables","body":"<p>I'm having hard time finding proper way of composing an observable which will emit all items from the given cold observable <code>A</code> and as soon as its completes continue with hot observable <code>B</code>.</p>\n<p>This is my specific use case : I have a data collector which in realtime appends data to the append only database (an event stream). And when a request arrives for streaming all the event stream it is expected to start streaming everything from database and as soon as database has no more data it shall start streaming whatever the collector streams... as you see both are available as observables.</p>\n<p>I'm new to reactive programming, hence my question may be a bit abstract.</p>\n<p>Here is a diagram for this behavior :</p>\n<pre><code>B ----B---B---B----B--B---B---B---X------&gt;\n                   |  |   |   |   |\n                   |  |   |   |   |\nR --A---A--A----?--B--B---B---B---X------&gt;\n    |   |  |    |\n    |   |  |    |\nA --A---A--A----X------------------------&gt;\n</code></pre>\n<p>Here <code>R</code> is our result observable and <code>A</code> is the cold one, <code>B</code> is the hot one. <code>R</code> is terminating with <code>B</code>.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":434398,"reputation":473,"user_id":820345,"display_name":"Lokesh Gupta"},"score":0,"creation_date":1685615480,"post_id":76374516,"comment_id":134686253,"body_markdown":"A simple google search will give you tons of examples.","body":"A simple google search will give you tons of examples."}],"answers":[{"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685544190,"creation_date":1685544190,"answer_id":76374718,"question_id":76374516,"body_markdown":"in your controller you can use \r\n\r\n    @PostMapping(path = &quot;/image&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\r\n    public ResponseEntity&lt;UserImageModel&gt; uploadImage(@ModelAttribute UserImageRequestModel model) {\r\n        return new ResponseEntity&lt;&gt;(userProfileService.postImage(model), HttpStatus.OK);\r\n    }\r\n\r\n\r\nand for your request : \r\n\r\n    @Getter\r\n    @Setter\r\n    public class UserImageRequestModel {\r\n    \r\n        private MultipartFile file;\r\n    \r\n        private Long userId;\r\n    }\r\n\r\n","title":"How can I use SpringBoot to create a REST endpoint for file uploads?","body":"<p>in your controller you can use</p>\n<pre><code>@PostMapping(path = &quot;/image&quot;, consumes = {MediaType.MULTIPART_FORM_DATA_VALUE})\npublic ResponseEntity&lt;UserImageModel&gt; uploadImage(@ModelAttribute UserImageRequestModel model) {\n    return new ResponseEntity&lt;&gt;(userProfileService.postImage(model), HttpStatus.OK);\n}\n</code></pre>\n<p>and for your request :</p>\n<pre><code>@Getter\n@Setter\npublic class UserImageRequestModel {\n\n    private MultipartFile file;\n\n    private Long userId;\n}\n</code></pre>\n"}],"owner":{"account_id":26142379,"reputation":1,"user_id":19831565,"display_name":"Harsha Vardhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1685544190,"creation_date":1685542872,"question_id":76374516,"body_markdown":"How to write a rest endpoint to upload a document using springboot microservices \r\n\r\nI need to to write a document upload logic in service class and how can i write springboot to create a  rest end point in controller class give me some idea about it ","title":"How can I use SpringBoot to create a REST endpoint for file uploads?","body":"<p>How to write a rest endpoint to upload a document using springboot microservices</p>\n<p>I need to to write a document upload logic in service class and how can i write springboot to create a  rest end point in controller class give me some idea about it</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":22997531,"reputation":119,"user_id":17122042,"display_name":"Majed Al-Moqbeli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634167137,"creation_date":1634167137,"answer_id":69563392,"question_id":69561678,"body_markdown":"There is a class `NetworkInfo` it have a function \r\n`getTypeName()` that return string value contain `MOBILE` or `WIFI`\r\n\r\nI try to write function I hope it will be helpful for you : \r\n\r\n```\r\n    /**\r\n     * @param mType : type of network connection &quot;MOBILE&quot; or &quot;WIFI&quot;\r\n     * @return : true of false\r\n     */\r\n    public boolean isMyType(String mType) {\r\n        ConnectivityManager connectivityManager = (ConnectivityManager)\r\n                getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\r\n        //\r\n        if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected()) {\r\n            return activeNetworkInfo.getTypeName().equals(mType);\r\n        } else {\r\n            // no internet connection\r\n            return false;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nthan you can call it :\r\n```\r\n\r\n  boolean isMobile = isMyType(&quot;MOBILE&quot;);\r\n  boolean isWifi = isMyType(&quot;WIFI&quot;);\r\n\r\n  // for logcat debug\r\n  Log.i(&quot;typeNetwork&quot;, &quot;is mobile :&quot; + isMobile);\r\n  Log.i(&quot;typeNetwork&quot;, &quot;is wifi :&quot; + isWifi);\r\n\r\n```\r\n\r\nlet me know if this works for you..\r\n\r\n","title":"how to get network connection type without using READ_PHONE_STATE permission in android 10?","body":"<p>There is a class <code>NetworkInfo</code> it have a function\n<code>getTypeName()</code> that return string value contain <code>MOBILE</code> or <code>WIFI</code></p>\n<p>I try to write function I hope it will be helpful for you :</p>\n<pre><code>    /**\n     * @param mType : type of network connection &quot;MOBILE&quot; or &quot;WIFI&quot;\n     * @return : true of false\n     */\n    public boolean isMyType(String mType) {\n        ConnectivityManager connectivityManager = (ConnectivityManager)\n                getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n        //\n        if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected()) {\n            return activeNetworkInfo.getTypeName().equals(mType);\n        } else {\n            // no internet connection\n            return false;\n        }\n    }\n\n</code></pre>\n<p>than you can call it :</p>\n<pre><code>\n  boolean isMobile = isMyType(&quot;MOBILE&quot;);\n  boolean isWifi = isMyType(&quot;WIFI&quot;);\n\n  // for logcat debug\n  Log.i(&quot;typeNetwork&quot;, &quot;is mobile :&quot; + isMobile);\n  Log.i(&quot;typeNetwork&quot;, &quot;is wifi :&quot; + isWifi);\n\n</code></pre>\n<p>let me know if this works for you..</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685550945,"post_id":76374704,"comment_id":134677160,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76374704/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16500335,"reputation":21,"user_id":11921803,"display_name":"Prattham Arora"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685544094,"creation_date":1685544094,"answer_id":76374704,"question_id":69561678,"body_markdown":"Kotlin version to the above answer - \r\n\r\n    val connectivityManager =\r\n                context?.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager?\r\n            val activeNetworkInfo: NetworkInfo? = connectivityManager?.activeNetworkInfo\r\n\r\n            if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected) {\r\n                return if (activeNetworkInfo.typeName.equals(&quot;WIFI&quot;)) {\r\n                    Log.d(&quot;prattham&quot;, &quot;getNetworkSpeed: -&gt; activeNetworkInfo is WIFI &quot;)\r\n\r\n                } else if (activeNetworkInfo.typeName.equals(&quot;MOBILE&quot;)) {\r\n                   \r\n\r\n                }else{\r\n                   \r\n\r\n                }\r\n            } else {\r\n                // no internet connection\r\n              \r\n            }","title":"how to get network connection type without using READ_PHONE_STATE permission in android 10?","body":"<p>Kotlin version to the above answer -</p>\n<pre><code>val connectivityManager =\n            context?.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager?\n        val activeNetworkInfo: NetworkInfo? = connectivityManager?.activeNetworkInfo\n\n        if (activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected) {\n            return if (activeNetworkInfo.typeName.equals(&quot;WIFI&quot;)) {\n                Log.d(&quot;prattham&quot;, &quot;getNetworkSpeed: -&gt; activeNetworkInfo is WIFI &quot;)\n\n            } else if (activeNetworkInfo.typeName.equals(&quot;MOBILE&quot;)) {\n               \n\n            }else{\n               \n\n            }\n        } else {\n            // no internet connection\n          \n        }\n</code></pre>\n"}],"owner":{"account_id":3019135,"reputation":1747,"user_id":2560571,"accept_rate":54,"display_name":"Chief Madog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1685544094,"creation_date":1634155386,"question_id":69561678,"body_markdown":"One of the things android 10 is changing is that we cannot get READ_PHONE_STATE automatically,\r\nAnd have to direct the user to manually give the permission by going to app info &gt; permissions &gt; phone &gt; turn on.\r\n\r\nis there any way to get network state (if the phone is on wifi / 3g, etc) on android 10 and above\r\nWithout directing the user to go to the application settings by himself and change the permission manually? \r\n\r\n\r\nI was thinking to bypass the permission asking with \r\n\r\n    ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    NetworkCapabilities caps = cm.getNetworkCapabilities(cm.getActivityNetwork());\r\n    boolean isMobile = caps.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR);\r\n    boolean isWifi = caps.hasTransport(NetworkCapabilities.TRANSPORT_WIFI);\r\n\r\nwould that be ok and then not needed to use the READ_PHONE_STATE permission ? ","title":"how to get network connection type without using READ_PHONE_STATE permission in android 10?","body":"<p>One of the things android 10 is changing is that we cannot get READ_PHONE_STATE automatically,\nAnd have to direct the user to manually give the permission by going to app info &gt; permissions &gt; phone &gt; turn on.</p>\n<p>is there any way to get network state (if the phone is on wifi / 3g, etc) on android 10 and above\nWithout directing the user to go to the application settings by himself and change the permission manually?</p>\n<p>I was thinking to bypass the permission asking with</p>\n<pre><code>ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\nNetworkCapabilities caps = cm.getNetworkCapabilities(cm.getActivityNetwork());\nboolean isMobile = caps.hasTransport(NetworkCapabilities.TRANSPORT_CELLULAR);\nboolean isWifi = caps.hasTransport(NetworkCapabilities.TRANSPORT_WIFI);\n</code></pre>\n<p>would that be ok and then not needed to use the READ_PHONE_STATE permission ?</p>\n"},{"tags":["java","android","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":17230050,"reputation":6378,"user_id":12474862,"display_name":"Nolan H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685543782,"creation_date":1685543782,"answer_id":76374639,"question_id":76374279,"body_markdown":"I&#39;m not aware of any direct support for this in the native SDKs, but you can inspect the [implementation details][1] of the `stripe-reactive-native` PR you references. Seeing how this was implemented for Android within React Native should allow you to follow a similar pattern with your own native app.\r\n\r\n\r\n  [1]: https://github.com/stripe/stripe-react-native/pull/1287/files","title":"How to close Stripe PaymentSheet programatically from code in Android","body":"<p>I'm not aware of any direct support for this in the native SDKs, but you can inspect the <a href=\"https://github.com/stripe/stripe-react-native/pull/1287/files\" rel=\"nofollow noreferrer\">implementation details</a> of the <code>stripe-reactive-native</code> PR you references. Seeing how this was implemented for Android within React Native should allow you to follow a similar pattern with your own native app.</p>\n"}],"owner":{"account_id":484498,"reputation":15,"user_id":900207,"display_name":"shailesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76374639,"answer_count":1,"score":0,"last_activity_date":1685543782,"creation_date":1685541349,"question_id":76374279,"body_markdown":"I have implemented Stripe PaymentIntent using JAVA code described [here](https://stripe.com/docs/payments/accept-a-payment?platform=android).\r\n\r\nI have opened this PaymentSheet in a separate Activity to display the timer above this sheet because we are not able to add any view in the PaymentSheet. I have achieved this by adding a timer view in the activity layout which is opening this PaymentSheet.\r\n\r\nNow, I want to close the PaymentSheet programmatically when my timer gets off. I have tried to finish the activity when timer gets off but PaymentSheet keeps open and only the Activity gets finished. There is no method to close PaymentSheet from Stipe SDK. Stripe react-native SDK is having timeout parameter to close the PaymentSheet but similar thing is not available in the native Android SDK. [Reference for react-native](https://github.com/stripe/stripe-react-native/pull/1287)\r\n\r\nAny idea/suggestion would be appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/w5JoB.png","title":"How to close Stripe PaymentSheet programatically from code in Android","body":"<p>I have implemented Stripe PaymentIntent using JAVA code described <a href=\"https://stripe.com/docs/payments/accept-a-payment?platform=android\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I have opened this PaymentSheet in a separate Activity to display the timer above this sheet because we are not able to add any view in the PaymentSheet. I have achieved this by adding a timer view in the activity layout which is opening this PaymentSheet.</p>\n<p>Now, I want to close the PaymentSheet programmatically when my timer gets off. I have tried to finish the activity when timer gets off but PaymentSheet keeps open and only the Activity gets finished. There is no method to close PaymentSheet from Stipe SDK. Stripe react-native SDK is having timeout parameter to close the PaymentSheet but similar thing is not available in the native Android SDK. <a href=\"https://github.com/stripe/stripe-react-native/pull/1287\" rel=\"nofollow noreferrer\">Reference for react-native</a></p>\n<p>Any idea/suggestion would be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/w5JoB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w5JoB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","many-to-many"],"answers":[{"comments":[{"owner":{"account_id":13979101,"reputation":3,"user_id":10095757,"display_name":"Cocas27"},"score":0,"creation_date":1685559119,"post_id":76374614,"comment_id":134678802,"body_markdown":"well that&#39;s a bummer :( i thought of doing it this way but wanted something that would have better performance, because I essentially want to fetch every property of User, and then for the Set property of the entity (called &quot;users&quot;) i simply wanted the id of the entities, because i&#39;m facing serious performance issues due to the set property. Thanks for the help!","body":"well that&#39;s a bummer :( i thought of doing it this way but wanted something that would have better performance, because I essentially want to fetch every property of User, and then for the Set property of the entity (called &quot;users&quot;) i simply wanted the id of the entities, because i&#39;m facing serious performance issues due to the set property. Thanks for the help!"}],"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685543638,"creation_date":1685543638,"answer_id":76374614,"question_id":76356681,"body_markdown":"In Hibernate, the whole entity object is always fetched, it&#39;s not possible to only fetch a subset of the properties of an entity and still get an entity of that type. However, if you want only some particular fields, you can create a DTO projection in which you can encapsulate the data you want to return.\r\n\r\n    public class UserIdProjection {\r\n        private Long id;\r\n    \r\n        public UserIdProjection(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        // getter\r\n    }\r\n\r\nAnd modify your query:\r\n\r\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;UserIdProjection&gt; cq = cb.createQuery(UserIdProjection.class);\r\n    \r\n    Root&lt;User&gt; root = cq.from(User.class);\r\n    \r\n    Predicate predicate = cb.or(cb.equal(root.get(&quot;id&quot;), 1L));\r\n    \r\n    cq.select(cb.construct(UserIdProjection.class, root.get(&quot;id&quot;))).distinct(true).where(predicate);\r\n    \r\n    TypedQuery&lt;UserIdProjection&gt; tq = entityManager.createQuery(cq);\r\n    \r\n    List&lt;UserIdProjection&gt; results = tq.getResultList();\r\n\r\nThis should return a list of `UserIdProjection` objects, with their related user id&#39;s. The original entity won&#39;t be fetched this way.","title":"Hibernate: How do I fetch specific columns of entities in a Set within an entity?","body":"<p>In Hibernate, the whole entity object is always fetched, it's not possible to only fetch a subset of the properties of an entity and still get an entity of that type. However, if you want only some particular fields, you can create a DTO projection in which you can encapsulate the data you want to return.</p>\n<pre><code>public class UserIdProjection {\n    private Long id;\n\n    public UserIdProjection(Long id) {\n        this.id = id;\n    }\n\n    // getter\n}\n</code></pre>\n<p>And modify your query:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;UserIdProjection&gt; cq = cb.createQuery(UserIdProjection.class);\n\nRoot&lt;User&gt; root = cq.from(User.class);\n\nPredicate predicate = cb.or(cb.equal(root.get(&quot;id&quot;), 1L));\n\ncq.select(cb.construct(UserIdProjection.class, root.get(&quot;id&quot;))).distinct(true).where(predicate);\n\nTypedQuery&lt;UserIdProjection&gt; tq = entityManager.createQuery(cq);\n\nList&lt;UserIdProjection&gt; results = tq.getResultList();\n</code></pre>\n<p>This should return a list of <code>UserIdProjection</code> objects, with their related user id's. The original entity won't be fetched this way.</p>\n"}],"owner":{"account_id":13979101,"reputation":3,"user_id":10095757,"display_name":"Cocas27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76374614,"answer_count":1,"score":0,"last_activity_date":1685543638,"creation_date":1685357225,"question_id":76356681,"body_markdown":"I have a User entity with a relatedUsers (Set\\&lt;User\\&gt;) property within, and when fetching a User I don&#39;t want to load all properties of the entities within relatedUsers, just their id.\r\nI&#39;ve been trying to accomplish this using an entity graph but with no success. This is my entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;USERS&quot;)\r\n@NamedEntityGraph(\r\n        name = &quot;User.users&quot;,\r\n        attributeNodes = {\r\n                @NamedAttributeNode(value = &quot;users&quot;, subgraph = &quot;usersSubgraph&quot;)\r\n        },\r\n        subgraphs = {\r\n                @NamedSubgraph(name = &quot;usersSubgraph&quot;, attributeNodes = {\r\n                        @NamedAttributeNode(&quot;id&quot;)\r\n                })\r\n        }\r\n)\r\npublic class User {\r\n    public User() {}\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    Long id;\r\n    \r\n    @Column(name = &quot;xpto&quot;)\r\n    String xpto;\r\n    \r\n    @Column(name = &quot;xpto2&quot;)\r\n    String xpto2;\r\n    \r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;USERS_USERS&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;User_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;users_id&quot;))\r\n    Set&lt;User&gt; users;\r\n\r\n    // ... the rest are the getters and setters\r\n}\r\n```\r\nAnd this is the query:\r\n```\r\nCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n\r\nEntityGraph&lt;?&gt; eg = entityManager.getEntityGraph(&quot;User.users&quot;);\r\n\r\nRoot&lt;User&gt; root = cq.from(User.class);\r\n\r\nPredicate predicate = cb.or(cb.equal(root.get(&quot;id&quot;), 1L));\r\n\r\ncq.select(root).distinct(true).where(predicate);\r\n\r\nTypedQuery&lt;User&gt; tq = entityManager.createQuery(cq);\r\n\r\nreturn tq.setHint(&quot;jakarta.persistence.fetchgraph&quot;, eg).getSingleResult();\r\n```\r\n\r\nThis query isn&#39;t executing as I expected (assuming i understood what the entity graph is capable of), as it seems the entity graph did nothing, since the entities of relatedUsers are still being fully loaded instead of just loading the ids.\r\nIs what i&#39;m trying to do even possible? If so how can i accomplish it?","title":"Hibernate: How do I fetch specific columns of entities in a Set within an entity?","body":"<p>I have a User entity with a relatedUsers (Set&lt;User&gt;) property within, and when fetching a User I don't want to load all properties of the entities within relatedUsers, just their id.\nI've been trying to accomplish this using an entity graph but with no success. This is my entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;USERS&quot;)\n@NamedEntityGraph(\n        name = &quot;User.users&quot;,\n        attributeNodes = {\n                @NamedAttributeNode(value = &quot;users&quot;, subgraph = &quot;usersSubgraph&quot;)\n        },\n        subgraphs = {\n                @NamedSubgraph(name = &quot;usersSubgraph&quot;, attributeNodes = {\n                        @NamedAttributeNode(&quot;id&quot;)\n                })\n        }\n)\npublic class User {\n    public User() {}\n\n    @Id\n    @Column(name = &quot;id&quot;, unique = true)\n    Long id;\n    \n    @Column(name = &quot;xpto&quot;)\n    String xpto;\n    \n    @Column(name = &quot;xpto2&quot;)\n    String xpto2;\n    \n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;USERS_USERS&quot;,\n            joinColumns = @JoinColumn(name = &quot;User_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;users_id&quot;))\n    Set&lt;User&gt; users;\n\n    // ... the rest are the getters and setters\n}\n</code></pre>\n<p>And this is the query:</p>\n<pre><code>CriteriaBuilder cb = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n\nEntityGraph&lt;?&gt; eg = entityManager.getEntityGraph(&quot;User.users&quot;);\n\nRoot&lt;User&gt; root = cq.from(User.class);\n\nPredicate predicate = cb.or(cb.equal(root.get(&quot;id&quot;), 1L));\n\ncq.select(root).distinct(true).where(predicate);\n\nTypedQuery&lt;User&gt; tq = entityManager.createQuery(cq);\n\nreturn tq.setHint(&quot;jakarta.persistence.fetchgraph&quot;, eg).getSingleResult();\n</code></pre>\n<p>This query isn't executing as I expected (assuming i understood what the entity graph is capable of), as it seems the entity graph did nothing, since the entities of relatedUsers are still being fully loaded instead of just loading the ids.\nIs what i'm trying to do even possible? If so how can i accomplish it?</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1685545659,"answer_count":0,"score":0,"last_activity_date":1685543626,"creation_date":1685543252,"question_id":76374561,"body_markdown":"Is there a way to set System property from properties within the main method of a SpringBootApplication class?\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n        public static void main(String[] args) {\r\n            System.setProperty(&quot;http.proxyHost&quot;, “proxy.com&quot;);\r\n            System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\r\n            System.setProperty(&quot;https.proxyHost&quot;, “proxy-s.com&quot;);\r\n            System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    }\r\n\r\nCurrently I am hardcoding these values. I would like to pull these values &quot;proxy.com&quot;, &quot;proxy-s.com&quot; from the properties file and not hardcode them.","title":"Is there a way to set System property from properties within the main method of a SpringBootApplication class?","body":"<p>Is there a way to set System property from properties within the main method of a SpringBootApplication class?</p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        System.setProperty(&quot;http.proxyHost&quot;, “proxy.com&quot;);\n        System.setProperty(&quot;http.proxyPort&quot;, &quot;3128&quot;);\n        System.setProperty(&quot;https.proxyHost&quot;, “proxy-s.com&quot;);\n        System.setProperty(&quot;https.proxyPort&quot;, &quot;3128&quot;);\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>Currently I am hardcoding these values. I would like to pull these values &quot;proxy.com&quot;, &quot;proxy-s.com&quot; from the properties file and not hardcode them.</p>\n"},{"tags":["java","javafx","audio","mp3","toolkit"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1685541046,"post_id":76374222,"comment_id":134674682,"body_markdown":"You need to have actually started the FX runtime (toolkit and FX Application Thread) to use a `MediaPlayer`. Is this actually part of a JavaFX application? Post a complete [mre].","body":"You need to have actually started the FX runtime (toolkit and FX Application Thread) to use a <code>MediaPlayer</code>. Is this actually part of a JavaFX application? Post a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"score":0,"creation_date":1685541364,"post_id":76374222,"comment_id":134674771,"body_markdown":"im changed code","body":"im changed code"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1685541475,"post_id":76374222,"comment_id":134674800,"body_markdown":"or in other words: start it in an application sub class","body":"or in other words: start it in an application sub class"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1685542223,"post_id":76374222,"comment_id":134675001,"body_markdown":"https://openjfx.io/openjfx-docs/","body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"}],"answers":[{"comments":[{"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"score":0,"creation_date":1685542726,"post_id":76374391,"comment_id":134675152,"body_markdown":"At start this code do nothing","body":"At start this code do nothing"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1685543582,"post_id":76374391,"comment_id":134675384,"body_markdown":"@DodlyGame I tested it; it plays the music. Did you copy this exactly as is?","body":"@DodlyGame I tested it; it plays the music. Did you copy this exactly as is?"},{"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"score":0,"creation_date":1685544551,"post_id":76374391,"comment_id":134675680,"body_markdown":"Error: JavaFX runtime components are missing, and are required to run this application","body":"Error: JavaFX runtime components are missing, and are required to run this application"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1685544681,"post_id":76374391,"comment_id":134675715,"body_markdown":"@DodlyGame That is a problem with your environment setup, not the code in the answer.  Follow the getting started instructions at openjfx.io.","body":"@DodlyGame That is a problem with your environment setup, not the code in the answer.  Follow the getting started instructions at openjfx.io."},{"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"score":0,"creation_date":1685544859,"post_id":76374391,"comment_id":134675761,"body_markdown":"ok, i don&#39;t know how play mp3 files","body":"ok, i don&#39;t know how play mp3 files"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1685546394,"post_id":76374391,"comment_id":134676107,"body_markdown":"@DodlyGame The code in the answer shows you how to play mp3 files. For the exception you are getting, just search this site for it. Or read the [docs for JavaFX](https://openjfx.io/openjfx-docs/) to see how to set things up correctly.","body":"@DodlyGame The code in the answer shows you how to play mp3 files. For the exception you are getting, just search this site for it. Or read the <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">docs for JavaFX</a> to see how to set things up correctly."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1685543621,"creation_date":1685542182,"answer_id":76374391,"question_id":76374222,"body_markdown":"You can&#39;t use a `MediaPlayer` without the JavaFX runtime actually running, which you typically ensure with a call to `Application.launch()`. Here is a simple example which will work:\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.URL;\r\n    import java.nio.channels.Channels;\r\n    import java.nio.channels.ReadableByteChannel;\r\n\r\n    public class Main extends Application {\r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n        \r\n        int id = 467339;\r\n    \r\n        @Override\r\n        public void start(Stage stage){\r\n            try {\r\n                downloadFile(new URL(&quot;https://www.newgrounds.com/audio/download/&quot;+id),id+&quot;.mp3&quot;);\r\n                Media media = new Media(new File(id+&quot;.mp3&quot;).toURI().toString());\r\n                MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n                mediaPlayer.play();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            stage.show();\r\n        }\r\n    \r\n        public void downloadFile(URL url, String outputFileName) throws IOException {\r\n            try (InputStream in = url.openStream();\r\n                 ReadableByteChannel rbc = Channels.newChannel(in);\r\n                 FileOutputStream fos = new FileOutputStream(outputFileName)) {\r\n                fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n            }\r\n        }\r\n    }\r\n\r\nDepending what else your application is doing, it may be important to know that `start()` is executed on the FX Application Thread","title":"Toolkit not initializing","body":"<p>You can't use a <code>MediaPlayer</code> without the JavaFX runtime actually running, which you typically ensure with a call to <code>Application.launch()</code>. Here is a simple example which will work:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.stage.Stage;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.URL;\nimport java.nio.channels.Channels;\nimport java.nio.channels.ReadableByteChannel;\n\npublic class Main extends Application {\n    public static void main(String[] args) {\n        Application.launch(args);\n    }\n    \n    int id = 467339;\n\n    @Override\n    public void start(Stage stage){\n        try {\n            downloadFile(new URL(&quot;https://www.newgrounds.com/audio/download/&quot;+id),id+&quot;.mp3&quot;);\n            Media media = new Media(new File(id+&quot;.mp3&quot;).toURI().toString());\n            MediaPlayer mediaPlayer = new MediaPlayer(media);\n            mediaPlayer.play();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        stage.show();\n    }\n\n    public void downloadFile(URL url, String outputFileName) throws IOException {\n        try (InputStream in = url.openStream();\n             ReadableByteChannel rbc = Channels.newChannel(in);\n             FileOutputStream fos = new FileOutputStream(outputFileName)) {\n            fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n        }\n    }\n}\n</code></pre>\n<p>Depending what else your application is doing, it may be important to know that <code>start()</code> is executed on the FX Application Thread</p>\n"}],"owner":{"account_id":25154690,"reputation":9,"user_id":21812779,"display_name":"Dodly Game"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685543621,"creation_date":1685540797,"question_id":76374222,"body_markdown":"When i truing to play sound in mp3 format, code throwes me error: &quot;Exception in thread &quot;main&quot; java.lang.IllegalStateException: Toolkit not initialized&quot;.\r\n\r\n    \r\n\r\n    import javafx.scene.media.Media;\r\n    import javafx.scene.media.MediaPlayer;\r\n    \r\n    import java.io.*;\r\n    import java.net.URL;\r\n    import java.nio.channels.Channels;\r\n    import java.nio.channels.ReadableByteChannel;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n        \r\n        int id = 467339;\r\n    \r\n        public Main(){\r\n            try {\r\n                downloadFile(new URL(&quot;https://www.newgrounds.com/audio/download/&quot;+id),id+&quot;.mp3&quot;);\r\n                Media media = new Media(new File(id+&quot;.mp3&quot;).toURI().toString());\r\n                MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n                mediaPlayer.play();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void downloadFile(URL url, String outputFileName) throws IOException {\r\n            try (InputStream in = url.openStream();\r\n                 ReadableByteChannel rbc = Channels.newChannel(in);\r\n                 FileOutputStream fos = new FileOutputStream(outputFileName)) {\r\n                fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\r\n            }\r\n        }\r\n    }","title":"Toolkit not initializing","body":"<p>When i truing to play sound in mp3 format, code throwes me error: &quot;Exception in thread &quot;main&quot; java.lang.IllegalStateException: Toolkit not initialized&quot;.</p>\n<pre><code>import javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\n\nimport java.io.*;\nimport java.net.URL;\nimport java.nio.channels.Channels;\nimport java.nio.channels.ReadableByteChannel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n    \n    int id = 467339;\n\n    public Main(){\n        try {\n            downloadFile(new URL(&quot;https://www.newgrounds.com/audio/download/&quot;+id),id+&quot;.mp3&quot;);\n            Media media = new Media(new File(id+&quot;.mp3&quot;).toURI().toString());\n            MediaPlayer mediaPlayer = new MediaPlayer(media);\n            mediaPlayer.play();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void downloadFile(URL url, String outputFileName) throws IOException {\n        try (InputStream in = url.openStream();\n             ReadableByteChannel rbc = Channels.newChannel(in);\n             FileOutputStream fos = new FileOutputStream(outputFileName)) {\n            fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","groovy","jmeter"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685532891,"post_id":76373041,"comment_id":134672606,"body_markdown":"Does this answer your question? [How to get specific JSON values for a given key of a JMeter response?](https://stackoverflow.com/questions/42341347/how-to-get-specific-json-values-for-a-given-key-of-a-jmeter-response)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42341347/how-to-get-specific-json-values-for-a-given-key-of-a-jmeter-response\">How to get specific JSON values for a given key of a JMeter response?</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685559221,"post_id":76373041,"comment_id":134678826,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685533993,"creation_date":1685533993,"answer_id":76373204,"question_id":76373041,"body_markdown":"You could use [JSR223 Assertion][1] and the code like:\r\n\r\n    if (prev.getResponseDataAsString().contains(vars.get(&#39;witsml&#39;))) {\r\n        AssertionResult.setFailure(false)\r\n    }\r\n    else {\r\n        AssertionResult.setFailure(true)\r\n        def delta = (vars.get(&#39;endDateTime&#39;) as long) - (vars.get(&#39;startDateTime&#39;) as long)\r\n        AssertionResult.setFailureMessage(&#39;Unable to find witsml variable value in the response, time difference: &#39;  + delta)\r\n    }\r\n\r\nWhere:\r\n\r\n - `AssertionResult` stands for [AssertionResult][2] class instance\r\n - `prev` stands for **prev**ious [SampleResult][3]\r\n - `vars` stands for [JMeterVariables][4]\r\n\r\nMore information: [Top 8 JMeter Java Classes You Should Be Using with Groovy][5]  \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/component_reference.html#JSR223_Assertion\r\n  [2]: https://jmeter.apache.org/api/org/apache/jmeter/assertions/AssertionResult.html\r\n  [3]: https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html\r\n  [4]: https://jmeter.apache.org/api/org/apache/jmeter/threads/JMeterVariables.html\r\n  [5]: https://www.blazemeter.com/blog/jmeter-java-classes","title":"How can I use groovy script in JMeter to check for the existence of a variable in an API response?","body":"<p>You could use <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#JSR223_Assertion\" rel=\"nofollow noreferrer\">JSR223 Assertion</a> and the code like:</p>\n<pre><code>if (prev.getResponseDataAsString().contains(vars.get('witsml'))) {\n    AssertionResult.setFailure(false)\n}\nelse {\n    AssertionResult.setFailure(true)\n    def delta = (vars.get('endDateTime') as long) - (vars.get('startDateTime') as long)\n    AssertionResult.setFailureMessage('Unable to find witsml variable value in the response, time difference: '  + delta)\n}\n</code></pre>\n<p>Where:</p>\n<ul>\n<li><code>AssertionResult</code> stands for <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/assertions/AssertionResult.html\" rel=\"nofollow noreferrer\">AssertionResult</a> class instance</li>\n<li><code>prev</code> stands for <strong>prev</strong>ious <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/samplers/SampleResult.html\" rel=\"nofollow noreferrer\">SampleResult</a></li>\n<li><code>vars</code> stands for <a href=\"https://jmeter.apache.org/api/org/apache/jmeter/threads/JMeterVariables.html\" rel=\"nofollow noreferrer\">JMeterVariables</a></li>\n</ul>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/jmeter-java-classes\" rel=\"nofollow noreferrer\">Top 8 JMeter Java Classes You Should Be Using with Groovy</a></p>\n"}],"owner":{"account_id":28718648,"reputation":1,"user_id":21992773,"display_name":"Keshav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685543417,"creation_date":1685532817,"question_id":76373041,"body_markdown":"I&#39;m a newbie to scripting.\r\n\r\nI am using Jmeter to test an api and I have to validate the presence of a variable (&quot;witsml&quot;) in my response. If this variable is present in the response then my test case should pass, else it should find a difference between two values in my response which is in time format but set as variable (&quot;startDateTime&quot; and &quot;endDateTime&quot;) and then fail my test case.\r\n\r\nhow the groovy script should look for this scenario?\r\n","title":"How can I use groovy script in JMeter to check for the existence of a variable in an API response?","body":"<p>I'm a newbie to scripting.</p>\n<p>I am using Jmeter to test an api and I have to validate the presence of a variable (&quot;witsml&quot;) in my response. If this variable is present in the response then my test case should pass, else it should find a difference between two values in my response which is in time format but set as variable (&quot;startDateTime&quot; and &quot;endDateTime&quot;) and then fail my test case.</p>\n<p>how the groovy script should look for this scenario?</p>\n"},{"tags":["java","installation","izpack"],"comments":[{"owner":{"account_id":23751376,"reputation":622,"user_id":17768086,"display_name":"Kelechi Daniels"},"score":0,"creation_date":1685964717,"post_id":76374555,"comment_id":134729688,"body_markdown":"Did you found any solution?","body":"Did you found any solution?"},{"owner":{"account_id":2746779,"reputation":150,"user_id":3111810,"display_name":"Marcel Piquet"},"score":0,"creation_date":1686217981,"post_id":76374555,"comment_id":134770072,"body_markdown":"Not currently, but I&#39;ve made some progress using the DefaultFileUnpacker class","body":"Not currently, but I&#39;ve made some progress using the DefaultFileUnpacker class"},{"owner":{"account_id":23751376,"reputation":622,"user_id":17768086,"display_name":"Kelechi Daniels"},"score":0,"creation_date":1686229211,"post_id":76374555,"comment_id":134772394,"body_markdown":"can you edit it to on your question?","body":"can you edit it to on your question?"}],"owner":{"account_id":2746779,"reputation":150,"user_id":3111810,"display_name":"Marcel Piquet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685543208,"creation_date":1685543208,"question_id":76374555,"body_markdown":"I need to modify an installation package produced with [IzPack][1] 5.1.3.\r\n\r\nIn practice I have to update some files present in the installation package.\r\n\r\nThe package was not produced by me and therefore I don&#39;t have the original files to rebuild it.\r\n\r\nI know that in the installer there is a Pack of IzPack, I would like to open this pack (it&#39;s a compressed file of some kind) and replace/add files to it.\r\n\r\nI think I should use [PackFile][2], [PackInfo][3], [Unpacker][4] and [DefaultFileUnpacker][5] classes by IzPack, but I have no idea if it&#39;s feasible, nor how to proceed.\r\n\r\nHere are a couple of image of what it is inside that .jar installer\r\n[![this is the content of /resources diurectory inside the .jar installer][6]][6]\r\n\r\n[![this the pack file][7]][7]\r\n\r\n\r\n  [1]: http://izpack.org/\r\n  [2]: https://github.com/izpack/izpack/blob/master/izpack-api/src/main/java/com/izforge/izpack/api/data/PackFile.java\r\n  [3]: https://github.com/izpack/izpack/blob/master/izpack-api/src/main/java/com/izforge/izpack/api/data/PackInfo.java\r\n  [4]: https://github.com/izpack/izpack/blob/master/izpack-installer/src/main/java/com/izforge/izpack/installer/unpacker/Unpacker.java\r\n  [5]: https://github.com/izpack/izpack/blob/master/izpack-installer/src/main/java/com/izforge/izpack/installer/unpacker/DefaultFileUnpacker.java\r\n  [6]: https://i.stack.imgur.com/6zRJJ.png\r\n  [7]: https://i.stack.imgur.com/yxzxk.png","title":"Adding files to an IzPack .jar installer","body":"<p>I need to modify an installation package produced with <a href=\"http://izpack.org/\" rel=\"nofollow noreferrer\">IzPack</a> 5.1.3.</p>\n<p>In practice I have to update some files present in the installation package.</p>\n<p>The package was not produced by me and therefore I don't have the original files to rebuild it.</p>\n<p>I know that in the installer there is a Pack of IzPack, I would like to open this pack (it's a compressed file of some kind) and replace/add files to it.</p>\n<p>I think I should use <a href=\"https://github.com/izpack/izpack/blob/master/izpack-api/src/main/java/com/izforge/izpack/api/data/PackFile.java\" rel=\"nofollow noreferrer\">PackFile</a>, <a href=\"https://github.com/izpack/izpack/blob/master/izpack-api/src/main/java/com/izforge/izpack/api/data/PackInfo.java\" rel=\"nofollow noreferrer\">PackInfo</a>, <a href=\"https://github.com/izpack/izpack/blob/master/izpack-installer/src/main/java/com/izforge/izpack/installer/unpacker/Unpacker.java\" rel=\"nofollow noreferrer\">Unpacker</a> and <a href=\"https://github.com/izpack/izpack/blob/master/izpack-installer/src/main/java/com/izforge/izpack/installer/unpacker/DefaultFileUnpacker.java\" rel=\"nofollow noreferrer\">DefaultFileUnpacker</a> classes by IzPack, but I have no idea if it's feasible, nor how to proceed.</p>\n<p>Here are a couple of image of what it is inside that .jar installer\n<a href=\"https://i.stack.imgur.com/6zRJJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zRJJ.png\" alt=\"this is the content of /resources diurectory inside the .jar installer\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/yxzxk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yxzxk.png\" alt=\"this the pack file\" /></a></p>\n"},{"tags":["java","spring-boot","maven","swagger","springdoc"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1656849877,"post_id":72846268,"comment_id":128667102,"body_markdown":"The error is telling you that your OpenAPI Specification, obviously documented via Springdoc, cannot find any documented endpoints. How do you configure Springdoc, are you using a openapi.yaml file or java annotations to document on the fly? If you&#39;re using annotations take a look at [Springdoc](https://springdoc.org/), you&#39;re missing a dependency `org.springdoc:springdoc-openapi-webmvc-core` for Spring MVC documentation.","body":"The error is telling you that your OpenAPI Specification, obviously documented via Springdoc, cannot find any documented endpoints. How do you configure Springdoc, are you using a openapi.yaml file or java annotations to document on the fly? If you&#39;re using annotations take a look at <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">Springdoc</a>, you&#39;re missing a dependency <code>org.springdoc:springdoc-openapi-webmvc-core</code> for Spring MVC documentation."},{"owner":{"account_id":25192311,"reputation":1,"user_id":19032365,"display_name":"JarveyD"},"score":0,"creation_date":1656850283,"post_id":72846268,"comment_id":128667187,"body_markdown":"Thank you so much for jumping in! I have an application.yaml file that is currently just pointing to spring, datasource, with username &amp; password and the URL.","body":"Thank you so much for jumping in! I have an application.yaml file that is currently just pointing to spring, datasource, with username &amp; password and the URL."},{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1656850561,"post_id":72846268,"comment_id":128667243,"body_markdown":"`application.yaml` and `openapi.yaml` are completely different files, the first one is configuring Spring as application and the latter is used to document RESTful endpoints using the [OpenAPI Format](https://spec.openapis.org/oas/latest.html), don&#39;t mix them up. But I guess you should using java annotations like `@Tag` and `@Operation` to document endpoints. Hence take a look at the [Springdoc Documentation](https://springdoc.org).","body":"<code>application.yaml</code> and <code>openapi.yaml</code> are completely different files, the first one is configuring Spring as application and the latter is used to document RESTful endpoints using the <a href=\"https://spec.openapis.org/oas/latest.html\" rel=\"nofollow noreferrer\">OpenAPI Format</a>, don&#39;t mix them up. But I guess you should using java annotations like <code>@Tag</code> and <code>@Operation</code> to document endpoints. Hence take a look at the <a href=\"https://springdoc.org\" rel=\"nofollow noreferrer\">Springdoc Documentation</a>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1656850931,"post_id":72846268,"comment_id":128667317,"body_markdown":"Can you show a short piece of code (a method heading) that you think should show up in Swagger? (doesn&#39;t have a complete [mre] in this case, you can omit the actual implementation)","body":"Can you show a short piece of code (a method heading) that you think should show up in Swagger? (doesn&#39;t have a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in this case, you can omit the actual implementation)"},{"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"score":0,"creation_date":1667547571,"post_id":72846268,"comment_id":131196386,"body_markdown":"it can also happen when property springdoc.packagesToScan is not set in application.properties","body":"it can also happen when property springdoc.packagesToScan is not set in application.properties"}],"answers":[{"tags":[],"owner":{"account_id":4096496,"reputation":1292,"user_id":4085134,"accept_rate":50,"display_name":"Ait Friha Zaid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685542809,"creation_date":1685542809,"answer_id":76374504,"question_id":72846268,"body_markdown":"\r\n[https://stackoverflow.com/a/76374465/4085134][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76374465/4085134\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    @Import(SpringDataRestConfiguration.class)\r\n    public class SwaggerConfig {\r\n    \r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;org.zaid.aitfriha.controller.api&quot;))\r\n                    .paths(PathSelectors.any())\r\n                    .build()\r\n                    .apiInfo(apiInfo());\r\n        }","title":"No operations defined in spec","body":"<p><a href=\"https://stackoverflow.com/a/76374465/4085134\">https://stackoverflow.com/a/76374465/4085134</a></p>\n<pre><code>@Configuration\n@EnableSwagger2\n@Import(SpringDataRestConfiguration.class)\npublic class SwaggerConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;org.zaid.aitfriha.controller.api&quot;))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(apiInfo());\n    }\n</code></pre>\n"}],"owner":{"account_id":25192311,"reputation":1,"user_id":19032365,"display_name":"JarveyD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685542809,"creation_date":1656849163,"question_id":72846268,"body_markdown":"I have a final project that I am trying to complete to finish my program. I am still kind of a newbie to back end, so I am not entirely sure what I need to show you here in terms of code.  \r\n\r\nI created a project using Spring Tool Suite, i have my controller, service, entity and DAO layers all set up. But when I run the app and try to access Swagger I am getting the &quot;no operations defined in spec!&quot; error.  I met with one of my class mentors and she gave me access to her project, and everything seems to matchup with my project.  So this has me thinking that it has to be something in the configuration or setup.  This is my pom file(which also exactly mirrors my mentors pom file, and she has no issues). I have spent the last week searching the entire internet and have not been able to find a solution. Any suggestions or help you can provide is TRULY appreciated. Thanks!\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t\r\n\t&lt;groupId&gt;com.danceevents&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Dance-Events&lt;/artifactId&gt; &lt;!-- come back to this if there is an error --&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Dance-Events&lt;/name&gt;\r\n\t&lt;description&gt;Dance-Events&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;1.6.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \r\n    \r\n \r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n  \r\n&lt;/dependency&gt;\r\n\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n","title":"No operations defined in spec","body":"<p>I have a final project that I am trying to complete to finish my program. I am still kind of a newbie to back end, so I am not entirely sure what I need to show you here in terms of code.</p>\n<p>I created a project using Spring Tool Suite, i have my controller, service, entity and DAO layers all set up. But when I run the app and try to access Swagger I am getting the &quot;no operations defined in spec!&quot; error.  I met with one of my class mentors and she gave me access to her project, and everything seems to matchup with my project.  So this has me thinking that it has to be something in the configuration or setup.  This is my pom file(which also exactly mirrors my mentors pom file, and she has no issues). I have spent the last week searching the entire internet and have not been able to find a solution. Any suggestions or help you can provide is TRULY appreciated. Thanks!</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;groupId&gt;com.danceevents&lt;/groupId&gt;\n    &lt;artifactId&gt;Dance-Events&lt;/artifactId&gt; &lt;!-- come back to this if there is an error --&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Dance-Events&lt;/name&gt;\n    &lt;description&gt;Dance-Events&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n                &lt;!-- https://mvnrepository.com/artifact/org.springdoc/springdoc-openapi-ui --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.9&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-jdbc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n    \n    \n \n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  \n&lt;/dependency&gt;\n\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","arrays","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":0,"creation_date":1509907984,"post_id":47125279,"comment_id":81200711,"body_markdown":"as a side note - no need to return `Integer`, just `int` would suffice.","body":"as a side note - no need to return <code>Integer</code>, just <code>int</code> would suffice."}],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1509908304,"creation_date":1509908304,"answer_id":47125379,"question_id":47125279,"body_markdown":"You are not using the return value. And you need to use it, because the modification in `index++` would never leave the scope of the function.\r\n\r\n    private static int inorderArray(TreeNode root, int[] array, int index) {\r\n        if (root == null) {\r\n            return index;\r\n        }\r\n\r\n        index = inorderArray(root.left, array, index);\r\n        array[index++] = root.key;\r\n        index = inorderArray(root.right, array, index);\r\n        return index;\r\n    }","title":"Storing Binary Tree into an array","body":"<p>You are not using the return value. And you need to use it, because the modification in <code>index++</code> would never leave the scope of the function.</p>\n\n<pre><code>private static int inorderArray(TreeNode root, int[] array, int index) {\n    if (root == null) {\n        return index;\n    }\n\n    index = inorderArray(root.left, array, index);\n    array[index++] = root.key;\n    index = inorderArray(root.right, array, index);\n    return index;\n}\n</code></pre>\n"}],"owner":{"account_id":12177984,"reputation":13,"user_id":8890450,"display_name":"Gina Masson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2720,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47125379,"answer_count":1,"score":1,"last_activity_date":1685542049,"creation_date":1509907696,"question_id":47125279,"body_markdown":"I attempting to store a binary tree into an array with the code below:\r\n\r\n\r\n\r\n    public void inorderArray(int[] array)  {\r\n    \t   inorderArray(root, array, 0);\r\n    }\r\n\r\n    private static Integer inorderArray(TreeNode root, int[] array, int index) { \r\n    \t// an inorder traversal that stores the items in array\r\n    \tif(root == null){return index;}\r\n\r\n    \tinorderArray(root.left, array, index);\r\n    \tarray[index++] = root.key;\r\n    \tinorderArray(root.right, array, index);\r\n\r\n    \treturn index;\r\n    }\r\n\r\nI keep getting `[94, 95, 0, 0, 0, 0, 0, 0, 0, 0]`, \r\nand its not in order either.  \r\n\r\nI have no idea what I am doing wrong.  Any help is appreciated.","title":"Storing Binary Tree into an array","body":"<p>I attempting to store a binary tree into an array with the code below:</p>\n\n<pre><code>public void inorderArray(int[] array)  {\n       inorderArray(root, array, 0);\n}\n\nprivate static Integer inorderArray(TreeNode root, int[] array, int index) { \n    // an inorder traversal that stores the items in array\n    if(root == null){return index;}\n\n    inorderArray(root.left, array, index);\n    array[index++] = root.key;\n    inorderArray(root.right, array, index);\n\n    return index;\n}\n</code></pre>\n\n<p>I keep getting <code>[94, 95, 0, 0, 0, 0, 0, 0, 0, 0]</code>, \nand its not in order either.  </p>\n\n<p>I have no idea what I am doing wrong.  Any help is appreciated.</p>\n"},{"tags":["java","android","webview","zooming"],"comments":[{"owner":{"account_id":8004446,"reputation":363,"user_id":6038143,"display_name":"Ashraf Amin"},"score":0,"creation_date":1662113787,"post_id":13543186,"comment_id":129936160,"body_markdown":"Vote my answer below. Set default zoom out = webview.setInitialScale(-1);","body":"Vote my answer below. Set default zoom out = webview.setInitialScale(-1);"}],"answers":[{"tags":[],"owner":{"account_id":1071625,"reputation":574,"user_id":1070734,"accept_rate":62,"display_name":"Zohaib Brohi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353775630,"creation_date":1353775353,"answer_id":13543203,"question_id":13543186,"body_markdown":"use the [webSettings][1] class to set the zoom level...\r\n\r\n    webview.getSettings().setDefaultZoom(WebSettings.ZoomDensity.FAR);\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/webkit/WebSettings.html","title":"Android Webview initial zoom out","body":"<p>use the <a href=\"http://developer.android.com/reference/android/webkit/WebSettings.html\" rel=\"nofollow\">webSettings</a> class to set the zoom level...</p>\n\n<pre><code>webview.getSettings().setDefaultZoom(WebSettings.ZoomDensity.FAR);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":256328,"reputation":3098,"user_id":536986,"accept_rate":83,"display_name":"Cameron"},"score":2,"creation_date":1380235405,"post_id":13543216,"comment_id":28137051,"body_markdown":"I used this with `wv.getSettings().setBuiltInZoomControls(true);` per [this answer](http://stackoverflow.com/a/7903262/536986) to default my view to zoomed out and to be able to pinch-to-zoom.","body":"I used this with <code>wv.getSettings().setBuiltInZoomControls(true);</code> per <a href=\"http://stackoverflow.com/a/7903262/536986\">this answer</a> to default my view to zoomed out and to be able to pinch-to-zoom."},{"owner":{"account_id":2994330,"reputation":1144,"user_id":2541156,"display_name":"Anh Duy"},"score":0,"creation_date":1486459229,"post_id":13543216,"comment_id":71342203,"body_markdown":"Refer this link https://code.google.com/p/android/issues/detail?id=92841 in .xml file you should set android:layout_width=&quot;match_parent&quot; and android:layout_height=&quot;match_parent&quot; for webview. If you set android:layout_height=&quot;wrap_content&quot;, webview doesn&#39;t  auto zoom out in android 4.4","body":"Refer this link <a href=\"https://code.google.com/p/android/issues/detail?id=92841\" rel=\"nofollow noreferrer\">code.google.com/p/android/issues/detail?id=92841</a> in .xml file you should set android:layout_width=&quot;match_parent&quot; and android:layout_height=&quot;match_parent&quot; for webview. If you set android:layout_height=&quot;wrap_content&quot;, webview doesn&#39;t  auto zoom out in android 4.4"}],"tags":[],"owner":{"account_id":1812756,"reputation":1581,"user_id":1648489,"accept_rate":100,"display_name":"Shakti"},"comment_count":2,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1384952300,"creation_date":1353775421,"answer_id":13543216,"question_id":13543186,"body_markdown":"    webview.getSettings().setLoadWithOverviewMode(true);\t\r\n\r\nThis will cause the webview to be zoomed out initially.   \r\n \r\n    webview.getSettings().setUseWideViewPort(true);\r\n\r\nThe Webview will have a normal viewport (like desktop browser), when false the webview will have a viewport constrained to it&#39;s own dimensions.\r\n\r\n\r\n**EDIT**: With the introduction of &quot;Chrome web view&quot; in Android KitKat, this code might not work.","title":"Android Webview initial zoom out","body":"<pre><code>webview.getSettings().setLoadWithOverviewMode(true);    \n</code></pre>\n\n<p>This will cause the webview to be zoomed out initially.   </p>\n\n<pre><code>webview.getSettings().setUseWideViewPort(true);\n</code></pre>\n\n<p>The Webview will have a normal viewport (like desktop browser), when false the webview will have a viewport constrained to it's own dimensions.</p>\n\n<p><strong>EDIT</strong>: With the introduction of \"Chrome web view\" in Android KitKat, this code might not work.</p>\n"},{"comments":[{"owner":{"account_id":1323783,"reputation":952,"user_id":1269058,"accept_rate":58,"display_name":"Kishore"},"score":0,"creation_date":1417689493,"post_id":13543226,"comment_id":43049246,"body_markdown":"setDefaultZoom() is deprecated.","body":"setDefaultZoom() is deprecated."}],"tags":[],"owner":{"account_id":2010077,"reputation":2513,"user_id":1798751,"display_name":"Artyom Kiriliyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1353775500,"creation_date":1353775500,"answer_id":13543226,"question_id":13543186,"body_markdown":"Try this:\r\n\t\t\r\n\t\twebView.setInitialScale(50);\r\n\t\twebPlanSettings.setDefaultZoom(WebSettings.ZoomDensity.FAR);\r\n\t\twebPlanSettings.setUseWideViewPort(true);","title":"Android Webview initial zoom out","body":"<p>Try this:</p>\n\n<pre><code>    webView.setInitialScale(50);\n    webPlanSettings.setDefaultZoom(WebSettings.ZoomDensity.FAR);\n    webPlanSettings.setUseWideViewPort(true);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"score":0,"creation_date":1672898328,"post_id":17830304,"comment_id":132377853,"body_markdown":"The initial scale is working for me. The 2nd page is zoomed out by default now.","body":"The initial scale is working for me. The 2nd page is zoomed out by default now."}],"tags":[],"owner":{"account_id":424466,"reputation":2499,"user_id":804479,"accept_rate":50,"display_name":"aleb"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1374658676,"creation_date":1374658676,"answer_id":17830304,"question_id":13543186,"body_markdown":"This zooms out so that the content (an SVG in my case) fits on the screen but does not make unnecessary space.\r\n\r\n    webView.getSettings().setUseWideViewPort(true);\r\n    webView.setInitialScale(1);\r\n","title":"Android Webview initial zoom out","body":"<p>This zooms out so that the content (an SVG in my case) fits on the screen but does not make unnecessary space.</p>\n\n<pre><code>webView.getSettings().setUseWideViewPort(true);\nwebView.setInitialScale(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6146602,"reputation":688,"user_id":4793190,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429569678,"creation_date":1429569678,"answer_id":29759719,"question_id":13543186,"body_markdown":"For Kit Kat and later devices you need to set the viewport meta tag in the headers of the HTML page loaded by your WebView in order to prevent the default zoom in behavior.\r\n\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot;/&gt;","title":"Android Webview initial zoom out","body":"<p>For Kit Kat and later devices you need to set the viewport meta tag in the headers of the HTML page loaded by your WebView in order to prevent the default zoom in behavior.</p>\n\n<pre><code>&lt;meta name=\"viewport\" content=\"width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6404158,"reputation":1382,"user_id":4965949,"display_name":"Mahmoud Mabrok"},"score":0,"creation_date":1618410419,"post_id":34974360,"comment_id":118593495,"body_markdown":"this what worked with me\nwithout need last line of code","body":"this what worked with me without need last line of code"}],"tags":[],"owner":{"account_id":6284917,"reputation":618,"user_id":4884548,"display_name":"Papa Yev"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1453629372,"creation_date":1453629372,"answer_id":34974360,"question_id":13543186,"body_markdown":"        //This the the enabling of the zoom controls \r\n        webView.getSettings().setBuiltInZoomControls(true);\r\n\r\n        //This will zoom out the WebView\r\n        webView.getSettings().setUseWideViewPort(true);\r\n        webView.getSettings().setLoadWithOverviewMode(true);\r\n        webView.setInitialScale(1);","title":"Android Webview initial zoom out","body":"<pre><code>    //This the the enabling of the zoom controls \n    webView.getSettings().setBuiltInZoomControls(true);\n\n    //This will zoom out the WebView\n    webView.getSettings().setUseWideViewPort(true);\n    webView.getSettings().setLoadWithOverviewMode(true);\n    webView.setInitialScale(1);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14877831,"reputation":135,"user_id":10743408,"display_name":"arun"},"score":0,"creation_date":1693569799,"post_id":76374357,"comment_id":135781976,"body_markdown":"By adding the code, i can able to scroll the view hence the zoom out is not applied","body":"By adding the code, i can able to scroll the view hence the zoom out is not applied"}],"tags":[],"owner":{"account_id":11714229,"reputation":31,"user_id":8575276,"display_name":"George Vortelinos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685541878,"creation_date":1685541878,"answer_id":76374357,"question_id":13543186,"body_markdown":"Set WebView settings like:\r\n\r\n    webView.settings.run {\r\n        builtInZoomControls = true\r\n        //hide +- zoom buttons\r\n        displayZoomControls = false \r\n        //zooms out the content to fit on screen by width\r\n        loadWithOverviewMode = true \r\n        //when page contains the viewport meta tag\r\n        useWideViewPort = true \r\n    }\r\n\r\nBut consider that zoom settings above, work only for WebView first run.\r\n&lt;br&gt;If you want to full **zoom out every time you load a URL** in WebView (I faced this case), use zoomBy like this \r\n\r\n    webView.loadUrl(url)\r\n    webView.zoomBy(0.02f)","title":"Android Webview initial zoom out","body":"<p>Set WebView settings like:</p>\n<pre><code>webView.settings.run {\n    builtInZoomControls = true\n    //hide +- zoom buttons\n    displayZoomControls = false \n    //zooms out the content to fit on screen by width\n    loadWithOverviewMode = true \n    //when page contains the viewport meta tag\n    useWideViewPort = true \n}\n</code></pre>\n<p>But consider that zoom settings above, work only for WebView first run.\n<br>If you want to full <strong>zoom out every time you load a URL</strong> in WebView (I faced this case), use zoomBy like this</p>\n<pre><code>webView.loadUrl(url)\nwebView.zoomBy(0.02f)\n</code></pre>\n"}],"owner":{"account_id":1187950,"reputation":9156,"user_id":1161520,"accept_rate":60,"display_name":"Carla Dessi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41212,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":13543216,"answer_count":7,"score":25,"last_activity_date":1685541878,"creation_date":1353775217,"question_id":13543186,"body_markdown":"I&#39;m using a webview in my android app, at the moment when the app is started the website is zoomed in quite a lot, i want it to be zoomed out to fit the width of the screen. I currently have this in my activity:\r\n\r\n    super.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.shop);\r\n\t\tWebView webview;\r\n\t\twebview = (WebView) findViewById(R.id.webview);\r\n\t\twebview.setWebViewClient(new WebViewClient());\r\n\t\twebview.getSettings().setJavaScriptEnabled(true);\r\n\t\twebview.loadUrl(&quot;http://www.example.com&quot;);","title":"Android Webview initial zoom out","body":"<p>I'm using a webview in my android app, at the moment when the app is started the website is zoomed in quite a lot, i want it to be zoomed out to fit the width of the screen. I currently have this in my activity:</p>\n\n<pre><code>super.onCreate(savedInstanceState);\n    setContentView(R.layout.shop);\n    WebView webview;\n    webview = (WebView) findViewById(R.id.webview);\n    webview.setWebViewClient(new WebViewClient());\n    webview.getSettings().setJavaScriptEnabled(true);\n    webview.loadUrl(\"http://www.example.com\");\n</code></pre>\n"},{"tags":["java","vaadin","vaadin14"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1685597958,"post_id":76374326,"comment_id":134682955,"body_markdown":"There are two other multiselect combobox add-ons for Vaadin 14, https://vaadin.com/directory/component/accessible-combobox and https://vaadin.com/directory/component/multicombobox-component I recommend to try them out and see if they fit your application better.","body":"There are two other multiselect combobox add-ons for Vaadin 14, <a href=\"https://vaadin.com/directory/component/accessible-combobox\" rel=\"nofollow noreferrer\">vaadin.com/directory/component/accessible-combobox</a> and <a href=\"https://vaadin.com/directory/component/multicombobox-component\" rel=\"nofollow noreferrer\">vaadin.com/directory/component/multicombobox-component</a> I recommend to try them out and see if they fit your application better."},{"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"score":0,"creation_date":1685704829,"post_id":76374326,"comment_id":134701856,"body_markdown":"Thank you, Tatu. By the way, my company is going to upgrade vaadin&#39;s version from 14 to 23 and my team leader said if this bug will be fixed in 23, we can wait until that time. Will this bug be fixed in version 23?","body":"Thank you, Tatu. By the way, my company is going to upgrade vaadin&#39;s version from 14 to 23 and my team leader said if this bug will be fixed in 23, we can wait until that time. Will this bug be fixed in version 23?"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1685715732,"post_id":76374326,"comment_id":134704321,"body_markdown":"Vaadin 23 has official MultiSelectComboBox, so no add-on needed with it. Vaadin 23 component is the same as the Accessible ComboBox add-on.","body":"Vaadin 23 has official MultiSelectComboBox, so no add-on needed with it. Vaadin 23 component is the same as the Accessible ComboBox add-on."}],"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685541643,"creation_date":1685541643,"question_id":76374326,"body_markdown":"I have created a simple MultiselectComboBox component from &#39;org.vaadin.gatanaso&#39; package and it has 5 String items. Two of these items are single characters. If I type one of these single characters and then select it, everything looks good but after clicking anywhere the item disappears. I record the bug and upload the video on youtube https://youtu.be/c8c84dfSWms . After that, I figure out, the bug is not about selecting a single character after typing it. The bug occurs if I type the full name of any item and then select it by clicking, the bug will occur whenever I click anywhere.\r\n\r\nMy code is:\r\n\r\n    private MultiselectComboBox&lt;String&gt; createTestSelectBox(){\r\n    \t\tMultiselectComboBox&lt;String&gt; multiselectComboBox = new MultiselectComboBox&lt;&gt;(&quot;test&quot;);\r\n    \t\tmultiselectComboBox.setAllowCustomValues(true);\r\n    \t\tArrayList&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n    \t\titems.add(&quot;1&quot;);\r\n    \t\titems.add(&quot;1k&quot;);\r\n    \t\titems.add(&quot;k&quot;);\r\n    \t\titems.add(&quot;klm 1&quot;);\r\n    \t\titems.add(&quot;ku&quot;);\r\n    \r\n    \t\tmultiselectComboBox.setItems(items);\r\n    \r\n    \t\treturn multiselectComboBox;\r\n    \t}\r\n\r\n\r\n\r\nSteps to reproduce\r\n1. Click multi-select combobox and type the full name of any item from the list.\r\n2. Select the item which is filtered by your typing. You need to select with mouse clicking, not pushing enter button on the keyboard.\r\n3. Click anywhere except the combobox.\r\n\r\nEnvironment\r\n\r\nVaadin version(s): 14.8.20\r\n\r\nOS: macOS 13.3.1\r\n\r\nBrowser: Microsoft Edge latest version","title":"Vaadin MultiselectComboBox becomes empty after I select item and click outside of the component","body":"<p>I have created a simple MultiselectComboBox component from 'org.vaadin.gatanaso' package and it has 5 String items. Two of these items are single characters. If I type one of these single characters and then select it, everything looks good but after clicking anywhere the item disappears. I record the bug and upload the video on youtube <a href=\"https://youtu.be/c8c84dfSWms\" rel=\"nofollow noreferrer\">https://youtu.be/c8c84dfSWms</a> . After that, I figure out, the bug is not about selecting a single character after typing it. The bug occurs if I type the full name of any item and then select it by clicking, the bug will occur whenever I click anywhere.</p>\n<p>My code is:</p>\n<pre><code>private MultiselectComboBox&lt;String&gt; createTestSelectBox(){\n        MultiselectComboBox&lt;String&gt; multiselectComboBox = new MultiselectComboBox&lt;&gt;(&quot;test&quot;);\n        multiselectComboBox.setAllowCustomValues(true);\n        ArrayList&lt;String&gt; items = new ArrayList&lt;&gt;();\n\n        items.add(&quot;1&quot;);\n        items.add(&quot;1k&quot;);\n        items.add(&quot;k&quot;);\n        items.add(&quot;klm 1&quot;);\n        items.add(&quot;ku&quot;);\n\n        multiselectComboBox.setItems(items);\n\n        return multiselectComboBox;\n    }\n</code></pre>\n<p>Steps to reproduce</p>\n<ol>\n<li>Click multi-select combobox and type the full name of any item from the list.</li>\n<li>Select the item which is filtered by your typing. You need to select with mouse clicking, not pushing enter button on the keyboard.</li>\n<li>Click anywhere except the combobox.</li>\n</ol>\n<p>Environment</p>\n<p>Vaadin version(s): 14.8.20</p>\n<p>OS: macOS 13.3.1</p>\n<p>Browser: Microsoft Edge latest version</p>\n"},{"tags":["java","pentaho","etl","kettle"],"comments":[{"owner":{"account_id":18043,"reputation":5124,"user_id":40976,"accept_rate":52,"display_name":"Codek"},"score":0,"creation_date":1365405603,"post_id":15865335,"comment_id":22596442,"body_markdown":"Try it without the &quot;start&quot; command at the front of the line. Then you should see the actual error.  Suspect it&#39;s getting confused about 32/64 bit....  Oh; Also you have a space between bin and \\javaw, that can&#39;t help!  (your java_home is wrong)","body":"Try it without the &quot;start&quot; command at the front of the line. Then you should see the actual error.  Suspect it&#39;s getting confused about 32/64 bit....  Oh; Also you have a space between bin and \\javaw, that can&#39;t help!  (your java_home is wrong)"}],"answers":[{"tags":[],"owner":{"account_id":2401212,"reputation":2430,"user_id":2098819,"accept_rate":59,"display_name":"Helping Hand.."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1385636378,"creation_date":1365838108,"answer_id":15985397,"question_id":15865335,"body_markdown":"Their are few things which are not supportable by jdk which are 1.6 or lower then that, try to download jsk 1.7 and configure it may be your problem will solved, because i faced few errors in the past which are because of lower version of jdk.","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>Their are few things which are not supportable by jdk which are 1.6 or lower then that, try to download jsk 1.7 and configure it may be your problem will solved, because i faced few errors in the past which are because of lower version of jdk.</p>\n"},{"tags":[],"owner":{"account_id":3105581,"reputation":2539,"user_id":2628484,"accept_rate":56,"display_name":"SS781"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375052093,"creation_date":1375052093,"answer_id":17913795,"question_id":15865335,"body_markdown":"There seem to be a few folders missing when downloading community edition vs installing EE. Try to install both, and take the &quot;ui&quot; folder from EE and copy it to the CE folder. Running spoon.bat should work now. This worked for me, hope it helps.","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>There seem to be a few folders missing when downloading community edition vs installing EE. Try to install both, and take the \"ui\" folder from EE and copy it to the CE folder. Running spoon.bat should work now. This worked for me, hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":4507919,"reputation":1,"user_id":3664827,"display_name":"MRJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400758240,"creation_date":1400758240,"answer_id":23805587,"question_id":15865335,"body_markdown":"I had the same problem yesterday with the same message after updating Java 7 Update 55.\r\nKettle: pdi-ce-5.0.1.A-stable\r\nWindows 7 32 bits\r\n\r\nSolved: I set the PENTAHO_JAVA_HOME variable to jr6 and now the spoon.bat opens.\r\n\r\n","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>I had the same problem yesterday with the same message after updating Java 7 Update 55.\nKettle: pdi-ce-5.0.1.A-stable\nWindows 7 32 bits</p>\n\n<p>Solved: I set the PENTAHO_JAVA_HOME variable to jr6 and now the spoon.bat opens.</p>\n"},{"tags":[],"owner":{"account_id":6086365,"reputation":11,"user_id":4750253,"display_name":"DanGalizi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1443987183,"creation_date":1443987183,"answer_id":32937542,"question_id":15865335,"body_markdown":"I know it is an old commend, but maybe this can help someone.\r\nyou just need to replace all &quot;JAVAW&quot; to &quot;JAVA&quot;, inside the .bat file.\r\nIt worked for me.\r\ntks.\r\n","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>I know it is an old commend, but maybe this can help someone.\nyou just need to replace all \"JAVAW\" to \"JAVA\", inside the .bat file.\nIt worked for me.\ntks.</p>\n"},{"tags":[],"owner":{"account_id":9837864,"reputation":1,"user_id":7287681,"display_name":"Prakhar_G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483418228,"creation_date":1481582569,"answer_id":41110931,"question_id":15865335,"body_markdown":"Thanks for posting the problem and for all the hints above. I was using latest version of spoon with an older version of Java. when I ran spoon.bat in command line without the start.. it told me that the class file major.minor version is not supported. I installed latest version of Java (X64) and pointed my JAVA_HOME folder to the new folder and here you go... In my case the folder path was &quot;C:\\Program Files\\Java\\jre1.8.0_111&quot;. I copied UI folder too from EE to CE.\r\nIf you are using latest version of spoon then use the latest version of Java. I needed to add JAVA_HOME or JAVA_JRE variable pointing to the java&#39;s latest version folder on my system. \r\n\r\n","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>Thanks for posting the problem and for all the hints above. I was using latest version of spoon with an older version of Java. when I ran spoon.bat in command line without the start.. it told me that the class file major.minor version is not supported. I installed latest version of Java (X64) and pointed my JAVA_HOME folder to the new folder and here you go... In my case the folder path was \"C:\\Program Files\\Java\\jre1.8.0_111\". I copied UI folder too from EE to CE.\nIf you are using latest version of spoon then use the latest version of Java. I needed to add JAVA_HOME or JAVA_JRE variable pointing to the java's latest version folder on my system. </p>\n"}],"owner":{"account_id":2401616,"reputation":329,"user_id":2099176,"accept_rate":25,"display_name":"utsavanand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19407,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":15985397,"answer_count":5,"score":4,"last_activity_date":1685541003,"creation_date":1365355110,"question_id":15865335,"body_markdown":"Tried pdi-ce-4.1.0-stable and pdi-ce-4.2.0-stable\r\n\r\nMy Machine  - Windows 7 64 bit\r\n\r\nWhen I run Spoon.bat cmd line window appears and disappears and then nothing happens.\r\n\r\nWhen I tried to run it from command line, I get\r\n\r\n&gt; DEBUG: Using JAVA_HOME\r\nDEBUG: _PENTAHO_JAVA_HOME=C:\\Program Files\\Java\\jdk1.5.0_22\r\nDEBUG: _PENTAHO_JAVA=C:\\Program Files\\Java\\jdk1.5.0_22\\bin\\javaw\r\n&gt; \r\n&gt; C:\\pentaho\\data-integration&gt;start &quot;Spoon&quot; &quot;C:\\Program\r\n&gt; Files\\Java\\jdk1.5.0_22\\bin \\javaw&quot; &quot;-Xmx512m&quot; &quot;-XX:MaxPermSize=256m&quot;\r\n&gt; &quot;-Djava.library.path=libswt\\win64&quot; &quot;-D KETTLE_HOME=&quot;\r\n&gt; &quot;-DKETTLE_REPOSITORY=&quot; &quot;-DKETTLE_USER=&quot; &quot;-DKETTLE_PASSWORD=&quot; &quot;-DKE\r\n&gt; TTLE_PLUGIN_PACKAGES=&quot; &quot;-DKETTLE_LOG_SIZE_LIMIT=&quot; -jar\r\n&gt; launcher\\launcher.jar -li b ..\\libswt\\win64\r\n\r\nBut then again the PDI GUI doesn&#39;t open. I have run the same on another 32 bit machine and it runs perfectly.\r\n\r\n","title":"Not able to run spoon.bat or any other batch file in Pentaho Data Integration (Kettle)","body":"<p>Tried pdi-ce-4.1.0-stable and pdi-ce-4.2.0-stable</p>\n\n<p>My Machine  - Windows 7 64 bit</p>\n\n<p>When I run Spoon.bat cmd line window appears and disappears and then nothing happens.</p>\n\n<p>When I tried to run it from command line, I get</p>\n\n<blockquote>\n  <p>DEBUG: Using JAVA_HOME\n  DEBUG: _PENTAHO_JAVA_HOME=C:\\Program Files\\Java\\jdk1.5.0_22\n  DEBUG: _PENTAHO_JAVA=C:\\Program Files\\Java\\jdk1.5.0_22\\bin\\javaw</p>\n  \n  <p>C:\\pentaho\\data-integration>start \"Spoon\" \"C:\\Program\n  Files\\Java\\jdk1.5.0_22\\bin \\javaw\" \"-Xmx512m\" \"-XX:MaxPermSize=256m\"\n  \"-Djava.library.path=libswt\\win64\" \"-D KETTLE_HOME=\"\n  \"-DKETTLE_REPOSITORY=\" \"-DKETTLE_USER=\" \"-DKETTLE_PASSWORD=\" \"-DKE\n  TTLE_PLUGIN_PACKAGES=\" \"-DKETTLE_LOG_SIZE_LIMIT=\" -jar\n  launcher\\launcher.jar -li b ..\\libswt\\win64</p>\n</blockquote>\n\n<p>But then again the PDI GUI doesn't open. I have run the same on another 32 bit machine and it runs perfectly.</p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685540203,"creation_date":1685540203,"answer_id":76374130,"question_id":76369581,"body_markdown":"The reason why you get `Exceptions$OverflowException` after the 255-th emitted element is in the combination of `.onBackpressureError()` + `.publishOn(Schedulers.parallel())` operators. \r\n\r\nThe `publishOn` operator uses an internal queue to manage the flow of data between the upstream and downstream operators when switching the execution context. If you open implementation of this operator you can see that it actually has one more argument: \r\n\r\n```\r\npublic final Flux&lt;T&gt; publishOn(Scheduler scheduler) {\r\n    return publishOn(scheduler, Queues.SMALL_BUFFER_SIZE);\r\n}\r\n```\r\n\r\nThe second argument is `prefetch` which is by default `Queues.SMALL_BUFFER_SIZE`, which is 256. \r\n\r\nThis queue overflows since the consumer consumes elements slower than the producer produces them. The strategy what to do in case of overflow you configured by `onBackpressureError()`. If you for example change it to `.onBackpressureBuffer(512)` you will have more capacity and get this error later, not after 255-th element.  \r\n\r\nAs for the `requested` parameter. Since Project Reactor supports backpressure it works in the way when the consumer requests elements from the producer. By default, when you call `.subscribe()` method, consumer requests `UNBOUNDED` amount of elements. But different operators like `.publishOn` can change the number of requested elements. You can see it if you add more logging to your code, like this: \r\n```java\r\n.doOnRequest(requested -&gt; System.out.println(&quot;# doOnRequest 2:&quot; + requested))\r\n.publishOn(Schedulers.parallel())\r\n.doOnRequest(requested -&gt; System.out.println(&quot;# doOnRequest 1:&quot; + requested))\r\n```\r\nThis prints \r\n```\r\n# doOnRequest 1:9223372036854775807  &lt;--- which is UNBOUNDED\r\n# doOnRequest 2:256                  &lt;--- after .publishOn()\r\n```","title":"When I configure onBackpressureError in WebFlux, it raises an error based on specific conditions","body":"<p>The reason why you get <code>Exceptions$OverflowException</code> after the 255-th emitted element is in the combination of <code>.onBackpressureError()</code> + <code>.publishOn(Schedulers.parallel())</code> operators.</p>\n<p>The <code>publishOn</code> operator uses an internal queue to manage the flow of data between the upstream and downstream operators when switching the execution context. If you open implementation of this operator you can see that it actually has one more argument:</p>\n<pre><code>public final Flux&lt;T&gt; publishOn(Scheduler scheduler) {\n    return publishOn(scheduler, Queues.SMALL_BUFFER_SIZE);\n}\n</code></pre>\n<p>The second argument is <code>prefetch</code> which is by default <code>Queues.SMALL_BUFFER_SIZE</code>, which is 256.</p>\n<p>This queue overflows since the consumer consumes elements slower than the producer produces them. The strategy what to do in case of overflow you configured by <code>onBackpressureError()</code>. If you for example change it to <code>.onBackpressureBuffer(512)</code> you will have more capacity and get this error later, not after 255-th element.</p>\n<p>As for the <code>requested</code> parameter. Since Project Reactor supports backpressure it works in the way when the consumer requests elements from the producer. By default, when you call <code>.subscribe()</code> method, consumer requests <code>UNBOUNDED</code> amount of elements. But different operators like <code>.publishOn</code> can change the number of requested elements. You can see it if you add more logging to your code, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.doOnRequest(requested -&gt; System.out.println(&quot;# doOnRequest 2:&quot; + requested))\n.publishOn(Schedulers.parallel())\n.doOnRequest(requested -&gt; System.out.println(&quot;# doOnRequest 1:&quot; + requested))\n</code></pre>\n<p>This prints</p>\n<pre><code># doOnRequest 1:9223372036854775807  &lt;--- which is UNBOUNDED\n# doOnRequest 2:256                  &lt;--- after .publishOn()\n</code></pre>\n"}],"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76374130,"answer_count":1,"score":2,"last_activity_date":1685540203,"creation_date":1685496710,"question_id":76369581,"body_markdown":"I&#39;m currently studying webflux Backpressure, and I&#39;m not sure about the criteria for triggering an error when setting onBackpressureError. When testing with the provided source code, I receive data only up to 255, and from 256 onwards, an error occurs. When examining the decompiled code, it seems that the error occurs when DropSubscriber.requested becomes 0. I&#39;m wondering if there is any correlation between these factors.\r\n\r\n```java\r\nclass BackpressureErrorTest {\r\n    private static final Logger log = LoggerFactory.getLogger(BackpressureErrorTest.class);\r\n\r\n    @Test\r\n    void given_when_then() throws InterruptedException {\r\n        Flux\r\n                .interval(Duration.ofMillis(1L))\r\n                .onBackpressureError()\r\n                .doOnNext(data -&gt; log.info(&quot;# doOnNext: {}&quot;, data))\r\n                .publishOn(Schedulers.parallel())\r\n                .subscribe(data -&gt; {\r\n                    try {\r\n                        Thread.sleep(5L);\r\n                    } catch (InterruptedException e) {}\r\n                    log.info(&quot;# onNext: {}&quot;, data);\r\n                }, error -&gt; log.error(&quot;# onError&quot;, error));\r\n\r\n        Thread.sleep(2000L);\r\n    }\r\n}\r\n```","title":"When I configure onBackpressureError in WebFlux, it raises an error based on specific conditions","body":"<p>I'm currently studying webflux Backpressure, and I'm not sure about the criteria for triggering an error when setting onBackpressureError. When testing with the provided source code, I receive data only up to 255, and from 256 onwards, an error occurs. When examining the decompiled code, it seems that the error occurs when DropSubscriber.requested becomes 0. I'm wondering if there is any correlation between these factors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class BackpressureErrorTest {\n    private static final Logger log = LoggerFactory.getLogger(BackpressureErrorTest.class);\n\n    @Test\n    void given_when_then() throws InterruptedException {\n        Flux\n                .interval(Duration.ofMillis(1L))\n                .onBackpressureError()\n                .doOnNext(data -&gt; log.info(&quot;# doOnNext: {}&quot;, data))\n                .publishOn(Schedulers.parallel())\n                .subscribe(data -&gt; {\n                    try {\n                        Thread.sleep(5L);\n                    } catch (InterruptedException e) {}\n                    log.info(&quot;# onNext: {}&quot;, data);\n                }, error -&gt; log.error(&quot;# onError&quot;, error));\n\n        Thread.sleep(2000L);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","deep-linking"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1685544007,"post_id":76374023,"comment_id":134675506,"body_markdown":"That&#39;s not a parseable Uri - query parameters need to be [URL encoded](https://en.m.wikipedia.org/wiki/URL_encoding).","body":"That&#39;s not a parseable Uri - query parameters need to be <a href=\"https://en.m.wikipedia.org/wiki/URL_encoding\" rel=\"nofollow noreferrer\">URL encoded</a>."}],"owner":{"account_id":18002107,"reputation":552,"user_id":13083841,"display_name":"mrzbn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685540188,"creation_date":1685539622,"question_id":76374023,"body_markdown":"There is this deeplink:\r\n\r\n    https://example.com/?url=https://google.com/?search=apple&amp;sourceid=chrome\r\ndeeplink is then parsed to:\r\n\r\n    domain = https://example.com\r\n    queryParams = {\r\n        url = https://google.com/?search=apple\r\n        sourceid = chrome\r\n    }\r\n    \r\nwhereas I want it to be parsed like this:\r\n\r\n    domain = https://example.com\r\n    queryParams = {\r\n        url= https://google.com/?search=apple&amp;sourceid=chrome\r\n    }\r\n\r\n","title":"Navigation Component deeplink cuts of query parameter when query value is also a url with query parameters","body":"<p>There is this deeplink:</p>\n<pre><code>https://example.com/?url=https://google.com/?search=apple&amp;sourceid=chrome\n</code></pre>\n<p>deeplink is then parsed to:</p>\n<pre><code>domain = https://example.com\nqueryParams = {\n    url = https://google.com/?search=apple\n    sourceid = chrome\n}\n</code></pre>\n<p>whereas I want it to be parsed like this:</p>\n<pre><code>domain = https://example.com\nqueryParams = {\n    url= https://google.com/?search=apple&amp;sourceid=chrome\n}\n</code></pre>\n"},{"tags":["java","json","serialization","jackson"],"comments":[{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":0,"creation_date":1578055397,"post_id":59578802,"comment_id":105323833,"body_markdown":"I have an arraylist called persons. When I do mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS), it gives me [ { }, { }, { }, { }, { }, { }, { }, { }, { }, { }, { } ]. Without it, it just creates a broken json file: &quot; [&quot;.","body":"I have an arraylist called persons. When I do mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS), it gives me [ { }, { }, { }, { }, { }, { }, { }, { }, { }, { }, { } ]. Without it, it just creates a broken json file: &quot; [&quot;."},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1578055404,"post_id":59578802,"comment_id":105323835,"body_markdown":"Can you put the full code.","body":"Can you put the full code."},{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":3,"creation_date":1578055704,"post_id":59578802,"comment_id":105323972,"body_markdown":"My code is very messy as I am new to Java. I am scraping Wikipedia and collecting data of politicians.","body":"My code is very messy as I am new to Java. I am scraping Wikipedia and collecting data of politicians."},{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":0,"creation_date":1578056072,"post_id":59578802,"comment_id":105324135,"body_markdown":"Do I have to create a new custom serlizer? or is there an easier way?","body":"Do I have to create a new custom serlizer? or is there an easier way?"},{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":1,"creation_date":1578060917,"post_id":59578802,"comment_id":105326368,"body_markdown":"The sample you&#39;ve posted has no public members.  It&#39;s likely that the serializing class simply can&#39;t see anything in those objects _to_ serialize.","body":"The sample you&#39;ve posted has no public members.  It&#39;s likely that the serializing class simply can&#39;t see anything in those objects <i>to</i> serialize."},{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":0,"creation_date":1578063315,"post_id":59578802,"comment_id":105327526,"body_markdown":"Do I have to declare name and age etc. public inside class?","body":"Do I have to declare name and age etc. public inside class?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1578065152,"post_id":59578802,"comment_id":105328400,"body_markdown":"Could you create `POJO` class with getters and setters and try with it?","body":"Could you create <code>POJO</code> class with getters and setters and try with it?"},{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":1,"creation_date":1578087660,"post_id":59578802,"comment_id":105337764,"body_markdown":"Java&#39;s default access modifier (which is what you get if you don&#39;t specify something else, as you&#39;ve done here) only allows access within the same package or from the class itself.  The best practice is to add (public) getters and setters.","body":"Java&#39;s default access modifier (which is what you get if you don&#39;t specify something else, as you&#39;ve done here) only allows access within the same package or from the class itself.  The best practice is to add (public) getters and setters."},{"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"score":0,"creation_date":1578149679,"post_id":59578802,"comment_id":105348773,"body_markdown":"As many of you mentioned, making elements inside the class public seems to be the solution. I solved the problem by creating a custom serializer.","body":"As many of you mentioned, making elements inside the class public seems to be the solution. I solved the problem by creating a custom serializer."}],"answers":[{"comments":[{"owner":{"account_id":17463885,"reputation":303,"user_id":12661027,"display_name":"Lycanthropeus"},"score":0,"creation_date":1618295280,"post_id":59591684,"comment_id":118551344,"body_markdown":"Great answer. To add a small postscript: For large classes with lots of fields, Eclipse has an auto-generate getters and setters feature, found under Source -&gt; Generate Getters and Setters","body":"Great answer. To add a small postscript: For large classes with lots of fields, Eclipse has an auto-generate getters and setters feature, found under Source -&gt; Generate Getters and Setters"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":2,"creation_date":1618326937,"post_id":59591684,"comment_id":118565422,"body_markdown":"@Lycanthropeus Yes, that is one way. I prefer using [Lombok](https://projectlombok.org/) `@Getter` `@Setter` annotations to have cleaner code.","body":"@Lycanthropeus Yes, that is one way. I prefer using <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a> <code>@Getter</code> <code>@Setter</code> annotations to have cleaner code."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1642753291,"post_id":59591684,"comment_id":125160588,"body_markdown":"Thanks. My field was not having any public access. Missed lombok @Data which add getter, setter","body":"Thanks. My field was not having any public access. Missed lombok @Data which add getter, setter"}],"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1578148570,"creation_date":1578148570,"answer_id":59591684,"question_id":59578802,"body_markdown":"Excerpt from [here](https://www.baeldung.com/jackson-jsonmappingexception):\r\n\r\n&gt; By default, Jackson 2 will only work with with fields that are either public, or have a public getter methods – serializing an entity that has all fields private or package private will fail:\r\n\r\nYour `Person` has all fields [package protected](https://stackoverflow.com/q/215497/6413377) and without getters thus the error message. Disabling the message naturally does not fix the problem since the class is still `empty` from Jackson&#39;s point of view. That is why you see empty objects and it is better to leave the error on.\r\n\r\nYou need to either make all fields `public`, like:\r\n\r\n    public class Person {\r\n        public String name;\r\n        // rest of the stuff...\r\n    }\r\n\r\nor create a public getter for each field (and preferably also set fields private), like:\r\n\r\n    public class Person {\r\n        private String name;\r\n        \r\n        public String getName() {\r\n            return this.name;\r\n        }\r\n        // rest of the stuff...\r\n    }","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>Excerpt from <a href=\"https://www.baeldung.com/jackson-jsonmappingexception\" rel=\"noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>By default, Jackson 2 will only work with with fields that are either public, or have a public getter methods – serializing an entity that has all fields private or package private will fail:</p>\n</blockquote>\n\n<p>Your <code>Person</code> has all fields <a href=\"https://stackoverflow.com/q/215497/6413377\">package protected</a> and without getters thus the error message. Disabling the message naturally does not fix the problem since the class is still <code>empty</code> from Jackson's point of view. That is why you see empty objects and it is better to leave the error on.</p>\n\n<p>You need to either make all fields <code>public</code>, like:</p>\n\n<pre><code>public class Person {\n    public String name;\n    // rest of the stuff...\n}\n</code></pre>\n\n<p>or create a public getter for each field (and preferably also set fields private), like:</p>\n\n<pre><code>public class Person {\n    private String name;\n\n    public String getName() {\n        return this.name;\n    }\n    // rest of the stuff...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3648696,"reputation":699,"user_id":3041354,"display_name":"sandeep vanama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583381636,"creation_date":1583381636,"answer_id":60538104,"question_id":59578802,"body_markdown":"All the fields in Person class are with default access specifier.Either make the fields public or add public getter methods.Below class should work.\r\n\r\n    public class Person {\r\n\t\r\n\t    private String name;\r\n\t    private String age ;\r\n\t    private List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\r\n\t    private List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \r\n\t    private List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \r\n\t    \r\n\t    public String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t    \r\n\t    public String getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\t    \r\n\t    public List&lt;String&gt; getEducation() {\r\n\t\t\treturn education;\r\n\t\t}\r\n\t    \r\n\t    public List&lt;String&gt; getFamily() {\r\n\t\t\treturn family;\r\n\t\t}\r\n\t    \r\n\t    public List&lt;String&gt; getPreviousjobs() {\r\n\t\t\treturn previousjobs;\r\n\t\t}\r\n\t    \r\n\r\n}\r\n\r\nIf POJO is in our control we can modify POJO as above.If POJO is not under control we can set the visibility to any as \r\nbelow objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>All the fields in Person class are with default access specifier.Either make the fields public or add public getter methods.Below class should work.</p>\n\n<pre><code>public class Person {\n\n    private String name;\n    private String age ;\n    private List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\n    private List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \n    private List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \n\n    public String getName() {\n        return name;\n    }\n\n    public String getAge() {\n        return age;\n    }\n\n    public List&lt;String&gt; getEducation() {\n        return education;\n    }\n\n    public List&lt;String&gt; getFamily() {\n        return family;\n    }\n\n    public List&lt;String&gt; getPreviousjobs() {\n        return previousjobs;\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>If POJO is in our control we can modify POJO as above.If POJO is not under control we can set the visibility to any as \nbelow objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);</p>\n"},{"tags":[],"owner":{"account_id":19035501,"reputation":11,"user_id":13896678,"display_name":"Purushottam Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671035677,"creation_date":1670651213,"answer_id":74750689,"question_id":59578802,"body_markdown":"create object of **object mapper** class and pass below property to resolve this issue in:\r\n\r\n    given().body(value).when().post(&quot;/workspaces&quot;).then().spec(responseSpecification).log().all();  \r\n    \r\n    String value = objectMapper.writeValueAsString(workspaceRoot);\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper()               .setVisibility(PropertyAccessor.FIELD,JsonAutoDetect.Visibility.ANY).disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>create object of <strong>object mapper</strong> class and pass below property to resolve this issue in:</p>\n<pre><code>given().body(value).when().post(&quot;/workspaces&quot;).then().spec(responseSpecification).log().all();  \n\nString value = objectMapper.writeValueAsString(workspaceRoot);\n\nObjectMapper objectMapper = new ObjectMapper()               .setVisibility(PropertyAccessor.FIELD,JsonAutoDetect.Visibility.ANY).disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11145558,"reputation":124,"user_id":8180448,"display_name":"Nurudeen Amedu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685539831,"creation_date":1685539831,"answer_id":76374063,"question_id":59578802,"body_markdown":"With Lombok Builder you can avoid this with Getter annotation, your class will look like;\r\n\r\n    @Builder\r\n    @Getter\r\n    public class Person {\r\n        String name;\r\n        String age \r\n        List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\r\n        List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \r\n        List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \r\n    }\r\n\r\nYou would have to build a person with the [Lombok builder][1] but the writer will have access to all person values\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Builder","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>With Lombok Builder you can avoid this with Getter annotation, your class will look like;</p>\n<pre><code>@Builder\n@Getter\npublic class Person {\n    String name;\n    String age \n    List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\n    List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \n    List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \n}\n</code></pre>\n<p>You would have to build a person with the <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">Lombok builder</a> but the writer will have access to all person values</p>\n"}],"owner":{"account_id":10927726,"reputation":485,"user_id":8031951,"display_name":"7029279"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39687,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":59591684,"answer_count":4,"score":18,"last_activity_date":1685539831,"creation_date":1578055149,"question_id":59578802,"body_markdown":"I have an ArrayList of a class that looks like this:\r\n\r\n    public class Person {\r\n        String name;\r\n        String age \r\n        List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\r\n        List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \r\n        List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \r\n    }\r\n\r\nI want to write this list as Json and tried this code:\r\n\r\n    Writer out = new PrintWriter(&quot;./test.json&quot;);\r\n    mapper.writerWithDefaultPrettyPrinter().writeValueas(out, persons);\r\n\r\nand got this error message:\r\n\r\n&gt; No serializer found for class ~~~~~~ and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0])`\r\n\r\nI tried adding `mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)` but it made all the Person Objects empty for some unknown reasons.\r\n\r\nWhat am I getting wrong? \r\n\r\n","title":"Jackson: No serializer found for class ~~~~~ and no properties discovered to create BeanSerializer","body":"<p>I have an ArrayList of a class that looks like this:</p>\n\n<pre><code>public class Person {\n    String name;\n    String age \n    List&lt;String&gt; education = new ArrayList&lt;String&gt; ();\n    List&lt;String&gt; family = new ArrayList&lt;String&gt; (); \n    List&lt;String&gt; previousjobs = new ArrayList&lt;String&gt;(); \n}\n</code></pre>\n\n<p>I want to write this list as Json and tried this code:</p>\n\n<pre><code>Writer out = new PrintWriter(\"./test.json\");\nmapper.writerWithDefaultPrettyPrinter().writeValueas(out, persons);\n</code></pre>\n\n<p>and got this error message:</p>\n\n<blockquote>\n  <p>No serializer found for class ~~~~~~ and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[0])`</p>\n</blockquote>\n\n<p>I tried adding <code>mapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)</code> but it made all the Person Objects empty for some unknown reasons.</p>\n\n<p>What am I getting wrong? </p>\n"},{"tags":["java","database","couchbase","couchbase-java-api"],"answers":[{"comments":[{"owner":{"account_id":1900628,"reputation":586,"user_id":1716558,"accept_rate":64,"display_name":"Amit Sinha"},"score":2,"creation_date":1685569695,"post_id":76374037,"comment_id":134680519,"body_markdown":"can you please help me how can we read it. For meta we can read but if we are trying to read xattrs like meta, it is not working.","body":"can you please help me how can we read it. For meta we can read but if we are trying to read xattrs like meta, it is not working."},{"owner":{"account_id":5963819,"reputation":416,"user_id":4688115,"display_name":"Graham Pople"},"score":2,"creation_date":1685617783,"post_id":76374037,"comment_id":134686718,"body_markdown":"@AmitSinha com.couchbase.client.java.kv.LookupInMacro will give you access to those fields.  DOCUMENT in particular will give you everything - or you can lookup specific fields if you need.","body":"@AmitSinha com.couchbase.client.java.kv.LookupInMacro will give you access to those fields.  DOCUMENT in particular will give you everything - or you can lookup specific fields if you need."}],"tags":[],"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685539694,"creation_date":1685539694,"answer_id":76374037,"question_id":76369022,"body_markdown":"To update XATTR, use the Sub-Document API. Here&#39;s an example from the [Couchbase Java documentation][1]:\r\n\r\n```\r\nJsonObject docContent = JsonObject.create().put(&quot;body&quot;, &quot;value&quot;);\r\ncollection.mutateIn(&quot;hotel_14006&quot;,\r\n    Arrays.asList(MutateInSpec.upsert(&quot;foo&quot;, &quot;bar&quot;).xattr().createPath(), MutateInSpec.replace(&quot;&quot;, docContent)));\r\n```\r\n\r\nNotice the use of `.xattr()`.\r\n\r\nNote that XATTR&#39;s generally should only be used for framework/library metadata, and are not meant for use in general applications. XATTRs may not be accessible by all Couchbase services (Search, for example).\r\n\r\n  [1]: https://docs.couchbase.com/java-sdk/current/howtos/subdocument-operations.html#extended-attributes","title":"update xattr in meta in couchbase sdk 3.4.0 with java","body":"<p>To update XATTR, use the Sub-Document API. Here's an example from the <a href=\"https://docs.couchbase.com/java-sdk/current/howtos/subdocument-operations.html#extended-attributes\" rel=\"nofollow noreferrer\">Couchbase Java documentation</a>:</p>\n<pre><code>JsonObject docContent = JsonObject.create().put(&quot;body&quot;, &quot;value&quot;);\ncollection.mutateIn(&quot;hotel_14006&quot;,\n    Arrays.asList(MutateInSpec.upsert(&quot;foo&quot;, &quot;bar&quot;).xattr().createPath(), MutateInSpec.replace(&quot;&quot;, docContent)));\n</code></pre>\n<p>Notice the use of <code>.xattr()</code>.</p>\n<p>Note that XATTR's generally should only be used for framework/library metadata, and are not meant for use in general applications. XATTRs may not be accessible by all Couchbase services (Search, for example).</p>\n"}],"owner":{"account_id":1900628,"reputation":586,"user_id":1716558,"accept_rate":64,"display_name":"Amit Sinha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685784479,"accepted_answer_id":76374037,"answer_count":1,"score":0,"last_activity_date":1685539694,"creation_date":1685485790,"question_id":76369022,"body_markdown":"I want to update xattr in meta of a document. I didnt find any document provided by couchbase.\r\n\r\n    {\r\n      &quot;meta&quot;: {\r\n        &quot;id&quot;: &quot;0000c84b-e2bc-43ac-af51-7cf141777f49&quot;,\r\n        &quot;rev&quot;: &quot;102-163756db3f7100000000000002000000&quot;,\r\n        &quot;expiration&quot;: 0,\r\n        &quot;flags&quot;: 33554432,\r\n        &quot;type&quot;: &quot;json&quot;\r\n      },\r\n      &quot;xattrs&quot;: {}\r\n    }\r\n\r\nCan anyone help me.","title":"update xattr in meta in couchbase sdk 3.4.0 with java","body":"<p>I want to update xattr in meta of a document. I didnt find any document provided by couchbase.</p>\n<pre><code>{\n  &quot;meta&quot;: {\n    &quot;id&quot;: &quot;0000c84b-e2bc-43ac-af51-7cf141777f49&quot;,\n    &quot;rev&quot;: &quot;102-163756db3f7100000000000002000000&quot;,\n    &quot;expiration&quot;: 0,\n    &quot;flags&quot;: 33554432,\n    &quot;type&quot;: &quot;json&quot;\n  },\n  &quot;xattrs&quot;: {}\n}\n</code></pre>\n<p>Can anyone help me.</p>\n"},{"tags":["java","visual-studio-code","format"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1658394798,"post_id":73061997,"comment_id":129042309,"body_markdown":"VS Code [Language Support for Java](https://marketplace.visualstudio.com/items?itemName=redhat.java) which is based on Eclipse does not provide an UI for the Java formatter settings, but Eclipse does it.","body":"VS Code <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language Support for Java</a> which is based on Eclipse does not provide an UI for the Java formatter settings, but Eclipse does it."}],"answers":[{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658455523,"creation_date":1658455523,"answer_id":73074349,"question_id":73061997,"body_markdown":"1. You can use some special comment to let the extension skip format in a range:\r\n\r\n```java\r\n//@formatter:off\r\nsomeClass.someMethod(\r\n        veryLongParameterOne,\r\n        veryLongParameteTwo,\r\n        veryLongParameterThree\r\n);\r\n//@formatter:on\r\n```\r\n\r\n2. Or you can trigger a command `Java: Open Java Formatter Settings with Preview` to view some basic format settings in UI. Meanwhile it will generate a .xml format profile in .vscode folder, in which you can find all format settings there.","title":"Preserving line breaks in VSCode Java formatter","body":"<ol>\n<li>You can use some special comment to let the extension skip format in a range:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>//@formatter:off\nsomeClass.someMethod(\n        veryLongParameterOne,\n        veryLongParameteTwo,\n        veryLongParameterThree\n);\n//@formatter:on\n</code></pre>\n<ol start=\"2\">\n<li>Or you can trigger a command <code>Java: Open Java Formatter Settings with Preview</code> to view some basic format settings in UI. Meanwhile it will generate a .xml format profile in .vscode folder, in which you can find all format settings there.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":339820,"reputation":1567,"user_id":669518,"accept_rate":0,"display_name":"FrankyHollywood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685539585,"creation_date":1685539585,"answer_id":76374015,"question_id":73061997,"body_markdown":"In your format settings (e.g. eclipse-java-google-style.xml) use this:\r\n\r\n    &lt;setting id=&quot;org.eclipse.jdt.core.formatter.join_wrapped_lines&quot; value=&quot;false&quot;/&gt;\r\n\r\n","title":"Preserving line breaks in VSCode Java formatter","body":"<p>In your format settings (e.g. eclipse-java-google-style.xml) use this:</p>\n<pre><code>&lt;setting id=&quot;org.eclipse.jdt.core.formatter.join_wrapped_lines&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":14975659,"reputation":21,"user_id":10811180,"display_name":"HyeonseokJung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685539585,"creation_date":1658387224,"question_id":73061997,"body_markdown":"I am currently using **`Java`** in **`Visual Studio Code`**, and I am having a problem with formatting.\r\n\r\nI want to preserve the line breaks I made on purpose even after formatting.\r\n\r\n**BUT** **`VSCode`** doesn&#39;t allows me to do that.\r\n\r\nIs there a solution for this problem?\r\n\r\n***[Before formatting]***\r\n\r\n```Java\r\nsomeClass.someMethod(\r\n        veryLongParameterOne,\r\n        veryLongParameteTwo,\r\n        veryLongParameterThree\r\n);\r\n```\r\n\r\n***[After formatting]***\r\n\r\n```Java\r\nsomeClass.someMethod(\r\n        veryLongParameterOne,\r\n        veryLongParameteTwo,\r\n        veryLongParameterThree);\r\n```\r\n\r\nAll I want is to keep the code the same before and after formatting.\r\n","title":"Preserving line breaks in VSCode Java formatter","body":"<p>I am currently using <strong><code>Java</code></strong> in <strong><code>Visual Studio Code</code></strong>, and I am having a problem with formatting.</p>\n<p>I want to preserve the line breaks I made on purpose even after formatting.</p>\n<p><strong>BUT</strong> <strong><code>VSCode</code></strong> doesn't allows me to do that.</p>\n<p>Is there a solution for this problem?</p>\n<p><em><strong>[Before formatting]</strong></em></p>\n<pre><code>someClass.someMethod(\n        veryLongParameterOne,\n        veryLongParameteTwo,\n        veryLongParameterThree\n);\n</code></pre>\n<p><em><strong>[After formatting]</strong></em></p>\n<pre><code>someClass.someMethod(\n        veryLongParameterOne,\n        veryLongParameteTwo,\n        veryLongParameterThree);\n</code></pre>\n<p>All I want is to keep the code the same before and after formatting.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1685525930,"post_id":76371792,"comment_id":134671189,"body_markdown":"Your code is vulnerable to SQL injection. Don&#39;t just interpolate values into a query string. In this case you&#39;re relatively safe because the interpolated values are numbers, but if you apply this pattern anywhere else with strings, then you have a problem.","body":"Your code is vulnerable to SQL injection. Don&#39;t just interpolate values into a query string. In this case you&#39;re relatively safe because the interpolated values are numbers, but if you apply this pattern anywhere else with strings, then you have a problem."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1685525982,"post_id":76371792,"comment_id":134671205,"body_markdown":"One problem in your code is that you don&#39;t close the result set. You don&#39;t show the code of `getDataQuery`, but if you make similar mistakes there, you&#39;re probably also leaking connections and statement objects.","body":"One problem in your code is that you don&#39;t close the result set. You don&#39;t show the code of <code>getDataQuery</code>, but if you make similar mistakes there, you&#39;re probably also leaking connections and statement objects."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1685526917,"post_id":76371792,"comment_id":134671425,"body_markdown":"You aren&#39;t closing your `ResultSet`s. Whatever `sqlConnection.getDataQuery()` may do, it may be leaking `Statements` or `PreparedStatement`s. You may also be leaking `Connection`s. This is a textbook example of how not to write JDBC code.","body":"You aren&#39;t closing your <code>ResultSet</code>s. Whatever <code>sqlConnection.getDataQuery()</code> may do, it may be leaking <code>Statements</code> or <code>PreparedStatement</code>s. You may also be leaking <code>Connection</code>s. This is a textbook example of how not to write JDBC code."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1685587376,"post_id":76371792,"comment_id":134682011,"body_markdown":"How many Threads are created?","body":"How many Threads are created?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1685598110,"post_id":76371792,"comment_id":134682977,"body_markdown":"Re your edit, as suspected, you are leaking not only `ResultSet`s but `Statement`s as well, especially in the event of an exception. Returning a `ResultSet` from a method basically cannot be done. You should put the body of `getDataQuery()` inside the thread block where it is called, and use try-with-resources to ensure the `ResultSet` and the `Statement` get closed. @RickJames It wouldn&#39;t matter if there was only one thread: there are still leaks.","body":"Re your edit, as suspected, you are leaking not only <code>ResultSet</code>s but <code>Statement</code>s as well, especially in the event of an exception. Returning a <code>ResultSet</code> from a method basically cannot be done. You should put the body of <code>getDataQuery()</code> inside the thread block where it is called, and use try-with-resources to ensure the <code>ResultSet</code> and the <code>Statement</code> get closed. @RickJames It wouldn&#39;t matter if there was only one thread: there are still leaks."},{"owner":{"account_id":14727554,"reputation":97,"user_id":18667813,"display_name":"antoo5_11"},"score":0,"creation_date":1685602594,"post_id":76371792,"comment_id":134683588,"body_markdown":"I have already change all in my code, with Try-With_Resources, it really helps me. But I wonder is there any way to shorten my code, I see that any where I want to select, I need to try(Statement, ResultSet..). If I create function to get dataquery as I did in my question, it is impossible to close resultset and statement because it return resultset, and I need to use it in other position. Do I need to answer my question? Thank all of you.","body":"I have already change all in my code, with Try-With_Resources, it really helps me. But I wonder is there any way to shorten my code, I see that any where I want to select, I need to try(Statement, ResultSet..). If I create function to get dataquery as I did in my question, it is impossible to close resultset and statement because it return resultset, and I need to use it in other position. Do I need to answer my question? Thank all of you."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1685603897,"post_id":76371792,"comment_id":134683843,"body_markdown":"That&#39;s exactly what I am telling you to do, and I also told you that returning a `ResultSet` from a method basically cannot be done, as you have just discovered. You have to use a try-with-resources structure, or else return a `CachedRowSet`, but that has its own disadvantages, notably a potentially waste of space.","body":"That&#39;s exactly what I am telling you to do, and I also told you that returning a <code>ResultSet</code> from a method basically cannot be done, as you have just discovered. You have to use a try-with-resources structure, or else return a <code>CachedRowSet</code>, but that has its own disadvantages, notably a potentially waste of space."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1685616341,"post_id":76371792,"comment_id":134686420,"body_markdown":"@user207421 You can return result set without leaking a statement, by calling the `closeOnCompletion()` method of the `Statement` object. Then when the result set is closed, it should (assuming JDBC 4.1 compliance) close the originating statement as well.","body":"@user207421 You can return result set without leaking a statement, by calling the <code>closeOnCompletion()</code> method of the <code>Statement</code> object. Then when the result set is closed, it should (assuming JDBC 4.1 compliance) close the originating statement as well."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1685661890,"post_id":76371792,"comment_id":134696001,"body_markdown":"@MarkRotteveel Indeed, indeed, and a compliant impllementation is supposed to release all resources on closing the `ResultSet`, which presumably includes the `Statement`, but he needs to start by closing the `ResultSet`, and once he has the try=-with-resources structure in place it would be madness not to include the `Statement` in that as well.","body":"@MarkRotteveel Indeed, indeed, and a compliant impllementation is supposed to release all resources on closing the <code>ResultSet</code>, which presumably includes the <code>Statement</code>, but he needs to start by closing the <code>ResultSet</code>, and once he has the try=-with-resources structure in place it would be madness not to include the <code>Statement</code> in that as well."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688842924,"post_id":76371792,"comment_id":135129482,"body_markdown":"Are you seriously using a *database* to track a real time game state? Why not just do it in memory","body":"Are you seriously using a <i>database</i> to track a real time game state? Why not just do it in memory"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1685527300,"post_id":76372141,"comment_id":134671513,"body_markdown":"You don&#39;t have any choice but to use a new `ResultSet` per iteration, and your code doesn&#39;t change that: you are conflating reference variables with objects. And creating lots of `Strings` isn&#39;t a problem unless you are retaining references to them, which the OP isn&#39;t.","body":"You don&#39;t have any choice but to use a new <code>ResultSet</code> per iteration, and your code doesn&#39;t change that: you are conflating reference variables with objects. And creating lots of <code>Strings</code> isn&#39;t a problem unless you are retaining references to them, which the OP isn&#39;t."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1685529879,"post_id":76372141,"comment_id":134672002,"body_markdown":"&quot; Java will clean your RAM objects only when your code execution is done&quot;: this also is false.","body":"&quot; Java will clean your RAM objects only when your code execution is done&quot;: this also is false."}],"tags":[],"owner":{"account_id":10025983,"reputation":984,"user_id":7414142,"display_name":"Julien Feniou"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1685526235,"creation_date":1685526235,"answer_id":76372141,"question_id":76371792,"body_markdown":"You should first try an optimisation of your variables. \r\n\r\nYour thread keeps using new String for the query, whereas it seems it could be build only once. Same for your ResultSet, each time you run into a new loop, you will use a new place in RAM for a new object.\r\n\r\nYou can check this by adding a console out of your Java ID object :\r\n\r\n    System.out.println(resultSet);\r\nAnd see it&#39;s different each time\r\n\r\n\r\nSomething like this : \r\n\r\n    Thread thread = new Thread(() -&gt; {\r\n\r\n            ResultSet resultSet;\r\n            final String query = String.format(&quot;select * from matchDetails where matchID = %d and userID = %d&quot;, matchID, opponentID);\r\n\r\n            while (matchID != -1) {\r\n                try {\r\n                    resultSet = sqlConnection.getDataQuery(query);\r\n\r\nThen I let you think about changing your Query, to select only the xPos/yPos not equals to &quot;-1&quot; and get a result only for a real opponent position changing, and finaly, maybe not sending a &quot;new Position&quot; but only the 2 variables opponentX and Y, which will prevent your RAM to store this object.\r\n\r\nDon&#39;t forget that Java will clean your RAM objects only when your code execution is done (in short version), so having a single never ending thread won&#39;t go into this case. ","title":"How to continuously update to database server with JDBC in Java without increase the amount of RAM consumption?","body":"<p>You should first try an optimisation of your variables.</p>\n<p>Your thread keeps using new String for the query, whereas it seems it could be build only once. Same for your ResultSet, each time you run into a new loop, you will use a new place in RAM for a new object.</p>\n<p>You can check this by adding a console out of your Java ID object :</p>\n<pre><code>System.out.println(resultSet);\n</code></pre>\n<p>And see it's different each time</p>\n<p>Something like this :</p>\n<pre><code>Thread thread = new Thread(() -&gt; {\n\n        ResultSet resultSet;\n        final String query = String.format(&quot;select * from matchDetails where matchID = %d and userID = %d&quot;, matchID, opponentID);\n\n        while (matchID != -1) {\n            try {\n                resultSet = sqlConnection.getDataQuery(query);\n</code></pre>\n<p>Then I let you think about changing your Query, to select only the xPos/yPos not equals to &quot;-1&quot; and get a result only for a real opponent position changing, and finaly, maybe not sending a &quot;new Position&quot; but only the 2 variables opponentX and Y, which will prevent your RAM to store this object.</p>\n<p>Don't forget that Java will clean your RAM objects only when your code execution is done (in short version), so having a single never ending thread won't go into this case.</p>\n"}],"owner":{"account_id":14727554,"reputation":97,"user_id":18667813,"display_name":"antoo5_11"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1685539509,"creation_date":1685523634,"question_id":76371792,"body_markdown":"I write a fighting game in JavaFX, using JDBC to update information to a MySQL database. Most tasks that get basic information from the database server will work properly if not repeated continuously. The problem occurs when I need for the program to constantly update information from the opponent, such as position, level, damage in the game. I have to send select commands to the server continuously, which increases the RAM used by the thread running these commands.\r\n\r\n    void startUpdatingOpponentInfo() {\r\n        Thread thread = new Thread(() -&gt; {\r\n            while (matchID != -1) {\r\n                String query = String.format(&quot;select * from matchDetails where matchID = %d and userID = %d&quot;, matchID, opponentID);\r\n                try {\r\n                    ResultSet resultSet = sqlConnection.getDataQuery(query);\r\n                    while (resultSet.next()) {\r\n                        double opponentX = resultSet.getDouble(&quot;xPos&quot;);\r\n                        double opponentY = resultSet.getDouble(&quot;YPos&quot;);\r\n                        if (opponentX != -1 &amp;&amp; opponentY != -1)\r\n                            opponent.move(canvas, new Position(opponentX, opponentY));\r\n                    }\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                try {\r\n                    Thread.sleep(10);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n      public ResultSet getDataQuery(String query) {\r\n        Statement statement;\r\n        ResultSet resultSet = null;\r\n        try {\r\n            statement = connection.createStatement();\r\n            resultSet = statement.executeQuery(query);\r\n        } catch (SQLException e) {\r\n            System.out.println(query);\r\n            e.printStackTrace();\r\n        }\r\n        return resultSet;\r\n    }\r\n\r\n\r\nI tried searching a few methods and found one that was quite helpful. After each select, I will let that thread sleep for a period of time and then select again. This way increases performance significantly, the amount of RAM consumption remains stable. However, it is not suitable for querying information that always needs to be refreshed, because RAM consumption is still high with a short sleep of &#39;select&#39; thread. Is there any useful method for this problem, where I allow my game to connect directly to the database server without going through an intermediate game server.","title":"How to continuously update to database server with JDBC in Java without increase the amount of RAM consumption?","body":"<p>I write a fighting game in JavaFX, using JDBC to update information to a MySQL database. Most tasks that get basic information from the database server will work properly if not repeated continuously. The problem occurs when I need for the program to constantly update information from the opponent, such as position, level, damage in the game. I have to send select commands to the server continuously, which increases the RAM used by the thread running these commands.</p>\n<pre><code>void startUpdatingOpponentInfo() {\n    Thread thread = new Thread(() -&gt; {\n        while (matchID != -1) {\n            String query = String.format(&quot;select * from matchDetails where matchID = %d and userID = %d&quot;, matchID, opponentID);\n            try {\n                ResultSet resultSet = sqlConnection.getDataQuery(query);\n                while (resultSet.next()) {\n                    double opponentX = resultSet.getDouble(&quot;xPos&quot;);\n                    double opponentY = resultSet.getDouble(&quot;YPos&quot;);\n                    if (opponentX != -1 &amp;&amp; opponentY != -1)\n                        opponent.move(canvas, new Position(opponentX, opponentY));\n                }\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n            try {\n                Thread.sleep(10);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    });\n}\n\n  public ResultSet getDataQuery(String query) {\n    Statement statement;\n    ResultSet resultSet = null;\n    try {\n        statement = connection.createStatement();\n        resultSet = statement.executeQuery(query);\n    } catch (SQLException e) {\n        System.out.println(query);\n        e.printStackTrace();\n    }\n    return resultSet;\n}\n</code></pre>\n<p>I tried searching a few methods and found one that was quite helpful. After each select, I will let that thread sleep for a period of time and then select again. This way increases performance significantly, the amount of RAM consumption remains stable. However, it is not suitable for querying information that always needs to be refreshed, because RAM consumption is still high with a short sleep of 'select' thread. Is there any useful method for this problem, where I allow my game to connect directly to the database server without going through an intermediate game server.</p>\n"},{"tags":["java","slf4j","wiremock"],"answers":[{"tags":[],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685539106,"creation_date":1685539106,"answer_id":76373939,"question_id":72433083,"body_markdown":"Set the `verbose` parameter of `Slf4jNotifier` to false to disable logging.","title":"How to exclude certain logging level from [Test worker] logger","body":"<p>Set the <code>verbose</code> parameter of <code>Slf4jNotifier</code> to false to disable logging.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685539106,"creation_date":1653907679,"question_id":72433083,"body_markdown":"I use `WireMock` library for unit testing and every time I receive a lot of the DEBUG logs:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI try to exclude logs with `logbak-test.xml&#39; file but it give an unexpectedly result: even I create an empty file - no one log outputted:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n&lt;/confuguration&gt;\r\n```\r\nBut I need to receive ERROR and WARN logs, etc...\r\n\r\nSo, my WireMock configuration:\r\n\r\n```java\r\n    @ConfigureWireMock\r\n    protected Options options = wireMockConfig()\r\n            .port(8088)\r\n            .notifier(new Slf4jNotifier(true))\r\n            .extensions(ResponseTemplateTransformer.builder()\r\n                    .global(false)\r\n                    .maxCacheEntries(10L)\r\n                    .build());\r\n```\r\n\r\nlogbak-test.xml:\r\n\r\n```xml\r\n&lt;configuration debug=&quot;false&quot; scan=&quot;true&quot;&gt;\r\n    &lt;!-- Turning down the wiremock logging --&gt;\r\n    &lt;logger name=&quot;com.github.tomakehurst.wiremock&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;logger name=&quot;wiremock.org&quot; level=&quot;ERROR&quot;/&gt;\r\n    &lt;logger name=&quot;WireMock&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;!-- wiremock has per endpoint servlet logging --&gt;\r\n    &lt;logger name=&quot;/&quot; level=&quot;WARN&quot;/&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\napplication.properties:\r\n\r\n```properties\r\ncom.github.tomakehurst.wiremock=TRACE\r\n```\r\n\r\n- How to receive exactly ERROR, INFO and WARN logs?\r\n\r\nThere are the code where I need to get a log:\r\n\r\n```java\r\n@Slf4j\r\npublic class TryCatchResponseUtil {\r\n    public void logiingTest(){\r\n        log.error(&quot;error&quot;);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/fFMpL.png","title":"How to exclude certain logging level from [Test worker] logger","body":"<p>I use <code>WireMock</code> library for unit testing and every time I receive a lot of the DEBUG logs:</p>\n<p><a href=\"https://i.stack.imgur.com/fFMpL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fFMpL.png\" alt=\"enter image description here\" /></a></p>\n<p>I try to exclude logs with `logbak-test.xml' file but it give an unexpectedly result: even I create an empty file - no one log outputted:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n&lt;/confuguration&gt;\n</code></pre>\n<p>But I need to receive ERROR and WARN logs, etc...</p>\n<p>So, my WireMock configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ConfigureWireMock\n    protected Options options = wireMockConfig()\n            .port(8088)\n            .notifier(new Slf4jNotifier(true))\n            .extensions(ResponseTemplateTransformer.builder()\n                    .global(false)\n                    .maxCacheEntries(10L)\n                    .build());\n</code></pre>\n<p>logbak-test.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration debug=&quot;false&quot; scan=&quot;true&quot;&gt;\n    &lt;!-- Turning down the wiremock logging --&gt;\n    &lt;logger name=&quot;com.github.tomakehurst.wiremock&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;wiremock.org&quot; level=&quot;ERROR&quot;/&gt;\n    &lt;logger name=&quot;WireMock&quot; level=&quot;WARN&quot;/&gt;\n    &lt;!-- wiremock has per endpoint servlet logging --&gt;\n    &lt;logger name=&quot;/&quot; level=&quot;WARN&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>com.github.tomakehurst.wiremock=TRACE\n</code></pre>\n<ul>\n<li>How to receive exactly ERROR, INFO and WARN logs?</li>\n</ul>\n<p>There are the code where I need to get a log:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class TryCatchResponseUtil {\n    public void logiingTest(){\n        log.error(&quot;error&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685538901,"creation_date":1685538901,"answer_id":76373911,"question_id":76369580,"body_markdown":"Consider setting the container property `asyncAcks`; this causes the container to defer out-of-order commits until any &quot;gaps&quot; are filled.\r\n\r\nIf there are still gaps when all records from a poll have been processed, the consumer is paused until those gaps are filled.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#ooo-commits\r\n\r\n","title":"What acknowledgment strategy can I use when my incoming kafka message sends messages on multiple topics, and I want to batch the sends?","body":"<p>Consider setting the container property <code>asyncAcks</code>; this causes the container to defer out-of-order commits until any &quot;gaps&quot; are filled.</p>\n<p>If there are still gaps when all records from a poll have been processed, the consumer is paused until those gaps are filled.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#ooo-commits\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#ooo-commits</a></p>\n"}],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76373911,"answer_count":1,"score":0,"last_activity_date":1685538901,"creation_date":1685496616,"question_id":76369580,"body_markdown":"My application processes kafka messages and produces a number of outbound messages, on different topics. I use MANUAL acks.\r\n\r\nThe processing (DB access and creation of the outgoing messages) is synchronous, but I want to take advantage of batching in the producers, so I use `KafkaTemplate.send` on each outbound topic and combine the futures with `CompletableFuture.allOf` and attach a `CompletionStage` which acknowledges the incoming kafka message which produced these outgoing messages.\r\n\r\nThis guarantees that I will process the incoming message again if my service crashes before the outgoing messages are all delivered.\r\n\r\nUnfortunately, different incoming messages may produce outgoing messages on different sets of topics. So I believe that a later message may have all its messages sent before an earlier message, depending on the timing of the batches on different outgoing topics.\r\n\r\nThis means that the later message may be acknowledged before the sending for the earlier message is complete, which of course amounts to acknowledging the earlier message too soon.\r\n\r\nIf I synchronously `join()` the future before processing the next incoming message, my throughput falls by a factor of 2 or 3, even with `linger.ms = 0`.\r\n\r\nThis feels like a problem which other people would have come across. Is there a standard approach? I can tolerate duplicate messages.","title":"What acknowledgment strategy can I use when my incoming kafka message sends messages on multiple topics, and I want to batch the sends?","body":"<p>My application processes kafka messages and produces a number of outbound messages, on different topics. I use MANUAL acks.</p>\n<p>The processing (DB access and creation of the outgoing messages) is synchronous, but I want to take advantage of batching in the producers, so I use <code>KafkaTemplate.send</code> on each outbound topic and combine the futures with <code>CompletableFuture.allOf</code> and attach a <code>CompletionStage</code> which acknowledges the incoming kafka message which produced these outgoing messages.</p>\n<p>This guarantees that I will process the incoming message again if my service crashes before the outgoing messages are all delivered.</p>\n<p>Unfortunately, different incoming messages may produce outgoing messages on different sets of topics. So I believe that a later message may have all its messages sent before an earlier message, depending on the timing of the batches on different outgoing topics.</p>\n<p>This means that the later message may be acknowledged before the sending for the earlier message is complete, which of course amounts to acknowledging the earlier message too soon.</p>\n<p>If I synchronously <code>join()</code> the future before processing the next incoming message, my throughput falls by a factor of 2 or 3, even with <code>linger.ms = 0</code>.</p>\n<p>This feels like a problem which other people would have come across. Is there a standard approach? I can tolerate duplicate messages.</p>\n"},{"tags":["java","spring","mapstruct"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685538260,"post_id":76373793,"comment_id":134673975,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76373793/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":5992697,"reputation":1,"user_id":4708369,"display_name":"gb2"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685538876,"creation_date":1685538195,"answer_id":76373793,"question_id":76372724,"body_markdown":"It finally worked when i removed all this lines from the mapper:\r\n\r\n    @Mapping(target = &quot;id.parent.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;id.child.id&quot;, ignore = true)\r\n\r\n    @BeanMapping(qualifiedByName = &quot;afterHierarchieMapping&quot;)\r\n\r\n    @Named(&quot;afterHierarchieMapping&quot;)","title":"ObjectFactory method not recognized in MapStruct mapper - troubleshooting tips","body":"<p>It finally worked when i removed all this lines from the mapper:</p>\n<pre><code>@Mapping(target = &quot;id.parent.id&quot;, ignore = true)\n@Mapping(target = &quot;id.child.id&quot;, ignore = true)\n\n@BeanMapping(qualifiedByName = &quot;afterHierarchieMapping&quot;)\n\n@Named(&quot;afterHierarchieMapping&quot;)\n</code></pre>\n"}],"owner":{"account_id":5992697,"reputation":1,"user_id":4708369,"display_name":"gb2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76373793,"answer_count":1,"score":0,"last_activity_date":1685538876,"creation_date":1685530410,"question_id":76372724,"body_markdown":"I have this entity with a single table inheritance:\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\r\n@DiscriminatorOptions(insert = false)\r\npublic abstract class Hierarchy implements Serializable {\r\n\r\n    private HierarchyId id;\r\n\r\n    protected Hierarchy() {\r\n    }\r\n\r\n    protected Hierarchy(final HierarchyId id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @EmbeddedId\r\n    public HierarchyId getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(final HierarchyId id) {\r\n        this.id = id;\r\n    }\r\n\r\n\r\n    @Embeddable\r\n    public static class HierarchyId implements Serializable {\r\n\r\n        private User parent;\r\n        private User child;\r\n        private String type;\r\n\r\n        public HierarchyId() {\r\n        }\r\n\r\n        public HierarchyId(final User parent, final User child, final String type) {\r\n            this.parent = parent;\r\n            this.child = child;\r\n            this.type = type;\r\n        }\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        public User getParent() {\r\n            return parent;\r\n        }\r\n\r\n        public void setParent(final User parent) {\r\n            this.parent = parent;\r\n        }\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n\r\n        public User getChild() {\r\n            return child;\r\n        }\r\n\r\n        public void setChild(final User child) {\r\n            this.child = child;\r\n        }\r\n\r\n        @Column(name = &quot;type&quot;, nullable = false, length = 1)\r\n        public String getType() {\r\n            return type;\r\n        }\r\n\r\n        public void setType(final String type) {\r\n            this.type = type;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m trying to create a mapper who can map my generic dto to one of the specific subclasses of my entity:\r\n\r\n```\r\n@Configuration\r\n@Mapper\r\npublic abstract class HierarchyMapper {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Mapping(target = &quot;id.parent.id&quot;, ignore = true)\r\n    @Mapping(target = &quot;id.child.id&quot;, ignore = true)\r\n    @Mapping(source = &quot;type&quot;, target = &quot;id.type&quot;)\r\n    @BeanMapping(qualifiedByName = &quot;afterHierarchyMapping&quot;)\r\n    public abstract Hierarchy mapHierarchy(HierarchyDto hierarchy);\r\n\r\n    @ObjectFactory\r\n    public Hierarchy createHierarchy(HierarchyDto hierarchy) {\r\n        if (SUBTYPE_A.equals(hierarchy.getType())) {\r\n            return new SubtypeA();\r\n        } else if (SUBTYPE_B.equals(hierarchy.getType())) {\r\n            return new SubtypeB();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @AfterMapping\r\n    @Named(&quot;afterHierarchyMapping&quot;)\r\n    void afterHierarchyMapping(@MappingTarget Hierarchy hierarchy, HierarchyDto hierarchyDto) {\r\n        hierarchy.getId()\r\n                  .setParent(userService.getUserById(hierarchyDto.getIdParent()));\r\n        hierarchy.getId()\r\n                  .setChild(userService.getUserById(hierarchyDto.getIdChild()));\r\n    }\r\n}\r\n```\r\nMy problem is that with this mapper, MapStrsuct is giving me an error stating that:\r\n```\r\njava: The return type Hierarchy is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\r\n```\r\n\r\nSo i wonder if my @ObjectFactory is really taken into account here since it&#39;s supposed to be the factory method MapStruct is looking for. \r\nMaybe it&#39;s something else but i don&#39;t see what it could be.\r\n\r\nI dont think it&#39;s relevant but User is also an abstract class and if for example i remove the     @BeanMapping(qualifiedByName = &quot;afterHierarchyMapping&quot;) from mapHierarchy then i get the same error but for User instead.\r\n","title":"ObjectFactory method not recognized in MapStruct mapper - troubleshooting tips","body":"<p>I have this entity with a single table inheritance:</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;type&quot;, discriminatorType = DiscriminatorType.STRING)\n@DiscriminatorOptions(insert = false)\npublic abstract class Hierarchy implements Serializable {\n\n    private HierarchyId id;\n\n    protected Hierarchy() {\n    }\n\n    protected Hierarchy(final HierarchyId id) {\n        this.id = id;\n    }\n\n    @EmbeddedId\n    public HierarchyId getId() {\n        return id;\n    }\n\n    public void setId(final HierarchyId id) {\n        this.id = id;\n    }\n\n\n    @Embeddable\n    public static class HierarchyId implements Serializable {\n\n        private User parent;\n        private User child;\n        private String type;\n\n        public HierarchyId() {\n        }\n\n        public HierarchyId(final User parent, final User child, final String type) {\n            this.parent = parent;\n            this.child = child;\n            this.type = type;\n        }\n\n        @ManyToOne(fetch = FetchType.LAZY)\n        public User getParent() {\n            return parent;\n        }\n\n        public void setParent(final User parent) {\n            this.parent = parent;\n        }\n\n        @ManyToOne(fetch = FetchType.LAZY)\n\n        public User getChild() {\n            return child;\n        }\n\n        public void setChild(final User child) {\n            this.child = child;\n        }\n\n        @Column(name = &quot;type&quot;, nullable = false, length = 1)\n        public String getType() {\n            return type;\n        }\n\n        public void setType(final String type) {\n            this.type = type;\n        }\n\n    }\n\n}\n</code></pre>\n<p>I'm trying to create a mapper who can map my generic dto to one of the specific subclasses of my entity:</p>\n<pre><code>@Configuration\n@Mapper\npublic abstract class HierarchyMapper {\n\n    @Autowired\n    private UserService userService;\n\n    @Mapping(target = &quot;id.parent.id&quot;, ignore = true)\n    @Mapping(target = &quot;id.child.id&quot;, ignore = true)\n    @Mapping(source = &quot;type&quot;, target = &quot;id.type&quot;)\n    @BeanMapping(qualifiedByName = &quot;afterHierarchyMapping&quot;)\n    public abstract Hierarchy mapHierarchy(HierarchyDto hierarchy);\n\n    @ObjectFactory\n    public Hierarchy createHierarchy(HierarchyDto hierarchy) {\n        if (SUBTYPE_A.equals(hierarchy.getType())) {\n            return new SubtypeA();\n        } else if (SUBTYPE_B.equals(hierarchy.getType())) {\n            return new SubtypeB();\n        }\n        return null;\n    }\n\n    @AfterMapping\n    @Named(&quot;afterHierarchyMapping&quot;)\n    void afterHierarchyMapping(@MappingTarget Hierarchy hierarchy, HierarchyDto hierarchyDto) {\n        hierarchy.getId()\n                  .setParent(userService.getUserById(hierarchyDto.getIdParent()));\n        hierarchy.getId()\n                  .setChild(userService.getUserById(hierarchyDto.getIdChild()));\n    }\n}\n</code></pre>\n<p>My problem is that with this mapper, MapStrsuct is giving me an error stating that:</p>\n<pre><code>java: The return type Hierarchy is an abstract class or interface. Provide a non abstract / non interface result type or a factory method.\n</code></pre>\n<p>So i wonder if my @ObjectFactory is really taken into account here since it's supposed to be the factory method MapStruct is looking for.\nMaybe it's something else but i don't see what it could be.</p>\n<p>I dont think it's relevant but User is also an abstract class and if for example i remove the     @BeanMapping(qualifiedByName = &quot;afterHierarchyMapping&quot;) from mapHierarchy then i get the same error but for User instead.</p>\n"},{"tags":["java","spring","spring-boot","tomcat8"],"answers":[{"tags":[],"owner":{"account_id":7505413,"reputation":5686,"user_id":5702105,"display_name":"Ian Mc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519934880,"creation_date":1519934880,"answer_id":49057896,"question_id":49057518,"body_markdown":"You are attempting to access context information before Spring has created the context.  Remove the static references, and access the data from a `@PostConstruct` block instead of main:\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Value(&quot;${server.port}&quot;)\r\n    private int port;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SomeService .class, args);\r\n    }\r\n\r\n    @PostConstruct\r\n\tpublic void init() {\r\n        logger.info(&quot;server.port : {}&quot;, port);\r\n        logger.info(&quot;environment.getProperty(\\&quot;server.port\\&quot;) : {}&quot;, environment.getProperty(&quot;server.port&quot;));\r\n    }\r\n\r\n\r\n\r\n\r\n ","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>You are attempting to access context information before Spring has created the context.  Remove the static references, and access the data from a <code>@PostConstruct</code> block instead of main:</p>\n\n<pre><code>@Autowired\nprivate Environment environment;\n\n@Value(\"${server.port}\")\nprivate int port;\n\npublic static void main(String[] args) {\n    SpringApplication.run(SomeService .class, args);\n}\n\n@PostConstruct\npublic void init() {\n    logger.info(\"server.port : {}\", port);\n    logger.info(\"environment.getProperty(\\\"server.port\\\") : {}\", environment.getProperty(\"server.port\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1519934889,"creation_date":1519934889,"answer_id":49057901,"question_id":49057518,"body_markdown":"Static fields are not injected in Spring.  \r\nWhat you need to do is making it an instance field first.  \r\nThen you have to use it only after that the Spring Boot container has initialized it.  \r\nMoving them in a method annotated with `@PostConstruct` should do the job as this is invoked after that the dependency injection was performed.\r\n  \r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaClient\r\n    @SuppressWarnings(&quot;javadoc&quot;)\r\n    public class SomeService {\r\n    \r\n        private static Logger logger  = LoggerFactory.getLogger(SomeService .class);\r\n    \r\n        @LocalServerPort\r\n        private static int randomServerPort;\r\n    \r\n        @LocalManagementPort\r\n        private static int randomManagementPort;\r\n    \r\n        @Autowired\r\n        private static Environment environment;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        private int port;\r\n\r\n        @PostConstruct\r\n        public void postConstruct(){\r\n            logger.info(&quot;randomServerPort : {}&quot;, randomServerPort);\r\n            logger.info(&quot;randomManagementPort : {}&quot;, randomManagementPort);\r\n            logger.info(&quot;server.port : {}&quot;, port);\r\n            logger.info(&quot;environment.getProperty(\\&quot;server.port\\&quot;) : {}&quot;, environment.getProperty(&quot;server.port&quot;));\r\n        }    \r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SomeService .class, args);\r\n        }\r\n        \r\n    }\r\n\r\n","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>Static fields are not injected in Spring.<br>\nWhat you need to do is making it an instance field first.<br>\nThen you have to use it only after that the Spring Boot container has initialized it.<br>\nMoving them in a method annotated with <code>@PostConstruct</code> should do the job as this is invoked after that the dependency injection was performed.</p>\n\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\n@SuppressWarnings(\"javadoc\")\npublic class SomeService {\n\n    private static Logger logger  = LoggerFactory.getLogger(SomeService .class);\n\n    @LocalServerPort\n    private static int randomServerPort;\n\n    @LocalManagementPort\n    private static int randomManagementPort;\n\n    @Autowired\n    private static Environment environment;\n\n    @Value(\"${server.port}\")\n    private int port;\n\n    @PostConstruct\n    public void postConstruct(){\n        logger.info(\"randomServerPort : {}\", randomServerPort);\n        logger.info(\"randomManagementPort : {}\", randomManagementPort);\n        logger.info(\"server.port : {}\", port);\n        logger.info(\"environment.getProperty(\\\"server.port\\\") : {}\", environment.getProperty(\"server.port\"));\n    }    \n\n    public static void main(String[] args) {\n        SpringApplication.run(SomeService .class, args);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4528750,"reputation":4632,"user_id":3679857,"accept_rate":80,"display_name":"narendra-choudhary"},"score":0,"creation_date":1519937527,"post_id":49058225,"comment_id":85121785,"body_markdown":"I earlier had `server.port` in *application.yml* only. But I was facing the same issue as mentioned in question above. Since *bootstrap.yml* is loaded before *application.yml*, I thought moving `server.port` to *bootstrap.yml* might resolve the issue. But it did not help. I&#39;ll move `server.port` back to *application.yml*.","body":"I earlier had <code>server.port</code> in <i>application.yml</i> only. But I was facing the same issue as mentioned in question above. Since <i>bootstrap.yml</i> is loaded before <i>application.yml</i>, I thought moving <code>server.port</code> to <i>bootstrap.yml</i> might resolve the issue. But it did not help. I&#39;ll move <code>server.port</code> back to <i>application.yml</i>."}],"tags":[],"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519936265,"creation_date":1519936265,"answer_id":49058225,"question_id":49057518,"body_markdown":"Move your server port configuration from bootstrap.yml to application.yml\r\n\r\n**application.yml**\r\n\r\n    server:\r\n      port: 8088\r\n\r\nTypically bootstrap.yml contains two properties: location of the configuration server (spring.cloud.config.uri) and name of the application (spring.application.name). Upon startup, Spring Cloud makes an HTTP call to the config server with the name of the application and retrieves back that application&#39;s configuration. On the other hand, application.yml contains standard application configurations - typically default configuration since any configuration retrieved during the bootstrap process will override configurations defined here.","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>Move your server port configuration from bootstrap.yml to application.yml</p>\n\n<p><strong>application.yml</strong></p>\n\n<pre><code>server:\n  port: 8088\n</code></pre>\n\n<p>Typically bootstrap.yml contains two properties: location of the configuration server (spring.cloud.config.uri) and name of the application (spring.application.name). Upon startup, Spring Cloud makes an HTTP call to the config server with the name of the application and retrieves back that application's configuration. On the other hand, application.yml contains standard application configurations - typically default configuration since any configuration retrieved during the bootstrap process will override configurations defined here.</p>\n"},{"tags":[],"owner":{"account_id":27480178,"reputation":1,"user_id":20967422,"display_name":"BenSev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685538560,"creation_date":1685538465,"answer_id":76373841,"question_id":49057518,"body_markdown":"I had the same issue and found out this solution to get the server.port value set in my application.properties file : \r\n\r\n    @SpringBootApplication\r\n    public class MyApp {\r\n\r\n    \tprivate static final Logger LOG = LogManager.getLogger();\r\n\r\n            public static void main(String[] args) {\r\n                var app = new SpringApplication(MyApp .class);\r\n                app.setLogStartupInfo(false);\r\n                String serverPort = app.run(args).getEnvironment().getProperty(&quot;server.port&quot;);\r\n                LOG.info(&quot;=== Server is up on port {} ===&quot;, serverPort);\r\n            }\r\n        }\r\n\r\nI&#39;m a bit late but I hope this helps :)","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>I had the same issue and found out this solution to get the server.port value set in my application.properties file :</p>\n<pre><code>@SpringBootApplication\npublic class MyApp {\n\n    private static final Logger LOG = LogManager.getLogger();\n\n        public static void main(String[] args) {\n            var app = new SpringApplication(MyApp .class);\n            app.setLogStartupInfo(false);\n            String serverPort = app.run(args).getEnvironment().getProperty(&quot;server.port&quot;);\n            LOG.info(&quot;=== Server is up on port {} ===&quot;, serverPort);\n        }\n    }\n</code></pre>\n<p>I'm a bit late but I hope this helps :)</p>\n"}],"owner":{"account_id":4528750,"reputation":4632,"user_id":3679857,"accept_rate":80,"display_name":"narendra-choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49057901,"answer_count":4,"score":1,"last_activity_date":1685538560,"creation_date":1519933449,"question_id":49057518,"body_markdown":"I&#39;m experimenting with Netflix OSS for implementing a microservice architecture. I wanted to log `server.port` from *bootstrap.yml* file at **runtime** to see which instance is serving the request.\r\n\r\nI&#39;m using Java8.  \r\n\r\nImportant libraries versions are:   \r\n* spring-boot-starter-web-1.5.8  \r\n* spring-boot-starter-tomcat-1.5.8  \r\n* tomcat-embed-core-8.5.23  \r\n\r\nAfter browsing on stackoverflow, I found [this](https://stackoverflow.com/questions/36567207/get-spring-boot-management-port-at-runtime-when-management-port-0) and [this](https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot) but these solution did not work.\r\n\r\nMy bootstrap.yml looks like this:   \r\n\r\n    spring:\r\n      application:\r\n        name: some-service\r\n\r\n    server:\r\n      port: ${port:8088}\r\n\r\n\r\nI have tried following code:\r\n\r\n    @SpringBootApplication\r\n    @EnableEurekaClient\r\n    @SuppressWarnings(&quot;javadoc&quot;)\r\n    public class SomeService {\r\n        \r\n        private static Logger logger  = LoggerFactory.getLogger(SomeService .class);\r\n\r\n        @LocalServerPort\r\n        private static int randomServerPort;\r\n\r\n        @LocalManagementPort\r\n        private static int randomManagementPort;\r\n    \r\n        @Autowired\r\n        private static Environment environment;\r\n    \r\n        @Value(&quot;${server.port}&quot;)\r\n        // @Value(&quot;${local.server.port}&quot;)\r\n        private static int port;\r\n        \r\n        public static void main(String[] args) {\r\n\t\t    SpringApplication.run(SomeService .class, args);\r\n\t\t\r\n\t\t    logger.info(&quot;randomServerPort : {}&quot;, randomServerPort);\r\n\t\t    logger.info(&quot;randomManagementPort : {}&quot;, randomManagementPort);\r\n\t\t    logger.info(&quot;server.port : {}&quot;, port);\r\n            logger.info(&quot;environment.getProperty(\\&quot;server.port\\&quot;) : {}&quot;, environment.getProperty(&quot;server.port&quot;));\r\n\t\t\r\n\t}\r\n\r\nCorresponding output is:\r\n\r\n    randomServerPort : 0\r\n    randomManagementPort : 0\r\n    server.port : 0\r\n    java.lang.NullPointerException against environment.getProperty(&quot;server.port&quot;)\r\n\r\nFirst three log statements log `0`, while last one throws a `NullPointerException*.\r\n\r\nAt runtime, the port gets printed in logs on console as:\r\n\r\n    s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8088 (http)\r\n\r\nI want to access this port number in `main` method of `SomeService` class. How can I do this?","title":"Spring Boot: How do get tomcat port at runtime?","body":"<p>I'm experimenting with Netflix OSS for implementing a microservice architecture. I wanted to log <code>server.port</code> from <em>bootstrap.yml</em> file at <strong>runtime</strong> to see which instance is serving the request.</p>\n\n<p>I'm using Java8.  </p>\n\n<p>Important libraries versions are:<br>\n* spring-boot-starter-web-1.5.8<br>\n* spring-boot-starter-tomcat-1.5.8<br>\n* tomcat-embed-core-8.5.23  </p>\n\n<p>After browsing on stackoverflow, I found <a href=\"https://stackoverflow.com/questions/36567207/get-spring-boot-management-port-at-runtime-when-management-port-0\">this</a> and <a href=\"https://stackoverflow.com/questions/30528255/how-to-access-a-value-defined-in-the-application-properties-file-in-spring-boot\">this</a> but these solution did not work.</p>\n\n<p>My bootstrap.yml looks like this:   </p>\n\n<pre><code>spring:\n  application:\n    name: some-service\n\nserver:\n  port: ${port:8088}\n</code></pre>\n\n<p>I have tried following code:</p>\n\n<pre><code>@SpringBootApplication\n@EnableEurekaClient\n@SuppressWarnings(\"javadoc\")\npublic class SomeService {\n\n    private static Logger logger  = LoggerFactory.getLogger(SomeService .class);\n\n    @LocalServerPort\n    private static int randomServerPort;\n\n    @LocalManagementPort\n    private static int randomManagementPort;\n\n    @Autowired\n    private static Environment environment;\n\n    @Value(\"${server.port}\")\n    // @Value(\"${local.server.port}\")\n    private static int port;\n\n    public static void main(String[] args) {\n        SpringApplication.run(SomeService .class, args);\n\n        logger.info(\"randomServerPort : {}\", randomServerPort);\n        logger.info(\"randomManagementPort : {}\", randomManagementPort);\n        logger.info(\"server.port : {}\", port);\n        logger.info(\"environment.getProperty(\\\"server.port\\\") : {}\", environment.getProperty(\"server.port\"));\n\n}\n</code></pre>\n\n<p>Corresponding output is:</p>\n\n<pre><code>randomServerPort : 0\nrandomManagementPort : 0\nserver.port : 0\njava.lang.NullPointerException against environment.getProperty(\"server.port\")\n</code></pre>\n\n<p>First three log statements log <code>0</code>, while last one throws a `NullPointerException*.</p>\n\n<p>At runtime, the port gets printed in logs on console as:</p>\n\n<pre><code>s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8088 (http)\n</code></pre>\n\n<p>I want to access this port number in <code>main</code> method of <code>SomeService</code> class. How can I do this?</p>\n"},{"tags":["java","angular","spring-boot","architecture","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1685615452,"post_id":76373843,"comment_id":134686246,"body_markdown":"Off topic, but what is the reason for the move? Are there things you want to do that are not possible with Thymeleaf?","body":"Off topic, but what is the reason for the move? Are there things you want to do that are not possible with Thymeleaf?"},{"owner":{"account_id":4252616,"reputation":15,"user_id":3479176,"accept_rate":25,"display_name":"user3479176"},"score":0,"creation_date":1685868629,"post_id":76373843,"comment_id":134718799,"body_markdown":"Just the general advantages a SPA has to server side rendered pages. And as developers to be able to code/test in a proper framework rather than plain typescript/javascript.","body":"Just the general advantages a SPA has to server side rendered pages. And as developers to be able to code/test in a proper framework rather than plain typescript/javascript."}],"owner":{"account_id":4252616,"reputation":15,"user_id":3479176,"accept_rate":25,"display_name":"user3479176"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685538471,"creation_date":1685538471,"question_id":76373843,"body_markdown":"I need to switch an existing Spring Boot + Thymeleaf application gradually to a Spring Boot + Angular application. Part of the webapp to be serverside rendered and parts of it to be an angular application.\r\n\r\nWhat I&#39;ve come up with so far:\r\n1. Create a standard angular application and run it with ng serve\r\n2. For each page I want to switch to angular, I take the Thymeleaf template, insert the corresponding ```&lt;app-angular-component&gt;``` tag and add the ```&lt;script src=&quot;&quot;&gt;``` tags to point to main.js / runtime.js. In the angular-component I can program like a normal angular app.\r\n3. Once every page is migrated, routing logic needs to be added to Angular for it to be a full fledged app on its own.\r\n\r\nIs this valid approach to migrating away from Thymeleaf or do you have better approaches to do this ?","title":"Migrate projects thymeleaf pages to Angular gradually","body":"<p>I need to switch an existing Spring Boot + Thymeleaf application gradually to a Spring Boot + Angular application. Part of the webapp to be serverside rendered and parts of it to be an angular application.</p>\n<p>What I've come up with so far:</p>\n<ol>\n<li>Create a standard angular application and run it with ng serve</li>\n<li>For each page I want to switch to angular, I take the Thymeleaf template, insert the corresponding <code>&lt;app-angular-component&gt;</code> tag and add the <code>&lt;script src=&quot;&quot;&gt;</code> tags to point to main.js / runtime.js. In the angular-component I can program like a normal angular app.</li>\n<li>Once every page is migrated, routing logic needs to be added to Angular for it to be a full fledged app on its own.</li>\n</ol>\n<p>Is this valid approach to migrating away from Thymeleaf or do you have better approaches to do this ?</p>\n"},{"tags":["java","android","kotlin","retrofit","retrofit2"],"owner":{"account_id":23586033,"reputation":11,"user_id":17624468,"display_name":"Maher Abua-Amireh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685538395,"creation_date":1685538395,"question_id":76373816,"body_markdown":"\\[javax.net.ssl.SSLHandshakeException: Handshake failed, javax.net.ssl.SSLHandshakeException: Handshake failed, java.net.SocketTimeoutException: failed to connect to website.com/2a06:98c1:3120::3 (port 443) after 60000ms\\]\r\n\r\nI tried alot of solutions but it didnt work with me .\r\n\r\nanyone can help please ..\r\n\r\nNOTE : My SSL Certificate from cloudflare ..\r\n\r\nAnd this problem working with old devices lollipop and below.\r\n\r\n```\r\ndef retrofit2_v = &#39;2.9.0&#39;\r\n```\r\n\r\nmy code : -\\&gt;\r\n\r\n```\r\n\r\nimport okhttp3.*\r\nimport okhttp3.logging.HttpLoggingInterceptor\r\nimport retrofit2.Call\r\nimport retrofit2.Retrofit\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\nimport retrofit2.http.*\r\nimport java.io.IOException\r\nimport java.security.KeyStore\r\nimport java.util.Arrays\r\nimport java.util.Collections\r\nimport java.util.concurrent.TimeUnit\r\nimport javax.net.ssl.SSLContext\r\nimport javax.net.ssl.SSLSocketFactory\r\nimport javax.net.ssl.TrustManager\r\nimport javax.net.ssl.TrustManagerFactory\r\nimport javax.net.ssl.X509TrustManager\r\n\r\n\r\nclass RetrofitInstance {\r\n    companion object {\r\n//        val interceptor: HttpLoggingInterceptor = HttpLoggingInterceptor().apply {\r\n//            this.level = HttpLoggingInterceptor.Level.BODY\r\n//        }\r\n//        val client: OkHttpClient = OkHttpClient.Builder().apply {\r\n//            this.addInterceptor(interceptor)\r\n//        }.build()\r\n\r\n        fun getRetrofitInstance(): Retrofit {\r\n\r\n            return Retrofit.Builder()\r\n                .baseUrl(ApIConstant.BASE_URL)\r\n                .client(getHeader()!!)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build()\r\n        }\r\n\r\n        fun getRetrofitInstanceWeather(): Retrofit {\r\n            return Retrofit.Builder()\r\n                .baseUrl(&quot;http://api.weatherapi.com/v1/&quot;)\r\n                .client(getHeader())\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .build()\r\n        }\r\n    }\r\n}\r\n\r\nfun getHeader(): OkHttpClient? {\r\n    val spec: ConnectionSpec = ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)\r\n        .tlsVersions(TlsVersion.TLS_1_2)\r\n        .cipherSuites(\r\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\r\n            CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\r\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA,\r\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\r\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,\r\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,\r\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_RC4_128_SHA,\r\n            CipherSuite.TLS_ECDHE_RSA_WITH_RC4_128_SHA,\r\n            CipherSuite.TLS_DHE_RSA_WITH_AES_128_CBC_SHA,\r\n            CipherSuite.TLS_DHE_DSS_WITH_AES_128_CBC_SHA,\r\n            CipherSuite.TLS_DHE_RSA_WITH_AES_256_CBC_SHA\r\n        )\r\n        .build()\r\n    val httpClient = OkHttpClient.Builder()\r\n    val trustManagerFactory =\r\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\r\n    trustManagerFactory.init(null as KeyStore?)\r\n    val trustManagers = trustManagerFactory.trustManagers\r\n    check(!(trustManagers.size != 1 || trustManagers[0] !is X509TrustManager)) {\r\n        &quot;Unexpected default trust managers:&quot; + Arrays.toString(\r\n            trustManagers\r\n        )\r\n    }\r\n    val trustManager = trustManagers[0] as X509TrustManager\r\n    val sslContext = SSLContext.getInstance(&quot;SSL&quot;)\r\n    sslContext.init(null, arrayOf&lt;TrustManager&gt;(trustManager), null)\r\n    val sslSocketFactory: SSLSocketFactory = sslContext.socketFactory\r\n    httpClient.sslSocketFactory(sslSocketFactory, trustManager);\r\n    /***********************/\r\n\r\n    val interceptorJ = HttpLoggingInterceptor()\r\n    httpClient.addInterceptor(interceptorJ)\r\n    httpClient.connectionSpecs(Collections.singletonList(spec))\r\n//    httpClient.addInterceptor(ChuckerInterceptor(MyApplication.application))\r\n    httpClient.connectTimeout(60, TimeUnit.SECONDS)\r\n\r\n        .readTimeout(60, TimeUnit.SECONDS)\r\n        .writeTimeout(60, TimeUnit.SECONDS)\r\n    httpClient.addInterceptor(object : Interceptor {\r\n        @Throws(IOException::class)\r\n        override fun intercept(chain: Interceptor.Chain): Response {\r\n            val original: Request = chain.request()\r\n            val builder: Request.Builder = original.newBuilder()\r\n            builder.method(original.method, original.body)\r\n            builder.header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n\r\n//            builder.header(&quot;Content-Type&quot;, &quot;application/json&quot;).addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n//                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n\r\n            return chain.proceed(builder.build())\r\n        }\r\n    })\r\n\r\n    /*if (android.os.Build.VERSION.SDK_INT &lt;= android.os.Build.VERSION_CODES.LOLLIPOP){\r\n        httpClient.connectionSpecs(Collections.singletonList(spec))\r\n    }*/\r\n    val interceptor = HttpLoggingInterceptor()\r\n    interceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS)\r\n    val client: OkHttpClient = httpClient.build()\r\n\r\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\r\n\r\n    return client\r\n}\r\n\r\ninterface GenricApiService {\r\n\r\n\r\n    @DELETE\r\n    fun GenricDELETE(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @QueryMap parameters: Map&lt;String, String&gt;\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n    @GET\r\n    fun GenricGET(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @QueryMap parameters: Map&lt;String, String&gt;\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n\r\n    @GET\r\n    fun GenricGetWeather(\r\n        @Url url: String?,\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n    @FormUrlEncoded\r\n    @POST\r\n    fun GenricPOST(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @FieldMap parameters: Map&lt;String, String&gt;\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n\r\n//    @POST\r\n//    fun POST_RAW(@Url url: String?, @Body body: RequestBody): Call&lt;ResponseBody?&gt;?\r\n\r\n\r\n    @POST()\r\n    fun POST_Multipart(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @Body body: RequestBody?\r\n    ): Call&lt;ResponseBody?&gt;?\r\n    @POST()\r\n    fun saveDataAsJson(\r\n        @Header(&quot;Authorization&quot;) Authorization: String?,\r\n        @Url url: String?,\r\n        @Body row: Any\r\n    ): Call&lt;ResponseBody&gt;\r\n\r\n\r\n\r\n}\r\n\r\n\r\n// aplication class\r\noverride fun onCreate() {\r\n        setLocaleEn(this)\r\n      \r\n\r\n        super.onCreate()\r\n\r\n        try {\r\n            ProviderInstaller.installIfNeeded(applicationContext)\r\n            val sslContext: SSLContext\r\n            sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;)\r\n            sslContext.init(null, null, null)\r\n            sslContext.createSSLEngine()\r\n        } catch (e: GooglePlayServicesRepairableException) {\r\n            e.printStackTrace()\r\n        } catch (e: GooglePlayServicesNotAvailableException) {\r\n            e.printStackTrace()\r\n        } catch (e: NoSuchAlgorithmException) {\r\n            e.printStackTrace()\r\n        } catch (e: KeyManagementException) {\r\n            e.printStackTrace()\r\n        }\r\n        SSLCertificateHandler().nuke()\r\n    }\r\n```","title":"javax.net.ssl.SSLHandshakeException: Handshake failed, javax.net.ssl.SSLHandshakeException","body":"<p>[javax.net.ssl.SSLHandshakeException: Handshake failed, javax.net.ssl.SSLHandshakeException: Handshake failed, java.net.SocketTimeoutException: failed to connect to website.com/2a06:98c1:3120::3 (port 443) after 60000ms]</p>\n<p>I tried alot of solutions but it didnt work with me .</p>\n<p>anyone can help please ..</p>\n<p>NOTE : My SSL Certificate from cloudflare ..</p>\n<p>And this problem working with old devices lollipop and below.</p>\n<pre><code>def retrofit2_v = '2.9.0'\n</code></pre>\n<p>my code : -&gt;</p>\n<pre><code>\nimport okhttp3.*\nimport okhttp3.logging.HttpLoggingInterceptor\nimport retrofit2.Call\nimport retrofit2.Retrofit\nimport retrofit2.converter.gson.GsonConverterFactory\nimport retrofit2.http.*\nimport java.io.IOException\nimport java.security.KeyStore\nimport java.util.Arrays\nimport java.util.Collections\nimport java.util.concurrent.TimeUnit\nimport javax.net.ssl.SSLContext\nimport javax.net.ssl.SSLSocketFactory\nimport javax.net.ssl.TrustManager\nimport javax.net.ssl.TrustManagerFactory\nimport javax.net.ssl.X509TrustManager\n\n\nclass RetrofitInstance {\n    companion object {\n//        val interceptor: HttpLoggingInterceptor = HttpLoggingInterceptor().apply {\n//            this.level = HttpLoggingInterceptor.Level.BODY\n//        }\n//        val client: OkHttpClient = OkHttpClient.Builder().apply {\n//            this.addInterceptor(interceptor)\n//        }.build()\n\n        fun getRetrofitInstance(): Retrofit {\n\n            return Retrofit.Builder()\n                .baseUrl(ApIConstant.BASE_URL)\n                .client(getHeader()!!)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n        }\n\n        fun getRetrofitInstanceWeather(): Retrofit {\n            return Retrofit.Builder()\n                .baseUrl(&quot;http://api.weatherapi.com/v1/&quot;)\n                .client(getHeader())\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n        }\n    }\n}\n\nfun getHeader(): OkHttpClient? {\n    val spec: ConnectionSpec = ConnectionSpec.Builder(ConnectionSpec.MODERN_TLS)\n        .tlsVersions(TlsVersion.TLS_1_2)\n        .cipherSuites(\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,\n            CipherSuite.TLS_DHE_RSA_WITH_AES_128_GCM_SHA256,\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA,\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,\n            CipherSuite.TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,\n            CipherSuite.TLS_ECDHE_ECDSA_WITH_RC4_128_SHA,\n            CipherSuite.TLS_ECDHE_RSA_WITH_RC4_128_SHA,\n            CipherSuite.TLS_DHE_RSA_WITH_AES_128_CBC_SHA,\n            CipherSuite.TLS_DHE_DSS_WITH_AES_128_CBC_SHA,\n            CipherSuite.TLS_DHE_RSA_WITH_AES_256_CBC_SHA\n        )\n        .build()\n    val httpClient = OkHttpClient.Builder()\n    val trustManagerFactory =\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm())\n    trustManagerFactory.init(null as KeyStore?)\n    val trustManagers = trustManagerFactory.trustManagers\n    check(!(trustManagers.size != 1 || trustManagers[0] !is X509TrustManager)) {\n        &quot;Unexpected default trust managers:&quot; + Arrays.toString(\n            trustManagers\n        )\n    }\n    val trustManager = trustManagers[0] as X509TrustManager\n    val sslContext = SSLContext.getInstance(&quot;SSL&quot;)\n    sslContext.init(null, arrayOf&lt;TrustManager&gt;(trustManager), null)\n    val sslSocketFactory: SSLSocketFactory = sslContext.socketFactory\n    httpClient.sslSocketFactory(sslSocketFactory, trustManager);\n    /***********************/\n\n    val interceptorJ = HttpLoggingInterceptor()\n    httpClient.addInterceptor(interceptorJ)\n    httpClient.connectionSpecs(Collections.singletonList(spec))\n//    httpClient.addInterceptor(ChuckerInterceptor(MyApplication.application))\n    httpClient.connectTimeout(60, TimeUnit.SECONDS)\n\n        .readTimeout(60, TimeUnit.SECONDS)\n        .writeTimeout(60, TimeUnit.SECONDS)\n    httpClient.addInterceptor(object : Interceptor {\n        @Throws(IOException::class)\n        override fun intercept(chain: Interceptor.Chain): Response {\n            val original: Request = chain.request()\n            val builder: Request.Builder = original.newBuilder()\n            builder.method(original.method, original.body)\n            builder.header(&quot;Accept&quot;, &quot;application/json&quot;)\n\n//            builder.header(&quot;Content-Type&quot;, &quot;application/json&quot;).addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n//                .addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n\n            return chain.proceed(builder.build())\n        }\n    })\n\n    /*if (android.os.Build.VERSION.SDK_INT &lt;= android.os.Build.VERSION_CODES.LOLLIPOP){\n        httpClient.connectionSpecs(Collections.singletonList(spec))\n    }*/\n    val interceptor = HttpLoggingInterceptor()\n    interceptor.setLevel(HttpLoggingInterceptor.Level.HEADERS)\n    val client: OkHttpClient = httpClient.build()\n\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY)\n\n    return client\n}\n\ninterface GenricApiService {\n\n\n    @DELETE\n    fun GenricDELETE(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @QueryMap parameters: Map&lt;String, String&gt;\n    ): Call&lt;ResponseBody&gt;\n\n    @GET\n    fun GenricGET(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @QueryMap parameters: Map&lt;String, String&gt;\n    ): Call&lt;ResponseBody&gt;\n\n\n    @GET\n    fun GenricGetWeather(\n        @Url url: String?,\n    ): Call&lt;ResponseBody&gt;\n\n    @FormUrlEncoded\n    @POST\n    fun GenricPOST(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @FieldMap parameters: Map&lt;String, String&gt;\n    ): Call&lt;ResponseBody&gt;\n\n\n//    @POST\n//    fun POST_RAW(@Url url: String?, @Body body: RequestBody): Call&lt;ResponseBody?&gt;?\n\n\n    @POST()\n    fun POST_Multipart(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @Body body: RequestBody?\n    ): Call&lt;ResponseBody?&gt;?\n    @POST()\n    fun saveDataAsJson(\n        @Header(&quot;Authorization&quot;) Authorization: String?,\n        @Url url: String?,\n        @Body row: Any\n    ): Call&lt;ResponseBody&gt;\n\n\n\n}\n\n\n// aplication class\noverride fun onCreate() {\n        setLocaleEn(this)\n      \n\n        super.onCreate()\n\n        try {\n            ProviderInstaller.installIfNeeded(applicationContext)\n            val sslContext: SSLContext\n            sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;)\n            sslContext.init(null, null, null)\n            sslContext.createSSLEngine()\n        } catch (e: GooglePlayServicesRepairableException) {\n            e.printStackTrace()\n        } catch (e: GooglePlayServicesNotAvailableException) {\n            e.printStackTrace()\n        } catch (e: NoSuchAlgorithmException) {\n            e.printStackTrace()\n        } catch (e: KeyManagementException) {\n            e.printStackTrace()\n        }\n        SSLCertificateHandler().nuke()\n    }\n</code></pre>\n"},{"tags":["java","netbeans","linux-mint"],"comments":[{"owner":{"account_id":4619114,"reputation":21782,"user_id":3744681,"accept_rate":87,"display_name":"Jahid"},"score":1,"creation_date":1435788196,"post_id":31154695,"comment_id":50352687,"body_markdown":"This should help: http://community.linuxmint.com/tutorial/view/1502","body":"This should help: <a href=\"http://community.linuxmint.com/tutorial/view/1502\" rel=\"nofollow noreferrer\">community.linuxmint.com/tutorial/view/1502</a>"}],"answers":[{"tags":[],"owner":{"account_id":6315972,"reputation":1776,"user_id":4905916,"display_name":"Filip Bulovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1435735136,"creation_date":1435735136,"answer_id":31154883,"question_id":31154695,"body_markdown":"Go to NetBeans website and download install script. Web app will determine what you are running, you need to pick which bundle you want. When you finish download do \r\n\r\n    $ chmod a+x jdk-8uXY-nb-8_0_2-linux-x64.sh\r\n\r\nand execute it. It will install everything for you. XY is current version of JDK.","title":"How to install Netbeans IDE in linuxmint?","body":"<p>Go to NetBeans website and download install script. Web app will determine what you are running, you need to pick which bundle you want. When you finish download do </p>\n\n<pre><code>$ chmod a+x jdk-8uXY-nb-8_0_2-linux-x64.sh\n</code></pre>\n\n<p>and execute it. It will install everything for you. XY is current version of JDK.</p>\n"},{"tags":[],"owner":{"account_id":6361233,"reputation":79,"user_id":4936663,"accept_rate":100,"display_name":"Vinay Guru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1435832150,"creation_date":1435832150,"answer_id":31181844,"question_id":31154695,"body_markdown":"Follow these steps in terminal,first install jdk and then install these things\r\n\r\n     1)chmod +x ~/Downloads/jdk-8-nb-8-linux-*.sh\r\n     2)cd ~/Downloads &amp;&amp; ./netbeans-8.0.2-linux.sh","title":"How to install Netbeans IDE in linuxmint?","body":"<p>Follow these steps in terminal,first install jdk and then install these things</p>\n\n<pre><code> 1)chmod +x ~/Downloads/jdk-8-nb-8-linux-*.sh\n 2)cd ~/Downloads &amp;&amp; ./netbeans-8.0.2-linux.sh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21428552,"reputation":1,"user_id":15785443,"display_name":"sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685537882,"creation_date":1685537882,"answer_id":76373740,"question_id":31154695,"body_markdown":"\r\n//easy method\r\nstep 1:go to software manager in linuxmint as you can download many software from there\r\nstep 2: go to search bar and type apache netbeans\r\nstep 3: click the install and enter your password;","title":"How to install Netbeans IDE in linuxmint?","body":"<p>//easy method\nstep 1:go to software manager in linuxmint as you can download many software from there\nstep 2: go to search bar and type apache netbeans\nstep 3: click the install and enter your password;</p>\n"}],"owner":{"account_id":6415122,"reputation":35,"user_id":5068102,"display_name":"karun poovaiah Poovaiah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":6,"up_vote_count":3,"accepted_answer_id":31181844,"answer_count":3,"score":-3,"last_activity_date":1685537882,"creation_date":1435734534,"question_id":31154695,"body_markdown":"I am new to Linux.I dont know how to install Netbeans IDE in LInuxmint.\r\nPlease write your answers in steps.","title":"How to install Netbeans IDE in linuxmint?","body":"<p>I am new to Linux.I dont know how to install Netbeans IDE in LInuxmint.\nPlease write your answers in steps.</p>\n"},{"tags":["java","spring-boot","asynchronous","transactions"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684150499,"post_id":76253040,"comment_id":134469849,"body_markdown":"Self-invocation — calling the async method from within the same class — won&#39;t work.","body":"Self-invocation — calling the async method from within the same class — won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":737686,"reputation":855,"user_id":709289,"display_name":"Roman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685537754,"creation_date":1685537086,"answer_id":76373617,"question_id":76253040,"body_markdown":"`@Async` wont work in self invocation, but you can make self injection to solve this:\r\n\r\n\r\n```java\r\npublic class MyService {\r\n\r\n  private final MyService self;\r\n  private final ObjectService objectService;\r\n\r\n  public MyService(ObjectService objectService, @Lazy MyService myService) {\r\n    this.self = myService;\r\n    this.objectService = objectService;\r\n  }\r\n\r\n  public void calculate() {\r\n    self.update()\r\n  }\r\n  \r\n  @Async\r\n  @Transactional\r\n  public void update() {\r\n    objectService.update();\r\n  }\r\n}\r\n```\r\n\r\nHere we are adding a proxy to service through the reference named `self`, then just call `self.update()` instead of `update()` and everything will be just fine.\r\n\r\nDon&#39;t forget to annotate the constructor variable with `@Lazy` to avoid getting into circular reference","title":"Spring boot self injection for @async @Transactionalwith simple constructor","body":"<p><code>@Async</code> wont work in self invocation, but you can make self injection to solve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyService {\n\n  private final MyService self;\n  private final ObjectService objectService;\n\n  public MyService(ObjectService objectService, @Lazy MyService myService) {\n    this.self = myService;\n    this.objectService = objectService;\n  }\n\n  public void calculate() {\n    self.update()\n  }\n  \n  @Async\n  @Transactional\n  public void update() {\n    objectService.update();\n  }\n}\n</code></pre>\n<p>Here we are adding a proxy to service through the reference named <code>self</code>, then just call <code>self.update()</code> instead of <code>update()</code> and everything will be just fine.</p>\n<p>Don't forget to annotate the constructor variable with <code>@Lazy</code> to avoid getting into circular reference</p>\n"}],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685537754,"creation_date":1684145610,"question_id":76253040,"body_markdown":"I have class:\r\n```\r\npublic class MyService {\r\n  private final ObjectService objectService;\r\n\r\n  public MyService(ObjectService objectService) {\r\n    this.objectService = objectService;\r\n  }\r\n\r\n  public void calculate() {\r\n update()\r\n  }\r\n@Async\r\n@Transactional\r\n  public void update() {\r\n    objectService.update();\r\n  }\r\n}\r\n```\r\n\r\nbut @async not work. The best way work around? what about using @EnableAspectJAutoProxy(exposeProxy = true) ","title":"Spring boot self injection for @async @Transactionalwith simple constructor","body":"<p>I have class:</p>\n<pre><code>public class MyService {\n  private final ObjectService objectService;\n\n  public MyService(ObjectService objectService) {\n    this.objectService = objectService;\n  }\n\n  public void calculate() {\n update()\n  }\n@Async\n@Transactional\n  public void update() {\n    objectService.update();\n  }\n}\n</code></pre>\n<p>but @async not work. The best way work around? what about using @EnableAspectJAutoProxy(exposeProxy = true)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1685538113,"post_id":76373432,"comment_id":134673936,"body_markdown":"You can only solve this by implementing your own Jackson deserializer. See the duplicates for more information about how to do this. Feel free to tag me when the duplicates do not answer your question so I can reopen it.","body":"You can only solve this by implementing your own Jackson deserializer. See the duplicates for more information about how to do this. Feel free to tag me when the duplicates do not answer your question so I can reopen it."},{"owner":{"account_id":13207996,"reputation":165,"user_id":9539119,"display_name":"Oğuz &#214;ztınaz"},"score":1,"creation_date":1685556176,"post_id":76373432,"comment_id":134678234,"body_markdown":"Thank you @g00glen00b. Overriding the deserializer worked","body":"Thank you @g00glen00b. Overriding the deserializer worked"}],"owner":{"account_id":13207996,"reputation":165,"user_id":9539119,"display_name":"Oğuz &#214;ztınaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685537697,"answer_count":0,"score":0,"last_activity_date":1685537715,"creation_date":1685535530,"question_id":76373432,"body_markdown":"I&#39;ve a simple Spring Boot application that has a single post method route that takes a request body and printing that body&#39;s property to console. This is my controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;v1&quot;)\r\npublic class ExampleController {\r\n    @PostMapping(&quot;example&quot;)\r\n    public ResponseEntity&lt;String&gt; example(@RequestBody ExampleBody body) {\r\n        System.out.println(body.getBarcode());\r\n        return new ResponseEntity&lt;&gt;(&quot;OK&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nand this is the ExampleBody class\r\n```\r\n@Getter\r\n@Setter\r\npublic class ExampleBody {\r\n\r\n    @NonNull\r\n    private String barcode;\r\n}\r\n```\r\n\r\nI&#39;ve expected that when I send a body with my request like that:\r\n```\r\n{\r\n    &quot;barcode&quot;: 1\r\n}\r\n```\r\nit will fails, because I&#39;ve declared that barcode as String in ExampleBody class.\r\n\r\nHowever instead of throwing an exception, it passes and prints 1 to the console. I&#39;ve checked the type of that 1 and it says that it is a java.lang.String. How am I gonna force that barcode to accept only strings?","title":"Spring Boot RequestBody parses property to string even integer given","body":"<p>I've a simple Spring Boot application that has a single post method route that takes a request body and printing that body's property to console. This is my controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;v1&quot;)\npublic class ExampleController {\n    @PostMapping(&quot;example&quot;)\n    public ResponseEntity&lt;String&gt; example(@RequestBody ExampleBody body) {\n        System.out.println(body.getBarcode());\n        return new ResponseEntity&lt;&gt;(&quot;OK&quot;, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>and this is the ExampleBody class</p>\n<pre><code>@Getter\n@Setter\npublic class ExampleBody {\n\n    @NonNull\n    private String barcode;\n}\n</code></pre>\n<p>I've expected that when I send a body with my request like that:</p>\n<pre><code>{\n    &quot;barcode&quot;: 1\n}\n</code></pre>\n<p>it will fails, because I've declared that barcode as String in ExampleBody class.</p>\n<p>However instead of throwing an exception, it passes and prints 1 to the console. I've checked the type of that 1 and it says that it is a java.lang.String. How am I gonna force that barcode to accept only strings?</p>\n"},{"tags":["java","paintcomponent","repaint"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1685535097,"post_id":76373119,"comment_id":134673155,"body_markdown":"Generally, you have to repaint everything. Only repainting a part of the component is trickier but possible.","body":"Generally, you have to repaint everything. Only repainting a part of the component is trickier but possible."},{"owner":{"account_id":18113888,"reputation":53,"user_id":21816951,"display_name":"Callum Rae"},"score":0,"creation_date":1685537632,"post_id":76373119,"comment_id":134673816,"body_markdown":"How would I do that? Is it possible to repaint a specific object while keeping everything else as is?","body":"How would I do that? Is it possible to repaint a specific object while keeping everything else as is?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1685542349,"post_id":76373119,"comment_id":134675042,"body_markdown":"Not sure why moving the mouse causes a repaint. Maybe each landmass could be a BufferedImage. Then the paintComponent() methods simply paints each image. Or maybe you only have a single BufferedImage that you recreate whenever a landmass is edited.","body":"Not sure why moving the mouse causes a repaint. Maybe each landmass could be a BufferedImage. Then the paintComponent() methods simply paints each image. Or maybe you only have a single BufferedImage that you recreate whenever a landmass is edited."},{"owner":{"account_id":18113888,"reputation":53,"user_id":21816951,"display_name":"Callum Rae"},"score":0,"creation_date":1685546464,"post_id":76373119,"comment_id":134676126,"body_markdown":"I need to adjust the shape of landmasses using the mouse, meaning that I need to repaint when I do that. It&#39;s not so much a problem with moving the mouse, but it is with dragging the mouse.","body":"I need to adjust the shape of landmasses using the mouse, meaning that I need to repaint when I do that. It&#39;s not so much a problem with moving the mouse, but it is with dragging the mouse."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685537622,"creation_date":1685537622,"answer_id":76373690,"question_id":76373119,"body_markdown":"As mentioned in the technical details [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html), the `Graphics` object has a &quot;clip rectangle&quot; property, which indicates which area should be redrawn:\r\n\r\n&gt; * The `Graphics` object&#39;s *clip rectangle* is set to the area of the component that is in need of repainting.\r\n\r\nIt is used/set when you call the [`repaint()` method with the integer arguments](https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#repaint-int-int-int-int-) to specify the region you need to repaint. So when you call\r\n\r\n    panel.repaint(10, 20, 30, 40); // rectangle of 30x40 at pos (10, 20)\r\n\r\nthe `paint*()` methods get called with a `Graphics` object, where `getClip()` will return a [`Shape`](https://docs.oracle.com/javase/8/docs/api/java/awt/Shape.html)/[`Rectangle`](https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html) with these coordinates (or the coordinates related to *that* GUI component). You can use this information to (re)draw only the parts in that area. But this also means that you have to call `repaint()` on the area that has been changed. If you call `repaint()` without arguments, you will give the Swing/AWT drawing library no information whatsoever what has been &quot;changed&quot; and what is &quot;unchanged&quot;, resulting in repainting *everything* (because that&#39;s what you are requesting).\r\n\r\nSee the following prototype to show the effect of `repaint(...);` and how the `paintComponent()` method is called:\r\n\r\n    public class Testing extends JPanel {\r\n    \t\r\n    \tprivate int paintCounter = 0;\r\n    \t\r\n    \tprivate Color[] colors = new Color[] {\r\n    \t\t\tColor.GREEN,\r\n    \t\t\tColor.RED,\r\n    \t\t\tColor.BLUE,\r\n    \t\t\tColor.YELLOW,\r\n    \t\t\tColor.ORANGE,\r\n    \t\t\tColor.PINK\r\n    \t};\r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g)\r\n    \t{\r\n    \t\tg.setColor(colors[paintCounter++%colors.length]);\r\n    \t\tRectangle r = (Rectangle)g.getClip();\r\n    \t\tSystem.out.println(r);\r\n    \t\tif (r.getX() == 0) {\r\n    \t\t\tg.setColor(Color.WHITE);\r\n    \t\t}\r\n    \t\tg.fillRect((int)r.getX(), (int)r.getY(), (int)r.getWidth(), (int)r.getHeight());\r\n    \t}\r\n    \t\r\n        public static void main(String[] args) throws Exception {\r\n        \tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n        \tTesting panel = new Testing();\r\n        \tSwingUtilities.invokeLater(() -&gt; {\r\n        \t\tframe.add(panel, BorderLayout.CENTER);\r\n            \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            \tframe.setPreferredSize(new Dimension(400, 500));\r\n            \tframe.pack();\r\n            \tframe.setLocationRelativeTo(null);\r\n            \tframe.setVisible(true);        \t\r\n        \t});\r\n        \t\r\n        \tThread t = new Thread(() -&gt; {\r\n        \t\tRandom r = new Random();\r\n            \tfor (int i=0; i&lt;10; i++) {\r\n            \t\ttry {\r\n    \t\t\t\t\tThread.sleep(200);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n            \t\tSystem.out.println(&quot;Going to repaint step &quot;+i);\r\n            \t\tSwingUtilities.invokeLater(() -&gt; {\r\n            \t\t\tint x = r.nextInt(100)+10;\r\n                \t\tint y = r.nextInt(100)+100;\r\n                \t\tint width = r.nextInt(100)+100;\r\n                \t\tint height = r.nextInt(100)+100;\r\n                \t\tSystem.out.println(&quot;Repaint at: x=&quot;+x+&quot;, y=&quot;+y+&quot;, width=&quot;+width+&quot;, height=&quot;+height);\r\n                \t\tframe.repaint(x, y, width, height);\r\n            \t\t});\r\n            \t}\r\n        \t});\r\n        \tt.start();\r\n        }    \r\n    }\r\n\r\nThis will create a window like this:\r\n\r\n[![JFrame screenshot][1]][1]\r\n\r\nThe debug output looks as follow:\r\n\r\n    java.awt.Rectangle[x=0,y=0,width=390,height=470]\r\n    java.awt.Rectangle[x=0,y=0,width=1,height=1]\r\n    java.awt.Rectangle[x=0,y=0,width=390,height=470]\r\n    Going to repaint step 0\r\n    Repaint at: x=60, y=150, width=108, height=191\r\n    java.awt.Rectangle[x=56,y=117,width=108,height=191]\r\n    Going to repaint step 1\r\n    Repaint at: x=58, y=161, width=171, height=112\r\n    java.awt.Rectangle[x=54,y=128,width=171,height=112]\r\n    Going to repaint step 2\r\n    Repaint at: x=91, y=195, width=108, height=153\r\n    java.awt.Rectangle[x=87,y=162,width=108,height=153]\r\n    Going to repaint step 3\r\n    Repaint at: x=96, y=186, width=109, height=117\r\n    java.awt.Rectangle[x=92,y=153,width=109,height=117]\r\n    Going to repaint step 4\r\n    Repaint at: x=81, y=194, width=170, height=128\r\n    java.awt.Rectangle[x=77,y=161,width=170,height=128]\r\n    Going to repaint step 5\r\n    Repaint at: x=11, y=168, width=114, height=101\r\n    java.awt.Rectangle[x=7,y=135,width=114,height=101]\r\n    Going to repaint step 6\r\n    Repaint at: x=96, y=151, width=137, height=199\r\n    java.awt.Rectangle[x=92,y=118,width=137,height=199]\r\n    Going to repaint step 7\r\n    Repaint at: x=99, y=167, width=127, height=130\r\n    java.awt.Rectangle[x=95,y=134,width=127,height=130]\r\n    Going to repaint step 8\r\n    Repaint at: x=23, y=107, width=167, height=118\r\n    java.awt.Rectangle[x=19,y=74,width=167,height=118]\r\n    Going to repaint step 9\r\n    Repaint at: x=42, y=155, width=167, height=103\r\n    java.awt.Rectangle[x=38,y=122,width=167,height=103]\r\n    \r\nAs you see in the output, the `paintComponent()` method is called with a rectangle of the whole `JPanel` size first, since in the beginning it has to been drawn fully at least once. After that only the specific part should be drawn and the `paintComponent()` method does that.\r\n\r\nHowever, keep in mind that the drawing system of Swing/AWT will decide really quick that is must redraw everything. GUI actions like focus switch or resize can result in the Swing/AWT system thinking &quot;Well, what I am currently showing is not current anymore, I have to redraw everything&quot; and calls `repaint()` without any limits.\r\n\r\n  [1]: https://i.stack.imgur.com/DOIS4.png","title":"Can I tell the JPanel paintComponent(Graphics g) function to only repaint the object I&#39;m editing?","body":"<p>As mentioned in the technical details <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a>, the <code>Graphics</code> object has a &quot;clip rectangle&quot; property, which indicates which area should be redrawn:</p>\n<blockquote>\n<ul>\n<li>The <code>Graphics</code> object's <em>clip rectangle</em> is set to the area of the component that is in need of repainting.</li>\n</ul>\n</blockquote>\n<p>It is used/set when you call the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Component.html#repaint-int-int-int-int-\" rel=\"nofollow noreferrer\"><code>repaint()</code> method with the integer arguments</a> to specify the region you need to repaint. So when you call</p>\n<pre><code>panel.repaint(10, 20, 30, 40); // rectangle of 30x40 at pos (10, 20)\n</code></pre>\n<p>the <code>paint*()</code> methods get called with a <code>Graphics</code> object, where <code>getClip()</code> will return a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Shape.html\" rel=\"nofollow noreferrer\"><code>Shape</code></a>/<a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html\" rel=\"nofollow noreferrer\"><code>Rectangle</code></a> with these coordinates (or the coordinates related to <em>that</em> GUI component). You can use this information to (re)draw only the parts in that area. But this also means that you have to call <code>repaint()</code> on the area that has been changed. If you call <code>repaint()</code> without arguments, you will give the Swing/AWT drawing library no information whatsoever what has been &quot;changed&quot; and what is &quot;unchanged&quot;, resulting in repainting <em>everything</em> (because that's what you are requesting).</p>\n<p>See the following prototype to show the effect of <code>repaint(...);</code> and how the <code>paintComponent()</code> method is called:</p>\n<pre><code>public class Testing extends JPanel {\n    \n    private int paintCounter = 0;\n    \n    private Color[] colors = new Color[] {\n            Color.GREEN,\n            Color.RED,\n            Color.BLUE,\n            Color.YELLOW,\n            Color.ORANGE,\n            Color.PINK\n    };\n    @Override\n    protected void paintComponent(Graphics g)\n    {\n        g.setColor(colors[paintCounter++%colors.length]);\n        Rectangle r = (Rectangle)g.getClip();\n        System.out.println(r);\n        if (r.getX() == 0) {\n            g.setColor(Color.WHITE);\n        }\n        g.fillRect((int)r.getX(), (int)r.getY(), (int)r.getWidth(), (int)r.getHeight());\n    }\n    \n    public static void main(String[] args) throws Exception {\n        JFrame frame = new JFrame(&quot;Testing&quot;);\n        Testing panel = new Testing();\n        SwingUtilities.invokeLater(() -&gt; {\n            frame.add(panel, BorderLayout.CENTER);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setPreferredSize(new Dimension(400, 500));\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);         \n        });\n        \n        Thread t = new Thread(() -&gt; {\n            Random r = new Random();\n            for (int i=0; i&lt;10; i++) {\n                try {\n                    Thread.sleep(200);\n                } catch (InterruptedException e) {\n                    return;\n                }\n                System.out.println(&quot;Going to repaint step &quot;+i);\n                SwingUtilities.invokeLater(() -&gt; {\n                    int x = r.nextInt(100)+10;\n                    int y = r.nextInt(100)+100;\n                    int width = r.nextInt(100)+100;\n                    int height = r.nextInt(100)+100;\n                    System.out.println(&quot;Repaint at: x=&quot;+x+&quot;, y=&quot;+y+&quot;, width=&quot;+width+&quot;, height=&quot;+height);\n                    frame.repaint(x, y, width, height);\n                });\n            }\n        });\n        t.start();\n    }    \n}\n</code></pre>\n<p>This will create a window like this:</p>\n<p><a href=\"https://i.stack.imgur.com/DOIS4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DOIS4.png\" alt=\"JFrame screenshot\" /></a></p>\n<p>The debug output looks as follow:</p>\n<pre><code>java.awt.Rectangle[x=0,y=0,width=390,height=470]\njava.awt.Rectangle[x=0,y=0,width=1,height=1]\njava.awt.Rectangle[x=0,y=0,width=390,height=470]\nGoing to repaint step 0\nRepaint at: x=60, y=150, width=108, height=191\njava.awt.Rectangle[x=56,y=117,width=108,height=191]\nGoing to repaint step 1\nRepaint at: x=58, y=161, width=171, height=112\njava.awt.Rectangle[x=54,y=128,width=171,height=112]\nGoing to repaint step 2\nRepaint at: x=91, y=195, width=108, height=153\njava.awt.Rectangle[x=87,y=162,width=108,height=153]\nGoing to repaint step 3\nRepaint at: x=96, y=186, width=109, height=117\njava.awt.Rectangle[x=92,y=153,width=109,height=117]\nGoing to repaint step 4\nRepaint at: x=81, y=194, width=170, height=128\njava.awt.Rectangle[x=77,y=161,width=170,height=128]\nGoing to repaint step 5\nRepaint at: x=11, y=168, width=114, height=101\njava.awt.Rectangle[x=7,y=135,width=114,height=101]\nGoing to repaint step 6\nRepaint at: x=96, y=151, width=137, height=199\njava.awt.Rectangle[x=92,y=118,width=137,height=199]\nGoing to repaint step 7\nRepaint at: x=99, y=167, width=127, height=130\njava.awt.Rectangle[x=95,y=134,width=127,height=130]\nGoing to repaint step 8\nRepaint at: x=23, y=107, width=167, height=118\njava.awt.Rectangle[x=19,y=74,width=167,height=118]\nGoing to repaint step 9\nRepaint at: x=42, y=155, width=167, height=103\njava.awt.Rectangle[x=38,y=122,width=167,height=103]\n</code></pre>\n<p>As you see in the output, the <code>paintComponent()</code> method is called with a rectangle of the whole <code>JPanel</code> size first, since in the beginning it has to been drawn fully at least once. After that only the specific part should be drawn and the <code>paintComponent()</code> method does that.</p>\n<p>However, keep in mind that the drawing system of Swing/AWT will decide really quick that is must redraw everything. GUI actions like focus switch or resize can result in the Swing/AWT system thinking &quot;Well, what I am currently showing is not current anymore, I have to redraw everything&quot; and calls <code>repaint()</code> without any limits.</p>\n"}],"owner":{"account_id":18113888,"reputation":53,"user_id":21816951,"display_name":"Callum Rae"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685537622,"creation_date":1685533425,"question_id":76373119,"body_markdown":"I&#39;m writing an app in java using a `JPanel` to draw maps, I&#39;ve used `Landmass` as a class, and the workspace (extends JPanel) uses multiple landmasses to represent each continent/island. \r\n\r\ncurrently, the paintComponent runs a for loop over every Landmass every time I `repaint()`, which is everytime the mouse is moved. This seems inefficient as most Landmasses aren&#39;t changing, and is causing my program to slow down when too many Landmass objects are added. I want the landmasses to still be displayed by the graphics, I&#39;m looking for a way to not redraw the ones I haven&#39;t edited. \r\n\r\n````\r\nprotected void paintComponent(Graphics g)\r\n{\r\n   super.paintComponent(g);\r\n   Graphics2D g2= (Graphics2D) g;\r\n\t\t\tzoom(g2);\r\n\t\t\t\r\n   int radius = zoomHandler.divZ(this.radius);\r\n   graphicsHandler.setRadius(radius);\r\n\r\n\t\t\t...\r\n\t\t\t\r\n   if(!landmasses.isEmpty()) \r\n\tfor(int i = 0; i &lt; landmasses.size(); i++)\r\n\t     graphicsHandler.drawLandmass(g2, landmasses.get(i), i);\r\n}\r\n````\r\nWhere landmasses is the `ArrayList&lt;Landmass&gt;` that I&#39;m using to store every Landmass. \r\n\r\nTo be clear, I never directly call the paintComponent, I only ever use repaint();\r\n\r\nIf anyone was wondering drawLandmas does:\r\n````\r\npublic void drawLandmass(Graphics2D g, Landmass l, int index) {\r\n\t\tint[] xPoints = new int[l.nodes.size()]; //setup two integer arrays to store the x and y coordinates of each point\r\n\t\tint[] yPoints = new int[l.nodes.size()];\r\n\t\tfor(int j = 0; j &lt; l.nodes.size(); j++)//and assign each of the arrays with the points we take from the nodes\r\n\t\t{\r\n\t\t\txPoints[j] = l.nodes.get(j).x();\r\n\t\t\tyPoints[j] = l.nodes.get(j).y();\r\n\t\t}\r\n\t\tfillLandmass(l, xPoints, yPoints,g);\r\n\t\tif(l.getIsSelected()) {\r\n\t\t\ttraceLandmass(l, xPoints, yPoints, g);\r\n\t\t\tboxLandmass(l, w.zoomHandler, g);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void fillLandmass(Landmass l, int[] x, int[] y, Graphics2D g) {\r\n\t\tg.setColor(l.getColor());\r\n\t\tg.fillPolygon(x, y, l.nodes.size());\r\n\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void traceLandmass(Landmass l, int[] x, int[] y, Graphics2D g) {\r\n\t\tg.setColor(Color.RED);\r\n\t\tg.drawPolygon(x,y,l.nodes.size());\r\n\t\tfor(int j = 0; j &lt; l.nodes.size(); j++)//and assign each of the arrays with the points we take from the nodes\r\n\t\t{\r\n\t\t\tif(l.getSelectedNode() == j)\r\n\t\t\t\tcircle(g, l.nodes.get(j), &quot;fill&quot;, radius,g.getColor());\r\n\t\t\telse\r\n\t\t\t\tcircle(g, l.nodes.get(j), &quot;draw&quot;, radius,g.getColor());\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void boxLandmass(Landmass l, ZoomHandler z, Graphics2D g) {\r\n\t\tg.setColor(Color.YELLOW);\r\n\t\tg.drawRect(l.prox[0] - radius, l.prox[1] - radius,\r\n\t\t\t\tl.prox[2]-l.prox[0] + 2*radius, \r\n\t\t\t\tl.prox[3]-l.prox[1] + 2*radius);\r\n\t\tg.fillRect(l.prox[0] - z.divZ(3) - radius, l.prox[1] - z.divZ(3) - radius, 2*z.divZ(3), 2*z.divZ(3));\r\n\t\tg.fillRect(l.prox[2] - z.divZ(3) + radius, l.prox[1] - z.divZ(3) - radius, 2*z.divZ(3), 2*z.divZ(3));\r\n\t\tg.fillRect(l.prox[2] - z.divZ(3) + radius, l.prox[3] - z.divZ(3) + radius, 2*z.divZ(3), 2*z.divZ(3));\r\n\t\tg.fillRect(l.prox[0] - z.divZ(3) - radius, l.prox[3] - z.divZ(3) + radius, 2*z.divZ(3), 2*z.divZ(3));\r\n\t\r\n\t\tif(l.centreNodeVisible)\r\n\t\t\tcircle(g,l.centreNode,&quot;draw&quot;,radius, g.getColor());\r\n\t}\r\n````\r\n\r\nI obviously can&#39;t just use an `if(landmasses.get(i).isEdited())` statement to only draw landmasses which have been edited, and the unedited ones won&#39;t be shown.\r\n\r\nI tried researching the paintComponent, but I couldn&#39;t find anything there that was helpful. ","title":"Can I tell the JPanel paintComponent(Graphics g) function to only repaint the object I&#39;m editing?","body":"<p>I'm writing an app in java using a <code>JPanel</code> to draw maps, I've used <code>Landmass</code> as a class, and the workspace (extends JPanel) uses multiple landmasses to represent each continent/island.</p>\n<p>currently, the paintComponent runs a for loop over every Landmass every time I <code>repaint()</code>, which is everytime the mouse is moved. This seems inefficient as most Landmasses aren't changing, and is causing my program to slow down when too many Landmass objects are added. I want the landmasses to still be displayed by the graphics, I'm looking for a way to not redraw the ones I haven't edited.</p>\n<pre><code>protected void paintComponent(Graphics g)\n{\n   super.paintComponent(g);\n   Graphics2D g2= (Graphics2D) g;\n            zoom(g2);\n            \n   int radius = zoomHandler.divZ(this.radius);\n   graphicsHandler.setRadius(radius);\n\n            ...\n            \n   if(!landmasses.isEmpty()) \n    for(int i = 0; i &lt; landmasses.size(); i++)\n         graphicsHandler.drawLandmass(g2, landmasses.get(i), i);\n}\n</code></pre>\n<p>Where landmasses is the <code>ArrayList&lt;Landmass&gt;</code> that I'm using to store every Landmass.</p>\n<p>To be clear, I never directly call the paintComponent, I only ever use repaint();</p>\n<p>If anyone was wondering drawLandmas does:</p>\n<pre><code>public void drawLandmass(Graphics2D g, Landmass l, int index) {\n        int[] xPoints = new int[l.nodes.size()]; //setup two integer arrays to store the x and y coordinates of each point\n        int[] yPoints = new int[l.nodes.size()];\n        for(int j = 0; j &lt; l.nodes.size(); j++)//and assign each of the arrays with the points we take from the nodes\n        {\n            xPoints[j] = l.nodes.get(j).x();\n            yPoints[j] = l.nodes.get(j).y();\n        }\n        fillLandmass(l, xPoints, yPoints,g);\n        if(l.getIsSelected()) {\n            traceLandmass(l, xPoints, yPoints, g);\n            boxLandmass(l, w.zoomHandler, g);\n        }\n    }\n    \n    public void fillLandmass(Landmass l, int[] x, int[] y, Graphics2D g) {\n        g.setColor(l.getColor());\n        g.fillPolygon(x, y, l.nodes.size());\n    \n        \n    }\n    \n    public void traceLandmass(Landmass l, int[] x, int[] y, Graphics2D g) {\n        g.setColor(Color.RED);\n        g.drawPolygon(x,y,l.nodes.size());\n        for(int j = 0; j &lt; l.nodes.size(); j++)//and assign each of the arrays with the points we take from the nodes\n        {\n            if(l.getSelectedNode() == j)\n                circle(g, l.nodes.get(j), &quot;fill&quot;, radius,g.getColor());\n            else\n                circle(g, l.nodes.get(j), &quot;draw&quot;, radius,g.getColor());\n        }\n    }\n    \n    public void boxLandmass(Landmass l, ZoomHandler z, Graphics2D g) {\n        g.setColor(Color.YELLOW);\n        g.drawRect(l.prox[0] - radius, l.prox[1] - radius,\n                l.prox[2]-l.prox[0] + 2*radius, \n                l.prox[3]-l.prox[1] + 2*radius);\n        g.fillRect(l.prox[0] - z.divZ(3) - radius, l.prox[1] - z.divZ(3) - radius, 2*z.divZ(3), 2*z.divZ(3));\n        g.fillRect(l.prox[2] - z.divZ(3) + radius, l.prox[1] - z.divZ(3) - radius, 2*z.divZ(3), 2*z.divZ(3));\n        g.fillRect(l.prox[2] - z.divZ(3) + radius, l.prox[3] - z.divZ(3) + radius, 2*z.divZ(3), 2*z.divZ(3));\n        g.fillRect(l.prox[0] - z.divZ(3) - radius, l.prox[3] - z.divZ(3) + radius, 2*z.divZ(3), 2*z.divZ(3));\n    \n        if(l.centreNodeVisible)\n            circle(g,l.centreNode,&quot;draw&quot;,radius, g.getColor());\n    }\n</code></pre>\n<p>I obviously can't just use an <code>if(landmasses.get(i).isEdited())</code> statement to only draw landmasses which have been edited, and the unedited ones won't be shown.</p>\n<p>I tried researching the paintComponent, but I couldn't find anything there that was helpful.</p>\n"},{"tags":["java","spring","eclipse","maven"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685537327,"post_id":76373505,"comment_id":134673737,"body_markdown":"`&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;` Java 7? From 2011. Why are you using Java from 12 years ago?","body":"<code>&lt;maven.compiler.source&gt;1.7&lt;&#47;maven.compiler.source&gt;</code> Java 7? From 2011. Why are you using Java from 12 years ago?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1685537624,"post_id":76373505,"comment_id":134673813,"body_markdown":"See abovelinked duplicate. The question might not be the same but the answer is very applicable on your situation too: use Tomcat 10+ or else downgrade Spring to 5-. In other words, simply make sure all the versions are the most recent ones or at least match each other wrt compatibility.","body":"See abovelinked duplicate. The question might not be the same but the answer is very applicable on your situation too: use Tomcat 10+ or else downgrade Spring to 5-. In other words, simply make sure all the versions are the most recent ones or at least match each other wrt compatibility."}],"owner":{"account_id":28719065,"reputation":3,"user_id":21993125,"display_name":"Prajal Saxena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685537573,"answer_count":0,"score":0,"last_activity_date":1685537561,"creation_date":1685536195,"question_id":76373505,"body_markdown":"Getting this error even after inheriting onStartup() method: \r\nThe type LoveCalculatorApplicationInitializer must implement the inherited abstract method WebApplicationInitializer.onStartup(ServletContext). \r\n\r\n**Here&#39;s the pom.xml**\r\n```\r\n\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.seleniumexpress&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-love-calculator&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;spring-love-calculator Maven Webapp&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    \r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;spring-love-calculator&lt;/finalName&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n`\r\n```\r\n\r\n**Here&#39;s the LoveCalculatorApplicationInitializer.java:** problem not resolved even after inheriting\r\n\r\n\r\n```\r\n`package com.seleniumexpress.lc.config;\r\n\r\nimport org.springframework.web.WebApplicationInitializer;\r\n\r\nimport jakarta.servlet.ServletContext;\r\nimport jakarta.servlet.ServletException;\r\n\r\npublic class LoveCalculatorApplicationInitializer implements WebApplicationInitializer {\r\n\r\n\t@Override\r\n\tpublic void onStartup(ServletContext servletContext) throws ServletException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n}\r\n`\r\n```","title":"The type LoveCalculatorApplicationInitializer must implement the inherited abstract method WebApplicationInitializer.onStartup(ServletContext)","body":"<p>Getting this error even after inheriting onStartup() method:\nThe type LoveCalculatorApplicationInitializer must implement the inherited abstract method WebApplicationInitializer.onStartup(ServletContext).</p>\n<p><strong>Here's the pom.xml</strong></p>\n<pre><code>\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.seleniumexpress&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-love-calculator&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;spring-love-calculator Maven Webapp&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;6.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;spring-love-calculator&lt;/finalName&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n`\n</code></pre>\n<p><strong>Here's the LoveCalculatorApplicationInitializer.java:</strong> problem not resolved even after inheriting</p>\n<pre><code>`package com.seleniumexpress.lc.config;\n\nimport org.springframework.web.WebApplicationInitializer;\n\nimport jakarta.servlet.ServletContext;\nimport jakarta.servlet.ServletException;\n\npublic class LoveCalculatorApplicationInitializer implements WebApplicationInitializer {\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        // TODO Auto-generated method stub\n        \n    }\n\n}\n`\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3188373,"reputation":1886,"user_id":3957225,"accept_rate":100,"display_name":"Dhaval Simaria"},"score":0,"creation_date":1685524699,"post_id":76371841,"comment_id":134670945,"body_markdown":"You can remove the `@DBRef articles` from User class.  I believe it will form an endless loop if you DBRef two classes into one another.\n\nAlso, please share the exact error that you are getting in your implementation.","body":"You can remove the <code>@DBRef articles</code> from User class.  I believe it will form an endless loop if you DBRef two classes into one another.  Also, please share the exact error that you are getting in your implementation."},{"owner":{"account_id":24199839,"reputation":11,"user_id":18157826,"display_name":"Vitalii Smahlenko"},"score":0,"creation_date":1685525273,"post_id":76371841,"comment_id":134671061,"body_markdown":"error - Invalid path reference user.username! Associations can only be pointed to directly or via their id property!","body":"error - Invalid path reference user.username! Associations can only be pointed to directly or via their id property!"}],"answers":[{"comments":[{"owner":{"account_id":24199839,"reputation":11,"user_id":18157826,"display_name":"Vitalii Smahlenko"},"score":0,"creation_date":1685525720,"post_id":76372015,"comment_id":134671150,"body_markdown":"I still get Invalid path reference user.username! Associations can only be pointed to directly or via their id property!","body":"I still get Invalid path reference user.username! Associations can only be pointed to directly or via their id property!"},{"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"score":0,"creation_date":1685526171,"post_id":76372015,"comment_id":134671246,"body_markdown":"Maybe try, instead of using `$lookup` operation, to reference related data by ID directly in your documents, and then perform separate queries to retrieve the related data","body":"Maybe try, instead of using <code>$lookup</code> operation, to reference related data by ID directly in your documents, and then perform separate queries to retrieve the related data"}],"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685525246,"creation_date":1685525246,"answer_id":76372015,"question_id":76371841,"body_markdown":"On `$lookup` stage you&#39;re trying to join on `user` field which is a DBRef in the articles collection and `_id` field in the users collection. The issue is that DBRef is a complex object, and you cannot directly compare it with the `_id` field.\r\n\r\nIn MongoDB, a DBRef is a document that contains the following fields:\r\n\r\n    {\r\n       $ref : &lt;collection name&gt;,\r\n       $id : &lt;id&gt;,\r\n       $db : &lt;database name&gt;\r\n    }\r\n\r\nYour `User` field in the `Article` collection would look something like this:\r\n\r\n    {\r\n        $ref : &#39;user&#39;,\r\n        $id : &lt;user_id&gt;,\r\n        $db : &lt;database_name&gt;\r\n    }\r\n\r\nThus, in your `$lookup` part, you should use `user.$id` as the localField instead of `user`:\r\n\r\n    @Aggregation(pipeline = {\r\n            &quot;{$lookup: {from: &#39;user&#39;, localField: &#39;user.$id&#39;, foreignField: &#39;_id&#39;, as: &#39;user&#39;}}&quot;,\r\n            &quot;{$unwind: &#39;$user&#39;}&quot;,\r\n            &quot;{$match: {&#39;user.username&#39;: ?0}}&quot;\r\n    })\r\n    List&lt;Article&gt; findAllByUserUsername(String username);\r\n\r\n","title":"How to write a join query for mongoDb with Spring boot?","body":"<p>On <code>$lookup</code> stage you're trying to join on <code>user</code> field which is a DBRef in the articles collection and <code>_id</code> field in the users collection. The issue is that DBRef is a complex object, and you cannot directly compare it with the <code>_id</code> field.</p>\n<p>In MongoDB, a DBRef is a document that contains the following fields:</p>\n<pre><code>{\n   $ref : &lt;collection name&gt;,\n   $id : &lt;id&gt;,\n   $db : &lt;database name&gt;\n}\n</code></pre>\n<p>Your <code>User</code> field in the <code>Article</code> collection would look something like this:</p>\n<pre><code>{\n    $ref : 'user',\n    $id : &lt;user_id&gt;,\n    $db : &lt;database_name&gt;\n}\n</code></pre>\n<p>Thus, in your <code>$lookup</code> part, you should use <code>user.$id</code> as the localField instead of <code>user</code>:</p>\n<pre><code>@Aggregation(pipeline = {\n        &quot;{$lookup: {from: 'user', localField: 'user.$id', foreignField: '_id', as: 'user'}}&quot;,\n        &quot;{$unwind: '$user'}&quot;,\n        &quot;{$match: {'user.username': ?0}}&quot;\n})\nList&lt;Article&gt; findAllByUserUsername(String username);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3188373,"reputation":1886,"user_id":3957225,"accept_rate":100,"display_name":"Dhaval Simaria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685529655,"creation_date":1685529655,"answer_id":76372632,"question_id":76371841,"body_markdown":"You can fetch only the list of articles from the User repository as follows:\r\n\r\n\r\nKeep your User class as is in your question.\r\n\r\nRemove `@DBRef private User user;` from your Article class.\r\n\r\n`User Repository`\r\n\r\n    public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\r\n\r\n        @Query(&quot;select u.articles from User u where u.username:=username&quot;)\r\n        List&lt;Article&gt; findArticlesbyUsername(@Param(&quot;username&quot;) String username);\r\n    }\r\n\r\nThis will fetch only the list of articles through your User class.","title":"How to write a join query for mongoDb with Spring boot?","body":"<p>You can fetch only the list of articles from the User repository as follows:</p>\n<p>Keep your User class as is in your question.</p>\n<p>Remove <code>@DBRef private User user;</code> from your Article class.</p>\n<p><code>User Repository</code></p>\n<pre><code>public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\n\n    @Query(&quot;select u.articles from User u where u.username:=username&quot;)\n    List&lt;Article&gt; findArticlesbyUsername(@Param(&quot;username&quot;) String username);\n}\n</code></pre>\n<p>This will fetch only the list of articles through your User class.</p>\n"},{"comments":[{"owner":{"account_id":3188373,"reputation":1886,"user_id":3957225,"accept_rate":100,"display_name":"Dhaval Simaria"},"score":0,"creation_date":1685595014,"post_id":76373672,"comment_id":134682652,"body_markdown":"Going by the structure of your User class and Article class and assuming you removed `@DBRef` in one place, this solution looks good. But a lot depends on your functional requirement in order to properly decide whether to place User class object within Article class or vice-versa.","body":"Going by the structure of your User class and Article class and assuming you removed <code>@DBRef</code> in one place, this solution looks good. But a lot depends on your functional requirement in order to properly decide whether to place User class object within Article class or vice-versa."}],"tags":[],"owner":{"account_id":24199839,"reputation":11,"user_id":18157826,"display_name":"Vitalii Smahlenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685537464,"creation_date":1685537464,"answer_id":76373672,"question_id":76371841,"body_markdown":"I took the idea from the Dhaval Simaria solution, but I tweaked it a bit, and now it works.\r\n\r\n    public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\r\n        Optional&lt;User&gt; findByUsername(String username);\r\n    \r\n        @Aggregation(pipeline = {\r\n                &quot;{$match: {username: ?0}}&quot;,\r\n                &quot;{$lookup: {from: &#39;articles&#39;, localField: &#39;id&#39;, foreignField: &#39;user.id&#39;, as: &#39;articles&#39;}}&quot;,\r\n                &quot;{$unwind: &#39;$articles&#39;}&quot;,\r\n                &quot;{$replaceRoot: {newRoot: &#39;$articles&#39;}}&quot;\r\n        })\r\n        List&lt;Article&gt; findArticlesByUsername(String username);\r\n    }\r\nIt is very important for me to know if it is the right decision to write this method in UserRepository or is it better to look for options to do it in ArticleRepository? ","title":"How to write a join query for mongoDb with Spring boot?","body":"<p>I took the idea from the Dhaval Simaria solution, but I tweaked it a bit, and now it works.</p>\n<pre><code>public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n\n    @Aggregation(pipeline = {\n            &quot;{$match: {username: ?0}}&quot;,\n            &quot;{$lookup: {from: 'articles', localField: 'id', foreignField: 'user.id', as: 'articles'}}&quot;,\n            &quot;{$unwind: '$articles'}&quot;,\n            &quot;{$replaceRoot: {newRoot: '$articles'}}&quot;\n    })\n    List&lt;Article&gt; findArticlesByUsername(String username);\n}\n</code></pre>\n<p>It is very important for me to know if it is the right decision to write this method in UserRepository or is it better to look for options to do it in ArticleRepository?</p>\n"}],"owner":{"account_id":24199839,"reputation":11,"user_id":18157826,"display_name":"Vitalii Smahlenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1685537464,"creation_date":1685523996,"question_id":76371841,"body_markdown":"everyone! \r\nI would be very grateful for your help, I am a beginner in working with MongoDB.\r\nI have 2 classes\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(collection = &quot;user&quot;)\r\npublic class User {\r\n    @Transient\r\n    public static final String USER_SEQUENCE = &quot;user_sequence&quot;;\r\n    @Id\r\n    private Long id;\r\n    private String username;\r\n    private String password;\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    @DBRef\r\n    private List&lt;Article&gt; articles = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nand\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Document(collection = &quot;articles&quot;)\r\npublic class Article {\r\n    @Transient\r\n    public static final String ARTICLE_SEQUENCE = &quot;article_sequence&quot;;\r\n    @Id\r\n    private Long id;\r\n    private String text;\r\n    private int like = 0;\r\n    @Setter(AccessLevel.NONE)\r\n    private Set&lt;Long&gt; likedBy = new HashSet&lt;&gt;();\r\n    @Setter(AccessLevel.NONE)\r\n    private Set&lt;Long&gt; dislikedBy = new HashSet&lt;&gt;();\r\n    @DBRef\r\n    private User user;\r\n\r\n    public Article(Long id, String text, User user) {\r\n        this.id = id;\r\n        this.text = text;\r\n        this.user = user;\r\n    }\r\n}\r\n```\r\nI need to implement a method that will retrieve all articles by username\r\nThis is my implementation, but it doesn&#39;t work(((\r\n```\r\npublic interface ArticleRepository extends MongoRepository&lt;Article, Long&gt; {\r\n    List&lt;Article&gt; findAllByOrderByIdDesc();\r\n\r\n    @Aggregation(pipeline = {\r\n            &quot;{$lookup: {from: &#39;users&#39;, localField: &#39;user&#39;, foreignField: &#39;_id&#39;, as: &#39;user&#39;}}&quot;,\r\n            &quot;{$unwind: &#39;$user&#39;}&quot;,\r\n            &quot;{$match: {&#39;user.username&#39;: ?0}}&quot;\r\n    })\r\n    List&lt;Article&gt; findAllByUserUsername(String username);\r\n}\r\n```\r\n\r\nHelp me understand how to do this, please\r\n\r\n\r\nOf course, I can pull out the User by name and take the gender from it, but I think it&#39;s not right.\r\n\r\n```\r\npublic interface UserRepository extends MongoRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findByUsername(String username);\r\n}\r\n```","title":"How to write a join query for mongoDb with Spring boot?","body":"<p>everyone!\nI would be very grateful for your help, I am a beginner in working with MongoDB.\nI have 2 classes</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collection = &quot;user&quot;)\npublic class User {\n    @Transient\n    public static final String USER_SEQUENCE = &quot;user_sequence&quot;;\n    @Id\n    private Long id;\n    private String username;\n    private String password;\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n    @DBRef\n    private List&lt;Article&gt; articles = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Document(collection = &quot;articles&quot;)\npublic class Article {\n    @Transient\n    public static final String ARTICLE_SEQUENCE = &quot;article_sequence&quot;;\n    @Id\n    private Long id;\n    private String text;\n    private int like = 0;\n    @Setter(AccessLevel.NONE)\n    private Set&lt;Long&gt; likedBy = new HashSet&lt;&gt;();\n    @Setter(AccessLevel.NONE)\n    private Set&lt;Long&gt; dislikedBy = new HashSet&lt;&gt;();\n    @DBRef\n    private User user;\n\n    public Article(Long id, String text, User user) {\n        this.id = id;\n        this.text = text;\n        this.user = user;\n    }\n}\n</code></pre>\n<p>I need to implement a method that will retrieve all articles by username\nThis is my implementation, but it doesn't work(((</p>\n<pre><code>public interface ArticleRepository extends MongoRepository&lt;Article, Long&gt; {\n    List&lt;Article&gt; findAllByOrderByIdDesc();\n\n    @Aggregation(pipeline = {\n            &quot;{$lookup: {from: 'users', localField: 'user', foreignField: '_id', as: 'user'}}&quot;,\n            &quot;{$unwind: '$user'}&quot;,\n            &quot;{$match: {'user.username': ?0}}&quot;\n    })\n    List&lt;Article&gt; findAllByUserUsername(String username);\n}\n</code></pre>\n<p>Help me understand how to do this, please</p>\n<p>Of course, I can pull out the User by name and take the gender from it, but I think it's not right.</p>\n<pre><code>public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByUsername(String username);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","graalvm-native-image","spring-native"],"answers":[{"tags":[],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685537288,"creation_date":1685537288,"answer_id":76373651,"question_id":76370021,"body_markdown":"Fixed by adding below hints  \r\n\r\n```\r\n\t\t// Register Type Hints for class and interface since size() of EmptyList class\r\n\t\t\t// is not accessible because\r\n\t\t\t// JAVA Module system denies that access ; hence to circumvent that , we should\r\n\t\t\t// add hints for both interface and implementing class\r\n\t\t\t// so that Spring can call class methods through interface\r\n\t\t\thints.reflection().registerType(TypeReference.of(&quot;java.util.Collection&quot;),\r\n\t\t\t\t\tbuilder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\r\n\t\t\thints.reflection().registerType(TypeReference.of(&quot;java.util.Collections$EmptyList&quot;),\r\n\t\t\t\t\tbuilder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\r\n  ","title":"Register RuntimeHints for Collections EmptyList class not working","body":"<p>Fixed by adding below hints</p>\n<pre><code>        // Register Type Hints for class and interface since size() of EmptyList class\n            // is not accessible because\n            // JAVA Module system denies that access ; hence to circumvent that , we should\n            // add hints for both interface and implementing class\n            // so that Spring can call class methods through interface\n            hints.reflection().registerType(TypeReference.of(&quot;java.util.Collection&quot;),\n                    builder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\n            hints.reflection().registerType(TypeReference.of(&quot;java.util.Collections$EmptyList&quot;),\n                    builder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\n  \n</code></pre>\n"}],"owner":{"account_id":8469968,"reputation":672,"user_id":9311364,"accept_rate":71,"display_name":"Ladu anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685537288,"creation_date":1685504692,"question_id":76370021,"body_markdown":"I have the following method and a Cacheable annotation on top of that. \r\n```\r\n@Cacheable(value = &quot;autosuggest&quot;, key = &quot;#term&quot;, unless = &quot;#result.size()==0&quot;)\r\n\t@Override\r\n\tpublic List&lt;AutoSuggestUser&gt; autoSuggestUsers(String term) {\r\n\t\tif (term.length() &lt;= 3)\r\n\t\t\treturn Collections.emptyList();\r\n        ....\r\n}\r\n```\r\nWhen I convert it to native image , I get the following error when function returns an EmptyList. \r\n\r\n```\r\norg.springframework.expression.spel.SpelEvaluationException: EL1029E: A problem occurred when trying to execute method &#39;size&#39; on object of type &#39;java.util.Collections$EmptyList&#39;: &#39;Problem invoking method: public int java.util.Collections$EmptyList.size()&#39;\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:146)\r\n\tat java.base@17.0.5/java.lang.Thread.run(Thread.java:833)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\r\n\tat org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\r\nCaused by: org.springframework.expression.AccessException: Problem invoking method: public int java.util.Collections$EmptyList.size()\r\n\tat org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:143)\r\n\tat org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:139)\r\n\t... 70 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public int java.util.Collections$EmptyList.size() accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @2055833f\r\n\tat java.base@17.0.5/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base@17.0.5/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base@17.0.5/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base@17.0.5/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\tat org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:574)\r\n\tat org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:138)\r\n\t... 71 more\r\n```\r\n\r\nI have added a runtime hint to register EmptyList class but it doesn&#39;t seem to be working. \r\n```\r\n\tstatic class MyRuntimeHints implements RuntimeHintsRegistrar {\r\n\r\n\t\t@Override\r\n\t\tpublic void registerHints(RuntimeHints hints, ClassLoader classLoader) {\r\nhints.reflection().registerType(TypeReference.of(&quot;java.util.Collections$EmptyList&quot;),\r\n\t\t\t\t\tbuilder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\r\n\t\t}\r\n```","title":"Register RuntimeHints for Collections EmptyList class not working","body":"<p>I have the following method and a Cacheable annotation on top of that.</p>\n<pre><code>@Cacheable(value = &quot;autosuggest&quot;, key = &quot;#term&quot;, unless = &quot;#result.size()==0&quot;)\n    @Override\n    public List&lt;AutoSuggestUser&gt; autoSuggestUsers(String term) {\n        if (term.length() &lt;= 3)\n            return Collections.emptyList();\n        ....\n}\n</code></pre>\n<p>When I convert it to native image , I get the following error when function returns an EmptyList.</p>\n<pre><code>org.springframework.expression.spel.SpelEvaluationException: EL1029E: A problem occurred when trying to execute method 'size' on object of type 'java.util.Collections$EmptyList': 'Problem invoking method: public int java.util.Collections$EmptyList.size()'\n    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:146)\n    at java.base@17.0.5/java.lang.Thread.run(Thread.java:833)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\nCaused by: org.springframework.expression.AccessException: Problem invoking method: public int java.util.Collections$EmptyList.size()\n    at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:143)\n    at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:139)\n    ... 70 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make public int java.util.Collections$EmptyList.size() accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @2055833f\n    at java.base@17.0.5/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base@17.0.5/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base@17.0.5/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\n    at java.base@17.0.5/java.lang.reflect.Method.setAccessible(Method.java:193)\n    at org.springframework.util.ReflectionUtils.makeAccessible(ReflectionUtils.java:574)\n    at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:138)\n    ... 71 more\n</code></pre>\n<p>I have added a runtime hint to register EmptyList class but it doesn't seem to be working.</p>\n<pre><code>    static class MyRuntimeHints implements RuntimeHintsRegistrar {\n\n        @Override\n        public void registerHints(RuntimeHints hints, ClassLoader classLoader) {\nhints.reflection().registerType(TypeReference.of(&quot;java.util.Collections$EmptyList&quot;),\n                    builder -&gt; builder.withMembers(MemberCategory.INVOKE_DECLARED_METHODS));\n        }\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"comments":[{"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"score":0,"creation_date":1685468490,"post_id":76366099,"comment_id":134663321,"body_markdown":"Okay thanks dude. I am pretty new to programming and  i think I will use the second Method u gave me as an answer, if I understand this correctly. Thanks for helping","body":"Okay thanks dude. I am pretty new to programming and  i think I will use the second Method u gave me as an answer, if I understand this correctly. Thanks for helping"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1685473814,"post_id":76366099,"comment_id":134664283,"body_markdown":"With pleasure bro. Good luck while learning Java and spigot API :) I suggest you to check [my other question](https://stackoverflow.com/a/76124681/10952503) about inventories, it can be useful for you x)","body":"With pleasure bro. Good luck while learning Java and spigot API :) I suggest you to check <a href=\"https://stackoverflow.com/a/76124681/10952503\">my other question</a> about inventories, it can be useful for you x)"},{"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"score":0,"creation_date":1685478341,"post_id":76366099,"comment_id":134665112,"body_markdown":"Sure man. I was first willing to ask you to add me on discord, because I can ask you questions that way, but I guess that would be really annoying for you because I have yet another question and I will have many more. But thanks :)","body":"Sure man. I was first willing to ask you to add me on discord, because I can ask you questions that way, but I guess that would be really annoying for you because I have yet another question and I will have many more. But thanks :)"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1685513388,"post_id":76366099,"comment_id":134668713,"body_markdown":"@ToxicFactoryGames I already have some people that come on discord for things like that, and I no longer want to do this. You can add how much question you want here, on SO. I&#39;m always checking for tags [tag:spigot] and [tag:minecraft] and trying to answer to them so no worry","body":"@ToxicFactoryGames I already have some people that come on discord for things like that, and I no longer want to do this. You can add how much question you want here, on SO. I&#39;m always checking for tags <a href=\"https://stackoverflow.com/questions/tagged/spigot\">spigot</a> and <a href=\"https://stackoverflow.com/questions/tagged/minecraft\">minecraft</a> and trying to answer to them so no worry"},{"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"score":0,"creation_date":1685518178,"post_id":76366099,"comment_id":134669568,"body_markdown":"I understand that. The only problem with this webside is, that I run into problems and cluelessness very often and have an delay of three days here. But thanks for far dude","body":"I understand that. The only problem with this webside is, that I run into problems and cluelessness very often and have an delay of three days here. But thanks for far dude"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1685519861,"post_id":76366099,"comment_id":134669898,"body_markdown":"Why 3 days delay? You asked your question 17h ago, I answered 15 minutes after. You can check for the [timeline](https://stackoverflow.com/posts/76366017/timeline) for more","body":"Why 3 days delay? You asked your question 17h ago, I answered 15 minutes after. You can check for the <a href=\"https://stackoverflow.com/posts/76366017/timeline\">timeline</a> for more"},{"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"score":0,"creation_date":1685535672,"post_id":76366099,"comment_id":134673316,"body_markdown":"Yeah, I meant that I can only ask an question every three days. I dont know if its because of my current repuatation or smt but it says that","body":"Yeah, I meant that I can only ask an question every three days. I dont know if its because of my current repuatation or smt but it says that"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1685535730,"post_id":76366099,"comment_id":134673341,"body_markdown":"Did you got like closed &amp; deleted posts? It could like you have been post-limited because of previous bad one. Thanks to this one, maybe you can post a new one","body":"Did you got like closed &amp; deleted posts? It could like you have been post-limited because of previous bad one. Thanks to this one, maybe you can post a new one"},{"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"score":0,"creation_date":1685536646,"post_id":76366099,"comment_id":134673584,"body_markdown":"Yeah, I did have one bad one and I didnt even did anything worng. I showed all my code, but people startet saying I need to give more code. So  the score of that question was -2 and I deleted that afterwards. But I dont really know, I only asked 3 questions in total till now and none of them got any reputation without the negative one so yeah, maybe","body":"Yeah, I did have one bad one and I didnt even did anything worng. I showed all my code, but people startet saying I need to give more code. So  the score of that question was -2 and I deleted that afterwards. But I dont really know, I only asked 3 questions in total till now and none of them got any reputation without the negative one so yeah, maybe"}],"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685458341,"creation_date":1685458341,"answer_id":76366099,"question_id":76366017,"body_markdown":"The issue comes because the variable is out of your actual scope. It have been create in another method, and now the variable by itself isn&#39;t accessible.\r\n\r\nIf you want to keep the same inventory (not specially recommended), you can put into an `HashMap&lt;&gt;()` and get it after. Exemple:\r\n```\r\n\r\npublic class Copper_Inventory implements CommandExecutor {\r\n\r\n    public static final HashMap&lt;Player, Inventory&gt; INVENTORIES = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        if(!(sender instanceof Player)) return false;\r\n        Player player = (Player) sender;\r\n\r\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;&#167;5Copper \r\nTrails:&quot;);\r\n        // fill inventory\r\n        player.openInventory(copperInventory);\r\n        INVENTORIES.put(player, copperInventory);\r\n    }\r\n}\r\n```\r\nThen, when closing inventory, use: `player.openInventort(Copper_Inventory.INVENTORIES.get(player))`.\r\n\r\nBut, the most recommended way is not this one.\r\n\r\n### You can simply re-open a new one\r\n\r\nYou can create a new class which can be like that:\r\n```java\r\npublic class Inventories {\r\n\r\n    public static Inventory createCopperInventory(Player p) {\r\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;&#167;5Copper \r\nTrails:&quot;);\r\n        // fill inventory\r\n        return copperInventory;\r\n    }\r\n}\r\n```\r\nAnd then, each time use `player.openInventory(Inventories.createCopperInventory(player))`.","title":"How to open an Inventory with an Item inside an Inventory","body":"<p>The issue comes because the variable is out of your actual scope. It have been create in another method, and now the variable by itself isn't accessible.</p>\n<p>If you want to keep the same inventory (not specially recommended), you can put into an <code>HashMap&lt;&gt;()</code> and get it after. Exemple:</p>\n<pre><code>\npublic class Copper_Inventory implements CommandExecutor {\n\n    public static final HashMap&lt;Player, Inventory&gt; INVENTORIES = new HashMap&lt;&gt;();\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        if(!(sender instanceof Player)) return false;\n        Player player = (Player) sender;\n\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;§5Copper \nTrails:&quot;);\n        // fill inventory\n        player.openInventory(copperInventory);\n        INVENTORIES.put(player, copperInventory);\n    }\n}\n</code></pre>\n<p>Then, when closing inventory, use: <code>player.openInventort(Copper_Inventory.INVENTORIES.get(player))</code>.</p>\n<p>But, the most recommended way is not this one.</p>\n<h3>You can simply re-open a new one</h3>\n<p>You can create a new class which can be like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Inventories {\n\n    public static Inventory createCopperInventory(Player p) {\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;§5Copper \nTrails:&quot;);\n        // fill inventory\n        return copperInventory;\n    }\n}\n</code></pre>\n<p>And then, each time use <code>player.openInventory(Inventories.createCopperInventory(player))</code>.</p>\n"}],"owner":{"account_id":25477830,"reputation":27,"user_id":19274744,"display_name":"Acid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76366099,"answer_count":1,"score":1,"last_activity_date":1685537111,"creation_date":1685457812,"question_id":76366017,"body_markdown":"By just writing the code in one class and the write:\r\n\r\n```\r\ncase &quot;example&quot;:\r\n     player.openInventory(exampleInv);\r\n     break;\r\n   \r\n```\r\n\r\nBut because I like my things organized and well sorted I wrote the Inventory inside another class as the Inventory Click Event.\r\n\r\nHere is the class with the `InvClickEvent`:\r\n\r\n```\r\npackage de.t0x1ccr34t0r.charactertrails.listeners;\r\n\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.inventory.InventoryClickEvent;\r\n\r\npublic class InventoryListener implements Listener{\r\n\r\n    @EventHandler\r\n    public void onInvClick(InventoryClickEvent event) {\r\n        if(event.getCurrentItem() == null) return;\r\n        if(event.getView().getTitle() == &quot;&#167;5Trails:&quot;){\r\n            Player player = (Player) event.getWhoClicked();\r\n            event.setCancelled(true);\r\n            if(event.getCurrentItem().getItemMeta().hasLocalizedName()) {\r\n                switch (event.getCurrentItem().getItemMeta().getLocalizedName()) {\r\n                    case &quot;Close&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Copper&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Iron&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Gold&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Diamond&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                    case &quot;Emerald&quot;:\r\n                        player.closeInventory();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nit all says `player.closeinventory()` because the `player.openInventory()` doesn&#39;t work yet and with that I need help. I made several classes like the `copper_Inventory` which I show you here:\r\n\r\n```\r\npackage de.t0x1ccr34t0r.charactertrails.inventories;\r\n\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.inventory.Inventory;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.meta.ItemMeta;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Copper_Inventory implements CommandExecutor {\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender1, Command cmd1, String s1, String[] strings1) {\r\n        if(!(sender1 instanceof Player)) return false;\r\n        Player player1 = (Player) sender1;\r\n\r\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;&#167;5Copper Trails:&quot;);\r\n\r\n        ItemStack ia = new ItemStack(Material.BARRIER);\r\n        ItemMeta ma = ia.getItemMeta();\r\n        ma.setLocalizedName(&quot;Close&quot;);\r\n        ma.setDisplayName(&quot;&#167;cClose&quot;);\r\n        ia.setItemMeta(ma);\r\n        copperInventory.setItem(31 , ia);\r\n\r\n        ItemStack ib = new ItemStack(Material.ARROW);\r\n        ItemMeta mb = ib.getItemMeta();\r\n        mb.setLocalizedName(&quot;Back&quot;);\r\n        mb.setDisplayName(&quot;&#167;7Back&quot;);\r\n        ib.setItemMeta(mb);\r\n        copperInventory.setItem(27 , ib);\r\n\r\n        player1.openInventory(copperInventory);\r\n\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nSo that code actually works. But only with an command in-game. \r\nIn the end, I want something like this:\r\n\r\n```\r\ncase &quot;copper&quot;:\r\n     player.openInventory(copperInventory);\r\n     break;\r\n   \r\n```\r\n\r\nBut this obviously doesn&#39;t work of course, because the program cant find &quot;copperInventory&quot;.\r\n\r\nI use the word copper in case &quot;copper&quot;: from another class which looks like this and this already works:\r\n\r\n```\r\npackage de.t0x1ccr34t0r.charactertrails.inventories;\r\n\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.inventory.Inventory;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.meta.ItemMeta;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Main_Inventory implements CommandExecutor {\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        if(!(sender instanceof Player)) return false;\r\n        Player player = (Player) sender;\r\n\r\n        Inventory mainInventory = Bukkit.createInventory(null , 3 * 9 , &quot;&#167;5Trails:&quot;);\r\n\r\n        ItemStack i1 = new ItemStack(Material.COPPER_INGOT);\r\n        ItemMeta m1 = i1.getItemMeta();\r\n        m1.setLocalizedName(&quot;Copper&quot;);\r\n        m1.setDisplayName(ChatColor.WHITE + &quot;example&quot;);\r\n        i1.setItemMeta(m1);\r\n        mainInventory.setItem(11 , i1);\r\n\r\n        player.openInventory(mainInventory);\r\n\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nSo my question is now: How do I do define the variable &quot;copperInventory&quot; from public class Copper_Inventory inside the &quot;case &quot;copper&quot;: in public class InventoryListener.\r\n\r\nAlso, I don&#39;t know if that is important, you may see these classes are not in the same package. I made multiple subpackages to keep everything smooth.\r\n\r\nSo in the end, my code should look like this:\r\n\r\n```\r\ncase &quot;copper&quot;:\r\n     player.openInventory(copperInventory);\r\n     break;\r\n```\r\n\r\nBut I just don&#39;t know how to do this whilst having the variables inside other classes. \r\n\r\nCould you help me with that?","title":"How to open an Inventory with an Item inside an Inventory","body":"<p>By just writing the code in one class and the write:</p>\n<pre><code>case &quot;example&quot;:\n     player.openInventory(exampleInv);\n     break;\n   \n</code></pre>\n<p>But because I like my things organized and well sorted I wrote the Inventory inside another class as the Inventory Click Event.</p>\n<p>Here is the class with the <code>InvClickEvent</code>:</p>\n<pre><code>package de.t0x1ccr34t0r.charactertrails.listeners;\n\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.inventory.InventoryClickEvent;\n\npublic class InventoryListener implements Listener{\n\n    @EventHandler\n    public void onInvClick(InventoryClickEvent event) {\n        if(event.getCurrentItem() == null) return;\n        if(event.getView().getTitle() == &quot;§5Trails:&quot;){\n            Player player = (Player) event.getWhoClicked();\n            event.setCancelled(true);\n            if(event.getCurrentItem().getItemMeta().hasLocalizedName()) {\n                switch (event.getCurrentItem().getItemMeta().getLocalizedName()) {\n                    case &quot;Close&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Copper&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Iron&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Gold&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Diamond&quot;:\n                        player.closeInventory();\n                        break;\n                    case &quot;Emerald&quot;:\n                        player.closeInventory();\n                        break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>it all says <code>player.closeinventory()</code> because the <code>player.openInventory()</code> doesn't work yet and with that I need help. I made several classes like the <code>copper_Inventory</code> which I show you here:</p>\n<pre><code>package de.t0x1ccr34t0r.charactertrails.inventories;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.Material;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.inventory.Inventory;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.ItemMeta;\n\nimport java.util.ArrayList;\n\npublic class Copper_Inventory implements CommandExecutor {\n\n    @Override\n    public boolean onCommand(CommandSender sender1, Command cmd1, String s1, String[] strings1) {\n        if(!(sender1 instanceof Player)) return false;\n        Player player1 = (Player) sender1;\n\n        Inventory copperInventory = Bukkit.createInventory(null , 4 * 9 , &quot;§5Copper Trails:&quot;);\n\n        ItemStack ia = new ItemStack(Material.BARRIER);\n        ItemMeta ma = ia.getItemMeta();\n        ma.setLocalizedName(&quot;Close&quot;);\n        ma.setDisplayName(&quot;§cClose&quot;);\n        ia.setItemMeta(ma);\n        copperInventory.setItem(31 , ia);\n\n        ItemStack ib = new ItemStack(Material.ARROW);\n        ItemMeta mb = ib.getItemMeta();\n        mb.setLocalizedName(&quot;Back&quot;);\n        mb.setDisplayName(&quot;§7Back&quot;);\n        ib.setItemMeta(mb);\n        copperInventory.setItem(27 , ib);\n\n        player1.openInventory(copperInventory);\n\n        return false;\n    }\n}\n</code></pre>\n<p>So that code actually works. But only with an command in-game.\nIn the end, I want something like this:</p>\n<pre><code>case &quot;copper&quot;:\n     player.openInventory(copperInventory);\n     break;\n   \n</code></pre>\n<p>But this obviously doesn't work of course, because the program cant find &quot;copperInventory&quot;.</p>\n<p>I use the word copper in case &quot;copper&quot;: from another class which looks like this and this already works:</p>\n<pre><code>package de.t0x1ccr34t0r.charactertrails.inventories;\n\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.Material;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.Player;\nimport org.bukkit.inventory.Inventory;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.ItemMeta;\n\nimport java.util.ArrayList;\n\npublic class Main_Inventory implements CommandExecutor {\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        if(!(sender instanceof Player)) return false;\n        Player player = (Player) sender;\n\n        Inventory mainInventory = Bukkit.createInventory(null , 3 * 9 , &quot;§5Trails:&quot;);\n\n        ItemStack i1 = new ItemStack(Material.COPPER_INGOT);\n        ItemMeta m1 = i1.getItemMeta();\n        m1.setLocalizedName(&quot;Copper&quot;);\n        m1.setDisplayName(ChatColor.WHITE + &quot;example&quot;);\n        i1.setItemMeta(m1);\n        mainInventory.setItem(11 , i1);\n\n        player.openInventory(mainInventory);\n\n        return false;\n    }\n}\n</code></pre>\n<p>So my question is now: How do I do define the variable &quot;copperInventory&quot; from public class Copper_Inventory inside the &quot;case &quot;copper&quot;: in public class InventoryListener.</p>\n<p>Also, I don't know if that is important, you may see these classes are not in the same package. I made multiple subpackages to keep everything smooth.</p>\n<p>So in the end, my code should look like this:</p>\n<pre><code>case &quot;copper&quot;:\n     player.openInventory(copperInventory);\n     break;\n</code></pre>\n<p>But I just don't know how to do this whilst having the variables inside other classes.</p>\n<p>Could you help me with that?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1345966,"reputation":34645,"user_id":1286723,"accept_rate":60,"display_name":"Shankar Agarwal"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1338103991,"creation_date":1338103689,"answer_id":10772354,"question_id":10772329,"body_markdown":"Copied from [Here][1]\r\n\r\n     /**\r\n         * network iso code: referred and listed at:\r\n         * http://en.wikipedia.org/wiki/List_of_mobile_country_codes\r\n         */\r\n          TelephonyManager manager = (TelephonyManager) getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);\r\n        String DEVICE_COUNTRY = manager.getNetworkCountryIso();\r\n\r\nUpdate:: Copied from [here][2]\r\n\r\n    String locale = getApplicationCOntext().getResources().getConfiguration().locale.getCountry();\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5402253/getting-telephone-country-code-with-android\r\n  [2]: https://stackoverflow.com/questions/3659809/where-am-i-get-country","title":"how to get country phone prefix from iso","body":"<p>Copied from <a href=\"https://stackoverflow.com/questions/5402253/getting-telephone-country-code-with-android\">Here</a></p>\n\n<pre><code> /**\n     * network iso code: referred and listed at:\n     * http://en.wikipedia.org/wiki/List_of_mobile_country_codes\n     */\n      TelephonyManager manager = (TelephonyManager) getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);\n    String DEVICE_COUNTRY = manager.getNetworkCountryIso();\n</code></pre>\n\n<p>Update:: Copied from <a href=\"https://stackoverflow.com/questions/3659809/where-am-i-get-country\">here</a></p>\n\n<pre><code>String locale = getApplicationCOntext().getResources().getConfiguration().locale.getCountry();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"score":1,"creation_date":1408729121,"post_id":10776064,"comment_id":39714852,"body_markdown":"Could do with a bit of work - lots of repeated empty entries for &quot;AQ&quot;, &quot;AU&quot; is set and then unset...","body":"Could do with a bit of work - lots of repeated empty entries for &quot;AQ&quot;, &quot;AU&quot; is set and then unset..."},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1408827276,"post_id":10776064,"comment_id":39740538,"body_markdown":"@Abhi - I wrote it myself.","body":"@Abhi - I wrote it myself."},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1408827302,"post_id":10776064,"comment_id":39740545,"body_markdown":"@DuncanMcGregor - Thanks, I think I fixed those entries now.","body":"@DuncanMcGregor - Thanks, I think I fixed those entries now."},{"owner":{"account_id":3816702,"reputation":1988,"user_id":3165903,"accept_rate":56,"display_name":"Kamil Witkowski"},"score":0,"creation_date":1469190105,"post_id":10776064,"comment_id":64446833,"body_markdown":"better change this line:\n   `country2phone.put(&quot;&quot;, &quot;+357&quot;);`","body":"better change this line:    <code>country2phone.put(&quot;&quot;, &quot;+357&quot;);</code>"},{"owner":{"account_id":6657973,"reputation":2635,"user_id":5137879,"accept_rate":20,"display_name":"SpaceBison"},"score":2,"creation_date":1515065197,"post_id":10776064,"comment_id":83162921,"body_markdown":"Is this line all right? `country2phone.put(&quot;DO&quot;, &quot;+1-809and1-829&quot;);` There are a couple other similar ones that might need fixing, too.","body":"Is this line all right? <code>country2phone.put(&quot;DO&quot;, &quot;+1-809and1-829&quot;);</code> There are a couple other similar ones that might need fixing, too."}],"tags":[],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":5,"down_vote_count":2,"up_vote_count":43,"is_accepted":true,"score":41,"last_activity_date":1408827238,"creation_date":1338141361,"answer_id":10776064,"question_id":10772329,"body_markdown":"I found a place where I can get the mapping in csv file. [check here.][1]  \r\n\r\nAlso, I changed it into a class that translate the country code into phone prefix. here it is:  \r\n\r\n        \r\n    public class Iso2Phone {\r\n    public static String getPhone(String code) {\r\n    \treturn country2phone.get(code.toUpperCase());\r\n    }\r\n    public static Map&lt;String, String&gt; getAll(){\r\n    \treturn country2phone;\r\n    }\r\n    private static Map&lt;String, String&gt; country2phone = new HashMap&lt;String, String&gt;();\r\n    static {\r\n    \tcountry2phone.put(&quot;AF&quot;, &quot;+93&quot;);\r\n    \tcountry2phone.put(&quot;AL&quot;, &quot;+355&quot;);\r\n    \tcountry2phone.put(&quot;DZ&quot;, &quot;+213&quot;);\r\n    \tcountry2phone.put(&quot;AD&quot;, &quot;+376&quot;);\r\n    \tcountry2phone.put(&quot;AO&quot;, &quot;+244&quot;);\r\n    \tcountry2phone.put(&quot;AG&quot;, &quot;+1-268&quot;);\r\n    \tcountry2phone.put(&quot;AR&quot;, &quot;+54&quot;);\r\n    \tcountry2phone.put(&quot;AM&quot;, &quot;+374&quot;);\r\n    \tcountry2phone.put(&quot;AU&quot;, &quot;+61&quot;);\r\n    \tcountry2phone.put(&quot;AT&quot;, &quot;+43&quot;);\r\n    \tcountry2phone.put(&quot;AZ&quot;, &quot;+994&quot;);\r\n    \tcountry2phone.put(&quot;BS&quot;, &quot;+1-242&quot;);\r\n    \tcountry2phone.put(&quot;BH&quot;, &quot;+973&quot;);\r\n    \tcountry2phone.put(&quot;BD&quot;, &quot;+880&quot;);\r\n    \tcountry2phone.put(&quot;BB&quot;, &quot;+1-246&quot;);\r\n    \tcountry2phone.put(&quot;BY&quot;, &quot;+375&quot;);\r\n    \tcountry2phone.put(&quot;BE&quot;, &quot;+32&quot;);\r\n    \tcountry2phone.put(&quot;BZ&quot;, &quot;+501&quot;);\r\n    \tcountry2phone.put(&quot;BJ&quot;, &quot;+229&quot;);\r\n    \tcountry2phone.put(&quot;BT&quot;, &quot;+975&quot;);\r\n    \tcountry2phone.put(&quot;BO&quot;, &quot;+591&quot;);\r\n    \tcountry2phone.put(&quot;BA&quot;, &quot;+387&quot;);\r\n    \tcountry2phone.put(&quot;BW&quot;, &quot;+267&quot;);\r\n    \tcountry2phone.put(&quot;BR&quot;, &quot;+55&quot;);\r\n    \tcountry2phone.put(&quot;BN&quot;, &quot;+673&quot;);\r\n    \tcountry2phone.put(&quot;BG&quot;, &quot;+359&quot;);\r\n    \tcountry2phone.put(&quot;BF&quot;, &quot;+226&quot;);\r\n    \tcountry2phone.put(&quot;BI&quot;, &quot;+257&quot;);\r\n    \tcountry2phone.put(&quot;KH&quot;, &quot;+855&quot;);\r\n    \tcountry2phone.put(&quot;CM&quot;, &quot;+237&quot;);\r\n    \tcountry2phone.put(&quot;CA&quot;, &quot;+1&quot;);\r\n    \tcountry2phone.put(&quot;CV&quot;, &quot;+238&quot;);\r\n    \tcountry2phone.put(&quot;CF&quot;, &quot;+236&quot;);\r\n    \tcountry2phone.put(&quot;TD&quot;, &quot;+235&quot;);\r\n    \tcountry2phone.put(&quot;CL&quot;, &quot;+56&quot;);\r\n    \tcountry2phone.put(&quot;CN&quot;, &quot;+86&quot;);\r\n    \tcountry2phone.put(&quot;CO&quot;, &quot;+57&quot;);\r\n    \tcountry2phone.put(&quot;KM&quot;, &quot;+269&quot;);\r\n    \tcountry2phone.put(&quot;CD&quot;, &quot;+243&quot;);\r\n    \tcountry2phone.put(&quot;CG&quot;, &quot;+242&quot;);\r\n    \tcountry2phone.put(&quot;CR&quot;, &quot;+506&quot;);\r\n    \tcountry2phone.put(&quot;CI&quot;, &quot;+225&quot;);\r\n    \tcountry2phone.put(&quot;HR&quot;, &quot;+385&quot;);\r\n    \tcountry2phone.put(&quot;CU&quot;, &quot;+53&quot;);\r\n    \tcountry2phone.put(&quot;CY&quot;, &quot;+357&quot;);\r\n    \tcountry2phone.put(&quot;CZ&quot;, &quot;+420&quot;);\r\n    \tcountry2phone.put(&quot;DK&quot;, &quot;+45&quot;);\r\n    \tcountry2phone.put(&quot;DJ&quot;, &quot;+253&quot;);\r\n    \tcountry2phone.put(&quot;DM&quot;, &quot;+1-767&quot;);\r\n    \tcountry2phone.put(&quot;DO&quot;, &quot;+1-809and1-829&quot;);\r\n    \tcountry2phone.put(&quot;EC&quot;, &quot;+593&quot;);\r\n    \tcountry2phone.put(&quot;EG&quot;, &quot;+20&quot;);\r\n    \tcountry2phone.put(&quot;SV&quot;, &quot;+503&quot;);\r\n    \tcountry2phone.put(&quot;GQ&quot;, &quot;+240&quot;);\r\n    \tcountry2phone.put(&quot;ER&quot;, &quot;+291&quot;);\r\n    \tcountry2phone.put(&quot;EE&quot;, &quot;+372&quot;);\r\n    \tcountry2phone.put(&quot;ET&quot;, &quot;+251&quot;);\r\n    \tcountry2phone.put(&quot;FJ&quot;, &quot;+679&quot;);\r\n    \tcountry2phone.put(&quot;FI&quot;, &quot;+358&quot;);\r\n    \tcountry2phone.put(&quot;FR&quot;, &quot;+33&quot;);\r\n    \tcountry2phone.put(&quot;GA&quot;, &quot;+241&quot;);\r\n    \tcountry2phone.put(&quot;GM&quot;, &quot;+220&quot;);\r\n    \tcountry2phone.put(&quot;GE&quot;, &quot;+995&quot;);\r\n    \tcountry2phone.put(&quot;DE&quot;, &quot;+49&quot;);\r\n    \tcountry2phone.put(&quot;GH&quot;, &quot;+233&quot;);\r\n    \tcountry2phone.put(&quot;GR&quot;, &quot;+30&quot;);\r\n    \tcountry2phone.put(&quot;GD&quot;, &quot;+1-473&quot;);\r\n    \tcountry2phone.put(&quot;GT&quot;, &quot;+502&quot;);\r\n    \tcountry2phone.put(&quot;GN&quot;, &quot;+224&quot;);\r\n    \tcountry2phone.put(&quot;GW&quot;, &quot;+245&quot;);\r\n    \tcountry2phone.put(&quot;GY&quot;, &quot;+592&quot;);\r\n    \tcountry2phone.put(&quot;HT&quot;, &quot;+509&quot;);\r\n    \tcountry2phone.put(&quot;HN&quot;, &quot;+504&quot;);\r\n    \tcountry2phone.put(&quot;HU&quot;, &quot;+36&quot;);\r\n    \tcountry2phone.put(&quot;IS&quot;, &quot;+354&quot;);\r\n    \tcountry2phone.put(&quot;IN&quot;, &quot;+91&quot;);\r\n    \tcountry2phone.put(&quot;ID&quot;, &quot;+62&quot;);\r\n    \tcountry2phone.put(&quot;IR&quot;, &quot;+98&quot;);\r\n    \tcountry2phone.put(&quot;IQ&quot;, &quot;+964&quot;);\r\n    \tcountry2phone.put(&quot;IE&quot;, &quot;+353&quot;);\r\n    \tcountry2phone.put(&quot;IL&quot;, &quot;+972&quot;);\r\n    \tcountry2phone.put(&quot;IT&quot;, &quot;+39&quot;);\r\n    \tcountry2phone.put(&quot;JM&quot;, &quot;+1-876&quot;);\r\n    \tcountry2phone.put(&quot;JP&quot;, &quot;+81&quot;);\r\n    \tcountry2phone.put(&quot;JO&quot;, &quot;+962&quot;);\r\n    \tcountry2phone.put(&quot;KZ&quot;, &quot;+7&quot;);\r\n    \tcountry2phone.put(&quot;KE&quot;, &quot;+254&quot;);\r\n    \tcountry2phone.put(&quot;KI&quot;, &quot;+686&quot;);\r\n    \tcountry2phone.put(&quot;KP&quot;, &quot;+850&quot;);\r\n    \tcountry2phone.put(&quot;KR&quot;, &quot;+82&quot;);\r\n    \tcountry2phone.put(&quot;KW&quot;, &quot;+965&quot;);\r\n    \tcountry2phone.put(&quot;KG&quot;, &quot;+996&quot;);\r\n    \tcountry2phone.put(&quot;LA&quot;, &quot;+856&quot;);\r\n    \tcountry2phone.put(&quot;LV&quot;, &quot;+371&quot;);\r\n    \tcountry2phone.put(&quot;LB&quot;, &quot;+961&quot;);\r\n    \tcountry2phone.put(&quot;LS&quot;, &quot;+266&quot;);\r\n    \tcountry2phone.put(&quot;LR&quot;, &quot;+231&quot;);\r\n    \tcountry2phone.put(&quot;LY&quot;, &quot;+218&quot;);\r\n    \tcountry2phone.put(&quot;LI&quot;, &quot;+423&quot;);\r\n    \tcountry2phone.put(&quot;LT&quot;, &quot;+370&quot;);\r\n    \tcountry2phone.put(&quot;LU&quot;, &quot;+352&quot;);\r\n    \tcountry2phone.put(&quot;MK&quot;, &quot;+389&quot;);\r\n    \tcountry2phone.put(&quot;MG&quot;, &quot;+261&quot;);\r\n    \tcountry2phone.put(&quot;MW&quot;, &quot;+265&quot;);\r\n    \tcountry2phone.put(&quot;MY&quot;, &quot;+60&quot;);\r\n    \tcountry2phone.put(&quot;MV&quot;, &quot;+960&quot;);\r\n    \tcountry2phone.put(&quot;ML&quot;, &quot;+223&quot;);\r\n    \tcountry2phone.put(&quot;MT&quot;, &quot;+356&quot;);\r\n    \tcountry2phone.put(&quot;MH&quot;, &quot;+692&quot;);\r\n    \tcountry2phone.put(&quot;MR&quot;, &quot;+222&quot;);\r\n    \tcountry2phone.put(&quot;MU&quot;, &quot;+230&quot;);\r\n    \tcountry2phone.put(&quot;MX&quot;, &quot;+52&quot;);\r\n    \tcountry2phone.put(&quot;FM&quot;, &quot;+691&quot;);\r\n    \tcountry2phone.put(&quot;MD&quot;, &quot;+373&quot;);\r\n    \tcountry2phone.put(&quot;MC&quot;, &quot;+377&quot;);\r\n    \tcountry2phone.put(&quot;MN&quot;, &quot;+976&quot;);\r\n    \tcountry2phone.put(&quot;ME&quot;, &quot;+382&quot;);\r\n    \tcountry2phone.put(&quot;MA&quot;, &quot;+212&quot;);\r\n    \tcountry2phone.put(&quot;MZ&quot;, &quot;+258&quot;);\r\n    \tcountry2phone.put(&quot;MM&quot;, &quot;+95&quot;);\r\n    \tcountry2phone.put(&quot;NA&quot;, &quot;+264&quot;);\r\n    \tcountry2phone.put(&quot;NR&quot;, &quot;+674&quot;);\r\n    \tcountry2phone.put(&quot;NP&quot;, &quot;+977&quot;);\r\n    \tcountry2phone.put(&quot;NL&quot;, &quot;+31&quot;);\r\n    \tcountry2phone.put(&quot;NZ&quot;, &quot;+64&quot;);\r\n    \tcountry2phone.put(&quot;NI&quot;, &quot;+505&quot;);\r\n    \tcountry2phone.put(&quot;NE&quot;, &quot;+227&quot;);\r\n    \tcountry2phone.put(&quot;NG&quot;, &quot;+234&quot;);\r\n    \tcountry2phone.put(&quot;NO&quot;, &quot;+47&quot;);\r\n    \tcountry2phone.put(&quot;OM&quot;, &quot;+968&quot;);\r\n    \tcountry2phone.put(&quot;PK&quot;, &quot;+92&quot;);\r\n    \tcountry2phone.put(&quot;PW&quot;, &quot;+680&quot;);\r\n    \tcountry2phone.put(&quot;PA&quot;, &quot;+507&quot;);\r\n    \tcountry2phone.put(&quot;PG&quot;, &quot;+675&quot;);\r\n    \tcountry2phone.put(&quot;PY&quot;, &quot;+595&quot;);\r\n    \tcountry2phone.put(&quot;PE&quot;, &quot;+51&quot;);\r\n    \tcountry2phone.put(&quot;PH&quot;, &quot;+63&quot;);\r\n    \tcountry2phone.put(&quot;PL&quot;, &quot;+48&quot;);\r\n    \tcountry2phone.put(&quot;PT&quot;, &quot;+351&quot;);\r\n    \tcountry2phone.put(&quot;QA&quot;, &quot;+974&quot;);\r\n    \tcountry2phone.put(&quot;RO&quot;, &quot;+40&quot;);\r\n    \tcountry2phone.put(&quot;RU&quot;, &quot;+7&quot;);\r\n    \tcountry2phone.put(&quot;RW&quot;, &quot;+250&quot;);\r\n    \tcountry2phone.put(&quot;KN&quot;, &quot;+1-869&quot;);\r\n    \tcountry2phone.put(&quot;LC&quot;, &quot;+1-758&quot;);\r\n    \tcountry2phone.put(&quot;VC&quot;, &quot;+1-784&quot;);\r\n    \tcountry2phone.put(&quot;WS&quot;, &quot;+685&quot;);\r\n    \tcountry2phone.put(&quot;SM&quot;, &quot;+378&quot;);\r\n    \tcountry2phone.put(&quot;ST&quot;, &quot;+239&quot;);\r\n    \tcountry2phone.put(&quot;SA&quot;, &quot;+966&quot;);\r\n    \tcountry2phone.put(&quot;SN&quot;, &quot;+221&quot;);\r\n    \tcountry2phone.put(&quot;RS&quot;, &quot;+381&quot;);\r\n    \tcountry2phone.put(&quot;SC&quot;, &quot;+248&quot;);\r\n    \tcountry2phone.put(&quot;SL&quot;, &quot;+232&quot;);\r\n    \tcountry2phone.put(&quot;SG&quot;, &quot;+65&quot;);\r\n    \tcountry2phone.put(&quot;SK&quot;, &quot;+421&quot;);\r\n    \tcountry2phone.put(&quot;SI&quot;, &quot;+386&quot;);\r\n    \tcountry2phone.put(&quot;SB&quot;, &quot;+677&quot;);\r\n    \tcountry2phone.put(&quot;SO&quot;, &quot;+252&quot;);\r\n    \tcountry2phone.put(&quot;ZA&quot;, &quot;+27&quot;);\r\n    \tcountry2phone.put(&quot;ES&quot;, &quot;+34&quot;);\r\n    \tcountry2phone.put(&quot;LK&quot;, &quot;+94&quot;);\r\n    \tcountry2phone.put(&quot;SD&quot;, &quot;+249&quot;);\r\n    \tcountry2phone.put(&quot;SR&quot;, &quot;+597&quot;);\r\n    \tcountry2phone.put(&quot;SZ&quot;, &quot;+268&quot;);\r\n    \tcountry2phone.put(&quot;SE&quot;, &quot;+46&quot;);\r\n    \tcountry2phone.put(&quot;CH&quot;, &quot;+41&quot;);\r\n    \tcountry2phone.put(&quot;SY&quot;, &quot;+963&quot;);\r\n    \tcountry2phone.put(&quot;TJ&quot;, &quot;+992&quot;);\r\n    \tcountry2phone.put(&quot;TZ&quot;, &quot;+255&quot;);\r\n    \tcountry2phone.put(&quot;TH&quot;, &quot;+66&quot;);\r\n    \tcountry2phone.put(&quot;TL&quot;, &quot;+670&quot;);\r\n    \tcountry2phone.put(&quot;TG&quot;, &quot;+228&quot;);\r\n    \tcountry2phone.put(&quot;TO&quot;, &quot;+676&quot;);\r\n    \tcountry2phone.put(&quot;TT&quot;, &quot;+1-868&quot;);\r\n    \tcountry2phone.put(&quot;TN&quot;, &quot;+216&quot;);\r\n    \tcountry2phone.put(&quot;TR&quot;, &quot;+90&quot;);\r\n    \tcountry2phone.put(&quot;TM&quot;, &quot;+993&quot;);\r\n    \tcountry2phone.put(&quot;TV&quot;, &quot;+688&quot;);\r\n    \tcountry2phone.put(&quot;UG&quot;, &quot;+256&quot;);\r\n    \tcountry2phone.put(&quot;UA&quot;, &quot;+380&quot;);\r\n    \tcountry2phone.put(&quot;AE&quot;, &quot;+971&quot;);\r\n    \tcountry2phone.put(&quot;GB&quot;, &quot;+44&quot;);\r\n    \tcountry2phone.put(&quot;US&quot;, &quot;+1&quot;);\r\n    \tcountry2phone.put(&quot;UY&quot;, &quot;+598&quot;);\r\n    \tcountry2phone.put(&quot;UZ&quot;, &quot;+998&quot;);\r\n    \tcountry2phone.put(&quot;VU&quot;, &quot;+678&quot;);\r\n    \tcountry2phone.put(&quot;VA&quot;, &quot;+379&quot;);\r\n    \tcountry2phone.put(&quot;VE&quot;, &quot;+58&quot;);\r\n    \tcountry2phone.put(&quot;VN&quot;, &quot;+84&quot;);\r\n    \tcountry2phone.put(&quot;YE&quot;, &quot;+967&quot;);\r\n    \tcountry2phone.put(&quot;ZM&quot;, &quot;+260&quot;);\r\n    \tcountry2phone.put(&quot;ZW&quot;, &quot;+263&quot;);\r\n    \tcountry2phone.put(&quot;GE&quot;, &quot;+995&quot;);\r\n    \tcountry2phone.put(&quot;TW&quot;, &quot;+886&quot;);\r\n    \tcountry2phone.put(&quot;AZ&quot;, &quot;+374-97&quot;);\r\n    \tcountry2phone.put(&quot;CY&quot;, &quot;+90-392&quot;);\r\n    \tcountry2phone.put(&quot;MD&quot;, &quot;+373-533&quot;);\r\n    \tcountry2phone.put(&quot;SO&quot;, &quot;+252&quot;);\r\n    \tcountry2phone.put(&quot;GE&quot;, &quot;+995&quot;);\r\n    \tcountry2phone.put(&quot;CX&quot;, &quot;+61&quot;);\r\n    \tcountry2phone.put(&quot;CC&quot;, &quot;+61&quot;);\r\n    \tcountry2phone.put(&quot;NF&quot;, &quot;+672&quot;);\r\n    \tcountry2phone.put(&quot;NC&quot;, &quot;+687&quot;);\r\n    \tcountry2phone.put(&quot;PF&quot;, &quot;+689&quot;);\r\n    \tcountry2phone.put(&quot;YT&quot;, &quot;+262&quot;);\r\n    \tcountry2phone.put(&quot;GP&quot;, &quot;+590&quot;);\r\n    \tcountry2phone.put(&quot;GP&quot;, &quot;+590&quot;);\r\n    \tcountry2phone.put(&quot;PM&quot;, &quot;+508&quot;);\r\n    \tcountry2phone.put(&quot;WF&quot;, &quot;+681&quot;);\r\n    \tcountry2phone.put(&quot;CK&quot;, &quot;+682&quot;);\r\n    \tcountry2phone.put(&quot;NU&quot;, &quot;+683&quot;);\r\n    \tcountry2phone.put(&quot;TK&quot;, &quot;+690&quot;);\r\n    \tcountry2phone.put(&quot;GG&quot;, &quot;+44&quot;);\r\n    \tcountry2phone.put(&quot;IM&quot;, &quot;+44&quot;);\r\n    \tcountry2phone.put(&quot;JE&quot;, &quot;+44&quot;);\r\n    \tcountry2phone.put(&quot;AI&quot;, &quot;+1-264&quot;);\r\n    \tcountry2phone.put(&quot;BM&quot;, &quot;+1-441&quot;);\r\n    \tcountry2phone.put(&quot;IO&quot;, &quot;+246&quot;);\r\n    \tcountry2phone.put(&quot;&quot;, &quot;+357&quot;);\r\n    \tcountry2phone.put(&quot;VG&quot;, &quot;+1-284&quot;);\r\n    \tcountry2phone.put(&quot;KY&quot;, &quot;+1-345&quot;);\r\n    \tcountry2phone.put(&quot;FK&quot;, &quot;+500&quot;);\r\n    \tcountry2phone.put(&quot;GI&quot;, &quot;+350&quot;);\r\n    \tcountry2phone.put(&quot;MS&quot;, &quot;+1-664&quot;);\r\n    \tcountry2phone.put(&quot;SH&quot;, &quot;+290&quot;);\r\n    \tcountry2phone.put(&quot;TC&quot;, &quot;+1-649&quot;);\r\n    \tcountry2phone.put(&quot;MP&quot;, &quot;+1-670&quot;);\r\n    \tcountry2phone.put(&quot;PR&quot;, &quot;+1-787and1-939&quot;);\r\n    \tcountry2phone.put(&quot;AS&quot;, &quot;+1-684&quot;);\r\n    \tcountry2phone.put(&quot;GU&quot;, &quot;+1-671&quot;);\r\n    \tcountry2phone.put(&quot;VI&quot;, &quot;+1-340&quot;);\r\n    \tcountry2phone.put(&quot;HK&quot;, &quot;+852&quot;);\r\n    \tcountry2phone.put(&quot;MO&quot;, &quot;+853&quot;);\r\n    \tcountry2phone.put(&quot;FO&quot;, &quot;+298&quot;);\r\n    \tcountry2phone.put(&quot;GL&quot;, &quot;+299&quot;);\r\n    \tcountry2phone.put(&quot;GF&quot;, &quot;+594&quot;);\r\n    \tcountry2phone.put(&quot;GP&quot;, &quot;+590&quot;);\r\n    \tcountry2phone.put(&quot;MQ&quot;, &quot;+596&quot;);\r\n    \tcountry2phone.put(&quot;RE&quot;, &quot;+262&quot;);\r\n    \tcountry2phone.put(&quot;AX&quot;, &quot;+358-18&quot;);\r\n    \tcountry2phone.put(&quot;AW&quot;, &quot;+297&quot;);\r\n    \tcountry2phone.put(&quot;AN&quot;, &quot;+599&quot;);\r\n    \tcountry2phone.put(&quot;SJ&quot;, &quot;+47&quot;);\r\n    \tcountry2phone.put(&quot;AC&quot;, &quot;+247&quot;);\r\n    \tcountry2phone.put(&quot;TA&quot;, &quot;+290&quot;);\r\n    \tcountry2phone.put(&quot;CS&quot;, &quot;+381&quot;);\r\n    \tcountry2phone.put(&quot;PS&quot;, &quot;+970&quot;);\r\n    \tcountry2phone.put(&quot;EH&quot;, &quot;+212&quot;);\r\n    }\r\n    }\r\n\r\n  [1]: http://www.andrewpatton.com/countrylist.html\r\n","title":"how to get country phone prefix from iso","body":"<p>I found a place where I can get the mapping in csv file. <a href=\"http://www.andrewpatton.com/countrylist.html\" rel=\"noreferrer\">check here.</a>  </p>\n\n<p>Also, I changed it into a class that translate the country code into phone prefix. here it is:  </p>\n\n<pre><code>public class Iso2Phone {\npublic static String getPhone(String code) {\n    return country2phone.get(code.toUpperCase());\n}\npublic static Map&lt;String, String&gt; getAll(){\n    return country2phone;\n}\nprivate static Map&lt;String, String&gt; country2phone = new HashMap&lt;String, String&gt;();\nstatic {\n    country2phone.put(\"AF\", \"+93\");\n    country2phone.put(\"AL\", \"+355\");\n    country2phone.put(\"DZ\", \"+213\");\n    country2phone.put(\"AD\", \"+376\");\n    country2phone.put(\"AO\", \"+244\");\n    country2phone.put(\"AG\", \"+1-268\");\n    country2phone.put(\"AR\", \"+54\");\n    country2phone.put(\"AM\", \"+374\");\n    country2phone.put(\"AU\", \"+61\");\n    country2phone.put(\"AT\", \"+43\");\n    country2phone.put(\"AZ\", \"+994\");\n    country2phone.put(\"BS\", \"+1-242\");\n    country2phone.put(\"BH\", \"+973\");\n    country2phone.put(\"BD\", \"+880\");\n    country2phone.put(\"BB\", \"+1-246\");\n    country2phone.put(\"BY\", \"+375\");\n    country2phone.put(\"BE\", \"+32\");\n    country2phone.put(\"BZ\", \"+501\");\n    country2phone.put(\"BJ\", \"+229\");\n    country2phone.put(\"BT\", \"+975\");\n    country2phone.put(\"BO\", \"+591\");\n    country2phone.put(\"BA\", \"+387\");\n    country2phone.put(\"BW\", \"+267\");\n    country2phone.put(\"BR\", \"+55\");\n    country2phone.put(\"BN\", \"+673\");\n    country2phone.put(\"BG\", \"+359\");\n    country2phone.put(\"BF\", \"+226\");\n    country2phone.put(\"BI\", \"+257\");\n    country2phone.put(\"KH\", \"+855\");\n    country2phone.put(\"CM\", \"+237\");\n    country2phone.put(\"CA\", \"+1\");\n    country2phone.put(\"CV\", \"+238\");\n    country2phone.put(\"CF\", \"+236\");\n    country2phone.put(\"TD\", \"+235\");\n    country2phone.put(\"CL\", \"+56\");\n    country2phone.put(\"CN\", \"+86\");\n    country2phone.put(\"CO\", \"+57\");\n    country2phone.put(\"KM\", \"+269\");\n    country2phone.put(\"CD\", \"+243\");\n    country2phone.put(\"CG\", \"+242\");\n    country2phone.put(\"CR\", \"+506\");\n    country2phone.put(\"CI\", \"+225\");\n    country2phone.put(\"HR\", \"+385\");\n    country2phone.put(\"CU\", \"+53\");\n    country2phone.put(\"CY\", \"+357\");\n    country2phone.put(\"CZ\", \"+420\");\n    country2phone.put(\"DK\", \"+45\");\n    country2phone.put(\"DJ\", \"+253\");\n    country2phone.put(\"DM\", \"+1-767\");\n    country2phone.put(\"DO\", \"+1-809and1-829\");\n    country2phone.put(\"EC\", \"+593\");\n    country2phone.put(\"EG\", \"+20\");\n    country2phone.put(\"SV\", \"+503\");\n    country2phone.put(\"GQ\", \"+240\");\n    country2phone.put(\"ER\", \"+291\");\n    country2phone.put(\"EE\", \"+372\");\n    country2phone.put(\"ET\", \"+251\");\n    country2phone.put(\"FJ\", \"+679\");\n    country2phone.put(\"FI\", \"+358\");\n    country2phone.put(\"FR\", \"+33\");\n    country2phone.put(\"GA\", \"+241\");\n    country2phone.put(\"GM\", \"+220\");\n    country2phone.put(\"GE\", \"+995\");\n    country2phone.put(\"DE\", \"+49\");\n    country2phone.put(\"GH\", \"+233\");\n    country2phone.put(\"GR\", \"+30\");\n    country2phone.put(\"GD\", \"+1-473\");\n    country2phone.put(\"GT\", \"+502\");\n    country2phone.put(\"GN\", \"+224\");\n    country2phone.put(\"GW\", \"+245\");\n    country2phone.put(\"GY\", \"+592\");\n    country2phone.put(\"HT\", \"+509\");\n    country2phone.put(\"HN\", \"+504\");\n    country2phone.put(\"HU\", \"+36\");\n    country2phone.put(\"IS\", \"+354\");\n    country2phone.put(\"IN\", \"+91\");\n    country2phone.put(\"ID\", \"+62\");\n    country2phone.put(\"IR\", \"+98\");\n    country2phone.put(\"IQ\", \"+964\");\n    country2phone.put(\"IE\", \"+353\");\n    country2phone.put(\"IL\", \"+972\");\n    country2phone.put(\"IT\", \"+39\");\n    country2phone.put(\"JM\", \"+1-876\");\n    country2phone.put(\"JP\", \"+81\");\n    country2phone.put(\"JO\", \"+962\");\n    country2phone.put(\"KZ\", \"+7\");\n    country2phone.put(\"KE\", \"+254\");\n    country2phone.put(\"KI\", \"+686\");\n    country2phone.put(\"KP\", \"+850\");\n    country2phone.put(\"KR\", \"+82\");\n    country2phone.put(\"KW\", \"+965\");\n    country2phone.put(\"KG\", \"+996\");\n    country2phone.put(\"LA\", \"+856\");\n    country2phone.put(\"LV\", \"+371\");\n    country2phone.put(\"LB\", \"+961\");\n    country2phone.put(\"LS\", \"+266\");\n    country2phone.put(\"LR\", \"+231\");\n    country2phone.put(\"LY\", \"+218\");\n    country2phone.put(\"LI\", \"+423\");\n    country2phone.put(\"LT\", \"+370\");\n    country2phone.put(\"LU\", \"+352\");\n    country2phone.put(\"MK\", \"+389\");\n    country2phone.put(\"MG\", \"+261\");\n    country2phone.put(\"MW\", \"+265\");\n    country2phone.put(\"MY\", \"+60\");\n    country2phone.put(\"MV\", \"+960\");\n    country2phone.put(\"ML\", \"+223\");\n    country2phone.put(\"MT\", \"+356\");\n    country2phone.put(\"MH\", \"+692\");\n    country2phone.put(\"MR\", \"+222\");\n    country2phone.put(\"MU\", \"+230\");\n    country2phone.put(\"MX\", \"+52\");\n    country2phone.put(\"FM\", \"+691\");\n    country2phone.put(\"MD\", \"+373\");\n    country2phone.put(\"MC\", \"+377\");\n    country2phone.put(\"MN\", \"+976\");\n    country2phone.put(\"ME\", \"+382\");\n    country2phone.put(\"MA\", \"+212\");\n    country2phone.put(\"MZ\", \"+258\");\n    country2phone.put(\"MM\", \"+95\");\n    country2phone.put(\"NA\", \"+264\");\n    country2phone.put(\"NR\", \"+674\");\n    country2phone.put(\"NP\", \"+977\");\n    country2phone.put(\"NL\", \"+31\");\n    country2phone.put(\"NZ\", \"+64\");\n    country2phone.put(\"NI\", \"+505\");\n    country2phone.put(\"NE\", \"+227\");\n    country2phone.put(\"NG\", \"+234\");\n    country2phone.put(\"NO\", \"+47\");\n    country2phone.put(\"OM\", \"+968\");\n    country2phone.put(\"PK\", \"+92\");\n    country2phone.put(\"PW\", \"+680\");\n    country2phone.put(\"PA\", \"+507\");\n    country2phone.put(\"PG\", \"+675\");\n    country2phone.put(\"PY\", \"+595\");\n    country2phone.put(\"PE\", \"+51\");\n    country2phone.put(\"PH\", \"+63\");\n    country2phone.put(\"PL\", \"+48\");\n    country2phone.put(\"PT\", \"+351\");\n    country2phone.put(\"QA\", \"+974\");\n    country2phone.put(\"RO\", \"+40\");\n    country2phone.put(\"RU\", \"+7\");\n    country2phone.put(\"RW\", \"+250\");\n    country2phone.put(\"KN\", \"+1-869\");\n    country2phone.put(\"LC\", \"+1-758\");\n    country2phone.put(\"VC\", \"+1-784\");\n    country2phone.put(\"WS\", \"+685\");\n    country2phone.put(\"SM\", \"+378\");\n    country2phone.put(\"ST\", \"+239\");\n    country2phone.put(\"SA\", \"+966\");\n    country2phone.put(\"SN\", \"+221\");\n    country2phone.put(\"RS\", \"+381\");\n    country2phone.put(\"SC\", \"+248\");\n    country2phone.put(\"SL\", \"+232\");\n    country2phone.put(\"SG\", \"+65\");\n    country2phone.put(\"SK\", \"+421\");\n    country2phone.put(\"SI\", \"+386\");\n    country2phone.put(\"SB\", \"+677\");\n    country2phone.put(\"SO\", \"+252\");\n    country2phone.put(\"ZA\", \"+27\");\n    country2phone.put(\"ES\", \"+34\");\n    country2phone.put(\"LK\", \"+94\");\n    country2phone.put(\"SD\", \"+249\");\n    country2phone.put(\"SR\", \"+597\");\n    country2phone.put(\"SZ\", \"+268\");\n    country2phone.put(\"SE\", \"+46\");\n    country2phone.put(\"CH\", \"+41\");\n    country2phone.put(\"SY\", \"+963\");\n    country2phone.put(\"TJ\", \"+992\");\n    country2phone.put(\"TZ\", \"+255\");\n    country2phone.put(\"TH\", \"+66\");\n    country2phone.put(\"TL\", \"+670\");\n    country2phone.put(\"TG\", \"+228\");\n    country2phone.put(\"TO\", \"+676\");\n    country2phone.put(\"TT\", \"+1-868\");\n    country2phone.put(\"TN\", \"+216\");\n    country2phone.put(\"TR\", \"+90\");\n    country2phone.put(\"TM\", \"+993\");\n    country2phone.put(\"TV\", \"+688\");\n    country2phone.put(\"UG\", \"+256\");\n    country2phone.put(\"UA\", \"+380\");\n    country2phone.put(\"AE\", \"+971\");\n    country2phone.put(\"GB\", \"+44\");\n    country2phone.put(\"US\", \"+1\");\n    country2phone.put(\"UY\", \"+598\");\n    country2phone.put(\"UZ\", \"+998\");\n    country2phone.put(\"VU\", \"+678\");\n    country2phone.put(\"VA\", \"+379\");\n    country2phone.put(\"VE\", \"+58\");\n    country2phone.put(\"VN\", \"+84\");\n    country2phone.put(\"YE\", \"+967\");\n    country2phone.put(\"ZM\", \"+260\");\n    country2phone.put(\"ZW\", \"+263\");\n    country2phone.put(\"GE\", \"+995\");\n    country2phone.put(\"TW\", \"+886\");\n    country2phone.put(\"AZ\", \"+374-97\");\n    country2phone.put(\"CY\", \"+90-392\");\n    country2phone.put(\"MD\", \"+373-533\");\n    country2phone.put(\"SO\", \"+252\");\n    country2phone.put(\"GE\", \"+995\");\n    country2phone.put(\"CX\", \"+61\");\n    country2phone.put(\"CC\", \"+61\");\n    country2phone.put(\"NF\", \"+672\");\n    country2phone.put(\"NC\", \"+687\");\n    country2phone.put(\"PF\", \"+689\");\n    country2phone.put(\"YT\", \"+262\");\n    country2phone.put(\"GP\", \"+590\");\n    country2phone.put(\"GP\", \"+590\");\n    country2phone.put(\"PM\", \"+508\");\n    country2phone.put(\"WF\", \"+681\");\n    country2phone.put(\"CK\", \"+682\");\n    country2phone.put(\"NU\", \"+683\");\n    country2phone.put(\"TK\", \"+690\");\n    country2phone.put(\"GG\", \"+44\");\n    country2phone.put(\"IM\", \"+44\");\n    country2phone.put(\"JE\", \"+44\");\n    country2phone.put(\"AI\", \"+1-264\");\n    country2phone.put(\"BM\", \"+1-441\");\n    country2phone.put(\"IO\", \"+246\");\n    country2phone.put(\"\", \"+357\");\n    country2phone.put(\"VG\", \"+1-284\");\n    country2phone.put(\"KY\", \"+1-345\");\n    country2phone.put(\"FK\", \"+500\");\n    country2phone.put(\"GI\", \"+350\");\n    country2phone.put(\"MS\", \"+1-664\");\n    country2phone.put(\"SH\", \"+290\");\n    country2phone.put(\"TC\", \"+1-649\");\n    country2phone.put(\"MP\", \"+1-670\");\n    country2phone.put(\"PR\", \"+1-787and1-939\");\n    country2phone.put(\"AS\", \"+1-684\");\n    country2phone.put(\"GU\", \"+1-671\");\n    country2phone.put(\"VI\", \"+1-340\");\n    country2phone.put(\"HK\", \"+852\");\n    country2phone.put(\"MO\", \"+853\");\n    country2phone.put(\"FO\", \"+298\");\n    country2phone.put(\"GL\", \"+299\");\n    country2phone.put(\"GF\", \"+594\");\n    country2phone.put(\"GP\", \"+590\");\n    country2phone.put(\"MQ\", \"+596\");\n    country2phone.put(\"RE\", \"+262\");\n    country2phone.put(\"AX\", \"+358-18\");\n    country2phone.put(\"AW\", \"+297\");\n    country2phone.put(\"AN\", \"+599\");\n    country2phone.put(\"SJ\", \"+47\");\n    country2phone.put(\"AC\", \"+247\");\n    country2phone.put(\"TA\", \"+290\");\n    country2phone.put(\"CS\", \"+381\");\n    country2phone.put(\"PS\", \"+970\");\n    country2phone.put(\"EH\", \"+212\");\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":34570,"reputation":17845,"user_id":97777,"accept_rate":82,"display_name":"Duncan McGregor"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1408729788,"creation_date":1408729788,"answer_id":25452862,"question_id":10772329,"body_markdown":"Tidying up @oshai&#39;s answer\r\n\r\n    public class CountryToPhonePrefix {\r\n\r\n    private static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    public String prefixFor(String iso2CountryCode) {\r\n        String result = map.get(iso2CountryCode);\r\n        if (result == null) {\r\n            throw new IllegalArgumentException(&quot;Unknown country code &quot; + iso2CountryCode);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static {\r\n        map.put(&quot;AC&quot;, &quot;+247&quot;);\r\n        map.put(&quot;AD&quot;, &quot;+376&quot;);\r\n        map.put(&quot;AE&quot;, &quot;+971&quot;);\r\n        map.put(&quot;AF&quot;, &quot;+93&quot;);\r\n        map.put(&quot;AG&quot;, &quot;+1-268&quot;);\r\n        map.put(&quot;AI&quot;, &quot;+1-264&quot;);\r\n        map.put(&quot;AL&quot;, &quot;+355&quot;);\r\n        map.put(&quot;AM&quot;, &quot;+374&quot;);\r\n        map.put(&quot;AN&quot;, &quot;+599&quot;);\r\n        map.put(&quot;AO&quot;, &quot;+244&quot;);\r\n        map.put(&quot;AR&quot;, &quot;+54&quot;);\r\n        map.put(&quot;AS&quot;, &quot;+1-684&quot;);\r\n        map.put(&quot;AT&quot;, &quot;+43&quot;);\r\n        map.put(&quot;AU&quot;, &quot;+61&quot;);\r\n        map.put(&quot;AW&quot;, &quot;+297&quot;);\r\n        map.put(&quot;AX&quot;, &quot;+358-18&quot;);\r\n        map.put(&quot;AZ&quot;, &quot;+374-97&quot;);\r\n        map.put(&quot;AZ&quot;, &quot;+994&quot;);\r\n        map.put(&quot;BA&quot;, &quot;+387&quot;);\r\n        map.put(&quot;BB&quot;, &quot;+1-246&quot;);\r\n        map.put(&quot;BD&quot;, &quot;+880&quot;);\r\n        map.put(&quot;BE&quot;, &quot;+32&quot;);\r\n        map.put(&quot;BF&quot;, &quot;+226&quot;);\r\n        map.put(&quot;BG&quot;, &quot;+359&quot;);\r\n        map.put(&quot;BH&quot;, &quot;+973&quot;);\r\n        map.put(&quot;BI&quot;, &quot;+257&quot;);\r\n        map.put(&quot;BJ&quot;, &quot;+229&quot;);\r\n        map.put(&quot;BM&quot;, &quot;+1-441&quot;);\r\n        map.put(&quot;BN&quot;, &quot;+673&quot;);\r\n        map.put(&quot;BO&quot;, &quot;+591&quot;);\r\n        map.put(&quot;BR&quot;, &quot;+55&quot;);\r\n        map.put(&quot;BS&quot;, &quot;+1-242&quot;);\r\n        map.put(&quot;BT&quot;, &quot;+975&quot;);\r\n        map.put(&quot;BW&quot;, &quot;+267&quot;);\r\n        map.put(&quot;BY&quot;, &quot;+375&quot;);\r\n        map.put(&quot;BZ&quot;, &quot;+501&quot;);\r\n        map.put(&quot;CA&quot;, &quot;+1&quot;);\r\n        map.put(&quot;CC&quot;, &quot;+61&quot;);\r\n        map.put(&quot;CD&quot;, &quot;+243&quot;);\r\n        map.put(&quot;CF&quot;, &quot;+236&quot;);\r\n        map.put(&quot;CG&quot;, &quot;+242&quot;);\r\n        map.put(&quot;CH&quot;, &quot;+41&quot;);\r\n        map.put(&quot;CI&quot;, &quot;+225&quot;);\r\n        map.put(&quot;CK&quot;, &quot;+682&quot;);\r\n        map.put(&quot;CL&quot;, &quot;+56&quot;);\r\n        map.put(&quot;CM&quot;, &quot;+237&quot;);\r\n        map.put(&quot;CN&quot;, &quot;+86&quot;);\r\n        map.put(&quot;CO&quot;, &quot;+57&quot;);\r\n        map.put(&quot;CR&quot;, &quot;+506&quot;);\r\n        map.put(&quot;CS&quot;, &quot;+381&quot;);\r\n        map.put(&quot;CU&quot;, &quot;+53&quot;);\r\n        map.put(&quot;CV&quot;, &quot;+238&quot;);\r\n        map.put(&quot;CX&quot;, &quot;+61&quot;);\r\n        map.put(&quot;CY&quot;, &quot;+90-392&quot;);\r\n        map.put(&quot;CY&quot;, &quot;+357&quot;);\r\n        map.put(&quot;CZ&quot;, &quot;+420&quot;);\r\n        map.put(&quot;DE&quot;, &quot;+49&quot;);\r\n        map.put(&quot;DJ&quot;, &quot;+253&quot;);\r\n        map.put(&quot;DK&quot;, &quot;+45&quot;);\r\n        map.put(&quot;DM&quot;, &quot;+1-767&quot;);\r\n        map.put(&quot;DO&quot;, &quot;+1-809&quot;); // and 1-829?\r\n        map.put(&quot;DZ&quot;, &quot;+213&quot;);\r\n        map.put(&quot;EC&quot;, &quot;+593&quot;);\r\n        map.put(&quot;EE&quot;, &quot;+372&quot;);\r\n        map.put(&quot;EG&quot;, &quot;+20&quot;);\r\n        map.put(&quot;EH&quot;, &quot;+212&quot;);\r\n        map.put(&quot;ER&quot;, &quot;+291&quot;);\r\n        map.put(&quot;ES&quot;, &quot;+34&quot;);\r\n        map.put(&quot;ET&quot;, &quot;+251&quot;);\r\n        map.put(&quot;FI&quot;, &quot;+358&quot;);\r\n        map.put(&quot;FJ&quot;, &quot;+679&quot;);\r\n        map.put(&quot;FK&quot;, &quot;+500&quot;);\r\n        map.put(&quot;FM&quot;, &quot;+691&quot;);\r\n        map.put(&quot;FO&quot;, &quot;+298&quot;);\r\n        map.put(&quot;FR&quot;, &quot;+33&quot;);\r\n        map.put(&quot;GA&quot;, &quot;+241&quot;);\r\n        map.put(&quot;GB&quot;, &quot;+44&quot;);\r\n        map.put(&quot;GD&quot;, &quot;+1-473&quot;);\r\n        map.put(&quot;GE&quot;, &quot;+995&quot;);\r\n        map.put(&quot;GF&quot;, &quot;+594&quot;);\r\n        map.put(&quot;GG&quot;, &quot;+44&quot;);\r\n        map.put(&quot;GH&quot;, &quot;+233&quot;);\r\n        map.put(&quot;GI&quot;, &quot;+350&quot;);\r\n        map.put(&quot;GL&quot;, &quot;+299&quot;);\r\n        map.put(&quot;GM&quot;, &quot;+220&quot;);\r\n        map.put(&quot;GN&quot;, &quot;+224&quot;);\r\n        map.put(&quot;GP&quot;, &quot;+590&quot;);\r\n        map.put(&quot;GQ&quot;, &quot;+240&quot;);\r\n        map.put(&quot;GR&quot;, &quot;+30&quot;);\r\n        map.put(&quot;GT&quot;, &quot;+502&quot;);\r\n        map.put(&quot;GU&quot;, &quot;+1-671&quot;);\r\n        map.put(&quot;GW&quot;, &quot;+245&quot;);\r\n        map.put(&quot;GY&quot;, &quot;+592&quot;);\r\n        map.put(&quot;HK&quot;, &quot;+852&quot;);\r\n        map.put(&quot;HN&quot;, &quot;+504&quot;);\r\n        map.put(&quot;HR&quot;, &quot;+385&quot;);\r\n        map.put(&quot;HT&quot;, &quot;+509&quot;);\r\n        map.put(&quot;HU&quot;, &quot;+36&quot;);\r\n        map.put(&quot;ID&quot;, &quot;+62&quot;);\r\n        map.put(&quot;IE&quot;, &quot;+353&quot;);\r\n        map.put(&quot;IL&quot;, &quot;+972&quot;);\r\n        map.put(&quot;IM&quot;, &quot;+44&quot;);\r\n        map.put(&quot;IN&quot;, &quot;+91&quot;);\r\n        map.put(&quot;IO&quot;, &quot;+246&quot;);\r\n        map.put(&quot;IQ&quot;, &quot;+964&quot;);\r\n        map.put(&quot;IR&quot;, &quot;+98&quot;);\r\n        map.put(&quot;IS&quot;, &quot;+354&quot;);\r\n        map.put(&quot;IT&quot;, &quot;+39&quot;);\r\n        map.put(&quot;JE&quot;, &quot;+44&quot;);\r\n        map.put(&quot;JM&quot;, &quot;+1-876&quot;);\r\n        map.put(&quot;JO&quot;, &quot;+962&quot;);\r\n        map.put(&quot;JP&quot;, &quot;+81&quot;);\r\n        map.put(&quot;KE&quot;, &quot;+254&quot;);\r\n        map.put(&quot;KG&quot;, &quot;+996&quot;);\r\n        map.put(&quot;KH&quot;, &quot;+855&quot;);\r\n        map.put(&quot;KI&quot;, &quot;+686&quot;);\r\n        map.put(&quot;KM&quot;, &quot;+269&quot;);\r\n        map.put(&quot;KN&quot;, &quot;+1-869&quot;);\r\n        map.put(&quot;KP&quot;, &quot;+850&quot;);\r\n        map.put(&quot;KR&quot;, &quot;+82&quot;);\r\n        map.put(&quot;KW&quot;, &quot;+965&quot;);\r\n        map.put(&quot;KY&quot;, &quot;+1-345&quot;);\r\n        map.put(&quot;KZ&quot;, &quot;+7&quot;);\r\n        map.put(&quot;LA&quot;, &quot;+856&quot;);\r\n        map.put(&quot;LB&quot;, &quot;+961&quot;);\r\n        map.put(&quot;LC&quot;, &quot;+1-758&quot;);\r\n        map.put(&quot;LI&quot;, &quot;+423&quot;);\r\n        map.put(&quot;LK&quot;, &quot;+94&quot;);\r\n        map.put(&quot;LR&quot;, &quot;+231&quot;);\r\n        map.put(&quot;LS&quot;, &quot;+266&quot;);\r\n        map.put(&quot;LT&quot;, &quot;+370&quot;);\r\n        map.put(&quot;LU&quot;, &quot;+352&quot;);\r\n        map.put(&quot;LV&quot;, &quot;+371&quot;);\r\n        map.put(&quot;LY&quot;, &quot;+218&quot;);\r\n        map.put(&quot;MA&quot;, &quot;+212&quot;);\r\n        map.put(&quot;MC&quot;, &quot;+377&quot;);\r\n        map.put(&quot;MD&quot;, &quot;+373-533&quot;);\r\n        map.put(&quot;MD&quot;, &quot;+373&quot;);\r\n        map.put(&quot;ME&quot;, &quot;+382&quot;);\r\n        map.put(&quot;MG&quot;, &quot;+261&quot;);\r\n        map.put(&quot;MH&quot;, &quot;+692&quot;);\r\n        map.put(&quot;MK&quot;, &quot;+389&quot;);\r\n        map.put(&quot;ML&quot;, &quot;+223&quot;);\r\n        map.put(&quot;MM&quot;, &quot;+95&quot;);\r\n        map.put(&quot;MN&quot;, &quot;+976&quot;);\r\n        map.put(&quot;MO&quot;, &quot;+853&quot;);\r\n        map.put(&quot;MP&quot;, &quot;+1-670&quot;);\r\n        map.put(&quot;MQ&quot;, &quot;+596&quot;);\r\n        map.put(&quot;MR&quot;, &quot;+222&quot;);\r\n        map.put(&quot;MS&quot;, &quot;+1-664&quot;);\r\n        map.put(&quot;MT&quot;, &quot;+356&quot;);\r\n        map.put(&quot;MU&quot;, &quot;+230&quot;);\r\n        map.put(&quot;MV&quot;, &quot;+960&quot;);\r\n        map.put(&quot;MW&quot;, &quot;+265&quot;);\r\n        map.put(&quot;MX&quot;, &quot;+52&quot;);\r\n        map.put(&quot;MY&quot;, &quot;+60&quot;);\r\n        map.put(&quot;MZ&quot;, &quot;+258&quot;);\r\n        map.put(&quot;NA&quot;, &quot;+264&quot;);\r\n        map.put(&quot;NC&quot;, &quot;+687&quot;);\r\n        map.put(&quot;NE&quot;, &quot;+227&quot;);\r\n        map.put(&quot;NF&quot;, &quot;+672&quot;);\r\n        map.put(&quot;NG&quot;, &quot;+234&quot;);\r\n        map.put(&quot;NI&quot;, &quot;+505&quot;);\r\n        map.put(&quot;NL&quot;, &quot;+31&quot;);\r\n        map.put(&quot;NO&quot;, &quot;+47&quot;);\r\n        map.put(&quot;NP&quot;, &quot;+977&quot;);\r\n        map.put(&quot;NR&quot;, &quot;+674&quot;);\r\n        map.put(&quot;NU&quot;, &quot;+683&quot;);\r\n        map.put(&quot;NZ&quot;, &quot;+64&quot;);\r\n        map.put(&quot;OM&quot;, &quot;+968&quot;);\r\n        map.put(&quot;PA&quot;, &quot;+507&quot;);\r\n        map.put(&quot;PE&quot;, &quot;+51&quot;);\r\n        map.put(&quot;PF&quot;, &quot;+689&quot;);\r\n        map.put(&quot;PG&quot;, &quot;+675&quot;);\r\n        map.put(&quot;PH&quot;, &quot;+63&quot;);\r\n        map.put(&quot;PK&quot;, &quot;+92&quot;);\r\n        map.put(&quot;PL&quot;, &quot;+48&quot;);\r\n        map.put(&quot;PM&quot;, &quot;+508&quot;);\r\n        map.put(&quot;PR&quot;, &quot;+1-787&quot;); // and 1-939 ?\r\n        map.put(&quot;PS&quot;, &quot;+970&quot;);\r\n        map.put(&quot;PT&quot;, &quot;+351&quot;);\r\n        map.put(&quot;PW&quot;, &quot;+680&quot;);\r\n        map.put(&quot;PY&quot;, &quot;+595&quot;);\r\n        map.put(&quot;QA&quot;, &quot;+974&quot;);\r\n        map.put(&quot;RE&quot;, &quot;+262&quot;);\r\n        map.put(&quot;RO&quot;, &quot;+40&quot;);\r\n        map.put(&quot;RS&quot;, &quot;+381&quot;);\r\n        map.put(&quot;RU&quot;, &quot;+7&quot;);\r\n        map.put(&quot;RW&quot;, &quot;+250&quot;);\r\n        map.put(&quot;SA&quot;, &quot;+966&quot;);\r\n        map.put(&quot;SB&quot;, &quot;+677&quot;);\r\n        map.put(&quot;SC&quot;, &quot;+248&quot;);\r\n        map.put(&quot;SD&quot;, &quot;+249&quot;);\r\n        map.put(&quot;SE&quot;, &quot;+46&quot;);\r\n        map.put(&quot;SG&quot;, &quot;+65&quot;);\r\n        map.put(&quot;SH&quot;, &quot;+290&quot;);\r\n        map.put(&quot;SI&quot;, &quot;+386&quot;);\r\n        map.put(&quot;SJ&quot;, &quot;+47&quot;);\r\n        map.put(&quot;SK&quot;, &quot;+421&quot;);\r\n        map.put(&quot;SL&quot;, &quot;+232&quot;);\r\n        map.put(&quot;SM&quot;, &quot;+378&quot;);\r\n        map.put(&quot;SN&quot;, &quot;+221&quot;);\r\n        map.put(&quot;SO&quot;, &quot;+252&quot;);\r\n        map.put(&quot;SO&quot;, &quot;+252&quot;);\r\n        map.put(&quot;SR&quot;, &quot;+597&quot;);\r\n        map.put(&quot;ST&quot;, &quot;+239&quot;);\r\n        map.put(&quot;SV&quot;, &quot;+503&quot;);\r\n        map.put(&quot;SY&quot;, &quot;+963&quot;);\r\n        map.put(&quot;SZ&quot;, &quot;+268&quot;);\r\n        map.put(&quot;TA&quot;, &quot;+290&quot;);\r\n        map.put(&quot;TC&quot;, &quot;+1-649&quot;);\r\n        map.put(&quot;TD&quot;, &quot;+235&quot;);\r\n        map.put(&quot;TG&quot;, &quot;+228&quot;);\r\n        map.put(&quot;TH&quot;, &quot;+66&quot;);\r\n        map.put(&quot;TJ&quot;, &quot;+992&quot;);\r\n        map.put(&quot;TK&quot;, &quot;+690&quot;);\r\n        map.put(&quot;TL&quot;, &quot;+670&quot;);\r\n        map.put(&quot;TM&quot;, &quot;+993&quot;);\r\n        map.put(&quot;TN&quot;, &quot;+216&quot;);\r\n        map.put(&quot;TO&quot;, &quot;+676&quot;);\r\n        map.put(&quot;TR&quot;, &quot;+90&quot;);\r\n        map.put(&quot;TT&quot;, &quot;+1-868&quot;);\r\n        map.put(&quot;TV&quot;, &quot;+688&quot;);\r\n        map.put(&quot;TW&quot;, &quot;+886&quot;);\r\n        map.put(&quot;TZ&quot;, &quot;+255&quot;);\r\n        map.put(&quot;UA&quot;, &quot;+380&quot;);\r\n        map.put(&quot;UG&quot;, &quot;+256&quot;);\r\n        map.put(&quot;US&quot;, &quot;+1&quot;);\r\n        map.put(&quot;UY&quot;, &quot;+598&quot;);\r\n        map.put(&quot;UZ&quot;, &quot;+998&quot;);\r\n        map.put(&quot;VA&quot;, &quot;+379&quot;);\r\n        map.put(&quot;VC&quot;, &quot;+1-784&quot;);\r\n        map.put(&quot;VE&quot;, &quot;+58&quot;);\r\n        map.put(&quot;VG&quot;, &quot;+1-284&quot;);\r\n        map.put(&quot;VI&quot;, &quot;+1-340&quot;);\r\n        map.put(&quot;VN&quot;, &quot;+84&quot;);\r\n        map.put(&quot;VU&quot;, &quot;+678&quot;);\r\n        map.put(&quot;WF&quot;, &quot;+681&quot;);\r\n        map.put(&quot;WS&quot;, &quot;+685&quot;);\r\n        map.put(&quot;YE&quot;, &quot;+967&quot;);\r\n        map.put(&quot;YT&quot;, &quot;+262&quot;);\r\n        map.put(&quot;ZA&quot;, &quot;+27&quot;);\r\n        map.put(&quot;ZM&quot;, &quot;+260&quot;);\r\n        map.put(&quot;ZW&quot;, &quot;+263&quot;);\r\n    }}\r\n","title":"how to get country phone prefix from iso","body":"<p>Tidying up @oshai's answer</p>\n\n<pre><code>public class CountryToPhonePrefix {\n\nprivate static Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\npublic String prefixFor(String iso2CountryCode) {\n    String result = map.get(iso2CountryCode);\n    if (result == null) {\n        throw new IllegalArgumentException(\"Unknown country code \" + iso2CountryCode);\n    }\n    return result;\n}\n\nstatic {\n    map.put(\"AC\", \"+247\");\n    map.put(\"AD\", \"+376\");\n    map.put(\"AE\", \"+971\");\n    map.put(\"AF\", \"+93\");\n    map.put(\"AG\", \"+1-268\");\n    map.put(\"AI\", \"+1-264\");\n    map.put(\"AL\", \"+355\");\n    map.put(\"AM\", \"+374\");\n    map.put(\"AN\", \"+599\");\n    map.put(\"AO\", \"+244\");\n    map.put(\"AR\", \"+54\");\n    map.put(\"AS\", \"+1-684\");\n    map.put(\"AT\", \"+43\");\n    map.put(\"AU\", \"+61\");\n    map.put(\"AW\", \"+297\");\n    map.put(\"AX\", \"+358-18\");\n    map.put(\"AZ\", \"+374-97\");\n    map.put(\"AZ\", \"+994\");\n    map.put(\"BA\", \"+387\");\n    map.put(\"BB\", \"+1-246\");\n    map.put(\"BD\", \"+880\");\n    map.put(\"BE\", \"+32\");\n    map.put(\"BF\", \"+226\");\n    map.put(\"BG\", \"+359\");\n    map.put(\"BH\", \"+973\");\n    map.put(\"BI\", \"+257\");\n    map.put(\"BJ\", \"+229\");\n    map.put(\"BM\", \"+1-441\");\n    map.put(\"BN\", \"+673\");\n    map.put(\"BO\", \"+591\");\n    map.put(\"BR\", \"+55\");\n    map.put(\"BS\", \"+1-242\");\n    map.put(\"BT\", \"+975\");\n    map.put(\"BW\", \"+267\");\n    map.put(\"BY\", \"+375\");\n    map.put(\"BZ\", \"+501\");\n    map.put(\"CA\", \"+1\");\n    map.put(\"CC\", \"+61\");\n    map.put(\"CD\", \"+243\");\n    map.put(\"CF\", \"+236\");\n    map.put(\"CG\", \"+242\");\n    map.put(\"CH\", \"+41\");\n    map.put(\"CI\", \"+225\");\n    map.put(\"CK\", \"+682\");\n    map.put(\"CL\", \"+56\");\n    map.put(\"CM\", \"+237\");\n    map.put(\"CN\", \"+86\");\n    map.put(\"CO\", \"+57\");\n    map.put(\"CR\", \"+506\");\n    map.put(\"CS\", \"+381\");\n    map.put(\"CU\", \"+53\");\n    map.put(\"CV\", \"+238\");\n    map.put(\"CX\", \"+61\");\n    map.put(\"CY\", \"+90-392\");\n    map.put(\"CY\", \"+357\");\n    map.put(\"CZ\", \"+420\");\n    map.put(\"DE\", \"+49\");\n    map.put(\"DJ\", \"+253\");\n    map.put(\"DK\", \"+45\");\n    map.put(\"DM\", \"+1-767\");\n    map.put(\"DO\", \"+1-809\"); // and 1-829?\n    map.put(\"DZ\", \"+213\");\n    map.put(\"EC\", \"+593\");\n    map.put(\"EE\", \"+372\");\n    map.put(\"EG\", \"+20\");\n    map.put(\"EH\", \"+212\");\n    map.put(\"ER\", \"+291\");\n    map.put(\"ES\", \"+34\");\n    map.put(\"ET\", \"+251\");\n    map.put(\"FI\", \"+358\");\n    map.put(\"FJ\", \"+679\");\n    map.put(\"FK\", \"+500\");\n    map.put(\"FM\", \"+691\");\n    map.put(\"FO\", \"+298\");\n    map.put(\"FR\", \"+33\");\n    map.put(\"GA\", \"+241\");\n    map.put(\"GB\", \"+44\");\n    map.put(\"GD\", \"+1-473\");\n    map.put(\"GE\", \"+995\");\n    map.put(\"GF\", \"+594\");\n    map.put(\"GG\", \"+44\");\n    map.put(\"GH\", \"+233\");\n    map.put(\"GI\", \"+350\");\n    map.put(\"GL\", \"+299\");\n    map.put(\"GM\", \"+220\");\n    map.put(\"GN\", \"+224\");\n    map.put(\"GP\", \"+590\");\n    map.put(\"GQ\", \"+240\");\n    map.put(\"GR\", \"+30\");\n    map.put(\"GT\", \"+502\");\n    map.put(\"GU\", \"+1-671\");\n    map.put(\"GW\", \"+245\");\n    map.put(\"GY\", \"+592\");\n    map.put(\"HK\", \"+852\");\n    map.put(\"HN\", \"+504\");\n    map.put(\"HR\", \"+385\");\n    map.put(\"HT\", \"+509\");\n    map.put(\"HU\", \"+36\");\n    map.put(\"ID\", \"+62\");\n    map.put(\"IE\", \"+353\");\n    map.put(\"IL\", \"+972\");\n    map.put(\"IM\", \"+44\");\n    map.put(\"IN\", \"+91\");\n    map.put(\"IO\", \"+246\");\n    map.put(\"IQ\", \"+964\");\n    map.put(\"IR\", \"+98\");\n    map.put(\"IS\", \"+354\");\n    map.put(\"IT\", \"+39\");\n    map.put(\"JE\", \"+44\");\n    map.put(\"JM\", \"+1-876\");\n    map.put(\"JO\", \"+962\");\n    map.put(\"JP\", \"+81\");\n    map.put(\"KE\", \"+254\");\n    map.put(\"KG\", \"+996\");\n    map.put(\"KH\", \"+855\");\n    map.put(\"KI\", \"+686\");\n    map.put(\"KM\", \"+269\");\n    map.put(\"KN\", \"+1-869\");\n    map.put(\"KP\", \"+850\");\n    map.put(\"KR\", \"+82\");\n    map.put(\"KW\", \"+965\");\n    map.put(\"KY\", \"+1-345\");\n    map.put(\"KZ\", \"+7\");\n    map.put(\"LA\", \"+856\");\n    map.put(\"LB\", \"+961\");\n    map.put(\"LC\", \"+1-758\");\n    map.put(\"LI\", \"+423\");\n    map.put(\"LK\", \"+94\");\n    map.put(\"LR\", \"+231\");\n    map.put(\"LS\", \"+266\");\n    map.put(\"LT\", \"+370\");\n    map.put(\"LU\", \"+352\");\n    map.put(\"LV\", \"+371\");\n    map.put(\"LY\", \"+218\");\n    map.put(\"MA\", \"+212\");\n    map.put(\"MC\", \"+377\");\n    map.put(\"MD\", \"+373-533\");\n    map.put(\"MD\", \"+373\");\n    map.put(\"ME\", \"+382\");\n    map.put(\"MG\", \"+261\");\n    map.put(\"MH\", \"+692\");\n    map.put(\"MK\", \"+389\");\n    map.put(\"ML\", \"+223\");\n    map.put(\"MM\", \"+95\");\n    map.put(\"MN\", \"+976\");\n    map.put(\"MO\", \"+853\");\n    map.put(\"MP\", \"+1-670\");\n    map.put(\"MQ\", \"+596\");\n    map.put(\"MR\", \"+222\");\n    map.put(\"MS\", \"+1-664\");\n    map.put(\"MT\", \"+356\");\n    map.put(\"MU\", \"+230\");\n    map.put(\"MV\", \"+960\");\n    map.put(\"MW\", \"+265\");\n    map.put(\"MX\", \"+52\");\n    map.put(\"MY\", \"+60\");\n    map.put(\"MZ\", \"+258\");\n    map.put(\"NA\", \"+264\");\n    map.put(\"NC\", \"+687\");\n    map.put(\"NE\", \"+227\");\n    map.put(\"NF\", \"+672\");\n    map.put(\"NG\", \"+234\");\n    map.put(\"NI\", \"+505\");\n    map.put(\"NL\", \"+31\");\n    map.put(\"NO\", \"+47\");\n    map.put(\"NP\", \"+977\");\n    map.put(\"NR\", \"+674\");\n    map.put(\"NU\", \"+683\");\n    map.put(\"NZ\", \"+64\");\n    map.put(\"OM\", \"+968\");\n    map.put(\"PA\", \"+507\");\n    map.put(\"PE\", \"+51\");\n    map.put(\"PF\", \"+689\");\n    map.put(\"PG\", \"+675\");\n    map.put(\"PH\", \"+63\");\n    map.put(\"PK\", \"+92\");\n    map.put(\"PL\", \"+48\");\n    map.put(\"PM\", \"+508\");\n    map.put(\"PR\", \"+1-787\"); // and 1-939 ?\n    map.put(\"PS\", \"+970\");\n    map.put(\"PT\", \"+351\");\n    map.put(\"PW\", \"+680\");\n    map.put(\"PY\", \"+595\");\n    map.put(\"QA\", \"+974\");\n    map.put(\"RE\", \"+262\");\n    map.put(\"RO\", \"+40\");\n    map.put(\"RS\", \"+381\");\n    map.put(\"RU\", \"+7\");\n    map.put(\"RW\", \"+250\");\n    map.put(\"SA\", \"+966\");\n    map.put(\"SB\", \"+677\");\n    map.put(\"SC\", \"+248\");\n    map.put(\"SD\", \"+249\");\n    map.put(\"SE\", \"+46\");\n    map.put(\"SG\", \"+65\");\n    map.put(\"SH\", \"+290\");\n    map.put(\"SI\", \"+386\");\n    map.put(\"SJ\", \"+47\");\n    map.put(\"SK\", \"+421\");\n    map.put(\"SL\", \"+232\");\n    map.put(\"SM\", \"+378\");\n    map.put(\"SN\", \"+221\");\n    map.put(\"SO\", \"+252\");\n    map.put(\"SO\", \"+252\");\n    map.put(\"SR\", \"+597\");\n    map.put(\"ST\", \"+239\");\n    map.put(\"SV\", \"+503\");\n    map.put(\"SY\", \"+963\");\n    map.put(\"SZ\", \"+268\");\n    map.put(\"TA\", \"+290\");\n    map.put(\"TC\", \"+1-649\");\n    map.put(\"TD\", \"+235\");\n    map.put(\"TG\", \"+228\");\n    map.put(\"TH\", \"+66\");\n    map.put(\"TJ\", \"+992\");\n    map.put(\"TK\", \"+690\");\n    map.put(\"TL\", \"+670\");\n    map.put(\"TM\", \"+993\");\n    map.put(\"TN\", \"+216\");\n    map.put(\"TO\", \"+676\");\n    map.put(\"TR\", \"+90\");\n    map.put(\"TT\", \"+1-868\");\n    map.put(\"TV\", \"+688\");\n    map.put(\"TW\", \"+886\");\n    map.put(\"TZ\", \"+255\");\n    map.put(\"UA\", \"+380\");\n    map.put(\"UG\", \"+256\");\n    map.put(\"US\", \"+1\");\n    map.put(\"UY\", \"+598\");\n    map.put(\"UZ\", \"+998\");\n    map.put(\"VA\", \"+379\");\n    map.put(\"VC\", \"+1-784\");\n    map.put(\"VE\", \"+58\");\n    map.put(\"VG\", \"+1-284\");\n    map.put(\"VI\", \"+1-340\");\n    map.put(\"VN\", \"+84\");\n    map.put(\"VU\", \"+678\");\n    map.put(\"WF\", \"+681\");\n    map.put(\"WS\", \"+685\");\n    map.put(\"YE\", \"+967\");\n    map.put(\"YT\", \"+262\");\n    map.put(\"ZA\", \"+27\");\n    map.put(\"ZM\", \"+260\");\n    map.put(\"ZW\", \"+263\");\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":416053,"reputation":389,"user_id":791225,"display_name":"Shane Murphy"},"comment_count":0,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1554352866,"creation_date":1455097793,"answer_id":35311732,"question_id":10772329,"body_markdown":"You could use the library called [libphonenumber][1] available on Github, made by Google developers. For example you can get the prefix using:\r\n\r\n    PhoneNumberUtil.getInstance().getCountryCodeForRegion(&quot;DE&quot;);\r\n\r\nIt also has a lot of useful functions to parse phone numbers.\r\n\r\n\r\n[1]: https://github.com/googlei18n/libphonenumber","title":"how to get country phone prefix from iso","body":"<p>You could use the library called <a href=\"https://github.com/googlei18n/libphonenumber\" rel=\"noreferrer\">libphonenumber</a> available on Github, made by Google developers. For example you can get the prefix using:</p>\n\n<pre><code>PhoneNumberUtil.getInstance().getCountryCodeForRegion(\"DE\");\n</code></pre>\n\n<p>It also has a lot of useful functions to parse phone numbers.</p>\n"},{"tags":[],"owner":{"account_id":14958640,"reputation":71,"user_id":10799050,"display_name":"J Rom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685536527,"creation_date":1685536527,"answer_id":76373550,"question_id":10772329,"body_markdown":"I&#39;ve simplified @oshai answer in Kotlin and added a few missing countries:\r\n\r\n    class CountryToPhonePrefix {\r\n\r\n    fun prefixFor(iso2CountryCode: String): String {\r\n        return prefixMap[iso2CountryCode]\r\n            ?: throw IllegalArgumentException(&quot;Unknown country code $iso2CountryCode&quot;)\r\n    }\r\n\r\n    private val prefixMap: Map&lt;String, String&gt; = mapOf(\r\n        &quot;AC&quot; to &quot;+247&quot;,\r\n        &quot;AD&quot; to &quot;+376&quot;,\r\n        &quot;AE&quot; to &quot;+971&quot;,\r\n        &quot;AF&quot; to &quot;+93&quot;,\r\n        &quot;AG&quot; to &quot;+1-268&quot;,\r\n        &quot;AI&quot; to &quot;+1-264&quot;,\r\n        &quot;AL&quot; to &quot;+355&quot;,\r\n        &quot;AM&quot; to &quot;+374&quot;,\r\n        &quot;AN&quot; to &quot;+599&quot;,\r\n        &quot;AO&quot; to &quot;+244&quot;,\r\n        &quot;AQ&quot; to &quot;+672&quot;,\r\n        &quot;AR&quot; to &quot;+54&quot;,\r\n        &quot;AS&quot; to &quot;+1-684&quot;,\r\n        &quot;AT&quot; to &quot;+43&quot;,\r\n        &quot;AU&quot; to &quot;+61&quot;,\r\n        &quot;AW&quot; to &quot;+297&quot;,\r\n        &quot;AX&quot; to &quot;+358-18&quot;,\r\n        &quot;AZ&quot; to &quot;+374-97&quot;,\r\n        &quot;BA&quot; to &quot;+387&quot;,\r\n        &quot;BB&quot; to &quot;+1-246&quot;,\r\n        &quot;BD&quot; to &quot;+880&quot;,\r\n        &quot;BE&quot; to &quot;+32&quot;,\r\n        &quot;BF&quot; to &quot;+226&quot;,\r\n        &quot;BG&quot; to &quot;+359&quot;,\r\n        &quot;BH&quot; to &quot;+973&quot;,\r\n        &quot;BI&quot; to &quot;+257&quot;,\r\n        &quot;BJ&quot; to &quot;+229&quot;,\r\n        &quot;BM&quot; to &quot;+1-441&quot;,\r\n        &quot;BN&quot; to &quot;+673&quot;,\r\n        &quot;BL&quot; to &quot;+590&quot;,\r\n        &quot;BO&quot; to &quot;+591&quot;,\r\n        &quot;BQ&quot; to &quot;+599&quot;,\r\n        &quot;BR&quot; to &quot;+55&quot;,\r\n        &quot;BS&quot; to &quot;+1-242&quot;,\r\n        &quot;BT&quot; to &quot;+975&quot;,\r\n        &quot;BW&quot; to &quot;+267&quot;,\r\n        &quot;BV&quot; to &quot;+47&quot;,\r\n        &quot;BY&quot; to &quot;+375&quot;,\r\n        &quot;BZ&quot; to &quot;+501&quot;,\r\n        &quot;CA&quot; to &quot;+1&quot;,\r\n        &quot;CC&quot; to &quot;+61&quot;,\r\n        &quot;CD&quot; to &quot;+243&quot;,\r\n        &quot;CF&quot; to &quot;+236&quot;,\r\n        &quot;CG&quot; to &quot;+242&quot;,\r\n        &quot;CH&quot; to &quot;+41&quot;,\r\n        &quot;CI&quot; to &quot;+225&quot;,\r\n        &quot;CK&quot; to &quot;+682&quot;,\r\n        &quot;CL&quot; to &quot;+56&quot;,\r\n        &quot;CM&quot; to &quot;+237&quot;,\r\n        &quot;CN&quot; to &quot;+86&quot;,\r\n        &quot;CO&quot; to &quot;+57&quot;,\r\n        &quot;CR&quot; to &quot;+506&quot;,\r\n        &quot;CS&quot; to &quot;+381&quot;,\r\n        &quot;CU&quot; to &quot;+53&quot;,\r\n        &quot;CV&quot; to &quot;+238&quot;,\r\n        &quot;CW&quot; to &quot;+599&quot;,\r\n        &quot;CX&quot; to &quot;+61&quot;,\r\n        &quot;CY&quot; to &quot;+90-392&quot;,\r\n        &quot;CZ&quot; to &quot;+420&quot;,\r\n        &quot;DE&quot; to &quot;+49&quot;,\r\n        &quot;DJ&quot; to &quot;+253&quot;,\r\n        &quot;DK&quot; to &quot;+45&quot;,\r\n        &quot;DM&quot; to &quot;+1-767&quot;,\r\n        &quot;DO&quot; to &quot;+1-809&quot;,\r\n        &quot;DZ&quot; to &quot;+213&quot;,\r\n        &quot;EC&quot; to &quot;+593&quot;,\r\n        &quot;EE&quot; to &quot;+372&quot;,\r\n        &quot;EG&quot; to &quot;+20&quot;,\r\n        &quot;EH&quot; to &quot;+212&quot;,\r\n        &quot;ER&quot; to &quot;+291&quot;,\r\n        &quot;ES&quot; to &quot;+34&quot;,\r\n        &quot;ET&quot; to &quot;+251&quot;,\r\n        &quot;FI&quot; to &quot;+358&quot;,\r\n        &quot;FJ&quot; to &quot;+679&quot;,\r\n        &quot;FK&quot; to &quot;+500&quot;,\r\n        &quot;FM&quot; to &quot;+691&quot;,\r\n        &quot;FO&quot; to &quot;+298&quot;,\r\n        &quot;FR&quot; to &quot;+33&quot;,\r\n        &quot;GA&quot; to &quot;+241&quot;,\r\n        &quot;GB&quot; to &quot;+44&quot;,\r\n        &quot;GD&quot; to &quot;+1-473&quot;,\r\n        &quot;GE&quot; to &quot;+995&quot;,\r\n        &quot;GF&quot; to &quot;+594&quot;,\r\n        &quot;GG&quot; to &quot;+44&quot;,\r\n        &quot;GH&quot; to &quot;+233&quot;,\r\n        &quot;GI&quot; to &quot;+350&quot;,\r\n        &quot;GL&quot; to &quot;+299&quot;,\r\n        &quot;GM&quot; to &quot;+220&quot;,\r\n        &quot;GN&quot; to &quot;+224&quot;,\r\n        &quot;GP&quot; to &quot;+590&quot;,\r\n        &quot;GQ&quot; to &quot;+240&quot;,\r\n        &quot;GR&quot; to &quot;+30&quot;,\r\n        &quot;GS&quot; to &quot;+500&quot;,\r\n        &quot;GT&quot; to &quot;+502&quot;,\r\n        &quot;GU&quot; to &quot;+1-671&quot;,\r\n        &quot;GW&quot; to &quot;+245&quot;,\r\n        &quot;GY&quot; to &quot;+592&quot;,\r\n        &quot;HK&quot; to &quot;+852&quot;,\r\n        &quot;HN&quot; to &quot;+504&quot;,\r\n        &quot;HR&quot; to &quot;+385&quot;,\r\n        &quot;HT&quot; to &quot;+509&quot;,\r\n        &quot;HU&quot; to &quot;+36&quot;,\r\n        &quot;ID&quot; to &quot;+62&quot;,\r\n        &quot;IE&quot; to &quot;+353&quot;,\r\n        &quot;IL&quot; to &quot;+972&quot;,\r\n        &quot;IM&quot; to &quot;+44&quot;,\r\n        &quot;IN&quot; to &quot;+91&quot;,\r\n        &quot;IO&quot; to &quot;+246&quot;,\r\n        &quot;IQ&quot; to &quot;+964&quot;,\r\n        &quot;IR&quot; to &quot;+98&quot;,\r\n        &quot;IS&quot; to &quot;+354&quot;,\r\n        &quot;IT&quot; to &quot;+39&quot;,\r\n        &quot;JE&quot; to &quot;+44&quot;,\r\n        &quot;JM&quot; to &quot;+1-876&quot;,\r\n        &quot;JO&quot; to &quot;+962&quot;,\r\n        &quot;JP&quot; to &quot;+81&quot;,\r\n        &quot;KE&quot; to &quot;+254&quot;,\r\n        &quot;KG&quot; to &quot;+996&quot;,\r\n        &quot;KH&quot; to &quot;+855&quot;,\r\n        &quot;KI&quot; to &quot;+686&quot;,\r\n        &quot;KM&quot; to &quot;+269&quot;,\r\n        &quot;KN&quot; to &quot;+1-869&quot;,\r\n        &quot;KP&quot; to &quot;+850&quot;,\r\n        &quot;KR&quot; to &quot;+82&quot;,\r\n        &quot;KW&quot; to &quot;+965&quot;,\r\n        &quot;KY&quot; to &quot;+1-345&quot;,\r\n        &quot;KZ&quot; to &quot;+7&quot;,\r\n        &quot;LA&quot; to &quot;+856&quot;,\r\n        &quot;LB&quot; to &quot;+961&quot;,\r\n        &quot;LC&quot; to &quot;+1-758&quot;,\r\n        &quot;LI&quot; to &quot;+423&quot;,\r\n        &quot;LK&quot; to &quot;+94&quot;,\r\n        &quot;LR&quot; to &quot;+231&quot;,\r\n        &quot;LS&quot; to &quot;+266&quot;,\r\n        &quot;LT&quot; to &quot;+370&quot;,\r\n        &quot;LU&quot; to &quot;+352&quot;,\r\n        &quot;LV&quot; to &quot;+371&quot;,\r\n        &quot;LY&quot; to &quot;+218&quot;,\r\n        &quot;MA&quot; to &quot;+212&quot;,\r\n        &quot;MC&quot; to &quot;+377&quot;,\r\n        &quot;MD&quot; to &quot;+373-533&quot;,\r\n        &quot;ME&quot; to &quot;+382&quot;,\r\n        &quot;MF&quot; to &quot;+590&quot;,\r\n        &quot;MG&quot; to &quot;+261&quot;,\r\n        &quot;MH&quot; to &quot;+692&quot;,\r\n        &quot;MK&quot; to &quot;+389&quot;,\r\n        &quot;ML&quot; to &quot;+223&quot;,\r\n        &quot;MM&quot; to &quot;+95&quot;,\r\n        &quot;MN&quot; to &quot;+976&quot;,\r\n        &quot;MO&quot; to &quot;+853&quot;,\r\n        &quot;MP&quot; to &quot;+1-670&quot;,\r\n        &quot;MQ&quot; to &quot;+596&quot;,\r\n        &quot;MR&quot; to &quot;+222&quot;,\r\n        &quot;MS&quot; to &quot;+1-664&quot;,\r\n        &quot;MT&quot; to &quot;+356&quot;,\r\n        &quot;MU&quot; to &quot;+230&quot;,\r\n        &quot;MV&quot; to &quot;+960&quot;,\r\n        &quot;MW&quot; to &quot;+265&quot;,\r\n        &quot;MX&quot; to &quot;+52&quot;,\r\n        &quot;MY&quot; to &quot;+60&quot;,\r\n        &quot;MZ&quot; to &quot;+258&quot;,\r\n        &quot;NA&quot; to &quot;+264&quot;,\r\n        &quot;NC&quot; to &quot;+687&quot;,\r\n        &quot;NE&quot; to &quot;+227&quot;,\r\n        &quot;NF&quot; to &quot;+672&quot;,\r\n        &quot;NG&quot; to &quot;+234&quot;,\r\n        &quot;NI&quot; to &quot;+505&quot;,\r\n        &quot;NL&quot; to &quot;+31&quot;,\r\n        &quot;NO&quot; to &quot;+47&quot;,\r\n        &quot;NP&quot; to &quot;+977&quot;,\r\n        &quot;NR&quot; to &quot;+674&quot;,\r\n        &quot;NU&quot; to &quot;+683&quot;,\r\n        &quot;NZ&quot; to &quot;+64&quot;,\r\n        &quot;OM&quot; to &quot;+968&quot;,\r\n        &quot;PA&quot; to &quot;+507&quot;,\r\n        &quot;PE&quot; to &quot;+51&quot;,\r\n        &quot;PF&quot; to &quot;+689&quot;,\r\n        &quot;PG&quot; to &quot;+675&quot;,\r\n        &quot;PH&quot; to &quot;+63&quot;,\r\n        &quot;PK&quot; to &quot;+92&quot;,\r\n        &quot;PL&quot; to &quot;+48&quot;,\r\n        &quot;PM&quot; to &quot;+508&quot;,\r\n        &quot;PR&quot; to &quot;+1-787&quot;,\r\n        &quot;PS&quot; to &quot;+970&quot;,\r\n        &quot;PT&quot; to &quot;+351&quot;,\r\n        &quot;PW&quot; to &quot;+680&quot;,\r\n        &quot;PY&quot; to &quot;+595&quot;,\r\n        &quot;QA&quot; to &quot;+974&quot;,\r\n        &quot;RE&quot; to &quot;+262&quot;,\r\n        &quot;RO&quot; to &quot;+40&quot;,\r\n        &quot;RS&quot; to &quot;+381&quot;,\r\n        &quot;RU&quot; to &quot;+7&quot;,\r\n        &quot;RW&quot; to &quot;+250&quot;,\r\n        &quot;SA&quot; to &quot;+966&quot;,\r\n        &quot;SB&quot; to &quot;+677&quot;,\r\n        &quot;SC&quot; to &quot;+248&quot;,\r\n        &quot;SD&quot; to &quot;+249&quot;,\r\n        &quot;SE&quot; to &quot;+46&quot;,\r\n        &quot;SG&quot; to &quot;+65&quot;,\r\n        &quot;SH&quot; to &quot;+290&quot;,\r\n        &quot;SI&quot; to &quot;+386&quot;,\r\n        &quot;SJ&quot; to &quot;+47&quot;,\r\n        &quot;SK&quot; to &quot;+421&quot;,\r\n        &quot;SL&quot; to &quot;+232&quot;,\r\n        &quot;SM&quot; to &quot;+378&quot;,\r\n        &quot;SN&quot; to &quot;+221&quot;,\r\n        &quot;SO&quot; to &quot;+252&quot;,\r\n        &quot;SR&quot; to &quot;+597&quot;,\r\n        &quot;SS&quot; to &quot;+211&quot;,\r\n        &quot;ST&quot; to &quot;+239&quot;,\r\n        &quot;SV&quot; to &quot;+503&quot;,\r\n        &quot;SX&quot; to &quot;+721&quot;,\r\n        &quot;SY&quot; to &quot;+963&quot;,\r\n        &quot;SZ&quot; to &quot;+268&quot;,\r\n        &quot;TA&quot; to &quot;+290&quot;,\r\n        &quot;TC&quot; to &quot;+1-649&quot;,\r\n        &quot;TD&quot; to &quot;+235&quot;,\r\n        &quot;TG&quot; to &quot;+228&quot;,\r\n        &quot;TH&quot; to &quot;+66&quot;,\r\n        &quot;TJ&quot; to &quot;+992&quot;,\r\n        &quot;TK&quot; to &quot;+690&quot;,\r\n        &quot;TL&quot; to &quot;+670&quot;,\r\n        &quot;TM&quot; to &quot;+993&quot;,\r\n        &quot;TN&quot; to &quot;+216&quot;,\r\n        &quot;TO&quot; to &quot;+676&quot;,\r\n        &quot;TR&quot; to &quot;+90&quot;,\r\n        &quot;TT&quot; to &quot;+1-868&quot;,\r\n        &quot;TV&quot; to &quot;+688&quot;,\r\n        &quot;TW&quot; to &quot;+886&quot;,\r\n        &quot;TZ&quot; to &quot;+255&quot;,\r\n        &quot;UA&quot; to &quot;+380&quot;,\r\n        &quot;UG&quot; to &quot;+256&quot;,\r\n        &quot;US&quot; to &quot;+1&quot;,\r\n        &quot;UY&quot; to &quot;+598&quot;,\r\n        &quot;UZ&quot; to &quot;+998&quot;,\r\n        &quot;VA&quot; to &quot;+379&quot;,\r\n        &quot;VC&quot; to &quot;+1-784&quot;,\r\n        &quot;VE&quot; to &quot;+58&quot;,\r\n        &quot;VG&quot; to &quot;+1-284&quot;,\r\n        &quot;VI&quot; to &quot;+1-340&quot;,\r\n        &quot;VN&quot; to &quot;+84&quot;,\r\n        &quot;VU&quot; to &quot;+678&quot;,\r\n        &quot;WF&quot; to &quot;+681&quot;,\r\n        &quot;WS&quot; to &quot;+685&quot;,\r\n        &quot;YE&quot; to &quot;+967&quot;,\r\n        &quot;YT&quot; to &quot;+262&quot;,\r\n        &quot;ZA&quot; to &quot;+27&quot;,\r\n        &quot;ZM&quot; to &quot;+260&quot;,\r\n        &quot;ZW&quot; to &quot;+263&quot;\r\n    )\r\n}\r\n","title":"how to get country phone prefix from iso","body":"<p>I've simplified @oshai answer in Kotlin and added a few missing countries:</p>\n<pre><code>class CountryToPhonePrefix {\n\nfun prefixFor(iso2CountryCode: String): String {\n    return prefixMap[iso2CountryCode]\n        ?: throw IllegalArgumentException(&quot;Unknown country code $iso2CountryCode&quot;)\n}\n\nprivate val prefixMap: Map&lt;String, String&gt; = mapOf(\n    &quot;AC&quot; to &quot;+247&quot;,\n    &quot;AD&quot; to &quot;+376&quot;,\n    &quot;AE&quot; to &quot;+971&quot;,\n    &quot;AF&quot; to &quot;+93&quot;,\n    &quot;AG&quot; to &quot;+1-268&quot;,\n    &quot;AI&quot; to &quot;+1-264&quot;,\n    &quot;AL&quot; to &quot;+355&quot;,\n    &quot;AM&quot; to &quot;+374&quot;,\n    &quot;AN&quot; to &quot;+599&quot;,\n    &quot;AO&quot; to &quot;+244&quot;,\n    &quot;AQ&quot; to &quot;+672&quot;,\n    &quot;AR&quot; to &quot;+54&quot;,\n    &quot;AS&quot; to &quot;+1-684&quot;,\n    &quot;AT&quot; to &quot;+43&quot;,\n    &quot;AU&quot; to &quot;+61&quot;,\n    &quot;AW&quot; to &quot;+297&quot;,\n    &quot;AX&quot; to &quot;+358-18&quot;,\n    &quot;AZ&quot; to &quot;+374-97&quot;,\n    &quot;BA&quot; to &quot;+387&quot;,\n    &quot;BB&quot; to &quot;+1-246&quot;,\n    &quot;BD&quot; to &quot;+880&quot;,\n    &quot;BE&quot; to &quot;+32&quot;,\n    &quot;BF&quot; to &quot;+226&quot;,\n    &quot;BG&quot; to &quot;+359&quot;,\n    &quot;BH&quot; to &quot;+973&quot;,\n    &quot;BI&quot; to &quot;+257&quot;,\n    &quot;BJ&quot; to &quot;+229&quot;,\n    &quot;BM&quot; to &quot;+1-441&quot;,\n    &quot;BN&quot; to &quot;+673&quot;,\n    &quot;BL&quot; to &quot;+590&quot;,\n    &quot;BO&quot; to &quot;+591&quot;,\n    &quot;BQ&quot; to &quot;+599&quot;,\n    &quot;BR&quot; to &quot;+55&quot;,\n    &quot;BS&quot; to &quot;+1-242&quot;,\n    &quot;BT&quot; to &quot;+975&quot;,\n    &quot;BW&quot; to &quot;+267&quot;,\n    &quot;BV&quot; to &quot;+47&quot;,\n    &quot;BY&quot; to &quot;+375&quot;,\n    &quot;BZ&quot; to &quot;+501&quot;,\n    &quot;CA&quot; to &quot;+1&quot;,\n    &quot;CC&quot; to &quot;+61&quot;,\n    &quot;CD&quot; to &quot;+243&quot;,\n    &quot;CF&quot; to &quot;+236&quot;,\n    &quot;CG&quot; to &quot;+242&quot;,\n    &quot;CH&quot; to &quot;+41&quot;,\n    &quot;CI&quot; to &quot;+225&quot;,\n    &quot;CK&quot; to &quot;+682&quot;,\n    &quot;CL&quot; to &quot;+56&quot;,\n    &quot;CM&quot; to &quot;+237&quot;,\n    &quot;CN&quot; to &quot;+86&quot;,\n    &quot;CO&quot; to &quot;+57&quot;,\n    &quot;CR&quot; to &quot;+506&quot;,\n    &quot;CS&quot; to &quot;+381&quot;,\n    &quot;CU&quot; to &quot;+53&quot;,\n    &quot;CV&quot; to &quot;+238&quot;,\n    &quot;CW&quot; to &quot;+599&quot;,\n    &quot;CX&quot; to &quot;+61&quot;,\n    &quot;CY&quot; to &quot;+90-392&quot;,\n    &quot;CZ&quot; to &quot;+420&quot;,\n    &quot;DE&quot; to &quot;+49&quot;,\n    &quot;DJ&quot; to &quot;+253&quot;,\n    &quot;DK&quot; to &quot;+45&quot;,\n    &quot;DM&quot; to &quot;+1-767&quot;,\n    &quot;DO&quot; to &quot;+1-809&quot;,\n    &quot;DZ&quot; to &quot;+213&quot;,\n    &quot;EC&quot; to &quot;+593&quot;,\n    &quot;EE&quot; to &quot;+372&quot;,\n    &quot;EG&quot; to &quot;+20&quot;,\n    &quot;EH&quot; to &quot;+212&quot;,\n    &quot;ER&quot; to &quot;+291&quot;,\n    &quot;ES&quot; to &quot;+34&quot;,\n    &quot;ET&quot; to &quot;+251&quot;,\n    &quot;FI&quot; to &quot;+358&quot;,\n    &quot;FJ&quot; to &quot;+679&quot;,\n    &quot;FK&quot; to &quot;+500&quot;,\n    &quot;FM&quot; to &quot;+691&quot;,\n    &quot;FO&quot; to &quot;+298&quot;,\n    &quot;FR&quot; to &quot;+33&quot;,\n    &quot;GA&quot; to &quot;+241&quot;,\n    &quot;GB&quot; to &quot;+44&quot;,\n    &quot;GD&quot; to &quot;+1-473&quot;,\n    &quot;GE&quot; to &quot;+995&quot;,\n    &quot;GF&quot; to &quot;+594&quot;,\n    &quot;GG&quot; to &quot;+44&quot;,\n    &quot;GH&quot; to &quot;+233&quot;,\n    &quot;GI&quot; to &quot;+350&quot;,\n    &quot;GL&quot; to &quot;+299&quot;,\n    &quot;GM&quot; to &quot;+220&quot;,\n    &quot;GN&quot; to &quot;+224&quot;,\n    &quot;GP&quot; to &quot;+590&quot;,\n    &quot;GQ&quot; to &quot;+240&quot;,\n    &quot;GR&quot; to &quot;+30&quot;,\n    &quot;GS&quot; to &quot;+500&quot;,\n    &quot;GT&quot; to &quot;+502&quot;,\n    &quot;GU&quot; to &quot;+1-671&quot;,\n    &quot;GW&quot; to &quot;+245&quot;,\n    &quot;GY&quot; to &quot;+592&quot;,\n    &quot;HK&quot; to &quot;+852&quot;,\n    &quot;HN&quot; to &quot;+504&quot;,\n    &quot;HR&quot; to &quot;+385&quot;,\n    &quot;HT&quot; to &quot;+509&quot;,\n    &quot;HU&quot; to &quot;+36&quot;,\n    &quot;ID&quot; to &quot;+62&quot;,\n    &quot;IE&quot; to &quot;+353&quot;,\n    &quot;IL&quot; to &quot;+972&quot;,\n    &quot;IM&quot; to &quot;+44&quot;,\n    &quot;IN&quot; to &quot;+91&quot;,\n    &quot;IO&quot; to &quot;+246&quot;,\n    &quot;IQ&quot; to &quot;+964&quot;,\n    &quot;IR&quot; to &quot;+98&quot;,\n    &quot;IS&quot; to &quot;+354&quot;,\n    &quot;IT&quot; to &quot;+39&quot;,\n    &quot;JE&quot; to &quot;+44&quot;,\n    &quot;JM&quot; to &quot;+1-876&quot;,\n    &quot;JO&quot; to &quot;+962&quot;,\n    &quot;JP&quot; to &quot;+81&quot;,\n    &quot;KE&quot; to &quot;+254&quot;,\n    &quot;KG&quot; to &quot;+996&quot;,\n    &quot;KH&quot; to &quot;+855&quot;,\n    &quot;KI&quot; to &quot;+686&quot;,\n    &quot;KM&quot; to &quot;+269&quot;,\n    &quot;KN&quot; to &quot;+1-869&quot;,\n    &quot;KP&quot; to &quot;+850&quot;,\n    &quot;KR&quot; to &quot;+82&quot;,\n    &quot;KW&quot; to &quot;+965&quot;,\n    &quot;KY&quot; to &quot;+1-345&quot;,\n    &quot;KZ&quot; to &quot;+7&quot;,\n    &quot;LA&quot; to &quot;+856&quot;,\n    &quot;LB&quot; to &quot;+961&quot;,\n    &quot;LC&quot; to &quot;+1-758&quot;,\n    &quot;LI&quot; to &quot;+423&quot;,\n    &quot;LK&quot; to &quot;+94&quot;,\n    &quot;LR&quot; to &quot;+231&quot;,\n    &quot;LS&quot; to &quot;+266&quot;,\n    &quot;LT&quot; to &quot;+370&quot;,\n    &quot;LU&quot; to &quot;+352&quot;,\n    &quot;LV&quot; to &quot;+371&quot;,\n    &quot;LY&quot; to &quot;+218&quot;,\n    &quot;MA&quot; to &quot;+212&quot;,\n    &quot;MC&quot; to &quot;+377&quot;,\n    &quot;MD&quot; to &quot;+373-533&quot;,\n    &quot;ME&quot; to &quot;+382&quot;,\n    &quot;MF&quot; to &quot;+590&quot;,\n    &quot;MG&quot; to &quot;+261&quot;,\n    &quot;MH&quot; to &quot;+692&quot;,\n    &quot;MK&quot; to &quot;+389&quot;,\n    &quot;ML&quot; to &quot;+223&quot;,\n    &quot;MM&quot; to &quot;+95&quot;,\n    &quot;MN&quot; to &quot;+976&quot;,\n    &quot;MO&quot; to &quot;+853&quot;,\n    &quot;MP&quot; to &quot;+1-670&quot;,\n    &quot;MQ&quot; to &quot;+596&quot;,\n    &quot;MR&quot; to &quot;+222&quot;,\n    &quot;MS&quot; to &quot;+1-664&quot;,\n    &quot;MT&quot; to &quot;+356&quot;,\n    &quot;MU&quot; to &quot;+230&quot;,\n    &quot;MV&quot; to &quot;+960&quot;,\n    &quot;MW&quot; to &quot;+265&quot;,\n    &quot;MX&quot; to &quot;+52&quot;,\n    &quot;MY&quot; to &quot;+60&quot;,\n    &quot;MZ&quot; to &quot;+258&quot;,\n    &quot;NA&quot; to &quot;+264&quot;,\n    &quot;NC&quot; to &quot;+687&quot;,\n    &quot;NE&quot; to &quot;+227&quot;,\n    &quot;NF&quot; to &quot;+672&quot;,\n    &quot;NG&quot; to &quot;+234&quot;,\n    &quot;NI&quot; to &quot;+505&quot;,\n    &quot;NL&quot; to &quot;+31&quot;,\n    &quot;NO&quot; to &quot;+47&quot;,\n    &quot;NP&quot; to &quot;+977&quot;,\n    &quot;NR&quot; to &quot;+674&quot;,\n    &quot;NU&quot; to &quot;+683&quot;,\n    &quot;NZ&quot; to &quot;+64&quot;,\n    &quot;OM&quot; to &quot;+968&quot;,\n    &quot;PA&quot; to &quot;+507&quot;,\n    &quot;PE&quot; to &quot;+51&quot;,\n    &quot;PF&quot; to &quot;+689&quot;,\n    &quot;PG&quot; to &quot;+675&quot;,\n    &quot;PH&quot; to &quot;+63&quot;,\n    &quot;PK&quot; to &quot;+92&quot;,\n    &quot;PL&quot; to &quot;+48&quot;,\n    &quot;PM&quot; to &quot;+508&quot;,\n    &quot;PR&quot; to &quot;+1-787&quot;,\n    &quot;PS&quot; to &quot;+970&quot;,\n    &quot;PT&quot; to &quot;+351&quot;,\n    &quot;PW&quot; to &quot;+680&quot;,\n    &quot;PY&quot; to &quot;+595&quot;,\n    &quot;QA&quot; to &quot;+974&quot;,\n    &quot;RE&quot; to &quot;+262&quot;,\n    &quot;RO&quot; to &quot;+40&quot;,\n    &quot;RS&quot; to &quot;+381&quot;,\n    &quot;RU&quot; to &quot;+7&quot;,\n    &quot;RW&quot; to &quot;+250&quot;,\n    &quot;SA&quot; to &quot;+966&quot;,\n    &quot;SB&quot; to &quot;+677&quot;,\n    &quot;SC&quot; to &quot;+248&quot;,\n    &quot;SD&quot; to &quot;+249&quot;,\n    &quot;SE&quot; to &quot;+46&quot;,\n    &quot;SG&quot; to &quot;+65&quot;,\n    &quot;SH&quot; to &quot;+290&quot;,\n    &quot;SI&quot; to &quot;+386&quot;,\n    &quot;SJ&quot; to &quot;+47&quot;,\n    &quot;SK&quot; to &quot;+421&quot;,\n    &quot;SL&quot; to &quot;+232&quot;,\n    &quot;SM&quot; to &quot;+378&quot;,\n    &quot;SN&quot; to &quot;+221&quot;,\n    &quot;SO&quot; to &quot;+252&quot;,\n    &quot;SR&quot; to &quot;+597&quot;,\n    &quot;SS&quot; to &quot;+211&quot;,\n    &quot;ST&quot; to &quot;+239&quot;,\n    &quot;SV&quot; to &quot;+503&quot;,\n    &quot;SX&quot; to &quot;+721&quot;,\n    &quot;SY&quot; to &quot;+963&quot;,\n    &quot;SZ&quot; to &quot;+268&quot;,\n    &quot;TA&quot; to &quot;+290&quot;,\n    &quot;TC&quot; to &quot;+1-649&quot;,\n    &quot;TD&quot; to &quot;+235&quot;,\n    &quot;TG&quot; to &quot;+228&quot;,\n    &quot;TH&quot; to &quot;+66&quot;,\n    &quot;TJ&quot; to &quot;+992&quot;,\n    &quot;TK&quot; to &quot;+690&quot;,\n    &quot;TL&quot; to &quot;+670&quot;,\n    &quot;TM&quot; to &quot;+993&quot;,\n    &quot;TN&quot; to &quot;+216&quot;,\n    &quot;TO&quot; to &quot;+676&quot;,\n    &quot;TR&quot; to &quot;+90&quot;,\n    &quot;TT&quot; to &quot;+1-868&quot;,\n    &quot;TV&quot; to &quot;+688&quot;,\n    &quot;TW&quot; to &quot;+886&quot;,\n    &quot;TZ&quot; to &quot;+255&quot;,\n    &quot;UA&quot; to &quot;+380&quot;,\n    &quot;UG&quot; to &quot;+256&quot;,\n    &quot;US&quot; to &quot;+1&quot;,\n    &quot;UY&quot; to &quot;+598&quot;,\n    &quot;UZ&quot; to &quot;+998&quot;,\n    &quot;VA&quot; to &quot;+379&quot;,\n    &quot;VC&quot; to &quot;+1-784&quot;,\n    &quot;VE&quot; to &quot;+58&quot;,\n    &quot;VG&quot; to &quot;+1-284&quot;,\n    &quot;VI&quot; to &quot;+1-340&quot;,\n    &quot;VN&quot; to &quot;+84&quot;,\n    &quot;VU&quot; to &quot;+678&quot;,\n    &quot;WF&quot; to &quot;+681&quot;,\n    &quot;WS&quot; to &quot;+685&quot;,\n    &quot;YE&quot; to &quot;+967&quot;,\n    &quot;YT&quot; to &quot;+262&quot;,\n    &quot;ZA&quot; to &quot;+27&quot;,\n    &quot;ZM&quot; to &quot;+260&quot;,\n    &quot;ZW&quot; to &quot;+263&quot;\n)\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36397,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10776064,"answer_count":5,"score":14,"last_activity_date":1685536527,"creation_date":1338103333,"question_id":10772329,"body_markdown":"I got the country iso by the code from this [answer][1]:  \r\n\r\n    TelephonyManager tm = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);\r\n    String countryCode = tm.getSimCountryIso();   \r\n\r\nhow can I get the prefix phone number for country?   \r\nfor example +972 for il.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3659809/where-am-i-get-country","title":"how to get country phone prefix from iso","body":"<p>I got the country iso by the code from this <a href=\"https://stackoverflow.com/questions/3659809/where-am-i-get-country\">answer</a>:  </p>\n\n<pre><code>TelephonyManager tm = (TelephonyManager)getSystemService(Context.TELEPHONY_SERVICE);\nString countryCode = tm.getSimCountryIso();   \n</code></pre>\n\n<p>how can I get the prefix phone number for country?<br>\nfor example +972 for il.</p>\n"},{"tags":["java","maven","maven-3"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685516428,"post_id":76370646,"comment_id":134669224,"body_markdown":"according to your configs you are deploying to `busy-libs-release-local` and trying to download from `busy-libs-release`, that seems to be a root cause.","body":"according to your configs you are deploying to <code>busy-libs-release-local</code> and trying to download from <code>busy-libs-release</code>, that seems to be a root cause."},{"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"score":0,"creation_date":1685534716,"post_id":76370646,"comment_id":134673051,"body_markdown":"@AndreyB.Panfilov, Thank you but busy-libs-release is a virtual repo that reflects the contents of busy-libs-release-local. I can&#39;t write to busy-libs-release (get a 405). Hence I write to busy-libs-release-local and read from busy-libs-release. I can see the file in the virtual repo and curl but maven cannot find it for some reason. Also, I just tried reading directly from release-local and got the same error - Could not find artifact org.xyzCompany:test-parent:pom:0.0.1 in central (https://hidden.jfrog.io/artifactory/busy-libs-release-local) although the pom&#39;s in there.","body":"@AndreyB.Panfilov, Thank you but busy-libs-release is a virtual repo that reflects the contents of busy-libs-release-local. I can&#39;t write to busy-libs-release (get a 405). Hence I write to busy-libs-release-local and read from busy-libs-release. I can see the file in the virtual repo and curl but maven cannot find it for some reason. Also, I just tried reading directly from release-local and got the same error - Could not find artifact org.xyzCompany:test-parent:pom:0.0.1 in central (<a href=\"https://hidden.jfrog.io/artifactory/busy-libs-release-local\" rel=\"nofollow noreferrer\">hidden.jfrog.io/artifactory/busy-libs-release-local</a>) although the pom&#39;s in there."},{"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"score":0,"creation_date":1685536459,"post_id":76370646,"comment_id":134673530,"body_markdown":"Looks like issue was caused by &quot;Hide Existence of Unauthorized Resources&quot; and needs an additional configuration to use preemptive auth. Answer below. Thanks.","body":"Looks like issue was caused by &quot;Hide Existence of Unauthorized Resources&quot; and needs an additional configuration to use preemptive auth. Answer below. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685536311,"creation_date":1685536311,"answer_id":76373523,"question_id":76370646,"body_markdown":"The issue was resolved by\r\n\r\nhttps://stackoverflow.com/questions/43396013/artifactory-file-not-found-by-maven-if-anonymous-access-is-allowed\r\n\r\nUsing pre-emptive authentication seems to have resolved the issue\r\n\r\n           &lt;server&gt;\r\n              &lt;configuration&gt;\r\n    \t\t\t&lt;httpConfiguration&gt;\r\n    \t\t\t  &lt;all&gt;\r\n    \t\t\t\t&lt;usePreemptive&gt;true&lt;/usePreemptive&gt;\r\n    \t\t\t  &lt;/all&gt;\r\n    \t\t\t&lt;/httpConfiguration&gt;\r\n    \t\t  &lt;/configuration&gt;\r\n    \t\t  &lt;username&gt;{username}&lt;/username&gt;\r\n    \t\t  &lt;password&gt;{password}&lt;/password&gt;\r\n    \t\t  &lt;id&gt;central&lt;/id&gt;\r\n    \t\t&lt;/server&gt;\r\n\r\n","title":"Maven cannot find parent pom from artifactory even though it exists","body":"<p>The issue was resolved by</p>\n<p><a href=\"https://stackoverflow.com/questions/43396013/artifactory-file-not-found-by-maven-if-anonymous-access-is-allowed\">Artifactory: file not found by Maven if anonymous access is allowed</a></p>\n<p>Using pre-emptive authentication seems to have resolved the issue</p>\n<pre><code>       &lt;server&gt;\n          &lt;configuration&gt;\n            &lt;httpConfiguration&gt;\n              &lt;all&gt;\n                &lt;usePreemptive&gt;true&lt;/usePreemptive&gt;\n              &lt;/all&gt;\n            &lt;/httpConfiguration&gt;\n          &lt;/configuration&gt;\n          &lt;username&gt;{username}&lt;/username&gt;\n          &lt;password&gt;{password}&lt;/password&gt;\n          &lt;id&gt;central&lt;/id&gt;\n        &lt;/server&gt;\n</code></pre>\n"}],"owner":{"account_id":243616,"reputation":9537,"user_id":515922,"accept_rate":89,"display_name":"Aravind A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685536311,"creation_date":1685513777,"question_id":76370646,"body_markdown":"I have a simple maven parent-child project. The parent pom sits on it&#39;s own project. The project has been tested with a trial artifactory which had maven repo autoconfig. Works smooth there. Unfortunately our corporate artifactory did not have the auto config and the repos were manually created. \r\n\r\nMaven deploy on parent works fine. The deploy on child fails in the corporate artifactory since it cannot find the parent. The issue exists on both release and snapshot repos. Maven does search the repo and the file location looks fine(curl to the  location returns the pom and if I put the url in browser, file gets downloaded). Why isn&#39;t maven able to download it? It is an auth issue? Any help will be much appreciated. Thanks.\r\n\r\nError\r\n\r\n[![mvn clean deploy][1]][1]\r\n\r\n\r\nI can simulate the issue with following pom\r\n\r\nParent\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;parent-pom&lt;/name&gt;\r\n    \t&lt;description&gt;Parent POM&lt;/description&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\t&lt;distributionManagement&gt;\r\n    \t\t&lt;snapshotRepository&gt;\r\n    \t\t\t&lt;id&gt;snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;artifactory-snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://hidden.jfrog.io/artifactory/busy-libs-snapshot-local&lt;/url&gt;\r\n    \t\t&lt;/snapshotRepository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;central&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;artifactory-release&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://hidden.jfrog.io/artifactory/busy-libs-release-local&lt;/url&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/distributionManagement&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nChild\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-child&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n    \t&lt;packaging&gt;mule-application&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;salesforce-data-migration&lt;/name&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;test-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;0.0.1&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t  &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n    \t\t\t  &lt;configuration&gt;\r\n    \t\t\t\t\t&lt;useReleaseProfile&gt;false&lt;/useReleaseProfile&gt;\r\n    \t\t\t  &lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;42.6.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t\t\r\n    &lt;/project&gt;\r\n\r\nSettings\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNothing much in debug logs either. Please note, busy-libs-release is a virtual repo that reflects the contents of busy-libs-release-local. I am unable to write to the virtual repo. So write to busy-libs-release-local and read from busy-libs-release. Reading directly from busy-libs-release-local also has the same issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4rwI9.png\r\n  [2]: https://i.stack.imgur.com/IpIZg.png","title":"Maven cannot find parent pom from artifactory even though it exists","body":"<p>I have a simple maven parent-child project. The parent pom sits on it's own project. The project has been tested with a trial artifactory which had maven repo autoconfig. Works smooth there. Unfortunately our corporate artifactory did not have the auto config and the repos were manually created.</p>\n<p>Maven deploy on parent works fine. The deploy on child fails in the corporate artifactory since it cannot find the parent. The issue exists on both release and snapshot repos. Maven does search the repo and the file location looks fine(curl to the  location returns the pom and if I put the url in browser, file gets downloaded). Why isn't maven able to download it? It is an auth issue? Any help will be much appreciated. Thanks.</p>\n<p>Error</p>\n<p><a href=\"https://i.stack.imgur.com/4rwI9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4rwI9.png\" alt=\"mvn clean deploy\" /></a></p>\n<p>I can simulate the issue with following pom</p>\n<p>Parent</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\n    &lt;artifactId&gt;test-parent&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;parent-pom&lt;/name&gt;\n    &lt;description&gt;Parent POM&lt;/description&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n        &lt;distributionManagement&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;snapshots&lt;/id&gt;\n            &lt;name&gt;artifactory-snapshots&lt;/name&gt;\n            &lt;url&gt;https://hidden.jfrog.io/artifactory/busy-libs-snapshot-local&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;name&gt;artifactory-release&lt;/name&gt;\n            &lt;url&gt;https://hidden.jfrog.io/artifactory/busy-libs-release-local&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Child</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\n    &lt;artifactId&gt;test-child&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;mule-application&lt;/packaging&gt;\n\n    &lt;name&gt;salesforce-data-migration&lt;/name&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.xyzCompany&lt;/groupId&gt;\n        &lt;artifactId&gt;test-parent&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n              &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n              &lt;configuration&gt;\n                    &lt;useReleaseProfile&gt;false&lt;/useReleaseProfile&gt;\n              &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n        \n&lt;/project&gt;\n</code></pre>\n<p>Settings</p>\n<p><a href=\"https://i.stack.imgur.com/IpIZg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IpIZg.png\" alt=\"enter image description here\" /></a></p>\n<p>Nothing much in debug logs either. Please note, busy-libs-release is a virtual repo that reflects the contents of busy-libs-release-local. I am unable to write to the virtual repo. So write to busy-libs-release-local and read from busy-libs-release. Reading directly from busy-libs-release-local also has the same issue.</p>\n"},{"tags":["java","mysql","wamp","jakarta-mail"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1685474281,"post_id":76367940,"comment_id":134664357,"body_markdown":"Your design would be better if you refactored the schema to 3rd normal form: one-to-many between receiver and score tables.    Sounds like you have PDF generation with the loop over records inside.  You need to reverse those two: loop over records and create a PDF inside that loop.  Your code is doing too much: query the database, create PDFs, send emails with attachments.  Refactor and test each method individually.","body":"Your design would be better if you refactored the schema to 3rd normal form: one-to-many between receiver and score tables.    Sounds like you have PDF generation with the loop over records inside.  You need to reverse those two: loop over records and create a PDF inside that loop.  Your code is doing too much: query the database, create PDFs, send emails with attachments.  Refactor and test each method individually."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685474606,"post_id":76367940,"comment_id":134664428,"body_markdown":"Your email routine is sub-optimal too. You should establish the `Session` before the loop and send *in it*","body":"Your email routine is sub-optimal too. You should establish the <code>Session</code> before the loop and send <i>in it</i>"},{"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"score":0,"creation_date":1685476980,"post_id":76367940,"comment_id":134664882,"body_markdown":"was thinking thats what i did @duffymo . it seems am not being able to grasp it entirely. kindly give me a sample code let me follow. thanks","body":"was thinking thats what i did @duffymo . it seems am not being able to grasp it entirely. kindly give me a sample code let me follow. thanks"},{"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"score":0,"creation_date":1685477059,"post_id":76367940,"comment_id":134664891,"body_markdown":"i tried establishing the ```session``` before the loop but still same issue @g00se .","body":"i tried establishing the <code>session</code> before the loop but still same issue @g00se ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685477808,"post_id":76367940,"comment_id":134665030,"body_markdown":"You need to post the jrxml file too","body":"You need to post the jrxml file too"},{"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"score":0,"creation_date":1685479159,"post_id":76367940,"comment_id":134665246,"body_markdown":"still same issue @g00se. am thinking the issue has to do with ```Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();``` . i believe its loading all records instead of a single record from the database. just trying hard to find the issue. if you have any sample code kingly let it assist me. thanks @g00se","body":"still same issue @g00se. am thinking the issue has to do with <code>Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();</code> . i believe its loading all records instead of a single record from the database. just trying hard to find the issue. if you have any sample code kingly let it assist me. thanks @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685485503,"post_id":76367940,"comment_id":134666200,"body_markdown":"Where is the jrxml?","body":"Where is the jrxml?"},{"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"score":0,"creation_date":1685487042,"post_id":76367940,"comment_id":134666364,"body_markdown":"its in my main project folder @g00se. so i refer to it in the code like this : ```jasperReport = JasperCompileManager.compileReport(&quot;studentScore.jrxml&quot;);``` i am able to send the pdf to all emails successfully. but the issue is it loads all records of the database into the jrxml file before converting to pdf. i printed out values in the ```Map&lt;String, Object&gt; parameters = new HarshMap&lt;&gt;()``` and it loaded each single record at a time. i just dont know how all records loaded into jrxml file","body":"its in my main project folder @g00se. so i refer to it in the code like this : <code>jasperReport = JasperCompileManager.compileReport(&quot;studentScore.jrxml&quot;);</code> i am able to send the pdf to all emails successfully. but the issue is it loads all records of the database into the jrxml file before converting to pdf. i printed out values in the <code>Map&lt;String, Object&gt; parameters = new HarshMap&lt;&gt;()</code> and it loaded each single record at a time. i just dont know how all records loaded into jrxml file"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685488697,"post_id":76367940,"comment_id":134666541,"body_markdown":"I wanted you to post the jrxml. I&#39;m guessing you&#39;re doing the full query in that and that it&#39;s filling the report","body":"I wanted you to post the jrxml. I&#39;m guessing you&#39;re doing the full query in that and that it&#39;s filling the report"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685536304,"creation_date":1685494185,"answer_id":76369464,"question_id":76367940,"body_markdown":"Here&#39;s how I might refactor your code.  I end up with four interfaces and four classes.  You&#39;d need to add implementations for two of the interfaces.\r\n\r\nStart with an encapsulation for your data - `User`:\r\n\r\n    package report;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    public class User {\r\n    \r\n        private final String name;\r\n    \r\n        private final String email;\r\n        private final List&lt;Double&gt; scores;\r\n    \r\n        public User(String name, String email, List&lt;Double&gt; scores) {\r\n            if ((name == null) || (name.trim().length() == 0)) throw new IllegalArgumentException(&quot;Name cannot be blank or null&quot;);\r\n            if ((email == null) || (email.trim().length() == 0)) throw new IllegalArgumentException(&quot;Email cannot be blank or null&quot;);\r\n            this.name = name.trim();\r\n            this.email = email.trim();\r\n            this.scores = (scores != null) ? new ArrayList&lt;&gt;(scores) : new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public List&lt;Double&gt; getScores() {\r\n            return Collections.unmodifiableList(scores);\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            User user = (User) o;\r\n    \r\n            if (!getName().equals(user.getName())) return false;\r\n            if (!getEmail().equals(user.getEmail())) return false;\r\n            return getScores().equals(user.getScores());\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = getName().hashCode();\r\n            result = 31 * result + getEmail().hashCode();\r\n            result = 31 * result + getScores().hashCode();\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;User{&quot; +\r\n                    &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                    &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                    &quot;, scores=&quot; + scores +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nI created the User class using IntelliJ 2023.1, running under JDK 17.  It might be a good case for using a record class.\r\n\r\nCreate an interface `UserRepository` and an implementation that does nothing but interact with your relational database:\r\n\r\n    package report;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    public interface UserRepository {\r\n    \r\n        User findByName(String name);\r\n    \r\n        default void close(ResultSet rs) {\r\n            try {\r\n                if (rs != null) {\r\n                    rs.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                // log at best\r\n            }\r\n        }\r\n        default void close(Statement st) {\r\n            try {\r\n                if (st != null) {\r\n                    st.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                // log at best.\r\n            }\r\n        }\r\n    \r\n        default void close(Connection connection) {\r\n            try {\r\n                if (connection != null) {\r\n                    connection.close();\r\n                }\r\n            } catch (SQLException e) {\r\n                // log at best.\r\n            }\r\n        }\r\n    }\r\n\r\nHere&#39;s an implementation: \r\n\r\n    package report;\r\n    \r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    \r\n    public class UserRepositoryImpl implements UserRepository {\r\n    \r\n        public static final String FIND_BY_NAME = &quot;SELECT NAME, EMAIL, SCORE1, SCORE2, SCORE3, SCORE4 FROM SCORE_TABLE WHERE NAME = ?&quot;;\r\n    \r\n        private final Connection connection;\r\n    \r\n        public UserRepositoryImpl(Connection connection) {\r\n            this.connection = connection;\r\n        }\r\n    \r\n        @Override\r\n        public User findByName(String name) {\r\n            User user;\r\n            ResultSet rs = null;\r\n            PreparedStatement ps = null;\r\n            try {\r\n                ps = this.connection.prepareStatement(FIND_BY_NAME);\r\n                rs = ps.executeQuery();\r\n                user = new UserMapper().mapRow(rs);\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            } finally {\r\n                close(rs);\r\n                close(ps);\r\n            }\r\n            return user;\r\n        }\r\n    }\r\n\r\nThe repository implementation uses a `RowMapper` interface and a `UserMapper` implementation:\r\n\r\n    package report;\r\n    \r\n    import java.sql.ResultSet;\r\n    \r\n    public interface RowMapper&lt;T&gt; {\r\n        T mapRow(ResultSet rs);\r\n    }\r\n\r\nHere is the implementation from a `UserMapper`:\r\n\r\n    package report;\r\n    \r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class UserMapper implements RowMapper&lt;User&gt; {\r\n    \r\n        @Override\r\n        public User mapRow(ResultSet rs) {\r\n            User user = null;\r\n            try {\r\n                while (rs.next()) {\r\n                    String name = rs.getString(&quot;NAME&quot;);\r\n                    String email = rs.getString(&quot;EMAIL&quot;);\r\n                    List&lt;Double&gt; scores = new ArrayList&lt;&gt;();\r\n                    scores.add(rs.getDouble(&quot;SCORE1&quot;));\r\n                    scores.add(rs.getDouble(&quot;SCORE2&quot;));\r\n                    scores.add(rs.getDouble(&quot;SCORE3&quot;));\r\n                    scores.add(rs.getDouble(&quot;SCORE4&quot;));\r\n                    user = new User(name, email, scores);\r\n                }\r\n            } catch (SQLException e) {\r\n                user = null;\r\n            }\r\n            return user;\r\n        }\r\n    }\r\n\r\nThere are interfaces for your Jasper report generator and email client:\r\n\r\n    package report;\r\n    \r\n    public interface JasperReportGenerator&lt;T&gt; {\r\n    \r\n        byte [] generate(String jrxml, T data);\r\n    }\r\n\r\n    package report;\r\n    \r\n    public interface EmailClient {\r\n    \r\n        void send(String from, String to, String subject, String body, byte [] attachment);\r\n    }\r\n\r\nThis is more classes than your single method.  This approach has a few advantages:\r\n\r\n - Each class does one thing well (single responsibility principle)\r\n - It&#39;s easy to test each class individually using Junit.\r\n\r\n\r\nSee if this approach helps you.\r\n","title":"generate pdf of each record in database table and send as attachment to email","body":"<p>Here's how I might refactor your code.  I end up with four interfaces and four classes.  You'd need to add implementations for two of the interfaces.</p>\n<p>Start with an encapsulation for your data - <code>User</code>:</p>\n<pre><code>package report;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class User {\n\n    private final String name;\n\n    private final String email;\n    private final List&lt;Double&gt; scores;\n\n    public User(String name, String email, List&lt;Double&gt; scores) {\n        if ((name == null) || (name.trim().length() == 0)) throw new IllegalArgumentException(&quot;Name cannot be blank or null&quot;);\n        if ((email == null) || (email.trim().length() == 0)) throw new IllegalArgumentException(&quot;Email cannot be blank or null&quot;);\n        this.name = name.trim();\n        this.email = email.trim();\n        this.scores = (scores != null) ? new ArrayList&lt;&gt;(scores) : new ArrayList&lt;&gt;();\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public List&lt;Double&gt; getScores() {\n        return Collections.unmodifiableList(scores);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        User user = (User) o;\n\n        if (!getName().equals(user.getName())) return false;\n        if (!getEmail().equals(user.getEmail())) return false;\n        return getScores().equals(user.getScores());\n    }\n\n    @Override\n    public int hashCode() {\n        int result = getName().hashCode();\n        result = 31 * result + getEmail().hashCode();\n        result = 31 * result + getScores().hashCode();\n        return result;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, scores=&quot; + scores +\n                '}';\n    }\n}\n</code></pre>\n<p>I created the User class using IntelliJ 2023.1, running under JDK 17.  It might be a good case for using a record class.</p>\n<p>Create an interface <code>UserRepository</code> and an implementation that does nothing but interact with your relational database:</p>\n<pre><code>package report;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic interface UserRepository {\n\n    User findByName(String name);\n\n    default void close(ResultSet rs) {\n        try {\n            if (rs != null) {\n                rs.close();\n            }\n        } catch (SQLException e) {\n            // log at best\n        }\n    }\n    default void close(Statement st) {\n        try {\n            if (st != null) {\n                st.close();\n            }\n        } catch (SQLException e) {\n            // log at best.\n        }\n    }\n\n    default void close(Connection connection) {\n        try {\n            if (connection != null) {\n                connection.close();\n            }\n        } catch (SQLException e) {\n            // log at best.\n        }\n    }\n}\n</code></pre>\n<p>Here's an implementation:</p>\n<pre><code>package report;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class UserRepositoryImpl implements UserRepository {\n\n    public static final String FIND_BY_NAME = &quot;SELECT NAME, EMAIL, SCORE1, SCORE2, SCORE3, SCORE4 FROM SCORE_TABLE WHERE NAME = ?&quot;;\n\n    private final Connection connection;\n\n    public UserRepositoryImpl(Connection connection) {\n        this.connection = connection;\n    }\n\n    @Override\n    public User findByName(String name) {\n        User user;\n        ResultSet rs = null;\n        PreparedStatement ps = null;\n        try {\n            ps = this.connection.prepareStatement(FIND_BY_NAME);\n            rs = ps.executeQuery();\n            user = new UserMapper().mapRow(rs);\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        } finally {\n            close(rs);\n            close(ps);\n        }\n        return user;\n    }\n}\n</code></pre>\n<p>The repository implementation uses a <code>RowMapper</code> interface and a <code>UserMapper</code> implementation:</p>\n<pre><code>package report;\n\nimport java.sql.ResultSet;\n\npublic interface RowMapper&lt;T&gt; {\n    T mapRow(ResultSet rs);\n}\n</code></pre>\n<p>Here is the implementation from a <code>UserMapper</code>:</p>\n<pre><code>package report;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class UserMapper implements RowMapper&lt;User&gt; {\n\n    @Override\n    public User mapRow(ResultSet rs) {\n        User user = null;\n        try {\n            while (rs.next()) {\n                String name = rs.getString(&quot;NAME&quot;);\n                String email = rs.getString(&quot;EMAIL&quot;);\n                List&lt;Double&gt; scores = new ArrayList&lt;&gt;();\n                scores.add(rs.getDouble(&quot;SCORE1&quot;));\n                scores.add(rs.getDouble(&quot;SCORE2&quot;));\n                scores.add(rs.getDouble(&quot;SCORE3&quot;));\n                scores.add(rs.getDouble(&quot;SCORE4&quot;));\n                user = new User(name, email, scores);\n            }\n        } catch (SQLException e) {\n            user = null;\n        }\n        return user;\n    }\n}\n</code></pre>\n<p>There are interfaces for your Jasper report generator and email client:</p>\n<pre><code>package report;\n\npublic interface JasperReportGenerator&lt;T&gt; {\n\n    byte [] generate(String jrxml, T data);\n}\n\npackage report;\n\npublic interface EmailClient {\n\n    void send(String from, String to, String subject, String body, byte [] attachment);\n}\n</code></pre>\n<p>This is more classes than your single method.  This approach has a few advantages:</p>\n<ul>\n<li>Each class does one thing well (single responsibility principle)</li>\n<li>It's easy to test each class individually using Junit.</li>\n</ul>\n<p>See if this approach helps you.</p>\n"}],"owner":{"account_id":28712986,"reputation":1,"user_id":21988140,"display_name":"mpaypal100"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685536304,"creation_date":1685473986,"question_id":76367940,"body_markdown":"I have 4 records in database table. The table has columns id, name, score1, score2, score3, total, email. each record has a different email. the purpose of the code is to loop through each record, generate a pdf for each record by the records &#39;id&#39; and send pdf as email to the email value of the record. i used the while loop but hard as i try, my code rather generates pdf of all the records and sends to each recipient email. &#39;i only want it to generate pdf of only each record and send to the recipients email at a time&#39;. cant really tell where i am going wrong.\r\n\r\n```\r\ntry{\r\nString sql=&quot;select * from score_table where id=score_table.id&quot;;\r\npst=con.prepareStatement(sql);\r\nrs=pst.executeQuery();\r\n// Loop through each record\r\nwhile (rs.next()) {\r\n  // Retrieve data for current record\r\n  String name = rs.getString(&quot;name&quot;);\r\n  String score1 = rs.getString(&quot;score1&quot;);\r\n  String score2 = rs.getString(&quot;score2&quot;);\r\n  String score3 = rs.getString(&quot;score3&quot;);\r\n  String score4 = rs.getString(&quot;score4&quot;); \r\n  int total = rs.getInt(&quot;total&quot;);\r\n  String recipientEmail = rs.getString(&quot;email&quot;);\r\n\r\n  // Create parameters for the report\r\n  Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\r\n  parameters.put(&quot;name&quot;, name);\r\n  parameters.put(&quot;score1&quot;, score1);\r\n  parameters.put(&quot;score2&quot;, score2);\r\n  parameters.put(&quot;score3&quot;, score3);\r\n  parameters.put(&quot;score4&quot;, score4);\r\n  parameters.put(&quot;total&quot;, total);\r\n\r\n  // Load report template\r\n  JasperReport jasperReport = JasperCompileManager.compileReport(&quot;studentSco.jrxml&quot;);\r\n\r\n  // Populate report with data\r\n  JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, con);\r\n\r\n  // Export report to PDF file\r\n  byte[] pdfBytes = JasperExportManager.exportReportToPdf(jasperPrint);\r\n\r\n  // Create new email message\r\n  Properties props = new Properties();\r\n  props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n  props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n  props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n  props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n  props.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\n  Session session = Session.getInstance(props, new javax.mail.Authenticator() {\r\n    @Override\r\n    protected PasswordAuthentication getPasswordAuthentication() {\r\n        return new PasswordAuthentication(&quot;rodysoftonline@gmail.com&quot;, &quot;wdmssbarmwfgxxxw&quot;);\r\n    }\r\n});\r\n\r\n  Message message = new MimeMessage(session);\r\n  message.setFrom(new InternetAddress(&quot;rodysoftonline@gmail.com&quot;));\r\n  message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(recipientEmail));\r\n  message.setSubject(&quot;Report for &quot; + name);\r\n\r\nMimeBodyPart attachment = new MimeBodyPart();\r\nByteArrayDataSource source = new ByteArrayDataSource(pdfBytes, &quot;application/pdf&quot;);\r\nattachment.setDataHandler(new DataHandler(source));\r\nattachment.setFileName(&quot;report_&quot; + name + &quot;.pdf&quot;);\r\n\r\n  Multipart multipart = new MimeMultipart();\r\n  multipart.addBodyPart(attachment);\r\n\r\n  message.setContent(multipart);\r\n\r\n  // Send email\r\n  Transport.send(message);\r\n  System.out.println(&quot;email sent successfully&quot;);\r\n}\r\n    }catch(SQLException | MessagingException | JRException e){\r\nJOptionPane.showMessageDialog(null,e);\r\n}\r\n// Close database connection and resources\r\nfinally{\r\ntry{\r\nrs.close();\r\npst.close();\r\n  }\r\ncatch(SQLException e){\r\n      }\r\n        }\r\n```\r\n\r\nThis is what i have so far. though its in a while loop, it only generates pdf for all records once and sends to each email in record. i want it to generate pdf for only each record and send to record&#39;s email, generate pdf of next record, send to email and so on... till its done with all records in the table","title":"generate pdf of each record in database table and send as attachment to email","body":"<p>I have 4 records in database table. The table has columns id, name, score1, score2, score3, total, email. each record has a different email. the purpose of the code is to loop through each record, generate a pdf for each record by the records 'id' and send pdf as email to the email value of the record. i used the while loop but hard as i try, my code rather generates pdf of all the records and sends to each recipient email. 'i only want it to generate pdf of only each record and send to the recipients email at a time'. cant really tell where i am going wrong.</p>\n<pre><code>try{\nString sql=&quot;select * from score_table where id=score_table.id&quot;;\npst=con.prepareStatement(sql);\nrs=pst.executeQuery();\n// Loop through each record\nwhile (rs.next()) {\n  // Retrieve data for current record\n  String name = rs.getString(&quot;name&quot;);\n  String score1 = rs.getString(&quot;score1&quot;);\n  String score2 = rs.getString(&quot;score2&quot;);\n  String score3 = rs.getString(&quot;score3&quot;);\n  String score4 = rs.getString(&quot;score4&quot;); \n  int total = rs.getInt(&quot;total&quot;);\n  String recipientEmail = rs.getString(&quot;email&quot;);\n\n  // Create parameters for the report\n  Map&lt;String, Object&gt; parameters = new HashMap&lt;&gt;();\n  parameters.put(&quot;name&quot;, name);\n  parameters.put(&quot;score1&quot;, score1);\n  parameters.put(&quot;score2&quot;, score2);\n  parameters.put(&quot;score3&quot;, score3);\n  parameters.put(&quot;score4&quot;, score4);\n  parameters.put(&quot;total&quot;, total);\n\n  // Load report template\n  JasperReport jasperReport = JasperCompileManager.compileReport(&quot;studentSco.jrxml&quot;);\n\n  // Populate report with data\n  JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, parameters, con);\n\n  // Export report to PDF file\n  byte[] pdfBytes = JasperExportManager.exportReportToPdf(jasperPrint);\n\n  // Create new email message\n  Properties props = new Properties();\n  props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n  props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n  props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n  props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n  props.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n\n  Session session = Session.getInstance(props, new javax.mail.Authenticator() {\n    @Override\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(&quot;rodysoftonline@gmail.com&quot;, &quot;wdmssbarmwfgxxxw&quot;);\n    }\n});\n\n  Message message = new MimeMessage(session);\n  message.setFrom(new InternetAddress(&quot;rodysoftonline@gmail.com&quot;));\n  message.setRecipients(Message.RecipientType.TO, InternetAddress.parse(recipientEmail));\n  message.setSubject(&quot;Report for &quot; + name);\n\nMimeBodyPart attachment = new MimeBodyPart();\nByteArrayDataSource source = new ByteArrayDataSource(pdfBytes, &quot;application/pdf&quot;);\nattachment.setDataHandler(new DataHandler(source));\nattachment.setFileName(&quot;report_&quot; + name + &quot;.pdf&quot;);\n\n  Multipart multipart = new MimeMultipart();\n  multipart.addBodyPart(attachment);\n\n  message.setContent(multipart);\n\n  // Send email\n  Transport.send(message);\n  System.out.println(&quot;email sent successfully&quot;);\n}\n    }catch(SQLException | MessagingException | JRException e){\nJOptionPane.showMessageDialog(null,e);\n}\n// Close database connection and resources\nfinally{\ntry{\nrs.close();\npst.close();\n  }\ncatch(SQLException e){\n      }\n        }\n</code></pre>\n<p>This is what i have so far. though its in a while loop, it only generates pdf for all records once and sends to each email in record. i want it to generate pdf for only each record and send to record's email, generate pdf of next record, send to email and so on... till its done with all records in the table</p>\n"},{"tags":["java","android","android-canvas"],"comments":[{"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"score":1,"creation_date":1388302331,"post_id":20822977,"comment_id":31225696,"body_markdown":"Paint.setStrokeCap(Paint.Cap.ROUND)","body":"Paint.setStrokeCap(Paint.Cap.ROUND)"},{"owner":{"display_name":"user2726456"},"score":0,"creation_date":1388302840,"post_id":20822977,"comment_id":31225771,"body_markdown":"@GareginSargsyan : Can you post it as answer so that i can accept it","body":"@GareginSargsyan : Can you post it as answer so that i can accept it"},{"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"score":0,"creation_date":1388303061,"post_id":20822977,"comment_id":31225804,"body_markdown":"Your question is put on hold. I cannot post an answer. You should improve it, or remove it. You should read this: http://meta.stackexchange.com/questions/156810/stack-overflow-question-checklist","body":"Your question is put on hold. I cannot post an answer. You should improve it, or remove it. You should read this: <a href=\"http://meta.stackexchange.com/questions/156810/stack-overflow-question-checklist\" title=\"stack overflow question checklist\">meta.stackexchange.com/questions/156810/&hellip;</a>"},{"owner":{"account_id":2866317,"reputation":6243,"user_id":3136246,"display_name":"Avinash Babu"},"score":0,"creation_date":1388308457,"post_id":20822977,"comment_id":31226848,"body_markdown":"http://stackoverflow.com/questions/8287949/android-how-to-draw-a-smooth-line-following-your-finger","body":"<a href=\"http://stackoverflow.com/questions/8287949/android-how-to-draw-a-smooth-line-following-your-finger\" title=\"android how to draw a smooth line following your finger\">stackoverflow.com/questions/8287949/&hellip;</a>"},{"owner":{"display_name":"user2726456"},"score":0,"creation_date":1388308857,"post_id":20822977,"comment_id":31226949,"body_markdown":"@GareginSargsyan : Now you can post your answer. It seems flagging the moderators hold and comment has removed  (also my comments too), they felt touchy perhaps ;)","body":"@GareginSargsyan : Now you can post your answer. It seems flagging the moderators hold and comment has removed  (also my comments too), they felt touchy perhaps ;)"},{"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"score":1,"creation_date":1388309123,"post_id":20822977,"comment_id":31227004,"body_markdown":"Finally the justice has been served :)","body":"Finally the justice has been served :)"}],"answers":[{"tags":[],"owner":{"account_id":3734008,"reputation":1887,"user_id":3105452,"display_name":"GareginSargsyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1388309562,"creation_date":1388309562,"answer_id":20823792,"question_id":20822977,"body_markdown":"Use the `Paint.setStrokeCap()` method. You need `Paint.Cap.ROUND`. The default one is `Paint.Cap.BUTT`. There is a similar `Path` property that is called path join. It determines how to draw the parts of the path where it&#39;s constituent segments join. To set it use `Path.setPathJoin()`. You might need it in the future.\r\nGood luck.","title":"Draw a line with curved edges in Android","body":"<p>Use the <code>Paint.setStrokeCap()</code> method. You need <code>Paint.Cap.ROUND</code>. The default one is <code>Paint.Cap.BUTT</code>. There is a similar <code>Path</code> property that is called path join. It determines how to draw the parts of the path where it's constituent segments join. To set it use <code>Path.setPathJoin()</code>. You might need it in the future.\nGood luck.</p>\n"},{"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1654073549,"post_id":72457752,"comment_id":128002755,"body_markdown":"How is that different from the accepted answer?","body":"How is that different from the accepted answer?"}],"tags":[],"owner":{"account_id":9313381,"reputation":860,"user_id":6914403,"display_name":"Jithin Jude"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654073520,"creation_date":1654067819,"answer_id":72457752,"question_id":20822977,"body_markdown":"**You can use below**\r\n\r\n    pitchPaint.setStrokeCap(Paint.Cap.ROUND)","title":"Draw a line with curved edges in Android","body":"<p><strong>You can use below</strong></p>\n<pre><code>pitchPaint.setStrokeCap(Paint.Cap.ROUND)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18845028,"reputation":135,"user_id":13745548,"display_name":"El farouk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678526880,"creation_date":1678526880,"answer_id":75703964,"question_id":20822977,"body_markdown":"this is for **kotlin Jetpack Compose** users :\r\nuse the **cap** attribute \r\n\r\n    Canvas(modifier = Modifier.fillMaxSize()) {\r\n    \r\n                // Fetching width and height for\r\n                // setting start x and end y\r\n    \r\n                val canvasHeight = size.height\r\n                \r\n                // drawing a line between start(x,y) and end(x,y)\r\n                drawLine(\r\n                    start = Offset(x = 0f, y = 0.12f * canvasHeight),\r\n                    end = Offset(x = 0f, y =0.5f *canvasHeight),\r\n                    color = Color.Red,\r\n                    strokeWidth = 10F,\r\n                    cap = StrokeCap.Round\r\n                )\r\n            }\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tfzko.png","title":"Draw a line with curved edges in Android","body":"<p>this is for <strong>kotlin Jetpack Compose</strong> users :\nuse the <strong>cap</strong> attribute</p>\n<pre><code>Canvas(modifier = Modifier.fillMaxSize()) {\n\n            // Fetching width and height for\n            // setting start x and end y\n\n            val canvasHeight = size.height\n            \n            // drawing a line between start(x,y) and end(x,y)\n            drawLine(\n                start = Offset(x = 0f, y = 0.12f * canvasHeight),\n                end = Offset(x = 0f, y =0.5f *canvasHeight),\n                color = Color.Red,\n                strokeWidth = 10F,\n                cap = StrokeCap.Round\n            )\n        }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tfzko.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tfzko.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22038257,"reputation":1,"user_id":16304396,"display_name":"Aditya Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685536261,"creation_date":1685536261,"answer_id":76373515,"question_id":20822977,"body_markdown":"    path = new Path();\r\n    path.moveTo(50, 50);\r\n    path.lineTo(50, 500);\r\n    path.lineTo(200, 500);\r\n    path.lineTo(200, 300);\r\n    path.lineTo(350, 300);\r\n\r\n    float radius = 50.0f;\r\n    CornerPathEffect cornerPathEffect = new CornerPathEffect(radius);\r\n    paint.setPathEffect(cornerPathEffect);\r\n    // this setPathEffect will set the curve edges for every new joining\r\n\r\n    canvas.drawPath(path, paint);\r\n\r\n&gt; Go through this link , [This Link will teach you proper usages][1]\r\n\r\n\r\n  [1]: http://learing-android.blogspot.com/2014/05/draw-rounded-corner-line-along-path.html","title":"Draw a line with curved edges in Android","body":"<pre><code>path = new Path();\npath.moveTo(50, 50);\npath.lineTo(50, 500);\npath.lineTo(200, 500);\npath.lineTo(200, 300);\npath.lineTo(350, 300);\n\nfloat radius = 50.0f;\nCornerPathEffect cornerPathEffect = new CornerPathEffect(radius);\npaint.setPathEffect(cornerPathEffect);\n// this setPathEffect will set the curve edges for every new joining\n\ncanvas.drawPath(path, paint);\n</code></pre>\n<blockquote>\n<p>Go through this link , <a href=\"http://learing-android.blogspot.com/2014/05/draw-rounded-corner-line-along-path.html\" rel=\"nofollow noreferrer\">This Link will teach you proper usages</a></p>\n</blockquote>\n"}],"owner":{"display_name":"user2726456"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12820,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"accepted_answer_id":20823792,"answer_count":4,"score":18,"last_activity_date":1685536261,"creation_date":1388301266,"question_id":20822977,"body_markdown":"I am using `canvas.drawLine`  to draw some line in android but the lines are too sharp but i need a curved edges\r\n![enter image description here][1]\r\n\r\nHere the 1 is what i have and 2  is what i want to achieve, means a line with curved edges rather than straight edges\r\n\r\nHow can I achieve that ??\r\n\r\n\r\n**EDIT 2:**\r\n\r\nI am trying to use the Canvas object to to draw a line. but the lines have a sharp edge, I need a rounded off edge\r\nI am using the Paint object\r\n\r\n    mPaint = new Paint();\r\n    mPaint.setColor(Color.BLACK)\r\n\r\nAny help would be appreciated great.\r\n\r\n  [1]: http://i.stack.imgur.com/OgrmB.png","title":"Draw a line with curved edges in Android","body":"<p>I am using <code>canvas.drawLine</code>  to draw some line in android but the lines are too sharp but i need a curved edges\n<img src=\"https://i.stack.imgur.com/OgrmB.png\" alt=\"enter image description here\" /></p>\n<p>Here the 1 is what i have and 2  is what i want to achieve, means a line with curved edges rather than straight edges</p>\n<p>How can I achieve that ??</p>\n<p><strong>EDIT 2:</strong></p>\n<p>I am trying to use the Canvas object to to draw a line. but the lines have a sharp edge, I need a rounded off edge\nI am using the Paint object</p>\n<pre><code>mPaint = new Paint();\nmPaint.setColor(Color.BLACK)\n</code></pre>\n<p>Any help would be appreciated great.</p>\n"},{"tags":["java","generics","wildcard"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1685523643,"post_id":76371757,"comment_id":134670744,"body_markdown":"`A&lt;? super Animal&gt;` only accepts classes that are SUPER of Animal. `Dog` is a child of `Animal`","body":"<code>A&lt;? super Animal&gt;</code> only accepts classes that are SUPER of Animal. <code>Dog</code> is a child of <code>Animal</code>"},{"owner":{"account_id":12786269,"reputation":21,"user_id":9252433,"display_name":"DAN"},"score":0,"creation_date":1685523727,"post_id":76371757,"comment_id":134670759,"body_markdown":"So Dog should not be accepted in Line 2, right?","body":"So Dog should not be accepted in Line 2, right?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1685524233,"post_id":76371757,"comment_id":134670854,"body_markdown":"Is this your actual code or just a summary? `print1` and `print2` are outside of the class body and that&#39;s not allowed.","body":"Is this your actual code or just a summary? <code>print1</code> and <code>print2</code> are outside of the class body and that&#39;s not allowed."},{"owner":{"account_id":12786269,"reputation":21,"user_id":9252433,"display_name":"DAN"},"score":0,"creation_date":1685524307,"post_id":76371757,"comment_id":134670867,"body_markdown":"It is a summary but yes, normaly print1 &amp; print2 are inside a main function.","body":"It is a summary but yes, normaly print1 &amp; print2 are inside a main function."},{"owner":{"account_id":12786269,"reputation":21,"user_id":9252433,"display_name":"DAN"},"score":0,"creation_date":1685526291,"post_id":76371757,"comment_id":134671275,"body_markdown":"So inside ``print1()`` method, I cannot call the ``setter()`` on ``obj`` ?","body":"So inside <code>print1()</code> method, I cannot call the <code>setter()</code> on <code>obj</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":20104740,"reputation":11,"user_id":14742525,"display_name":"Adam Pawelczyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685535622,"creation_date":1685535622,"answer_id":76373436,"question_id":76371757,"body_markdown":"In Java generics, A&lt;? extends Animal&gt; is a declaration of a wildcard type with an upper bound. It means that the type parameter T can be any type that is a subtype of Animal (including Animal itself). When you have a wildcard with an upper bound, it ensures that the type is &quot;read-only&quot; in the sense that you can only retrieve values of type T but you cannot modify the contents.\r\n\r\nIn the print1 method, obj is declared with an upper bound wildcard A&lt;? extends Animal&gt;. This means that you can call the getT() method, which returns a value of type T (which is some subtype of Animal), but you cannot call the setT() method because the exact type of T is not known. The compiler cannot guarantee the safety of assigning a Cat to T because T could be a more specific subtype of Animal, such as Dog.\r\n\r\nOn the other hand, A&lt;? super Animal&gt; is a declaration of a wildcard type with a lower bound. It means that the type parameter T can be any supertype of Animal (including Animal itself). When you have a wildcard with a lower bound, it allows you to both retrieve and modify the contents of the object.\r\n\r\nIn the print2 method, obj is declared with a lower bound wildcard A&lt;? super Animal&gt;. This means that you can call both the getT() and setT() methods. The setT() method accepts any subtype of Animal (including Animal itself) because any such subtype is a valid assignment to T (which could be a supertype of Animal). In this case, you can assign a Dog to T because T can be a supertype of Dog (e.g., Animal).","title":"Why upper bound wildcard works in the following example","body":"<p>In Java generics, A&lt;? extends Animal&gt; is a declaration of a wildcard type with an upper bound. It means that the type parameter T can be any type that is a subtype of Animal (including Animal itself). When you have a wildcard with an upper bound, it ensures that the type is &quot;read-only&quot; in the sense that you can only retrieve values of type T but you cannot modify the contents.</p>\n<p>In the print1 method, obj is declared with an upper bound wildcard A&lt;? extends Animal&gt;. This means that you can call the getT() method, which returns a value of type T (which is some subtype of Animal), but you cannot call the setT() method because the exact type of T is not known. The compiler cannot guarantee the safety of assigning a Cat to T because T could be a more specific subtype of Animal, such as Dog.</p>\n<p>On the other hand, A&lt;? super Animal&gt; is a declaration of a wildcard type with a lower bound. It means that the type parameter T can be any supertype of Animal (including Animal itself). When you have a wildcard with a lower bound, it allows you to both retrieve and modify the contents of the object.</p>\n<p>In the print2 method, obj is declared with a lower bound wildcard A&lt;? super Animal&gt;. This means that you can call both the getT() and setT() methods. The setT() method accepts any subtype of Animal (including Animal itself) because any such subtype is a valid assignment to T (which could be a supertype of Animal). In this case, you can assign a Dog to T because T can be a supertype of Dog (e.g., Animal).</p>\n"}],"owner":{"account_id":12786269,"reputation":21,"user_id":9252433,"display_name":"DAN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1685535622,"creation_date":1685523313,"question_id":76371757,"body_markdown":"````\r\nclass Animal {}\r\nclass Dog extends Animal {}\r\nclass Cat extends Animal {}\r\n\r\nclass A&lt;T&gt; {\r\n    T t;\r\n\r\n    public void setT(T t) {\r\n        this.t = t;\r\n    }\r\n\r\n    T getT() {\r\n        return t;\r\n    }\r\n}\r\n\r\n    public static void print1(A&lt;? extends Animal&gt; obj){\r\n        //obj.setT(new Cat()); //Line 1\r\n        System.out.println(obj.getT().getClass());\r\n\r\n    }\r\n\r\n\r\n    public static void print2(A&lt;? super Animal&gt; obj){\r\n        obj.setT(new Dog()); //Line 2\r\n        System.out.println(obj.getT().getClass());\r\n\r\n    }\r\n````\r\n\r\n\r\nI understand why line 1 does not compile, but do not understand at all why Line 2 compiles.\r\n\r\nI&#39;m trying to understand lower and upper bound wildcard in Java","title":"Why upper bound wildcard works in the following example","body":"<pre><code>class Animal {}\nclass Dog extends Animal {}\nclass Cat extends Animal {}\n\nclass A&lt;T&gt; {\n    T t;\n\n    public void setT(T t) {\n        this.t = t;\n    }\n\n    T getT() {\n        return t;\n    }\n}\n\n    public static void print1(A&lt;? extends Animal&gt; obj){\n        //obj.setT(new Cat()); //Line 1\n        System.out.println(obj.getT().getClass());\n\n    }\n\n\n    public static void print2(A&lt;? super Animal&gt; obj){\n        obj.setT(new Dog()); //Line 2\n        System.out.println(obj.getT().getClass());\n\n    }\n</code></pre>\n<p>I understand why line 1 does not compile, but do not understand at all why Line 2 compiles.</p>\n<p>I'm trying to understand lower and upper bound wildcard in Java</p>\n"},{"tags":["java","spring","oauth","jwt","boot"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685454226,"post_id":76365380,"comment_id":134659910,"body_markdown":"Does this answer your question? [Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?](https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685535302,"creation_date":1685535302,"answer_id":76373411,"question_id":76365380,"body_markdown":"When your Java code tries to get the contents from that URL (the public key you need to verify JWTs) it can&#39;t establish a proper connection because it doesn&#39;t trust the certificate used by that page. It&#39;s the SSL certificate used by the page itself, not the public key that is returned at that endpoint. What you should do, is to obtain that certificate (you can open the `https://XXXXXXXX/oauth/nam/keys` page in a browser and download the certificate), then add it to your Java truststore. You will find detailed instructions on how to do it under this link posted by juanlumn: https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore ","title":"Spring boot Jwt signed with RS256","body":"<p>When your Java code tries to get the contents from that URL (the public key you need to verify JWTs) it can't establish a proper connection because it doesn't trust the certificate used by that page. It's the SSL certificate used by the page itself, not the public key that is returned at that endpoint. What you should do, is to obtain that certificate (you can open the <code>https://XXXXXXXX/oauth/nam/keys</code> page in a browser and download the certificate), then add it to your Java truststore. You will find detailed instructions on how to do it under this link posted by juanlumn: <a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a></p>\n"}],"owner":{"account_id":15380310,"reputation":138,"user_id":11095907,"display_name":"Sergio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76373411,"answer_count":1,"score":1,"last_activity_date":1685535302,"creation_date":1685453491,"question_id":76365380,"body_markdown":"I&#39;m given a url - jwks_uri= https://xxxxx/oauth/nam/keys &lt;br/&gt;\r\n... which produces this json:\r\n```    \r\n{\r\n     &quot;keys&quot;: [{\r\n             &quot;kty&quot;: &quot;RSA&quot;,\r\n             &quot;use&quot;: &quot;sig&quot;,\r\n             &quot;alg&quot;: &quot;RS256&quot;,\r\n             &quot;kid&quot;: &quot;233921010515334582428573459295448396160651486998&quot;,\r\n             &quot;x5c&quot;: [&quot;MIIFQjCCBCqgAwIBAgIUKPlhgf+gbz7h0arpJdYiOXxj5xYwDQYJKoZIhvcNAQELBQAwNTEaMBgGA1UECxMRT3JnYW5pemF0aW9uYWwgQ0ExFzAVBg..........wTBo45axM=&quot;],\r\n             &quot;x5t&quot;: &quot;BBSLHq3rpiVLP2rota71boxAdqE&quot;,\r\n             &quot;x5tS256&quot;: &quot;VAvMs-i58nz5UjOzyOEPpDubjgsNDK_m5z7w8dudPaw&quot;,\r\n             &quot;n&quot;: &quot;okBvqleqjWLqLQ20cd9oajuOFZgOdPgD0rz6PddT1uW0iPkZ53Az68D_9s0fSMh996iGxN8sZFcCO-v0DXFBmUZb8D1VuBbx4v8Q_OUWhUk6V0QgUnzsdEYP39tZqU4gq KMuwzCbqqD1tj1C510tT8LK8lJjYuIjP-eNHv_WaL9QAH0iRwOWXA_a9ZwEoOhI0R-HqnvvJNyuUnh0umHDow3Uu7uuTKMFmziNzcB4ANBrKytVsfqBz2M9qNi6YqpT1ysGyX_M_PCja 2q8CDQxpcUm7XikFNdjutTR_B1gXDEk0Y8O7MgeKQcbYq1jMGEzIUabeka6jbBE2RR-mzV1YQ&quot;,\r\n             &quot;e&quot;: &quot;AQAB&quot;\r\n         }\r\n     ]\r\n}\r\n```\r\nthe company claims that I have everything needed to verify the public key of the jwt but in my code I keep getting the error \r\n\r\n&gt; caused by: javax.net.ssl.SSLHandshakeException: PKIX path building\r\n&gt; failed: sun.security.provider.certpath. SunCertPathBuilderException:\r\n&gt; unable to find valid certification path to requested target.&lt;br/&gt;\r\n\r\nThis is my method:\r\n\r\n\r\n    private RSAPublicKey loadPublicKey(DecodedJWT token) throws JwkException, MalformedURLException {\r\n        \r\n        final String url = &quot;https://XXXXXXXX/oauth/nam/keys&quot;; //getKeycloakCertificateUrl(token);\r\n     //   final String url = &quot;https://XXXXXXXXX/api/GetCA&quot;;\r\n\r\n\r\n\r\n        JwkProvider provider = new UrlJwkProvider(new URL(url));\r\n\r\n        return (RSAPublicKey) provider.get(token.getKeyId()).getPublicKey();\r\n    }\r\n","title":"Spring boot Jwt signed with RS256","body":"<p>I'm given a url - jwks_uri= https://xxxxx/oauth/nam/keys <br/>\n... which produces this json:</p>\n<pre><code>{\n     &quot;keys&quot;: [{\n             &quot;kty&quot;: &quot;RSA&quot;,\n             &quot;use&quot;: &quot;sig&quot;,\n             &quot;alg&quot;: &quot;RS256&quot;,\n             &quot;kid&quot;: &quot;233921010515334582428573459295448396160651486998&quot;,\n             &quot;x5c&quot;: [&quot;MIIFQjCCBCqgAwIBAgIUKPlhgf+gbz7h0arpJdYiOXxj5xYwDQYJKoZIhvcNAQELBQAwNTEaMBgGA1UECxMRT3JnYW5pemF0aW9uYWwgQ0ExFzAVBg..........wTBo45axM=&quot;],\n             &quot;x5t&quot;: &quot;BBSLHq3rpiVLP2rota71boxAdqE&quot;,\n             &quot;x5tS256&quot;: &quot;VAvMs-i58nz5UjOzyOEPpDubjgsNDK_m5z7w8dudPaw&quot;,\n             &quot;n&quot;: &quot;okBvqleqjWLqLQ20cd9oajuOFZgOdPgD0rz6PddT1uW0iPkZ53Az68D_9s0fSMh996iGxN8sZFcCO-v0DXFBmUZb8D1VuBbx4v8Q_OUWhUk6V0QgUnzsdEYP39tZqU4gq KMuwzCbqqD1tj1C510tT8LK8lJjYuIjP-eNHv_WaL9QAH0iRwOWXA_a9ZwEoOhI0R-HqnvvJNyuUnh0umHDow3Uu7uuTKMFmziNzcB4ANBrKytVsfqBz2M9qNi6YqpT1ysGyX_M_PCja 2q8CDQxpcUm7XikFNdjutTR_B1gXDEk0Y8O7MgeKQcbYq1jMGEzIUabeka6jbBE2RR-mzV1YQ&quot;,\n             &quot;e&quot;: &quot;AQAB&quot;\n         }\n     ]\n}\n</code></pre>\n<p>the company claims that I have everything needed to verify the public key of the jwt but in my code I keep getting the error</p>\n<blockquote>\n<p>caused by: javax.net.ssl.SSLHandshakeException: PKIX path building\nfailed: sun.security.provider.certpath. SunCertPathBuilderException:\nunable to find valid certification path to requested target.<br/></p>\n</blockquote>\n<p>This is my method:</p>\n<pre><code>private RSAPublicKey loadPublicKey(DecodedJWT token) throws JwkException, MalformedURLException {\n    \n    final String url = &quot;https://XXXXXXXX/oauth/nam/keys&quot;; //getKeycloakCertificateUrl(token);\n //   final String url = &quot;https://XXXXXXXXX/api/GetCA&quot;;\n\n\n\n    JwkProvider provider = new UrlJwkProvider(new URL(url));\n\n    return (RSAPublicKey) provider.get(token.getKeyId()).getPublicKey();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","filter"],"answers":[{"tags":[],"owner":{"account_id":26712307,"reputation":91,"user_id":20317450,"display_name":"Bastian Hologne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685535216,"creation_date":1685535216,"answer_id":76373398,"question_id":76373192,"body_markdown":"As you inherited OncePerRequestFilter, you can override the shouldNotFilterMethod. Here is an example :\r\n\r\n       @Override\r\n        protected boolean shouldNotFilter(HttpServletRequest request) {\r\n            return !request.getServletPath().startsWith(&quot;/search/&quot;);\r\n        }","title":"Why is ContentCachingFilter being applied to all URLs instead of just /search even after specifying the same in urlPatterns?","body":"<p>As you inherited OncePerRequestFilter, you can override the shouldNotFilterMethod. Here is an example :</p>\n<pre><code>   @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) {\n        return !request.getServletPath().startsWith(&quot;/search/&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":23584006,"reputation":3,"user_id":17622679,"display_name":"meg1311"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76373398,"answer_count":1,"score":0,"last_activity_date":1685535243,"creation_date":1685533932,"question_id":76373192,"body_markdown":"I have an application with multiple filters. I want ContentCachingFilter to be applied to all URLs having `/search`. Since there are other filters too so in the case of `/search` the `ContentCachingFilter` should be the first one to be applied. I tried providing the full URL as well in urlPatterns but still `doFilterInternal` from `ContentCachingFilter` is getting executed for all the URLS. Please find below the code\r\n\r\n```\r\n@Component     \r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@WebFilter(filterName = &quot;ContentCachingFilter&quot;, urlPatterns = &quot;/search/*&quot;)\r\npublic class ContentCachingFilter extends OncePerRequestFilter {\r\n\r\n    @Override \r\n    protected void doFilterInternal(HttpServletRequest httpServletRequest,\r\n                                    HttpServletResponse httpServletResponse,\r\n                                    FilterChain filterChain) throws ServletException, IOException {\r\n        CachedBodyHttpServletRequest cachedBodyHttpServletRequest = \r\n                new CachedBodyHttpServletRequest(httpServletRequest);\r\n\r\n        filterChain.doFilter(cachedBodyHttpServletRequest, httpServletResponse);\r\n    }\r\n}\r\n\r\n```\r\n","title":"Why is ContentCachingFilter being applied to all URLs instead of just /search even after specifying the same in urlPatterns?","body":"<p>I have an application with multiple filters. I want ContentCachingFilter to be applied to all URLs having <code>/search</code>. Since there are other filters too so in the case of <code>/search</code> the <code>ContentCachingFilter</code> should be the first one to be applied. I tried providing the full URL as well in urlPatterns but still <code>doFilterInternal</code> from <code>ContentCachingFilter</code> is getting executed for all the URLS. Please find below the code</p>\n<pre><code>@Component     \n@Order(Ordered.HIGHEST_PRECEDENCE)\n@WebFilter(filterName = &quot;ContentCachingFilter&quot;, urlPatterns = &quot;/search/*&quot;)\npublic class ContentCachingFilter extends OncePerRequestFilter {\n\n    @Override \n    protected void doFilterInternal(HttpServletRequest httpServletRequest,\n                                    HttpServletResponse httpServletResponse,\n                                    FilterChain filterChain) throws ServletException, IOException {\n        CachedBodyHttpServletRequest cachedBodyHttpServletRequest = \n                new CachedBodyHttpServletRequest(httpServletRequest);\n\n        filterChain.doFilter(cachedBodyHttpServletRequest, httpServletResponse);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1685529794,"post_id":76372591,"comment_id":134671989,"body_markdown":"Perhaps if you try `DumperOptions.FlowStyle.FLOW`, is that what you mean?","body":"Perhaps if you try <code>DumperOptions.FlowStyle.FLOW</code>, is that what you mean?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685532742,"post_id":76372591,"comment_id":134672570,"body_markdown":"No, still not . it is not working","body":"No, still not . it is not working"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685533180,"post_id":76372591,"comment_id":134672679,"body_markdown":"What is Values?","body":"What is Values?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685533314,"post_id":76372591,"comment_id":134672716,"body_markdown":"Please see the UPDATE 1 for values","body":"Please see the UPDATE 1 for values"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685533656,"post_id":76372591,"comment_id":134672801,"body_markdown":"There are other classes missing. Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"There are other classes missing. Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685534861,"post_id":76372591,"comment_id":134673088,"body_markdown":"I have added all classes in UPDATE 2 . please suggest @aled","body":"I have added all classes in UPDATE 2 . please suggest @aled"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685540019,"post_id":76372591,"comment_id":134674410,"body_markdown":"The input file does not match the definitions. Fields repository, pullPolicy don&#39;t exist in code. And what version of Snakeyaml are you using?","body":"The input file does not match the definitions. Fields repository, pullPolicy don&#39;t exist in code. And what version of Snakeyaml are you using?"},{"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"score":0,"creation_date":1685545434,"post_id":76372591,"comment_id":134675902,"body_markdown":"repository and pullPolicy is there in Image class . Did you see that ? @aled\nSnakeYaml version : 1.33","body":"repository and pullPolicy is there in Image class . Did you see that ? @aled SnakeYaml version : 1.33"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1685547330,"post_id":76372591,"comment_id":134676349,"body_markdown":"Yes, the error was confusing but the reason is that image is incorrectly typed as a      `List&lt;Image&gt;` when clearly it is not a list in the input file. I&#39;m not sure how that possibly worked.","body":"Yes, the error was confusing but the reason is that image is incorrectly typed as a      <code>List&lt;Image&gt;</code> when clearly it is not a list in the input file. I&#39;m not sure how that possibly worked."},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1685630926,"post_id":76372591,"comment_id":134690128,"body_markdown":"YAML generally doesn&#39;t give you complete control over formatting and doesn&#39;t let you keep the original format, see [this question](https://stackoverflow.com/q/60891174/347964) for details. It might be that you can achieve what you want in this scenario, but it&#39;s probably not worthwhile figuring that out since it won&#39;t be a general solution and it will probably break on different input / structure.","body":"YAML generally doesn&#39;t give you complete control over formatting and doesn&#39;t let you keep the original format, see <a href=\"https://stackoverflow.com/q/60891174/347964\">this question</a> for details. It might be that you can achieve what you want in this scenario, but it&#39;s probably not worthwhile figuring that out since it won&#39;t be a general solution and it will probably break on different input / structure."}],"owner":{"account_id":2679463,"reputation":2502,"user_id":2315104,"accept_rate":42,"display_name":"user2315104"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685534842,"creation_date":1685529412,"question_id":76372591,"body_markdown":"Have following YAML \r\n\r\n    id: &quot;20&quot;\r\n    name: &quot;Bruce&quot;\r\n    year: &quot;2020&quot;\r\n    address: &quot;Gotham City&quot;\r\n    department: &quot;Computer Science&quot;\r\n    image:\r\n      repository: &quot;test.com/test&quot;\r\n      pullPolicy: &quot;IfNotPresent&quot;\r\n      tag: &quot;dfdklf&quot;\r\n    route:\r\n      hosts:\r\n        - host: abc.com\r\n        - host: abc1.com\r\n        - host: abc2.com\r\n\r\nbut when I&#39;m adding new Host entry using JAVA object (serialization and deserialization) and SnakeYaml lib \r\nthe indentation is not proper for Image . it is coming as like below \r\n\r\n    address: Gotham City\r\n    department: Computer Science\r\n    id: &#39;20&#39;\r\n    image: {pullPolicy: IfNotPresent, repository: test.com/test,\r\n      tag: dfdklf}\r\n    name: Bruce\r\n    route:\r\n      hosts:\r\n      - {host: abc.com}\r\n      - {host: abc1.com}\r\n      - {host: abc2.com}\r\n    year: &#39;2020&#39;\r\n\r\nhow to maintain the same structure as the original YAML ? I see that ,  image entry is modified and coming as a single line and the sequence is also not maintained. \r\n\r\nHere is the JAVA code \r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n    \t\t\r\n    \t\tInputStream inputStream = new FileInputStream(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\r\n    \t\r\n    \t\tYaml yaml = new Yaml(new Constructor(Values.class));\r\n    \t\r\n    \t\tValues data = yaml.load(inputStream);\r\n    \t\r\n    \t\tdata.getImage().forEach(x -&gt; System.out.println(x.getTag()));\r\n    \t\tdata.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\r\n    \t\t\r\n    \t\tDumperOptions options = new DumperOptions();\r\n    \t\toptions.setIndent(2);\r\n    \t\toptions.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n    \t\toptions.setIndicatorIndent(2);\r\n    \t\toptions.setIndentWithIndicator(true);\r\n    \t\t\r\n    \t\tHost host = new Host();\r\n    \t\thost.setHost(&quot;abc.com&quot;);\r\n    \t\tdata.getRoute().getHosts().add(host);\r\n    \t\t\r\n    \t\t\r\n    \t\tdata.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\r\n    \t\t\r\n    \t\tPrintWriter writer = new PrintWriter(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\r\n    \t\tYaml yaml1 = new Yaml(new Constructor(Values.class));\r\n    \t\tyaml1.dump(data, writer);\r\n    \t\t\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n**UPDATE 1 :** \r\n\r\n    public class Values {\r\n    \t\r\n    \t private List&lt;Image&gt; image;\r\n    \t private String id;\r\n    \t private String name;\r\n    \t private String year;\r\n    \t private String address;\r\n    \t private Route route;\r\n    \t  \r\n    \t public Route getRoute() {\r\n    \t\treturn route;\r\n    \t}\r\n    \r\n    \tpublic void setRoute(Route route) {\r\n    \t\tthis.route = route;\r\n    \t}\r\n    \r\n    \tpublic String getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(String id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getYear() {\r\n    \t\treturn year;\r\n    \t}\r\n    \r\n    \tpublic void setYear(String year) {\r\n    \t\tthis.year = year;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getDepartment() {\r\n    \t\treturn department;\r\n    \t}\r\n    \r\n    \tpublic void setDepartment(String department) {\r\n    \t\tthis.department = department;\r\n    \t}\r\n    \r\n    \tprivate String department;\r\n    \t \r\n    \t \r\n    \t public Values()\r\n    \t {\r\n    \t\t \r\n    \t }\r\n    \t \r\n    \t public Values (List&lt;Image&gt; image, String id, String name, String year, String address, String department )\r\n    \t {\r\n    \t\t super ();\r\n    \t\t this.image = image;\r\n    \t\t this.id = id;\r\n    \t\t this.name = name;\r\n    \t\t this.year = year;\r\n    \t\t this.address = address;\r\n    \t\t this.department = department; \r\n    \t }\r\n    \r\n    \tpublic List&lt;Image&gt; getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic void setImage(List&lt;Image&gt; image) {\r\n    \t\tthis.image = image;\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * public Map&lt;String, Object&gt; get(String string) { // TODO Auto-generated method\r\n    \t * stub return null; }\r\n    \t */\r\n    }\r\n\r\n**UPDATE 2** \r\n\r\n    public class Host {\r\n    \t\r\n    \t  private String host;\r\n    \t    public String getHost() {\r\n    \t        return host;\r\n    \t    }\r\n    \t    public void setHost(String host) {\r\n    \t        this.host = host;\r\n    \t    }\r\n    \r\n    }\r\n\r\n\r\n    public class Image {\r\n    \t\r\n    \tprivate String repository;\r\n    \tprivate String pullPolicy;\r\n    \tprivate String tag;\r\n    \t\r\n    \tpublic Image()\r\n    \t{\t\r\n    \t}\r\n    \t\r\n    \tpublic Image (String repository, String pullPolicy, String tags)\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tthis.repository = repository;\r\n    \t\tthis.pullPolicy = pullPolicy;\r\n    \t\tthis.tag = tags;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic String getRepository() {\r\n    \t\treturn repository;\r\n    \t}\r\n    \tpublic void setRepository(String repository) {\r\n    \t\tthis.repository = repository;\r\n    \t}\r\n    \tpublic String getPullPolicy() {\r\n    \t\treturn pullPolicy;\r\n    \t}\r\n    \tpublic void setPullPolicy(String pullPolicy) {\r\n    \t\tthis.pullPolicy = pullPolicy;\r\n    \t}\r\n    \tpublic String getTag() {\r\n    \t\treturn tag;\r\n    \t}\r\n    \tpublic void setTag(String tag) {\r\n    \t\tthis.tag = tag;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n\r\n    public class Route {\r\n    \t\r\n    \t   private List&lt;Host&gt; hosts = new ArrayList&lt;Host&gt;();\r\n    \t    public List&lt;Host&gt; getHosts() {\r\n    \t        return hosts;\r\n    \t    }\r\n    \t    public void setHosts(List&lt;Host&gt; hosts) {\r\n    \t        this.hosts = hosts;\r\n    \t    }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"how to add indentation in YAML using SnakeYaml and JAVA object","body":"<p>Have following YAML</p>\n<pre><code>id: &quot;20&quot;\nname: &quot;Bruce&quot;\nyear: &quot;2020&quot;\naddress: &quot;Gotham City&quot;\ndepartment: &quot;Computer Science&quot;\nimage:\n  repository: &quot;test.com/test&quot;\n  pullPolicy: &quot;IfNotPresent&quot;\n  tag: &quot;dfdklf&quot;\nroute:\n  hosts:\n    - host: abc.com\n    - host: abc1.com\n    - host: abc2.com\n</code></pre>\n<p>but when I'm adding new Host entry using JAVA object (serialization and deserialization) and SnakeYaml lib\nthe indentation is not proper for Image . it is coming as like below</p>\n<pre><code>address: Gotham City\ndepartment: Computer Science\nid: '20'\nimage: {pullPolicy: IfNotPresent, repository: test.com/test,\n  tag: dfdklf}\nname: Bruce\nroute:\n  hosts:\n  - {host: abc.com}\n  - {host: abc1.com}\n  - {host: abc2.com}\nyear: '2020'\n</code></pre>\n<p>how to maintain the same structure as the original YAML ? I see that ,  image entry is modified and coming as a single line and the sequence is also not maintained.</p>\n<p>Here is the JAVA code</p>\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n        \n        InputStream inputStream = new FileInputStream(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\n    \n        Yaml yaml = new Yaml(new Constructor(Values.class));\n    \n        Values data = yaml.load(inputStream);\n    \n        data.getImage().forEach(x -&gt; System.out.println(x.getTag()));\n        data.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\n        \n        DumperOptions options = new DumperOptions();\n        options.setIndent(2);\n        options.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\n        options.setIndicatorIndent(2);\n        options.setIndentWithIndicator(true);\n        \n        Host host = new Host();\n        host.setHost(&quot;abc.com&quot;);\n        data.getRoute().getHosts().add(host);\n        \n        \n        data.getRoute().getHosts().forEach(x -&gt; System.out.println(x.getHost()));\n        \n        PrintWriter writer = new PrintWriter(new File(&quot;C:\\\\yaml\\\\student.yaml&quot;));\n        Yaml yaml1 = new Yaml(new Constructor(Values.class));\n        yaml1.dump(data, writer);\n        \n\n    }\n\n}\n</code></pre>\n<p><strong>UPDATE 1 :</strong></p>\n<pre><code>public class Values {\n    \n     private List&lt;Image&gt; image;\n     private String id;\n     private String name;\n     private String year;\n     private String address;\n     private Route route;\n      \n     public Route getRoute() {\n        return route;\n    }\n\n    public void setRoute(Route route) {\n        this.route = route;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getYear() {\n        return year;\n    }\n\n    public void setYear(String year) {\n        this.year = year;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDepartment() {\n        return department;\n    }\n\n    public void setDepartment(String department) {\n        this.department = department;\n    }\n\n    private String department;\n     \n     \n     public Values()\n     {\n         \n     }\n     \n     public Values (List&lt;Image&gt; image, String id, String name, String year, String address, String department )\n     {\n         super ();\n         this.image = image;\n         this.id = id;\n         this.name = name;\n         this.year = year;\n         this.address = address;\n         this.department = department; \n     }\n\n    public List&lt;Image&gt; getImage() {\n        return image;\n    }\n\n    public void setImage(List&lt;Image&gt; image) {\n        this.image = image;\n    }\n\n    /*\n     * public Map&lt;String, Object&gt; get(String string) { // TODO Auto-generated method\n     * stub return null; }\n     */\n}\n</code></pre>\n<p><strong>UPDATE 2</strong></p>\n<pre><code>public class Host {\n    \n      private String host;\n        public String getHost() {\n            return host;\n        }\n        public void setHost(String host) {\n            this.host = host;\n        }\n\n}\n\n\npublic class Image {\n    \n    private String repository;\n    private String pullPolicy;\n    private String tag;\n    \n    public Image()\n    {   \n    }\n    \n    public Image (String repository, String pullPolicy, String tags)\n    {\n        super();\n        this.repository = repository;\n        this.pullPolicy = pullPolicy;\n        this.tag = tags;\n        \n    }\n    \n    public String getRepository() {\n        return repository;\n    }\n    public void setRepository(String repository) {\n        this.repository = repository;\n    }\n    public String getPullPolicy() {\n        return pullPolicy;\n    }\n    public void setPullPolicy(String pullPolicy) {\n        this.pullPolicy = pullPolicy;\n    }\n    public String getTag() {\n        return tag;\n    }\n    public void setTag(String tag) {\n        this.tag = tag;\n    }\n    \n\n}\n\n\npublic class Route {\n    \n       private List&lt;Host&gt; hosts = new ArrayList&lt;Host&gt;();\n        public List&lt;Host&gt; getHosts() {\n            return hosts;\n        }\n        public void setHosts(List&lt;Host&gt; hosts) {\n            this.hosts = hosts;\n        }\n\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1685647168,"post_id":76373164,"comment_id":134693661,"body_markdown":"How many distinct values can you have for PCids? For SCids, LCids, PIEs, and case? If it&#39;s a reasonable number, you could bitmap the individual properties and pack them into a 32-bit or 64-bit integer.","body":"How many distinct values can you have for PCids? For SCids, LCids, PIEs, and case? If it&#39;s a reasonable number, you could bitmap the individual properties and pack them into a 32-bit or 64-bit integer."},{"owner":{"account_id":10427719,"reputation":81,"user_id":7688437,"display_name":"Y_J"},"score":0,"creation_date":1686543166,"post_id":76373164,"comment_id":134807450,"body_markdown":"The number of distinct values can grow over time based on the business logic.","body":"The number of distinct values can grow over time based on the business logic."},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1686543774,"post_id":76373164,"comment_id":134807488,"body_markdown":"It can grow over time, but how large? You have four categories: PCids, SCids, LCids, PIEs. Assuming you have fewer than 256 values in each category, you can assign each value within a category a unique number and then pack the four values into a 32-bit integer. If you have fewer than 65,536 values in each category, you can pack them into a 64-bit integer. If your problem fits into those confines, I can provide more detail.","body":"It can grow over time, but how large? You have four categories: PCids, SCids, LCids, PIEs. Assuming you have fewer than 256 values in each category, you can assign each value within a category a unique number and then pack the four values into a 32-bit integer. If you have fewer than 65,536 values in each category, you can pack them into a 64-bit integer. If your problem fits into those confines, I can provide more detail."}],"owner":{"account_id":10427719,"reputation":81,"user_id":7688437,"display_name":"Y_J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685534754,"creation_date":1685533768,"question_id":76373164,"body_markdown":"Let following be the data set:\r\n```\r\n- ref: UNIQUE_VAL_1\r\n  PCids: [ TTT ]\r\n  LCids: [ TTT ]\r\n  SCids: [ TTT ]\r\n  PIEs: [ PIE_1 ]\r\n  case: [ ACC ]\r\n\r\n\r\n- ref: UNIQUE_VAL_2\r\n  PCids: [ CCC ]\r\n  LCids: [ CCC ]\r\n  SCids: [ CCC ]\r\n  PIEs: [ PIE_2 ]\r\n  case: [ ACC ]\r\n\r\n\r\n- ref: UNIQUE_VAL_3\r\n  PCids: [ DDD ]\r\n  SCids: [ PPP ]\r\n  LCids: [ PPP ]\r\n  PIEs: [ PIE_3 ]\r\n  case: [ ACC ]\r\n\r\n```\r\nFor each combination of values of PCids, SCids, LCids, PIEs and case,\r\nthere will be a unique ref value.\r\n\r\n```\r\nEg Input:\r\n  PCids = DDD\r\n  SCids = PPP\r\n  LCids = PPP\r\n  PIEs = PIE_3\r\n  case = ACC\r\n\r\n  Output:\r\n  ref = UNIQUE_VAL_3\r\n\r\n```\r\nHow can we realise this in code ? I am trying to think of a solution where I am not forced to write a huge if-else ladder.\r\n\r\nTried following solution:\r\nCreate an md5 of all the dependant parameters and put it as a key with value as the ref in a hashmap.\r\n\r\nCaveat:\r\nWill have to use an initialiser code which will run before everything else always to create a hashmap in memory.","title":"Build lookup for getting a single value based on multiple static parameters","body":"<p>Let following be the data set:</p>\n<pre><code>- ref: UNIQUE_VAL_1\n  PCids: [ TTT ]\n  LCids: [ TTT ]\n  SCids: [ TTT ]\n  PIEs: [ PIE_1 ]\n  case: [ ACC ]\n\n\n- ref: UNIQUE_VAL_2\n  PCids: [ CCC ]\n  LCids: [ CCC ]\n  SCids: [ CCC ]\n  PIEs: [ PIE_2 ]\n  case: [ ACC ]\n\n\n- ref: UNIQUE_VAL_3\n  PCids: [ DDD ]\n  SCids: [ PPP ]\n  LCids: [ PPP ]\n  PIEs: [ PIE_3 ]\n  case: [ ACC ]\n\n</code></pre>\n<p>For each combination of values of PCids, SCids, LCids, PIEs and case,\nthere will be a unique ref value.</p>\n<pre><code>Eg Input:\n  PCids = DDD\n  SCids = PPP\n  LCids = PPP\n  PIEs = PIE_3\n  case = ACC\n\n  Output:\n  ref = UNIQUE_VAL_3\n\n</code></pre>\n<p>How can we realise this in code ? I am trying to think of a solution where I am not forced to write a huge if-else ladder.</p>\n<p>Tried following solution:\nCreate an md5 of all the dependant parameters and put it as a key with value as the ref in a hashmap.</p>\n<p>Caveat:\nWill have to use an initialiser code which will run before everything else always to create a hashmap in memory.</p>\n"},{"tags":["java","garbage-collection","out-of-memory","metaspace"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1500028269,"post_id":45075721,"comment_id":77172658,"body_markdown":"Metaspace may contain more meta data than class metadata.","body":"Metaspace may contain more meta data than class metadata."}],"answers":[{"tags":[],"owner":{"account_id":14892463,"reputation":360,"user_id":10753729,"display_name":"Ivan Vakhrushev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1685534403,"creation_date":1685534403,"answer_id":76373271,"question_id":45075721,"body_markdown":"&gt; CompressedClassSpaceSize determines the size of the metaspace\r\n\r\nNo, it&#39;s incorrect. Compressed class space is an memory region inside Metaspace. So MaxMetaspaceSize option always works and limits both Metaspace and inner Compressed class space.  \r\nIf you try to set CompressedClassSpaceSize greater than MaxMetaspaceSize it will not make an effect.  \r\nSee https://stackoverflow.com/questions/54250638/is-compressedclassspacesize-area-contains-maxmetaspacesize-area  \r\nSee also https://stuefe.de/posts/metaspace/what-is-metaspace/","title":"MaxMetaSpace and CompressedClassSpaceSize","body":"<blockquote>\n<p>CompressedClassSpaceSize determines the size of the metaspace</p>\n</blockquote>\n<p>No, it's incorrect. Compressed class space is an memory region inside Metaspace. So MaxMetaspaceSize option always works and limits both Metaspace and inner Compressed class space.<br />\nIf you try to set CompressedClassSpaceSize greater than MaxMetaspaceSize it will not make an effect.<br />\nSee <a href=\"https://stackoverflow.com/questions/54250638/is-compressedclassspacesize-area-contains-maxmetaspacesize-area\">Is CompressedClassSpaceSize area contains MaxMetaspaceSize area?</a><br />\nSee also <a href=\"https://stuefe.de/posts/metaspace/what-is-metaspace/\" rel=\"nofollow noreferrer\">https://stuefe.de/posts/metaspace/what-is-metaspace/</a></p>\n"}],"owner":{"account_id":401412,"reputation":548,"user_id":767949,"accept_rate":20,"display_name":"null"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2483,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1685534403,"creation_date":1499935691,"question_id":45075721,"body_markdown":"Can I understand when UseCompressedClassPointers is enabled, MaxMetaspace is not relevance and CompressedClassSpaceSize determines the size of the metaspace?.\r\n\r\nBecause from Oracle doc\r\n https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html (section Exception in thread thread_name: java.lang.OutOfMemoryError: Compressed class space)\r\n\r\n - *If the UseCompressedClassPointers is used, the amount of space   \r\n   available for class metadata is fixed at the amount   \r\n   CompressedClassSpaceSize. If the space needed for   \r\n   UseCompressedClassPointers exceeds CompressedClassSpaceSize, a   \r\n   java.lang.OutOfMemoryError with detail Compressed class space is   \r\n   thrown.*\r\n\r\nkindly point me to some link that explains what is stored in CompressedClassSpaceSize &amp; Metaspace","title":"MaxMetaSpace and CompressedClassSpaceSize","body":"<p>Can I understand when UseCompressedClassPointers is enabled, MaxMetaspace is not relevance and CompressedClassSpaceSize determines the size of the metaspace?.</p>\n\n<p>Because from Oracle doc\n <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html</a> (section Exception in thread thread_name: java.lang.OutOfMemoryError: Compressed class space)</p>\n\n<ul>\n<li><em>If the UseCompressedClassPointers is used, the amount of space<br>\navailable for class metadata is fixed at the amount<br>\nCompressedClassSpaceSize. If the space needed for<br>\nUseCompressedClassPointers exceeds CompressedClassSpaceSize, a<br>\njava.lang.OutOfMemoryError with detail Compressed class space is<br>\nthrown.</em></li>\n</ul>\n\n<p>kindly point me to some link that explains what is stored in CompressedClassSpaceSize &amp; Metaspace</p>\n"},{"tags":["java","jakarta-ee","ejb"],"comments":[{"owner":{"account_id":424958,"reputation":5361,"user_id":805252,"accept_rate":82,"display_name":"Kheldar"},"score":2,"creation_date":1315075460,"post_id":7295096,"comment_id":8788183,"body_markdown":"Check http://stackoverflow.com/questions/1286019/starting-java-ee-mvc","body":"Check <a href=\"http://stackoverflow.com/questions/1286019/starting-java-ee-mvc\">stackoverflow.com/questions/1286019/starting-java-ee-mvc</a>"},{"owner":{"account_id":424958,"reputation":5361,"user_id":805252,"accept_rate":82,"display_name":"Kheldar"},"score":2,"creation_date":1315075748,"post_id":7295096,"comment_id":8788227,"body_markdown":"You should cut this question in two questions though, one is a duplicate, the other I think is not answered in the link there.","body":"You should cut this question in two questions though, one is a duplicate, the other I think is not answered in the link there."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":2,"creation_date":1315081946,"post_id":7295096,"comment_id":8789141,"body_markdown":"Actually, did you read the [java-ee] [tag wiki](http://meta.stackoverflow.com/posts/66297/revisions)?","body":"Actually, did you read the [java-ee] <a href=\"http://meta.stackoverflow.com/posts/66297/revisions\">tag wiki</a>?"},{"owner":{"account_id":65909,"reputation":52734,"user_id":193653,"accept_rate":84,"display_name":"claws"},"score":0,"creation_date":1355343566,"post_id":7295096,"comment_id":19063263,"body_markdown":"also read: http://stackoverflow.com/questions/106820/what-is-java-ee","body":"also read: <a href=\"http://stackoverflow.com/questions/106820/what-is-java-ee\">stackoverflow.com/questions/106820/what-is-java-ee</a>"},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1467135870,"post_id":7295096,"comment_id":63602214,"body_markdown":"also: [who-implement-the-specification](http://stackoverflow.com/questions/37983860/java-ee-who-implement-the-specification/37985284?noredirect=1#comment63456009_37985284)","body":"also: <a href=\"http://stackoverflow.com/questions/37983860/java-ee-who-implement-the-specification/37985284?noredirect=1#comment63456009_37985284\">who-implement-the-specification</a>"},{"owner":{"account_id":382980,"reputation":590,"user_id":738556,"display_name":"Viraj"},"score":0,"creation_date":1520442130,"post_id":7295096,"comment_id":85319663,"body_markdown":"Jakarta EE is the new name for Java EE.","body":"Jakarta EE is the new name for Java EE."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1522018474,"post_id":7295096,"comment_id":85966468,"body_markdown":"Related: [*Java EE Web Profile vs Java EE Full Platform*](https://stackoverflow.com/q/24239978/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/24239978/642706\"><i>Java EE Web Profile vs Java EE Full Platform</i></a>"},{"owner":{"account_id":2812914,"reputation":1644,"user_id":2418764,"accept_rate":50,"display_name":"Alex Theedom"},"score":0,"creation_date":1522921159,"post_id":7295096,"comment_id":86348012,"body_markdown":"Java EE past, present and future provides context: https://readlearncode.com/java-ee/java-ee-past-present-and-future/","body":"Java EE past, present and future provides context: <a href=\"https://readlearncode.com/java-ee/java-ee-past-present-and-future/\" rel=\"nofollow noreferrer\">readlearncode.com/java-ee/java-ee-past-present-and-future</a>"},{"owner":{"account_id":1207211,"reputation":506,"user_id":1176557,"accept_rate":83,"display_name":"H.R."},"score":1,"creation_date":1557846284,"post_id":7295096,"comment_id":98898005,"body_markdown":"well java EE is just like ruby on rails EE or javascript EE chose any language today and just call it EE that it sounds niceer....no other language needs some Marketing buzzwords like enterprise edition just to say hey i can do web and db.  \n  &quot;I know java&quot; &quot;wait, you know Java or Java EE&quot; .. WTF its like braging i can do http request in javascript or acces db in rails.. wow magic. but business ppl love the words ENTERPRISE EDITION .... drop the EE Java!","body":"well java EE is just like ruby on rails EE or javascript EE chose any language today and just call it EE that it sounds niceer....no other language needs some Marketing buzzwords like enterprise edition just to say hey i can do web and db.     &quot;I know java&quot; &quot;wait, you know Java or Java EE&quot; .. WTF its like braging i can do http request in javascript or acces db in rails.. wow magic. but business ppl love the words ENTERPRISE EDITION .... drop the EE Java!"}],"answers":[{"comments":[{"owner":{"account_id":20847162,"reputation":894,"user_id":15312420,"display_name":"Mehdi Charife"},"score":0,"creation_date":1686803211,"post_id":7295172,"comment_id":134850126,"body_markdown":"Is Java SE also a specification? I find the term edition less confusing. Why not call it an edition of the Java Language as the name already implies?","body":"Is Java SE also a specification? I find the term edition less confusing. Why not call it an edition of the Java Language as the name already implies?"}],"tags":[],"owner":{"account_id":424572,"reputation":5911,"user_id":804637,"display_name":"Prabath Siriwardena"},"comment_count":1,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1315145359,"creation_date":1315076204,"answer_id":7295172,"question_id":7295096,"body_markdown":"Java Enterprise Edition (Java EE) is an umbrella specification that references a number of other more detailed specifications, of which Enterprise JavaBeans (EJB) is one of the more important ones.\r\n\r\nRead [this][1] - it explains the difference between Java EE and Spring\r\n\r\nThanks...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2822812/spring-3-0-vs-j2ee-6-0","title":"What exactly is Java EE?","body":"<p>Java Enterprise Edition (Java EE) is an umbrella specification that references a number of other more detailed specifications, of which Enterprise JavaBeans (EJB) is one of the more important ones.</p>\n\n<p>Read <a href=\"https://stackoverflow.com/questions/2822812/spring-3-0-vs-j2ee-6-0\">this</a> - it explains the difference between Java EE and Spring</p>\n\n<p>Thanks...</p>\n"},{"comments":[{"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"score":6,"creation_date":1315145515,"post_id":7295207,"comment_id":8795072,"body_markdown":"It&#39;s maybe not very useful to quote ancient text (2005) from an ancient version of the specification (J2EE). OP specifically asked for Java EE, which is the modern day incarnation of J2EE.","body":"It&#39;s maybe not very useful to quote ancient text (2005) from an ancient version of the specification (J2EE). OP specifically asked for Java EE, which is the modern day incarnation of J2EE."}],"tags":[],"owner":{"account_id":424465,"reputation":2814,"user_id":804477,"display_name":"Srikanth Venkatesh"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1415204977,"creation_date":1315076440,"answer_id":7295207,"question_id":7295096,"body_markdown":" - [Source][1] -- Java 2 Platform, Enterprise Edition (J2EE) defines the standard for developing component-based multitier enterprise applications. J2EE simplifies building enterprise applications that are portable, scalable, and that integrate easily with legacy applications and data .\r\n\r\n - [Source][2] -- Enterprise JavaBeans (EJB) technology is the server-side component architecture for Java Platform, Enterprise Edition (Java EE). EJB technology enables rapid and simplified development of distributed, transactional, secure and portable applications based on Java technology.\r\n\r\n - &gt;Is Java EE just a specification? What I mean is: Is EJB Java EE?\r\n \r\n     -  Java EE is a specification.\r\n  \r\n     -  EJB is server side component architecture for Java EE\r\n\r\n - &gt;Are EJB/Spring different implementations of Java EE?\r\n   \r\n     - Both EJB and Spring are different frameworks following Java EE.\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2ee/\r\n  [2]: http://www.oracle.com/technetwork/java/javaee/ejb/index.html","title":"What exactly is Java EE?","body":"<ul>\n<li><p><a href=\"http://java.sun.com/j2ee/\" rel=\"nofollow\">Source</a> -- Java 2 Platform, Enterprise Edition (J2EE) defines the standard for developing component-based multitier enterprise applications. J2EE simplifies building enterprise applications that are portable, scalable, and that integrate easily with legacy applications and data .</p></li>\n<li><p><a href=\"http://www.oracle.com/technetwork/java/javaee/ejb/index.html\" rel=\"nofollow\">Source</a> -- Enterprise JavaBeans (EJB) technology is the server-side component architecture for Java Platform, Enterprise Edition (Java EE). EJB technology enables rapid and simplified development of distributed, transactional, secure and portable applications based on Java technology.</p></li>\n<li><blockquote>\n  <p>Is Java EE just a specification? What I mean is: Is EJB Java EE?</p>\n</blockquote>\n\n<ul>\n<li><p>Java EE is a specification.</p></li>\n<li><p>EJB is server side component architecture for Java EE</p></li>\n</ul></li>\n<li><blockquote>\n  <p>Are EJB/Spring different implementations of Java EE?</p>\n</blockquote>\n\n<ul>\n<li>Both EJB and Spring are different frameworks following Java EE.</li>\n</ul></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":2,"creation_date":1315086598,"post_id":7295697,"comment_id":8789739,"body_markdown":"So Java EE could be said as defining what support should exist for a typical JEE application to run?","body":"So Java EE could be said as defining what support should exist for a typical JEE application to run?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":4,"creation_date":1315087206,"post_id":7295697,"comment_id":8789801,"body_markdown":"@James: Yes. Pretty everything in Java EE API is abstract. Java SE API has also several abstract parts, e.g. JDBC, JAXP, JAXB, etc.","body":"@James: Yes. Pretty everything in Java EE API is abstract. Java SE API has also several abstract parts, e.g. JDBC, JAXP, JAXB, etc."},{"owner":{"account_id":1415830,"reputation":7284,"user_id":1341526,"accept_rate":96,"display_name":"jacktrades"},"score":3,"creation_date":1353415430,"post_id":7295697,"comment_id":18431661,"body_markdown":"&quot;There&#39;s not really a reason to look at again another framework like Spring to make the developers more easy.&quot; -&gt; Truly Valuable info.","body":"&quot;There&#39;s not really a reason to look at again another framework like Spring to make the developers more easy.&quot; -&gt; Truly Valuable info."},{"owner":{"account_id":910718,"reputation":2097,"user_id":944657,"accept_rate":100,"display_name":"Abdul Rahman"},"score":0,"creation_date":1388816889,"post_id":7295697,"comment_id":31404383,"body_markdown":"@BalusC: Hi, Is the official Sun Java EE.... link is broken, if you give a link similar to that, it will be helpful for someone.","body":"@BalusC: Hi, Is the official Sun Java EE.... link is broken, if you give a link similar to that, it will be helpful for someone."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1513811873,"post_id":7295697,"comment_id":82799445,"body_markdown":"To run complete Spring framework, Servlet container would suffice, Servlet container is [web server + web container(implements servlet api)]\nwhere as to run Java EE, you need application server like Glassfish. Servlet container would not suffice. Servlet container is a subset of application server. How do I understand this?","body":"To run complete Spring framework, Servlet container would suffice, Servlet container is [web server + web container(implements servlet api)] where as to run Java EE, you need application server like Glassfish. Servlet container would not suffice. Servlet container is a subset of application server. How do I understand this?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1513840042,"post_id":7295697,"comment_id":82806805,"body_markdown":"@overexchange: JSP/Servlet is a subset of Java EE.","body":"@overexchange: JSP/Servlet is a subset of Java EE."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1513841066,"post_id":7295697,"comment_id":82807288,"body_markdown":"Are you saying that, anything written in Spring framework boils down to Servlet? whether it is an MVC application or middle ware?","body":"Are you saying that, anything written in Spring framework boils down to Servlet? whether it is an MVC application or middle ware?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1513841369,"post_id":7295697,"comment_id":82807423,"body_markdown":"@overexchange: Nope, rest of Spring is proprietary.","body":"@overexchange: Nope, rest of Spring is proprietary."},{"owner":{"account_id":4032106,"reputation":16084,"user_id":3317808,"accept_rate":54,"display_name":"overexchange"},"score":0,"creation_date":1513844154,"post_id":7295697,"comment_id":82808758,"body_markdown":"I don&#39;t know about the proprietary part, and what that mean? Any resource to read?","body":"I don&#39;t know about the proprietary part, and what that mean? Any resource to read?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1513845210,"post_id":7295697,"comment_id":82809301,"body_markdown":"@overexchange: It just means that Spring is not Java EE. Like as that a BMW is not a Toyota even though they can drive the same road. If you can&#39;t grok that, you&#39;d better take a step back and re-read the entire answer including all of its internal links and the internal links theerof and the internal links thereof and the internal links thereof, etc.","body":"@overexchange: It just means that Spring is not Java EE. Like as that a BMW is not a Toyota even though they can drive the same road. If you can&#39;t grok that, you&#39;d better take a step back and re-read the entire answer including all of its internal links and the internal links theerof and the internal links thereof and the internal links thereof, etc."},{"owner":{"account_id":22033,"reputation":1989,"user_id":54013,"display_name":"Johan Boul&#233;"},"score":0,"creation_date":1551980143,"post_id":7295697,"comment_id":96849494,"body_markdown":"I also think the term proprietary was improper in this context. It usually refers to closedsource implementations (and sometimes too no public API). AFAIK, Spring is opensource and has its own &quot;native&quot; API.","body":"I also think the term proprietary was improper in this context. It usually refers to closedsource implementations (and sometimes too no public API). AFAIK, Spring is opensource and has its own &quot;native&quot; API."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":11,"down_vote_count":1,"up_vote_count":231,"is_accepted":false,"score":230,"last_activity_date":1685534080,"creation_date":1315081621,"answer_id":7295697,"question_id":7295096,"body_markdown":"&lt;sup&gt;&lt;sup&gt;(Updated May 2023)&lt;/sup&gt;&lt;/sup&gt;\r\n\r\nFirst of all, &quot;Java EE&quot; has since Sep 2019 been renamed to &quot;**Jakarta EE**&quot;, starting with version 8. Historically, there was also the term &quot;J2EE&quot; which covered versions 1.2 until 1.4. The term &quot;Java EE&quot; covered versions 5 until 8. See also [Jakarta EE, History on Wikipedia][1].\r\n\r\n----------\r\n\r\n\r\n&gt; *Is Jakarta EE just a specification? What I mean is: Is EJB Jakarta EE?*\r\n\r\n[Jakarta EE][2] is indeed an **abstract** specification. Anybody is open to develop and provide a working [implementation][3] of the specification. The *concrete* implementations are the so-called application servers, like [WildFly][4], [TomEE][5], [GlassFish][6], [Liberty][7], [WebLogic][8], etc. There are also servlet containers which implement only the JSP/Servlet part of the huge Jakarta EE API, such as [Tomcat][9], [Jetty][10], etc.\r\n\r\nWe, Jakarta EE developers, should write code utilizing the specification (i.e. import *only* `jakarta.*` classes in our code instead of implementation specific classes such as `org.jboss.wildfly.*`, `com.sun.glassfish.*`, `org.apache.tomcat.*`, etc) and then we&#39;ll be able to run our code on any implementation (thus, on any application server). If you&#39;re familiar with JDBC, it&#39;s basically the same concept as how JDBC drivers work. See also a.o. https://stackoverflow.com/questions/7550612/in-simplest-terms-what-is-a-factory\r\n\r\nEJB is part of the Jakarta EE specification. Look, [it&#39;s in the Jakarta EE API][11]. Full-fledged Jakarta EE application servers support it out the box, but simple JSP/Servlet containers don&#39;t.\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/1958808/java-jakarta-ee-web-development-where-do-i-start-and-what-skills-do-i-need\r\n- https://stackoverflow.com/questions/65703840/how-to-properly-configure-jakarta-ee-libraries-in-maven-pom-xml-for-tomcat/65704617#65704617\r\n\r\n---\r\n\r\n&gt; *Are EJB/Spring different implementations of Jakarta EE?*\r\n\r\nNo, as said, EJB is part of Jakarta EE. Spring is a standalone framework which substitutes and improves many parts of Jakarta EE. Spring doesn&#39;t necessarily require Jakarta EE to run. A bare-bones servlet container like Tomcat is already sufficient. Simply put, Spring is a competitor of Jakarta EE. E.g. &quot;Spring&quot; (standalone) competes EJB/JTA, Spring MVC competes Faces/REST/MVC, Spring DI/IoC/AOP competes CDI, Spring Security competes JASPIC/Security, Spring Boot competes MicroProfile, etc.\r\n\r\nBack during the old J2EE/EJB2 times, the EJB2 API was terrible to implement and maintain. Spring was then a much better alternative to EJB2. But since EJB3 (Java EE 5), the EJB API was much improved based on lessons learnt from Spring. Since CDI (Java EE 6), there&#39;s not really a reason to look at again *another* framework like Spring to make the developers more easy as to developing among others the service layer.\r\n\r\nOnly when you&#39;re using a bare-bones servlet container such as Tomcat and can&#39;t move on to a Jakarta EE server, then Spring is more attractive as it&#39;s easier to install Spring on Tomcat. It isn&#39;t possible to install e.g. an EJB container on Tomcat without modifying the server itself, you would basically be reinventing TomEE.\r\n\r\n### See also:\r\n\r\n- https://stackoverflow.com/questions/18369356/when-is-it-necessary-or-convenient-to-use-springjsf2-or-ejb3jsf2-or-all-of-the\r\n- https://stackoverflow.com/questions/18744910/using-jsf-as-view-technology-of-spring-mvc\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jakarta_EE#History\r\n  [2]: https://jakarta.ee\r\n  [3]: https://jakarta.ee/compatibility/\r\n  [4]: https://wildfly.org\r\n  [5]: https://tomee.apache.org\r\n  [6]: https://glassfish.org\r\n  [7]: https://www.ibm.com/cloud/websphere-liberty\r\n  [8]: https://www.oracle.com/middleware/technologies/weblogic.html\r\n  [9]: https://tomcat.apache.org\r\n  [10]: https://www.eclipse.org/jetty/\r\n  [11]: https://jakarta.ee/specifications/enterprise-beans/4.0/apidocs/jakarta/ejb/package-summary.html","title":"What exactly is Java EE?","body":"<p><sup><sup>(Updated May 2023)</sup></sup></p>\n<p>First of all, &quot;Java EE&quot; has since Sep 2019 been renamed to &quot;<strong>Jakarta EE</strong>&quot;, starting with version 8. Historically, there was also the term &quot;J2EE&quot; which covered versions 1.2 until 1.4. The term &quot;Java EE&quot; covered versions 5 until 8. See also <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE#History\" rel=\"nofollow noreferrer\">Jakarta EE, History on Wikipedia</a>.</p>\n<hr />\n<blockquote>\n<p><em>Is Jakarta EE just a specification? What I mean is: Is EJB Jakarta EE?</em></p>\n</blockquote>\n<p><a href=\"https://jakarta.ee\" rel=\"nofollow noreferrer\">Jakarta EE</a> is indeed an <strong>abstract</strong> specification. Anybody is open to develop and provide a working <a href=\"https://jakarta.ee/compatibility/\" rel=\"nofollow noreferrer\">implementation</a> of the specification. The <em>concrete</em> implementations are the so-called application servers, like <a href=\"https://wildfly.org\" rel=\"nofollow noreferrer\">WildFly</a>, <a href=\"https://tomee.apache.org\" rel=\"nofollow noreferrer\">TomEE</a>, <a href=\"https://glassfish.org\" rel=\"nofollow noreferrer\">GlassFish</a>, <a href=\"https://www.ibm.com/cloud/websphere-liberty\" rel=\"nofollow noreferrer\">Liberty</a>, <a href=\"https://www.oracle.com/middleware/technologies/weblogic.html\" rel=\"nofollow noreferrer\">WebLogic</a>, etc. There are also servlet containers which implement only the JSP/Servlet part of the huge Jakarta EE API, such as <a href=\"https://tomcat.apache.org\" rel=\"nofollow noreferrer\">Tomcat</a>, <a href=\"https://www.eclipse.org/jetty/\" rel=\"nofollow noreferrer\">Jetty</a>, etc.</p>\n<p>We, Jakarta EE developers, should write code utilizing the specification (i.e. import <em>only</em> <code>jakarta.*</code> classes in our code instead of implementation specific classes such as <code>org.jboss.wildfly.*</code>, <code>com.sun.glassfish.*</code>, <code>org.apache.tomcat.*</code>, etc) and then we'll be able to run our code on any implementation (thus, on any application server). If you're familiar with JDBC, it's basically the same concept as how JDBC drivers work. See also a.o. <a href=\"https://stackoverflow.com/questions/7550612/in-simplest-terms-what-is-a-factory\">In simplest terms, what is a factory?</a></p>\n<p>EJB is part of the Jakarta EE specification. Look, <a href=\"https://jakarta.ee/specifications/enterprise-beans/4.0/apidocs/jakarta/ejb/package-summary.html\" rel=\"nofollow noreferrer\">it's in the Jakarta EE API</a>. Full-fledged Jakarta EE application servers support it out the box, but simple JSP/Servlet containers don't.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1958808/java-jakarta-ee-web-development-where-do-i-start-and-what-skills-do-i-need\">Java / Jakarta EE web development, where do I start and what skills do I need?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65703840/how-to-properly-configure-jakarta-ee-libraries-in-maven-pom-xml-for-tomcat/65704617#65704617\">How to properly configure Jakarta EE libraries in Maven pom.xml for Tomcat?</a></li>\n</ul>\n<hr />\n<blockquote>\n<p><em>Are EJB/Spring different implementations of Jakarta EE?</em></p>\n</blockquote>\n<p>No, as said, EJB is part of Jakarta EE. Spring is a standalone framework which substitutes and improves many parts of Jakarta EE. Spring doesn't necessarily require Jakarta EE to run. A bare-bones servlet container like Tomcat is already sufficient. Simply put, Spring is a competitor of Jakarta EE. E.g. &quot;Spring&quot; (standalone) competes EJB/JTA, Spring MVC competes Faces/REST/MVC, Spring DI/IoC/AOP competes CDI, Spring Security competes JASPIC/Security, Spring Boot competes MicroProfile, etc.</p>\n<p>Back during the old J2EE/EJB2 times, the EJB2 API was terrible to implement and maintain. Spring was then a much better alternative to EJB2. But since EJB3 (Java EE 5), the EJB API was much improved based on lessons learnt from Spring. Since CDI (Java EE 6), there's not really a reason to look at again <em>another</em> framework like Spring to make the developers more easy as to developing among others the service layer.</p>\n<p>Only when you're using a bare-bones servlet container such as Tomcat and can't move on to a Jakarta EE server, then Spring is more attractive as it's easier to install Spring on Tomcat. It isn't possible to install e.g. an EJB container on Tomcat without modifying the server itself, you would basically be reinventing TomEE.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/18369356/when-is-it-necessary-or-convenient-to-use-springjsf2-or-ejb3jsf2-or-all-of-the\">When is it necessary or convenient to use Spring or EJB3 or all of them together?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18744910/using-jsf-as-view-technology-of-spring-mvc\">Using JSF as view technology of Spring MVC</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":426809,"reputation":3789,"user_id":808237,"accept_rate":67,"display_name":"Tair"},"score":4,"creation_date":1441570391,"post_id":32427707,"comment_id":52720849,"body_markdown":"This answer doesn&#39;t add anything to previous answers. Moreover, it is not accurate: only one concrete implementation is Reference, the others are not. Minor one: Spring integrates with JavaEE, but can work without it just fine.","body":"This answer doesn&#39;t add anything to previous answers. Moreover, it is not accurate: only one concrete implementation is Reference, the others are not. Minor one: Spring integrates with JavaEE, but can work without it just fine."},{"owner":{"account_id":2193313,"reputation":1102,"user_id":1939735,"accept_rate":93,"display_name":"SoftwareDeveloper"},"score":0,"creation_date":1441572597,"post_id":32427707,"comment_id":52721511,"body_markdown":"@tair Yes only 1 concrete implementation is regarded as the &#39;Reference&#39; for e.g. JPA has numerous implementations but only EclipseLink is the RI. When i mentioned RI i was meaning across the different APIs. i think you misunderstood my answer above. Also, yes, Spring integrates with JavaEE which is what i mentioned above.","body":"@tair Yes only 1 concrete implementation is regarded as the &#39;Reference&#39; for e.g. JPA has numerous implementations but only EclipseLink is the RI. When i mentioned RI i was meaning across the different APIs. i think you misunderstood my answer above. Also, yes, Spring integrates with JavaEE which is what i mentioned above."}],"tags":[],"owner":{"account_id":2193313,"reputation":1102,"user_id":1939735,"accept_rate":93,"display_name":"SoftwareDeveloper"},"comment_count":2,"down_vote_count":9,"up_vote_count":3,"is_accepted":false,"score":-6,"last_activity_date":1441569555,"creation_date":1441569555,"answer_id":32427707,"question_id":7295096,"body_markdown":"To put simply - JavaEE is a platform. \r\n\r\nIt is made up of many specifications which are just APIs. The specific concrete implementations of these APIs are the so called &#39;Reference Implementation&#39;\r\n\r\n1. EJB is just one specification within the JavaEE platform\r\n2. No, Spring is a application framework that can allow you/has support for you to develop JavaEE applications\r\n\r\nEJB is Enterprise Java Beans","title":"What exactly is Java EE?","body":"<p>To put simply - JavaEE is a platform. </p>\n\n<p>It is made up of many specifications which are just APIs. The specific concrete implementations of these APIs are the so called 'Reference Implementation'</p>\n\n<ol>\n<li>EJB is just one specification within the JavaEE platform</li>\n<li>No, Spring is a application framework that can allow you/has support for you to develop JavaEE applications</li>\n</ol>\n\n<p>EJB is Enterprise Java Beans</p>\n"},{"tags":[],"owner":{"account_id":22464012,"reputation":5,"user_id":16665454,"display_name":"Ravi R. Oza"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1631812729,"creation_date":1631812729,"answer_id":69212663,"question_id":7295096,"body_markdown":"J2EE/JEE/Jakarta EE\r\n\r\n - Java Enterprise Edition (JEE) is used to develop distributed application &amp;\r\n   web services. \r\n - It’s a component based approach to develop web app.\r\n - JEE web apps are considered as 3 tiered apps, since it is divided on 3   \r\n   different machines/tiers\r\n    - Client (Presentation) \r\n    - J2EE sever (Application/Business)\r\n    - Database (Data Access)","title":"What exactly is Java EE?","body":"<p>J2EE/JEE/Jakarta EE</p>\n<ul>\n<li>Java Enterprise Edition (JEE) is used to develop distributed application &amp;\nweb services.</li>\n<li>It’s a component based approach to develop web app.</li>\n<li>JEE web apps are considered as 3 tiered apps, since it is divided on 3<br />\ndifferent machines/tiers\n<ul>\n<li>Client (Presentation)</li>\n<li>J2EE sever (Application/Business)</li>\n<li>Database (Data Access)</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22063167,"reputation":339,"user_id":16325455,"display_name":"Spyros"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1640792886,"creation_date":1640792886,"answer_id":70521731,"question_id":7295096,"body_markdown":"Everything you need to know about Java EE may be found by starting @ [Oracle official website][1], among other. You may also find interesting to read the [specification APIs for release 8][2]. It is worth taking the time to go through the [Java EE 8 tutorial][3]. You may want to start with it actually, because it provides a very good overview of the whole platform.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/java-ee-glance.html\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/\r\n  [3]: https://javaee.github.io/tutorial/toc.html","title":"What exactly is Java EE?","body":"<p>Everything you need to know about Java EE may be found by starting @ <a href=\"https://www.oracle.com/java/technologies/java-ee-glance.html\" rel=\"nofollow noreferrer\">Oracle official website</a>, among other. You may also find interesting to read the <a href=\"https://javaee.github.io/javaee-spec/javadocs/\" rel=\"nofollow noreferrer\">specification APIs for release 8</a>. It is worth taking the time to go through the <a href=\"https://javaee.github.io/tutorial/toc.html\" rel=\"nofollow noreferrer\">Java EE 8 tutorial</a>. You may want to start with it actually, because it provides a very good overview of the whole platform.</p>\n"}],"owner":{"account_id":887929,"reputation":1919,"user_id":926906,"display_name":"Frank Zimmer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66631,"favorite_count":0,"down_vote_count":2,"up_vote_count":192,"answer_count":6,"score":190,"last_activity_date":1685534080,"creation_date":1315075347,"question_id":7295096,"body_markdown":"I have been doing Java SE for some years now and moving on to Java EE. However, I have some trouble understanding some aspects of Java EE.\r\n\r\n1. Is Java EE just a specification? What I mean is: Is EJB Java EE?  \r\n\r\n2. Are EJB/Spring different implementations of Java EE?\r\n\r\nI am sorry to ask but I have some difficulties to understand what Java EE is.  \r\n\r\n**Could someone explain what Java EE is? And EJB?**","title":"What exactly is Java EE?","body":"<p>I have been doing Java SE for some years now and moving on to Java EE. However, I have some trouble understanding some aspects of Java EE.</p>\n\n<ol>\n<li><p>Is Java EE just a specification? What I mean is: Is EJB Java EE?  </p></li>\n<li><p>Are EJB/Spring different implementations of Java EE?</p></li>\n</ol>\n\n<p>I am sorry to ask but I have some difficulties to understand what Java EE is.  </p>\n\n<p><strong>Could someone explain what Java EE is? And EJB?</strong></p>\n"},{"tags":["java","soap","service","cxf","ws-security"],"owner":{"account_id":18837021,"reputation":11,"user_id":13739445,"display_name":"Andre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685533234,"creation_date":1592049660,"question_id":62359460,"body_markdown":"I have created a java SOAP ws client for a SOAP web service which expects a username and a password inside a usernametoken element. I used cxf(3.3.2) to create my web service client.I have added as a dependecy cxf-rt-ws-security.My client code looks like this:\r\n\r\n    BindingProvider bp=(BindingProvider) port;\r\n    \r\n    bp.getRequestContext().put(SecurityConstants.USERNAME, username);\r\n    bp.getRequestContext().put(SecurityConstants.PASSWORD, password);\r\n\r\nThe problem is that the cxf automatically adds the &#39;tmu:Timestamp&#39; element at the SOAP header, but the web service does not like it, and I receive &quot;An error occurred when verifying security for the message.&quot;\r\nIf I remove manually the &#39;tmu:Timestamp&#39; element and send the request with SOAP UI, the request is sucessfully processed by the webservice.\r\n\r\nMy soap header looks like this:\r\n\r\n    &lt;soap:Header&gt;\r\n       &lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; soap:mustUnderstand=&quot;true&quot;&gt;\r\n            &lt;wsu:Timestamp wsu:Id=&quot;TS-254d999a-5835-49ae-8acf-1f0d8821881b&quot;&gt;\r\n                \t\t&lt;wsu:Created&gt;2020-06-13T11:47:23.160Z&lt;/wsu:Created&gt;\r\n                \t\t&lt;wsu:Expires&gt;2020-06-13T11:52:23.160Z&lt;/wsu:Expires&gt;\r\n                &lt;/wsu:Timestamp&gt;\r\n                &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-39e0a8f0-b3b3-4225-8270-375681fc1866&quot;&gt;\r\n                \t&lt;wsse:Username&gt;username&lt;/wsse:Username&gt;\r\n                \t&lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&gt;password&lt;/wsse:Password&gt;\r\n             &lt;/wsse:UsernameToken&gt;\r\n        &lt;/wsse:Security&gt;\r\n    &lt;/soap:Header&gt;\r\n\r\nI tried to remove the &#39;wsu:Timestamp&#39; element with a SOAPHandler but it failed.\r\nAny help will be usefull. :)\r\n\r\n\r\n\r\n","title":"How to remove cxf &#39;tmu:Timestamp&#39; from SOAP header","body":"<p>I have created a java SOAP ws client for a SOAP web service which expects a username and a password inside a usernametoken element. I used cxf(3.3.2) to create my web service client.I have added as a dependecy cxf-rt-ws-security.My client code looks like this:</p>\n\n<pre><code>BindingProvider bp=(BindingProvider) port;\n\nbp.getRequestContext().put(SecurityConstants.USERNAME, username);\nbp.getRequestContext().put(SecurityConstants.PASSWORD, password);\n</code></pre>\n\n<p>The problem is that the cxf automatically adds the 'tmu:Timestamp' element at the SOAP header, but the web service does not like it, and I receive \"An error occurred when verifying security for the message.\"\nIf I remove manually the 'tmu:Timestamp' element and send the request with SOAP UI, the request is sucessfully processed by the webservice.</p>\n\n<p>My soap header looks like this:</p>\n\n<pre><code>&lt;soap:Header&gt;\n   &lt;wsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" soap:mustUnderstand=\"true\"&gt;\n        &lt;wsu:Timestamp wsu:Id=\"TS-254d999a-5835-49ae-8acf-1f0d8821881b\"&gt;\n                    &lt;wsu:Created&gt;2020-06-13T11:47:23.160Z&lt;/wsu:Created&gt;\n                    &lt;wsu:Expires&gt;2020-06-13T11:52:23.160Z&lt;/wsu:Expires&gt;\n            &lt;/wsu:Timestamp&gt;\n            &lt;wsse:UsernameToken wsu:Id=\"UsernameToken-39e0a8f0-b3b3-4225-8270-375681fc1866\"&gt;\n                &lt;wsse:Username&gt;username&lt;/wsse:Username&gt;\n                &lt;wsse:Password Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText\"&gt;password&lt;/wsse:Password&gt;\n         &lt;/wsse:UsernameToken&gt;\n    &lt;/wsse:Security&gt;\n&lt;/soap:Header&gt;\n</code></pre>\n\n<p>I tried to remove the 'wsu:Timestamp' element with a SOAPHandler but it failed.\nAny help will be usefull. :)</p>\n"},{"tags":["java","hibernate","jdbc","transactions"],"answers":[{"comments":[{"owner":{"account_id":1769821,"reputation":8901,"user_id":1614870,"accept_rate":57,"display_name":"Abhijit Mazumder"},"score":0,"creation_date":1404448451,"post_id":24566723,"comment_id":38052405,"body_markdown":"Edward , Thanks for replying .I understand the Multiple statements or CRUD operation point. But If you see the documentation for even single select txn is used.","body":"Edward , Thanks for replying .I understand the Multiple statements or CRUD operation point. But If you see the documentation for even single select txn is used."},{"owner":{"account_id":1562954,"reputation":1027,"user_id":1452410,"display_name":"Ed Morales"},"score":0,"creation_date":1404448644,"post_id":24566723,"comment_id":38052444,"body_markdown":"On a select statement, to my knowledge, it doesnt really matter. It only matters on statements that modify the DB. Its probably done to keep the code uniform on how to access the DB. Or maybe thinking about the future since you may add code on that method to modify the DB after querying it later on.","body":"On a select statement, to my knowledge, it doesnt really matter. It only matters on statements that modify the DB. Its probably done to keep the code uniform on how to access the DB. Or maybe thinking about the future since you may add code on that method to modify the DB after querying it later on."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1404454227,"post_id":24566723,"comment_id":38054151,"body_markdown":"@AbhijitMazumder Most databases require that everything is executed in a transaction. And databases that do allow doing it without a transaction, will internally wrap the statement in a transaction. That is because transactions are fundamental to how a database works when it tries to guarantee the ACID properties.","body":"@AbhijitMazumder Most databases require that everything is executed in a transaction. And databases that do allow doing it without a transaction, will internally wrap the statement in a transaction. That is because transactions are fundamental to how a database works when it tries to guarantee the ACID properties."},{"owner":{"account_id":1769821,"reputation":8901,"user_id":1614870,"accept_rate":57,"display_name":"Abhijit Mazumder"},"score":0,"creation_date":1404463745,"post_id":24566723,"comment_id":38058664,"body_markdown":"Totally understand that point. Trying to understand if it makes any difference using explicit transaction","body":"Totally understand that point. Trying to understand if it makes any difference using explicit transaction"}],"tags":[],"owner":{"account_id":1562954,"reputation":1027,"user_id":1452410,"display_name":"Ed Morales"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404448196,"creation_date":1404448196,"answer_id":24566723,"question_id":24566636,"body_markdown":"If its one statement you wouldnt tell the difference, but if you are trying to do ***multiple statements*** in a ***single*** transaction you would see what they are for.\r\n\r\nIf you open a transaction and attempt multiple `CRUD` operations and one fails, you can roll back the transaction and pretty much go back to a previous state within the transaction (even before everything). \r\n\r\nOn the other hand, if you dont open a transaction, its opened and closed implicitly every time you use a statement so if you do multiple `CRUD` operations and one fails, there is no way to roll back the data and you will end up with bad data.\r\n\r\nSide note : this doesnt really matter for ***select*** statements","title":"Hibernate get without explicit Transaction","body":"<p>If its one statement you wouldnt tell the difference, but if you are trying to do <strong><em>multiple statements</em></strong> in a <strong><em>single</em></strong> transaction you would see what they are for.</p>\n\n<p>If you open a transaction and attempt multiple <code>CRUD</code> operations and one fails, you can roll back the transaction and pretty much go back to a previous state within the transaction (even before everything). </p>\n\n<p>On the other hand, if you dont open a transaction, its opened and closed implicitly every time you use a statement so if you do multiple <code>CRUD</code> operations and one fails, there is no way to roll back the data and you will end up with bad data.</p>\n\n<p>Side note : this doesnt really matter for <strong><em>select</em></strong> statements</p>\n"}],"owner":{"account_id":1769821,"reputation":8901,"user_id":1614870,"accept_rate":57,"display_name":"Abhijit Mazumder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685532992,"creation_date":1404447531,"question_id":24566636,"body_markdown":"I am trying to understand the reason behind using transaction in the following piece of code retrieved from Hibernate Documentation.\r\n\r\n\r\n\r\n\r\n    Session session1 = factory1.openSession();\r\n    Transaction tx1 = session1.beginTransaction();\r\n    Cat cat = session1.get(Cat.class, catId);\r\n    tx1.commit();\r\n    session1.close();\r\n    //reconcile with a second database\r\n    Session session2 = factory2.openSession();\r\n    Transaction tx2 = session2.beginTransaction();\r\n    session2.replicate(cat, ReplicationMode.LATEST_VERSION);\r\n    tx2.commit();\r\n    session2.close();\r\n\r\n\r\nWhat I understand from this [JBOSS Docs][1] that even though if I dont use a transaction that should not be a problem in this case. Can some body educate me more on this in terms of isolation etc . what actually happens if we do or dont use transaction in the above scenario\r\n\r\n*Working nontransactionally with Hibernate\r\nLook at the following code, which accesses the database without transaction boundaries:*\r\n\r\n    Session session = sessionFactory.openSession();   \r\n    session.get(Item.class, 123l);   \r\n    session.close();   \r\n     \r\n\r\n*By default, in a Java SE environment with a JDBC configuration, this is what happens if you execute this snippet:\r\n1. A new Session is opened. It doesn’t obtain a database connection at this point.\r\n2. The call to get() triggers an SQL SELECT. The Session now obtains a JDBC Connection from the connection pool. Hibernate, by default, immediately turns off the autocommit mode on this connection with setAutoCommit(false). This effectively starts a JDBC transaction!\r\n3. The SELECT is executed inside this JDBC transaction. The Session is closed, and the connection is returned to the pool and released by Hibernate — Hibernate calls close() on the JDBC Connection. What happens to the uncommitted transaction?   The answer to that question is, “It depends!” The JDBC specification doesn’t say anything about pending transactions when close() is called on a connection. What happens depends on how the vendors implement the specification. With Oracle JDBC drivers, for example, the call to close() commits the transaction! Most other JDBC vendors take the sane route and roll back any pending transaction when the JDBC Connection object is closed and the resource is returned to the pool. Obviously, this won’t be a problem for the SELECT you’ve executed, but look at this variation:*\r\n\r\n\r\n[1]: https://developer.jboss.org/docs/DOC-13953","title":"Hibernate get without explicit Transaction","body":"<p>I am trying to understand the reason behind using transaction in the following piece of code retrieved from Hibernate Documentation.</p>\n<pre><code>Session session1 = factory1.openSession();\nTransaction tx1 = session1.beginTransaction();\nCat cat = session1.get(Cat.class, catId);\ntx1.commit();\nsession1.close();\n//reconcile with a second database\nSession session2 = factory2.openSession();\nTransaction tx2 = session2.beginTransaction();\nsession2.replicate(cat, ReplicationMode.LATEST_VERSION);\ntx2.commit();\nsession2.close();\n</code></pre>\n<p>What I understand from this <a href=\"https://developer.jboss.org/docs/DOC-13953\" rel=\"nofollow noreferrer\">JBOSS Docs</a> that even though if I dont use a transaction that should not be a problem in this case. Can some body educate me more on this in terms of isolation etc . what actually happens if we do or dont use transaction in the above scenario</p>\n<p><em>Working nontransactionally with Hibernate\nLook at the following code, which accesses the database without transaction boundaries:</em></p>\n<pre><code>Session session = sessionFactory.openSession();   \nsession.get(Item.class, 123l);   \nsession.close();   \n \n</code></pre>\n<p>*By default, in a Java SE environment with a JDBC configuration, this is what happens if you execute this snippet:</p>\n<ol>\n<li>A new Session is opened. It doesn’t obtain a database connection at this point.</li>\n<li>The call to get() triggers an SQL SELECT. The Session now obtains a JDBC Connection from the connection pool. Hibernate, by default, immediately turns off the autocommit mode on this connection with setAutoCommit(false). This effectively starts a JDBC transaction!</li>\n<li>The SELECT is executed inside this JDBC transaction. The Session is closed, and the connection is returned to the pool and released by Hibernate — Hibernate calls close() on the JDBC Connection. What happens to the uncommitted transaction?   The answer to that question is, “It depends!” The JDBC specification doesn’t say anything about pending transactions when close() is called on a connection. What happens depends on how the vendors implement the specification. With Oracle JDBC drivers, for example, the call to close() commits the transaction! Most other JDBC vendors take the sane route and roll back any pending transaction when the JDBC Connection object is closed and the resource is returned to the pool. Obviously, this won’t be a problem for the SELECT you’ve executed, but look at this variation:*</li>\n</ol>\n"},{"tags":["java","multithreading","concurrency","java-threads","thread-synchronization"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1684585557,"post_id":76295207,"comment_id":134540384,"body_markdown":"`ada.wait()` will only stop blocking, when `ada.notify()` or `ada.notifyAll()` has been called after `t2` has called `ada.wait()`. For me, the logic of the program looks broken.","body":"<code>ada.wait()</code> will only stop blocking, when <code>ada.notify()</code> or <code>ada.notifyAll()</code> has been called after <code>t2</code> has called <code>ada.wait()</code>. For me, the logic of the program looks broken."}],"answers":[{"comments":[{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":1,"creation_date":1684585821,"post_id":76295221,"comment_id":134540413,"body_markdown":"Thanks, that really helps me! Wasn&#39;t really understand how to use 2 different objects, but you make it clear. Solved","body":"Thanks, that really helps me! Wasn&#39;t really understand how to use 2 different objects, but you make it clear. Solved"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1684589653,"post_id":76295221,"comment_id":134540937,"body_markdown":"As an aside: this program has the potential to deadlock. Thread `t2` can reach `den.notifyAll()` before `t1` reaches `den.wait()`. It is not sufficient to call `start()`on `t1` before calling `start()`on `t2` to prevent this problem.","body":"As an aside: this program has the potential to deadlock. Thread <code>t2</code> can reach <code>den.notifyAll()</code> before <code>t1</code> reaches <code>den.wait()</code>. It is not sufficient to call <code>start()</code>on <code>t1</code> before calling <code>start()</code>on <code>t2</code> to prevent this problem."},{"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"score":0,"creation_date":1684592586,"post_id":76295221,"comment_id":134541262,"body_markdown":"@Turing85 Thank for your remark.\nnow my code looks like that:\n`thread 1: run() {\nsout(&quot;Thread 1 ada&quot;);\nsynchronized (ada) {\nada.notifyAll(); }\n\t\n       \nthread 2: run() {\n synchronized (ada) {\n try {\nada.wait(100); }`\nis there the same deadlock potential?","body":"@Turing85 Thank for your remark. now my code looks like that: <code>thread 1: run() { sout(&quot;Thread 1 ada&quot;); synchronized (ada) { ada.notifyAll(); } \t         thread 2: run() {  synchronized (ada) {  try { ada.wait(100); }</code> is there the same deadlock potential?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1684592955,"post_id":76295221,"comment_id":134541309,"body_markdown":"not the same, but another (if `t1` is started way before `t2`): `t1` could call `ada.notifyAll()` before `t2` calls `ada.wait()`. the problem is generally not easy to solve, and needs additional constructs.","body":"not the same, but another (if <code>t1</code> is started way before <code>t2</code>): <code>t1</code> could call <code>ada.notifyAll()</code> before <code>t2</code> calls <code>ada.wait()</code>. the problem is generally not easy to solve, and needs additional constructs."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684846544,"post_id":76295221,"comment_id":134574356,"body_markdown":"It’s worth reading the API Note of [`wait(long timeoutMillis, int nanos)`’s documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#wait(long,int)) In real applications, a thread doesn’t wait for another thread. A thread will wait for a certain *condition* which another thread may make true. As the documentation states, this condition should be checked with a loop within the `synchronized` block, to ensure not to miss if the condition is already fulfilled and to protect against spurious wakeups and other problematic scenarios.","body":"It’s worth reading the API Note of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Object.html#wait(long,int)\" rel=\"nofollow noreferrer\"><code>wait(long timeoutMillis, int nanos)</code>’s documentation</a> In real applications, a thread doesn’t wait for another thread. A thread will wait for a certain <i>condition</i> which another thread may make true. As the documentation states, this condition should be checked with a loop within the <code>synchronized</code> block, to ensure not to miss if the condition is already fulfilled and to protect against spurious wakeups and other problematic scenarios."}],"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685031540,"creation_date":1684585499,"answer_id":76295221,"question_id":76295207,"body_markdown":"In order to achieve the desired output where &quot;Thread 1 den&quot; is printed before &quot;Thread 2 den&quot;, and &quot;Thread 1 ada&quot; is printed before &quot;Thread 2 ada&quot;, you can use wait() and notifyAll() methods to synchronize the execution of the threads. Here&#39;s an updated version of your code:\r\n\r\n        class MyThreads {\r\n        public final static Object den = new Object();\r\n        public final static Object ada = new Object();\r\n    \r\n        public static Thread t1 = new Thread() {\r\n            public void run() {\r\n                System.out.println(&quot;Thread 1 den&quot;);\r\n                synchronized (den) {\r\n                    try {\r\n                        den.wait();  // Wait until den is notified\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                System.out.println(&quot;Thread 1 ada&quot;);\r\n                \r\n                synchronized (ada) {\r\n                    ada.notifyAll();  // Notify ada to wake up Thread 2\r\n                }\r\n            }\r\n        };\r\n    \r\n        public static Thread t2 = new Thread() {\r\n            public void run() {\r\n                synchronized (den) {\r\n                System.out.println(&quot;Thread 2 den&quot;);\r\n                den.notifyAll();\r\n                }\r\n\r\n                synchronized (ada) {\r\n                    try {\r\n                        ada.wait();  // Wait until ada is notified\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                System.out.println(&quot;Thread 2 ada&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\nIn the updated code, the t1 thread first enters a synchronized block on den and calls den.wait(). This causes t1 to wait until it is notified by another thread. Meanwhile, t2 thread is executed and it enters a synchronized block on den and calls den.notifyAll(), which wakes up the waiting t1 thread.\r\n\r\nAfter t1 is awakened, it prints &quot;Thread 1 den&quot;. Then, it enters a synchronized block on ada and calls ada.notifyAll(), which wakes up the waiting t2 thread.\r\n\r\nFinally, t2 is awakened and it prints &quot;Thread 2 ada&quot;.\r\n\r\nBy using wait() and notifyAll() methods along with synchronized blocks, you can control the order of execution between the threads and achieve the desired output.\r\n\r\n","title":"How to properly synchronized 2 threads on 2 different objects in Java with wait/notify?","body":"<p>In order to achieve the desired output where &quot;Thread 1 den&quot; is printed before &quot;Thread 2 den&quot;, and &quot;Thread 1 ada&quot; is printed before &quot;Thread 2 ada&quot;, you can use wait() and notifyAll() methods to synchronize the execution of the threads. Here's an updated version of your code:</p>\n<pre><code>    class MyThreads {\n    public final static Object den = new Object();\n    public final static Object ada = new Object();\n\n    public static Thread t1 = new Thread() {\n        public void run() {\n            System.out.println(&quot;Thread 1 den&quot;);\n            synchronized (den) {\n                try {\n                    den.wait();  // Wait until den is notified\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            System.out.println(&quot;Thread 1 ada&quot;);\n            \n            synchronized (ada) {\n                ada.notifyAll();  // Notify ada to wake up Thread 2\n            }\n        }\n    };\n\n    public static Thread t2 = new Thread() {\n        public void run() {\n            synchronized (den) {\n            System.out.println(&quot;Thread 2 den&quot;);\n            den.notifyAll();\n            }\n\n            synchronized (ada) {\n                try {\n                    ada.wait();  // Wait until ada is notified\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            System.out.println(&quot;Thread 2 ada&quot;);\n        }\n    };\n}\n</code></pre>\n<p>In the updated code, the t1 thread first enters a synchronized block on den and calls den.wait(). This causes t1 to wait until it is notified by another thread. Meanwhile, t2 thread is executed and it enters a synchronized block on den and calls den.notifyAll(), which wakes up the waiting t1 thread.</p>\n<p>After t1 is awakened, it prints &quot;Thread 1 den&quot;. Then, it enters a synchronized block on ada and calls ada.notifyAll(), which wakes up the waiting t2 thread.</p>\n<p>Finally, t2 is awakened and it prints &quot;Thread 2 ada&quot;.</p>\n<p>By using wait() and notifyAll() methods along with synchronized blocks, you can control the order of execution between the threads and achieve the desired output.</p>\n"},{"tags":[],"owner":{"account_id":28718697,"reputation":1,"user_id":21992811,"display_name":"user21992811"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685532700,"creation_date":1685532700,"answer_id":76373030,"question_id":76295207,"body_markdown":"\r\n[The javadoc for Object.wait(...) methods](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)) advises this:\r\n&gt; The recommended approach to waiting is to check the condition being awaited in a while loop around the call to wait, as shown in the example below. Among other things, this approach avoids problems that can be caused by spurious wakeups.\r\n&gt;\r\n&gt; ```\r\n&gt;    synchronized (obj) {\r\n&gt;        while (&lt;condition does not hold&gt; and &lt;timeout not exceeded&gt;) {\r\n&gt;            long timeoutMillis = ... ; // recompute timeout values\r\n&gt;            int nanos = ... ;\r\n&gt;            obj.wait(timeoutMillis, nanos);\r\n&gt;        }\r\n&gt;        ... // Perform action appropriate to condition or timeout\r\n&gt;    }\r\n&gt; ```\r\n\r\nSo you can do something like this:\r\n\r\n```\r\nclass MyThreads {\r\n  final static Object lockObj = new Object();\r\n  static int lineToPrint;\r\n  \r\n  static {\r\n    synchronized (lockObj) {\r\n      lineToPrint = 1;\r\n    }\r\n  }\r\n\r\n  public static Thread t1 = new Thread() {\r\n    public void run() {\r\n      waitThenPrintLine(1, &quot;Thread 1 den&quot;);\r\n      waitThenPrintLine(3, &quot;Thread 1 ada&quot;);\r\n    }\r\n  };\r\n\r\n  public static Thread t2 = new Thread() {\r\n    public void run() {\r\n      waitThenPrintLine(2, &quot;Thread 2 den&quot;);\r\n      waitThenPrintLine(4, &quot;Thread 2 ada&quot;);\r\n    }\r\n  };\r\n\r\n  static void waitThenPrintLine(int lineNumber, String lineText) {\r\n    try {\r\n      synchronized (lockObj) {\r\n        // wait for the given lineNumber\r\n        while (lineToPrint != lineNumber) {\r\n          lockObj.wait();\r\n        }\r\n\r\n        System.out.println(lineText);\r\n\r\n        // increment lineToPrint and notify another thread about that\r\n        lineToPrint++;\r\n        lockObj.notify();\r\n      }\r\n    } catch (InterruptedException e) {\r\n      throw new Error(e);\r\n    }\r\n  }\r\n}\r\n```","title":"How to properly synchronized 2 threads on 2 different objects in Java with wait/notify?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)\" rel=\"nofollow noreferrer\">The javadoc for Object.wait(...) methods</a> advises this:</p>\n<blockquote>\n<p>The recommended approach to waiting is to check the condition being awaited in a while loop around the call to wait, as shown in the example below. Among other things, this approach avoids problems that can be caused by spurious wakeups.</p>\n<pre><code>   synchronized (obj) {\n       while (&lt;condition does not hold&gt; and &lt;timeout not exceeded&gt;) {\n           long timeoutMillis = ... ; // recompute timeout values\n           int nanos = ... ;\n           obj.wait(timeoutMillis, nanos);\n       }\n       ... // Perform action appropriate to condition or timeout\n   }\n</code></pre>\n</blockquote>\n<p>So you can do something like this:</p>\n<pre><code>class MyThreads {\n  final static Object lockObj = new Object();\n  static int lineToPrint;\n  \n  static {\n    synchronized (lockObj) {\n      lineToPrint = 1;\n    }\n  }\n\n  public static Thread t1 = new Thread() {\n    public void run() {\n      waitThenPrintLine(1, &quot;Thread 1 den&quot;);\n      waitThenPrintLine(3, &quot;Thread 1 ada&quot;);\n    }\n  };\n\n  public static Thread t2 = new Thread() {\n    public void run() {\n      waitThenPrintLine(2, &quot;Thread 2 den&quot;);\n      waitThenPrintLine(4, &quot;Thread 2 ada&quot;);\n    }\n  };\n\n  static void waitThenPrintLine(int lineNumber, String lineText) {\n    try {\n      synchronized (lockObj) {\n        // wait for the given lineNumber\n        while (lineToPrint != lineNumber) {\n          lockObj.wait();\n        }\n\n        System.out.println(lineText);\n\n        // increment lineToPrint and notify another thread about that\n        lineToPrint++;\n        lockObj.notify();\n      }\n    } catch (InterruptedException e) {\n      throw new Error(e);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":28615449,"reputation":21,"user_id":21909563,"display_name":"pure21_h"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76295221,"answer_count":2,"score":0,"last_activity_date":1685532700,"creation_date":1684585288,"question_id":76295207,"body_markdown":"I am learning synchronization in Java. I know this is a very basic question, but I can&#39;t figure it out.\r\n\r\nI have class which contains 2 different objects and 2 Threads.\r\n```\r\nclass MyThreads {\r\n\tpublic final static Object den = new Object();\r\n\tpublic final static Object ada = new Object();\r\n\r\n\tpublic static Thread t1 = new Thread() {\r\n\t\tpublic void run() {\r\n\t\t\tSystem.out.println(&quot;Thread 1 den&quot;);\r\n\t\t\tSystem.out.println(&quot;Thread 1 ada&quot;);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic static Thread t2 = new Thread() {\r\n\t\tpublic void run() {\r\n\t\t      System.out.println(&quot;Thread 2 den&quot;);\r\n\t\t      System.out.println(&quot;Thread 2 ada&quot;);\r\n\t\t}\r\n\t};\r\n}\r\n```\r\nAfter execute this code:\r\n```\r\nMyThreads.t1.start();\r\nMyThreads.t2.start();\r\n\r\n```\r\nI should get:\r\n\r\n```\r\nThread 1 den\r\nThread 2 den\r\nThread 1 ada\r\nThread 2 ada\r\n```\r\n\r\nI am struggling here. I don&#39;t understand how thread 1 can awake thread 2. \r\n\r\n```\r\npublic static Thread t1 = new Thread() {\r\n\t\tpublic void run() {\r\n\t\t\tSystem.out.println(&quot;Thread 1 den&quot;);\r\n\t\t\tsynchronized (den) {\r\n\t\t\t\ttry {   \r\n                    den.notifyAll();\r\n\t\t\t\t\tden.wait();\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\npublic static Thread t2 = new Thread() {\r\n\t\tpublic void run() {\r\n\t\t\tsynchronized (ada){\r\n                        ada.wait();\r\n//                     How to awake it?\r\n                        }\r\n\t\t}\r\n\t};\r\n\r\n```\r\nI will be thankful for any advice!\r\n","title":"How to properly synchronized 2 threads on 2 different objects in Java with wait/notify?","body":"<p>I am learning synchronization in Java. I know this is a very basic question, but I can't figure it out.</p>\n<p>I have class which contains 2 different objects and 2 Threads.</p>\n<pre><code>class MyThreads {\n    public final static Object den = new Object();\n    public final static Object ada = new Object();\n\n    public static Thread t1 = new Thread() {\n        public void run() {\n            System.out.println(&quot;Thread 1 den&quot;);\n            System.out.println(&quot;Thread 1 ada&quot;);\n        }\n    };\n\n    public static Thread t2 = new Thread() {\n        public void run() {\n              System.out.println(&quot;Thread 2 den&quot;);\n              System.out.println(&quot;Thread 2 ada&quot;);\n        }\n    };\n}\n</code></pre>\n<p>After execute this code:</p>\n<pre><code>MyThreads.t1.start();\nMyThreads.t2.start();\n\n</code></pre>\n<p>I should get:</p>\n<pre><code>Thread 1 den\nThread 2 den\nThread 1 ada\nThread 2 ada\n</code></pre>\n<p>I am struggling here. I don't understand how thread 1 can awake thread 2.</p>\n<pre><code>public static Thread t1 = new Thread() {\n        public void run() {\n            System.out.println(&quot;Thread 1 den&quot;);\n            synchronized (den) {\n                try {   \n                    den.notifyAll();\n                    den.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    };\n\npublic static Thread t2 = new Thread() {\n        public void run() {\n            synchronized (ada){\n                        ada.wait();\n//                     How to awake it?\n                        }\n        }\n    };\n\n</code></pre>\n<p>I will be thankful for any advice!</p>\n"},{"tags":["java","constants"],"answers":[{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1358232308,"creation_date":1358231520,"answer_id":14332283,"question_id":14332252,"body_markdown":"declaring it `static` enables you accessing the variale without creating an ojbect of the type .","title":"constant data member","body":"<p>declaring it <code>static</code> enables you accessing the variale without creating an ojbect of the type .</p>\n"},{"tags":[],"owner":{"account_id":1073435,"reputation":12390,"user_id":1072150,"accept_rate":75,"display_name":"EJK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358231533,"creation_date":1358231533,"answer_id":14332285,"question_id":14332252,"body_markdown":"The &quot;final&quot; identifier means that the variable&#39;s value cannot be changed.\r\n\r\n&quot;static&quot; however means that there is one instance of the variable within the class that it is defined. \r\n\r\nSo final and static are 2 different things, but you often see them used together to define constants for a class.","title":"constant data member","body":"<p>The \"final\" identifier means that the variable's value cannot be changed.</p>\n\n<p>\"static\" however means that there is one instance of the variable within the class that it is defined. </p>\n\n<p>So final and static are 2 different things, but you often see them used together to define constants for a class.</p>\n"},{"tags":[],"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358232042,"creation_date":1358231738,"answer_id":14332319,"question_id":14332252,"body_markdown":"**One reason could** be that you do not need to create an object of the class to access that constant that is why you should/may declarer it as `static`. As you can access it with class name as it is static.\r\n\r\nCheck this code\r\n\r\n    public class A{\r\n    public static final int aa = 1;\r\n    }\r\n    \r\n    public class B{\r\n    public final int bb = 1;\r\n    }\r\n    \r\n    public class Testing{\r\n    SOP(A.aa);// a can be accessed with class name\r\n    B b = new B();// where to access the constant bb we need to create class object \r\n    SOP(b.bb);\r\n    }","title":"constant data member","body":"<p><strong>One reason could</strong> be that you do not need to create an object of the class to access that constant that is why you should/may declarer it as <code>static</code>. As you can access it with class name as it is static.</p>\n\n<p>Check this code</p>\n\n<pre><code>public class A{\npublic static final int aa = 1;\n}\n\npublic class B{\npublic final int bb = 1;\n}\n\npublic class Testing{\nSOP(A.aa);// a can be accessed with class name\nB b = new B();// where to access the constant bb we need to create class object \nSOP(b.bb);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358231766,"creation_date":1358231766,"answer_id":14332327,"question_id":14332252,"body_markdown":"A static variable means it is available at class level.Only one instance of that variable will be available for all objects of that class.Static variable can be modified, but the change will reflect in all objects of that class.\r\nA final variable means its value cannot be change after initialization.\r\nA final variable with static modifier means the variable is available at class level.In short, it will act as a constant for all objects of that class","title":"constant data member","body":"<p>A static variable means it is available at class level.Only one instance of that variable will be available for all objects of that class.Static variable can be modified, but the change will reflect in all objects of that class.\nA final variable means its value cannot be change after initialization.\nA final variable with static modifier means the variable is available at class level.In short, it will act as a constant for all objects of that class</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685532664,"creation_date":1358231870,"answer_id":14332343,"question_id":14332252,"body_markdown":"`final` means the variable may not be reassigned to another object/primitive.\r\n\r\n`static` means that all code running in the JVM shares the same variable. It exists once per class, instead of once per object.\r\n\r\nA `final` non-static variable can not be reassigned, but each instance has its own copy.\r\n\r\n`static final` fields (accessible without creating an instance) are generally called &quot;Constants&quot;\r\n\r\n`final` (non static) instance variables are generally called &quot;Immutable fields&quot; ","title":"constant data member","body":"<p><code>final</code> means the variable may not be reassigned to another object/primitive.</p>\n<p><code>static</code> means that all code running in the JVM shares the same variable. It exists once per class, instead of once per object.</p>\n<p>A <code>final</code> non-static variable can not be reassigned, but each instance has its own copy.</p>\n<p><code>static final</code> fields (accessible without creating an instance) are generally called &quot;Constants&quot;</p>\n<p><code>final</code> (non static) instance variables are generally called &quot;Immutable fields&quot;</p>\n"},{"tags":[],"owner":{"account_id":2105298,"reputation":16079,"user_id":1871769,"accept_rate":60,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1358232298,"creation_date":1358231996,"answer_id":14332363,"question_id":14332252,"body_markdown":"**final** means that, once assigned the value of variable cannot be modified.\r\n\r\n**static** means &quot;associated with the class&quot;; without it, the variable is associated with each instance of the class. if not, you&#39;ll have one for each instance you create. `static` means the variable will remain in memory for as long as the class is loaded\r\n\r\nThere is no point in declaring a variable like this. \r\n\r\n    public final int nVar = 12;\r\n\r\nIf this is not meant to be modified, why have one copy per instance.\r\n\r\nHence, Class *constants* need to be declared as `static final` where as the variables which you want to be *immutable* on per instance basis, you declare them as `final`","title":"constant data member","body":"<p><strong>final</strong> means that, once assigned the value of variable cannot be modified.</p>\n\n<p><strong>static</strong> means \"associated with the class\"; without it, the variable is associated with each instance of the class. if not, you'll have one for each instance you create. <code>static</code> means the variable will remain in memory for as long as the class is loaded</p>\n\n<p>There is no point in declaring a variable like this. </p>\n\n<pre><code>public final int nVar = 12;\n</code></pre>\n\n<p>If this is not meant to be modified, why have one copy per instance.</p>\n\n<p>Hence, Class <em>constants</em> need to be declared as <code>static final</code> where as the variables which you want to be <em>immutable</em> on per instance basis, you declare them as <code>final</code></p>\n"}],"owner":{"account_id":1406504,"reputation":2865,"user_id":1334073,"accept_rate":83,"display_name":"Viku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2786,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":14332363,"answer_count":6,"score":3,"last_activity_date":1685532664,"creation_date":1358231339,"question_id":14332252,"body_markdown":"when we use final keyword that variable has been declared as constant then what is the necessity of using static ?\r\nI have seen in most of the places that we use\r\n\r\n `public static final int nVar = 12` \r\n\r\nfor constant data member .\r\n","title":"constant data member","body":"<p>when we use final keyword that variable has been declared as constant then what is the necessity of using static ?\nI have seen in most of the places that we use</p>\n\n<p><code>public static final int nVar = 12</code> </p>\n\n<p>for constant data member .</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685445000,"post_id":76363548,"comment_id":134657629,"body_markdown":"I don&#39;t think plugins are allowed to extend other connectors, only implement Connector interface... Note: You shouldn&#39;t put connect plugins as a subfolder of the broker classpath","body":"I don&#39;t think plugins are allowed to extend other connectors, only implement Connector interface... Note: You shouldn&#39;t put connect plugins as a subfolder of the broker classpath"},{"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"score":0,"creation_date":1685446058,"post_id":76363548,"comment_id":134657851,"body_markdown":"I&#39;ve tried extending Connector interface as well, but the log is similar to that of above. The plugin is not added and when listing the available connectors I don&#39;t see my custom connector.","body":"I&#39;ve tried extending Connector interface as well, but the log is similar to that of above. The plugin is not added and when listing the available connectors I don&#39;t see my custom connector."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685446217,"post_id":76363548,"comment_id":134657896,"body_markdown":"Not sure, really. I do know that Kafka isn&#39;t well tested on windows, so could be related to the issue","body":"Not sure, really. I do know that Kafka isn&#39;t well tested on windows, so could be related to the issue"}],"answers":[{"tags":[],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685532651,"creation_date":1685532651,"answer_id":76373018,"question_id":76363548,"body_markdown":"Custom connector was able to load by using maven-assembly-plugin in pom.xml like \r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptorRefs&gt;\r\n    \t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n    \t\t\t\t\t&lt;/descriptorRefs&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t\t\t&lt;mainClass&gt;com.example.somedir.MainApplication&lt;/mainClass&gt;\r\n    \t\t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;assemble-all&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;  ","title":"Kafka Connect not loading custom connector","body":"<p>Custom connector was able to load by using maven-assembly-plugin in pom.xml like</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;com.example.somedir.MainApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;assemble-all&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;  \n</code></pre>\n"}],"owner":{"account_id":18979715,"reputation":43,"user_id":13851333,"display_name":"Muhamed Risvan M S"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76373018,"answer_count":1,"score":1,"last_activity_date":1685532651,"creation_date":1685439800,"question_id":76363548,"body_markdown":"I have created a custom connector which extends JdbcSinkConnector like this\r\n\r\n    public class CustomJdbcSinkConnector extends JdbcSinkConnector {\r\n    \r\n        @Override\r\n        public Class&lt;? extends Task&gt; taskClass() {\r\n            return CustomJdbcSinkTask.class;\r\n        }\r\n    \r\n        @Override\r\n        public String version() {\r\n            //version of your custom connector\r\n            return &quot;1.0.0&quot;;\r\n        }\r\n    }\r\n\r\n    public class CustomJdbcSinkTask extends JdbcSinkTask {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(CustomJdbcSinkTask.class);\r\n    \r\n        ErrantRecordReporter reporter;\r\n        DatabaseDialect dialect;\r\n        JdbcSinkConfig config;\r\n        JdbcDbWriter writer;\r\n        int remainingRetries;\r\n        private Map&lt;String, String&gt; configProps;\r\n    \r\n    \r\n        @Override\r\n        public void put(Collection&lt;SinkRecord&gt; records) {\r\n            log.info(&quot;hello from custom put&quot;);\r\n            log.info(&quot;custom put method starting...&quot;);\r\n            JdbcSinkTask jdbcSinkTask = new JdbcSinkTask();\r\n            jdbcSinkTask.put(records);\r\n        }\r\n    }\r\n\r\nand I have taken the jar build and added its path to plugin.path in connect-distributed.properties\r\n\r\nThen started the kafka connect but this custom connector is not loading\r\n\r\nThe log shows,\r\n\r\n    [2023-05-30 14:54:01,585] INFO Loading plugin from: C:\\Kafka\\JDBC\\custom-jdbc-sink-1.0.0.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:275)\r\n    [2023-05-30 14:54:01,613] INFO Registered loader: PluginClassLoader{pluginLocation=file:/C:/Kafka/JDBC/custom-jdbc-sink-1.0.0.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:297)\r\n\r\nIt is loaded and registered but the plugin is not added.The jar file is not corrupted, I can run it from the terminal.\r\n\r\n","title":"Kafka Connect not loading custom connector","body":"<p>I have created a custom connector which extends JdbcSinkConnector like this</p>\n<pre><code>public class CustomJdbcSinkConnector extends JdbcSinkConnector {\n\n    @Override\n    public Class&lt;? extends Task&gt; taskClass() {\n        return CustomJdbcSinkTask.class;\n    }\n\n    @Override\n    public String version() {\n        //version of your custom connector\n        return &quot;1.0.0&quot;;\n    }\n}\n\npublic class CustomJdbcSinkTask extends JdbcSinkTask {\n\n    private static final Logger log = LoggerFactory.getLogger(CustomJdbcSinkTask.class);\n\n    ErrantRecordReporter reporter;\n    DatabaseDialect dialect;\n    JdbcSinkConfig config;\n    JdbcDbWriter writer;\n    int remainingRetries;\n    private Map&lt;String, String&gt; configProps;\n\n\n    @Override\n    public void put(Collection&lt;SinkRecord&gt; records) {\n        log.info(&quot;hello from custom put&quot;);\n        log.info(&quot;custom put method starting...&quot;);\n        JdbcSinkTask jdbcSinkTask = new JdbcSinkTask();\n        jdbcSinkTask.put(records);\n    }\n}\n</code></pre>\n<p>and I have taken the jar build and added its path to plugin.path in connect-distributed.properties</p>\n<p>Then started the kafka connect but this custom connector is not loading</p>\n<p>The log shows,</p>\n<pre><code>[2023-05-30 14:54:01,585] INFO Loading plugin from: C:\\Kafka\\JDBC\\custom-jdbc-sink-1.0.0.jar (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:275)\n[2023-05-30 14:54:01,613] INFO Registered loader: PluginClassLoader{pluginLocation=file:/C:/Kafka/JDBC/custom-jdbc-sink-1.0.0.jar} (org.apache.kafka.connect.runtime.isolation.DelegatingClassLoader:297)\n</code></pre>\n<p>It is loaded and registered but the plugin is not added.The jar file is not corrupted, I can run it from the terminal.</p>\n"},{"tags":["java","jersey","wadl"],"answers":[{"comments":[{"owner":{"account_id":7356440,"reputation":245,"user_id":5601029,"accept_rate":78,"display_name":"doughaase"},"score":0,"creation_date":1492117087,"post_id":43341597,"comment_id":73863811,"body_markdown":"Yes, partially correct! I only had to add &quot;com.&quot; at the start of the parameter-name that you used (on web.xml), and it worked. Thanks.","body":"Yes, partially correct! I only had to add &quot;com.&quot; at the start of the parameter-name that you used (on web.xml), and it worked. Thanks."},{"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"score":0,"creation_date":1492432508,"post_id":43341597,"comment_id":73958542,"body_markdown":"That might be due to jersey version difference.","body":"That might be due to jersey version difference."},{"owner":{"account_id":7356440,"reputation":245,"user_id":5601029,"accept_rate":78,"display_name":"doughaase"},"score":0,"creation_date":1492611678,"post_id":43341597,"comment_id":74051084,"body_markdown":"Oops, my mistake: it didn&#39;t worked... I was looking at a different log file. I tried with com.sun.jersey.config.server.wadl.disableWadl and jersey.config.server.wadl.disableWadl, and both didn&#39;t worked...","body":"Oops, my mistake: it didn&#39;t worked... I was looking at a different log file. I tried with com.sun.jersey.config.server.wadl.disableWadl and jersey.config.server.wadl.disableWadl, and both didn&#39;t worked..."},{"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"score":0,"creation_date":1650891800,"post_id":43341597,"comment_id":127223404,"body_markdown":"This worked for anyone? Not working for me.","body":"This worked for anyone? Not working for me."}],"tags":[],"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491902047,"creation_date":1491902047,"answer_id":43341597,"question_id":43328130,"body_markdown":"Using ApplicationConfig disable using below property\r\n\r\n&gt; jersey.config.server.wadl.disableWadl = &quot;true&quot;\r\n\r\n\r\n\r\n          @ApplicationPath(&quot;/rest&quot;)\r\n        public class ApplicationConfig extends Application {\r\n        \r\n        \t \r\n            @Override\r\n            public Map&lt;String, Object&gt; getProperties() {\r\n            \t\r\n                Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n                properties.put(&quot;jersey.config.server.provider.packages&quot;, &quot;com.study.rest&quot;);\r\n                properties.put(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\r\n                properties.put(&quot;jersey.config.server.provider.classnames&quot;,&quot;org.glassfish.jersey.media.multipart.MultiPartFeature&quot;);\r\n                properties.put(CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER,&quot;0&quot;);\r\n                System.out.println(&quot;getProperties:-&gt; CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER_SERVER :&quot; + CommonProperties.getValue(properties,CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER,String.class));\r\n                return properties;\r\n            }\r\n    }\r\n\r\n\r\n  Can you check may be instead of **DisableWADL** *disableWadl*  will work.","title":"Disable WADL generation on Jersey 1.19.1","body":"<p>Using ApplicationConfig disable using below property</p>\n\n<blockquote>\n  <p>jersey.config.server.wadl.disableWadl = \"true\"</p>\n</blockquote>\n\n<pre><code>      @ApplicationPath(\"/rest\")\n    public class ApplicationConfig extends Application {\n\n\n        @Override\n        public Map&lt;String, Object&gt; getProperties() {\n\n            Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n            properties.put(\"jersey.config.server.provider.packages\", \"com.study.rest\");\n            properties.put(\"jersey.config.server.wadl.disableWadl\", \"true\");\n            properties.put(\"jersey.config.server.provider.classnames\",\"org.glassfish.jersey.media.multipart.MultiPartFeature\");\n            properties.put(CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER,\"0\");\n            System.out.println(\"getProperties:-&gt; CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER_SERVER :\" + CommonProperties.getValue(properties,CommonProperties.OUTBOUND_CONTENT_LENGTH_BUFFER,String.class));\n            return properties;\n        }\n}\n</code></pre>\n\n<p>Can you check may be instead of <strong>DisableWADL</strong> <em>disableWadl</em>  will work.</p>\n"},{"tags":[],"owner":{"account_id":7356440,"reputation":245,"user_id":5601029,"accept_rate":78,"display_name":"doughaase"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1492623148,"creation_date":1492623148,"answer_id":43502453,"question_id":43328130,"body_markdown":"Figured it out: on version 1.19.x, the param name needs to be like this:\r\n\r\n    com.sun.jersey.config.feature.DisableWADL\r\n\r\n","title":"Disable WADL generation on Jersey 1.19.1","body":"<p>Figured it out: on version 1.19.x, the param name needs to be like this:</p>\n\n<pre><code>com.sun.jersey.config.feature.DisableWADL\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28718681,"reputation":11,"user_id":21992798,"display_name":"Sini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685532580,"creation_date":1685532580,"answer_id":76373008,"question_id":43328130,"body_markdown":"to disable wadl generation disableWadl must be set to true. But also the property allowSystemPropertiesProvider should be set\r\n\r\n    jersey.config.allowSystemPropertiesProvider=true jersey.config.server.wadl.disableWadl=true ","title":"Disable WADL generation on Jersey 1.19.1","body":"<p>to disable wadl generation disableWadl must be set to true. But also the property allowSystemPropertiesProvider should be set</p>\n<pre><code>jersey.config.allowSystemPropertiesProvider=true jersey.config.server.wadl.disableWadl=true \n</code></pre>\n"}],"owner":{"account_id":7356440,"reputation":245,"user_id":5601029,"accept_rate":78,"display_name":"doughaase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7984,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43502453,"answer_count":3,"score":4,"last_activity_date":1685532580,"creation_date":1491840733,"question_id":43328130,"body_markdown":"I&#39;m using Jersey 1.19.1 on a Web project with Java+Jboss.\r\n\r\nEverytime I request something from the Webservice, it shows this entry on the server.log:\r\n\r\n    ERROR [STDERR] com.sun.jersey.server.wadl.generators.AbstractWadlGeneratorGrammarGenerator attachTypes\r\n    INFO: Couldn&#39;t find grammar element for class java.lang.String\r\n\r\nSearching on how to disable it, I&#39;ve found this:\r\n\r\n\t\t&lt;init-param&gt;\r\n\t    \t&lt;param-name&gt;com.sun.jersey.config.server.wadl.DisableWADL&lt;/param-name&gt;\r\n\t    \t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\r\nBut it didn&#39;t changed a thing for me.\r\n\r\nHow can I disable WADL so this annoying message doesn&#39;t show up anymore?\r\n\r\nHere&#39;s the full entry for the servlet:\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;windi-mobile-service&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t    \t&lt;param-name&gt;com.sun.jersey.config.server.wadl.DisableWADL&lt;/param-name&gt;\r\n\t    \t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;br.com.altimus.mobile.service&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;","title":"Disable WADL generation on Jersey 1.19.1","body":"<p>I'm using Jersey 1.19.1 on a Web project with Java+Jboss.</p>\n\n<p>Everytime I request something from the Webservice, it shows this entry on the server.log:</p>\n\n<pre><code>ERROR [STDERR] com.sun.jersey.server.wadl.generators.AbstractWadlGeneratorGrammarGenerator attachTypes\nINFO: Couldn't find grammar element for class java.lang.String\n</code></pre>\n\n<p>Searching on how to disable it, I've found this:</p>\n\n<pre><code>    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.config.server.wadl.DisableWADL&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n</code></pre>\n\n<p>But it didn't changed a thing for me.</p>\n\n<p>How can I disable WADL so this annoying message doesn't show up anymore?</p>\n\n<p>Here's the full entry for the servlet:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;windi-mobile-service&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.config.server.wadl.DisableWADL&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;\n        &lt;param-value&gt;br.com.altimus.mobile.service&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1685494701,"post_id":76368877,"comment_id":134667027,"body_markdown":"You can annotate the JpaGenericRepository  interface with &#39;@NoRepositoryBean&#39; and delete the &#39;@Repository&#39; for : ProfileJpaRepository  and ProfileJpaRepositoryImp .","body":"You can annotate the JpaGenericRepository  interface with &#39;@NoRepositoryBean&#39; and delete the &#39;@Repository&#39; for : ProfileJpaRepository  and ProfileJpaRepositoryImp ."},{"owner":{"account_id":15919644,"reputation":133,"user_id":14420635,"display_name":"gmn_1450"},"score":0,"creation_date":1685495642,"post_id":76368877,"comment_id":134667087,"body_markdown":"@skillup, thanks for your comment :). Unfortunately, your suggestion was one of my initial unsuccessful attempts.","body":"@skillup, thanks for your comment :). Unfortunately, your suggestion was one of my initial unsuccessful attempts."},{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":0,"creation_date":1685496623,"post_id":76368877,"comment_id":134667163,"body_markdown":"Spring Data search count() method and you have your own method count(Query&lt;Profile&gt; query) , you can change the signature of this method only for test, like this long count(); thanks.","body":"Spring Data search count() method and you have your own method count(Query&lt;Profile&gt; query) , you can change the signature of this method only for test, like this long count(); thanks."},{"owner":{"account_id":15919644,"reputation":133,"user_id":14420635,"display_name":"gmn_1450"},"score":0,"creation_date":1685497910,"post_id":76368877,"comment_id":134667252,"body_markdown":"Now he&#39;s complaining about ```findByProfileStringProperty``` method.\n\n```No property &#39;findByProfileStringProperty&#39; found for type &#39;Profile&#39; ```","body":"Now he&#39;s complaining about <code>findByProfileStringProperty</code> method.  <code>No property &#39;findByProfileStringProperty&#39; found for type &#39;Profile&#39; </code>"},{"owner":{"account_id":25046168,"reputation":335,"user_id":18902563,"display_name":"skillup"},"score":1,"creation_date":1685499223,"post_id":76368877,"comment_id":134667359,"body_markdown":"can you put the code of AbstractJpaRepository.java","body":"can you put the code of AbstractJpaRepository.java"}],"owner":{"account_id":15919644,"reputation":133,"user_id":14420635,"display_name":"gmn_1450"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685531497,"creation_date":1685483286,"question_id":76368877,"body_markdown":"I have two repository interfaces.\r\n\r\nOne is more generic:\r\n\r\n``` \r\n@NoRepositoryBean\r\npublic interface JpaGenericRepository&lt;T&gt; {\r\n\r\n    List&lt;T&gt; find(Query&lt;T&gt; query);\r\n\r\n    long count(Query&lt;T&gt; query);\r\n\r\n    List&lt;T&gt; findAllCache();\r\n\r\n}\r\n```\r\n\r\nThe other one extends it, passing the entity class (Profile in this case):\r\n\r\n```\r\npublic interface ProfileJpaRepository extends JpaGenericRepository&lt;Profile&gt; {\r\n\r\n    List&lt;Profile&gt; findAll();\r\n\r\n    List&lt;Profile&gt; findByProfileStringProperty(Set&lt;String&gt; property);\r\n\r\n}\r\n```\r\n\r\nThe implementation is as follows:\r\n\r\n```\r\npublic class ProfileJpaRepositoryImpl extends AbstractJpaRepository&lt;Profile, Long&gt; implements ProfileJpaRepository, Serializable {\r\n\r\n    @Serial\r\n    private static final long serialVersionUID = -4013787249678288423L;\r\n\r\n    @Override\r\n    public Optional&lt;Profile&gt; findById(Long id) { /* method implementation */ }\r\n\r\n\r\n    @Override\r\n    public List&lt;Profile&gt; findAll() { /* method implementation */ }\r\n\r\n\r\n    @Override\r\n    public List&lt;Profile&gt; find(Query&lt;Profile&gt; query) { /* method implementation */ }\r\n\r\n    @Override\r\n    public long count(Query&lt;Profile&gt; query) { /* method implementation */ }\r\n\r\n    @Override\r\n    public List&lt;Profile&gt; findByProfileStringProperty(Set&lt;String&gt; property) { /* method implementation */ }\r\n\r\n    @Override\r\n    public List&lt;Profile&gt; findAllCache() { /* method implementation */ }\r\n\r\n    public JPAQuery&lt;Perfil&gt; createQuery(Query&lt;Profile&gt; query, boolean sortAndPaging) { /* method implementation */ }\r\n}\r\n\r\n```\r\n\r\nThe error message states:\r\n\r\n```\r\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;count&#39; found for type &#39;Profile&#39;\r\n\r\n```\r\n\r\nIt seems that the implementation of the ```count``` method inside ```ProfileJpaRepositoryImpl``` is not being recognized. Can you help me figure out why?\r\n\r\n``` Profile``` class :\r\n\r\n```\r\n\r\n@Entity\r\n@Audited\r\n@Table(name = &quot;PERFIL&quot;)\r\n@Relation(collectionRelation = &quot;profiles&quot;)\r\n@GenericGenerator(\r\n        name = &quot;seqProfile&quot;,\r\n        strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n        parameters = {\r\n                @Parameter(name = &quot;sequence_name&quot;, value = &quot;SEQ_PROFILE&quot;),\r\n                @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\r\n                @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\r\n        }\r\n)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@AllArgsConstructor\r\npublic class Profile implements Serializable, GenericEntity&lt;Profile&gt; {\r\n\r\n    private static final long serialVersionUID = 2386088697024413736L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;seqProfile&quot;)\r\n    @Column(name = &quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @NotBlank\r\n    @Size(min = 1, max = 100)\r\n    @Column(name = &quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @NotBlank\r\n    @Size(min = 1, max = 200)\r\n    @Column(name = &quot;DESCRIPTION&quot;)\r\n    private String description;\r\n\r\n    @Audited(targetAuditMode = NOT_AUDITED)\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name = &quot;PROFILE_PERMISSION&quot;, joinColumns = @JoinColumn(name = &quot;PROFILE_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;PERMISSION_ID&quot;))\r\n    private List&lt;Permission&gt; permissions;\r\n\r\n    public Profile() {\r\n    }\r\n\r\n    public Profile(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Transient\r\n    @JsonIgnore\r\n    private AuditLog auditLog;\r\n\r\n    @QueryProjection\r\n    public Profile(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @QueryProjection\r\n    public Profile(Long id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n\r\n    @QueryProjection\r\n    public Profile(Long id, String name, String description) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.description = description;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || !Util.classOf(this).equals(Util.classOf(o))) return false;\r\n        Profile profile = (Profile) o;\r\n        return Objects.equals(this.getId(), profile.getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(this.getId());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name;\r\n    }\r\n}\r\n```\r\n\r\n``` Query``` class :\r\n\r\n```\r\npublic final class Query&lt;T&gt; implements Serializable {\r\n\r\n    public static final long LIMIT = 10L;\r\n\r\n    public static final long NO_LIMIT = -1;\r\n\r\n    private final Filter&lt;T&gt; filter;\r\n    private final Sorter&lt;T&gt; sorter;\r\n    private final Long page;\r\n    private final Long limit;\r\n\r\n    // getters, setters and constructors\r\n}\r\n```\r\n\r\n```\r\npublic abstract class AbstractJpaRepository&lt;T, ID&gt; {\r\n\r\n@Serial\r\nprivate static final long serialVersionUID = 7633557834565897303L;\r\nprotected final Class&lt;T&gt; entityClass = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0];\r\n\r\n@PersistenceContext\r\nprotected EntityManager entityManager;\r\n\r\n@Autowired\r\nprotected DecisorManager decisorManager;\r\nprotected Class&lt;? extends T&gt; daoType;\r\n@Autowired\r\nprivate ApplicationContext applicationContext;\r\n@Autowired\r\nprivate BeanUtil beanUtil;\r\n\r\npublic AbstractJpaRepository() {\r\n    daoType = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass())\r\n            .getActualTypeArguments()[0];\r\n}\r\n\r\npublic static List&lt;Field&gt; getAllFields(List&lt;Field&gt; fields, Class&lt;?&gt; type) {\r\n    fields.addAll(Arrays.asList(type.getDeclaredFields()));\r\n\r\n    if (type.getSuperclass() != null) {\r\n        fields = getAllFields(fields, type.getSuperclass());\r\n    }\r\n\r\n    return fields;\r\n}\r\n\r\n/**\r\n * Returns whether the entity&#39;s ID is automatically generated.\r\n *\r\n * @return\r\n */\r\nprivate boolean isGeneratedId() {\r\n    return Arrays.stream(entityClass.getDeclaredFields()).anyMatch(field -&gt; field.isAnnotationPresent(GeneratedValue.class));\r\n}\r\n\r\n/**\r\n * Find an entity by its ID.\r\n *\r\n * @param id\r\n * @return\r\n */\r\npublic Optional&lt;T&gt; findById(ID id) {\r\n    return Optional.ofNullable(entityManager.find(entityClass, id));\r\n}\r\n\r\n\r\npublic T findById(ID key, String... columns) {\r\n    try {\r\n        if (columns == null || columns.length == 0) {\r\n            return entityManager.find(daoType, key);\r\n        } else {\r\n            // PERFORM THE QUERY\r\n            return (T) returnCriteria(columns).add(Restrictions.eq(&quot;id&quot;, key)).uniqueResult();\r\n        }\r\n    } catch (NoResultException ex) {\r\n        return null;\r\n    }\r\n}\r\n\r\n/**\r\n * Insert a new entity.\r\n *\r\n * @param entity\r\n */\r\npublic void create(T entity) {\r\n    Optional&lt;ID&gt; id = getIdentifier(entity);\r\n    if (isGeneratedId() &amp;&amp; id.isPresent()) {\r\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\r\n        throw new BusinessException(&quot;New message&quot;);\r\n    } else if (!isGeneratedId() &amp;&amp; !id.isPresent()) {\r\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\r\n        throw new BusinessException(&quot;New message&quot;);\r\n    } else {\r\n        entityManager.persist(entity);\r\n        entityManager.flush();\r\n        if (decisorManager.checkDecisor(entity))\r\n            applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOINCLUIR, entity));\r\n    }\r\n}\r\n\r\npublic void createWithoutCamunda(T entity) {\r\n    Optional&lt;ID&gt; id = getIdentifier(entity);\r\n    if (isGeneratedId() &amp;&amp; id.isPresent()) {\r\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\r\n        throw new BusinessException(&quot;New message&quot;);\r\n    } else if (!isGeneratedId() &amp;&amp; !id.isPresent()) {\r\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\r\n        throw new BusinessException(&quot;New message&quot;);\r\n    } else {\r\n        entityManager.persist(entity);\r\n        entityManager.flush();\r\n    }\r\n}\r\n\r\n/**\r\n * Update an entity.\r\n *\r\n * @param entity\r\n */\r\npublic void update(T entity) {\r\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\r\n    entityManager.merge(entity);\r\n    entityManager.flush();\r\n    if (decisorManager.checkDecisor(entity))\r\n        applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOALTERAR, entity));\r\n}\r\n\r\npublic void updateBaixaTarefa(T entity) {\r\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\r\n    entityManager.merge(entity);\r\n    entityManager.flush();\r\n    if (decisorManager.checkDecisor(entity))\r\n        applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOBAIXAR, entity));\r\n}\r\n\r\npublic void updateWithoutCamunda(T entity) {\r\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\r\n    entityManager.merge(entity);\r\n    entityManager.flush();\r\n}\r\n\r\n/**\r\n * Remove an entity.\r\n *\r\n * @param entity\r\n */\r\npublic void remove(T entity) {\r\n    removeById(getIdentifier(entity).orElseThrow(BusinessException::new));\r\n}\r\n\r\n/**\r\n * Remove an entity by its ID.\r\n *\r\n * @param id\r\n */\r\npublic void removeById(ID id) {\r\n    entityManager.remove(Optional.ofNullable(entityManager.find(entityClass, id)).orElseThrow(EntityNotFoundException::new));\r\n    entityManager.flush();\r\n}\r\n\r\n/**\r\n * Clear the cache of an entity in the decisor manager.\r\n *\r\n * @param entityCadastro\r\n */\r\npublic void clearCacheDecisor(String entityCadastro) {\r\n    decisorManager.clearCacheDecisor(entityCadastro);\r\n}\r\n\r\n/**\r\n * Get the ID of the entity.\r\n *\r\n * @param entity\r\n * @return\r\n */\r\nprotected Optional&lt;ID&gt; getIdentifier(T entity) {\r\n    return Optional.ofNullable((ID) entityManager\r\n            .getEntityManagerFactory()\r\n            .getPersistenceUnitUtil()\r\n            .getIdentifier(entity));\r\n}\r\n\r\n/**\r\n * Apply sorting to the query based on the {@link JPAQuery} and {@link Sorter}.\r\n *\r\n * @param jpaQuery {@link JPAQuery} used to perform the query, must already have the query itself prepared.\r\n * @param sorter   {@link Sorter} containing information about the property to be sorted.\r\n * @return {@link JPAQuery} with the sorting prepared.\r\n */\r\nprotected JPAQuery&lt;T&gt; applySorter(JPAQuery&lt;T&gt; jpaQuery, Sorter&lt;T&gt; sorter) {\r\n    final PathBuilder&lt;T&gt; path = new PathBuilder&lt;&gt;(this.entityClass, this.entityClass.getSimpleName().substring(0, 1).toLowerCase() + this.entityClass.getSimpleName().substring(1));\r\n\r\n    if (Objects.nonNull(sorter) &amp;&amp; StringUtils.isNotBlank(sorter.getProperty())) {\r\n        if (sorter.isDesc()) {\r\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).desc());\r\n        } else {\r\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).asc());\r\n        }\r\n    } else {\r\n        jpaQuery.orderBy(path.getString(&quot;id&quot;).asc());\r\n    }\r\n\r\n    return jpaQuery;\r\n}\r\n\r\nprotected JPAQuery&lt;T&gt; applySorter(JPAQuery&lt;T&gt; jpaQuery, Sorter sorter, PathBuilder&lt;T&gt; path) {\r\n\r\n    if (Objects.nonNull(sorter) &amp;&amp; StringUtils.isNotBlank(sorter.getProperty())) {\r\n        if (sorter.isDesc()) {\r\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).desc());\r\n        } else {\r\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).asc());\r\n        }\r\n    } else {\r\n        jpaQuery.orderBy(path.getString(&quot;id&quot;).asc());\r\n    }\r\n\r\n    return jpaQuery;\r\n}\r\n\r\n/**\r\n * Apply pagination to the query based on the {@link JPAQuery}.\r\n *\r\n * @param jpaQuery {@link JPAQuery} used to perform the query, must already have the query itself prepared.\r\n * @param page     {@link Long} representing the page to be queried.\r\n * @param limit    {@link Long} representing the number of records to be displayed per page.\r\n * @return {@link JPAQuery} with the pagination prepared.\r\n */\r\nprotected JPAQuery&lt;T&gt; applyPagination(JPAQuery&lt;T&gt; jpaQuery, Long page, Long limit) {\r\n    if (Optional.ofNullable(page).orElse(0L) &gt; 0L) {\r\n        jpaQuery.offset(((page - 1L) * limit));\r\n    }\r\n\r\n    if (!limit.equals(Query.NO_LIMIT)) {\r\n        jpaQuery.limit(limit);\r\n    }\r\n\r\n    return jpaQuery;\r\n}\r\n\r\npublic String getSelectNew(Class&lt;?&gt; tipoDestino, Class&lt;? extends Entidade&gt; tipoOrigem) {\r\n    String prefix = tipoOrigem.getSimpleName().substring(0, 1).toLowerCase();\r\n    return getSelectNewPrefix(tipoDestino, tipoOrigem, prefix);\r\n}\r\n\r\npublic String getSelectNewPrefix(Class&lt;?&gt; tipoDestino, Class&lt;? extends Entidade&gt; tipoOrigem, String prefix) {\r\n    String table = tipoOrigem.getSimpleName();\r\n    StringBuilder sb = new StringBuilder(&quot;Select distinct new &quot;).append(tipoDestino.getName()).append(&quot;(&quot;);\r\n\r\n    Map&lt;Integer, String&gt; campos = new HashMap();\r\n    boolean foundAtLeastOneFieldInConstructor = false;\r\n    for (Field campo : getAllFields(new LinkedList&lt;Field&gt;(), tipoDestino)) {\r\n        ViewInterface viewInterface = campo.getAnnotation(ViewInterface.class);\r\n        if (viewInterface == null) continue;\r\n        campos.put(viewInterface.ordem(), viewInterface.campo());\r\n        foundAtLeastOneFieldInConstructor = true;\r\n    }\r\n\r\n    for (int i = 0; i &lt; campos.size(); i++) {\r\n        sb.append(campos.get(i)).append(&quot;, &quot;);\r\n    }\r\n\r\n    sb.append(&quot;) from &quot;).append(table).append(&quot; &quot;).append(prefix);\r\n\r\n    if (!foundAtLeastOneFieldInConstructor) {\r\n        sb = new StringBuilder(&quot;Select distinct &quot;)\r\n                .append(prefix)\r\n                .append(&quot; from &quot;)\r\n                .append(table)\r\n                .append(&quot; &quot;)\r\n                .append(prefix);\r\n    }\r\n\r\n    return sb.toString().replace(&quot;, )&quot;, &quot;)&quot;);\r\n}\r\n\r\npublic List&lt;?&gt; listByQueryGeneric(String queryString, List&lt;Object&gt; parametros, int maxResults) {\r\n    int index = 1;\r\n    while (queryString.contains(&quot;?&quot;) &amp;&amp; parametros.size() &gt; 0) {\r\n        queryString = queryString.replaceFirst(&quot;\\\\?&quot;, &quot;:param&quot; + index++);\r\n    }\r\n\r\n    javax.persistence.Query query;\r\n    if (maxResults &gt; 0) {\r\n        query = entityManager.createQuery(queryString).setMaxResults(maxResults);\r\n    } else {\r\n        query = entityManager.createQuery(queryString);\r\n    }\r\n\r\n    index = 1;\r\n    for (Object parametro : parametros) {\r\n        query.setParameter((&quot;param&quot; + index++), parametro);\r\n    }\r\n\r\n    return query.getResultList();\r\n}\r\n\r\nprivate Criteria returnCriteria(String... colunas) {\r\n    // Create criteria based on the entity example\r\n    Criteria criteria = entityManager.unwrap(Session.class).createCriteria(daoType);\r\n\r\n    // Check if attributes were passed to avoid querying all object information\r\n    if (colunas != null &amp;&amp; colunas.length &gt; 0) {\r\n\r\n        ProjectionList listaColunas = Projections.projectionList();\r\n\r\n        for (String coluna : colunas) {\r\n            listaColunas.add(Projections.property(coluna.trim()), coluna.trim());\r\n        }\r\n\r\n        criteria.setProjection(listaColunas).setResultTransformer(Transformers.aliasToBean(daoType));\r\n    }\r\n\r\n    // Perform the query\r\n    return criteria;\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n","title":"&quot;Spring Data JPA - Exception: &#39;No Property Found for Type&#39; with Inheritance Between Repository Interfaces&quot;","body":"<p>I have two repository interfaces.</p>\n<p>One is more generic:</p>\n<pre><code>@NoRepositoryBean\npublic interface JpaGenericRepository&lt;T&gt; {\n\n    List&lt;T&gt; find(Query&lt;T&gt; query);\n\n    long count(Query&lt;T&gt; query);\n\n    List&lt;T&gt; findAllCache();\n\n}\n</code></pre>\n<p>The other one extends it, passing the entity class (Profile in this case):</p>\n<pre><code>public interface ProfileJpaRepository extends JpaGenericRepository&lt;Profile&gt; {\n\n    List&lt;Profile&gt; findAll();\n\n    List&lt;Profile&gt; findByProfileStringProperty(Set&lt;String&gt; property);\n\n}\n</code></pre>\n<p>The implementation is as follows:</p>\n<pre><code>public class ProfileJpaRepositoryImpl extends AbstractJpaRepository&lt;Profile, Long&gt; implements ProfileJpaRepository, Serializable {\n\n    @Serial\n    private static final long serialVersionUID = -4013787249678288423L;\n\n    @Override\n    public Optional&lt;Profile&gt; findById(Long id) { /* method implementation */ }\n\n\n    @Override\n    public List&lt;Profile&gt; findAll() { /* method implementation */ }\n\n\n    @Override\n    public List&lt;Profile&gt; find(Query&lt;Profile&gt; query) { /* method implementation */ }\n\n    @Override\n    public long count(Query&lt;Profile&gt; query) { /* method implementation */ }\n\n    @Override\n    public List&lt;Profile&gt; findByProfileStringProperty(Set&lt;String&gt; property) { /* method implementation */ }\n\n    @Override\n    public List&lt;Profile&gt; findAllCache() { /* method implementation */ }\n\n    public JPAQuery&lt;Perfil&gt; createQuery(Query&lt;Profile&gt; query, boolean sortAndPaging) { /* method implementation */ }\n}\n\n</code></pre>\n<p>The error message states:</p>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'count' found for type 'Profile'\n\n</code></pre>\n<p>It seems that the implementation of the <code>count</code> method inside <code>ProfileJpaRepositoryImpl</code> is not being recognized. Can you help me figure out why?</p>\n<p><code> Profile</code> class :</p>\n<pre><code>\n@Entity\n@Audited\n@Table(name = &quot;PERFIL&quot;)\n@Relation(collectionRelation = &quot;profiles&quot;)\n@GenericGenerator(\n        name = &quot;seqProfile&quot;,\n        strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n        parameters = {\n                @Parameter(name = &quot;sequence_name&quot;, value = &quot;SEQ_PROFILE&quot;),\n                @Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\n                @Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)\n        }\n)\n@Getter\n@Setter\n@Builder\n@AllArgsConstructor\npublic class Profile implements Serializable, GenericEntity&lt;Profile&gt; {\n\n    private static final long serialVersionUID = 2386088697024413736L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;seqProfile&quot;)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @NotBlank\n    @Size(min = 1, max = 100)\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @NotBlank\n    @Size(min = 1, max = 200)\n    @Column(name = &quot;DESCRIPTION&quot;)\n    private String description;\n\n    @Audited(targetAuditMode = NOT_AUDITED)\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;PROFILE_PERMISSION&quot;, joinColumns = @JoinColumn(name = &quot;PROFILE_ID&quot;), inverseJoinColumns = @JoinColumn(name = &quot;PERMISSION_ID&quot;))\n    private List&lt;Permission&gt; permissions;\n\n    public Profile() {\n    }\n\n    public Profile(Long id) {\n        this.id = id;\n    }\n\n    @Transient\n    @JsonIgnore\n    private AuditLog auditLog;\n\n    @QueryProjection\n    public Profile(String name) {\n        this.name = name;\n    }\n\n    @QueryProjection\n    public Profile(Long id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    @QueryProjection\n    public Profile(Long id, String name, String description) {\n        this.id = id;\n        this.name = name;\n        this.description = description;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || !Util.classOf(this).equals(Util.classOf(o))) return false;\n        Profile profile = (Profile) o;\n        return Objects.equals(this.getId(), profile.getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(this.getId());\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n}\n</code></pre>\n<p><code> Query</code> class :</p>\n<pre><code>public final class Query&lt;T&gt; implements Serializable {\n\n    public static final long LIMIT = 10L;\n\n    public static final long NO_LIMIT = -1;\n\n    private final Filter&lt;T&gt; filter;\n    private final Sorter&lt;T&gt; sorter;\n    private final Long page;\n    private final Long limit;\n\n    // getters, setters and constructors\n}\n</code></pre>\n<pre><code>public abstract class AbstractJpaRepository&lt;T, ID&gt; {\n\n@Serial\nprivate static final long serialVersionUID = 7633557834565897303L;\nprotected final Class&lt;T&gt; entityClass = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass()).getActualTypeArguments()[0];\n\n@PersistenceContext\nprotected EntityManager entityManager;\n\n@Autowired\nprotected DecisorManager decisorManager;\nprotected Class&lt;? extends T&gt; daoType;\n@Autowired\nprivate ApplicationContext applicationContext;\n@Autowired\nprivate BeanUtil beanUtil;\n\npublic AbstractJpaRepository() {\n    daoType = (Class&lt;T&gt;) ((ParameterizedType) getClass().getGenericSuperclass())\n            .getActualTypeArguments()[0];\n}\n\npublic static List&lt;Field&gt; getAllFields(List&lt;Field&gt; fields, Class&lt;?&gt; type) {\n    fields.addAll(Arrays.asList(type.getDeclaredFields()));\n\n    if (type.getSuperclass() != null) {\n        fields = getAllFields(fields, type.getSuperclass());\n    }\n\n    return fields;\n}\n\n/**\n * Returns whether the entity's ID is automatically generated.\n *\n * @return\n */\nprivate boolean isGeneratedId() {\n    return Arrays.stream(entityClass.getDeclaredFields()).anyMatch(field -&gt; field.isAnnotationPresent(GeneratedValue.class));\n}\n\n/**\n * Find an entity by its ID.\n *\n * @param id\n * @return\n */\npublic Optional&lt;T&gt; findById(ID id) {\n    return Optional.ofNullable(entityManager.find(entityClass, id));\n}\n\n\npublic T findById(ID key, String... columns) {\n    try {\n        if (columns == null || columns.length == 0) {\n            return entityManager.find(daoType, key);\n        } else {\n            // PERFORM THE QUERY\n            return (T) returnCriteria(columns).add(Restrictions.eq(&quot;id&quot;, key)).uniqueResult();\n        }\n    } catch (NoResultException ex) {\n        return null;\n    }\n}\n\n/**\n * Insert a new entity.\n *\n * @param entity\n */\npublic void create(T entity) {\n    Optional&lt;ID&gt; id = getIdentifier(entity);\n    if (isGeneratedId() &amp;&amp; id.isPresent()) {\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\n        throw new BusinessException(&quot;New message&quot;);\n    } else if (!isGeneratedId() &amp;&amp; !id.isPresent()) {\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\n        throw new BusinessException(&quot;New message&quot;);\n    } else {\n        entityManager.persist(entity);\n        entityManager.flush();\n        if (decisorManager.checkDecisor(entity))\n            applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOINCLUIR, entity));\n    }\n}\n\npublic void createWithoutCamunda(T entity) {\n    Optional&lt;ID&gt; id = getIdentifier(entity);\n    if (isGeneratedId() &amp;&amp; id.isPresent()) {\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\n        throw new BusinessException(&quot;New message&quot;);\n    } else if (!isGeneratedId() &amp;&amp; !id.isPresent()) {\n        // TODO - ADJUST MESSAGE ON RESOURCE REFACTORING\n        throw new BusinessException(&quot;New message&quot;);\n    } else {\n        entityManager.persist(entity);\n        entityManager.flush();\n    }\n}\n\n/**\n * Update an entity.\n *\n * @param entity\n */\npublic void update(T entity) {\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\n    entityManager.merge(entity);\n    entityManager.flush();\n    if (decisorManager.checkDecisor(entity))\n        applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOALTERAR, entity));\n}\n\npublic void updateBaixaTarefa(T entity) {\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\n    entityManager.merge(entity);\n    entityManager.flush();\n    if (decisorManager.checkDecisor(entity))\n        applicationContext.publishEvent(new CamundaLogEvent(EnumEventoDecisor.AOBAIXAR, entity));\n}\n\npublic void updateWithoutCamunda(T entity) {\n    this.findById(this.getIdentifier(entity).orElseThrow(BusinessException::new)).orElseThrow(EntityNotFoundException::new);\n    entityManager.merge(entity);\n    entityManager.flush();\n}\n\n/**\n * Remove an entity.\n *\n * @param entity\n */\npublic void remove(T entity) {\n    removeById(getIdentifier(entity).orElseThrow(BusinessException::new));\n}\n\n/**\n * Remove an entity by its ID.\n *\n * @param id\n */\npublic void removeById(ID id) {\n    entityManager.remove(Optional.ofNullable(entityManager.find(entityClass, id)).orElseThrow(EntityNotFoundException::new));\n    entityManager.flush();\n}\n\n/**\n * Clear the cache of an entity in the decisor manager.\n *\n * @param entityCadastro\n */\npublic void clearCacheDecisor(String entityCadastro) {\n    decisorManager.clearCacheDecisor(entityCadastro);\n}\n\n/**\n * Get the ID of the entity.\n *\n * @param entity\n * @return\n */\nprotected Optional&lt;ID&gt; getIdentifier(T entity) {\n    return Optional.ofNullable((ID) entityManager\n            .getEntityManagerFactory()\n            .getPersistenceUnitUtil()\n            .getIdentifier(entity));\n}\n\n/**\n * Apply sorting to the query based on the {@link JPAQuery} and {@link Sorter}.\n *\n * @param jpaQuery {@link JPAQuery} used to perform the query, must already have the query itself prepared.\n * @param sorter   {@link Sorter} containing information about the property to be sorted.\n * @return {@link JPAQuery} with the sorting prepared.\n */\nprotected JPAQuery&lt;T&gt; applySorter(JPAQuery&lt;T&gt; jpaQuery, Sorter&lt;T&gt; sorter) {\n    final PathBuilder&lt;T&gt; path = new PathBuilder&lt;&gt;(this.entityClass, this.entityClass.getSimpleName().substring(0, 1).toLowerCase() + this.entityClass.getSimpleName().substring(1));\n\n    if (Objects.nonNull(sorter) &amp;&amp; StringUtils.isNotBlank(sorter.getProperty())) {\n        if (sorter.isDesc()) {\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).desc());\n        } else {\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).asc());\n        }\n    } else {\n        jpaQuery.orderBy(path.getString(&quot;id&quot;).asc());\n    }\n\n    return jpaQuery;\n}\n\nprotected JPAQuery&lt;T&gt; applySorter(JPAQuery&lt;T&gt; jpaQuery, Sorter sorter, PathBuilder&lt;T&gt; path) {\n\n    if (Objects.nonNull(sorter) &amp;&amp; StringUtils.isNotBlank(sorter.getProperty())) {\n        if (sorter.isDesc()) {\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).desc());\n        } else {\n            jpaQuery.orderBy(path.getString(sorter.getProperty()).asc());\n        }\n    } else {\n        jpaQuery.orderBy(path.getString(&quot;id&quot;).asc());\n    }\n\n    return jpaQuery;\n}\n\n/**\n * Apply pagination to the query based on the {@link JPAQuery}.\n *\n * @param jpaQuery {@link JPAQuery} used to perform the query, must already have the query itself prepared.\n * @param page     {@link Long} representing the page to be queried.\n * @param limit    {@link Long} representing the number of records to be displayed per page.\n * @return {@link JPAQuery} with the pagination prepared.\n */\nprotected JPAQuery&lt;T&gt; applyPagination(JPAQuery&lt;T&gt; jpaQuery, Long page, Long limit) {\n    if (Optional.ofNullable(page).orElse(0L) &gt; 0L) {\n        jpaQuery.offset(((page - 1L) * limit));\n    }\n\n    if (!limit.equals(Query.NO_LIMIT)) {\n        jpaQuery.limit(limit);\n    }\n\n    return jpaQuery;\n}\n\npublic String getSelectNew(Class&lt;?&gt; tipoDestino, Class&lt;? extends Entidade&gt; tipoOrigem) {\n    String prefix = tipoOrigem.getSimpleName().substring(0, 1).toLowerCase();\n    return getSelectNewPrefix(tipoDestino, tipoOrigem, prefix);\n}\n\npublic String getSelectNewPrefix(Class&lt;?&gt; tipoDestino, Class&lt;? extends Entidade&gt; tipoOrigem, String prefix) {\n    String table = tipoOrigem.getSimpleName();\n    StringBuilder sb = new StringBuilder(&quot;Select distinct new &quot;).append(tipoDestino.getName()).append(&quot;(&quot;);\n\n    Map&lt;Integer, String&gt; campos = new HashMap();\n    boolean foundAtLeastOneFieldInConstructor = false;\n    for (Field campo : getAllFields(new LinkedList&lt;Field&gt;(), tipoDestino)) {\n        ViewInterface viewInterface = campo.getAnnotation(ViewInterface.class);\n        if (viewInterface == null) continue;\n        campos.put(viewInterface.ordem(), viewInterface.campo());\n        foundAtLeastOneFieldInConstructor = true;\n    }\n\n    for (int i = 0; i &lt; campos.size(); i++) {\n        sb.append(campos.get(i)).append(&quot;, &quot;);\n    }\n\n    sb.append(&quot;) from &quot;).append(table).append(&quot; &quot;).append(prefix);\n\n    if (!foundAtLeastOneFieldInConstructor) {\n        sb = new StringBuilder(&quot;Select distinct &quot;)\n                .append(prefix)\n                .append(&quot; from &quot;)\n                .append(table)\n                .append(&quot; &quot;)\n                .append(prefix);\n    }\n\n    return sb.toString().replace(&quot;, )&quot;, &quot;)&quot;);\n}\n\npublic List&lt;?&gt; listByQueryGeneric(String queryString, List&lt;Object&gt; parametros, int maxResults) {\n    int index = 1;\n    while (queryString.contains(&quot;?&quot;) &amp;&amp; parametros.size() &gt; 0) {\n        queryString = queryString.replaceFirst(&quot;\\\\?&quot;, &quot;:param&quot; + index++);\n    }\n\n    javax.persistence.Query query;\n    if (maxResults &gt; 0) {\n        query = entityManager.createQuery(queryString).setMaxResults(maxResults);\n    } else {\n        query = entityManager.createQuery(queryString);\n    }\n\n    index = 1;\n    for (Object parametro : parametros) {\n        query.setParameter((&quot;param&quot; + index++), parametro);\n    }\n\n    return query.getResultList();\n}\n\nprivate Criteria returnCriteria(String... colunas) {\n    // Create criteria based on the entity example\n    Criteria criteria = entityManager.unwrap(Session.class).createCriteria(daoType);\n\n    // Check if attributes were passed to avoid querying all object information\n    if (colunas != null &amp;&amp; colunas.length &gt; 0) {\n\n        ProjectionList listaColunas = Projections.projectionList();\n\n        for (String coluna : colunas) {\n            listaColunas.add(Projections.property(coluna.trim()), coluna.trim());\n        }\n\n        criteria.setProjection(listaColunas).setResultTransformer(Transformers.aliasToBean(daoType));\n    }\n\n    // Perform the query\n    return criteria;\n}\n\n\n</code></pre>\n"},{"tags":["java","maven","tomcat","cargo"],"comments":[{"owner":{"account_id":6756545,"reputation":1084,"user_id":5204741,"accept_rate":81,"display_name":"quento"},"score":0,"creation_date":1446976850,"post_id":33587299,"comment_id":54960773,"body_markdown":"i see that i dont have here tag &lt;configfiles&gt; but i did that, so dont expext to find mistake here. The main problem is that embedded tomcat are copied later then my custom files and overrides them.","body":"i see that i dont have here tag &lt;configfiles&gt; but i did that, so dont expext to find mistake here. The main problem is that embedded tomcat are copied later then my custom files and overrides them."}],"answers":[{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467841207,"creation_date":1467841207,"answer_id":38234234,"question_id":33587299,"body_markdown":"One of solution is here: https://stackoverflow.com/questions/4305935/is-it-possible-to-supply-tomcat6s-context-xml-file-via-the-maven-cargo-plugin#4417945\r\n\r\nMy working configuration (with jdbc DataSource pool) looks like:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;container&gt;\r\n                        &lt;containerId&gt;tomcat8x&lt;/containerId&gt;\r\n                        &lt;systemProperties&gt;\r\n                            &lt;file.encoding&gt;UTF-8&lt;/file.encoding&gt;\r\n                            &lt;spring.profiles.active&gt;tomcat,datajpa&lt;/spring.profiles.active&gt;\r\n                        &lt;/systemProperties&gt;\r\n                        &lt;dependencies&gt;\r\n                            &lt;dependency&gt;\r\n                                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                            &lt;/dependency&gt;\r\n                        &lt;/dependencies&gt;\r\n                    &lt;/container&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;configfiles&gt;\r\n                            &lt;configfile&gt;\r\n                                &lt;file&gt;src/main/resources/tomcat/context.xml&lt;/file&gt;\r\n                                &lt;todir&gt;conf/Catalina/localhost/&lt;/todir&gt;\r\n                                &lt;tofile&gt;context.xml.default&lt;/tofile&gt;\r\n                            &lt;/configfile&gt;\r\n                        &lt;/configfiles&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;deployables&gt;\r\n                        &lt;deployable&gt;\r\n                            &lt;groupId&gt;ru.javawebinar&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;topjava&lt;/artifactId&gt;\r\n                            &lt;type&gt;war&lt;/type&gt;\r\n                            &lt;properties&gt;\r\n                                &lt;context&gt;${project.build.finalName}&lt;/context&gt;\r\n                            &lt;/properties&gt;\r\n                        &lt;/deployable&gt;\r\n                    &lt;/deployables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"Cargo embedded tomcat: custom context.xml","body":"<p>One of solution is here: <a href=\"https://stackoverflow.com/questions/4305935/is-it-possible-to-supply-tomcat6s-context-xml-file-via-the-maven-cargo-plugin#4417945\">Is it possible to supply Tomcat6&#39;s context.xml file via the Maven Cargo plugin?</a></p>\n\n<p>My working configuration (with jdbc DataSource pool) looks like:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n            &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;container&gt;\n                    &lt;containerId&gt;tomcat8x&lt;/containerId&gt;\n                    &lt;systemProperties&gt;\n                        &lt;file.encoding&gt;UTF-8&lt;/file.encoding&gt;\n                        &lt;spring.profiles.active&gt;tomcat,datajpa&lt;/spring.profiles.active&gt;\n                    &lt;/systemProperties&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/container&gt;\n                &lt;configuration&gt;\n                    &lt;configfiles&gt;\n                        &lt;configfile&gt;\n                            &lt;file&gt;src/main/resources/tomcat/context.xml&lt;/file&gt;\n                            &lt;todir&gt;conf/Catalina/localhost/&lt;/todir&gt;\n                            &lt;tofile&gt;context.xml.default&lt;/tofile&gt;\n                        &lt;/configfile&gt;\n                    &lt;/configfiles&gt;\n                &lt;/configuration&gt;\n                &lt;deployables&gt;\n                    &lt;deployable&gt;\n                        &lt;groupId&gt;ru.javawebinar&lt;/groupId&gt;\n                        &lt;artifactId&gt;topjava&lt;/artifactId&gt;\n                        &lt;type&gt;war&lt;/type&gt;\n                        &lt;properties&gt;\n                            &lt;context&gt;${project.build.finalName}&lt;/context&gt;\n                        &lt;/properties&gt;\n                    &lt;/deployable&gt;\n                &lt;/deployables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":6756545,"reputation":1084,"user_id":5204741,"accept_rate":81,"display_name":"quento"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10759,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1685531338,"creation_date":1446927369,"question_id":33587299,"body_markdown":"I am using cargo to automate war deployment on Tomcat. However, i get a trouble: i can`t replace default tomcat files with my custom as my files are copied first and then get overwritten by default. I spent hours for resolving this problem but nothing works. Here is my pom.xml\r\n\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                             &lt;executions&gt;\r\n                                 &lt;execution&gt;\r\n                                     &lt;id&gt;replace-tomcat-users-xml&lt;/id&gt;\r\n                                     &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                                     &lt;goals&gt;\r\n                                         &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                                     &lt;/goals&gt;\r\n                                     &lt;configuration&gt;\r\n                                         &lt;outputDirectory&gt;${basedir}/target/apache-tomcat-${version.tomcat}/conf/&lt;/outputDirectory&gt;\r\n                                         &lt;resources&gt;\r\n                                             &lt;resource&gt;\r\n                                                 &lt;directory&gt;src/test/resources/&lt;/directory&gt;\r\n                                                 &lt;includes&gt;\r\n                                                     &lt;include&gt;context.xml&lt;/include&gt;\r\n                                                 &lt;/includes&gt;\r\n                                             &lt;/resource&gt;\r\n                                         &lt;/resources&gt;\r\n                                     &lt;/configuration&gt;\r\n                                 &lt;/execution&gt;\r\n                                 &lt;execution&gt;\r\n                                     &lt;id&gt;replace-tomcat-users-xml-cargo&lt;/id&gt;\r\n                                     &lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n                                     &lt;goals&gt;\r\n                                         &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n                                     &lt;/goals&gt;\r\n                                     &lt;configuration&gt;\r\n                                         &lt;outputDirectory&gt;${basedir}/target/cargo/installs/tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}&lt;/outputDirectory&gt;\r\n                                         &lt;resources&gt;\r\n                                             &lt;resource&gt;\r\n                                                 &lt;directory&gt;src/test/resources/&lt;/directory&gt;\r\n                                                 &lt;includes&gt;\r\n                                                     &lt;include&gt;context.xml&lt;/include&gt;\r\n                                                 &lt;/includes&gt;\r\n                                             &lt;/resource&gt;\r\n                                         &lt;/resources&gt;\r\n                                     &lt;/configuration&gt;\r\n                                 &lt;/execution&gt;\r\n                             &lt;/executions&gt;\r\n                         &lt;/plugin&gt;\r\nand here is cargo using:\r\n\r\n    &lt;plugin&gt;\r\n                           &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\r\n                           &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\r\n                           &lt;version&gt;1.4.11&lt;/version&gt;\r\n                           &lt;configuration&gt;\r\n                               &lt;skip&gt;false&lt;/skip&gt;\r\n                               &lt;container&gt;\r\n                                   &lt;containerId&gt;tomcat7x&lt;/containerId&gt;\r\n                                   &lt;log&gt;${project.build.directory}/cargo.log&lt;/log&gt;\r\n                                   &lt;artifactInstaller&gt;\r\n                                       &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                                       &lt;artifactId&gt;tomcat&lt;/artifactId&gt;\r\n                                       &lt;version&gt;${version.tomcat}&lt;/version&gt;\r\n                                       &lt;type&gt;zip&lt;/type&gt;\r\n                                   &lt;/artifactInstaller&gt;\r\n                                   &lt;systemProperties&gt;\r\n                                       &lt;tomcat.home.dir&gt;\r\n                                           ${basedir}/target/cargo/installs/apache-tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}\r\n                                       &lt;/tomcat.home.dir&gt;\r\n                                       &lt;tomcat.server.home.dir&gt;\r\n                                           ${basedir}/target/cargo/installs/apache-tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}\r\n                                       &lt;/tomcat.server.home.dir&gt;\r\n                                   &lt;/systemProperties&gt;\r\n                                   &lt;dependencies&gt;\r\n                                       &lt;dependency&gt;\r\n                                           &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                                           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                                       &lt;/dependency&gt;\r\n                                   &lt;/dependencies&gt;\r\n                               &lt;/container&gt;\r\n                               &lt;configuration&gt;\r\n\r\n                                   &lt;configfile&gt;\r\n                                       &lt;file&gt;${basedir}/target/cargo/installs/context.xml&lt;/file&gt;\r\n                                       &lt;todir&gt;conf/&lt;/todir&gt;\r\n                                       &lt;tofile&gt;context.xml&lt;/tofile&gt;\r\n                                       &lt;configfile&gt;true&lt;/configfile&gt;\r\n                                       &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n                                   &lt;/configfile&gt;\r\n                                   &lt;properties&gt;\r\n                                       &lt;cargo.servlet.port&gt;8080&lt;/cargo.servlet.port&gt;\r\n                                       &lt;!--Тут менять--&gt;\r\n                                       &lt;cargo.servlet.users&gt;admin:admin:manager-script&lt;/cargo.servlet.users&gt;\r\n                                       &lt;cargo.jvmargs&gt;\r\n                                           -Xmx1024m -XX:MaxPermSize=512m\r\n                                           -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\r\n                                           -Xnoagent\r\n                                           -Djava.compiler=NONE\r\n                                       &lt;/cargo.jvmargs&gt;&lt;/properties&gt;\r\n                               &lt;/configuration&gt;\r\n","title":"Cargo embedded tomcat: custom context.xml","body":"<p>I am using cargo to automate war deployment on Tomcat. However, i get a trouble: i can`t replace default tomcat files with my custom as my files are copied first and then get overwritten by default. I spent hours for resolving this problem but nothing works. Here is my pom.xml</p>\n\n<pre><code>    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                         &lt;executions&gt;\n                             &lt;execution&gt;\n                                 &lt;id&gt;replace-tomcat-users-xml&lt;/id&gt;\n                                 &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                                 &lt;goals&gt;\n                                     &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                 &lt;/goals&gt;\n                                 &lt;configuration&gt;\n                                     &lt;outputDirectory&gt;${basedir}/target/apache-tomcat-${version.tomcat}/conf/&lt;/outputDirectory&gt;\n                                     &lt;resources&gt;\n                                         &lt;resource&gt;\n                                             &lt;directory&gt;src/test/resources/&lt;/directory&gt;\n                                             &lt;includes&gt;\n                                                 &lt;include&gt;context.xml&lt;/include&gt;\n                                             &lt;/includes&gt;\n                                         &lt;/resource&gt;\n                                     &lt;/resources&gt;\n                                 &lt;/configuration&gt;\n                             &lt;/execution&gt;\n                             &lt;execution&gt;\n                                 &lt;id&gt;replace-tomcat-users-xml-cargo&lt;/id&gt;\n                                 &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                                 &lt;goals&gt;\n                                     &lt;goal&gt;copy-resources&lt;/goal&gt;\n                                 &lt;/goals&gt;\n                                 &lt;configuration&gt;\n                                     &lt;outputDirectory&gt;${basedir}/target/cargo/installs/tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}&lt;/outputDirectory&gt;\n                                     &lt;resources&gt;\n                                         &lt;resource&gt;\n                                             &lt;directory&gt;src/test/resources/&lt;/directory&gt;\n                                             &lt;includes&gt;\n                                                 &lt;include&gt;context.xml&lt;/include&gt;\n                                             &lt;/includes&gt;\n                                         &lt;/resource&gt;\n                                     &lt;/resources&gt;\n                                 &lt;/configuration&gt;\n                             &lt;/execution&gt;\n                         &lt;/executions&gt;\n                     &lt;/plugin&gt;\n</code></pre>\n\n<p>and here is cargo using:</p>\n\n<pre><code>&lt;plugin&gt;\n                       &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;\n                       &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;\n                       &lt;version&gt;1.4.11&lt;/version&gt;\n                       &lt;configuration&gt;\n                           &lt;skip&gt;false&lt;/skip&gt;\n                           &lt;container&gt;\n                               &lt;containerId&gt;tomcat7x&lt;/containerId&gt;\n                               &lt;log&gt;${project.build.directory}/cargo.log&lt;/log&gt;\n                               &lt;artifactInstaller&gt;\n                                   &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n                                   &lt;artifactId&gt;tomcat&lt;/artifactId&gt;\n                                   &lt;version&gt;${version.tomcat}&lt;/version&gt;\n                                   &lt;type&gt;zip&lt;/type&gt;\n                               &lt;/artifactInstaller&gt;\n                               &lt;systemProperties&gt;\n                                   &lt;tomcat.home.dir&gt;\n                                       ${basedir}/target/cargo/installs/apache-tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}\n                                   &lt;/tomcat.home.dir&gt;\n                                   &lt;tomcat.server.home.dir&gt;\n                                       ${basedir}/target/cargo/installs/apache-tomcat-${version.tomcat}/apache-tomcat-${version.tomcat}\n                                   &lt;/tomcat.server.home.dir&gt;\n                               &lt;/systemProperties&gt;\n                               &lt;dependencies&gt;\n                                   &lt;dependency&gt;\n                                       &lt;groupId&gt;mysql&lt;/groupId&gt;\n                                       &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                                   &lt;/dependency&gt;\n                               &lt;/dependencies&gt;\n                           &lt;/container&gt;\n                           &lt;configuration&gt;\n\n                               &lt;configfile&gt;\n                                   &lt;file&gt;${basedir}/target/cargo/installs/context.xml&lt;/file&gt;\n                                   &lt;todir&gt;conf/&lt;/todir&gt;\n                                   &lt;tofile&gt;context.xml&lt;/tofile&gt;\n                                   &lt;configfile&gt;true&lt;/configfile&gt;\n                                   &lt;overwrite&gt;true&lt;/overwrite&gt;\n                               &lt;/configfile&gt;\n                               &lt;properties&gt;\n                                   &lt;cargo.servlet.port&gt;8080&lt;/cargo.servlet.port&gt;\n                                   &lt;!--Тут менять--&gt;\n                                   &lt;cargo.servlet.users&gt;admin:admin:manager-script&lt;/cargo.servlet.users&gt;\n                                   &lt;cargo.jvmargs&gt;\n                                       -Xmx1024m -XX:MaxPermSize=512m\n                                       -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=8000\n                                       -Xnoagent\n                                       -Djava.compiler=NONE\n                                   &lt;/cargo.jvmargs&gt;&lt;/properties&gt;\n                           &lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","micronaut","micronaut-data"],"owner":{"account_id":1428782,"reputation":351,"user_id":1432317,"display_name":"Olav Gr&#248;n&#229;s Gjerde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685530866,"creation_date":1685530866,"question_id":76372793,"body_markdown":"I would like to do something similar as with Spring Boot JPA\r\n```java\r\n@ElementCollection\r\n@CollectionTable(name = &quot;timeseries_security_categories&quot;, joinColumns = @JoinColumn(name = &quot;timeseries_id&quot;))\r\n@Column(name = &quot;security_categories_integer&quot;)\r\nprivate Set&lt;Integer&gt; securityCategories = new HashSet&lt;&gt;();\r\n```\r\n\r\nHow can I do this with Micronaut Data JDBC?\r\n\r\n\r\n# I&#39;ve also tried a work around, but I cannot get it to work either\r\n\r\nI&#39;m not sure if this is possible with Micronaut Data yet, however I also tried a workaround where I created a mapped entity. But I cannot get this to work either\r\n\r\nTimeseries class\r\n```java\r\n@MappedEntity(value = &quot;timeseries&quot;)\r\npublic class Timeseries {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @Relation(value = Relation.Kind.ONE_TO_MANY, mappedBy = &quot;timeseries&quot;)\r\n    private Set&lt;TimeseriesSecurityCategory&gt; securityCategories = new HashSet&lt;&gt;();\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public Timeseries setId(Long id) {\r\n        this.id = id;\r\n        return this;\r\n    }\r\n\r\n    public Set&lt;TimeseriesSecurityCategory&gt; getSecurityCategories() {\r\n        return securityCategories;\r\n    }\r\n\r\n    public Timeseries setSecurityCategories(Set&lt;TimeseriesSecurityCategory&gt; securityCategories) {\r\n        this.securityCategories = securityCategories;\r\n        return this;\r\n    }\r\n}\r\n```\r\nTimeseries Security Category association\r\n```java\r\n@MappedEntity(value = &quot;timeseries_security_categories&quot;)\r\n@Serdeable\r\n@Introspected\r\npublic class TimeseriesSecurityCategory {\r\n\r\n    @MappedProperty(&quot;timeseries_id&quot;)\r\n    @Relation(value = Relation.Kind.MANY_TO_ONE)\r\n    private Timeseries timeseries;\r\n\r\n    @MappedProperty(&quot;security_categories_integer&quot;)\r\n    private Integer value;\r\n\r\n    public Timeseries getTimeseries() {\r\n        return timeseries;\r\n    }\r\n\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n\r\n    public TimeseriesSecurityCategory setTimeseries(Timeseries t) {\r\n        this.timeseries = t;\r\n        return this;\r\n    }\r\n\r\n    public TimeseriesSecurityCategory setValue(Integer value) {\r\n        this.value = value;\r\n        return this;\r\n    }\r\n\r\n}\r\n```\r\nAnd the repository\r\n```java\r\n@JdbcRepository(dialect = Dialect.POSTGRES)\r\n@Join(value = &quot;securityCategories&quot;, type = Join.Type.LEFT_FETCH)\r\npublic abstract class TimeseriesRepository implements CrudRepository&lt;Timeseries, Long&gt; {\r\n\r\n    private final JdbcOperations jdbcOperations;\r\n\r\n    public TimeseriesRepository(JdbcOperations jdbcOperations) {\r\n        this.jdbcOperations = jdbcOperations;\r\n    }\r\n\r\n    public abstract Collection&lt;Timeseries&gt; list();\r\n\r\n}\r\n```\r\n\r\nThe list method generates a valid SQL, however the returned collection of securityCategory is always empty. Like it cannot bind the association to the timeseries.\r\nThe generated SQL:\r\n```sql\r\nSELECT timeseries_.&quot;id&quot;,\r\n       timeseries_security_categories_.&quot;timeseries_id&quot; AS security_categories_timeseries_id,\r\n       timeseries_security_categories_.&quot;security_categories_integer&quot; AS security_categories_security_categories_integer\r\nFROM &quot;timeseries&quot; timeseries_\r\n    LEFT JOIN &quot;timeseries_security_categories&quot; timeseries_security_categories_ ON timeseries_.&quot;id&quot;=timeseries_security_categories_.&quot;timeseries_id&quot;\r\n\r\n```\r\n\r\n\r\n","title":"How can I create a List of numbers or strings association with Micronaut Data JDBC?","body":"<p>I would like to do something similar as with Spring Boot JPA</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ElementCollection\n@CollectionTable(name = &quot;timeseries_security_categories&quot;, joinColumns = @JoinColumn(name = &quot;timeseries_id&quot;))\n@Column(name = &quot;security_categories_integer&quot;)\nprivate Set&lt;Integer&gt; securityCategories = new HashSet&lt;&gt;();\n</code></pre>\n<p>How can I do this with Micronaut Data JDBC?</p>\n<h1>I've also tried a work around, but I cannot get it to work either</h1>\n<p>I'm not sure if this is possible with Micronaut Data yet, however I also tried a workaround where I created a mapped entity. But I cannot get this to work either</p>\n<p>Timeseries class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedEntity(value = &quot;timeseries&quot;)\npublic class Timeseries {\n\n    @Id\n    private Long id;\n\n    @Relation(value = Relation.Kind.ONE_TO_MANY, mappedBy = &quot;timeseries&quot;)\n    private Set&lt;TimeseriesSecurityCategory&gt; securityCategories = new HashSet&lt;&gt;();\n\n    public Long getId() {\n        return id;\n    }\n\n    public Timeseries setId(Long id) {\n        this.id = id;\n        return this;\n    }\n\n    public Set&lt;TimeseriesSecurityCategory&gt; getSecurityCategories() {\n        return securityCategories;\n    }\n\n    public Timeseries setSecurityCategories(Set&lt;TimeseriesSecurityCategory&gt; securityCategories) {\n        this.securityCategories = securityCategories;\n        return this;\n    }\n}\n</code></pre>\n<p>Timeseries Security Category association</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedEntity(value = &quot;timeseries_security_categories&quot;)\n@Serdeable\n@Introspected\npublic class TimeseriesSecurityCategory {\n\n    @MappedProperty(&quot;timeseries_id&quot;)\n    @Relation(value = Relation.Kind.MANY_TO_ONE)\n    private Timeseries timeseries;\n\n    @MappedProperty(&quot;security_categories_integer&quot;)\n    private Integer value;\n\n    public Timeseries getTimeseries() {\n        return timeseries;\n    }\n\n    public Integer getValue() {\n        return value;\n    }\n\n    public TimeseriesSecurityCategory setTimeseries(Timeseries t) {\n        this.timeseries = t;\n        return this;\n    }\n\n    public TimeseriesSecurityCategory setValue(Integer value) {\n        this.value = value;\n        return this;\n    }\n\n}\n</code></pre>\n<p>And the repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JdbcRepository(dialect = Dialect.POSTGRES)\n@Join(value = &quot;securityCategories&quot;, type = Join.Type.LEFT_FETCH)\npublic abstract class TimeseriesRepository implements CrudRepository&lt;Timeseries, Long&gt; {\n\n    private final JdbcOperations jdbcOperations;\n\n    public TimeseriesRepository(JdbcOperations jdbcOperations) {\n        this.jdbcOperations = jdbcOperations;\n    }\n\n    public abstract Collection&lt;Timeseries&gt; list();\n\n}\n</code></pre>\n<p>The list method generates a valid SQL, however the returned collection of securityCategory is always empty. Like it cannot bind the association to the timeseries.\nThe generated SQL:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT timeseries_.&quot;id&quot;,\n       timeseries_security_categories_.&quot;timeseries_id&quot; AS security_categories_timeseries_id,\n       timeseries_security_categories_.&quot;security_categories_integer&quot; AS security_categories_security_categories_integer\nFROM &quot;timeseries&quot; timeseries_\n    LEFT JOIN &quot;timeseries_security_categories&quot; timeseries_security_categories_ ON timeseries_.&quot;id&quot;=timeseries_security_categories_.&quot;timeseries_id&quot;\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9825,"page":400,"page_size":100}
