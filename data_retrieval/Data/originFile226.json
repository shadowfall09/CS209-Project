{"items":[{"tags":["java","docker","gitlab-ci"],"answers":[{"comments":[{"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"score":0,"creation_date":1644852364,"post_id":71112311,"comment_id":125708866,"body_markdown":"Thanks, it works but I get this error: &quot; unknown initscript, /etc/init.d/docker not found.&quot; so if I run &quot;service docker status&quot; system returns me the error &quot;docker: unrecognized service&quot;. Any recommendation?","body":"Thanks, it works but I get this error: &quot; unknown initscript, /etc/init.d/docker not found.&quot; so if I run &quot;service docker status&quot; system returns me the error &quot;docker: unrecognized service&quot;. Any recommendation?"},{"owner":{"account_id":7575391,"reputation":32369,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1644880676,"post_id":71112311,"comment_id":125718086,"body_markdown":"@Rafael the docker daemon runs on the remote `docker:dind` service, not locally. So it won&#39;t be found in init.d or running services. You only need the docker _client_ not the docker _daemon_.","body":"@Rafael the docker daemon runs on the remote <code>docker:dind</code> service, not locally. So it won&#39;t be found in init.d or running services. You only need the docker <i>client</i> not the docker <i>daemon</i>."},{"owner":{"account_id":410026,"reputation":1821,"user_id":781610,"accept_rate":75,"display_name":"Niranjan"},"score":0,"creation_date":1691583427,"post_id":71112311,"comment_id":135510814,"body_markdown":"@sytech I have a similar issue as @Rafael ., I see an error `Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?`  when i would like to build a docker image.  docker -version is giving the response though.","body":"@sytech I have a similar issue as @Rafael ., I see an error <code>Cannot connect to the Docker daemon at unix:&#47;&#47;&#47;var&#47;run&#47;docker.sock. Is the docker daemon running?</code>  when i would like to build a docker image.  docker -version is giving the response though."},{"owner":{"account_id":410026,"reputation":1821,"user_id":781610,"accept_rate":75,"display_name":"Niranjan"},"score":0,"creation_date":1691589308,"post_id":71112311,"comment_id":135512181,"body_markdown":"added the /var/run/docker.sock` to the volumes section under [runners.docker]  in `config.toml`  to fix the issue, Reference :   `volumes = [&quot;/var/run/docker.sock:/var/run/docker.sock&quot;, &quot;/certs/client&quot;, &quot;/cache&quot;]`","body":"added the /var/run/docker.sock` to the volumes section under [runners.docker]  in <code>config.toml</code>  to fix the issue, Reference :   <code>volumes = [&quot;&#47;var&#47;run&#47;docker.sock:&#47;var&#47;run&#47;docker.sock&quot;, &quot;&#47;certs&#47;client&quot;, &quot;&#47;cache&quot;]</code>"},{"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"score":0,"creation_date":1692962164,"post_id":71112311,"comment_id":135699415,"body_markdown":"Hi @Niranjan, in our case we finally realized that out gitlab runner has locked the docker-in-docker so we couldn&#39;t start testcontainer for aur test in gitlab. \n\nOur solution was to use the kafka a postresql services provided by gitlab: https://docs.gitlab.com/ee/ci/services/","body":"Hi @Niranjan, in our case we finally realized that out gitlab runner has locked the docker-in-docker so we couldn&#39;t start testcontainer for aur test in gitlab.   Our solution was to use the kafka a postresql services provided by gitlab: <a href=\"https://docs.gitlab.com/ee/ci/services/\" rel=\"nofollow noreferrer\">docs.gitlab.com/ee/ci/services</a>"}],"tags":[],"owner":{"account_id":7575391,"reputation":32369,"user_id":5747944,"display_name":"sytech"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644843628,"creation_date":1644843628,"answer_id":71112311,"question_id":71109409,"body_markdown":"The image `gradle:jdk16` does not include the docker client. You&#39;ll have to install it in your job. Additionally, you&#39;ll need to use the service `docker:dind` in your `services:` configuration (not `docker:latest`)\r\n\r\n```yaml\r\ntest:\r\n  stage: test\r\n  image: gradle:jdk16\r\n  services:\r\n    - docker:dind # use the docker-in-docker image\r\n  before_script: # install docker\r\n    - apt update &amp;&amp; apt install --no-install-recommends -y docker.io  \r\n  script:\r\n    - docker --version\r\n```\r\n\r\nRunning this on gitlab.com runners, you should see an output like this:\r\n\r\n[![job on gitlab.com][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KCNKM.png","title":"Gitlab-ci docker inside java image","body":"<p>The image <code>gradle:jdk16</code> does not include the docker client. You'll have to install it in your job. Additionally, you'll need to use the service <code>docker:dind</code> in your <code>services:</code> configuration (not <code>docker:latest</code>)</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>test:\n  stage: test\n  image: gradle:jdk16\n  services:\n    - docker:dind # use the docker-in-docker image\n  before_script: # install docker\n    - apt update &amp;&amp; apt install --no-install-recommends -y docker.io  \n  script:\n    - docker --version\n</code></pre>\n<p>Running this on gitlab.com runners, you should see an output like this:</p>\n<p><a href=\"https://i.stack.imgur.com/KCNKM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KCNKM.png\" alt=\"job on gitlab.com\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692962276,"creation_date":1692962276,"answer_id":76976701,"question_id":71109409,"body_markdown":"We finally realized that our gitlab runner had locked the docker-in-docker so we couldn&#39;t start testcontainer for aur test in gitlab. Our solution was to use the kafka a postresql services provided by gitlab:\r\n\r\n\r\nhttps://docs.gitlab.com/ee/ci/services/","title":"Gitlab-ci docker inside java image","body":"<p>We finally realized that our gitlab runner had locked the docker-in-docker so we couldn't start testcontainer for aur test in gitlab. Our solution was to use the kafka a postresql services provided by gitlab:</p>\n<p><a href=\"https://docs.gitlab.com/ee/ci/services/\" rel=\"nofollow noreferrer\">https://docs.gitlab.com/ee/ci/services/</a></p>\n"}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1064,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76976701,"answer_count":2,"score":0,"last_activity_date":1692962276,"creation_date":1644829853,"question_id":71109409,"body_markdown":"To use a integration test library https://www.testcontainers.org/&quot; I need a image with java a docker installed at same time.\r\n\r\nI&#39;m trying o use this stage:\r\n```\r\ntest:\r\n  stage: test\r\n  image: gradle:jdk16\r\n  services:\r\n    - docker:latest\r\n  script:\r\n    - docker --version\r\n    - chmod +x ./gradlew\r\n    - export GRADLE_USER_HOME=`pwd`/.gradle\r\n    - ./gradlew test  --stacktrace\r\n  rules:\r\n    - !reference [.rules_merge_request, rules]\r\n```\r\nBut It does not work:\r\n```\r\n$ docker --version\r\n/scripts-33119345-2089057982/step_script: line 154: docker: command not found\r\n```\r\n\r\nAny help?","title":"Gitlab-ci docker inside java image","body":"<p>To use a integration test library <a href=\"https://www.testcontainers.org/%22\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/&quot;</a> I need a image with java a docker installed at same time.</p>\n<p>I'm trying o use this stage:</p>\n<pre><code>test:\n  stage: test\n  image: gradle:jdk16\n  services:\n    - docker:latest\n  script:\n    - docker --version\n    - chmod +x ./gradlew\n    - export GRADLE_USER_HOME=`pwd`/.gradle\n    - ./gradlew test  --stacktrace\n  rules:\n    - !reference [.rules_merge_request, rules]\n</code></pre>\n<p>But It does not work:</p>\n<pre><code>$ docker --version\n/scripts-33119345-2089057982/step_script: line 154: docker: command not found\n</code></pre>\n<p>Any help?</p>\n"},{"tags":["java","spring","dependencies","autowired","circular-dependency"],"answers":[{"comments":[{"owner":{"account_id":26110461,"reputation":1,"user_id":19804483,"display_name":"CraigL"},"score":0,"creation_date":1661250442,"post_id":73442862,"comment_id":129721490,"body_markdown":"Just want to say thanks for the response.  Trying to work out if I should redesign (which would take some work -in retrospect having allowed circular dependencies being true wasn&#39;t a wise decision, but also something I wasn&#39;t aware of when I was using an earlier version of Spring.  I&#39;m trying to work out the uses of lazy initialization, allowing circular dependencies to be true and whether or not I call a method on an autowired dependency which can affect things....","body":"Just want to say thanks for the response.  Trying to work out if I should redesign (which would take some work -in retrospect having allowed circular dependencies being true wasn&#39;t a wise decision, but also something I wasn&#39;t aware of when I was using an earlier version of Spring.  I&#39;m trying to work out the uses of lazy initialization, allowing circular dependencies to be true and whether or not I call a method on an autowired dependency which can affect things...."}],"tags":[],"owner":{"account_id":7152799,"reputation":331,"user_id":5466236,"display_name":"StrongPoint"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661163430,"creation_date":1661160245,"answer_id":73442862,"question_id":73421264,"body_markdown":"Circular Dependencies are usually a sign of bad design and should be avoided, as you correctly mentioned. To improve your design you might want to get familiar with the SOLID principles. Especially, the Single Responsibility Principle. \r\n\r\nFrom your description, ServiceB seems to be doing more than one thing. It validates your event and makes sure a ServiceC is called to created a new event. Instead you could have both ServiceB and ServiceC as dependencies of ServiceA. That would get rid of your circular dependency. Maybe this helps: \r\n\r\n    void process(Event event) {\r\n      if(!serviceB.isValid(event)) {\r\n        Event correctedEvent = serviceC.correctEvent(event);\r\n        processValidEvent(correctedEvent);\r\n      }\r\n      processValidEvent(event);\r\n    }","title":"Circular dependencies solutions?","body":"<p>Circular Dependencies are usually a sign of bad design and should be avoided, as you correctly mentioned. To improve your design you might want to get familiar with the SOLID principles. Especially, the Single Responsibility Principle.</p>\n<p>From your description, ServiceB seems to be doing more than one thing. It validates your event and makes sure a ServiceC is called to created a new event. Instead you could have both ServiceB and ServiceC as dependencies of ServiceA. That would get rid of your circular dependency. Maybe this helps:</p>\n<pre><code>void process(Event event) {\n  if(!serviceB.isValid(event)) {\n    Event correctedEvent = serviceC.correctEvent(event);\n    processValidEvent(correctedEvent);\n  }\n  processValidEvent(event);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8742544,"reputation":33,"user_id":6539123,"display_name":"singla_02"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692962138,"creation_date":1692957363,"answer_id":76976142,"question_id":73421264,"body_markdown":"Service C requires Service A but it not necessarily has to be a blocker for its instance creation. Instead of autowiring Service A in Service C, declare it as non-final field. A setter method to be exposed which could be called from `@PostConstruct` of Service A. Hence, service A is providing its instance to Service C after creation.\r\n\r\nRef: [Circular Dependencies in Spring][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/circular-dependencies-in-spring#4-use-postconstruct","title":"Circular dependencies solutions?","body":"<p>Service C requires Service A but it not necessarily has to be a blocker for its instance creation. Instead of autowiring Service A in Service C, declare it as non-final field. A setter method to be exposed which could be called from <code>@PostConstruct</code> of Service A. Hence, service A is providing its instance to Service C after creation.</p>\n<p>Ref: <a href=\"https://www.baeldung.com/circular-dependencies-in-spring#4-use-postconstruct\" rel=\"nofollow noreferrer\">Circular Dependencies in Spring</a></p>\n"}],"owner":{"account_id":26110461,"reputation":1,"user_id":19804483,"display_name":"CraigL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692962138,"creation_date":1660936135,"question_id":73421264,"body_markdown":"I recently upgraded to the latest Spring, and I&#39;m now getting circular dependencies issues (I know the default is now no longer true to allow for circular dependencies) but even setting it to true still causes issues...  A perfect time to update my code:\r\n\r\nMy problem is this (where serviceA is autowired and has autowired service B, service B has autowired serviceC, service C has autowired serviceA):\r\n\r\n  \r\n\r\n      ---&gt;---serviceA\r\n      |\t       |\t\r\n      |       \\/\r\n      |\t    serviceB\r\n      |\t       |\r\n      |       \\/\r\n      ---&lt;---serviceC\r\n\r\n  \r\n\r\nThe above (very simplified) scenario could be that ServiceA processes an event.  Service B checks the event -if it&#39;s not valid it sends it to ServiceC that creates a corrected event and resubmits to ServiceA....  I want the services to be singletons (and autowiring seems to provide the perfect answer with singletons in a context)\r\n\r\nI&#39;ve tried using autowired setters and lazy initialization but no luck and am still getting circular dependencies.  I know the documentation says to not use circular dependencies -which obviously I would prefer -but what is the best way to do this? Or can I not use autowiring and have to use a singleton pattern in serviceA to get it from within serviceC?  And in which case if I have any other autowiring in serviceA (such as the autowired serviceB!), I then have to apply a singleton pattern to serviceB, etc, etc (which would be a pain as wouldn&#39;t this negate the advantage of using autowiring?).","title":"Circular dependencies solutions?","body":"<p>I recently upgraded to the latest Spring, and I'm now getting circular dependencies issues (I know the default is now no longer true to allow for circular dependencies) but even setting it to true still causes issues...  A perfect time to update my code:</p>\n<p>My problem is this (where serviceA is autowired and has autowired service B, service B has autowired serviceC, service C has autowired serviceA):</p>\n<pre><code>  ---&gt;---serviceA\n  |        |    \n  |       \\/\n  |     serviceB\n  |        |\n  |       \\/\n  ---&lt;---serviceC\n</code></pre>\n<p>The above (very simplified) scenario could be that ServiceA processes an event.  Service B checks the event -if it's not valid it sends it to ServiceC that creates a corrected event and resubmits to ServiceA....  I want the services to be singletons (and autowiring seems to provide the perfect answer with singletons in a context)</p>\n<p>I've tried using autowired setters and lazy initialization but no luck and am still getting circular dependencies.  I know the documentation says to not use circular dependencies -which obviously I would prefer -but what is the best way to do this? Or can I not use autowiring and have to use a singleton pattern in serviceA to get it from within serviceC?  And in which case if I have any other autowiring in serviceA (such as the autowired serviceB!), I then have to apply a singleton pattern to serviceB, etc, etc (which would be a pain as wouldn't this negate the advantage of using autowiring?).</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-data-r2dbc","blockhound"],"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1692964872,"post_id":76976622,"comment_id":135700038,"body_markdown":"As stacktrace shows, you have Hibernate trying to replace a message placesholder with data in classpath, and to do so it needs an IO operation, which is blocking","body":"As stacktrace shows, you have Hibernate trying to replace a message placesholder with data in classpath, and to do so it needs an IO operation, which is blocking"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1693234064,"post_id":76976622,"comment_id":135729904,"body_markdown":"Can you share with us, please, your `ServicesApi.getServiceIntegrations()` which is marked with `@Validated`?","body":"Can you share with us, please, your <code>ServicesApi.getServiceIntegrations()</code> which is marked with <code>@Validated</code>?"}],"owner":{"account_id":8921227,"reputation":1,"user_id":6673576,"display_name":"Ifeanyi Onyejekwe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692961630,"creation_date":1692961630,"question_id":76976622,"body_markdown":"I added postgres support to my application, but when I try to run the tests, I keep getting a blocking call error from blockhound, and I&#39;m not sure why this is happening. The application it&#39;s runs fine, only the tests fail with the blocking call error. \r\n\r\nThese are my app dependencies:\r\n\r\n        plugins {\r\n        id &#39;org.springframework.boot&#39;\r\n    }\r\n    \r\n        dependencies {\r\n            annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n            testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n            compileOnly &#39;org.projectlombok:lombok&#39;\r\n            testCompileOnly &#39;org.projectlombok:lombok&#39;\r\n        implementation &#39;io.projectreactor:reactor-tools&#39;\r\n    \r\n        implementation &#39;software.amazon.awssdk:dynamodb-enhanced&#39;\r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-redis-reactive&#39;\r\n    \r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-r2dbc&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;io.r2dbc:r2dbc-postgresql&#39;\r\n        implementation &#39;org.postgresql:postgresql&#39;\r\n        implementation &#39;org.flywaydb:flyway-core&#39;\r\n    \r\n        implementation &#39;com.github.bsideup.liiklus:client&#39;\r\n    \r\n        implementation &#39;com.auth0:java-jwt&#39;\r\n    \r\n        implementation &#39;org.springdoc:springdoc-openapi-webflux-core&#39;\r\n        implementation &#39;org.springdoc:springdoc-openapi-security&#39;\r\n        implementation &#39;org.springdoc:springdoc-openapi-webflux-ui&#39;\r\n    \r\n        runtimeOnly &#39;io.sentry:sentry-logback&#39;\r\n    \r\n        testRuntimeOnly &#39;io.sentry:sentry-logback&#39;\r\n    \r\n        testImplementation &#39;com.amazonaws:aws-java-sdk-dynamodb&#39;\r\n        testImplementation &#39;com.github.bsideup.liiklus:testing&#39;\r\n        testImplementation &#39;io.projectreactor.tools:blockhound-junit-platform&#39;\r\n        testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n        testImplementation &#39;io.rest-assured:rest-assured&#39;\r\n        testImplementation &#39;org.assertj:assertj-core&#39;\r\n        testImplementation &#39;org.awaitility:awaitility&#39;\r\n        testImplementation &#39;org.bouncycastle:bcprov-jdk15on&#39;\r\n        testImplementation &#39;org.mock-server:mockserver-client-java&#39;\r\n        testImplementation &#39;org.mock-server:mockserver-netty&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.testcontainers:localstack&#39;\r\n        testImplementation &quot;org.testcontainers:testcontainers&quot;\r\n        testImplementation &#39;org.testcontainers:mockserver&#39;\r\n        testImplementation &quot;org.testcontainers:junit-jupiter&quot;\r\n    \r\n        testImplementation &quot;org.testcontainers:postgresql&quot;\r\n        testImplementation &quot;org.testcontainers:r2dbc&quot;\r\n    \r\n        testRuntimeOnly &quot;net.java.dev.jna:jna:5.12.1&quot;\r\n    \r\n        //http://github.com/gradle/gradle/issues/8806 requires platform launcher in test runtime explicitly\r\n        testRuntimeOnly &#39;org.junit.platform:junit-platform-launcher&#39;\r\n    }\r\n\r\nThen I added these dependencies in the project build.gradle:\r\n\r\n            dependency &#39;io.r2dbc:r2dbc-postgresql:0.8.12.RELEASE&#39;\r\n            dependency &#39;org.flywaydb:flyway-core:8.5.10&#39;\r\n            testImplementation &#39;org.postgresql:postgresql&#39;\r\n\r\n\r\nThen I have a test container logic like so:\r\n\r\n    var jdbcUrl = postgresqlContainer.getJdbcUrl();\r\n        var r2dbcUrl = jdbcUrl.replaceAll(&quot;jdbc&quot;, &quot;r2dbc&quot;);\r\n\r\n        log.info(&quot;Set JDBC url: {}&quot;, jdbcUrl);\r\n        log.info(&quot;Set R2DBC url: {}&quot;, r2dbcUrl);\r\n\r\n        System.getProperties().put(&quot;spring.flyway.url&quot;, jdbcUrl);\r\n        System.getProperties().put(&quot;spring.r2dbc.url&quot;, r2dbcUrl);\r\n\r\n        Flyway flyway = Flyway.configure().dataSource(\r\n                postgresqlContainer.getJdbcUrl(),\r\n                postgresqlContainer.getUsername(),\r\n                postgresqlContainer.getPassword()\r\n        ).load();\r\n\r\n        flyway.migrate();\r\n\r\nFinally I had some configurations in app.yml, for setting test postgres url and credentials. And that&#39;s basically it. But when I run the tests, I get this error/stack trace:\r\n\r\n        reactor.blockhound.BlockingOperationError: Blocking call! java.io.RandomAccessFile#readBytes\r\n    \tat java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java)\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Assembly trace from producer [reactor.core.publisher.MonoFlatMap] :\r\n    \treactor.core.publisher.Mono.flatMap\r\n    \torg.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:137)\r\n    Error has been observed at the following site(s):\r\n    \t|_           Mono.flatMap ⇢ at org.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:137)\r\n    \t|_                        ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$1(RequestMappingHandlerAdapter.java:199)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:199)\r\n    \t|_              Mono.then ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:199)\r\n    \t|_          Mono.doOnNext ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:200)\r\n    \t|_          Mono.doOnNext ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:201)\r\n    \t|_             Mono.error ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handleException(RequestMappingHandlerAdapter.java:235)\r\n    \t|_                        ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$0(RequestMappingHandlerAdapter.java:195)\r\n    \t|_     Mono.onErrorResume ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:202)\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_     Mono.switchIfEmpty ⇢ at org.springframework.security.web.server.authorization.AuthorizationWebFilter.filter(AuthorizationWebFilter.java:55)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_     Mono.onErrorResume ⇢ at org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter.filter(ExceptionTranslationWebFilter.java:44)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_              Mono.then ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\r\n    \t|_     Mono.switchIfEmpty ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\r\n    \t|_               Mono.map ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\r\n    \t|_           Mono.flatMap ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:63)\r\n    \t|_           Mono.flatMap ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:63)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter.lambda$filter$1(ServerRequestCacheWebFilter.java:39)\r\n    \t|_           Mono.flatMap ⇢ at org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter.filter(ServerRequestCacheWebFilter.java:39)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter.filter(SecurityContextServerWebExchangeWebFilter.java:38)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.security.web.server.authentication.WebFilterChainServerAuthenticationSuccessHandler.onAuthenticationSuccess(WebFilterChainServerAuthenticationSuccessHandler.java:36)\r\n    \t|_              Mono.then ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.onAuthenticationSuccess(AuthenticationWebFilter.java:135)\r\n    \t|_ Mono.subscriberContext ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.onAuthenticationSuccess(AuthenticationWebFilter.java:136)\r\n    \t|_                        ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.lambda$authenticate$7(AuthenticationWebFilter.java:124)\r\n    \t|_           Mono.flatMap ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.authenticate(AuthenticationWebFilter.java:124)\r\n    \t|_         Mono.doOnError ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.authenticate(AuthenticationWebFilter.java:126)\r\n    \t|_                        ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.lambda$filter$3(AuthenticationWebFilter.java:114)\r\n    \t|_           Mono.flatMap ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.filter(AuthenticationWebFilter.java:114)\r\n    \t|_     Mono.onErrorResume ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.filter(AuthenticationWebFilter.java:115)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_ Mono.subscriberContext ⇢ at org.springframework.security.web.server.context.ReactorContextWebFilter.filter(ReactorContextWebFilter.java:47)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.lambda$continueFilterChain$10(CsrfWebFilter.java:165)\r\n    \t|_             Mono.defer ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.continueFilterChain(CsrfWebFilter.java:162)\r\n    \t|_              Mono.then ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:124)\r\n    \t|_     Mono.switchIfEmpty ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:124)\r\n    \t|_     Mono.onErrorResume ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:125)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.csrf.CsrfWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.security.web.server.header.HttpHeaderWriterWebFilter.filter(HttpHeaderWriterWebFilter.java:44)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_ Mono.subscriberContext ⇢ at org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter.filter(ServerHttpSecurity.java:2936)\r\n    \t|_             checkpoint ⇢ org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.FilteringWebHandler.handle(FilteringWebHandler.java:59)\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.security.web.server.WebFilterChainProxy.lambda$filter$4(WebFilterChainProxy.java:56)\r\n    \t|_           Mono.flatMap ⇢ at org.springframework.security.web.server.WebFilterChainProxy.filter(WebFilterChainProxy.java:56)\r\n    \t|_             checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_          Mono.doOnEach ⇢ at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:87)\r\n    \t|_        Mono.doOnCancel ⇢ at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:88)\r\n    \t|_ Mono.transformDeferred ⇢ at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:82)\r\n    \t|_             checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\r\n    \t|_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.FilteringWebHandler.handle(FilteringWebHandler.java:59)\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.WebHandlerDecorator.handle(WebHandlerDecorator.java:56)\r\n    \t|_             Mono.error ⇢ at org.springframework.web.server.handler.ExceptionHandlingWebHandler$CheckpointInsertingHandler.handle(ExceptionHandlingWebHandler.java:98)\r\n    \t|_             checkpoint ⇢ HTTP GET &quot;/subjects/me/services/health&quot; [ExceptionHandlingWebHandler]\r\n    \t|_                        ⇢ at org.springframework.web.server.handler.ExceptionHandlingWebHandler.lambda$handle$0(ExceptionHandlingWebHandler.java:77)\r\n    \t|_     Mono.onErrorResume ⇢ at org.springframework.web.server.handler.ExceptionHandlingWebHandler.handle(ExceptionHandlingWebHandler.java:77)\r\n    Stack trace:\r\n    \t\tat java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java)\r\n    \t\tat java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:404)\r\n    \t\tat java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:468)\r\n    \t\tat java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1314)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:913)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:929)\r\n    \t\tat java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:446)\r\n    \t\tat java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\r\n    \t\tat java.base/java.io.InputStream.readNBytes(InputStream.java:506)\r\n    \t\tat java.base/java.util.jar.JarFile.getBytes(JarFile.java:813)\r\n    \t\tat java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1003)\r\n    \t\tat java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:390)\r\n    \t\tat java.base/java.util.jar.JarFile.getEntry(JarFile.java:512)\r\n    \t\tat java.base/sun.net.www.protocol.jar.URLJarFile.getEntry(URLJarFile.java:131)\r\n    \t\tat java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:137)\r\n    \t\tat java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)\r\n    \t\tat java.base/java.util.ResourceBundle$Control$2.run(ResourceBundle.java:3227)\r\n    \t\tat java.base/java.util.ResourceBundle$Control$2.run(ResourceBundle.java:3216)\r\n    \t\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\r\n    \t\tat java.base/java.util.ResourceBundle$Control.newBundle(ResourceBundle.java:3215)\r\n    \t\tat java.base/java.util.ResourceBundle.loadBundle(ResourceBundle.java:1987)\r\n    \t\tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1769)\r\n    \t\tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1721)\r\n    \t\tat java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1721)\r\n    \t\tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1655)\r\n    \t\tat java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586)\r\n    \t\tat java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:1278)\r\n    \t\tat org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.loadBundle(PlatformResourceBundleLocator.java:234)\r\n    \t\tat org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.doGetResourceBundle(PlatformResourceBundleLocator.java:199)\r\n    \t\tat org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.getResourceBundle(PlatformResourceBundleLocator.java:183)\r\n    \t\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.resolveMessage(AbstractMessageInterpolator.java:455)\r\n    \t\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.lambda$interpolateMessage$0(AbstractMessageInterpolator.java:399)\r\n    \t\tat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\r\n    \t\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolateMessage(AbstractMessageInterpolator.java:399)\r\n    \t\tat org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolate(AbstractMessageInterpolator.java:355)\r\n    \t\tat org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator.interpolate(LocaleContextMessageInterpolator.java:51)\r\n    \t\tat org.hibernate.validator.internal.engine.validationcontext.AbstractValidationContext.interpolate(AbstractValidationContext.java:322)\r\n    \t\tat org.hibernate.validator.internal.engine.validationcontext.AbstractValidationContext.addConstraintFailure(AbstractValidationContext.java:231)\r\n    \t\tat org.hibernate.validator.internal.engine.validationcontext.ParameterExecutableValidationContext.addConstraintFailure(ParameterExecutableValidationContext.java:38)\r\n    \t\tat org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:79)\r\n    \t\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)\r\n    \t\tat org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:537)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForSingleGroup(ValidatorImpl.java:991)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForGroup(ValidatorImpl.java:932)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:863)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)\r\n    \t\tat org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)\r\n    \t\tat org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:110)\r\n    \t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n    \t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n    \t\tat services.vivy.integrations.api.ServicesApi$$EnhancerBySpringCGLIB$$60998295.getServiceIntegrations(&lt;generated&gt;)\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n    \t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \t\tat org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:146)\r\n    \t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\r\n    \t\tat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251)\r\n    \t\tat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336)\r\n    \t\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n    \t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\r\n    \t\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:108)\r\n    \t\tat reactor.core.publisher.Operators.complete(Operators.java:136)\r\n    \t\tat reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:45)\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4150)\r\n    \t\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128)\r\n    \t\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\n\r\nI also have a blockhound configuration class:\r\n\r\n        @Override\r\n    public void applyTo(BlockHound.Builder builder) {\r\n        builder\r\n                .allowBlockingCallsInside(\r\n                        UUID.class.getName(),\r\n                        &quot;randomUUID&quot;\r\n                )\r\n                .allowBlockingCallsInside(\r\n                        &quot;software.amazon.awssdk.http.nio.netty.internal.BetterSimpleChannelPool&quot;,\r\n                        &quot;close&quot;\r\n                )\r\n                .allowBlockingCallsInside(\r\n                        &quot;org.springframework.validation.beanvalidation.MethodValidationInterceptor&quot;,\r\n                        &quot;invoke&quot;\r\n                )\r\n        ;\r\n    }\r\n\r\nPlease is there something I need to do differently to make this work? I have gone through the stack trace, but I don&#39;t have much understanding of what the issue could be. I tried allowing calls from beanVaildation in blockhound like so:\r\n\r\n    .allowBlockingCallsInside(\r\n                            &quot;org.springframework.validation.beanvalidation.MethodValidationInterceptor&quot;,\r\n                            &quot;invoke&quot;\r\n                    )\r\n\r\nBut the issue still persists. \r\n\r\n","title":"Why is Blockhound detecting a blocking call after I added r2dbms to spring?","body":"<p>I added postgres support to my application, but when I try to run the tests, I keep getting a blocking call error from blockhound, and I'm not sure why this is happening. The application it's runs fine, only the tests fail with the blocking call error.</p>\n<p>These are my app dependencies:</p>\n<pre><code>    plugins {\n    id 'org.springframework.boot'\n}\n\n    dependencies {\n        annotationProcessor 'org.projectlombok:lombok'\n        testAnnotationProcessor 'org.projectlombok:lombok'\n        compileOnly 'org.projectlombok:lombok'\n        testCompileOnly 'org.projectlombok:lombok'\n    implementation 'io.projectreactor:reactor-tools'\n\n    implementation 'software.amazon.awssdk:dynamodb-enhanced'\n\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis-reactive'\n\n    implementation 'org.springframework.boot:spring-boot-starter-data-r2dbc'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'io.r2dbc:r2dbc-postgresql'\n    implementation 'org.postgresql:postgresql'\n    implementation 'org.flywaydb:flyway-core'\n\n    implementation 'com.github.bsideup.liiklus:client'\n\n    implementation 'com.auth0:java-jwt'\n\n    implementation 'org.springdoc:springdoc-openapi-webflux-core'\n    implementation 'org.springdoc:springdoc-openapi-security'\n    implementation 'org.springdoc:springdoc-openapi-webflux-ui'\n\n    runtimeOnly 'io.sentry:sentry-logback'\n\n    testRuntimeOnly 'io.sentry:sentry-logback'\n\n    testImplementation 'com.amazonaws:aws-java-sdk-dynamodb'\n    testImplementation 'com.github.bsideup.liiklus:testing'\n    testImplementation 'io.projectreactor.tools:blockhound-junit-platform'\n    testImplementation 'io.projectreactor:reactor-test'\n    testImplementation 'io.rest-assured:rest-assured'\n    testImplementation 'org.assertj:assertj-core'\n    testImplementation 'org.awaitility:awaitility'\n    testImplementation 'org.bouncycastle:bcprov-jdk15on'\n    testImplementation 'org.mock-server:mockserver-client-java'\n    testImplementation 'org.mock-server:mockserver-netty'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.testcontainers:localstack'\n    testImplementation &quot;org.testcontainers:testcontainers&quot;\n    testImplementation 'org.testcontainers:mockserver'\n    testImplementation &quot;org.testcontainers:junit-jupiter&quot;\n\n    testImplementation &quot;org.testcontainers:postgresql&quot;\n    testImplementation &quot;org.testcontainers:r2dbc&quot;\n\n    testRuntimeOnly &quot;net.java.dev.jna:jna:5.12.1&quot;\n\n    //http://github.com/gradle/gradle/issues/8806 requires platform launcher in test runtime explicitly\n    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'\n}\n</code></pre>\n<p>Then I added these dependencies in the project build.gradle:</p>\n<pre><code>        dependency 'io.r2dbc:r2dbc-postgresql:0.8.12.RELEASE'\n        dependency 'org.flywaydb:flyway-core:8.5.10'\n        testImplementation 'org.postgresql:postgresql'\n</code></pre>\n<p>Then I have a test container logic like so:</p>\n<pre><code>var jdbcUrl = postgresqlContainer.getJdbcUrl();\n    var r2dbcUrl = jdbcUrl.replaceAll(&quot;jdbc&quot;, &quot;r2dbc&quot;);\n\n    log.info(&quot;Set JDBC url: {}&quot;, jdbcUrl);\n    log.info(&quot;Set R2DBC url: {}&quot;, r2dbcUrl);\n\n    System.getProperties().put(&quot;spring.flyway.url&quot;, jdbcUrl);\n    System.getProperties().put(&quot;spring.r2dbc.url&quot;, r2dbcUrl);\n\n    Flyway flyway = Flyway.configure().dataSource(\n            postgresqlContainer.getJdbcUrl(),\n            postgresqlContainer.getUsername(),\n            postgresqlContainer.getPassword()\n    ).load();\n\n    flyway.migrate();\n</code></pre>\n<p>Finally I had some configurations in app.yml, for setting test postgres url and credentials. And that's basically it. But when I run the tests, I get this error/stack trace:</p>\n<pre><code>    reactor.blockhound.BlockingOperationError: Blocking call! java.io.RandomAccessFile#readBytes\n    at java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java)\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nAssembly trace from producer [reactor.core.publisher.MonoFlatMap] :\n    reactor.core.publisher.Mono.flatMap\n    org.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:137)\nError has been observed at the following site(s):\n    |_           Mono.flatMap ⇢ at org.springframework.web.reactive.result.method.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:137)\n    |_                        ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$1(RequestMappingHandlerAdapter.java:199)\n    |_             Mono.defer ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:199)\n    |_              Mono.then ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:199)\n    |_          Mono.doOnNext ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:200)\n    |_          Mono.doOnNext ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:201)\n    |_             Mono.error ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handleException(RequestMappingHandlerAdapter.java:235)\n    |_                        ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.lambda$handle$0(RequestMappingHandlerAdapter.java:195)\n    |_     Mono.onErrorResume ⇢ at org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerAdapter.handle(RequestMappingHandlerAdapter.java:202)\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_     Mono.switchIfEmpty ⇢ at org.springframework.security.web.server.authorization.AuthorizationWebFilter.filter(AuthorizationWebFilter.java:55)\n    |_             checkpoint ⇢ org.springframework.security.web.server.authorization.AuthorizationWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_     Mono.onErrorResume ⇢ at org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter.filter(ExceptionTranslationWebFilter.java:44)\n    |_             checkpoint ⇢ org.springframework.security.web.server.authorization.ExceptionTranslationWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_              Mono.then ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\n    |_     Mono.switchIfEmpty ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\n    |_               Mono.map ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:62)\n    |_           Mono.flatMap ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:63)\n    |_           Mono.flatMap ⇢ at org.springframework.security.web.server.authentication.logout.LogoutWebFilter.filter(LogoutWebFilter.java:63)\n    |_             checkpoint ⇢ org.springframework.security.web.server.authentication.logout.LogoutWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter.lambda$filter$1(ServerRequestCacheWebFilter.java:39)\n    |_           Mono.flatMap ⇢ at org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter.filter(ServerRequestCacheWebFilter.java:39)\n    |_             checkpoint ⇢ org.springframework.security.web.server.savedrequest.ServerRequestCacheWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter.filter(SecurityContextServerWebExchangeWebFilter.java:38)\n    |_             checkpoint ⇢ org.springframework.security.web.server.context.SecurityContextServerWebExchangeWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.security.web.server.authentication.WebFilterChainServerAuthenticationSuccessHandler.onAuthenticationSuccess(WebFilterChainServerAuthenticationSuccessHandler.java:36)\n    |_              Mono.then ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.onAuthenticationSuccess(AuthenticationWebFilter.java:135)\n    |_ Mono.subscriberContext ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.onAuthenticationSuccess(AuthenticationWebFilter.java:136)\n    |_                        ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.lambda$authenticate$7(AuthenticationWebFilter.java:124)\n    |_           Mono.flatMap ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.authenticate(AuthenticationWebFilter.java:124)\n    |_         Mono.doOnError ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.authenticate(AuthenticationWebFilter.java:126)\n    |_                        ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.lambda$filter$3(AuthenticationWebFilter.java:114)\n    |_           Mono.flatMap ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.filter(AuthenticationWebFilter.java:114)\n    |_     Mono.onErrorResume ⇢ at org.springframework.security.web.server.authentication.AuthenticationWebFilter.filter(AuthenticationWebFilter.java:115)\n    |_             checkpoint ⇢ org.springframework.security.web.server.authentication.AuthenticationWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_ Mono.subscriberContext ⇢ at org.springframework.security.web.server.context.ReactorContextWebFilter.filter(ReactorContextWebFilter.java:47)\n    |_             checkpoint ⇢ org.springframework.security.web.server.context.ReactorContextWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.lambda$continueFilterChain$10(CsrfWebFilter.java:165)\n    |_             Mono.defer ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.continueFilterChain(CsrfWebFilter.java:162)\n    |_              Mono.then ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:124)\n    |_     Mono.switchIfEmpty ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:124)\n    |_     Mono.onErrorResume ⇢ at org.springframework.security.web.server.csrf.CsrfWebFilter.filter(CsrfWebFilter.java:125)\n    |_             checkpoint ⇢ org.springframework.security.web.server.csrf.CsrfWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.security.web.server.header.HttpHeaderWriterWebFilter.filter(HttpHeaderWriterWebFilter.java:44)\n    |_             checkpoint ⇢ org.springframework.security.web.server.header.HttpHeaderWriterWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_ Mono.subscriberContext ⇢ at org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter.filter(ServerHttpSecurity.java:2936)\n    |_             checkpoint ⇢ org.springframework.security.config.web.server.ServerHttpSecurity$ServerWebExchangeReactorContextWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.web.server.handler.FilteringWebHandler.handle(FilteringWebHandler.java:59)\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.security.web.server.WebFilterChainProxy.lambda$filter$4(WebFilterChainProxy.java:56)\n    |_           Mono.flatMap ⇢ at org.springframework.security.web.server.WebFilterChainProxy.filter(WebFilterChainProxy.java:56)\n    |_             checkpoint ⇢ org.springframework.security.web.server.WebFilterChainProxy [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_          Mono.doOnEach ⇢ at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:87)\n    |_        Mono.doOnCancel ⇢ at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:88)\n    |_ Mono.transformDeferred ⇢ at org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter.filter(MetricsWebFilter.java:82)\n    |_             checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\n    |_                        ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.lambda$filter$0(DefaultWebFilterChain.java:120)\n    |_             Mono.defer ⇢ at org.springframework.web.server.handler.DefaultWebFilterChain.filter(DefaultWebFilterChain.java:119)\n    |_                        ⇢ at org.springframework.web.server.handler.FilteringWebHandler.handle(FilteringWebHandler.java:59)\n    |_                        ⇢ at org.springframework.web.server.handler.WebHandlerDecorator.handle(WebHandlerDecorator.java:56)\n    |_             Mono.error ⇢ at org.springframework.web.server.handler.ExceptionHandlingWebHandler$CheckpointInsertingHandler.handle(ExceptionHandlingWebHandler.java:98)\n    |_             checkpoint ⇢ HTTP GET &quot;/subjects/me/services/health&quot; [ExceptionHandlingWebHandler]\n    |_                        ⇢ at org.springframework.web.server.handler.ExceptionHandlingWebHandler.lambda$handle$0(ExceptionHandlingWebHandler.java:77)\n    |_     Mono.onErrorResume ⇢ at org.springframework.web.server.handler.ExceptionHandlingWebHandler.handle(ExceptionHandlingWebHandler.java:77)\nStack trace:\n        at java.base/java.io.RandomAccessFile.readBytes(RandomAccessFile.java)\n        at java.base/java.io.RandomAccessFile.read(RandomAccessFile.java:404)\n        at java.base/java.io.RandomAccessFile.readFully(RandomAccessFile.java:468)\n        at java.base/java.util.zip.ZipFile$Source.readFullyAt(ZipFile.java:1314)\n        at java.base/java.util.zip.ZipFile$ZipFileInputStream.initDataOffset(ZipFile.java:913)\n        at java.base/java.util.zip.ZipFile$ZipFileInputStream.read(ZipFile.java:929)\n        at java.base/java.util.zip.ZipFile$ZipFileInflaterInputStream.fill(ZipFile.java:446)\n        at java.base/java.util.zip.InflaterInputStream.read(InflaterInputStream.java:158)\n        at java.base/java.io.InputStream.readNBytes(InputStream.java:506)\n        at java.base/java.util.jar.JarFile.getBytes(JarFile.java:813)\n        at java.base/java.util.jar.JarFile.checkForSpecialAttributes(JarFile.java:1003)\n        at java.base/java.util.jar.JarFile.isMultiRelease(JarFile.java:390)\n        at java.base/java.util.jar.JarFile.getEntry(JarFile.java:512)\n        at java.base/sun.net.www.protocol.jar.URLJarFile.getEntry(URLJarFile.java:131)\n        at java.base/sun.net.www.protocol.jar.JarURLConnection.connect(JarURLConnection.java:137)\n        at java.base/sun.net.www.protocol.jar.JarURLConnection.getInputStream(JarURLConnection.java:155)\n        at java.base/java.util.ResourceBundle$Control$2.run(ResourceBundle.java:3227)\n        at java.base/java.util.ResourceBundle$Control$2.run(ResourceBundle.java:3216)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:554)\n        at java.base/java.util.ResourceBundle$Control.newBundle(ResourceBundle.java:3215)\n        at java.base/java.util.ResourceBundle.loadBundle(ResourceBundle.java:1987)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1769)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1721)\n        at java.base/java.util.ResourceBundle.findBundle(ResourceBundle.java:1721)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1655)\n        at java.base/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586)\n        at java.base/java.util.ResourceBundle.getBundle(ResourceBundle.java:1278)\n        at org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.loadBundle(PlatformResourceBundleLocator.java:234)\n        at org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.doGetResourceBundle(PlatformResourceBundleLocator.java:199)\n        at org.hibernate.validator.resourceloading.PlatformResourceBundleLocator.getResourceBundle(PlatformResourceBundleLocator.java:183)\n        at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.resolveMessage(AbstractMessageInterpolator.java:455)\n        at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.lambda$interpolateMessage$0(AbstractMessageInterpolator.java:399)\n        at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)\n        at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolateMessage(AbstractMessageInterpolator.java:399)\n        at org.hibernate.validator.messageinterpolation.AbstractMessageInterpolator.interpolate(AbstractMessageInterpolator.java:355)\n        at org.springframework.validation.beanvalidation.LocaleContextMessageInterpolator.interpolate(LocaleContextMessageInterpolator.java:51)\n        at org.hibernate.validator.internal.engine.validationcontext.AbstractValidationContext.interpolate(AbstractValidationContext.java:322)\n        at org.hibernate.validator.internal.engine.validationcontext.AbstractValidationContext.addConstraintFailure(AbstractValidationContext.java:231)\n        at org.hibernate.validator.internal.engine.validationcontext.ParameterExecutableValidationContext.addConstraintFailure(ParameterExecutableValidationContext.java:38)\n        at org.hibernate.validator.internal.engine.constraintvalidation.ConstraintTree.validateConstraints(ConstraintTree.java:79)\n        at org.hibernate.validator.internal.metadata.core.MetaConstraint.doValidateConstraint(MetaConstraint.java:130)\n        at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:123)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraint(ValidatorImpl.java:555)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateMetaConstraints(ValidatorImpl.java:537)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForSingleGroup(ValidatorImpl.java:991)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersForGroup(ValidatorImpl.java:932)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParametersInContext(ValidatorImpl.java:863)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:283)\n        at org.hibernate.validator.internal.engine.ValidatorImpl.validateParameters(ValidatorImpl.java:235)\n        at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:110)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n        at services.vivy.integrations.api.ServicesApi$$EnhancerBySpringCGLIB$$60998295.getServiceIntegrations(&lt;generated&gt;)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:146)\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\n        at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:251)\n        at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:336)\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1815)\n        at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onComplete(FluxDefaultIfEmpty.java:108)\n        at reactor.core.publisher.Operators.complete(Operators.java:136)\n        at reactor.core.publisher.MonoEmpty.subscribe(MonoEmpty.java:45)\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4150)\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:128)\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\n</code></pre>\n<p>I also have a blockhound configuration class:</p>\n<pre><code>    @Override\npublic void applyTo(BlockHound.Builder builder) {\n    builder\n            .allowBlockingCallsInside(\n                    UUID.class.getName(),\n                    &quot;randomUUID&quot;\n            )\n            .allowBlockingCallsInside(\n                    &quot;software.amazon.awssdk.http.nio.netty.internal.BetterSimpleChannelPool&quot;,\n                    &quot;close&quot;\n            )\n            .allowBlockingCallsInside(\n                    &quot;org.springframework.validation.beanvalidation.MethodValidationInterceptor&quot;,\n                    &quot;invoke&quot;\n            )\n    ;\n}\n</code></pre>\n<p>Please is there something I need to do differently to make this work? I have gone through the stack trace, but I don't have much understanding of what the issue could be. I tried allowing calls from beanVaildation in blockhound like so:</p>\n<pre><code>.allowBlockingCallsInside(\n                        &quot;org.springframework.validation.beanvalidation.MethodValidationInterceptor&quot;,\n                        &quot;invoke&quot;\n                )\n</code></pre>\n<p>But the issue still persists.</p>\n"},{"tags":["java","converters","currency"],"comments":[{"owner":{"account_id":3359942,"reputation":4710,"user_id":2821954,"display_name":"Andrew T."},"score":6,"creation_date":1413772105,"post_id":26457601,"comment_id":41555588,"body_markdown":"I assume this program works (as you wrote there)? If it is, then it&#39;s better to post it in [codereview.se] instead.","body":"I assume this program works (as you wrote there)? If it is, then it&#39;s better to post it in <a href=\"https://codereview.stackexchange.com\">Code Review</a> instead."}],"answers":[{"tags":[],"owner":{"account_id":4732429,"reputation":78,"user_id":3827664,"display_name":"DasScooter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413771552,"creation_date":1413771552,"answer_id":26457681,"question_id":26457601,"body_markdown":"I am always cautious of using integer input. If someone types a char, your program would likely crash as an exception would occur. Accepting a char of the number might be a safer alternative.\r\n\r\nWhen you check the &quot;choice&quot; and &quot;output&quot; in the same if statement it requires more resources. Nesting the if statements might improve efficiency. This would be having the if statement for choice with the if statements for output within them.","title":"Basic Currency Converter - Looking for feedback","body":"<p>I am always cautious of using integer input. If someone types a char, your program would likely crash as an exception would occur. Accepting a char of the number might be a safer alternative.</p>\n\n<p>When you check the \"choice\" and \"output\" in the same if statement it requires more resources. Nesting the if statements might improve efficiency. This would be having the if statement for choice with the if statements for output within them.</p>\n"},{"tags":[],"owner":{"account_id":4654736,"reputation":316,"user_id":3770608,"display_name":"Luc Berthiaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413772150,"creation_date":1413772150,"answer_id":26457752,"question_id":26457601,"body_markdown":"Since you refer to your currency as int, I would use an n by m matrix for storing the exchange rate.  n would be the first currency and m the second.  With both int you can retrace the correct exchange rate.\r\n\r\nThe diagonal in the matrix would be 1 (since USD &gt;&gt; USD =1 ).\r\n\r\nFinally, write a function to compute the exchange rate and return the corresponding text (you can use an hashmap for that, with the int as a key and the name ( string) as the value)\r\n\r\n    exchange_rate = currency[1][2];\r\n\r\n      \r\n    HashMap hm = new HashMap();\r\n\r\n    hm.put(1, new string(&quot;USD&quot;);\r\n\r\netc...","title":"Basic Currency Converter - Looking for feedback","body":"<p>Since you refer to your currency as int, I would use an n by m matrix for storing the exchange rate.  n would be the first currency and m the second.  With both int you can retrace the correct exchange rate.</p>\n\n<p>The diagonal in the matrix would be 1 (since USD >> USD =1 ).</p>\n\n<p>Finally, write a function to compute the exchange rate and return the corresponding text (you can use an hashmap for that, with the int as a key and the name ( string) as the value)</p>\n\n<pre><code>exchange_rate = currency[1][2];\n\n\nHashMap hm = new HashMap();\n\nhm.put(1, new string(\"USD\");\n</code></pre>\n\n<p>etc...</p>\n"},{"tags":[],"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413774633,"creation_date":1413774633,"answer_id":26458027,"question_id":26457601,"body_markdown":"Express all of your rates as a multiplier of one standard value, for instance use the USD as the standard value.  Then the conversion values for GBP would be 1.60, the USD would be 1.0 and the Euro would be 1.29.  Then the conversion calculation would be:\r\n\r\nFrom Value * From Conversion * 1/To Conversion\r\n\r\nFor instance from 1 GBP to Euro would be:\r\n\r\n1 * 1.60 * (1/1.29) = 1.24 \r\n\r\nIf  you store all of your rates in a HashMap&lt;Integer, Double&gt; then you can avoid the switch statements completely.","title":"Basic Currency Converter - Looking for feedback","body":"<p>Express all of your rates as a multiplier of one standard value, for instance use the USD as the standard value.  Then the conversion values for GBP would be 1.60, the USD would be 1.0 and the Euro would be 1.29.  Then the conversion calculation would be:</p>\n\n<p>From Value * From Conversion * 1/To Conversion</p>\n\n<p>For instance from 1 GBP to Euro would be:</p>\n\n<p>1 * 1.60 * (1/1.29) = 1.24 </p>\n\n<p>If  you store all of your rates in a HashMap then you can avoid the switch statements completely.</p>\n"},{"tags":[],"owner":{"account_id":7837687,"reputation":1295,"user_id":5925085,"accept_rate":97,"display_name":"Tano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473246626,"creation_date":1473246626,"answer_id":39368306,"question_id":26457601,"body_markdown":"Why you are using this way to convert currency. You have the **JSR 354 Money and Currency API** here are some examples you can use, its really easy to use and fast:\r\n\r\n    MonetaryAmount&#160;monetaryAmount&#160;=&#160;Money.of(100.20,&#160;usd);\r\n    CurrencyUnit&#160;currency&#160;=&#160;monetaryAmount.getCurrency();\r\n    NumberValue&#160;numberValue&#160;=&#160;monetaryAmount.getNumber();\r\n    &#160;\r\n    int&#160;value=&#160;numberValue.intValue();","title":"Basic Currency Converter - Looking for feedback","body":"<p>Why you are using this way to convert currency. You have the <strong>JSR 354 Money and Currency API</strong> here are some examples you can use, its really easy to use and fast:</p>\n\n<pre><code>MonetaryAmount monetaryAmount = Money.of(100.20, usd);\nCurrencyUnit currency = monetaryAmount.getCurrency();\nNumberValue numberValue = monetaryAmount.getNumber();\n \nint value= numberValue.intValue();\n</code></pre>\n"}],"owner":{"account_id":5197257,"reputation":73,"user_id":4158039,"accept_rate":83,"display_name":"2redgoose"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23021,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1692961620,"creation_date":1413770801,"question_id":26457601,"body_markdown":"This is my basic currency converter for my intro to java class. I&#39;m supposed to be able to convert between yen, dollars, pounds and euros using static rates. It works, but I was curious to know if I did it in the most efficient way possible. It seems quite long and looks like a huge mess. Just wanting some feedback.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class currency\r\n    {\r\n       \r\n         public currency()\r\n        {\r\n            char us_dollar_sym = 36;\r\n            char pound_sym = 163;\r\n            char yen_sym = 165;\r\n            char euro_sym = 8364; \r\n        \r\n            String us_dollar = &quot;Dollars&quot;; \r\n            String pound = &quot;Pounds&quot;;\r\n            String yen = &quot;Yen&quot;;\r\n            String euro = &quot;Euros&quot;;\r\n            double rate = 0;\r\n            \r\n          \r\n            // Interface\r\n            System.out.println(&quot;Welcome to the Currency Converter Program \\n&quot;);\r\n            System.out.println(&quot;Use the following codes to input your currency choices: \\n 1 - US dollars \\n 2 - Euros \\n 3 - British Pounds \\n 4 - Japanese Yen \\n&quot;);\r\n           \r\n            // \r\n            System.out.println(&quot;Please choose the input currency:&quot;);\r\n            Scanner in = new Scanner(System.in);\r\n            int choice = in.nextInt(); \r\n            \r\n           String inType = null;\r\n            switch(choice) {\r\n            case 1: inType = &quot;US Dollars &gt;&gt; &quot; + us_dollar_sym;  break;\r\n            case 2: inType = &quot;Euros &gt;&gt; &quot; + euro_sym; break;\r\n            case 3: inType = &quot;British Pounds &gt;&gt; &quot; + pound_sym; break;\r\n            case 4: inType = &quot;Japanese Yen &gt;&gt; &quot; + yen_sym; break;\r\n            default:\r\n            System.out.println(&quot;Please restart the program &amp; enter a number from the list.&quot;);\r\n            return;\r\n          }\r\n    \r\n            System.out.println(&quot;Please choose the output currency&quot;);\r\n            int output = in.nextInt();\r\n            \r\n            System.out.printf(&quot;Now enter the input in &quot; + inType);\r\n            double input = in.nextDouble(); \r\n            \r\n          if (choice == output) \r\n            System.out.println(&quot;Same currency no need to convert&quot;);\r\n       \r\n          if (choice == 1 &amp;&amp; output == 2)\r\n            { \r\n               double dollar_euro_rate = 0.78391;\r\n               rate = input * dollar_euro_rate;\r\n               System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + dollar_euro_rate + &quot; Dollars to %s = %.2f\\n&quot;, (char)us_dollar_sym, euro, rate);\r\n            }\r\n            else if (choice == 1 &amp;&amp; output == 3){ \r\n               double dollar_pound_rate = 0.621484;\r\n               rate = input * dollar_pound_rate;\r\n               System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + dollar_pound_rate + &quot; Dollars to %s = %.2f\\n&quot;, (char)us_dollar_sym, pound, rate);\r\n            }\r\n            else if (choice == 1 &amp;&amp; output == 4){ \r\n              double dollar_yen_rate = 107.174;\r\n              rate = input * dollar_yen_rate;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + dollar_yen_rate + &quot; Dollars to %s = %.2f\\n&quot;, (char)us_dollar_sym, yen, rate);\r\n            }\r\n          if (choice == 2 &amp;&amp; output == 1)\r\n          {\r\n              double euro_dollar_rate = 1.27579;\r\n              rate = input * euro_dollar_rate;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + euro_dollar_rate + &quot; Euros to %s = %.2f\\n&quot;, (char)euro_sym, us_dollar, rate);\r\n            }\r\n            else if (choice == 2 &amp;&amp; output == 3)\r\n            {\r\n              double euro_pound_rate = 0.792648;\r\n              rate = input * euro_pound_rate;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + euro_pound_rate + &quot; Euros to %s = %.2f\\n&quot;, (char)euro_sym, pound, rate);\r\n            }\r\n            else if (choice == 2 &amp;&amp; output == 4)\r\n            {\r\n              double euro_yen_rate = 136.708;\r\n              rate = input * euro_yen_rate;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + euro_yen_rate + &quot; Euros to %s = %.2f\\n&quot;, (char)euro_sym, yen, rate);\r\n            }\r\n          if (choice == 3 &amp;&amp; output == 1)\r\n          {\r\n              double pound_dollar_rate = 1.60972;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + pound_dollar_rate + &quot; Pounds to %s = %.2f\\n&quot;, (char)pound_sym, us_dollar, rate);\r\n            }\r\n            else if (choice == 3 &amp;&amp; output == 2)\r\n            {\r\n              double pound_euro_rate = 1.26161;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + pound_euro_rate + &quot; Pounds to %s = %.2f\\n&quot;, (char)pound_sym, euro, rate);\r\n            }\r\n            else if (choice == 3 &amp;&amp; output == 4)\r\n            {\r\n              double pound_yen_rate = 172.511;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + pound_yen_rate + &quot; Pounds to %s = %.2f\\n&quot;, (char)pound_sym, yen, rate);\r\n            }\r\n          if (choice == 4 &amp;&amp; output == 1)\r\n          { \r\n              double yen_dollar_rate = 0.00932574;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + yen_dollar_rate + &quot; Yen to %s = %.2f\\n&quot;, (char)yen_sym, us_dollar, rate);\r\n            }\r\n            else if (choice == 4 &amp;&amp; output == 2)\r\n            { \r\n              double yen_euro_rate = 0.00730615;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + yen_euro_rate + &quot; Yen to %s = %.2f\\n&quot;, (char)yen_sym, euro, rate);\r\n            }\r\n            else if (choice == 4 &amp;&amp; output == 3)\r\n            {\r\n              double yen_pound_rate = 0.00579135;\r\n              System.out.printf( &quot;%s&quot; + input + &quot; at a conversion rate of &quot; + yen_pound_rate + &quot; Yen to %s = %.2f\\n&quot;, (char)yen_sym, pound, rate);\r\n            }\r\n           System.out.println(&quot;Thank you for using the currency converter&quot;);\r\n        }\r\n    }","title":"Basic Currency Converter - Looking for feedback","body":"<p>This is my basic currency converter for my intro to java class. I'm supposed to be able to convert between yen, dollars, pounds and euros using static rates. It works, but I was curious to know if I did it in the most efficient way possible. It seems quite long and looks like a huge mess. Just wanting some feedback.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class currency\n{\n\n     public currency()\n    {\n        char us_dollar_sym = 36;\n        char pound_sym = 163;\n        char yen_sym = 165;\n        char euro_sym = 8364; \n\n        String us_dollar = \"Dollars\"; \n        String pound = \"Pounds\";\n        String yen = \"Yen\";\n        String euro = \"Euros\";\n        double rate = 0;\n\n\n        // Interface\n        System.out.println(\"Welcome to the Currency Converter Program \\n\");\n        System.out.println(\"Use the following codes to input your currency choices: \\n 1 - US dollars \\n 2 - Euros \\n 3 - British Pounds \\n 4 - Japanese Yen \\n\");\n\n        // \n        System.out.println(\"Please choose the input currency:\");\n        Scanner in = new Scanner(System.in);\n        int choice = in.nextInt(); \n\n       String inType = null;\n        switch(choice) {\n        case 1: inType = \"US Dollars &gt;&gt; \" + us_dollar_sym;  break;\n        case 2: inType = \"Euros &gt;&gt; \" + euro_sym; break;\n        case 3: inType = \"British Pounds &gt;&gt; \" + pound_sym; break;\n        case 4: inType = \"Japanese Yen &gt;&gt; \" + yen_sym; break;\n        default:\n        System.out.println(\"Please restart the program &amp; enter a number from the list.\");\n        return;\n      }\n\n        System.out.println(\"Please choose the output currency\");\n        int output = in.nextInt();\n\n        System.out.printf(\"Now enter the input in \" + inType);\n        double input = in.nextDouble(); \n\n      if (choice == output) \n        System.out.println(\"Same currency no need to convert\");\n\n      if (choice == 1 &amp;&amp; output == 2)\n        { \n           double dollar_euro_rate = 0.78391;\n           rate = input * dollar_euro_rate;\n           System.out.printf( \"%s\" + input + \" at a conversion rate of \" + dollar_euro_rate + \" Dollars to %s = %.2f\\n\", (char)us_dollar_sym, euro, rate);\n        }\n        else if (choice == 1 &amp;&amp; output == 3){ \n           double dollar_pound_rate = 0.621484;\n           rate = input * dollar_pound_rate;\n           System.out.printf( \"%s\" + input + \" at a conversion rate of \" + dollar_pound_rate + \" Dollars to %s = %.2f\\n\", (char)us_dollar_sym, pound, rate);\n        }\n        else if (choice == 1 &amp;&amp; output == 4){ \n          double dollar_yen_rate = 107.174;\n          rate = input * dollar_yen_rate;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + dollar_yen_rate + \" Dollars to %s = %.2f\\n\", (char)us_dollar_sym, yen, rate);\n        }\n      if (choice == 2 &amp;&amp; output == 1)\n      {\n          double euro_dollar_rate = 1.27579;\n          rate = input * euro_dollar_rate;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + euro_dollar_rate + \" Euros to %s = %.2f\\n\", (char)euro_sym, us_dollar, rate);\n        }\n        else if (choice == 2 &amp;&amp; output == 3)\n        {\n          double euro_pound_rate = 0.792648;\n          rate = input * euro_pound_rate;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + euro_pound_rate + \" Euros to %s = %.2f\\n\", (char)euro_sym, pound, rate);\n        }\n        else if (choice == 2 &amp;&amp; output == 4)\n        {\n          double euro_yen_rate = 136.708;\n          rate = input * euro_yen_rate;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + euro_yen_rate + \" Euros to %s = %.2f\\n\", (char)euro_sym, yen, rate);\n        }\n      if (choice == 3 &amp;&amp; output == 1)\n      {\n          double pound_dollar_rate = 1.60972;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + pound_dollar_rate + \" Pounds to %s = %.2f\\n\", (char)pound_sym, us_dollar, rate);\n        }\n        else if (choice == 3 &amp;&amp; output == 2)\n        {\n          double pound_euro_rate = 1.26161;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + pound_euro_rate + \" Pounds to %s = %.2f\\n\", (char)pound_sym, euro, rate);\n        }\n        else if (choice == 3 &amp;&amp; output == 4)\n        {\n          double pound_yen_rate = 172.511;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + pound_yen_rate + \" Pounds to %s = %.2f\\n\", (char)pound_sym, yen, rate);\n        }\n      if (choice == 4 &amp;&amp; output == 1)\n      { \n          double yen_dollar_rate = 0.00932574;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + yen_dollar_rate + \" Yen to %s = %.2f\\n\", (char)yen_sym, us_dollar, rate);\n        }\n        else if (choice == 4 &amp;&amp; output == 2)\n        { \n          double yen_euro_rate = 0.00730615;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + yen_euro_rate + \" Yen to %s = %.2f\\n\", (char)yen_sym, euro, rate);\n        }\n        else if (choice == 4 &amp;&amp; output == 3)\n        {\n          double yen_pound_rate = 0.00579135;\n          System.out.printf( \"%s\" + input + \" at a conversion rate of \" + yen_pound_rate + \" Yen to %s = %.2f\\n\", (char)yen_sym, pound, rate);\n        }\n       System.out.println(\"Thank you for using the currency converter\");\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","json","parsing","webclient"],"comments":[{"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1693064652,"post_id":76976507,"comment_id":135711971,"body_markdown":"your JSON response is an array, yet you are trying to parse it to an object.","body":"your JSON response is an array, yet you are trying to parse it to an object."},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1693152621,"post_id":76976507,"comment_id":135719409,"body_markdown":"so should I convert private List&lt;Error&gt; errors to array?","body":"so should I convert private List&lt;Error&gt; errors to array?"},{"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1693154106,"post_id":76976507,"comment_id":135719588,"body_markdown":"No, you should parse your JSON to a `List&lt;Response&gt;`","body":"No, you should parse your JSON to a <code>List&lt;Response&gt;</code>"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692960759,"creation_date":1692960759,"question_id":76976507,"body_markdown":"I am trying to map failed response of an api to a java class. The failed response looks like this . The 200OK response is getting mapped correctly in ordersList object but in failure scenario , server is returning below json (I cannot change the response owned by 3rdParty)\r\n\r\n    [\r\n        {\r\n        &quot;errorCode&quot;: &quot;404&quot;,\r\n        &quot;errorMessage&quot;: &quot;Data not found&quot;\r\n        }\r\n    ] \r\n\r\nPojo\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Data\r\n    @Builder\r\n    public class Response {\r\n\r\n    private int total;\r\n    private String errorCode;\r\n    private String errorMessage;\r\n    private String description;\r\n    private List&lt;Order&gt; ordersList;\r\n    private List&lt;Error&gt; errors;\r\n    }\r\n\r\nThis is how I am calling the api\r\n\r\n      Response response =\r\n          webClient\r\n              .post()\r\n              .uri(url, uri -&gt; uri.queryParam(Constants.QUERY_PARAM).build())\r\n              .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n              .bodyValue(request)\r\n              .retrieve()\r\n              .bodyToMono(Response.class)\r\n              .block();\r\n   ","title":"Parse JsonArray without any root to POJO class in Java","body":"<p>I am trying to map failed response of an api to a java class. The failed response looks like this . The 200OK response is getting mapped correctly in ordersList object but in failure scenario , server is returning below json (I cannot change the response owned by 3rdParty)</p>\n<pre><code>[\n    {\n    &quot;errorCode&quot;: &quot;404&quot;,\n    &quot;errorMessage&quot;: &quot;Data not found&quot;\n    }\n] \n</code></pre>\n<p>Pojo</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@Data\n@Builder\npublic class Response {\n\nprivate int total;\nprivate String errorCode;\nprivate String errorMessage;\nprivate String description;\nprivate List&lt;Order&gt; ordersList;\nprivate List&lt;Error&gt; errors;\n}\n</code></pre>\n<p>This is how I am calling the api</p>\n<pre><code>  Response response =\n      webClient\n          .post()\n          .uri(url, uri -&gt; uri.queryParam(Constants.QUERY_PARAM).build())\n          .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n          .bodyValue(request)\n          .retrieve()\n          .bodyToMono(Response.class)\n          .block();\n</code></pre>\n"},{"tags":["java","web","tomcat","jaas"],"owner":{"account_id":19503247,"reputation":83,"user_id":14268800,"display_name":"ironmanAJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692960395,"creation_date":1692946307,"question_id":76974887,"body_markdown":"**Quick Question:** Does Tomcat authentication (JAAS) maintain the `HttpRequest` object throughout the authentication process?\r\n\r\nFor example, let&#39;s say the request has an attribute `id`. Is this attribute maintained after the authentication flow, such as:\r\n\r\n`Custom Form` -&gt; `LoginContext` -&gt; `Appropriate Login Module` -&gt; `Creation of user principal` -&gt; `Custom Form`?\r\n\r\nAfter all these processes, does the request still contain the `id`? If it is maintained, how exactly is it preserved?\r\n\r\nPS I am not talking about Callbacks. ","title":"Tomcat Authentication Request","body":"<p><strong>Quick Question:</strong> Does Tomcat authentication (JAAS) maintain the <code>HttpRequest</code> object throughout the authentication process?</p>\n<p>For example, let's say the request has an attribute <code>id</code>. Is this attribute maintained after the authentication flow, such as:</p>\n<p><code>Custom Form</code> -&gt; <code>LoginContext</code> -&gt; <code>Appropriate Login Module</code> -&gt; <code>Creation of user principal</code> -&gt; <code>Custom Form</code>?</p>\n<p>After all these processes, does the request still contain the <code>id</code>? If it is maintained, how exactly is it preserved?</p>\n<p>PS I am not talking about Callbacks.</p>\n"},{"tags":["java","android","speech-recognition","speech-to-text","android-13"],"owner":{"account_id":12518162,"reputation":1,"user_id":9110544,"display_name":"Zaid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692959925,"creation_date":1692955193,"question_id":76975870,"body_markdown":"I am building an android app and I&#39;m using speech recognition but while the app work just fine with Android 11 and any versions below, I&#39;ve encountered a roadblock with anything beyond Android 12. Despite investing a considerable amount of time into troubleshooting, the root cause of this issue is unknown to me. \r\n\r\nI even attempted to follow the suggestions provided in a related Stack Overflow post [**Here**](https://stackoverflow.com/questions/73516849/how-to-get-devices-default-speechservice-provider-android-api-13)\r\n\r\nUnfortunately, even after following these recommendations the result is the same.\r\n\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n           *************************\r\n\r\n          initSpeechRecognition(this);\r\n        speech.setRecognitionListener(this);\r\n        recognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;);\r\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\r\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,                 RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\r\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npublic void initSpeechRecognition(Activity activity) {\r\n        String recognitionServiceName = getAvailableVoiceRecognitionService(activity);\r\n        if (recognitionServiceName == null)\r\n            return;\r\n\r\n        speech = SpeechRecognizer.createSpeechRecognizer(activity,\r\n                ComponentName.unflattenFromString(recognitionServiceName));\r\n        Log.i(&quot;TEST&quot;, recognitionServiceName);\r\n    }\r\n\r\n    public static String getAvailableVoiceRecognitionService(Activity activity) {\r\n        final List&lt;ResolveInfo&gt; services = activity.getPackageManager().queryIntentServices(\r\n                new Intent(RecognitionService.SERVICE_INTERFACE), 0);\r\n\r\n        String recognitionServiceName = null;\r\n\r\n        for (final ResolveInfo info : services) {\r\n            String packageName = info.serviceInfo.packageName;\r\n            String serviceName = info.serviceInfo.name;\r\n\r\n            String testRecognitionServiceName = packageName + &quot;/&quot; + serviceName;\r\n\r\n            ServiceConnection connection = new ServiceConnection() {\r\n                @Override\r\n                public void onServiceConnected(ComponentName name, IBinder service) {\r\n                    Log.i(&quot;TEST&quot;, name + &quot;::&quot; + service);\r\n                }\r\n\r\n                @Override\r\n                public void onServiceDisconnected(ComponentName name) {\r\n                    Log.i(&quot;TEST&quot;, name + &quot;::Disconnected&quot;);\r\n                }\r\n            };\r\n\r\n            Intent serviceIntent = new Intent(RecognitionService.SERVICE_INTERFACE);\r\n\r\n            ComponentName recognizerServiceComponent = ComponentName.unflattenFromString(testRecognitionServiceName);\r\n\r\n            if (recognizerServiceComponent != null) {\r\n                serviceIntent.setComponent(recognizerServiceComponent);\r\n                try {\r\n                    boolean isServiceAvailableToBind = activity.bindService(serviceIntent, connection, Context.BIND_AUTO_CREATE);\r\n                    if (isServiceAvailableToBind) {\r\n                        activity.unbindService(connection);\r\n                        recognitionServiceName = testRecognitionServiceName;\r\n                        break;\r\n                    }\r\n                } catch (SecurityException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n\r\n        return recognitionServiceName;\r\n    }\r\n```\r\n\r\nand these are the rest of the methods\r\n\r\n\r\n```\r\n@Override\r\n    public void onBeginningOfSpeech() {\r\n        Log.i(VOICE_RECOGNITION, &quot;onBeginningOfSpeech&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onBufferReceived(byte[] buffer) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onBufferReceived: &quot; + Arrays.toString(buffer));\r\n    }\r\n\r\n    @Override\r\n    public void onEndOfSpeech() {\r\n        Log.i(VOICE_RECOGNITION, &quot;onEndOfSpeech&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onError(int errorCode) {\r\n        String errorMessage = getErrorText(errorCode);\r\n        Log.d(VOICE_RECOGNITION, &quot;FAILED &quot; + errorMessage);\r\n    }\r\n\r\n    @Override\r\n    public void onEvent(int arg0, Bundle arg1) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onEvent&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onPartialResults(Bundle arg0) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onPartialResults&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onReadyForSpeech(Bundle arg0) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onReadyForSpeech&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onResults(Bundle results) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onResults&quot;);\r\n        ArrayList&lt;String&gt; matches = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\r\n        StringBuilder text = new StringBuilder();\r\n        assert matches != null;\r\n        for (String result : matches) text.append(result).append(&quot;\\n&quot;);\r\n        audioToText.add(text.toString());\r\n        Log.i(VOICE_RECOGNITION, String.valueOf(audioToText));\r\n    }\r\n\r\n    @Override\r\n    public void onRmsChanged(float rmsdB) {\r\n        Log.i(VOICE_RECOGNITION, &quot;onRmsChanged: &quot; + rmsdB);\r\n    }\r\n\r\n    public static String getErrorText(int errorCode) {\r\n        String message;\r\n        switch (errorCode) {\r\n            case SpeechRecognizer.ERROR_AUDIO:\r\n                message = &quot;Audio recording error&quot;;\r\n                audioToText.add(&quot;audio recording error&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_CLIENT:\r\n                message = &quot;Client side error&quot;;\r\n                audioToText.add(&quot;client side error&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS:\r\n                message = &quot;Insufficient permissions&quot;;\r\n                audioToText.add(&quot;insufficient permissions&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_NETWORK:\r\n                message = &quot;Network error&quot;;\r\n                audioToText.add(&quot;network error&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_NETWORK_TIMEOUT:\r\n                message = &quot;Network timeout&quot;;\r\n                audioToText.add(&quot;network timeout&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_NO_MATCH:\r\n                message = &quot;No match&quot;;\r\n                audioToText.add(&quot;no audio detected&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_RECOGNIZER_BUSY:\r\n                message = &quot;RecognitionService busy&quot;;\r\n                audioToText.add(&quot;recognition service busy&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_SERVER:\r\n                message = &quot;error from server&quot;;\r\n                audioToText.add(&quot;error from server&quot;);\r\n                break;\r\n            case SpeechRecognizer.ERROR_SPEECH_TIMEOUT:\r\n                message = &quot;No speech input&quot;;\r\n                audioToText.add(&quot;no speech input&quot;);\r\n                break;\r\n            default:\r\n                message = &quot;Didn&#39;t understand, please try again.&quot;;\r\n                audioToText.add(&quot;no audio detected&quot;);\r\n                break;\r\n        }\r\n        return message;\r\n    }\r\n```\r\n\r\nI also have the code for startListening() and stopListening() in their appropriate positions and they are triggered just fine.\r\n\r\nhere is also my the part of the log that get triggered when the app start listening to the speech \r\n\r\n\r\n```\r\n2023-08-25 12:07:55.696 31209-31209 Voice Recognition     I  onReadyForSpeech\r\n2023-08-25 12:07:55.730 31209-31209 Voice Recognition     I  onRmsChanged: -2.0\r\n2023-08-25 12:07:58.091 31209-31209 Voice Recognition     D  FAILED No match\r\n```\r\n\r\n\r\nI know the app is working fine on a device with android 10 that I have but not with another device that has android 13 and I know that google had made some changes in the Speech Recognizer in android 12 and 13 but there is no place on the internet that properly show how you can implement the changes to the SpeechService and make it work on android 13 even on the official documentation website there is no single snippet of code to show how to implement speech recognition with android 13.\r\n\r\n\r\nCould anyone provide insights into this matter or suggest potential solutions? Your assistance would be immensely appreciated.\r\n","title":"Speech Recognition on Android 13","body":"<p>I am building an android app and I'm using speech recognition but while the app work just fine with Android 11 and any versions below, I've encountered a roadblock with anything beyond Android 12. Despite investing a considerable amount of time into troubleshooting, the root cause of this issue is unknown to me.</p>\n<p>I even attempted to follow the suggestions provided in a related Stack Overflow post <a href=\"https://stackoverflow.com/questions/73516849/how-to-get-devices-default-speechservice-provider-android-api-13\"><strong>Here</strong></a></p>\n<p>Unfortunately, even after following these recommendations the result is the same.</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n           *************************\n\n          initSpeechRecognition(this);\n        speech.setRecognitionListener(this);\n        recognizerIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_PREFERENCE, &quot;en&quot;);\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,                 RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n        recognizerIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, this.getPackageName());\n\n}\n</code></pre>\n<pre><code>public void initSpeechRecognition(Activity activity) {\n        String recognitionServiceName = getAvailableVoiceRecognitionService(activity);\n        if (recognitionServiceName == null)\n            return;\n\n        speech = SpeechRecognizer.createSpeechRecognizer(activity,\n                ComponentName.unflattenFromString(recognitionServiceName));\n        Log.i(&quot;TEST&quot;, recognitionServiceName);\n    }\n\n    public static String getAvailableVoiceRecognitionService(Activity activity) {\n        final List&lt;ResolveInfo&gt; services = activity.getPackageManager().queryIntentServices(\n                new Intent(RecognitionService.SERVICE_INTERFACE), 0);\n\n        String recognitionServiceName = null;\n\n        for (final ResolveInfo info : services) {\n            String packageName = info.serviceInfo.packageName;\n            String serviceName = info.serviceInfo.name;\n\n            String testRecognitionServiceName = packageName + &quot;/&quot; + serviceName;\n\n            ServiceConnection connection = new ServiceConnection() {\n                @Override\n                public void onServiceConnected(ComponentName name, IBinder service) {\n                    Log.i(&quot;TEST&quot;, name + &quot;::&quot; + service);\n                }\n\n                @Override\n                public void onServiceDisconnected(ComponentName name) {\n                    Log.i(&quot;TEST&quot;, name + &quot;::Disconnected&quot;);\n                }\n            };\n\n            Intent serviceIntent = new Intent(RecognitionService.SERVICE_INTERFACE);\n\n            ComponentName recognizerServiceComponent = ComponentName.unflattenFromString(testRecognitionServiceName);\n\n            if (recognizerServiceComponent != null) {\n                serviceIntent.setComponent(recognizerServiceComponent);\n                try {\n                    boolean isServiceAvailableToBind = activity.bindService(serviceIntent, connection, Context.BIND_AUTO_CREATE);\n                    if (isServiceAvailableToBind) {\n                        activity.unbindService(connection);\n                        recognitionServiceName = testRecognitionServiceName;\n                        break;\n                    }\n                } catch (SecurityException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        return recognitionServiceName;\n    }\n</code></pre>\n<p>and these are the rest of the methods</p>\n<pre><code>@Override\n    public void onBeginningOfSpeech() {\n        Log.i(VOICE_RECOGNITION, &quot;onBeginningOfSpeech&quot;);\n    }\n\n    @Override\n    public void onBufferReceived(byte[] buffer) {\n        Log.i(VOICE_RECOGNITION, &quot;onBufferReceived: &quot; + Arrays.toString(buffer));\n    }\n\n    @Override\n    public void onEndOfSpeech() {\n        Log.i(VOICE_RECOGNITION, &quot;onEndOfSpeech&quot;);\n    }\n\n    @Override\n    public void onError(int errorCode) {\n        String errorMessage = getErrorText(errorCode);\n        Log.d(VOICE_RECOGNITION, &quot;FAILED &quot; + errorMessage);\n    }\n\n    @Override\n    public void onEvent(int arg0, Bundle arg1) {\n        Log.i(VOICE_RECOGNITION, &quot;onEvent&quot;);\n    }\n\n    @Override\n    public void onPartialResults(Bundle arg0) {\n        Log.i(VOICE_RECOGNITION, &quot;onPartialResults&quot;);\n    }\n\n    @Override\n    public void onReadyForSpeech(Bundle arg0) {\n        Log.i(VOICE_RECOGNITION, &quot;onReadyForSpeech&quot;);\n    }\n\n    @Override\n    public void onResults(Bundle results) {\n        Log.i(VOICE_RECOGNITION, &quot;onResults&quot;);\n        ArrayList&lt;String&gt; matches = results.getStringArrayList(SpeechRecognizer.RESULTS_RECOGNITION);\n        StringBuilder text = new StringBuilder();\n        assert matches != null;\n        for (String result : matches) text.append(result).append(&quot;\\n&quot;);\n        audioToText.add(text.toString());\n        Log.i(VOICE_RECOGNITION, String.valueOf(audioToText));\n    }\n\n    @Override\n    public void onRmsChanged(float rmsdB) {\n        Log.i(VOICE_RECOGNITION, &quot;onRmsChanged: &quot; + rmsdB);\n    }\n\n    public static String getErrorText(int errorCode) {\n        String message;\n        switch (errorCode) {\n            case SpeechRecognizer.ERROR_AUDIO:\n                message = &quot;Audio recording error&quot;;\n                audioToText.add(&quot;audio recording error&quot;);\n                break;\n            case SpeechRecognizer.ERROR_CLIENT:\n                message = &quot;Client side error&quot;;\n                audioToText.add(&quot;client side error&quot;);\n                break;\n            case SpeechRecognizer.ERROR_INSUFFICIENT_PERMISSIONS:\n                message = &quot;Insufficient permissions&quot;;\n                audioToText.add(&quot;insufficient permissions&quot;);\n                break;\n            case SpeechRecognizer.ERROR_NETWORK:\n                message = &quot;Network error&quot;;\n                audioToText.add(&quot;network error&quot;);\n                break;\n            case SpeechRecognizer.ERROR_NETWORK_TIMEOUT:\n                message = &quot;Network timeout&quot;;\n                audioToText.add(&quot;network timeout&quot;);\n                break;\n            case SpeechRecognizer.ERROR_NO_MATCH:\n                message = &quot;No match&quot;;\n                audioToText.add(&quot;no audio detected&quot;);\n                break;\n            case SpeechRecognizer.ERROR_RECOGNIZER_BUSY:\n                message = &quot;RecognitionService busy&quot;;\n                audioToText.add(&quot;recognition service busy&quot;);\n                break;\n            case SpeechRecognizer.ERROR_SERVER:\n                message = &quot;error from server&quot;;\n                audioToText.add(&quot;error from server&quot;);\n                break;\n            case SpeechRecognizer.ERROR_SPEECH_TIMEOUT:\n                message = &quot;No speech input&quot;;\n                audioToText.add(&quot;no speech input&quot;);\n                break;\n            default:\n                message = &quot;Didn't understand, please try again.&quot;;\n                audioToText.add(&quot;no audio detected&quot;);\n                break;\n        }\n        return message;\n    }\n</code></pre>\n<p>I also have the code for startListening() and stopListening() in their appropriate positions and they are triggered just fine.</p>\n<p>here is also my the part of the log that get triggered when the app start listening to the speech</p>\n<pre><code>2023-08-25 12:07:55.696 31209-31209 Voice Recognition     I  onReadyForSpeech\n2023-08-25 12:07:55.730 31209-31209 Voice Recognition     I  onRmsChanged: -2.0\n2023-08-25 12:07:58.091 31209-31209 Voice Recognition     D  FAILED No match\n</code></pre>\n<p>I know the app is working fine on a device with android 10 that I have but not with another device that has android 13 and I know that google had made some changes in the Speech Recognizer in android 12 and 13 but there is no place on the internet that properly show how you can implement the changes to the SpeechService and make it work on android 13 even on the official documentation website there is no single snippet of code to show how to implement speech recognition with android 13.</p>\n<p>Could anyone provide insights into this matter or suggest potential solutions? Your assistance would be immensely appreciated.</p>\n"},{"tags":["java","apache-poi","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1692969464,"post_id":76976308,"comment_id":135701117,"body_markdown":"Please link to your PDF so we can have a look. Your code looks ok IMHO. (Unrelated: you&#39;ll get more performance with `PDDocument.load(new File(filepath))` than by using a stream)","body":"Please link to your PDF so we can have a look. Your code looks ok IMHO. (Unrelated: you&#39;ll get more performance with <code>PDDocument.load(new File(filepath))</code> than by using a stream)"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1692988893,"post_id":76976308,"comment_id":135705322,"body_markdown":"Try looking at [How to extract hyperlink information PDFBox](https://stackoverflow.com/questions/38587567/how-to-extract-hyperlink-information-pdfbox).","body":"Try looking at <a href=\"https://stackoverflow.com/questions/38587567/how-to-extract-hyperlink-information-pdfbox\">How to extract hyperlink information PDFBox</a>."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1693196738,"post_id":76976308,"comment_id":135723210,"body_markdown":"Hi, I am getting this error in my console screen:\n\nUsage: AddDimensionedImage imageFile outputFile","body":"Hi, I am getting this error in my console screen:  Usage: AddDimensionedImage imageFile outputFile"},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1693196788,"post_id":76976308,"comment_id":135723213,"body_markdown":"I am using normal sample pdf doc with a link to google and yahoo site.","body":"I am using normal sample pdf doc with a link to google and yahoo site."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1693208071,"post_id":76976308,"comment_id":135724662,"body_markdown":"Your code does not have &quot;AddDimensionedImage&quot; in it.","body":"Your code does not have &quot;AddDimensionedImage&quot; in it."},{"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"score":0,"creation_date":1693209894,"post_id":76976308,"comment_id":135724997,"body_markdown":"So what we need to do in this case?","body":"So what we need to do in this case?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1693237671,"post_id":76976308,"comment_id":135730822,"body_markdown":"1) Share your document, 2) Post the relevant code. You claim that you&#39;re getting the error &quot;AddDimensionedImage imageFile outputFile&quot; but your code does no such thing.","body":"1) Share your document, 2) Post the relevant code. You claim that you&#39;re getting the error &quot;AddDimensionedImage imageFile outputFile&quot; but your code does no such thing."}],"owner":{"account_id":29274493,"reputation":11,"user_id":22428538,"display_name":"Esha Agarwal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692958731,"creation_date":1692958731,"question_id":76976308,"body_markdown":"I am trying to extract hyperlinks and its corresponding URL by hovering on it from PDF file and trying to print it.\r\n\r\n\r\n\r\n\r\nI tried to use Apache PDFBox library in my code but getting no results. Can anyone help me through this?\r\n\r\nCode which i am trying:\r\n\r\n    FileInputStream fis = new FileInputStream(filepath);\r\n\t\t\tPDDocument document = PDDocument.load(fis);\r\n\t\t\tList&lt;PDPage&gt; pages = (List&lt;PDPage&gt;) document.getPages();\r\n\t\t\tfor (PDPage page : pages) {\r\n                List&lt;PDAnnotation&gt; annotations = page.getAnnotations();\r\n                for (PDAnnotation annotation : annotations) {\r\n                    if (annotation instanceof PDAnnotationLink) {\r\n                        PDAnnotationLink link = (PDAnnotationLink) annotation;\r\n                        PDActionURI action = (PDActionURI) link.getAction();\r\n                        if (action != null) {\r\n                            String url = action.getURI();\r\n                            System.out.println(&quot;URL: &quot; + url);\r\n                        }\r\n                    }\r\n                }\r\n\t\t\t}","title":"Extract hyperlinks from PDF file","body":"<p>I am trying to extract hyperlinks and its corresponding URL by hovering on it from PDF file and trying to print it.</p>\n<p>I tried to use Apache PDFBox library in my code but getting no results. Can anyone help me through this?</p>\n<p>Code which i am trying:</p>\n<pre><code>FileInputStream fis = new FileInputStream(filepath);\n        PDDocument document = PDDocument.load(fis);\n        List&lt;PDPage&gt; pages = (List&lt;PDPage&gt;) document.getPages();\n        for (PDPage page : pages) {\n            List&lt;PDAnnotation&gt; annotations = page.getAnnotations();\n            for (PDAnnotation annotation : annotations) {\n                if (annotation instanceof PDAnnotationLink) {\n                    PDAnnotationLink link = (PDAnnotationLink) annotation;\n                    PDActionURI action = (PDActionURI) link.getAction();\n                    if (action != null) {\n                        String url = action.getURI();\n                        System.out.println(&quot;URL: &quot; + url);\n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","cookies","servlets"],"answers":[{"comments":[{"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"score":0,"creation_date":1692926303,"post_id":76972037,"comment_id":135694266,"body_markdown":"Thanks for the answer, for jetty I need jetty 10+ ?","body":"Thanks for the answer, for jetty I need jetty 10+ ?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1692958426,"post_id":76972037,"comment_id":135698666,"body_markdown":"See updated answer.","body":"See updated answer."},{"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"score":0,"creation_date":1692959821,"post_id":76972037,"comment_id":135698964,"body_markdown":"I am going to accept to answer anyway, but I still have a doubt not strictly related to this, if you want to answer but it&#39;s anyway ok: my config is the classic web app behind a reverse proxy (nginx), where I have the `location` defined for my app and the `proxy_pass`. Can I solve this problem at nginx / localtion level ?","body":"I am going to accept to answer anyway, but I still have a doubt not strictly related to this, if you want to answer but it&#39;s anyway ok: my config is the classic web app behind a reverse proxy (nginx), where I have the <code>location</code> defined for my app and the <code>proxy_pass</code>. Can I solve this problem at nginx / localtion level ?"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1692967746,"post_id":76972037,"comment_id":135700672,"body_markdown":"I can&#39;t answer that off top of head so here&#39;s a link: https://serverfault.com/q/849888","body":"I can&#39;t answer that off top of head so here&#39;s a link: <a href=\"https://serverfault.com/q/849888\">serverfault.com/q/849888</a>"}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692958418,"creation_date":1692901517,"answer_id":76972037,"question_id":74526476,"body_markdown":"## Servlet 6.0+\r\n\r\nIt&#39;s only possible since Servlet API version 6.0 (part of Jakarta EE 10) which introduced a new [`Cookie#setAttribute()`][1] method.\r\n\r\n```java\r\nCookie cookie = new Cookie(name, value);\r\ncookie.setMaxAge(maxAge);\r\ncookie.setAttribute(&quot;SameSite&quot;, &quot;None&quot;);\r\nresponse.addCookie(cookie);\r\n```\r\n\r\nNote that there&#39;s no [`Cookie#setSameSite()`][2] method for the very simple reason that [the proposal for the `SameSite` attribute][3], which was posted at 7 August 2017, is to the day of today [**still**][4] not part of the official HTTP cookie spec. This was also the reason why it took so long before it was possible to manipulate the `SameSite` attribute via the Servlet API. The Servlet API guys basically waited for it to end up in the official spec. But in the end it didn&#39;t seem to make it into the final spec as quick as expected but yet Google Chrome is already using it to full extent without backwards compatibility. So ultimately a more generic method was introduced and the rest of Cookie API was slightly adjusted ([initiated by yours truly][5]).\r\n\r\n## Servlet 5.0-\r\n\r\nIf you can&#39;t upgrade your servletcontainer to a version implementing a minimum of Servlet API version 6.0 (e.g. Tomcat 10.1+, Jetty 12+, WildFly 27+, GlassFish 7+, etc), then you&#39;ll have to create the cookie as a plain vanilla `String` [following the syntax of the `Set-Cookie` header][6] and add it to the response using [`HttpServletResponse#addHeader()`][7].\r\n\r\n```java\r\nString cookie = name + &quot;=&quot; + value + &quot;; Max-Age=&quot; + maxAge + &quot;; SameSite=None&quot;;\r\nresponse.addHeader(&quot;Set-Cookie&quot;, cookie);\r\n```\r\n\r\n\r\n## JSESSIONID cookie\r\n\r\nIf you actually wanted to manipulate the `SameSite` attribute of the servletcontainer&#39;s built-in `JSESSIONID` cookie, then you have to adjust the configuration of the server itself and/or the proxy in front of it. Consult its documentation for detail. \r\n\r\nIn case of for example Tomcat 8.5.48+/9.0.28+ you can [configure][8] it from the webapp on via `META-INF/context.xml` as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Context&gt;\r\n   &lt;CookieProcessor sameSiteCookies=&quot;none&quot; /&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\nAnd in case of Jetty 9.4.23+ you can configure it from the webapp on via `WEB-INF/web.xml` with one of `__SAME_SITE_*__` constants defined in [`org.eclipse.jetty.http.HttpCookie`][9] as a cookie config **comment** as follows:\r\n\r\n```xml\r\n&lt;session-config&gt;\r\n    &lt;cookie-config&gt;\r\n        &lt;comment&gt;__SAME_SITE_NONE__&lt;/comment&gt;\r\n    &lt;/cookie-config&gt;\r\n&lt;/session-config&gt;\r\n```\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/cookie#setAttribute(java.lang.String,java.lang.String)\r\n  [2]: https://github.com/jakartaee/servlet/issues/175\r\n  [3]: https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis-02\r\n  [4]: https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis-12\r\n  [5]: https://github.com/jakartaee/servlet/pull/399\r\n  [6]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie#syntax\r\n  [7]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addHeader(java.lang.String,java.lang.String)\r\n  [8]: https://tomcat.apache.org/tomcat-8.5-doc/config/cookie-processor.html#Standard_Implementation\r\n  [9]: https://javadoc.io/static/org.eclipse.jetty/jetty-http/10.0.0.beta0/org.eclipse.jetty.http/org/eclipse/jetty/http/HttpCookie.html#field.summary","title":"How to specify SameSite value for javax.servlet.http.Cookie","body":"<h2>Servlet 6.0+</h2>\n<p>It's only possible since Servlet API version 6.0 (part of Jakarta EE 10) which introduced a new <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/cookie#setAttribute(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>Cookie#setAttribute()</code></a> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Cookie cookie = new Cookie(name, value);\ncookie.setMaxAge(maxAge);\ncookie.setAttribute(&quot;SameSite&quot;, &quot;None&quot;);\nresponse.addCookie(cookie);\n</code></pre>\n<p>Note that there's no <a href=\"https://github.com/jakartaee/servlet/issues/175\" rel=\"nofollow noreferrer\"><code>Cookie#setSameSite()</code></a> method for the very simple reason that <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis-02\" rel=\"nofollow noreferrer\">the proposal for the <code>SameSite</code> attribute</a>, which was posted at 7 August 2017, is to the day of today <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-rfc6265bis-12\" rel=\"nofollow noreferrer\"><strong>still</strong></a> not part of the official HTTP cookie spec. This was also the reason why it took so long before it was possible to manipulate the <code>SameSite</code> attribute via the Servlet API. The Servlet API guys basically waited for it to end up in the official spec. But in the end it didn't seem to make it into the final spec as quick as expected but yet Google Chrome is already using it to full extent without backwards compatibility. So ultimately a more generic method was introduced and the rest of Cookie API was slightly adjusted (<a href=\"https://github.com/jakartaee/servlet/pull/399\" rel=\"nofollow noreferrer\">initiated by yours truly</a>).</p>\n<h2>Servlet 5.0-</h2>\n<p>If you can't upgrade your servletcontainer to a version implementing a minimum of Servlet API version 6.0 (e.g. Tomcat 10.1+, Jetty 12+, WildFly 27+, GlassFish 7+, etc), then you'll have to create the cookie as a plain vanilla <code>String</code> <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie#syntax\" rel=\"nofollow noreferrer\">following the syntax of the <code>Set-Cookie</code> header</a> and add it to the response using <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addHeader(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>HttpServletResponse#addHeader()</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String cookie = name + &quot;=&quot; + value + &quot;; Max-Age=&quot; + maxAge + &quot;; SameSite=None&quot;;\nresponse.addHeader(&quot;Set-Cookie&quot;, cookie);\n</code></pre>\n<h2>JSESSIONID cookie</h2>\n<p>If you actually wanted to manipulate the <code>SameSite</code> attribute of the servletcontainer's built-in <code>JSESSIONID</code> cookie, then you have to adjust the configuration of the server itself and/or the proxy in front of it. Consult its documentation for detail.</p>\n<p>In case of for example Tomcat 8.5.48+/9.0.28+ you can <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/config/cookie-processor.html#Standard_Implementation\" rel=\"nofollow noreferrer\">configure</a> it from the webapp on via <code>META-INF/context.xml</code> as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Context&gt;\n   &lt;CookieProcessor sameSiteCookies=&quot;none&quot; /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p>And in case of Jetty 9.4.23+ you can configure it from the webapp on via <code>WEB-INF/web.xml</code> with one of <code>__SAME_SITE_*__</code> constants defined in <a href=\"https://javadoc.io/static/org.eclipse.jetty/jetty-http/10.0.0.beta0/org.eclipse.jetty.http/org/eclipse/jetty/http/HttpCookie.html#field.summary\" rel=\"nofollow noreferrer\"><code>org.eclipse.jetty.http.HttpCookie</code></a> as a cookie config <strong>comment</strong> as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;session-config&gt;\n    &lt;cookie-config&gt;\n        &lt;comment&gt;__SAME_SITE_NONE__&lt;/comment&gt;\n    &lt;/cookie-config&gt;\n&lt;/session-config&gt;\n</code></pre>\n"}],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76972037,"answer_count":1,"score":2,"last_activity_date":1692958418,"creation_date":1669079418,"question_id":74526476,"body_markdown":"Having for example:\r\n\r\n```\r\nimport javax.servlet.http.Cookie;\r\n\r\n// some code ....\r\n\r\n\r\n\t\tCookie cookie = new Cookie(name, value);\r\n\t\t\r\n\t\tcookie.setMaxAge(someValue);\r\n```\r\nHow do I set [SameSite](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite) value for it ?\r\n\r\nThanks for the help.","title":"How to specify SameSite value for javax.servlet.http.Cookie","body":"<p>Having for example:</p>\n<pre><code>import javax.servlet.http.Cookie;\n\n// some code ....\n\n\n        Cookie cookie = new Cookie(name, value);\n        \n        cookie.setMaxAge(someValue);\n</code></pre>\n<p>How do I set <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite\" rel=\"nofollow noreferrer\">SameSite</a> value for it ?</p>\n<p>Thanks for the help.</p>\n"},{"tags":["java","performance","polymorphism","downcast","upcasting"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1690747148,"post_id":76798687,"comment_id":135392883,"body_markdown":"Tip: Casting objects back and forth is often a sign of a poor design in your classes.","body":"Tip: Casting objects back and forth is often a sign of a poor design in your classes."},{"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"score":0,"creation_date":1690814848,"post_id":76798687,"comment_id":135401785,"body_markdown":"@BasilBourque Can you tell me where to learn these things properly and also i need someone so that i can clear my doubts ? I am already learning from Youtube but i need guidance too.","body":"@BasilBourque Can you tell me where to learn these things properly and also i need someone so that i can clear my doubts ? I am already learning from Youtube but i need guidance too."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1690870346,"post_id":76798687,"comment_id":135409384,"body_markdown":"You cannot become a &quot;machine&quot; in programming, this part might be taken over by AI soon. Coding is a creative process, and like painting you just can learn the basic techniques, but then you have to practice and do life-long-learning on the job. There are online programming classes and automated courses, some of them are free, some are paid. I didn&#39;t participate in any of them so I cannot recommend a specific one, but if you search for &quot;code training&quot; or similar, you will find enough results.","body":"You cannot become a &quot;machine&quot; in programming, this part might be taken over by AI soon. Coding is a creative process, and like painting you just can learn the basic techniques, but then you have to practice and do life-long-learning on the job. There are online programming classes and automated courses, some of them are free, some are paid. I didn&#39;t participate in any of them so I cannot recommend a specific one, but if you search for &quot;code training&quot; or similar, you will find enough results."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1690870417,"post_id":76798687,"comment_id":135409395,"body_markdown":"I also would like to add that [SO] is not the ideal place for learning programming in general, but more to solve specific problems, nuts that are hard to crack for you.","body":"I also would like to add that <a href=\"https://stackoverflow.com\">Stack Overflow</a> is not the ideal place for learning programming in general, but more to solve specific problems, nuts that are hard to crack for you."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690873326,"post_id":76798687,"comment_id":135409936,"body_markdown":"Your question doesn&#39;t really make sense. You wouldn&#39;t create two objects just for the sake of having access to extra APIs. You would create an instance of the derived class, as in your first example, and then cast it to `Pen` if there were `Pen`-only APIs you wanted to call on it.","body":"Your question doesn&#39;t really make sense. You wouldn&#39;t create two objects just for the sake of having access to extra APIs. You would create an instance of the derived class, as in your first example, and then cast it to <code>Pen</code> if there were <code>Pen</code>-only APIs you wanted to call on it."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1690881038,"post_id":76798687,"comment_id":135411455,"body_markdown":"@cyberbrain you&#39;re right, SO is not the best platform to learn coding in general. But the big problem nowerdays is, that all former major forums (just to name Spring as an example) decided to close their doors and move to Stack Overflow - leaving a quick note that from now on the user should go to SO. But SO has much more restrictions in what you are allowed and what not than the former userfriendly communities. That&#39;s a big problem and a shame in general. So I will not blame a user who just wants to get information and clarification in any possible way ;)","body":"@cyberbrain you&#39;re right, SO is not the best platform to learn coding in general. But the big problem nowerdays is, that all former major forums (just to name Spring as an example) decided to close their doors and move to Stack Overflow - leaving a quick note that from now on the user should go to SO. But SO has much more restrictions in what you are allowed and what not than the former userfriendly communities. That&#39;s a big problem and a shame in general. So I will not blame a user who just wants to get information and clarification in any possible way ;)"},{"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"score":0,"creation_date":1690910705,"post_id":76798687,"comment_id":135417837,"body_markdown":"@cyberbrain Ohh thats fine i myself thought that i can get to learn actual thoughts of others like what they have to say about it, thats why i posted above doubt, to get to know if i am on a right track or need to learn still from different sources correctly. Whole meaning was to just understand the concept. And thanks to reply.","body":"@cyberbrain Ohh thats fine i myself thought that i can get to learn actual thoughts of others like what they have to say about it, thats why i posted above doubt, to get to know if i am on a right track or need to learn still from different sources correctly. Whole meaning was to just understand the concept. And thanks to reply."}],"answers":[{"comments":[{"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"score":0,"creation_date":1690814514,"post_id":76799044,"comment_id":135401705,"body_markdown":"Thank you for you response. 1. Can you just tell me why we use Gift gift = new Pen() ? basically as per my knowledge it was used during Polymorphism as there were overridden methods. 2. Why we use Downcasting ? if we can create an object of a particular class to access its methods than why to downcast? . 3. Their is no particular problem i need to solve, but i want to understant the concept of Downcasting,Polymorphism in java(Why to use and When to use it) and also i want to practise these things correctly so that i can use it in future","body":"Thank you for you response. 1. Can you just tell me why we use Gift gift = new Pen() ? basically as per my knowledge it was used during Polymorphism as there were overridden methods. 2. Why we use Downcasting ? if we can create an object of a particular class to access its methods than why to downcast? . 3. Their is no particular problem i need to solve, but i want to understant the concept of Downcasting,Polymorphism in java(Why to use and When to use it) and also i want to practise these things correctly so that i can use it in future"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1690870021,"post_id":76799044,"comment_id":135409344,"body_markdown":"I updated my answer. It&#39;s kinda hard to not sound opinionated there for me, but I hope that I could stay neutral for most of my post.","body":"I updated my answer. It&#39;s kinda hard to not sound opinionated there for me, but I hope that I could stay neutral for most of my post."},{"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"score":0,"creation_date":1690911326,"post_id":76799044,"comment_id":135417957,"body_markdown":"Thats great!! i will definitely go through the book.","body":"Thats great!! i will definitely go through the book."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690869956,"creation_date":1690739926,"answer_id":76799044,"question_id":76798687,"body_markdown":"You are addressing two related questions: Which interface to use to access an object (for this, I see `class` also as a kind of interface).\r\n\r\nIf you know in advance that you will need to access `Pen` methods, you should type your variable as `Pen` in the first place. But on the other hand, you should [refer to objects by their interfaces][1] (from Effective Java by Joshua Bloch) so if you do not need the access to `Pen` methods, don&#39;t access it via that class.\r\n\r\nYour second question is about creating objects to access the classes methods. But this approach is not what object oriented programming is made for: you create a class so you can access the inside data (in the object) only via the classes&#39; methods. So your idea of first creating a `Gift` instance and then creating a `Pen` instance again for more methods is less than ideal because the methods of `Pen` also need more data, that have to be initialized at some point in time (usually at the construction of `Pen`). Where do you get that data from if you only have a `Gift` instance available?\r\n\r\nIf you have the data in the first place, why did you not create a `Pen` right away?\r\n\r\nYou could also provide a factory method for `Pen` that creates a new instance from a `Gift` instance plus all the extra data necessary for a `Pen` instance.\r\n\r\nThis is not always an ideal solution, so the answer to your question is neither yes or no, but: it depends. Depending on the actual problem you want to solve, the best solution to pick could vary, so if you have an actual problem to solve, you should add it to your question to get more advice, or add another question.\r\n\r\n---\r\n\r\nUPDATE: (per OPs request)\r\n&gt; Can you just tell me why we use `Gift gift = new Pen()`?\r\n\r\nAs you do not supply any surrounding code, I cannot name the exact reason, but in the link above you find an explanation why you should use the &quot;least specific&quot; interface. \r\n\r\nFor this we see classes also as interfaces (with an implementation). Also a method is kind of a contract with the implementer of an interface. So if you use the least specific interface, you do not rely on the actual implementation, but on the contract of the methods of that interface. So you can easily change the implementation later if that is necessary.\r\n\r\nA good and very commonly used example for this is e.g. the `java.util.List` interface. You just want to know that (basically) you are operating on an ordered collection. As &quot;user&quot; of the interface you don&#39;t care how the list is ordered, or if it is backed by an array or a linked list (or lazy loaded from a database, etc.). If you used `java.util.ArrayList` you always have to load everything into an array, or at least pretend that you do that - if you inherit from that class and override methods, and that would be super complex to handle for code maintainers.\r\n\r\n&gt; Why we use Downcasting?\r\n\r\nA good use case for this (but probably not the only one) is: Quite often you have existing code that you want to use that expects objects of a certain `class` or `interface`. But the existing class doesn&#39;t fit your needs, so you inherit of or implement what is existing and expected. You create a more specific implementation. But you cannot or don&#39;t want to change the existing code, so you downcast your implementation to whatever is needed. Often the inherited classes do not even implement new methods, but just override some existing ones. \r\n\r\n&gt; I want to understand the concept of Downcasting, Polymorphism in Java (Why to use and When to use it)\r\n\r\nPolymorphism is not always helpful, the past showed that it also can be a burden, especially for code that is maintained and extended over a longer period of time, but also for new code that is just badly designed. It&#39;s hard to give a general advice, but it&#39;s good that you try to learn about it. \r\n\r\nI would recommend that you read at least the chapter [Favor composition over inheritance][2] in the book &quot;Effective Java&quot;, but can recommend the whole book. It&#39;s not only useful for Java developers, but OOP in general (the examples and specific chapters are Java only).\r\n\r\n\r\n[1]:https://ia801009.us.archive.org/16/items/effectivejava2017addisonwesley/Effective%20Java%20%282017%2C%20Addison-Wesley%29.pdf#%5B%7B%22num%22%3A446%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22Fit%22%7D%5D\r\n\r\n[2]:https://ia801009.us.archive.org/16/items/effectivejava2017addisonwesley/Effective%20Java%20%282017%2C%20Addison-Wesley%29.pdf#%5B%7B%22num%22%3A446%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22Fit%22%7D%5D","title":"upcasting and downcasting in Java and Polymorphism","body":"<p>You are addressing two related questions: Which interface to use to access an object (for this, I see <code>class</code> also as a kind of interface).</p>\n<p>If you know in advance that you will need to access <code>Pen</code> methods, you should type your variable as <code>Pen</code> in the first place. But on the other hand, you should <a href=\"https://ia801009.us.archive.org/16/items/effectivejava2017addisonwesley/Effective%20Java%20%282017%2C%20Addison-Wesley%29.pdf#%5B%7B%22num%22%3A446%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22Fit%22%7D%5D\" rel=\"nofollow noreferrer\">refer to objects by their interfaces</a> (from Effective Java by Joshua Bloch) so if you do not need the access to <code>Pen</code> methods, don't access it via that class.</p>\n<p>Your second question is about creating objects to access the classes methods. But this approach is not what object oriented programming is made for: you create a class so you can access the inside data (in the object) only via the classes' methods. So your idea of first creating a <code>Gift</code> instance and then creating a <code>Pen</code> instance again for more methods is less than ideal because the methods of <code>Pen</code> also need more data, that have to be initialized at some point in time (usually at the construction of <code>Pen</code>). Where do you get that data from if you only have a <code>Gift</code> instance available?</p>\n<p>If you have the data in the first place, why did you not create a <code>Pen</code> right away?</p>\n<p>You could also provide a factory method for <code>Pen</code> that creates a new instance from a <code>Gift</code> instance plus all the extra data necessary for a <code>Pen</code> instance.</p>\n<p>This is not always an ideal solution, so the answer to your question is neither yes or no, but: it depends. Depending on the actual problem you want to solve, the best solution to pick could vary, so if you have an actual problem to solve, you should add it to your question to get more advice, or add another question.</p>\n<hr />\n<p>UPDATE: (per OPs request)</p>\n<blockquote>\n<p>Can you just tell me why we use <code>Gift gift = new Pen()</code>?</p>\n</blockquote>\n<p>As you do not supply any surrounding code, I cannot name the exact reason, but in the link above you find an explanation why you should use the &quot;least specific&quot; interface.</p>\n<p>For this we see classes also as interfaces (with an implementation). Also a method is kind of a contract with the implementer of an interface. So if you use the least specific interface, you do not rely on the actual implementation, but on the contract of the methods of that interface. So you can easily change the implementation later if that is necessary.</p>\n<p>A good and very commonly used example for this is e.g. the <code>java.util.List</code> interface. You just want to know that (basically) you are operating on an ordered collection. As &quot;user&quot; of the interface you don't care how the list is ordered, or if it is backed by an array or a linked list (or lazy loaded from a database, etc.). If you used <code>java.util.ArrayList</code> you always have to load everything into an array, or at least pretend that you do that - if you inherit from that class and override methods, and that would be super complex to handle for code maintainers.</p>\n<blockquote>\n<p>Why we use Downcasting?</p>\n</blockquote>\n<p>A good use case for this (but probably not the only one) is: Quite often you have existing code that you want to use that expects objects of a certain <code>class</code> or <code>interface</code>. But the existing class doesn't fit your needs, so you inherit of or implement what is existing and expected. You create a more specific implementation. But you cannot or don't want to change the existing code, so you downcast your implementation to whatever is needed. Often the inherited classes do not even implement new methods, but just override some existing ones.</p>\n<blockquote>\n<p>I want to understand the concept of Downcasting, Polymorphism in Java (Why to use and When to use it)</p>\n</blockquote>\n<p>Polymorphism is not always helpful, the past showed that it also can be a burden, especially for code that is maintained and extended over a longer period of time, but also for new code that is just badly designed. It's hard to give a general advice, but it's good that you try to learn about it.</p>\n<p>I would recommend that you read at least the chapter <a href=\"https://ia801009.us.archive.org/16/items/effectivejava2017addisonwesley/Effective%20Java%20%282017%2C%20Addison-Wesley%29.pdf#%5B%7B%22num%22%3A446%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22Fit%22%7D%5D\" rel=\"nofollow noreferrer\">Favor composition over inheritance</a> in the book &quot;Effective Java&quot;, but can recommend the whole book. It's not only useful for Java developers, but OOP in general (the examples and specific chapters are Java only).</p>\n"}],"owner":{"account_id":27037859,"reputation":51,"user_id":20593183,"display_name":"Sourav Karjole"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"answer_count":1,"score":-2,"last_activity_date":1692958086,"creation_date":1690734537,"question_id":76798687,"body_markdown":"I&#39;m confused why or when to use downcasting and upcasting and polymorphism. \r\n\r\nPlease tell me if I am correct or wrong. It would be a great help.\r\n\r\nIf we say this `Gift gift = new Pen();` not only we can leverage the use of polymorphism (if subclass has any overridden methods), but also we will create only one object in the heap, like if further if we say want to access Pen class methods we can just say `Pen pen = (Pen) gift;` this line can be used to access both superclass methods as well as its own method. \r\n\r\nBut my point is that here we would not have to create a new object in heap instead we can just downcast. \r\n\r\nSo, if we say like `Gift gift = new Gift()` and than we want to use Pen class methods we would need to create object again in heap like `Pen pen = new Pen()`. \r\n\r\nBasically instead of creating 2 objects in heap we can just create one object and downcast it later. This not only helps to write an efficient code, but also can leverage the use of polymorphism with well maintained code.","title":"upcasting and downcasting in Java and Polymorphism","body":"<p>I'm confused why or when to use downcasting and upcasting and polymorphism.</p>\n<p>Please tell me if I am correct or wrong. It would be a great help.</p>\n<p>If we say this <code>Gift gift = new Pen();</code> not only we can leverage the use of polymorphism (if subclass has any overridden methods), but also we will create only one object in the heap, like if further if we say want to access Pen class methods we can just say <code>Pen pen = (Pen) gift;</code> this line can be used to access both superclass methods as well as its own method.</p>\n<p>But my point is that here we would not have to create a new object in heap instead we can just downcast.</p>\n<p>So, if we say like <code>Gift gift = new Gift()</code> and than we want to use Pen class methods we would need to create object again in heap like <code>Pen pen = new Pen()</code>.</p>\n<p>Basically instead of creating 2 objects in heap we can just create one object and downcast it later. This not only helps to write an efficient code, but also can leverage the use of polymorphism with well maintained code.</p>\n"},{"tags":["java","oop","uml","aggregation","composition"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1692958172,"post_id":76976202,"comment_id":135698601,"body_markdown":"composition IS a form of aggregation. https://www.geeksforgeeks.org/association-composition-aggregation-java/","body":"composition IS a form of aggregation. <a href=\"https://www.geeksforgeeks.org/association-composition-aggregation-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/association-composition-aggregation-java</a>"}],"owner":{"account_id":29296472,"reputation":53,"user_id":22445705,"display_name":"r&#39;ouster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1692959824,"answer_count":0,"score":2,"last_activity_date":1692957993,"creation_date":1692957929,"question_id":76976202,"body_markdown":"Now I understand the theory of these types of associations:\r\n\r\n- Aggregation implies a relationship where the child can exist independently of the parent. Example: Class (parent) and Student (child). Delete the Class and the Students still exist.\r\n- Composition implies a relationship where the child cannot exist independent of the parent. Example: House (parent) and Room (child). Rooms don&#39;t exist separate to a House.\r\n\r\nBut it&#39;s difficult for me to understand how it works in practice.\r\n\r\n\r\nSo far this is my understanding and I would be glad if someone could correct me if I am wrong\r\n\r\n```java\r\n// A simple separate class called Address\r\npublic class Address {\r\n\r\n\tprivate String address;\r\n\r\n\tpublic Address(String address) {\r\n            this.address = address;\r\n        }\r\n}\r\n```\r\n\r\n```java\r\n// And a person class that has address field\r\npublic class Person {\r\n\t\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\r\n\tprivate Address address;\r\n\r\n\t}\r\n\tpublic void setAddress(Address address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\tpublic Address getAddress() {\r\n\t\treturn address;\r\n\t}\r\n        ....\r\n}\r\n```\r\n\r\nI think this type of association is `aggregation` because **I have to** set the address from client code  so Address class hypothetically lives without a Person. Heres how it would look like:\r\n```java\r\npublic class Main{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tAddress address = new Address(&quot;308 Negra Arroyo Lane, Albuquerque, New Mexico&quot;);\r\n\t\tPerson person = new Person();\r\n\t\tperson.setAddress(address);\r\n                // address object still lives without person object and I can reuse it\r\n\t}\r\n}\r\n```\r\n\r\nOn the other hand this seems like an `composition` to me, since the Address class is instantiated within the Person class and it doesn&#39;t exist anywhere else (It&#39;s bound to one specific class)\r\n```java\r\npublic class Person {\r\n\r\n\tprivate String firstName;\r\n\tprivate String lastName;\r\n\r\n\tprivate Address address;\r\n\t\r\n\tpublic Person() {\r\n\t\taddress = new Address(&quot;308 Negra Arroyo Lane, Albuquerque, New Mexico&quot;);\r\n\t}\r\n\r\n\tpublic Address getAddress() {\r\n\t\treturn address;\r\n\t}\r\n        ....\r\n}\r\n```\r\n\r\nAnd here&#39;s a client app\r\n```java\r\npublic class Main{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tPerson person = new Person();\r\n\t\tperson.getAddress();\r\n                // address object has no meaning outside of Person class\r\n\t}\r\n}\r\n```\r\n\r\nAtleast that&#39;s how I understand the concept, I may be wrong tho so I&#39;d like if someone experienced could confirm this (or correct me if am wrong). Also the main reason why I do this is to write efficient UML so any thought of that would be appreciated too","title":"Aggregation vs Composition in OOP (Java example)","body":"<p>Now I understand the theory of these types of associations:</p>\n<ul>\n<li>Aggregation implies a relationship where the child can exist independently of the parent. Example: Class (parent) and Student (child). Delete the Class and the Students still exist.</li>\n<li>Composition implies a relationship where the child cannot exist independent of the parent. Example: House (parent) and Room (child). Rooms don't exist separate to a House.</li>\n</ul>\n<p>But it's difficult for me to understand how it works in practice.</p>\n<p>So far this is my understanding and I would be glad if someone could correct me if I am wrong</p>\n<pre class=\"lang-java prettyprint-override\"><code>// A simple separate class called Address\npublic class Address {\n\n    private String address;\n\n    public Address(String address) {\n            this.address = address;\n        }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// And a person class that has address field\npublic class Person {\n    \n    private String firstName;\n    private String lastName;\n\n    private Address address;\n\n    }\n    public void setAddress(Address address) {\n        this.address = address;\n    }\n    public Address getAddress() {\n        return address;\n    }\n        ....\n}\n</code></pre>\n<p>I think this type of association is <code>aggregation</code> because <strong>I have to</strong> set the address from client code  so Address class hypothetically lives without a Person. Heres how it would look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main{\n\n    public static void main(String[] args) {\n        Address address = new Address(&quot;308 Negra Arroyo Lane, Albuquerque, New Mexico&quot;);\n        Person person = new Person();\n        person.setAddress(address);\n                // address object still lives without person object and I can reuse it\n    }\n}\n</code></pre>\n<p>On the other hand this seems like an <code>composition</code> to me, since the Address class is instantiated within the Person class and it doesn't exist anywhere else (It's bound to one specific class)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n\n    private String firstName;\n    private String lastName;\n\n    private Address address;\n    \n    public Person() {\n        address = new Address(&quot;308 Negra Arroyo Lane, Albuquerque, New Mexico&quot;);\n    }\n\n    public Address getAddress() {\n        return address;\n    }\n        ....\n}\n</code></pre>\n<p>And here's a client app</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main{\n\n    public static void main(String[] args) {\n        Person person = new Person();\n        person.getAddress();\n                // address object has no meaning outside of Person class\n    }\n}\n</code></pre>\n<p>Atleast that's how I understand the concept, I may be wrong tho so I'd like if someone experienced could confirm this (or correct me if am wrong). Also the main reason why I do this is to write efficient UML so any thought of that would be appreciated too</p>\n"},{"tags":["java","jboss","ejb","jboss7.x","jaas"],"comments":[{"owner":{"account_id":68965,"reputation":3142,"user_id":200924,"accept_rate":74,"display_name":"Timmo"},"score":0,"creation_date":1336118593,"post_id":10444795,"comment_id":13484722,"body_markdown":"You want to catch the exception on the client right?","body":"You want to catch the exception on the client right?"},{"owner":{"account_id":68965,"reputation":3142,"user_id":200924,"accept_rate":74,"display_name":"Timmo"},"score":0,"creation_date":1336119222,"post_id":10444795,"comment_id":13484915,"body_markdown":"You could try to extend the security module class and wrap the security check code in a try/catch. In case you would get an exception to throw it back to the client. I just hope it&#39;s not further up that the Exception is suppressed.","body":"You could try to extend the security module class and wrap the security check code in a try/catch. In case you would get an exception to throw it back to the client. I just hope it&#39;s not further up that the Exception is suppressed."},{"owner":{"account_id":68965,"reputation":3142,"user_id":200924,"accept_rate":74,"display_name":"Timmo"},"score":0,"creation_date":1336119664,"post_id":10444795,"comment_id":13485064,"body_markdown":"With security module class I meant DatabaseServerLoginModule","body":"With security module class I meant DatabaseServerLoginModule"},{"owner":{"account_id":1459671,"reputation":21,"user_id":1374321,"display_name":"fpu"},"score":0,"creation_date":1336121311,"post_id":10444795,"comment_id":13485666,"body_markdown":"Thanks, but I&#39;m wondering why LoginContext doesn&#39;t work. It is deprecated for JBossAS 7?","body":"Thanks, but I&#39;m wondering why LoginContext doesn&#39;t work. It is deprecated for JBossAS 7?"},{"owner":{"account_id":249310,"reputation":2533,"user_id":525271,"accept_rate":67,"display_name":"Sergiu"},"score":0,"creation_date":1341390238,"post_id":10444795,"comment_id":14908402,"body_markdown":"Did you find an answer regarding the LoginContext ? I&#39;m trying to migrate similar code from JBoss 5 to JBoss 7. Thank you.","body":"Did you find an answer regarding the LoginContext ? I&#39;m trying to migrate similar code from JBoss 5 to JBoss 7. Thank you."},{"owner":{"account_id":1459671,"reputation":21,"user_id":1374321,"display_name":"fpu"},"score":0,"creation_date":1341398210,"post_id":10444795,"comment_id":14911779,"body_markdown":"Unfortunately nope. This is the only reason for using older version of JBoss for me. :(","body":"Unfortunately nope. This is the only reason for using older version of JBoss for me. :("}],"answers":[{"tags":[],"owner":{"account_id":1254635,"reputation":942,"user_id":1214373,"accept_rate":0,"display_name":"Darran L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338288196,"creation_date":1338288196,"answer_id":10797554,"question_id":10444795,"body_markdown":"ClientLoginModule is not currently supported on AS7 - all that login module does is associate the username and password with a thread local it does not perform any real authentication.\r\n\r\nRegarding the InitialContext you should be seeing an exception thrown when you try and use it.","title":"JBoss AS 7 remote standalone client auth","body":"<p>ClientLoginModule is not currently supported on AS7 - all that login module does is associate the username and password with a thread local it does not perform any real authentication.</p>\n\n<p>Regarding the InitialContext you should be seeing an exception thrown when you try and use it.</p>\n"}],"owner":{"account_id":1459671,"reputation":21,"user_id":1374321,"display_name":"fpu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692957985,"creation_date":1336117621,"question_id":10444795,"body_markdown":"I have a some ear deployed on JBoss AS7 with\r\njboss-app.xml\r\n\r\n    &lt;jboss-app xmlns=&quot;http://www.jboss.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           version=&quot;7.0&quot; xsi:schemaLocation=&quot;http://www.jboss.com/xml/ns/javaee &quot;&gt;\r\n    &lt;security-domain&gt;FooDomain&lt;/security-domain&gt;\r\n&lt;/jboss-app&gt;\r\n\r\nIn standalone.xml I have\r\n\r\n    &lt;security-realm name=&quot;ApplicationRealm&quot;&gt;\r\n       &lt;authentication&gt;\r\n           &lt;jaas name=&quot;FooDomain&quot;/&gt;\r\n       &lt;/authentication&gt;\r\n    &lt;/security-realm&gt;\r\n    ...\r\n    &lt;security-domain name=&quot;FooDomain&quot; cache-type=&quot;default&quot;&gt;\r\n\t&lt;authentication&gt;\r\n\t\t&lt;login-module code=&quot;Remoting&quot; flag=&quot;optional&quot;&gt;\r\n\t\t\t&lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n\t\t&lt;/login-module&gt;\r\n\t\t&lt;login-module code=&quot;Database&quot; flag=&quot;required&quot;&gt;\r\n\t\t\t&lt;module-option name=&quot;dsJndiName&quot; value=&quot;java:/MyDS&quot;/&gt;\r\n\t\t\t&lt;module-option name=&quot;principalsQuery&quot; value=&quot;select password from users where user_id=?&quot;/&gt;\r\n\t\t\t&lt;module-option name=&quot;rolesQuery&quot; value=&quot;select role, &#39;Roles&#39; from roles where user_id=?&quot;/&gt;\r\n\t\t\t&lt;module-option name=&quot;password-stacking&quot; value=&quot;useFirstPass&quot;/&gt;\r\n\t\t&lt;/login-module&gt;\r\n\t&lt;/authentication&gt;\r\n    &lt;/security-domain&gt;\r\n\r\nI can make a lookup some ejb from standalone client and authentication is successful when I use code like this:\r\n\r\n    final Hashtable&lt;Object, Object&gt; p = new Hashtable&lt;Object, Object&gt;();\r\n    p.put(Context.URL_PKG_PREFIXES, &quot;org.jboss.ejb.client.naming&quot;);\r\n    p.put(Context.SECURITY_PRINCIPAL, username);\r\n    p.put(Context.SECURITY_CREDENTIALS, password);\r\n    p.put(&quot;jboss.naming.client.ejb.context&quot;, true);\r\n    p.put(Context.PROVIDER_URL, &quot;remote://10.10.1.18:4447&quot;);\r\n    p.put(&quot;jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT&quot;, &quot;false&quot;);\r\n    p.put(Context.INITIAL_CONTEXT_FACTORY, org.jboss.naming.remote.client.InitialContextFactory.class.getName());\r\n    context = new InitialContext(p);\r\n\r\nThe problem is that if I provide wrong credentials, I see in debug console\r\n\r\n    javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed\r\n\r\n but I can&#39;t catch it.\r\n\r\nServer logs (not important parts cutted):\r\n\r\n    TRACE [DatabaseServerLoginModule] initialize\r\n    TRACE [DatabaseServerLoginModule] Security domain: FooDomain\r\n    TRACE [DatabaseServerLoginModule] DatabaseServerLoginModule, dsJndiName=java:/MyDS\r\n    TRACE [DatabaseServerLoginModule] principalsQuery=select password from users where user_id=?\r\n    TRACE [DatabaseServerLoginModule] rolesQuery=select role, &#39;Roles&#39; from roles where user_id=?\r\n    TRACE [DatabaseServerLoginModule] suspendResume=true\r\n    TRACE [DatabaseServerLoginModule] login\r\n    TRACE [DatabaseServerLoginModule] suspendAnyTransaction\r\n    TRACE [DatabaseServerLoginModule] Excuting query: select password from users where user_id=?, with username: test\r\n    TRACE [DatabaseServerLoginModule] Obtained user password\r\n    TRACE [DatabaseServerLoginModule] resumeAnyTransaction\r\n    DEBUG [DatabaseServerLoginModule] Bad password for username=test\r\n    TRACE [DatabaseServerLoginModule] abort\r\n\r\nWhen I try to use LoginContext just nothing happens on server.\r\nConfiguration\r\n\r\n    public class DefaultJassConfiguration extends Configuration {\r\n\t@Override\r\n\tpublic AppConfigurationEntry[] getAppConfigurationEntry(String name) {\r\n\t\tMap options = new HashMap();\r\n\t\toptions.put(&quot;debug&quot;, true);\r\n\t\tAppConfigurationEntry[] entries = {\r\n\t\t\t\tnew AppConfigurationEntry(&quot;org.jboss.security.ClientLoginModule&quot;, AppConfigurationEntry.LoginModuleControlFlag.REQUIRED, options)\r\n\t\t};\r\n\t\treturn entries;\r\n\t}\r\n    }\r\n\r\nTest\r\n\r\n    Configuration.setConfiguration(new DefaultJassConfiguration());\r\n    try {\r\n            LoginContext lc = new LoginContext(&quot;FooDomain&quot;, new UsernamePasswordHandler(&quot;test&quot;, &quot;test&quot;.toCharArray()));\r\n            lc.login();\r\n            System.out.println(lc.getSubject());\r\n        } catch (LoginException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\nPerhaps LoginContext don&#39;t know server address? I try to add \r\n\r\n    System.setProperty(&quot;java.naming.provider.url&quot;, &quot;remote://10.10.1.18:4447&quot;);\r\n\r\nbut with no effect.\r\n\r\nHow to make LoginContext work? Or how to catch SaslException?\r\nI consider to make some dummy bean with method always returned true and call it after login, but it looks ugly.\r\n\r\nP.S. I&#39;m sorry for my English (It makes me a bit shy)","title":"JBoss AS 7 remote standalone client auth","body":"<p>I have a some ear deployed on JBoss AS7 with\njboss-app.xml</p>\n\n<pre><code>&lt;jboss-app xmlns=\"http://www.jboss.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       version=\"7.0\" xsi:schemaLocation=\"http://www.jboss.com/xml/ns/javaee \"&gt;\n&lt;security-domain&gt;FooDomain&lt;/security-domain&gt;\n</code></pre>\n\n<p></p>\n\n<p>In standalone.xml I have</p>\n\n<pre><code>&lt;security-realm name=\"ApplicationRealm\"&gt;\n   &lt;authentication&gt;\n       &lt;jaas name=\"FooDomain\"/&gt;\n   &lt;/authentication&gt;\n&lt;/security-realm&gt;\n...\n&lt;security-domain name=\"FooDomain\" cache-type=\"default\"&gt;\n&lt;authentication&gt;\n    &lt;login-module code=\"Remoting\" flag=\"optional\"&gt;\n        &lt;module-option name=\"password-stacking\" value=\"useFirstPass\"/&gt;\n    &lt;/login-module&gt;\n    &lt;login-module code=\"Database\" flag=\"required\"&gt;\n        &lt;module-option name=\"dsJndiName\" value=\"java:/MyDS\"/&gt;\n        &lt;module-option name=\"principalsQuery\" value=\"select password from users where user_id=?\"/&gt;\n        &lt;module-option name=\"rolesQuery\" value=\"select role, 'Roles' from roles where user_id=?\"/&gt;\n        &lt;module-option name=\"password-stacking\" value=\"useFirstPass\"/&gt;\n    &lt;/login-module&gt;\n&lt;/authentication&gt;\n&lt;/security-domain&gt;\n</code></pre>\n\n<p>I can make a lookup some ejb from standalone client and authentication is successful when I use code like this:</p>\n\n<pre><code>final Hashtable&lt;Object, Object&gt; p = new Hashtable&lt;Object, Object&gt;();\np.put(Context.URL_PKG_PREFIXES, \"org.jboss.ejb.client.naming\");\np.put(Context.SECURITY_PRINCIPAL, username);\np.put(Context.SECURITY_CREDENTIALS, password);\np.put(\"jboss.naming.client.ejb.context\", true);\np.put(Context.PROVIDER_URL, \"remote://10.10.1.18:4447\");\np.put(\"jboss.naming.client.connect.options.org.xnio.Options.SASL_POLICY_NOPLAINTEXT\", \"false\");\np.put(Context.INITIAL_CONTEXT_FACTORY, org.jboss.naming.remote.client.InitialContextFactory.class.getName());\ncontext = new InitialContext(p);\n</code></pre>\n\n<p>The problem is that if I provide wrong credentials, I see in debug console</p>\n\n<pre><code>javax.security.sasl.SaslException: Authentication failed: all available authentication mechanisms failed\n</code></pre>\n\n<p>but I can't catch it.</p>\n\n<p>Server logs (not important parts cutted):</p>\n\n<pre><code>TRACE [DatabaseServerLoginModule] initialize\nTRACE [DatabaseServerLoginModule] Security domain: FooDomain\nTRACE [DatabaseServerLoginModule] DatabaseServerLoginModule, dsJndiName=java:/MyDS\nTRACE [DatabaseServerLoginModule] principalsQuery=select password from users where user_id=?\nTRACE [DatabaseServerLoginModule] rolesQuery=select role, 'Roles' from roles where user_id=?\nTRACE [DatabaseServerLoginModule] suspendResume=true\nTRACE [DatabaseServerLoginModule] login\nTRACE [DatabaseServerLoginModule] suspendAnyTransaction\nTRACE [DatabaseServerLoginModule] Excuting query: select password from users where user_id=?, with username: test\nTRACE [DatabaseServerLoginModule] Obtained user password\nTRACE [DatabaseServerLoginModule] resumeAnyTransaction\nDEBUG [DatabaseServerLoginModule] Bad password for username=test\nTRACE [DatabaseServerLoginModule] abort\n</code></pre>\n\n<p>When I try to use LoginContext just nothing happens on server.\nConfiguration</p>\n\n<pre><code>public class DefaultJassConfiguration extends Configuration {\n@Override\npublic AppConfigurationEntry[] getAppConfigurationEntry(String name) {\n    Map options = new HashMap();\n    options.put(\"debug\", true);\n    AppConfigurationEntry[] entries = {\n            new AppConfigurationEntry(\"org.jboss.security.ClientLoginModule\", AppConfigurationEntry.LoginModuleControlFlag.REQUIRED, options)\n    };\n    return entries;\n}\n}\n</code></pre>\n\n<p>Test</p>\n\n<pre><code>Configuration.setConfiguration(new DefaultJassConfiguration());\ntry {\n        LoginContext lc = new LoginContext(\"FooDomain\", new UsernamePasswordHandler(\"test\", \"test\".toCharArray()));\n        lc.login();\n        System.out.println(lc.getSubject());\n    } catch (LoginException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>Perhaps LoginContext don't know server address? I try to add </p>\n\n<pre><code>System.setProperty(\"java.naming.provider.url\", \"remote://10.10.1.18:4447\");\n</code></pre>\n\n<p>but with no effect.</p>\n\n<p>How to make LoginContext work? Or how to catch SaslException?\nI consider to make some dummy bean with method always returned true and call it after login, but it looks ugly.</p>\n\n<p>P.S. I'm sorry for my English (It makes me a bit shy)</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":19500004,"reputation":19,"user_id":14266334,"display_name":"Jackman6"},"score":0,"creation_date":1693054531,"post_id":76976188,"comment_id":135710921,"body_markdown":"Turns out it was the graphics driver.... Thank you!","body":"Turns out it was the graphics driver.... Thank you!"}],"owner":{"account_id":19500004,"reputation":19,"user_id":14266334,"display_name":"Jackman6"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693054560,"answer_count":0,"score":0,"last_activity_date":1692957793,"creation_date":1692957793,"question_id":76976188,"body_markdown":"I don&#39;t know if I changed something accidentally, but normally things run just fine before.\r\nYesterday, I clicked runClient on Gradle, and it did not open minecraft on forge. It could not. The error is this:\r\n`[error occurred during error reporting (), id 0xc0000005, EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ff9d32b9b30]`\r\n\r\nI tried to get a log, and this is what I ended up with:\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe02b10590, pid=2248, tid=16132\r\n#\r\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.8+7 (17.0.8+7) (build 17.0.8+7)\r\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.8+7 (17.0.8+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# C  [atio6axx.dll+0x190590]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://github.com/adoptium/adoptium-support/issues\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\nI cannot add the rest because it&#39;s too big.\r\n```\r\n\r\n\r\nI&#39;ve tried clearing the cache, reinstalling IntelliJ, reinstalling Java, and restarting my PC.\r\nNothing has worked so far.\r\n\r\nNormally, clicking &#39;runClient&#39; should just load up a small window with MC on it. And the mod I developed should be in there. Last week it worked fine, but now it just doesn&#39;t. Nothing changed in the hardware of my computer, I checked for a corrupt OS but it isn&#39;t that either.","title":"Error when running client for Minecraft forge from IntelliJ","body":"<p>I don't know if I changed something accidentally, but normally things run just fine before.\nYesterday, I clicked runClient on Gradle, and it did not open minecraft on forge. It could not. The error is this:\n<code>[error occurred during error reporting (), id 0xc0000005, EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ff9d32b9b30]</code></p>\n<p>I tried to get a log, and this is what I ended up with:</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffe02b10590, pid=2248, tid=16132\n#\n# JRE version: OpenJDK Runtime Environment Temurin-17.0.8+7 (17.0.8+7) (build 17.0.8+7)\n# Java VM: OpenJDK 64-Bit Server VM Temurin-17.0.8+7 (17.0.8+7, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n# Problematic frame:\n# C  [atio6axx.dll+0x190590]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# If you would like to submit a bug report, please visit:\n#   https://github.com/adoptium/adoptium-support/issues\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  S U M M A R Y ------------\nI cannot add the rest because it's too big.\n</code></pre>\n<p>I've tried clearing the cache, reinstalling IntelliJ, reinstalling Java, and restarting my PC.\nNothing has worked so far.</p>\n<p>Normally, clicking 'runClient' should just load up a small window with MC on it. And the mod I developed should be in there. Last week it worked fine, but now it just doesn't. Nothing changed in the hardware of my computer, I checked for a corrupt OS but it isn't that either.</p>\n"},{"tags":["java","spring-boot","datadog","graalvm-native-image"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1692976973,"post_id":76976153,"comment_id":135703060,"body_markdown":"[This issue](https://github.com/oracle/graal/issues/1065) seems relevant","body":"<a href=\"https://github.com/oracle/graal/issues/1065\" rel=\"nofollow noreferrer\">This issue</a> seems relevant"}],"owner":{"account_id":1605165,"reputation":1630,"user_id":1485401,"accept_rate":91,"display_name":"Roman T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692957462,"creation_date":1692957462,"question_id":76976153,"body_markdown":"I use spring boot 3.1.x and I prepared a native images with Spring Boot GraalVM tooling. Previously with using fat jar we passed datadog java agent to application to add tracing like that:\r\n```\r\njava -javaagent:/usr/src/app/dd-java-agent.jar -jar app-fat-jar.jar\r\n```\r\nAfter compiling a native image I tried to pass it to the executable in the same manner:\r\n```\r\n/cnb/process/web -javaagent:/workspace/dd-java-agent.jar\r\n```\r\nBut it seems not to have any effect on running native image. So the datadog traces don&#39;t get exported to datadog at all.\r\n\r\nAny idea how to fix it?","title":"Datadog java agent and GraalVM native executable","body":"<p>I use spring boot 3.1.x and I prepared a native images with Spring Boot GraalVM tooling. Previously with using fat jar we passed datadog java agent to application to add tracing like that:</p>\n<pre><code>java -javaagent:/usr/src/app/dd-java-agent.jar -jar app-fat-jar.jar\n</code></pre>\n<p>After compiling a native image I tried to pass it to the executable in the same manner:</p>\n<pre><code>/cnb/process/web -javaagent:/workspace/dd-java-agent.jar\n</code></pre>\n<p>But it seems not to have any effect on running native image. So the datadog traces don't get exported to datadog at all.</p>\n<p>Any idea how to fix it?</p>\n"},{"tags":["java","tiff","javax.imageio","twelvemonkeys"],"comments":[{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":3,"creation_date":1692790615,"post_id":76960852,"comment_id":135671606,"body_markdown":"This is mostly speculation, but: Tiffs are a big, lossless file format. Typically they&#39;re used to store source files prior to editing, not output files. Very few people want to *output* Tiff files. At a guess I would say the size is expected, and the speed (vs png) is a combination of Tiff producing *much* larger files, and the Tiff encoder being much less optimized than the PNG encoder, due to lack of use.","body":"This is mostly speculation, but: Tiffs are a big, lossless file format. Typically they&#39;re used to store source files prior to editing, not output files. Very few people want to <i>output</i> Tiff files. At a guess I would say the size is expected, and the speed (vs png) is a combination of Tiff producing <i>much</i> larger files, and the Tiff encoder being much less optimized than the PNG encoder, due to lack of use."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1692802872,"post_id":76960852,"comment_id":135674455,"body_markdown":"Disk I/O is slow.  Compression is probably the best way to address that.  I’m not sure what you mean by “extra compression”;  would you consider writing a [compressed TIFF](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html#Compression)?","body":"Disk I/O is slow.  Compression is probably the best way to address that.  I’m not sure what you mean by “extra compression”;  would you consider writing a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/imageio/metadata/doc-files/tiff_metadata.html#Compression\" rel=\"nofollow noreferrer\">compressed TIFF</a>?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1692804433,"post_id":76960852,"comment_id":135674826,"body_markdown":"First, I have to say that 5 minutes seems unreasonably long, for writing a 25 MB TIFF... Seems something is off... If I/O is the big bottleneck here, I would expect writing a 25 MB TIFF to take about 2x the time writing a 12 MB PNG. Please tell more about your environment, like Java version, OS, type of disk, memory etc. 5 minutes makes it sound like your process is very low on memory.","body":"First, I have to say that 5 minutes seems unreasonably long, for writing a 25 MB TIFF... Seems something is off... If I/O is the big bottleneck here, I would expect writing a 25 MB TIFF to take about 2x the time writing a 12 MB PNG. Please tell more about your environment, like Java version, OS, type of disk, memory etc. 5 minutes makes it sound like your process is very low on memory."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1692804609,"post_id":76960852,"comment_id":135674866,"body_markdown":"That said, the TwelveMonkeys TIFF plugin does write uncompressed by default (for historical reasons). You could try specifying a compression, like &quot;deflate&quot; which should produce a size similar to that of PNG (although the TIFF &quot;horizontal predictor&quot; is less sophisticated than PNG&#39;s predictor, so expect slightly larger files).","body":"That said, the TwelveMonkeys TIFF plugin does write uncompressed by default (for historical reasons). You could try specifying a compression, like &quot;deflate&quot; which should produce a size similar to that of PNG (although the TIFF &quot;horizontal predictor&quot; is less sophisticated than PNG&#39;s predictor, so expect slightly larger files)."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":2,"creation_date":1692811995,"post_id":76960852,"comment_id":135676292,"body_markdown":"I made a small sample program, writing a 3400x2550 `TYPE_3BYTE_BGR` (~25MB) image with a gradient. The results on my 2019 MBP/i7 with decent SSD was: \nPNG size: 303385/time: 396ms,\nJPEG size: 143073/time: 125ms,\nTIFF uncompressed size: 26010190/time: 88ms,\nTIFF deflate/zlib compressed size: 686038/time: 189ms. Yes, all times in *milliseconds*. In other words... 5 minutes sounds VERY odd.","body":"I made a small sample program, writing a 3400x2550 <code>TYPE_3BYTE_BGR</code> (~25MB) image with a gradient. The results on my 2019 MBP/i7 with decent SSD was:  PNG size: 303385/time: 396ms, JPEG size: 143073/time: 125ms, TIFF uncompressed size: 26010190/time: 88ms, TIFF deflate/zlib compressed size: 686038/time: 189ms. Yes, all times in <i>milliseconds</i>. In other words... 5 minutes sounds VERY odd."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1692955458,"post_id":76960852,"comment_id":135698074,"body_markdown":"Sorry about the delay. @user229044 I&#39;m aware TIFF isn&#39;t used as much and that it creates larger files than e.g. png but storage isn&#39;t a problem and the people these files are for are in a field that mostly uses TIFF. I don&#39;t expect TIFF to be exported as fast as e.g. png but 5 minutes seems a bit off and I&#39;m wondering if I missed something in Twelve Monkeys that might be obvious to others.","body":"Sorry about the delay. @user229044 I&#39;m aware TIFF isn&#39;t used as much and that it creates larger files than e.g. png but storage isn&#39;t a problem and the people these files are for are in a field that mostly uses TIFF. I don&#39;t expect TIFF to be exported as fast as e.g. png but 5 minutes seems a bit off and I&#39;m wondering if I missed something in Twelve Monkeys that might be obvious to others."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1692955893,"post_id":76960852,"comment_id":135698168,"body_markdown":"@VGR Sorry, my mistake. I just checked again, comparing the imported to the exported TIFF and the former uses LZW compresses, which would at least explain the size difference. Using LZW for the exported file would be okay too (haven&#39;t checked yet if that&#39;s possible with this library). The link you provided is for JDK 20, I&#39;m using Java 8.","body":"@VGR Sorry, my mistake. I just checked again, comparing the imported to the exported TIFF and the former uses LZW compresses, which would at least explain the size difference. Using LZW for the exported file would be okay too (haven&#39;t checked yet if that&#39;s possible with this library). The link you provided is for JDK 20, I&#39;m using Java 8."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1692956639,"post_id":76960852,"comment_id":135698326,"body_markdown":"@HaraldK Yes, 5 minutes does seem off, looking at how fast exporting as png/jpg is, that&#39;s why I asked this question, maybe I missed something in the library that&#39;s obvious to others. I&#39;m using: Java 8, Win 10, old Ivy Bridge Xeon, 24gb RAM, both my Java project and the images (about 2700x3400) are on the system SSD (Samsung 860 EVO). I made a mistake, the input files use LZW compression, so that one would be fine for the exported ones too. Not sure if the library supports that one (haven&#39;t checked yet). MBP?","body":"@HaraldK Yes, 5 minutes does seem off, looking at how fast exporting as png/jpg is, that&#39;s why I asked this question, maybe I missed something in the library that&#39;s obvious to others. I&#39;m using: Java 8, Win 10, old Ivy Bridge Xeon, 24gb RAM, both my Java project and the images (about 2700x3400) are on the system SSD (Samsung 860 EVO). I made a mistake, the input files use LZW compression, so that one would be fine for the exported ones too. Not sure if the library supports that one (haven&#39;t checked yet). MBP?"},{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1692973879,"post_id":76960852,"comment_id":135702247,"body_markdown":"If 5 minutes is an actual, timed number, yes, that is absurd. I assumed that was an exaggeration, similar to calling a 25 mb tiff &quot;huge&quot; (that&#39;s a very normal sized tiff).","body":"If 5 minutes is an actual, timed number, yes, that is absurd. I assumed that was an exaggeration, similar to calling a 25 mb tiff &quot;huge&quot; (that&#39;s a very normal sized tiff)."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1693156414,"post_id":76960852,"comment_id":135719844,"body_markdown":"Hmmm.. Just remembered this: https://github.com/haraldk/TwelveMonkeys/issues/744... Which version of the library are you using? Perhaps upgrading will fix it... &#128512;","body":"Hmmm.. Just remembered this: <a href=\"https://github.com/haraldk/TwelveMonkeys/issues/744\" rel=\"nofollow noreferrer\">github.com/haraldk/TwelveMonkeys/issues/744</a>... Which version of the library are you using? Perhaps upgrading will fix it... 😀"},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1693215290,"post_id":76960852,"comment_id":135725981,"body_markdown":"@user229044 I didn&#39;t time it the first couple of tries (only added that code after it took so long) but I checked the Win clock. The latest test (just now) took 322s seconds.","body":"@user229044 I didn&#39;t time it the first couple of tries (only added that code after it took so long) but I checked the Win clock. The latest test (just now) took 322s seconds."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":0,"creation_date":1693215885,"post_id":76960852,"comment_id":135726113,"body_markdown":"@HaraldK Thanks for the link! I wanted to post on their issues page first but they tell you to use Stackexchange instead, no idea how I missed that. But yes, I&#39;m using exactly that version (3.9.4), which is the latest/only version in the &quot;Links to prebuilt binaries&quot; section (older versions can be found [here](https://repo1.maven.org/maven2/com/twelvemonkeys/common/common-lang/)). There are a lot of snapshot jars [here](https://oss.sonatype.org/content/repositories/snapshots/com/twelvemonkeys/common/), should I just take the latest ones (from August 25th)? Does TM support LZW compression?","body":"@HaraldK Thanks for the link! I wanted to post on their issues page first but they tell you to use Stackexchange instead, no idea how I missed that. But yes, I&#39;m using exactly that version (3.9.4), which is the latest/only version in the &quot;Links to prebuilt binaries&quot; section (older versions can be found <a href=\"https://repo1.maven.org/maven2/com/twelvemonkeys/common/common-lang/\" rel=\"nofollow noreferrer\">here</a>). There are a lot of snapshot jars <a href=\"https://oss.sonatype.org/content/repositories/snapshots/com/twelvemonkeys/common/\" rel=\"nofollow noreferrer\">here</a>, should I just take the latest ones (from August 25th)? Does TM support LZW compression?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1693218137,"post_id":76960852,"comment_id":135726506,"body_markdown":"I see. I just have a bit too much on my plate these days... &#128533; Should make a new release soon. Try the latest 3.10.0-SNAPSHOT! And yes, LZW compression is supported, but it&#39;s probably not as fast as Deflate/ZLib.","body":"I see. I just have a bit too much on my plate these days... 😕 Should make a new release soon. Try the latest 3.10.0-SNAPSHOT! And yes, LZW compression is supported, but it&#39;s probably not as fast as Deflate/ZLib."},{"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"score":1,"creation_date":1693828332,"post_id":76960852,"comment_id":135807431,"body_markdown":"@HaraldK Thanks for your help (didn&#39;t see you are the author)! I tested it with the &quot;20230829.085702&quot; snapshot files and now the same tiffs only take around 280ms to export - it&#39;s even faster than png (2s) and about the same as jpg (~290ms). :) I also managed to get LZW compression to work (like [this](https://github.com/haraldk/TwelveMonkeys/issues/439)), the export takes a little bit longer (800-900ms, &quot;Deflate&quot; takes 4s) but even with default compression quality the exported files are smaller than the imported ones.","body":"@HaraldK Thanks for your help (didn&#39;t see you are the author)! I tested it with the &quot;20230829.085702&quot; snapshot files and now the same tiffs only take around 280ms to export - it&#39;s even faster than png (2s) and about the same as jpg (~290ms). :) I also managed to get LZW compression to work (like <a href=\"https://github.com/haraldk/TwelveMonkeys/issues/439\" rel=\"nofollow noreferrer\">this</a>), the export takes a little bit longer (800-900ms, &quot;Deflate&quot; takes 4s) but even with default compression quality the exported files are smaller than the imported ones."}],"owner":{"account_id":2294271,"reputation":1873,"user_id":2016165,"accept_rate":45,"display_name":"Neph"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692956766,"creation_date":1692789503,"question_id":76960852,"body_markdown":"I&#39;m using the &quot;Twelve Monkeys&quot; ([Github][1]) library to read a .tif/.tiff file in Java 8, add a logo and export the new image as a new .tif/.tiff file:\r\n\r\n    try {\r\n        BufferedImage buffLogo = ImageIO.read(fLogo);\r\n        BufferedImage buffInput = ImageIO.read(fImg);\r\n        int image_type = buffInput.getType();\r\n    \r\n        //Computing correct position and size of logo here...\r\n    \r\n        BufferedImage buffOutput = new BufferedImage(buffInput.getWidth(), buffInput.getHeight(), image_type);\r\n        File out = new File(outputImg);\r\n    \r\n        Graphics2D g = buffOutput.createGraphics();\r\n        g.drawImage(buffInput, 0,0,null);\r\n        g.drawImage(buffLogo, pos_x,pos_y,size_x,size_y,null);\r\n        g.dispose();\r\n    \r\n        System.out.println(&quot;Beginning to write to: &#39;&quot;+out.getAbsolutePath()+&quot;&#39;&quot;);\r\n        long start = System.currentTimeMillis();\r\n        ImageIO.write(buffOutput, &quot;tif&quot;, out);\r\n        long dur = (System.currentTimeMillis() - start) / 1000;\r\n        System.out.println(&quot;Writing finished successfully (&quot;+dur+&quot;s)!&quot;);\r\n    } catch (IOException e) {\r\n        System.out.println(&quot;Exception:\\n&quot;+e.getMessage());\r\n    }\r\n\r\nThe input files I&#39;ve tested this with so far are about 12mb each, `TYPE_3BYTE_BGR` and use LZW compression. Exporting as .png only takes a couple of seconds and the files are slightly smaller than the originals. Jpg is even faster and each file is &lt;1mb. If I export as .tif/.tiff, then `ImageIO.write` not only takes about 5 minutes to finish writing a single file but the files are also huge, about 25mb with the same type (more with e.g. `TYPE_INT_ARGB` but I don&#39;t need transparency).\r\n\r\nIs that just the way the library works or is there anything specific I have to do, any specific parameters I have to set or other functions to use to make exporting tifs faster and the resulting files a lot smaller (more like the original size, edit: LZW compression would be fine)?\r\n\r\n  [1]: https://github.com/haraldk/TwelveMonkeys","title":"Exporting TIFF takes a long time and creates big files","body":"<p>I'm using the &quot;Twelve Monkeys&quot; (<a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">Github</a>) library to read a .tif/.tiff file in Java 8, add a logo and export the new image as a new .tif/.tiff file:</p>\n<pre><code>try {\n    BufferedImage buffLogo = ImageIO.read(fLogo);\n    BufferedImage buffInput = ImageIO.read(fImg);\n    int image_type = buffInput.getType();\n\n    //Computing correct position and size of logo here...\n\n    BufferedImage buffOutput = new BufferedImage(buffInput.getWidth(), buffInput.getHeight(), image_type);\n    File out = new File(outputImg);\n\n    Graphics2D g = buffOutput.createGraphics();\n    g.drawImage(buffInput, 0,0,null);\n    g.drawImage(buffLogo, pos_x,pos_y,size_x,size_y,null);\n    g.dispose();\n\n    System.out.println(&quot;Beginning to write to: '&quot;+out.getAbsolutePath()+&quot;'&quot;);\n    long start = System.currentTimeMillis();\n    ImageIO.write(buffOutput, &quot;tif&quot;, out);\n    long dur = (System.currentTimeMillis() - start) / 1000;\n    System.out.println(&quot;Writing finished successfully (&quot;+dur+&quot;s)!&quot;);\n} catch (IOException e) {\n    System.out.println(&quot;Exception:\\n&quot;+e.getMessage());\n}\n</code></pre>\n<p>The input files I've tested this with so far are about 12mb each, <code>TYPE_3BYTE_BGR</code> and use LZW compression. Exporting as .png only takes a couple of seconds and the files are slightly smaller than the originals. Jpg is even faster and each file is &lt;1mb. If I export as .tif/.tiff, then <code>ImageIO.write</code> not only takes about 5 minutes to finish writing a single file but the files are also huge, about 25mb with the same type (more with e.g. <code>TYPE_INT_ARGB</code> but I don't need transparency).</p>\n<p>Is that just the way the library works or is there anything specific I have to do, any specific parameters I have to set or other functions to use to make exporting tifs faster and the resulting files a lot smaller (more like the original size, edit: LZW compression would be fine)?</p>\n"},{"tags":["java","fingerprint","musicg"],"answers":[{"comments":[{"owner":{"account_id":3913302,"reputation":1664,"user_id":3237946,"accept_rate":73,"display_name":"anatoli"},"score":0,"creation_date":1484338944,"post_id":41641092,"comment_id":70485537,"body_markdown":"this cannot be used for mp3 files, what i need","body":"this cannot be used for mp3 files, what i need"}],"tags":[],"owner":{"account_id":2114000,"reputation":1,"user_id":1878676,"display_name":"user1878676"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484331769,"creation_date":1484331769,"answer_id":41641092,"question_id":40358055,"body_markdown":"For FingerprintSimilarityComputer(input1, input2), it suppose to take in the fingerprint of the loaded audio data and not the loaded audio data itself.\r\n\r\nIn your case, it should be:\r\n\r\n    // Convert your audio to wav using FFMpeg\r\n\r\n    Wave w1 = new Wave(&quot;first.wav&quot;);\r\n    Wave w2 = new Wave(&quot;second.wav&quot;);\r\n\r\n    FingerprintSimilarityComputer fingerprint = \r\n            new FingerprintSimilarityComputer(w1.getFingerprint(), w2.getFingerprint());\r\n\r\n    // print fingerprint.getFingerprintSimilarity()","title":"Java compare two audio files with fingerprint","body":"<p>For FingerprintSimilarityComputer(input1, input2), it suppose to take in the fingerprint of the loaded audio data and not the loaded audio data itself.</p>\n\n<p>In your case, it should be:</p>\n\n<pre><code>// Convert your audio to wav using FFMpeg\n\nWave w1 = new Wave(\"first.wav\");\nWave w2 = new Wave(\"second.wav\");\n\nFingerprintSimilarityComputer fingerprint = \n        new FingerprintSimilarityComputer(w1.getFingerprint(), w2.getFingerprint());\n\n// print fingerprint.getFingerprintSimilarity()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3913302,"reputation":1664,"user_id":3237946,"accept_rate":73,"display_name":"anatoli"},"score":0,"creation_date":1491768408,"post_id":43311123,"comment_id":73687504,"body_markdown":"Is interessant idea (I self have currently a similar solution, to compare files), but nevertheless i want to use a fingerprint","body":"Is interessant idea (I self have currently a similar solution, to compare files), but nevertheless i want to use a fingerprint"}],"tags":[],"owner":{"account_id":2370886,"reputation":2194,"user_id":2075537,"accept_rate":55,"display_name":"Torge"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680164829,"creation_date":1491767122,"answer_id":43311123,"question_id":40358055,"body_markdown":"Maybe I am missing a point, but if I understood you right, this should do:\r\n\r\n    byte[] firstAudio = readAudioFileData(&quot;first.mp3&quot;);\r\n    byte[] secondAudio = readAudioFileData(&quot;second.mp3&quot;);\r\n\r\n    byte[] smaller = firstAudio.length &lt;= secondAudio.length ? firstAudio : secondAudio;\r\n    byte[] bigger = firstAudio.length &gt; secondAudio.length ? firstAudio : secondAudio;\r\n\r\n    int ixS = 0;\r\n    int ixB = 0;\r\n\r\n    boolean contains = false;\r\n\r\n    for (; ixB&lt;bigger.length; ixB++) {\r\n        \r\n        if (smaller[ixS] == bigger[ixB]) {\r\n            ixS++;\r\n            if (ixS == smaller.length) {\r\n                contains = true;\r\n                break;\r\n            }\r\n        }\r\n        else {\r\n            ixS = 0;\r\n        }\r\n    }\r\n\r\n    if (contains) {\r\n        if (smaller.length == bigger.length) {\r\n            System.out.println(&quot;Both tracks are equal&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;The bigger track, fully contains the smaller track starting at byte: &quot;+(ixB-smaller.lenght));\r\n        }\r\n    }\r\n    else {\r\n        System.out.println(&quot;No track completely contains the other track&quot;);\r\n    }","title":"Java compare two audio files with fingerprint","body":"<p>Maybe I am missing a point, but if I understood you right, this should do:</p>\n<pre><code>byte[] firstAudio = readAudioFileData(&quot;first.mp3&quot;);\nbyte[] secondAudio = readAudioFileData(&quot;second.mp3&quot;);\n\nbyte[] smaller = firstAudio.length &lt;= secondAudio.length ? firstAudio : secondAudio;\nbyte[] bigger = firstAudio.length &gt; secondAudio.length ? firstAudio : secondAudio;\n\nint ixS = 0;\nint ixB = 0;\n\nboolean contains = false;\n\nfor (; ixB&lt;bigger.length; ixB++) {\n    \n    if (smaller[ixS] == bigger[ixB]) {\n        ixS++;\n        if (ixS == smaller.length) {\n            contains = true;\n            break;\n        }\n    }\n    else {\n        ixS = 0;\n    }\n}\n\nif (contains) {\n    if (smaller.length == bigger.length) {\n        System.out.println(&quot;Both tracks are equal&quot;);\n    }\n    else {\n        System.out.println(&quot;The bigger track, fully contains the smaller track starting at byte: &quot;+(ixB-smaller.lenght));\n    }\n}\nelse {\n    System.out.println(&quot;No track completely contains the other track&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3913302,"reputation":1664,"user_id":3237946,"accept_rate":73,"display_name":"anatoli"},"score":0,"creation_date":1491915174,"post_id":43315074,"comment_id":73756038,"body_markdown":"By making of programm to compare over 1000 mp3 songs, this would be a bad solution","body":"By making of programm to compare over 1000 mp3 songs, this would be a bad solution"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1491928664,"post_id":43315074,"comment_id":73766420,"body_markdown":"Please qualify your comment, the way it is it is just judgemental, but not very useful. &quot;Bad solution&quot; why? Because of storage space? CPU usage? Time needed for conversion? BTW, it is not very good style to present code for a single pair of files, not mentioning the need for batch processing at all. Quote: &quot;How can I compare 2 mp3 files with fingerprint in Java?&quot; I have answered your question correctly. If you think this solution is &quot;bad&quot;, maybe you want choose a better library doing exactly what you imagine in a single step. I have no magic wand for you.","body":"Please qualify your comment, the way it is it is just judgemental, but not very useful. &quot;Bad solution&quot; why? Because of storage space? CPU usage? Time needed for conversion? BTW, it is not very good style to present code for a single pair of files, not mentioning the need for batch processing at all. Quote: &quot;How can I compare 2 mp3 files with fingerprint in Java?&quot; I have answered your question correctly. If you think this solution is &quot;bad&quot;, maybe you want choose a better library doing exactly what you imagine in a single step. I have no magic wand for you."},{"owner":{"account_id":3913302,"reputation":1664,"user_id":3237946,"accept_rate":73,"display_name":"anatoli"},"score":0,"creation_date":1491934967,"post_id":43315074,"comment_id":73770199,"body_markdown":"yay, my fault. I just thought there is a simpler solution to compare mp3 files, since there are quite fast programs for comparison over many files. Thanks","body":"yay, my fault. I just thought there is a simpler solution to compare mp3 files, since there are quite fast programs for comparison over many files. Thanks"}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1491799088,"creation_date":1491799088,"answer_id":43315074,"question_id":40358055,"body_markdown":"I never did any audio stuff in Java before, but I looked into your code briefly. I think that _musicg_ only works for WAV files, not for MP3. Thus, you need to convert the files first. A web search reveals that you can e.g. use [JLayer](http://www.javazoom.net/javalayer/javalayer.html) for that purpose. The corresponding code looks like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.so;\r\n    \r\n    import com.musicg.fingerprint.FingerprintManager;\r\n    import com.musicg.fingerprint.FingerprintSimilarity;\r\n    import com.musicg.fingerprint.FingerprintSimilarityComputer;\r\n    import com.musicg.wave.Wave;\r\n    import javazoom.jl.converter.Converter;\r\n    import javazoom.jl.decoder.JavaLayerException;\r\n    \r\n    public class Application {\r\n      public static void main(String[] args) throws JavaLayerException {\r\n        // MP3 to WAV\r\n        new Converter().convert(&quot;White Wedding.mp3&quot;, &quot;White Wedding.wav&quot;);\r\n        new Converter().convert(&quot;Poison.mp3&quot;, &quot;Poison.wav&quot;);\r\n        // Fingerprint from WAV\r\n        byte[] firstFingerPrint = new FingerprintManager().extractFingerprint(new Wave(&quot;White Wedding.wav&quot;));\r\n        byte[] secondFingerPrint = new FingerprintManager().extractFingerprint(new Wave(&quot;Poison.wav&quot;));\r\n        // Compare fingerprints\r\n        FingerprintSimilarity fingerprintSimilarity = new FingerprintSimilarityComputer(firstFingerPrint, secondFingerPrint).getFingerprintsSimilarity();\r\n        System.out.println(&quot;Similarity score = &quot; + fingerprintSimilarity.getScore());\r\n      }\r\n    }\r\n\r\nOf course you should make sure that you do not convert each file again whenever the program starts, i.e. you should check if the WAV files already exist. I skipped this step and reduced the sample code to a minimal working version.","title":"Java compare two audio files with fingerprint","body":"<p>I never did any audio stuff in Java before, but I looked into your code briefly. I think that <em>musicg</em> only works for WAV files, not for MP3. Thus, you need to convert the files first. A web search reveals that you can e.g. use <a href=\"http://www.javazoom.net/javalayer/javalayer.html\" rel=\"nofollow noreferrer\">JLayer</a> for that purpose. The corresponding code looks like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.so;\n\nimport com.musicg.fingerprint.FingerprintManager;\nimport com.musicg.fingerprint.FingerprintSimilarity;\nimport com.musicg.fingerprint.FingerprintSimilarityComputer;\nimport com.musicg.wave.Wave;\nimport javazoom.jl.converter.Converter;\nimport javazoom.jl.decoder.JavaLayerException;\n\npublic class Application {\n  public static void main(String[] args) throws JavaLayerException {\n    // MP3 to WAV\n    new Converter().convert(\"White Wedding.mp3\", \"White Wedding.wav\");\n    new Converter().convert(\"Poison.mp3\", \"Poison.wav\");\n    // Fingerprint from WAV\n    byte[] firstFingerPrint = new FingerprintManager().extractFingerprint(new Wave(\"White Wedding.wav\"));\n    byte[] secondFingerPrint = new FingerprintManager().extractFingerprint(new Wave(\"Poison.wav\"));\n    // Compare fingerprints\n    FingerprintSimilarity fingerprintSimilarity = new FingerprintSimilarityComputer(firstFingerPrint, secondFingerPrint).getFingerprintsSimilarity();\n    System.out.println(\"Similarity score = \" + fingerprintSimilarity.getScore());\n  }\n}\n</code></pre>\n\n<p>Of course you should make sure that you do not convert each file again whenever the program starts, i.e. you should check if the WAV files already exist. I skipped this step and reduced the sample code to a minimal working version.</p>\n"}],"owner":{"account_id":3913302,"reputation":1664,"user_id":3237946,"accept_rate":73,"display_name":"anatoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5977,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":43315074,"answer_count":3,"score":5,"last_activity_date":1692956548,"creation_date":1477995474,"question_id":40358055,"body_markdown":"I want find out, if two audio files are same or one contains the other.\r\n\r\nFor this I use Fingerprint of [musicg][1] \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    byte[] firstAudio = readAudioFileData(&quot;first.mp3&quot;);\r\n    byte[] secondAudio = readAudioFileData(&quot;second.mp3&quot;);\r\n        \r\n    FingerprintSimilarityComputer fingerprint = \r\n        \t\tnew FingerprintSimilarityComputer(firstAudio, secondAudio);\r\n        \r\n    FingerprintSimilarity fingerprintSimilarity = fingerprint.getFingerprintsSimilarity();\r\n\r\n    System.out.println(&quot;clip is found at &quot; + fingerprintSimilarity.getScore());\r\n        \r\nto convert audio to byte array I use sound API\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static byte[] readAudioFileData(final String filePath) {\r\n        byte[] data = null;\r\n        try {\r\n            final ByteArrayOutputStream baout = new ByteArrayOutputStream();\r\n            final File file = new File(filePath);\r\n            final AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(file);\r\n\r\n            byte[] buffer = new byte[4096];\r\n            int c;\r\n            while ((c = audioInputStream.read(buffer, 0, buffer.length)) != -1) {\r\n                baout.write(buffer, 0, c);\r\n            }\r\n            audioInputStream.close();\r\n            baout.close();\r\n            data = baout.toByteArray();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return data;\r\n    }\r\n\r\nbut when I execute it, I became at `fingerprint.getFingerprintsSimilarity()` an `Exception`.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 15999\r\n\tat com.musicg.fingerprint.PairManager.getPairPositionList(PairManager.java:133)\r\n\tat com.musicg.fingerprint.PairManager.getPair_PositionList_Table(PairManager.java:80)\r\n\tat com.musicg.fingerprint.FingerprintSimilarityComputer.getFingerprintsSimilarity(FingerprintSimilarityComputer.java:71)\r\n\tat Main.main(Main.java:42)\r\n\r\nHow can I compare 2 mp3 files with fingerprint in Java?\r\n\r\n  [1]: https://code.google.com/archive/p/musicg/","title":"Java compare two audio files with fingerprint","body":"<p>I want find out, if two audio files are same or one contains the other.</p>\n\n<p>For this I use Fingerprint of <a href=\"https://code.google.com/archive/p/musicg/\" rel=\"noreferrer\">musicg</a> </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>byte[] firstAudio = readAudioFileData(\"first.mp3\");\nbyte[] secondAudio = readAudioFileData(\"second.mp3\");\n\nFingerprintSimilarityComputer fingerprint = \n            new FingerprintSimilarityComputer(firstAudio, secondAudio);\n\nFingerprintSimilarity fingerprintSimilarity = fingerprint.getFingerprintsSimilarity();\n\nSystem.out.println(\"clip is found at \" + fingerprintSimilarity.getScore());\n</code></pre>\n\n<p>to convert audio to byte array I use sound API</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] readAudioFileData(final String filePath) {\n    byte[] data = null;\n    try {\n        final ByteArrayOutputStream baout = new ByteArrayOutputStream();\n        final File file = new File(filePath);\n        final AudioInputStream audioInputStream = AudioSystem.getAudioInputStream(file);\n\n        byte[] buffer = new byte[4096];\n        int c;\n        while ((c = audioInputStream.read(buffer, 0, buffer.length)) != -1) {\n            baout.write(buffer, 0, c);\n        }\n        audioInputStream.close();\n        baout.close();\n        data = baout.toByteArray();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return data;\n}\n</code></pre>\n\n<p>but when I execute it, I became at <code>fingerprint.getFingerprintsSimilarity()</code> an <code>Exception</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: 15999\nat com.musicg.fingerprint.PairManager.getPairPositionList(PairManager.java:133)\nat com.musicg.fingerprint.PairManager.getPair_PositionList_Table(PairManager.java:80)\nat com.musicg.fingerprint.FingerprintSimilarityComputer.getFingerprintsSimilarity(FingerprintSimilarityComputer.java:71)\nat Main.main(Main.java:42)\n</code></pre>\n\n<p>How can I compare 2 mp3 files with fingerprint in Java?</p>\n"},{"tags":["java","exception","lombok","checked-exceptions","intellij-lombok-plugin"],"answers":[{"comments":[{"owner":{"account_id":872516,"reputation":5591,"user_id":923041,"accept_rate":75,"display_name":"eekboom"},"score":4,"creation_date":1636649326,"post_id":64209043,"comment_id":123619249,"body_markdown":"IMHO this answer does not make much sense: What is &quot;it&quot; and &quot;itself&quot;? What are &quot;older versions of Java 8&quot; (compare to &quot;newer versions of Java 8&quot;?) What are &quot;kinda state machine programs&quot; and what do they have to do with @SneakyThrows?","body":"IMHO this answer does not make much sense: What is &quot;it&quot; and &quot;itself&quot;? What are &quot;older versions of Java 8&quot; (compare to &quot;newer versions of Java 8&quot;?) What are &quot;kinda state machine programs&quot; and what do they have to do with @SneakyThrows?"}],"tags":[],"owner":{"account_id":4750084,"reputation":2929,"user_id":3840344,"accept_rate":73,"display_name":"Raghuveer"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1601903234,"creation_date":1601902531,"answer_id":64209043,"question_id":64208790,"body_markdown":"In the JAVA 8 and above when using lambda especially its not an easy way to use. \r\n\r\n1. Consider it mostly for older versions of Java 8.\r\n2. The purpose itself is to throw an exception deliberately for example for warning. By this the other services/program/code can identify how the request/response flow should be handled. If you already have mechanism in place no need to worry about it.\r\n\r\n`@SneakyThrows` is not of much use in current traditional application development, could be used in some kinda state machine programs where it would be necessary (i do not have expertise in it though) to determine the state of the programs current flow. This is just 1 example of different scenarios there maybe more.","title":"Application of @Sneaky Throws in lombok","body":"<p>In the JAVA 8 and above when using lambda especially its not an easy way to use.</p>\n<ol>\n<li>Consider it mostly for older versions of Java 8.</li>\n<li>The purpose itself is to throw an exception deliberately for example for warning. By this the other services/program/code can identify how the request/response flow should be handled. If you already have mechanism in place no need to worry about it.</li>\n</ol>\n<p><code>@SneakyThrows</code> is not of much use in current traditional application development, could be used in some kinda state machine programs where it would be necessary (i do not have expertise in it though) to determine the state of the programs current flow. This is just 1 example of different scenarios there maybe more.</p>\n"},{"comments":[{"owner":{"account_id":13651172,"reputation":804,"user_id":9849018,"display_name":"Shivanshu"},"score":0,"creation_date":1601903377,"post_id":64209225,"comment_id":113541911,"body_markdown":"You mean only to remove throws from method declaration , we use it , right ?","body":"You mean only to remove throws from method declaration , we use it , right ?"},{"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"score":4,"creation_date":1601903921,"post_id":64209225,"comment_id":113542162,"body_markdown":"It means any caller of the method will be unaware of the Exception explicitly being thrown and with not need to explicitly add a try-catch block, or a throws to that method declaration. I hope that makes sense?","body":"It means any caller of the method will be unaware of the Exception explicitly being thrown and with not need to explicitly add a try-catch block, or a throws to that method declaration. I hope that makes sense?"},{"owner":{"account_id":4910770,"reputation":906,"user_id":3988992,"accept_rate":65,"display_name":"RBz"},"score":1,"creation_date":1629635188,"post_id":64209225,"comment_id":121733513,"body_markdown":"The comment makes more sense.","body":"The comment makes more sense."}],"tags":[],"owner":{"account_id":5379853,"reputation":535,"user_id":4285435,"display_name":"MarkAddison"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1601903150,"creation_date":1601903150,"answer_id":64209225,"question_id":64208790,"body_markdown":"I believe the intention here is to cause the compiler to not require a throws whatever Exception to be added to the method declaration.\r\n\r\nFor example if the method was\r\n\r\n    public void throwsCheckedException() {\r\n        throw new IOException(&quot;IO exception thrown&quot;);\r\n    }\r\n\r\nThis would cause a compile time exception requiring\r\n\r\n    public void throwsCheckedException() throws IOException {\r\n        throw new IOException(&quot;IO exception thrown&quot;);\r\n    }\r\n\r\nThe annotation @SneakThrows mitigates this - original method declared as\r\n\r\n    @SneakyThrows\r\n    public void throwsCheckedException() {\r\n        throw new IOException(&quot;IO exception thrown&quot;);\r\n    }\r\n\r\nThis will not cause a compile time error.\r\nNote IDEs might still highlight this as an error, for example in IntelliJ you will need to utilise the Lombok plugin.","title":"Application of @Sneaky Throws in lombok","body":"<p>I believe the intention here is to cause the compiler to not require a throws whatever Exception to be added to the method declaration.</p>\n<p>For example if the method was</p>\n<pre><code>public void throwsCheckedException() {\n    throw new IOException(&quot;IO exception thrown&quot;);\n}\n</code></pre>\n<p>This would cause a compile time exception requiring</p>\n<pre><code>public void throwsCheckedException() throws IOException {\n    throw new IOException(&quot;IO exception thrown&quot;);\n}\n</code></pre>\n<p>The annotation @SneakThrows mitigates this - original method declared as</p>\n<pre><code>@SneakyThrows\npublic void throwsCheckedException() {\n    throw new IOException(&quot;IO exception thrown&quot;);\n}\n</code></pre>\n<p>This will not cause a compile time error.\nNote IDEs might still highlight this as an error, for example in IntelliJ you will need to utilise the Lombok plugin.</p>\n"},{"comments":[{"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"score":0,"creation_date":1701682208,"post_id":64209669,"comment_id":136801506,"body_markdown":"And what you will do when you&#39;ll want to modify method parseNonSneaky to throw some especial exception which you&#39;ll want to catch &amp; handle in other places which invoke it upper in call hierarchy?","body":"And what you will do when you&#39;ll want to modify method parseNonSneaky to throw some especial exception which you&#39;ll want to catch &amp; handle in other places which invoke it upper in call hierarchy?"}],"tags":[],"owner":{"account_id":8371327,"reputation":734,"user_id":6286358,"display_name":"SnowmanXL"},"comment_count":1,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1601904774,"creation_date":1601904774,"answer_id":64209669,"question_id":64208790,"body_markdown":"To add to the existing answers. I personally dislike checked exceptions. See for more info: https://phauer.com/2015/checked-exceptions-are-evil/\r\n\r\nTo add insult to injury, the code gets bloated when avoiding the checked exceptions. Consider the usage of @SneakyThrows: \r\n\r\n     List&lt;Instant&gt; instantsSneaky = List.of(&quot;2020-09-28T12:30:08.797481Z&quot;)\r\n            .stream()\r\n            .map(Example::parseSneaky)\r\n            .collect(Collectors.toList());\r\n\r\n    @SneakyThrows\r\n    private static Instant parseSneaky(String queryValue) {\r\n        return new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).parse(queryValue).toInstant();\r\n    }\r\n\r\nversus non-@SneakyThrows\r\n\r\n     private static Instant parseNonSneaky(String queryValue) throws ParseException {\r\n        return new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;).parse(queryValue).toInstant();\r\n    }\r\n\r\n    List&lt;Instant&gt; instantsNonSneaky = List.of(&quot;2020-09-28T12:30:08.797481Z&quot;)\r\n            .stream()\r\n            .map(timeStamp -&gt; {\r\n                try {\r\n                    return parseNonSneaky(timeStamp);\r\n                } catch (ParseException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            })\r\n            .collect(Collectors.toList());\r\n\r\nHence the applicance of @SneakyThrows enables much cleaner code. ","title":"Application of @Sneaky Throws in lombok","body":"<p>To add to the existing answers. I personally dislike checked exceptions. See for more info: <a href=\"https://phauer.com/2015/checked-exceptions-are-evil/\" rel=\"noreferrer\">https://phauer.com/2015/checked-exceptions-are-evil/</a></p>\n<p>To add insult to injury, the code gets bloated when avoiding the checked exceptions. Consider the usage of @SneakyThrows:</p>\n<pre><code> List&lt;Instant&gt; instantsSneaky = List.of(&quot;2020-09-28T12:30:08.797481Z&quot;)\n        .stream()\n        .map(Example::parseSneaky)\n        .collect(Collectors.toList());\n\n@SneakyThrows\nprivate static Instant parseSneaky(String queryValue) {\n    return new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;).parse(queryValue).toInstant();\n}\n</code></pre>\n<p>versus non-@SneakyThrows</p>\n<pre><code> private static Instant parseNonSneaky(String queryValue) throws ParseException {\n    return new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;).parse(queryValue).toInstant();\n}\n\nList&lt;Instant&gt; instantsNonSneaky = List.of(&quot;2020-09-28T12:30:08.797481Z&quot;)\n        .stream()\n        .map(timeStamp -&gt; {\n            try {\n                return parseNonSneaky(timeStamp);\n            } catch (ParseException e) {\n                throw new RuntimeException(e);\n            }\n        })\n        .collect(Collectors.toList());\n</code></pre>\n<p>Hence the applicance of @SneakyThrows enables much cleaner code.</p>\n"},{"tags":[],"owner":{"account_id":5876312,"reputation":961,"user_id":4627040,"display_name":"Saeed Hassanvand"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666847924,"creation_date":1666847924,"answer_id":74217112,"question_id":64208790,"body_markdown":"I think the [documentation][1] is very clear on this:\r\n\r\n    \r\n\r\n&gt; Common use cases for when you want to opt out of the checked exception\r\n&gt; mechanism center around 2 situations:\r\n&gt;     \r\n&gt; \r\n&gt;  1. A needlessly strict interface, such as Runnable - whatever exception propagates out of your run() method, checked or not, it will\r\n&gt; be passed to the Thread&#39;s unhandled exception handler. Catching a\r\n&gt; checked exception and wrapping it in some sort of RuntimeException is\r\n&gt; only obscuring the real cause of the issue.\r\n&gt; \r\n&gt; \r\n&gt;     \r\n&gt; \r\n&gt;  1. An &#39;impossible&#39; exception. For example, new String(someByteArray, &quot;UTF-8&quot;); declares that it can throw an UnsupportedEncodingException\r\n&gt; but according to the JVM specification, UTF-8 must always be\r\n&gt; available. An UnsupportedEncodingException here is about as likely as\r\n&gt; a ClassNotFoundError when you use a String object, and you don&#39;t catch\r\n&gt; those either!\r\n\r\n\r\n  [1]: https://projectlombok.org/features/SneakyThrows","title":"Application of @Sneaky Throws in lombok","body":"<p>I think the <a href=\"https://projectlombok.org/features/SneakyThrows\" rel=\"nofollow noreferrer\">documentation</a> is very clear on this:</p>\n<blockquote>\n<p>Common use cases for when you want to opt out of the checked exception\nmechanism center around 2 situations:</p>\n<ol>\n<li><p>A needlessly strict interface, such as Runnable - whatever exception propagates out of your run() method, checked or not, it will\nbe passed to the Thread's unhandled exception handler. Catching a\nchecked exception and wrapping it in some sort of RuntimeException is\nonly obscuring the real cause of the issue.</p>\n</li>\n<li><p>An 'impossible' exception. For example, new String(someByteArray, &quot;UTF-8&quot;); declares that it can throw an UnsupportedEncodingException\nbut according to the JVM specification, UTF-8 must always be\navailable. An UnsupportedEncodingException here is about as likely as\na ClassNotFoundError when you use a String object, and you don't catch\nthose either!</p>\n</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9134977,"reputation":121,"user_id":6794989,"display_name":"Ramji"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683559450,"creation_date":1683559450,"answer_id":76202009,"question_id":64208790,"body_markdown":"Normally when we have an interface and there are more than one implementations of the methods declared in the interface we might find it difficult to handle the signature changes for the exceptions thrown in the implementations. \r\n\r\nSay we have an interface and 2 implementations.\r\n\r\n    public interface A {\r\n        void methodSignature(String x);  // This has to be changed owing to the various Exception thrown from the implementations\r\n    }\r\n\r\n    public class B implements A {\r\n        @Override\r\n        void methodSignature(String x) throws IOException {\r\n            // implementation for B\r\n        }\r\n    }\r\n\r\n    public class C implements A {\r\n        @Override\r\n        void methodSignature(String x) throws ApiException {\r\n            // implementation of C\r\n        }\r\n    }\r\n\r\nWe can use a common throws Exception in place of IOException and ApiException but if there are more types of exceptions to be handled it might not be clear.\r\n\r\nHence we use @Sneakythrows and send the exceptions to GlobalException handlers annotated with @ControllerAdvice that would control the flow.\r\n\r\n\r\n    public interface A {\r\n        void methodSignature(String x); \r\n    }\r\n\r\n    public class B implements A {\r\n        @Override\r\n        @SneakyThrows\r\n        void methodSignature(String x) {\r\n            // implementation for B\r\n        }\r\n    }\r\n\r\n    public class C implements A {\r\n        @Override\r\n        @SneakyThrows\r\n        void methodSignature(String x) {\r\n            // implementation of C\r\n        }\r\n    }\r\n\r\n\r\nThis in particular helps when we have a contract with the users of the interfaces finalised.\r\n\r\nA sample of global exception handler looks like below\r\n\r\n        @ControllerAdvice\r\n        public class GlobalExceptionHandler {\r\n        @ExceptionHandler(\r\n                value = {HttpMessageNotReadableException.class, DataAccessException.class, Exception.class, RuntimeException.class})\r\n            public ResponseEntity defaultWebExceptionHandler(Exception ex, HttpServletRequest servletRequest, HttpServletResponse httpResponse) {\r\n        \r\n                LOGGER.error(&quot;A controller threw an exception&quot;, ex);\r\n                ResponseEntity returnValue = null;\r\n                ErrorInfo errorInfo = new ErrorInfo();\r\n                try {\r\n                    throw ex;\r\n                } catch (ResourceNotFoundException resourceNotFound) {\r\n                    errorInfo.setUserMessage(resourceNotFound.getMessage());\r\n                    errorInfo.setTechnicalDetails(resourceNotFound.getMessage());\r\n                    errorInfo.setMessageCode(HttpStatus.NOT_FOUND.toString());\r\n                    returnValue = new ResponseEntity(errorInfo, HttpStatus.NOT_FOUND);\r\n                } catch (HttpMessageNotReadableException hme) {\r\n    // ...\r\n                } catch (DataAccessException dae) {\r\n    // ...\r\n                } catch (Exception exception) {\r\n    // ...\r\n                }\r\n                configureHttpResponse(httpResponse, null, servletRequest.getRequestURI());\r\n                return returnValue;\r\n            }\r\n        }\r\n\r\n\r\n\r\n","title":"Application of @Sneaky Throws in lombok","body":"<p>Normally when we have an interface and there are more than one implementations of the methods declared in the interface we might find it difficult to handle the signature changes for the exceptions thrown in the implementations.</p>\n<p>Say we have an interface and 2 implementations.</p>\n<pre><code>public interface A {\n    void methodSignature(String x);  // This has to be changed owing to the various Exception thrown from the implementations\n}\n\npublic class B implements A {\n    @Override\n    void methodSignature(String x) throws IOException {\n        // implementation for B\n    }\n}\n\npublic class C implements A {\n    @Override\n    void methodSignature(String x) throws ApiException {\n        // implementation of C\n    }\n}\n</code></pre>\n<p>We can use a common throws Exception in place of IOException and ApiException but if there are more types of exceptions to be handled it might not be clear.</p>\n<p>Hence we use @Sneakythrows and send the exceptions to GlobalException handlers annotated with @ControllerAdvice that would control the flow.</p>\n<pre><code>public interface A {\n    void methodSignature(String x); \n}\n\npublic class B implements A {\n    @Override\n    @SneakyThrows\n    void methodSignature(String x) {\n        // implementation for B\n    }\n}\n\npublic class C implements A {\n    @Override\n    @SneakyThrows\n    void methodSignature(String x) {\n        // implementation of C\n    }\n}\n</code></pre>\n<p>This in particular helps when we have a contract with the users of the interfaces finalised.</p>\n<p>A sample of global exception handler looks like below</p>\n<pre><code>    @ControllerAdvice\n    public class GlobalExceptionHandler {\n    @ExceptionHandler(\n            value = {HttpMessageNotReadableException.class, DataAccessException.class, Exception.class, RuntimeException.class})\n        public ResponseEntity defaultWebExceptionHandler(Exception ex, HttpServletRequest servletRequest, HttpServletResponse httpResponse) {\n    \n            LOGGER.error(&quot;A controller threw an exception&quot;, ex);\n            ResponseEntity returnValue = null;\n            ErrorInfo errorInfo = new ErrorInfo();\n            try {\n                throw ex;\n            } catch (ResourceNotFoundException resourceNotFound) {\n                errorInfo.setUserMessage(resourceNotFound.getMessage());\n                errorInfo.setTechnicalDetails(resourceNotFound.getMessage());\n                errorInfo.setMessageCode(HttpStatus.NOT_FOUND.toString());\n                returnValue = new ResponseEntity(errorInfo, HttpStatus.NOT_FOUND);\n            } catch (HttpMessageNotReadableException hme) {\n// ...\n            } catch (DataAccessException dae) {\n// ...\n            } catch (Exception exception) {\n// ...\n            }\n            configureHttpResponse(httpResponse, null, servletRequest.getRequestURI());\n            return returnValue;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692956211,"creation_date":1692956211,"answer_id":76975993,"question_id":64208790,"body_markdown":"I regularly use the `@SneakyThrows` annotation in the following scenarios:\r\n\r\n1. **Supress try-catch boilerplate** when using **lambdas**\r\n2. When a **specific exception should terminate the entire process** and there is no need to force any caller of the hierarchy to handle it explicitly (although **RuntimeException** can be used here as well)\r\n3. Usage of **third-party APIs** forcing you to handle an exception but you have no need to (goes hand in hand with 2.)\r\n","title":"Application of @Sneaky Throws in lombok","body":"<p>I regularly use the <code>@SneakyThrows</code> annotation in the following scenarios:</p>\n<ol>\n<li><strong>Supress try-catch boilerplate</strong> when using <strong>lambdas</strong></li>\n<li>When a <strong>specific exception should terminate the entire process</strong> and there is no need to force any caller of the hierarchy to handle it explicitly (although <strong>RuntimeException</strong> can be used here as well)</li>\n<li>Usage of <strong>third-party APIs</strong> forcing you to handle an exception but you have no need to (goes hand in hand with 2.)</li>\n</ol>\n"}],"owner":{"account_id":13651172,"reputation":804,"user_id":9849018,"display_name":"Shivanshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33533,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":64209669,"answer_count":6,"score":30,"last_activity_date":1692956211,"creation_date":1601901581,"question_id":64208790,"body_markdown":"I was playing with the Lombok library in Java and found an annotation called @SneakyThrows.\r\nAs the documentation states: \r\n\r\n&gt;  @SneakyThrows fakes out the compiler. In other words, Lombok doesn&#39;t wrap or replace the thrown checked exception, but makes the compiler think that it is an unchecked exception.\r\n\r\nWith other words, this is a way to bypass exceptions at compile time. But in my opinion this should not be the correct way of handling exceptions, because the bypassed exception can show weird behaviour at runtime.\r\n\r\nSo in which scenario should @SneakyThrows be used?\r\n\r\n","title":"Application of @Sneaky Throws in lombok","body":"<p>I was playing with the Lombok library in Java and found an annotation called @SneakyThrows.\nAs the documentation states:</p>\n<blockquote>\n<p>@SneakyThrows fakes out the compiler. In other words, Lombok doesn't wrap or replace the thrown checked exception, but makes the compiler think that it is an unchecked exception.</p>\n</blockquote>\n<p>With other words, this is a way to bypass exceptions at compile time. But in my opinion this should not be the correct way of handling exceptions, because the bypassed exception can show weird behaviour at runtime.</p>\n<p>So in which scenario should @SneakyThrows be used?</p>\n"},{"tags":["java","algorithm","for-loop","e-commerce","sap-commerce-cloud"],"comments":[{"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"score":0,"creation_date":1689854130,"post_id":76728272,"comment_id":135273807,"body_markdown":"Any specific reason you are using updateCartEntry instead of running the update line  through addToCart? addToCart will merge lines (depends on the properties to use to merge) and append with the quantity. updateCartEntry is if you want to fully update the line. appending extra quanitity can be done through addToCart. see cartfacade.addToCart(code,quantity)","body":"Any specific reason you are using updateCartEntry instead of running the update line  through addToCart? addToCart will merge lines (depends on the properties to use to merge) and append with the quantity. updateCartEntry is if you want to fully update the line. appending extra quanitity can be done through addToCart. see cartfacade.addToCart(code,quantity)"},{"owner":{"account_id":19556619,"reputation":1,"user_id":14310825,"display_name":"DEBAGNIK KAR"},"score":0,"creation_date":1689945132,"post_id":76728272,"comment_id":135288632,"body_markdown":"There is no specific reason for using for using updateCartEntry() instead of addToCart(). Rather I previously used addToCart() with a different method signature. But the behaivior remained the same. @Yoni","body":"There is no specific reason for using for using updateCartEntry() instead of addToCart(). Rather I previously used addToCart() with a different method signature. But the behaivior remained the same. @Yoni"}],"answers":[{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691491511,"creation_date":1691491511,"answer_id":76858791,"question_id":76728272,"body_markdown":"There is a mistake in your loops so the nested one does not ever break. Let&#39;s assume you have one product in a wish list and four products in a cart. In this setup **addToCart(wishListEntry)** method will be called four times. Also if there is a possibility to have the same product in a wish list multiple times it would make sense to change the implementation so there were two separate loops which would populate a map like &lt;productCode, finalQuantity&gt; and then iterate over the map and finally call expensive add/update operation just one time per each product.","title":"How can I add products on backend from a Wishlist to cart","body":"<p>There is a mistake in your loops so the nested one does not ever break. Let's assume you have one product in a wish list and four products in a cart. In this setup <strong>addToCart(wishListEntry)</strong> method will be called four times. Also if there is a possibility to have the same product in a wish list multiple times it would make sense to change the implementation so there were two separate loops which would populate a map like &lt;productCode, finalQuantity&gt; and then iterate over the map and finally call expensive add/update operation just one time per each product.</p>\n"},{"tags":[],"owner":{"account_id":1491796,"reputation":71,"user_id":1398724,"display_name":"Adam Badura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691494622,"creation_date":1691494622,"answer_id":76859183,"question_id":76728272,"body_markdown":"I think that the main problem is that you don&#39;t refresh the *cart* after manipulating it&#39;s entries using *de.hybris.platform.commercefacades.order.CartFacade* methods.\r\n\r\nFor example let&#39;s assume that you have a simple cart:\r\n* 1x Product A (#1)\r\n\r\nand a wishlist:\r\n* 1x Product A (#1)\r\n* 1x Product A (#2)\r\n\r\nIn such scenario when you iterate over wishlist entries you always update cart entry to a value *wishlist.getQuantity+cartEntry.getQuantity* where *cartEntry.getQuantity* always returns the quantity of 1 (because this was the cart quantity at the beginning of the operation).\r\n\r\nSo you have something like this:\r\n1. Load cart containing 1xProduct A into ***cart***\r\n1. Iterate over wishlist entries\r\n    1. For wishlist entry #1 - iterate over ***cart.getEntries()***:\r\n        1. For cart entry #1 - you have a matching entry so call updateCartEntry using the quantity of cart entry #1 of the cart loaded in step 1\r\n    1. For wishlist entry #2 - iterate over ***cart.getEntries()***:\r\n        1. For cart entry #1 - you have a matching entry so call updateCartEntry using the quantity of cart entry #1 of the cart loaded in step 1 -&gt; **the problem is that this value is stale, it was not updated by updateCartEntry in step 2.1.1**\r\n\r\nTo avoid this you could:\r\n1. Somehow update the quantities of entries of ***cart*** loaded in step 1\r\n1. Avoid updating the same cart entry multiple times by either:\r\n    1. Disallowing multiple entries containing the same product\r\n    1. Or merging entries containing the same product at the beginning just as Maksym Kosenko suggested in his answer.","title":"How can I add products on backend from a Wishlist to cart","body":"<p>I think that the main problem is that you don't refresh the <em>cart</em> after manipulating it's entries using <em>de.hybris.platform.commercefacades.order.CartFacade</em> methods.</p>\n<p>For example let's assume that you have a simple cart:</p>\n<ul>\n<li>1x Product A (#1)</li>\n</ul>\n<p>and a wishlist:</p>\n<ul>\n<li>1x Product A (#1)</li>\n<li>1x Product A (#2)</li>\n</ul>\n<p>In such scenario when you iterate over wishlist entries you always update cart entry to a value <em>wishlist.getQuantity+cartEntry.getQuantity</em> where <em>cartEntry.getQuantity</em> always returns the quantity of 1 (because this was the cart quantity at the beginning of the operation).</p>\n<p>So you have something like this:</p>\n<ol>\n<li>Load cart containing 1xProduct A into <em><strong>cart</strong></em></li>\n<li>Iterate over wishlist entries\n<ol>\n<li>For wishlist entry #1 - iterate over <em><strong>cart.getEntries()</strong></em>:\n<ol>\n<li>For cart entry #1 - you have a matching entry so call updateCartEntry using the quantity of cart entry #1 of the cart loaded in step 1</li>\n</ol>\n</li>\n<li>For wishlist entry #2 - iterate over <em><strong>cart.getEntries()</strong></em>:\n<ol>\n<li>For cart entry #1 - you have a matching entry so call updateCartEntry using the quantity of cart entry #1 of the cart loaded in step 1 -&gt; <strong>the problem is that this value is stale, it was not updated by updateCartEntry in step 2.1.1</strong></li>\n</ol>\n</li>\n</ol>\n</li>\n</ol>\n<p>To avoid this you could:</p>\n<ol>\n<li>Somehow update the quantities of entries of <em><strong>cart</strong></em> loaded in step 1</li>\n<li>Avoid updating the same cart entry multiple times by either:\n<ol>\n<li>Disallowing multiple entries containing the same product</li>\n<li>Or merging entries containing the same product at the beginning just as Maksym Kosenko suggested in his answer.</li>\n</ol>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19556619,"reputation":1,"user_id":14310825,"display_name":"DEBAGNIK KAR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692955815,"creation_date":1692955815,"answer_id":76975944,"question_id":76728272,"body_markdown":"Thanks for all the comments and answers.    \r\nI solved this issue by separating adding, and updating tasks in the methods.      \r\nNested loops which I was using earlier as correctly pointed out by @Mak in their answer never break thus causing the `addToCart()` method to override the manipulations made earlier.      \r\nbut instead of using a map, I used a more simple solution and did the following:     \r\n\r\n 1. Called the session cart\r\n 2. Copied the cart in another variable \r\n 3. Called the `addToCart()` method and overwrite all the cart entries with the wishlist entry\r\n 4. After overwriting the cart with the shopping list entries, I loop through the copy of the cart and the cart and update the product which are same.\r\n\r\nThe code is below\r\n\r\n\r\n    public void addAllToCart(String wishListId) {\r\n        WishListModel wishList = findByWishlistId(wishListId)\r\n        CartModel cart = cartService.getSessionCart();\r\n        CartModel tempCart = copyOf(cart);\r\n        if(CollectionUtils.isNotEmpty(wishList.getEntries())) {\r\n            for (WishListEntryModel wishListEntry : wishlist.getEntries()) {\r\n                cartFacade.addToCart(wishListEntry);\r\n            }\r\n            if(Objects.nonNull(tempCart)){\r\n                for (AbstractOrderEntryModel tempCartEntry : tempCart.getEntries()) {\r\n                    checkInCartEntry(tempCartEntry, cart.getEntries());\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private void checkInCartEntry(AbstractOrderEntryModel tempCartEntry, List&lt;AbstractOrderEntryModel&gt; cartEntries) throws CommerceCartModificationException {\r\n        for (AbstractOrderEntryModel cartEntry : cartEntries) {\r\n            if(!tempCartEntry.getProduct().getCode().isEmpty() &amp;&amp;  !cartEntry.getProduct().getCode().isEmpty() &amp;&amp; (tempCartEntry.getProduct().getCode().equalsIgnoreCase(cartEntry.getProduct().getCode()))) {\r\n                    cartFacade.updateCartEntry(cartEntry.getEntryNumber(), cartEntry.getQuantity());\r\n\r\n            }\r\n        }\r\n    }\r\n","title":"How can I add products on backend from a Wishlist to cart","body":"<p>Thanks for all the comments and answers.<br />\nI solved this issue by separating adding, and updating tasks in the methods.<br />\nNested loops which I was using earlier as correctly pointed out by @Mak in their answer never break thus causing the <code>addToCart()</code> method to override the manipulations made earlier.<br />\nbut instead of using a map, I used a more simple solution and did the following:</p>\n<ol>\n<li>Called the session cart</li>\n<li>Copied the cart in another variable</li>\n<li>Called the <code>addToCart()</code> method and overwrite all the cart entries with the wishlist entry</li>\n<li>After overwriting the cart with the shopping list entries, I loop through the copy of the cart and the cart and update the product which are same.</li>\n</ol>\n<p>The code is below</p>\n<pre><code>public void addAllToCart(String wishListId) {\n    WishListModel wishList = findByWishlistId(wishListId)\n    CartModel cart = cartService.getSessionCart();\n    CartModel tempCart = copyOf(cart);\n    if(CollectionUtils.isNotEmpty(wishList.getEntries())) {\n        for (WishListEntryModel wishListEntry : wishlist.getEntries()) {\n            cartFacade.addToCart(wishListEntry);\n        }\n        if(Objects.nonNull(tempCart)){\n            for (AbstractOrderEntryModel tempCartEntry : tempCart.getEntries()) {\n                checkInCartEntry(tempCartEntry, cart.getEntries());\n            }\n        }\n    }\n}\nprivate void checkInCartEntry(AbstractOrderEntryModel tempCartEntry, List&lt;AbstractOrderEntryModel&gt; cartEntries) throws CommerceCartModificationException {\n    for (AbstractOrderEntryModel cartEntry : cartEntries) {\n        if(!tempCartEntry.getProduct().getCode().isEmpty() &amp;&amp;  !cartEntry.getProduct().getCode().isEmpty() &amp;&amp; (tempCartEntry.getProduct().getCode().equalsIgnoreCase(cartEntry.getProduct().getCode()))) {\n                cartFacade.updateCartEntry(cartEntry.getEntryNumber(), cartEntry.getQuantity());\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19556619,"reputation":1,"user_id":14310825,"display_name":"DEBAGNIK KAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76975944,"answer_count":3,"score":0,"last_activity_date":1692955815,"creation_date":1689843708,"question_id":76728272,"body_markdown":"I have been working on developing am API which basically adds/updates all the products from a wishlist to the user&#39;s cart.\r\n\r\nThe requirements of the API are as follows:\r\n\r\n1. the API should take input of the ID of the wishlist and add all its products to cart\r\n2. If the products stored in the wishlist already exists on cart then the cart quantity is to be updated with the sum of both the quantity present on wishlist and the cart.\r\n3. the wishlist is to be retained after adding the products.\r\n\r\nThe logic that I had implemented deals with a 2 nested for loop, one loops the wishlist entries and the other loops the cart entries if the cart isn&#39;t empty. This logic works well for adding a product but I am having trouble updating the products.\r\n\r\nWhen I hit the API on an empty cart I see no issue all the products were added perfectly, but when I try to hit the API again the only one item of the cart is getting updated while the others stay the same, this is happening cause when the index of the wishlist is incrementing to check for the next product the previously updated products which were updated to the sum of the both quantities are now overridden by the `addToCart()` method.\r\n\r\nlike if there are 2 same products on the wishlist and the cart namely Product A and Product B on the two for loops\r\n\r\nThere will be four conditions\r\n\r\n    sl cart   wishlist   operation\r\n    1   A         A       update\r\n    2   A         B        add\r\n    3   B         A        add\r\n    4   B         B       update\r\n\r\nFor case 1 the product gets updated at first but the is getting overridden by the addToCart method in the second iteration.\r\n\r\nHow do I solve this?\r\n\r\nSuggestions to other type of implementation is also welcome but I can&#39;t change most of the pre-existing methods such as `AddToCart()` or `UpdateCart()`.\r\n\r\nThe implementation\r\n\r\n    public void addAllToCart(String wishListId) \r\n    {\r\n        //code for finding the wishlist by ID saves the wishlist on wishlist of type WishListModel\r\n        //code for getting session cart saves on cart of type CartModel\r\n        if (CollectionUtils.isNotEmpty(wishlist.getEntries())) \r\n        {\r\n            for (WishListEntryModel wishListEntry : wishlist.getEntries()) \r\n            {\r\n                checkInCartEntry(wishListEntry, cart.getEntries());\r\n            }\r\n        }\r\n    }\r\n\r\n    private void checkInCartEntry(WishListEntryModel wishListEntry, List&lt;AbstractOrderEntryModel&gt; cartEntries)\r\n    {\r\n        if (CollectionUtils.isEmpty(cartEntries))\r\n        {\r\n            addToCart(wishListEntry);\r\n        }\r\n        else\r\n        {\r\n            for (AbstractOrderEntryModel cartEntry : cartEntries) \r\n            {\r\n                if (wishListEntry.getProduct().getCode().equalsIgnoreCase(cartEntry.getProduct().getCode())) \r\n                {\r\n                    updateCartEntry(cartEntry.getEntryNumber, wishlist.getQuantity+cartEntry.getQuantity);\r\n                } \r\n                else \r\n                {\r\n                    addToCart(wishListEntry);\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"How can I add products on backend from a Wishlist to cart","body":"<p>I have been working on developing am API which basically adds/updates all the products from a wishlist to the user's cart.</p>\n<p>The requirements of the API are as follows:</p>\n<ol>\n<li>the API should take input of the ID of the wishlist and add all its products to cart</li>\n<li>If the products stored in the wishlist already exists on cart then the cart quantity is to be updated with the sum of both the quantity present on wishlist and the cart.</li>\n<li>the wishlist is to be retained after adding the products.</li>\n</ol>\n<p>The logic that I had implemented deals with a 2 nested for loop, one loops the wishlist entries and the other loops the cart entries if the cart isn't empty. This logic works well for adding a product but I am having trouble updating the products.</p>\n<p>When I hit the API on an empty cart I see no issue all the products were added perfectly, but when I try to hit the API again the only one item of the cart is getting updated while the others stay the same, this is happening cause when the index of the wishlist is incrementing to check for the next product the previously updated products which were updated to the sum of the both quantities are now overridden by the <code>addToCart()</code> method.</p>\n<p>like if there are 2 same products on the wishlist and the cart namely Product A and Product B on the two for loops</p>\n<p>There will be four conditions</p>\n<pre><code>sl cart   wishlist   operation\n1   A         A       update\n2   A         B        add\n3   B         A        add\n4   B         B       update\n</code></pre>\n<p>For case 1 the product gets updated at first but the is getting overridden by the addToCart method in the second iteration.</p>\n<p>How do I solve this?</p>\n<p>Suggestions to other type of implementation is also welcome but I can't change most of the pre-existing methods such as <code>AddToCart()</code> or <code>UpdateCart()</code>.</p>\n<p>The implementation</p>\n<pre><code>public void addAllToCart(String wishListId) \n{\n    //code for finding the wishlist by ID saves the wishlist on wishlist of type WishListModel\n    //code for getting session cart saves on cart of type CartModel\n    if (CollectionUtils.isNotEmpty(wishlist.getEntries())) \n    {\n        for (WishListEntryModel wishListEntry : wishlist.getEntries()) \n        {\n            checkInCartEntry(wishListEntry, cart.getEntries());\n        }\n    }\n}\n\nprivate void checkInCartEntry(WishListEntryModel wishListEntry, List&lt;AbstractOrderEntryModel&gt; cartEntries)\n{\n    if (CollectionUtils.isEmpty(cartEntries))\n    {\n        addToCart(wishListEntry);\n    }\n    else\n    {\n        for (AbstractOrderEntryModel cartEntry : cartEntries) \n        {\n            if (wishListEntry.getProduct().getCode().equalsIgnoreCase(cartEntry.getProduct().getCode())) \n            {\n                updateCartEntry(cartEntry.getEntryNumber, wishlist.getQuantity+cartEntry.getQuantity);\n            } \n            else \n            {\n                addToCart(wishListEntry);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","antlr4"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1692908244,"post_id":76972653,"comment_id":135692119,"body_markdown":"There’s a difference between Javadoc and regular comments. Javadoc _always_ precedes the definition that is being documented (class or method). What you showed are actually comments that use invalid syntax, those should use `//` or `/* */` instead.","body":"There’s a difference between Javadoc and regular comments. Javadoc <i>always</i> precedes the definition that is being documented (class or method). What you showed are actually comments that use invalid syntax, those should use <code>&#47;&#47;</code> or <code>&#47;* *&#47;</code> instead."},{"owner":{"account_id":3699274,"reputation":117,"user_id":3079581,"display_name":"ivangsa"},"score":0,"creation_date":1692909512,"post_id":76972653,"comment_id":135692344,"body_markdown":"This grammar is not for parsing Java but JHipster &#39;like&#39; JDL files (see https://www.jhipster.tech/jdl/entities-fields#commenting). The example I posted is the right syntaxis. Btw `javadoc` and `suffix_javadoc` rules are identical in content.","body":"This grammar is not for parsing Java but JHipster &#39;like&#39; JDL files (see <a href=\"https://www.jhipster.tech/jdl/entities-fields#commenting\" rel=\"nofollow noreferrer\">jhipster.tech/jdl/entities-fields#commenting</a>). The example I posted is the right syntaxis. Btw <code>javadoc</code> and <code>suffix_javadoc</code> rules are identical in content."}],"answers":[{"comments":[{"owner":{"account_id":3699274,"reputation":117,"user_id":3079581,"display_name":"ivangsa"},"score":0,"creation_date":1692950644,"post_id":76974939,"comment_id":135697125,"body_markdown":"hi @mike for your answer. Just to be clear, in my example both *are* docs. I dont&#39; have problem distinguising comments from docs and yes comments go to the hidden channel but docs don&#39;t (like in the antlr4 grammar itself, which I use a lot as example for building the IntelliJ plugin). My problem is with where the parser places the docs hanging from. For what I&#39;m reading, the semmantic phase is the tree-walking listener, but the tree would be already &#39;wrong&#39;, and I need the tree to be also correct for IntelliJ plugin related staff.. Thanks anyway","body":"hi @mike for your answer. Just to be clear, in my example both <i>are</i> docs. I dont&#39; have problem distinguising comments from docs and yes comments go to the hidden channel but docs don&#39;t (like in the antlr4 grammar itself, which I use a lot as example for building the IntelliJ plugin). My problem is with where the parser places the docs hanging from. For what I&#39;m reading, the semmantic phase is the tree-walking listener, but the tree would be already &#39;wrong&#39;, and I need the tree to be also correct for IntelliJ plugin related staff.. Thanks anyway"}],"tags":[],"owner":{"account_id":1156784,"reputation":50192,"user_id":1137174,"accept_rate":78,"display_name":"Mike Lischke"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692946810,"creation_date":1692946810,"answer_id":76974939,"question_id":76972653,"body_markdown":"Do not confuse semantics with syntax. A comment being JavaDoc or not is a semantic decision! So my advice is to parse without explicit `javaDoc` rules, but put all comments on a hidden channel (like almost all grammars do). Then, in your semantic phase (which follows the syntax phase, where you parsed your input) walk through the hidden channel tokens, compare their position to other tokens in the default channel and decide then based on that comparison if this comment is to be considered as normal comment or as doc comment.","title":"With ANTLR4 Parser: How to skip parsing RULE after new line (hidden token)","body":"<p>Do not confuse semantics with syntax. A comment being JavaDoc or not is a semantic decision! So my advice is to parse without explicit <code>javaDoc</code> rules, but put all comments on a hidden channel (like almost all grammars do). Then, in your semantic phase (which follows the syntax phase, where you parsed your input) walk through the hidden channel tokens, compare their position to other tokens in the default channel and decide then based on that comparison if this comment is to be considered as normal comment or as doc comment.</p>\n"}],"owner":{"account_id":3699274,"reputation":117,"user_id":3079581,"display_name":"ivangsa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692955807,"creation_date":1692907923,"question_id":76972653,"body_markdown":"I&#39;m trying to implement a rule for javadoc/comments where javadoc can be placed either on the line before the field or right after in the same line (like in JHipster JDL)\r\n\r\n\r\n    entity A {\r\n      firstField String\r\n      /** name javadoc */\r\n      name String\r\n      count Integer /** count javadoc */\r\n    }\r\n\r\nThis is what the rule looks like:\r\n\r\n\r\n    field: javadoc? annotations field_name field_type (field_validations)* suffix_javadoc?\r\n\r\nBut because new line tokens are ignored, javadoc is always being parsed as suffix_javadoc.\r\n\r\nIn this example &quot;name javadoc&quot; ends up in firstField.\r\n\r\nI would like to skip the rule `suffix_javadoc` after a new line token\r\n\r\n**Clarification:** in the example above both are &quot;doc comments&quot;, my problem is how to build a parse-tree that takes into account that &quot;entity fields&quot; are separated by a new-line character, so after a new line came a new field not a suffix_javadoc.\r\n\r\nDigging into the code I got this working, but it feels very hacky.\r\n\r\n    @parser::members {\r\n        public Token match(int ttype) throws RecognitionException {\r\n            try { // hack to not parse suffix javadoc after new lines (hidden tokens)\r\n                if(getRuleContext() instanceof Suffix_javadocContext) {\r\n                    System.out.println(&quot;RULE_suffix_javadoc&quot;);\r\n                    int currentTokenIndex = getCurrentToken().getTokenIndex();\r\n                    var prevToken = getTokenStream().get(currentTokenIndex - 1);\r\n                    if(prevToken.getText().contains(&quot;\\n&quot;)) {\r\n                        return null;\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n            return super.match(ttype);\r\n        }\r\n    }\r\n\r\n\r\nIs there a proper/better way to achieve this?","title":"With ANTLR4 Parser: How to skip parsing RULE after new line (hidden token)","body":"<p>I'm trying to implement a rule for javadoc/comments where javadoc can be placed either on the line before the field or right after in the same line (like in JHipster JDL)</p>\n<pre><code>entity A {\n  firstField String\n  /** name javadoc */\n  name String\n  count Integer /** count javadoc */\n}\n</code></pre>\n<p>This is what the rule looks like:</p>\n<pre><code>field: javadoc? annotations field_name field_type (field_validations)* suffix_javadoc?\n</code></pre>\n<p>But because new line tokens are ignored, javadoc is always being parsed as suffix_javadoc.</p>\n<p>In this example &quot;name javadoc&quot; ends up in firstField.</p>\n<p>I would like to skip the rule <code>suffix_javadoc</code> after a new line token</p>\n<p><strong>Clarification:</strong> in the example above both are &quot;doc comments&quot;, my problem is how to build a parse-tree that takes into account that &quot;entity fields&quot; are separated by a new-line character, so after a new line came a new field not a suffix_javadoc.</p>\n<p>Digging into the code I got this working, but it feels very hacky.</p>\n<pre><code>@parser::members {\n    public Token match(int ttype) throws RecognitionException {\n        try { // hack to not parse suffix javadoc after new lines (hidden tokens)\n            if(getRuleContext() instanceof Suffix_javadocContext) {\n                System.out.println(&quot;RULE_suffix_javadoc&quot;);\n                int currentTokenIndex = getCurrentToken().getTokenIndex();\n                var prevToken = getTokenStream().get(currentTokenIndex - 1);\n                if(prevToken.getText().contains(&quot;\\n&quot;)) {\n                    return null;\n                }\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n        return super.match(ttype);\n    }\n}\n</code></pre>\n<p>Is there a proper/better way to achieve this?</p>\n"},{"tags":["java","tomcat","jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1412674186,"post_id":26180770,"comment_id":41145258,"body_markdown":"Make sure that your oracle driver isn&#39;t also in the `WEB-INF/lib` directory. As that would auto register and start some of the Oracle JDBC stuff. See also [here](http://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered).","body":"Make sure that your oracle driver isn&#39;t also in the <code>WEB-INF&#47;lib</code> directory. As that would auto register and start some of the Oracle JDBC stuff. See also <a href=\"http://stackoverflow.com/questions/3320400/to-prevent-a-memory-leak-the-jdbc-driver-has-been-forcibly-unregistered\">here</a>."},{"owner":{"account_id":5122930,"reputation":123,"user_id":4105953,"display_name":"finchie"},"score":0,"creation_date":1412680082,"post_id":26180770,"comment_id":41148285,"body_markdown":"@M.Deinum thanks, but I&#39;ve already ensured that the JDBC driver is only in `tomcat/lib` and not the application&#39;s `WEB-INF/lib`","body":"@M.Deinum thanks, but I&#39;ve already ensured that the JDBC driver is only in <code>tomcat&#47;lib</code> and not the application&#39;s <code>WEB-INF&#47;lib</code>"},{"owner":{"account_id":374414,"reputation":549,"user_id":724604,"accept_rate":68,"display_name":"buddyp450"},"score":0,"creation_date":1591808268,"post_id":26180770,"comment_id":110199715,"body_markdown":"Just in case someone else runs across this like I did; was using the ojdbc8 v12.2.0.1 which purportedly has this issue fixed. Was running it in intellij and couldn&#39;t start the server due to this message and subsequent crash. Solved by simply invalidating and restarting intellij. /shrug","body":"Just in case someone else runs across this like I did; was using the ojdbc8 v12.2.0.1 which purportedly has this issue fixed. Was running it in intellij and couldn&#39;t start the server due to this message and subsequent crash. Solved by simply invalidating and restarting intellij. /shrug"}],"answers":[{"comments":[{"owner":{"account_id":5122930,"reputation":123,"user_id":4105953,"display_name":"finchie"},"score":5,"creation_date":1412349561,"post_id":26181140,"comment_id":41051193,"body_markdown":"Other applications are deployed to our production Tomcat, some with much larger userbases than this app! Surely I shouldn&#39;t have to restart the production Tomcat just to redeploy an app? Isn&#39;t that what the Tomcat Manager app is for?","body":"Other applications are deployed to our production Tomcat, some with much larger userbases than this app! Surely I shouldn&#39;t have to restart the production Tomcat just to redeploy an app? Isn&#39;t that what the Tomcat Manager app is for?"}],"tags":[],"owner":{"account_id":189531,"reputation":22741,"user_id":428916,"accept_rate":69,"display_name":"Rocky Pulley"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1412347405,"creation_date":1412347405,"answer_id":26181140,"question_id":26180770,"body_markdown":"This is normal, it happens when you hot deploy in Tomcat.  It will not cause you any problems normally in production because you don&#39;t generally keep hot deploying updates in production, you just stop and restart the server instead.\r\n","title":"Memory leak on Tomcat 7 with Oracle JDBC drivers 12c - oracle.jdbc.driver thread failed to stop","body":"<p>This is normal, it happens when you hot deploy in Tomcat.  It will not cause you any problems normally in production because you don't generally keep hot deploying updates in production, you just stop and restart the server instead.</p>\n"},{"comments":[{"owner":{"account_id":5122930,"reputation":123,"user_id":4105953,"display_name":"finchie"},"score":0,"creation_date":1412867538,"post_id":26237212,"comment_id":41235596,"body_markdown":"Thanks for the &quot;load-on-startup&quot; workaround suggestion - unfortunately this has no effect and the memory leak warning persists upon undeploy.","body":"Thanks for the &quot;load-on-startup&quot; workaround suggestion - unfortunately this has no effect and the memory leak warning persists upon undeploy."},{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":0,"creation_date":1412948753,"post_id":26237212,"comment_id":41270541,"body_markdown":"Hmm, looked it up in the decompiled code and found that each oracle.jdbc.driver.PhysicalConnection creates a &quot;BlockSource&quot; thread. So that explains why &quot;load-on-startup&quot; does not work (I assumed it was a general thread started by the driver, not per connection). Using the older driver version, as you described in your updated question, looks like a better solution.","body":"Hmm, looked it up in the decompiled code and found that each oracle.jdbc.driver.PhysicalConnection creates a &quot;BlockSource&quot; thread. So that explains why &quot;load-on-startup&quot; does not work (I assumed it was a general thread started by the driver, not per connection). Using the older driver version, as you described in your updated question, looks like a better solution."},{"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"score":3,"creation_date":1443604436,"post_id":26237212,"comment_id":53557138,"body_markdown":"I think that discussion is actually about a similar but unrelated issue, which is why the workaround had no effect. There is an Oracle doc ID for this, though, and a patch available: [JDBC Thin Driver Leaks Threads With Tomcat (Doc ID 1901449.1)](https://support.oracle.com/epmos/faces/DocContentDisplay?id=1901449.1)","body":"I think that discussion is actually about a similar but unrelated issue, which is why the workaround had no effect. There is an Oracle doc ID for this, though, and a patch available: <a href=\"https://support.oracle.com/epmos/faces/DocContentDisplay?id=1901449.1\" rel=\"nofollow noreferrer\">JDBC Thin Driver Leaks Threads With Tomcat (Doc ID 1901449.1)</a>"},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1473176616,"post_id":26237212,"comment_id":66035776,"body_markdown":"It is not a &quot;fixed size&quot; leak. It creates [classloader leaks](http://stackoverflow.com/a/17975255/324152) which will soon or later end up in an OutOfMemory error. When you look at the heap dump, you can clearly see that all stopped web application class loaders could not be garbage collected as their classloader is still referenced by `oracle.jdbc.driver.BlockSource$ThreadedCachingBlockSource$BlockReleaser.contextClassLoader`","body":"It is not a &quot;fixed size&quot; leak. It creates <a href=\"http://stackoverflow.com/a/17975255/324152\">classloader leaks</a> which will soon or later end up in an OutOfMemory error. When you look at the heap dump, you can clearly see that all stopped web application class loaders could not be garbage collected as their classloader is still referenced by <code>oracle.jdbc.driver.BlockSource$ThreadedCachingBlockSource$Bl&zwnj;&#8203;ockReleaser.contextC&zwnj;&#8203;lassLoader</code>"}],"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412688588,"creation_date":1412688588,"answer_id":26237212,"question_id":26180770,"body_markdown":"I found a lengthy discussion about the subject [here](http://grokbase.com/t/tomcat/users/135htyhs7z/follow-up-possible-false-postive-with-jrememoryleakpreventionlistener-and-tomcats-jdbc-pool-and-oracletimeoutpollingthread). The conclusion is that it creates a &quot;fixed size memory leak&quot;, i.e. subsequent redeploys will not increase the memory leak.\r\n&lt;br&gt;I do not have Oracle Support access, but the bug ID mentioned in the discussion is 16841748 (May 2013, might be solved now).\r\n\r\nA possible workaround is to actually use the datasource once (get connection, do dummy query, close connection) when Tomcat is started via a custom servlet that is configured to &quot;load-on-startup&quot; in `tomcat/conf/web.xml`. This should start the Oracle driver thread(s) (see also the [FAQ](http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html#02_14) about driver threads) outside of the scope of the class-loader of your web-app, thus preventing the &quot;fixed size memory leak&quot;.\r\n\r\nNote that a similar issue exists for the MySQL JDBC driver but has a [decent solution](https://stackoverflow.com/a/24471527/3080094). Such a solution may exist for a recent version of the Oracle JDBC driver (I don&#39;t know). ","title":"Memory leak on Tomcat 7 with Oracle JDBC drivers 12c - oracle.jdbc.driver thread failed to stop","body":"<p>I found a lengthy discussion about the subject <a href=\"http://grokbase.com/t/tomcat/users/135htyhs7z/follow-up-possible-false-postive-with-jrememoryleakpreventionlistener-and-tomcats-jdbc-pool-and-oracletimeoutpollingthread\" rel=\"nofollow noreferrer\">here</a>. The conclusion is that it creates a \"fixed size memory leak\", i.e. subsequent redeploys will not increase the memory leak.\n<br>I do not have Oracle Support access, but the bug ID mentioned in the discussion is 16841748 (May 2013, might be solved now).</p>\n\n<p>A possible workaround is to actually use the datasource once (get connection, do dummy query, close connection) when Tomcat is started via a custom servlet that is configured to \"load-on-startup\" in <code>tomcat/conf/web.xml</code>. This should start the Oracle driver thread(s) (see also the <a href=\"http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-faq-090281.html#02_14\" rel=\"nofollow noreferrer\">FAQ</a> about driver threads) outside of the scope of the class-loader of your web-app, thus preventing the \"fixed size memory leak\".</p>\n\n<p>Note that a similar issue exists for the MySQL JDBC driver but has a <a href=\"https://stackoverflow.com/a/24471527/3080094\">decent solution</a>. Such a solution may exist for a recent version of the Oracle JDBC driver (I don't know). </p>\n"},{"tags":[],"owner":{"account_id":2051258,"reputation":47,"user_id":1830225,"accept_rate":0,"display_name":"subrat patra"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509551062,"creation_date":1509551062,"answer_id":47058619,"question_id":26180770,"body_markdown":"This problem doesn&#39;t happen only with Oracle JDBC driver (oracle.jdbc.driver.BlockSource.ThreadedCachingBlockSource.BlockReleaser).\r\n\r\nIf any of the 3rd party dependency starts a daemon thread for carrying out some task, then while stopping the Tomcat logs Warning message for them also.\r\n\r\nAlso, this problem exists with Tomcat 8.5.X versions.\r\n\r\nSolution:\r\nWhat i found as a solution is to get the Thread Group for the current thread and interrupt it. It will make sure that before shutting down the Tomcat all it&#39;s daemon threads are killed.\r\n\r\nbelow code should be added to the &quot;contextDestroyed&quot; method\r\nThreadGroup threadGroup = Thread.currentThread().getThreadGroup();\r\nthreadGroup.interrupt();","title":"Memory leak on Tomcat 7 with Oracle JDBC drivers 12c - oracle.jdbc.driver thread failed to stop","body":"<p>This problem doesn't happen only with Oracle JDBC driver (oracle.jdbc.driver.BlockSource.ThreadedCachingBlockSource.BlockReleaser).</p>\n\n<p>If any of the 3rd party dependency starts a daemon thread for carrying out some task, then while stopping the Tomcat logs Warning message for them also.</p>\n\n<p>Also, this problem exists with Tomcat 8.5.X versions.</p>\n\n<p>Solution:\nWhat i found as a solution is to get the Thread Group for the current thread and interrupt it. It will make sure that before shutting down the Tomcat all it's daemon threads are killed.</p>\n\n<p>below code should be added to the \"contextDestroyed\" method\nThreadGroup threadGroup = Thread.currentThread().getThreadGroup();\nthreadGroup.interrupt();</p>\n"}],"owner":{"account_id":5122930,"reputation":123,"user_id":4105953,"display_name":"finchie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21087,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1692955790,"creation_date":1412346135,"question_id":26180770,"body_markdown":"I have a web app deployed to Tomcat 7.0.54 that uses a datasource to connect to an Oracle 11g database. The datasource is configured in `META-INF/context.xml` and I&#39;ve placed ojdbc7.jar in `&lt;tomcat-install-dir&gt;/lib`. I use a JNDI lookup to retrieve the datasource which I store in a singleton so that each DAO class can use it.\r\n\r\nEverything works as expected, however when I undeploy the application (via Tomcat manager app) I see in the logs:\r\n\r\n    Oct 03, 2014 3:06:55 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    SEVERE: The web application [/myapp] appears to have started a thread named [oracle.jdbc.driver.BlockSource.ThreadedCachingBlockSource.BlockReleaser] but has failed to stop it. This is very likely to create a memory leak.\r\n    Oct 03, 2014 3:06:57 PM org.apache.catalina.startup.HostConfig undeploy\r\n    INFO: Undeploying context [/myapp]\r\n\r\nWhen I debug I can see this thread gets created as soon as the database is accessed (via the datasource).\r\n\r\nMy datasource config:\r\n\r\n    &lt;Context antiResourceLocking=&quot;false&quot;&gt;\r\n\t    &lt;Resource name=&quot;jdbc/myapp&quot; auth=&quot;Container&quot; \r\n\t   \t    type=&quot;javax.sql.DataSource&quot; driverClassName=&quot;oracle.jdbc.OracleDriver&quot; \r\n\t   \t  \tmaxActive=&quot;20&quot; maxIdle=&quot;10&quot; maxWait=&quot;-1&quot;\r\n\t   \t  \tusername=&quot;myuser&quot; password=&quot;mypass&quot;\r\n\t   \t  \turl=&quot;jdbc:oracle:thin:@myserver:1521:mysid&quot;\r\n\t   \t  \tremoveAbandoned=&quot;true&quot; removeAbandonedTimeout=&quot;10&quot; logAbandoned=&quot;true&quot;\r\n\t   \t  \tvalidationQuery=&quot;SELECT 1 FROM DUAL&quot;   \r\n\t\t\ttestOnBorrow=&quot;true&quot; testOnReturn=&quot;true&quot; testWhileIdle=&quot;true&quot;  \r\n\t\t\ttimeBetweenEvictionRunsMillis=&quot;1800000&quot; numTestsPerEvictionRun=&quot;3&quot;  \r\n\t\t\tminEvictableIdleTimeMillis=&quot;1800000&quot;\r\n\t\t/&gt;\r\n\t&lt;/Context&gt;\r\n\r\n**EDIT**\r\n\r\nFurther investigation has revealed that the issue occurs whether or not the datasource is accessed during application (or servlet) initialisation.\r\n\r\nIn actual fact, the problematic thread is only created, and thus the issue only exists, when using the 12c versions of Oracle&#39;s JDBC drivers (either ojdbc6.jar or ojdbc7.jar).\r\n\r\nIf I revert to using the 11.2.0.4 version of ojdbc6.jar the thread is never created and the memory leak warning never appears.\r\n\r\nShould I downgrade JDBC driver (as suggested in https://stackoverflow.com/a/9177263/4105953)?\r\n","title":"Memory leak on Tomcat 7 with Oracle JDBC drivers 12c - oracle.jdbc.driver thread failed to stop","body":"<p>I have a web app deployed to Tomcat 7.0.54 that uses a datasource to connect to an Oracle 11g database. The datasource is configured in <code>META-INF/context.xml</code> and I've placed ojdbc7.jar in <code>&lt;tomcat-install-dir&gt;/lib</code>. I use a JNDI lookup to retrieve the datasource which I store in a singleton so that each DAO class can use it.</p>\n\n<p>Everything works as expected, however when I undeploy the application (via Tomcat manager app) I see in the logs:</p>\n\n<pre><code>Oct 03, 2014 3:06:55 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\nSEVERE: The web application [/myapp] appears to have started a thread named [oracle.jdbc.driver.BlockSource.ThreadedCachingBlockSource.BlockReleaser] but has failed to stop it. This is very likely to create a memory leak.\nOct 03, 2014 3:06:57 PM org.apache.catalina.startup.HostConfig undeploy\nINFO: Undeploying context [/myapp]\n</code></pre>\n\n<p>When I debug I can see this thread gets created as soon as the database is accessed (via the datasource).</p>\n\n<p>My datasource config:</p>\n\n<pre><code>&lt;Context antiResourceLocking=\"false\"&gt;\n    &lt;Resource name=\"jdbc/myapp\" auth=\"Container\" \n        type=\"javax.sql.DataSource\" driverClassName=\"oracle.jdbc.OracleDriver\" \n        maxActive=\"20\" maxIdle=\"10\" maxWait=\"-1\"\n        username=\"myuser\" password=\"mypass\"\n        url=\"jdbc:oracle:thin:@myserver:1521:mysid\"\n        removeAbandoned=\"true\" removeAbandonedTimeout=\"10\" logAbandoned=\"true\"\n        validationQuery=\"SELECT 1 FROM DUAL\"   \n        testOnBorrow=\"true\" testOnReturn=\"true\" testWhileIdle=\"true\"  \n        timeBetweenEvictionRunsMillis=\"1800000\" numTestsPerEvictionRun=\"3\"  \n        minEvictableIdleTimeMillis=\"1800000\"\n    /&gt;\n&lt;/Context&gt;\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Further investigation has revealed that the issue occurs whether or not the datasource is accessed during application (or servlet) initialisation.</p>\n\n<p>In actual fact, the problematic thread is only created, and thus the issue only exists, when using the 12c versions of Oracle's JDBC drivers (either ojdbc6.jar or ojdbc7.jar).</p>\n\n<p>If I revert to using the 11.2.0.4 version of ojdbc6.jar the thread is never created and the memory leak warning never appears.</p>\n\n<p>Should I downgrade JDBC driver (as suggested in <a href=\"https://stackoverflow.com/a/9177263/4105953\">https://stackoverflow.com/a/9177263/4105953</a>)?</p>\n"},{"tags":["java","web","push-notification","push","mozilla"],"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692955759,"creation_date":1692881240,"question_id":76969420,"body_markdown":"Giving below error while sending notification to Mozilla server\r\n\r\n```\r\nclass Test {\r\n\r\n    private static String vapidPublickey = &quot;BJz1hQvWgl62aB3Cd-HT1ElM8HGQJ7nrEC25bwRLMcINZVFH1d5iac5YbjW8sZ0Uh6FKu8v3O7Q3oJYdQF_sk_A&quot;;\r\n    private static String vapidPrivatekey = &quot;37COK2I3KoNJSh_Ir56OhfhrR8x8wqM4Qcfk7AxilIU&quot;;\r\n\r\n    public static void main(String[] args) throws GeneralSecurityException {\r\n         Security.addProvider(new BouncyCastleProvider());\r\n         PushService pushService = new PushService(vapidPublickey, vapidPrivatekey);\r\n         String messageJson = &quot;&quot;         {\\&quot;data\\&quot;:\\&quot;https://mkjewel.listany.com/earrings\\&quot;,\\&quot;icon\\&quot;:\\&quot;https://listany-prod.s3.amazonaws.com/images/MKJewel/mk_logo__png.png\\&quot;,\\&quot;title\\&quot;:\\&quot;10%off\\&quot;,\\&quot;body\\&quot;:\\&quot;Gooddealondiwali\\&quot;}&quot;&quot;;\r\n         \r\n         String endPoint = &quot;https://updates.push.services.mozilla.com/wpush/v2/gAAAAABk5xu3VjaceCx995HyDNiB7HOWnqmv4s8b-76flzGnbTTAOQpnt3vUZxLlapIl_TIQyeTFwXxQ0Zoy2IO0FvnXYyziXdG01x8Ov7EvJIy7pCC_5YSylRHKL3UnhT4FfvLhCoALrL9S-N8xOE5er7xu8MipJo5OW4Jtm6YUq_NYGq0iX-o&quot;;\r\n\t\t\tString p256dh = &quot;BHV2OOD6qGxyRThsaH5KfZu8C5RMxVK57CctdJOQp8dzxpq1C5heMutWDt6Wk_s_afNtLKe6ipiQT--YpcmafLY&quot;;\r\n\t\t\tString auth = &quot;-BQQwuJmjFNCnroJ0JYh5A&quot;;\r\n\t\t\tSubscription.Keys keys = new Subscription.Keys(p256dh, auth);\r\n\t\t\tSubscription subscription = new Subscription(endPoint, keys);\r\n\r\n         HttpResponse httpResponse = pushService.send(new Notification(subscription, messageJson));\r\n\r\n         InputStream content = httpResponse.getEntity().getContent();\r\n\t List&lt;String&gt; strings = IOUtils.readLines(content, &quot;UTF-8&quot;);\r\n\t System.out.println(strings);\r\n    }  \r\n}\r\n```\r\nGetting below out put on console:\r\n```\r\n{\r\n    &quot;code&quot;: 401,\r\n    &quot;errno&quot;: 109,\r\n    &quot;error&quot;: &quot;Unauthorized&quot;,\r\n    &quot;message&quot;: &quot;VAPID public key mismatch&quot;,\r\n    &quot;more_info&quot;: &quot;http://autopush.readthedocs.io/en/latest/http.html#error-codes&quot;\r\n}\r\n```\r\nNote: Below two dependencies has to be added in pom.xml file \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n    &lt;version&gt;1.70&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;nl.martijndwars&lt;/groupId&gt;\r\n    &lt;artifactId&gt;web-push&lt;/artifactId&gt;\r\n    &lt;version&gt;5.1.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nI tried creating new vapid key pair using below npm cmds in order to use\r\n\r\nStep 1:  npm install web-push\r\n\r\nStep 2: In this created file &quot;generate-keys.js&quot; i written the below code\r\n\r\n\r\n```\r\nconst webpush = require(&#39;web-push&#39;);\r\n\r\n// Replace these with your actual details\r\nconst vapidKeys = webpush.generateVAPIDKeys();\r\n\r\nconsole.log(&#39;VAPID Public Key:&#39;, vapidKeys.publicKey);\r\nconsole.log(&#39;VAPID Private Key:&#39;, vapidKeys.privateKey);\r\n```\r\n\r\nStep : 3 Then execute this cmmd &quot;node generate-keys.js&quot; which will give below response:\r\n```\r\nVAPID Public Key: BJz1hQvWgl62aB3Cd-HT1ElM8HGQJ7nrEC25bwRLMcINZVFH1d5iac5YbjW8sZ0Uh6FKu8v3O7Q3oJYdQF_sk_A\r\nVAPID Private Key: 37COK2I3KoNJSh_Ir56OhfhrR8x8wqM4Qcfk7AxilIU\r\n```\r\n\r\n","title":"Web push notification not working in Mozilla but it&#39;s working in Chrome, Java lang","body":"<p>Giving below error while sending notification to Mozilla server</p>\n<pre><code>class Test {\n\n    private static String vapidPublickey = &quot;BJz1hQvWgl62aB3Cd-HT1ElM8HGQJ7nrEC25bwRLMcINZVFH1d5iac5YbjW8sZ0Uh6FKu8v3O7Q3oJYdQF_sk_A&quot;;\n    private static String vapidPrivatekey = &quot;37COK2I3KoNJSh_Ir56OhfhrR8x8wqM4Qcfk7AxilIU&quot;;\n\n    public static void main(String[] args) throws GeneralSecurityException {\n         Security.addProvider(new BouncyCastleProvider());\n         PushService pushService = new PushService(vapidPublickey, vapidPrivatekey);\n         String messageJson = &quot;&quot;         {\\&quot;data\\&quot;:\\&quot;https://mkjewel.listany.com/earrings\\&quot;,\\&quot;icon\\&quot;:\\&quot;https://listany-prod.s3.amazonaws.com/images/MKJewel/mk_logo__png.png\\&quot;,\\&quot;title\\&quot;:\\&quot;10%off\\&quot;,\\&quot;body\\&quot;:\\&quot;Gooddealondiwali\\&quot;}&quot;&quot;;\n         \n         String endPoint = &quot;https://updates.push.services.mozilla.com/wpush/v2/gAAAAABk5xu3VjaceCx995HyDNiB7HOWnqmv4s8b-76flzGnbTTAOQpnt3vUZxLlapIl_TIQyeTFwXxQ0Zoy2IO0FvnXYyziXdG01x8Ov7EvJIy7pCC_5YSylRHKL3UnhT4FfvLhCoALrL9S-N8xOE5er7xu8MipJo5OW4Jtm6YUq_NYGq0iX-o&quot;;\n            String p256dh = &quot;BHV2OOD6qGxyRThsaH5KfZu8C5RMxVK57CctdJOQp8dzxpq1C5heMutWDt6Wk_s_afNtLKe6ipiQT--YpcmafLY&quot;;\n            String auth = &quot;-BQQwuJmjFNCnroJ0JYh5A&quot;;\n            Subscription.Keys keys = new Subscription.Keys(p256dh, auth);\n            Subscription subscription = new Subscription(endPoint, keys);\n\n         HttpResponse httpResponse = pushService.send(new Notification(subscription, messageJson));\n\n         InputStream content = httpResponse.getEntity().getContent();\n     List&lt;String&gt; strings = IOUtils.readLines(content, &quot;UTF-8&quot;);\n     System.out.println(strings);\n    }  \n}\n</code></pre>\n<p>Getting below out put on console:</p>\n<pre><code>{\n    &quot;code&quot;: 401,\n    &quot;errno&quot;: 109,\n    &quot;error&quot;: &quot;Unauthorized&quot;,\n    &quot;message&quot;: &quot;VAPID public key mismatch&quot;,\n    &quot;more_info&quot;: &quot;http://autopush.readthedocs.io/en/latest/http.html#error-codes&quot;\n}\n</code></pre>\n<p>Note: Below two dependencies has to be added in pom.xml file</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;1.70&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;nl.martijndwars&lt;/groupId&gt;\n    &lt;artifactId&gt;web-push&lt;/artifactId&gt;\n    &lt;version&gt;5.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried creating new vapid key pair using below npm cmds in order to use</p>\n<p>Step 1:  npm install web-push</p>\n<p>Step 2: In this created file &quot;generate-keys.js&quot; i written the below code</p>\n<pre><code>const webpush = require('web-push');\n\n// Replace these with your actual details\nconst vapidKeys = webpush.generateVAPIDKeys();\n\nconsole.log('VAPID Public Key:', vapidKeys.publicKey);\nconsole.log('VAPID Private Key:', vapidKeys.privateKey);\n</code></pre>\n<p>Step : 3 Then execute this cmmd &quot;node generate-keys.js&quot; which will give below response:</p>\n<pre><code>VAPID Public Key: BJz1hQvWgl62aB3Cd-HT1ElM8HGQJ7nrEC25bwRLMcINZVFH1d5iac5YbjW8sZ0Uh6FKu8v3O7Q3oJYdQF_sk_A\nVAPID Private Key: 37COK2I3KoNJSh_Ir56OhfhrR8x8wqM4Qcfk7AxilIU\n</code></pre>\n"},{"tags":["java","sql","jdbc","mysql-workbench","e-commerce"],"comments":[{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692795810,"post_id":76961593,"comment_id":135672671,"body_markdown":"order is a reserved word, so you should get an error,","body":"order is a reserved word, so you should get an error,"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692805154,"post_id":76961593,"comment_id":135674971,"body_markdown":"if you mean in the function &quot;public Order setCanceledStatus (Order order)&quot;, in my real program instead of SELECT * FROM ORDER there is SELECT * FROM ORDINE and instead of UPDATE ORDER there is UPDATE ORDINE. In this question (in stackoverflow) I translate the names in English from my language with the aim of simplifying readability for everyone. Anyway thank you for the answer","body":"if you mean in the function &quot;public Order setCanceledStatus (Order order)&quot;, in my real program instead of SELECT * FROM ORDER there is SELECT * FROM ORDINE and instead of UPDATE ORDER there is UPDATE ORDINE. In this question (in stackoverflow) I translate the names in English from my language with the aim of simplifying readability for everyone. Anyway thank you for the answer"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692805716,"post_id":76961593,"comment_id":135675089,"body_markdown":"@nbk can you see something else that could give me this problem? client side the page is correctly redirected into the cart.jsp page and all the others entity are correctly updated with the wanted values (for example the cart is correctly deleted thanks to the function cartDAO.delete(Opencart) that you can find inside the catch under the function that cancel the order). So this make me think that there haven&#39;t been a rollback. I even try to substitute the function setCanceledStatus (order) with a function that perform a DELETE. But even in this case everything is correctly done except this","body":"@nbk can you see something else that could give me this problem? client side the page is correctly redirected into the cart.jsp page and all the others entity are correctly updated with the wanted values (for example the cart is correctly deleted thanks to the function cartDAO.delete(Opencart) that you can find inside the catch under the function that cancel the order). So this make me think that there haven&#39;t been a rollback. I even try to substitute the function setCanceledStatus (order) with a function that perform a DELETE. But even in this case everything is correctly done except this"},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692807180,"post_id":76961593,"comment_id":135675387,"body_markdown":"if you don&#39;t get an exception you are probably connected to the wrong server. easy would be tpo check with wiresharl if you are connected to the right server or enable general log and see if the update command reaches the server","body":"if you don&#39;t get an exception you are probably connected to the wrong server. easy would be tpo check with wiresharl if you are connected to the right server or enable general log and see if the update command reaches the server"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692810179,"post_id":76961593,"comment_id":135675961,"body_markdown":"But I&#39;m a little bit confused, if there is no connection then i shouldn&#39;t be able to update or read anything in the database? instead when i run the program everything work fine (i can see the change of the status of the database from MySQL WorkBench) except for that function","body":"But I&#39;m a little bit confused, if there is no connection then i shouldn&#39;t be able to update or read anything in the database? instead when i run the program everything work fine (i can see the change of the status of the database from MySQL WorkBench) except for that function"},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692812050,"post_id":76961593,"comment_id":135676302,"body_markdown":"look the command isnit the issue, when you run it and it throws no error , so the driver accepoted the query. you can check with affected rows how many where updated. But if none your where clause didn&#39;t find a match, if  one was updated you are not connected to the correct server. both we can not check for you.","body":"look the command isnit the issue, when you run it and it throws no error , so the driver accepoted the query. you can check with affected rows how many where updated. But if none your where clause didn&#39;t find a match, if  one was updated you are not connected to the correct server. both we can not check for you."},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692813435,"post_id":76961593,"comment_id":135676521,"body_markdown":"I checked the general log: here everything seems fine. There is the delete (i substituted the function setCanceledStatus (Order order) with a function that perform the delete of that order). But anyway the status of the order is pending when i go to check it in MySQL WorkBench.","body":"I checked the general log: here everything seems fine. There is the delete (i substituted the function setCanceledStatus (Order order) with a function that perform the delete of that order). But anyway the status of the order is pending when i go to check it in MySQL WorkBench."},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692816334,"post_id":76961593,"comment_id":135677062,"body_markdown":"i thought you were uodating the column, not delete it, a status only change when you upodate it directly or use a trigger. if all commands you send are appearing in the general log, all should be fine, I think you missed some information","body":"i thought you were uodating the column, not delete it, a status only change when you upodate it directly or use a trigger. if all commands you send are appearing in the general log, all should be fine, I think you missed some information"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692823153,"post_id":76961593,"comment_id":135678206,"body_markdown":"Yes I was doing it, I just change the function setCanceledStatus  with a function that perform the delete to see if it was a function problem. Tomorrow I will try again with the function  that I shared in this question and share the logs in this post. Thank you very much for your time","body":"Yes I was doing it, I just change the function setCanceledStatus  with a function that perform the delete to see if it was a function problem. Tomorrow I will try again with the function  that I shared in this question and share the logs in this post. Thank you very much for your time"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692832844,"post_id":76961593,"comment_id":135679332,"body_markdown":"@nbk as you can see I edit the question and i reported the new function and the log. Thank you in advance","body":"@nbk as you can see I edit the question and i reported the new function and the log. Thank you in advance"},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692834312,"post_id":76961593,"comment_id":135679474,"body_markdown":"so oyur log show that the first had an error and the last also why it runs a ROLLBACK, so your queries abouve don&#39;t work kucky for you that nothing was deleted take the 1 log start a transaction and see where  it fails, all the comands are valid but the could b triggers or contraints that could lead to the rollback.","body":"so oyur log show that the first had an error and the last also why it runs a ROLLBACK, so your queries abouve don&#39;t work kucky for you that nothing was deleted take the 1 log start a transaction and see where  it fails, all the comands are valid but the could b triggers or contraints that could lead to the rollback."},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692870558,"post_id":76961593,"comment_id":135683812,"body_markdown":"So I think the first query failed because there is an exception of NotAvaibleProductException so it is correct that there is a ROLLBACK (in fact inside the catch of NotAvaibleProductException i did a rollback). The problem is the last query, that rollback is not wanted.","body":"So I think the first query failed because there is an exception of NotAvaibleProductException so it is correct that there is a ROLLBACK (in fact inside the catch of NotAvaibleProductException i did a rollback). The problem is the last query, that rollback is not wanted."},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692870873,"post_id":76961593,"comment_id":135683875,"body_markdown":"But the DELETE is in the second query (number 27 in the log), not in the last query(number 28). So i think the DELETE shouldn&#39;t be affected by ROLLBACK, am I wrong? @nbk","body":"But the DELETE is in the second query (number 27 in the log), not in the last query(number 28). So i think the DELETE shouldn&#39;t be affected by ROLLBACK, am I wrong? @nbk"},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692874552,"post_id":76961593,"comment_id":135684584,"body_markdown":"the chnages from the second Log show no error so should be visible in the database","body":"the chnages from the second Log show no error so should be visible in the database"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692875463,"post_id":76961593,"comment_id":135684750,"body_markdown":"But the delete haven&#39;t been performed unfortunately. There aren&#39;t any foreign keys from other tables that are linked with the table ORDINE ( just the table ORDINE have foreign keys linked with other tables), so i think the problem shouldn&#39;t be constraints.","body":"But the delete haven&#39;t been performed unfortunately. There aren&#39;t any foreign keys from other tables that are linked with the table ORDINE ( just the table ORDINE have foreign keys linked with other tables), so i think the problem shouldn&#39;t be constraints."},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692886028,"post_id":76961593,"comment_id":135687275,"body_markdown":"Constraints would through an error you should check in workbench  if you have triggers","body":"Constraints would through an error you should check in workbench  if you have triggers"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692891679,"post_id":76961593,"comment_id":135688613,"body_markdown":"I did the command SHOW TRIGGERS and no triggers were found @nbk","body":"I did the command SHOW TRIGGERS and no triggers were found @nbk"},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692906835,"post_id":76961593,"comment_id":135691890,"body_markdown":"last input from me,  see ig the error log shows any anomalies, i can not  reproduce the error you get","body":"last input from me,  see ig the error log shows any anomalies, i can not  reproduce the error you get"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692947790,"post_id":76961593,"comment_id":135696555,"body_markdown":"If you mean the rollback immediately after the commit in the last query I probably found the motivation at this link [link](https://dba.stackexchange.com/questions/290747/what-could-be-the-reason-for-running-rollback-after-a-commit)","body":"If you mean the rollback immediately after the commit in the last query I probably found the motivation at this link <a href=\"https://dba.stackexchange.com/questions/290747/what-could-be-the-reason-for-running-rollback-after-a-commit\">link</a>"},{"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"score":0,"creation_date":1692948040,"post_id":76961593,"comment_id":135696613,"body_markdown":"A maybe important thing that i noticed is that the query DELETE in the second transaction is owned by the first transaction (the number is 26 not 27). And the transaction number 26 never do a commit after the DELETE. Is maybe this one the motivation? @nbk","body":"A maybe important thing that i noticed is that the query DELETE in the second transaction is owned by the first transaction (the number is 26 not 27). And the transaction number 26 never do a commit after the DELETE. Is maybe this one the motivation? @nbk"},{"owner":{"account_id":6740011,"reputation":46648,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1692948933,"post_id":76961593,"comment_id":135696779,"body_markdown":"yes , your log shows that you flow control isn&#39;t finalized, you should rethink your approach and eliminate the rollbacks, if possible","body":"yes , your log shows that you flow control isn&#39;t finalized, you should rethink your approach and eliminate the rollbacks, if possible"}],"owner":{"account_id":29227842,"reputation":3,"user_id":22392150,"display_name":"Michael"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692955245,"creation_date":1692795575,"question_id":76961593,"body_markdown":"I&#39;m trying to implement an e-commerce website using java, MySQL database, and JDBC.\r\n\r\nI have a problem when I (intentionally) cause an OptimisticLockException or a NotAvaibleProductException: in these exceptions(inside the catch) i try to delete an order with a given ID with the function orderDAO.permanentlydelete(order);\r\n\r\nI haven&#39;t got any error and every transactions that there are in the program changed the database status as i wanted, **except for the DELETE performed inside the function** **orderDAO.permanentlydelete(order);**\r\n\r\nIn fact in MySQL WorkBench **continue to be present the order with the ID that i wanted to delete.**\r\n\r\nThis is the **controller function:**\r\n\r\n```\r\npublic static void addPaymentAndOrderChange(HttpServletRequest request, HttpServletResponse response) {\r\n    String applicationMessage = null;\r\n    DAOFactory sessionDAOFactory = null;\r\n    DAOFactory daoFactory = null;\r\n    Utente loggedUser;\r\n\r\n\r\n    Logger logger = LogService.getApplicationLogger();\r\n\r\n    try {\r\n\r\n        Map sessionFactoryParameters = new HashMap&lt;String, Object&gt;();\r\n        sessionFactoryParameters.put(&quot;request&quot;, request);\r\n        sessionFactoryParameters.put(&quot;response&quot;, response);\r\n        sessionDAOFactory = DAOFactory.getDAOFactory(Configuration.COOKIE_IMPL, sessionFactoryParameters);\r\n        sessionDAOFactory.beginTransaction();\r\n\r\n        UserDAO sessionUserDAO = sessionDAOFactory.getUserDAO();\r\n        loggedUser = sessionUserDAO.findLoggedUser();\r\n\r\n        daoFactory = DAOFactory.getDAOFactory(Configuration.DAO_IMPL, null);\r\n        daoFactory.beginTransaction();\r\n\r\n        Double CardNumber= Double.parseDouble(request.getParameter(&quot;CardNumber&quot;));\r\n        int CVV = Integer.parseInt(request.getParameter(&quot;cvv&quot;));\r\n        String name= request.getParameter(&quot;name&quot;);\r\n        String expiration= request.getParameter(&quot;expiration&quot;);\r\n\r\n\r\n\r\n        /* I find the pending order linked with logged user*/\r\n        OrderDAO orderDAO = daoFactory.getOrderDAO();\r\n        Order order = orderDAO.findByPendingStatus(loggedUser);\r\n\r\n        //I find the cart\r\n        CartDAO cartDAO = daoFactory.getCartDAO();\r\n        Cart cart = cartDAO.findCartByOrder(order);\r\n\r\n        //Take all the cart item inside the cart\r\n        CartItemDAO cartItemDAO = daoFactory.getCartItemDAO();\r\n        List&lt;CartItem&gt; cartItems = cartItemDAO.getCartItems(cart);\r\n\r\n\r\n     try {\r\n            //I create the payment\r\n            PaymentDAO paymentDAO = daoFactory.getPaymentDAO();\r\n            paymentDAO.create(cart.getTotal(), order, CardNumber, CVV, name, expiration);\r\n\r\n            //Set complete flag to the order\r\n            orderDAO.setCompleteStatus(order);\r\n            System.out.println(order.getID_order());\r\n\r\n\r\n            //Decrease the quantity of the product\r\n            for (CartItem cartItem : cartItems) {\r\n                ProductDAO productDAO = daoFactory.getProductDAO();\r\n                productDAO.checkAndDecreaseQuantity(cartItem.getProduct().getId_product(), cartItem.getQuantity());\r\n\r\n            }\r\n\r\n\r\n            //Prepare data for the next jsp page\r\n            Map&lt;CartItem, Product&gt; cartItems_page;\r\n            cartItems_page = cartItemDAO.findOrderItems(order.getID_order());\r\n\r\n\r\n            daoFactory.commitTransaction();\r\n            sessionDAOFactory.commitTransaction();\r\n\r\n            applicationMessage = &quot;Payment received, order executed successfully&quot;;\r\n            System.out.println(applicationMessage);\r\n\r\n\r\n            request.setAttribute(&quot;loggedOn&quot;, loggedUser != null);\r\n            request.setAttribute(&quot;ID_order&quot;, order.getID_ordine());\r\n            request.setAttribute(&quot;CartItems&quot;, cartItems_page);\r\n            request.setAttribute(&quot;loggedUser&quot;, loggedUser);\r\n            request.setAttribute(&quot;applicationMessage&quot;, applicationMessage);\r\n\r\n            request.setAttribute(&quot;viewUrl&quot;, &quot;jsp/userOrderManagement/Order_details&quot;);\r\n\r\n\r\n        } catch (NotAvaibleProductException e) {\r\n            try {\r\n                if (daoFactory != null) daoFactory.rollbackTransaction();\r\n\r\n            } catch (Throwable t) {\r\n            }\r\n            applicationMessage=&quot;NotAvaibleProductException : Reorder&quot;;\r\n            daoFactory.beginTransaction();\r\n\r\n              ** //I cancel the order\r\n            orderDAO.permanentlydelete(order); **\r\n\r\n\r\n            //I delete the previous created cart\r\n            CartDAO cartDAO = daoFactory.getCartDAO();\r\n            Cart Opencart = cartDAO.findOpenCartByUserId(loggedUser.getId_user());\r\n            cartDAO.delete(Opencart);\r\n\r\n            //i open the cart that have been closed\r\n            cartDAO.restoreCart(cart);\r\n\r\n            //I send the user into the cart.jsp page\r\n            commonView(daoFactory,sessionDAOFactory,request);\r\n\r\n\r\n            daoFactory.commitTransaction();\r\n            sessionDAOFactory.commitTransaction();\r\n\r\n\r\n            request.setAttribute(&quot;loggedOn&quot;, loggedUser != null);\r\n            request.setAttribute(&quot;loggedUser&quot;, loggedUser);\r\n            request.setAttribute(&quot;viewUrl&quot;, &quot;jsp/cartManagement/Cart&quot;);\r\n            request.setAttribute(&quot;applicationMessage&quot;, applicationMessage);\r\n        }\r\n\r\n\r\n    } catch (Exception e) {\r\n        logger.log(Level.SEVERE, &quot;Controller Error&quot;, e);\r\n        System.out.println(&quot;EXCEPTION&quot;);\r\n        try {\r\n            if (daoFactory != null) daoFactory.rollbackTransaction();\r\n            if (sessionDAOFactory != null) sessionDAOFactory.rollbackTransaction();\r\n        } catch (Throwable t) {\r\n        }\r\n        throw new RuntimeException(e);\r\n\r\n\r\n    } finally {\r\n        try {\r\n            if (daoFactory != null) daoFactory.closeTransaction();\r\n            if (sessionDAOFactory != null) sessionDAOFactory.closeTransaction();\r\n        } catch (Throwable t) {\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nAnd this is the **function that perform the delete**:\r\n\r\n\r\n```\r\n  public void permanentlydelete(Order order){\r\n    PreparedStatement ps;\r\n    try {\r\n\r\n        String sql\r\n                = &quot; DELETE FROM ORDINE &quot;\r\n                + &quot; WHERE &quot;\r\n                + &quot; ID_ordine=?&quot;;\r\n\r\n        ps = conn.prepareStatement(sql);\r\n        ps.setLong(1, order.getID_order());\r\n        ps.executeUpdate();\r\n        ps.close();\r\n\r\n    } catch (SQLException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n**And this is the general log:**\r\n\r\n2023-08-23T17:45:17.262776Z\t   26 Connect\troot@localhost on amuletshop using TCP/IP\r\n\r\n2023-08-23T17:45:17.263529Z\t   26 Query\t/* mysql-connector-j-8.0.32 (Revision: fa4912a849140828e48162a2c396c8df0091bed7) */SELECT  @@session.auto_increment_increment AS auto_increment_increment, @@character_set_client AS character_set_client, @@character_set_connection AS character_set_connection, @@character_set_results AS character_set_results, @@character_set_server AS character_set_server, @@collation_server AS collation_server, @@collation_connection AS collation_connection, @@init_connect AS init_connect, @@interactive_timeout AS interactive_timeout, @@license AS license, @@lower_case_table_names AS lower_case_table_names, @@max_allowed_packet AS max_allowed_packet, @@net_write_timeout AS net_write_timeout, @@performance_schema AS performance_schema, @@sql_mode AS sql_mode, @@system_time_zone AS system_time_zone, @@time_zone AS time_zone, @@transaction_isolation AS transaction_isolation, @@wait_timeout AS wait_timeout\r\n\r\n    2023-08-23T17:45:17.264237Z\t   26 Query\tSET character_set_results = NULL\r\n    \r\n    2023-08-23T17:45:17.264693Z\t   26 Query\tSET autocommit=1\r\n    \r\n    2023-08-23T17:45:17.265188Z\t   26 Query\tSET autocommit=0\r\n    \r\n    2023-08-23T17:45:17.265919Z\t   26 Query\tSELECT *    FROM ORDINE  WHERE    Stato_o = &#39;In sospeso&#39; AND ID_utente=31 AND Deleted=0 ORDER BY ID_ordine DESC LIMIT 1\r\n    \r\n    2023-08-23T17:45:17.270339Z\t   26 Query\tSELECT * FROM ORDINE JOIN CARRELLO ON ID_cart=ID_carrello  WHERE  (ID_ordine=125)\r\n    \r\n    2023-08-23T17:45:17.272270Z\t   26 Query\tSELECT *  FROM CARTITEM  WHERE    ID_car = 141    AND deleted = &#39;N&#39;\r\n    \r\n    2023-08-23T17:45:17.274521Z\t   26 Query\tSELECT *  FROM PAGAMENTO  WHERE  Deleted =&#39;N&#39; AND ID_order=125\r\n    \r\n    2023-08-23T17:45:17.276718Z\t   26 Query\tINSERT INTO PAGAMENTO    ( Importo,     ID_order,     NumeroCarta,     CVV,     Nome,     ScadenzaCarta   )  VALUES (300000.00,125,2.0,1,&#39;Ydfuf&#39;,&#39;1&#39;)\r\n    \r\n    2023-08-23T17:45:17.278111Z\t   26 Query\tUPDATE ORDINE  SET Stato_o=&#39;Completato&#39;  WHERE  ID_ordine=125\r\n    \r\n    2023-08-23T17:45:17.279899Z\t   26 Query\tSELECT * FROM PRODOTTO  WHERE    Deleted=0 AND Blocked=0 AND ID_amuleto=11 AND Quantit&#224;_disp&gt;=3\r\n    \r\n    2023-08-23T17:45:17.280947Z\t   26 Query\trollback\r\n    \r\n    \r\n    2023-08-23T17:45:17.286115Z\t   27 Connect\troot@localhost on amuletshop using TCP/IP\r\n\r\n2023-08-23T17:45:17.286988Z\t   27 Query\t/* mysql-connector-j-8.0.32 (Revision: fa4912a849140828e48162a2c396c8df0091bed7) */SELECT  @@session.auto_increment_increment AS auto_increment_increment, @@character_set_client AS character_set_client, @@character_set_connection AS character_set_connection, @@character_set_results AS character_set_results, @@character_set_server AS character_set_server, @@collation_server AS collation_server, @@collation_connection AS collation_connection, @@init_connect AS init_connect, @@interactive_timeout AS interactive_timeout, @@license AS license, @@lower_case_table_names AS lower_case_table_names, @@max_allowed_packet AS max_allowed_packet, @@net_write_timeout AS net_write_timeout, @@performance_schema AS performance_schema, @@sql_mode AS sql_mode, @@system_time_zone AS system_time_zone, @@time_zone AS time_zone, @@transaction_isolation AS transaction_isolation, @@wait_timeout AS wait_timeout\r\n\r\n\r\n    2023-08-23T17:45:17.287781Z\t   27 Query\tSET character_set_results = NULL\r\n    \r\n    2023-08-23T17:45:17.288150Z\t   27 Query\tSET autocommit=1\r\n    \r\n    2023-08-23T17:45:17.288631Z\t   27 Query\tSET autocommit=0\r\n    \r\n    2023-08-23T17:45:17.289342Z\t   26 Query\tDELETE FROM ORDINE  WHERE  ID_ordine=125\r\n    \r\n    2023-08-23T17:45:17.290633Z\t   27 Query\tSELECT * FROM CARRELLO  WHERE    deleted=&#39;N&#39;AND ID_user=31 AND Stato_c=&#39;Aperto&#39;\r\n    \r\n    2023-08-23T17:45:17.293113Z\t   27 Query\tDELETE FROM CARRELLO  WHERE  ID_carrello=145\r\n    \r\n    2023-08-23T17:45:17.294688Z\t   27 Query\tUPDATE Carrello  SET Stato_c = &#39;Aperto&#39; WHERE  ID_carrello=141 AND Stato_c= &#39;Chiuso&#39;\r\n    \r\n    2023-08-23T17:45:17.295915Z\t   27 Query\tSELECT * FROM CARRELLO  WHERE    deleted=&#39;N&#39;AND ID_user=31 AND Stato_c=&#39;Aperto&#39;\r\n    \r\n    2023-08-23T17:45:17.297347Z\t   27 Query\tSELECT * FROM CartItem JOIN PRODOTTO ON ID_amulet=ID_amuleto  WHERE    CartItem.deleted=&#39;N&#39;AND ID_car=141 ORDER BY PRODOTTO.Nome\r\n    \r\n    2023-08-23T17:45:17.299415Z\t   27 Query\tSELECT Quantit&#224;_disp FROM PRODOTTO  WHERE    Deleted=0 AND Blocked=0 AND ID_amuleto=11 AND Quantit&#224;_disp&gt;=3\r\n    \r\n    2023-08-23T17:45:17.300294Z\t   27 Query\tcommit\r\n\r\n\r\n\r\n2023-08-23T17:45:17.310637Z\t   28 Connect\troot@localhost on amuletshop using TCP/IP\r\n2023-08-23T17:45:17.311448Z\t   28 Query\t/* mysql-connector-j-8.0.32 (Revision: fa4912a849140828e48162a2c396c8df0091bed7) */SELECT  @@session.auto_increment_increment AS auto_increment_increment, @@character_set_client AS character_set_client, @@character_set_connection AS character_set_connection, @@character_set_results AS character_set_results, @@character_set_server AS character_set_server, @@collation_server AS collation_server, @@collation_connection AS collation_connection, @@init_connect AS init_connect, @@interactive_timeout AS interactive_timeout, @@license AS license, @@lower_case_table_names AS lower_case_table_names, @@max_allowed_packet AS max_allowed_packet, @@net_write_timeout AS net_write_timeout, @@performance_schema AS performance_schema, @@sql_mode AS sql_mode, @@system_time_zone AS system_time_zone, @@time_zone AS time_zone, @@transaction_isolation AS transaction_isolation, @@wait_timeout AS wait_timeout\r\n\r\n\r\n    2023-08-23T17:45:17.312215Z\t   28 Query\tSET character_set_results = NULL\r\n    2023-08-23T17:45:17.312635Z\t   28 Query\tSET autocommit=1\r\n    2023-08-23T17:45:17.313138Z\t   28 Query\tSET autocommit=0\r\n    2023-08-23T17:45:17.313850Z\t   26 Query\tSELECT *    FROM ORDINE  WHERE    ID_ordine = 125\r\n    2023-08-23T17:45:17.314639Z\t   28 Query\tcommit\r\n    2023-08-23T17:45:17.315071Z\t   28 Query\trollback\r\n    2023-08-23T17:45:17.315327Z\t   28 Quit\t\r\n\r\nIn MySQL WorkBench the order with ID_ordine = 125 continue to be there. So the delete didn&#39;t effectly work even if it is in the log.\r\n\r\nMy questions are: \r\n**Why in the log the delete has query identificator=26 and not 27** considered that it should be executed inside the delete of the cart (see in the top of the catch of NotAvailableProductEception)?\r\n\r\n**Why the record of the table ORDINE isn&#39;t actually deleted?**\r\n\r\nI know that there are several security problem such as storing the credit card information into the database and store the UserID in the cookie directly, but the website won&#39;t be published, it&#39;s just for an exam where the professor told us to don&#39;t manage the security (he just mind the software engineering).\r\n\r\nIf you see that I&#39;m doing something wrong please let me know, **thank you in advance**.","title":"Why i can&#39;t see a change in the status of the database MySQL when i do this update?","body":"<p>I'm trying to implement an e-commerce website using java, MySQL database, and JDBC.</p>\n<p>I have a problem when I (intentionally) cause an OptimisticLockException or a NotAvaibleProductException: in these exceptions(inside the catch) i try to delete an order with a given ID with the function orderDAO.permanentlydelete(order);</p>\n<p>I haven't got any error and every transactions that there are in the program changed the database status as i wanted, <strong>except for the DELETE performed inside the function</strong> <strong>orderDAO.permanentlydelete(order);</strong></p>\n<p>In fact in MySQL WorkBench <strong>continue to be present the order with the ID that i wanted to delete.</strong></p>\n<p>This is the <strong>controller function:</strong></p>\n<pre><code>public static void addPaymentAndOrderChange(HttpServletRequest request, HttpServletResponse response) {\n    String applicationMessage = null;\n    DAOFactory sessionDAOFactory = null;\n    DAOFactory daoFactory = null;\n    Utente loggedUser;\n\n\n    Logger logger = LogService.getApplicationLogger();\n\n    try {\n\n        Map sessionFactoryParameters = new HashMap&lt;String, Object&gt;();\n        sessionFactoryParameters.put(&quot;request&quot;, request);\n        sessionFactoryParameters.put(&quot;response&quot;, response);\n        sessionDAOFactory = DAOFactory.getDAOFactory(Configuration.COOKIE_IMPL, sessionFactoryParameters);\n        sessionDAOFactory.beginTransaction();\n\n        UserDAO sessionUserDAO = sessionDAOFactory.getUserDAO();\n        loggedUser = sessionUserDAO.findLoggedUser();\n\n        daoFactory = DAOFactory.getDAOFactory(Configuration.DAO_IMPL, null);\n        daoFactory.beginTransaction();\n\n        Double CardNumber= Double.parseDouble(request.getParameter(&quot;CardNumber&quot;));\n        int CVV = Integer.parseInt(request.getParameter(&quot;cvv&quot;));\n        String name= request.getParameter(&quot;name&quot;);\n        String expiration= request.getParameter(&quot;expiration&quot;);\n\n\n\n        /* I find the pending order linked with logged user*/\n        OrderDAO orderDAO = daoFactory.getOrderDAO();\n        Order order = orderDAO.findByPendingStatus(loggedUser);\n\n        //I find the cart\n        CartDAO cartDAO = daoFactory.getCartDAO();\n        Cart cart = cartDAO.findCartByOrder(order);\n\n        //Take all the cart item inside the cart\n        CartItemDAO cartItemDAO = daoFactory.getCartItemDAO();\n        List&lt;CartItem&gt; cartItems = cartItemDAO.getCartItems(cart);\n\n\n     try {\n            //I create the payment\n            PaymentDAO paymentDAO = daoFactory.getPaymentDAO();\n            paymentDAO.create(cart.getTotal(), order, CardNumber, CVV, name, expiration);\n\n            //Set complete flag to the order\n            orderDAO.setCompleteStatus(order);\n            System.out.println(order.getID_order());\n\n\n            //Decrease the quantity of the product\n            for (CartItem cartItem : cartItems) {\n                ProductDAO productDAO = daoFactory.getProductDAO();\n                productDAO.checkAndDecreaseQuantity(cartItem.getProduct().getId_product(), cartItem.getQuantity());\n\n            }\n\n\n            //Prepare data for the next jsp page\n            Map&lt;CartItem, Product&gt; cartItems_page;\n            cartItems_page = cartItemDAO.findOrderItems(order.getID_order());\n\n\n            daoFactory.commitTransaction();\n            sessionDAOFactory.commitTransaction();\n\n            applicationMessage = &quot;Payment received, order executed successfully&quot;;\n            System.out.println(applicationMessage);\n\n\n            request.setAttribute(&quot;loggedOn&quot;, loggedUser != null);\n            request.setAttribute(&quot;ID_order&quot;, order.getID_ordine());\n            request.setAttribute(&quot;CartItems&quot;, cartItems_page);\n            request.setAttribute(&quot;loggedUser&quot;, loggedUser);\n            request.setAttribute(&quot;applicationMessage&quot;, applicationMessage);\n\n            request.setAttribute(&quot;viewUrl&quot;, &quot;jsp/userOrderManagement/Order_details&quot;);\n\n\n        } catch (NotAvaibleProductException e) {\n            try {\n                if (daoFactory != null) daoFactory.rollbackTransaction();\n\n            } catch (Throwable t) {\n            }\n            applicationMessage=&quot;NotAvaibleProductException : Reorder&quot;;\n            daoFactory.beginTransaction();\n\n              ** //I cancel the order\n            orderDAO.permanentlydelete(order); **\n\n\n            //I delete the previous created cart\n            CartDAO cartDAO = daoFactory.getCartDAO();\n            Cart Opencart = cartDAO.findOpenCartByUserId(loggedUser.getId_user());\n            cartDAO.delete(Opencart);\n\n            //i open the cart that have been closed\n            cartDAO.restoreCart(cart);\n\n            //I send the user into the cart.jsp page\n            commonView(daoFactory,sessionDAOFactory,request);\n\n\n            daoFactory.commitTransaction();\n            sessionDAOFactory.commitTransaction();\n\n\n            request.setAttribute(&quot;loggedOn&quot;, loggedUser != null);\n            request.setAttribute(&quot;loggedUser&quot;, loggedUser);\n            request.setAttribute(&quot;viewUrl&quot;, &quot;jsp/cartManagement/Cart&quot;);\n            request.setAttribute(&quot;applicationMessage&quot;, applicationMessage);\n        }\n\n\n    } catch (Exception e) {\n        logger.log(Level.SEVERE, &quot;Controller Error&quot;, e);\n        System.out.println(&quot;EXCEPTION&quot;);\n        try {\n            if (daoFactory != null) daoFactory.rollbackTransaction();\n            if (sessionDAOFactory != null) sessionDAOFactory.rollbackTransaction();\n        } catch (Throwable t) {\n        }\n        throw new RuntimeException(e);\n\n\n    } finally {\n        try {\n            if (daoFactory != null) daoFactory.closeTransaction();\n            if (sessionDAOFactory != null) sessionDAOFactory.closeTransaction();\n        } catch (Throwable t) {\n        }\n    }\n</code></pre>\n<p>And this is the <strong>function that perform the delete</strong>:</p>\n<pre><code>  public void permanentlydelete(Order order){\n    PreparedStatement ps;\n    try {\n\n        String sql\n                = &quot; DELETE FROM ORDINE &quot;\n                + &quot; WHERE &quot;\n                + &quot; ID_ordine=?&quot;;\n\n        ps = conn.prepareStatement(sql);\n        ps.setLong(1, order.getID_order());\n        ps.executeUpdate();\n        ps.close();\n\n    } catch (SQLException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p><strong>And this is the general log:</strong></p>\n<p>2023-08-23T17:45:17.262776Z    26 Connect   root@localhost on amuletshop using TCP/IP</p>\n<p>2023-08-23T17:45:17.263529Z    26 Query /* mysql-connector-j-8.0.32 (Revision: fa4912a849140828e48162a2c396c8df0091bed7) */SELECT  @@session.auto_increment_increment AS auto_increment_increment, @@character_set_client AS character_set_client, @@character_set_connection AS character_set_connection, @@character_set_results AS character_set_results, @@character_set_server AS character_set_server, @@collation_server AS collation_server, @@collation_connection AS collation_connection, @@init_connect AS init_connect, @@interactive_timeout AS interactive_timeout, @@license AS license, @@lower_case_table_names AS lower_case_table_names, @@max_allowed_packet AS max_allowed_packet, @@net_write_timeout AS net_write_timeout, @@performance_schema AS performance_schema, @@sql_mode AS sql_mode, @@system_time_zone AS system_time_zone, @@time_zone AS time_zone, @@transaction_isolation AS transaction_isolation, @@wait_timeout AS wait_timeout</p>\n<pre><code>2023-08-23T17:45:17.264237Z    26 Query SET character_set_results = NULL\n\n2023-08-23T17:45:17.264693Z    26 Query SET autocommit=1\n\n2023-08-23T17:45:17.265188Z    26 Query SET autocommit=0\n\n2023-08-23T17:45:17.265919Z    26 Query SELECT *    FROM ORDINE  WHERE    Stato_o = 'In sospeso' AND ID_utente=31 AND Deleted=0 ORDER BY ID_ordine DESC LIMIT 1\n\n2023-08-23T17:45:17.270339Z    26 Query SELECT * FROM ORDINE JOIN CARRELLO ON ID_cart=ID_carrello  WHERE  (ID_ordine=125)\n\n2023-08-23T17:45:17.272270Z    26 Query SELECT *  FROM CARTITEM  WHERE    ID_car = 141    AND deleted = 'N'\n\n2023-08-23T17:45:17.274521Z    26 Query SELECT *  FROM PAGAMENTO  WHERE  Deleted ='N' AND ID_order=125\n\n2023-08-23T17:45:17.276718Z    26 Query INSERT INTO PAGAMENTO    ( Importo,     ID_order,     NumeroCarta,     CVV,     Nome,     ScadenzaCarta   )  VALUES (300000.00,125,2.0,1,'Ydfuf','1')\n\n2023-08-23T17:45:17.278111Z    26 Query UPDATE ORDINE  SET Stato_o='Completato'  WHERE  ID_ordine=125\n\n2023-08-23T17:45:17.279899Z    26 Query SELECT * FROM PRODOTTO  WHERE    Deleted=0 AND Blocked=0 AND ID_amuleto=11 AND Quantità_disp&gt;=3\n\n2023-08-23T17:45:17.280947Z    26 Query rollback\n\n\n2023-08-23T17:45:17.286115Z    27 Connect   root@localhost on amuletshop using TCP/IP\n</code></pre>\n<p>2023-08-23T17:45:17.286988Z    27 Query /* mysql-connector-j-8.0.32 (Revision: fa4912a849140828e48162a2c396c8df0091bed7) */SELECT  @@session.auto_increment_increment AS auto_increment_increment, @@character_set_client AS character_set_client, @@character_set_connection AS character_set_connection, @@character_set_results AS character_set_results, @@character_set_server AS character_set_server, @@collation_server AS collation_server, @@collation_connection AS collation_connection, @@init_connect AS init_connect, @@interactive_timeout AS interactive_timeout, @@license AS license, @@lower_case_table_names AS lower_case_table_names, @@max_allowed_packet AS max_allowed_packet, @@net_write_timeout AS net_write_timeout, @@performance_schema AS performance_schema, @@sql_mode AS sql_mode, @@system_time_zone AS system_time_zone, @@time_zone AS time_zone, @@transaction_isolation AS transaction_isolation, @@wait_timeout AS wait_timeout</p>\n<pre><code>2023-08-23T17:45:17.287781Z    27 Query SET character_set_results = NULL\n\n2023-08-23T17:45:17.288150Z    27 Query SET autocommit=1\n\n2023-08-23T17:45:17.288631Z    27 Query SET autocommit=0\n\n2023-08-23T17:45:17.289342Z    26 Query DELETE FROM ORDINE  WHERE  ID_ordine=125\n\n2023-08-23T17:45:17.290633Z    27 Query SELECT * FROM CARRELLO  WHERE    deleted='N'AND ID_user=31 AND Stato_c='Aperto'\n\n2023-08-23T17:45:17.293113Z    27 Query DELETE FROM CARRELLO  WHERE  ID_carrello=145\n\n2023-08-23T17:45:17.294688Z    27 Query UPDATE Carrello  SET Stato_c = 'Aperto' WHERE  ID_carrello=141 AND Stato_c= 'Chiuso'\n\n2023-08-23T17:45:17.295915Z    27 Query SELECT * FROM CARRELLO  WHERE    deleted='N'AND ID_user=31 AND Stato_c='Aperto'\n\n2023-08-23T17:45:17.297347Z    27 Query SELECT * FROM CartItem JOIN PRODOTTO ON ID_amulet=ID_amuleto  WHERE    CartItem.deleted='N'AND ID_car=141 ORDER BY PRODOTTO.Nome\n\n2023-08-23T17:45:17.299415Z    27 Query SELECT Quantità_disp FROM PRODOTTO  WHERE    Deleted=0 AND Blocked=0 AND ID_amuleto=11 AND Quantità_disp&gt;=3\n\n2023-08-23T17:45:17.300294Z    27 Query commit\n</code></pre>\n<p>2023-08-23T17:45:17.310637Z    28 Connect   root@localhost on amuletshop using TCP/IP\n2023-08-23T17:45:17.311448Z    28 Query /* mysql-connector-j-8.0.32 (Revision: fa4912a849140828e48162a2c396c8df0091bed7) */SELECT  @@session.auto_increment_increment AS auto_increment_increment, @@character_set_client AS character_set_client, @@character_set_connection AS character_set_connection, @@character_set_results AS character_set_results, @@character_set_server AS character_set_server, @@collation_server AS collation_server, @@collation_connection AS collation_connection, @@init_connect AS init_connect, @@interactive_timeout AS interactive_timeout, @@license AS license, @@lower_case_table_names AS lower_case_table_names, @@max_allowed_packet AS max_allowed_packet, @@net_write_timeout AS net_write_timeout, @@performance_schema AS performance_schema, @@sql_mode AS sql_mode, @@system_time_zone AS system_time_zone, @@time_zone AS time_zone, @@transaction_isolation AS transaction_isolation, @@wait_timeout AS wait_timeout</p>\n<pre><code>2023-08-23T17:45:17.312215Z    28 Query SET character_set_results = NULL\n2023-08-23T17:45:17.312635Z    28 Query SET autocommit=1\n2023-08-23T17:45:17.313138Z    28 Query SET autocommit=0\n2023-08-23T17:45:17.313850Z    26 Query SELECT *    FROM ORDINE  WHERE    ID_ordine = 125\n2023-08-23T17:45:17.314639Z    28 Query commit\n2023-08-23T17:45:17.315071Z    28 Query rollback\n2023-08-23T17:45:17.315327Z    28 Quit  \n</code></pre>\n<p>In MySQL WorkBench the order with ID_ordine = 125 continue to be there. So the delete didn't effectly work even if it is in the log.</p>\n<p>My questions are:\n<strong>Why in the log the delete has query identificator=26 and not 27</strong> considered that it should be executed inside the delete of the cart (see in the top of the catch of NotAvailableProductEception)?</p>\n<p><strong>Why the record of the table ORDINE isn't actually deleted?</strong></p>\n<p>I know that there are several security problem such as storing the credit card information into the database and store the UserID in the cookie directly, but the website won't be published, it's just for an exam where the professor told us to don't manage the security (he just mind the software engineering).</p>\n<p>If you see that I'm doing something wrong please let me know, <strong>thank you in advance</strong>.</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1692863854,"post_id":76966989,"comment_id":135682441,"body_markdown":"Just the usual way. The same as if you started an activity with startActivityForResult().","body":"Just the usual way. The same as if you started an activity with startActivityForResult()."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1692874341,"post_id":76966989,"comment_id":135684543,"body_markdown":"https://developer.android.com/training/basics/intents/filters#ReturnResult","body":"<a href=\"https://developer.android.com/training/basics/intents/filters#ReturnResult\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/intents/&hellip;</a>"},{"owner":{"account_id":3470138,"reputation":244,"user_id":2904718,"accept_rate":33,"display_name":"Aristide13"},"score":0,"creation_date":1692911610,"post_id":76966989,"comment_id":135692742,"body_markdown":"@CommonsWare Thanks for the answer, but the doc doesn&#39;t specify what &quot;com.example.RESULT_ACTION&quot; is. I guess one has to add it to the intent filter declaration of the receiving activity for example like this: &quot;&lt;action android:name=&quot;com.package.myapp.FILE_PICKER_RESULT&quot;/&gt;&quot;? But it doesn&#39;t work with android&#39;s file picker anyway!","body":"@CommonsWare Thanks for the answer, but the doc doesn&#39;t specify what &quot;com.example.RESULT_ACTION&quot; is. I guess one has to add it to the intent filter declaration of the receiving activity for example like this: &quot;&lt;action android:name=&quot;com.package.myapp.FILE_PICKER_RESULT&quot;/&gt;&quot;? But it doesn&#39;t work with android&#39;s file picker anyway!"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1692913813,"post_id":76966989,"comment_id":135693065,"body_markdown":"The action is `android.intent.action.GET_CONTENT`. That is the `Intent` action that you are attempting to respond to.","body":"The action is <code>android.intent.action.GET_CONTENT</code>. That is the <code>Intent</code> action that you are attempting to respond to."},{"owner":{"account_id":3470138,"reputation":244,"user_id":2904718,"accept_rate":33,"display_name":"Aristide13"},"score":0,"creation_date":1692915957,"post_id":76966989,"comment_id":135693355,"body_markdown":"@CommonsWare No I have already tried and this is not what the documentation you link offers. This is a unique identifier including the app package that returns the uri &quot;Intent result = new Intent(&quot;com.example.RESULT_ACTION&quot;, Uri.parse(&quot;content://result_uri&quot;)); &quot;. That&#39;s how I understand it and you? I also don&#39;t think the uri I return is invalid since it works when I share a file directly from my app to Gmail!","body":"@CommonsWare No I have already tried and this is not what the documentation you link offers. This is a unique identifier including the app package that returns the uri &quot;Intent result = new Intent(&quot;com.example.RESULT_ACTION&quot;, Uri.parse(&quot;content://result_uri&quot;)); &quot;. That&#39;s how I understand it and you? I also don&#39;t think the uri I return is invalid since it works when I share a file directly from my app to Gmail!"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1692916431,"post_id":76966989,"comment_id":135693395,"body_markdown":"&quot;this is not what the documentation you link offers&quot; -- overall, the documentation is for cases where *you* are both the caller (`startActivityForResult()`) and the recipient (`onActivityResult()` / `setResult()`). In your case, you are just the recipient. All you need to do is call `setResult()` at the point when you have the result that you want to send back. That is why I linked to [the specific section with the specific `setResult()` call that you need to add](https://developer.android.com/training/basics/intents/filters#ReturnResult).","body":"&quot;this is not what the documentation you link offers&quot; -- overall, the documentation is for cases where <i>you</i> are both the caller (<code>startActivityForResult()</code>) and the recipient (<code>onActivityResult()</code> / <code>setResult()</code>). In your case, you are just the recipient. All you need to do is call <code>setResult()</code> at the point when you have the result that you want to send back. That is why I linked to <a href=\"https://developer.android.com/training/basics/intents/filters#ReturnResult\" rel=\"nofollow noreferrer\">the specific section with the specific <code>setResult()</code> call that you need to add</a>."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1692916594,"post_id":76966989,"comment_id":135693417,"body_markdown":"You could also look at [many sample implementations of `GET_CONTENT` handlers](https://github.com/search?q=%22%3Caction+android%3Aname%3D%5C%22android.intent.action.GET_CONTENT%5C%22+%2F%3E%22+language%3AXML&amp;type=code) and see how they handle it. Only a subset of those are activities for handling `GET_CONTENT`, but that&#39;s as close as I can get with my knowledge of GitHub search syntax.","body":"You could also look at <a href=\"https://github.com/search?q=%22%3Caction+android%3Aname%3D%5C%22android.intent.action.GET_CONTENT%5C%22+%2F%3E%22+language%3AXML&amp;type=code\" rel=\"nofollow noreferrer\">many sample implementations of <code>GET_CONTENT</code> handlers</a> and see how they handle it. Only a subset of those are activities for handling <code>GET_CONTENT</code>, but that&#39;s as close as I can get with my knowledge of GitHub search syntax."},{"owner":{"account_id":3470138,"reputation":244,"user_id":2904718,"accept_rate":33,"display_name":"Aristide13"},"score":0,"creation_date":1692954699,"post_id":76966989,"comment_id":135697915,"body_markdown":"@CommonsWare Thanks I searched the codes on github and found the solution (see answer)","body":"@CommonsWare Thanks I searched the codes on github and found the solution (see answer)"}],"answers":[{"tags":[],"owner":{"account_id":3470138,"reputation":244,"user_id":2904718,"accept_rate":33,"display_name":"Aristide13"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692955116,"creation_date":1692955116,"answer_id":76975858,"question_id":76966989,"body_markdown":"Here is the return code that works for me.\r\nAttention, the activity that is declared the intent filter must be the one that sends the result.\r\n```\r\nIntent intent = new Intent();\r\n        intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        intent.setAction(Intent.ACTION_SEND);\r\n        intent.setDataAndType(uri,mime);\r\n        setResult(RESULT_OK, intent);\r\n        finish();\r\n```","title":"How to return selected file to android file picker from my app?","body":"<p>Here is the return code that works for me.\nAttention, the activity that is declared the intent filter must be the one that sends the result.</p>\n<pre><code>Intent intent = new Intent();\n        intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        intent.setAction(Intent.ACTION_SEND);\n        intent.setDataAndType(uri,mime);\n        setResult(RESULT_OK, intent);\n        finish();\n</code></pre>\n"}],"owner":{"account_id":3470138,"reputation":244,"user_id":2904718,"accept_rate":33,"display_name":"Aristide13"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692955116,"creation_date":1692861378,"question_id":76966989,"body_markdown":"My app appears in the file picker with the intent filter declared in my manifest for a given activity:\r\n```\r\n&lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.GET_CONTENT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.OPENABLE&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;*/*&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n```\r\n\r\nFor example if a user wants to attach a file to an email with the gmail app, gmail opens the file picker. In this file picker is my app. The user selects my app and my app opens.\r\nThe user selects a file, which my code translates to uri.\r\n\r\nMy question is how to return this uri to the file picker?\r\n\r\nEDIT: \r\nAs suggested by @CommonsWare follow the documentation https://developer.android.com/training/basics/intents/filters#ReturnResult. I guess &quot;com.example.RESULT_ACTION&quot; needs to be added to the activity&#39;s intent filter like this:\r\n```\r\n&lt;activity android:name=&quot;.MyActivity&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;com.mypackage.myapp.RESULT_ACTION&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\nBut this code doesn&#39;t work to return the uri of the selected file to the file picker for me:\r\n```\r\n// Create intent to deliver some kind of result data\r\nIntent result = new Intent(&quot;com.example.RESULT_ACTION&quot;, Uri.parse(&quot;content://result_uri&quot;));\r\nsetResult(Activity.RESULT_OK, result);\r\nfinish();\r\n```","title":"How to return selected file to android file picker from my app?","body":"<p>My app appears in the file picker with the intent filter declared in my manifest for a given activity:</p>\n<pre><code>&lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.GET_CONTENT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.OPENABLE&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                &lt;data android:mimeType=&quot;*/*&quot; /&gt;\n            &lt;/intent-filter&gt;\n</code></pre>\n<p>For example if a user wants to attach a file to an email with the gmail app, gmail opens the file picker. In this file picker is my app. The user selects my app and my app opens.\nThe user selects a file, which my code translates to uri.</p>\n<p>My question is how to return this uri to the file picker?</p>\n<p>EDIT:\nAs suggested by @CommonsWare follow the documentation <a href=\"https://developer.android.com/training/basics/intents/filters#ReturnResult\" rel=\"nofollow noreferrer\">https://developer.android.com/training/basics/intents/filters#ReturnResult</a>. I guess &quot;com.example.RESULT_ACTION&quot; needs to be added to the activity's intent filter like this:</p>\n<pre><code>&lt;activity android:name=&quot;.MyActivity&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.mypackage.myapp.RESULT_ACTION&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>But this code doesn't work to return the uri of the selected file to the file picker for me:</p>\n<pre><code>// Create intent to deliver some kind of result data\nIntent result = new Intent(&quot;com.example.RESULT_ACTION&quot;, Uri.parse(&quot;content://result_uri&quot;));\nsetResult(Activity.RESULT_OK, result);\nfinish();\n</code></pre>\n"},{"tags":["java","solr","lucene","solrj","solrclient"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1692984295,"post_id":76975802,"comment_id":135704569,"body_markdown":"To be clear: this won&#39;t be an issue with SolrJ. You&#39;d have same time with HTTP calls directly. How is your schema defined? What does your query look like? I expect the delete operation to behave in the same manner as a search one: if you&#39;re using the proper type of field (indexed...), it should be fast. Depends also how many docs are matching.","body":"To be clear: this won&#39;t be an issue with SolrJ. You&#39;d have same time with HTTP calls directly. How is your schema defined? What does your query look like? I expect the delete operation to behave in the same manner as a search one: if you&#39;re using the proper type of field (indexed...), it should be fast. Depends also how many docs are matching."}],"owner":{"account_id":27635863,"reputation":3,"user_id":21093796,"display_name":"Ayush"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692954725,"creation_date":1692954725,"question_id":76975802,"body_markdown":"To delete documents from lucene index, we are using solrJ 5.5.4 library where we are calling deleteByQuery() and commit() method to perform our operation. The overall operation of deleting documents from lucene is taking around 2-3 sec which should be executed within 500 ms.\r\n\r\nMentioning the code snippet:\r\n\r\n```\r\nHttpSolrClient solrClient = null;\r\nsolrClient = this.getHttpSolrClient(indexDir);\r\nsolrClient.deleteByQuery(query);\r\nsolrClient.commit();\r\n```\r\nChecked the Solr logs and observed that majority time is being taken to execute the query by solrclient and to commit the operation by update handler. We are only calling Api of solrJ to delete the forms by query as mentioned in snippet. The internal implementation of it is taking time. \r\n\r\nSolr logs for reference:\r\n```\r\nINFO  [org.apache.solr.update.processor.LogUpdateProcessor] (http-10.50.32.46-8080-67) {deleteByQuery=doc_id: (11664770 OR 11664768 OR 11664766 OR 11664765)} 0 265\r\nINFO  [org.apache.solr.core.SolrCore] (http-10.50.32.46-8080-67) [project_2155538] webapp=/solr path=/update params={wt=javabin&amp;version=2} status=0 QTime=265 \r\n\r\n2023-08-24 12:22:28,875 INFO  [org.apache.solr.update.UpdateHandler] (http-10.50.32.46-8080-67) start commit(optimize=false,waitFlush=false,waitSearcher=true,expungeDeletes=false)\r\n2023-08-24 12:22:31,258 INFO  [org.apache.solr.update.UpdateHandler] (http-10.50.32.46-8080-67) end_commit_flush\r\n```\r\n\r\nCan the issue be related to the query passed, For eg. is the query format correct or is it the internal mechanism of solrJ for executing and commiting the query for a particular field fast and for a particular field slow? i.e for doc_id it might be executing and commiting the operation slow and for other field, the operation might be fast? Also can the issue be related to solr configuration?\r\n","title":"Deleting documents by query and commiting in Lucene index taking long time using SolrJ","body":"<p>To delete documents from lucene index, we are using solrJ 5.5.4 library where we are calling deleteByQuery() and commit() method to perform our operation. The overall operation of deleting documents from lucene is taking around 2-3 sec which should be executed within 500 ms.</p>\n<p>Mentioning the code snippet:</p>\n<pre><code>HttpSolrClient solrClient = null;\nsolrClient = this.getHttpSolrClient(indexDir);\nsolrClient.deleteByQuery(query);\nsolrClient.commit();\n</code></pre>\n<p>Checked the Solr logs and observed that majority time is being taken to execute the query by solrclient and to commit the operation by update handler. We are only calling Api of solrJ to delete the forms by query as mentioned in snippet. The internal implementation of it is taking time.</p>\n<p>Solr logs for reference:</p>\n<pre><code>INFO  [org.apache.solr.update.processor.LogUpdateProcessor] (http-10.50.32.46-8080-67) {deleteByQuery=doc_id: (11664770 OR 11664768 OR 11664766 OR 11664765)} 0 265\nINFO  [org.apache.solr.core.SolrCore] (http-10.50.32.46-8080-67) [project_2155538] webapp=/solr path=/update params={wt=javabin&amp;version=2} status=0 QTime=265 \n\n2023-08-24 12:22:28,875 INFO  [org.apache.solr.update.UpdateHandler] (http-10.50.32.46-8080-67) start commit(optimize=false,waitFlush=false,waitSearcher=true,expungeDeletes=false)\n2023-08-24 12:22:31,258 INFO  [org.apache.solr.update.UpdateHandler] (http-10.50.32.46-8080-67) end_commit_flush\n</code></pre>\n<p>Can the issue be related to the query passed, For eg. is the query format correct or is it the internal mechanism of solrJ for executing and commiting the query for a particular field fast and for a particular field slow? i.e for doc_id it might be executing and commiting the operation slow and for other field, the operation might be fast? Also can the issue be related to solr configuration?</p>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692798916,"post_id":76961631,"comment_id":135673453,"body_markdown":"I don&#39;t think it&#39;s the PathParam. I think it&#39;s looking for `Long id` in `Book`.","body":"I don&#39;t think it&#39;s the PathParam. I think it&#39;s looking for <code>Long id</code> in <code>Book</code>."},{"owner":{"account_id":25781315,"reputation":9,"user_id":19526890,"display_name":"Georgios Kourounis"},"score":0,"creation_date":1692801966,"post_id":76961631,"comment_id":135674244,"body_markdown":"@DavidConrad I had the parameter as query param before and it worked fine with the same payload. So I&#39;m pretty sure it&#39;s the PathParam&#39;s fault","body":"@DavidConrad I had the parameter as query param before and it worked fine with the same payload. So I&#39;m pretty sure it&#39;s the PathParam&#39;s fault"}],"answers":[{"tags":[],"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692868934,"creation_date":1692868934,"answer_id":76967923,"question_id":76961631,"body_markdown":"I suspect the problem is not in your Java code but in PostMan. Have you mist-typed the parameter in the URL or forgot to set it?\r\n\r\nMy guess is that PostMan is not sending this URL:\r\n\r\n`http://localhost:8080/api/books/2`\r\n\r\nbut\r\n\r\n`http://localhost:8080/api/books/{bookID}`\r\n\r\nThat would explain the error message you are seeing.","title":"Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`) in JAX-RS PUT Endpoint","body":"<p>I suspect the problem is not in your Java code but in PostMan. Have you mist-typed the parameter in the URL or forgot to set it?</p>\n<p>My guess is that PostMan is not sending this URL:</p>\n<p><code>http://localhost:8080/api/books/2</code></p>\n<p>but</p>\n<p><code>http://localhost:8080/api/books/{bookID}</code></p>\n<p>That would explain the error message you are seeing.</p>\n"},{"tags":[],"owner":{"account_id":25781315,"reputation":9,"user_id":19526890,"display_name":"Georgios Kourounis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692954572,"creation_date":1692954572,"answer_id":76975784,"question_id":76961631,"body_markdown":"I&#39;ve fixed the issue, which was that I was receiving an empty path parameter. \r\n\r\nI had imported PathParam from `jakarta.websocket.server.PathParam;`\r\nWhile it should have been from `jakarta.ws.rs.PathParam;`","title":"Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`) in JAX-RS PUT Endpoint","body":"<p>I've fixed the issue, which was that I was receiving an empty path parameter.</p>\n<p>I had imported PathParam from <code>jakarta.websocket.server.PathParam;</code>\nWhile it should have been from <code>jakarta.ws.rs.PathParam;</code></p>\n"}],"owner":{"account_id":25781315,"reputation":9,"user_id":19526890,"display_name":"Georgios Kourounis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76975784,"answer_count":2,"score":0,"last_activity_date":1692954572,"creation_date":1692795799,"question_id":76961631,"body_markdown":"I&#39;m getting an error that no matter what I try doesn&#39;t seem to get fixed. In my eyes everything looks correct. This is my service for the endpoint\r\n\r\n```\r\n@PUT\r\n    @Path(&quot;/{bookId}&quot;)\r\n    public Response editBook(@PathParam(&quot;bookId&quot;) Long bookId, Book newBook) {\r\n    \t\r\n    \t\r\n    \tif (!JWTTokenAuth.validateJwtToken(JWTTokenAuth.extractTokenFromHeaders(headers))) {\r\n            return Response.status(Response.Status.UNAUTHORIZED).build();\r\n        }\r\n\r\n        Book book = bookDao.getBookById(bookId);\r\n        if (book == null) {\r\n            return Response.status(Response.Status.NOT_FOUND).build();\r\n        }\r\n\r\n        book.setTitle(newBook.getTitle());\r\n\r\n        bookDao.updateBook(book);\r\n\r\n        return Response.ok().build();\r\n    }\r\n```\r\n\r\nAnd this is my entity \r\n\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    private String title;\r\n    private String author;\r\n    \r\n    @OneToMany(mappedBy = &quot;book&quot;)\r\n    private List&lt;Review&gt; reviews;\r\n\r\n}\r\n\r\n```\r\n\r\nWhen I try to hit the endpoint through postman (for example) http://localhost:8080/api/books/2\r\n\r\nwith the authorization setup correctly and my JSON payload set as this \r\n```\r\n{\r\n    &quot;title&quot;: &quot;defgefgege&quot;\r\n}\r\n```\r\nI get this error and I think it has to do with the PathParam? \r\nCannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`)\r\n at [Source: (io.undertow.servlet.spec.ServletInputStreamImpl); line: 1, column: 1\r\n]","title":"Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`) in JAX-RS PUT Endpoint","body":"<p>I'm getting an error that no matter what I try doesn't seem to get fixed. In my eyes everything looks correct. This is my service for the endpoint</p>\n<pre><code>@PUT\n    @Path(&quot;/{bookId}&quot;)\n    public Response editBook(@PathParam(&quot;bookId&quot;) Long bookId, Book newBook) {\n        \n        \n        if (!JWTTokenAuth.validateJwtToken(JWTTokenAuth.extractTokenFromHeaders(headers))) {\n            return Response.status(Response.Status.UNAUTHORIZED).build();\n        }\n\n        Book book = bookDao.getBookById(bookId);\n        if (book == null) {\n            return Response.status(Response.Status.NOT_FOUND).build();\n        }\n\n        book.setTitle(newBook.getTitle());\n\n        bookDao.updateBook(book);\n\n        return Response.ok().build();\n    }\n</code></pre>\n<p>And this is my entity</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    private String title;\n    private String author;\n    \n    @OneToMany(mappedBy = &quot;book&quot;)\n    private List&lt;Review&gt; reviews;\n\n}\n\n</code></pre>\n<p>When I try to hit the endpoint through postman (for example) http://localhost:8080/api/books/2</p>\n<p>with the authorization setup correctly and my JSON payload set as this</p>\n<pre><code>{\n    &quot;title&quot;: &quot;defgefgege&quot;\n}\n</code></pre>\n<p>I get this error and I think it has to do with the PathParam?\nCannot deserialize value of type <code>java.lang.Long</code> from Object value (token <code>JsonToken.START_OBJECT</code>)\nat [Source: (io.undertow.servlet.spec.ServletInputStreamImpl); line: 1, column: 1\n]</p>\n"},{"tags":["java","reflection","constructor","abstract-class","jobrunr"],"answers":[{"comments":[{"owner":{"account_id":6343837,"reputation":79,"user_id":4924981,"display_name":"Christina Unger"},"score":0,"creation_date":1692955839,"post_id":76975675,"comment_id":135698162,"body_markdown":"Makes sense. Although I&#39;m wondering: If I call `new BlubbImplementation().load()`, the scheduler stores `Blubb` as class and not `BlubbImplementation` - so my only chance is to move the `load` code into the child class, I guess? (I&#39;m not in a framework, so `@Recurring` is not really an option. But you&#39;re right about the singleton, of course; I&#39;m changing this. And in general thanks for JobRunr! It&#39;s incredibly helpful to get all of this out of the box. :-)","body":"Makes sense. Although I&#39;m wondering: If I call <code>new BlubbImplementation().load()</code>, the scheduler stores <code>Blubb</code> as class and not <code>BlubbImplementation</code> - so my only chance is to move the <code>load</code> code into the child class, I guess? (I&#39;m not in a framework, so <code>@Recurring</code> is not really an option. But you&#39;re right about the singleton, of course; I&#39;m changing this. And in general thanks for JobRunr! It&#39;s incredibly helpful to get all of this out of the box. :-)"},{"owner":{"account_id":6343837,"reputation":79,"user_id":4924981,"display_name":"Christina Unger"},"score":0,"creation_date":1692971730,"post_id":76975675,"comment_id":135701722,"body_markdown":"P.S. I moved the scheduling code and the method that is scheduled to the child class and everything works like a charm. Thanks @rdehuyss for the help!","body":"P.S. I moved the scheduling code and the method that is scheduled to the child class and everything works like a charm. Thanks @rdehuyss for the help!"}],"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692954489,"creation_date":1692953560,"answer_id":76975675,"question_id":76975346,"body_markdown":"Ronald here - creator of [JobRunr](https://www.jobrunr.io/en/). \r\n\r\nThe exception you&#39;re seeing is because you try to instantiate a Job of type `Blubb` (mentioned in the json of the job), which is an abstract class. You cannot create instances of Abstract classes hence the exception.\r\n\r\nIn your case, I would recommend to look at a framework like Spring and add the `@Recurring` annotation to the different jobs. This will also make your code probably more readable.\r\n\r\nOn top of that, it is important that the `JobScheduler` instance should be a singleton (for performance reasons).\r\n","title":"JobRunr: InstantiationException in ReflectionUtils.newInstance","body":"<p>Ronald here - creator of <a href=\"https://www.jobrunr.io/en/\" rel=\"nofollow noreferrer\">JobRunr</a>.</p>\n<p>The exception you're seeing is because you try to instantiate a Job of type <code>Blubb</code> (mentioned in the json of the job), which is an abstract class. You cannot create instances of Abstract classes hence the exception.</p>\n<p>In your case, I would recommend to look at a framework like Spring and add the <code>@Recurring</code> annotation to the different jobs. This will also make your code probably more readable.</p>\n<p>On top of that, it is important that the <code>JobScheduler</code> instance should be a singleton (for performance reasons).</p>\n"}],"owner":{"account_id":6343837,"reputation":79,"user_id":4924981,"display_name":"Christina Unger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76975675,"answer_count":1,"score":1,"last_activity_date":1692954489,"creation_date":1692950309,"question_id":76975346,"body_markdown":"I&#39;m using JobRunr 6.3.0 for scheduling recurring background jobs in Java, and I encounter a problem with reflective access.\r\n\r\nI&#39;m trying to have an abstract class that implements the job scheduling logic, creating one job that calls an abstract method which is implemented in each child class. Like this:\r\n\r\n```java\r\npublic abstract class Blubb {\r\n\r\n    public Blubb() {\r\n        this(...defaultArgs);\r\n    }\r\n\r\n    protected Blubb(defaultArgs) {\r\n        // set up\r\n    }\r\n\r\n    protected abstract String name();\r\n\r\n    protected abstract Iterator&lt;Object&gt; getObjectsFromExternalSource();\r\n\r\n    public void load() {\r\n        JobScheduler scheduler = JobRunr\r\n            .configure()\r\n            .useStorageProvider(new InMemoryStorageProvider())\r\n            .useBackgroundJobServer()\r\n            .initialize()\r\n            .getJobScheduler();\r\n\r\n        scheduler.createRecurrently(\r\n            RecurringJobBuilder\r\n                .aRecurringJob()\r\n                .withId(name())\r\n                .withDuration(Duration.ofSeconds(10))\r\n                .withDetails(this::run)\r\n                .withAmountOfRetries(2)\r\n        );\r\n    }\r\n\r\n    public void run() {\r\n        Iterator&lt;Object&gt; objects = getObjectsFromExternalSource();\r\n\r\n        while (objects.hasNext()) {\r\n            // do stuff\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nJob creation works, and the job in the database looks fine:\r\n```json\r\n{\r\n  &quot;_id&quot;: &quot;name&quot;,\r\n  &quot;version&quot;: 0,\r\n  &quot;jobAsJson&quot;: &quot;{\\&quot;version\\&quot;:0,\\&quot;jobSignature\\&quot;:\\&quot;org.example.blah.Blubb.run()\\&quot;,\\&quot;jobName\\&quot;:\\&quot;org.example.blah.Blubb.run()\\&quot;,\\&quot;amountOfRetries\\&quot;:2,\\&quot;labels\\&quot;:[],\\&quot;jobDetails\\&quot;:{\\&quot;className\\&quot;:\\&quot;org.example.blah.Blubb\\&quot;,\\&quot;staticFieldName\\&quot;:null,\\&quot;methodName\\&quot;:\\&quot;run\\&quot;,\\&quot;jobParameters\\&quot;:[],\\&quot;cacheable\\&quot;:true},\\&quot;id\\&quot;:\\&quot;name\\&quot;,\\&quot;scheduleExpression\\&quot;:\\&quot;PT10M\\&quot;,\\&quot;zoneId\\&quot;:\\&quot;Etc/UTC\\&quot;,\\&quot;createdAt\\&quot;:\\&quot;2023-08-25T06:39:29.844981739Z\\&quot;}&quot;,\r\n  &quot;createdAt&quot;: {\r\n    &quot;$numberLong&quot;: &quot;1692945569844&quot;\r\n  }\r\n}\r\n```\r\n\r\nBut everytime it tries to run the job, I get the following exception:\r\n```\r\nWARN  o.j.server.BackgroundJobPerformer - Job(id=a444fd50-843a-4464-88a1-e51530056b3f, jobName=&#39;org.example.blah.Blubb.run()&#39;) processing failed: An exception occurred during the performance of the job\r\norg.jobrunr.JobRunrException: JobRunr encountered a problematic exception. Please create a bug report (if possible, provide the code to reproduce this and the stacktrace)\r\n\tat org.jobrunr.JobRunrException.shouldNotHappenException(JobRunrException.java:43)\r\n\tat org.jobrunr.utils.reflection.ReflectionUtils.newInstance(ReflectionUtils.java:156)\r\n\tat org.jobrunr.server.runner.AbstractBackgroundJobRunner$BackgroundJobWorker.getJobToPerform(AbstractBackgroundJobRunner.java:46)\r\n\tat org.jobrunr.server.runner.AbstractBackgroundJobRunner$BackgroundJobWorker.run(AbstractBackgroundJobRunner.java:36)\r\n\tat org.jobrunr.server.runner.AbstractBackgroundJobRunner.run(AbstractBackgroundJobRunner.java:20)\r\n\tat org.jobrunr.server.BackgroundJobPerformer.runActualJob(BackgroundJobPerformer.java:89)\r\n\tat org.jobrunr.server.BackgroundJobPerformer.performJob(BackgroundJobPerformer.java:64)\r\n\tat org.jobrunr.server.BackgroundJobPerformer.run(BackgroundJobPerformer.java:42)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.InstantiationException: null\r\n\tat java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.jobrunr.utils.reflection.ReflectionUtils.newInstance(ReflectionUtils.java:154)\r\n```\r\n\r\nAny idea what I&#39;m doing wrong? Is this a problem with the class constructors? As far as I understand it, JobRunr wants a no-args default constructor? (I have a public no-args constructor and an additional protected constructor in both the abstract class above and in the child classes. But I get the same error even if I remove all custom constructors.)","title":"JobRunr: InstantiationException in ReflectionUtils.newInstance","body":"<p>I'm using JobRunr 6.3.0 for scheduling recurring background jobs in Java, and I encounter a problem with reflective access.</p>\n<p>I'm trying to have an abstract class that implements the job scheduling logic, creating one job that calls an abstract method which is implemented in each child class. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Blubb {\n\n    public Blubb() {\n        this(...defaultArgs);\n    }\n\n    protected Blubb(defaultArgs) {\n        // set up\n    }\n\n    protected abstract String name();\n\n    protected abstract Iterator&lt;Object&gt; getObjectsFromExternalSource();\n\n    public void load() {\n        JobScheduler scheduler = JobRunr\n            .configure()\n            .useStorageProvider(new InMemoryStorageProvider())\n            .useBackgroundJobServer()\n            .initialize()\n            .getJobScheduler();\n\n        scheduler.createRecurrently(\n            RecurringJobBuilder\n                .aRecurringJob()\n                .withId(name())\n                .withDuration(Duration.ofSeconds(10))\n                .withDetails(this::run)\n                .withAmountOfRetries(2)\n        );\n    }\n\n    public void run() {\n        Iterator&lt;Object&gt; objects = getObjectsFromExternalSource();\n\n        while (objects.hasNext()) {\n            // do stuff\n        }\n    }\n}\n</code></pre>\n<p>Job creation works, and the job in the database looks fine:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;_id&quot;: &quot;name&quot;,\n  &quot;version&quot;: 0,\n  &quot;jobAsJson&quot;: &quot;{\\&quot;version\\&quot;:0,\\&quot;jobSignature\\&quot;:\\&quot;org.example.blah.Blubb.run()\\&quot;,\\&quot;jobName\\&quot;:\\&quot;org.example.blah.Blubb.run()\\&quot;,\\&quot;amountOfRetries\\&quot;:2,\\&quot;labels\\&quot;:[],\\&quot;jobDetails\\&quot;:{\\&quot;className\\&quot;:\\&quot;org.example.blah.Blubb\\&quot;,\\&quot;staticFieldName\\&quot;:null,\\&quot;methodName\\&quot;:\\&quot;run\\&quot;,\\&quot;jobParameters\\&quot;:[],\\&quot;cacheable\\&quot;:true},\\&quot;id\\&quot;:\\&quot;name\\&quot;,\\&quot;scheduleExpression\\&quot;:\\&quot;PT10M\\&quot;,\\&quot;zoneId\\&quot;:\\&quot;Etc/UTC\\&quot;,\\&quot;createdAt\\&quot;:\\&quot;2023-08-25T06:39:29.844981739Z\\&quot;}&quot;,\n  &quot;createdAt&quot;: {\n    &quot;$numberLong&quot;: &quot;1692945569844&quot;\n  }\n}\n</code></pre>\n<p>But everytime it tries to run the job, I get the following exception:</p>\n<pre><code>WARN  o.j.server.BackgroundJobPerformer - Job(id=a444fd50-843a-4464-88a1-e51530056b3f, jobName='org.example.blah.Blubb.run()') processing failed: An exception occurred during the performance of the job\norg.jobrunr.JobRunrException: JobRunr encountered a problematic exception. Please create a bug report (if possible, provide the code to reproduce this and the stacktrace)\n    at org.jobrunr.JobRunrException.shouldNotHappenException(JobRunrException.java:43)\n    at org.jobrunr.utils.reflection.ReflectionUtils.newInstance(ReflectionUtils.java:156)\n    at org.jobrunr.server.runner.AbstractBackgroundJobRunner$BackgroundJobWorker.getJobToPerform(AbstractBackgroundJobRunner.java:46)\n    at org.jobrunr.server.runner.AbstractBackgroundJobRunner$BackgroundJobWorker.run(AbstractBackgroundJobRunner.java:36)\n    at org.jobrunr.server.runner.AbstractBackgroundJobRunner.run(AbstractBackgroundJobRunner.java:20)\n    at org.jobrunr.server.BackgroundJobPerformer.runActualJob(BackgroundJobPerformer.java:89)\n    at org.jobrunr.server.BackgroundJobPerformer.performJob(BackgroundJobPerformer.java:64)\n    at org.jobrunr.server.BackgroundJobPerformer.run(BackgroundJobPerformer.java:42)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.InstantiationException: null\n    at java.base/jdk.internal.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:48)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.jobrunr.utils.reflection.ReflectionUtils.newInstance(ReflectionUtils.java:154)\n</code></pre>\n<p>Any idea what I'm doing wrong? Is this a problem with the class constructors? As far as I understand it, JobRunr wants a no-args default constructor? (I have a public no-args constructor and an additional protected constructor in both the abstract class above and in the child classes. But I get the same error even if I remove all custom constructors.)</p>\n"},{"tags":["java","spring","spring-boot","integration-testing","spring-test"],"comments":[{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1692954490,"post_id":69753236,"comment_id":135697873,"body_markdown":"FYI: I updated my original answer. Spring Framework 6.1 will provide built-in support for a &quot;test context failure threshold&quot;.","body":"FYI: I updated my original answer. Spring Framework 6.1 will provide built-in support for a &quot;test context failure threshold&quot;."}],"answers":[{"comments":[{"owner":{"account_id":8755610,"reputation":51,"user_id":6547308,"display_name":"do5"},"score":0,"creation_date":1635422723,"post_id":69753653,"comment_id":123297305,"body_markdown":"Hi Narasimha, I have updated the question, mentioned junit + spring as testing framework. Please suggest. Thanks.","body":"Hi Narasimha, I have updated the question, mentioned junit + spring as testing framework. Please suggest. Thanks."},{"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"score":0,"creation_date":1635423063,"post_id":69753653,"comment_id":123297442,"body_markdown":"Then you can simply use the **@BeforeClass** annotation in a dependent method that will firstly check for the application context failure.","body":"Then you can simply use the <b>@BeforeClass</b> annotation in a dependent method that will firstly check for the application context failure."}],"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635422117,"creation_date":1635422117,"answer_id":69753653,"question_id":69753236,"body_markdown":"1. If you have multiple integration tests in test class then it will fail multiple times.\r\n\r\n2. you can terminate all the integration test cases using the **dependsOnGroups** property.\r\n\r\nFor example, you can have a method to check whether there is a **bean exception failure or not** and declare all other tests as dependent on this method. But this can be done using TestNG\r\n\r\n    @Test(groups = { &quot;isApplicationContextFailed&quot; }) // you can run with simply @Test here if there is only one independent test.\r\n    public void isApplicationContextFailed() {}\r\n    \r\n    @Test(dependsOnMethods = { &quot;isApplicationContextFailed&quot; })\r\n    public void queryTestOne() {}\r\n\r\n    @Test(dependsOnMethods = { &quot;isApplicationContextFailed&quot; })\r\n    public void queryTestTwo() {}\r\n\r\nyou can explore more from TestNG -&gt;  &lt;https://testng.org/doc/documentation-main.html#dependent-methods&gt;\r\n\r\nNote:- if you are using the JUnit there are some other ways you can do the same. Please update in that case.\r\n","title":"Automatically terminate all integration tests if `Failed to load ApplicationContext` error occurs","body":"<ol>\n<li><p>If you have multiple integration tests in test class then it will fail multiple times.</p>\n</li>\n<li><p>you can terminate all the integration test cases using the <strong>dependsOnGroups</strong> property.</p>\n</li>\n</ol>\n<p>For example, you can have a method to check whether there is a <strong>bean exception failure or not</strong> and declare all other tests as dependent on this method. But this can be done using TestNG</p>\n<pre><code>@Test(groups = { &quot;isApplicationContextFailed&quot; }) // you can run with simply @Test here if there is only one independent test.\npublic void isApplicationContextFailed() {}\n\n@Test(dependsOnMethods = { &quot;isApplicationContextFailed&quot; })\npublic void queryTestOne() {}\n\n@Test(dependsOnMethods = { &quot;isApplicationContextFailed&quot; })\npublic void queryTestTwo() {}\n</code></pre>\n<p>you can explore more from TestNG -&gt;  <a href=\"https://testng.org/doc/documentation-main.html#dependent-methods\" rel=\"nofollow noreferrer\">https://testng.org/doc/documentation-main.html#dependent-methods</a></p>\n<p>Note:- if you are using the JUnit there are some other ways you can do the same. Please update in that case.</p>\n"},{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635423491,"creation_date":1635423491,"answer_id":69753973,"question_id":69753236,"body_markdown":"If you are using JUnit then add below login in your test classes it will work.\r\n\r\n    public class BaseClass {\r\n\r\n    @BeforeClass\r\n    \tpublic void isApplicationContextFailed() {\r\n    \t\t//logic to check for application failure\r\n    \t}\r\n\r\n\t\r\n\t//continue with your test methods.\r\n    }\r\n\r\n\r\nTo suggest you through below references to get in detail.\r\n\r\n&lt;https://junit.org/junit4/javadoc/4.13/org/junit/BeforeClass.html&gt;\r\n\r\n&lt;https://howtodoinjava.com/testng/testng-before-and-after-annotations/&gt;\r\n","title":"Automatically terminate all integration tests if `Failed to load ApplicationContext` error occurs","body":"<p>If you are using JUnit then add below login in your test classes it will work.</p>\n<pre><code>public class BaseClass {\n\n@BeforeClass\n    public void isApplicationContextFailed() {\n        //logic to check for application failure\n    }\n\n\n//continue with your test methods.\n}\n</code></pre>\n<p>To suggest you through below references to get in detail.</p>\n<p><a href=\"https://junit.org/junit4/javadoc/4.13/org/junit/BeforeClass.html\" rel=\"nofollow noreferrer\">https://junit.org/junit4/javadoc/4.13/org/junit/BeforeClass.html</a></p>\n<p><a href=\"https://howtodoinjava.com/testng/testng-before-and-after-annotations/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/testng/testng-before-and-after-annotations/</a></p>\n"},{"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692954399,"creation_date":1635497488,"answer_id":69766075,"question_id":69753236,"body_markdown":"**UPDATE**\r\n\r\nI implemented built-in support for a &quot;test context failure threshold&quot; in Spring Framework 6.1 M1.\r\n\r\n&gt; As of Spring Framework 6.1, a context *failure threshold* policy is in place which helps avoid repeated attempts to load a failing `ApplicationContext`. By default, the failure threshold is set to `1` which means that only one attempt will be made to load an `ApplicationContext` for a given context cache key. Any subsequent attempt to load the `ApplicationContext` for the same context cache key will result in an immediate `IllegalStateException` with an error message which explains that the attempt was preemptively skipped.\r\n\r\nFor further details, consult the Spring Framework [reference manual][2].\r\n\r\n----\r\n\r\nOriginal Answer:\r\n\r\nThere is currently no way to abort integration tests if the `ApplicationContext` repeatedly fails to load.\r\n\r\nTo vote for such support, please see [this Spring Framework issue][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/14182\r\n  [2]: https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/testing/testcontext-framework/ctx-management/failure-threshold.html\r\n","title":"Automatically terminate all integration tests if `Failed to load ApplicationContext` error occurs","body":"<p><strong>UPDATE</strong></p>\n<p>I implemented built-in support for a &quot;test context failure threshold&quot; in Spring Framework 6.1 M1.</p>\n<blockquote>\n<p>As of Spring Framework 6.1, a context <em>failure threshold</em> policy is in place which helps avoid repeated attempts to load a failing <code>ApplicationContext</code>. By default, the failure threshold is set to <code>1</code> which means that only one attempt will be made to load an <code>ApplicationContext</code> for a given context cache key. Any subsequent attempt to load the <code>ApplicationContext</code> for the same context cache key will result in an immediate <code>IllegalStateException</code> with an error message which explains that the attempt was preemptively skipped.</p>\n</blockquote>\n<p>For further details, consult the Spring Framework <a href=\"https://docs.spring.io/spring-framework/reference/6.1-SNAPSHOT/testing/testcontext-framework/ctx-management/failure-threshold.html\" rel=\"nofollow noreferrer\">reference manual</a>.</p>\n<hr />\n<p>Original Answer:</p>\n<p>There is currently no way to abort integration tests if the <code>ApplicationContext</code> repeatedly fails to load.</p>\n<p>To vote for such support, please see <a href=\"https://github.com/spring-projects/spring-framework/issues/14182\" rel=\"nofollow noreferrer\">this Spring Framework issue</a>.</p>\n"}],"owner":{"account_id":8755610,"reputation":51,"user_id":6547308,"display_name":"do5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692954399,"creation_date":1635420288,"question_id":69753236,"body_markdown":"We have some integration tests(written using spring framework) that are failing due to **bean initialisation exception** which eventually leads to `Failed to load ApplicationContext` . As per my understanding from [spring testing docs](https://tiny.amazon.com/2xaq5veo) , the loading of `ApplicationContext`  happens at class level, so my doubt is - \r\n\r\n1. Once the `ApplicationContext`  fails (i.e. `Failed to load ApplicationContext`) due to **bean initialisation exception** during integration test class run, does the `ApplicationContext`  try to spin up again(will be failing eventually) for each individual integration tests present in that particular integration test class ? \r\n \r\n   1. Asking above scenario because we are seeing huge spike in number of connections to postgres when bean failure happens, it seems like for every integration test present(which eventually fails due to `Failed to load ApplicationContext`) in the integration test class, spring tries to create a new connection to postgres and doesn&#39;t destroy it before `ApplicationContext` failure. How can we stop this, please help with some suggestions.\r\n\r\n2. Also, once we get `Failed to load ApplicationContext`, is there a way to programmatically terminate the run of all the integration tests completely automatically ? If yes, please help how to achieve it ? \r\nThanks.\r\n\r\n**Testing framework - junit + Spring**\r\n\r\nUpdate: Mentioned testing framework used.","title":"Automatically terminate all integration tests if `Failed to load ApplicationContext` error occurs","body":"<p>We have some integration tests(written using spring framework) that are failing due to <strong>bean initialisation exception</strong> which eventually leads to <code>Failed to load ApplicationContext</code> . As per my understanding from <a href=\"https://tiny.amazon.com/2xaq5veo\" rel=\"nofollow noreferrer\">spring testing docs</a> , the loading of <code>ApplicationContext</code>  happens at class level, so my doubt is -</p>\n<ol>\n<li><p>Once the <code>ApplicationContext</code>  fails (i.e. <code>Failed to load ApplicationContext</code>) due to <strong>bean initialisation exception</strong> during integration test class run, does the <code>ApplicationContext</code>  try to spin up again(will be failing eventually) for each individual integration tests present in that particular integration test class ?</p>\n<ol>\n<li>Asking above scenario because we are seeing huge spike in number of connections to postgres when bean failure happens, it seems like for every integration test present(which eventually fails due to <code>Failed to load ApplicationContext</code>) in the integration test class, spring tries to create a new connection to postgres and doesn't destroy it before <code>ApplicationContext</code> failure. How can we stop this, please help with some suggestions.</li>\n</ol>\n</li>\n<li><p>Also, once we get <code>Failed to load ApplicationContext</code>, is there a way to programmatically terminate the run of all the integration tests completely automatically ? If yes, please help how to achieve it ?\nThanks.</p>\n</li>\n</ol>\n<p><strong>Testing framework - junit + Spring</strong></p>\n<p>Update: Mentioned testing framework used.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":1,"creation_date":1620236430,"post_id":67405957,"comment_id":119143702,"body_markdown":"`http://poi.apache.org/apidocs/5.0/org/apache/poi/ss/usermodel/Cell.html#getColumnIndex--` looks like you need to be calling `getColumnIndex()` instead of `j` for the heading index.","body":"<code>http:&#47;&#47;poi.apache.org&#47;apidocs&#47;5.0&#47;org&#47;apache&#47;poi&#47;ss&#47;usermode&zwnj;&#8203;l&#47;Cell.html#getColum&zwnj;&#8203;nIndex--</code> looks like you need to be calling <code>getColumnIndex()</code> instead of <code>j</code> for the heading index."},{"owner":{"account_id":21098047,"reputation":9,"user_id":15508586,"display_name":"Huzefa Kazi"},"score":0,"creation_date":1620274018,"post_id":67405957,"comment_id":119153656,"body_markdown":"Thanks, you made my day, instead of hours of searching on net. dataMap.put(headerList.get(dataCell.getColumnIndex()), dataCell.getStringCellValue()); solved the issue.","body":"Thanks, you made my day, instead of hours of searching on net. dataMap.put(headerList.get(dataCell.getColumnIndex()), dataCell.getStringCellValue()); solved the issue."},{"owner":{"account_id":3504050,"reputation":125,"user_id":2930025,"display_name":"alaskanloops"},"score":0,"creation_date":1692743273,"post_id":67405957,"comment_id":135665566,"body_markdown":"@HuzefaKazi can you put that into an answer and accept it?","body":"@HuzefaKazi can you put that into an answer and accept it?"}],"answers":[{"tags":[],"owner":{"account_id":21098047,"reputation":9,"user_id":15508586,"display_name":"Huzefa Kazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692954269,"creation_date":1692954269,"answer_id":76975754,"question_id":67405957,"body_markdown":"Problem resolved using by calling getColumnIndex()","title":"Require help on Java Logic for Reading Excel file and populating to HashMap","body":"<p>Problem resolved using by calling getColumnIndex()</p>\n"}],"owner":{"account_id":21098047,"reputation":9,"user_id":15508586,"display_name":"Huzefa Kazi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76975754,"answer_count":1,"score":1,"last_activity_date":1692954269,"creation_date":1620235196,"question_id":67405957,"body_markdown":"I am reading an excel data file from Java using apache POI API and populating an HashMap collection with excel Headers as Key and specified Row Data as Value of the Map. All Headers are always present but data corresponding to some headers may or may not be present.\r\n\r\nBelow is my code logic:\r\nFirst I populate all the headers to an ArrayList. \r\nThen I Iterate through the cells of the specified excel data row and I add the header value from the ArrayList, populated previously, and Data cell value from the row as key-value to an HashMap. \r\n\r\nBelow is my code:\r\n\r\n    ArrayList&lt;String&gt; headerList = new ArrayList&lt;String&gt;();\r\n    Map&lt;String, String&gt; dataMap = new LinkedHashMap&lt;String, String&gt;();\r\n    DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \r\n    // Create object of XSSFWorkbook to get hold of excel file\r\n    FileInputStream fis = new FileInputStream(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Resources\\\\TestData.xlsx&quot;);\r\n    XSSFWorkbook workbook = new XSSFWorkbook(fis);\r\n    try\r\n    {\r\n    int noOfSheets = workbook.getNumberOfSheets();\r\n    for(int i=0; i&lt;noOfSheets; i++)\r\n    \t{\r\n    \t\t\r\n    \t\tif(workbook.getSheetName(i).equalsIgnoreCase(workSheet))\r\n    \t\t{\r\n    \t\t\t//Get access to sheet\r\n    \t\t\tXSSFSheet sheet = workbook.getSheetAt(i);\r\n    \t\t\t\r\n    \t\t\t//Get access to all rows of sheet\r\n    \t\t\tIterator&lt;Row&gt; rows = sheet.iterator();\r\n    \t\t\t\r\n    \t\t\tRow headerRow = rows.next();\r\n    \t\t\tIterator&lt;Cell&gt; headerCells = headerRow.cellIterator();\r\n    \t\t\twhile(headerCells.hasNext())\r\n    \t\t\t{\r\n    \t\t\t\theaderList.add(headerCells.next().getStringCellValue());\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// Get access to specific row\r\n    \t\t\twhile(rows.hasNext())\r\n    \t\t\t{\r\n    \t\t\t\tRow dataRow = rows.next();\r\n    \t\t\t\t\r\n    \t\t\t\tif(dataRow.getCell(0).getStringCellValue().equalsIgnoreCase(testCase))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tint j = 0;\r\n    \t\t\t\t\t//Get access to collection of cells of the identified rows\r\n    \t\t\t\t\tIterator&lt;Cell&gt; dataCells = dataRow.cellIterator();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t//loop through all the cells of the row and add cell data to arraylist.\r\n    \t\t\t\t\twhile(dataCells.hasNext())\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tCell dataCell = dataCells.next();\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\tif(dataCell.getCellType()==CellType.STRING)\r\n    \t\t\t\t\t\t{\t\r\n    \t\t\t\t\t\t\t//arrList.add(dataCell.getStringCellValue());\r\n    \t\t\t\t\t\t\tdataMap.put(headerList.get(j), dataCell.getStringCellValue());\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\telse if(dataCell.getCellType()==CellType.NUMERIC)\r\n    \t\t\t\t\t\t{\t\r\n    \t\t\t\t\t\t\tif(DateUtil.isCellDateFormatted(dataCell))\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t//arrList.add(df.format(dataCell.getDateCellValue()));\r\n    \t\t\t\t\t\t\t\tdataMap.put(headerList.get(j), df.format(dataCell.getDateCellValue()));\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\telse\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\t//arrList.add(NumberToTextConverter.toText(dataCell.getNumericCellValue()));\r\n    \t\t\t\t\t\t\t\tdataMap.put(headerList.get(j), NumberToTextConverter.toText(dataCell.getNumericCellValue()));\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\telse if(dataCell.getCellType()==CellType.BOOLEAN)\r\n    \t\t\t\t\t\t{\t\r\n    \t\t\t\t\t\t\t//arrList.add(Boolean.toString(dataCell.getBooleanCellValue()));\r\n    \t\t\t\t\t\t\tdataMap.put(headerList.get(j), Boolean.toString(dataCell.getBooleanCellValue()));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\telse\r\n    \t\t\t\t\t\t\tdataMap.put(headerList.get(j), null);\r\n    \t\t\t\t\t\tj++;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\nIf there is no data in any cell then I do not want the corresponding header to be added in the Map. But when I iterate through the Data cells(dataCells.hasNext()), then the iterator does not return me null for that blank cell, instead it totally skips the Blank cell. So all headers are added but those cells where is no data are not added hence there is mismatch of Header-Data key-values. \r\n\r\nExample: If data cell of Column 5 is blank then, &quot;Value&quot; of the column 5 header is mapped with the value of Data Column 6 as &quot;Key-Value&quot; in the HashMap. What I want is column 5 header should be skipped being added to the Map when column 5 data is blank.  How do I resolve this logical mismatch issue?\r\n[Excel file screenshot][1]\r\n[Debug scenario screenshot][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8Qr4q.png\r\n  [2]: https://i.stack.imgur.com/9IO1u.png","title":"Require help on Java Logic for Reading Excel file and populating to HashMap","body":"<p>I am reading an excel data file from Java using apache POI API and populating an HashMap collection with excel Headers as Key and specified Row Data as Value of the Map. All Headers are always present but data corresponding to some headers may or may not be present.</p>\n<p>Below is my code logic:\nFirst I populate all the headers to an ArrayList.\nThen I Iterate through the cells of the specified excel data row and I add the header value from the ArrayList, populated previously, and Data cell value from the row as key-value to an HashMap.</p>\n<p>Below is my code:</p>\n<pre><code>ArrayList&lt;String&gt; headerList = new ArrayList&lt;String&gt;();\nMap&lt;String, String&gt; dataMap = new LinkedHashMap&lt;String, String&gt;();\nDateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n\n// Create object of XSSFWorkbook to get hold of excel file\nFileInputStream fis = new FileInputStream(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\Resources\\\\TestData.xlsx&quot;);\nXSSFWorkbook workbook = new XSSFWorkbook(fis);\ntry\n{\nint noOfSheets = workbook.getNumberOfSheets();\nfor(int i=0; i&lt;noOfSheets; i++)\n    {\n        \n        if(workbook.getSheetName(i).equalsIgnoreCase(workSheet))\n        {\n            //Get access to sheet\n            XSSFSheet sheet = workbook.getSheetAt(i);\n            \n            //Get access to all rows of sheet\n            Iterator&lt;Row&gt; rows = sheet.iterator();\n            \n            Row headerRow = rows.next();\n            Iterator&lt;Cell&gt; headerCells = headerRow.cellIterator();\n            while(headerCells.hasNext())\n            {\n                headerList.add(headerCells.next().getStringCellValue());\n            }\n            \n            // Get access to specific row\n            while(rows.hasNext())\n            {\n                Row dataRow = rows.next();\n                \n                if(dataRow.getCell(0).getStringCellValue().equalsIgnoreCase(testCase))\n                {\n                    int j = 0;\n                    //Get access to collection of cells of the identified rows\n                    Iterator&lt;Cell&gt; dataCells = dataRow.cellIterator();\n                    \n                    //loop through all the cells of the row and add cell data to arraylist.\n                    while(dataCells.hasNext())\n                    {\n                        Cell dataCell = dataCells.next();\n                                                    \n                        if(dataCell.getCellType()==CellType.STRING)\n                        {   \n                            //arrList.add(dataCell.getStringCellValue());\n                            dataMap.put(headerList.get(j), dataCell.getStringCellValue());\n                        }\n                        else if(dataCell.getCellType()==CellType.NUMERIC)\n                        {   \n                            if(DateUtil.isCellDateFormatted(dataCell))\n                            {\n                                //arrList.add(df.format(dataCell.getDateCellValue()));\n                                dataMap.put(headerList.get(j), df.format(dataCell.getDateCellValue()));\n                            }\n                            else\n                            {\n                                //arrList.add(NumberToTextConverter.toText(dataCell.getNumericCellValue()));\n                                dataMap.put(headerList.get(j), NumberToTextConverter.toText(dataCell.getNumericCellValue()));\n                            }\n                        }\n                        else if(dataCell.getCellType()==CellType.BOOLEAN)\n                        {   \n                            //arrList.add(Boolean.toString(dataCell.getBooleanCellValue()));\n                            dataMap.put(headerList.get(j), Boolean.toString(dataCell.getBooleanCellValue()));\n                        }\n                        else\n                            dataMap.put(headerList.get(j), null);\n                        j++;\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>If there is no data in any cell then I do not want the corresponding header to be added in the Map. But when I iterate through the Data cells(dataCells.hasNext()), then the iterator does not return me null for that blank cell, instead it totally skips the Blank cell. So all headers are added but those cells where is no data are not added hence there is mismatch of Header-Data key-values.</p>\n<p>Example: If data cell of Column 5 is blank then, &quot;Value&quot; of the column 5 header is mapped with the value of Data Column 6 as &quot;Key-Value&quot; in the HashMap. What I want is column 5 header should be skipped being added to the Map when column 5 data is blank.  How do I resolve this logical mismatch issue?\n<a href=\"https://i.stack.imgur.com/8Qr4q.png\" rel=\"nofollow noreferrer\">Excel file screenshot</a>\n<a href=\"https://i.stack.imgur.com/9IO1u.png\" rel=\"nofollow noreferrer\">Debug scenario screenshot</a></p>\n"},{"tags":["java","html","screen-scraping","jsoup"],"answers":[{"comments":[{"owner":{"account_id":173381,"reputation":2385,"user_id":402011,"accept_rate":96,"display_name":"LGAP"},"score":0,"creation_date":1281623540,"post_id":3468770,"comment_id":3618669,"body_markdown":"Do you mean to say about searching the urls found in the website for the keywords and selecting them?","body":"Do you mean to say about searching the urls found in the website for the keywords and selecting them?"},{"owner":{"account_id":79637,"reputation":10143,"user_id":225667,"accept_rate":94,"display_name":"Gopi"},"score":0,"creation_date":1281624252,"post_id":3468770,"comment_id":3618837,"body_markdown":"Yes. keywords or combination of keywords","body":"Yes. keywords or combination of keywords"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1281726860,"post_id":3468770,"comment_id":3632374,"body_markdown":"You&#39;re not taking benefit of Jsoup&#39;s powers.","body":"You&#39;re not taking benefit of Jsoup&#39;s powers."}],"tags":[],"owner":{"account_id":79637,"reputation":10143,"user_id":225667,"accept_rate":94,"display_name":"Gopi"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1281623437,"creation_date":1281623437,"answer_id":3468770,"question_id":3468725,"body_markdown":"I dont think there would be any definitive way to achieve this. You can make a set of all possible keywords like &#39;press&#39;, &#39;release&#39; and &#39;pr&#39; etc and match the urls to find the keywords using regex etc. The correctness of this would depend on how comprehensive your set of keywords is.","title":"To identify links regarding the Press Release pages alone","body":"<p>I dont think there would be any definitive way to achieve this. You can make a set of all possible keywords like 'press', 'release' and 'pr' etc and match the urls to find the keywords using regex etc. The correctness of this would depend on how comprehensive your set of keywords is.</p>\n"},{"comments":[{"owner":{"account_id":173381,"reputation":2385,"user_id":402011,"accept_rate":96,"display_name":"LGAP"},"score":0,"creation_date":1281623648,"post_id":3468771,"comment_id":3618692,"body_markdown":"am in an assignment of this task for non-rss feed pages... and hence the problem in finding the solution...\nur valuable suggestions are welcome... if any..","body":"am in an assignment of this task for non-rss feed pages... and hence the problem in finding the solution... ur valuable suggestions are welcome... if any.."},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":1,"creation_date":1281624514,"post_id":3468771,"comment_id":3618894,"body_markdown":"@Anand, well, in that case, create your own website that is backed up a RSS feed, and parse the website instead. The solution is more difficult if you choose to write an knowledge retrieval engine and an inference engine at the same time.","body":"@Anand, well, in that case, create your own website that is backed up a RSS feed, and parse the website instead. The solution is more difficult if you choose to write an knowledge retrieval engine and an inference engine at the same time."}],"tags":[],"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1281623462,"creation_date":1281623462,"answer_id":3468771,"question_id":3468725,"body_markdown":"Look at the site today.  Cache to a file whatever links you saw.  Look at the site tomorrow; any new links are links to news articles, maybe?  You&#39;ll get incorrect results - once - any time they change the rest of the page around you.\r\n\r\nYou could, you know, just use the &lt;a href=&quot;http://images.apple.com/main/rss/hotnews/pr.rss&quot;&gt;RSS&lt;/a&gt; feed provided, which is designed to do exactly what you&#39;re asking for.","title":"To identify links regarding the Press Release pages alone","body":"<p>Look at the site today.  Cache to a file whatever links you saw.  Look at the site tomorrow; any new links are links to news articles, maybe?  You'll get incorrect results - once - any time they change the rest of the page around you.</p>\n\n<p>You could, you know, just use the <a href=\"http://images.apple.com/main/rss/hotnews/pr.rss\" rel=\"nofollow noreferrer\">RSS</a> feed provided, which is designed to do exactly what you're asking for.</p>\n"},{"tags":[],"owner":{"account_id":162132,"reputation":95999,"user_id":383402,"accept_rate":60,"display_name":"Borealid"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281623501,"creation_date":1281623501,"answer_id":3468777,"question_id":3468725,"body_markdown":"You need to find some attribute which defines a &quot;press release link&quot;.  In the case of that site, pointing to &quot;/pr/library/&quot; indicates that it&#39;s an Apple press release.","title":"To identify links regarding the Press Release pages alone","body":"<p>You need to find some attribute which defines a \"press release link\".  In the case of that site, pointing to \"/pr/library/\" indicates that it's an Apple press release.</p>\n"},{"comments":[{"owner":{"account_id":173381,"reputation":2385,"user_id":402011,"accept_rate":96,"display_name":"LGAP"},"score":0,"creation_date":1281967326,"post_id":3480030,"comment_id":3649812,"body_markdown":"But will this be applicable for all the webpages?????? Please advise.\n\nI need some generic solution. Not for apple.com alone...","body":"But will this be applicable for all the webpages?????? Please advise.  I need some generic solution. Not for apple.com alone..."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1281967965,"post_id":3480030,"comment_id":3649937,"body_markdown":"HTML parsing can never be generic. You can at highest make the Java code dynamic so that you can end up with just a mapping of links and selectors in some configuration file. P.S: one question mark is really enough do denote a question.","body":"HTML parsing can never be generic. You can at highest make the Java code dynamic so that you can end up with just a mapping of links and selectors in some configuration file. P.S: one question mark is really enough do denote a question."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1281726760,"creation_date":1281726760,"answer_id":3480030,"question_id":3468725,"body_markdown":"Look at the HTML source code. Open the page in a normal webbrowser, rightclick and choose *View Source*. You have to find a path in the HTML document tree to uniquely identify those links. \r\n\r\nThey are all housed in a `&lt;ul class=&quot;stories&quot;&gt;` element inside a `&lt;div id=&quot;releases&quot;&gt;` element. The appropriate CSS selector would then be `&quot;div#releases ul.stories a&quot;`.\r\n\r\nHere&#39;s how it should look like:\r\n\r\n    public static void main(String... args) throws Exception {\r\n        URL url = new URL(&quot;http://www.apple.com/pr/&quot;);\r\n        Document document = Jsoup.parse(url, 3000);\r\n        for (Element element : document.select(&quot;div#releases ul.stories a&quot;)) {\r\n            System.out.println(element.attr(&quot;href&quot;));\r\n        }\r\n    }\r\n\r\nThis yields as of now, exactly what you want:\r\n\r\n&lt;pre&gt;\r\n/pr/library/2010/07/28safari.html\r\n/pr/library/2010/07/27imac.html\r\n/pr/library/2010/07/27macpro.html\r\n/pr/library/2010/07/27display.html\r\n/pr/library/2010/07/26iphone.html\r\n/pr/library/2010/07/23iphonestatement.html\r\n/pr/library/2010/07/20results.html\r\n/pr/library/2010/07/19ipad.html\r\n/pr/library/2010/07/19alert_results.html\r\n/pr/library/2010/07/02appleletter.html\r\n/pr/library/2010/06/28iphone.html\r\n/pr/library/2010/06/23iphonestatement.html\r\n/pr/library/2010/06/22ipad.html\r\n/pr/library/2010/06/16iphone.html\r\n/pr/library/2010/06/15applestoreapp.html\r\n/pr/library/2010/06/15macmini.html\r\n/pr/library/2010/06/07iphone.html\r\n/pr/library/2010/06/07iads.html\r\n/pr/library/2010/06/07safari.html\r\n&lt;/pre&gt;\r\n\r\nTo learn more about CSS selectors, read the [Jsoup manual][1] and the [W3 CSS selector spec][2].\r\n\r\n\r\n  [1]: http://jsoup.org/cookbook/extracting-data/selector-syntax\r\n  [2]: http://www.w3.org/TR/CSS2/selector.html","title":"To identify links regarding the Press Release pages alone","body":"<p>Look at the HTML source code. Open the page in a normal webbrowser, rightclick and choose <em>View Source</em>. You have to find a path in the HTML document tree to uniquely identify those links. </p>\n\n<p>They are all housed in a <code>&lt;ul class=\"stories\"&gt;</code> element inside a <code>&lt;div id=\"releases\"&gt;</code> element. The appropriate CSS selector would then be <code>\"div#releases ul.stories a\"</code>.</p>\n\n<p>Here's how it should look like:</p>\n\n<pre><code>public static void main(String... args) throws Exception {\n    URL url = new URL(\"http://www.apple.com/pr/\");\n    Document document = Jsoup.parse(url, 3000);\n    for (Element element : document.select(\"div#releases ul.stories a\")) {\n        System.out.println(element.attr(\"href\"));\n    }\n}\n</code></pre>\n\n<p>This yields as of now, exactly what you want:</p>\n\n<pre>\n/pr/library/2010/07/28safari.html\n/pr/library/2010/07/27imac.html\n/pr/library/2010/07/27macpro.html\n/pr/library/2010/07/27display.html\n/pr/library/2010/07/26iphone.html\n/pr/library/2010/07/23iphonestatement.html\n/pr/library/2010/07/20results.html\n/pr/library/2010/07/19ipad.html\n/pr/library/2010/07/19alert_results.html\n/pr/library/2010/07/02appleletter.html\n/pr/library/2010/06/28iphone.html\n/pr/library/2010/06/23iphonestatement.html\n/pr/library/2010/06/22ipad.html\n/pr/library/2010/06/16iphone.html\n/pr/library/2010/06/15applestoreapp.html\n/pr/library/2010/06/15macmini.html\n/pr/library/2010/06/07iphone.html\n/pr/library/2010/06/07iads.html\n/pr/library/2010/06/07safari.html\n</pre>\n\n<p>To learn more about CSS selectors, read the <a href=\"http://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">Jsoup manual</a> and the <a href=\"http://www.w3.org/TR/CSS2/selector.html\" rel=\"nofollow noreferrer\">W3 CSS selector spec</a>.</p>\n"}],"owner":{"account_id":173381,"reputation":2385,"user_id":402011,"accept_rate":96,"display_name":"LGAP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":3480030,"answer_count":4,"score":0,"last_activity_date":1692954234,"creation_date":1281623163,"question_id":3468725,"body_markdown":"My task is to find the actual Press release links of a given link.                        Say http://www.apple.com/pr/ for example.\r\n\r\nMy tool has to find the press release links alone from the above URL excluding other advertisement links, tab links(or whatever) that are found in that site.\r\n\r\nThe program below is developed and the result this gives is, all the links that are present in the given webpage.\r\n\r\nHow can I modify the below program to find the Press Release links alone from a given URL?\r\nAlso, I want the program to be generic so that it identifies press release links from any press release URLs if given.\r\n\r\n\r\n    import java.io.*;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.sql.*;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Element;\t\r\n    public class linksfind{\r\n    public static void main(String[] args) {\r\n\t    try{\r\n\t         URL url = new URL(&quot;http://www.apple.com/pr/&quot;);\r\n\t         Document document = Jsoup.parse(url, 1000); // Can also take an URL.\r\n\t         for (Element element : document.getElementsByTag(&quot;a&quot;)) {\r\n    \t         System.out.println(element.attr(&quot;href&quot;));}\r\n    \t         }catch (Exception ex){ex.printStackTrace();}\r\n    }\r\n    }","title":"To identify links regarding the Press Release pages alone","body":"<p>My task is to find the actual Press release links of a given link.                        Say <a href=\"http://www.apple.com/pr/\" rel=\"nofollow noreferrer\">http://www.apple.com/pr/</a> for example.</p>\n\n<p>My tool has to find the press release links alone from the above URL excluding other advertisement links, tab links(or whatever) that are found in that site.</p>\n\n<p>The program below is developed and the result this gives is, all the links that are present in the given webpage.</p>\n\n<p>How can I modify the below program to find the Press Release links alone from a given URL?\nAlso, I want the program to be generic so that it identifies press release links from any press release URLs if given.</p>\n\n<pre><code>import java.io.*;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.sql.*;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Element; \npublic class linksfind{\npublic static void main(String[] args) {\n    try{\n         URL url = new URL(\"http://www.apple.com/pr/\");\n         Document document = Jsoup.parse(url, 1000); // Can also take an URL.\n         for (Element element : document.getElementsByTag(\"a\")) {\n             System.out.println(element.attr(\"href\"));}\n             }catch (Exception ex){ex.printStackTrace();}\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1692943031,"post_id":76974451,"comment_id":135695748,"body_markdown":"Can you add `Program` and `SubProgram` entity class?","body":"Can you add <code>Program</code> and <code>SubProgram</code> entity class?"},{"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"score":0,"creation_date":1692944044,"post_id":76974451,"comment_id":135695890,"body_markdown":"@Prog_G Added Program and SubProgram entity class","body":"@Prog_G Added Program and SubProgram entity class"},{"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"score":0,"creation_date":1692950755,"post_id":76974451,"comment_id":135697151,"body_markdown":"Working if I use EntityGraph. Thanks","body":"Working if I use EntityGraph. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"score":0,"creation_date":1692951247,"post_id":76974938,"comment_id":135697246,"body_markdown":"Above solution is working fine. Thank you","body":"Above solution is working fine. Thank you"},{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1692951872,"post_id":76974938,"comment_id":135697388,"body_markdown":"@IswaryaElango  Can you accept the solution if it works for you?","body":"@IswaryaElango  Can you accept the solution if it works for you?"}],"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692946805,"creation_date":1692946805,"answer_id":76974938,"question_id":76974451,"body_markdown":"You can try using `FETCH` to get the related entities in a single JPA Query.\r\n\r\nTry the below `JPA` Query:\r\n\r\n    @Query(&quot;select distinct p from Program p INNER JOIN FETCH p.subprogram s where p.status = &#39;Active&#39; and s.subprogramStatus = &#39;Active&#39;&quot;)\r\n    List&lt;Program&gt; findActiveProgramAndSubprogram();\r\n\r\nTo know how INNER JOIN FETCH works read [this][1].\r\n\r\n\r\n  [1]: https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/fetch-join.html","title":"Native Join query in springboot data JPA","body":"<p>You can try using <code>FETCH</code> to get the related entities in a single JPA Query.</p>\n<p>Try the below <code>JPA</code> Query:</p>\n<pre><code>@Query(&quot;select distinct p from Program p INNER JOIN FETCH p.subprogram s where p.status = 'Active' and s.subprogramStatus = 'Active'&quot;)\nList&lt;Program&gt; findActiveProgramAndSubprogram();\n</code></pre>\n<p>To know how INNER JOIN FETCH works read <a href=\"https://www.logicbig.com/tutorials/java-ee-tutorial/jpa/fetch-join.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76974938,"answer_count":1,"score":0,"last_activity_date":1692954079,"creation_date":1692941071,"question_id":76974451,"body_markdown":"I am using the native inner join query in Springboot JPA, and what I have observed is that it is executing two queries, one for the parent and another for the child. Why is it so? Is it possible to execute only the defined native query?\r\n    \r\n    \r\n   In the query, I have added the condition for the child table, but when it is executing the second query for the child, in the condition I can only see programid, it does not include s.status=&#39;Active&#39;. I want to get the parent records whose status is active and the corresponding child records whose status is active, but here I am getting active parent records and active and inactive child records.\r\n    \r\n   Program is a parent entity, and a subprogram is a child entity that has one-to-many relationships.\r\n    \r\n    \r\n    \r\n    \r\n        @Query(&quot;select&#160; * from program p inner join subprogram s on p.programid=s.programid and s.status=&#39;Active&#39; where p.status=&#39;Active&#39; order by lower(p.programname),lower(s.programname),nativeQuery=true)\r\n        \r\n        public List&lt;Program&gt; findActiveProgramAndSubprogram();\r\n    \r\n    \r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;program&quot;)\r\n    public class Program{\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name=&quot;PROGRAMID&quot;)\r\n    private String programId;\r\n    \r\n    @Column(name=&quot;PROGRAMNAME&quot;)\r\n    private String programName;\r\n    \r\n    @Column(name=&quot;STATUS&quot;)\r\n    private String status\r\n    \r\n    @OneToMany(mappedBy=&quot;program&quot;, cascade=CascadeType.ALL,fetch=FectchType.EAGER)\r\n    private List&lt;Subprogram&gt; subprogram=new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n    \r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name=&quot;subprogram&quot;)\r\n    public class Subprogram{\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name=&quot;SUBPROGRAMID&quot;)\r\n    private String subprogramId;\r\n    \r\n    @Column(name=&quot;SUBPROGRAMNAME&quot;)\r\n    private String subprogramName;\r\n    \r\n    @Column(name=&quot;STATUS&quot;)\r\n    private String subprogramStatus\r\n    \r\n    @SkipGsonSerialization\r\n    @ManyToOne(fetch=FectchType.LAZY)\r\n    @JoinColumn(name=&quot;PROGRAMID&quot;)\r\n    private Program program;\r\n    }","title":"Native Join query in springboot data JPA","body":"<p>I am using the native inner join query in Springboot JPA, and what I have observed is that it is executing two queries, one for the parent and another for the child. Why is it so? Is it possible to execute only the defined native query?</p>\n<p>In the query, I have added the condition for the child table, but when it is executing the second query for the child, in the condition I can only see programid, it does not include s.status='Active'. I want to get the parent records whose status is active and the corresponding child records whose status is active, but here I am getting active parent records and active and inactive child records.</p>\n<p>Program is a parent entity, and a subprogram is a child entity that has one-to-many relationships.</p>\n<pre><code>    @Query(&quot;select  * from program p inner join subprogram s on p.programid=s.programid and s.status='Active' where p.status='Active' order by lower(p.programname),lower(s.programname),nativeQuery=true)\n    \n    public List&lt;Program&gt; findActiveProgramAndSubprogram();\n\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;program&quot;)\npublic class Program{\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name=&quot;PROGRAMID&quot;)\nprivate String programId;\n\n@Column(name=&quot;PROGRAMNAME&quot;)\nprivate String programName;\n\n@Column(name=&quot;STATUS&quot;)\nprivate String status\n\n@OneToMany(mappedBy=&quot;program&quot;, cascade=CascadeType.ALL,fetch=FectchType.EAGER)\nprivate List&lt;Subprogram&gt; subprogram=new ArrayList&lt;&gt;();\n}\n\n\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name=&quot;subprogram&quot;)\npublic class Subprogram{\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name=&quot;SUBPROGRAMID&quot;)\nprivate String subprogramId;\n\n@Column(name=&quot;SUBPROGRAMNAME&quot;)\nprivate String subprogramName;\n\n@Column(name=&quot;STATUS&quot;)\nprivate String subprogramStatus\n\n@SkipGsonSerialization\n@ManyToOne(fetch=FectchType.LAZY)\n@JoinColumn(name=&quot;PROGRAMID&quot;)\nprivate Program program;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-oauth2"],"comments":[{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1686387420,"post_id":76315238,"comment_id":134794237,"body_markdown":"check the https://stackoverflow.com/questions/69721548/postman-returning-html-login-page-with-keycloak/76325276#76325276","body":"check the <a href=\"https://stackoverflow.com/questions/69721548/postman-returning-html-login-page-with-keycloak/76325276#76325276\" title=\"postman returning html login page with keycloak\">stackoverflow.com/questions/69721548/&hellip;</a>"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692523256,"post_id":76315238,"comment_id":135632652,"body_markdown":"[spring-security-oauth-reaches-end-of-life](https://spring.io/blog/2022/06/01/spring-security-oauth-reaches-end-of-life)","body":"<a href=\"https://spring.io/blog/2022/06/01/spring-security-oauth-reaches-end-of-life\" rel=\"nofollow noreferrer\">spring-security-oauth-reaches-end-of-life</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1692523415,"post_id":76315238,"comment_id":135632673,"body_markdown":"@AndreiLisa yes I&#39;m aware of that. The question is how to migrate the code.","body":"@AndreiLisa yes I&#39;m aware of that. The question is how to migrate the code."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692523678,"post_id":76315238,"comment_id":135632696,"body_markdown":"do you have an authorization-server like Keycloak or your own auth-server ?","body":"do you have an authorization-server like Keycloak or your own auth-server ?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692523815,"post_id":76315238,"comment_id":135632710,"body_markdown":"and also,did  you checked it [OAuth-2.0-Migration-Guide](https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide) ?","body":"and also,did  you checked it <a href=\"https://github.com/spring-projects/spring-security/wiki/OAuth-2.0-Migration-Guide\" rel=\"nofollow noreferrer\">OAuth-2.0-Migration-Guide</a> ?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1692524179,"post_id":76315238,"comment_id":135632735,"body_markdown":"yes, but its not clear to me how to properly migrate the code.","body":"yes, but its not clear to me how to properly migrate the code."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692524544,"post_id":76315238,"comment_id":135632772,"body_markdown":"how i saw, in your case you should replace this all with spring-boot resource server part, do you have an authorization server instance  ?","body":"how i saw, in your case you should replace this all with spring-boot resource server part, do you have an authorization server instance  ?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1692525106,"post_id":76315238,"comment_id":135632824,"body_markdown":"I&#39;m going to use Keycloak server.","body":"I&#39;m going to use Keycloak server."},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692525391,"post_id":76315238,"comment_id":135632862,"body_markdown":"ok, i will provide a simple example how to migrate your code to spring-boot resource server side, that will work with keycloak","body":"ok, i will provide a simple example how to migrate your code to spring-boot resource server side, that will work with keycloak"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692525452,"post_id":76315238,"comment_id":135632872,"body_markdown":"one more question, do you will use latest(3.1.x) spring-boot-security-starter ?","body":"one more question, do you will use latest(3.1.x) spring-boot-security-starter ?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1692525550,"post_id":76315238,"comment_id":135632881,"body_markdown":"yes.  If this is the appropriate package?","body":"yes.  If this is the appropriate package?"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692527453,"post_id":76315238,"comment_id":135633045,"body_markdown":"yes is the latest one now","body":"yes is the latest one now"},{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1692530221,"post_id":76315238,"comment_id":135633306,"body_markdown":"I gave an answer, can you try it ?","body":"I gave an answer, can you try it ?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":1,"creation_date":1692531634,"post_id":76315238,"comment_id":135633436,"body_markdown":"Sure, today/tomorrow I will test it very carefully.","body":"Sure, today/tomorrow I will test it very carefully."}],"answers":[{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1692861878,"post_id":76938976,"comment_id":135682081,"body_markdown":"There are some inconsistencies in this answer: the resource server is configured with an Authentication converter bean that is not defined and an authentication manager bean is defined but not injected in the resource server config... Note that none of the two is required if you use the starter I linked in my answer. Also, a JWT decoder is auto-configured by Spring Boot already. Last, this applies to servlet applications only (not reactive ones like spring-cloud-gateway is for instance)","body":"There are some inconsistencies in this answer: the resource server is configured with an Authentication converter bean that is not defined and an authentication manager bean is defined but not injected in the resource server config... Note that none of the two is required if you use the starter I linked in my answer. Also, a JWT decoder is auto-configured by Spring Boot already. Last, this applies to servlet applications only (not reactive ones like spring-cloud-gateway is for instance)"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692555403,"creation_date":1692527417,"answer_id":76938976,"question_id":76315238,"body_markdown":"How in official documentation was descried that [spring-security-oauth-reaches-end-of-life][1]\r\n\r\nAnd also how we discussed in comments, you will have an authorization-server [Keycloak][2] as Identity Provider with oAuth2.0 and Oidc connect. \r\n\r\nYour migration code will have next steps:\r\n\r\nReplace current one with [Resource-server][3] in your case with JWT as Bearer Token\r\n\r\n**Gradle/Maven configuration:**\r\n\r\nGradle:\r\n\r\n\r\n      implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-security&#39;, version: &#39;3.1.2&#39;\r\n\r\n      implementation group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-oauth2-resource-server&#39;, version: &#39;3.1.2&#39;\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn application.yml file you should provide next ones paths:\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          resourceserver:\r\n            jwt:\r\n              issuer-uri: \r\n              jwk-set-uri: \r\nThis values you will find out to : **/.well-known/openid-configuration** path on Keycloak side.\r\n\r\nWhere you security config layer will look so:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig {\r\n    \r\n         \r\n      @Bean\r\n      public AuthenticationManager authenticationManager(\r\n          AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n      }\r\n    \r\n      @Bean\r\n      public SecurityFilterChain securityFilterChain(HttpSecurity request) throws Exception {\r\n    \r\n        request.cors(corsConfigurer -&gt; corsConfigurer.configurationSource(yourCustomCorsConfiguration))\r\n            .csrf(AbstractHttpConfigurer::disable);\r\n    \r\n        request.headers(http -&gt; http.frameOptions(FrameOptionsConfig::sameOrigin));\r\n        request.sessionManagement(sessionAuthenticationStrategy -&gt;\r\n            sessionAuthenticationStrategy.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n    \r\n        request.authorizeHttpRequests(requestMatcherRegistry -&gt; {\r\n    \r\n          requestMatcherRegistry.anyRequest().authenticated();\r\n        });\r\n    \r\n        request.oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt;\r\n                httpSecurityOAuth2ResourceServerConfigurer.jwt(\r\n                    token -&gt; token.jwtAuthenticationConverter(myConverter())));\r\n    \r\n        return request.build();\r\n      }\r\n    \r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        return NimbusJwtDecoder.withJwkSetUri(jwkSetUri).build();\r\n    }\r\n    \r\n    }\r\n\r\n\r\nAnd also you should to have a look to [oauth2-client][4],  [spring-authorization-server][5]\r\n\r\n\r\n  [1]: https://spring.io/blog/2022/06/01/spring-security-oauth-reaches-end-of-life\r\n  [2]: https://www.keycloak.org/\r\n  [3]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\r\n  [4]: https://docs.spring.io/spring-security/reference/reactive/oauth2/client/index.html\r\n  [5]: https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html","title":"Migrate Spring Security configuration to Spring Cloud 2022.0.4","body":"<p>How in official documentation was descried that <a href=\"https://spring.io/blog/2022/06/01/spring-security-oauth-reaches-end-of-life\" rel=\"nofollow noreferrer\">spring-security-oauth-reaches-end-of-life</a></p>\n<p>And also how we discussed in comments, you will have an authorization-server <a href=\"https://www.keycloak.org/\" rel=\"nofollow noreferrer\">Keycloak</a> as Identity Provider with oAuth2.0 and Oidc connect.</p>\n<p>Your migration code will have next steps:</p>\n<p>Replace current one with <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">Resource-server</a> in your case with JWT as Bearer Token</p>\n<p><strong>Gradle/Maven configuration:</strong></p>\n<p>Gradle:</p>\n<pre><code>  implementation group: 'org.springframework.boot', name: 'spring-boot-starter-security', version: '3.1.2'\n\n  implementation group: 'org.springframework.boot', name: 'spring-boot-starter-oauth2-resource-server', version: '3.1.2'\n</code></pre>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In application.yml file you should provide next ones paths:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: \n          jwk-set-uri: \n</code></pre>\n<p>This values you will find out to : <strong>/.well-known/openid-configuration</strong> path on Keycloak side.</p>\n<p>Where you security config layer will look so:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n     \n  @Bean\n  public AuthenticationManager authenticationManager(\n      AuthenticationConfiguration authenticationConfiguration) throws Exception {\n    return authenticationConfiguration.getAuthenticationManager();\n  }\n\n  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity request) throws Exception {\n\n    request.cors(corsConfigurer -&gt; corsConfigurer.configurationSource(yourCustomCorsConfiguration))\n        .csrf(AbstractHttpConfigurer::disable);\n\n    request.headers(http -&gt; http.frameOptions(FrameOptionsConfig::sameOrigin));\n    request.sessionManagement(sessionAuthenticationStrategy -&gt;\n        sessionAuthenticationStrategy.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n    request.authorizeHttpRequests(requestMatcherRegistry -&gt; {\n\n      requestMatcherRegistry.anyRequest().authenticated();\n    });\n\n    request.oauth2ResourceServer(httpSecurityOAuth2ResourceServerConfigurer -&gt;\n            httpSecurityOAuth2ResourceServerConfigurer.jwt(\n                token -&gt; token.jwtAuthenticationConverter(myConverter())));\n\n    return request.build();\n  }\n\n@Bean\npublic JwtDecoder jwtDecoder() {\n    return NimbusJwtDecoder.withJwkSetUri(jwkSetUri).build();\n}\n\n}\n</code></pre>\n<p>And also you should to have a look to <a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/client/index.html\" rel=\"nofollow noreferrer\">oauth2-client</a>,  <a href=\"https://docs.spring.io/spring-authorization-server/docs/current/reference/html/getting-started.html\" rel=\"nofollow noreferrer\">spring-authorization-server</a></p>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692641852,"creation_date":1692558181,"answer_id":76940928,"question_id":76315238,"body_markdown":"# Reactive or Servlet?\r\nFirst thing to check is if the application to secure is reactive or a servlet. Spring Security implementations to use are not the same (`SecurityWebFilterChain` in reactive applications VS `SecurityFilterChain` in servlets and each depend on different components).\r\n\r\n`spring-cloud-gateway` for instance is a reactive application and requires reactive Security beans. So, you should check your project(s) dependencies (and transient dependencies) to see if you have `spring-boot-starter-web` (servlet) or `spring-boot-starter-webflux` (reactive apps) on your classpath.\r\n\r\n# Configuring a resource server\r\nThe easiest way to configure a resource server is using `spring-addons-starter-oidc`, [a starter I wrote][1], in addition to `spring-boot-starter-resource-server`:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\r\n\t&lt;version&gt;7.1.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n```java\r\n// @EnableMethodSecurity is optional, required only if you use `@PreAuthorize`, `@PostFilter` and alike\r\n// In a reactive application, use @EnableReactiveMethodSecurity instead\r\n@EnableMethodSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n}\r\n```\r\n```yaml\r\nscheme: http\r\norigins: ${scheme}://localhost:4200\r\nkeycloak-port: 8442\r\nkeycloak-issuer: ${scheme}://localhost:${keycloak-port}/realms/master\r\n\r\ncom:\r\n  c4-soft:\r\n    springaddons:\r\n      oidc:\r\n        ops:\r\n        # You can add as many OpenID providers as you trust (Keycloak realms or instances, or even other providers like Auth0, Cognito, etc.)\r\n        - iss: ${keycloak-issuer}\r\n          # this is optional: use &quot;preferred_username&quot; claim (rather than &quot;sub&quot;) to set Authentication &quot;name&quot;\r\n          username-claim: preferred_username\r\n          # you can add as any many JSON path as you want to use as Spring Authorities source\r\n          # you may also define a prefix to add or transformation to uppercase for each\r\n          authorities:\r\n          - path: $.realm_access.roles\r\n          - path: $.resource_access.*.roles\r\n        resourceserver:\r\n          # the path matchers below determine what is accessible to anonymous requests\r\n          # requests not matched must be authorized\r\n          permit-all:\r\n          - &quot;/public/**&quot;\r\n          - &quot;/actuator/health/readiness&quot;\r\n          - &quot;/actuator/health/liveness&quot;\r\n          - &quot;/v3/api-docs/**&quot;\r\n          # Fine grained CORS configuration from properties (you can change allowed origins for each environment by just setting a configuration property)\r\n          cors:\r\n          - path: /**\r\n            allowed-origin-patterns: ${origins}\r\n```\r\nIf you don&#39;t want to use &quot;my&quot; starter, then you&#39;ll have much more Java code to write, and this Java code will depend on your app being a servlet or a reactive application. More on that in [my tutorials][2] and in an answer I posted [there][3].\r\n\r\n# Consider configuring gateway as an OAuth2 client\r\nWe have little to no information about the &quot;cloud apps&quot; you want to configure, but if you are configuring a `spring-cloud-gateway` instance in front of Javascript based applications (Angular, React, Vue, etc.), you should consider:\r\n- configuring the gateway as an OAuth2 client (with `oauth2Login`) and  with `TokenRelay=` filter\r\n- configuring downstream REST APIs as resource servers\r\n- removing anything related to OAuth2 from upstream Javascript based applications (it will be secured with sessions)\r\n\r\nThis is called the BFF pattern and is safer than using using public clients (a client in a browser or mobile application can&#39;t keep a secret) where tokens are exposed to Javascript code (session cookie can be flagged with same-site, http-only, and be exchanged with SSL only).\r\n\r\nYou might configure some routes without security at all for upstream applications which are OAuth2 clients. I have a tutorial for `spring-cloud-gateway` configured as BFF on some routes (for an Angular app) and with `permitAll` (and no token relay) [there][4].\r\n\r\nLast, configuring a gateway as a resource server to centralize security rules is a bad pattern to me:\r\n- the service itself is not secured (or access rules are doubled which brings the usual code duplication issues)\r\n- it requires tight coupling with downstream services implementation (need to know a minimum of routes details and maybe resources structures when access rule involves the resource itself)\r\n- it makes it pretty hard to unit test access rules (it&#39;s an [easy task on the REST API itself][5] when it is configured as a resource server)\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\r\n  [3]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\r\n  [4]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\r\n  [5]: https://github.com/ch4mpy/spring-addons/tree/master#unit-tests","title":"Migrate Spring Security configuration to Spring Cloud 2022.0.4","body":"<h1>Reactive or Servlet?</h1>\n<p>First thing to check is if the application to secure is reactive or a servlet. Spring Security implementations to use are not the same (<code>SecurityWebFilterChain</code> in reactive applications VS <code>SecurityFilterChain</code> in servlets and each depend on different components).</p>\n<p><code>spring-cloud-gateway</code> for instance is a reactive application and requires reactive Security beans. So, you should check your project(s) dependencies (and transient dependencies) to see if you have <code>spring-boot-starter-web</code> (servlet) or <code>spring-boot-starter-webflux</code> (reactive apps) on your classpath.</p>\n<h1>Configuring a resource server</h1>\n<p>The easiest way to configure a resource server is using <code>spring-addons-starter-oidc</code>, <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">a starter I wrote</a>, in addition to <code>spring-boot-starter-resource-server</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\n    &lt;version&gt;7.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// @EnableMethodSecurity is optional, required only if you use `@PreAuthorize`, `@PostFilter` and alike\n// In a reactive application, use @EnableReactiveMethodSecurity instead\n@EnableMethodSecurity\n@Configuration\npublic class SecurityConfig {\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>scheme: http\norigins: ${scheme}://localhost:4200\nkeycloak-port: 8442\nkeycloak-issuer: ${scheme}://localhost:${keycloak-port}/realms/master\n\ncom:\n  c4-soft:\n    springaddons:\n      oidc:\n        ops:\n        # You can add as many OpenID providers as you trust (Keycloak realms or instances, or even other providers like Auth0, Cognito, etc.)\n        - iss: ${keycloak-issuer}\n          # this is optional: use &quot;preferred_username&quot; claim (rather than &quot;sub&quot;) to set Authentication &quot;name&quot;\n          username-claim: preferred_username\n          # you can add as any many JSON path as you want to use as Spring Authorities source\n          # you may also define a prefix to add or transformation to uppercase for each\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        resourceserver:\n          # the path matchers below determine what is accessible to anonymous requests\n          # requests not matched must be authorized\n          permit-all:\n          - &quot;/public/**&quot;\n          - &quot;/actuator/health/readiness&quot;\n          - &quot;/actuator/health/liveness&quot;\n          - &quot;/v3/api-docs/**&quot;\n          # Fine grained CORS configuration from properties (you can change allowed origins for each environment by just setting a configuration property)\n          cors:\n          - path: /**\n            allowed-origin-patterns: ${origins}\n</code></pre>\n<p>If you don't want to use &quot;my&quot; starter, then you'll have much more Java code to write, and this Java code will depend on your app being a servlet or a reactive application. More on that in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">my tutorials</a> and in an answer I posted <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">there</a>.</p>\n<h1>Consider configuring gateway as an OAuth2 client</h1>\n<p>We have little to no information about the &quot;cloud apps&quot; you want to configure, but if you are configuring a <code>spring-cloud-gateway</code> instance in front of Javascript based applications (Angular, React, Vue, etc.), you should consider:</p>\n<ul>\n<li>configuring the gateway as an OAuth2 client (with <code>oauth2Login</code>) and  with <code>TokenRelay=</code> filter</li>\n<li>configuring downstream REST APIs as resource servers</li>\n<li>removing anything related to OAuth2 from upstream Javascript based applications (it will be secured with sessions)</li>\n</ul>\n<p>This is called the BFF pattern and is safer than using using public clients (a client in a browser or mobile application can't keep a secret) where tokens are exposed to Javascript code (session cookie can be flagged with same-site, http-only, and be exchanged with SSL only).</p>\n<p>You might configure some routes without security at all for upstream applications which are OAuth2 clients. I have a tutorial for <code>spring-cloud-gateway</code> configured as BFF on some routes (for an Angular app) and with <code>permitAll</code> (and no token relay) <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/bff\" rel=\"nofollow noreferrer\">there</a>.</p>\n<p>Last, configuring a gateway as a resource server to centralize security rules is a bad pattern to me:</p>\n<ul>\n<li>the service itself is not secured (or access rules are doubled which brings the usual code duplication issues)</li>\n<li>it requires tight coupling with downstream services implementation (need to know a minimum of routes details and maybe resources structures when access rule involves the resource itself)</li>\n<li>it makes it pretty hard to unit test access rules (it's an <a href=\"https://github.com/ch4mpy/spring-addons/tree/master#unit-tests\" rel=\"nofollow noreferrer\">easy task on the REST API itself</a> when it is configured as a resource server)</li>\n</ul>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":76938976,"answer_count":2,"score":8,"last_activity_date":1692953733,"creation_date":1684847862,"question_id":76315238,"body_markdown":"I want to migrate this Spring security configuration to latest Spring Cloud:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.security.oauth2.resource.ResourceServerProperties;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;\r\n    import org.springframework.security.oauth2.config.annotation.web.configurers.ResourceServerSecurityConfigurer;\r\n    import org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint;\r\n    import org.springframework.security.oauth2.provider.token.DefaultAccessTokenConverter;\r\n    import org.springframework.security.oauth2.provider.token.DefaultTokenServices;\r\n    import org.springframework.security.oauth2.provider.token.TokenStore;\r\n    import org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter;\r\n    import org.springframework.security.oauth2.provider.token.store.JwtTokenStore;\r\n    \r\n    public class DefaultSecurityConfig extends ResourceServerConfigurerAdapter {\r\n    \r\n      @Autowired\r\n      private ResourceServerProperties resource;\r\n    \r\n      @Autowired\r\n      private CustomUserDataAuthenticationConverter customUserDataAuthenticationConverter;\r\n    \r\n      public DefaultSecurityConfig() {\r\n      }\r\n    \r\n      @Override\r\n      public void configure(final HttpSecurity http) throws Exception {\r\n    \r\n        http.authorizeRequests()\r\n            .antMatchers(&quot;/configuration/**&quot;,)\r\n            .permitAll();\r\n    \r\n        http.authorizeRequests().antMatchers(&quot;/**&quot;).authenticated();\r\n    \r\n        final OAuth2AuthenticationEntryPoint oAuth2AuthenticationEntryPoint =\r\n            new CustomOAuth2AuthenticationEntryPoint();\r\n    \r\n        http.exceptionHandling().authenticationEntryPoint(oAuth2AuthenticationEntryPoint);\r\n      }\r\n    \r\n      @Override\r\n      public void configure(final ResourceServerSecurityConfigurer resources) {\r\n        resources.tokenServices(tokenServices());\r\n        resources.resourceId(resource.getResourceId());\r\n      }\r\n    \r\n      private TokenStore customTokenStore() {\r\n        return new JwtTokenStore(accessTokenConverter());\r\n      }\r\n    \r\n      private JwtAccessTokenConverter accessTokenConverter() {\r\n        JwtAccessTokenConverter converter = new NonValidatingAccessTokenConverter();\r\n        converter.setAccessTokenConverter(customAccessTokenConverter());\r\n        return converter;\r\n      }\r\n    \r\n      private DefaultTokenServices tokenServices() {\r\n        DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\r\n        defaultTokenServices.setTokenStore(customTokenStore());\r\n        return defaultTokenServices;\r\n      }\r\n    \r\n      private DefaultAccessTokenConverter customAccessTokenConverter() {\r\n        DefaultAccessTokenConverter tokenConverter = new DefaultAccessTokenConverter();\r\n        tokenConverter.setUserTokenConverter(customUserDataAuthenticationConverter);\r\n        return tokenConverter;\r\n      }\r\n    }\r\n\r\nAs you can see I migrate parts of the code but several issues are not clear:\r\n\r\n1. implementation &#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure&#39; Is removed from `spring.dependency.management` package. What package should replace it?\r\n\r\n2. `ResourceServerConfigurerAdapter` is deprecated. How to replace it?\r\n\r\n3. `OAuth2AuthenticationEntryPoint` is deprecated. How to replace it?\r\n\r\nWhat should be the proper way to migrate the code accordingly?","title":"Migrate Spring Security configuration to Spring Cloud 2022.0.4","body":"<p>I want to migrate this Spring security configuration to latest Spring Cloud:</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.security.oauth2.resource.ResourceServerProperties;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.ResourceServerSecurityConfigurer;\nimport org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint;\nimport org.springframework.security.oauth2.provider.token.DefaultAccessTokenConverter;\nimport org.springframework.security.oauth2.provider.token.DefaultTokenServices;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\nimport org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter;\nimport org.springframework.security.oauth2.provider.token.store.JwtTokenStore;\n\npublic class DefaultSecurityConfig extends ResourceServerConfigurerAdapter {\n\n  @Autowired\n  private ResourceServerProperties resource;\n\n  @Autowired\n  private CustomUserDataAuthenticationConverter customUserDataAuthenticationConverter;\n\n  public DefaultSecurityConfig() {\n  }\n\n  @Override\n  public void configure(final HttpSecurity http) throws Exception {\n\n    http.authorizeRequests()\n        .antMatchers(&quot;/configuration/**&quot;,)\n        .permitAll();\n\n    http.authorizeRequests().antMatchers(&quot;/**&quot;).authenticated();\n\n    final OAuth2AuthenticationEntryPoint oAuth2AuthenticationEntryPoint =\n        new CustomOAuth2AuthenticationEntryPoint();\n\n    http.exceptionHandling().authenticationEntryPoint(oAuth2AuthenticationEntryPoint);\n  }\n\n  @Override\n  public void configure(final ResourceServerSecurityConfigurer resources) {\n    resources.tokenServices(tokenServices());\n    resources.resourceId(resource.getResourceId());\n  }\n\n  private TokenStore customTokenStore() {\n    return new JwtTokenStore(accessTokenConverter());\n  }\n\n  private JwtAccessTokenConverter accessTokenConverter() {\n    JwtAccessTokenConverter converter = new NonValidatingAccessTokenConverter();\n    converter.setAccessTokenConverter(customAccessTokenConverter());\n    return converter;\n  }\n\n  private DefaultTokenServices tokenServices() {\n    DefaultTokenServices defaultTokenServices = new DefaultTokenServices();\n    defaultTokenServices.setTokenStore(customTokenStore());\n    return defaultTokenServices;\n  }\n\n  private DefaultAccessTokenConverter customAccessTokenConverter() {\n    DefaultAccessTokenConverter tokenConverter = new DefaultAccessTokenConverter();\n    tokenConverter.setUserTokenConverter(customUserDataAuthenticationConverter);\n    return tokenConverter;\n  }\n}\n</code></pre>\n<p>As you can see I migrate parts of the code but several issues are not clear:</p>\n<ol>\n<li><p>implementation 'org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure' Is removed from <code>spring.dependency.management</code> package. What package should replace it?</p>\n</li>\n<li><p><code>ResourceServerConfigurerAdapter</code> is deprecated. How to replace it?</p>\n</li>\n<li><p><code>OAuth2AuthenticationEntryPoint</code> is deprecated. How to replace it?</p>\n</li>\n</ol>\n<p>What should be the proper way to migrate the code accordingly?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1692945509,"post_id":76974635,"comment_id":135696159,"body_markdown":"Can you please show the stack trace of the exception?","body":"Can you please show the stack trace of the exception?"},{"owner":{"account_id":9121843,"reputation":68,"user_id":13114057,"display_name":"Sting_ZW"},"score":0,"creation_date":1692946197,"post_id":76974635,"comment_id":135696261,"body_markdown":"I have included the trace.","body":"I have included the trace."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1692946284,"post_id":76974635,"comment_id":135696275,"body_markdown":"What is part of the trace? The full stack trace is not included in your question.","body":"What is part of the trace? The full stack trace is not included in your question."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1692946663,"post_id":76974635,"comment_id":135696345,"body_markdown":"Does the error happen when loading the thymeleaf edit page or does it happen when sending the data (POSTing to `/repairs`)?","body":"Does the error happen when loading the thymeleaf edit page or does it happen when sending the data (POSTing to <code>&#47;repairs</code>)?"},{"owner":{"account_id":9121843,"reputation":68,"user_id":13114057,"display_name":"Sting_ZW"},"score":0,"creation_date":1692946851,"post_id":76974635,"comment_id":135696374,"body_markdown":"The error happens when loading the page (repair/create-repair)","body":"The error happens when loading the page (repair/create-repair)"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1692947237,"post_id":76974635,"comment_id":135696446,"body_markdown":"Does the error still occur if you remove `&lt;option value=&quot;&quot;&gt;-- Select Terminal --&lt;/option&gt;`? Can you show the `Terminal` class?","body":"Does the error still occur if you remove <code>&lt;option value=&quot;&quot;&gt;-- Select Terminal --&lt;&#47;option&gt;</code>? Can you show the <code>Terminal</code> class?"},{"owner":{"account_id":9121843,"reputation":68,"user_id":13114057,"display_name":"Sting_ZW"},"score":0,"creation_date":1692948190,"post_id":76974635,"comment_id":135696649,"body_markdown":"When I remove reference to the Terminal in Thymeleaf the error disspears. I have included the Terminal class.","body":"When I remove reference to the Terminal in Thymeleaf the error disspears. I have included the Terminal class."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1692949140,"post_id":76974635,"comment_id":135696802,"body_markdown":"When saying &quot;reference to the Terminal&quot;, are you talking about the `&lt;option value=&quot;&quot;&gt;-- Select Terminal --&lt;/option&gt;` or the whole `&lt;select&gt;` element? Did you try making `terminalId` a `Long` instead of a `long`?","body":"When saying &quot;reference to the Terminal&quot;, are you talking about the <code>&lt;option value=&quot;&quot;&gt;-- Select Terminal --&lt;&#47;option&gt;</code> or the whole <code>&lt;select&gt;</code> element? Did you try making <code>terminalId</code> a <code>Long</code> instead of a <code>long</code>?"},{"owner":{"account_id":9121843,"reputation":68,"user_id":13114057,"display_name":"Sting_ZW"},"score":0,"creation_date":1693024693,"post_id":76974635,"comment_id":135708571,"body_markdown":"I changed to _Long_  and it worked, thank you @dan1st","body":"I changed to <i>Long</i>  and it worked, thank you @dan1st"}],"answers":[{"comments":[{"owner":{"account_id":9121843,"reputation":68,"user_id":13114057,"display_name":"Sting_ZW"},"score":0,"creation_date":1693024634,"post_id":76975678,"comment_id":135708568,"body_markdown":"Using the wrapper class (_Long_) worked @wim-deblauwe","body":"Using the wrapper class (<i>Long</i>) worked @wim-deblauwe"}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692953578,"creation_date":1692953578,"answer_id":76975678,"question_id":76974635,"body_markdown":"The error indicates that a primitive type (such as `int`, `long`, ...) cannot have `null` assigned to it. The Java language does not allow this.\r\n\r\nIf you want to allow `null` values, you need to use a wrapper (e.g. `Integer`, `Long`, ...).\r\n\r\nI see you have `private long terminalId;`. Try changing this to `private Long terminalId;`\r\n\r\nPS: A better alternative is to use a dedicated form data object so you only need to change it to `Long` in the form data object and keep your entity like you want. See https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/ for more info.","title":"Thymeleaf dropdown with Spring Boot","body":"<p>The error indicates that a primitive type (such as <code>int</code>, <code>long</code>, ...) cannot have <code>null</code> assigned to it. The Java language does not allow this.</p>\n<p>If you want to allow <code>null</code> values, you need to use a wrapper (e.g. <code>Integer</code>, <code>Long</code>, ...).</p>\n<p>I see you have <code>private long terminalId;</code>. Try changing this to <code>private Long terminalId;</code></p>\n<p>PS: A better alternative is to use a dedicated form data object so you only need to change it to <code>Long</code> in the form data object and keep your entity like you want. See <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/</a> for more info.</p>\n"}],"owner":{"account_id":9121843,"reputation":68,"user_id":13114057,"display_name":"Sting_ZW"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76975678,"answer_count":1,"score":1,"last_activity_date":1692953578,"creation_date":1692943734,"question_id":76974635,"body_markdown":"I am using two tables:\r\n\r\n 1. Terminals\r\n 2. Repairs\r\n\r\nwith a many (Repairs) to one (Terminal) relationship. I am trying to populate a Thymeleaf form to create a new repair. One of the fields is a dropdown to select the Terminal but I am getting a ***java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type*** error. This is my code:\r\n\r\n**Entity:**\r\n\r\n    public class Repair {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long repairId;\r\n    @ManyToOne(targetEntity = Terminal.class)\r\n    @JoinColumn(nullable = false)\r\n    private Terminal terminal;\r\n    @Column(name = &quot;date_received&quot;, nullable = false)\r\n    private Date dateReceived;\r\n    @Column(name = &quot;date_ready&quot;)\r\n    private Date dateReady;\r\n    @Column(name = &quot;fault&quot;)\r\n    private String fault;\r\n    @Column(name = &quot;solution&quot;)\r\n    private String solution;\r\n    //constructors, getters &amp; setters\r\n\r\n    public class Terminal {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(nullable = false)\r\n    private long terminalId;\r\n    @Column(nullable = false)\r\n    private String ptid;\r\n    @ManyToOne(targetEntity = TerminalModel.class)\r\n    @JoinColumn(nullable = false)\r\n    private TerminalModel terminalModel;\r\n    //constructors, getters &amp; setters\r\n\r\n**Controller:**\r\n\r\n    @GetMapping(&quot;/repair/repairs/new&quot;)\r\n    public String createRepairForm(Model model){\r\n        List&lt;Terminal&gt; terminals = terminalService.getAllTerminals();\r\n        Repair repair = new Repair();\r\n        model.addAttribute(&quot;terminals&quot;, terminals);\r\n        model.addAttribute(&quot;repair&quot;, repair);\r\n        return &quot;repair/create-repair&quot;;\r\n    }\r\n\r\n**View:**\r\n\r\n    &lt;form th:action=&quot;@{/repairs}&quot; th:object=&quot;${repair}&quot; method=&quot;POST&quot;&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Date Received&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; name=&quot;dateReceived&quot; th:field = &quot;*{dateReceived}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Date Received&quot;/&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Date Ready&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; name=&quot;dateReady&quot; th:field = &quot;*{dateReady}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Date Ready&quot;/&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Fault&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; name=&quot;fault&quot; th:field = &quot;*{fault}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Fault&quot;/&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Solution&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; name=&quot;solution&quot; th:field = &quot;*{solution}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Solution&quot;/&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;terminal&quot;&gt;Terminal:&lt;/label&gt;\r\n            &lt;select id=&quot;terminal&quot; name=&quot;terminal.terminalId&quot; th:field=&quot;*{terminal.terminalId}&quot;&gt;\r\n                &lt;option value=&quot;&quot;&gt;-- Select Terminal --&lt;/option&gt;\r\n                &lt;option th:each=&quot;terminal : ${terminals}&quot; th:value=&quot;${terminal.terminalId}&quot; th:text=&quot;${terminal.ptid}&quot;&gt;\r\n                &lt;/option&gt;\r\n            &lt;/select&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;footer-body&quot;&gt;\r\n                        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt; Submit &lt;/button&gt;\r\n                    &lt;/div&gt;\r\n\r\n                &lt;/form&gt;\r\nThis is part of the trace:\r\n```\r\nCaused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@jakarta.persistence.Id @jakarta.persistence.GeneratedValue @jakarta.persistence.Column long] for value &#39;null&#39;\r\n\tat org.springframework.core.convert.support.GenericConversionService.assertNotPrimitiveTargetType(GenericConversionService.java:335) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.convert.support.GenericConversionService.handleResult(GenericConversionService.java:328) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:193) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.core.convert.support.ConvertingPropertyEditorAdapter.setAsText(ConvertingPropertyEditorAdapter.java:60) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.thymeleaf.spring6.util.SpringSelectedValueComparator.exhaustiveCompare(SpringSelectedValueComparator.java:173) ~[thymeleaf-spring6-3.1.1.RELEASE.jar:3.1.1.RELEASE]\r\n\tat org.thymeleaf.spring6.util.SpringSelectedValueComparator.isSelected(SpringSelectedValueComparator.java:90) ~[thymeleaf-spring6-3.1.1.RELEASE.jar:3.1.1.RELEASE]\r\n\tat org.thymeleaf.spring6.processor.SpringOptionFieldTagProcessor.doProcess(SpringOptionFieldTagProcessor.java:68) ~[thymeleaf-spring6-3.1.1.RELEASE.jar:3.1.1.RELEASE]\r\n\tat org.thymeleaf.spring6.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:187) ~[thymeleaf-spring6-3.1.1.RELEASE.jar:3.1.1.RELEASE]\r\n\tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.1.RELEASE.jar:3.1.1.RELEASE]\r\n\t... 52 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type\r\n\t... 61 common frames omitted\r\n\r\n2023-08-25T08:48:04.115+02:00 ERROR 28912 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring6.processor.SpringOptionFieldTagProcessor&#39; (template: &quot;repair/create-repair&quot; - line 60, col 17)] with root cause\r\n\r\njava.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type\r\n```\r\nHow do I fix this?","title":"Thymeleaf dropdown with Spring Boot","body":"<p>I am using two tables:</p>\n<ol>\n<li>Terminals</li>\n<li>Repairs</li>\n</ol>\n<p>with a many (Repairs) to one (Terminal) relationship. I am trying to populate a Thymeleaf form to create a new repair. One of the fields is a dropdown to select the Terminal but I am getting a <em><strong>java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type</strong></em> error. This is my code:</p>\n<p><strong>Entity:</strong></p>\n<pre><code>public class Repair {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long repairId;\n@ManyToOne(targetEntity = Terminal.class)\n@JoinColumn(nullable = false)\nprivate Terminal terminal;\n@Column(name = &quot;date_received&quot;, nullable = false)\nprivate Date dateReceived;\n@Column(name = &quot;date_ready&quot;)\nprivate Date dateReady;\n@Column(name = &quot;fault&quot;)\nprivate String fault;\n@Column(name = &quot;solution&quot;)\nprivate String solution;\n//constructors, getters &amp; setters\n\npublic class Terminal {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(nullable = false)\nprivate long terminalId;\n@Column(nullable = false)\nprivate String ptid;\n@ManyToOne(targetEntity = TerminalModel.class)\n@JoinColumn(nullable = false)\nprivate TerminalModel terminalModel;\n//constructors, getters &amp; setters\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@GetMapping(&quot;/repair/repairs/new&quot;)\npublic String createRepairForm(Model model){\n    List&lt;Terminal&gt; terminals = terminalService.getAllTerminals();\n    Repair repair = new Repair();\n    model.addAttribute(&quot;terminals&quot;, terminals);\n    model.addAttribute(&quot;repair&quot;, repair);\n    return &quot;repair/create-repair&quot;;\n}\n</code></pre>\n<p><strong>View:</strong></p>\n<pre><code>&lt;form th:action=&quot;@{/repairs}&quot; th:object=&quot;${repair}&quot; method=&quot;POST&quot;&gt;\n\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Date Received&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; name=&quot;dateReceived&quot; th:field = &quot;*{dateReceived}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Date Received&quot;/&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Date Ready&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; name=&quot;dateReady&quot; th:field = &quot;*{dateReady}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Date Ready&quot;/&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Fault&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; name=&quot;fault&quot; th:field = &quot;*{fault}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Fault&quot;/&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Solution&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; name=&quot;solution&quot; th:field = &quot;*{solution}&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Solution&quot;/&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;terminal&quot;&gt;Terminal:&lt;/label&gt;\n        &lt;select id=&quot;terminal&quot; name=&quot;terminal.terminalId&quot; th:field=&quot;*{terminal.terminalId}&quot;&gt;\n            &lt;option value=&quot;&quot;&gt;-- Select Terminal --&lt;/option&gt;\n            &lt;option th:each=&quot;terminal : ${terminals}&quot; th:value=&quot;${terminal.terminalId}&quot; th:text=&quot;${terminal.ptid}&quot;&gt;\n            &lt;/option&gt;\n        &lt;/select&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;footer-body&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt; Submit &lt;/button&gt;\n                &lt;/div&gt;\n\n            &lt;/form&gt;\n</code></pre>\n<p>This is part of the trace:</p>\n<pre><code>Caused by: org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.lang.String] to type [@jakarta.persistence.Id @jakarta.persistence.GeneratedValue @jakarta.persistence.Column long] for value 'null'\n    at org.springframework.core.convert.support.GenericConversionService.assertNotPrimitiveTargetType(GenericConversionService.java:335) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.convert.support.GenericConversionService.handleResult(GenericConversionService.java:328) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:193) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.core.convert.support.ConvertingPropertyEditorAdapter.setAsText(ConvertingPropertyEditorAdapter.java:60) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.thymeleaf.spring6.util.SpringSelectedValueComparator.exhaustiveCompare(SpringSelectedValueComparator.java:173) ~[thymeleaf-spring6-3.1.1.RELEASE.jar:3.1.1.RELEASE]\n    at org.thymeleaf.spring6.util.SpringSelectedValueComparator.isSelected(SpringSelectedValueComparator.java:90) ~[thymeleaf-spring6-3.1.1.RELEASE.jar:3.1.1.RELEASE]\n    at org.thymeleaf.spring6.processor.SpringOptionFieldTagProcessor.doProcess(SpringOptionFieldTagProcessor.java:68) ~[thymeleaf-spring6-3.1.1.RELEASE.jar:3.1.1.RELEASE]\n    at org.thymeleaf.spring6.processor.AbstractSpringFieldTagProcessor.doProcess(AbstractSpringFieldTagProcessor.java:187) ~[thymeleaf-spring6-3.1.1.RELEASE.jar:3.1.1.RELEASE]\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.1.RELEASE.jar:3.1.1.RELEASE]\n    ... 52 common frames omitted\nCaused by: java.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type\n    ... 61 common frames omitted\n\n2023-08-25T08:48:04.115+02:00 ERROR 28912 --- [nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring6.processor.SpringOptionFieldTagProcessor' (template: &quot;repair/create-repair&quot; - line 60, col 17)] with root cause\n\njava.lang.IllegalArgumentException: A null value cannot be assigned to a primitive type\n</code></pre>\n<p>How do I fix this?</p>\n"},{"tags":["java","installation","java-8"],"answers":[{"tags":[],"owner":{"account_id":22384219,"reputation":108,"user_id":16597286,"display_name":"Windir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670354711,"creation_date":1670354711,"answer_id":74708054,"question_id":74706315,"body_markdown":"Open cmd and type java -version\r\nIf jdk-8 is still the detected module, remove it from the [PATH][1].\r\n\r\nIf the problem still occours make sure to check your installation directory if there are remainding files (sometimes, when for example the uninstaller was ran with non administrative rights it can fail)\r\n\r\n\r\n  [1]: https://www.computerhope.com/issues/ch000549.htm","title":"Trying to install jdk8 but it says its already installed (Windows 10)","body":"<p>Open cmd and type java -version\nIf jdk-8 is still the detected module, remove it from the <a href=\"https://www.computerhope.com/issues/ch000549.htm\" rel=\"nofollow noreferrer\">PATH</a>.</p>\n<p>If the problem still occours make sure to check your installation directory if there are remainding files (sometimes, when for example the uninstaller was ran with non administrative rights it can fail)</p>\n"}],"owner":{"account_id":25305176,"reputation":1,"user_id":19128820,"display_name":"Kieron Tang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692952978,"creation_date":1670345701,"question_id":74706315,"body_markdown":"I have jdk-19 installed in C:\\Program Files\\Java\\jdk-19\r\nI previously had jdk-8, specifically jdk-8u351 which uninstalled with the java uninstaller tool.\r\nProblem: I want to now install that same version of jdk-8 again.\r\n\r\nI double click the jdk-8u351-windows-x64.exe file, expecting it to just install like the first time I did it, however it gives me a prompt saying that I already have it installed.\r\n\r\nNow strangely the java uninstall tool cannot find my jdk-19, or any for jdk that matter &quot;No Java Versions Detected&quot;. IntelliJ is still able to use my jdk-19 while this is the case\r\n","title":"Trying to install jdk8 but it says its already installed (Windows 10)","body":"<p>I have jdk-19 installed in C:\\Program Files\\Java\\jdk-19\nI previously had jdk-8, specifically jdk-8u351 which uninstalled with the java uninstaller tool.\nProblem: I want to now install that same version of jdk-8 again.</p>\n<p>I double click the jdk-8u351-windows-x64.exe file, expecting it to just install like the first time I did it, however it gives me a prompt saying that I already have it installed.</p>\n<p>Now strangely the java uninstall tool cannot find my jdk-19, or any for jdk that matter &quot;No Java Versions Detected&quot;. IntelliJ is still able to use my jdk-19 while this is the case</p>\n"},{"tags":["java","typescript","openapi","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669015321,"creation_date":1669015321,"answer_id":74515434,"question_id":74514733,"body_markdown":"The easy &quot;workaround&quot; answer **(*)** to this question is that you must set the mapping value be the same as the name of the type that is being mapped to.\r\nThat is:\r\n```lang-yaml\r\n      discriminator:\r\n        propertyName: metadataSchema\r\n        mapping:\r\n          raido-metadata-schema-v1: &#39;#/components/schemas/PublicMetadataSchemaV1&#39;\r\n          closed-metadata-schema-v1: &#39;#/components/schemas/ClosedMetadataSchemaV1&#39;\r\n\r\n```\r\nhas to be re-written as:\r\n```lang-yaml\r\n      discriminator:\r\n        propertyName: metadataSchema\r\n        mapping:\r\n          PublicMetadataSchemaV1: &#39;#/components/schemas/PublicMetadataSchemaV1&#39;\r\n          ClosedMetadataSchemaV1: &#39;#/components/schemas/ClosedMetadataSchemaV1&#39;\r\n```\r\n\r\n**(*)** - &quot;Easy&quot; but annoying and potentially awkward. If anyone posts an answer that allows the mapping values to be arbitrary instead of being forced to match the type name - I will gladly mark it as the correct answer.","title":"Using OpenAPI `oneOf`: generate TypeScript code that can parse JavaSpring API?","body":"<p>The easy &quot;workaround&quot; answer <strong>(*)</strong> to this question is that you must set the mapping value be the same as the name of the type that is being mapped to.\nThat is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>      discriminator:\n        propertyName: metadataSchema\n        mapping:\n          raido-metadata-schema-v1: '#/components/schemas/PublicMetadataSchemaV1'\n          closed-metadata-schema-v1: '#/components/schemas/ClosedMetadataSchemaV1'\n\n</code></pre>\n<p>has to be re-written as:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>      discriminator:\n        propertyName: metadataSchema\n        mapping:\n          PublicMetadataSchemaV1: '#/components/schemas/PublicMetadataSchemaV1'\n          ClosedMetadataSchemaV1: '#/components/schemas/ClosedMetadataSchemaV1'\n</code></pre>\n<p><strong>(*)</strong> - &quot;Easy&quot; but annoying and potentially awkward. If anyone posts an answer that allows the mapping values to be arbitrary instead of being forced to match the type name - I will gladly mark it as the correct answer.</p>\n"},{"tags":[],"owner":{"account_id":164447,"reputation":111,"user_id":387189,"display_name":"BenKolera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692952970,"creation_date":1692952970,"answer_id":76975613,"question_id":74514733,"body_markdown":"A bit late to this party, but with legacyDiscriminatorBehaviour[2] set to true, the java JsonSubType will only include your explicit mappings. It&#39;ll generate like this which is what you want. \r\n\r\n```\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = ClosedMetadataSchemaV1.class, name = &quot;closed-metadata-schema-v1&quot;),\r\n  @JsonSubTypes.Type(value = PublicMetadataSchemaV1.class, name = &quot;raido-metadata-schema-v1&quot;)\r\n})\r\n```\r\n\r\n[![legacyDiscriminatorBehaviour setting doco][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UwbOx.png\r\n  [2]: https://openapi-generator.tech/docs/generators/openapi/","title":"Using OpenAPI `oneOf`: generate TypeScript code that can parse JavaSpring API?","body":"<p>A bit late to this party, but with legacyDiscriminatorBehaviour<a href=\"https://openapi-generator.tech/docs/generators/openapi/\" rel=\"nofollow noreferrer\">2</a> set to true, the java JsonSubType will only include your explicit mappings. It'll generate like this which is what you want.</p>\n<pre><code>@JsonSubTypes({\n  @JsonSubTypes.Type(value = ClosedMetadataSchemaV1.class, name = &quot;closed-metadata-schema-v1&quot;),\n  @JsonSubTypes.Type(value = PublicMetadataSchemaV1.class, name = &quot;raido-metadata-schema-v1&quot;)\n})\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UwbOx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UwbOx.png\" alt=\"legacyDiscriminatorBehaviour setting doco\" /></a></p>\n"}],"owner":{"account_id":874712,"reputation":19505,"user_id":924597,"accept_rate":79,"display_name":"Shorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74515434,"answer_count":2,"score":0,"last_activity_date":1692952970,"creation_date":1669009734,"question_id":74514733,"body_markdown":"I&#39;m using `openapi-generator` `6.2.1` for generating both server-side Java Spring interfaces and TypeScript client classes from `openapi` `3.0.2` YAML files.\r\n\r\nI&#39;m trying to use the `oneOf` functionality to specify that a particular property can have one of two exact types: `PublicMetadataSchemaV1` or `ClosedMetadataSchemaV1`.\r\n\r\nHere&#39;s the definition:\r\n```lang-yaml\r\n    ReadRaidMetadataResponseV1:\r\n      # Using oneOf/discriminator is probably pushing too close to the edge of \r\n      # what openapi-gen can do yet, for example that&#39;s why metadataSchema is a\r\n      # string instead of an enum:\r\n      # https://github.com/OpenAPITools/openapi-generator/pull/13846\r\n      type: object\r\n      description: Any type of metadata\r\n      oneOf:\r\n#        - $ref: &#39;metadata-schema-v1.yaml#/components/schemas/MetadataSchemaV1&#39;\r\n        - $ref: &#39;#/components/schemas/PublicMetadataSchemaV1&#39;\r\n        - $ref: &#39;#/components/schemas/ClosedMetadataSchemaV1&#39;\r\n      discriminator:\r\n        propertyName: metadataSchema\r\n        mapping:\r\n          raido-metadata-schema-v1: &#39;#/components/schemas/PublicMetadataSchemaV1&#39;\r\n          closed-metadata-schema-v1: &#39;#/components/schemas/ClosedMetadataSchemaV1&#39;\r\n    PublicMetadataSchemaV1:\r\n      description: &gt;\r\n        This object only exists because openapi-gen discriminator needs to be \r\n        a string, currently.\r\n        See https://github.com/OpenAPITools/openapi-generator/pull/13846.\r\n        Eventually, want the mapping to just use MetadataSchemaV1.\r\n      type: object\r\n      required: [ metadataSchema, id, titles, dates, access]\r\n      # this is how we make PublicMetadataSchemaV1 inherit all the fields oneOf: \r\n      # MetadataSchemaV1.\r\n      allOf: \r\n        - $ref: &#39;metadata-schema-v1.yaml#/components/schemas/MetadataSchemaV1&#39;\r\n      properties:\r\n        # This is where we &quot;override&quot; the type of metadataSchema to be a string\r\n        # instead of the enum that we would prefer it to be.\r\n        # Rather than &quot;string&quot; this should be a &quot;constant&quot; with value `raido-metadata-schema-v1`\r\n        # metadataSchema: {$ref: &#39;shared.yaml#/components/schemas/RaidoMetaschema&#39; }\r\n        metadataSchema: { type: string }\r\n    ClosedMetadataSchemaV1:\r\n      type: object\r\n      required: [ metadataSchema, id, titles, dates, access]\r\n      properties:\r\n        # Rather than &quot;string&quot; this should be a &quot;constant&quot; with value `closed-metadata-schema-v1`\r\n        # metadataSchema: {$ref: &#39;shared.yaml#/components/schemas/RaidoMetaschema&#39; }\r\n        metadataSchema: { type: string }\r\n        id: {$ref: &#39;shared.yaml#/components/schemas/IdBlock&#39;}\r\n        access: {$ref: &#39;shared.yaml#/components/schemas/AccessBlock&#39;}\r\n \r\n```\r\n\r\nThe problem here is that the `JavaSpring` generator creates code that looks like:\r\n```lang-java\r\n@JsonIgnoreProperties(\r\n  value = &quot;metadataSchema&quot;, // ignore manually set metadataSchema, it will be automatically generated by Jackson during serialization\r\n  allowSetters = true // allows the metadataSchema to be set during deserialization\r\n)\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;metadataSchema&quot;, visible = true)\r\n@JsonSubTypes({\r\n  @JsonSubTypes.Type(value = ClosedMetadataSchemaV1.class, name = &quot;ClosedMetadataSchemaV1&quot;),\r\n  @JsonSubTypes.Type(value = PublicMetadataSchemaV1.class, name = &quot;PublicMetadataSchemaV1&quot;),\r\n  @JsonSubTypes.Type(value = ClosedMetadataSchemaV1.class, name = &quot;closed-metadata-schema-v1&quot;),\r\n  @JsonSubTypes.Type(value = PublicMetadataSchemaV1.class, name = &quot;raido-metadata-schema-v1&quot;)\r\n})\r\n\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2022-11-21T15:03:48.931461200+10:00[Australia/Brisbane]&quot;)\r\npublic interface ReadRaidMetadataResponseV1 {\r\n    public String getMetadataSchema();\r\n}\r\n```\r\n\r\nAnd the API service always serves the &quot;class name&quot; mapping (i.e. `PublicMetadataSchemaV1`) as the value instead of the defined &quot;mapping&quot; value of `raido-metadata-schema-v1`.\r\n\r\nBut the generated TypeScript code looks like:\r\n```lang-typescript\r\nexport function ReadRaidMetadataResponseV1FromJSONTyped(json: any, ignoreDiscriminator: boolean): ReadRaidMetadataResponseV1 {\r\n    if ((json === undefined) || (json === null)) {\r\n        return json;\r\n    }\r\n    switch (json[&#39;metadataSchema&#39;]) {\r\n        case &#39;closed-metadata-schema-v1&#39;:\r\n            return {...ClosedMetadataSchemaV1FromJSONTyped(json, true), metadataSchema: &#39;closed-metadata-schema-v1&#39;};\r\n        case &#39;raido-metadata-schema-v1&#39;:\r\n            return {...PublicMetadataSchemaV1FromJSONTyped(json, true), metadataSchema: &#39;raido-metadata-schema-v1&#39;};\r\n        default:\r\n            throw new Error(`No variant of ReadRaidMetadataResponseV1 exists with &#39;metadataSchema=${json[&#39;metadataSchema&#39;]}&#39;`);\r\n    }\r\n}\r\n\r\n```\r\n\r\nSo it always fails, because the TypeScript code only knows about the (correct) `raido-metadata-schema-v1` mapping value.\r\n\r\nThe repo with the full code is publicly visible, you can find the full `openapi` YAML files at:\r\nhttps://github.com/au-research/raido-v2/blob/b06c08349a58b4559768963c5e3fbb81cc2c2f28/api-svc/idl-raid-v2/src/shared.yaml#L36\r\n\r\nThe question: \r\nHow can I structure my `openapi` definition, or what flags do I need to use so that the generated `typescript-fetch` code can actually use the API served by the `JavaSpring` generator?\r\n","title":"Using OpenAPI `oneOf`: generate TypeScript code that can parse JavaSpring API?","body":"<p>I'm using <code>openapi-generator</code> <code>6.2.1</code> for generating both server-side Java Spring interfaces and TypeScript client classes from <code>openapi</code> <code>3.0.2</code> YAML files.</p>\n<p>I'm trying to use the <code>oneOf</code> functionality to specify that a particular property can have one of two exact types: <code>PublicMetadataSchemaV1</code> or <code>ClosedMetadataSchemaV1</code>.</p>\n<p>Here's the definition:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>    ReadRaidMetadataResponseV1:\n      # Using oneOf/discriminator is probably pushing too close to the edge of \n      # what openapi-gen can do yet, for example that's why metadataSchema is a\n      # string instead of an enum:\n      # https://github.com/OpenAPITools/openapi-generator/pull/13846\n      type: object\n      description: Any type of metadata\n      oneOf:\n#        - $ref: 'metadata-schema-v1.yaml#/components/schemas/MetadataSchemaV1'\n        - $ref: '#/components/schemas/PublicMetadataSchemaV1'\n        - $ref: '#/components/schemas/ClosedMetadataSchemaV1'\n      discriminator:\n        propertyName: metadataSchema\n        mapping:\n          raido-metadata-schema-v1: '#/components/schemas/PublicMetadataSchemaV1'\n          closed-metadata-schema-v1: '#/components/schemas/ClosedMetadataSchemaV1'\n    PublicMetadataSchemaV1:\n      description: &gt;\n        This object only exists because openapi-gen discriminator needs to be \n        a string, currently.\n        See https://github.com/OpenAPITools/openapi-generator/pull/13846.\n        Eventually, want the mapping to just use MetadataSchemaV1.\n      type: object\n      required: [ metadataSchema, id, titles, dates, access]\n      # this is how we make PublicMetadataSchemaV1 inherit all the fields oneOf: \n      # MetadataSchemaV1.\n      allOf: \n        - $ref: 'metadata-schema-v1.yaml#/components/schemas/MetadataSchemaV1'\n      properties:\n        # This is where we &quot;override&quot; the type of metadataSchema to be a string\n        # instead of the enum that we would prefer it to be.\n        # Rather than &quot;string&quot; this should be a &quot;constant&quot; with value `raido-metadata-schema-v1`\n        # metadataSchema: {$ref: 'shared.yaml#/components/schemas/RaidoMetaschema' }\n        metadataSchema: { type: string }\n    ClosedMetadataSchemaV1:\n      type: object\n      required: [ metadataSchema, id, titles, dates, access]\n      properties:\n        # Rather than &quot;string&quot; this should be a &quot;constant&quot; with value `closed-metadata-schema-v1`\n        # metadataSchema: {$ref: 'shared.yaml#/components/schemas/RaidoMetaschema' }\n        metadataSchema: { type: string }\n        id: {$ref: 'shared.yaml#/components/schemas/IdBlock'}\n        access: {$ref: 'shared.yaml#/components/schemas/AccessBlock'}\n \n</code></pre>\n<p>The problem here is that the <code>JavaSpring</code> generator creates code that looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(\n  value = &quot;metadataSchema&quot;, // ignore manually set metadataSchema, it will be automatically generated by Jackson during serialization\n  allowSetters = true // allows the metadataSchema to be set during deserialization\n)\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;metadataSchema&quot;, visible = true)\n@JsonSubTypes({\n  @JsonSubTypes.Type(value = ClosedMetadataSchemaV1.class, name = &quot;ClosedMetadataSchemaV1&quot;),\n  @JsonSubTypes.Type(value = PublicMetadataSchemaV1.class, name = &quot;PublicMetadataSchemaV1&quot;),\n  @JsonSubTypes.Type(value = ClosedMetadataSchemaV1.class, name = &quot;closed-metadata-schema-v1&quot;),\n  @JsonSubTypes.Type(value = PublicMetadataSchemaV1.class, name = &quot;raido-metadata-schema-v1&quot;)\n})\n\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2022-11-21T15:03:48.931461200+10:00[Australia/Brisbane]&quot;)\npublic interface ReadRaidMetadataResponseV1 {\n    public String getMetadataSchema();\n}\n</code></pre>\n<p>And the API service always serves the &quot;class name&quot; mapping (i.e. <code>PublicMetadataSchemaV1</code>) as the value instead of the defined &quot;mapping&quot; value of <code>raido-metadata-schema-v1</code>.</p>\n<p>But the generated TypeScript code looks like:</p>\n<pre class=\"lang-typescript prettyprint-override\"><code>export function ReadRaidMetadataResponseV1FromJSONTyped(json: any, ignoreDiscriminator: boolean): ReadRaidMetadataResponseV1 {\n    if ((json === undefined) || (json === null)) {\n        return json;\n    }\n    switch (json['metadataSchema']) {\n        case 'closed-metadata-schema-v1':\n            return {...ClosedMetadataSchemaV1FromJSONTyped(json, true), metadataSchema: 'closed-metadata-schema-v1'};\n        case 'raido-metadata-schema-v1':\n            return {...PublicMetadataSchemaV1FromJSONTyped(json, true), metadataSchema: 'raido-metadata-schema-v1'};\n        default:\n            throw new Error(`No variant of ReadRaidMetadataResponseV1 exists with 'metadataSchema=${json['metadataSchema']}'`);\n    }\n}\n\n</code></pre>\n<p>So it always fails, because the TypeScript code only knows about the (correct) <code>raido-metadata-schema-v1</code> mapping value.</p>\n<p>The repo with the full code is publicly visible, you can find the full <code>openapi</code> YAML files at:\n<a href=\"https://github.com/au-research/raido-v2/blob/b06c08349a58b4559768963c5e3fbb81cc2c2f28/api-svc/idl-raid-v2/src/shared.yaml#L36\" rel=\"nofollow noreferrer\">https://github.com/au-research/raido-v2/blob/b06c08349a58b4559768963c5e3fbb81cc2c2f28/api-svc/idl-raid-v2/src/shared.yaml#L36</a></p>\n<p>The question:\nHow can I structure my <code>openapi</code> definition, or what flags do I need to use so that the generated <code>typescript-fetch</code> code can actually use the API served by the <code>JavaSpring</code> generator?</p>\n"},{"tags":["java","exception","deployment","glassfish","nosuchmethod"],"answers":[{"comments":[{"owner":{"account_id":167605,"reputation":345,"user_id":392519,"accept_rate":88,"display_name":"Rajkumar"},"score":0,"creation_date":1348579632,"post_id":12583578,"comment_id":16956837,"body_markdown":"You may start with the jar for `com.km.orgfrm.datamodel.entity.AbstractEntity`. It is better to correct the duplicate jar issue instead of using different class loader properties. If you use different class different policies, your deployment manual may need instructions for every server.","body":"You may start with the jar for <code>com.km.orgfrm.datamodel.entity.AbstractEntity</code>. It is better to correct the duplicate jar issue instead of using different class loader properties. If you use different class different policies, your deployment manual may need instructions for every server."}],"tags":[],"owner":{"account_id":1869579,"reputation":1450,"user_id":1692156,"accept_rate":70,"display_name":"Tudor Vintilescu"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1348578217,"creation_date":1348578217,"answer_id":12583578,"question_id":12583486,"body_markdown":"This type of errors are usually due to having two different versions of the same library in your classpath.\r\n\r\nPlease check to see if the new version of glassfish doesn&#39;t come with a standard, included, version of one of the libraries your application is using and deploying. Being first on the scene of the crime :), the application server will load the first class (the standard one), which is different from the one your application wants to use.\r\n\r\nForcing use of different class loaders could solve this type of problem. However, I don&#39;t have experience with Glassfish, but have encountered similar problems on Weblogic.\r\n\r\n","title":"NoSuchMethodException during deploying","body":"<p>This type of errors are usually due to having two different versions of the same library in your classpath.</p>\n\n<p>Please check to see if the new version of glassfish doesn't come with a standard, included, version of one of the libraries your application is using and deploying. Being first on the scene of the crime :), the application server will load the first class (the standard one), which is different from the one your application wants to use.</p>\n\n<p>Forcing use of different class loaders could solve this type of problem. However, I don't have experience with Glassfish, but have encountered similar problems on Weblogic.</p>\n"},{"tags":[],"owner":{"account_id":2042955,"reputation":1341,"user_id":1823710,"accept_rate":59,"display_name":"qualebs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692952924,"creation_date":1692952924,"answer_id":76975610,"question_id":12583486,"body_markdown":"For me I got this error while I was changing my application server from glassfish 6.x to glassfish 7.0.2 and the server wouldn&#39;t start. The logs had the error saying this method does not exist\r\n\r\n`java.lang.NoSuchMethodException: com.sun.appserv.server.util.Version.getFullVersion()`\r\n\r\nIn my project properties I changed the EE version from 9.1 to EE10 and I was able to go back to coding again.","title":"NoSuchMethodException during deploying","body":"<p>For me I got this error while I was changing my application server from glassfish 6.x to glassfish 7.0.2 and the server wouldn't start. The logs had the error saying this method does not exist</p>\n<p><code>java.lang.NoSuchMethodException: com.sun.appserv.server.util.Version.getFullVersion()</code></p>\n<p>In my project properties I changed the EE version from 9.1 to EE10 and I was able to go back to coding again.</p>\n"}],"owner":{"display_name":"user1679671"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12583578,"answer_count":2,"score":0,"last_activity_date":1692952924,"creation_date":1348577919,"question_id":12583486,"body_markdown":"I am using glassfish 3.1.2.2 server and idea ultimate edition 11 (on Ubuntu 12.04). While I am deploying my ear project there is an exception, first nullpointer then nosuchmethod.\r\nOn 3.0.1 of glassfish it works, but in 3.1.2 doesnot.\r\n\r\nServer log:\r\n\r\n\r\n    [#|2012-09-25T15:54:14.356+0300|WARNING|glassfish3.1.2|javax.enterprise.system.tools.deployment.org.glassfish.deployment.common|_ThreadID=45;_ThreadName=Thread-2;|DPL8027: Ignore WEB-INF/sun-web.xml in archive /home/kelevra/glassfish3/glassfish/domains/domain1/applications/MO-1.0.1-alpha1-SNAPSHOT/ViewController-1.0.1-alpha1-SNAPSHOT_war/, as GlassFish counterpart runtime xml WEB-INF/glassfish-web.xml is present in the same archive.|#]\r\n    \r\n    [#|2012-09-25T15:54:14.565+0300|WARNING|glassfish3.1.2|javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.util|_ThreadID=45;_ThreadName=Thread-2;|RAR8068: Using default datasource : __ds_jdbc_ra for pool : eFarmer-Pool|#]\r\n    \r\n    [#|2012-09-25T15:54:14.591+0300|SEVERE|glassfish3.1.2|javax.enterprise.system.tools.deployment.org.glassfish.deployment.common|_ThreadID=78;_ThreadName=Thread-2;|Exception while visiting com/sun/gjc/util/SQLTraceTimerTask.class of size 570\r\n    java.lang.NullPointerException\r\n    \tat org.glassfish.hk2.classmodel.reflect.impl.TypesImpl.getType(TypesImpl.java:78)\r\n    \tat org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor.visit(ModelClassVisitor.java:119)\r\n    \tat org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n    \tat org.objectweb.asm.ClassReader.accept(Unknown Source)\r\n    \tat org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:363)\r\n    \tat org.glassfish.hk2.classmodel.reflect.util.JarArchive.onSelectedEntries(JarArchive.java:125)\r\n    \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:348)\r\n    \tat org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:70)\r\n    \tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:307)\r\n    \tat org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:296)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n    \tat java.lang.Thread.run(Thread.java:722)\r\n    |#]\r\n    \r\n    [#|2012-09-25T15:54:14.965+0300|WARNING|glassfish3.1.2|javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.util|_ThreadID=45;_ThreadName=Thread-2;|RAR8068: Using default datasource : __ds_jdbc_ra for pool : eFarmer-Pool|#]\r\n    \r\n    [#|2012-09-25T15:54:17.224+0300|WARNING|glassfish3.1.2|org.eclipse.persistence.session.file:/home/kelevra/glassfish3/glassfish/domains/domain1/applications/MO-1.0.1-alpha1-SNAPSHOT/DataModel-1.0.1-alpha1-SNAPSHOT_jar/_eFarmer.weaver|_ThreadID=45;_ThreadName=Thread-2;|Weaver encountered an exception while trying to weave class com/km/orgfrm/datamodel/entity/AbstractEntity.  The exception was: java.lang.RuntimeException: java.lang.ClassNotFoundException: com.km.orgfrm.datamodel.entity.AbstractEntity not found by org.eclipse.persistence.asm [232]|#]\r\n    \r\n    java.lang.NoSuchMethodError: com.km.orgfrm.datamodel.entity.AbstractEntity.&lt;init&gt;(Lorg/eclipse/persistence/internal/descriptors/PersistenceObject;)V\r\n    \tat com.km.efarmer.datamodel.entity.order.operation.OperationTrackGeometryEntity.&lt;init&gt;(OperationTrackGeometryEntity.java)\r\n    \tat com.km.efarmer.datamodel.entity.order.operation.OperationTrackGeometryEntity._persistence_new(OperationTrackGeometryEntity.java)\r\n    \tat org.eclipse.persistence.internal.descriptors.PersistenceObjectInstantiationPolicy.buildNewInstance(PersistenceObjectInstantiationPolicy.java:30)\r\n    \tat org.eclipse.persistence.descriptors.ClassDescriptor.selfValidationAfterInitialization(ClassDescriptor.java:3870)\r\n    \tat org.eclipse.persistence.descriptors.ClassDescriptor.validateAfterInitialization(ClassDescriptor.java:5688)\r\n    \tat org.eclipse.persistence.descriptors.ClassDescriptor.postInitialize(ClassDescriptor.java:3547)\r\n    \tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:526)\r\n    \tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:476)\r\n    \tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:435)\r\n    \tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.postConnectDatasource(DatabaseSessionImpl.java:676)\r\n    \tat org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.login(DatabaseSessionImpl.java:634)\r\n    \tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:208)\r\n    \tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:488)\r\n    \tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:188)\r\n    \tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:277)\r\n    \tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:294)\r\n    \tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:272)\r\n    \tat org.glassfish.persistence.jpa.PersistenceUnitLoader.loadPU(PersistenceUnitLoader.java:211)\r\n    \tat org.glassfish.persistence.jpa.PersistenceUnitLoader.&lt;init&gt;(PersistenceUnitLoader.java:120)\r\n    \tat org.glassfish.persistence.jpa.JPADeployer$1.visitPUD(JPADeployer.java:224)\r\n    \tat org.glassfish.persistence.jpa.JPADeployer$PersistenceUnitDescriptorIterator.iteratePUDs(JPADeployer.java:495)\r\n    \tat org.glassfish.persistence.jpa.JPADeployer.createEMFs(JPADeployer.java:233)\r\n    \tat org.glassfish.persistence.jpa.JPADeployer.prepare(JPADeployer.java:168)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.prepareModule(ApplicationLifecycle.java:871)\r\n    \tat org.glassfish.javaee.full.deployment.EarDeployer.prepareBundle(EarDeployer.java:290)\r\n    \tat org.glassfish.javaee.full.deployment.EarDeployer.access$200(EarDeployer.java:86)\r\n    \tat org.glassfish.javaee.full.deployment.EarDeployer$1.doBundle(EarDeployer.java:141)\r\n    \tat org.glassfish.javaee.full.deployment.EarDeployer$1.doBundle(EarDeployer.java:138)\r\n    \tat org.glassfish.javaee.full.deployment.EarDeployer.doOnBundles(EarDeployer.java:215)\r\n    \tat org.glassfish.javaee.full.deployment.EarDeployer.doOnAllTypedBundles(EarDeployer.java:224)\r\n    \tat org.glassfish.javaee.full.deployment.EarDeployer.doOnAllBundles(EarDeployer.java:250)\r\n    \tat org.glassfish.javaee.full.deployment.EarDeployer.prepare(EarDeployer.java:138)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.prepareModule(ApplicationLifecycle.java:871)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:410)\r\n    \tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:240)\r\n    \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:389)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:348)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:363)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1085)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1200(CommandRunnerImpl.java:95)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1291)\r\n    \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1259)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:461)\r\n    \tat com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:212)\r\n    \tat com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:179)\r\n    \tat com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:117)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper$Hk2DispatcherCallable.call(ContainerMapper.java:354)\r\n    \tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)\r\n    \tat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)\r\n    \tat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)\r\n    \tat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)\r\n    \tat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)\r\n    \tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)\r\n    \tat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)\r\n    \tat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)\r\n    \tat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)\r\n    \tat com.sun.grizzly.ContextTask.run(ContextTask.java:71)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)\r\n    \tat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)\r\n    \tat java.lang.Thread.run(Thread.java:722)\r\n    |#]\r\n    \r\n    [#|2012-09-25T15:54:18.366+0300|SEVERE|glassfish3.1.2|javax.enterprise.system.tools.admin.org.glassfish.deployment.admin|_ThreadID=45;_ThreadName=Thread-2;|Exception while preparing the app : com.km.orgfrm.datamodel.entity.AbstractEntity.&lt;init&gt;(Lorg/eclipse/persistence/internal/descriptors/PersistenceObject;)V|#]\r\n\r\n","title":"NoSuchMethodException during deploying","body":"<p>I am using glassfish 3.1.2.2 server and idea ultimate edition 11 (on Ubuntu 12.04). While I am deploying my ear project there is an exception, first nullpointer then nosuchmethod.\nOn 3.0.1 of glassfish it works, but in 3.1.2 doesnot.</p>\n\n<p>Server log:</p>\n\n<pre><code>[#|2012-09-25T15:54:14.356+0300|WARNING|glassfish3.1.2|javax.enterprise.system.tools.deployment.org.glassfish.deployment.common|_ThreadID=45;_ThreadName=Thread-2;|DPL8027: Ignore WEB-INF/sun-web.xml in archive /home/kelevra/glassfish3/glassfish/domains/domain1/applications/MO-1.0.1-alpha1-SNAPSHOT/ViewController-1.0.1-alpha1-SNAPSHOT_war/, as GlassFish counterpart runtime xml WEB-INF/glassfish-web.xml is present in the same archive.|#]\n\n[#|2012-09-25T15:54:14.565+0300|WARNING|glassfish3.1.2|javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.util|_ThreadID=45;_ThreadName=Thread-2;|RAR8068: Using default datasource : __ds_jdbc_ra for pool : eFarmer-Pool|#]\n\n[#|2012-09-25T15:54:14.591+0300|SEVERE|glassfish3.1.2|javax.enterprise.system.tools.deployment.org.glassfish.deployment.common|_ThreadID=78;_ThreadName=Thread-2;|Exception while visiting com/sun/gjc/util/SQLTraceTimerTask.class of size 570\njava.lang.NullPointerException\n    at org.glassfish.hk2.classmodel.reflect.impl.TypesImpl.getType(TypesImpl.java:78)\n    at org.glassfish.hk2.classmodel.reflect.impl.ModelClassVisitor.visit(ModelClassVisitor.java:119)\n    at org.objectweb.asm.ClassReader.accept(Unknown Source)\n    at org.objectweb.asm.ClassReader.accept(Unknown Source)\n    at org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:363)\n    at org.glassfish.hk2.classmodel.reflect.util.JarArchive.onSelectedEntries(JarArchive.java:125)\n    at org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:348)\n    at org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:70)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:307)\n    at org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:296)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:722)\n|#]\n\n[#|2012-09-25T15:54:14.965+0300|WARNING|glassfish3.1.2|javax.enterprise.resource.resourceadapter.com.sun.enterprise.connectors.util|_ThreadID=45;_ThreadName=Thread-2;|RAR8068: Using default datasource : __ds_jdbc_ra for pool : eFarmer-Pool|#]\n\n[#|2012-09-25T15:54:17.224+0300|WARNING|glassfish3.1.2|org.eclipse.persistence.session.file:/home/kelevra/glassfish3/glassfish/domains/domain1/applications/MO-1.0.1-alpha1-SNAPSHOT/DataModel-1.0.1-alpha1-SNAPSHOT_jar/_eFarmer.weaver|_ThreadID=45;_ThreadName=Thread-2;|Weaver encountered an exception while trying to weave class com/km/orgfrm/datamodel/entity/AbstractEntity.  The exception was: java.lang.RuntimeException: java.lang.ClassNotFoundException: com.km.orgfrm.datamodel.entity.AbstractEntity not found by org.eclipse.persistence.asm [232]|#]\n\njava.lang.NoSuchMethodError: com.km.orgfrm.datamodel.entity.AbstractEntity.&lt;init&gt;(Lorg/eclipse/persistence/internal/descriptors/PersistenceObject;)V\n    at com.km.efarmer.datamodel.entity.order.operation.OperationTrackGeometryEntity.&lt;init&gt;(OperationTrackGeometryEntity.java)\n    at com.km.efarmer.datamodel.entity.order.operation.OperationTrackGeometryEntity._persistence_new(OperationTrackGeometryEntity.java)\n    at org.eclipse.persistence.internal.descriptors.PersistenceObjectInstantiationPolicy.buildNewInstance(PersistenceObjectInstantiationPolicy.java:30)\n    at org.eclipse.persistence.descriptors.ClassDescriptor.selfValidationAfterInitialization(ClassDescriptor.java:3870)\n    at org.eclipse.persistence.descriptors.ClassDescriptor.validateAfterInitialization(ClassDescriptor.java:5688)\n    at org.eclipse.persistence.descriptors.ClassDescriptor.postInitialize(ClassDescriptor.java:3547)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:526)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:476)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.initializeDescriptors(DatabaseSessionImpl.java:435)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.postConnectDatasource(DatabaseSessionImpl.java:676)\n    at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.login(DatabaseSessionImpl.java:634)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:208)\n    at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:488)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:188)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:277)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:294)\n    at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:272)\n    at org.glassfish.persistence.jpa.PersistenceUnitLoader.loadPU(PersistenceUnitLoader.java:211)\n    at org.glassfish.persistence.jpa.PersistenceUnitLoader.&lt;init&gt;(PersistenceUnitLoader.java:120)\n    at org.glassfish.persistence.jpa.JPADeployer$1.visitPUD(JPADeployer.java:224)\n    at org.glassfish.persistence.jpa.JPADeployer$PersistenceUnitDescriptorIterator.iteratePUDs(JPADeployer.java:495)\n    at org.glassfish.persistence.jpa.JPADeployer.createEMFs(JPADeployer.java:233)\n    at org.glassfish.persistence.jpa.JPADeployer.prepare(JPADeployer.java:168)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.prepareModule(ApplicationLifecycle.java:871)\n    at org.glassfish.javaee.full.deployment.EarDeployer.prepareBundle(EarDeployer.java:290)\n    at org.glassfish.javaee.full.deployment.EarDeployer.access$200(EarDeployer.java:86)\n    at org.glassfish.javaee.full.deployment.EarDeployer$1.doBundle(EarDeployer.java:141)\n    at org.glassfish.javaee.full.deployment.EarDeployer$1.doBundle(EarDeployer.java:138)\n    at org.glassfish.javaee.full.deployment.EarDeployer.doOnBundles(EarDeployer.java:215)\n    at org.glassfish.javaee.full.deployment.EarDeployer.doOnAllTypedBundles(EarDeployer.java:224)\n    at org.glassfish.javaee.full.deployment.EarDeployer.doOnAllBundles(EarDeployer.java:250)\n    at org.glassfish.javaee.full.deployment.EarDeployer.prepare(EarDeployer.java:138)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.prepareModule(ApplicationLifecycle.java:871)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:410)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:240)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:389)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$1.execute(CommandRunnerImpl.java:348)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:363)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1085)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1200(CommandRunnerImpl.java:95)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1291)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1259)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:461)\n    at com.sun.enterprise.v3.admin.AdminAdapter.service(AdminAdapter.java:212)\n    at com.sun.grizzly.tcp.http11.GrizzlyAdapter.service(GrizzlyAdapter.java:179)\n    at com.sun.enterprise.v3.server.HK2Dispatcher.dispath(HK2Dispatcher.java:117)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$Hk2DispatcherCallable.call(ContainerMapper.java:354)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)\n    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)\n    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)\n    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)\n    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)\n    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)\n    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)\n    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)\n    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)\n    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)\n    at java.lang.Thread.run(Thread.java:722)\n|#]\n\n[#|2012-09-25T15:54:18.366+0300|SEVERE|glassfish3.1.2|javax.enterprise.system.tools.admin.org.glassfish.deployment.admin|_ThreadID=45;_ThreadName=Thread-2;|Exception while preparing the app : com.km.orgfrm.datamodel.entity.AbstractEntity.&lt;init&gt;(Lorg/eclipse/persistence/internal/descriptors/PersistenceObject;)V|#]\n</code></pre>\n"},{"tags":["java","azure","azure-blob-storage"],"comments":[{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1692673592,"post_id":76946664,"comment_id":135652544,"body_markdown":"Hi, @Vicente Montoro Try to add while creating a sas token with list permission like `BlobSasPermission permission = new BlobSasPermission().setReadPermission(true).setListPermission(true); `","body":"Hi, @Vicente Montoro Try to add while creating a sas token with list permission like <code>BlobSasPermission permission = new BlobSasPermission().setReadPermission(true).setListPermissio&zwnj;&#8203;n(true); </code>"},{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":0,"creation_date":1692693645,"post_id":76946664,"comment_id":135655281,"body_markdown":"Hey @Venkatesan! Thanks for your quick answer. However, the behaviour is the same. I continue having a 0B file with no content.","body":"Hey @Venkatesan! Thanks for your quick answer. However, the behaviour is the same. I continue having a 0B file with no content."},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1692694100,"post_id":76946664,"comment_id":135655367,"body_markdown":"Hi @Vicento Montoro I tried with sample code https://i.imgur.com/IgTx3rT.png it copied succesfully with content https://i.imgur.com/4Ecf4Q5.png.","body":"Hi @Vicento Montoro I tried with sample code <a href=\"https://i.imgur.com/IgTx3rT.png\" rel=\"nofollow noreferrer\">i.imgur.com/IgTx3rT.png</a> it copied succesfully with content <a href=\"https://i.imgur.com/4Ecf4Q5.png\" rel=\"nofollow noreferrer\">i.imgur.com/4Ecf4Q5.png</a>."},{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":0,"creation_date":1692694741,"post_id":76946664,"comment_id":135655495,"body_markdown":"Ok, @Venkatesan, ill try it again but... do you have your source as public?\nWhen i try to get the archive status: \ndesObject.getProperties().getArchiveStatus();\nArchiveStatus.REHYDRATE_PENDING_TO_COOL.equals(status)\nI receive a null (thats why its not rehydrating)\nThank you again!","body":"Ok, @Venkatesan, ill try it again but... do you have your source as public? When i try to get the archive status:  desObject.getProperties().getArchiveStatus(); ArchiveStatus.REHYDRATE_PENDING_TO_COOL.equals(status) I receive a null (thats why its not rehydrating) Thank you again!"}],"answers":[{"comments":[{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":0,"creation_date":1692699395,"post_id":76952183,"comment_id":135656551,"body_markdown":"I have changed my way of doing it and now im receiving another issue:\nERROR: null - Status code 500, &quot;?&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;CannotVerifyCopySource&lt;/Code&gt;&lt;Message&gt;Could not verify the copy source within the specified time.","body":"I have changed my way of doing it and now im receiving another issue: ERROR: null - Status code 500, &quot;?&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;CannotVerifyCopySource&lt;/Code&gt;&zwnj;&#8203;&lt;Message&gt;Could not verify the copy source within the specified time."},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1692703001,"post_id":76952183,"comment_id":135657242,"body_markdown":"Make the source container public and now try https://stackoverflow.com/questions/73709699/azure-copy-blobs-across-storage-accounts-fails-with-errorcodecannotverifycopyso","body":"Make the source container public and now try <a href=\"https://stackoverflow.com/questions/73709699/azure-copy-blobs-across-storage-accounts-fails-with-errorcodecannotverifycopyso\" title=\"azure copy blobs across storage accounts fails with errorcodecannotverifycopyso\">stackoverflow.com/questions/73709699/&hellip;</a>"},{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":0,"creation_date":1692710078,"post_id":76952183,"comment_id":135659007,"body_markdown":"More updates:\nI realized that i was using an old version for the azure connection in my first tries. From V2021_02_12 the second error appears. Moreover, my container is private too so thats why i added the SAS token with readPermission true. I continue having the &quot;Could not verify the copy source within the specified time.&quot; issue :(\nThanks again for the answer!","body":"More updates: I realized that i was using an old version for the azure connection in my first tries. From V2021_02_12 the second error appears. Moreover, my container is private too so thats why i added the SAS token with readPermission true. I continue having the &quot;Could not verify the copy source within the specified time.&quot; issue :( Thanks again for the answer!"},{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":0,"creation_date":1692712445,"post_id":76952183,"comment_id":135659663,"body_markdown":"This is an example of my SAS route, maybe something missing:\n&quot;https://accountName.blob.core.windows.net/container/route?sv=2023-01-03&amp;se=2023-08-22T13%3A49%3A10Z&amp;sr=b&amp;sp=rl&amp;sig=signature&quot;","body":"This is an example of my SAS route, maybe something missing: &quot;<a href=\"https://accountName.blob.core.windows.net/container/route?sv=2023-01-03&amp;se=2023-08-22T13%3A49%3A10Z&amp;sr=b&amp;sp=rl&amp;sig=signature\" rel=\"nofollow noreferrer\">accountName.blob.core.windows.net/container/&hellip;</a>&quot;"},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1692715286,"post_id":76952183,"comment_id":135660388,"body_markdown":"The destination blob account URL should be in `https://&lt; accountname &gt;.blob.core.windows.net/&lt; container name&gt;/&lt; BlobName &gt;?&lt; SAS-token &gt;`","body":"The destination blob account URL should be in <code>https:&#47;&#47;&lt; accountname &gt;.blob.core.windows.net&#47;&lt; container name&gt;&#47;&lt; BlobName &gt;?&lt; SAS-token &gt;</code>"},{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":0,"creation_date":1692716722,"post_id":76952183,"comment_id":135660760,"body_markdown":"Yep, thats what i have: blobDest.beginCopy(blobMeta.getBlobUrl() + &quot;?&quot; + blobMeta.generateSas(sas) --&gt; &quot;https:// accountName . blob . core . windows . net/container / route ? sv=2023-01-03&amp;se=2023-08-22T13%3A49%3A10Z&amp;sr=b&amp;sp=rl&amp;sig=signature&quot;","body":"Yep, thats what i have: blobDest.beginCopy(blobMeta.getBlobUrl() + &quot;?&quot; + blobMeta.generateSas(sas) --&gt; &quot;https:// accountName . blob . core . windows . net/container / route ? sv=2023-01-03&amp;se=2023-08-22T13%3A49%3A10Z&amp;sr=b&amp;sp=rl&amp;sig=sig&zwnj;&#8203;nature&quot;"},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1692717088,"post_id":76952183,"comment_id":135660853,"body_markdown":"Copy and paste the blob url in the browser and see what you are getting?","body":"Copy and paste the blob url in the browser and see what you are getting?"},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1692717428,"post_id":76952183,"comment_id":135660937,"body_markdown":"Have you tried my approach (my code)?","body":"Have you tried my approach (my code)?"},{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":0,"creation_date":1692717713,"post_id":76952183,"comment_id":135661004,"body_markdown":"i get this lol: \n&lt;Error&gt;\n&lt;Code&gt;BlobArchived&lt;/Code&gt;\n&lt;Message&gt;This operation is not permitted on an archived blob. RequestId:0e48abe0-601e-0017-2d0b-d53889000000 Time:2023-08-22T15:18:22.5758820Z&lt;/Message&gt;\n&lt;/Error&gt;\nBut i dont know why :S","body":"i get this lol:  &lt;Error&gt; &lt;Code&gt;BlobArchived&lt;/Code&gt; &lt;Message&gt;This operation is not permitted on an archived blob. RequestId:0e48abe0-601e-0017-2d0b-d53889000000 Time:2023-08-22T15:18:22.5758820Z&lt;/Message&gt; &lt;/Error&gt; But i dont know why :S"},{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":0,"creation_date":1692717886,"post_id":76952183,"comment_id":135661045,"body_markdown":"Yeah, i tested your code, thats why i realized about the connection&#39;s version. Thanks again for your help, by the way :)","body":"Yeah, i tested your code, thats why i realized about the connection&#39;s version. Thanks again for your help, by the way :)"},{"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"score":0,"creation_date":1692719548,"post_id":76952183,"comment_id":135661437,"body_markdown":"Refer this https://learn.microsoft.com/en-us/azure/storage/blobs/archive-rehydrate-overview","body":"Refer this <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/archive-rehydrate-overview\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/storage/blobs/&hellip;</a>"},{"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"score":1,"creation_date":1692952560,"post_id":76952183,"comment_id":135697524,"body_markdown":"Hey @Venkatesan! i finally found the issue. My accounts where in different region and its not supported for rehydrate begincopy method yet. Thanks for the help!","body":"Hey @Venkatesan! i finally found the issue. My accounts where in different region and its not supported for rehydrate begincopy method yet. Thanks for the help!"}],"tags":[],"owner":{"account_id":25323437,"reputation":5162,"user_id":19144428,"display_name":"Venkatesan"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692698565,"creation_date":1692698565,"answer_id":76952183,"question_id":76946664,"body_markdown":"You can use the below code to copy files with tier from one storage account to another storage account using Java SDK.\r\n\r\n**Code:**\r\n\r\n    import com.azure.storage.blob.BlobServiceClientBuilder;\r\n    import com.azure.storage.blob.BlobClient;\r\n    import com.azure.storage.blob.models.AccessTier;\r\n    import com.azure.storage.blob.models.RehydratePriority;\r\n    import com.azure.storage.blob.sas.BlobSasPermission;\r\n    import com.azure.storage.blob.sas.BlobServiceSasSignatureValues;\r\n    \r\n    import java.time.OffsetDateTime;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            String sourceConnectionString = &quot;sourceconnect-string&quot;;\r\n            String destConnectionString = &quot;destinationconnectstring&quot;;\r\n            String sourceContainerName = &quot;test&quot;;\r\n            String destContainerName = &quot;test1&quot;;\r\n            String sourceBlobName = &quot;sample326.txt&quot;;\r\n            String destBlobName = &quot;demo.txt&quot;;\r\n            \r\n            // Initialize source and destination clients\r\n            BlobClient sourceBlobClient = new BlobServiceClientBuilder().connectionString(sourceConnectionString)\r\n                    .buildClient().getBlobContainerClient(sourceContainerName).getBlobClient(sourceBlobName);\r\n            BlobClient destBlobClient = new BlobServiceClientBuilder().connectionString(destConnectionString)\r\n                    .buildClient().getBlobContainerClient(destContainerName).getBlobClient(destBlobName);\r\n            \r\n            // Generate SAS token for source blob\r\n            OffsetDateTime sasExpiry = OffsetDateTime.now().plusMinutes(1);\r\n            BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\r\n            BlobServiceSasSignatureValues sas = new BlobServiceSasSignatureValues(sasExpiry, permission);\r\n            String sourceURL = sourceBlobClient.getBlobUrl() + &quot;?&quot; + sourceBlobClient.generateSas(sas);\r\n            \r\n            // Set metadata for destination blob\r\n            Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\r\n            metadata.put(&quot;key&quot;, &quot;value&quot;);\r\n            \r\n            // Perform the blob copy with rehydration\r\n            destBlobClient.beginCopy(sourceURL, metadata, AccessTier.COOL, RehydratePriority.HIGH, null, null, null);\r\n            \r\n            System.out.println(&quot;Blob copy operation initiated with rehydration.&quot;);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Blob copy operation initiated with rehydration.\r\n![enter image description here](https://i.imgur.com/zRLUgu5.png)\r\n\r\n**Portal:**\r\n![enter image description here](https://i.imgur.com/d1ftHEA.png)\r\n\r\n**Reference:**\r\n\r\n[BlobClientBase Class | Microsoft Learn](https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.specialized.blobclientbase?view=azure-java-stable#method-details)","title":"Azure rehydrate copying blob to different account [java]","body":"<p>You can use the below code to copy files with tier from one storage account to another storage account using Java SDK.</p>\n<p><strong>Code:</strong></p>\n<pre><code>import com.azure.storage.blob.BlobServiceClientBuilder;\nimport com.azure.storage.blob.BlobClient;\nimport com.azure.storage.blob.models.AccessTier;\nimport com.azure.storage.blob.models.RehydratePriority;\nimport com.azure.storage.blob.sas.BlobSasPermission;\nimport com.azure.storage.blob.sas.BlobServiceSasSignatureValues;\n\nimport java.time.OffsetDateTime;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class App {\n\n    public static void main(String[] args) {\n        String sourceConnectionString = &quot;sourceconnect-string&quot;;\n        String destConnectionString = &quot;destinationconnectstring&quot;;\n        String sourceContainerName = &quot;test&quot;;\n        String destContainerName = &quot;test1&quot;;\n        String sourceBlobName = &quot;sample326.txt&quot;;\n        String destBlobName = &quot;demo.txt&quot;;\n        \n        // Initialize source and destination clients\n        BlobClient sourceBlobClient = new BlobServiceClientBuilder().connectionString(sourceConnectionString)\n                .buildClient().getBlobContainerClient(sourceContainerName).getBlobClient(sourceBlobName);\n        BlobClient destBlobClient = new BlobServiceClientBuilder().connectionString(destConnectionString)\n                .buildClient().getBlobContainerClient(destContainerName).getBlobClient(destBlobName);\n        \n        // Generate SAS token for source blob\n        OffsetDateTime sasExpiry = OffsetDateTime.now().plusMinutes(1);\n        BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\n        BlobServiceSasSignatureValues sas = new BlobServiceSasSignatureValues(sasExpiry, permission);\n        String sourceURL = sourceBlobClient.getBlobUrl() + &quot;?&quot; + sourceBlobClient.generateSas(sas);\n        \n        // Set metadata for destination blob\n        Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\n        metadata.put(&quot;key&quot;, &quot;value&quot;);\n        \n        // Perform the blob copy with rehydration\n        destBlobClient.beginCopy(sourceURL, metadata, AccessTier.COOL, RehydratePriority.HIGH, null, null, null);\n        \n        System.out.println(&quot;Blob copy operation initiated with rehydration.&quot;);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Blob copy operation initiated with rehydration.\n</code></pre>\n<p><img src=\"https://i.imgur.com/zRLUgu5.png\" alt=\"enter image description here\" /></p>\n<p><strong>Portal:</strong>\n<img src=\"https://i.imgur.com/d1ftHEA.png\" alt=\"enter image description here\" /></p>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://learn.microsoft.com/en-us/java/api/com.azure.storage.blob.specialized.blobclientbase?view=azure-java-stable#method-details\" rel=\"nofollow noreferrer\">BlobClientBase Class | Microsoft Learn</a></p>\n"}],"owner":{"account_id":26256923,"reputation":5,"user_id":19928842,"display_name":"Vicente Montoro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76952183,"answer_count":1,"score":0,"last_activity_date":1692952718,"creation_date":1692631058,"question_id":76946664,"body_markdown":"Im having an issue related to the rehydration process while I&#39;m trying to make a copy of one blob to another account.\r\n\r\nI have two different clients, one for the source and other one for the dest:\r\n\r\n    BlobClient blobMeta = sourceClient.getBlobContainerClient(source.getContainer()).getBlobClient(key);\r\n    BlobClient destObject = destClient.getBlobContainerClient(dest.getContainer()).getBlobClient(key);\r\n\r\nAs I read in the docs, for doing a copy in a different account, you should add the SAS token (&quot;If the source is in another account, the source must either be public or authenticated with a SAS token.&quot;), so...\r\n\r\n    OffsetDateTime sasExpiry = OffsetDateTime.now().plusMinutes(1);\r\n    BlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\r\n    BlobServiceSasSignatureValues sas = new BlobServiceSasSignatureValues(sasExpiry,permission).setStartTime(OffsetDateTime.now());\r\n    String sourceURL = blobMeta.getBlobUrl() + &quot;?&quot; + blobMeta.generateSas(sas);\r\n\r\nOnce I have the different blobs and the SAS token I continue with the beginCopy operation setting the new options for the rehydration process (from Archive to Cool and the priority):\r\n\r\n    destObject.beginCopy(sourceURL, blobMeta.getProperties().getMetadata(), AccessTier.COOL, RehydratePriority.STANDARD, null, null, null);\r\n\r\nEverything seems working properly but, this line creates directly the files with an 0B of size and there is no waiting time for rehydrate process (obviously is not doing anything, just copying empty info. However, the metadata is properly assigned). For the same account in a different container, everything works fine. Moreover, copying without adding the rehydration info (when the files are not stored in an archive tier) works fine too.\r\n\r\nDoes someone have any idea about what can be happening here?\r\n\r\nThank you!\r\n\r\nI tried what I added above and I expect to copy the data with the correct size and content.\r\n\r\nPD: The issue was the different region of the accounts. Begincopy method with the hydration process is not supported yet. For doing this, is necessary setting the tier to Cool / Hot in the original account and then, doing the copy.","title":"Azure rehydrate copying blob to different account [java]","body":"<p>Im having an issue related to the rehydration process while I'm trying to make a copy of one blob to another account.</p>\n<p>I have two different clients, one for the source and other one for the dest:</p>\n<pre><code>BlobClient blobMeta = sourceClient.getBlobContainerClient(source.getContainer()).getBlobClient(key);\nBlobClient destObject = destClient.getBlobContainerClient(dest.getContainer()).getBlobClient(key);\n</code></pre>\n<p>As I read in the docs, for doing a copy in a different account, you should add the SAS token (&quot;If the source is in another account, the source must either be public or authenticated with a SAS token.&quot;), so...</p>\n<pre><code>OffsetDateTime sasExpiry = OffsetDateTime.now().plusMinutes(1);\nBlobSasPermission permission = new BlobSasPermission().setReadPermission(true);\nBlobServiceSasSignatureValues sas = new BlobServiceSasSignatureValues(sasExpiry,permission).setStartTime(OffsetDateTime.now());\nString sourceURL = blobMeta.getBlobUrl() + &quot;?&quot; + blobMeta.generateSas(sas);\n</code></pre>\n<p>Once I have the different blobs and the SAS token I continue with the beginCopy operation setting the new options for the rehydration process (from Archive to Cool and the priority):</p>\n<pre><code>destObject.beginCopy(sourceURL, blobMeta.getProperties().getMetadata(), AccessTier.COOL, RehydratePriority.STANDARD, null, null, null);\n</code></pre>\n<p>Everything seems working properly but, this line creates directly the files with an 0B of size and there is no waiting time for rehydrate process (obviously is not doing anything, just copying empty info. However, the metadata is properly assigned). For the same account in a different container, everything works fine. Moreover, copying without adding the rehydration info (when the files are not stored in an archive tier) works fine too.</p>\n<p>Does someone have any idea about what can be happening here?</p>\n<p>Thank you!</p>\n<p>I tried what I added above and I expect to copy the data with the correct size and content.</p>\n<p>PD: The issue was the different region of the accounts. Begincopy method with the hydration process is not supported yet. For doing this, is necessary setting the tier to Cool / Hot in the original account and then, doing the copy.</p>\n"},{"tags":["java","spring","openapi","openapi-generator"],"comments":[{"owner":{"account_id":345047,"reputation":10337,"user_id":677735,"display_name":"William Cheng"},"score":0,"creation_date":1693880023,"post_id":76975549,"comment_id":135814422,"body_markdown":"FYI. [OpenAPI Generator v7.0.0](https://github.com/OpenAPITools/openapi-generator/releases/tag/v7.0.0) has been released. Please give it a try to see it works better for your use cases.","body":"FYI. <a href=\"https://github.com/OpenAPITools/openapi-generator/releases/tag/v7.0.0\" rel=\"nofollow noreferrer\">OpenAPI Generator v7.0.0</a> has been released. Please give it a try to see it works better for your use cases."}],"owner":{"account_id":25103965,"reputation":89,"user_id":18954336,"display_name":"JoeBloggs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692952364,"creation_date":1692952364,"question_id":76975549,"body_markdown":"I am using [Spring OpenApi generator][1] for my Spring Boot web app. Everything worked fine for version 6.0.0, but now I want to update it to the latest version (6.6.0). My gradle task looks like this:\r\n\r\n    openApiGenerate {\r\n        generatorName = &quot;spring&quot;\r\n        inputSpec = &quot;$projectDir/src/main/resources/openapi.yaml&quot;\r\n        outputDir = &quot;$buildDir/generated&quot;\r\n        apiPackage = &quot;com.myapp.web.api.controller&quot;\r\n        invokerPackage = &quot;com.myapp.web.api.invoker&quot;\r\n        modelPackage = &quot;com.myapp.web.api.model&quot;\r\n        modelNamePrefix = &quot;Dto&quot;\r\n        configOptions = [\r\n                openApiNullable: &quot;false&quot;,\r\n                useSwaggerUI: &quot;false&quot;,\r\n                delegatePattern: &quot;true&quot;,\r\n                useTags: &quot;true&quot;,\r\n                implicitHeaders: &quot;true&quot;,\r\n                additionalModelTypeAnnotations: &quot;@lombok.AllArgsConstructor;@lombok.NoArgsConstructor;@lombok.Builder(toBuilder = true)&quot;,\r\n                performBeanValidation: &quot;true&quot;,\r\n                generatedConstructorWithRequiredArgs: &quot;false&quot;\r\n        ]\r\n    }\r\n\r\nEverything was fine for the previous version of the generator, but with 6.6.0 it throws `java.lang.IllegalStateException: Ambiguous mapping. Cannot map {CONTROLLER} method`.\r\n\r\nI assume it is because it generates controllers with &quot;RequestMapping&quot; annotation\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;${openapi.myapp.base-path:}&quot;)\r\n    public class StuffApiController implements StuffApi {\r\n\r\nIs it possible to prevent it from adding RequestMapping on the Controller class somehow? Or what is the correct configuration to generate all three of Api, Controller and Delegate correctly?\r\n\r\n  [1]: https://openapi-generator.tech/docs/generators/spring/","title":"How to generate Delegates and Controllers for Spring OpenApi generator 6.6.0","body":"<p>I am using <a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"nofollow noreferrer\">Spring OpenApi generator</a> for my Spring Boot web app. Everything worked fine for version 6.0.0, but now I want to update it to the latest version (6.6.0). My gradle task looks like this:</p>\n<pre><code>openApiGenerate {\n    generatorName = &quot;spring&quot;\n    inputSpec = &quot;$projectDir/src/main/resources/openapi.yaml&quot;\n    outputDir = &quot;$buildDir/generated&quot;\n    apiPackage = &quot;com.myapp.web.api.controller&quot;\n    invokerPackage = &quot;com.myapp.web.api.invoker&quot;\n    modelPackage = &quot;com.myapp.web.api.model&quot;\n    modelNamePrefix = &quot;Dto&quot;\n    configOptions = [\n            openApiNullable: &quot;false&quot;,\n            useSwaggerUI: &quot;false&quot;,\n            delegatePattern: &quot;true&quot;,\n            useTags: &quot;true&quot;,\n            implicitHeaders: &quot;true&quot;,\n            additionalModelTypeAnnotations: &quot;@lombok.AllArgsConstructor;@lombok.NoArgsConstructor;@lombok.Builder(toBuilder = true)&quot;,\n            performBeanValidation: &quot;true&quot;,\n            generatedConstructorWithRequiredArgs: &quot;false&quot;\n    ]\n}\n</code></pre>\n<p>Everything was fine for the previous version of the generator, but with 6.6.0 it throws <code>java.lang.IllegalStateException: Ambiguous mapping. Cannot map {CONTROLLER} method</code>.</p>\n<p>I assume it is because it generates controllers with &quot;RequestMapping&quot; annotation</p>\n<pre><code>@Controller\n@RequestMapping(&quot;${openapi.myapp.base-path:}&quot;)\npublic class StuffApiController implements StuffApi {\n</code></pre>\n<p>Is it possible to prevent it from adding RequestMapping on the Controller class somehow? Or what is the correct configuration to generate all three of Api, Controller and Delegate correctly?</p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1692952425,"post_id":76975535,"comment_id":135697497,"body_markdown":"How are you trying to view the logs? Try `docker compose logs -f springboot-app`","body":"How are you trying to view the logs? Try <code>docker compose logs -f springboot-app</code>"},{"owner":{"account_id":23879688,"reputation":31,"user_id":17880537,"display_name":"coderoffuture"},"score":0,"creation_date":1692952546,"post_id":76975535,"comment_id":135697523,"body_markdown":"I view them from Docker desktop-Logs","body":"I view them from Docker desktop-Logs"}],"owner":{"account_id":23879688,"reputation":31,"user_id":17880537,"display_name":"coderoffuture"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692952251,"creation_date":1692952251,"question_id":76975535,"body_markdown":"I have a basic Spring Boot app and I can&#39;t see any of the System.out.println values on my Docker container logs (methods work)\r\nHere is the code:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\npublic class UserController {\r\n\r\n    @Value(&quot;${selenium.url}&quot;)\r\n    private String host;\r\n\r\n    @Value(&quot;${selenium.me}&quot;)\r\n    private String name;\r\n\r\n    @Autowired\r\n    public UserController(WebDriver webDriver) {\r\n        this.webDriver = webDriver;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User user) {\r\n        System.out.println(&quot;creating&quot;);\r\n        User created = userService.save(user);\r\n        return new ResponseEntity&lt;&gt;(created, HttpStatus.CREATED);\r\n    }\r\n\r\n    @GetMapping(&quot;/{username}&quot;)\r\n    public ResponseEntity&lt;User&gt; getUserByUsername(@PathVariable String username) {\r\n        System.out.println(&quot;hello&quot;);\r\n        System.out.println(&quot;hello, &quot;+ name );\r\n        User user = userService.getByUsername(username);\r\n        if (user != null) {\r\n            return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\r\n        }\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n}\r\n```\r\n\r\nActually I was trying to see if &quot;selenium.url&quot; value has changed because I declare it again in docker-compose.yml but I can&#39;t even just see basic sysout. What should I do?\r\n\r\nDockerfile:\r\n```\r\nFROM eclipse-temurin:17-jdk-alpine\r\nARG JAR_FILE=target/*.jar\r\nCOPY ./target/elasticSpring-0.0.1-SNAPSHOT.jar elasticSpring.jar\r\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;/elasticSpring.jar&quot; ]\r\n```\r\n\r\nAnd I&#39;m not sure if it&#39;s needed but here is my compose:\r\n\r\n```\r\nversion: &#39;1&#39;\r\nservices:\r\n  es:\r\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.12\r\n    container_name: es\r\n    ports:\r\n      - 9200:9200\r\n      - 9300:9300\r\n    environment:\r\n      - discovery.type=single-node\r\n    networks:\r\n      - mynet\r\n\r\n  chrome:\r\n    image: selenium/standalone-chrome:latest\r\n    container_name: chrome\r\n    ports:\r\n      - 4444:4444\r\n    networks:\r\n      - mynet\r\n\r\n  springboot-app:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    container_name: springElastic\r\n    ports:\r\n      - 8080:8080\r\n    environment:\r\n      - spring.elasticsearch.uris=es:9200\r\n      - spring.data.elasticsearch.cluster-nodes=es:9200\r\n      - selenium.url=chrome:4444/wd/hub\r\n    depends_on:\r\n      - es\r\n    networks:\r\n      - mynet\r\n\r\nnetworks:\r\n  mynet:\r\n    driver: bridge\r\n```","title":"Spring Boot-Docker Can&#39;t See Logs Of Code","body":"<p>I have a basic Spring Boot app and I can't see any of the System.out.println values on my Docker container logs (methods work)\nHere is the code:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\npublic class UserController {\n\n    @Value(&quot;${selenium.url}&quot;)\n    private String host;\n\n    @Value(&quot;${selenium.me}&quot;)\n    private String name;\n\n    @Autowired\n    public UserController(WebDriver webDriver) {\n        this.webDriver = webDriver;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody User user) {\n        System.out.println(&quot;creating&quot;);\n        User created = userService.save(user);\n        return new ResponseEntity&lt;&gt;(created, HttpStatus.CREATED);\n    }\n\n    @GetMapping(&quot;/{username}&quot;)\n    public ResponseEntity&lt;User&gt; getUserByUsername(@PathVariable String username) {\n        System.out.println(&quot;hello&quot;);\n        System.out.println(&quot;hello, &quot;+ name );\n        User user = userService.getByUsername(username);\n        if (user != null) {\n            return new ResponseEntity&lt;&gt;(user, HttpStatus.OK);\n        }\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p>Actually I was trying to see if &quot;selenium.url&quot; value has changed because I declare it again in docker-compose.yml but I can't even just see basic sysout. What should I do?</p>\n<p>Dockerfile:</p>\n<pre><code>FROM eclipse-temurin:17-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ./target/elasticSpring-0.0.1-SNAPSHOT.jar elasticSpring.jar\nENTRYPOINT [ &quot;java&quot;,&quot;-jar&quot;,&quot;/elasticSpring.jar&quot; ]\n</code></pre>\n<p>And I'm not sure if it's needed but here is my compose:</p>\n<pre><code>version: '1'\nservices:\n  es:\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.12\n    container_name: es\n    ports:\n      - 9200:9200\n      - 9300:9300\n    environment:\n      - discovery.type=single-node\n    networks:\n      - mynet\n\n  chrome:\n    image: selenium/standalone-chrome:latest\n    container_name: chrome\n    ports:\n      - 4444:4444\n    networks:\n      - mynet\n\n  springboot-app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    container_name: springElastic\n    ports:\n      - 8080:8080\n    environment:\n      - spring.elasticsearch.uris=es:9200\n      - spring.data.elasticsearch.cluster-nodes=es:9200\n      - selenium.url=chrome:4444/wd/hub\n    depends_on:\n      - es\n    networks:\n      - mynet\n\nnetworks:\n  mynet:\n    driver: bridge\n</code></pre>\n"},{"tags":["java","enumset"],"answers":[{"tags":[],"owner":{"account_id":284516,"reputation":14349,"user_id":582675,"accept_rate":75,"display_name":"Fabian Barney"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1481622496,"creation_date":1481622496,"answer_id":41117948,"question_id":41117898,"body_markdown":"Use `EnumSet.noneOf(Class)` to create an empty EnumSet.","title":"How to create empty EnumSet?","body":"<p>Use <code>EnumSet.noneOf(Class)</code> to create an empty EnumSet.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":0,"down_vote_count":0,"up_vote_count":110,"is_accepted":true,"score":110,"last_activity_date":1692952162,"creation_date":1481622558,"answer_id":41117971,"question_id":41117898,"body_markdown":"Use the method [`EnumSet.noneOf`][1]:\r\n\r\n```java\r\nEnumSet&lt;MyClass&gt; x = EnumSet.noneOf(MyClass.class);\r\n```\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#noneOf(java.lang.Class)","title":"How to create empty EnumSet?","body":"<p>Use the method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html#noneOf(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>EnumSet.noneOf</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumSet&lt;MyClass&gt; x = EnumSet.noneOf(MyClass.class);\n</code></pre>\n"}],"owner":{"account_id":2443343,"reputation":1856,"user_id":2307520,"accept_rate":71,"display_name":"David162795"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24940,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":41117971,"answer_count":2,"score":64,"last_activity_date":1692952162,"creation_date":1481622318,"question_id":41117898,"body_markdown":"I am struggling with `EnumSet` as it surprisingly doesn&#39;t have a simple constructor and its methods doesn&#39;t like null values.\r\n\r\nWhat I came up with:\r\n``` lang-java\r\nEnumSet&lt;MyClass&gt; x = EnumSet.copyOf(Collections.&lt;MyClass&gt;emptySet());\r\n```\r\n\r\nWhich somewhat works but doesn&#39;t seem right to me.","title":"How to create empty EnumSet?","body":"<p>I am struggling with <code>EnumSet</code> as it surprisingly doesn't have a simple constructor and its methods doesn't like null values.</p>\n<p>What I came up with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumSet&lt;MyClass&gt; x = EnumSet.copyOf(Collections.&lt;MyClass&gt;emptySet());\n</code></pre>\n<p>Which somewhat works but doesn't seem right to me.</p>\n"},{"tags":["java","postgresql","java-time"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1571320713,"post_id":58434148,"comment_id":103209158,"body_markdown":"The correct corresponding Java class is `LocalDateTime`.","body":"The correct corresponding Java class is <code>LocalDateTime</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1571760717,"post_id":58434148,"comment_id":103344629,"body_markdown":"While `TIMESTAMP WITHOUT TIME ZONE` does live up to (down to?) *without time zone*, it doesn’t live up to *timestamp* since it doesn’t uniquely define a point in time. If there’s a way you can, use `TIMESTAMP WITH TIME ZONE` instead (which lives up to *timestamp* but not really to *with time zone*).","body":"While <code>TIMESTAMP WITHOUT TIME ZONE</code> does live up to (down to?) <i>without time zone</i>, it doesn’t live up to <i>timestamp</i> since it doesn’t uniquely define a point in time. If there’s a way you can, use <code>TIMESTAMP WITH TIME ZONE</code> instead (which lives up to <i>timestamp</i> but not really to <i>with time zone</i>)."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1692904343,"post_id":58434148,"comment_id":135691425,"body_markdown":"Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.","body":"Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC."}],"answers":[{"comments":[{"owner":{"account_id":2605869,"reputation":1524,"user_id":2257052,"accept_rate":62,"display_name":"mvb13"},"score":0,"creation_date":1571321182,"post_id":58434361,"comment_id":103209439,"body_markdown":"I see that Instant is not supported. Is this wrong to use it?","body":"I see that Instant is not supported. Is this wrong to use it?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1571321899,"post_id":58434361,"comment_id":103209888,"body_markdown":"But the quote says, &quot;_Note that `ZonedDateTime`, **`Instant`** and `OffsetTime` / `TIME [ WITHOUT TIMEZONE ]` are **not** supported_&quot;.","body":"But the quote says, &quot;<i>Note that <code>ZonedDateTime</code>, <b><code>Instant</code></b> and <code>OffsetTime</code> / <code>TIME [ WITHOUT TIMEZONE ]</code> are <b>not</b> supported</i>&quot;."},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":1,"creation_date":1571322178,"post_id":58434361,"comment_id":103210076,"body_markdown":"@Slaw [totally embarrassed here] I don&#39;t know where my mind is today. I completely misinterpreted that statement. Let me fix that.","body":"@Slaw [totally embarrassed here] I don&#39;t know where my mind is today. I completely misinterpreted that statement. Let me fix that."},{"owner":{"account_id":2605869,"reputation":1524,"user_id":2257052,"accept_rate":62,"display_name":"mvb13"},"score":0,"creation_date":1571322803,"post_id":58434361,"comment_id":103210431,"body_markdown":"From OffsetDateTime documentation I see the following: &quot;It is intended that {@code ZonedDateTime} or {@code Instant} is used to model data\n in simpler applications. This class may be used when modeling date-time concepts in more detail, or when communicating to a database or in a network protocol.&quot; Very confusing. My problem is that I&#39;m actually using Instant and it works, but I need to know if have any guarantee on it.","body":"From OffsetDateTime documentation I see the following: &quot;It is intended that {@code ZonedDateTime} or {@code Instant} is used to model data  in simpler applications. This class may be used when modeling date-time concepts in more detail, or when communicating to a database or in a network protocol.&quot; Very confusing. My problem is that I&#39;m actually using Instant and it works, but I need to know if have any guarantee on it."},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":1,"creation_date":1571324152,"post_id":58434361,"comment_id":103211216,"body_markdown":"@mvb13 As per documentation, you are advised to use either `LocalDateTime` or `OffsetDateTime`.","body":"@mvb13 As per documentation, you are advised to use either <code>LocalDateTime</code> or <code>OffsetDateTime</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1571330529,"post_id":58434361,"comment_id":103214508,"body_markdown":"@mvb13 *Do not* use Instant unless the corresponding column is a `WITH TIMEZONE` column.  You do not want the database driver making assumptions about what timezone to use and converting your data in a way that might or might be correct.","body":"@mvb13 <i>Do not</i> use Instant unless the corresponding column is a <code>WITH TIMEZONE</code> column.  You do not want the database driver making assumptions about what timezone to use and converting your data in a way that might or might be correct."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1649203124,"post_id":58434361,"comment_id":126815179,"body_markdown":"While support for `Instant` is not *required* by JDBC 4.2 &amp; 4.3, a JDBC driver implementation can choose to support that type. Conversion is trivially easy for such a driver to implement using `Instant#atOffset( ZoneOffset.UTC )` and `OffsetDateTime#toInstant`. Using `Instant` with such a JDBC driver would be convenient but would make your code less portable.","body":"While support for <code>Instant</code> is not <i>required</i> by JDBC 4.2 &amp; 4.3, a JDBC driver implementation can choose to support that type. Conversion is trivially easy for such a driver to implement using <code>Instant#atOffset( ZoneOffset.UTC )</code> and <code>OffsetDateTime#toInstant</code>. Using <code>Instant</code> with such a JDBC driver would be convenient but would make your code less portable."},{"owner":{"account_id":3495915,"reputation":804,"user_id":2924138,"accept_rate":92,"display_name":"Tom C"},"score":0,"creation_date":1685026271,"post_id":58434361,"comment_id":134606446,"body_markdown":"Adding the updated [JDBC documentation link](https://jdbc.postgresql.org/documentation/query/#using-java-8-date-and-time-classes)","body":"Adding the updated <a href=\"https://jdbc.postgresql.org/documentation/query/#using-java-8-date-and-time-classes\" rel=\"nofollow noreferrer\">JDBC documentation link</a>"}],"tags":[],"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"comment_count":8,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1692952098,"creation_date":1571320480,"answer_id":58434361,"question_id":58434148,"body_markdown":"## Short answer\r\n\r\nAs per the [PostgreSQL JDBC driver documentation][3], [`Instant`][1] is not supported. But you shouldn&#39;t have issues with [`OffsetDateTime`][2] in UTC.\r\n\r\n---\r\n## Long answer\r\n\r\nThe [PostgreSQL JDBC driver documentation][3] mentions that a corresponding type for `TIMESTAMP [ WITHOUT TIMEZONE ]` is [`LocalDateTime`][4], but [`OffsetDateTime`][2] in UTC is also supported. On the other hand, [`Instant`][1] is not supported.\r\n\r\nSee the quote below:\r\n\r\n&gt;```\r\n&gt; +--------------------------------+----------------+\r\n&gt; | PostgreSQL™                    | Java SE 8      |\r\n&gt; +--------------------------------+----------------+\r\n&gt; | DATE                           | LocalDate      |\r\n&gt; | TIME [ WITHOUT TIMEZONE ]      | LocalTime      |\r\n&gt; | TIMESTAMP [ WITHOUT TIMEZONE ] | LocalDateTime  |\r\n&gt; | TIMESTAMP WITH TIMEZONE        | OffsetDateTime |\r\n&gt; +--------------------------------+----------------+\r\n&gt;```\r\n&gt;\r\n&gt; This is closely aligned with tables B-4 and B-5 of the JDBC 4.2 specification.\r\n&gt;\r\n&gt; **Note**  \r\n&gt; `ZonedDateTime`, `Instant` and `OffsetTime / TIME [ WITHOUT TIMEZONE ]` are not supported. Also note that all `OffsetDateTime` will instances will have be in UTC (have offset 0). This is because the backend stores them as UTC.\r\n\r\nAnd the [JDBC 4.2 specification][5] mention support for [`Instant`][1].\r\n\r\n---\r\n\r\nAlso see the following quote from the [`OffsetDateTime`][2] class documentation (highlight is mine):\r\n\r\n&gt; `OffsetDateTime`, `ZonedDateTime` and `Instant` all store an instant on the time-line to nanosecond precision. Instant is the simplest, simply representing the instant. `OffsetDateTime` adds to the instant the offset from UTC/Greenwich, which allows the local date-time to be obtained. `ZonedDateTime` adds full time-zone rules.\r\n&gt;\r\n&gt;It is intended that `ZonedDateTime` or `Instant` is used to model data in simpler applications. **This class may be used when modeling date-time concepts in more detail, or when communicating to a database or in a network protocol.**\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/Instant.html\r\n  [2]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [3]: https://jdbc.postgresql.org/documentation/query/\r\n  [4]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/LocalDateTime.html\r\n  [5]: https://download.oracle.com/otn-pub/jcp/jdbc-4_2-mrel2-spec/jdbc4.2-fr-spec.pdf\r\n  [6]: https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/ZonedDateTime.html","title":"What is better to persist in database: OffsetDateTime or Instant?","body":"<h2>Short answer</h2>\n<p>As per the <a href=\"https://jdbc.postgresql.org/documentation/query/\" rel=\"nofollow noreferrer\">PostgreSQL JDBC driver documentation</a>, <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> is not supported. But you shouldn't have issues with <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> in UTC.</p>\n<hr />\n<h2>Long answer</h2>\n<p>The <a href=\"https://jdbc.postgresql.org/documentation/query/\" rel=\"nofollow noreferrer\">PostgreSQL JDBC driver documentation</a> mentions that a corresponding type for <code>TIMESTAMP [ WITHOUT TIMEZONE ]</code> is <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a>, but <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> in UTC is also supported. On the other hand, <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> is not supported.</p>\n<p>See the quote below:</p>\n<blockquote>\n<pre><code>+--------------------------------+----------------+\n| PostgreSQL™                    | Java SE 8      |\n+--------------------------------+----------------+\n| DATE                           | LocalDate      |\n| TIME [ WITHOUT TIMEZONE ]      | LocalTime      |\n| TIMESTAMP [ WITHOUT TIMEZONE ] | LocalDateTime  |\n| TIMESTAMP WITH TIMEZONE        | OffsetDateTime |\n+--------------------------------+----------------+\n</code></pre>\n<p>This is closely aligned with tables B-4 and B-5 of the JDBC 4.2 specification.</p>\n<p><strong>Note</strong><br />\n<code>ZonedDateTime</code>, <code>Instant</code> and <code>OffsetTime / TIME [ WITHOUT TIMEZONE ]</code> are not supported. Also note that all <code>OffsetDateTime</code> will instances will have be in UTC (have offset 0). This is because the backend stores them as UTC.</p>\n</blockquote>\n<p>And the <a href=\"https://download.oracle.com/otn-pub/jcp/jdbc-4_2-mrel2-spec/jdbc4.2-fr-spec.pdf\" rel=\"nofollow noreferrer\">JDBC 4.2 specification</a> mention support for <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>.</p>\n<hr />\n<p>Also see the following quote from the <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> class documentation (highlight is mine):</p>\n<blockquote>\n<p><code>OffsetDateTime</code>, <code>ZonedDateTime</code> and <code>Instant</code> all store an instant on the time-line to nanosecond precision. Instant is the simplest, simply representing the instant. <code>OffsetDateTime</code> adds to the instant the offset from UTC/Greenwich, which allows the local date-time to be obtained. <code>ZonedDateTime</code> adds full time-zone rules.</p>\n<p>It is intended that <code>ZonedDateTime</code> or <code>Instant</code> is used to model data in simpler applications. <strong>This class may be used when modeling date-time concepts in more detail, or when communicating to a database or in a network protocol.</strong></p>\n</blockquote>\n"}],"owner":{"account_id":2605869,"reputation":1524,"user_id":2257052,"accept_rate":62,"display_name":"mvb13"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6203,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1692952098,"creation_date":1571319867,"question_id":58434148,"body_markdown":"I want to save a timestamp value into PostgreSQL database. Corresponding column is of the type `TIMESTAMP WITHOUT TIME ZONE`. \r\n\r\nAs input Java application gets epoch time (`long` value), that could be converted into `Instant` or `OffsetDateTime` with `ZoneOffset.UTC`.\r\n\r\nWhat is the best approach? Are there any drawbacks with any of this method? ","title":"What is better to persist in database: OffsetDateTime or Instant?","body":"<p>I want to save a timestamp value into PostgreSQL database. Corresponding column is of the type <code>TIMESTAMP WITHOUT TIME ZONE</code>.</p>\n<p>As input Java application gets epoch time (<code>long</code> value), that could be converted into <code>Instant</code> or <code>OffsetDateTime</code> with <code>ZoneOffset.UTC</code>.</p>\n<p>What is the best approach? Are there any drawbacks with any of this method?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":7,"creation_date":1692821616,"post_id":76964614,"comment_id":135677990,"body_markdown":"Those variables [shouldn&#39;t be static](https://technojeeves.com/index.php/aliasjava1/108-static-is-a-swear-word) Nor should the method","body":"Those variables <a href=\"https://technojeeves.com/index.php/aliasjava1/108-static-is-a-swear-word\" rel=\"nofollow noreferrer\">shouldn&#39;t be static</a> Nor should the method"},{"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"score":0,"creation_date":1692821770,"post_id":76964614,"comment_id":135678014,"body_markdown":"I tried making it not static but still experienced the same behavior.","body":"I tried making it not static but still experienced the same behavior."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1692821905,"post_id":76964614,"comment_id":135678036,"body_markdown":"That should not be the case. Why do you have two `boolean` variables that are the opposite of each other btw? Also you seem to be mixing two distinct concepts: a bean and a DTO of that bean, in the same class","body":"That should not be the case. Why do you have two <code>boolean</code> variables that are the opposite of each other btw? Also you seem to be mixing two distinct concepts: a bean and a DTO of that bean, in the same class"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692822089,"post_id":76964614,"comment_id":135678059,"body_markdown":"usually it is preferable to write `invalidPerson = (personData == null);` (and then there is no need to &quot;*reset*&quot; it)","body":"usually it is preferable to write <code>invalidPerson = (personData == null);</code> (and then there is no need to &quot;<i>reset</i>&quot; it)"},{"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"score":0,"creation_date":1692823269,"post_id":76964614,"comment_id":135678222,"body_markdown":"@user16320675 variables names are just some random names that I have used to demonstrate what I am doing in real case. In my case, either one can be true or both can be true without depending on each other.","body":"@user16320675 variables names are just some random names that I have used to demonstrate what I am doing in real case. In my case, either one can be true or both can be true without depending on each other."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692823763,"post_id":76964614,"comment_id":135678291,"body_markdown":"that doesn&#39;t change anything I wrote... actually not sure why you think that the names are relevant (for what I wrote) -- lets try different code: instead of `x = false; if (y == null) x = true;`, you *can* write just `x = (y == null);`  (assuming `boolean x`)","body":"that doesn&#39;t change anything I wrote... actually not sure why you think that the names are relevant (for what I wrote) -- lets try different code: instead of <code>x = false; if (y == null) x = true;</code>, you <i>can</i> write just <code>x = (y == null);</code>  (assuming <code>boolean x</code>)"}],"answers":[{"tags":[],"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692950918,"creation_date":1692903967,"answer_id":76972298,"question_id":76964614,"body_markdown":"Try this way. Make the variables non static and pass thesevariables from method 1 to 2, so you will not get the unrecognised variables error.\r\n\r\n```java\r\npublic class Person {\r\n\tpublic PersonDTO getPersonInfo(long personId) {\r\n        boolean validPerson = false;\r\n        boolean invalidPerson = false;\r\n\r\n        PersonDTO personDto = new PersonDTO();\r\n        var personList = // get from API\r\n\r\n        List&lt;AddressDTO&gt; addressDetails = personList.stream().map(p -&gt; getAddressList(..supply input..)).collect(Collectors.toList());\r\n        personDto.setIsValidPerson(validPerson);\r\n        personDto.setIsInvalidPerson(invalidPerson);\r\n        personDto.setAddressDetails(addressDetails);\r\n\r\n        return personDto;\r\n    }\r\n\r\n\tprivate List&lt;String&gt; getAddressList(String personData, boolean validPerson, boolean invalidPerson) {\r\n\t\tList&lt;String&gt; addressData = new ArrayList&lt;&gt;();\r\n\r\n\t\tif (personData == null) {\r\n\t\t\tinvalidPerson = true;\r\n\t\t} else {\r\n\t\t\tvalidPerson = true;\r\n\t\t\t// Process personData info to get addressData\r\n\t\t\t// ...\r\n\t\t}\r\n\r\n\t\treturn addressData;\r\n\t}\r\n}\r\n```\r\n","title":"How do I reset the boolean values in each method call?","body":"<p>Try this way. Make the variables non static and pass thesevariables from method 1 to 2, so you will not get the unrecognised variables error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    public PersonDTO getPersonInfo(long personId) {\n        boolean validPerson = false;\n        boolean invalidPerson = false;\n\n        PersonDTO personDto = new PersonDTO();\n        var personList = // get from API\n\n        List&lt;AddressDTO&gt; addressDetails = personList.stream().map(p -&gt; getAddressList(..supply input..)).collect(Collectors.toList());\n        personDto.setIsValidPerson(validPerson);\n        personDto.setIsInvalidPerson(invalidPerson);\n        personDto.setAddressDetails(addressDetails);\n\n        return personDto;\n    }\n\n    private List&lt;String&gt; getAddressList(String personData, boolean validPerson, boolean invalidPerson) {\n        List&lt;String&gt; addressData = new ArrayList&lt;&gt;();\n\n        if (personData == null) {\n            invalidPerson = true;\n        } else {\n            validPerson = true;\n            // Process personData info to get addressData\n            // ...\n        }\n\n        return addressData;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1692950918,"creation_date":1692821494,"question_id":76964614,"body_markdown":"I have this class,\r\n\r\n    public class Person {\r\n        private static boolean validPerson = false;\r\n        private static boolean invalidPerson = false;\r\n    \r\n        public PersonDTO getPersonInfo(long personId) {\r\n            PersonDTO personDto = new this.PersonDTO();\r\n            var personList = // get from API\r\n    \r\n            List&lt;AddressDTO&gt; addressDetails = personList.stream().map(p -&gt; getAddressList(..supply input..).collect(Collectors.toList()));\r\n            \r\n            personDto.setIsValidPerson(validPerson);\r\n            personDto.setIsInvalidPerson(invalidPerson);\r\n            personDto.setAddressDetails(addressDetails);\r\n    \r\n            return personDto;\r\n    \r\n        }\r\n    \r\n        private static List&lt;String&gt; getDddressList(String personData) {\r\n            if (personData == null) {\r\n                invalidPerson = true;\r\n            } else {\r\n                validPerson = true;\r\n                ...\r\n                ... // process personData info to get addressData\r\n            }\r\n    \r\n            return addressData;\r\n        }\r\n    }\r\n\r\nWhen I initially reload the page, then it returns the valid boolean data but when I reload the page, some of the boolean values are still the old ones.\r\n\r\nFor example, at the beginning of the call, value of `validPerson` will still be `true` instead of default value `false`.\r\n\r\nHow can I reset the boolean values each time `getPersonInfo` method gets called?","title":"How do I reset the boolean values in each method call?","body":"<p>I have this class,</p>\n<pre><code>public class Person {\n    private static boolean validPerson = false;\n    private static boolean invalidPerson = false;\n\n    public PersonDTO getPersonInfo(long personId) {\n        PersonDTO personDto = new this.PersonDTO();\n        var personList = // get from API\n\n        List&lt;AddressDTO&gt; addressDetails = personList.stream().map(p -&gt; getAddressList(..supply input..).collect(Collectors.toList()));\n        \n        personDto.setIsValidPerson(validPerson);\n        personDto.setIsInvalidPerson(invalidPerson);\n        personDto.setAddressDetails(addressDetails);\n\n        return personDto;\n\n    }\n\n    private static List&lt;String&gt; getDddressList(String personData) {\n        if (personData == null) {\n            invalidPerson = true;\n        } else {\n            validPerson = true;\n            ...\n            ... // process personData info to get addressData\n        }\n\n        return addressData;\n    }\n}\n</code></pre>\n<p>When I initially reload the page, then it returns the valid boolean data but when I reload the page, some of the boolean values are still the old ones.</p>\n<p>For example, at the beginning of the call, value of <code>validPerson</code> will still be <code>true</code> instead of default value <code>false</code>.</p>\n<p>How can I reset the boolean values each time <code>getPersonInfo</code> method gets called?</p>\n"},{"tags":["java","exception","equation","solver"],"owner":{"account_id":20535289,"reputation":1,"user_id":15071537,"display_name":"whyt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692950842,"creation_date":1692950034,"question_id":76975309,"body_markdown":"I have a class I created on yield to maturity calculation and I use BrentSolver() in common math to solve equations, but I got an exception when I tried to change my code.\r\n```java\r\ndouble lowerBound = 0.000;\r\ndouble upperBound = 35.000;\r\ndouble initialGuess = 0.01;\r\n\r\nUnivariateFunction ytmFunction = new UnivariateFunction() {\r\n    @Override\r\n    public double value(double ytm) {\r\n        double presentValue = 0.0;\r\n        int index = 1;\r\n        \r\n        for (Map.Entry&lt;Double, Double&gt; entry : series.getCashFlow().entrySet()) { // iterate cashflow.size times\r\n            double time = entry.getKey();\r\n            double cashFlow = entry.getValue();\r\n            \r\n            if (cashFlow &gt; faceValue) {\r\n                cashFlow = cashFlow - faceValue;\r\n                presentValue += (cashFlow/paymentFrequency) / Math.pow(1 + ytm/paymentFrequency, index); //numberOfPayments\r\n                continue; // Skip the current iteration and move to the next one\r\n            }\r\n            \r\n            presentValue += (cashFlow/paymentFrequency) / Math.pow(1 + ytm/paymentFrequency, index);\r\n            index++;\r\n        }\r\n        presentValue += faceValue / Math.pow(1 + ytm/paymentFrequency, numOfPayments); // numOfPayments or maturity???\r\n        return savedPrice - presentValue;\r\n    }\r\n};\r\n\r\nUnivariateSolver solver = new BrentSolver(); \r\ndouble ytm = solver.solve(10000, ytmFunction, lowerBound, upperBound, initialGuess);\r\nreturn ytm;\r\n```\r\n\r\nI wanted to remove what I thought were unnecessary code blocks because I already have a value in my cashFlow map with faceValue+couponPayment, so I simplified the code:\r\n\r\n```java\r\ndouble lowerBound = 0.000;\r\ndouble upperBound = 35.000;\r\ndouble initialGuess = 0.01;\r\n\r\nUnivariateFunction ytmFunction = new UnivariateFunction() {\r\n    @Override\r\n    public double value(double ytm) {\r\n        double presentValue = 0.0;\r\n        int index = 1;\r\n        \r\n        for (Map.Entry&lt;Double, Double&gt; entry : series.getCashFlow().entrySet()) { // iterate cashflow.size times\r\n            double time = entry.getKey();\r\n            double cashFlow = entry.getValue();\r\n            presentValue += (cashFlow/paymentFrequency) / Math.pow(1 + ytm/paymentFrequency, index);\r\n            index++;\r\n        }\r\n        return savedPrice - presentValue;\r\n    }\r\n};\r\n\r\nUnivariateSolver solver = new BrentSolver(); \r\ndouble ytm = solver.solve(10000, ytmFunction, lowerBound, upperBound, initialGuess);\r\nreturn ytm;\r\n```\r\n\r\nThis way some ytm values ​​are printed but at one point I got the following error:\r\n\r\n```java\r\nException in thread &quot;main&quot; org.apache.commons.math3.exception.NoBracketingException:\r\n    function values at endpoints do not have different signs, endpoints: [0, 35],\r\n    values: [39.877, 96.209]\r\n    at org.apache.commons.math3.analysis.solvers.BrentSolver.doSolve(BrentSolver.java:132)\r\n    at org.apache.commons.math3.analysis.solvers.BaseAbstractUnivariateSolver.solve(BaseAbstractUnivariateSolver.java:199)\r\n\r\n```\r\n\r\nEven I didn&#39;t change any value, the code is supposed to work the same, what could be the error here?","title":"Common Math NoBracketingException on solving the equation","body":"<p>I have a class I created on yield to maturity calculation and I use BrentSolver() in common math to solve equations, but I got an exception when I tried to change my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double lowerBound = 0.000;\ndouble upperBound = 35.000;\ndouble initialGuess = 0.01;\n\nUnivariateFunction ytmFunction = new UnivariateFunction() {\n    @Override\n    public double value(double ytm) {\n        double presentValue = 0.0;\n        int index = 1;\n        \n        for (Map.Entry&lt;Double, Double&gt; entry : series.getCashFlow().entrySet()) { // iterate cashflow.size times\n            double time = entry.getKey();\n            double cashFlow = entry.getValue();\n            \n            if (cashFlow &gt; faceValue) {\n                cashFlow = cashFlow - faceValue;\n                presentValue += (cashFlow/paymentFrequency) / Math.pow(1 + ytm/paymentFrequency, index); //numberOfPayments\n                continue; // Skip the current iteration and move to the next one\n            }\n            \n            presentValue += (cashFlow/paymentFrequency) / Math.pow(1 + ytm/paymentFrequency, index);\n            index++;\n        }\n        presentValue += faceValue / Math.pow(1 + ytm/paymentFrequency, numOfPayments); // numOfPayments or maturity???\n        return savedPrice - presentValue;\n    }\n};\n\nUnivariateSolver solver = new BrentSolver(); \ndouble ytm = solver.solve(10000, ytmFunction, lowerBound, upperBound, initialGuess);\nreturn ytm;\n</code></pre>\n<p>I wanted to remove what I thought were unnecessary code blocks because I already have a value in my cashFlow map with faceValue+couponPayment, so I simplified the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double lowerBound = 0.000;\ndouble upperBound = 35.000;\ndouble initialGuess = 0.01;\n\nUnivariateFunction ytmFunction = new UnivariateFunction() {\n    @Override\n    public double value(double ytm) {\n        double presentValue = 0.0;\n        int index = 1;\n        \n        for (Map.Entry&lt;Double, Double&gt; entry : series.getCashFlow().entrySet()) { // iterate cashflow.size times\n            double time = entry.getKey();\n            double cashFlow = entry.getValue();\n            presentValue += (cashFlow/paymentFrequency) / Math.pow(1 + ytm/paymentFrequency, index);\n            index++;\n        }\n        return savedPrice - presentValue;\n    }\n};\n\nUnivariateSolver solver = new BrentSolver(); \ndouble ytm = solver.solve(10000, ytmFunction, lowerBound, upperBound, initialGuess);\nreturn ytm;\n</code></pre>\n<p>This way some ytm values ​​are printed but at one point I got the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; org.apache.commons.math3.exception.NoBracketingException:\n    function values at endpoints do not have different signs, endpoints: [0, 35],\n    values: [39.877, 96.209]\n    at org.apache.commons.math3.analysis.solvers.BrentSolver.doSolve(BrentSolver.java:132)\n    at org.apache.commons.math3.analysis.solvers.BaseAbstractUnivariateSolver.solve(BaseAbstractUnivariateSolver.java:199)\n\n</code></pre>\n<p>Even I didn't change any value, the code is supposed to work the same, what could be the error here?</p>\n"},{"tags":["java","javascript","windows","selenium","webdriver"],"comments":[{"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"score":0,"creation_date":1429270518,"post_id":29697402,"comment_id":47532097,"body_markdown":"example of the page?","body":"example of the page?"},{"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"score":0,"creation_date":1429270786,"post_id":29697402,"comment_id":47532257,"body_markdown":"You can consider twitter or linkedin home page for example, like when you scroll down more tweets appeared.","body":"You can consider twitter or linkedin home page for example, like when you scroll down more tweets appeared."},{"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"score":0,"creation_date":1429270819,"post_id":29697402,"comment_id":47532276,"body_markdown":"but there is no &quot;end&quot; on that pages","body":"but there is no &quot;end&quot; on that pages"},{"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"score":0,"creation_date":1429271172,"post_id":29697402,"comment_id":47532498,"body_markdown":"On Linkedin home page, when updates are finished it comes to an end and no more scrolling is possible.\nBut I just quoted these as an example.","body":"On Linkedin home page, when updates are finished it comes to an end and no more scrolling is possible. But I just quoted these as an example."},{"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"score":0,"creation_date":1429271858,"post_id":29697402,"comment_id":47532945,"body_markdown":"please try an example","body":"please try an example"},{"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"score":0,"creation_date":1429271888,"post_id":29697402,"comment_id":47532967,"body_markdown":"Lets just assume that there is an end on the above pages after 20 scrolls. I think it makes sense now!","body":"Lets just assume that there is an end on the above pages after 20 scrolls. I think it makes sense now!"}],"answers":[{"comments":[{"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"score":0,"creation_date":1429272965,"post_id":29698535,"comment_id":47533719,"body_markdown":"Thanks. I&#39;ll try it and let you know.","body":"Thanks. I&#39;ll try it and let you know."},{"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"score":0,"creation_date":1429294177,"post_id":29698535,"comment_id":47548559,"body_markdown":"it&#39;s not completely scrolling or what? Please tell me how and what are you doing? It could also be that you page is using some js framework and doing something unexpected.","body":"it&#39;s not completely scrolling or what? Please tell me how and what are you doing? It could also be that you page is using some js framework and doing something unexpected."},{"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"score":0,"creation_date":1429354456,"post_id":29698535,"comment_id":47567223,"body_markdown":"Page only scrolled down once and then it stops again.\nI am only using JavascriptExecutor for this. It shows error here:\nbool pageEnded = false; (against bool it shows error)\nAlso, error on this line as well:\n pageEnded = (String)js.executeScript(&quot;return document.readyState;&quot;) ? true;  (error against true)","body":"Page only scrolled down once and then it stops again. I am only using JavascriptExecutor for this. It shows error here: bool pageEnded = false; (against bool it shows error) Also, error on this line as well:  pageEnded = (String)js.executeScript(&quot;return document.readyState;&quot;) ? true;  (error against true)"}],"tags":[],"owner":{"account_id":4878540,"reputation":3416,"user_id":3932942,"accept_rate":83,"display_name":"Stan E"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429271845,"creation_date":1429271845,"answer_id":29698535,"question_id":29697402,"body_markdown":"So, I would do something like that:\r\n\r\n    bool pageEnded = false;\r\n    while (!pageEnded) {\r\n        JavascriptExecutor js = (JavascriptExecutor) Browser;\r\n        js.executeScript(&quot;window.scrollTo(0, document.body.offsetHeight);&quot;);\r\n        pageEnded = (String)js.executeScript(&quot;return document.readyState;&quot;) ? true;\r\n    }","title":"Scrolling an ajax page completely using selenium webdriver","body":"<p>So, I would do something like that:</p>\n\n<pre><code>bool pageEnded = false;\nwhile (!pageEnded) {\n    JavascriptExecutor js = (JavascriptExecutor) Browser;\n    js.executeScript(\"window.scrollTo(0, document.body.offsetHeight);\");\n    pageEnded = (String)js.executeScript(\"return document.readyState;\") ? true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"score":0,"creation_date":1429354963,"post_id":29710830,"comment_id":47567417,"body_markdown":"Hi Saifur,\n\nI tried your java equivalency code but it&#39;s not working.","body":"Hi Saifur,  I tried your java equivalency code but it&#39;s not working."},{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1429362723,"post_id":29710830,"comment_id":47570058,"body_markdown":"Can you provide more information what&#39;s not working? And what is the exception?","body":"Can you provide more information what&#39;s not working? And what is the exception?"},{"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"score":0,"creation_date":1429470402,"post_id":29710830,"comment_id":47602062,"body_markdown":"Hi Saifur,\nIt only doesn&#39;t scroll down the page. As far as exception is concerned there is no such exception.\nI&#39;ve tried scrollpage with it&#39;s method. It only scrolled down the page once.","body":"Hi Saifur, It only doesn&#39;t scroll down the page. As far as exception is concerned there is no such exception. I&#39;ve tried scrollpage with it&#39;s method. It only scrolled down the page once."},{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1429471560,"post_id":29710830,"comment_id":47602559,"body_markdown":"@FurqanUdDin Can you share the code you are using exactly? And possibly a screenshot/screencast of the page?","body":"@FurqanUdDin Can you share the code you are using exactly? And possibly a screenshot/screencast of the page?"},{"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"score":0,"creation_date":1429642049,"post_id":29710830,"comment_id":47691354,"body_markdown":"Hi Saifur,\n\nI can scrolled down the page manually many times like more than 10 times","body":"Hi Saifur,  I can scrolled down the page manually many times like more than 10 times"}],"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429364400,"creation_date":1429311910,"answer_id":29710830,"question_id":29697402,"body_markdown":"I had a page with similar functionality and another question I answered previously. I am not familiar with any generic way to know if page does not have any other elements on load. In my case the page is designed to load 40/80(forgot the exact count) element in each scroll. Since, most of the cases I know an estimated number of scroll(since I am using a test company and I know how many element present for that in db) I can estimate the number of scroll and did the following to handle that page.\r\n\r\n    public void ScrollPage(int counter)\r\n    {\r\n        const string script =\r\n            @&quot;window.scrollTo(0,Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight));&quot;;\r\n    \r\n    \r\n        int count = 0;\r\n    \r\n        while (count != counter)\r\n        {\r\n           IJavaScriptExecutor js = _driver as IJavaScriptExecutor;\r\n            js.ExecuteScript(script);\r\n    \r\n            Thread.Sleep(500);\r\n    \r\n            count++;\r\n        }\r\n    }\r\n\r\nSee my other answer [here](https://stackoverflow.com/questions/28662524/c-sharp-selenium-finding-element-on-continuously-growing-page)\r\n\r\n**Java equivalency code**\r\n\r\n    public void ScrollPage(int counter) throws InterruptedException {\r\n        \r\n            String script = &quot;window.scrollTo(0,Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight));&quot;;\r\n            int count = 0;\r\n    \r\n            while (count != counter)\r\n            {\r\n                ((JavascriptExecutor)driver).executeScript(script);\r\n    \r\n                Thread.sleep(500);\r\n                count++;\r\n            }\r\n        }\r\n\r\n&gt;**Use** \r\n\r\n    ScrollPage(10);\r\nin wherever the scroll is necessary","title":"Scrolling an ajax page completely using selenium webdriver","body":"<p>I had a page with similar functionality and another question I answered previously. I am not familiar with any generic way to know if page does not have any other elements on load. In my case the page is designed to load 40/80(forgot the exact count) element in each scroll. Since, most of the cases I know an estimated number of scroll(since I am using a test company and I know how many element present for that in db) I can estimate the number of scroll and did the following to handle that page.</p>\n\n<pre><code>public void ScrollPage(int counter)\n{\n    const string script =\n        @\"window.scrollTo(0,Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight));\";\n\n\n    int count = 0;\n\n    while (count != counter)\n    {\n       IJavaScriptExecutor js = _driver as IJavaScriptExecutor;\n        js.ExecuteScript(script);\n\n        Thread.Sleep(500);\n\n        count++;\n    }\n}\n</code></pre>\n\n<p>See my other answer <a href=\"https://stackoverflow.com/questions/28662524/c-sharp-selenium-finding-element-on-continuously-growing-page\">here</a></p>\n\n<p><strong>Java equivalency code</strong></p>\n\n<pre><code>public void ScrollPage(int counter) throws InterruptedException {\n\n        String script = \"window.scrollTo(0,Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight));\";\n        int count = 0;\n\n        while (count != counter)\n        {\n            ((JavascriptExecutor)driver).executeScript(script);\n\n            Thread.sleep(500);\n            count++;\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p><strong>Use</strong> </p>\n</blockquote>\n\n<pre><code>ScrollPage(10);\n</code></pre>\n\n<p>in wherever the scroll is necessary</p>\n"},{"tags":[],"owner":{"account_id":15039600,"reputation":179,"user_id":10854709,"display_name":"Abrogans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546473982,"creation_date":1546473982,"answer_id":54014777,"question_id":29697402,"body_markdown":"The best Way to do this is the following (implemented in Python):\r\n\r\n    import time\r\n\r\n    def loadFullPage(Timeout):\r\n        reachedbottom = None\r\n        while not reachedbottom:\r\n            #scroll one pane down\r\n            driver.execute_script(&quot;window.scrollTo(0,Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight));&quot;);\r\n            time.sleep(Timeout)\r\n            #check if the bottom is reached\r\n            a = driver.execute_script(&quot;return document.documentElement.scrollTop;&quot;)\r\n            b = driver.execute_script(&quot;return document.documentElement.scrollHeight - document.documentElement.clientHeight;&quot;)\r\n            relativeHeight = a / b\r\n            if(relativeHeight==1):\r\n                reachedbottom = True\r\n\r\nYou have to find a efficient Timeout for your internet connection. A timeout of 3 seconds worked well for me.\r\n\r\n\r\n","title":"Scrolling an ajax page completely using selenium webdriver","body":"<p>The best Way to do this is the following (implemented in Python):</p>\n\n<pre><code>import time\n\ndef loadFullPage(Timeout):\n    reachedbottom = None\n    while not reachedbottom:\n        #scroll one pane down\n        driver.execute_script(\"window.scrollTo(0,Math.max(document.documentElement.scrollHeight,document.body.scrollHeight,document.documentElement.clientHeight));\");\n        time.sleep(Timeout)\n        #check if the bottom is reached\n        a = driver.execute_script(\"return document.documentElement.scrollTop;\")\n        b = driver.execute_script(\"return document.documentElement.scrollHeight - document.documentElement.clientHeight;\")\n        relativeHeight = a / b\n        if(relativeHeight==1):\n            reachedbottom = True\n</code></pre>\n\n<p>You have to find a efficient Timeout for your internet connection. A timeout of 3 seconds worked well for me.</p>\n"},{"tags":[],"owner":{"account_id":1904855,"reputation":3361,"user_id":1719931,"accept_rate":40,"display_name":"robertspierre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692950405,"creation_date":1692950405,"answer_id":76975366,"question_id":29697402,"body_markdown":"This scrolls down the page until the DOM doesn&#39;t change anymore (we are in the case of the bottom of the page being AJAX lazy-loaded, code in Python):\r\n\r\n    def scrollDown(driver, value):\r\n        driver.execute_script(&quot;window.scrollBy(0,&quot;+str(value)+&quot;)&quot;)\r\n\r\n    # Scroll down the page\r\n    def scrollDownAllTheWay(driver, max_scrolls=20):\r\n        old_page = driver.page_source\r\n        for i in range(0,max_scrolls):\r\n            logging.debug(&quot;Scrolling loop&quot;)\r\n            for i in range(2):\r\n                scrollDown(driver, 500)\r\n                time.sleep(2)\r\n            new_page = driver.page_source\r\n            if new_page != old_page:\r\n                old_page = new_page\r\n            else:\r\n                break\r\n        return True","title":"Scrolling an ajax page completely using selenium webdriver","body":"<p>This scrolls down the page until the DOM doesn't change anymore (we are in the case of the bottom of the page being AJAX lazy-loaded, code in Python):</p>\n<pre><code>def scrollDown(driver, value):\n    driver.execute_script(&quot;window.scrollBy(0,&quot;+str(value)+&quot;)&quot;)\n\n# Scroll down the page\ndef scrollDownAllTheWay(driver, max_scrolls=20):\n    old_page = driver.page_source\n    for i in range(0,max_scrolls):\n        logging.debug(&quot;Scrolling loop&quot;)\n        for i in range(2):\n            scrollDown(driver, 500)\n            time.sleep(2)\n        new_page = driver.page_source\n        if new_page != old_page:\n            old_page = new_page\n        else:\n            break\n    return True\n</code></pre>\n"}],"owner":{"account_id":6158341,"reputation":47,"user_id":4800671,"display_name":"Furqan Ud Din"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1286,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1692950405,"creation_date":1429268559,"question_id":29697402,"body_markdown":"I am trying to scroll a page completely using this code:\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) Browser;\r\n    js.executeScript(&quot;javascript:window.onload=toBottom();&quot;+\r\n    \t\t\t\t\t                       &quot;function toBottom(){&quot; +&quot;window.scrollTo(0,Math.max(document.documentElement.scrollHeight,&quot; +&quot;document.body.scrollHeight,document.documentElement.clientHeight));&quot; +&quot;}&quot;);\r\n    js.executeScript(&quot;window.status = &#39;fail&#39;;&quot;);\r\n    \r\n    //Attach the Ajax call back method\r\n    js.executeScript( &quot;$(document).ajaxComplete(function() {&quot; + &quot;status = &#39;success&#39;;});&quot;);\r\n    js.executeScript(&quot;window.status = &#39;fail&#39;;&quot;);\r\n    \r\n    //Attach the Ajax call back method\r\n    js.executeScript( &quot;$(document).ajaxComplete(function() {&quot; +&quot;status = &#39;success&#39;;});&quot;);\r\n\r\nThis code works fine and scroll the page for the first attempt but when page is scrolled down, new data appears at the page and this code failed to scroll it again.\r\nSo what I need is that someone will help me to scroll the page till end until scrolling is completed.\r\n\r\nDo I use any loop for this?\r\n\r\nHelp/Suggestions/Response will be appreciated!","title":"Scrolling an ajax page completely using selenium webdriver","body":"<p>I am trying to scroll a page completely using this code:</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) Browser;\njs.executeScript(\"javascript:window.onload=toBottom();\"+\n                                           \"function toBottom(){\" +\"window.scrollTo(0,Math.max(document.documentElement.scrollHeight,\" +\"document.body.scrollHeight,document.documentElement.clientHeight));\" +\"}\");\njs.executeScript(\"window.status = 'fail';\");\n\n//Attach the Ajax call back method\njs.executeScript( \"$(document).ajaxComplete(function() {\" + \"status = 'success';});\");\njs.executeScript(\"window.status = 'fail';\");\n\n//Attach the Ajax call back method\njs.executeScript( \"$(document).ajaxComplete(function() {\" +\"status = 'success';});\");\n</code></pre>\n\n<p>This code works fine and scroll the page for the first attempt but when page is scrolled down, new data appears at the page and this code failed to scroll it again.\nSo what I need is that someone will help me to scroll the page till end until scrolling is completed.</p>\n\n<p>Do I use any loop for this?</p>\n\n<p>Help/Suggestions/Response will be appreciated!</p>\n"},{"tags":["java","spring","spring-boot","maven","tomcat"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1631605149,"post_id":69173732,"comment_id":122260309,"body_markdown":"I doubt all your jars are from 2.4.2. Looks like you are using incompatible versions, without seeing your dependencies (pom or build file) this will be impossible to pin-point. But something is pulling in an incompatible version.","body":"I doubt all your jars are from 2.4.2. Looks like you are using incompatible versions, without seeing your dependencies (pom or build file) this will be impossible to pin-point. But something is pulling in an incompatible version."}],"answers":[{"comments":[{"owner":{"account_id":2666781,"reputation":1100,"user_id":2305034,"display_name":"Endery"},"score":1,"creation_date":1692946135,"post_id":76920695,"comment_id":135696250,"body_markdown":"Please do not comment you own answer, make an edit.","body":"Please do not comment you own answer, make an edit."},{"owner":{"account_id":2666781,"reputation":1100,"user_id":2305034,"display_name":"Endery"},"score":0,"creation_date":1692946176,"post_id":76920695,"comment_id":135696256,"body_markdown":"Used comment to explain own answer.","body":"Used comment to explain own answer."}],"tags":[],"owner":{"account_id":26018743,"reputation":1,"user_id":19726729,"display_name":"Jayson Xia"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692950118,"creation_date":1692268580,"answer_id":76920695,"question_id":69173732,"body_markdown":"it can be started normally after removal excess dependence in pom.xml \r\n    `&lt;!--dependency&gt; \r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt; \r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt; \r\n        &lt;version&gt;4.2.5.RELEASE&lt;/version&gt; \r\n    &lt;/dependency--&gt; \r\n    &lt;dependency&gt; \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \r\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; \r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; \r\n    &lt;/dependency&gt;`\r\n\r\n","title":"java.lang.AbstractMethodError: org.springframework.boot.env.EnvironmentPostProcessorApplicationListener error","body":"<p>it can be started normally after removal excess dependence in pom.xml\n<code>&lt;!--dependency&gt;  &lt;groupId&gt;org.springframework&lt;/groupId&gt;  &lt;artifactId&gt;spring-context&lt;/artifactId&gt;  &lt;version&gt;4.2.5.RELEASE&lt;/version&gt;  &lt;/dependency--&gt;  &lt;dependency&gt;  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;  &lt;/dependency&gt; &lt;dependency&gt;  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;  &lt;/dependency&gt;</code></p>\n"}],"owner":{"account_id":12586219,"reputation":107,"user_id":9155008,"display_name":"Neela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5289,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692950118,"creation_date":1631605030,"question_id":69173732,"body_markdown":"My Spring moot application was working fine from my local. But all of a sudden I am getting the below error when I start my tomcat server from STS. I am clueless why am getting this error.\r\n\r\nThe error details,\r\n\r\n    Exception in thread &quot;main&quot; java.lang.AbstractMethodError: \r\n        org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.supportsSourceType(Ljava/lang/Class;)Z\r\n        at org.springframework.context.event.GenericApplicationListenerAdapter.supportsSourceType(GenericApplicationListenerAdapter.java)\r\n        org.springframework.context.event.GenericApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMultiCaster.java)\r\n        org.springframework.context.event.GenericApplicationEventMulticaster.retrieveApplicationListeneres(AbstractApplicationEventMultiCaster.java)\r\n        ....\r\n        at java.util.ArrayList.forEach(ArrayList.java:1257)\r\n        ....\r\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringAppliccation.java 362)\r\n        at org.Springframework.boot.ApringApplication.run(SpringApplication.java:320)\r\n        at org.Springframework.boot.ApringApplication.run(SpringApplication.java:1309)\r\n        at org.Springframework.boot.ApringApplication.run(SpringApplication.java:1298)\r\n        at com.test.Application.main(Application.java)\r\n\r\nAm using java 8 and it is a Spring Boot project of version 2.4.2. I even tried to delete all my jars from the .m2 folder and installed them again. But the same issue, am facing.\r\n\r\nPlease help me to get a solution for this issue.\r\n","title":"java.lang.AbstractMethodError: org.springframework.boot.env.EnvironmentPostProcessorApplicationListener error","body":"<p>My Spring moot application was working fine from my local. But all of a sudden I am getting the below error when I start my tomcat server from STS. I am clueless why am getting this error.</p>\n<p>The error details,</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.AbstractMethodError: \n    org.springframework.boot.env.EnvironmentPostProcessorApplicationListener.supportsSourceType(Ljava/lang/Class;)Z\n    at org.springframework.context.event.GenericApplicationListenerAdapter.supportsSourceType(GenericApplicationListenerAdapter.java)\n    org.springframework.context.event.GenericApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMultiCaster.java)\n    org.springframework.context.event.GenericApplicationEventMulticaster.retrieveApplicationListeneres(AbstractApplicationEventMultiCaster.java)\n    ....\n    at java.util.ArrayList.forEach(ArrayList.java:1257)\n    ....\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringAppliccation.java 362)\n    at org.Springframework.boot.ApringApplication.run(SpringApplication.java:320)\n    at org.Springframework.boot.ApringApplication.run(SpringApplication.java:1309)\n    at org.Springframework.boot.ApringApplication.run(SpringApplication.java:1298)\n    at com.test.Application.main(Application.java)\n</code></pre>\n<p>Am using java 8 and it is a Spring Boot project of version 2.4.2. I even tried to delete all my jars from the .m2 folder and installed them again. But the same issue, am facing.</p>\n<p>Please help me to get a solution for this issue.</p>\n"},{"tags":["java","spring-boot","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1692789772,"post_id":76960686,"comment_id":135671420,"body_markdown":"Please have a look at the full stack-trace of the error. I suspect it gets thrown by `XWPFDocument doc = new XWPFDocument(inputStream);`. Then `inputStream` seems stream wrong content. Thus `byteArray` contains wrong content. Thus `template.getContent()` gets wrong content from database.","body":"Please have a look at the full stack-trace of the error. I suspect it gets thrown by <code>XWPFDocument doc = new XWPFDocument(inputStream);</code>. Then <code>inputStream</code> seems stream wrong content. Thus <code>byteArray</code> contains wrong content. Thus <code>template.getContent()</code> gets wrong content from database."},{"owner":{"account_id":23937298,"reputation":1,"user_id":22434525,"display_name":"Nelvan Resi"},"score":0,"creation_date":1692949859,"post_id":76960686,"comment_id":135696941,"body_markdown":"@AxelRichter This problem is because the byteArray input is corrupted. I tried to use get byte array from database by consuming antother service endpoint through feign client. That feign client giving response not only byte array response but an object that has bytearray property and also other property. I created new endpoint that give byteArray response only then now working perfectly","body":"@AxelRichter This problem is because the byteArray input is corrupted. I tried to use get byte array from database by consuming antother service endpoint through feign client. That feign client giving response not only byte array response but an object that has bytearray property and also other property. I created new endpoint that give byteArray response only then now working perfectly"}],"answers":[{"tags":[],"owner":{"account_id":23937298,"reputation":1,"user_id":22434525,"display_name":"Nelvan Resi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692949799,"creation_date":1692949799,"answer_id":76975283,"question_id":76960686,"body_markdown":"This problem is because the byteArray input is corrupted. I tried to use get byte array from database by consuming antother service endpoint through feign client. That feign client giving response not only byte array response but an object that has bytearray property and also other property. I created new endpoint that give byteArray response only then now working perfectly","title":"Apache POI failed to read uploaded docx. Giving error No valid entries or contents found, this is not a valid OOXML (Office Open XML) file","body":"<p>This problem is because the byteArray input is corrupted. I tried to use get byte array from database by consuming antother service endpoint through feign client. That feign client giving response not only byte array response but an object that has bytearray property and also other property. I created new endpoint that give byteArray response only then now working perfectly</p>\n"}],"owner":{"account_id":23937298,"reputation":1,"user_id":22434525,"display_name":"Nelvan Resi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76975283,"answer_count":1,"score":0,"last_activity_date":1692949799,"creation_date":1692787982,"question_id":76960686,"body_markdown":"I tried to extract uploaded docx file then want to get the paragraphs to be displayed in jasper  report pdf. But when i tried to read the file using apache POI it giving this error :\r\n\r\n```\r\norg.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file|\r\n```\r\nDon&#39;t how to solve this.\r\n\r\nThis docx file is uploaded then saved in byte array format in database. After get the data, then want to extract it, it didn&#39;t work.\r\n\r\nHere&#39;s my code\r\n\r\n\r\n```\r\nfinal var docx = fromByteArray(template.getContent());\r\n\r\n// template.getContent() is the byteArray from database\r\n\r\n```\r\n\r\n\r\nthen for the ***fromByteArray function*** be like this\r\n\r\n```\r\npublic static KcDocx fromByteArray(byte[] byteArray) {\r\n    try {\r\n      ByteArrayInputStream inputStream = new ByteArrayInputStream(byteArray);\r\n\r\n      KcDocx var3;\r\n      try {\r\n        XWPFDocument doc = new XWPFDocument(inputStream);\r\n        var3 = KcDocx.buildDoc(doc);\r\n      } catch (Throwable var5) {\r\n        try {\r\n          inputStream.close();\r\n        } catch (Throwable var4) {\r\n          var5.addSuppressed(var4);\r\n        }\r\n\r\n        throw var5;\r\n      }\r\n\r\n      inputStream.close();\r\n      return var3;\r\n    } catch (IOException var6) {\r\n      log.warn(&quot;KcDocReaderBytes&quot;, var6);\r\n      throw new RuntimeException(var6);\r\n    }\r\n  }\r\n\r\n```\r\n\r\nthen for the ***KCDocx class*** that cointain ***buildDoc function***\r\n\r\n```\r\npublic class KcDocx {\r\n  @Generated\r\n  private static final Logger log = LoggerFactory.getLogger(&quot;WORKBOOK_LOGGER&quot;);\r\n  private final List&lt;KcDocxParagraph&gt; paragraphs = new ArrayList();\r\n  private final Set&lt;KcDocxParagraph.Styling&gt; styling = new HashSet();\r\n  private boolean hasBulletOrNumberingList = false;\r\n\r\n  public static KcDocx buildDoc(XWPFDocument document) {\r\n    KcDocx doc = new KcDocx();\r\n    doc.hasBulletOrNumberingList = document.getNumbering() != null;\r\n    Stream var10000 = document.getParagraphs().stream().filter((paragraph) -&gt; {\r\n      return StringUtils.isNotEmpty(paragraph.getText());\r\n    });\r\n    Objects.requireNonNull(doc);\r\n    List&lt;KcDocxParagraph&gt; extractedParagraph = (List)var10000.map(doc::extract).collect(Collectors.toList());\r\n    doc.paragraphs.addAll(extractedParagraph);\r\n    log.debug(&quot;Extracted document content is empty {} or contains table {}&quot;, doc.paragraphs.isEmpty(), !document.getTables().isEmpty());\r\n    return doc;\r\n  }\r\n}\r\n```\r\n\r\n","title":"Apache POI failed to read uploaded docx. Giving error No valid entries or contents found, this is not a valid OOXML (Office Open XML) file","body":"<p>I tried to extract uploaded docx file then want to get the paragraphs to be displayed in jasper  report pdf. But when i tried to read the file using apache POI it giving this error :</p>\n<pre><code>org.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file|\n</code></pre>\n<p>Don't how to solve this.</p>\n<p>This docx file is uploaded then saved in byte array format in database. After get the data, then want to extract it, it didn't work.</p>\n<p>Here's my code</p>\n<pre><code>final var docx = fromByteArray(template.getContent());\n\n// template.getContent() is the byteArray from database\n\n</code></pre>\n<p>then for the <em><strong>fromByteArray function</strong></em> be like this</p>\n<pre><code>public static KcDocx fromByteArray(byte[] byteArray) {\n    try {\n      ByteArrayInputStream inputStream = new ByteArrayInputStream(byteArray);\n\n      KcDocx var3;\n      try {\n        XWPFDocument doc = new XWPFDocument(inputStream);\n        var3 = KcDocx.buildDoc(doc);\n      } catch (Throwable var5) {\n        try {\n          inputStream.close();\n        } catch (Throwable var4) {\n          var5.addSuppressed(var4);\n        }\n\n        throw var5;\n      }\n\n      inputStream.close();\n      return var3;\n    } catch (IOException var6) {\n      log.warn(&quot;KcDocReaderBytes&quot;, var6);\n      throw new RuntimeException(var6);\n    }\n  }\n\n</code></pre>\n<p>then for the <em><strong>KCDocx class</strong></em> that cointain <em><strong>buildDoc function</strong></em></p>\n<pre><code>public class KcDocx {\n  @Generated\n  private static final Logger log = LoggerFactory.getLogger(&quot;WORKBOOK_LOGGER&quot;);\n  private final List&lt;KcDocxParagraph&gt; paragraphs = new ArrayList();\n  private final Set&lt;KcDocxParagraph.Styling&gt; styling = new HashSet();\n  private boolean hasBulletOrNumberingList = false;\n\n  public static KcDocx buildDoc(XWPFDocument document) {\n    KcDocx doc = new KcDocx();\n    doc.hasBulletOrNumberingList = document.getNumbering() != null;\n    Stream var10000 = document.getParagraphs().stream().filter((paragraph) -&gt; {\n      return StringUtils.isNotEmpty(paragraph.getText());\n    });\n    Objects.requireNonNull(doc);\n    List&lt;KcDocxParagraph&gt; extractedParagraph = (List)var10000.map(doc::extract).collect(Collectors.toList());\n    doc.paragraphs.addAll(extractedParagraph);\n    log.debug(&quot;Extracted document content is empty {} or contains table {}&quot;, doc.paragraphs.isEmpty(), !document.getTables().isEmpty());\n    return doc;\n  }\n}\n</code></pre>\n"},{"tags":["java","ssl","apache-camel","quarkus"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693128949,"post_id":76975277,"comment_id":135717003,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76975277/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29078969,"reputation":1,"user_id":22275443,"display_name":"Zineb BENDHIBA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692949780,"creation_date":1692949780,"answer_id":76975277,"question_id":76841965,"body_markdown":"I&#39;m not an expert, but if I recall that problem occurs when reaching to localhost with SSL. \r\nIn this example, I registred the X509HostnameVerifier as NoopHostnameVerifier instance, and I refer to this one in my Route. I guess there are other ways of configuring this.\r\n\r\nhttps://github.com/apache/camel-quarkus/blob/main/integration-tests/platform-http-proxy-ssl/src/main/java/org/apache/camel/quarkus/component/platform/http/proxy/ssl/it/Routes.java\r\n\r\nI hope this helps.","title":"How to configure SSL to call other REST services through dynamic url in Apcahe Camel Method tod","body":"<p>I'm not an expert, but if I recall that problem occurs when reaching to localhost with SSL.\nIn this example, I registred the X509HostnameVerifier as NoopHostnameVerifier instance, and I refer to this one in my Route. I guess there are other ways of configuring this.</p>\n<p><a href=\"https://github.com/apache/camel-quarkus/blob/main/integration-tests/platform-http-proxy-ssl/src/main/java/org/apache/camel/quarkus/component/platform/http/proxy/ssl/it/Routes.java\" rel=\"nofollow noreferrer\">https://github.com/apache/camel-quarkus/blob/main/integration-tests/platform-http-proxy-ssl/src/main/java/org/apache/camel/quarkus/component/platform/http/proxy/ssl/it/Routes.java</a></p>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692949780,"creation_date":1691243669,"question_id":76841965,"body_markdown":"\r\nGood morning, I am currently working with apache camel and Quarkus and I am presented for the first time with a scenario that had not happened to me before, now I am working with dynamic url of the following type to call:\r\n\r\n    https://localhost:8080/users/{user}/customers\r\n\r\nThese services are in SSL, so the call to SSL must be configured, for non-dynamic url I used the following line:\r\n\r\n    .to(configureSsl.setupSSLContext(getCamelContext(), &quot;https://localhost:8081/api/FindPrepaidAccountByDocument&quot;))\r\n\r\nWhere my ConfigureSSL class is as follows:\r\n\r\n    package org.tmve.customer.ms.route;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.camel.CamelContext;\r\n    import org.apache.camel.Endpoint;\r\n    import org.apache.camel.component.http.HttpComponent;\r\n    import org.apache.camel.support.jsse.KeyManagersParameters;\r\n    import org.apache.camel.support.jsse.KeyStoreParameters;\r\n    import org.apache.camel.support.jsse.SSLContextParameters;\r\n    import org.apache.camel.support.jsse.TrustManagersParameters;\r\n    import org.apache.http.conn.ssl.AllowAllHostnameVerifier;\r\n    import org.eclipse.microprofile.config.ConfigProvider;\r\n    \r\n    @Slf4j\r\n    public class ConfigureSsl {\r\n    \t\r\n    \tprivate String password = ConfigProvider.getConfig().getValue(&quot;client.password&quot;, String.class);\r\n    \tprivate String resource = ConfigProvider.getConfig().getValue(&quot;client.file&quot;, String.class);\r\n    \t\r\n    \t public Endpoint setupSSLContext(CamelContext camelContext, String url) throws Exception {\r\n    \r\n    \t        KeyStoreParameters keyStoreParameters = new KeyStoreParameters();\r\n    \t\t\t/*log.info(resource);*/\r\n    \t\t\t/*log.info(password);*/\r\n    \t        keyStoreParameters.setResource(resource);\r\n    \t        keyStoreParameters.setPassword(password);\r\n    \r\n    \t        KeyManagersParameters keyManagersParameters = new KeyManagersParameters();\r\n    \t        keyManagersParameters.setKeyStore(keyStoreParameters);\r\n    \t        keyManagersParameters.setKeyPassword(password);\r\n    \t\t\t/*log.info(&quot;keyManagersParameters &quot;+ keyManagersParameters);*/\r\n    \r\n    \t        TrustManagersParameters trustManagersParameters = new TrustManagersParameters();\r\n    \t        trustManagersParameters.setKeyStore(keyStoreParameters);\r\n    \t\t \t/*log.info(&quot;trustManagersParameters &quot;+ trustManagersParameters);*/\r\n    \r\n    \t        SSLContextParameters sslContextParameters = new SSLContextParameters();\r\n    \t        sslContextParameters.setKeyManagers(keyManagersParameters);\r\n    \t        sslContextParameters.setTrustManagers(trustManagersParameters);\r\n    \t\t \t/*log.info(&quot;sslContextParameters &quot;+ sslContextParameters);*/\r\n    \r\n    \t        HttpComponent httpComponent = camelContext.getComponent(&quot;https&quot;, HttpComponent.class);\r\n    \t        httpComponent.setSslContextParameters(sslContextParameters);\r\n    \t        httpComponent.setX509HostnameVerifier(new AllowAllHostnameVerifier());\r\n    \t\t \t/*log.info(&quot;httpComponent &quot;+ httpComponent); */\r\n    \r\n    \t        return httpComponent.createEndpoint(url);\r\n    \t    }\r\n    \r\n    }\r\n\r\nBut now for the dynamic url I need to use the toD method of apache camel for dynamic url, however, I don&#39;t know how to configure the SSL part in dynamic url in the toD method, what I used for the non-dynamic url to method does not work for me in the toD method\r\n\r\n\r\nI tried like this but it gives me an error on the line:\r\n\r\n    .toD(configureSsl.setupSSLContext(getCamelContext(),&quot;https://localhost:8080/users/${exchangeProperty[user_id]}/customers?bridgeEndpoint=true&quot;))\r\n\r\n\r\nWhat can I do in this case to add my SSL configuration to my dynamic url in apache camel using the toD method, otherwise I get the following error:\r\n\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","title":"How to configure SSL to call other REST services through dynamic url in Apcahe Camel Method tod","body":"<p>Good morning, I am currently working with apache camel and Quarkus and I am presented for the first time with a scenario that had not happened to me before, now I am working with dynamic url of the following type to call:</p>\n<pre><code>https://localhost:8080/users/{user}/customers\n</code></pre>\n<p>These services are in SSL, so the call to SSL must be configured, for non-dynamic url I used the following line:</p>\n<pre><code>.to(configureSsl.setupSSLContext(getCamelContext(), &quot;https://localhost:8081/api/FindPrepaidAccountByDocument&quot;))\n</code></pre>\n<p>Where my ConfigureSSL class is as follows:</p>\n<pre><code>package org.tmve.customer.ms.route;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.Endpoint;\nimport org.apache.camel.component.http.HttpComponent;\nimport org.apache.camel.support.jsse.KeyManagersParameters;\nimport org.apache.camel.support.jsse.KeyStoreParameters;\nimport org.apache.camel.support.jsse.SSLContextParameters;\nimport org.apache.camel.support.jsse.TrustManagersParameters;\nimport org.apache.http.conn.ssl.AllowAllHostnameVerifier;\nimport org.eclipse.microprofile.config.ConfigProvider;\n\n@Slf4j\npublic class ConfigureSsl {\n    \n    private String password = ConfigProvider.getConfig().getValue(&quot;client.password&quot;, String.class);\n    private String resource = ConfigProvider.getConfig().getValue(&quot;client.file&quot;, String.class);\n    \n     public Endpoint setupSSLContext(CamelContext camelContext, String url) throws Exception {\n\n            KeyStoreParameters keyStoreParameters = new KeyStoreParameters();\n            /*log.info(resource);*/\n            /*log.info(password);*/\n            keyStoreParameters.setResource(resource);\n            keyStoreParameters.setPassword(password);\n\n            KeyManagersParameters keyManagersParameters = new KeyManagersParameters();\n            keyManagersParameters.setKeyStore(keyStoreParameters);\n            keyManagersParameters.setKeyPassword(password);\n            /*log.info(&quot;keyManagersParameters &quot;+ keyManagersParameters);*/\n\n            TrustManagersParameters trustManagersParameters = new TrustManagersParameters();\n            trustManagersParameters.setKeyStore(keyStoreParameters);\n            /*log.info(&quot;trustManagersParameters &quot;+ trustManagersParameters);*/\n\n            SSLContextParameters sslContextParameters = new SSLContextParameters();\n            sslContextParameters.setKeyManagers(keyManagersParameters);\n            sslContextParameters.setTrustManagers(trustManagersParameters);\n            /*log.info(&quot;sslContextParameters &quot;+ sslContextParameters);*/\n\n            HttpComponent httpComponent = camelContext.getComponent(&quot;https&quot;, HttpComponent.class);\n            httpComponent.setSslContextParameters(sslContextParameters);\n            httpComponent.setX509HostnameVerifier(new AllowAllHostnameVerifier());\n            /*log.info(&quot;httpComponent &quot;+ httpComponent); */\n\n            return httpComponent.createEndpoint(url);\n        }\n\n}\n</code></pre>\n<p>But now for the dynamic url I need to use the toD method of apache camel for dynamic url, however, I don't know how to configure the SSL part in dynamic url in the toD method, what I used for the non-dynamic url to method does not work for me in the toD method</p>\n<p>I tried like this but it gives me an error on the line:</p>\n<pre><code>.toD(configureSsl.setupSSLContext(getCamelContext(),&quot;https://localhost:8080/users/${exchangeProperty[user_id]}/customers?bridgeEndpoint=true&quot;))\n</code></pre>\n<p>What can I do in this case to add my SSL configuration to my dynamic url in apache camel using the toD method, otherwise I get the following error:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692946332,"post_id":76974810,"comment_id":135696285,"body_markdown":"If it&#39;s user input, it probably shouldn&#39;t be a constructor parameter. Try to rewrite your Parent and Child so they can be constructed without the input, and pass the parameter to their method(s).","body":"If it&#39;s user input, it probably shouldn&#39;t be a constructor parameter. Try to rewrite your Parent and Child so they can be constructed without the input, and pass the parameter to their method(s)."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1692946439,"post_id":76974810,"comment_id":135696308,"body_markdown":"How is the user input provided? Is it entered using some controller, is it entered from the console or something else? Can it change during the lifetime of your application?","body":"How is the user input provided? Is it entered using some controller, is it entered from the console or something else? Can it change during the lifetime of your application?"},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1692946686,"post_id":76974810,"comment_id":135696353,"body_markdown":"@dan1st : You can say it is input parameter via args ( console )","body":"@dan1st : You can say it is input parameter via args ( console )"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1692947054,"post_id":76974810,"comment_id":135696409,"body_markdown":"Are you using a system property? Did you try injecting [`ApplicationArguments`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationArguments.html) to `getParent`?","body":"Are you using a system property? Did you try injecting <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationArguments.html\" rel=\"nofollow noreferrer\"><code>ApplicationArguments</code></a> to <code>getParent</code>?"},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1692947716,"post_id":76974810,"comment_id":135696539,"body_markdown":"@dan1st : Can you please elaborate on this one ..","body":"@dan1st : Can you please elaborate on this one .."},{"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"score":0,"creation_date":1692947751,"post_id":76974810,"comment_id":135696550,"body_markdown":"@Jorn : Making sense, if it is user input, it should not be the constructor rather it could be setter method. Let me try this one.","body":"@Jorn : Making sense, if it is user input, it should not be the constructor rather it could be setter method. Let me try this one."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692949672,"creation_date":1692949672,"answer_id":76975260,"question_id":76974810,"body_markdown":"You can use [`ApplicationArguments`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationArguments.html) for accessing arguments to your Spring application.\r\n\r\nAn instance of this class is registered as a Spring bean and you can use it to access arguments to your application.\r\n\r\n```java\r\n    @Bean\r\n    @Scope(value = &quot;prototype&quot;)\r\n    public Parent getParent(ApplicationArguments args){\r\n        String name = args.getNonOptionArgs().get(0);//get the first argument that isn&#39;t passed (without -- before it)\r\n        //alternative: if it is passed as --personName=yourPersonName\r\n        String name = args.getOptionValues(&quot;personName&quot;).get(0);\r\n\r\n        return new Parent(name);\r\n    }\r\n```\r\n\r\nIf the name is passed as a system property, you can use `@Value` instead. In this example, I will assume that that the system property is called `person.name` (you can pass it as a JVM argument `-Dperson.name=yourName`):\r\n```java\r\n    @Bean\r\n    @Scope(value = &quot;prototype&quot;)\r\n    public Parent getParent(@Value(&quot;${person.name}&quot;) String name){\r\n        return new Parent(name);\r\n    }\r\n```","title":"Spring boot - Initialize bean which is dependent on user input","body":"<p>You can use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/ApplicationArguments.html\" rel=\"nofollow noreferrer\"><code>ApplicationArguments</code></a> for accessing arguments to your Spring application.</p>\n<p>An instance of this class is registered as a Spring bean and you can use it to access arguments to your application.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Scope(value = &quot;prototype&quot;)\n    public Parent getParent(ApplicationArguments args){\n        String name = args.getNonOptionArgs().get(0);//get the first argument that isn't passed (without -- before it)\n        //alternative: if it is passed as --personName=yourPersonName\n        String name = args.getOptionValues(&quot;personName&quot;).get(0);\n\n        return new Parent(name);\n    }\n</code></pre>\n<p>If the name is passed as a system property, you can use <code>@Value</code> instead. In this example, I will assume that that the system property is called <code>person.name</code> (you can pass it as a JVM argument <code>-Dperson.name=yourName</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Scope(value = &quot;prototype&quot;)\n    public Parent getParent(@Value(&quot;${person.name}&quot;) String name){\n        return new Parent(name);\n    }\n</code></pre>\n"}],"owner":{"account_id":2188579,"reputation":1604,"user_id":1936343,"accept_rate":48,"display_name":"voila"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1692949672,"creation_date":1692945568,"question_id":76974810,"body_markdown":"I am learning spring boot and came across a case where say I have two beans \r\n\r\n1. `Parent Bean` which depends on input `uniqueFamilyCode` for initialization. \r\n2. I have another bean `Child Bean` which depends on the `Parent Bean` for functionality. \r\n\r\nBelow is the snippet for `Parent Bean` \r\n\r\n```\r\npackage com.example.springdemo;\r\n\r\npublic class Parent {\r\n\r\n    String uniqueFamilyCode;\r\n\r\n    public Parent(String uniqueFamilyCode){\r\n        this.uniqueFamilyCode = uniqueFamilyCode;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nBelow is the snippet of `Child bean`\r\n\r\n```\r\npackage com.example.springdemo;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n\r\npublic class Child {\r\n\r\n    Parent parent;\r\n    public Child(Parent parent){\r\n        this.parent = parent;\r\n    }\r\n\r\n    public String getFamilyCode(){\r\n        return this.parent.uniqueFamilyCode;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nNow I want to manage it via Spring boot so I created a `Configuration class` like below \r\n\r\n```\r\n\r\npackage com.example.springdemo;\r\n\r\n\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Scope;\r\n\r\n@org.springframework.context.annotation.Configuration\r\n\r\npublic class FamilyConfig {\r\n\r\n    @Bean\r\n    public Child getChild(Parent parent){\r\n\r\n        return new Child(parent);\r\n    }\r\n\r\n    @Bean\r\n    @Scope(value = &quot;prototype&quot;)\r\n    public Parent getParent(String name){ --&gt; At this point intelliJ showing me error No bean of string type found\r\n\r\n        return new Parent(name);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nMy question is, how do I manage the `Parent` Bean in Spring Boot Way. \r\n\r\n\r\n**My Analysis** \r\n\r\n`Child Bean` depends on `Parent Bean` and `Parent Bean` depends on user input `uniqueFamilyCode`. \r\n\r\nSo spring boot at start-up time, can not initialize the `Parent Bean`, hence `Child Bean` also can not be initialized or any other that belongs to this graph. \r\n\r\nIf it is so, spring boot isn&#39;t good for such use cases or there are features to tackle such cases. \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring boot - Initialize bean which is dependent on user input","body":"<p>I am learning spring boot and came across a case where say I have two beans</p>\n<ol>\n<li><code>Parent Bean</code> which depends on input <code>uniqueFamilyCode</code> for initialization.</li>\n<li>I have another bean <code>Child Bean</code> which depends on the <code>Parent Bean</code> for functionality.</li>\n</ol>\n<p>Below is the snippet for <code>Parent Bean</code></p>\n<pre><code>package com.example.springdemo;\n\npublic class Parent {\n\n    String uniqueFamilyCode;\n\n    public Parent(String uniqueFamilyCode){\n        this.uniqueFamilyCode = uniqueFamilyCode;\n    }\n}\n\n\n</code></pre>\n<p>Below is the snippet of <code>Child bean</code></p>\n<pre><code>package com.example.springdemo;\n\nimport org.springframework.context.annotation.Configuration;\n\n\npublic class Child {\n\n    Parent parent;\n    public Child(Parent parent){\n        this.parent = parent;\n    }\n\n    public String getFamilyCode(){\n        return this.parent.uniqueFamilyCode;\n    }\n\n}\n\n</code></pre>\n<p>Now I want to manage it via Spring boot so I created a <code>Configuration class</code> like below</p>\n<pre><code>\npackage com.example.springdemo;\n\n\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Scope;\n\n@org.springframework.context.annotation.Configuration\n\npublic class FamilyConfig {\n\n    @Bean\n    public Child getChild(Parent parent){\n\n        return new Child(parent);\n    }\n\n    @Bean\n    @Scope(value = &quot;prototype&quot;)\n    public Parent getParent(String name){ --&gt; At this point intelliJ showing me error No bean of string type found\n\n        return new Parent(name);\n    }\n\n}\n\n</code></pre>\n<p>My question is, how do I manage the <code>Parent</code> Bean in Spring Boot Way.</p>\n<p><strong>My Analysis</strong></p>\n<p><code>Child Bean</code> depends on <code>Parent Bean</code> and <code>Parent Bean</code> depends on user input <code>uniqueFamilyCode</code>.</p>\n<p>So spring boot at start-up time, can not initialize the <code>Parent Bean</code>, hence <code>Child Bean</code> also can not be initialized or any other that belongs to this graph.</p>\n<p>If it is so, spring boot isn't good for such use cases or there are features to tackle such cases.</p>\n"},{"tags":["java","ssl","https","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1692947870,"post_id":76974973,"comment_id":135696575,"body_markdown":"**It doesn&#39;t match.** _In a cert_ wildcard &#39;*&#39; matches only _one_ DNS level (or formally label), not multiple and not zero. See [RFC6125](https://datatracker.ietf.org/doc/html/rfc6125#section-6.4.3) and if HTTPS [RFC2818](https://datatracker.ietf.org/doc/html/rfc2818#section-3.1)","body":"<b>It doesn&#39;t match.</b> <i>In a cert</i> wildcard &#39;*&#39; matches only <i>one</i> DNS level (or formally label), not multiple and not zero. See <a href=\"https://datatracker.ietf.org/doc/html/rfc6125#section-6.4.3\" rel=\"nofollow noreferrer\">RFC6125</a> and if HTTPS <a href=\"https://datatracker.ietf.org/doc/html/rfc2818#section-3.1\" rel=\"nofollow noreferrer\">RFC2818</a>"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1692948142,"post_id":76974973,"comment_id":135696634,"body_markdown":"@dave_thompson_085 please post that as the official answer!","body":"@dave_thompson_085 please post that as the official answer!"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692949521,"answer_count":0,"score":0,"last_activity_date":1692949590,"creation_date":1692947118,"question_id":76974973,"body_markdown":"Why I&#39;m getting this error, while the host I&#39;d like to establish the ssl connection with matches the wildcard from the Alternative names field of the certificate?\r\n\r\nWe use \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.9&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;g.i.t.n.c.com&gt; doesn&#39;t match any of the subject alternative names: [*.t.n.c.com]","body":"<p>Why I'm getting this error, while the host I'd like to establish the ssl connection with matches the wildcard from the Alternative names field of the certificate?</p>\n<p>We use</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":3,"creation_date":1604996908,"post_id":64762080,"comment_id":114510746,"body_markdown":"AFAIK, all this approaches don&#39;t work when `nativeQuery=true`","body":"AFAIK, all this approaches don&#39;t work when <code>nativeQuery=true</code>"},{"owner":{"account_id":16420077,"reputation":671,"user_id":11861493,"display_name":"Shoniisra"},"score":0,"creation_date":1655912610,"post_id":64762080,"comment_id":128446064,"body_markdown":"The second one is correct, only remove remove &quot;nativeQuery=true&quot;","body":"The second one is correct, only remove remove &quot;nativeQuery=true&quot;"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":1,"creation_date":1698591729,"post_id":64762080,"comment_id":136422210,"body_markdown":"[Projections](https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html)","body":"<a href=\"https://docs.spring.io/spring-data/jpa/reference/repositories/projections.html\" rel=\"nofollow noreferrer\">Projections</a>"}],"answers":[{"comments":[{"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"score":0,"creation_date":1624374784,"post_id":64764786,"comment_id":120338925,"body_markdown":"are you sure you can mix that &#39;new Entity(...)&#39; inside Native Query ?","body":"are you sure you can mix that &#39;new Entity(...)&#39; inside Native Query ?"},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1624375206,"post_id":64764786,"comment_id":120339107,"body_markdown":"I didn&#39;t realise that it is a native query. It won&#39;t work with a native query.","body":"I didn&#39;t realise that it is a native query. It won&#39;t work with a native query."},{"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"score":0,"creation_date":1624611503,"post_id":64764786,"comment_id":120411246,"body_markdown":"i&#39;ve added the answer which worked for me (native query and DTO interface - not an Entity)","body":"i&#39;ve added the answer which worked for me (native query and DTO interface - not an Entity)"}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1604994573,"creation_date":1604994573,"answer_id":64764786,"question_id":64762080,"body_markdown":"The second variant is pretty close. You just have to remove the aliases for the constructor expression:\r\n\r\n```java\r\nnew com.b2bwarehouse.Dto.RequestDto.StockDto.StockAkhirDto(\r\n    stock_akhir.product_id, \r\n    stock_akhir.product_code, \r\n    SUM(stock_akhir.qty)\r\n)\r\n```\r\nshould work.","title":"How to map sql native query result into DTO in spring jpa repository?","body":"<p>The second variant is pretty close. You just have to remove the aliases for the constructor expression:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new com.b2bwarehouse.Dto.RequestDto.StockDto.StockAkhirDto(\n    stock_akhir.product_id, \n    stock_akhir.product_code, \n    SUM(stock_akhir.qty)\n)\n</code></pre>\n<p>should work.</p>\n"},{"comments":[{"owner":{"account_id":3153451,"reputation":3590,"user_id":2666368,"accept_rate":79,"display_name":"Ke Vin"},"score":1,"creation_date":1605061983,"post_id":64776376,"comment_id":114535774,"body_markdown":"hi, it seems i can&#39;t import &quot;SqlResultSetMapping&quot;,&quot;ConstructorResult&quot; annotation what pom should i add to import that annotation?","body":"hi, it seems i can&#39;t import &quot;SqlResultSetMapping&quot;,&quot;ConstructorResult&quot; annotation what pom should i add to import that annotation?"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1605081786,"post_id":64776376,"comment_id":114540255,"body_markdown":"@KeVin This are standard jpa annotations (`@SqlResultSetMapping` was added in jpa 1.0 , `@ConstructorResult` was added in jpa 2.1) I have added imports to the code snippet.","body":"@KeVin This are standard jpa annotations (<code>@SqlResultSetMapping</code> was added in jpa 1.0 , <code>@ConstructorResult</code> was added in jpa 2.1) I have added imports to the code snippet."},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1650449150,"post_id":64776376,"comment_id":127116824,"body_markdown":"You have annotated your SomeEntity with @Entity - doesn&#39;t this make it a Entity (versus a DTO?) because it now wants a field for Id?","body":"You have annotated your SomeEntity with @Entity - doesn&#39;t this make it a Entity (versus a DTO?) because it now wants a field for Id?"},{"owner":{"account_id":11736247,"reputation":435,"user_id":8589908,"accept_rate":25,"display_name":"Radika Moonesinghe"},"score":0,"creation_date":1650450115,"post_id":64776376,"comment_id":127117187,"body_markdown":"@SternK your putting the results into a Entity not DTO?","body":"@SternK your putting the results into a Entity not DTO?"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1650459916,"post_id":64776376,"comment_id":127120978,"body_markdown":"@RadikaMoonesinghe The `SomeEntity` is not important here. I want to illustrate here only that  `@NamedNativeQuery` and `@SqlResultSetMapping` annotations should be placed on some entity.","body":"@RadikaMoonesinghe The <code>SomeEntity</code> is not important here. I want to illustrate here only that  <code>@NamedNativeQuery</code> and <code>@SqlResultSetMapping</code> annotations should be placed on some entity."}],"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":5,"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1605082178,"creation_date":1605040359,"answer_id":64776376,"question_id":64762080,"body_markdown":"You can define the following named native query with appropriate sql result set mapping:\r\n\r\n``` java\r\nimport javax.persistence.NamedNativeQuery;\r\nimport javax.persistence.SqlResultSetMapping;\r\nimport javax.persistence.ConstructorResult;\r\nimport javax.persistence.ColumnResult;\r\n\r\n@Entity\r\n@NamedNativeQuery(\r\n    name = &quot;find_stock_akhir_dto&quot;,\r\n    query =\r\n        &quot;SELECT &quot; + \r\n        &quot;  stock_akhir.product_id AS productId, &quot; + \r\n        &quot;  stock_akhir.product_code AS productCode, &quot; + \r\n        &quot;  SUM(stock_akhir.qty) as stockAkhir &quot; + \r\n        &quot;FROM book_stock stock_akhir &quot; + \r\n        &quot;where warehouse_code = :warehouseCode &quot; + \r\n        &quot;  AND product_code IN :productCodes &quot; + \r\n        &quot;GROUP BY product_id, product_code, warehouse_id, warehouse_code&quot;,\r\n    resultSetMapping = &quot;stock_akhir_dto&quot;\r\n)\r\n@SqlResultSetMapping(\r\n    name = &quot;stock_akhir_dto&quot;,\r\n    classes = @ConstructorResult(\r\n        targetClass = StockAkhirDto.class,\r\n        columns = {\r\n            @ColumnResult(name = &quot;productId&quot;, type = Long.class),\r\n            @ColumnResult(name = &quot;productCode&quot;, type = String.class),\r\n            @ColumnResult(name = &quot;stockAkhir&quot;, type = Integer.class)\r\n        }\r\n    )\r\n)\r\npublic class SomeEntity\r\n{\r\n}\r\n```\r\n\r\nand then use it:\r\n\r\n``` java\r\n@Repository\r\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\r\n\r\n   @Query(name = &quot;find_stock_akhir_dto&quot;, nativeQuery = true)\r\n   List&lt;StockAkhirDto&gt; findStockAkhirPerProductIn(\r\n      @Param(&quot;warehouseCode&quot;) String warehouseCode,\r\n      @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode\r\n   );\r\n}\r\n```","title":"How to map sql native query result into DTO in spring jpa repository?","body":"<p>You can define the following named native query with appropriate sql result set mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.NamedNativeQuery;\nimport javax.persistence.SqlResultSetMapping;\nimport javax.persistence.ConstructorResult;\nimport javax.persistence.ColumnResult;\n\n@Entity\n@NamedNativeQuery(\n    name = &quot;find_stock_akhir_dto&quot;,\n    query =\n        &quot;SELECT &quot; + \n        &quot;  stock_akhir.product_id AS productId, &quot; + \n        &quot;  stock_akhir.product_code AS productCode, &quot; + \n        &quot;  SUM(stock_akhir.qty) as stockAkhir &quot; + \n        &quot;FROM book_stock stock_akhir &quot; + \n        &quot;where warehouse_code = :warehouseCode &quot; + \n        &quot;  AND product_code IN :productCodes &quot; + \n        &quot;GROUP BY product_id, product_code, warehouse_id, warehouse_code&quot;,\n    resultSetMapping = &quot;stock_akhir_dto&quot;\n)\n@SqlResultSetMapping(\n    name = &quot;stock_akhir_dto&quot;,\n    classes = @ConstructorResult(\n        targetClass = StockAkhirDto.class,\n        columns = {\n            @ColumnResult(name = &quot;productId&quot;, type = Long.class),\n            @ColumnResult(name = &quot;productCode&quot;, type = String.class),\n            @ColumnResult(name = &quot;stockAkhir&quot;, type = Integer.class)\n        }\n    )\n)\npublic class SomeEntity\n{\n}\n</code></pre>\n<p>and then use it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\n\n   @Query(name = &quot;find_stock_akhir_dto&quot;, nativeQuery = true)\n   List&lt;StockAkhirDto&gt; findStockAkhirPerProductIn(\n      @Param(&quot;warehouseCode&quot;) String warehouseCode,\n      @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode\n   );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1897454,"reputation":1104,"user_id":1714078,"accept_rate":52,"display_name":"NRJ"},"score":0,"creation_date":1655296543,"post_id":65061782,"comment_id":128298216,"body_markdown":"Did the accepted answer ever work for you?","body":"Did the accepted answer ever work for you?"},{"owner":{"account_id":3153451,"reputation":3590,"user_id":2666368,"accept_rate":79,"display_name":"Ke Vin"},"score":0,"creation_date":1664984008,"post_id":65061782,"comment_id":130594454,"body_markdown":"@NRJ it worked at my question but i can&#39;t maintain too many &#39;NamedNativeQuery&#39; at my entity, plus i don&#39;t think i can build dynamic query with it so i never try to improve it anymore, so i still go with my answer till now (still the best option i have got)","body":"@NRJ it worked at my question but i can&#39;t maintain too many &#39;NamedNativeQuery&#39; at my entity, plus i don&#39;t think i can build dynamic query with it so i never try to improve it anymore, so i still go with my answer till now (still the best option i have got)"}],"tags":[],"owner":{"account_id":3153451,"reputation":3590,"user_id":2666368,"accept_rate":79,"display_name":"Ke Vin"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1606663632,"creation_date":1606663632,"answer_id":65061782,"question_id":64762080,"body_markdown":"i find a way which is not usual, but i find data type called **&quot;Tuple&quot;** when i try to use QueryDsl to solved this problem, but i won&#39;t recommend QueryDsl if you are just getting started just like me. Lets focus on how i do it with **&quot;Tuple&quot;**\r\n\r\ni changed my return type to **Tuple**, here is how my repository looked like :\r\n\r\n    @Repository\r\n    public interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\r\n        \r\n       @Query(value = &quot;SELECT stock_akhir.product_id AS productId, stock_akhir.product_code AS productCode, SUM(stock_akhir.qty) as stockAkhir &quot;\r\n            + &quot;FROM book_stock stock_akhir &quot;\r\n            + &quot;where warehouse_code = (:warehouseCode) &quot;\r\n            + &quot;AND product_code IN (:productCodes) &quot;\r\n            + &quot;GROUP BY product_id, product_code, warehouse_id, warehouse_code&quot;, nativeQuery = true)\r\n       List&lt;Tuple&gt; findStockAkhirPerProductIn(@Param(&quot;warehouseCode&quot;) String warehouseCode, @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode);\r\n    }\r\n\r\nand then here in my service class, since it&#39;s returned as Tuple, i have to map the column one by one manually, here is my service function looked like :\r\n\r\n    public List&lt;StockTotalResponseDto&gt; findStocktotal() {\r\n    \tList&lt;Tuple&gt; stockTotalTuples = stockRepository.findStocktotal();\r\n    \t\r\n        List&lt;StockTotalResponseDto&gt; stockTotalDto = stockTotalTuples.stream()\r\n                .map(t -&gt; new StockTotalResponseDto(\r\n                \t\tt.get(0, String.class), \r\n                \t\tt.get(1, String.class), \r\n                \t\tt.get(2, BigInteger.class)\r\n                \t\t))\r\n                .collect(Collectors.toList());\r\n        \r\n        return stockTotalDto;\r\n    }\r\n\r\nthe column field start with 0, in this way i can keep my query neat at Repository level. But i will accept SternK answer as the accepted answer because that way worked too, i will keep my answer here if someone need something like this","title":"How to map sql native query result into DTO in spring jpa repository?","body":"<p>i find a way which is not usual, but i find data type called <strong>&quot;Tuple&quot;</strong> when i try to use QueryDsl to solved this problem, but i won't recommend QueryDsl if you are just getting started just like me. Lets focus on how i do it with <strong>&quot;Tuple&quot;</strong></p>\n<p>i changed my return type to <strong>Tuple</strong>, here is how my repository looked like :</p>\n<pre><code>@Repository\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\n    \n   @Query(value = &quot;SELECT stock_akhir.product_id AS productId, stock_akhir.product_code AS productCode, SUM(stock_akhir.qty) as stockAkhir &quot;\n        + &quot;FROM book_stock stock_akhir &quot;\n        + &quot;where warehouse_code = (:warehouseCode) &quot;\n        + &quot;AND product_code IN (:productCodes) &quot;\n        + &quot;GROUP BY product_id, product_code, warehouse_id, warehouse_code&quot;, nativeQuery = true)\n   List&lt;Tuple&gt; findStockAkhirPerProductIn(@Param(&quot;warehouseCode&quot;) String warehouseCode, @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode);\n}\n</code></pre>\n<p>and then here in my service class, since it's returned as Tuple, i have to map the column one by one manually, here is my service function looked like :</p>\n<pre><code>public List&lt;StockTotalResponseDto&gt; findStocktotal() {\n    List&lt;Tuple&gt; stockTotalTuples = stockRepository.findStocktotal();\n    \n    List&lt;StockTotalResponseDto&gt; stockTotalDto = stockTotalTuples.stream()\n            .map(t -&gt; new StockTotalResponseDto(\n                    t.get(0, String.class), \n                    t.get(1, String.class), \n                    t.get(2, BigInteger.class)\n                    ))\n            .collect(Collectors.toList());\n    \n    return stockTotalDto;\n}\n</code></pre>\n<p>the column field start with 0, in this way i can keep my query neat at Repository level. But i will accept SternK answer as the accepted answer because that way worked too, i will keep my answer here if someone need something like this</p>\n"},{"comments":[{"owner":{"account_id":1676059,"reputation":2618,"user_id":1541619,"accept_rate":74,"display_name":"mvd"},"score":6,"creation_date":1637368209,"post_id":68105448,"comment_id":123816189,"body_markdown":"Spring can figure out how to read an interface to populate a projection, but not a POJO. Things can&#39;t just be simple can they? :)","body":"Spring can figure out how to read an interface to populate a projection, but not a POJO. Things can&#39;t just be simple can they? :)"},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1665811329,"post_id":68105448,"comment_id":130790461,"body_markdown":"cool +1. can you elaborate on the `SELECT new com.my_project.myDTO(p.id, p.age, p.name) .....`   approach. Atleast commenting with a reference should help.","body":"cool +1. can you elaborate on the <code>SELECT new com.my_project.myDTO(p.id, p.age, p.name) .....</code>   approach. Atleast commenting with a reference should help."}],"tags":[],"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1624968995,"creation_date":1624473472,"answer_id":68105448,"question_id":64762080,"body_markdown":"Create standard native @Query \r\n\r\n  \r\n\r\n    @Query(value = &quot;select id, age, name FROM Person WHERE age=?1&quot;, nativeQuery=true)\r\n    List&lt;PersonView&gt; getPersonsByAge(int age);\r\n\r\nand an interface\r\n\r\n    public interface PersonView {\r\n        Long getId();\r\n        Integer getAge();\r\n        String getName();\r\n    }\r\n\r\ncolumns are matched by order (not by names).\r\nIn this way, you have a native query, no entities and not too much boiler plate code (aka many annotations).\r\n\r\nHowever, resulting views (Jdk proxy etc.) are very slow in access, i had some code doing some grouping over a stream, and it&#39;s 10x !! slower than with standard DTO/Pojos !\r\nso at the end, I don&#39;t use nativeQuery anymore, but:\r\n\r\n    SELECT new com.my_project.myDTO(p.id, p.age, p.name) .....\r\n\r\n ","title":"How to map sql native query result into DTO in spring jpa repository?","body":"<p>Create standard native @Query</p>\n<pre><code>@Query(value = &quot;select id, age, name FROM Person WHERE age=?1&quot;, nativeQuery=true)\nList&lt;PersonView&gt; getPersonsByAge(int age);\n</code></pre>\n<p>and an interface</p>\n<pre><code>public interface PersonView {\n    Long getId();\n    Integer getAge();\n    String getName();\n}\n</code></pre>\n<p>columns are matched by order (not by names).\nIn this way, you have a native query, no entities and not too much boiler plate code (aka many annotations).</p>\n<p>However, resulting views (Jdk proxy etc.) are very slow in access, i had some code doing some grouping over a stream, and it's 10x !! slower than with standard DTO/Pojos !\nso at the end, I don't use nativeQuery anymore, but:</p>\n<pre><code>SELECT new com.my_project.myDTO(p.id, p.age, p.name) .....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1492534,"reputation":4433,"user_id":6999690,"display_name":"Ruslan L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631657870,"creation_date":1631657870,"answer_id":69185070,"question_id":64762080,"body_markdown":"Another valid option based on Sternk answer woul be as follows\r\n\r\nYou can define the following named native query with appropriate sql result set mapping:\r\n\r\nresources/META-INF/orm.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\r\n                     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                     xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd&quot;\r\n                     version=&quot;2.0&quot;&gt;\r\n        &lt;named-native-query name=&quot;find_stock_akhir_dto&quot; result-class=&quot;com.fullyqualified.name.SomeEntity&quot;\r\n                            result-set-mapping=&quot;stock_akhir_dto&quot;&gt;\r\n            &lt;query&gt;&lt;![CDATA[\r\n                SELECT \r\n                  stock_akhir.product_id AS productId, \r\n                  stock_akhir.product_code AS productCode, \r\n                  SUM(stock_akhir.qty) as stockAkhir \r\n                FROM book_stock stock_akhir \r\n                where warehouse_code = :warehouseCode \r\n                  AND product_code IN :productCodes  \r\n                GROUP BY product_id, product_code, warehouse_id, warehouse_code]]&gt;&lt;/query&gt;\r\n        &lt;/named-native-query&gt;\r\n    &lt;/entity-mappings&gt;\r\n\r\n``` java\r\nimport javax.persistence.NamedNativeQuery;\r\nimport javax.persistence.SqlResultSetMapping;\r\nimport javax.persistence.ConstructorResult;\r\nimport javax.persistence.ColumnResult;\r\n\r\n@Entity\r\n@SqlResultSetMapping(\r\n    name = &quot;stock_akhir_dto&quot;,\r\n    classes = @ConstructorResult(\r\n        targetClass = StockAkhirDto.class,\r\n        columns = {\r\n            @ColumnResult(name = &quot;productId&quot;, type = Long.class),\r\n            @ColumnResult(name = &quot;productCode&quot;, type = String.class),\r\n            @ColumnResult(name = &quot;stockAkhir&quot;, type = Integer.class)\r\n        }\r\n    )\r\n)\r\npublic class SomeEntity\r\n{\r\n}\r\n```\r\n\r\nand then use it:\r\n\r\n``` java\r\n@Repository\r\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\r\n\r\n   @Query(name = &quot;find_stock_akhir_dto&quot;, nativeQuery = true)\r\n   List&lt;StockAkhirDto&gt; findStockAkhirPerProductIn(\r\n      @Param(&quot;warehouseCode&quot;) String warehouseCode,\r\n      @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode\r\n   );\r\n}\r\n```","title":"How to map sql native query result into DTO in spring jpa repository?","body":"<p>Another valid option based on Sternk answer woul be as follows</p>\n<p>You can define the following named native query with appropriate sql result set mapping:</p>\n<p>resources/META-INF/orm.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;entity-mappings xmlns=&quot;http://java.sun.com/xml/ns/persistence/orm&quot;\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                 xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_2_0.xsd&quot;\n                 version=&quot;2.0&quot;&gt;\n    &lt;named-native-query name=&quot;find_stock_akhir_dto&quot; result-class=&quot;com.fullyqualified.name.SomeEntity&quot;\n                        result-set-mapping=&quot;stock_akhir_dto&quot;&gt;\n        &lt;query&gt;&lt;![CDATA[\n            SELECT \n              stock_akhir.product_id AS productId, \n              stock_akhir.product_code AS productCode, \n              SUM(stock_akhir.qty) as stockAkhir \n            FROM book_stock stock_akhir \n            where warehouse_code = :warehouseCode \n              AND product_code IN :productCodes  \n            GROUP BY product_id, product_code, warehouse_id, warehouse_code]]&gt;&lt;/query&gt;\n    &lt;/named-native-query&gt;\n&lt;/entity-mappings&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.NamedNativeQuery;\nimport javax.persistence.SqlResultSetMapping;\nimport javax.persistence.ConstructorResult;\nimport javax.persistence.ColumnResult;\n\n@Entity\n@SqlResultSetMapping(\n    name = &quot;stock_akhir_dto&quot;,\n    classes = @ConstructorResult(\n        targetClass = StockAkhirDto.class,\n        columns = {\n            @ColumnResult(name = &quot;productId&quot;, type = Long.class),\n            @ColumnResult(name = &quot;productCode&quot;, type = String.class),\n            @ColumnResult(name = &quot;stockAkhir&quot;, type = Integer.class)\n        }\n    )\n)\npublic class SomeEntity\n{\n}\n</code></pre>\n<p>and then use it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\n\n   @Query(name = &quot;find_stock_akhir_dto&quot;, nativeQuery = true)\n   List&lt;StockAkhirDto&gt; findStockAkhirPerProductIn(\n      @Param(&quot;warehouseCode&quot;) String warehouseCode,\n      @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode\n   );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7588122,"reputation":961,"user_id":5756557,"display_name":"anandchaugule"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692949288,"creation_date":1692949288,"answer_id":76975218,"question_id":64762080,"body_markdown":"Map your result of a native SQL query into an interface-based DTO in a Spring JPA repository is very simplified by spring boot framework as below steps you can follow \r\n\r\n**1. Define the DTO Interface:**\r\n\r\nCreate an interface that defines the getter methods for the properties you want to map from the native SQL query result. The interface methods should match the column aliases used in your SQL query.\r\n\r\n    public interface MyDTO {\r\n        Long getId();\r\n        String getName();\r\n        // Other getter methods for other properties\r\n    }\r\n\r\n**2. Define the Native SQL Query:**\r\n\r\nIn your Spring JPA repository interface, use the @Query annotation with a native SQL query that returns the columns needed for the DTO interface.\r\n\r\n    @Repository\r\n    public interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\r\n    \r\n        @Query(value = &quot;SELECT id as id, name as name FROM my_table WHERE ...&quot;, nativeQuery = true)\r\n        List&lt;MyDTO&gt; findDataUsingNativeQuery();\r\n    }\r\n\r\nYou can now use the findDataUsingNativeQuery() method from your service layer to retrieve the data mapped to the DTO interface.","title":"How to map sql native query result into DTO in spring jpa repository?","body":"<p>Map your result of a native SQL query into an interface-based DTO in a Spring JPA repository is very simplified by spring boot framework as below steps you can follow</p>\n<p><strong>1. Define the DTO Interface:</strong></p>\n<p>Create an interface that defines the getter methods for the properties you want to map from the native SQL query result. The interface methods should match the column aliases used in your SQL query.</p>\n<pre><code>public interface MyDTO {\n    Long getId();\n    String getName();\n    // Other getter methods for other properties\n}\n</code></pre>\n<p><strong>2. Define the Native SQL Query:</strong></p>\n<p>In your Spring JPA repository interface, use the @Query annotation with a native SQL query that returns the columns needed for the DTO interface.</p>\n<pre><code>@Repository\npublic interface MyEntityRepository extends JpaRepository&lt;MyEntity, Long&gt; {\n\n    @Query(value = &quot;SELECT id as id, name as name FROM my_table WHERE ...&quot;, nativeQuery = true)\n    List&lt;MyDTO&gt; findDataUsingNativeQuery();\n}\n</code></pre>\n<p>You can now use the findDataUsingNativeQuery() method from your service layer to retrieve the data mapped to the DTO interface.</p>\n"}],"owner":{"account_id":3153451,"reputation":3590,"user_id":2666368,"accept_rate":79,"display_name":"Ke Vin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81315,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":64776376,"answer_count":6,"score":25,"last_activity_date":1692949288,"creation_date":1604975788,"question_id":64762080,"body_markdown":"Hi what I am trying to achieve is to get SQL native query result map into my DTO in java spring jpa repository, how do I do this properly? I try several code, but it does not work, here is what I tried:\r\n\r\nFirst try :\r\n``` java\r\n@Repository\r\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\r\n    \r\n   @Query(value = &quot;SELECT stock_akhir.product_id AS productId, stock_akhir.product_code AS productCode, SUM(stock_akhir.qty) as stockAkhir &quot;\r\n        + &quot;FROM book_stock stock_akhir &quot;\r\n        + &quot;where warehouse_code = (:warehouseCode) &quot;\r\n        + &quot;AND product_code IN (:productCodes) &quot;\r\n        + &quot;GROUP BY product_id, product_code, warehouse_id, warehouse_code&quot;, nativeQuery = true)\r\n   List&lt;StockAkhirDto&gt; findStockAkhirPerProductIn(@Param(&quot;warehouseCode&quot;) String warehouseCode, @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode);\r\n}\r\n```\r\n\r\nonce I execute the function, I got this error:\r\n\r\n&gt; No converter found capable of converting from type\r\n&gt; [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap]\r\n&gt; to type [com.b2bwarehouse.Dto.RequestDto.StockDto.StockAkhirDto]\r\n\r\nSecond try :\r\n``` java\r\n@Repository\r\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\r\n    \r\n   @Query(value = &quot;SELECT new com.b2bwarehouse.Dto.RequestDto.StockDto.StockAkhirDto(stock_akhir.product_id AS productId, stock_akhir.product_code AS productCode, SUM(stock_akhir.qty) as stockAkhir) &quot;\r\n      + &quot;FROM book_stock stock_akhir &quot;\r\n      + &quot;where warehouse_code = (:warehouseCode) &quot;\r\n      + &quot;AND product_code IN (:productCodes) &quot;\r\n      + &quot;GROUP BY product_id, product_code, warehouse_id, warehouse_code&quot;, nativeQuery = true)\r\n   List&lt;StockAkhirDto&gt; findStockAkhirPerProductIn(@Param(&quot;warehouseCode&quot;) String warehouseCode, @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode);\r\n}\r\n```\r\nin second here is the error:\r\n\r\n&gt; could not extract ResultSet; SQL [n/a]; nested exception is\r\n&gt; org.hibernate.exception.SQLGrammarException: could not extract\r\n&gt; ResultSet\r\n\r\nbelow is my DTO:\r\n``` java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class StockAkhirDto {\r\n   private Long productId;\r\n   private String productCode;\r\n   private Integer stockAkhir;\r\n}\r\n```\r\n\r\nHow should I correct my code? So, can I get the result into my DTO?","title":"How to map sql native query result into DTO in spring jpa repository?","body":"<p>Hi what I am trying to achieve is to get SQL native query result map into my DTO in java spring jpa repository, how do I do this properly? I try several code, but it does not work, here is what I tried:</p>\n<p>First try :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\n    \n   @Query(value = &quot;SELECT stock_akhir.product_id AS productId, stock_akhir.product_code AS productCode, SUM(stock_akhir.qty) as stockAkhir &quot;\n        + &quot;FROM book_stock stock_akhir &quot;\n        + &quot;where warehouse_code = (:warehouseCode) &quot;\n        + &quot;AND product_code IN (:productCodes) &quot;\n        + &quot;GROUP BY product_id, product_code, warehouse_id, warehouse_code&quot;, nativeQuery = true)\n   List&lt;StockAkhirDto&gt; findStockAkhirPerProductIn(@Param(&quot;warehouseCode&quot;) String warehouseCode, @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode);\n}\n</code></pre>\n<p>once I execute the function, I got this error:</p>\n<blockquote>\n<p>No converter found capable of converting from type\n[org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap]\nto type [com.b2bwarehouse.Dto.RequestDto.StockDto.StockAkhirDto]</p>\n</blockquote>\n<p>Second try :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface StockRepository extends RevisionRepository&lt;Stock, Long, Integer&gt;, JpaRepository&lt;Stock, Long&gt; {\n    \n   @Query(value = &quot;SELECT new com.b2bwarehouse.Dto.RequestDto.StockDto.StockAkhirDto(stock_akhir.product_id AS productId, stock_akhir.product_code AS productCode, SUM(stock_akhir.qty) as stockAkhir) &quot;\n      + &quot;FROM book_stock stock_akhir &quot;\n      + &quot;where warehouse_code = (:warehouseCode) &quot;\n      + &quot;AND product_code IN (:productCodes) &quot;\n      + &quot;GROUP BY product_id, product_code, warehouse_id, warehouse_code&quot;, nativeQuery = true)\n   List&lt;StockAkhirDto&gt; findStockAkhirPerProductIn(@Param(&quot;warehouseCode&quot;) String warehouseCode, @Param(&quot;productCodes&quot;) Set&lt;String&gt; productCode);\n}\n</code></pre>\n<p>in second here is the error:</p>\n<blockquote>\n<p>could not extract ResultSet; SQL [n/a]; nested exception is\norg.hibernate.exception.SQLGrammarException: could not extract\nResultSet</p>\n</blockquote>\n<p>below is my DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class StockAkhirDto {\n   private Long productId;\n   private String productCode;\n   private Integer stockAkhir;\n}\n</code></pre>\n<p>How should I correct my code? So, can I get the result into my DTO?</p>\n"},{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":121967,"reputation":1817,"user_id":315454,"accept_rate":48,"display_name":"Alexander.Furer"},"score":0,"creation_date":1523607225,"post_id":49812027,"comment_id":86638893,"body_markdown":"Have you tried the snake yam? Isn&#39;t it supported by default?","body":"Have you tried the snake yam? Isn&#39;t it supported by default?"}],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523607751,"creation_date":1523607751,"answer_id":49812438,"question_id":49812027,"body_markdown":"As of the time of writing, there is no round-tripping YAML parser for Java. There is the well-known [SnakeYAML](https://bitbucket.org/asomov/snakeyaml), which does not preserve comments (see the [author&#39;s comment here](https://github.com/oyse/yedit/issues/15#issuecomment-224613193)), and a newer project named [camel](https://github.com/decorators-squad/camel), which I know little of; but it definitely is not round-tripping.\r\n\r\nWhat you can theoretically do is to use SnakeYaml&#39;s `Yaml.parse` and then iterate over the events. Each event has a start and an end mark, giving the start and end line &amp; column of the event. This makes it possible to map the events back into the source and discover the portions of the source that were not parsed into events (presumably comments). Having this mapping, you can now modify the event list and write it back. Finally, you read the result in a second time and discover the gaps between your events where there were comments in the original YAML, but not in the modified YAML, and re-insert those comments, giving you the final YAML with your modifications *and* the comments.\r\n\r\nOf course, this is very complex. I would not advice to do it unless you a) have either a solid understanding of how YAML is structured or are willing to learn it, and b) your use-case justifies this amount of work.","title":"Modifying YAML in java while preserving comments","body":"<p>As of the time of writing, there is no round-tripping YAML parser for Java. There is the well-known <a href=\"https://bitbucket.org/asomov/snakeyaml\" rel=\"nofollow noreferrer\">SnakeYAML</a>, which does not preserve comments (see the <a href=\"https://github.com/oyse/yedit/issues/15#issuecomment-224613193\" rel=\"nofollow noreferrer\">author's comment here</a>), and a newer project named <a href=\"https://github.com/decorators-squad/camel\" rel=\"nofollow noreferrer\">camel</a>, which I know little of; but it definitely is not round-tripping.</p>\n\n<p>What you can theoretically do is to use SnakeYaml's <code>Yaml.parse</code> and then iterate over the events. Each event has a start and an end mark, giving the start and end line &amp; column of the event. This makes it possible to map the events back into the source and discover the portions of the source that were not parsed into events (presumably comments). Having this mapping, you can now modify the event list and write it back. Finally, you read the result in a second time and discover the gaps between your events where there were comments in the original YAML, but not in the modified YAML, and re-insert those comments, giving you the final YAML with your modifications <em>and</em> the comments.</p>\n\n<p>Of course, this is very complex. I would not advice to do it unless you a) have either a solid understanding of how YAML is structured or are willing to learn it, and b) your use-case justifies this amount of work.</p>\n"},{"tags":[],"owner":{"account_id":251692,"reputation":2306,"user_id":529256,"accept_rate":75,"display_name":"Craig"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557329915,"creation_date":1557329915,"answer_id":56044357,"question_id":49812027,"body_markdown":"I wrote a groovy script to solve this. The Java version is very similar: \r\n\r\n    def key = &quot;name&quot;\r\n    def value = &quot;efgh&quot;\r\n    def yamlFile = new File(&quot;file.yaml&quot;)\r\n    def yamlFileLines = new StringBuilder()\r\n    def foundKey = false\r\n    yamlFile.text.eachLine { line -&gt;\r\n        if (!foundKey &amp;&amp; line.contains(&quot;$key:&quot;)) {\r\n            line = line.replaceAll(/$key:.*/, &quot;$key: $value&quot;)\r\n            foundKey = true\r\n        }\r\n        yamlFileLines.append(&quot;$line\\n&quot;)\r\n    }\r\n    if (foundKey) {\r\n        yamlFile.text = yamlFileLines.toString()\r\n    } else {\r\n        throw new StopExecutionException(&quot;Could not find key &#39;$key&#39; in file ${yamlFile.getAbsolutePath()}&quot;)\r\n    }","title":"Modifying YAML in java while preserving comments","body":"<p>I wrote a groovy script to solve this. The Java version is very similar: </p>\n\n<pre><code>def key = \"name\"\ndef value = \"efgh\"\ndef yamlFile = new File(\"file.yaml\")\ndef yamlFileLines = new StringBuilder()\ndef foundKey = false\nyamlFile.text.eachLine { line -&gt;\n    if (!foundKey &amp;&amp; line.contains(\"$key:\")) {\n        line = line.replaceAll(/$key:.*/, \"$key: $value\")\n        foundKey = true\n    }\n    yamlFileLines.append(\"$line\\n\")\n}\nif (foundKey) {\n    yamlFile.text = yamlFileLines.toString()\n} else {\n    throw new StopExecutionException(\"Could not find key '$key' in file ${yamlFile.getAbsolutePath()}\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":86723,"reputation":11,"user_id":240965,"display_name":"jiansihun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604373381,"creation_date":1604373381,"answer_id":64656336,"question_id":49812027,"body_markdown":"if you use snakeyaml , you should modify the ScannerImpl file. \r\n \r\nnotice: read the in-line comment as text\r\n\r\n```\r\nprivate Token scanPlain() {\r\n        StringBuilder chunks = new StringBuilder();\r\n        Mark startMark = reader.getMark();\r\n        Mark endMark = startMark;\r\n        int indent = this.indent + 1;\r\n        String spaces = &quot;&quot;;\r\n        while (true) {\r\n            int c;\r\n            int length = 0;\r\n            // A comment indicates the end of the scalar.\r\n            // read the in-line comment as text\r\n//            if (reader.peek() == &#39;#&#39; &amp;&amp; ) {\r\n//                break;\r\n//            }\r\n            while (true) {\r\n                c = reader.peek(length);\r\n                if (Constant.NULL_BL_T_LINEBR.has(c)\r\n                        || (c == &#39;:&#39; &amp;&amp; Constant.NULL_BL_T_LINEBR.has(reader.peek(length + 1), flowLevel != 0 ? &quot;,[]{}&quot;:&quot;&quot;))\r\n                        || (this.flowLevel != 0 &amp;&amp; &quot;,?[]{}&quot;.indexOf(c) != -1)) {\r\n                    break;\r\n                }\r\n                length++;\r\n            }\r\n            if (length == 0) {\r\n                break;\r\n            }\r\n            this.allowSimpleKey = false;\r\n            chunks.append(spaces);\r\n            chunks.append(reader.prefixForward(length));\r\n            endMark = reader.getMark();\r\n            spaces = scanPlainSpaces();\r\n            // System.out.printf(&quot;spaces[%s]\\n&quot;, spaces);\r\n            if (spaces.length() == 0\r\n                    // read the in-line comment as text\r\n//                    || reader.peek() == &#39;#&#39;\r\n                    || (this.flowLevel == 0 &amp;&amp; this.reader.getColumn() &lt; indent)) {\r\n                break;\r\n            }\r\n        }\r\n        return new ScalarToken(chunks.toString(), startMark, endMark, true);\r\n    }\r\n```","title":"Modifying YAML in java while preserving comments","body":"<p>if you use snakeyaml , you should modify the ScannerImpl file.</p>\n<p>notice: read the in-line comment as text</p>\n<pre><code>private Token scanPlain() {\n        StringBuilder chunks = new StringBuilder();\n        Mark startMark = reader.getMark();\n        Mark endMark = startMark;\n        int indent = this.indent + 1;\n        String spaces = &quot;&quot;;\n        while (true) {\n            int c;\n            int length = 0;\n            // A comment indicates the end of the scalar.\n            // read the in-line comment as text\n//            if (reader.peek() == '#' &amp;&amp; ) {\n//                break;\n//            }\n            while (true) {\n                c = reader.peek(length);\n                if (Constant.NULL_BL_T_LINEBR.has(c)\n                        || (c == ':' &amp;&amp; Constant.NULL_BL_T_LINEBR.has(reader.peek(length + 1), flowLevel != 0 ? &quot;,[]{}&quot;:&quot;&quot;))\n                        || (this.flowLevel != 0 &amp;&amp; &quot;,?[]{}&quot;.indexOf(c) != -1)) {\n                    break;\n                }\n                length++;\n            }\n            if (length == 0) {\n                break;\n            }\n            this.allowSimpleKey = false;\n            chunks.append(spaces);\n            chunks.append(reader.prefixForward(length));\n            endMark = reader.getMark();\n            spaces = scanPlainSpaces();\n            // System.out.printf(&quot;spaces[%s]\\n&quot;, spaces);\n            if (spaces.length() == 0\n                    // read the in-line comment as text\n//                    || reader.peek() == '#'\n                    || (this.flowLevel == 0 &amp;&amp; this.reader.getColumn() &lt; indent)) {\n                break;\n            }\n        }\n        return new ScalarToken(chunks.toString(), startMark, endMark, true);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9298348,"reputation":482,"user_id":6904643,"display_name":"dosenfant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692949078,"creation_date":1692949078,"answer_id":76975195,"question_id":49812027,"body_markdown":"At least since snakeyaml 2.0 (which I&#39;m using) it is possible to preserve comments. The only drawback seems to be that you cannot parse the YAML to a `Map` or some other class, because that erases the comment information. That is only stored in snakeyaml&#39;s internal `Node`s.\r\n\r\n    LoaderOptions loaderOptions = new LoaderOptions();\r\n    loaderOptions.setProcessComments(true);\r\n    DumperOptions dumperOptions = new DumperOptions();\r\n    dumperOptions.setProcessComments(true);\r\n    Yaml yaml = new Yaml(new Constructor(loaderOptions), new Representer(dumperOptions), dumperOptions, loaderOptions);\r\n    Node root;\r\n    try (FileReader reader = new FileReader(yamlFile)) {\r\n        root = yaml.compose(reader);\r\n    }\r\n    try (FileWriter writer = new FileWriter(cloneFile)) {\r\n        yaml.serialize(root, writer);\r\n    }\r\n\r\nThe only difference I get between in- and output are different line endings (can be configured in the `DumperOptions`) and some of my previously empty lines will have indenting spaces.","title":"Modifying YAML in java while preserving comments","body":"<p>At least since snakeyaml 2.0 (which I'm using) it is possible to preserve comments. The only drawback seems to be that you cannot parse the YAML to a <code>Map</code> or some other class, because that erases the comment information. That is only stored in snakeyaml's internal <code>Node</code>s.</p>\n<pre><code>LoaderOptions loaderOptions = new LoaderOptions();\nloaderOptions.setProcessComments(true);\nDumperOptions dumperOptions = new DumperOptions();\ndumperOptions.setProcessComments(true);\nYaml yaml = new Yaml(new Constructor(loaderOptions), new Representer(dumperOptions), dumperOptions, loaderOptions);\nNode root;\ntry (FileReader reader = new FileReader(yamlFile)) {\n    root = yaml.compose(reader);\n}\ntry (FileWriter writer = new FileWriter(cloneFile)) {\n    yaml.serialize(root, writer);\n}\n</code></pre>\n<p>The only difference I get between in- and output are different line endings (can be configured in the <code>DumperOptions</code>) and some of my previously empty lines will have indenting spaces.</p>\n"}],"owner":{"account_id":3223916,"reputation":393,"user_id":2720680,"accept_rate":100,"display_name":"dexterousashish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5343,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1692949078,"creation_date":1523606266,"question_id":49812027,"body_markdown":"How can we modify an existing YAML and preserve comments in it.\r\nIs there any Java parser which does that ?\r\n For example if i have following YAML:\r\n\r\n    #This is a test YAML\r\n     name: abcd\r\n     age: 23\r\n    #Test YAML ends here.\r\nIs there a way I can edit this Yaml using a java parser and preserve the comments. ","title":"Modifying YAML in java while preserving comments","body":"<p>How can we modify an existing YAML and preserve comments in it.\nIs there any Java parser which does that ?\n For example if i have following YAML:</p>\n\n<pre><code>#This is a test YAML\n name: abcd\n age: 23\n#Test YAML ends here.\n</code></pre>\n\n<p>Is there a way I can edit this Yaml using a java parser and preserve the comments. </p>\n"},{"tags":["java","spring","spring-boot","eclipse","spring-tools-4"],"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1692925513,"post_id":76972725,"comment_id":135694198,"body_markdown":"And to address @xpetersue &#39;s comment in a deleted answer, I have no issue with memory. My laptop has 32g ram, my Eclipse process has maxmem of 3g. I was seeing some errors connecting to SO, but otherwise I see no network issues.","body":"And to address @xpetersue &#39;s comment in a deleted answer, I have no issue with memory. My laptop has 32g ram, my Eclipse process has maxmem of 3g. I was seeing some errors connecting to SO, but otherwise I see no network issues."}],"answers":[{"comments":[{"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"score":0,"creation_date":1693217036,"post_id":76973996,"comment_id":135726321,"body_markdown":"Actually, the underlying issue might be something different from what I thought it is, so we need to analyze this in more depth. The solution I was referring to is related to slow validation performance inside of the language server, but this seems to be a different issue, so please follow-up in the GitHub issue for more advice and details.","body":"Actually, the underlying issue might be something different from what I thought it is, so we need to analyze this in more depth. The solution I was referring to is related to slow validation performance inside of the language server, but this seems to be a different issue, so please follow-up in the GitHub issue for more advice and details."}],"tags":[],"owner":{"account_id":2082386,"reputation":6063,"user_id":1854124,"display_name":"Martin Lippert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692932429,"creation_date":1692932429,"answer_id":76973996,"question_id":76972725,"body_markdown":"Here is the link to the GitHub issue that you filed for this: https://github.com/spring-projects/sts4/issues/1103\r\n\r\nI added a comment with a few assumptions why this might happen. The workaround for this is to disable the `Reconciling of Java Sources` in the `Preferences -&gt; Spring -&gt; Open Rewrite`.\r\n\r\nThe real underlying solution will ship with the next release of the Spring Tools (4.20.0), expected to arrive mid to late September 2023.","title":"My Eclipse with Spring Boot has been running &quot;Spring Boot Validations Builder&quot; on one project for hours now","body":"<p>Here is the link to the GitHub issue that you filed for this: <a href=\"https://github.com/spring-projects/sts4/issues/1103\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/sts4/issues/1103</a></p>\n<p>I added a comment with a few assumptions why this might happen. The workaround for this is to disable the <code>Reconciling of Java Sources</code> in the <code>Preferences -&gt; Spring -&gt; Open Rewrite</code>.</p>\n<p>The real underlying solution will ship with the next release of the Spring Tools (4.20.0), expected to arrive mid to late September 2023.</p>\n"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692948826,"creation_date":1692908836,"question_id":76972725,"body_markdown":"I&#39;m using Eclipse 2023-06 on Windows 11.\r\n\r\nI have the Spring Boot plugin set installed, with v4.19.1, the latest available at this time.\r\n\r\nIn the last few days, I&#39;ve been severely hampered with either the &quot;Spring Boot Language Server&quot; or the &quot;Spring Boot Validations Builder&quot;, simply running forever.  When the SBLS job appears to be hung, I&#39;ve just had to kill the external javaw process associated with that. That sometimes helps, but sometimes it just starts it up again and hangs again.\r\n\r\nAbout 2 hours ago I decided to simply reboot and start everything again, and I then left for lunch.  I started Eclipse, and it started a bunch of jobs, including the &quot;Spring Boot Validations Builder&quot;, for one particular project.  I came back an hour later, and it had barely changed.\r\n\r\nI then tried cancelling that job, which in my experience is typically a waste of time, as it seems to never respect that.  It&#39;s been running in that state for about 20 minutes now.\r\n\r\nI&#39;ve tried to turn off settings in the Spring section of preferences, but it doesn&#39;t seem to make any difference.\r\n\r\nIf it helps, here is a screenshot of my Progress View, which hasn&#39;t changed at all in hours now.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RZcaV.png","title":"My Eclipse with Spring Boot has been running &quot;Spring Boot Validations Builder&quot; on one project for hours now","body":"<p>I'm using Eclipse 2023-06 on Windows 11.</p>\n<p>I have the Spring Boot plugin set installed, with v4.19.1, the latest available at this time.</p>\n<p>In the last few days, I've been severely hampered with either the &quot;Spring Boot Language Server&quot; or the &quot;Spring Boot Validations Builder&quot;, simply running forever.  When the SBLS job appears to be hung, I've just had to kill the external javaw process associated with that. That sometimes helps, but sometimes it just starts it up again and hangs again.</p>\n<p>About 2 hours ago I decided to simply reboot and start everything again, and I then left for lunch.  I started Eclipse, and it started a bunch of jobs, including the &quot;Spring Boot Validations Builder&quot;, for one particular project.  I came back an hour later, and it had barely changed.</p>\n<p>I then tried cancelling that job, which in my experience is typically a waste of time, as it seems to never respect that.  It's been running in that state for about 20 minutes now.</p>\n<p>I've tried to turn off settings in the Spring section of preferences, but it doesn't seem to make any difference.</p>\n<p>If it helps, here is a screenshot of my Progress View, which hasn't changed at all in hours now.</p>\n<p><a href=\"https://i.stack.imgur.com/RZcaV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RZcaV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","junit","sonarqube","google-cloud-dataflow","google-cloud-memorystore"],"answers":[{"tags":[],"owner":{"account_id":10553380,"reputation":2165,"user_id":10324087,"display_name":"viveknaskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692948787,"creation_date":1692948787,"answer_id":76975160,"question_id":76950481,"body_markdown":"I was able to write the test case for covering all the lines. I just increased the size of the list to 20000, by doing so, the `RedisWriteIO` class is functioning as intended to handle even larger datasets. \r\n\r\nThe batchcount of 1000 acts as the threshold as specified by `DEFAULT_BATCH_SIZE`, which when it reaches that, then the transaction is executed(`transaction.exec()`) and a new transaction is started (`transaction.multi()`).\r\n\r\n        @Test\r\n        public void testBatchProcessingWithTransactionExecuted() {\r\n            RedisWriteIO.Write spec = RedisWriteIO.write().withConnectionConfiguration(connection);\r\n            PCollection&lt;String&gt; flushFlag = pipeline.apply(&quot;Read File&quot;, TextIO.read().from(&quot;files/fileHavingFiveThousandRecords.txt&quot;));\r\n    \r\n            List&lt;KV&lt;String, String&gt;&gt; recordEntries = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt;= 20000; i++) {\r\n                // adding unique entries 20000 times\r\n                recordEntries.add(KV.of(&quot;Bruce:Wayne&quot; + i, &quot;123456789&quot; + i));\r\n            }\r\n    \r\n            // outputData will be written to Redis (memorystore)\r\n            PCollection&lt;KV&lt;String, String&gt;&gt; outputData = pipeline.apply(Create.of(recordEntries));\r\n    \r\n            outputData.apply(&quot;Waiting until clearing Redis database&quot;, Wait.on(flushFlag))\r\n                   .apply(&quot;Writing the data into Redis database&quot;, RedisWriteIO.write()\r\n                        .withConnectionConfiguration(CustomRedisConfigurations\r\n                                .create(REDIS_HOST, port)\r\n                                .withTimeout(100)\r\n                                .withAuth(&quot;credentials&quot;)\r\n                                .enableSSL()));\r\n            pipeline.run();\r\n    \r\n        }\r\n\r\n","title":"Google Cloud Dataflow&#39;s Code Coverage on the new code is not passing the threshold in SonarQube after Java 17 upgrade","body":"<p>I was able to write the test case for covering all the lines. I just increased the size of the list to 20000, by doing so, the <code>RedisWriteIO</code> class is functioning as intended to handle even larger datasets.</p>\n<p>The batchcount of 1000 acts as the threshold as specified by <code>DEFAULT_BATCH_SIZE</code>, which when it reaches that, then the transaction is executed(<code>transaction.exec()</code>) and a new transaction is started (<code>transaction.multi()</code>).</p>\n<pre><code>    @Test\n    public void testBatchProcessingWithTransactionExecuted() {\n        RedisWriteIO.Write spec = RedisWriteIO.write().withConnectionConfiguration(connection);\n        PCollection&lt;String&gt; flushFlag = pipeline.apply(&quot;Read File&quot;, TextIO.read().from(&quot;files/fileHavingFiveThousandRecords.txt&quot;));\n\n        List&lt;KV&lt;String, String&gt;&gt; recordEntries = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt;= 20000; i++) {\n            // adding unique entries 20000 times\n            recordEntries.add(KV.of(&quot;Bruce:Wayne&quot; + i, &quot;123456789&quot; + i));\n        }\n\n        // outputData will be written to Redis (memorystore)\n        PCollection&lt;KV&lt;String, String&gt;&gt; outputData = pipeline.apply(Create.of(recordEntries));\n\n        outputData.apply(&quot;Waiting until clearing Redis database&quot;, Wait.on(flushFlag))\n               .apply(&quot;Writing the data into Redis database&quot;, RedisWriteIO.write()\n                    .withConnectionConfiguration(CustomRedisConfigurations\n                            .create(REDIS_HOST, port)\n                            .withTimeout(100)\n                            .withAuth(&quot;credentials&quot;)\n                            .enableSSL()));\n        pipeline.run();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":10553380,"reputation":2165,"user_id":10324087,"display_name":"viveknaskar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76975160,"answer_count":1,"score":3,"last_activity_date":1692948787,"creation_date":1692684384,"question_id":76950481,"body_markdown":"Recently, I have upgraded my cloud dataflow application from Java 11 to Java 17 and its corresponding dependencies. The application works fine and even the test cases work fine. I have also upgraded my apache beam version from 2.35.0 to 2.49.0.\r\n\r\nHowever, in one of the custom classes, `RedisWriteIO`, there are some changes and now the tests are not passing in the new code coverage.\r\n\r\n**RedisWriteIO**\r\n\r\n    package com.example.dataflow.io.redis;\r\n    \r\n    import com.google.auto.value.AutoValue;\r\n    import org.apache.beam.sdk.transforms.DoFn;\r\n    import org.apache.beam.sdk.transforms.PTransform;\r\n    import org.apache.beam.sdk.transforms.ParDo;\r\n    import org.apache.beam.sdk.values.KV;\r\n    import org.apache.beam.sdk.values.PCollection;\r\n    import org.apache.beam.sdk.values.PDone;\r\n    import org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions;\r\n    import org.checkerframework.checker.nullness.qual.Nullable;\r\n    import redis.clients.jedis.Jedis;\r\n    import redis.clients.jedis.Transaction;\r\n    \r\n    public class RedisWriteIO {\r\n    \r\n        public static Write write() {\r\n            return (new AutoValue_RedisWriteIO_Write.Builder())\r\n                    .setConnectionConfiguration(CustomRedisConfigurations.create()).build();\r\n        }\r\n    \r\n        @AutoValue\r\n        public abstract static class Write extends PTransform&lt;PCollection&lt;KV&lt;String,String&gt;&gt;, PDone&gt; {\r\n            public Write() {\r\n            }\r\n    \r\n            @Nullable\r\n            abstract CustomRedisConfigurations connectionConfiguration();\r\n    \r\n            @Nullable\r\n            abstract Long expireTime();\r\n    \r\n            abstract Builder toBuilder();\r\n    \r\n            public Write withEndpoint(String host, int port) {\r\n                Preconditions.checkArgument(host != null, &quot;host can not be null&quot;);\r\n                Preconditions.checkArgument(port &gt; 0, &quot;port can not be negative or 0&quot;);\r\n                return this.toBuilder().setConnectionConfiguration(this.connectionConfiguration().withHost(host).withPort(port)).build();\r\n            }\r\n    \r\n            public Write withAuth(String auth) {\r\n                Preconditions.checkArgument(auth != null, &quot;auth can not be null&quot;);\r\n                return this.toBuilder().setConnectionConfiguration(this.connectionConfiguration().withAuth(auth)).build();\r\n            }\r\n    \r\n            public Write withTimeout(int timeout) {\r\n                Preconditions.checkArgument(timeout &gt;= 0, &quot;timeout can not be negative&quot;);\r\n                return this.toBuilder().setConnectionConfiguration(this.connectionConfiguration().withTimeout(timeout)).build();\r\n            }\r\n    \r\n            public Write withConnectionConfiguration(CustomRedisConfigurations connection) {\r\n                Preconditions.checkArgument(connection != null, &quot;connection can not be null&quot;);\r\n                return this.toBuilder().setConnectionConfiguration(connection).build();\r\n            }\r\n    \r\n            public Write withExpireTime(Long expireTimeMillis) {\r\n                Preconditions.checkArgument(expireTimeMillis != null, &quot;expireTimeMillis can not be null&quot;);\r\n                Preconditions.checkArgument(expireTimeMillis &gt; 0L, &quot;expireTimeMillis can not be negative or 0&quot;);\r\n                return this.toBuilder().setExpireTime(expireTimeMillis).build();\r\n            }\r\n    \r\n            public PDone expand(PCollection&lt;KV&lt;String, String&gt;&gt; input) {\r\n                Preconditions.checkArgument(this.connectionConfiguration() != null, &quot;withConnectionConfiguration() is required&quot;);\r\n                input.apply(ParDo.of(new WriteFn(this)));\r\n                return PDone.in(input.getPipeline());\r\n            }\r\n    \r\n            private static class WriteFn extends DoFn&lt;KV&lt;String, String&gt;, Void&gt;{\r\n                private static final int DEFAULT_BATCH_SIZE = 1000;\r\n                private final RedisWriteIO.Write spec;\r\n                private transient Jedis jedis;\r\n                private transient @Nullable Transaction transaction;\r\n    \r\n                private int batchCount;\r\n    \r\n                public WriteFn(RedisWriteIO.Write spec) {\r\n                    this.spec = spec;\r\n                }\r\n    \r\n                @Setup\r\n                public void setup() {\r\n                    jedis = spec.connectionConfiguration().connect();\r\n                }\r\n    \r\n                @StartBundle\r\n                public void startBundle() {\r\n                    transaction = jedis.multi();\r\n                    batchCount = 0;\r\n                }\r\n                @ProcessElement\r\n                public void processElement(DoFn&lt;KV&lt;String, String&gt;, Void&gt;.ProcessContext c) {\r\n    \r\n                    KV&lt;String, String&gt; record = c.element();\r\n    \r\n                    String fieldKey = record.getKey();\r\n                    String fieldValue = record.getValue();\r\n    \r\n                    transaction.sadd(fieldKey,fieldValue);\r\n    \r\n                    batchCount++;\r\n    \r\n                    if (batchCount &gt;= DEFAULT_BATCH_SIZE) {\r\n                        transaction.exec();\r\n                        transaction.multi();\r\n                        batchCount = 0;\r\n                    }\r\n                }\r\n    \r\n                @FinishBundle\r\n                public void finishBundle() {\r\n                    if (batchCount &gt; 0) {\r\n                        transaction.exec();\r\n                    }\r\n                    if (transaction != null) {\r\n                        transaction.close();\r\n                    }\r\n                    transaction = null;\r\n                    batchCount = 0;\r\n                }\r\n    \r\n                @Teardown\r\n                public void teardown() {\r\n                    jedis.close();\r\n                }\r\n            }\r\n    \r\n            @AutoValue.Builder\r\n            abstract static class Builder {\r\n                Builder() {\r\n                }\r\n    \r\n                abstract Builder setConnectionConfiguration(CustomRedisConfigurations connectionConfiguration);\r\n    \r\n                abstract Builder setExpireTime(Long expireTimeMillis);\r\n    \r\n                abstract Write build();\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nThe test class is as follows:\r\n\r\n    package com.example.dataflow.io.redis;\r\n    \r\n    import com.github.fppt.jedismock.RedisServer;\r\n    import org.apache.beam.sdk.io.TextIO;\r\n    import org.apache.beam.sdk.testing.PAssert;\r\n    import org.apache.beam.sdk.testing.TestPipeline;\r\n    import org.apache.beam.sdk.transforms.Create;\r\n    import org.apache.beam.sdk.transforms.DoFn;\r\n    import org.apache.beam.sdk.transforms.ParDo;\r\n    import org.apache.beam.sdk.transforms.Wait;\r\n    import org.apache.beam.sdk.values.KV;\r\n    import org.apache.beam.sdk.values.PCollection;\r\n    import org.apache.beam.sdk.values.PDone;\r\n    import org.junit.*;\r\n    import org.mockito.Mock;\r\n    import org.mockito.MockitoAnnotations;\r\n    import redis.clients.jedis.Jedis;\r\n    import redis.clients.jedis.Transaction;\r\n    \r\n    import javax.net.ssl.SSLSocketFactory;\r\n    import java.io.IOException;\r\n    \r\n    import static org.junit.Assert.assertNotNull;\r\n    import static org.mockito.Mockito.*;\r\n    \r\n    \r\n    public class RedisWriteIOTest {\r\n    \r\n        private static final String REDIS_HOST = &quot;localhost&quot;;\r\n        private static final String[] INPUT_DATA = new String[]{\r\n                &quot;123456789&quot;,\r\n                &quot;Bruce&quot;,\r\n                &quot;Wayne&quot;\r\n        };\r\n    \r\n        @Mock\r\n        static SSLSocketFactory socketFactory;\r\n        private static RedisServer server;\r\n        private static int port;\r\n    \r\n        @Mock\r\n        private static Jedis jedis;\r\n    \r\n        @Mock\r\n        private Transaction transaction;\r\n    \r\n        private int batchCount;\r\n    \r\n        @Rule\r\n        public TestPipeline pipeline = TestPipeline.create();\r\n        @Mock\r\n        CustomRedisConfigurations connection;\r\n    \r\n        @Mock\r\n        DoFn.OutputReceiver&lt;KV&lt;String, String&gt;&gt; out;\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.openMocks(this);\r\n            when(connection.connect()).thenReturn(jedis);\r\n            when(jedis.multi()).thenReturn(transaction);\r\n            batchCount = 0;\r\n        }\r\n    \r\n    \r\n        @BeforeClass\r\n        public static void beforeClass() throws Exception {\r\n            server = RedisServer.newRedisServer(8000);\r\n            server.start();\r\n            port = server.getBindPort();\r\n            jedis = new Jedis(server.getHost(), server.getBindPort());\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void afterClass() throws IOException {\r\n            jedis.close();\r\n            server.stop();\r\n        }\r\n    \r\n        @Test\r\n        public void WriteMemoryStoreWithEmptyAuth() {\r\n            RedisWriteIO.write()\r\n                    .withEndpoint(REDIS_HOST, port).withAuth(&quot;&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void WriteMemoryStoreWithAuth() {\r\n            RedisWriteIO.write()\r\n                    .withAuth(&quot;AuthString&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void WriteTimeOut() {\r\n            RedisWriteIO.write()\r\n                    .withTimeout(10);\r\n        }\r\n    \r\n        @Test\r\n        public void WriteMemoryStoreWithExpireTime() {\r\n            RedisWriteIO.Write write = RedisWriteIO.write();\r\n            write = write.withExpireTime(1000L);\r\n            assertNotNull(write);\r\n        }\r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void WriteMemoryStoreWithoutExpireTime() {\r\n            RedisWriteIO.write()\r\n                    .withExpireTime(0L);\r\n        }\r\n    \r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void WriteMemoryStoreWithNegativeExpireTime() {\r\n            RedisWriteIO.write()\r\n                    .withExpireTime(-10L);\r\n        }\r\n    \r\n        @Test\r\n        public void WriteMemoryStoryWithConnectionConfiguration() {\r\n            connection = CustomRedisConfigurations.create().withHost(REDIS_HOST).withPort(port);\r\n            RedisWriteIO.Write write = RedisWriteIO.write()\r\n                    .withConnectionConfiguration(connection);\r\n            assertNotNull(write);\r\n        }\r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void WriteMemoryStoryWithNullConnectionConfiguration() {\r\n            RedisWriteIO.Write write = RedisWriteIO.write()\r\n                    .withConnectionConfiguration(null);\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void testBatchProcessingWithTransactionExecuted() {\r\n            RedisWriteIO.Write spec = RedisWriteIO.write().withConnectionConfiguration(connection);\r\n            PCollection&lt;String&gt; flushFlag = pipeline.apply(&quot;Read File&quot;, TextIO.read().from(&quot;files/fileHavingFiveThousandRecords.txt&quot;));\r\n\r\n            List&lt;KV&lt;String, String&gt;&gt; recordEntries = new ArrayList&lt;&gt;();\r\n            for (int i = 0; i &lt;= 10000; i++) {\r\n                // adding unique entries 10000 times\r\n                recordEntries.add(KV.of(&quot;Bruce:Wayne&quot; + i, &quot;123456789&quot; + i));\r\n            }\r\n\r\n            // outputData will be written to Redis (memorystore)\r\n            PCollection&lt;KV&lt;String, String&gt;&gt; outputData = pipeline.apply(Create.of(recordEntries));\r\n\r\n            outputData.apply(&quot;Waiting until clearing Redis database&quot;, Wait.on(flushFlag))\r\n                   .apply(&quot;Writing the data into Redis database&quot;, RedisWriteIO.write()\r\n                        .withConnectionConfiguration(CustomRedisConfigurations\r\n                                .create(REDIS_HOST, port)\r\n                                .withTimeout(100)\r\n                                .withAuth(&quot;credentials&quot;)\r\n                                .enableSSL()));\r\n            pipeline.run();\r\n\r\n        }\r\n    \r\n    }\r\n\r\n\r\n`RedisWriteIO` is a utility class that would write the data from files into Redis database. It works as expected, and the test cases written are working as expected. However, the below block of code is not getting covered by SonarQube.\r\n\r\n    if (batchCount &gt;= DEFAULT_BATCH_SIZE) {\r\n         transaction.exec();\r\n         transaction.multi();\r\n         batchCount = 0;\r\n    }\r\n\r\nWhen the file is having more than 1000 records, the above block should execute. It doesn&#39;t work in the test class. I have tried covering this block of code in the `testBatchProcessingWithTransactionExecuted()` method with a test file having 5000 records but still the block of code doesn&#39;t execute.\r\n\r\nI need help in writing the test case covering all the lines.\r\n\r\n","title":"Google Cloud Dataflow&#39;s Code Coverage on the new code is not passing the threshold in SonarQube after Java 17 upgrade","body":"<p>Recently, I have upgraded my cloud dataflow application from Java 11 to Java 17 and its corresponding dependencies. The application works fine and even the test cases work fine. I have also upgraded my apache beam version from 2.35.0 to 2.49.0.</p>\n<p>However, in one of the custom classes, <code>RedisWriteIO</code>, there are some changes and now the tests are not passing in the new code coverage.</p>\n<p><strong>RedisWriteIO</strong></p>\n<pre><code>package com.example.dataflow.io.redis;\n\nimport com.google.auto.value.AutoValue;\nimport org.apache.beam.sdk.transforms.DoFn;\nimport org.apache.beam.sdk.transforms.PTransform;\nimport org.apache.beam.sdk.transforms.ParDo;\nimport org.apache.beam.sdk.values.KV;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.apache.beam.sdk.values.PDone;\nimport org.apache.beam.vendor.guava.v26_0_jre.com.google.common.base.Preconditions;\nimport org.checkerframework.checker.nullness.qual.Nullable;\nimport redis.clients.jedis.Jedis;\nimport redis.clients.jedis.Transaction;\n\npublic class RedisWriteIO {\n\n    public static Write write() {\n        return (new AutoValue_RedisWriteIO_Write.Builder())\n                .setConnectionConfiguration(CustomRedisConfigurations.create()).build();\n    }\n\n    @AutoValue\n    public abstract static class Write extends PTransform&lt;PCollection&lt;KV&lt;String,String&gt;&gt;, PDone&gt; {\n        public Write() {\n        }\n\n        @Nullable\n        abstract CustomRedisConfigurations connectionConfiguration();\n\n        @Nullable\n        abstract Long expireTime();\n\n        abstract Builder toBuilder();\n\n        public Write withEndpoint(String host, int port) {\n            Preconditions.checkArgument(host != null, &quot;host can not be null&quot;);\n            Preconditions.checkArgument(port &gt; 0, &quot;port can not be negative or 0&quot;);\n            return this.toBuilder().setConnectionConfiguration(this.connectionConfiguration().withHost(host).withPort(port)).build();\n        }\n\n        public Write withAuth(String auth) {\n            Preconditions.checkArgument(auth != null, &quot;auth can not be null&quot;);\n            return this.toBuilder().setConnectionConfiguration(this.connectionConfiguration().withAuth(auth)).build();\n        }\n\n        public Write withTimeout(int timeout) {\n            Preconditions.checkArgument(timeout &gt;= 0, &quot;timeout can not be negative&quot;);\n            return this.toBuilder().setConnectionConfiguration(this.connectionConfiguration().withTimeout(timeout)).build();\n        }\n\n        public Write withConnectionConfiguration(CustomRedisConfigurations connection) {\n            Preconditions.checkArgument(connection != null, &quot;connection can not be null&quot;);\n            return this.toBuilder().setConnectionConfiguration(connection).build();\n        }\n\n        public Write withExpireTime(Long expireTimeMillis) {\n            Preconditions.checkArgument(expireTimeMillis != null, &quot;expireTimeMillis can not be null&quot;);\n            Preconditions.checkArgument(expireTimeMillis &gt; 0L, &quot;expireTimeMillis can not be negative or 0&quot;);\n            return this.toBuilder().setExpireTime(expireTimeMillis).build();\n        }\n\n        public PDone expand(PCollection&lt;KV&lt;String, String&gt;&gt; input) {\n            Preconditions.checkArgument(this.connectionConfiguration() != null, &quot;withConnectionConfiguration() is required&quot;);\n            input.apply(ParDo.of(new WriteFn(this)));\n            return PDone.in(input.getPipeline());\n        }\n\n        private static class WriteFn extends DoFn&lt;KV&lt;String, String&gt;, Void&gt;{\n            private static final int DEFAULT_BATCH_SIZE = 1000;\n            private final RedisWriteIO.Write spec;\n            private transient Jedis jedis;\n            private transient @Nullable Transaction transaction;\n\n            private int batchCount;\n\n            public WriteFn(RedisWriteIO.Write spec) {\n                this.spec = spec;\n            }\n\n            @Setup\n            public void setup() {\n                jedis = spec.connectionConfiguration().connect();\n            }\n\n            @StartBundle\n            public void startBundle() {\n                transaction = jedis.multi();\n                batchCount = 0;\n            }\n            @ProcessElement\n            public void processElement(DoFn&lt;KV&lt;String, String&gt;, Void&gt;.ProcessContext c) {\n\n                KV&lt;String, String&gt; record = c.element();\n\n                String fieldKey = record.getKey();\n                String fieldValue = record.getValue();\n\n                transaction.sadd(fieldKey,fieldValue);\n\n                batchCount++;\n\n                if (batchCount &gt;= DEFAULT_BATCH_SIZE) {\n                    transaction.exec();\n                    transaction.multi();\n                    batchCount = 0;\n                }\n            }\n\n            @FinishBundle\n            public void finishBundle() {\n                if (batchCount &gt; 0) {\n                    transaction.exec();\n                }\n                if (transaction != null) {\n                    transaction.close();\n                }\n                transaction = null;\n                batchCount = 0;\n            }\n\n            @Teardown\n            public void teardown() {\n                jedis.close();\n            }\n        }\n\n        @AutoValue.Builder\n        abstract static class Builder {\n            Builder() {\n            }\n\n            abstract Builder setConnectionConfiguration(CustomRedisConfigurations connectionConfiguration);\n\n            abstract Builder setExpireTime(Long expireTimeMillis);\n\n            abstract Write build();\n\n        }\n    }\n}\n</code></pre>\n<p>The test class is as follows:</p>\n<pre><code>package com.example.dataflow.io.redis;\n\nimport com.github.fppt.jedismock.RedisServer;\nimport org.apache.beam.sdk.io.TextIO;\nimport org.apache.beam.sdk.testing.PAssert;\nimport org.apache.beam.sdk.testing.TestPipeline;\nimport org.apache.beam.sdk.transforms.Create;\nimport org.apache.beam.sdk.transforms.DoFn;\nimport org.apache.beam.sdk.transforms.ParDo;\nimport org.apache.beam.sdk.transforms.Wait;\nimport org.apache.beam.sdk.values.KV;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.apache.beam.sdk.values.PDone;\nimport org.junit.*;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\nimport redis.clients.jedis.Jedis;\nimport redis.clients.jedis.Transaction;\n\nimport javax.net.ssl.SSLSocketFactory;\nimport java.io.IOException;\n\nimport static org.junit.Assert.assertNotNull;\nimport static org.mockito.Mockito.*;\n\n\npublic class RedisWriteIOTest {\n\n    private static final String REDIS_HOST = &quot;localhost&quot;;\n    private static final String[] INPUT_DATA = new String[]{\n            &quot;123456789&quot;,\n            &quot;Bruce&quot;,\n            &quot;Wayne&quot;\n    };\n\n    @Mock\n    static SSLSocketFactory socketFactory;\n    private static RedisServer server;\n    private static int port;\n\n    @Mock\n    private static Jedis jedis;\n\n    @Mock\n    private Transaction transaction;\n\n    private int batchCount;\n\n    @Rule\n    public TestPipeline pipeline = TestPipeline.create();\n    @Mock\n    CustomRedisConfigurations connection;\n\n    @Mock\n    DoFn.OutputReceiver&lt;KV&lt;String, String&gt;&gt; out;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.openMocks(this);\n        when(connection.connect()).thenReturn(jedis);\n        when(jedis.multi()).thenReturn(transaction);\n        batchCount = 0;\n    }\n\n\n    @BeforeClass\n    public static void beforeClass() throws Exception {\n        server = RedisServer.newRedisServer(8000);\n        server.start();\n        port = server.getBindPort();\n        jedis = new Jedis(server.getHost(), server.getBindPort());\n    }\n\n    @AfterClass\n    public static void afterClass() throws IOException {\n        jedis.close();\n        server.stop();\n    }\n\n    @Test\n    public void WriteMemoryStoreWithEmptyAuth() {\n        RedisWriteIO.write()\n                .withEndpoint(REDIS_HOST, port).withAuth(&quot;&quot;);\n    }\n\n    @Test\n    public void WriteMemoryStoreWithAuth() {\n        RedisWriteIO.write()\n                .withAuth(&quot;AuthString&quot;);\n    }\n\n    @Test\n    public void WriteTimeOut() {\n        RedisWriteIO.write()\n                .withTimeout(10);\n    }\n\n    @Test\n    public void WriteMemoryStoreWithExpireTime() {\n        RedisWriteIO.Write write = RedisWriteIO.write();\n        write = write.withExpireTime(1000L);\n        assertNotNull(write);\n    }\n\n    @Test(expected = IllegalArgumentException.class)\n    public void WriteMemoryStoreWithoutExpireTime() {\n        RedisWriteIO.write()\n                .withExpireTime(0L);\n    }\n\n\n    @Test(expected = IllegalArgumentException.class)\n    public void WriteMemoryStoreWithNegativeExpireTime() {\n        RedisWriteIO.write()\n                .withExpireTime(-10L);\n    }\n\n    @Test\n    public void WriteMemoryStoryWithConnectionConfiguration() {\n        connection = CustomRedisConfigurations.create().withHost(REDIS_HOST).withPort(port);\n        RedisWriteIO.Write write = RedisWriteIO.write()\n                .withConnectionConfiguration(connection);\n        assertNotNull(write);\n    }\n\n    @Test(expected = IllegalArgumentException.class)\n    public void WriteMemoryStoryWithNullConnectionConfiguration() {\n        RedisWriteIO.Write write = RedisWriteIO.write()\n                .withConnectionConfiguration(null);\n    }\n\n\n    @Test\n    public void testBatchProcessingWithTransactionExecuted() {\n        RedisWriteIO.Write spec = RedisWriteIO.write().withConnectionConfiguration(connection);\n        PCollection&lt;String&gt; flushFlag = pipeline.apply(&quot;Read File&quot;, TextIO.read().from(&quot;files/fileHavingFiveThousandRecords.txt&quot;));\n\n        List&lt;KV&lt;String, String&gt;&gt; recordEntries = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt;= 10000; i++) {\n            // adding unique entries 10000 times\n            recordEntries.add(KV.of(&quot;Bruce:Wayne&quot; + i, &quot;123456789&quot; + i));\n        }\n\n        // outputData will be written to Redis (memorystore)\n        PCollection&lt;KV&lt;String, String&gt;&gt; outputData = pipeline.apply(Create.of(recordEntries));\n\n        outputData.apply(&quot;Waiting until clearing Redis database&quot;, Wait.on(flushFlag))\n               .apply(&quot;Writing the data into Redis database&quot;, RedisWriteIO.write()\n                    .withConnectionConfiguration(CustomRedisConfigurations\n                            .create(REDIS_HOST, port)\n                            .withTimeout(100)\n                            .withAuth(&quot;credentials&quot;)\n                            .enableSSL()));\n        pipeline.run();\n\n    }\n\n}\n</code></pre>\n<p><code>RedisWriteIO</code> is a utility class that would write the data from files into Redis database. It works as expected, and the test cases written are working as expected. However, the below block of code is not getting covered by SonarQube.</p>\n<pre><code>if (batchCount &gt;= DEFAULT_BATCH_SIZE) {\n     transaction.exec();\n     transaction.multi();\n     batchCount = 0;\n}\n</code></pre>\n<p>When the file is having more than 1000 records, the above block should execute. It doesn't work in the test class. I have tried covering this block of code in the <code>testBatchProcessingWithTransactionExecuted()</code> method with a test file having 5000 records but still the block of code doesn't execute.</p>\n<p>I need help in writing the test case covering all the lines.</p>\n"},{"tags":["java","certificate","glassfish"],"answers":[{"tags":[],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692948197,"creation_date":1692948197,"answer_id":76975087,"question_id":76967379,"body_markdown":"Here is the solution that works in my case:\r\n\r\nFrom **EDGE** explorer, I had to access the WSDL URL and **export the certificate**.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OKpKr.png\r\n  [2]: https://i.stack.imgur.com/MZqG8.png\r\n  [3]: https://i.stack.imgur.com/sYch7.png\r\n\r\nMove it to the **config** path of **Glassfish** (C:\\PROYECT\\glassfish4\\glassfish\\domains\\domain1\\config), and from there, import it.\r\n\r\n**`keytool -import -trustcacerts -alias DigiCert_Global_Root_G2 -file &quot;DigiCert Global Root G2.crt&quot; -keystore cacerts.jks`**\r\n","title":"Getting &#39;Unable to find valid certification path to requested target&#39; in Glassfish but not in standalone Java App","body":"<p>Here is the solution that works in my case:</p>\n<p>From <strong>EDGE</strong> explorer, I had to access the WSDL URL and <strong>export the certificate</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/OKpKr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OKpKr.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MZqG8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZqG8.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/sYch7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYch7.png\" alt=\"enter image description here\" /></a></p>\n<p>Move it to the <strong>config</strong> path of <strong>Glassfish</strong> (C:\\PROYECT\\glassfish4\\glassfish\\domains\\domain1\\config), and from there, import it.</p>\n<p><strong><code>keytool -import -trustcacerts -alias DigiCert_Global_Root_G2 -file &quot;DigiCert Global Root G2.crt&quot; -keystore cacerts.jks</code></strong></p>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76975087,"answer_count":1,"score":0,"last_activity_date":1692948197,"creation_date":1692864909,"question_id":76967379,"body_markdown":"Working with Eclipse IDE, given the following class, from which I omit everything unnecessary:\r\n\r\n    import java.net.URL;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.ws.Service;\r\n    import javax.xml.ws.WebServiceClient;\r\n    //...\r\n    \r\n    @WebServiceClient\r\n    public class CustomService extends Service {\r\n        \r\n        public CustomService(URL wsdlLocation, QName serviceName) {\r\n            super(wsdlLocation, serviceName);\r\n        }\r\n    \r\n    \t//...\t\r\n    }\r\n\r\nWhen it is invoked from the &#39;main&#39; method of another **standalone class**, when passing through the line **super(wsdlLocation, serviceName)**, it works correctly.\r\n\r\nBUT, when it is invoked from a class that is executed upon **Glassfish** loading, when passing through the line **super(wsdlLocation, serviceName)**, it throws the following exception:\r\n\r\n    com.sun.xml.ws.wsdl.parser.InaccessibleWSDLException: 2 counts of InaccessibleWSDLException.\r\n    \r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nHow to solve it?\r\n\r\n","title":"Getting &#39;Unable to find valid certification path to requested target&#39; in Glassfish but not in standalone Java App","body":"<p>Working with Eclipse IDE, given the following class, from which I omit everything unnecessary:</p>\n<pre><code>import java.net.URL;\nimport javax.xml.namespace.QName;\nimport javax.xml.ws.Service;\nimport javax.xml.ws.WebServiceClient;\n//...\n\n@WebServiceClient\npublic class CustomService extends Service {\n    \n    public CustomService(URL wsdlLocation, QName serviceName) {\n        super(wsdlLocation, serviceName);\n    }\n\n    //...   \n}\n</code></pre>\n<p>When it is invoked from the 'main' method of another <strong>standalone class</strong>, when passing through the line <strong>super(wsdlLocation, serviceName)</strong>, it works correctly.</p>\n<p>BUT, when it is invoked from a class that is executed upon <strong>Glassfish</strong> loading, when passing through the line <strong>super(wsdlLocation, serviceName)</strong>, it throws the following exception:</p>\n<pre><code>com.sun.xml.ws.wsdl.parser.InaccessibleWSDLException: 2 counts of InaccessibleWSDLException.\n\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>How to solve it?</p>\n"},{"tags":["java","spring","spring-boot","cron","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692948191,"creation_date":1692948191,"answer_id":76975085,"question_id":76973786,"body_markdown":"As long as the application logic that needs to be parallelized can be split into distinct responsibilities and assigned to individual steps, it can be parallelized in a single process. Parallel Step execution is easy to configure and use.\r\n\r\nWhen using Java configuration, executing steps (step1,step2) in parallel with step3 is straightforward, as follows:\r\n```\r\n@Bean\r\npublic Job job(JobRepository jobRepository) {\r\n    return new JobBuilder(&quot;job&quot;, jobRepository)\r\n        .start(splitFlow())\r\n        .next(step4())\r\n        .build()        //builds FlowJobBuilder instance\r\n        .build();       //builds Job instance\r\n}\r\n\r\n@Bean\r\npublic Flow splitFlow() {\r\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;splitFlow&quot;)\r\n        .split(taskExecutor())\r\n        .add(flow1(), flow2())\r\n        .build();\r\n}\r\n\r\n@Bean\r\npublic Flow flow1() {\r\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flow1&quot;)\r\n        .start(step1())\r\n        .next(step2())\r\n        .build();\r\n}\r\n\r\n@Bean\r\npublic Flow flow2() {\r\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flow2&quot;)\r\n        .start(step3())\r\n        .build();\r\n}\r\n\r\n@Bean\r\npublic TaskExecutor taskExecutor() {\r\n    return new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;);\r\n}\r\n```\r\nThe configurable task executor is used to specify which TaskExecutor implementation should execute the individual flows. The default is SyncTaskExecutor, but an asynchronous TaskExecutor is required to run the steps in parallel. Note that the job ensures that every flow in the split completes before aggregating the exit statuses and transitioning.\r\n\r\nBased on: [https://docs.spring.io/spring-batch/docs/current/reference/html/scalability.html#scalabilityParallelSteps][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/scalability.html#scalabilityParallelSteps","title":"Java Springboot Job Flow to execute two steps simultaneously","body":"<p>As long as the application logic that needs to be parallelized can be split into distinct responsibilities and assigned to individual steps, it can be parallelized in a single process. Parallel Step execution is easy to configure and use.</p>\n<p>When using Java configuration, executing steps (step1,step2) in parallel with step3 is straightforward, as follows:</p>\n<pre><code>@Bean\npublic Job job(JobRepository jobRepository) {\n    return new JobBuilder(&quot;job&quot;, jobRepository)\n        .start(splitFlow())\n        .next(step4())\n        .build()        //builds FlowJobBuilder instance\n        .build();       //builds Job instance\n}\n\n@Bean\npublic Flow splitFlow() {\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;splitFlow&quot;)\n        .split(taskExecutor())\n        .add(flow1(), flow2())\n        .build();\n}\n\n@Bean\npublic Flow flow1() {\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flow1&quot;)\n        .start(step1())\n        .next(step2())\n        .build();\n}\n\n@Bean\npublic Flow flow2() {\n    return new FlowBuilder&lt;SimpleFlow&gt;(&quot;flow2&quot;)\n        .start(step3())\n        .build();\n}\n\n@Bean\npublic TaskExecutor taskExecutor() {\n    return new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;);\n}\n</code></pre>\n<p>The configurable task executor is used to specify which TaskExecutor implementation should execute the individual flows. The default is SyncTaskExecutor, but an asynchronous TaskExecutor is required to run the steps in parallel. Note that the job ensures that every flow in the split completes before aggregating the exit statuses and transitioning.</p>\n<p>Based on: <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/scalability.html#scalabilityParallelSteps\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/current/reference/html/scalability.html#scalabilityParallelSteps</a></p>\n"}],"owner":{"account_id":15876857,"reputation":31,"user_id":11455815,"display_name":"Lokesh Parihar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76975085,"answer_count":1,"score":0,"last_activity_date":1692948191,"creation_date":1692927799,"question_id":76973786,"body_markdown":"I want to write a Batch job which has steps (let&#39;s say A, B, C, D). The batch should execute in following way:\r\n\r\n```\r\n   A\r\n   |\r\nB and C\r\n   |\r\n   D\r\n```\r\n\r\nBut current setup is: A -&gt; B -&gt; C -&gt; D.\r\nI want execute B and C at the same time and different threads.\r\n\r\nBoth B and C execution duration is different (lets say duration for B is 5 min and for C it is 10 min)\r\n\r\n###### More details:\r\n\r\nStep A: Truncates the some table in database.\r\n\r\nStep B and C: Batch read and writer with chunks of 2000. \r\n\r\nReader: JdbcCursorItemReader | \r\nProcessor: Not using | \r\nWriter: JdbcBatchItemWriter\r\n\r\nStep D: Run PL/SQL procedure which depends on data writes in Step B and C so this should start only after B &amp; C successfully complete.\r\n\r\nI&#39;m using Quartz scheduler to running this job. So also let me know if I need to use multithread to run this job, because currently it is running in only one worker thread.\r\n\r\nPlease write the code also.\r\n\r\nCurrent Setup of Job:\r\n\r\n~~~\r\npublic Job demoJob(){\r\nreturn jobBuilderFactory.get(&quot;demoJob&quot;)\r\n.listener(jobExecutionListener())\r\n.start(A())\r\n.next(B())\r\n.next(C())\r\n.next(D())\r\n.build();\r\n}\r\n~~~\r\n\r\nExpectation:\r\n\r\n```\r\npublic Job demoJob(){\r\nreturn jobBuilderFactory.get(&quot;demoJob&quot;)\r\n.listener(jobExecutionListener())\r\n.start(A())\r\n.next(B() and C())                        // How to setup this\r\n.next(D())\r\n.build();\r\n}\r\n```","title":"Java Springboot Job Flow to execute two steps simultaneously","body":"<p>I want to write a Batch job which has steps (let's say A, B, C, D). The batch should execute in following way:</p>\n<pre><code>   A\n   |\nB and C\n   |\n   D\n</code></pre>\n<p>But current setup is: A -&gt; B -&gt; C -&gt; D.\nI want execute B and C at the same time and different threads.</p>\n<p>Both B and C execution duration is different (lets say duration for B is 5 min and for C it is 10 min)</p>\n<h6>More details:</h6>\n<p>Step A: Truncates the some table in database.</p>\n<p>Step B and C: Batch read and writer with chunks of 2000.</p>\n<p>Reader: JdbcCursorItemReader |\nProcessor: Not using |\nWriter: JdbcBatchItemWriter</p>\n<p>Step D: Run PL/SQL procedure which depends on data writes in Step B and C so this should start only after B &amp; C successfully complete.</p>\n<p>I'm using Quartz scheduler to running this job. So also let me know if I need to use multithread to run this job, because currently it is running in only one worker thread.</p>\n<p>Please write the code also.</p>\n<p>Current Setup of Job:</p>\n<pre><code>public Job demoJob(){\nreturn jobBuilderFactory.get(&quot;demoJob&quot;)\n.listener(jobExecutionListener())\n.start(A())\n.next(B())\n.next(C())\n.next(D())\n.build();\n}\n</code></pre>\n<p>Expectation:</p>\n<pre><code>public Job demoJob(){\nreturn jobBuilderFactory.get(&quot;demoJob&quot;)\n.listener(jobExecutionListener())\n.start(A())\n.next(B() and C())                        // How to setup this\n.next(D())\n.build();\n}\n</code></pre>\n"},{"tags":["java","graph","depth-first-search"],"answers":[{"comments":[{"owner":{"account_id":4890716,"reputation":13,"user_id":3941940,"display_name":"Cherukuri Surya"},"score":0,"creation_date":1692947226,"post_id":76974664,"comment_id":135696444,"body_markdown":"But in the example you mentioned, we pop 1, 2,3 before going to 4.\nAt any point it is O(V) right?","body":"But in the example you mentioned, we pop 1, 2,3 before going to 4. At any point it is O(V) right?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1692947905,"post_id":76974664,"comment_id":135696580,"body_markdown":"Yes, my example was not a worst case. Updated to give a worst case example.","body":"Yes, my example was not a worst case. Updated to give a worst case example."},{"owner":{"account_id":4890716,"reputation":13,"user_id":3941940,"display_name":"Cherukuri Surya"},"score":0,"creation_date":1692948501,"post_id":76974664,"comment_id":135696699,"body_markdown":"yes you are right, thanks for clarifying.\n\nDo you know what can be done to have O(V+E) time and O(V) to achieve this iteratively?","body":"yes you are right, thanks for clarifying.  Do you know what can be done to have O(V+E) time and O(V) to achieve this iteratively?"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1692950094,"post_id":76974664,"comment_id":135696996,"body_markdown":"Yes, the idea is to use one more state (apart from `visited`) for each node, indicating whether you have finished visiting all of a node&#39;s descendants. A cycle is found when the current node was already visited, but not yet &quot;finished&quot;. You don&#39;t need to stack any sets then. If you get stuck implementing that idea, you may ask a new question about that including your code attempt and problem description.","body":"Yes, the idea is to use one more state (apart from <code>visited</code>) for each node, indicating whether you have finished visiting all of a node&#39;s descendants. A cycle is found when the current node was already visited, but not yet &quot;finished&quot;. You don&#39;t need to stack any sets then. If you get stuck implementing that idea, you may ask a new question about that including your code attempt and problem description."},{"owner":{"account_id":4890716,"reputation":13,"user_id":3941940,"display_name":"Cherukuri Surya"},"score":1,"creation_date":1692951739,"post_id":76974664,"comment_id":135697352,"body_markdown":"Got it, like have an another visited array for each traversal, like currVisited.","body":"Got it, like have an another visited array for each traversal, like currVisited."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692947886,"creation_date":1692944011,"answer_id":76974664,"question_id":76974093,"body_markdown":"No, the space complexity is not O(&#119881;). For a given starting node `i`, the helper function stores for each of its (non-cyclic) descendants the path from `i` to that descendant. In a worst case this could represent O(&#119881;&#178;).\r\n\r\nTake for instance this graph:\r\n\r\n         1\r\n        / \\\r\n       2   3\r\n          / \\\r\n         4   5\r\n            / \\\r\n           6   7\r\n              / \\\r\n             8   ...\r\n                 ...\r\n                 /  \\\r\n              &#119881;-1    &#119881;\r\n\r\n...and let `i` be the root node. Then the loop will add two nodes to the stack in each iteration, and pop one, until it reaches node &#119881;. When it has arrived there, we have a stack with &#119881;/2 entries (representing the nodes with *even* numbers), and each will have a set with the nodes on the root-to-node path. So the sizes of those sets are 2, 3, 4, 5, ... &#119881;/2\r\n\r\n      &lt;2, {1, 2}&gt;\r\n      &lt;4, {1, 3, 4}&gt;\r\n      &lt;6, {1, 3, 5, 6}&gt;\r\n      &lt;8, {1, 3, 5, 7, 8}&gt;\r\n       ...\r\n\r\nThe sum of these set sizes is a triangular number and is O(&#119881;&#178;).\r\n\r\nAs the creation of a set of size &#119899; has a time complexity of O(&#119899;) (see the statement where `temp` is assigned), you also have a worst-case time complexity of O(&#119881;&#178;) = O(&#119864;&#178;).","title":"Whats the time and space complexity of this code to find a cycle in a Directed graph using dfs iterative","body":"<p>No, the space complexity is not O(𝑉). For a given starting node <code>i</code>, the helper function stores for each of its (non-cyclic) descendants the path from <code>i</code> to that descendant. In a worst case this could represent O(𝑉²).</p>\n<p>Take for instance this graph:</p>\n<pre><code>     1\n    / \\\n   2   3\n      / \\\n     4   5\n        / \\\n       6   7\n          / \\\n         8   ...\n             ...\n             /  \\\n          𝑉-1    𝑉\n</code></pre>\n<p>...and let <code>i</code> be the root node. Then the loop will add two nodes to the stack in each iteration, and pop one, until it reaches node 𝑉. When it has arrived there, we have a stack with 𝑉/2 entries (representing the nodes with <em>even</em> numbers), and each will have a set with the nodes on the root-to-node path. So the sizes of those sets are 2, 3, 4, 5, ... 𝑉/2</p>\n<pre><code>  &lt;2, {1, 2}&gt;\n  &lt;4, {1, 3, 4}&gt;\n  &lt;6, {1, 3, 5, 6}&gt;\n  &lt;8, {1, 3, 5, 7, 8}&gt;\n   ...\n</code></pre>\n<p>The sum of these set sizes is a triangular number and is O(𝑉²).</p>\n<p>As the creation of a set of size 𝑛 has a time complexity of O(𝑛) (see the statement where <code>temp</code> is assigned), you also have a worst-case time complexity of O(𝑉²) = O(𝐸²).</p>\n"}],"owner":{"account_id":4890716,"reputation":13,"user_id":3941940,"display_name":"Cherukuri Surya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76974664,"answer_count":1,"score":1,"last_activity_date":1692947886,"creation_date":1692934216,"question_id":76974093,"body_markdown":"\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass Program {\r\n    public boolean cycleInGraph(int[][] edges) {\r\n        // Write your code here.\r\n        int n = edges.length;\r\n        boolean[] visited = new boolean[n];\r\n\r\n        Arrays.fill(visited, false);\r\n\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if (visited[i]) continue;\r\n\r\n            boolean containsCycle =\r\n                helper(edges, i, visited);\r\n            if (containsCycle) return true;\r\n        }\r\n        return false;\r\n    }\r\n    public boolean helper(int[][] edges, int i, boolean[] visited) {\r\n        Set &lt; Integer &gt; set = new HashSet &lt; &gt; ();\r\n        Stack &lt; Map.Entry &lt; Integer, Set &lt; Integer &gt;&gt;&gt; s = new Stack &lt; &gt; ();\r\n        set.add(i);\r\n        s.push(new AbstractMap.SimpleEntry &lt; &gt; (i, set));\r\n\r\n        while (!s.isEmpty()) {\r\n            Map.Entry &lt; Integer, Set &lt; Integer &gt;&gt; curr = s.pop();\r\n            Set &lt; Integer &gt; path = curr.getValue();\r\n            int node = curr.getKey();\r\n            visited[node] = true;\r\n            if (edges[node].length == 0) path.remove(node);\r\n            for (int children: edges[node]) {\r\n                if (visited[children] &amp;&amp; path.contains(children)) {\r\n                    return true;\r\n                }\r\n                Set &lt; Integer &gt; temp = new HashSet &lt; &gt; (path);\r\n                temp.add(children);\r\n                s.push(new AbstractMap.SimpleEntry &lt; &gt; (children, temp));\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n\r\nPlease confirm is the time and space complexity is O(V+E) and O(V) ?\r\n\r\nI used a iterative dfs using a stack and storing the path in the stack.\r\n\r\nWhat I want to understand is the space used at any point is O(V).\r\n","title":"Whats the time and space complexity of this code to find a cycle in a Directed graph using dfs iterative","body":"<pre><code>import java.util.*;\n\nclass Program {\n    public boolean cycleInGraph(int[][] edges) {\n        // Write your code here.\n        int n = edges.length;\n        boolean[] visited = new boolean[n];\n\n        Arrays.fill(visited, false);\n\n        for (int i = 0; i &lt; n; i++) {\n            if (visited[i]) continue;\n\n            boolean containsCycle =\n                helper(edges, i, visited);\n            if (containsCycle) return true;\n        }\n        return false;\n    }\n    public boolean helper(int[][] edges, int i, boolean[] visited) {\n        Set &lt; Integer &gt; set = new HashSet &lt; &gt; ();\n        Stack &lt; Map.Entry &lt; Integer, Set &lt; Integer &gt;&gt;&gt; s = new Stack &lt; &gt; ();\n        set.add(i);\n        s.push(new AbstractMap.SimpleEntry &lt; &gt; (i, set));\n\n        while (!s.isEmpty()) {\n            Map.Entry &lt; Integer, Set &lt; Integer &gt;&gt; curr = s.pop();\n            Set &lt; Integer &gt; path = curr.getValue();\n            int node = curr.getKey();\n            visited[node] = true;\n            if (edges[node].length == 0) path.remove(node);\n            for (int children: edges[node]) {\n                if (visited[children] &amp;&amp; path.contains(children)) {\n                    return true;\n                }\n                Set &lt; Integer &gt; temp = new HashSet &lt; &gt; (path);\n                temp.add(children);\n                s.push(new AbstractMap.SimpleEntry &lt; &gt; (children, temp));\n            }\n        }\n        return false;\n    }\n}\n\n</code></pre>\n<p>Please confirm is the time and space complexity is O(V+E) and O(V) ?</p>\n<p>I used a iterative dfs using a stack and storing the path in the stack.</p>\n<p>What I want to understand is the space used at any point is O(V).</p>\n"},{"tags":["java","spring","spring-boot","hystrix","circuit-breaker"],"answers":[{"tags":[],"owner":{"account_id":5370110,"reputation":554,"user_id":4278899,"display_name":"Olivier Meurice"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482080267,"creation_date":1482080267,"answer_id":41210706,"question_id":41210369,"body_markdown":"Your @HystrixCommand annotated method should be public.\r\nNot sure about the fallback method but I would set it public as well.","title":"Hystrix fallback method is not invoked","body":"<p>Your @HystrixCommand annotated method should be public.\nNot sure about the fallback method but I would set it public as well.</p>\n"},{"comments":[{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":0,"creation_date":1545251628,"post_id":41211068,"comment_id":94565283,"body_markdown":"why separate class?","body":"why separate class?"},{"owner":{"account_id":6142042,"reputation":504,"user_id":4789157,"accept_rate":75,"display_name":"David"},"score":0,"creation_date":1548278013,"post_id":41211068,"comment_id":95488740,"body_markdown":"@ses It is just a suggestion to separate the @ SpringBootApplication, @ Controller,  and @ Service/@ Component, instead of all the code at one place. Just a coding best practice suggestion, as over the period of time there will lot of code at one place and difficult to manage.","body":"@ses It is just a suggestion to separate the @ SpringBootApplication, @ Controller,  and @ Service/@ Component, instead of all the code at one place. Just a coding best practice suggestion, as over the period of time there will lot of code at one place and difficult to manage."}],"tags":[],"owner":{"account_id":6142042,"reputation":504,"user_id":4789157,"accept_rate":75,"display_name":"David"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1484428945,"creation_date":1482082631,"answer_id":41211068,"question_id":41210369,"body_markdown":"Both the methods i.e. the actual and fallback methods should be public and move these methods to a separate class and annotate it with @Component.\r\n\r\nGive a try, hope this helps.","title":"Hystrix fallback method is not invoked","body":"<p>Both the methods i.e. the actual and fallback methods should be public and move these methods to a separate class and annotate it with @Component.</p>\n\n<p>Give a try, hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":11536295,"reputation":31,"user_id":8453594,"display_name":"umbum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606058704,"creation_date":1564476937,"answer_id":57267870,"question_id":41210369,"body_markdown":"This is because of AOP.\r\n\r\nThe Spring container injects aspect-aware bean when injecting a bean.\r\n\r\nWhen the `name()` function is called at the user&#39;s request, the method of the aspect-aware bean is called so annotation works.\r\n\r\nHowever, calling `this.getCustomerName()` directly within the `name()` calls `getCustomerName()` on the raw bean before it is wrapped in proxy. It doesn&#39;t know aspect. Therefore, annotation does not work.\r\n\r\n","title":"Hystrix fallback method is not invoked","body":"<p>This is because of AOP.</p>\n<p>The Spring container injects aspect-aware bean when injecting a bean.</p>\n<p>When the <code>name()</code> function is called at the user's request, the method of the aspect-aware bean is called so annotation works.</p>\n<p>However, calling <code>this.getCustomerName()</code> directly within the <code>name()</code> calls <code>getCustomerName()</code> on the raw bean before it is wrapped in proxy. It doesn't know aspect. Therefore, annotation does not work.</p>\n"},{"tags":[],"owner":{"account_id":8315755,"reputation":449,"user_id":6249116,"accept_rate":10,"display_name":"Camilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565746270,"creation_date":1565746270,"answer_id":57487106,"question_id":41210369,"body_markdown":"You can also try stopping and starting the service, if you added the dependency of netflix-hystrix and have dev-tools to pick up changes while executing the service.","title":"Hystrix fallback method is not invoked","body":"<p>You can also try stopping and starting the service, if you added the dependency of netflix-hystrix and have dev-tools to pick up changes while executing the service.</p>\n"},{"tags":[],"owner":{"account_id":8146172,"reputation":11,"user_id":6134761,"display_name":"emre avci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623569205,"creation_date":1623564343,"answer_id":67955356,"question_id":41210369,"body_markdown":"Fallback metod should be  called from another bean. The problem is you are calling fallback method from RestController.","title":"Hystrix fallback method is not invoked","body":"<p>Fallback metod should be  called from another bean. The problem is you are calling fallback method from RestController.</p>\n"},{"tags":[],"owner":{"account_id":17614949,"reputation":121,"user_id":12782217,"display_name":"Bexzod Xayrullayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690813273,"creation_date":1690813273,"answer_id":76804530,"question_id":41210369,"body_markdown":"You can try this because of HystrixComman is aspect\r\n\r\n    @Bean\r\n    @Primary\r\n    @Order(value= Ordered.HIGHEST_PRECEDENCE)\r\n    public HystrixCommandAspect hystrixAspect() {\r\n        return new HystrixCommandAspect();\r\n    }\r\n\r\n","title":"Hystrix fallback method is not invoked","body":"<p>You can try this because of HystrixComman is aspect</p>\n<pre><code>@Bean\n@Primary\n@Order(value= Ordered.HIGHEST_PRECEDENCE)\npublic HystrixCommandAspect hystrixAspect() {\n    return new HystrixCommandAspect();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15913029,"reputation":98,"user_id":11482481,"display_name":"Sandhya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692947883,"creation_date":1692888202,"answer_id":76970440,"question_id":41210369,"body_markdown":"The `@HystrixCommand` annotated method should be public. The fallback method can be private as well.","title":"Hystrix fallback method is not invoked","body":"<p>The <code>@HystrixCommand</code> annotated method should be public. The fallback method can be private as well.</p>\n"}],"owner":{"account_id":1737292,"reputation":1809,"user_id":1589549,"accept_rate":38,"display_name":"prranay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6669,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41211068,"answer_count":7,"score":4,"last_activity_date":1692947883,"creation_date":1482078140,"question_id":41210369,"body_markdown":"I&#39;m trying hystrix fallback method.\r\nOn localhost:8082, customer-service is running which returns name of the customer.\r\n\r\nIf the customer-service is down, fallback method should invoke. But it is not happening.\r\n\r\n\r\nBelow is the code snippet.\r\n\r\nPlease suggest.\r\n\r\n    @SpringBootApplication\r\n    @EnableDiscoveryClient\r\n    @EnableCircuitBreaker\r\n    @RestController\r\n    public class DemoHystrixApplication {\r\n    \r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic String name() {\r\n    \t\tString str = getCustomerName();\r\n    \t\treturn str;\r\n    \t}\r\n    \t\r\n    \t@HystrixCommand(fallbackMethod = &quot;getFallbackCustomerName&quot;)\r\n    \tprivate String getCustomerName() {\r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t    URI uri = URI.create(&quot;http://localhost:8082&quot;);\r\n    \t    return restTemplate.getForObject(uri, String.class);\r\n    \t}\r\n    \r\n    \tprivate String getFallbackCustomerName() {\r\n    \t\tSystem.out.println(&quot;coming inside fallback method&quot;);\r\n    \t\treturn &quot;Resillient Customer&quot;;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoHystrixApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n \r\n","title":"Hystrix fallback method is not invoked","body":"<p>I'm trying hystrix fallback method.\nOn localhost:8082, customer-service is running which returns name of the customer.</p>\n\n<p>If the customer-service is down, fallback method should invoke. But it is not happening.</p>\n\n<p>Below is the code snippet.</p>\n\n<p>Please suggest.</p>\n\n<pre><code>@SpringBootApplication\n@EnableDiscoveryClient\n@EnableCircuitBreaker\n@RestController\npublic class DemoHystrixApplication {\n\n    @GetMapping(\"/\")\n    public String name() {\n        String str = getCustomerName();\n        return str;\n    }\n\n    @HystrixCommand(fallbackMethod = \"getFallbackCustomerName\")\n    private String getCustomerName() {\n        RestTemplate restTemplate = new RestTemplate();\n        URI uri = URI.create(\"http://localhost:8082\");\n        return restTemplate.getForObject(uri, String.class);\n    }\n\n    private String getFallbackCustomerName() {\n        System.out.println(\"coming inside fallback method\");\n        return \"Resillient Customer\";\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoHystrixApplication.class, args);\n    }\n}\n</code></pre>\n"},{"tags":["java","string","split","substring","contains"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":6,"creation_date":1659967973,"post_id":73279258,"comment_id":129414553,"body_markdown":"Why is this not short and efficient?","body":"Why is this not short and efficient?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1659967996,"post_id":73279258,"comment_id":129414560,"body_markdown":"alternatively get the index of the second whitespace and take a substring until that second index.","body":"alternatively get the index of the second whitespace and take a substring until that second index."},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659968099,"post_id":73279258,"comment_id":129414598,"body_markdown":"But it is equally long and inefficient","body":"But it is equally long and inefficient"},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659968222,"post_id":73279258,"comment_id":129414656,"body_markdown":"f1sh Because you can&#39;t reuse the code and it needs unnecessary variables. And arrays are never perfect anyway","body":"f1sh Because you can&#39;t reuse the code and it needs unnecessary variables. And arrays are never perfect anyway"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1659968319,"post_id":73279258,"comment_id":129414696,"body_markdown":"String splitting or taking a substring are probably the two most efficient ways to do this.  For kicks, I gave a regex answer which st least is easy on the eyes.","body":"String splitting or taking a substring are probably the two most efficient ways to do this.  For kicks, I gave a regex answer which st least is easy on the eyes."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1659968456,"post_id":73279258,"comment_id":129414751,"body_markdown":"@bschle To be fair your code is perfectly fine, once you move the declarations where they&#39;re needed instead of the beginning of code block. It&#39;s readable and what it does is perfectly clear. It&#39;s not inefficient and it&#39;s short and to the point.","body":"@bschle To be fair your code is perfectly fine, once you move the declarations where they&#39;re needed instead of the beginning of code block. It&#39;s readable and what it does is perfectly clear. It&#39;s not inefficient and it&#39;s short and to the point."},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659968772,"post_id":73279258,"comment_id":129414890,"body_markdown":"@Federico klez Culloca\nThanks but you always have to add + &quot; &quot; + newStringArray[x] if you want longer and so it is not perfect with a long sat","body":"@Federico klez Culloca Thanks but you always have to add + &quot; &quot; + newStringArray[x] if you want longer and so it is not perfect with a long sat"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1659979906,"post_id":73279258,"comment_id":129419229,"body_markdown":"@bschle of course you can reuse this code, move it to a method. And the variables can be inlined. You&#39;re splitting hairs here.","body":"@bschle of course you can reuse this code, move it to a method. And the variables can be inlined. You&#39;re splitting hairs here."},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659983482,"post_id":73279258,"comment_id":129420451,"body_markdown":"Yeah, i know thanks but i must use witch my opinion an very long array","body":"Yeah, i know thanks but i must use witch my opinion an very long array"}],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659969045,"post_id":73279321,"comment_id":129414986,"body_markdown":"Just small notice: the `.*` will require from regex to traverse entire line, not just first two words.","body":"Just small notice: the <code>.*</code> will require from regex to traverse entire line, not just first two words."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1659969153,"post_id":73279321,"comment_id":129415028,"body_markdown":"@Pshemo ... but `.*` won&#39;t match across lines, and also the goal is to just extract the first 2 words, and so we match the remainder of the string to access the capture group.","body":"@Pshemo ... but <code>.*</code> won&#39;t match across lines, and also the goal is to just extract the first 2 words, and so we match the remainder of the string to access the capture group."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659970469,"post_id":73279321,"comment_id":129415566,"body_markdown":"&quot;*`.*` won&#39;t match across lines*&quot; true since by default `.` doesn&#39;t match line separators. Just wanted to point out that this solution will still require to iterate over that line which may be noticeable when working with string with long first/only line. For *such cases* better solution would be using combination of `indexOf`/`substring`, or `Matcher#find` with regex like `\\\\w+ \\\\w+`, or even calling `Scanner#next` twice and concatenate results. BUT if first line is not that long (like in OP example) your solution should also be fine.","body":"&quot;<i><code>.*</code> won&#39;t match across lines</i>&quot; true since by default <code>.</code> doesn&#39;t match line separators. Just wanted to point out that this solution will still require to iterate over that line which may be noticeable when working with string with long first/only line. For <i>such cases</i> better solution would be using combination of <code>indexOf</code>/<code>substring</code>, or <code>Matcher#find</code> with regex like <code>\\\\w+ \\\\w+</code>, or even calling <code>Scanner#next</code> twice and concatenate results. BUT if first line is not that long (like in OP example) your solution should also be fine."},{"owner":{"account_id":7138893,"reputation":103,"user_id":5457383,"display_name":"Willempie"},"score":0,"creation_date":1659971482,"post_id":73279321,"comment_id":129416054,"body_markdown":"This is short, but I doubt its efficient. Under the hood the regex needs to be compiled before it is used.","body":"This is short, but I doubt its efficient. Under the hood the regex needs to be compiled before it is used."},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1659971601,"post_id":73279321,"comment_id":129416105,"body_markdown":"@Willempie I already gave this caveat under the OP.  Your comment is not needed here.  Sometimes maximum performance is what matters most, and other times readability/maintainability is more important.","body":"@Willempie I already gave this caveat under the OP.  Your comment is not needed here.  Sometimes maximum performance is what matters most, and other times readability/maintainability is more important."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659977069,"post_id":73279321,"comment_id":129418280,"body_markdown":"This solution is slower due to hidden complexity.  As someone already stated, regular expression is compiled to state machine and then used to match the input.  Regular expression is great for matching complex patterns in large string but would not be good for simple solution where a loop will out perform it.  Here&#39;s a simple comparison of a loop and regular expression.  https://onlinegdb.com/-P30VnzDL","body":"This solution is slower due to hidden complexity.  As someone already stated, regular expression is compiled to state machine and then used to match the input.  Regular expression is great for matching complex patterns in large string but would not be good for simple solution where a loop will out perform it.  Here&#39;s a simple comparison of a loop and regular expression.  <a href=\"https://onlinegdb.com/-P30VnzDL\" rel=\"nofollow noreferrer\">onlinegdb.com/-P30VnzDL</a>"}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659968110,"creation_date":1659968110,"answer_id":73279321,"question_id":73279258,"body_markdown":"As an alternative to `String#split()`, you could use a regex replacement approach:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String string = &quot;hello world bye moon&quot;;\r\n    String firstTwo = string.replaceAll(&quot;(\\\\w+ \\\\w+).*&quot;, &quot;$1&quot;);\r\n    System.out.println(firstTwo);  // hello world","title":"Java split string to get only two words","body":"<p>As an alternative to <code>String#split()</code>, you could use a regex replacement approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;hello world bye moon&quot;;\nString firstTwo = string.replaceAll(&quot;(\\\\w+ \\\\w+).*&quot;, &quot;$1&quot;);\nSystem.out.println(firstTwo);  // hello world\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659968434,"creation_date":1659968434,"answer_id":73279400,"question_id":73279258,"body_markdown":"You can also use substring:\r\n\r\n     String string = &quot;hello world bye moon&quot;;\r\n     String stringTwo = string.substring(0, string.indexOf(&#39; &#39;, string.indexOf(&#39; &#39;)+1));\r\n     \r\n     System.out.println(stringTwo);","title":"Java split string to get only two words","body":"<p>You can also use substring:</p>\n<pre><code> String string = &quot;hello world bye moon&quot;;\n String stringTwo = string.substring(0, string.indexOf(' ', string.indexOf(' ')+1));\n \n System.out.println(stringTwo);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659971615,"post_id":73280156,"comment_id":129416115,"body_markdown":"Why you mean an dirty version? But thanks","body":"Why you mean an dirty version? But thanks"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1659971637,"post_id":73280156,"comment_id":129416126,"body_markdown":"I mean it doesn&#39;t check its inputs","body":"I mean it doesn&#39;t check its inputs"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659972096,"post_id":73280156,"comment_id":129416311,"body_markdown":"This version would split the entire string.  If the string is really long with a lot of white spaces, it would traverse the entire string, creating substring for each word and putting them into an array.  This is not a fast solution and it consumes more memory.","body":"This version would split the entire string.  If the string is really long with a lot of white spaces, it would traverse the entire string, creating substring for each word and putting them into an array.  This is not a fast solution and it consumes more memory."},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659972297,"post_id":73280156,"comment_id":129416402,"body_markdown":"@Cheng Thao your right to long sentences is this and my option is not good.","body":"@Cheng Thao your right to long sentences is this and my option is not good."}],"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659971746,"creation_date":1659971511,"answer_id":73280156,"question_id":73279258,"body_markdown":"Reading your comments it seems that you actually want a method that, given a string and a number `n`, extracts the first `n` words from said string.\r\n\r\nHere&#39;s a quick and dirty version using streams.\r\n\r\n    public static String extractWords(String s, int howMany) {\r\n        var splitString = s.split(&quot; &quot;);\r\n        // TODO: make sure `howMany` is not too big\r\n        return java.util.Arrays.stream(splitString)  // create stream\r\n                               .limit(howMany)       // take only `howMany` elements\r\n                               .collect(java.util.stream.Collectors.joining(&quot; &quot;)); // re-join with spaces\r\n    }\r\n\r\nAnd a version with sub-arrays\r\n\r\n    public static String extractWords(String s, int howMany) {\r\n        var splitString = s.split(&quot; &quot;);\r\n        // TODO: make sure `howMany` is not too big\r\n        var subArray = java.util.Arrays.copyOf(splitString, howMany); // extract sub array\r\n        return String.join(&quot; &quot;, subArray);                            // return joined strings\r\n    }\r\n\r\nIn both versions checking the parameters are valid (i.e. string is not null and there are enough words to return) is left as an exercise for the reader","title":"Java split string to get only two words","body":"<p>Reading your comments it seems that you actually want a method that, given a string and a number <code>n</code>, extracts the first <code>n</code> words from said string.</p>\n<p>Here's a quick and dirty version using streams.</p>\n<pre><code>public static String extractWords(String s, int howMany) {\n    var splitString = s.split(&quot; &quot;);\n    // TODO: make sure `howMany` is not too big\n    return java.util.Arrays.stream(splitString)  // create stream\n                           .limit(howMany)       // take only `howMany` elements\n                           .collect(java.util.stream.Collectors.joining(&quot; &quot;)); // re-join with spaces\n}\n</code></pre>\n<p>And a version with sub-arrays</p>\n<pre><code>public static String extractWords(String s, int howMany) {\n    var splitString = s.split(&quot; &quot;);\n    // TODO: make sure `howMany` is not too big\n    var subArray = java.util.Arrays.copyOf(splitString, howMany); // extract sub array\n    return String.join(&quot; &quot;, subArray);                            // return joined strings\n}\n</code></pre>\n<p>In both versions checking the parameters are valid (i.e. string is not null and there are enough words to return) is left as an exercise for the reader</p>\n"},{"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659972246,"post_id":73280183,"comment_id":129416373,"body_markdown":"I would imagine this is and the one that uses indexOf are the two fastest one.  The most expensive operation is the substring as it has to make a copy of the first two words.  That requires additional memory.","body":"I would imagine this is and the one that uses indexOf are the two fastest one.  The most expensive operation is the substring as it has to make a copy of the first two words.  That requires additional memory."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1659972475,"post_id":73280183,"comment_id":129416506,"body_markdown":"At this point you should generalize it to `n` words by passing it as a parameter and checking `spaces` against that. (I know that&#39;s not in the body of the original post, but it&#39;s hinted at in the comments)","body":"At this point you should generalize it to <code>n</code> words by passing it as a parameter and checking <code>spaces</code> against that. (I know that&#39;s not in the body of the original post, but it&#39;s hinted at in the comments)"},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659972567,"post_id":73280183,"comment_id":129416546,"body_markdown":"But if you want it for big sentences it would be good to add this. ` static String firstTwoWords(String s, int amount){\n        int spaces = 0;\n        int i = 0;\n        for(i=0; i&lt;s.length() &amp;&amp; spaces &lt; amount; i++)\n            if (s.charAt(i) == &#39; &#39;)\n                spaces++;\n        return s.substring(0, i);\n    }`","body":"But if you want it for big sentences it would be good to add this. ` static String firstTwoWords(String s, int amount){         int spaces = 0;         int i = 0;         for(i=0; i&lt;s.length() &amp;&amp; spaces &lt; amount; i++)             if (s.charAt(i) == &#39; &#39;)                 spaces++;         return s.substring(0, i);     }`"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1659972636,"post_id":73280183,"comment_id":129416592,"body_markdown":"Yes, but I assume you only want at most the first two words.  But yes, you can make it general to deal with any number of words.","body":"Yes, but I assume you only want at most the first two words.  But yes, you can make it general to deal with any number of words."},{"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"score":0,"creation_date":1659979808,"post_id":73280183,"comment_id":129419201,"body_markdown":"Yes, you&#39;re right that I only wanted to wei. But so you can better reuse in the future","body":"Yes, you&#39;re right that I only wanted to wei. But so you can better reuse in the future"}],"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659971832,"creation_date":1659971622,"answer_id":73280183,"question_id":73279258,"body_markdown":"The fast solution is one that doesn&#39;t process the entire string.  Imagine if the string is thousands of characters long with a lot of white spaces.  It should read just enough characters to get the first two words.  You can use String.indexOf to get the second space.  Or you could write your own as below:\r\n\r\n```\r\npublic class Main{\r\n   static String firstTwoWords(String s){\r\n      int spaces = 0;\r\n      int i = 0;\r\n      for(i=0; i&lt;s.length() &amp;&amp; spaces &lt; 2; i++)\r\n         if (s.charAt(i) == &#39; &#39;) \r\n            spaces++;\r\n      return s.substring(0, i);\r\n   }\r\n   \r\n\tpublic static void main(String[] args) {\r\n\t    String s0 = &quot;hello&quot;;\r\n\t\tString s1 = &quot;hello world&quot;;\r\n\t\tString s2 = &quot;hello world peple&quot;;\r\n\t\tSystem.out.println(firstTwoWords(s0));\r\n\t\tSystem.out.println(firstTwoWords(s1));\r\n\t\tSystem.out.println(firstTwoWords(s2));\r\n\t}\r\n}\r\n```","title":"Java split string to get only two words","body":"<p>The fast solution is one that doesn't process the entire string.  Imagine if the string is thousands of characters long with a lot of white spaces.  It should read just enough characters to get the first two words.  You can use String.indexOf to get the second space.  Or you could write your own as below:</p>\n<pre><code>public class Main{\n   static String firstTwoWords(String s){\n      int spaces = 0;\n      int i = 0;\n      for(i=0; i&lt;s.length() &amp;&amp; spaces &lt; 2; i++)\n         if (s.charAt(i) == ' ') \n            spaces++;\n      return s.substring(0, i);\n   }\n   \n    public static void main(String[] args) {\n        String s0 = &quot;hello&quot;;\n        String s1 = &quot;hello world&quot;;\n        String s2 = &quot;hello world peple&quot;;\n        System.out.println(firstTwoWords(s0));\n        System.out.println(firstTwoWords(s1));\n        System.out.println(firstTwoWords(s2));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26017129,"reputation":46,"user_id":22423584,"display_name":"zytroy"},"score":0,"creation_date":1692948308,"post_id":76975050,"comment_id":135696671,"body_markdown":"public static String extractSubstring(String inputString, int startWordIndex, int length) {\n    String[] words = inputString.split(&quot; &quot;);\n    StringBuilder extractedSubstring = new StringBuilder();\n\n    for (int i = startWordIndex; i &lt; startWordIndex + length &amp;&amp; i &lt; words.length; i++) {\n        extractedSubstring.append(words[i]).append(&quot; &quot;);\n    }\n\n    return extractedSubstring.toString().trim();\n}","body":"public static String extractSubstring(String inputString, int startWordIndex, int length) {     String[] words = inputString.split(&quot; &quot;);     StringBuilder extractedSubstring = new StringBuilder();      for (int i = startWordIndex; i &lt; startWordIndex + length &amp;&amp; i &lt; words.length; i++) {         extractedSubstring.append(words[i]).append(&quot; &quot;);     }      return extractedSubstring.toString().trim(); }"}],"tags":[],"owner":{"account_id":26017129,"reputation":46,"user_id":22423584,"display_name":"zytroy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692947814,"creation_date":1692947814,"answer_id":76975050,"question_id":73279258,"body_markdown":"In Java, you can achieve this more efficiently and concisely without splitting and concatenating by using the `StringTokenizer` class or regular expressions. Here&#39;s an example using `StringTokenizer`:\r\n\r\n```java\r\nimport java.util.StringTokenizer;\r\n\r\npublic class ExtractFirstTwoWords {\r\n    public static void main(String[] args) {\r\n        String inputString = &quot;hello world bye moon&quot;;\r\n\r\n        // Use StringTokenizer to split the string into words\r\n        StringTokenizer tokenizer = new StringTokenizer(inputString);\r\n\r\n        // Check if there are at least two words\r\n        if (tokenizer.countTokens() &gt;= 2) {\r\n            // Extract the first two words\r\n            String firstTwoWords = tokenizer.nextToken() + &quot; &quot; + tokenizer.nextToken();\r\n            System.out.println(&quot;First two words: &quot; + firstTwoWords);\r\n        } else {\r\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAlternatively, you can use regular expressions for a more powerful and flexible approach:\r\n\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class ExtractFirstTwoWords {\r\n    public static void main(String[] args) {\r\n        String inputString = &quot;hello world bye moon&quot;;\r\n\r\n        // Define a regular expression to match words\r\n        Pattern pattern = Pattern.compile(&quot;\\\\b\\\\w+\\\\b&quot;);\r\n\r\n        // Create a Matcher\r\n        Matcher matcher = pattern.matcher(inputString);\r\n\r\n        // Find the first two words\r\n        StringBuilder firstTwoWords = new StringBuilder();\r\n        for (int i = 0; i &lt; 2 &amp;&amp; matcher.find(); i++) {\r\n            firstTwoWords.append(matcher.group()).append(&quot; &quot;);\r\n        }\r\n\r\n        if (firstTwoWords.length() &gt; 0) {\r\n            // Remove the trailing space\r\n            firstTwoWords.setLength(firstTwoWords.length() - 1);\r\n            System.out.println(&quot;First two words: &quot; + firstTwoWords.toString());\r\n        } else {\r\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBoth of these approaches avoid creating an intermediate array and are more efficient for extracting the first two words from a string.","title":"Java split string to get only two words","body":"<p>In Java, you can achieve this more efficiently and concisely without splitting and concatenating by using the <code>StringTokenizer</code> class or regular expressions. Here's an example using <code>StringTokenizer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.StringTokenizer;\n\npublic class ExtractFirstTwoWords {\n    public static void main(String[] args) {\n        String inputString = &quot;hello world bye moon&quot;;\n\n        // Use StringTokenizer to split the string into words\n        StringTokenizer tokenizer = new StringTokenizer(inputString);\n\n        // Check if there are at least two words\n        if (tokenizer.countTokens() &gt;= 2) {\n            // Extract the first two words\n            String firstTwoWords = tokenizer.nextToken() + &quot; &quot; + tokenizer.nextToken();\n            System.out.println(&quot;First two words: &quot; + firstTwoWords);\n        } else {\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Alternatively, you can use regular expressions for a more powerful and flexible approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class ExtractFirstTwoWords {\n    public static void main(String[] args) {\n        String inputString = &quot;hello world bye moon&quot;;\n\n        // Define a regular expression to match words\n        Pattern pattern = Pattern.compile(&quot;\\\\b\\\\w+\\\\b&quot;);\n\n        // Create a Matcher\n        Matcher matcher = pattern.matcher(inputString);\n\n        // Find the first two words\n        StringBuilder firstTwoWords = new StringBuilder();\n        for (int i = 0; i &lt; 2 &amp;&amp; matcher.find(); i++) {\n            firstTwoWords.append(matcher.group()).append(&quot; &quot;);\n        }\n\n        if (firstTwoWords.length() &gt; 0) {\n            // Remove the trailing space\n            firstTwoWords.setLength(firstTwoWords.length() - 1);\n            System.out.println(&quot;First two words: &quot; + firstTwoWords.toString());\n        } else {\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Both of these approaches avoid creating an intermediate array and are more efficient for extracting the first two words from a string.</p>\n"}],"owner":{"account_id":25334471,"reputation":188,"user_id":19153819,"display_name":"lesch"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":4,"up_vote_count":5,"accepted_answer_id":76975050,"answer_count":5,"score":1,"last_activity_date":1692947814,"creation_date":1659967865,"question_id":73279258,"body_markdown":"I have a Java string like &quot;hello world bye moon&quot; and I&#39;m looking for an efficient way to extract the first two words from it. Currently, I&#39;m using the split method and then concatenating the first two elements of the resulting array. However, I&#39;m wondering if there&#39;s a more concise and efficient way to achieve this.\r\n\r\nHere&#39;s my current code:\r\n\r\n    public class ExtractFirstTwoWords {\r\n        public static void main(String[] args) {\r\n            String inputString = &quot;hello world bye moon&quot;;\r\n    \r\n            // Split the string into words\r\n            String[] words = inputString.split(&quot; &quot;);\r\n    \r\n            // Check if there are at least two words\r\n            if (words.length &gt;= 2) {\r\n                // Extract the first two words\r\n                String firstTwoWords = words[0] + &quot; &quot; + words[1];\r\n                System.out.println(&quot;First two words: &quot; + firstTwoWords);\r\n            } else {\r\n                System.out.println(&quot;The input string does not contain at least two words.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIs there a built-in Java method or a more efficient approach to extract the first two words from a string without splitting and concatenating all the words in the string?\r\n","title":"Java split string to get only two words","body":"<p>I have a Java string like &quot;hello world bye moon&quot; and I'm looking for an efficient way to extract the first two words from it. Currently, I'm using the split method and then concatenating the first two elements of the resulting array. However, I'm wondering if there's a more concise and efficient way to achieve this.</p>\n<p>Here's my current code:</p>\n<pre><code>public class ExtractFirstTwoWords {\n    public static void main(String[] args) {\n        String inputString = &quot;hello world bye moon&quot;;\n\n        // Split the string into words\n        String[] words = inputString.split(&quot; &quot;);\n\n        // Check if there are at least two words\n        if (words.length &gt;= 2) {\n            // Extract the first two words\n            String firstTwoWords = words[0] + &quot; &quot; + words[1];\n            System.out.println(&quot;First two words: &quot; + firstTwoWords);\n        } else {\n            System.out.println(&quot;The input string does not contain at least two words.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Is there a built-in Java method or a more efficient approach to extract the first two words from a string without splitting and concatenating all the words in the string?</p>\n"},{"tags":["java","vaadin8"],"comments":[{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":0,"creation_date":1553763019,"post_id":55390021,"comment_id":97507290,"body_markdown":"`Which I know will not work` - why not? looks good to me. Did you set items for the ComboBox? There should never be a need for a Converter on a ComboBox - You can always add an `ItemLabelGenerator` where you can define the conversion from the original type to how it should be displayed (default is toString, but you could convert it to Vaadin Components for example. see how it is done in the [documentation](https://vaadin.com/components/vaadin-combo-box/java-examples/using-components))","body":"<code>Which I know will not work</code> - why not? looks good to me. Did you set items for the ComboBox? There should never be a need for a Converter on a ComboBox - You can always add an <code>ItemLabelGenerator</code> where you can define the conversion from the original type to how it should be displayed (default is toString, but you could convert it to Vaadin Components for example. see how it is done in the <a href=\"https://vaadin.com/components/vaadin-combo-box/java-examples/using-components\" rel=\"nofollow noreferrer\">documentation</a>)"},{"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"score":0,"creation_date":1553769800,"post_id":55390021,"comment_id":97511409,"body_markdown":"I got a error message The method bind(HasValue, ValueProvider, Setter) in the type Binder is not applicable for the arguments (ComboBox&lt;String&gt;, Student::getGender, Student::setGender) but when I tried to replicate the error no error was there. But using bindInstanceFields was easier though.","body":"I got a error message The method bind(HasValue, ValueProvider, Setter) in the type Binder is not applicable for the arguments (ComboBox&lt;String&gt;, Student::getGender, Student::setGender) but when I tried to replicate the error no error was there. But using bindInstanceFields was easier though."},{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":0,"creation_date":1553770240,"post_id":55390021,"comment_id":97511671,"body_markdown":"is gender actually an Enum or is it a String in your student object? using bindInstanceFields can be easier but IIRC then it only works for very basic bindings - no converters, validators, nullRepresentations, or readOnly (no setter) can be set, and you can&#39;t bind nested fields of the Student object. it basically applies `binder.forField(field).bind(&quot;propertyName&quot;)` for each HasValue-component in your view","body":"is gender actually an Enum or is it a String in your student object? using bindInstanceFields can be easier but IIRC then it only works for very basic bindings - no converters, validators, nullRepresentations, or readOnly (no setter) can be set, and you can&#39;t bind nested fields of the Student object. it basically applies <code>binder.forField(field).bind(&quot;propertyName&quot;)</code> for each HasValue-component in your view"},{"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"score":0,"creation_date":1553770439,"post_id":55390021,"comment_id":97511805,"body_markdown":"It is an Enum in a string utils with a toString method","body":"It is an Enum in a string utils with a toString method"},{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":1,"creation_date":1553770502,"post_id":55390021,"comment_id":97511858,"body_markdown":"aha! you should define your ComboBox as `ComboBox&lt;Gender&gt;` then!","body":"aha! you should define your ComboBox as <code>ComboBox&lt;Gender&gt;</code> then!"},{"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"score":0,"creation_date":1553770633,"post_id":55390021,"comment_id":97511950,"body_markdown":"Thanks this must have been the problem","body":"Thanks this must have been the problem"}],"answers":[{"tags":[],"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553761960,"creation_date":1553761960,"answer_id":55393119,"question_id":55390021,"body_markdown":"I have found that in vaadin 8 uses bindInstanceFields to bind form data to a class.\t\t\t\r\n\r\n    Binder binder = new Binder&lt;Student&gt;(Student.class);\r\n\r\n    binder.bindInstanceFields(this);\r\n    binder.readBean(student);","title":"Binding a combo box vaadin 8","body":"<p>I have found that in vaadin 8 uses bindInstanceFields to bind form data to a class.         </p>\n\n<pre><code>Binder binder = new Binder&lt;Student&gt;(Student.class);\n\nbinder.bindInstanceFields(this);\nbinder.readBean(student);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18182460,"reputation":55,"user_id":13229928,"display_name":"Albi93"},"score":0,"creation_date":1692739107,"post_id":55395981,"comment_id":135665090,"body_markdown":"Vaadin 17 and still works like a charm","body":"Vaadin 17 and still works like a charm"}],"tags":[],"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692947273,"creation_date":1553771001,"answer_id":55395981,"question_id":55390021,"body_markdown":"You mentioned in a comment that the `gender` field in your `Student` object is actually an Enum and not a String. \r\n\r\nYour mistake was that you defined the ComboBox with type String instead of your Gender enum.\r\n\r\nAssuming your gender enum class is called `Gender`, this will work:\r\n\r\n    ComboBox&lt;Gender&gt; gender = new ComboBox&lt;Gender&gt;(&quot;Gender&quot;);\r\n    Binder&lt;Student&gt; binder = new Binder&lt;Student&gt;(Student.class);\r\n    binder.bind(gender, Student::getGender, Student::setGender);\r\n\r\nYou can add an `ItemLabelGenerator` to the ComboBox to define how the selected Gender value should be displayed (and `Renderer`, which will control how the items in the dropdown will look). By default it will use `toString()` of the class, both for itemLabelGenerator and for renderer. But you could use the Renderer to build Vaadin Components for example if you want. see how it is done in the [ComboBox documentation][1]).  \r\n\r\nThe selected value can only be displayed as a String. If you want to let it be displayed as a Vaadin Component instead, you could use a `Select` component instead. [Select documentation][2].\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/components/combo-box#custom-item-presentation\r\n  [2]: https://vaadin.com/docs/latest/components/select#custom-item-presentation","title":"Binding a combo box vaadin 8","body":"<p>You mentioned in a comment that the <code>gender</code> field in your <code>Student</code> object is actually an Enum and not a String.</p>\n<p>Your mistake was that you defined the ComboBox with type String instead of your Gender enum.</p>\n<p>Assuming your gender enum class is called <code>Gender</code>, this will work:</p>\n<pre><code>ComboBox&lt;Gender&gt; gender = new ComboBox&lt;Gender&gt;(&quot;Gender&quot;);\nBinder&lt;Student&gt; binder = new Binder&lt;Student&gt;(Student.class);\nbinder.bind(gender, Student::getGender, Student::setGender);\n</code></pre>\n<p>You can add an <code>ItemLabelGenerator</code> to the ComboBox to define how the selected Gender value should be displayed (and <code>Renderer</code>, which will control how the items in the dropdown will look). By default it will use <code>toString()</code> of the class, both for itemLabelGenerator and for renderer. But you could use the Renderer to build Vaadin Components for example if you want. see how it is done in the <a href=\"https://vaadin.com/docs/latest/components/combo-box#custom-item-presentation\" rel=\"nofollow noreferrer\">ComboBox documentation</a>).</p>\n<p>The selected value can only be displayed as a String. If you want to let it be displayed as a Vaadin Component instead, you could use a <code>Select</code> component instead. <a href=\"https://vaadin.com/docs/latest/components/select#custom-item-presentation\" rel=\"nofollow noreferrer\">Select documentation</a>.</p>\n"}],"owner":{"account_id":13080131,"reputation":2313,"user_id":9450946,"display_name":"recurseuntilfor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55395981,"answer_count":2,"score":1,"last_activity_date":1692947273,"creation_date":1553746146,"question_id":55390021,"body_markdown":"I&#39;am trying to convert vaadin 7 code to vaadin 8 code Instead of using BeanFieldGroup vaadin 8 docs uses Binder instead to bind form fields to a class. This does not seem to work for combo box&#39;s.\r\n\r\nI&#39;ve looked for a way to use converter which does not seem to be available for combo box. As used in binding data to form in the vaadin documentation  [here](https://vaadin.com/docs/v8/framework/datamodel/datamodel-forms.html)\r\n\r\nFor one field the converter worked:\r\n\r\n    binder.forField(age).withConverter(\r\n\t\t\t\t\t\tnew \r\n    StringToIntegerConverter(&quot;Must enter a number&quot;)).bind(\r\n\t\t\t\t\t\tStudent::getAge, \r\n    Student::setAge);\r\n\r\nBut for a combo box I&#39;am unsure how this will work.\r\n\r\n    ComboBox&lt;String&gt; gender = new ComboBox&lt;String&gt;(&quot;Gender&quot;);\r\n\r\n    Binder binder = new Binder&lt;Student&gt;(Student.class);\r\n\r\n    binder.bind(gender, Student::getGender, Student::setGender);\r\n\r\nWhich I know will not work is there a way to write a converter for a combo box or should another way be used altogether.","title":"Binding a combo box vaadin 8","body":"<p>I'am trying to convert vaadin 7 code to vaadin 8 code Instead of using BeanFieldGroup vaadin 8 docs uses Binder instead to bind form fields to a class. This does not seem to work for combo box's.</p>\n\n<p>I've looked for a way to use converter which does not seem to be available for combo box. As used in binding data to form in the vaadin documentation  <a href=\"https://vaadin.com/docs/v8/framework/datamodel/datamodel-forms.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>For one field the converter worked:</p>\n\n<pre><code>binder.forField(age).withConverter(\n                    new \nStringToIntegerConverter(\"Must enter a number\")).bind(\n                    Student::getAge, \nStudent::setAge);\n</code></pre>\n\n<p>But for a combo box I'am unsure how this will work.</p>\n\n<pre><code>ComboBox&lt;String&gt; gender = new ComboBox&lt;String&gt;(\"Gender\");\n\nBinder binder = new Binder&lt;Student&gt;(Student.class);\n\nbinder.bind(gender, Student::getGender, Student::setGender);\n</code></pre>\n\n<p>Which I know will not work is there a way to write a converter for a combo box or should another way be used altogether.</p>\n"},{"tags":["java","android","xml","kotlin"],"answers":[{"comments":[{"owner":{"account_id":29284773,"reputation":13,"user_id":22436636,"display_name":"karimori 00"},"score":0,"creation_date":1692932740,"post_id":76972398,"comment_id":135694753,"body_markdown":"Thank you for your advise.\nBut I can&#39;t prevent functioning previous screen by this way. Could you give me other advise?\nIf more information needed, please comment to me.","body":"Thank you for your advise. But I can&#39;t prevent functioning previous screen by this way. Could you give me other advise? If more information needed, please comment to me."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1692945681,"post_id":76972398,"comment_id":135696179,"body_markdown":"@karimori00 Updated my answer. Just add `clickable=true` to second fragment.","body":"@karimori00 Updated my answer. Just add <code>clickable=true</code> to second fragment."},{"owner":{"account_id":29284773,"reputation":13,"user_id":22436636,"display_name":"karimori 00"},"score":0,"creation_date":1692968533,"post_id":76972398,"comment_id":135700875,"body_markdown":"Thank you very much your advise and update, and I can solve the problem.\nIf the same things occur in the future, I&#39;ll check **clickable** and **background** color.","body":"Thank you very much your advise and update, and I can solve the problem. If the same things occur in the future, I&#39;ll check <b>clickable</b> and <b>background</b> color."}],"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692945787,"creation_date":1692905016,"answer_id":76972398,"question_id":76970683,"body_markdown":"I faced this issue some time back. Although I am not sure what causes it, but it is because of transparent fragment background. So add a background color to the root view of all your fragments.\r\n\r\nAdd ` android:background=&quot;#fff&quot;` to root view as given below. You can use whatever color suits your design.\r\n\r\nSet `clickable` attribute of the second fragment&#39;s root view to true. Then the event will not be passed to the first fragment.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:background=&quot;#fff&quot;\r\n    android:clickable=&quot;true&quot;     \r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.dashboard.Detail1Fragment&quot;&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n","title":"Prevent overlapping after screen transition?","body":"<p>I faced this issue some time back. Although I am not sure what causes it, but it is because of transparent fragment background. So add a background color to the root view of all your fragments.</p>\n<p>Add <code> android:background=&quot;#fff&quot;</code> to root view as given below. You can use whatever color suits your design.</p>\n<p>Set <code>clickable</code> attribute of the second fragment's root view to true. Then the event will not be passed to the first fragment.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:background=&quot;#fff&quot;\n    android:clickable=&quot;true&quot;     \n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.dashboard.Detail1Fragment&quot;&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":29284773,"reputation":13,"user_id":22436636,"display_name":"karimori 00"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76972398,"answer_count":1,"score":1,"last_activity_date":1692945787,"creation_date":1692889886,"question_id":76970683,"body_markdown":"# Premise\r\nDuring implementing screen transition from ListView to other fragment, the bug overlapping ListView and the fragment occur.\r\n\r\n1. I selected Bottom Navigation View Activity template.\r\n\r\n2. added ListView to dashboard\r\n\r\n# Issue\r\nTwo elements overlay on same screen like following screenshot.\r\n\r\nAfter transition\r\n[After Transition](https://i.stack.imgur.com/J4x1a.png)\r\n\r\n# Source Code\r\n\r\nMainActivity.kt\r\n\r\n```\r\npackage com.example.guitercodeapp3\r\n\r\n//omit &#39;import&#39;\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var binding: ActivityMainBinding\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        val navView: BottomNavigationView = binding.navView\r\n\r\n        val navController = findNavController(R.id.nav_host_fragment_activity_main)\r\n        val appBarConfiguration = AppBarConfiguration(\r\n            setOf(\r\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications\r\n            )\r\n        )\r\n        setupActionBarWithNavController(navController, appBarConfiguration)\r\n        navView.setupWithNavController(navController)\r\n    }\r\n\r\n    internal fun openDetailFragment(selectedItem: String,lyrics: String){\r\n        val fragment = Detail1Fragment.newInstance(selectedItem ,lyrics)\r\n        supportFragmentManager.beginTransaction().replace(androidx.navigation.fragment.R.id.nav_host_fragment_container, fragment).addToBackStack(null).commit()\r\n    }\r\n}\r\n```\r\n\r\nDashboardFragment.kt\r\n\r\n```\r\npackage com.example.guitercodeapp3.ui.dashboard\r\n\r\n//omit &#39;import&#39;\r\n\r\nclass DashboardFragment : Fragment() {\r\n\r\n    private var _binding: FragmentDashboardBinding? = null\r\n\r\n    private val binding get() = _binding!!\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n        _binding = FragmentDashboardBinding.inflate(inflater, container, false)\r\n        val rootView: View = _binding!!.root\r\n\r\n        val listView: ListView = binding.listView\r\n        val items = resources.getStringArray(R.array.list_song)\r\n        val adapter = ArrayAdapter(requireContext(),android.R.layout.simple_list_item_1,items)\r\n        listView.adapter = adapter\r\n\r\n        val dashboardViewModel =\r\n            ViewModelProvider(this).get(DashboardViewModel::class.java)\r\n\r\n        //val rootView = inflater.inflate(R.layout.fragment_dashboard,container,false)\r\n\r\n\r\n        listView.setOnItemClickListener { parent, view, position, id -&gt;\r\n            val selectedItem = items[position]\r\n            val lyrics = resources.getStringArray(R.array.list_lyrics)[position]\r\n            val activity = requireActivity() as MainActivity\r\n            activity.openDetailFragment(selectedItem, lyrics)\r\n            val detail1Fragment = Detail1Fragment.newInstance(selectedItem, lyrics)\r\n\r\n            requireActivity().supportFragmentManager.beginTransaction().replace(R.id.nav_host_fragment_container,detail1Fragment).addToBackStack(null).commit()\r\n            Toast.makeText(requireContext(), &quot;$selectedItem が選択されました&quot;, Toast.LENGTH_SHORT)\r\n                .show()\r\n        }\r\n\r\n\r\n\r\n        val textView: TextView = binding.textDashboard\r\n        dashboardViewModel.text.observe(viewLifecycleOwner) {\r\n            textView.text = it\r\n        }\r\n        return rootView\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        _binding = null\r\n    }\r\n}\r\n```\r\n\r\nDetail1Fragment.kt\r\n\r\n```\r\npackage com.example.guitercodeapp3.ui.dashboard\r\n\r\n//omit &#39;import&#39;\r\n\r\nclass Detail1Fragment : Fragment() {\r\n\r\n    companion object {\r\n        private const val ARG_SELECTED_ITEM = &quot;selected_item&quot;\r\n        private const val ARG_LYRICS = &quot;lyrics&quot;\r\n\r\n        fun newInstance(selectedItem: String, lyrics: String):Detail1Fragment{\r\n            val fragment = Detail1Fragment()\r\n            val args = Bundle()\r\n            args.putString(ARG_SELECTED_ITEM, selectedItem)\r\n            args.putString(ARG_LYRICS,lyrics)\r\n            fragment.arguments = args\r\n            return fragment\r\n        }\r\n    }\r\n\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n\r\n        val rootView = inflater.inflate(R.layout.fragment_detail1,container,false)\r\n        val textViewDetail = rootView.findViewById&lt;TextView&gt;(R.id.textViewDetail)\r\n\r\n\r\n        arguments?.let{\r\n            val selectedItem = it.getString(ARG_SELECTED_ITEM)\r\n            val lyrics = it.getString(ARG_LYRICS)\r\n            textViewDetail.text = &quot;$selectedItem\\n\\n$lyrics&quot;\r\n        }\r\n\r\n\r\n        return rootView\r\n    }\r\n\r\n}\r\n```\r\n\r\nfragment_dashboard.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.dashboard.DashboardFragment&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_dashboard&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.6&quot; /&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listView&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:entries=&quot;@array/list_song&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/text_dashboard&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nfragment_detail1.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.ui.dashboard.Detail1Fragment&quot;&gt;\r\n\r\n    &lt;!-- TODO: Update blank fragment layout --&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textViewDetail&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:text=&quot;@string/hello_blank_fragment&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nstrings.xml\r\n\r\n```\r\n&lt;resources&gt;\r\n    &lt;string name=&quot;app_name&quot;&gt;GuiterCodeApp3&lt;/string&gt;\r\n    &lt;string name=&quot;title_home&quot;&gt;Home&lt;/string&gt;\r\n    &lt;string name=&quot;title_dashboard&quot;&gt;Dashboard&lt;/string&gt;\r\n    &lt;string name=&quot;title_notifications&quot;&gt;Notifications&lt;/string&gt;\r\n    &lt;string name=&quot;list_animal&quot; /&gt;\r\n\r\n    &lt;string-array name=&quot;list_song&quot;&gt;\r\n        &lt;item&gt;Imagine&lt;/item&gt;\r\n        &lt;item&gt;Shape of you&lt;/item&gt;\r\n        &lt;item&gt;Whatever&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;list_lyrics&quot;&gt;\r\n        &lt;item&gt;Lyrics of Imagine&lt;/item&gt;\r\n        &lt;item&gt;Lyrics of Shape of you&lt;/item&gt;\r\n        &lt;item&gt;Lyrics of Whatever&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;!-- TODO: Remove or change this placeholder text --&gt;\r\n    &lt;string name=&quot;hello_blank_fragment&quot;&gt;Hello blank fragment&lt;/string&gt;\r\n\r\n&lt;/resources&gt;\r\n```\r\n\r\n# Supplementary information\r\nAndroid Studio Giraffe | 2022.3.1\r\n\r\n# What I tried\r\nI make sure id,name,entries,and navGraph in xml files.\r\n\r\nI tried changing the IDs in the `listView.setOnItemClickListener` section of DashboardFragment.kt,\r\nbut there were no progress.","title":"Prevent overlapping after screen transition?","body":"<h1>Premise</h1>\n<p>During implementing screen transition from ListView to other fragment, the bug overlapping ListView and the fragment occur.</p>\n<ol>\n<li><p>I selected Bottom Navigation View Activity template.</p>\n</li>\n<li><p>added ListView to dashboard</p>\n</li>\n</ol>\n<h1>Issue</h1>\n<p>Two elements overlay on same screen like following screenshot.</p>\n<p>After transition\n<a href=\"https://i.stack.imgur.com/J4x1a.png\" rel=\"nofollow noreferrer\">After Transition</a></p>\n<h1>Source Code</h1>\n<p>MainActivity.kt</p>\n<pre><code>package com.example.guitercodeapp3\n\n//omit 'import'\n\nclass MainActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityMainBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        val navView: BottomNavigationView = binding.navView\n\n        val navController = findNavController(R.id.nav_host_fragment_activity_main)\n        val appBarConfiguration = AppBarConfiguration(\n            setOf(\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications\n            )\n        )\n        setupActionBarWithNavController(navController, appBarConfiguration)\n        navView.setupWithNavController(navController)\n    }\n\n    internal fun openDetailFragment(selectedItem: String,lyrics: String){\n        val fragment = Detail1Fragment.newInstance(selectedItem ,lyrics)\n        supportFragmentManager.beginTransaction().replace(androidx.navigation.fragment.R.id.nav_host_fragment_container, fragment).addToBackStack(null).commit()\n    }\n}\n</code></pre>\n<p>DashboardFragment.kt</p>\n<pre><code>package com.example.guitercodeapp3.ui.dashboard\n\n//omit 'import'\n\nclass DashboardFragment : Fragment() {\n\n    private var _binding: FragmentDashboardBinding? = null\n\n    private val binding get() = _binding!!\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n        _binding = FragmentDashboardBinding.inflate(inflater, container, false)\n        val rootView: View = _binding!!.root\n\n        val listView: ListView = binding.listView\n        val items = resources.getStringArray(R.array.list_song)\n        val adapter = ArrayAdapter(requireContext(),android.R.layout.simple_list_item_1,items)\n        listView.adapter = adapter\n\n        val dashboardViewModel =\n            ViewModelProvider(this).get(DashboardViewModel::class.java)\n\n        //val rootView = inflater.inflate(R.layout.fragment_dashboard,container,false)\n\n\n        listView.setOnItemClickListener { parent, view, position, id -&gt;\n            val selectedItem = items[position]\n            val lyrics = resources.getStringArray(R.array.list_lyrics)[position]\n            val activity = requireActivity() as MainActivity\n            activity.openDetailFragment(selectedItem, lyrics)\n            val detail1Fragment = Detail1Fragment.newInstance(selectedItem, lyrics)\n\n            requireActivity().supportFragmentManager.beginTransaction().replace(R.id.nav_host_fragment_container,detail1Fragment).addToBackStack(null).commit()\n            Toast.makeText(requireContext(), &quot;$selectedItem が選択されました&quot;, Toast.LENGTH_SHORT)\n                .show()\n        }\n\n\n\n        val textView: TextView = binding.textDashboard\n        dashboardViewModel.text.observe(viewLifecycleOwner) {\n            textView.text = it\n        }\n        return rootView\n    }\n\n    override fun onDestroyView() {\n        super.onDestroyView()\n        _binding = null\n    }\n}\n</code></pre>\n<p>Detail1Fragment.kt</p>\n<pre><code>package com.example.guitercodeapp3.ui.dashboard\n\n//omit 'import'\n\nclass Detail1Fragment : Fragment() {\n\n    companion object {\n        private const val ARG_SELECTED_ITEM = &quot;selected_item&quot;\n        private const val ARG_LYRICS = &quot;lyrics&quot;\n\n        fun newInstance(selectedItem: String, lyrics: String):Detail1Fragment{\n            val fragment = Detail1Fragment()\n            val args = Bundle()\n            args.putString(ARG_SELECTED_ITEM, selectedItem)\n            args.putString(ARG_LYRICS,lyrics)\n            fragment.arguments = args\n            return fragment\n        }\n    }\n\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n\n\n        val rootView = inflater.inflate(R.layout.fragment_detail1,container,false)\n        val textViewDetail = rootView.findViewById&lt;TextView&gt;(R.id.textViewDetail)\n\n\n        arguments?.let{\n            val selectedItem = it.getString(ARG_SELECTED_ITEM)\n            val lyrics = it.getString(ARG_LYRICS)\n            textViewDetail.text = &quot;$selectedItem\\n\\n$lyrics&quot;\n        }\n\n\n        return rootView\n    }\n\n}\n</code></pre>\n<p>fragment_dashboard.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.dashboard.DashboardFragment&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_dashboard&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.6&quot; /&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listView&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:entries=&quot;@array/list_song&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/nav_host_fragment_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/text_dashboard&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:defaultNavHost=&quot;true&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>fragment_detail1.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/nav_host_fragment_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.ui.dashboard.Detail1Fragment&quot;&gt;\n\n    &lt;!-- TODO: Update blank fragment layout --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/textViewDetail&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:text=&quot;@string/hello_blank_fragment&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>strings.xml</p>\n<pre><code>&lt;resources&gt;\n    &lt;string name=&quot;app_name&quot;&gt;GuiterCodeApp3&lt;/string&gt;\n    &lt;string name=&quot;title_home&quot;&gt;Home&lt;/string&gt;\n    &lt;string name=&quot;title_dashboard&quot;&gt;Dashboard&lt;/string&gt;\n    &lt;string name=&quot;title_notifications&quot;&gt;Notifications&lt;/string&gt;\n    &lt;string name=&quot;list_animal&quot; /&gt;\n\n    &lt;string-array name=&quot;list_song&quot;&gt;\n        &lt;item&gt;Imagine&lt;/item&gt;\n        &lt;item&gt;Shape of you&lt;/item&gt;\n        &lt;item&gt;Whatever&lt;/item&gt;\n    &lt;/string-array&gt;\n\n    &lt;string-array name=&quot;list_lyrics&quot;&gt;\n        &lt;item&gt;Lyrics of Imagine&lt;/item&gt;\n        &lt;item&gt;Lyrics of Shape of you&lt;/item&gt;\n        &lt;item&gt;Lyrics of Whatever&lt;/item&gt;\n    &lt;/string-array&gt;\n\n    &lt;!-- TODO: Remove or change this placeholder text --&gt;\n    &lt;string name=&quot;hello_blank_fragment&quot;&gt;Hello blank fragment&lt;/string&gt;\n\n&lt;/resources&gt;\n</code></pre>\n<h1>Supplementary information</h1>\n<p>Android Studio Giraffe | 2022.3.1</p>\n<h1>What I tried</h1>\n<p>I make sure id,name,entries,and navGraph in xml files.</p>\n<p>I tried changing the IDs in the <code>listView.setOnItemClickListener</code> section of DashboardFragment.kt,\nbut there were no progress.</p>\n"},{"tags":["java","jfreechart","gantt-chart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692467836,"post_id":76936344,"comment_id":135628520,"body_markdown":"Why are you replacing the chart factory&#39;s renderer? What happens if you use the existing renderer and enable `tooltips`? You can customize it like [this](https://stackoverflow.com/a/15241250/230513) or substitute your own factory.","body":"Why are you replacing the chart factory&#39;s renderer? What happens if you use the existing renderer and enable <code>tooltips</code>? You can customize it like <a href=\"https://stackoverflow.com/a/15241250/230513\">this</a> or substitute your own factory."},{"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"score":0,"creation_date":1692475293,"post_id":76936344,"comment_id":135629272,"body_markdown":"At the beginning I did this for my custom labels, but I think I can just set them by plot.getRenderer() right?\nThe example you sended me is confusing me. What are the parameters I need to insert in the MyTooltipGenerator Constructor? I want to show the parameters that are in my list?","body":"At the beginning I did this for my custom labels, but I think I can just set them by plot.getRenderer() right? The example you sended me is confusing me. What are the parameters I need to insert in the MyTooltipGenerator Constructor? I want to show the parameters that are in my list?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692485243,"post_id":76936344,"comment_id":135630171,"body_markdown":"The example I cited shows`MyToolTipGenerator`,  a subclass of `IntervalCategoryToolTipGenerator`; your implementation of `generateToolTip()` should return your list. If this is unclear, please [edit] your question to include a [mre] that shows your revised approach; as I lack you database, please feel free to use the example cited.","body":"The example I cited shows<code>MyToolTipGenerator</code>,  a subclass of <code>IntervalCategoryToolTipGenerator</code>; your implementation of <code>generateToolTip()</code> should return your list. If this is unclear, please <a href=\"https://stackoverflow.com/posts/76936344/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach; as I lack you database, please feel free to use the example cited."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692548476,"post_id":76936344,"comment_id":135635450,"body_markdown":"Also consider extending `IntervalCategoryDataset` in a manner similar to `JDBCCategoryDataset`; you can then leverage the message format described [here](https://stackoverflow.com/a/42052500/230513) in your own implementation of the `IntervalCategoryToolTipGenerator` method, `createItemArray()`.","body":"Also consider extending <code>IntervalCategoryDataset</code> in a manner similar to <code>JDBCCategoryDataset</code>; you can then leverage the message format described <a href=\"https://stackoverflow.com/a/42052500/230513\">here</a> in your own implementation of the <code>IntervalCategoryToolTipGenerator</code> method, <code>createItemArray()</code>."},{"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"score":0,"creation_date":1692680961,"post_id":76936344,"comment_id":135653159,"body_markdown":"@trashgod I included now minimal reproducable code. I tried the example you sended me but again couldn&#39;t get it to work. I think I am missing something. I removed the new renderer and tried to set Tooltip as you suggested with MyToolTip but it did&#39;nt show anything. In this reproducable example I set the things back so it is reproducable.","body":"@trashgod I included now minimal reproducable code. I tried the example you sended me but again couldn&#39;t get it to work. I think I am missing something. I removed the new renderer and tried to set Tooltip as you suggested with MyToolTip but it did&#39;nt show anything. In this reproducable example I set the things back so it is reproducable."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692741128,"post_id":76936344,"comment_id":135665321,"body_markdown":"I don&#39;t see where you invoke `setBaseToolTipGenerator()`.","body":"I don&#39;t see where you invoke <code>setBaseToolTipGenerator()</code>."},{"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"score":0,"creation_date":1692765043,"post_id":76936344,"comment_id":135667240,"body_markdown":"@trashgod I removed it again so I could provide a working application. I used the setBaseTooltipGenerator as the example.\n\nI removed the new renderer completely and put the line &#39;plot.getRenderer().setBaseToolTipGenerator(\n            new MyToolTipGenerator(\n            &quot;{0}, {1}: &quot;, DateFormat.getTimeInstance(DateFormat.SHORT)));&#39; and put it directly under the other plot commands","body":"@trashgod I removed it again so I could provide a working application. I used the setBaseTooltipGenerator as the example.  I removed the new renderer completely and put the line &#39;plot.getRenderer().setBaseToolTipGenerator(             new MyToolTipGenerator(             &quot;{0}, {1}: &quot;, DateFormat.getTimeInstance(DateFormat.SHORT)));&#39; and put it directly under the other plot commands"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1692810035,"post_id":76936344,"comment_id":135675935,"body_markdown":"That _sounds_ right, but I can only guess; please [edit] your question to include a [mre] that shows your revised approach and focuses on tooltip rendering; note that neither I nor other readers have your database, so you&#39;ll need to mock that aspect; as `generateToolTip` and `generateLabel`, it may help to factor that into a separate method.","body":"That <i>sounds</i> right, but I can only guess; please <a href=\"https://stackoverflow.com/posts/76936344/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach and focuses on tooltip rendering; note that neither I nor other readers have your database, so you&#39;ll need to mock that aspect; as <code>generateToolTip</code> and <code>generateLabel</code>, it may help to factor that into a separate method."},{"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"score":0,"creation_date":1692945232,"post_id":76936344,"comment_id":135696113,"body_markdown":"@trashgod the code should already be reproducable since I exchanged the database with an arrayList so feel free to try it out. I also added the &#39;setTooltipGenerator()&#39; part.\nI really don&#39;t know what to do in order for it to work. I tried many things now but it doesn&#39;t show any tooltip...","body":"@trashgod the code should already be reproducable since I exchanged the database with an arrayList so feel free to try it out. I also added the &#39;setTooltipGenerator()&#39; part. I really don&#39;t know what to do in order for it to work. I tried many things now but it doesn&#39;t show any tooltip..."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1693004216,"post_id":76936344,"comment_id":135707411,"body_markdown":"Sorry it&#39;s not working; I urge you to study the problem is isolation using the [mre] I previously cited, seen [here](https://stackoverflow.com/a/15241250/230513); verify that you understand how it works, and adapt it to your use. Sadly, your 300+ lines of code in _not_ minimal; one frame should be sufficient; due to spurious imports, I still cannot run it; but I&#39;ll examine it, and any updates you make, as time permits.","body":"Sorry it&#39;s not working; I urge you to study the problem is isolation using the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I previously cited, seen <a href=\"https://stackoverflow.com/a/15241250/230513\">here</a>; verify that you understand how it works, and adapt it to your use. Sadly, your 300+ lines of code in <i>not</i> minimal; one frame should be sufficient; due to spurious imports, I still cannot run it; but I&#39;ll examine it, and any updates you make, as time permits."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1693049950,"post_id":76936344,"comment_id":135710461,"body_markdown":"If you later move to a current release of [tag:jfreechart], see the migration guide cited [here](https://stackoverflow.com/a/70398420/230513).","body":"If you later move to a current release of <a href=\"https://stackoverflow.com/questions/tagged/jfreechart\">jfreechart</a>, see the migration guide cited <a href=\"https://stackoverflow.com/a/70398420/230513\">here</a>."}],"owner":{"account_id":12593361,"reputation":427,"user_id":9159094,"display_name":"NECben067"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692945190,"creation_date":1692466774,"question_id":76936344,"body_markdown":"I am new to JFreeChart, and I don&#39;t understand how all the classes work together yet. I am trying to create a Gantt chart with custom labels and custom tooltip. The custom labels work (though I don&#39;t think I did it the proper clean way), but I don&#39;t get the custom tooltip to work.\r\n\r\nAfter pressing on a button in another panel I send the required data (a date) I get from the database to the class that generates the gantt chart. With the date I got as a variable I get all the information for this date from the database and put it in the gantt chart.\r\n\r\nThis is how my gantt chart looks right now:\r\n[![enter image description here][1]][1]\r\n\r\nmy main class looks like that:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.Connection;\r\n    import java.util.Calendar;\r\n    import javax.swing.*;\r\n\r\n    import info.clearthought.layout.TableLayout;\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.data.category.IntervalCategoryDataset;\r\n    import org.jfree.data.gantt.Task;\r\n    import org.jfree.data.gantt.TaskSeries;\r\n    import org.jfree.data.gantt.TaskSeriesCollection;\r\n\r\n    public class Schichtplanner extends JFrame {\r\n        private static final long serialVersionUID = 1L;\r\n        double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL};\r\n        double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35};\r\n\r\n        public static void main(String[] args) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    //System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1&quot;);\r\n                    try {\r\n                        Schichtplanner frame = new Schichtplanner();\r\n                        frame.setVisible(true);\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public Schichtplanner() {\r\n            //JFrame frame = new JFrame(&quot;Schichtplanner&quot;);\r\n            this.setTitle(&quot;Schichtplanungs-App&quot;);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\r\n            JPanel panelMain = new JPanel();\r\n            add(panelMain);\r\n\r\n            panelMain.setLayout(new TableLayout(new double[][]{busX, busY}));\r\n\r\n            JButton buttonMitarbeiterVerwalten = new JButton(&quot;Mitarbeiter verwalten&quot;);\r\n            panelMain.add(buttonMitarbeiterVerwalten, &quot;1,1,1,1&quot;); // Adds Button to content pane of frame\r\n            buttonMitarbeiterVerwalten.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    //MitarbeiterVerwalten mitarbeiterVerwaltenFrame = new MitarbeiterVerwalten();\r\n                }\r\n            });\r\n\r\n            JButton buttonAuftragVerwalten = new JButton(&quot;Auftrag verwalten&quot;);\r\n            panelMain.add(buttonAuftragVerwalten, &quot;1,3,1,3&quot;); // Adds Button to content pane of frame\r\n            buttonAuftragVerwalten.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    //AuftragVerwalten auftragVerwaltenFrame = new AuftragVerwalten();\r\n                }\r\n            });\r\n\r\n            JButton buttonSucheAuftrag = new JButton(&quot;Auftrag suchen&quot;);\r\n            panelMain.add(buttonSucheAuftrag, &quot;1,5,1,5&quot;); // Adds Button to content pane of frame\r\n\r\n            JButton buttonKalenderAnsicht = new JButton(&quot;Kalenderansicht&quot;);\r\n            panelMain.add(buttonKalenderAnsicht, &quot;1,7,1,7&quot;); // Adds Button to content pane of frame\r\n            buttonKalenderAnsicht.addActionListener( new ActionListener()\r\n            {\r\n                public void actionPerformed(ActionEvent e)\r\n                {\r\n                    try {\r\n                        Auftrags&#220;bersicht auftrags&#220;bersicht = new Auftrags&#220;bersicht(&quot;2023-08-17&quot;);\r\n                    } catch (ParseException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n\r\n            setVisible(true);\r\n            panelMain.setVisible(true);\r\n        }\r\n    }  \r\n\r\nAnd my gantt chart class is like that:\r\n\r\n    import com.github.lgooddatepicker.components.DatePicker;\r\n    import info.clearthought.layout.TableLayout;\r\n    import org.jfree.chart.ChartFactory;\r\n    import org.jfree.chart.ChartPanel;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.block.BlockBorder;\r\n    import org.jfree.chart.labels.*;\r\n    import org.jfree.chart.plot.CategoryPlot;\r\n    import org.jfree.chart.renderer.category.CategoryItemRenderer;\r\n    import org.jfree.chart.renderer.category.StandardBarPainter;\r\n    import org.jfree.data.category.CategoryDataset;\r\n    import org.jfree.data.category.IntervalCategoryDataset;\r\n    import org.jfree.data.gantt.Task;\r\n    import org.jfree.data.gantt.TaskSeries;\r\n    import org.jfree.data.gantt.TaskSeriesCollection;\r\n    import org.jfree.ui.RectangleInsets;\r\n    import org.jfree.ui.TextAnchor;\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.sql.*;\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.*;\r\n    import java.util.List;\r\n\r\n    import org.jfree.chart.renderer.category.StandardBarPainter;\r\n\r\n    public class Auftrags&#220;bersicht extends JFrame {\r\n\r\n    private ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\r\n    private ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\r\n    private ArrayList&lt;Integer&gt; liegenschaftsnummer;\r\n\r\n    public Auftrags&#220;bersicht(String date) throws ParseException {\r\n        double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL, SchichtplannerConstants.GUI_BORDER};\r\n        double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, 40, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35};\r\n        auftragsBeginn = new ArrayList&lt;&gt;();\r\n        auftragsEnde = new ArrayList&lt;&gt;();\r\n        auftragsAdresse = new ArrayList&lt;&gt;();\r\n        auftragsPLZ = new ArrayList&lt;&gt;();\r\n        mitarbeiterVorname = new ArrayList&lt;&gt;();\r\n        mitarbeiterNachname = new ArrayList&lt;&gt;();\r\n        liegenschaftsnummer = new ArrayList&lt;&gt;();\r\n\r\n        this.setTitle(&quot;Tages&#252;bersicht Auftr&#228;ge&quot;);\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        this.setSize(screenSize.width, screenSize.height);\r\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n\r\n        try\r\n        {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        /********************************/\r\n        // Create dataset\r\n        IntervalCategoryDataset dataset = getCategoryDataset(date);\r\n\r\n        // Create chart\r\n        JFreeChart chart = ChartFactory.createGanttChart(date, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\r\n        chart.setBackgroundPaint(Color.white);\r\n\r\n        //chart.setBorderVisible(false);\r\n        CategoryPlot plot = (CategoryPlot) chart.getPlot();\r\n        plot.setDomainGridlinePaint(Color.white);\r\n        plot.setOutlinePaint(Color.white);\r\n        plot.setBackgroundPaint(Color.white);\r\n        //plot.setOutlineVisible(false);\r\n\r\n        plot.getRenderer().setBaseToolTipGenerator( new MyToolTipGenerator( &quot;{0}, {1}: &quot;, DateFormat.getTimeInstance(DateFormat.SHORT)));\r\n\r\n        ChartPanel panel = new ChartPanel(chart);\r\n        setContentPane(panel);\r\n        setVisible(true);\r\n\r\n        /*******************************/\r\n        setResizable(false);\r\n    }\r\n\r\n    private IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\r\n        date = date + &quot; 00:00:00.00000&quot;;\r\n        Timestamp timestamp = Timestamp.valueOf(date);\r\n        Timestamp timestamp2 = addDays(timestamp,1);\r\n\r\n        /*try {\r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\r\n\r\n            PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\r\n            st.setTimestamp(1, timestamp);\r\n            st.setTimestamp(2, timestamp2);\r\n            ResultSet rs = st.executeQuery();\r\n            while (rs.next()) {\r\n                Calendar calendar1 = Calendar.getInstance();\r\n                calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\r\n                getAuftragsBeginnList().add(calendar1);\r\n\r\n                Calendar calendar2 = Calendar.getInstance();\r\n                calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\r\n                getAuftragsEndeList().add(calendar2);\r\n\r\n                getAuftragsAdresseList().add(rs.getString(3));\r\n                getAuftragsPLZList().add(rs.getString(4));\r\n                getLiegenschaftsnummerList().add(rs.getInt(5));\r\n                getMitarbeiterVornameList().add(rs.getString(6));\r\n                getMitarbeiterNachnameList().add(rs.getString(7));\r\n            }\r\n            rs.close();\r\n            st.close();\r\n        } catch (SQLException sqlException) {\r\n            sqlException.printStackTrace();\r\n        }*/\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal.setTime(sdf.parse(&quot;2023-08-17 07:30:00&quot;));// all done\r\n        auftragsBeginn.add(cal);\r\n\r\n        Calendar cal1 = Calendar.getInstance();\r\n        SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal1.setTime(sdf1.parse(&quot;2023-08-17 15:30:00&quot;));// all done\r\n        auftragsEnde.add(cal1);\r\n\r\n        auftragsAdresse.add(&quot;Ohmstra&#223;e 32&quot;);\r\n        auftragsPLZ.add(&quot;45711&quot;);\r\n        liegenschaftsnummer.add(1);\r\n        mitarbeiterVorname.add(&quot;Michael&quot;);\r\n        mitarbeiterNachname.add(&quot;Thompson&quot;);\r\n\r\n        Calendar cal2 = Calendar.getInstance();\r\n        SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal2.setTime(sdf2.parse(&quot;2023-08-17 09:00:00&quot;));// all done\r\n        auftragsBeginn.add(cal2);\r\n\r\n        Calendar cal3 = Calendar.getInstance();\r\n        SimpleDateFormat sdf3 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal3.setTime(sdf3.parse(&quot;2023-08-17 16:30:00&quot;));// all done\r\n        auftragsEnde.add(cal3);\r\n\r\n        auftragsAdresse.add(&quot;Fegestra&#223;e 5&quot;);\r\n        auftragsPLZ.add(&quot;44623&quot;);\r\n        liegenschaftsnummer.add(2);\r\n        mitarbeiterVorname.add(&quot;Hasan&quot;);\r\n        mitarbeiterNachname.add(&quot;Sekici&quot;);\r\n\r\n        Calendar cal4 = Calendar.getInstance();\r\n        SimpleDateFormat sdf4 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal4.setTime(sdf4.parse(&quot;2023-08-17 08:00:00&quot;));// all done\r\n        auftragsBeginn.add(cal4);\r\n\r\n        Calendar cal5 = Calendar.getInstance();\r\n        SimpleDateFormat sdf5 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        cal5.setTime(sdf5.parse(&quot;2023-08-17 17:30:00&quot;));// all done\r\n        auftragsEnde.add(cal5);\r\n\r\n        auftragsAdresse.add(&quot;Sambaweg 10&quot;);\r\n        auftragsPLZ.add(&quot;44141&quot;);\r\n        liegenschaftsnummer.add(3);\r\n        mitarbeiterVorname.add(&quot;Jon&quot;);\r\n        mitarbeiterNachname.add(&quot;Schnee&quot;);\r\n\r\n        TaskSeries series1 = new TaskSeries(&quot;Auftr&#228;ge&quot;);\r\n        for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\r\n            series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\r\n            System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\r\n        }\r\n\r\n        TaskSeriesCollection dataset = new TaskSeriesCollection();\r\n        dataset.add(series1);\r\n        return dataset;\r\n    }\r\n\r\n    public ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\r\n        return auftragsBeginn;\r\n    }\r\n\r\n    public ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\r\n        return auftragsEnde;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getAuftragsAdresseList() {\r\n        return auftragsAdresse;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getAuftragsPLZList() {\r\n        return auftragsPLZ;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getMitarbeiterVornameList() {\r\n        return mitarbeiterVorname;\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\r\n        return mitarbeiterNachname;\r\n    }\r\n\r\n    public ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\r\n        return liegenschaftsnummer;\r\n    }\r\n\r\n    public Timestamp addDays(Timestamp date, int days) {\r\n        Calendar cal = Calendar.getInstance();\r\n        cal.setTime(date);// w ww.  j ava  2  s  .co m\r\n        cal.add(Calendar.DATE, days); //minus number would decrement the days\r\n        return new Timestamp(cal.getTime().getTime());\r\n\r\n    }\r\n    }\r\n\r\n    class MyToolTipGenerator extends IntervalCategoryToolTipGenerator {\r\n\r\n    DateFormat format;\r\n\r\n    public MyToolTipGenerator(String value, DateFormat format) {\r\n        super(value, format);\r\n        this.format = format;\r\n    }\r\n\r\n    @Override\r\n    public String generateToolTip(CategoryDataset cds, int row, int col) {\r\n        final String s = super.generateToolTip(cds, row, col);\r\n        TaskSeriesCollection tsc = (TaskSeriesCollection) cds;\r\n        StringBuilder sb = new StringBuilder(s);\r\n        for (int i = 0; i &lt; tsc.getSubIntervalCount(row, col); i++) {\r\n            sb.append(format.format(tsc.getStartValue(row, col, i)));\r\n            sb.append(&quot;-&quot;);\r\n            sb.append(format.format(tsc.getEndValue(row, col, i)));\r\n            sb.append(&quot;,&quot;);\r\n        }\r\n        sb.deleteCharAt(sb.length() - 1);\r\n        return sb.toString();\r\n    }\r\n    }\r\n\r\n\r\nI already tried some of the examples and solutions that were posted here but neither of them worked. Since I get several data from the db and store them all in an ArrayList, I want to show the specific related begin and end time (`getAuftragsBeginnList` and `getAuftragsEndeList`) in relation to the hovered datapoint. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kJOSF.png","title":"Custom tooltip for JFreeChart Gantt chart in Java","body":"<p>I am new to JFreeChart, and I don't understand how all the classes work together yet. I am trying to create a Gantt chart with custom labels and custom tooltip. The custom labels work (though I don't think I did it the proper clean way), but I don't get the custom tooltip to work.</p>\n<p>After pressing on a button in another panel I send the required data (a date) I get from the database to the class that generates the gantt chart. With the date I got as a variable I get all the information for this date from the database and put it in the gantt chart.</p>\n<p>This is how my gantt chart looks right now:\n<a href=\"https://i.stack.imgur.com/kJOSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kJOSF.png\" alt=\"enter image description here\" /></a></p>\n<p>my main class looks like that:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.Connection;\nimport java.util.Calendar;\nimport javax.swing.*;\n\nimport info.clearthought.layout.TableLayout;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.data.category.IntervalCategoryDataset;\nimport org.jfree.data.gantt.Task;\nimport org.jfree.data.gantt.TaskSeries;\nimport org.jfree.data.gantt.TaskSeriesCollection;\n\npublic class Schichtplanner extends JFrame {\n    private static final long serialVersionUID = 1L;\n    double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL};\n    double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35};\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                //System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1&quot;);\n                try {\n                    Schichtplanner frame = new Schichtplanner();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public Schichtplanner() {\n        //JFrame frame = new JFrame(&quot;Schichtplanner&quot;);\n        this.setTitle(&quot;Schichtplanungs-App&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setExtendedState(JFrame.MAXIMIZED_BOTH);\n\n        JPanel panelMain = new JPanel();\n        add(panelMain);\n\n        panelMain.setLayout(new TableLayout(new double[][]{busX, busY}));\n\n        JButton buttonMitarbeiterVerwalten = new JButton(&quot;Mitarbeiter verwalten&quot;);\n        panelMain.add(buttonMitarbeiterVerwalten, &quot;1,1,1,1&quot;); // Adds Button to content pane of frame\n        buttonMitarbeiterVerwalten.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                //MitarbeiterVerwalten mitarbeiterVerwaltenFrame = new MitarbeiterVerwalten();\n            }\n        });\n\n        JButton buttonAuftragVerwalten = new JButton(&quot;Auftrag verwalten&quot;);\n        panelMain.add(buttonAuftragVerwalten, &quot;1,3,1,3&quot;); // Adds Button to content pane of frame\n        buttonAuftragVerwalten.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                //AuftragVerwalten auftragVerwaltenFrame = new AuftragVerwalten();\n            }\n        });\n\n        JButton buttonSucheAuftrag = new JButton(&quot;Auftrag suchen&quot;);\n        panelMain.add(buttonSucheAuftrag, &quot;1,5,1,5&quot;); // Adds Button to content pane of frame\n\n        JButton buttonKalenderAnsicht = new JButton(&quot;Kalenderansicht&quot;);\n        panelMain.add(buttonKalenderAnsicht, &quot;1,7,1,7&quot;); // Adds Button to content pane of frame\n        buttonKalenderAnsicht.addActionListener( new ActionListener()\n        {\n            public void actionPerformed(ActionEvent e)\n            {\n                try {\n                    AuftragsÜbersicht auftragsÜbersicht = new AuftragsÜbersicht(&quot;2023-08-17&quot;);\n                } catch (ParseException ex) {\n                    ex.printStackTrace();\n                }\n            }\n        });\n\n        setVisible(true);\n        panelMain.setVisible(true);\n    }\n}  \n</code></pre>\n<p>And my gantt chart class is like that:</p>\n<pre><code>import com.github.lgooddatepicker.components.DatePicker;\nimport info.clearthought.layout.TableLayout;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.block.BlockBorder;\nimport org.jfree.chart.labels.*;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.renderer.category.CategoryItemRenderer;\nimport org.jfree.chart.renderer.category.StandardBarPainter;\nimport org.jfree.data.category.CategoryDataset;\nimport org.jfree.data.category.IntervalCategoryDataset;\nimport org.jfree.data.gantt.Task;\nimport org.jfree.data.gantt.TaskSeries;\nimport org.jfree.data.gantt.TaskSeriesCollection;\nimport org.jfree.ui.RectangleInsets;\nimport org.jfree.ui.TextAnchor;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\nimport java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.format.DateTimeFormatter;\nimport java.util.*;\nimport java.util.List;\n\nimport org.jfree.chart.renderer.category.StandardBarPainter;\n\npublic class AuftragsÜbersicht extends JFrame {\n\nprivate ArrayList&lt;Calendar&gt; auftragsBeginn, auftragsEnde;\nprivate ArrayList&lt;String&gt; auftragsAdresse, auftragsPLZ, mitarbeiterVorname, mitarbeiterNachname;\nprivate ArrayList&lt;Integer&gt; liegenschaftsnummer;\n\npublic AuftragsÜbersicht(String date) throws ParseException {\n    double busX[] = new double[]{SchichtplannerConstants.GUI_BORDER, 250, TableLayout.FILL, TableLayout.FILL, SchichtplannerConstants.GUI_BORDER};\n    double busY[] = new double[]{SchichtplannerConstants.GUI_BORDER, 35, 40, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35, SchichtplannerConstants.DISTANCE_BUTTONS, 35, 35};\n    auftragsBeginn = new ArrayList&lt;&gt;();\n    auftragsEnde = new ArrayList&lt;&gt;();\n    auftragsAdresse = new ArrayList&lt;&gt;();\n    auftragsPLZ = new ArrayList&lt;&gt;();\n    mitarbeiterVorname = new ArrayList&lt;&gt;();\n    mitarbeiterNachname = new ArrayList&lt;&gt;();\n    liegenschaftsnummer = new ArrayList&lt;&gt;();\n\n    this.setTitle(&quot;Tagesübersicht Aufträge&quot;);\n    Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n    this.setSize(screenSize.width, screenSize.height);\n    setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n\n    try\n    {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    /********************************/\n    // Create dataset\n    IntervalCategoryDataset dataset = getCategoryDataset(date);\n\n    // Create chart\n    JFreeChart chart = ChartFactory.createGanttChart(date, &quot;Mitarbeiter&quot;, &quot;Zeitachse&quot;, dataset, false, true, false);\n    chart.setBackgroundPaint(Color.white);\n\n    //chart.setBorderVisible(false);\n    CategoryPlot plot = (CategoryPlot) chart.getPlot();\n    plot.setDomainGridlinePaint(Color.white);\n    plot.setOutlinePaint(Color.white);\n    plot.setBackgroundPaint(Color.white);\n    //plot.setOutlineVisible(false);\n\n    plot.getRenderer().setBaseToolTipGenerator( new MyToolTipGenerator( &quot;{0}, {1}: &quot;, DateFormat.getTimeInstance(DateFormat.SHORT)));\n\n    ChartPanel panel = new ChartPanel(chart);\n    setContentPane(panel);\n    setVisible(true);\n\n    /*******************************/\n    setResizable(false);\n}\n\nprivate IntervalCategoryDataset getCategoryDataset(String date) throws ParseException {\n    date = date + &quot; 00:00:00.00000&quot;;\n    Timestamp timestamp = Timestamp.valueOf(date);\n    Timestamp timestamp2 = addDays(timestamp,1);\n\n    /*try {\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3307/schichtplanung&quot;, &quot;root&quot;, &quot;admin&quot;);\n\n        PreparedStatement st = (PreparedStatement) connection.prepareStatement(&quot;SELECT schichtplanung.auftrag.auftragsbeginn, schichtplanung.auftrag.auftragsende, schichtplanung.auftrag.auftragsadresse, schichtplanung.auftrag.auftragsplz, schichtplanung.auftrag.liegenschaftsnummer, schichtplanung.mitarbeiter.vorname, schichtplanung.mitarbeiter.nachname FROM schichtplanung.auftrag INNER JOIN schichtplanung.mitarbeiter ON schichtplanung.auftrag.mitarbeiterid=schichtplanung.mitarbeiter.mitarbeiterid WHERE schichtplanung.auftrag.auftragsbeginn &gt;= ? AND schichtplanung.auftrag.auftragsbeginn &lt; ?&quot;);\n        st.setTimestamp(1, timestamp);\n        st.setTimestamp(2, timestamp2);\n        ResultSet rs = st.executeQuery();\n        while (rs.next()) {\n            Calendar calendar1 = Calendar.getInstance();\n            calendar1.setTimeInMillis(rs.getTimestamp(1).getTime());\n            getAuftragsBeginnList().add(calendar1);\n\n            Calendar calendar2 = Calendar.getInstance();\n            calendar2.setTimeInMillis(rs.getTimestamp(2).getTime());\n            getAuftragsEndeList().add(calendar2);\n\n            getAuftragsAdresseList().add(rs.getString(3));\n            getAuftragsPLZList().add(rs.getString(4));\n            getLiegenschaftsnummerList().add(rs.getInt(5));\n            getMitarbeiterVornameList().add(rs.getString(6));\n            getMitarbeiterNachnameList().add(rs.getString(7));\n        }\n        rs.close();\n        st.close();\n    } catch (SQLException sqlException) {\n        sqlException.printStackTrace();\n    }*/\n\n    Calendar cal = Calendar.getInstance();\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal.setTime(sdf.parse(&quot;2023-08-17 07:30:00&quot;));// all done\n    auftragsBeginn.add(cal);\n\n    Calendar cal1 = Calendar.getInstance();\n    SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal1.setTime(sdf1.parse(&quot;2023-08-17 15:30:00&quot;));// all done\n    auftragsEnde.add(cal1);\n\n    auftragsAdresse.add(&quot;Ohmstraße 32&quot;);\n    auftragsPLZ.add(&quot;45711&quot;);\n    liegenschaftsnummer.add(1);\n    mitarbeiterVorname.add(&quot;Michael&quot;);\n    mitarbeiterNachname.add(&quot;Thompson&quot;);\n\n    Calendar cal2 = Calendar.getInstance();\n    SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal2.setTime(sdf2.parse(&quot;2023-08-17 09:00:00&quot;));// all done\n    auftragsBeginn.add(cal2);\n\n    Calendar cal3 = Calendar.getInstance();\n    SimpleDateFormat sdf3 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal3.setTime(sdf3.parse(&quot;2023-08-17 16:30:00&quot;));// all done\n    auftragsEnde.add(cal3);\n\n    auftragsAdresse.add(&quot;Fegestraße 5&quot;);\n    auftragsPLZ.add(&quot;44623&quot;);\n    liegenschaftsnummer.add(2);\n    mitarbeiterVorname.add(&quot;Hasan&quot;);\n    mitarbeiterNachname.add(&quot;Sekici&quot;);\n\n    Calendar cal4 = Calendar.getInstance();\n    SimpleDateFormat sdf4 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal4.setTime(sdf4.parse(&quot;2023-08-17 08:00:00&quot;));// all done\n    auftragsBeginn.add(cal4);\n\n    Calendar cal5 = Calendar.getInstance();\n    SimpleDateFormat sdf5 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n    cal5.setTime(sdf5.parse(&quot;2023-08-17 17:30:00&quot;));// all done\n    auftragsEnde.add(cal5);\n\n    auftragsAdresse.add(&quot;Sambaweg 10&quot;);\n    auftragsPLZ.add(&quot;44141&quot;);\n    liegenschaftsnummer.add(3);\n    mitarbeiterVorname.add(&quot;Jon&quot;);\n    mitarbeiterNachname.add(&quot;Schnee&quot;);\n\n    TaskSeries series1 = new TaskSeries(&quot;Aufträge&quot;);\n    for (int i = 0; i &lt; auftragsAdresse.size(); i++) {\n        series1.add(new Task(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i), getAuftragsBeginnList().get(i).getTime(), getAuftragsEndeList().get(i).getTime()));\n        System.out.println(getMitarbeiterVornameList().get(i) + &quot; &quot; + getMitarbeiterNachnameList().get(i) + &quot; BeginnZeit: &quot; + getAuftragsBeginnList().get(i).getTime() + &quot; EndeZeit: &quot; + getAuftragsEndeList().get(i).getTime());\n    }\n\n    TaskSeriesCollection dataset = new TaskSeriesCollection();\n    dataset.add(series1);\n    return dataset;\n}\n\npublic ArrayList&lt;Calendar&gt; getAuftragsBeginnList() {\n    return auftragsBeginn;\n}\n\npublic ArrayList&lt;Calendar&gt; getAuftragsEndeList() {\n    return auftragsEnde;\n}\n\npublic ArrayList&lt;String&gt; getAuftragsAdresseList() {\n    return auftragsAdresse;\n}\n\npublic ArrayList&lt;String&gt; getAuftragsPLZList() {\n    return auftragsPLZ;\n}\n\npublic ArrayList&lt;String&gt; getMitarbeiterVornameList() {\n    return mitarbeiterVorname;\n}\n\npublic ArrayList&lt;String&gt; getMitarbeiterNachnameList() {\n    return mitarbeiterNachname;\n}\n\npublic ArrayList&lt;Integer&gt; getLiegenschaftsnummerList() {\n    return liegenschaftsnummer;\n}\n\npublic Timestamp addDays(Timestamp date, int days) {\n    Calendar cal = Calendar.getInstance();\n    cal.setTime(date);// w ww.  j ava  2  s  .co m\n    cal.add(Calendar.DATE, days); //minus number would decrement the days\n    return new Timestamp(cal.getTime().getTime());\n\n}\n}\n\nclass MyToolTipGenerator extends IntervalCategoryToolTipGenerator {\n\nDateFormat format;\n\npublic MyToolTipGenerator(String value, DateFormat format) {\n    super(value, format);\n    this.format = format;\n}\n\n@Override\npublic String generateToolTip(CategoryDataset cds, int row, int col) {\n    final String s = super.generateToolTip(cds, row, col);\n    TaskSeriesCollection tsc = (TaskSeriesCollection) cds;\n    StringBuilder sb = new StringBuilder(s);\n    for (int i = 0; i &lt; tsc.getSubIntervalCount(row, col); i++) {\n        sb.append(format.format(tsc.getStartValue(row, col, i)));\n        sb.append(&quot;-&quot;);\n        sb.append(format.format(tsc.getEndValue(row, col, i)));\n        sb.append(&quot;,&quot;);\n    }\n    sb.deleteCharAt(sb.length() - 1);\n    return sb.toString();\n}\n}\n</code></pre>\n<p>I already tried some of the examples and solutions that were posted here but neither of them worked. Since I get several data from the db and store them all in an ArrayList, I want to show the specific related begin and end time (<code>getAuftragsBeginnList</code> and <code>getAuftragsEndeList</code>) in relation to the hovered datapoint.</p>\n"},{"tags":["java","spring","eclipse","maven","updating"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675877000,"post_id":75389017,"comment_id":133023982,"body_markdown":"First why do you have a maven plugin as a dependency? Not correct. Remove the dependency to the maven-war-plugin.... Also it would help to post the log output? Have you tried to run on plain command line? And how you called Maven? Have you started from within Eclipse? If so try to run on plain command line...","body":"First why do you have a maven plugin as a dependency? Not correct. Remove the dependency to the maven-war-plugin.... Also it would help to post the log output? Have you tried to run on plain command line? And how you called Maven? Have you started from within Eclipse? If so try to run on plain command line..."},{"owner":{"account_id":22694314,"reputation":11,"user_id":16862744,"display_name":"Kazan"},"score":0,"creation_date":1675932818,"post_id":75389017,"comment_id":133035183,"body_markdown":"Thank you very much! I am following an on line course on Udemy and the teacher does this (dependency + plugin) to avoid the initial error on the pom.xml file. I am new on Maven and Spring, so I do not know so much about it. Anyway, I have no output, once I add the dependency and the plugins, when I save, Eclipse stuck at 75 while upgrading the Maven project and I cannot do anything!","body":"Thank you very much! I am following an on line course on Udemy and the teacher does this (dependency + plugin) to avoid the initial error on the pom.xml file. I am new on Maven and Spring, so I do not know so much about it. Anyway, I have no output, once I add the dependency and the plugins, when I save, Eclipse stuck at 75 while upgrading the Maven project and I cannot do anything!"},{"owner":{"account_id":22694314,"reputation":11,"user_id":16862744,"display_name":"Kazan"},"score":0,"creation_date":1675933282,"post_id":75389017,"comment_id":133035303,"body_markdown":"Editing: I am trying deleting the dependency, and for now it seems working.","body":"Editing: I am trying deleting the dependency, and for now it seems working."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675953914,"post_id":75389017,"comment_id":133042017,"body_markdown":"Build the project for the first time outside of Eclipse (plain command line)...afterwards import it into Eclipse...","body":"Build the project for the first time outside of Eclipse (plain command line)...afterwards import it into Eclipse..."}],"answers":[{"tags":[],"owner":{"account_id":256647,"reputation":611,"user_id":537515,"accept_rate":65,"display_name":"Kalyan Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691011816,"creation_date":1691011816,"answer_id":76823659,"question_id":75389017,"body_markdown":"Try changing this m2e setting: Preferences &gt; Maven &gt; Annotation Processing &gt; Do not automatically configure/execute annotation processing from pom.xml fixed the issue in my case","title":"Updating Maven Project does not move from 75","body":"<p>Try changing this m2e setting: Preferences &gt; Maven &gt; Annotation Processing &gt; Do not automatically configure/execute annotation processing from pom.xml fixed the issue in my case</p>\n"},{"tags":[],"owner":{"account_id":10031770,"reputation":527,"user_id":7417998,"display_name":"Suresh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692945072,"creation_date":1692945072,"answer_id":76974768,"question_id":75389017,"body_markdown":"Remove the errors sowing components from all pom.xml files in your IDE. Then clean the projects. Maven must update complete now.","title":"Updating Maven Project does not move from 75","body":"<p>Remove the errors sowing components from all pom.xml files in your IDE. Then clean the projects. Maven must update complete now.</p>\n"}],"owner":{"account_id":22694314,"reputation":11,"user_id":16862744,"display_name":"Kazan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692945072,"creation_date":1675874690,"question_id":75389017,"body_markdown":"I have this problem. I have just started a new Maven project and, after adding this code: \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nThe project is freezed on &quot;Updating Maven Project 75&quot;, I am trying to search a solution, but no one is working. The funniest thing is I am following a course on line about Spring and it is just the first attempt to use Maven.\r\n\r\nTried to restart Eclipse, to delete and create a new project...","title":"Updating Maven Project does not move from 75","body":"<p>I have this problem. I have just started a new Maven project and, after adding this code:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>The project is freezed on &quot;Updating Maven Project 75&quot;, I am trying to search a solution, but no one is working. The funniest thing is I am following a course on line about Spring and it is just the first attempt to use Maven.</p>\n<p>Tried to restart Eclipse, to delete and create a new project...</p>\n"},{"tags":["java","sqlite","listview","java-stream","changelistener"],"answers":[{"tags":[],"owner":{"account_id":17884207,"reputation":11,"user_id":12992252,"display_name":"McLutzifer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689946889,"creation_date":1689946889,"answer_id":76738531,"question_id":76737904,"body_markdown":"Not entirely sure if I understand the problem, but I ***guess*** that you can achieve what you want with adding dedicated listeners to headerZettel and textZettel respectively. And then it seems, since you are listening to header and text constantly you can get rid of `updateZettelInDatabase()` \r\nsomething like \r\n```\r\nheaderZettel.textProperty().addListener((observable, oldValue, newValue) -&gt; ...etc\r\n```\r\n\r\n... but I&#39;m new to Java as well so please be careful with my advice ","title":"How to display changes in the Textfield of an Object live in ListView?","body":"<p>Not entirely sure if I understand the problem, but I <em><strong>guess</strong></em> that you can achieve what you want with adding dedicated listeners to headerZettel and textZettel respectively. And then it seems, since you are listening to header and text constantly you can get rid of <code>updateZettelInDatabase()</code>\nsomething like</p>\n<pre><code>headerZettel.textProperty().addListener((observable, oldValue, newValue) -&gt; ...etc\n</code></pre>\n<p>... but I'm new to Java as well so please be careful with my advice</p>\n"},{"tags":[],"owner":{"account_id":27841518,"reputation":21,"user_id":21257897,"display_name":"cas edo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692945033,"creation_date":1692945033,"answer_id":76974765,"question_id":76737904,"body_markdown":"So i tried everything from refactoring the classes to use StringProperties instead of Strings, implementing other Updating-logic, and Binding the ListView and zettelData together and not overwriting the binding anywhere. Nothing worked. \r\nWhat helped in the end, was this line of code:\r\n\r\n```\r\nPlatform.runLater(() -&gt; zettelList.refresh());\r\n\r\n```\r\n\r\nint this method that saves the edits made on key tipped\r\n\r\n```\r\n @FXML\r\n    void saveOnChangeZettel(KeyEvent event){\r\n        if (currentZettelId != null) { // &#220;berpr&#252;fe, ob eine aktuelle ZettelId vorhanden ist\r\n            updateZettelInDatabase();\r\n            checkForBuzzwordsInCurrentZettel(currentZettelId);\r\n\r\n            Platform.runLater(() -&gt; zettelList.refresh());\r\n        }\r\n    }\r\n```","title":"How to display changes in the Textfield of an Object live in ListView?","body":"<p>So i tried everything from refactoring the classes to use StringProperties instead of Strings, implementing other Updating-logic, and Binding the ListView and zettelData together and not overwriting the binding anywhere. Nothing worked.\nWhat helped in the end, was this line of code:</p>\n<pre><code>Platform.runLater(() -&gt; zettelList.refresh());\n\n</code></pre>\n<p>int this method that saves the edits made on key tipped</p>\n<pre><code> @FXML\n    void saveOnChangeZettel(KeyEvent event){\n        if (currentZettelId != null) { // Überprüfe, ob eine aktuelle ZettelId vorhanden ist\n            updateZettelInDatabase();\n            checkForBuzzwordsInCurrentZettel(currentZettelId);\n\n            Platform.runLater(() -&gt; zettelList.refresh());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27841518,"reputation":21,"user_id":21257897,"display_name":"cas edo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692945033,"creation_date":1689941636,"question_id":76737904,"body_markdown":"i am currently coding a small Zettelkasten-app* in Java and Building most of the GUI in scenebuilder. \r\n\r\n---\r\n\r\nFurther Description irrelevant for the Question, read italic parts only if interested: \r\n*(The app gives you the possibility of taking notes that are saved in an SQLite3 table and defining buzzwords along the way, which your other notes are then searched for, and you are handed a list of Zettel containing the same buzzwords. You can also group Zettel into collections)*\r\n\r\n---\r\n\r\nI have a ListView, that allows you to choose one of the Zettel, and its header and text are loaded into TextFields for editing. I want the ListView to display the changes in a Zettel live during typing (the text in the database is updated with every keystroke).\r\n\r\n\r\n\r\n\r\n\r\n With my current solution, the Thumb or Cell of the Zettel in the LV is only ever updated, when i click on another one.\r\n\r\nHere are my bits of code responsible for that functionality.\r\n\r\nController-Class:\r\n\r\n```\r\n//variables\r\n @FXML\r\n    public TextField headerZettel;\r\n\r\n    @FXML\r\n    public TextArea textZettel;\r\n@FXML\r\n    private ListView&lt;Zettel&gt; zettelList;\r\n    private ObservableList&lt;Zettel&gt; zettelData = FXCollections.observableArrayList();\r\n```\r\n\r\n\r\n```\r\n public void initializeZettelList() {\r\n        // get ZettelData from database and add to list\r\n        zettelList.setItems(zettelData);\r\n\r\n        //CellFactory for manipulation of the listcells\r\n        zettelList.setCellFactory(param -&gt; new ListCell&lt;&gt;() {\r\n            private final VBox vbRoot = new VBox();\r\n            private final Label lblHeader = new Label();\r\n            private final Label lblText = new Label();\r\n            private Zettel zettel;\r\n\r\n            {\r\n                lblHeader.setStyle(&quot;-fx-font-weight: bold;&quot;);\r\n                vbRoot.setSpacing(10);\r\n                vbRoot.getChildren().addAll(lblHeader, lblText);\r\n            }\r\n\r\n            @Override\r\n            protected void updateItem(Zettel z, boolean empty) {\r\n                super.updateItem(z, empty);\r\n\r\n                if (z != null &amp;&amp; !empty) {\r\n\r\n                    lblHeader.setText(z.getHeader());\r\n                    lblText.setText(z.getText().split(&quot;\\n&quot;)[0]);\r\n                    setGraphic(vbRoot);\r\n                    zettel = z; // Save the reference to the associated Zettel object\r\n                } else {\r\n                    setGraphic(null);\r\n                    zettel = null; // Clear the reference when the cell is empty\r\n                }\r\n            }\r\n        });\r\n        // ChangeListener to load and handle Zettel-Objects\r\n        zettelList.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;Zettel&gt;() {\r\n            @Override\r\n            public void changed(ObservableValue&lt;? extends Zettel&gt; observable, Zettel oldValue, Zettel newValue) {\r\n                if (newValue != null) {\r\n                    currentZettelId = newValue.getZettelId();\r\n                    headerZettel.setText(newValue.getHeader());\r\n                    textZettel.setText(newValue.getText());\r\n                } else {\r\n                    currentZettelId = null;\r\n                    headerZettel.clear();\r\n                    textZettel.clear();\r\n                }\r\n            }\r\n        });\r\n}\r\n```\r\nin here is the Stream with the ZettelData:\r\n\r\n```\r\npublic void updateZettelInDatabase() {\r\n        String header = getHeaderZettelText();\r\n        String text = getTextZettelText();\r\n        if (currentZettelId != null) {\r\n            Zettel zettelToUpdate = zettelData.stream()\r\n                    .filter(z -&gt; Arrays.equals(z.getZettelId(), currentZettelId))\r\n                    .findFirst()\r\n                    .orElse(null);\r\n\r\n            if (zettelToUpdate != null) {\r\n                zettelToUpdate.setHeader(header);\r\n                zettelToUpdate.setText(text);\r\n\r\n                //Update Zettel-Object in database\r\n                ZettelUpdater zettelUpdater = new ZettelUpdater();\r\n                zettelUpdater.updateZettel(header, text, currentZettelId);\r\n            } else {\r\n                System.out.println(&quot;Keine aktuelle ZettelId vorhanden.&quot;);\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\nFrom the Database-Class:\r\n\r\n\r\n```\r\n public static ObservableList&lt;Zettel&gt; getZettelData(){\r\n        ObservableList&lt;Zettel&gt; zettelData = FXCollections.observableArrayList();\r\n\r\n        try (Connection conn = DriverManager.getConnection(connectionString);\r\n             PreparedStatement stmt = conn.prepareStatement(&quot;SELECT ZettelId, Header, Text, Date FROM zettel&quot;);\r\n             ResultSet rs = stmt.executeQuery()) {\r\n\r\n            DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\r\n\r\n            while (rs.next()) {\r\n                byte[] zettelId = rs.getBytes(&quot;ZettelId&quot;);\r\n                String header = rs.getString(&quot;Header&quot;);\r\n                String text = rs.getString(&quot;Text&quot;);\r\n                String dateString = rs.getString(&quot;Date&quot;);\r\n\r\n\r\n                LocalDate date = LocalDate.parse(dateString, dateFormatter);\r\n\r\n                Zettel zettel = new Zettel();\r\n                zettel.setZettelId(zettelId);\r\n                zettel.setHeader(header);\r\n                zettel.setText(text);\r\n                zettel.setDate(date);\r\n\r\n                zettelData.add(zettel);\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return zettelData;\r\n    }\r\n```\r\n\r\n[![this is how it looks](https://i.stack.imgur.com/Lnp0o.png)](https://i.stack.imgur.com/Lnp0o.png)\r\n\r\n Any hints or Ideas, how to make it work live?\r\n\r\nGenerally i am also very happy for all kinds of critique, as i am very new to java, and this is my first project to finish my course. :)\r\n\r\n\r\nThank you for your help, you&#39;re too kind.\r\n\r\nHerzl Ich","title":"How to display changes in the Textfield of an Object live in ListView?","body":"<p>i am currently coding a small Zettelkasten-app* in Java and Building most of the GUI in scenebuilder.</p>\n<hr />\n<p>Further Description irrelevant for the Question, read italic parts only if interested:\n<em>(The app gives you the possibility of taking notes that are saved in an SQLite3 table and defining buzzwords along the way, which your other notes are then searched for, and you are handed a list of Zettel containing the same buzzwords. You can also group Zettel into collections)</em></p>\n<hr />\n<p>I have a ListView, that allows you to choose one of the Zettel, and its header and text are loaded into TextFields for editing. I want the ListView to display the changes in a Zettel live during typing (the text in the database is updated with every keystroke).</p>\n<p>With my current solution, the Thumb or Cell of the Zettel in the LV is only ever updated, when i click on another one.</p>\n<p>Here are my bits of code responsible for that functionality.</p>\n<p>Controller-Class:</p>\n<pre><code>//variables\n @FXML\n    public TextField headerZettel;\n\n    @FXML\n    public TextArea textZettel;\n@FXML\n    private ListView&lt;Zettel&gt; zettelList;\n    private ObservableList&lt;Zettel&gt; zettelData = FXCollections.observableArrayList();\n</code></pre>\n<pre><code> public void initializeZettelList() {\n        // get ZettelData from database and add to list\n        zettelList.setItems(zettelData);\n\n        //CellFactory for manipulation of the listcells\n        zettelList.setCellFactory(param -&gt; new ListCell&lt;&gt;() {\n            private final VBox vbRoot = new VBox();\n            private final Label lblHeader = new Label();\n            private final Label lblText = new Label();\n            private Zettel zettel;\n\n            {\n                lblHeader.setStyle(&quot;-fx-font-weight: bold;&quot;);\n                vbRoot.setSpacing(10);\n                vbRoot.getChildren().addAll(lblHeader, lblText);\n            }\n\n            @Override\n            protected void updateItem(Zettel z, boolean empty) {\n                super.updateItem(z, empty);\n\n                if (z != null &amp;&amp; !empty) {\n\n                    lblHeader.setText(z.getHeader());\n                    lblText.setText(z.getText().split(&quot;\\n&quot;)[0]);\n                    setGraphic(vbRoot);\n                    zettel = z; // Save the reference to the associated Zettel object\n                } else {\n                    setGraphic(null);\n                    zettel = null; // Clear the reference when the cell is empty\n                }\n            }\n        });\n        // ChangeListener to load and handle Zettel-Objects\n        zettelList.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;Zettel&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Zettel&gt; observable, Zettel oldValue, Zettel newValue) {\n                if (newValue != null) {\n                    currentZettelId = newValue.getZettelId();\n                    headerZettel.setText(newValue.getHeader());\n                    textZettel.setText(newValue.getText());\n                } else {\n                    currentZettelId = null;\n                    headerZettel.clear();\n                    textZettel.clear();\n                }\n            }\n        });\n}\n</code></pre>\n<p>in here is the Stream with the ZettelData:</p>\n<pre><code>public void updateZettelInDatabase() {\n        String header = getHeaderZettelText();\n        String text = getTextZettelText();\n        if (currentZettelId != null) {\n            Zettel zettelToUpdate = zettelData.stream()\n                    .filter(z -&gt; Arrays.equals(z.getZettelId(), currentZettelId))\n                    .findFirst()\n                    .orElse(null);\n\n            if (zettelToUpdate != null) {\n                zettelToUpdate.setHeader(header);\n                zettelToUpdate.setText(text);\n\n                //Update Zettel-Object in database\n                ZettelUpdater zettelUpdater = new ZettelUpdater();\n                zettelUpdater.updateZettel(header, text, currentZettelId);\n            } else {\n                System.out.println(&quot;Keine aktuelle ZettelId vorhanden.&quot;);\n            }\n\n        }\n    }\n</code></pre>\n<p>From the Database-Class:</p>\n<pre><code> public static ObservableList&lt;Zettel&gt; getZettelData(){\n        ObservableList&lt;Zettel&gt; zettelData = FXCollections.observableArrayList();\n\n        try (Connection conn = DriverManager.getConnection(connectionString);\n             PreparedStatement stmt = conn.prepareStatement(&quot;SELECT ZettelId, Header, Text, Date FROM zettel&quot;);\n             ResultSet rs = stmt.executeQuery()) {\n\n            DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;);\n\n            while (rs.next()) {\n                byte[] zettelId = rs.getBytes(&quot;ZettelId&quot;);\n                String header = rs.getString(&quot;Header&quot;);\n                String text = rs.getString(&quot;Text&quot;);\n                String dateString = rs.getString(&quot;Date&quot;);\n\n\n                LocalDate date = LocalDate.parse(dateString, dateFormatter);\n\n                Zettel zettel = new Zettel();\n                zettel.setZettelId(zettelId);\n                zettel.setHeader(header);\n                zettel.setText(text);\n                zettel.setDate(date);\n\n                zettelData.add(zettel);\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n\n        return zettelData;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Lnp0o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lnp0o.png\" alt=\"this is how it looks\" /></a></p>\n<p>Any hints or Ideas, how to make it work live?</p>\n<p>Generally i am also very happy for all kinds of critique, as i am very new to java, and this is my first project to finish my course. :)</p>\n<p>Thank you for your help, you're too kind.</p>\n<p>Herzl Ich</p>\n"},{"tags":["java","android","android-adapter","android-permissions"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1499613150,"post_id":44997864,"comment_id":76969642,"body_markdown":"_&quot;context &#39;this&#39; shows as an error&quot;_ -- you must show us the error and indicate whether it&#39;s a compile error or runtime error.  For a runtime error you must include the complete stack trace.","body":"<i>&quot;context &#39;this&#39; shows as an error&quot;</i> -- you must show us the error and indicate whether it&#39;s a compile error or runtime error.  For a runtime error you must include the complete stack trace."},{"owner":{"account_id":3465438,"reputation":2658,"user_id":2901129,"accept_rate":100,"display_name":"Basil Battikhi"},"score":0,"creation_date":1499692003,"post_id":44997864,"comment_id":76999404,"body_markdown":"instead of using this use  MyClassName.this","body":"instead of using this use  MyClassName.this"},{"owner":{"account_id":8834602,"reputation":159,"user_id":6599395,"accept_rate":60,"display_name":"Chirag"},"score":0,"creation_date":1499693285,"post_id":44997864,"comment_id":77000393,"body_markdown":"+Basil Battikhi, I tried that. But it says that it isn&#39;t an enclosing class.","body":"+Basil Battikhi, I tried that. But it says that it isn&#39;t an enclosing class."}],"answers":[{"tags":[],"owner":{"account_id":8834602,"reputation":159,"user_id":6599395,"accept_rate":60,"display_name":"Chirag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1499695931,"creation_date":1499693225,"answer_id":45013326,"question_id":44997864,"body_markdown":"I used `Activity act = (Activity)(holder.call.getContext());` to get the activity and then used act inside `Dexter.withActivity()`. None of the other solutions worked. I had to get the context through one of the views and then convert it into an activity as shown above.\r\n","title":"Requires permission before using this line of code even after i use the dexter library to specifically ask permissions","body":"<p>I used <code>Activity act = (Activity)(holder.call.getContext());</code> to get the activity and then used act inside <code>Dexter.withActivity()</code>. None of the other solutions worked. I had to get the context through one of the views and then convert it into an activity as shown above.</p>\n"},{"tags":[],"owner":{"account_id":22636080,"reputation":1151,"user_id":16812867,"display_name":"Rehan Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692944390,"creation_date":1692944390,"answer_id":76974701,"question_id":44997864,"body_markdown":"Instead of Using \r\n\r\n    Dexter.withActivity(this)\r\n\r\n \r\nuse \r\n\r\n    Dexter.withContext(this)","title":"Requires permission before using this line of code even after i use the dexter library to specifically ask permissions","body":"<p>Instead of Using</p>\n<pre><code>Dexter.withActivity(this)\n</code></pre>\n<p>use</p>\n<pre><code>Dexter.withContext(this)\n</code></pre>\n"}],"owner":{"account_id":8834602,"reputation":159,"user_id":6599395,"accept_rate":60,"display_name":"Chirag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":45013326,"answer_count":2,"score":-1,"last_activity_date":1692944390,"creation_date":1499613000,"question_id":44997864,"body_markdown":"    @Override\r\n    public void onClick(View v) {\r\n        Dexter.withActivity(this)\r\n                .withPermission(Manifest.permission.CALL_PHONE)\r\n                .withListener(new PermissionListener() {\r\n                    @Override public void onPermissionGranted(PermissionGrantedResponse response) {\r\n                        Intent callIntent = new Intent(Intent.ACTION_CALL);\r\n                        callIntent.setData(Uri.parse(&quot;tel:123456789&quot;));\r\n\r\n\r\n                        mcontext.startActivity(callIntent);}\r\n                    @Override public void onPermissionDenied(PermissionDeniedResponse response) {/* ... */}\r\n                    @Override public void onPermissionRationaleShouldBeShown(PermissionRequest permission, PermissionToken token) {/* ... */}\r\n                }).check();\r\n    }\r\n\r\nThe context &#39;this&#39; shows as an error. And also the line of code that calls someone is still showing as an error even after i put it in the OnPermissionGranted() method. What should i change to make this work? \r\n\r\nThe link for the dexter library is given below:\r\n\r\nhttps://github.com/Karumi/Dexter","title":"Requires permission before using this line of code even after i use the dexter library to specifically ask permissions","body":"<pre><code>@Override\npublic void onClick(View v) {\n    Dexter.withActivity(this)\n            .withPermission(Manifest.permission.CALL_PHONE)\n            .withListener(new PermissionListener() {\n                @Override public void onPermissionGranted(PermissionGrantedResponse response) {\n                    Intent callIntent = new Intent(Intent.ACTION_CALL);\n                    callIntent.setData(Uri.parse(\"tel:123456789\"));\n\n\n                    mcontext.startActivity(callIntent);}\n                @Override public void onPermissionDenied(PermissionDeniedResponse response) {/* ... */}\n                @Override public void onPermissionRationaleShouldBeShown(PermissionRequest permission, PermissionToken token) {/* ... */}\n            }).check();\n}\n</code></pre>\n\n<p>The context 'this' shows as an error. And also the line of code that calls someone is still showing as an error even after i put it in the OnPermissionGranted() method. What should i change to make this work? </p>\n\n<p>The link for the dexter library is given below:</p>\n\n<p><a href=\"https://github.com/Karumi/Dexter\" rel=\"nofollow noreferrer\">https://github.com/Karumi/Dexter</a></p>\n"},{"tags":["java","angular","azure-active-directory","microsoft-graph-api","openid-connect"],"comments":[{"owner":{"account_id":14567510,"reputation":15827,"user_id":10521739,"display_name":"Allen Wu"},"score":1,"creation_date":1608522322,"post_id":65387189,"comment_id":115600995,"body_markdown":"Did you see this [example](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow#example)? `&amp;assertion=eyJ0eXAiOiJKV*****` is the first token. You need to include it in the request to acquire the second access token.","body":"Did you see this <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-on-behalf-of-flow#example\" rel=\"nofollow noreferrer\">example</a>? <code>&amp;assertion=eyJ0eXAiOiJKV*****</code> is the first token. You need to include it in the request to acquire the second access token."},{"owner":{"account_id":7884308,"reputation":53,"user_id":5957010,"display_name":"nabeelh21"},"score":0,"creation_date":1608525202,"post_id":65387189,"comment_id":115601438,"body_markdown":"Sorry, I may be missing something. How exactly do I use that in Java?","body":"Sorry, I may be missing something. How exactly do I use that in Java?"},{"owner":{"account_id":14567510,"reputation":15827,"user_id":10521739,"display_name":"Allen Wu"},"score":1,"creation_date":1608532968,"post_id":65387189,"comment_id":115603073,"body_markdown":"See the sample code [here](https://learn.microsoft.com/en-us/azure/active-directory/develop/scenario-web-api-call-api-acquire-token?tabs=java): use `msalAuthHelper.getOboToken(&quot;https://graph.microsoft.com/.default&quot;)`. And I have provided you with a completed [Github sample](https://github.com/Azure-Samples/ms-identity-java-webapi) before. Is there any difficulty when you implement it?","body":"See the sample code <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/scenario-web-api-call-api-acquire-token?tabs=java\" rel=\"nofollow noreferrer\">here</a>: use <code>msalAuthHelper.getOboToken(&quot;https:&#47;&#47;graph.microsoft.com&#47;.def&zwnj;&#8203;ault&quot;)</code>. And I have provided you with a completed <a href=\"https://github.com/Azure-Samples/ms-identity-java-webapi\" rel=\"nofollow noreferrer\">Github sample</a> before. Is there any difficulty when you implement it?"}],"answers":[{"comments":[{"owner":{"account_id":7884308,"reputation":53,"user_id":5957010,"display_name":"nabeelh21"},"score":0,"creation_date":1608597107,"post_id":65396625,"comment_id":115627569,"body_markdown":"Thanks, I was able to find a thread on how to create POST request in Java, and got the response to come back correctly.\nhttps://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java\nParsing the JSON response to retreive only the new access token was another issue, but I got it working finally.","body":"Thanks, I was able to find a thread on how to create POST request in Java, and got the response to come back correctly. <a href=\"https://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java\" title=\"how to send http request in java\">stackoverflow.com/questions/1359689/&hellip;</a> Parsing the JSON response to retreive only the new access token was another issue, but I got it working finally."}],"tags":[],"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615062698,"creation_date":1608568759,"answer_id":65396625,"question_id":65387189,"body_markdown":"You would need to send 2 messages in your API:\r\n\r\n* Send your access token to the token endpoint, to get a graph access token\r\n* Send the graph access token to the user info endpoint\r\n\r\nI only have a sample in NodeJS, though the messages are quite simple, involving requests with form url encoded data, and JSON responses. So you should be able to do this fairly easily with any Java HTTP Client:\r\n\r\n* [Sample Code in NodeJS](https://github.com/gary-archer/oauth.websample.azure/blob/master/api/src/host/oauth/authenticator.ts#L137)\r\n* [Blog Post with Screenshots](https://authguidance.com/2017/12/01/azure-ad-spa-code-sample#getuserinfo)\r\n\r\nAllen&#39;s samples should demonstrate how to incorporate this into Spring Security.","title":"How to obtain 2nd access token in Java for Graph API with a oidc compliant token. OBO flow","body":"<p>You would need to send 2 messages in your API:</p>\n<ul>\n<li>Send your access token to the token endpoint, to get a graph access token</li>\n<li>Send the graph access token to the user info endpoint</li>\n</ul>\n<p>I only have a sample in NodeJS, though the messages are quite simple, involving requests with form url encoded data, and JSON responses. So you should be able to do this fairly easily with any Java HTTP Client:</p>\n<ul>\n<li><a href=\"https://github.com/gary-archer/oauth.websample.azure/blob/master/api/src/host/oauth/authenticator.ts#L137\" rel=\"nofollow noreferrer\">Sample Code in NodeJS</a></li>\n<li><a href=\"https://authguidance.com/2017/12/01/azure-ad-spa-code-sample#getuserinfo\" rel=\"nofollow noreferrer\">Blog Post with Screenshots</a></li>\n</ul>\n<p>Allen's samples should demonstrate how to incorporate this into Spring Security.</p>\n"}],"owner":{"account_id":7884308,"reputation":53,"user_id":5957010,"display_name":"nabeelh21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692944350,"creation_date":1608520943,"question_id":65387189,"body_markdown":"I am using the **angular-oauth2-oidc** library in Angular to login via the PKCE Authorization Flow and then passing the token to my back end to secure my custom API.\r\n\r\nThe Spring boot back end is acting as the oauth2 Resource Server and securing my custom API&#39;s using the token.\r\n\r\nSecurityConfiguration.java\r\n\r\n    http.cors().and()\r\n            .authorizeRequests().antMatchers(&quot;/home&quot;).permitAll()\r\n            .and()\r\n            .authorizeRequests().antMatchers(&quot;/actuator/health&quot;).permitAll()\r\n            .and()\r\n            .authorizeRequests().antMatchers(&quot;/**&quot;).authenticated()\r\n            .and()\r\n            .oauth2ResourceServer().jwt();\r\n\r\nBy default, Azure AD returns a valid JWT token only for Graph APIs. If you want to use the Azure AD OIDC authentication for your own API, you are dealing with a non-compliant provider.\r\nThus I created a custom scope in the App Registration → Expose an API page. Then I added this scope in the authorization request initiated by my Angular client along with the default openid scope.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nNow that I have this token, which no longer contains the ‘nonce’ in its jwt header (which I needed to do to secure my custom api), how do I go about using this token to get a new token?\r\nand then follow the On-Behalf-Of flow to create my graph api calls. \r\n\r\nIs anyone able to guide me in the right direction on how to exactly get the 2nd access token?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6atA6.png","title":"How to obtain 2nd access token in Java for Graph API with a oidc compliant token. OBO flow","body":"<p>I am using the <strong>angular-oauth2-oidc</strong> library in Angular to login via the PKCE Authorization Flow and then passing the token to my back end to secure my custom API.</p>\n<p>The Spring boot back end is acting as the oauth2 Resource Server and securing my custom API's using the token.</p>\n<p>SecurityConfiguration.java</p>\n<pre><code>http.cors().and()\n        .authorizeRequests().antMatchers(&quot;/home&quot;).permitAll()\n        .and()\n        .authorizeRequests().antMatchers(&quot;/actuator/health&quot;).permitAll()\n        .and()\n        .authorizeRequests().antMatchers(&quot;/**&quot;).authenticated()\n        .and()\n        .oauth2ResourceServer().jwt();\n</code></pre>\n<p>By default, Azure AD returns a valid JWT token only for Graph APIs. If you want to use the Azure AD OIDC authentication for your own API, you are dealing with a non-compliant provider.\nThus I created a custom scope in the App Registration → Expose an API page. Then I added this scope in the authorization request initiated by my Angular client along with the default openid scope.</p>\n<p><a href=\"https://i.stack.imgur.com/6atA6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6atA6.png\" alt=\"enter image description here\" /></a></p>\n<p>Now that I have this token, which no longer contains the ‘nonce’ in its jwt header (which I needed to do to secure my custom api), how do I go about using this token to get a new token?\nand then follow the On-Behalf-Of flow to create my graph api calls.</p>\n<p>Is anyone able to guide me in the right direction on how to exactly get the 2nd access token?</p>\n"},{"tags":["java","xml","maven"],"comments":[{"owner":{"account_id":1775623,"reputation":1853,"user_id":1619462,"accept_rate":60,"display_name":"jeroen_de_schutter"},"score":0,"creation_date":1453906449,"post_id":35034677,"comment_id":57805565,"body_markdown":"Do you get the error at compile time or at runtime when accessing a jsp page ?","body":"Do you get the error at compile time or at runtime when accessing a jsp page ?"},{"owner":{"display_name":"user2879303"},"score":0,"creation_date":1453906628,"post_id":35034677,"comment_id":57805708,"body_markdown":"At compile time. The only way it compiles successfully is by using the old, deprecated DOCTYPE declaration in the web. xml. I just don&#39;t know why.","body":"At compile time. The only way it compiles successfully is by using the old, deprecated DOCTYPE declaration in the web. xml. I just don&#39;t know why."}],"answers":[{"tags":[],"owner":{"display_name":"user2879303"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1453973022,"creation_date":1453961377,"answer_id":35053998,"question_id":35034677,"body_markdown":"I finally came upon the solution. By default, for some reason (and I&#39;d like to know why), Maven generates a Dynamic Web Module as version 2.3. DTD was of course the standard for Servlet 2.3 and was probably unable to parse or evaluate my XML-based `web.xml` file.\r\n\r\nI&#39;m still not 100% clear as to why changing `web.xml` to XSD caused the JasperException with respect to JSTL, though I think it has something to do with JSTL being integrated with JSP at some point after Servlet 2.3 - someone please correct or elaborate on this if possible.\r\n\r\nSee this: https://stackoverflow.com/a/4928309/2879303\r\n\r\nNow for the solution:\r\n\r\n 1. Right-click on your Maven project and select **Properties**\r\n    \r\n 2.   Navigate to Project Facets and untick **Dynamic Web Module**. Apply\r\n    changes.\r\n    \r\n 3.   From the version drop-down box, select the latest version (as of\r\n    writing, this is 3.1). Re-select **Dynamic Web Module**. Apply changes.\r\n    \r\n 4.   Right-click on your Maven project and select **Maven** -&gt; **Update\r\n    Project**.\r\n    \r\n 5.   Your project should now be able to correctly interpret a `web.xml`\r\n    with an XSD declaration.","title":"JasperException: Absolute uri cannot be resolved","body":"<p>I finally came upon the solution. By default, for some reason (and I'd like to know why), Maven generates a Dynamic Web Module as version 2.3. DTD was of course the standard for Servlet 2.3 and was probably unable to parse or evaluate my XML-based <code>web.xml</code> file.</p>\n\n<p>I'm still not 100% clear as to why changing <code>web.xml</code> to XSD caused the JasperException with respect to JSTL, though I think it has something to do with JSTL being integrated with JSP at some point after Servlet 2.3 - someone please correct or elaborate on this if possible.</p>\n\n<p>See this: <a href=\"https://stackoverflow.com/a/4928309/2879303\">https://stackoverflow.com/a/4928309/2879303</a></p>\n\n<p>Now for the solution:</p>\n\n<ol>\n<li><p>Right-click on your Maven project and select <strong>Properties</strong></p></li>\n<li><p>Navigate to Project Facets and untick <strong>Dynamic Web Module</strong>. Apply\nchanges.</p></li>\n<li><p>From the version drop-down box, select the latest version (as of\nwriting, this is 3.1). Re-select <strong>Dynamic Web Module</strong>. Apply changes.</p></li>\n<li><p>Right-click on your Maven project and select <strong>Maven</strong> -> <strong>Update\nProject</strong>.</p></li>\n<li><p>Your project should now be able to correctly interpret a <code>web.xml</code>\nwith an XSD declaration.</p></li>\n</ol>\n"}],"owner":{"display_name":"user2879303"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8833,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":35053998,"answer_count":1,"score":2,"last_activity_date":1692943839,"creation_date":1453890230,"question_id":35034677,"body_markdown":"I have been getting the following JasperException when trying to use an XML schema for my web.xml, instead of the deprecated DOCTYPE declaration:\r\n\r\n    HTTP Status 500 - The absolute uri: http://java.sun.com/jsp/jstl/core \r\n    cannot be resolved in either web.xml or the jar files deployed with this\r\n    application\r\n\r\nIf I use this web.xml, the application compiles:\r\n\r\n    &lt;!DOCTYPE web-app PUBLIC \r\n    &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n    &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n\r\n    &lt;web-app&gt;\r\n        &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHowever, if I use this web.xml, I get the JasperException:\r\n    \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n        &lt;display-name&gt;CourseManagementJDBC&lt;/display-name&gt;\\\r\n    &lt;/web-app&gt;\r\n\r\nAny idea why only a deprecated format would work?\r\n\r\n**NOTE**: This is for a Maven project, and the JSTL dependency has been correctly declared, as well as the tag library in the JSP:\r\n\r\npom.xml:\r\n    \r\n    &lt;dependency&gt;\r\n  \t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n  \t    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n  \t    &lt;version&gt;1.2&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n\r\nJSP:\r\n\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n\r\nThey&#39;re all correct; what gives?","title":"JasperException: Absolute uri cannot be resolved","body":"<p>I have been getting the following JasperException when trying to use an XML schema for my web.xml, instead of the deprecated DOCTYPE declaration:</p>\n\n<pre><code>HTTP Status 500 - The absolute uri: http://java.sun.com/jsp/jstl/core \ncannot be resolved in either web.xml or the jar files deployed with this\napplication\n</code></pre>\n\n<p>If I use this web.xml, the application compiles:</p>\n\n<pre><code>&lt;!DOCTYPE web-app PUBLIC \n\"-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN\"\n\"http://java.sun.com/dtd/web-app_2_3.dtd\" &gt;\n\n&lt;web-app&gt;\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>However, if I use this web.xml, I get the JasperException:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n    &lt;display-name&gt;CourseManagementJDBC&lt;/display-name&gt;\\\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Any idea why only a deprecated format would work?</p>\n\n<p><strong>NOTE</strong>: This is for a Maven project, and the JSTL dependency has been correctly declared, as well as the tag library in the JSP:</p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>JSP:</p>\n\n<pre><code>&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n</code></pre>\n\n<p>They're all correct; what gives?</p>\n"},{"tags":["java","maven-2","exec-maven-plugin"],"answers":[{"comments":[{"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"score":0,"creation_date":1284470708,"post_id":3708911,"comment_id":3912655,"body_markdown":"I thought -Dexec.args is for arguments passed to the main class.","body":"I thought -Dexec.args is for arguments passed to the main class."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1284471736,"post_id":3708911,"comment_id":3912844,"body_markdown":"yes, I was wrong. sorry, I updated my answer. `&lt;commandlineArgs&gt;` and `&lt;arguments&gt;` both do pretty much the same thing internally.","body":"yes, I was wrong. sorry, I updated my answer. <code>&lt;commandlineArgs&gt;</code> and <code>&lt;arguments&gt;</code> both do pretty much the same thing internally."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":2,"down_vote_count":2,"up_vote_count":21,"is_accepted":true,"score":19,"last_activity_date":1473188444,"creation_date":1284467950,"answer_id":3708911,"question_id":3708846,"body_markdown":"There is no way to set the `&lt;systemProperties&gt;` [parameter][1] on the command line.\r\n\r\nHowever, since `exec:java` is not forked, you can just pass a system property to maven and it will be picked up by `exec:java` as well.\r\n\r\n\r\n  [1]: http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html#systemProperties\r\n\r\n    mvn -Dkey=value exec:java -Dexec.mainClass=com.yourcompany.yourclass \\\r\n        -Dexec.args=&quot;arg1 arg2 arg3&quot;","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>There is no way to set the <code>&lt;systemProperties&gt;</code> <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html#systemProperties\" rel=\"noreferrer\">parameter</a> on the command line.</p>\n\n<p>However, since <code>exec:java</code> is not forked, you can just pass a system property to maven and it will be picked up by <code>exec:java</code> as well.</p>\n\n<pre><code>mvn -Dkey=value exec:java -Dexec.mainClass=com.yourcompany.yourclass \\\n    -Dexec.args=\"arg1 arg2 arg3\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1069033,"reputation":27720,"user_id":1068746,"accept_rate":57,"display_name":"guy mograbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1376228335,"creation_date":1376228335,"answer_id":18172511,"question_id":3708846,"body_markdown":"I just ran into a similar problem and I wanted to write a full answer for others that might come across this question. \r\n\r\n\r\nEven though the question is not about pom.xml but about command line - it does not state how to do the same with pom.xml so here it is\r\n\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.2.1&lt;/version&gt;\r\n    \r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;java&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n    \r\n                    &lt;configuration&gt;\r\n                         &lt;mainClass&gt;myPackage.MyMain&lt;/mainClass&gt;\r\n                          &lt;systemProperties&gt;\r\n                              &lt;property&gt;\r\n                                  &lt;key&gt;myKey&lt;/key&gt;\r\n                                  &lt;value&gt;myValue&lt;/value&gt;\r\n                              &lt;/property&gt;\r\n                          &lt;/systemProperties&gt;\r\n                    &lt;/configuration&gt;\r\n    \r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n\r\nFor the command line - I think `Sean Patrick Floyd&#39;s` answer is good - however, if you have something already defined in your pom.xml it will override it. \r\n\r\nSo running \r\n\r\n     mvn exec:java -DmyKey=myValue\r\n\r\nshould also work for you. \r\n\r\n\r\nYou should also note that the [exec plugin&#39;s documentations][1] states the following\r\n\r\n    A list of system properties to be passed. \r\n    Note: as the execution is not forked, some system properties required \r\n    by the JVM cannot be passed here. \r\n    Use MAVEN_OPTS or the exec:exec instead. See the user guide for more information.\r\n\r\nSo you can also do something like this \r\n\r\n\r\n    export MAVEN_OPTS=-DmyKey=myValue\r\n    mvn exec:java\r\n\r\n\r\nand it should work the same way.\r\n \r\n\r\n\r\n  [1]: http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html#systemProperties","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>I just ran into a similar problem and I wanted to write a full answer for others that might come across this question. </p>\n\n<p>Even though the question is not about pom.xml but about command line - it does not state how to do the same with pom.xml so here it is</p>\n\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n\n                &lt;goals&gt;\n                    &lt;goal&gt;java&lt;/goal&gt;\n                &lt;/goals&gt;\n\n                &lt;configuration&gt;\n                     &lt;mainClass&gt;myPackage.MyMain&lt;/mainClass&gt;\n                      &lt;systemProperties&gt;\n                          &lt;property&gt;\n                              &lt;key&gt;myKey&lt;/key&gt;\n                              &lt;value&gt;myValue&lt;/value&gt;\n                          &lt;/property&gt;\n                      &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>For the command line - I think <code>Sean Patrick Floyd's</code> answer is good - however, if you have something already defined in your pom.xml it will override it. </p>\n\n<p>So running </p>\n\n<pre><code> mvn exec:java -DmyKey=myValue\n</code></pre>\n\n<p>should also work for you. </p>\n\n<p>You should also note that the <a href=\"http://mojo.codehaus.org/exec-maven-plugin/java-mojo.html#systemProperties\" rel=\"noreferrer\">exec plugin's documentations</a> states the following</p>\n\n<pre><code>A list of system properties to be passed. \nNote: as the execution is not forked, some system properties required \nby the JVM cannot be passed here. \nUse MAVEN_OPTS or the exec:exec instead. See the user guide for more information.\n</code></pre>\n\n<p>So you can also do something like this </p>\n\n<pre><code>export MAVEN_OPTS=-DmyKey=myValue\nmvn exec:java\n</code></pre>\n\n<p>and it should work the same way.</p>\n"},{"tags":[],"owner":{"account_id":1549294,"reputation":1475,"user_id":1442070,"display_name":"mokshino"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1392756784,"creation_date":1392756784,"answer_id":21865061,"question_id":3708846,"body_markdown":"Try following for me it works properly\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;ibis.structure.Structure&lt;/mainClass&gt;\r\n                    &lt;systemProperties&gt;\r\n                        &lt;systemProperty&gt;\r\n                            &lt;key&gt;someKey&lt;/key&gt;\r\n                            &lt;value&gt;someValue&lt;/value&gt;\r\n                        &lt;/systemProperty&gt;\r\n                    &lt;/systemProperties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>Try following for me it works properly</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;ibis.structure.Structure&lt;/mainClass&gt;\n                &lt;systemProperties&gt;\n                    &lt;systemProperty&gt;\n                        &lt;key&gt;someKey&lt;/key&gt;\n                        &lt;value&gt;someValue&lt;/value&gt;\n                    &lt;/systemProperty&gt;\n                &lt;/systemProperties&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":235896,"reputation":1859,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692942933,"creation_date":1692942933,"answer_id":76974567,"question_id":3708846,"body_markdown":"For goal exec:\r\n\r\n\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;arguments&gt;\r\n\t\t\t\t\t&lt;argument&gt;-Dsome.key=true&lt;/argument&gt;\r\n    ","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>For goal exec:</p>\n<pre><code>&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;exec&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n            &lt;arguments&gt;\n                &lt;argument&gt;-Dsome.key=true&lt;/argument&gt;\n</code></pre>\n"}],"owner":{"account_id":32083,"reputation":25280,"user_id":88622,"accept_rate":87,"display_name":"Alexandru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21079,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":3708911,"answer_count":4,"score":27,"last_activity_date":1692942933,"creation_date":1284467397,"question_id":3708846,"body_markdown":"I want to use the exec:java plugin to invoke the main class from command line. I can pass arguments from the command line using `-Dexec.args=&quot;arg0 arg1 arg2&quot;`, I don&#39;t know how to pass system properties. I tried &#39;-Dexec.systemProperties=&quot;key=value&quot;` but with no effect.\r\n\r\n\r\n`pom.xml` looks like this:\r\n\r\n      &lt;plugin&gt;  \r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;ibis.structure.Structure&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;  \r\n      &lt;/plugin&gt;\r\n","title":"How to pass systemProperties when invoking exec:java plugin in maven?","body":"<p>I want to use the exec:java plugin to invoke the main class from command line. I can pass arguments from the command line using <code>-Dexec.args=\"arg0 arg1 arg2\"</code>, I don't know how to pass system properties. I tried '-Dexec.systemProperties=\"key=value\"` but with no effect.</p>\n\n<p><code>pom.xml</code> looks like this:</p>\n\n<pre><code>  &lt;plugin&gt;  \n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;mainClass&gt;ibis.structure.Structure&lt;/mainClass&gt;\n    &lt;/configuration&gt;  \n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":5,"creation_date":1692803497,"post_id":76962636,"comment_id":135674592,"body_markdown":"Ah yes, the traditional https://en.wikipedia.org/wiki/Scunthorpe_problem . Depends on what you want to achieve. You could limit yourself to entire words (regexp with `\\b`). Or you could check the flagged word against a dictionary. Or you could embrace the crappy censorship. Add some innocuous words for extra memes...","body":"Ah yes, the traditional <a href=\"https://en.wikipedia.org/wiki/Scunthorpe_problem\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Scunthorpe_problem</a> . Depends on what you want to achieve. You could limit yourself to entire words (regexp with <code>\\b</code>). Or you could check the flagged word against a dictionary. Or you could embrace the crappy censorship. Add some innocuous words for extra memes..."},{"owner":{"account_id":16493669,"reputation":3050,"user_id":11916773,"display_name":"Lucan"},"score":0,"creation_date":1692826628,"post_id":76962636,"comment_id":135678654,"body_markdown":"I agree with teapot. It would be useful to know how you wish the word matching to function.","body":"I agree with teapot. It would be useful to know how you wish the word matching to function."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1692827809,"post_id":76962636,"comment_id":135678801,"body_markdown":"Consider also the substitution of visually similar characters to avoid detection, for example the Cyrillic letter `с` and the Latin letter `c`.","body":"Consider also the substitution of visually similar characters to avoid detection, for example the Cyrillic letter <code>с</code> and the Latin letter <code>c</code>."}],"owner":{"account_id":29108873,"reputation":11,"user_id":22299054,"display_name":"DiceMa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692942454,"creation_date":1692802793,"question_id":76962636,"body_markdown":"I&#39;m censoring the chat. Censorship works, but the plugin replaces the word, even if this word does not need to be blocked.\r\n\r\nFor example:\r\nBlocking the word &quot;port&quot;\r\nThe plugin blocks as follows: Tele****ing\r\n\r\nWhat check should I add to this method to make it work? swearList() this is the get method for the config.yml\r\n\r\n\r\n```java\r\nprivate String returnCorrected(String str) {\r\n    JsonObject jsonObject = (new JsonParser()).parse(str).getAsJsonObject();\r\n    JsonArray element = jsonObject.get(&quot;extra&quot;).getAsJsonArray();\r\n    for (JsonElement objects : element) {\r\n        if (objects instanceof JsonObject) {\r\n            JsonObject actual = (JsonObject)objects;\r\n            String text = actual.get(&quot;text&quot;).getAsString();\r\n            for (String badWord : swearList()) {\r\n                if (text.contains(badWord)) {\r\n                    String repeat = StringUtils.repeat(&quot;*&quot;, badWord.length());\r\n                    text = text.replace(badWord, repeat);\r\n                }\r\n            }\r\n            actual.addProperty(&quot;text&quot;, text);\r\n        }\r\n    }\r\n    return jsonObject.toString();\r\n}\r\n```\r\n\r\n\r\nI tried to do it through Listener, but then I need to rewrite completely OnEnable. And I would just like to do a check in private String returnCorrected(String str)","title":"Censorship of words: A method for checking words","body":"<p>I'm censoring the chat. Censorship works, but the plugin replaces the word, even if this word does not need to be blocked.</p>\n<p>For example:\nBlocking the word &quot;port&quot;\nThe plugin blocks as follows: Tele****ing</p>\n<p>What check should I add to this method to make it work? swearList() this is the get method for the config.yml</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String returnCorrected(String str) {\n    JsonObject jsonObject = (new JsonParser()).parse(str).getAsJsonObject();\n    JsonArray element = jsonObject.get(&quot;extra&quot;).getAsJsonArray();\n    for (JsonElement objects : element) {\n        if (objects instanceof JsonObject) {\n            JsonObject actual = (JsonObject)objects;\n            String text = actual.get(&quot;text&quot;).getAsString();\n            for (String badWord : swearList()) {\n                if (text.contains(badWord)) {\n                    String repeat = StringUtils.repeat(&quot;*&quot;, badWord.length());\n                    text = text.replace(badWord, repeat);\n                }\n            }\n            actual.addProperty(&quot;text&quot;, text);\n        }\n    }\n    return jsonObject.toString();\n}\n</code></pre>\n<p>I tried to do it through Listener, but then I need to rewrite completely OnEnable. And I would just like to do a check in private String returnCorrected(String str)</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":6501856,"reputation":6516,"user_id":5032339,"display_name":"Roman"},"score":0,"creation_date":1525894209,"post_id":50260384,"comment_id":87539523,"body_markdown":"Have you checked the documentation?","body":"Have you checked the documentation?"},{"owner":{"account_id":13496155,"reputation":191,"user_id":9736947,"display_name":"john cena"},"score":1,"creation_date":1525894688,"post_id":50260384,"comment_id":87539749,"body_markdown":"yes it doesn&#39;t tell anything like this.","body":"yes it doesn&#39;t tell anything like this."}],"answers":[{"comments":[{"owner":{"account_id":13496155,"reputation":191,"user_id":9736947,"display_name":"john cena"},"score":1,"creation_date":1526069156,"post_id":50267128,"comment_id":87615769,"body_markdown":"how is that possible with second approach that i show page numbers like 1, 2,3,4,5 and user can easily move between them.","body":"how is that possible with second approach that i show page numbers like 1, 2,3,4,5 and user can easily move between them."},{"owner":{"account_id":1856264,"reputation":2950,"user_id":1681772,"display_name":"yellowB"},"score":0,"creation_date":1526262008,"post_id":50267128,"comment_id":87660077,"body_markdown":"@johncena, system design depends on the usage &amp; scenario of your system, but you don&#39;t talk about anything about it. If you want to show page numbers for user to click, I think you can only show (current - 2, current - 1, current, current + 1, current + 2) instead of all page numbers, then you can take benifit from approach-2. Actually I guess user doesn&#39;t want to see page numbers from 1~9999 all in the page :)","body":"@johncena, system design depends on the usage &amp; scenario of your system, but you don&#39;t talk about anything about it. If you want to show page numbers for user to click, I think you can only show (current - 2, current - 1, current, current + 1, current + 2) instead of all page numbers, then you can take benifit from approach-2. Actually I guess user doesn&#39;t want to see page numbers from 1~9999 all in the page :)"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1596464235,"post_id":50267128,"comment_id":111811601,"body_markdown":"What if I want to press &quot;double triangle button&quot; to get 10+ pages(which is a common UI req)? And directly to the last page? I think there are no better way than skip/limit in this situation.","body":"What if I want to press &quot;double triangle button&quot; to get 10+ pages(which is a common UI req)? And directly to the last page? I think there are no better way than skip/limit in this situation."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1596464361,"post_id":50267128,"comment_id":111811664,"body_markdown":"Actually with 1M records, I see one `find(Criteria).skip().limit().sort()` and one `find(Criteria).count()` will return me correct total number and pagination in 5s(1st query)/3s(2nd query) with arbitrary page number. Not very very good, but no other choices.","body":"Actually with 1M records, I see one <code>find(Criteria).skip().limit().sort()</code> and one <code>find(Criteria).count()</code> will return me correct total number and pagination in 5s(1st query)/3s(2nd query) with arbitrary page number. Not very very good, but no other choices."},{"owner":{"account_id":5829305,"reputation":1144,"user_id":4594452,"accept_rate":54,"display_name":"Miko Chu"},"score":0,"creation_date":1628141946,"post_id":50267128,"comment_id":121342630,"body_markdown":"this solution will prevent us from sorting the collection, is there a way to use this technique while still being able to sort other columns/fields?","body":"this solution will prevent us from sorting the collection, is there a way to use this technique while still being able to sort other columns/fields?"}],"tags":[],"owner":{"account_id":1856264,"reputation":2950,"user_id":1681772,"display_name":"yellowB"},"comment_count":5,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1559650679,"creation_date":1525934858,"answer_id":50267128,"question_id":50260384,"body_markdown":"When talking about pagination in MongoDB, it is easily to write this code:\r\n\r\n    collection.find().skip(pageSize*(pageNum-1)).limit(pageSize);\r\n\r\nAbove is the native solution supported by MongoDB, but this is not efficient if there are huge documents in the collection. Suppose you have 100M documents, and you want to get the data from the middle offset(50Mth). **MongoDB has to build up the full dataset and walk from the beginning to the specified offset**, this will be low performance. As your offset increases, the performance keeps degrade.\r\n\r\n**The root cause is the `skip()` command which is not efficient and can not take big benifit from index.**\r\n\r\n\r\n----------\r\n\r\n\r\nBelow is another solution to improve performance on large data pagination:\r\n\r\nThe typical usage scenario of pagination is that there is a table or list to show data of specified page, and also a **&#39;Previous Page&#39;** &amp; **&#39;Next Page&#39;** button to load data of previous or next page.\r\n\r\nIf you got the `&#39;_id&#39;` of the last document in current page, you can use `find()` instead of `skip()`. Use **_id &gt; currentPage_LastDocument._id** as one of the criteria to find next page data. Here is pseudocode:\r\n\r\n    //Page 1\r\n    collection.find().limit(pageSize);\r\n    //Get the _id of the last document in this page\r\n    last_id = ...\r\n     \r\n    //Page 2\r\n    users = collection.find({&#39;_id&#39;: {$gt: last_id}}).limit(pageSize);\r\n    //Update the last id with the _id of the last document in this page\r\n    last_id = ...\r\n\r\nThis will avoid MongoDB to walk through large data when using `skip()`.\r\n\r\n\r\n\r\n","title":"What is the best way for pagination on mongodb using java","body":"<p>When talking about pagination in MongoDB, it is easily to write this code:</p>\n\n<pre><code>collection.find().skip(pageSize*(pageNum-1)).limit(pageSize);\n</code></pre>\n\n<p>Above is the native solution supported by MongoDB, but this is not efficient if there are huge documents in the collection. Suppose you have 100M documents, and you want to get the data from the middle offset(50Mth). <strong>MongoDB has to build up the full dataset and walk from the beginning to the specified offset</strong>, this will be low performance. As your offset increases, the performance keeps degrade.</p>\n\n<p><strong>The root cause is the <code>skip()</code> command which is not efficient and can not take big benifit from index.</strong></p>\n\n<hr>\n\n<p>Below is another solution to improve performance on large data pagination:</p>\n\n<p>The typical usage scenario of pagination is that there is a table or list to show data of specified page, and also a <strong>'Previous Page'</strong> &amp; <strong>'Next Page'</strong> button to load data of previous or next page.</p>\n\n<p>If you got the <code>'_id'</code> of the last document in current page, you can use <code>find()</code> instead of <code>skip()</code>. Use <strong>_id > currentPage_LastDocument._id</strong> as one of the criteria to find next page data. Here is pseudocode:</p>\n\n<pre><code>//Page 1\ncollection.find().limit(pageSize);\n//Get the _id of the last document in this page\nlast_id = ...\n\n//Page 2\nusers = collection.find({'_id': {$gt: last_id}}).limit(pageSize);\n//Update the last id with the _id of the last document in this page\nlast_id = ...\n</code></pre>\n\n<p>This will avoid MongoDB to walk through large data when using <code>skip()</code>.</p>\n"},{"tags":[],"owner":{"account_id":29295251,"reputation":1,"user_id":22444723,"display_name":"Jdk12"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692942060,"creation_date":1692942060,"answer_id":76974513,"question_id":50260384,"body_markdown":"Another approach can be \r\n\r\n1. save document _id as int, not ObjectId.  \r\n```\r\n{_id : 1, title : &#39;&#39;}  //first document\r\n{_id : 2, title : &#39;&#39;}  //second document\r\n```\r\n\r\n2. use the last document _id to query next page. \r\n```\r\ncollection.find({ _id: {$gt: last_id} }).limit(10);\r\n```\r\n\r\n3. use int to query specific pages.\r\n```\r\n//find document 11 to 20\r\ncollection.find({ _id: {$gt: 10} }).limit(10);\r\n\r\n//find document 21 to 30\r\ncollection.find({ _id: {$gt: 20} }).limit(10);\r\n```\r\n","title":"What is the best way for pagination on mongodb using java","body":"<p>Another approach can be</p>\n<ol>\n<li>save document _id as int, not ObjectId.</li>\n</ol>\n<pre><code>{_id : 1, title : ''}  //first document\n{_id : 2, title : ''}  //second document\n</code></pre>\n<ol start=\"2\">\n<li>use the last document _id to query next page.</li>\n</ol>\n<pre><code>collection.find({ _id: {$gt: last_id} }).limit(10);\n</code></pre>\n<ol start=\"3\">\n<li>use int to query specific pages.</li>\n</ol>\n<pre><code>//find document 11 to 20\ncollection.find({ _id: {$gt: 10} }).limit(10);\n\n//find document 21 to 30\ncollection.find({ _id: {$gt: 20} }).limit(10);\n</code></pre>\n"}],"owner":{"account_id":13496155,"reputation":191,"user_id":9736947,"display_name":"john cena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14192,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":50267128,"answer_count":2,"score":4,"last_activity_date":1692942060,"creation_date":1525892590,"question_id":50260384,"body_markdown":"I am trying to create a simple pagination in mongodb by below code.\r\n\r\n    collection.find().skip(n).limit(n);\r\n\r\nbut doesn&#39;t it looks like there will be a performance issue if we see that in java terms first find will return all the records consider i have 2 million records, then it will pass it to skip method then it will be passed to limit method. it means every time this query will be fetching all the db records or mongodb drivers work differently, what i missed?\r\n\r\n  ","title":"What is the best way for pagination on mongodb using java","body":"<p>I am trying to create a simple pagination in mongodb by below code.</p>\n\n<pre><code>collection.find().skip(n).limit(n);\n</code></pre>\n\n<p>but doesn't it looks like there will be a performance issue if we see that in java terms first find will return all the records consider i have 2 million records, then it will pass it to skip method then it will be passed to limit method. it means every time this query will be fetching all the db records or mongodb drivers work differently, what i missed?</p>\n"},{"tags":["java","maven","netbeans"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692950489,"post_id":76974010,"comment_id":135697081,"body_markdown":"Upgrade Netbeans as well as Maven ...","body":"Upgrade Netbeans as well as Maven ..."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1692963583,"post_id":76974010,"comment_id":135699743,"body_markdown":"Unknown host No such host is known (repo.mycompany.com)  - fix that","body":"Unknown host No such host is known (repo.mycompany.com)  - fix that"}],"answers":[{"comments":[{"owner":{"account_id":29257514,"reputation":1,"user_id":22415383,"display_name":"Chamara Pradeep Rajapaksha"},"score":0,"creation_date":1692955505,"post_id":76974506,"comment_id":135698087,"body_markdown":"I appreciate about your concern &#128525;&#128077;","body":"I appreciate about your concern 😍👍"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1693197929,"post_id":76974506,"comment_id":135723301,"body_markdown":"How would that fix an unknown host?","body":"How would that fix an unknown host?"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1693546089,"post_id":76974506,"comment_id":135777900,"body_markdown":"Your suggestion would be fine if posted as a comment, but does nothing to address the specific issue that the user is facing, and does not rise to the level of being a constructive answer.","body":"Your suggestion would be fine if posted as a comment, but does nothing to address the specific issue that the user is facing, and does not rise to the level of being a constructive answer."}],"tags":[],"owner":{"account_id":15419085,"reputation":34,"user_id":11123596,"display_name":"troizet"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692942014,"creation_date":1692942014,"answer_id":76974506,"question_id":76974010,"body_markdown":"Use the latest version of NetBeans https://netbeans.apache.org/download/index.html.\r\nVersion 12.0 is outdated and not supported.","title":"How to fix NetBeans 12.0 and Maven 3.6.3 error","body":"<p>Use the latest version of NetBeans <a href=\"https://netbeans.apache.org/download/index.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/download/index.html</a>.\nVersion 12.0 is outdated and not supported.</p>\n"}],"owner":{"account_id":29257514,"reputation":1,"user_id":22415383,"display_name":"Chamara Pradeep Rajapaksha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692942014,"creation_date":1692932756,"question_id":76974010,"body_markdown":"I have installed NetBeans 12.0 64 bit on windows 10, after installing NetBeans I have an error in Maven. i tried to figure it out but I couldn&#39;t solve it. I am a beginner who follows java as a first programming language. Please help \r\nJDK 11 installed\r\nNetBeans 12.0 installed\r\nMaven 3.6.3 install(default with NetBeans installing)\r\n**system error&gt;**\r\n\r\n**Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to internal-repository (http://repo.mycompany.com/proxy): Transfer failed for http://repo.mycompany.com/proxy/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom: Unknown host No such host is known (repo.mycompany.com) -&gt; [Help 1]**\r\n**screenshots&gt;**\r\n[enter image description here][1]\r\n\r\n\r\nI have changed the settings.xml by using this guidelines \r\n`https://maven.apache.org/guides/mini/guide-mirror-settings.html`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jAYcP.jpg","title":"How to fix NetBeans 12.0 and Maven 3.6.3 error","body":"<p>I have installed NetBeans 12.0 64 bit on windows 10, after installing NetBeans I have an error in Maven. i tried to figure it out but I couldn't solve it. I am a beginner who follows java as a first programming language. Please help\nJDK 11 installed\nNetBeans 12.0 installed\nMaven 3.6.3 install(default with NetBeans installing)\n<strong>system error&gt;</strong></p>\n<p><strong>Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Failed to read artifact descriptor for org.apache.maven.plugins:maven-clean-plugin:jar:2.5: Could not transfer artifact org.apache.maven.plugins:maven-clean-plugin:pom:2.5 from/to internal-repository (<a href=\"http://repo.mycompany.com/proxy\" rel=\"nofollow noreferrer\">http://repo.mycompany.com/proxy</a>): Transfer failed for <a href=\"http://repo.mycompany.com/proxy/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom\" rel=\"nofollow noreferrer\">http://repo.mycompany.com/proxy/org/apache/maven/plugins/maven-clean-plugin/2.5/maven-clean-plugin-2.5.pom</a>: Unknown host No such host is known (repo.mycompany.com) -&gt; [Help 1]</strong>\n<strong>screenshots&gt;</strong>\n<a href=\"https://i.stack.imgur.com/jAYcP.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have changed the settings.xml by using this guidelines\n<code>https://maven.apache.org/guides/mini/guide-mirror-settings.html</code></p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692940968,"creation_date":1692940968,"answer_id":76974442,"question_id":76946887,"body_markdown":"I&#39;ve already solved this, the problem is the service I&#39;m using is not serializing the response correctly.\r\n\r\nTo solve I had to create a custom decoder instead use the standard one.\r\n\r\n","title":"returned type in feign service","body":"<p>I've already solved this, the problem is the service I'm using is not serializing the response correctly.</p>\n<p>To solve I had to create a custom decoder instead use the standard one.</p>\n"}],"owner":{"account_id":6767541,"reputation":3494,"user_id":5212118,"accept_rate":67,"display_name":"cucuru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76974442,"answer_count":1,"score":0,"last_activity_date":1692940968,"creation_date":1692632920,"question_id":76946887,"body_markdown":"Hello I&#39;m consuming a service (I can not modify it) that returns an String (OK), and I&#39;m not able to use it with a FeignClient, I receive this:\r\n\r\n    &quot;statusText&quot;: &quot;feign.FeignException: Unrecognized token &#39;OK&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n\r\nThis is the signature of the service I&#39;m usign:\r\n\r\n    @PostMapping(path = &quot;/url&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n\t@ApiResponses(value = {\r\n\t\t\t@ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal server error&quot;),\r\n\t\t\t@ApiResponse(responseCode = &quot;401&quot;, description = &quot;Unauthorized&quot;),\r\n\t\t\t@ApiResponse(responseCode = &quot;403&quot;, description = &quot;Forbidden&quot;),\r\n\t\t\t@ApiResponse(responseCode = &quot;400&quot;, description = &quot;Bad Request&quot;),\r\n\t\t\t@ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)})\r\n\tString apiName(@RequestBody ApiDTO apiDTO) throws ResourceException;\r\n\r\n\r\nAnd I use it as:\r\n\r\n        @PostMapping(path = { &quot;/url&quot; }, consumes = {MediaType.APPLICATION_JSON_VALUE}, produces = {MediaType.TEXT_PLAIN_VALUE})\r\n    @ResponseStatus(HttpStatus.OK)\r\n    String apiService(@RequestBody myDTO application) throws Exception;\r\n}\r\n\r\n\r\nhow can i solve it?\r\n","title":"returned type in feign service","body":"<p>Hello I'm consuming a service (I can not modify it) that returns an String (OK), and I'm not able to use it with a FeignClient, I receive this:</p>\n<pre><code>&quot;statusText&quot;: &quot;feign.FeignException: Unrecognized token 'OK': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n</code></pre>\n<p>This is the signature of the service I'm usign:</p>\n<pre><code>@PostMapping(path = &quot;/url&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\n@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal server error&quot;),\n        @ApiResponse(responseCode = &quot;401&quot;, description = &quot;Unauthorized&quot;),\n        @ApiResponse(responseCode = &quot;403&quot;, description = &quot;Forbidden&quot;),\n        @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Bad Request&quot;),\n        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;OK&quot;)})\nString apiName(@RequestBody ApiDTO apiDTO) throws ResourceException;\n</code></pre>\n<p>And I use it as:</p>\n<pre><code>    @PostMapping(path = { &quot;/url&quot; }, consumes = {MediaType.APPLICATION_JSON_VALUE}, produces = {MediaType.TEXT_PLAIN_VALUE})\n@ResponseStatus(HttpStatus.OK)\nString apiService(@RequestBody myDTO application) throws Exception;\n</code></pre>\n<p>}</p>\n<p>how can i solve it?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692874401,"post_id":76968545,"comment_id":135684551,"body_markdown":"Upgrade to a proper HTTP library that doesn&#39;t rely on Java internal classes","body":"Upgrade to a proper HTTP library that doesn&#39;t rely on Java internal classes"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":7,"creation_date":1692876318,"post_id":76968545,"comment_id":135684917,"body_markdown":"You shouldn&#39;t have used a `sun.*` class to start with. Relying on internal classes that may change or be removed is not smart. The parameter type for `URL` is `URLStreamHandler`, you just used an internal class because of reasons unknown.","body":"You shouldn&#39;t have used a <code>sun.*</code> class to start with. Relying on internal classes that may change or be removed is not smart. The parameter type for <code>URL</code> is <code>URLStreamHandler</code>, you just used an internal class because of reasons unknown."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1692878844,"post_id":76968545,"comment_id":135685465,"body_markdown":"Why do you need it? Start from your needs and we&#39;ll explain how to di it with a proper http Library. also https://stackoverflow.com/questions/65206823/how-to-update-and-avoid-sun-net-www-protocol-https-handler-is-internal-propriet","body":"Why do you need it? Start from your needs and we&#39;ll explain how to di it with a proper http Library. also <a href=\"https://stackoverflow.com/questions/65206823/how-to-update-and-avoid-sun-net-www-protocol-https-handler-is-internal-propriet\" title=\"how to update and avoid sun net www protocol https handler is internal propriet\">stackoverflow.com/questions/65206823/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1692888496,"post_id":76968545,"comment_id":135687835,"body_markdown":"https:… URLs work just fine without any handler arguments.  The passing of that argument is probably a holdover from the 1990s.","body":"https:… URLs work just fine without any handler arguments.  The passing of that argument is probably a holdover from the 1990s."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692894663,"post_id":76968545,"comment_id":135689418,"body_markdown":"Maybe the result of bad answers like [this one](https://stackoverflow.com/a/12796611/2711488) It doesn’t even have the desired effect. Some pre-Java&#160;6 code might require the class `com.sun.net.ssl.HttpsURLConnection`, but to work-around this, you’d need the handler from the `com.sun.net.ssl…` package hierarchy, not the `sun.net…` one. This legacy support has been removed around Java&#160;13, as it seems. But, as said, it’s unrelated to the `sun.net.www.protocol.https.Handler` which doesn’t need be be accessed directly.","body":"Maybe the result of bad answers like <a href=\"https://stackoverflow.com/a/12796611/2711488\">this one</a> It doesn’t even have the desired effect. Some pre-Java 6 code might require the class <code>com.sun.net.ssl.HttpsURLConnection</code>, but to work-around this, you’d need the handler from the <code>com.sun.net.ssl…</code> package hierarchy, not the <code>sun.net…</code> one. This legacy support has been removed around Java 13, as it seems. But, as said, it’s unrelated to the <code>sun.net.www.protocol.https.Handler</code> which doesn’t need be be accessed directly."},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1692933804,"post_id":76968545,"comment_id":135694841,"body_markdown":"That snippet code in my application supports https with SSL, if I remove the handler parameter from the URL constructor, I will get some issues when using HTTPs protocol","body":"That snippet code in my application supports https with SSL, if I remove the handler parameter from the URL constructor, I will get some issues when using HTTPs protocol"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1692934285,"post_id":76968545,"comment_id":135694884,"body_markdown":"More info, the handler parameter was added to the URL constructor to handle SSL certificates.","body":"More info, the handler parameter was added to the URL constructor to handle SSL certificates."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1692941401,"post_id":76968545,"comment_id":135695538,"body_markdown":"Just get rid of `new sun.net.www.protocol.https.Handler()`. That just asserts the default. It never did anything useful. If you then get issues, post them. XY problem.","body":"Just get rid of <code>new sun.net.www.protocol.https.Handler()</code>. That just asserts the default. It never did anything useful. If you then get issues, post them. XY problem."}],"answers":[{"comments":[{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1692933878,"post_id":76968596,"comment_id":135694850,"body_markdown":"If I remove the ```handler``` parameter from the URL constructor, I will get an error when using HTTPS URLs. That ```handler``` was added to support both HTTP and HTTPS URLs in my application (and it works on JDK 8)","body":"If I remove the <code>handler</code> parameter from the URL constructor, I will get an error when using HTTPS URLs. That <code>handler</code> was added to support both HTTP and HTTPS URLs in my application (and it works on JDK 8)"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1692934247,"post_id":76968596,"comment_id":135694879,"body_markdown":"More info, the ```handler``` parameter was added to the URL constructor to handle SSL certificates.","body":"More info, the <code>handler</code> parameter was added to the URL constructor to handle SSL certificates."},{"owner":{"account_id":7008664,"reputation":70,"user_id":5372304,"display_name":"nosaku"},"score":0,"creation_date":1692940657,"post_id":76968596,"comment_id":135695464,"body_markdown":"You may have to add any custome certificates separately. I just tested simple test code and it works fine. If you are using any self signed certificates or so then they need to be added to the certificate store.","body":"You may have to add any custome certificates separately. I just tested simple test code and it works fine. If you are using any self signed certificates or so then they need to be added to the certificate store."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1692941439,"post_id":76968596,"comment_id":135695545,"body_markdown":"@NoName You will get *what* error?","body":"@NoName You will get <i>what</i> error?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1692970380,"post_id":76968596,"comment_id":135701355,"body_markdown":"Simplified example: `new URL(&quot;https://stackoverflow.com/questions/76968545&quot;) .openStream().transferTo(System.out);` @NoName as said in the comments on your question, the handler you are specifying, is the default. If specifying it explicitly makes a difference, your environment must deviate from the default and the better fix is to remove the option (or whatever cause) from your environment to return to the default behavior. And one gentle reminder: you need a solution that works with JDK&#160;17, not one that happened to work with JDK&#160;8 but doesn’t work with JDK&#160;17.","body":"Simplified example: <code>new URL(&quot;https:&#47;&#47;stackoverflow.com&#47;questions&#47;76968545&quot;) .openStream().transferTo(System.out);</code> @NoName as said in the comments on your question, the handler you are specifying, is the default. If specifying it explicitly makes a difference, your environment must deviate from the default and the better fix is to remove the option (or whatever cause) from your environment to return to the default behavior. And one gentle reminder: you need a solution that works with JDK 17, not one that happened to work with JDK 8 but doesn’t work with JDK 17."},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1693212819,"post_id":76968596,"comment_id":135725514,"body_markdown":"When I review the source code, it uses ```sun.net.www.protocol.https.Handler()``` to support proxy with SSL (https) requests on the SAP PI/PO platform. And, on the new version of my application, I don&#39;t support proxy anymore. So, removing the handler from the URL constructor is an acceptable answer.","body":"When I review the source code, it uses <code>sun.net.www.protocol.https.Handler()</code> to support proxy with SSL (https) requests on the SAP PI/PO platform. And, on the new version of my application, I don&#39;t support proxy anymore. So, removing the handler from the URL constructor is an acceptable answer."}],"tags":[],"owner":{"account_id":7008664,"reputation":70,"user_id":5372304,"display_name":"nosaku"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692940745,"creation_date":1692874606,"answer_id":76968596,"question_id":76968545,"body_markdown":"Is it not working if you remove it entirely?\r\n\r\n    final URL resourceUrl = new URL(builder.addToURI(uri).toString());\r\n\r\n**Code to test HTTPS**\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.URL;\r\n    \r\n    public class UrlTest {\r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tfinal URL resourceUrl = new URL(&quot;https://stackoverflow.com/questions/76968545/how-to-replace-sun-net-www-protocol-https-handler-in-jdk-17&quot;);\r\n    \t\tBufferedReader in = new BufferedReader(new InputStreamReader(resourceUrl.openStream()));\r\n    \t\tString line;\r\n    \t\twhile ((line = in.readLine()) != null) {\r\n    \t\t\tSystem.out.println(line);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to replace sun.net.www.protocol.https.Handler in JDK 17?","body":"<p>Is it not working if you remove it entirely?</p>\n<pre><code>final URL resourceUrl = new URL(builder.addToURI(uri).toString());\n</code></pre>\n<p><strong>Code to test HTTPS</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.URL;\n\npublic class UrlTest {\n    public static void main(String args[]) throws Exception {\n        final URL resourceUrl = new URL(&quot;https://stackoverflow.com/questions/76968545/how-to-replace-sun-net-www-protocol-https-handler-in-jdk-17&quot;);\n        BufferedReader in = new BufferedReader(new InputStreamReader(resourceUrl.openStream()));\n        String line;\n        while ((line = in.readLine()) != null) {\n            System.out.println(line);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76968596,"answer_count":1,"score":0,"last_activity_date":1692940745,"creation_date":1692874138,"question_id":76968545,"body_markdown":"My application works fine with JDK 8 running this snipper code below\r\n\r\n    import javax.net.ssl.HttpsURLConnection;\r\n    import sun.net.www.protocol.https.Handler;\r\n    \r\n    final URL resourceUrl = new URL(null, builder.addToURI(uri).toString(), new sun.net.www.protocol.https.Handler());\r\n\r\nNow, I am upgrading to JDK 17, and I get the error message. It is caused by the package ```sun.net.www.protocol.https.Handler``` is already moved to ```java.base``` (internal package)\r\n\r\n    Package &#39;sun.net.www.protocol.https&#39; is declared in module &#39;java.base&#39;, which does not export it to the unnamed module\r\n\r\nI know there is a workaround solution that uses ```--add-exports &lt;module&gt;/&lt;package&gt;=&lt;target-module&gt;(,&lt;target-module&gt;)*``` command, but I cannot use it for production, at least in my case.\r\n\r\nIs there a way that can replace this internal call?","title":"How to replace sun.net.www.protocol.https.Handler in JDK 17?","body":"<p>My application works fine with JDK 8 running this snipper code below</p>\n<pre><code>import javax.net.ssl.HttpsURLConnection;\nimport sun.net.www.protocol.https.Handler;\n\nfinal URL resourceUrl = new URL(null, builder.addToURI(uri).toString(), new sun.net.www.protocol.https.Handler());\n</code></pre>\n<p>Now, I am upgrading to JDK 17, and I get the error message. It is caused by the package <code>sun.net.www.protocol.https.Handler</code> is already moved to <code>java.base</code> (internal package)</p>\n<pre><code>Package 'sun.net.www.protocol.https' is declared in module 'java.base', which does not export it to the unnamed module\n</code></pre>\n<p>I know there is a workaround solution that uses <code>--add-exports &lt;module&gt;/&lt;package&gt;=&lt;target-module&gt;(,&lt;target-module&gt;)*</code> command, but I cannot use it for production, at least in my case.</p>\n<p>Is there a way that can replace this internal call?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"score":0,"creation_date":1693252341,"post_id":76974387,"comment_id":135733451,"body_markdown":"Please, check here https://github.com/bdshadow/stackoverflow/blob/master/spring/spring-data-id-generator-76974387/src/test/java/com/bocharov/service/MyTest.java. Try to comment/uncomment `@GeneratedValue` in the `MyEntity` - it works the same. Also, no exception is thrown","body":"Please, check here <a href=\"https://github.com/bdshadow/stackoverflow/blob/master/spring/spring-data-id-generator-76974387/src/test/java/com/bocharov/service/MyTest.java\" rel=\"nofollow noreferrer\">github.com/bdshadow/stackoverflow/blob/master/spring/&hellip;</a>. Try to comment/uncomment <code>@GeneratedValue</code> in the <code>MyEntity</code> - it works the same. Also, no exception is thrown"}],"owner":{"account_id":25897812,"reputation":3,"user_id":19624157,"display_name":"Semin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692940118,"creation_date":1692939912,"question_id":76974387,"body_markdown":"There was a problem with the Spring Boot 2.5.9 version of the project.\r\n\r\n \r\n```\r\n@Getter\r\n@Builder\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@FieldDefaults(level = AccessLevel.PRIVATE)\r\npublic class MyEntity {\r\n    @Id\r\n    UUID uuid;\r\n\r\n    String username;\r\n\r\n    String email;\r\n\r\n    @ManyToOne\r\n    ManyToOneField manyToOneField;\r\n}\r\n```\r\n\r\nI am using the above entity, but when I try to update the above entity, an error occurs.\r\n\r\n\r\n```\r\n@Transactional\r\npublic void update() {\r\n    MyEntity myEntity= messageSendLogRepository.findByUsername(&quot;only&quot;);\r\n    myEntity.setUsername(&quot;update&quot;);\r\n}\r\n```\r\n\r\nThe following error occurs when executing this code.\r\n```\r\nHibernate: \r\n    update \r\n        my_entity\r\n    ...\r\n\r\nHibernate: \r\n    select \r\n        my_entity.uuid\r\n    ...\r\n\r\n2023-08-25 13:48:37.938 ERROR 89454 --- [nio-8080-exec-1] a.a.g.exception.CustomExceptionHandler.   : Object of class [app.my.project.domain.MyEntity] with identifier [01bab334-80d1-4813-891c-ab5d12402e96]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) \r\n\r\n```\r\nIn the select query, the updated record is being called again using pk.\r\nThe above error is the same with the save method by changing the persistent instance value without using transaction annotation.\r\n\r\nWhy does hibernate request a select query after the Update query in the above code? \r\nThe request from the select query is expected to cause a problem. Other entity classes that use @GeneratedValue for PK do not experience the same problem.\r\n\r\nIs it a problem to use UUID as PK? Or is there another problem?\r\nI&#39;m curious about the cause of this error and how to solve it.","title":"Hibernate executes select query after update","body":"<p>There was a problem with the Spring Boot 2.5.9 version of the project.</p>\n<pre><code>@Getter\n@Builder\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class MyEntity {\n    @Id\n    UUID uuid;\n\n    String username;\n\n    String email;\n\n    @ManyToOne\n    ManyToOneField manyToOneField;\n}\n</code></pre>\n<p>I am using the above entity, but when I try to update the above entity, an error occurs.</p>\n<pre><code>@Transactional\npublic void update() {\n    MyEntity myEntity= messageSendLogRepository.findByUsername(&quot;only&quot;);\n    myEntity.setUsername(&quot;update&quot;);\n}\n</code></pre>\n<p>The following error occurs when executing this code.</p>\n<pre><code>Hibernate: \n    update \n        my_entity\n    ...\n\nHibernate: \n    select \n        my_entity.uuid\n    ...\n\n2023-08-25 13:48:37.938 ERROR 89454 --- [nio-8080-exec-1] a.a.g.exception.CustomExceptionHandler.   : Object of class [app.my.project.domain.MyEntity] with identifier [01bab334-80d1-4813-891c-ab5d12402e96]: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) \n\n</code></pre>\n<p>In the select query, the updated record is being called again using pk.\nThe above error is the same with the save method by changing the persistent instance value without using transaction annotation.</p>\n<p>Why does hibernate request a select query after the Update query in the above code?\nThe request from the select query is expected to cause a problem. Other entity classes that use @GeneratedValue for PK do not experience the same problem.</p>\n<p>Is it a problem to use UUID as PK? Or is there another problem?\nI'm curious about the cause of this error and how to solve it.</p>\n"},{"tags":["java","active-directory","ldap","wildcard","unboundid-ldap-sdk"],"answers":[{"tags":[],"owner":{"account_id":20740,"reputation":13570,"user_id":49849,"display_name":"user1686"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692938545,"creation_date":1692938545,"answer_id":76974307,"question_id":76953976,"body_markdown":"You cannot. objectSid attributes are not string attributes (DirStudio converts them for you) – they contain binary SIDs – and the domain controllers only support _matching_ against a string SID as a special case, but exact match only. Most likely the match is done by canonicalizing both inputs into binary SID format, where wildcards wouldn&#39;t exist.\r\n\r\nYou will need to look up the domain SID (as described in a previous thread) and combine it with the RID that you have. The RID that you retrieve from primaryGroupId **always** goes together with the SID prefix of the domain that the user is in – not any other domain and certainly not any of the &quot;built-in&quot; SID prefixes.","title":"How to search entry by sid suffix in unboundid?","body":"<p>You cannot. objectSid attributes are not string attributes (DirStudio converts them for you) – they contain binary SIDs – and the domain controllers only support <em>matching</em> against a string SID as a special case, but exact match only. Most likely the match is done by canonicalizing both inputs into binary SID format, where wildcards wouldn't exist.</p>\n<p>You will need to look up the domain SID (as described in a previous thread) and combine it with the RID that you have. The RID that you retrieve from primaryGroupId <strong>always</strong> goes together with the SID prefix of the domain that the user is in – not any other domain and certainly not any of the &quot;built-in&quot; SID prefixes.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76974307,"answer_count":1,"score":0,"last_activity_date":1692938545,"creation_date":1692712169,"question_id":76953976,"body_markdown":"I noticed that I can make query with wildcards in **LDAP**. For example:\r\n\r\n1.\r\n\r\n    ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*&quot;)\r\n\r\nand this search request will response all entries which has objectSid\r\n\r\n2.\r\n\r\nAnd this query will return all entries without `objectSid`\r\n\r\n    ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;!(objectSid=*)&quot;)\r\n\r\n\r\n**I would like to search entry by PrimaryGroupToken** so I tried to execute:\r\n\r\n    ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*512&quot;)\r\n\r\nand\r\n\r\n    ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*-512&quot;)\r\n\r\nBut I receive empty resut although there are an entry in Ldap:\r\n[![enter image description here][1]][1]\r\n\r\nIs there way to avoid it ?\r\n\r\n  [1]: https://i.stack.imgur.com/blD9P.jpg","title":"How to search entry by sid suffix in unboundid?","body":"<p>I noticed that I can make query with wildcards in <strong>LDAP</strong>. For example:</p>\n<p>1.</p>\n<pre><code>ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*&quot;)\n</code></pre>\n<p>and this search request will response all entries which has objectSid</p>\n<p>2.</p>\n<p>And this query will return all entries without <code>objectSid</code></p>\n<pre><code>ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;!(objectSid=*)&quot;)\n</code></pre>\n<p><strong>I would like to search entry by PrimaryGroupToken</strong> so I tried to execute:</p>\n<pre><code>ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*512&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>ldapConnectionPool.search(baseDn, SearchScope.SUB, &quot;objectSid=*-512&quot;)\n</code></pre>\n<p>But I receive empty resut although there are an entry in Ldap:\n<a href=\"https://i.stack.imgur.com/blD9P.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blD9P.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Is there way to avoid it ?</p>\n"},{"tags":["java","nested-loops"],"answers":[{"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692936698,"creation_date":1692936698,"answer_id":76974214,"question_id":76974137,"body_markdown":"I&#39;ve updated the `trunk` and `base` functions as follows (`tree1`, `tree2` and `tree3` functions are not changed).\r\n\r\n    private static void trunk(int size) {\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            for (int j = 0; j &lt;= size; j++) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(&quot;*&quot;);\r\n        }\r\n    }\r\n\r\n    private static void base(int size) {\r\n        for (int j = 0; j &lt; size; j++) {\r\n            System.out.print(&quot; &quot;);\r\n        }\r\n        for (int k = 0; k &lt; 3; k++) {\r\n            System.out.print(&quot;*&quot;);\r\n        }\r\n    }\r\n\r\nFor the `trunk` function, the number of initial spaces required is same as the value of `size + 1` and for the base, it is `size`.\r\n\r\n\r\nAlso now all functions work based only on the `size` parameter\r\n```\r\nint size = 4;\r\ntree1(size);\r\ntree2(size);\r\ntree3(size);\r\ntrunk(size);\r\nbase(size);\r\n```","title":"Creating a Christmas Tree with proper spacing with the trunk and base under the leaves","body":"<p>I've updated the <code>trunk</code> and <code>base</code> functions as follows (<code>tree1</code>, <code>tree2</code> and <code>tree3</code> functions are not changed).</p>\n<pre><code>private static void trunk(int size) {\n    for (int i = 0; i &lt; 2; i++) {\n        for (int j = 0; j &lt;= size; j++) {\n            System.out.print(&quot; &quot;);\n        }\n        System.out.println(&quot;*&quot;);\n    }\n}\n\nprivate static void base(int size) {\n    for (int j = 0; j &lt; size; j++) {\n        System.out.print(&quot; &quot;);\n    }\n    for (int k = 0; k &lt; 3; k++) {\n        System.out.print(&quot;*&quot;);\n    }\n}\n</code></pre>\n<p>For the <code>trunk</code> function, the number of initial spaces required is same as the value of <code>size + 1</code> and for the base, it is <code>size</code>.</p>\n<p>Also now all functions work based only on the <code>size</code> parameter</p>\n<pre><code>int size = 4;\ntree1(size);\ntree2(size);\ntree3(size);\ntrunk(size);\nbase(size);\n</code></pre>\n"}],"owner":{"account_id":27193679,"reputation":3,"user_id":20726947,"display_name":"KEVIN CAI CRACK123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76974214,"answer_count":1,"score":0,"last_activity_date":1692936698,"creation_date":1692935189,"question_id":76974137,"body_markdown":"I just can&#39;t seem to space the trunk and base of my christmas tree. The trunk and base are a fixed value and they have to be centered for any values given for the tree leaves. \r\n\r\nI tried doing this\r\n\r\n```lang-java\r\npublic class Proj01_xmasTree {\r\n    //christmas time scott r portdog45680-41fasda\r\n    public static void main(String args[]) {\r\n        //int gives amount of lines to print\r\n        int size = 4;\r\n        int treeWidth = size * 2 - 1;\r\n        tree1(size);\r\n        tree2(size);\r\n        tree3(size);\r\n        trunk(1);\r\n        base(1);\r\n    }\r\n    \r\n    public static void tree1(int size){\r\n        // &quot;i&quot; starts on different stars\r\n        for (int i = 0; i &lt; size; i++){\r\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\r\n            for (int j = 0; j &lt; size + 1 - i; j++)\r\n                System.out.print(&quot; &quot;);\r\n                //stars 1,3,5,7. i*2 + 1. 0 + 1 = 1. \r\n                for (int k = 0; k &lt; i*2 + 1; k++){\r\n                    System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    public static void tree2(int size){\r\n        //&quot;i&quot; starts on different stars\r\n        for (int i = 1; i &lt; size; i++){\r\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\r\n            for (int j = 0; j &lt; size + 1 - i; j++)\r\n                System.out.print(&quot; &quot;);\r\n                //stars 1,3,5,7. i*2 + 1. 0 + 1 = 1. \r\n                for (int k = 0; k &lt; i*2 + 1; k++){\r\n                    System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    public static void tree3(int size){\r\n        //&quot;i&quot; starts on different stars\r\n        for (int i = 2; i &lt;= size; i++){\r\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\r\n            for (int j = 0; j &lt; size + 1 - i; j++)\r\n                System.out.print(&quot; &quot;);\r\n                //stars 5,7,9,12 \r\n                for (int k = 0; k &lt; i*2 + 1; k++){\r\n                    System.out.print(&quot;*&quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    \r\n    public static void trunk(int treeWidth){\r\n        int spacing = (treeWidth - 2) / 2;\r\n        \r\n        for (int i = 0; i &lt; 2; i++){\r\n            for (int j = 0; j &lt; spacing; j++){\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(&quot;*&quot;);\r\n        }\r\n    }\r\n    \r\n    public static void base(int size){\r\n        for (int i = 0; i &lt; 1; i++){\r\n            for (int j = 0; j &lt; size/2; j++){\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            for (int k = 0; k &lt; 3; k++){\r\n                System.out.print(&quot;*&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nWhich outputs: \r\n```lang-none\r\n     *\r\n    ***\r\n   *****\r\n  *******\r\n    ***\r\n   *****\r\n  *******\r\n   *****\r\n  *******\r\n *********\r\n*\r\n*\r\n***\r\n```\r\n\r\nDesired output: \r\n```lang-none\r\n     *\r\n    ***\r\n   *****\r\n  *******\r\n    ***\r\n   *****\r\n  *******\r\n   *****\r\n  *******\r\n *********\r\n     *\r\n     *\r\n    ***\r\n```\r\n(note: the trunk and base are separate methods. they have to be fixed like that for any of the leaves, please keep that in mind.)\r\n\r\n\r\n\r\n","title":"Creating a Christmas Tree with proper spacing with the trunk and base under the leaves","body":"<p>I just can't seem to space the trunk and base of my christmas tree. The trunk and base are a fixed value and they have to be centered for any values given for the tree leaves.</p>\n<p>I tried doing this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Proj01_xmasTree {\n    //christmas time scott r portdog45680-41fasda\n    public static void main(String args[]) {\n        //int gives amount of lines to print\n        int size = 4;\n        int treeWidth = size * 2 - 1;\n        tree1(size);\n        tree2(size);\n        tree3(size);\n        trunk(1);\n        base(1);\n    }\n    \n    public static void tree1(int size){\n        // &quot;i&quot; starts on different stars\n        for (int i = 0; i &lt; size; i++){\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\n            for (int j = 0; j &lt; size + 1 - i; j++)\n                System.out.print(&quot; &quot;);\n                //stars 1,3,5,7. i*2 + 1. 0 + 1 = 1. \n                for (int k = 0; k &lt; i*2 + 1; k++){\n                    System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n    \n    public static void tree2(int size){\n        //&quot;i&quot; starts on different stars\n        for (int i = 1; i &lt; size; i++){\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\n            for (int j = 0; j &lt; size + 1 - i; j++)\n                System.out.print(&quot; &quot;);\n                //stars 1,3,5,7. i*2 + 1. 0 + 1 = 1. \n                for (int k = 0; k &lt; i*2 + 1; k++){\n                    System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n    \n    public static void tree3(int size){\n        //&quot;i&quot; starts on different stars\n        for (int i = 2; i &lt;= size; i++){\n            //4 + 1 + 0 = 5. 4 + 1 - 1 = 4, etc..\n            for (int j = 0; j &lt; size + 1 - i; j++)\n                System.out.print(&quot; &quot;);\n                //stars 5,7,9,12 \n                for (int k = 0; k &lt; i*2 + 1; k++){\n                    System.out.print(&quot;*&quot;);\n            }\n            System.out.println();\n        }\n    }\n    \n    public static void trunk(int treeWidth){\n        int spacing = (treeWidth - 2) / 2;\n        \n        for (int i = 0; i &lt; 2; i++){\n            for (int j = 0; j &lt; spacing; j++){\n                System.out.print(&quot; &quot;);\n            }\n            System.out.println(&quot;*&quot;);\n        }\n    }\n    \n    public static void base(int size){\n        for (int i = 0; i &lt; 1; i++){\n            for (int j = 0; j &lt; size/2; j++){\n                System.out.print(&quot; &quot;);\n            }\n            for (int k = 0; k &lt; 3; k++){\n                System.out.print(&quot;*&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Which outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>     *\n    ***\n   *****\n  *******\n    ***\n   *****\n  *******\n   *****\n  *******\n *********\n*\n*\n***\n</code></pre>\n<p>Desired output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>     *\n    ***\n   *****\n  *******\n    ***\n   *****\n  *******\n   *****\n  *******\n *********\n     *\n     *\n    ***\n</code></pre>\n<p>(note: the trunk and base are separate methods. they have to be fixed like that for any of the leaves, please keep that in mind.)</p>\n"},{"tags":["java","arraylist","comparison","contains"],"comments":[{"owner":{"account_id":969298,"reputation":24123,"user_id":992151,"accept_rate":82,"display_name":"cowls"},"score":0,"creation_date":1359065298,"post_id":14511655,"comment_id":20230133,"body_markdown":"in that case you want containsAll (already an answer)","body":"in that case you want containsAll (already an answer)"},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":3,"creation_date":1359074445,"post_id":14511655,"comment_id":20233418,"body_markdown":"And you can reduce your if statement to one line: `return one.containsAll(two);`","body":"And you can reduce your if statement to one line: <code>return one.containsAll(two);</code>"},{"owner":{"account_id":2055900,"reputation":7174,"user_id":1889720,"accept_rate":78,"display_name":"Evorlor"},"score":0,"creation_date":1554728138,"post_id":14511655,"comment_id":97846637,"body_markdown":"Related: https://meta.stackoverflow.com/q/382499/1889720","body":"Related: <a href=\"https://meta.stackoverflow.com/q/382499/1889720\">meta.stackoverflow.com/q/382499/1889720</a>"}],"answers":[{"comments":[{"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"score":3,"creation_date":1359065326,"post_id":14511680,"comment_id":20230141,"body_markdown":"Once it goes &#39;false&#39; you should &#39;break&#39;. No need to keep checking the rest.","body":"Once it goes &#39;false&#39; you should &#39;break&#39;. No need to keep checking the rest."},{"owner":{"account_id":299330,"reputation":1221,"user_id":605869,"display_name":"Tom"},"score":3,"creation_date":1359065539,"post_id":14511680,"comment_id":20230232,"body_markdown":"Alternatively (instead of break) you could do:\nfor (int i = 0; i &lt; two.size() &amp;&amp; good; i ++)","body":"Alternatively (instead of break) you could do: for (int i = 0; i &lt; two.size() &amp;&amp; good; i ++)"},{"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"score":0,"creation_date":1359065541,"post_id":14511680,"comment_id":20230235,"body_markdown":"If you know that &#39;one&#39; is ordered from small to large you could do a binary search in real code, but that would only help, timewise, if you expected &#39;one&#39; to be pretty big.","body":"If you know that &#39;one&#39; is ordered from small to large you could do a binary search in real code, but that would only help, timewise, if you expected &#39;one&#39; to be pretty big."}],"tags":[],"owner":{"account_id":1266491,"reputation":58077,"user_id":1223693,"accept_rate":96,"display_name":"tckmn"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1359065241,"creation_date":1359065241,"answer_id":14511680,"question_id":14511655,"body_markdown":"Your code in the example doesn&#39;t make sense, but here&#39;s an example anyway.\r\n\r\n    ArrayList&lt;Integer&gt; one, two;\r\n    //initialize\r\n    boolean good = true;\r\n    for (int i = 0; i &lt; two.size(); i ++) {\r\n        if (!(one.contains(two.get(i))) {\r\n            good = false;\r\n            break;\r\n        }\r\n    }\r\n\r\nIt simply loops through all of `two`&#39;s elements and checks to see if they are in `one`.\r\n\r\nThen the boolean `good` contains the value you want.\r\n\r\nSee [ArrayList#contains](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#contains(java.lang.Object)).\r\n\r\n**EDIT**: oh wow, I totally forgot [containsAll](http://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html#containsAll(java.util.Collection)). Oh well, this is an alternate way to do it if you really want to understand it.","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>Your code in the example doesn't make sense, but here's an example anyway.</p>\n\n<pre><code>ArrayList&lt;Integer&gt; one, two;\n//initialize\nboolean good = true;\nfor (int i = 0; i &lt; two.size(); i ++) {\n    if (!(one.contains(two.get(i))) {\n        good = false;\n        break;\n    }\n}\n</code></pre>\n\n<p>It simply loops through all of <code>two</code>'s elements and checks to see if they are in <code>one</code>.</p>\n\n<p>Then the boolean <code>good</code> contains the value you want.</p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#contains%28java.lang.Object%29\" rel=\"nofollow\">ArrayList#contains</a>.</p>\n\n<p><strong>EDIT</strong>: oh wow, I totally forgot <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/AbstractCollection.html#containsAll%28java.util.Collection%29\" rel=\"nofollow\">containsAll</a>. Oh well, this is an alternate way to do it if you really want to understand it.</p>\n"},{"tags":[],"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"comment_count":0,"down_vote_count":0,"up_vote_count":131,"is_accepted":true,"score":131,"last_activity_date":1359067264,"creation_date":1359065249,"answer_id":14511683,"question_id":14511655,"body_markdown":"There is a method called `containsAll` declared in the `java.util.Collection` interface. In your setting `one.containsAll(two)` gives the desired answer.","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>There is a method called <code>containsAll</code> declared in the <code>java.util.Collection</code> interface. In your setting <code>one.containsAll(two)</code> gives the desired answer.</p>\n"},{"tags":[],"owner":{"account_id":1544917,"reputation":5387,"user_id":1438660,"accept_rate":73,"display_name":"splungebob"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1359065251,"creation_date":1359065251,"answer_id":14511684,"question_id":14511655,"body_markdown":"Per the List interface:\r\n\r\n    myList.containsAll(...);","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>Per the List interface:</p>\n\n<pre><code>myList.containsAll(...);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1664058,"reputation":1246,"user_id":1531833,"display_name":"Damian Jeżewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1359065272,"creation_date":1359065272,"answer_id":14511689,"question_id":14511655,"body_markdown":"Take a look at `containsAll(Collection&lt;?&gt; c)` method from `List` interface. I think it is what you are looking for.","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>Take a look at <code>containsAll(Collection&lt;?&gt; c)</code> method from <code>List</code> interface. I think it is what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359065351,"creation_date":1359065351,"answer_id":14511712,"question_id":14511655,"body_markdown":"You can use `containsAll` method of the list to do the check. However, this is a linear operation. If the list is large, you should convert it to `HashSet` first, and then perform `containsAll`:\r\n\r\n    HashSet tmp = new HashSet(one);\r\n    if (tmp.containsAll(two)) {\r\n        ...\r\n    }\r\n\r\nIf the length of `one` is `N` and the length of two is `M`, this solution has time complexity of `O(M+N)`; the &quot;plain&quot; `containsAll` has the complexity of `O(M*N)`, which may be significantly worse.","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>You can use <code>containsAll</code> method of the list to do the check. However, this is a linear operation. If the list is large, you should convert it to <code>HashSet</code> first, and then perform <code>containsAll</code>:</p>\n\n<pre><code>HashSet tmp = new HashSet(one);\nif (tmp.containsAll(two)) {\n    ...\n}\n</code></pre>\n\n<p>If the length of <code>one</code> is <code>N</code> and the length of two is <code>M</code>, this solution has time complexity of <code>O(M+N)</code>; the \"plain\" <code>containsAll</code> has the complexity of <code>O(M*N)</code>, which may be significantly worse.</p>\n"},{"tags":[],"owner":{"account_id":9001581,"reputation":81,"user_id":6710001,"display_name":"JimiMac"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471016106,"creation_date":1471016106,"answer_id":38921666,"question_id":14511655,"body_markdown":"Here is another example use of containsAll() that I have used for asserting that two arrays are equal in JUnit testing:\r\n\r\n    List&lt;String&gt; expected = new ArrayList&lt;String&gt;();\r\n    expected.add(&quot;this&quot;);\r\n    expected.add(&quot;that&quot;);\r\n    expected.add(&quot;another&quot;);\r\n\r\n    List&lt;String&gt; actual = new ArrayListString();\r\n    actual.add(&quot;another&quot;);\r\n    actual.add(&quot;that&quot;);\r\n    actual.add(&quot;this&quot;);\r\n \r\n    Assert.assertTrue(&quot;The lists do not match!&quot;, expected.containsAll(actual));\r\n","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>Here is another example use of containsAll() that I have used for asserting that two arrays are equal in JUnit testing:</p>\n\n<pre><code>List&lt;String&gt; expected = new ArrayList&lt;String&gt;();\nexpected.add(\"this\");\nexpected.add(\"that\");\nexpected.add(\"another\");\n\nList&lt;String&gt; actual = new ArrayListString();\nactual.add(\"another\");\nactual.add(\"that\");\nactual.add(\"this\");\n\nAssert.assertTrue(\"The lists do not match!\", expected.containsAll(actual));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7409012,"reputation":17,"user_id":5675483,"display_name":"Yuces"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1597820540,"creation_date":1597820540,"answer_id":63481628,"question_id":14511655,"body_markdown":"isEqualCollection() method declared in the org.apache.commons.collections.CollectionUtils gives you the collections are same or not.\r\n\r\nif (CollectionUtils.isEqualCollection(collectionA,collectionB))\r\n{\r\n    do smt...\r\n}","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>isEqualCollection() method declared in the org.apache.commons.collections.CollectionUtils gives you the collections are same or not.</p>\n<p>if (CollectionUtils.isEqualCollection(collectionA,collectionB))\n{\ndo smt...\n}</p>\n"},{"tags":[],"owner":{"account_id":13670753,"reputation":41,"user_id":9863465,"display_name":"Piyush Aggarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620992968,"creation_date":1620992968,"answer_id":67533856,"question_id":14511655,"body_markdown":"This can also be done using streams in Java\r\n\r\n        List&lt;String&gt; employeeList = Arrays.asList(&quot;Marc&quot;,&quot;john&quot;);\r\n\t\tList&lt;String&gt; masterEmployeeList = Arrays.asList(&quot;Marc&quot;, &quot;Stacy&quot;, &quot;john&quot;);\r\n\t\tSystem.out.println(employeeList.stream().allMatch(masterEmployeeList::contains));","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>This can also be done using streams in Java</p>\n<pre><code>    List&lt;String&gt; employeeList = Arrays.asList(&quot;Marc&quot;,&quot;john&quot;);\n    List&lt;String&gt; masterEmployeeList = Arrays.asList(&quot;Marc&quot;, &quot;Stacy&quot;, &quot;john&quot;);\n    System.out.println(employeeList.stream().allMatch(masterEmployeeList::contains));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693027628,"post_id":76974194,"comment_id":135708716,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76974194/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29294905,"reputation":1,"user_id":22444446,"display_name":"NoName NoName"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692936476,"creation_date":1692936414,"answer_id":76974194,"question_id":14511655,"body_markdown":"java.util.Collections.indexOfSubList(arrayListIS, arrayListIF)","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>java.util.Collections.indexOfSubList(arrayListIS, arrayListIF)</p>\n"}],"owner":{"account_id":2055900,"reputation":7174,"user_id":1889720,"accept_rate":78,"display_name":"Evorlor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146984,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":14511683,"answer_count":9,"score":73,"last_activity_date":1692936476,"creation_date":1359065105,"question_id":14511655,"body_markdown":"There is probably a simple one-liner that I am just not finding here, but this is my question:\r\n\r\nHow do I check if an ArrayList contains all of the objects in another ArrayList?  I am looking (if it exists) for something along the lines of:\r\n\r\n    //INCORRECT EXAMPLE:\r\n    if(one.contains(two))\r\n    {\r\n        return true;\r\n    }\r\n    else\r\n    {\r\n        return false;\r\n    }\r\n\r\nFor example:\r\n\r\n    ArrayList one = {1, 2, 3, 4, 5}\r\n    \r\n    ArrayList two = {1, 2, 3} --&gt; True\r\n    ArrayList two = {} --&gt; True\r\n    ArrayList two = {1, 2, 3, 4, 5} --&gt; True\r\n    ArrayList two = {1, 5, 2} --&gt; True\r\n    ArrayList two = {1, 7, 4} --&gt; False\r\n    ArrayList two = {0, 1, 3} --&gt; False\r\n    ArrayList two = {4, 5, 6} --&gt; False\r\n    ArrayList two = {7, 8, 9} --&gt; False","title":"Check if an ArrayList contains every element from another ArrayList","body":"<p>There is probably a simple one-liner that I am just not finding here, but this is my question:</p>\n\n<p>How do I check if an ArrayList contains all of the objects in another ArrayList?  I am looking (if it exists) for something along the lines of:</p>\n\n<pre><code>//INCORRECT EXAMPLE:\nif(one.contains(two))\n{\n    return true;\n}\nelse\n{\n    return false;\n}\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>ArrayList one = {1, 2, 3, 4, 5}\n\nArrayList two = {1, 2, 3} --&gt; True\nArrayList two = {} --&gt; True\nArrayList two = {1, 2, 3, 4, 5} --&gt; True\nArrayList two = {1, 5, 2} --&gt; True\nArrayList two = {1, 7, 4} --&gt; False\nArrayList two = {0, 1, 3} --&gt; False\nArrayList two = {4, 5, 6} --&gt; False\nArrayList two = {7, 8, 9} --&gt; False\n</code></pre>\n"},{"tags":["java","mongodb","optimization","mongodb-query","query-optimization"],"comments":[{"owner":{"account_id":24576560,"reputation":14741,"user_id":18482310,"display_name":"nimrod serok"},"score":0,"creation_date":1692937904,"post_id":76974184,"comment_id":135695176,"body_markdown":"Consider saving the rank per layers per user in another collection. This will allow you to get it fast","body":"Consider saving the rank per layers per user in another collection. This will allow you to get it fast"}],"owner":{"account_id":16880927,"reputation":91,"user_id":12207054,"display_name":"Kihz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692936271,"creation_date":1692936271,"question_id":76974184,"body_markdown":"I am creating a leaderboard to rank users on multiple different activities. There are roughly 140 different activities that users will need to be ranked on. For brevity, here is an example of what my user data looks like:\r\n\r\n```\r\n{\r\n  &quot;_id&quot;: {\r\n    &quot;$binary&quot;: {\r\n      &quot;base64&quot;: &quot;pADjWT71RgKLeSo5bxm2GQ==&quot;,\r\n      &quot;subType&quot;: &quot;04&quot;\r\n    }\r\n  },\r\n  &quot;weaponMasteryLevels&quot;: {\r\n    &quot;SCYTHE&quot;: 3,\r\n    &quot;AXE&quot;: 46,\r\n    &quot;STAFF&quot;: 14,\r\n    &quot;SWORD&quot;: 67\r\n  },\r\n  &quot;statistics&quot;: {\r\n    &quot;SUCCESSFUL_TRIALS&quot;: 35288,\r\n    &quot;PLAYER_KILLS&quot;: 48157\r\n  },\r\n  &quot;mobKills&quot;: {\r\n    &quot;LAYER_1&quot;: 41769,\r\n    &quot;LAYER_3&quot;: 3895,\r\n    &quot;LAYER_4&quot;: 49093,\r\n    &quot;LAYER_2&quot;: 69889,\r\n    &quot;NONE&quot;: 69623,\r\n    &quot;LAYER_5&quot;: 75124\r\n  }\r\n}\r\n```\r\n\r\nIn this example, I would like to rank users from highest to lowest on the weaponMasteryLevels, statistics &amp; mobKills subfields. For example, there should be a separate ranking for mobKills.LAYER_1, mobKills.LAYER_2, mobKills.LAYER_3, etc...\r\n\r\nThat said, I have written some java code using the sync driver to perform an aggregate query that will pull and sort the data I need:\r\n```\r\n// &quot;field&quot; variable is equal to whatever field I am ranking at the moment (ie: mobkills.LAYER_1)\r\nAggregateIterable&lt;Document&gt; aggregate = registry.aggregate(Arrays.asList(\r\n                Aggregates.sort(Sorts.descending(field)),\r\n                Aggregates.project(Projections.include(&quot;_id&quot;, field)) \r\n        )).batchSize(MAX_RESULTS + 1)\r\n```\r\nThis works, but is a bit slow for my liking. Using some generated data, it takes roughly 1000 - 2000ms to run this aggregate query per field, for around 15,000 users.\r\n\r\nWhat would be some recommended ways to optimize my query? \r\n\r\nNOTE: I have tried creating indices for each field, but I run into 2 issues:\r\n1. The query doesn&#39;t seem to be running much faster, I suspect that I&#39;m doing something wrong.\r\n2. The number of fields I need to sort on (140) exceeds the maximum amount of indices that MongoDB allows (64), therefore, I cannot create an index for each field.","title":"Optimize Aggregate Query MongoDB","body":"<p>I am creating a leaderboard to rank users on multiple different activities. There are roughly 140 different activities that users will need to be ranked on. For brevity, here is an example of what my user data looks like:</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;$binary&quot;: {\n      &quot;base64&quot;: &quot;pADjWT71RgKLeSo5bxm2GQ==&quot;,\n      &quot;subType&quot;: &quot;04&quot;\n    }\n  },\n  &quot;weaponMasteryLevels&quot;: {\n    &quot;SCYTHE&quot;: 3,\n    &quot;AXE&quot;: 46,\n    &quot;STAFF&quot;: 14,\n    &quot;SWORD&quot;: 67\n  },\n  &quot;statistics&quot;: {\n    &quot;SUCCESSFUL_TRIALS&quot;: 35288,\n    &quot;PLAYER_KILLS&quot;: 48157\n  },\n  &quot;mobKills&quot;: {\n    &quot;LAYER_1&quot;: 41769,\n    &quot;LAYER_3&quot;: 3895,\n    &quot;LAYER_4&quot;: 49093,\n    &quot;LAYER_2&quot;: 69889,\n    &quot;NONE&quot;: 69623,\n    &quot;LAYER_5&quot;: 75124\n  }\n}\n</code></pre>\n<p>In this example, I would like to rank users from highest to lowest on the weaponMasteryLevels, statistics &amp; mobKills subfields. For example, there should be a separate ranking for mobKills.LAYER_1, mobKills.LAYER_2, mobKills.LAYER_3, etc...</p>\n<p>That said, I have written some java code using the sync driver to perform an aggregate query that will pull and sort the data I need:</p>\n<pre><code>// &quot;field&quot; variable is equal to whatever field I am ranking at the moment (ie: mobkills.LAYER_1)\nAggregateIterable&lt;Document&gt; aggregate = registry.aggregate(Arrays.asList(\n                Aggregates.sort(Sorts.descending(field)),\n                Aggregates.project(Projections.include(&quot;_id&quot;, field)) \n        )).batchSize(MAX_RESULTS + 1)\n</code></pre>\n<p>This works, but is a bit slow for my liking. Using some generated data, it takes roughly 1000 - 2000ms to run this aggregate query per field, for around 15,000 users.</p>\n<p>What would be some recommended ways to optimize my query?</p>\n<p>NOTE: I have tried creating indices for each field, but I run into 2 issues:</p>\n<ol>\n<li>The query doesn't seem to be running much faster, I suspect that I'm doing something wrong.</li>\n<li>The number of fields I need to sort on (140) exceeds the maximum amount of indices that MongoDB allows (64), therefore, I cannot create an index for each field.</li>\n</ol>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1692933045,"post_id":76974016,"comment_id":135694781,"body_markdown":"What UI framework are you using? Jetpack compose or XML layout?","body":"What UI framework are you using? Jetpack compose or XML layout?"}],"answers":[{"tags":[],"owner":{"account_id":28756046,"reputation":21,"user_id":22023060,"display_name":"Boris Gabyshev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692936258,"creation_date":1692936258,"answer_id":76974183,"question_id":76974016,"body_markdown":"----------\r\nThe top part is called the Action Bar. One solution for you is to make the change inside the onCreate method.:\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n  \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n  \r\n        // Define ActionBar object\r\n        ActionBar actionBar;\r\n        actionBar = getSupportActionBar();\r\n  \r\n        // Define ColorDrawable object and parse color\r\n        // using parseColor method\r\n        // with color hash code as its parameter\r\n        ColorDrawable colorDrawable\r\n            = new ColorDrawable(Color.parseColor(&quot;#0F9D58&quot;));\r\n  \r\n        // Set BackgroundDrawable\r\n        actionBar.setBackgroundDrawable(colorDrawable);\r\n    }\r\n}\r\n\r\nThere is also a way to change the color by modifying the colorPrimary item in your styles.xml. You can read more about it here: https://www.geeksforgeeks.org/how-to-change-the-color-of-action-bar-in-an-android-app/\r\n\r\n----------\r\n","title":"How to change color of the top part of screen","body":"<hr />\n<p>The top part is called the Action Bar. One solution for you is to make the change inside the onCreate method.:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // Define ActionBar object\n    ActionBar actionBar;\n    actionBar = getSupportActionBar();\n\n    // Define ColorDrawable object and parse color\n    // using parseColor method\n    // with color hash code as its parameter\n    ColorDrawable colorDrawable\n        = new ColorDrawable(Color.parseColor(&quot;#0F9D58&quot;));\n\n    // Set BackgroundDrawable\n    actionBar.setBackgroundDrawable(colorDrawable);\n}\n</code></pre>\n<p>}</p>\n<p>There is also a way to change the color by modifying the colorPrimary item in your styles.xml. You can read more about it here: <a href=\"https://www.geeksforgeeks.org/how-to-change-the-color-of-action-bar-in-an-android-app/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-change-the-color-of-action-bar-in-an-android-app/</a></p>\n<hr />\n"}],"owner":{"account_id":29019745,"reputation":21,"user_id":22229439,"display_name":"Kevin Rea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692936258,"creation_date":1692932829,"question_id":76974016,"body_markdown":"I&#39;m using Android studio the latest version and Java\r\nI&#39;d like to know what this top part that&#39;s in black on my screen is called, is it the app bar or what is it called? I&#39;d like to know how to change the color of it. That is the background color from black to something like blue. \r\n[enter image description here](https://i.stack.imgur.com/97h5b.jpg)\r\n\r\n\r\nI&#39;ve tried looking on YouTube videos but I haven&#39;t found anything","title":"How to change color of the top part of screen","body":"<p>I'm using Android studio the latest version and Java\nI'd like to know what this top part that's in black on my screen is called, is it the app bar or what is it called? I'd like to know how to change the color of it. That is the background color from black to something like blue.\n<a href=\"https://i.stack.imgur.com/97h5b.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I've tried looking on YouTube videos but I haven't found anything</p>\n"},{"tags":["java","static","singleton","lazy-initialization","static-block"],"comments":[{"owner":{"account_id":4029042,"reputation":145,"user_id":3315970,"display_name":"BlackBeard"},"score":0,"creation_date":1395209285,"post_id":22497497,"comment_id":34227742,"body_markdown":"**NOTE:** static blocks can access only static variables defined outside static block directly","body":"<b>NOTE:</b> static blocks can access only static variables defined outside static block directly"}],"answers":[{"comments":[{"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"score":0,"creation_date":1395209251,"post_id":22497574,"comment_id":34227733,"body_markdown":"So far, I am using the second approach But In some code I saw that approach too. So, I am not able to decide when that first one is benefecial.","body":"So far, I am using the second approach But In some code I saw that approach too. So, I am not able to decide when that first one is benefecial."},{"owner":{"account_id":2686520,"reputation":14490,"user_id":2320817,"accept_rate":50,"display_name":"kalyan pvs"},"score":1,"creation_date":1395209395,"post_id":22497574,"comment_id":34227791,"body_markdown":"@user2155922 First one is same as i am posted with some modifications..but there is a error in your code instance is in static block so it must be static field","body":"@user2155922 First one is same as i am posted with some modifications..but there is a error in your code instance is in static block so it must be static field"},{"owner":{"account_id":2686520,"reputation":14490,"user_id":2320817,"accept_rate":50,"display_name":"kalyan pvs"},"score":1,"creation_date":1395209483,"post_id":22497574,"comment_id":34227836,"body_markdown":"@user2155922 and when it comes to the second approch its not valid until your getInstance method is static..otherwise you need to create object to access the getInstance() method then which is not singleton..","body":"@user2155922 and when it comes to the second approch its not valid until your getInstance method is static..otherwise you need to create object to access the getInstance() method then which is not singleton.."},{"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"score":0,"creation_date":1395212690,"post_id":22497574,"comment_id":34229307,"body_markdown":"This happened during typing question...When I was typing the questions It happened.","body":"This happened during typing question...When I was typing the questions It happened."}],"tags":[],"owner":{"account_id":2686520,"reputation":14490,"user_id":2320817,"accept_rate":50,"display_name":"kalyan pvs"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395209774,"creation_date":1395208969,"answer_id":22497574,"question_id":22497497,"body_markdown":"make your class like this \r\n\r\n    public class Singleton {\r\n\r\n\tprivate Singleton() {\r\n\r\n\t}\r\n\r\n\tprivate static Singleton instance;\r\n\r\n\tpublic static Singleton getInstance() {\r\n\t\tif (instance == null) {\r\n\t\t\tinstance = new Singleton();\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n\r\n    }\r\n\r\nand call it like..\r\n\r\n    Singleton instance = Singleton.getInstance();\r\n\r\n","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>make your class like this </p>\n\n<pre><code>public class Singleton {\n\nprivate Singleton() {\n\n}\n\nprivate static Singleton instance;\n\npublic static Singleton getInstance() {\n    if (instance == null) {\n        instance = new Singleton();\n    }\n    return instance;\n}\n\n}\n</code></pre>\n\n<p>and call it like..</p>\n\n<pre><code>Singleton instance = Singleton.getInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4194461,"reputation":497,"user_id":3436179,"display_name":"Alexander"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1450204117,"creation_date":1395209544,"answer_id":22497718,"question_id":22497497,"body_markdown":" 1. Synchronized Accessor\r\n\r\n        public class Singleton {\r\n            private static Singleton instance;\r\n            \r\n            public static synchronized Singleton getInstance() {\r\n                if (instance == null) {\r\n                    instance = new Singleton();\r\n                }\r\n                return instance;\r\n            }\r\n        }\r\n\r\n - lazy load\r\n - low perfomance\r\n\r\n 2. Double Checked Locking &amp; volatile\r\n\r\n\r\n        public class Singleton {\r\n            private static volatile Singleton instance;\r\n            public static Singleton getInstance() {\r\n                Singleton localInstance = instance;\r\n                if (localInstance == null) {\r\n                    synchronized (Singleton.class) {\r\n                        localInstance = instance;\r\n                        if (localInstance == null) {\r\n                            instance = localInstance = new Singleton();\r\n                        }\r\n                    }\r\n                }\r\n                return localInstance;\r\n            }\r\n        }\r\n\r\n\r\n - lazy load\r\n - high perfomance\r\n - JDK should be 1,5 ++\r\n\r\n 3. On Demand Holder idiom\r\n\r\n        public class Singleton {\r\n        \r\n            public static class SingletonHolder {\r\n                public static final Singleton HOLDER_INSTANCE = new Singleton();\r\n            }\r\n        \r\n            public static Singleton getInstance() {\r\n                return SingletonHolder.HOLDER_INSTANCE;\r\n            }\r\n        }\r\n\r\n - lazy load\r\n - high performance\r\n - cant be used for non static class fields\r\n","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<ol>\n<li><p>Synchronized Accessor</p>\n\n<pre><code>public class Singleton {\n    private static Singleton instance;\n\n    public static synchronized Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n        }\n        return instance;\n    }\n}\n</code></pre>\n\n<ul>\n<li>lazy load</li>\n<li>low perfomance</li>\n</ul></li>\n<li><p>Double Checked Locking &amp; volatile</p>\n\n<pre><code>public class Singleton {\n    private static volatile Singleton instance;\n    public static Singleton getInstance() {\n        Singleton localInstance = instance;\n        if (localInstance == null) {\n            synchronized (Singleton.class) {\n                localInstance = instance;\n                if (localInstance == null) {\n                    instance = localInstance = new Singleton();\n                }\n            }\n        }\n        return localInstance;\n    }\n}\n</code></pre>\n\n<ul>\n<li>lazy load</li>\n<li>high perfomance</li>\n<li>JDK should be 1,5 ++</li>\n</ul></li>\n<li><p>On Demand Holder idiom</p>\n\n<pre><code>public class Singleton {\n\n    public static class SingletonHolder {\n        public static final Singleton HOLDER_INSTANCE = new Singleton();\n    }\n\n    public static Singleton getInstance() {\n        return SingletonHolder.HOLDER_INSTANCE;\n    }\n}\n</code></pre>\n\n<ul>\n<li>lazy load</li>\n<li>high performance</li>\n<li>cant be used for non static class fields</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4029042,"reputation":145,"user_id":3315970,"display_name":"BlackBeard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395209644,"creation_date":1395209644,"answer_id":22497737,"question_id":22497497,"body_markdown":"NOTE: static blocks can access only static variables defined outside static block directly. The object you want to restrict to only one instance creation should be **static**.  Your first methods fails during compilation, second method requires you to create the object first&lt;br/&gt; Follow this approach:\r\n\r\n    class Singleton\r\n    {\r\n    private static Singleton instance;\r\n    private Singleton()\r\n    {\r\n    }\r\n    public static Singleton getInstance()\r\n    {\r\n        if(instance == null)\r\n             instance = new Singleton();\r\n        return instance;\r\n    }\r\n    }\r\n\r\nEnsure no creation of the object elsewhere, so change the constructor to private","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>NOTE: static blocks can access only static variables defined outside static block directly. The object you want to restrict to only one instance creation should be <strong>static</strong>.  Your first methods fails during compilation, second method requires you to create the object first<br/> Follow this approach:</p>\n\n<pre><code>class Singleton\n{\nprivate static Singleton instance;\nprivate Singleton()\n{\n}\npublic static Singleton getInstance()\n{\n    if(instance == null)\n         instance = new Singleton();\n    return instance;\n}\n}\n</code></pre>\n\n<p>Ensure no creation of the object elsewhere, so change the constructor to private</p>\n"},{"comments":[{"owner":{"account_id":4029042,"reputation":145,"user_id":3315970,"display_name":"BlackBeard"},"score":0,"creation_date":1395210212,"post_id":22497800,"comment_id":34228157,"body_markdown":"Wonderful example for Singleton patterns. Threadsafe seems the best choice. Bummer, reflection can just destroy","body":"Wonderful example for Singleton patterns. Threadsafe seems the best choice. Bummer, reflection can just destroy"}],"tags":[],"owner":{"account_id":2739485,"reputation":116,"user_id":2361333,"display_name":"vanDer"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1395209867,"creation_date":1395209867,"answer_id":22497800,"question_id":22497497,"body_markdown":"First one is eager initialisation.\r\neager initialization creates the instance even before it’s being used and that is not the best practice to use.\r\n\r\n\r\nSecond one is Lazy Initialization.\r\nLazy implementation works fine incase of single threaded environment but when it comes to multithreaded systems, it can cause issues if multiple threads are inside the if loop at the same time. It will destroy the singleton pattern and both threads will get the different instances of singleton class.\r\n\r\nPlease visit: http://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-with-examples#static-block-initialization for more information\r\n\r\n","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>First one is eager initialisation.\neager initialization creates the instance even before it’s being used and that is not the best practice to use.</p>\n\n<p>Second one is Lazy Initialization.\nLazy implementation works fine incase of single threaded environment but when it comes to multithreaded systems, it can cause issues if multiple threads are inside the if loop at the same time. It will destroy the singleton pattern and both threads will get the different instances of singleton class.</p>\n\n<p>Please visit: <a href=\"http://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-with-examples#static-block-initialization\" rel=\"noreferrer\">http://www.journaldev.com/1377/java-singleton-design-pattern-best-practices-with-examples#static-block-initialization</a> for more information</p>\n"},{"comments":[{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1657165536,"post_id":52528010,"comment_id":128746909,"body_markdown":"This is a great point.  Is there no way to intercept.","body":"This is a great point.  Is there no way to intercept."},{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1657165626,"post_id":52528010,"comment_id":128746922,"body_markdown":"The links you shared are broken, BTW.","body":"The links you shared are broken, BTW."}],"tags":[],"owner":{"account_id":3892026,"reputation":31,"user_id":3221941,"display_name":"Koz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538010558,"creation_date":1538010558,"answer_id":52528010,"question_id":22497497,"body_markdown":"Static initializers cannot throw exceptions and absorb RuntimeExceptions into ClassDefNotFoundException, which does not halt execution.  So you could see lots of \r\nClassDefNotFoundException&#39;s in your logs and you might not even realize something is wrong until much later because execution continues.\r\n\r\nThe 2nd method allows RuntimeExceptions to stop execution.\r\n\r\nMore details here:\r\nhttps://twasink.net/2006/07/07/how-not-to-handle-exceptions-from-static-code-block-in-java/","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>Static initializers cannot throw exceptions and absorb RuntimeExceptions into ClassDefNotFoundException, which does not halt execution.  So you could see lots of \nClassDefNotFoundException's in your logs and you might not even realize something is wrong until much later because execution continues.</p>\n\n<p>The 2nd method allows RuntimeExceptions to stop execution.</p>\n\n<p>More details here:\n<a href=\"https://twasink.net/2006/07/07/how-not-to-handle-exceptions-from-static-code-block-in-java/\" rel=\"nofollow noreferrer\">https://twasink.net/2006/07/07/how-not-to-handle-exceptions-from-static-code-block-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692936210,"creation_date":1657165037,"answer_id":72892026,"question_id":22497497,"body_markdown":"\r\nUse static block if you need some things to be initliazedz when the app starts. f.ex, one may want to load some properties from some file that do useful stuff....etc \r\n\r\n        static {\r\n        instance = new Singleton();\r\n        loadStuff();\r\n    }\r\n\r\n\r\n\r\n\r\nUse lazy initialization \r\n\r\n    class Singleton {\r\n        private Singleton instance;\r\n        public Singleton getInstance(){\r\n            if (instance == null) instance = new Singleton();\r\n            loadStuff()\r\n            return instance;\r\n        }\r\n    }\r\n\r\nand loadStuff will only be triggered when the `Singleton.getInstance()` is first called. ","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>Use static block if you need some things to be initliazedz when the app starts. f.ex, one may want to load some properties from some file that do useful stuff....etc</p>\n<pre><code>    static {\n    instance = new Singleton();\n    loadStuff();\n}\n</code></pre>\n<p>Use lazy initialization</p>\n<pre><code>class Singleton {\n    private Singleton instance;\n    public Singleton getInstance(){\n        if (instance == null) instance = new Singleton();\n        loadStuff()\n        return instance;\n    }\n}\n</code></pre>\n<p>and loadStuff will only be triggered when the <code>Singleton.getInstance()</code> is first called.</p>\n"}],"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6835,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":22497718,"answer_count":6,"score":7,"last_activity_date":1692936210,"creation_date":1395208719,"question_id":22497497,"body_markdown":"Below are two ways to implement a singleton. What are the advantages and disadvantages of each?\r\n\r\nStatic initialization:\r\n\r\n    class Singleton {\r\n        private Singleton instance;\r\n        static {\r\n            instance = new Singleton();\r\n        }\r\n        public Singleton getInstance() {\r\n            return instance;\r\n        }\r\n    }\r\n\r\nLazy initialization is:\r\n\r\n    class Singleton {\r\n        private Singleton instance;\r\n        public Singleton getInstance(){\r\n            if (instance == null) instance = new Singleton();\r\n            return instance;\r\n        }\r\n    }","title":"Singleton object- In static block or in getInstance(); which should be used","body":"<p>Below are two ways to implement a singleton. What are the advantages and disadvantages of each?</p>\n\n<p>Static initialization:</p>\n\n<pre><code>class Singleton {\n    private Singleton instance;\n    static {\n        instance = new Singleton();\n    }\n    public Singleton getInstance() {\n        return instance;\n    }\n}\n</code></pre>\n\n<p>Lazy initialization is:</p>\n\n<pre><code>class Singleton {\n    private Singleton instance;\n    public Singleton getInstance(){\n        if (instance == null) instance = new Singleton();\n        return instance;\n    }\n}\n</code></pre>\n"},{"tags":["java","recursion","fibonacci"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692920543,"post_id":76971252,"comment_id":135693752,"body_markdown":"Don&#39;t call the recursion twice! Recursive Fibonacci ias bad enough already without making it twice as slow.","body":"Don&#39;t call the recursion twice! Recursive Fibonacci ias bad enough already without making it twice as slow."}],"answers":[{"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692895672,"creation_date":1692895672,"answer_id":76971427,"question_id":76971252,"body_markdown":"If you extract the `print` statement out of the `if-else`, then the recursive call will happen first and print afterwards (so you will print the results of `n-1` and `n-2` before printing the result of `n`). In that way you obtain the desired result.\r\n\r\n```\r\nclass Fibonacci {\r\n\r\n    //Your code starts here\r\n    public int recFib(int n) {\r\n        int result;\r\n        if (n &lt;= 1) {\r\n            result = n;\r\n        } else {\r\n            result = recFib(n - 1) + recFib(n - 2);\r\n        }\r\n        System.out.println(&quot;Fib(&quot; + n + &quot;) is: &quot; + result);\r\n        return result;\r\n    }\r\n    // your code ends here\r\n}\r\n\r\n```\r\nThis results in \r\n\r\n```\r\nRec results is \r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(1) is: 1\r\nFib(3) is: 2\r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(4) is: 3\r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(1) is: 1\r\nFib(3) is: 2\r\nFib(5) is: 5\r\n```\r\n\r\nGood luck with the class!","title":"Printing the recursive calls for fibonnaci numbers","body":"<p>If you extract the <code>print</code> statement out of the <code>if-else</code>, then the recursive call will happen first and print afterwards (so you will print the results of <code>n-1</code> and <code>n-2</code> before printing the result of <code>n</code>). In that way you obtain the desired result.</p>\n<pre><code>class Fibonacci {\n\n    //Your code starts here\n    public int recFib(int n) {\n        int result;\n        if (n &lt;= 1) {\n            result = n;\n        } else {\n            result = recFib(n - 1) + recFib(n - 2);\n        }\n        System.out.println(&quot;Fib(&quot; + n + &quot;) is: &quot; + result);\n        return result;\n    }\n    // your code ends here\n}\n\n</code></pre>\n<p>This results in</p>\n<pre><code>Rec results is \nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(1) is: 1\nFib(3) is: 2\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(4) is: 3\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(1) is: 1\nFib(3) is: 2\nFib(5) is: 5\n</code></pre>\n<p>Good luck with the class!</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692918012,"creation_date":1692918012,"answer_id":76973331,"question_id":76971252,"body_markdown":"The trick is to reduce `n` until it equals `1` and then print the the desired values in reverse order.  So I reversed your conditional to compute the `nth` fibonacci value.\r\n```\r\npublic static int recFib(int n) {\r\n   int result = n;\r\n   if (n &gt; 1) {\r\n       result = recFib(n-1) + recFib(n-2);\r\n   }\r\n   System.out.printf(&quot;Fib(%d) is %d%n&quot;, n, result);\r\n   return result;\r\n}","title":"Printing the recursive calls for fibonnaci numbers","body":"<p>The trick is to reduce <code>n</code> until it equals <code>1</code> and then print the the desired values in reverse order.  So I reversed your conditional to compute the <code>nth</code> fibonacci value.</p>\n<pre><code>public static int recFib(int n) {\n   int result = n;\n   if (n &gt; 1) {\n       result = recFib(n-1) + recFib(n-2);\n   }\n   System.out.printf(&quot;Fib(%d) is %d%n&quot;, n, result);\n   return result;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2491135,"reputation":680,"user_id":2168552,"accept_rate":45,"display_name":"sribasu"},"score":0,"creation_date":1693091772,"post_id":76974141,"comment_id":135714745,"body_markdown":"Please add a brief explanation on how bringing the System.out.println statement outside the if block actually does the trick","body":"Please add a brief explanation on how bringing the System.out.println statement outside the if block actually does the trick"}],"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692935211,"creation_date":1692935211,"answer_id":76974141,"question_id":76971252,"body_markdown":"Print statement should be out of if-else statement:\r\n\r\n```\r\n    public int recFib(int n) {\r\n        int result;\r\n        if (n &lt;= 1) {\r\n            result = n;\r\n        } else {\r\n            result = recFib(n - 1) + recFib(n - 2);\r\n        }\r\n        System.out.printf(&quot;Fib(%d) is: %d\\n&quot;, n, result);\r\n        return result;\r\n    }\r\n```","title":"Printing the recursive calls for fibonnaci numbers","body":"<p>Print statement should be out of if-else statement:</p>\n<pre><code>    public int recFib(int n) {\n        int result;\n        if (n &lt;= 1) {\n            result = n;\n        } else {\n            result = recFib(n - 1) + recFib(n - 2);\n        }\n        System.out.printf(&quot;Fib(%d) is: %d\\n&quot;, n, result);\n        return result;\n    }\n</code></pre>\n"}],"owner":{"account_id":26674432,"reputation":11,"user_id":20285401,"display_name":"nate998"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692935211,"creation_date":1692894376,"question_id":76971252,"body_markdown":"How to print the result of the fibonnaci recursive calls such that the output looks like this\r\n\r\n\r\nRec results is \r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(1) is: 1\r\nFib(3) is: 2\r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(4) is: 3\r\nFib(1) is: 1\r\nFib(0) is: 0\r\nFib(2) is: 1\r\nFib(1) is: 1\r\nFib(3) is: 2\r\nFib(5) is: 5\r\n\r\nHere is my code \r\n\r\n```\r\npublic class Test {\r\n   public static void main(String[] args) {\r\n\r\n      Fibonacci fib = new Fibonacci();\r\n      System.out.println(&quot;Rec results is &quot;);\r\n      fib.recFib(5);\r\n\r\n   }\r\n}\r\n\r\nclass Fibonacci {\r\n   \r\n     //Your code starts here\r\n      public int recFib(int n){\r\n         \r\n         if(n &lt;= 1) {\r\n            return n;\r\n         }\r\n         else {\r\n            int result = recFib(n -1) + recFib(n-2);\r\n            //System.out.println(&quot;Fib(&quot;+ n +&quot;) is: &quot;+ result);\r\n            return recFib(n -1) + recFib(n-2);\r\n         }\r\n      }\r\n   // your code ends here\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI have tried to put the print statement in different locations but never am able to get the proper output. This is not a homework question but part of a class lesson so hopefully you guys can help me understand it better. I believe you can only use one print statement.","title":"Printing the recursive calls for fibonnaci numbers","body":"<p>How to print the result of the fibonnaci recursive calls such that the output looks like this</p>\n<p>Rec results is\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(1) is: 1\nFib(3) is: 2\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(4) is: 3\nFib(1) is: 1\nFib(0) is: 0\nFib(2) is: 1\nFib(1) is: 1\nFib(3) is: 2\nFib(5) is: 5</p>\n<p>Here is my code</p>\n<pre><code>public class Test {\n   public static void main(String[] args) {\n\n      Fibonacci fib = new Fibonacci();\n      System.out.println(&quot;Rec results is &quot;);\n      fib.recFib(5);\n\n   }\n}\n\nclass Fibonacci {\n   \n     //Your code starts here\n      public int recFib(int n){\n         \n         if(n &lt;= 1) {\n            return n;\n         }\n         else {\n            int result = recFib(n -1) + recFib(n-2);\n            //System.out.println(&quot;Fib(&quot;+ n +&quot;) is: &quot;+ result);\n            return recFib(n -1) + recFib(n-2);\n         }\n      }\n   // your code ends here\n\n}\n</code></pre>\n<p>I have tried to put the print statement in different locations but never am able to get the proper output. This is not a homework question but part of a class lesson so hopefully you guys can help me understand it better. I believe you can only use one print statement.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692950436,"post_id":76974043,"comment_id":135697074,"body_markdown":"What IDE are you using? In case of IntelliJ, did you try to repair it?","body":"What IDE are you using? In case of IntelliJ, did you try to repair it?"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1692950682,"post_id":76974043,"comment_id":135697134,"body_markdown":"Package visibility rules are not related to the version of Spring Boot: they depends on the classpath of Java only so there is certainly some other change you have made.","body":"Package visibility rules are not related to the version of Spring Boot: they depends on the classpath of Java only so there is certainly some other change you have made."}],"owner":{"account_id":25929520,"reputation":1,"user_id":19650844,"display_name":"lalala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692934537,"creation_date":1692933291,"question_id":76974043,"body_markdown":"Here is my project structure\r\n\r\n```\r\nappName\r\n --- model\r\n     --- src\r\n         ---- main\r\n              --- basePackageName\r\n                  ---packageOne\r\n --- service\r\n    --- src\r\n        ---- main\r\n             ---- basePackageName\r\n                  ---packageTwo\r\n```\r\n\r\nI want to use packageOne in my packageTwo, and i can import packageOne properly when I was on spring boot version 2.1.6.RELEASE but after upgraded to 2.6.7, all packageOne imports are greyed out and gradle build gave me a symbol can&#39;t resolve error as it thinks packageOne doesn&#39;t exist.\r\n\r\nI have made sure the @SpringBootApplication annotation is there and both packageOne and packageTwo share same prefix:com.example.packageOne and com.example.packageTwo.\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Application {\r\n    \r\n    public static void main(String[] args) {\r\n        \r\n    }\r\n}\r\n```\r\n\r\nany thoughts are welcomed, thanks.","title":"spring boot can&#39;t import package which in same project but different folder","body":"<p>Here is my project structure</p>\n<pre><code>appName\n --- model\n     --- src\n         ---- main\n              --- basePackageName\n                  ---packageOne\n --- service\n    --- src\n        ---- main\n             ---- basePackageName\n                  ---packageTwo\n</code></pre>\n<p>I want to use packageOne in my packageTwo, and i can import packageOne properly when I was on spring boot version 2.1.6.RELEASE but after upgraded to 2.6.7, all packageOne imports are greyed out and gradle build gave me a symbol can't resolve error as it thinks packageOne doesn't exist.</p>\n<p>I have made sure the @SpringBootApplication annotation is there and both packageOne and packageTwo share same prefix:com.example.packageOne and com.example.packageTwo.</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n    \n    public static void main(String[] args) {\n        \n    }\n}\n</code></pre>\n<p>any thoughts are welcomed, thanks.</p>\n"},{"tags":["java","spring-boot","redis","redisson"],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692932188,"creation_date":1654222498,"question_id":72484061,"body_markdown":"Today I start the spring boot project in MacBook Pro with M1 pro(with 8 performance core and 2 efficient core), shows error:\r\n\r\n\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;redissonClient&#39; defined in class path resource [misc/redisson/RedissonConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method &#39;redissonClient&#39; threw exception; nested exception is org.redisson.client.RedisConnectionException: Unable to init enough connections amount! Only 10 of 24 were initialized. Redis server: cruise-redis-master.reddwarf-cache.svc.cluster.local/10.108.202.100:6379\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\r\n\r\n\r\n\r\nthe remote redis was a single redis master server with 2 slaves. my redission config look like this:\r\n\r\n\r\n\r\n\r\n    package misc.redisson;\r\n    \r\n    \r\n    import org.redisson.Redisson;\r\n    import org.redisson.api.RedissonClient;\r\n    import org.redisson.config.Config;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    /**\r\n     * @author dolphin\r\n     * @version 1.0\r\n     * @date: 2020/9/5 9:50 \r\n     */\r\n    @Configuration\r\n    public class RedissonConfig {\r\n    \r\n        @Value(value = &quot;${spring.redis.host}&quot;)\r\n        private String redisHost;\r\n        @Value(value = &quot;${spring.redis.port:6379}&quot;)\r\n        private Integer redisPort;\r\n        @Value(value = &quot;${spring.redis.timeout:2000}&quot;)\r\n        private Integer redisTimeOut;\r\n        @Value(value = &quot;${spring.redis.password}&quot;)\r\n        private String redisPwd;\r\n    \r\n    \r\n        @Bean(name = &quot;redissonClient&quot;)\r\n        public RedissonClient redissonClient() {\r\n            Config config = new Config();\r\n            config.useSingleServer()\r\n                    .setAddress(&quot;redis://&quot; + redisHost + &quot;:&quot; + redisPort)\r\n                    .setPassword(redisPwd)\r\n                    .setTimeout(redisTimeOut)\r\n                    .setDatabase(1);\r\n            RedissonClient redissonClient = Redisson.create(config);\r\n            return redissonClient;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nand the redis server(2Core and 8GB memory in the cloud) max client config:\r\n\r\n\r\n\r\n\r\n    connected_clients\r\n    120\r\n    cluster_connections\r\n    0\r\n    maxclients\r\n    10000\r\n\r\n\r\nthe remote server was a single kubernetes node, and connected local machine and remote server by telepresence. why did this happen? what should I do to fixed this problem?\r\n\r\n","title":"RedisConnectionException: Unable to init enough connections amount","body":"<p>Today I start the spring boot project in MacBook Pro with M1 pro(with 8 performance core and 2 efficient core), shows error:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redissonClient' defined in class path resource [misc/redisson/RedissonConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.redisson.api.RedissonClient]: Factory method 'redissonClient' threw exception; nested exception is org.redisson.client.RedisConnectionException: Unable to init enough connections amount! Only 10 of 24 were initialized. Redis server: cruise-redis-master.reddwarf-cache.svc.cluster.local/10.108.202.100:6379\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.19.jar:5.3.19]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.19.jar:5.3.19]\n</code></pre>\n<p>the remote redis was a single redis master server with 2 slaves. my redission config look like this:</p>\n<pre><code>package misc.redisson;\n\n\nimport org.redisson.Redisson;\nimport org.redisson.api.RedissonClient;\nimport org.redisson.config.Config;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n/**\n * @author dolphin\n * @version 1.0\n * @date: 2020/9/5 9:50 \n */\n@Configuration\npublic class RedissonConfig {\n\n    @Value(value = &quot;${spring.redis.host}&quot;)\n    private String redisHost;\n    @Value(value = &quot;${spring.redis.port:6379}&quot;)\n    private Integer redisPort;\n    @Value(value = &quot;${spring.redis.timeout:2000}&quot;)\n    private Integer redisTimeOut;\n    @Value(value = &quot;${spring.redis.password}&quot;)\n    private String redisPwd;\n\n\n    @Bean(name = &quot;redissonClient&quot;)\n    public RedissonClient redissonClient() {\n        Config config = new Config();\n        config.useSingleServer()\n                .setAddress(&quot;redis://&quot; + redisHost + &quot;:&quot; + redisPort)\n                .setPassword(redisPwd)\n                .setTimeout(redisTimeOut)\n                .setDatabase(1);\n        RedissonClient redissonClient = Redisson.create(config);\n        return redissonClient;\n    }\n}\n</code></pre>\n<p>and the redis server(2Core and 8GB memory in the cloud) max client config:</p>\n<pre><code>connected_clients\n120\ncluster_connections\n0\nmaxclients\n10000\n</code></pre>\n<p>the remote server was a single kubernetes node, and connected local machine and remote server by telepresence. why did this happen? what should I do to fixed this problem?</p>\n"},{"tags":["java","grpc-java","byte-buddy"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1692716542,"post_id":76952120,"comment_id":135660717,"body_markdown":"Please, don&#39;t post images of text, but the text directly.","body":"Please, don&#39;t post images of text, but the text directly."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1692856340,"post_id":76952120,"comment_id":135681214,"body_markdown":"Did you check if the class in question is loaded by the child-first class loader? You can set `-Dnet.bytebuddy.dump=/some/folder` and investigate if the code in question was added as you expected to by using *javap*.","body":"Did you check if the class in question is loaded by the child-first class loader? You can set <code>-Dnet.bytebuddy.dump=&#47;some&#47;folder</code> and investigate if the code in question was added as you expected to by using <i>javap</i>."},{"owner":{"account_id":27723681,"reputation":1,"user_id":21163717,"display_name":"LaiJinWen"},"score":0,"creation_date":1692871486,"post_id":76952120,"comment_id":135683975,"body_markdown":"I have fix my enhancing code and now my problem is that I can`t new a instatnce","body":"I have fix my enhancing code and now my problem is that I can`t new a instatnce"}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1693027609,"post_id":76973966,"comment_id":135708712,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76973966/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27723681,"reputation":1,"user_id":21163717,"display_name":"LaiJinWen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692931859,"creation_date":1692931859,"answer_id":76973966,"question_id":76952120,"body_markdown":"       Class&lt;?&gt; type  =\r\n                new ByteBuddy()\r\n                .rebase(SmsProxyAPIGrpc.SmsProxyAPIBlockingStub.class)\r\n                        .constructor(ElementMatchers.isPublic())\r\n                        .intercept(\r\n                                MethodCall.invoke(\r\n                                        originalClass.getDeclaredConstructor(Channel.class, CallOptions.class))\r\n                                        .with(channel,callOptions)\r\n                        ) // 调用带参数的原始类构造函\r\n                .method(ElementMatchers.nameContains(&quot;sendSmsMessage&quot;))\r\n                .intercept(MethodDelegation.to(MonitorDemo.class))\r\n                .make()\r\n                .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.CHILD_FIRST_PERSISTENT)\r\n                .getLoaded();\r\n    It can work this way.The key is to make constructor public and mind the classloader.","title":"How to enhance a final and non-Interface class with the help of Byte Buddy","body":"<pre><code>   Class&lt;?&gt; type  =\n            new ByteBuddy()\n            .rebase(SmsProxyAPIGrpc.SmsProxyAPIBlockingStub.class)\n                    .constructor(ElementMatchers.isPublic())\n                    .intercept(\n                            MethodCall.invoke(\n                                    originalClass.getDeclaredConstructor(Channel.class, CallOptions.class))\n                                    .with(channel,callOptions)\n                    ) // 调用带参数的原始类构造函\n            .method(ElementMatchers.nameContains(&quot;sendSmsMessage&quot;))\n            .intercept(MethodDelegation.to(MonitorDemo.class))\n            .make()\n            .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.CHILD_FIRST_PERSISTENT)\n            .getLoaded();\nIt can work this way.The key is to make constructor public and mind the classloader.\n</code></pre>\n"}],"owner":{"account_id":27723681,"reputation":1,"user_id":21163717,"display_name":"LaiJinWen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692931859,"creation_date":1692698106,"question_id":76952120,"body_markdown":"Background:\r\nMy programe use gRPC to communicate.Now there are some special clints(or stubs),I want to do some logic (send an Mq message or restor it into db, so on~~)\r\n\r\nQustion:\r\n\r\n```\r\npublic static final class SmsProxyAPIStub extends io.grpc.stub.AbstractAsyncStub&lt;SmsProxyAPIStub&gt; {\r\n    private SmsProxyAPIStub(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      super(channel, callOptions);\r\n    }\r\n\r\n    @java.lang.Override\r\n    protected SmsProxyAPIStub build(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      return new SmsProxyAPIStub(channel, callOptions);\r\n    }\r\n\r\n    /**\r\n     */\r\n    public void sendSmsMessage1(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\r\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\r\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\r\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\r\n\r\npublic void sendSmsMessage2(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\r\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\r\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\r\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\r\n    }\r\n  }\r\n```\r\nfor the client class is embellished wiht final and does not implement any interface, then I have to choose Byte Buddy(which I am not familiar and my mission is out of time.)\r\n\r\n\r\n\r\n\r\nI have tried it :\r\n\r\n```\r\n   new ByteBuddy()\r\n                    .rebase(SmsProxyAPIGrpc.class)\r\n                            .constructor(ElementMatchers.isPrivate()) // 选择 private 构造函数\r\n                            .intercept(\r\n                                    MethodCall.invoke(\r\n                                            originalClass.getDeclaredConstructor(Channel.class, CallOptions.class))\r\n                                            .with(channel,callOptions)\r\n                            ) // 调用带参数的原始类构造函\r\n                    .method(ElementMatchers.nameContains(&quot;sendSmsMessage&quot;))\r\n                    .intercept(MethodDelegation.to(MonitorDemo.class))\r\n                    .make()\r\n                    .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.CHILD_FIRST)\r\n                    .getLoaded();\r\n```\r\n\r\nbut the generated code does contain my enhancing logic,\r\nbut when I \r\n```\r\nConstructor&lt;?&gt; constructor = type.getDeclaredConstructor(Channel.class, CallOptions.class).setAccessible(true);\r\nconstructor.newInstance(channel,callOptions);\r\n```\r\nit gets me  &#39;java.lang.reflect.InvocationTargetException:Caused by: java.lang.StackOverflowError\tat ird.ntp.be.sms.proto.SmsProxyAPIGrpc$SmsProxyAPIBlockingStub.&lt;init&gt;(SmsProxyAPIGrpc.java)&#39;\r\n\r\n I want to enhance SmsProxyAPIGrpc.SmsProxyAPIBlockingStub:\r\n\r\n  ```java\r\n@javax.annotation.Generated(\r\n    value = &quot;by gRPC proto compiler (version 1.51.1)&quot;,\r\n    comments = &quot;Source: ProxyAPI.proto&quot;)\r\n@io.grpc.stub.annotations.GrpcGenerated\r\npublic final class SmsProxyAPIGrpc {\r\n\r\n  private SmsProxyAPIGrpc() {}\r\n\r\n  public static final String SERVICE_NAME = &quot;ird.ntp.be.sms.v1.SmsProxyAPI&quot;;\r\n\r\n  // Static method descriptors that strictly reflect the proto.\r\n  private static volatile io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest,\r\n      ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod;\r\n\r\n  @io.grpc.stub.annotations.RpcMethod(\r\n      fullMethodName = SERVICE_NAME + &#39;/&#39; + &quot;SendSmsMessage&quot;,\r\n      requestType = ird.ntp.be.sms.proto.SendSmsMessageRequest.class,\r\n      responseType = ird.ntp.be.sms.proto.SendSmsMessageResponse.class,\r\n      methodType = io.grpc.MethodDescriptor.MethodType.UNARY)\r\n  public static io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest,\r\n      ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod() {\r\n    io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest, ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod;\r\n    if ((getSendSmsMessageMethod = SmsProxyAPIGrpc.getSendSmsMessageMethod) == null) {\r\n      synchronized (SmsProxyAPIGrpc.class) {\r\n        if ((getSendSmsMessageMethod = SmsProxyAPIGrpc.getSendSmsMessageMethod) == null) {\r\n          SmsProxyAPIGrpc.getSendSmsMessageMethod = getSendSmsMessageMethod =\r\n              io.grpc.MethodDescriptor.&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest, ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;newBuilder()\r\n              .setType(io.grpc.MethodDescriptor.MethodType.UNARY)\r\n              .setFullMethodName(generateFullMethodName(SERVICE_NAME, &quot;SendSmsMessage&quot;))\r\n              .setSampledToLocalTracing(true)\r\n              .setRequestMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\r\n                  ird.ntp.be.sms.proto.SendSmsMessageRequest.getDefaultInstance()))\r\n              .setResponseMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\r\n                  ird.ntp.be.sms.proto.SendSmsMessageResponse.getDefaultInstance()))\r\n              .setSchemaDescriptor(new SmsProxyAPIMethodDescriptorSupplier(&quot;SendSmsMessage&quot;))\r\n              .build();\r\n        }\r\n      }\r\n    }\r\n    return getSendSmsMessageMethod;\r\n  }\r\n\r\n  /**\r\n   * Creates a new async stub that supports all call types for the service\r\n   */\r\n  public static SmsProxyAPIStub newStub(io.grpc.Channel channel) {\r\n    io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIStub&gt; factory =\r\n      new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIStub&gt;() {\r\n        @java.lang.Override\r\n        public SmsProxyAPIStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n          return new SmsProxyAPIStub(channel, callOptions);\r\n        }\r\n      };\r\n    return SmsProxyAPIStub.newStub(factory, channel);\r\n  }\r\n\r\n  /**\r\n   * Creates a new blocking-style stub that supports unary and streaming output calls on the service\r\n   */\r\n  public static SmsProxyAPIBlockingStub newBlockingStub(\r\n      io.grpc.Channel channel) {\r\n    io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIBlockingStub&gt; factory =\r\n      new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIBlockingStub&gt;() {\r\n        @java.lang.Override\r\n        public SmsProxyAPIBlockingStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n          return new SmsProxyAPIBlockingStub(channel, callOptions);\r\n        }\r\n      };\r\n    return SmsProxyAPIBlockingStub.newStub(factory, channel);\r\n  }\r\n\r\n  /**\r\n   * Creates a new ListenableFuture-style stub that supports unary calls on the service\r\n   */\r\n  public static SmsProxyAPIFutureStub newFutureStub(\r\n      io.grpc.Channel channel) {\r\n    io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIFutureStub&gt; factory =\r\n      new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIFutureStub&gt;() {\r\n        @java.lang.Override\r\n        public SmsProxyAPIFutureStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n          return new SmsProxyAPIFutureStub(channel, callOptions);\r\n        }\r\n      };\r\n    return SmsProxyAPIFutureStub.newStub(factory, channel);\r\n  }\r\n\r\n  /**\r\n   * &lt;pre&gt;\r\n   * API interface and its request/response messages\r\n   * &lt;/pre&gt;\r\n   */\r\n  public static abstract class SmsProxyAPIImplBase implements io.grpc.BindableService {\r\n\r\n    /**\r\n     */\r\n    public void sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\r\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\r\n      io.grpc.stub.ServerCalls.asyncUnimplementedUnaryCall(getSendSmsMessageMethod(), responseObserver);\r\n    }\r\n\r\n    @java.lang.Override public final io.grpc.ServerServiceDefinition bindService() {\r\n      return io.grpc.ServerServiceDefinition.builder(getServiceDescriptor())\r\n          .addMethod(\r\n            getSendSmsMessageMethod(),\r\n            io.grpc.stub.ServerCalls.asyncUnaryCall(\r\n              new MethodHandlers&lt;\r\n                ird.ntp.be.sms.proto.SendSmsMessageRequest,\r\n                ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;(\r\n                  this, METHODID_SEND_SMS_MESSAGE)))\r\n          .build();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * &lt;pre&gt;\r\n   * API interface and its request/response messages\r\n   * &lt;/pre&gt;\r\n   */\r\n  public static final class SmsProxyAPIStub extends io.grpc.stub.AbstractAsyncStub&lt;SmsProxyAPIStub&gt; {\r\n    private SmsProxyAPIStub(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      super(channel, callOptions);\r\n    }\r\n\r\n    @java.lang.Override\r\n    protected SmsProxyAPIStub build(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      return new SmsProxyAPIStub(channel, callOptions);\r\n    }\r\n\r\n    /**\r\n     */\r\n    public void sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\r\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\r\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\r\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * &lt;pre&gt;\r\n   * API interface and its request/response messages\r\n   * &lt;/pre&gt;\r\n   */\r\n  public static final class SmsProxyAPIBlockingStub extends io.grpc.stub.AbstractBlockingStub&lt;SmsProxyAPIBlockingStub&gt; {\r\n    private SmsProxyAPIBlockingStub(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      super(channel, callOptions);\r\n    }\r\n\r\n    @java.lang.Override\r\n    protected SmsProxyAPIBlockingStub build(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      return new SmsProxyAPIBlockingStub(channel, callOptions);\r\n    }\r\n\r\n    /**\r\n     */\r\n    public ird.ntp.be.sms.proto.SendSmsMessageResponse sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request) {\r\n      return io.grpc.stub.ClientCalls.blockingUnaryCall(\r\n          getChannel(), getSendSmsMessageMethod(), getCallOptions(), request);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * &lt;pre&gt;\r\n   * API interface and its request/response messages\r\n   * &lt;/pre&gt;\r\n   */\r\n  public static final class SmsProxyAPIFutureStub extends io.grpc.stub.AbstractFutureStub&lt;SmsProxyAPIFutureStub&gt; {\r\n    private SmsProxyAPIFutureStub(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      super(channel, callOptions);\r\n    }\r\n\r\n    @java.lang.Override\r\n    protected SmsProxyAPIFutureStub build(\r\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\r\n      return new SmsProxyAPIFutureStub(channel, callOptions);\r\n    }\r\n\r\n    /**\r\n     */\r\n    public com.google.common.util.concurrent.ListenableFuture&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; sendSmsMessage(\r\n        ird.ntp.be.sms.proto.SendSmsMessageRequest request) {\r\n      return io.grpc.stub.ClientCalls.futureUnaryCall(\r\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request);\r\n    }\r\n  }\r\n\r\n  private static final int METHODID_SEND_SMS_MESSAGE = 0;\r\n\r\n  private static final class MethodHandlers&lt;Req, Resp&gt; implements\r\n      io.grpc.stub.ServerCalls.UnaryMethod&lt;Req, Resp&gt;,\r\n      io.grpc.stub.ServerCalls.ServerStreamingMethod&lt;Req, Resp&gt;,\r\n      io.grpc.stub.ServerCalls.ClientStreamingMethod&lt;Req, Resp&gt;,\r\n      io.grpc.stub.ServerCalls.BidiStreamingMethod&lt;Req, Resp&gt; {\r\n    private final SmsProxyAPIImplBase serviceImpl;\r\n    private final int methodId;\r\n\r\n    MethodHandlers(SmsProxyAPIImplBase serviceImpl, int methodId) {\r\n      this.serviceImpl = serviceImpl;\r\n      this.methodId = methodId;\r\n    }\r\n\r\n    @java.lang.Override\r\n    @java.lang.SuppressWarnings(&quot;unchecked&quot;)\r\n    public void invoke(Req request, io.grpc.stub.StreamObserver&lt;Resp&gt; responseObserver) {\r\n      switch (methodId) {\r\n        case METHODID_SEND_SMS_MESSAGE:\r\n          serviceImpl.sendSmsMessage((ird.ntp.be.sms.proto.SendSmsMessageRequest) request,\r\n              (io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;) responseObserver);\r\n          break;\r\n        default:\r\n          throw new AssertionError();\r\n      }\r\n    }\r\n\r\n    @java.lang.Override\r\n    @java.lang.SuppressWarnings(&quot;unchecked&quot;)\r\n    public io.grpc.stub.StreamObserver&lt;Req&gt; invoke(\r\n        io.grpc.stub.StreamObserver&lt;Resp&gt; responseObserver) {\r\n      switch (methodId) {\r\n        default:\r\n          throw new AssertionError();\r\n      }\r\n    }\r\n  }\r\n\r\n  private static abstract class SmsProxyAPIBaseDescriptorSupplier\r\n      implements io.grpc.protobuf.ProtoFileDescriptorSupplier, io.grpc.protobuf.ProtoServiceDescriptorSupplier {\r\n    SmsProxyAPIBaseDescriptorSupplier() {}\r\n\r\n    @java.lang.Override\r\n    public com.google.protobuf.Descriptors.FileDescriptor getFileDescriptor() {\r\n      return ird.ntp.be.sms.proto.SmsProxyServiceProto.getDescriptor();\r\n    }\r\n\r\n    @java.lang.Override\r\n    public com.google.protobuf.Descriptors.ServiceDescriptor getServiceDescriptor() {\r\n      return getFileDescriptor().findServiceByName(&quot;SmsProxyAPI&quot;);\r\n    }\r\n  }\r\n\r\n  private static final class SmsProxyAPIFileDescriptorSupplier\r\n      extends SmsProxyAPIBaseDescriptorSupplier {\r\n    SmsProxyAPIFileDescriptorSupplier() {}\r\n  }\r\n\r\n  private static final class SmsProxyAPIMethodDescriptorSupplier\r\n      extends SmsProxyAPIBaseDescriptorSupplier\r\n      implements io.grpc.protobuf.ProtoMethodDescriptorSupplier {\r\n    private final String methodName;\r\n\r\n    SmsProxyAPIMethodDescriptorSupplier(String methodName) {\r\n      this.methodName = methodName;\r\n    }\r\n\r\n    @java.lang.Override\r\n    public com.google.protobuf.Descriptors.MethodDescriptor getMethodDescriptor() {\r\n      return getServiceDescriptor().findMethodByName(methodName);\r\n    }\r\n  }\r\n\r\n  private static volatile io.grpc.ServiceDescriptor serviceDescriptor;\r\n\r\n  public static io.grpc.ServiceDescriptor getServiceDescriptor() {\r\n    io.grpc.ServiceDescriptor result = serviceDescriptor;\r\n    if (result == null) {\r\n      synchronized (SmsProxyAPIGrpc.class) {\r\n        result = serviceDescriptor;\r\n        if (result == null) {\r\n          serviceDescriptor = result = io.grpc.ServiceDescriptor.newBuilder(SERVICE_NAME)\r\n              .setSchemaDescriptor(new SmsProxyAPIFileDescriptorSupplier())\r\n              .addMethod(getSendSmsMessageMethod())\r\n              .build();\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n}\r\n  ```\r\n\r\n\r\nI need some help.\r\nWish you good luck and be rich","title":"How to enhance a final and non-Interface class with the help of Byte Buddy","body":"<p>Background:\nMy programe use gRPC to communicate.Now there are some special clints(or stubs),I want to do some logic (send an Mq message or restor it into db, so on~~)</p>\n<p>Qustion:</p>\n<pre><code>public static final class SmsProxyAPIStub extends io.grpc.stub.AbstractAsyncStub&lt;SmsProxyAPIStub&gt; {\n    private SmsProxyAPIStub(\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n      super(channel, callOptions);\n    }\n\n    @java.lang.Override\n    protected SmsProxyAPIStub build(\n        io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n      return new SmsProxyAPIStub(channel, callOptions);\n    }\n\n    /**\n     */\n    public void sendSmsMessage1(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\n\npublic void sendSmsMessage2(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\n        io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\n      io.grpc.stub.ClientCalls.asyncUnaryCall(\n          getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\n    }\n  }\n</code></pre>\n<p>for the client class is embellished wiht final and does not implement any interface, then I have to choose Byte Buddy(which I am not familiar and my mission is out of time.)</p>\n<p>I have tried it :</p>\n<pre><code>   new ByteBuddy()\n                    .rebase(SmsProxyAPIGrpc.class)\n                            .constructor(ElementMatchers.isPrivate()) // 选择 private 构造函数\n                            .intercept(\n                                    MethodCall.invoke(\n                                            originalClass.getDeclaredConstructor(Channel.class, CallOptions.class))\n                                            .with(channel,callOptions)\n                            ) // 调用带参数的原始类构造函\n                    .method(ElementMatchers.nameContains(&quot;sendSmsMessage&quot;))\n                    .intercept(MethodDelegation.to(MonitorDemo.class))\n                    .make()\n                    .load(ClassLoader.getSystemClassLoader(), ClassLoadingStrategy.Default.CHILD_FIRST)\n                    .getLoaded();\n</code></pre>\n<p>but the generated code does contain my enhancing logic,\nbut when I</p>\n<pre><code>Constructor&lt;?&gt; constructor = type.getDeclaredConstructor(Channel.class, CallOptions.class).setAccessible(true);\nconstructor.newInstance(channel,callOptions);\n</code></pre>\n<p>it gets me  'java.lang.reflect.InvocationTargetException:Caused by: java.lang.StackOverflowError    at ird.ntp.be.sms.proto.SmsProxyAPIGrpc$SmsProxyAPIBlockingStub.(SmsProxyAPIGrpc.java)'</p>\n<p>I want to enhance SmsProxyAPIGrpc.SmsProxyAPIBlockingStub:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.annotation.Generated(\n  value = &quot;by gRPC proto compiler (version 1.51.1)&quot;,\n  comments = &quot;Source: ProxyAPI.proto&quot;)\n@io.grpc.stub.annotations.GrpcGenerated\npublic final class SmsProxyAPIGrpc {\n\nprivate SmsProxyAPIGrpc() {}\n\npublic static final String SERVICE_NAME = &quot;ird.ntp.be.sms.v1.SmsProxyAPI&quot;;\n\n// Static method descriptors that strictly reflect the proto.\nprivate static volatile io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest,\n    ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod;\n\n@io.grpc.stub.annotations.RpcMethod(\n    fullMethodName = SERVICE_NAME + '/' + &quot;SendSmsMessage&quot;,\n    requestType = ird.ntp.be.sms.proto.SendSmsMessageRequest.class,\n    responseType = ird.ntp.be.sms.proto.SendSmsMessageResponse.class,\n    methodType = io.grpc.MethodDescriptor.MethodType.UNARY)\npublic static io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest,\n    ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod() {\n  io.grpc.MethodDescriptor&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest, ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; getSendSmsMessageMethod;\n  if ((getSendSmsMessageMethod = SmsProxyAPIGrpc.getSendSmsMessageMethod) == null) {\n    synchronized (SmsProxyAPIGrpc.class) {\n      if ((getSendSmsMessageMethod = SmsProxyAPIGrpc.getSendSmsMessageMethod) == null) {\n        SmsProxyAPIGrpc.getSendSmsMessageMethod = getSendSmsMessageMethod =\n            io.grpc.MethodDescriptor.&lt;ird.ntp.be.sms.proto.SendSmsMessageRequest, ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;newBuilder()\n            .setType(io.grpc.MethodDescriptor.MethodType.UNARY)\n            .setFullMethodName(generateFullMethodName(SERVICE_NAME, &quot;SendSmsMessage&quot;))\n            .setSampledToLocalTracing(true)\n            .setRequestMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\n                ird.ntp.be.sms.proto.SendSmsMessageRequest.getDefaultInstance()))\n            .setResponseMarshaller(io.grpc.protobuf.ProtoUtils.marshaller(\n                ird.ntp.be.sms.proto.SendSmsMessageResponse.getDefaultInstance()))\n            .setSchemaDescriptor(new SmsProxyAPIMethodDescriptorSupplier(&quot;SendSmsMessage&quot;))\n            .build();\n      }\n    }\n  }\n  return getSendSmsMessageMethod;\n}\n\n/**\n * Creates a new async stub that supports all call types for the service\n */\npublic static SmsProxyAPIStub newStub(io.grpc.Channel channel) {\n  io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIStub&gt; factory =\n    new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIStub&gt;() {\n      @java.lang.Override\n      public SmsProxyAPIStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n        return new SmsProxyAPIStub(channel, callOptions);\n      }\n    };\n  return SmsProxyAPIStub.newStub(factory, channel);\n}\n\n/**\n * Creates a new blocking-style stub that supports unary and streaming output calls on the service\n */\npublic static SmsProxyAPIBlockingStub newBlockingStub(\n    io.grpc.Channel channel) {\n  io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIBlockingStub&gt; factory =\n    new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIBlockingStub&gt;() {\n      @java.lang.Override\n      public SmsProxyAPIBlockingStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n        return new SmsProxyAPIBlockingStub(channel, callOptions);\n      }\n    };\n  return SmsProxyAPIBlockingStub.newStub(factory, channel);\n}\n\n/**\n * Creates a new ListenableFuture-style stub that supports unary calls on the service\n */\npublic static SmsProxyAPIFutureStub newFutureStub(\n    io.grpc.Channel channel) {\n  io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIFutureStub&gt; factory =\n    new io.grpc.stub.AbstractStub.StubFactory&lt;SmsProxyAPIFutureStub&gt;() {\n      @java.lang.Override\n      public SmsProxyAPIFutureStub newStub(io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n        return new SmsProxyAPIFutureStub(channel, callOptions);\n      }\n    };\n  return SmsProxyAPIFutureStub.newStub(factory, channel);\n}\n\n/**\n * &lt;pre&gt;\n * API interface and its request/response messages\n * &lt;/pre&gt;\n */\npublic static abstract class SmsProxyAPIImplBase implements io.grpc.BindableService {\n\n  /**\n   */\n  public void sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\n      io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\n    io.grpc.stub.ServerCalls.asyncUnimplementedUnaryCall(getSendSmsMessageMethod(), responseObserver);\n  }\n\n  @java.lang.Override public final io.grpc.ServerServiceDefinition bindService() {\n    return io.grpc.ServerServiceDefinition.builder(getServiceDescriptor())\n        .addMethod(\n          getSendSmsMessageMethod(),\n          io.grpc.stub.ServerCalls.asyncUnaryCall(\n            new MethodHandlers&lt;\n              ird.ntp.be.sms.proto.SendSmsMessageRequest,\n              ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;(\n                this, METHODID_SEND_SMS_MESSAGE)))\n        .build();\n  }\n}\n\n/**\n * &lt;pre&gt;\n * API interface and its request/response messages\n * &lt;/pre&gt;\n */\npublic static final class SmsProxyAPIStub extends io.grpc.stub.AbstractAsyncStub&lt;SmsProxyAPIStub&gt; {\n  private SmsProxyAPIStub(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    super(channel, callOptions);\n  }\n\n  @java.lang.Override\n  protected SmsProxyAPIStub build(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    return new SmsProxyAPIStub(channel, callOptions);\n  }\n\n  /**\n   */\n  public void sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request,\n      io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; responseObserver) {\n    io.grpc.stub.ClientCalls.asyncUnaryCall(\n        getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request, responseObserver);\n  }\n}\n\n/**\n * &lt;pre&gt;\n * API interface and its request/response messages\n * &lt;/pre&gt;\n */\npublic static final class SmsProxyAPIBlockingStub extends io.grpc.stub.AbstractBlockingStub&lt;SmsProxyAPIBlockingStub&gt; {\n  private SmsProxyAPIBlockingStub(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    super(channel, callOptions);\n  }\n\n  @java.lang.Override\n  protected SmsProxyAPIBlockingStub build(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    return new SmsProxyAPIBlockingStub(channel, callOptions);\n  }\n\n  /**\n   */\n  public ird.ntp.be.sms.proto.SendSmsMessageResponse sendSmsMessage(ird.ntp.be.sms.proto.SendSmsMessageRequest request) {\n    return io.grpc.stub.ClientCalls.blockingUnaryCall(\n        getChannel(), getSendSmsMessageMethod(), getCallOptions(), request);\n  }\n}\n\n/**\n * &lt;pre&gt;\n * API interface and its request/response messages\n * &lt;/pre&gt;\n */\npublic static final class SmsProxyAPIFutureStub extends io.grpc.stub.AbstractFutureStub&lt;SmsProxyAPIFutureStub&gt; {\n  private SmsProxyAPIFutureStub(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    super(channel, callOptions);\n  }\n\n  @java.lang.Override\n  protected SmsProxyAPIFutureStub build(\n      io.grpc.Channel channel, io.grpc.CallOptions callOptions) {\n    return new SmsProxyAPIFutureStub(channel, callOptions);\n  }\n\n  /**\n   */\n  public com.google.common.util.concurrent.ListenableFuture&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt; sendSmsMessage(\n      ird.ntp.be.sms.proto.SendSmsMessageRequest request) {\n    return io.grpc.stub.ClientCalls.futureUnaryCall(\n        getChannel().newCall(getSendSmsMessageMethod(), getCallOptions()), request);\n  }\n}\n\nprivate static final int METHODID_SEND_SMS_MESSAGE = 0;\n\nprivate static final class MethodHandlers&lt;Req, Resp&gt; implements\n    io.grpc.stub.ServerCalls.UnaryMethod&lt;Req, Resp&gt;,\n    io.grpc.stub.ServerCalls.ServerStreamingMethod&lt;Req, Resp&gt;,\n    io.grpc.stub.ServerCalls.ClientStreamingMethod&lt;Req, Resp&gt;,\n    io.grpc.stub.ServerCalls.BidiStreamingMethod&lt;Req, Resp&gt; {\n  private final SmsProxyAPIImplBase serviceImpl;\n  private final int methodId;\n\n  MethodHandlers(SmsProxyAPIImplBase serviceImpl, int methodId) {\n    this.serviceImpl = serviceImpl;\n    this.methodId = methodId;\n  }\n\n  @java.lang.Override\n  @java.lang.SuppressWarnings(&quot;unchecked&quot;)\n  public void invoke(Req request, io.grpc.stub.StreamObserver&lt;Resp&gt; responseObserver) {\n    switch (methodId) {\n      case METHODID_SEND_SMS_MESSAGE:\n        serviceImpl.sendSmsMessage((ird.ntp.be.sms.proto.SendSmsMessageRequest) request,\n            (io.grpc.stub.StreamObserver&lt;ird.ntp.be.sms.proto.SendSmsMessageResponse&gt;) responseObserver);\n        break;\n      default:\n        throw new AssertionError();\n    }\n  }\n\n  @java.lang.Override\n  @java.lang.SuppressWarnings(&quot;unchecked&quot;)\n  public io.grpc.stub.StreamObserver&lt;Req&gt; invoke(\n      io.grpc.stub.StreamObserver&lt;Resp&gt; responseObserver) {\n    switch (methodId) {\n      default:\n        throw new AssertionError();\n    }\n  }\n}\n\nprivate static abstract class SmsProxyAPIBaseDescriptorSupplier\n    implements io.grpc.protobuf.ProtoFileDescriptorSupplier, io.grpc.protobuf.ProtoServiceDescriptorSupplier {\n  SmsProxyAPIBaseDescriptorSupplier() {}\n\n  @java.lang.Override\n  public com.google.protobuf.Descriptors.FileDescriptor getFileDescriptor() {\n    return ird.ntp.be.sms.proto.SmsProxyServiceProto.getDescriptor();\n  }\n\n  @java.lang.Override\n  public com.google.protobuf.Descriptors.ServiceDescriptor getServiceDescriptor() {\n    return getFileDescriptor().findServiceByName(&quot;SmsProxyAPI&quot;);\n  }\n}\n\nprivate static final class SmsProxyAPIFileDescriptorSupplier\n    extends SmsProxyAPIBaseDescriptorSupplier {\n  SmsProxyAPIFileDescriptorSupplier() {}\n}\n\nprivate static final class SmsProxyAPIMethodDescriptorSupplier\n    extends SmsProxyAPIBaseDescriptorSupplier\n    implements io.grpc.protobuf.ProtoMethodDescriptorSupplier {\n  private final String methodName;\n\n  SmsProxyAPIMethodDescriptorSupplier(String methodName) {\n    this.methodName = methodName;\n  }\n\n  @java.lang.Override\n  public com.google.protobuf.Descriptors.MethodDescriptor getMethodDescriptor() {\n    return getServiceDescriptor().findMethodByName(methodName);\n  }\n}\n\nprivate static volatile io.grpc.ServiceDescriptor serviceDescriptor;\n\npublic static io.grpc.ServiceDescriptor getServiceDescriptor() {\n  io.grpc.ServiceDescriptor result = serviceDescriptor;\n  if (result == null) {\n    synchronized (SmsProxyAPIGrpc.class) {\n      result = serviceDescriptor;\n      if (result == null) {\n        serviceDescriptor = result = io.grpc.ServiceDescriptor.newBuilder(SERVICE_NAME)\n            .setSchemaDescriptor(new SmsProxyAPIFileDescriptorSupplier())\n            .addMethod(getSendSmsMessageMethod())\n            .build();\n      }\n    }\n  }\n  return result;\n}\n}\n</code></pre>\n<p>I need some help.\nWish you good luck and be rich</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692847399,"post_id":76965932,"comment_id":135680452,"body_markdown":"I cannot reproduce the problem as I understand it ([see here](https://godbolt.org/z/qfdPGf1de)).","body":"I cannot reproduce the problem as I understand it (<a href=\"https://godbolt.org/z/qfdPGf1de\" rel=\"nofollow noreferrer\">see here</a>)."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1692848986,"post_id":76965932,"comment_id":135680552,"body_markdown":"@Slaw [This could be a reproducer](https://godbolt.org/z/cK66cTM1G). Or something completely different. Don&#39;t know.","body":"@Slaw <a href=\"https://godbolt.org/z/cK66cTM1G\" rel=\"nofollow noreferrer\">This could be a reproducer</a>. Or something completely different. Don&#39;t know."},{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":0,"creation_date":1692878551,"post_id":76965932,"comment_id":135685403,"body_markdown":"@Slaw The problem is not about deserializing the array. It is about deserializing SomeRecord. Note that I have tried unsuccessfully to reproduce the problem using a simple test. In my simple test, SomeType elements of the list are correctly initialized.","body":"@Slaw The problem is not about deserializing the array. It is about deserializing SomeRecord. Note that I have tried unsuccessfully to reproduce the problem using a simple test. In my simple test, SomeType elements of the list are correctly initialized."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1693019006,"post_id":76965932,"comment_id":135708303,"body_markdown":"My code deserializes a record (not specifically named `SomeRecord`, but it&#39;s a record). The only explicit array in that code is a `byte[]`, which is the _serialized_ record that is then deserialized.","body":"My code deserializes a record (not specifically named <code>SomeRecord</code>, but it&#39;s a record). The only explicit array in that code is a <code>byte[]</code>, which is the <i>serialized</i> record that is then deserialized."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1693019183,"post_id":76965932,"comment_id":135708310,"body_markdown":"Note: The answer which brought up [circular references with records and their unique(?) behavior regarding Java serialization](https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html#serialization-of-records) was deleted by a mod. Just want to point out that seems to be the only case where the record component will be null despite it _not_ being null when the record was serialized. From some tests, the only time I could seemingly reproduce the OP&#39;s error is when a record referenced itself or if it had a circular reference with another object.","body":"Note: The answer which brought up <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/serialization/serial-arch.html#serialization-of-records\" rel=\"nofollow noreferrer\">circular references with records and their unique(?) behavior regarding Java serialization</a> was deleted by a mod. Just want to point out that seems to be the only case where the record component will be null despite it <i>not</i> being null when the record was serialized. From some tests, the only time I could seemingly reproduce the OP&#39;s error is when a record referenced itself or if it had a circular reference with another object."}],"answers":[{"comments":[{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":0,"creation_date":1692875620,"post_id":76966055,"comment_id":135684773,"body_markdown":"You are right about your P.S. I fixed the pseudo code.","body":"You are right about your P.S. I fixed the pseudo code."}],"tags":[],"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692847552,"creation_date":1692847552,"answer_id":76966055,"question_id":76965932,"body_markdown":"I&#39;m not sure I&#39;m completely following... how about a static creation method:\r\n```java\r\npublic static newSomeRecord(List&lt;SomeType&gt; list) {\r\n    validate(list);\r\n    return new SomeRecord(list);\r\n}\r\n```\r\nOr make the unused param do something:\r\n```java\r\npublic SomeRecord(List&lt;SomeType&gt; list, boolean shouldValidate) {\r\n    this(list);\r\n    if (shouldValidate) {\r\n        validate(list);\r\n    }\r\n}\r\n```\r\n__P.S.__  \r\nYour original class look like it wouldn&#39;t compile, since a non-compact constructor would have to explicitly do the assignment. Perhaps you meant the following:\r\n```java\r\nrecord SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\r\n    ...\r\n    public SomeRecord {\r\n        validate(list); // fails (null pointer exception)\r\n    }\r\n```","title":"Are Serialisable record canonical constructor limited in the validation they can perform?","body":"<p>I'm not sure I'm completely following... how about a static creation method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static newSomeRecord(List&lt;SomeType&gt; list) {\n    validate(list);\n    return new SomeRecord(list);\n}\n</code></pre>\n<p>Or make the unused param do something:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SomeRecord(List&lt;SomeType&gt; list, boolean shouldValidate) {\n    this(list);\n    if (shouldValidate) {\n        validate(list);\n    }\n}\n</code></pre>\n<p><strong>P.S.</strong><br />\nYour original class look like it wouldn't compile, since a non-compact constructor would have to explicitly do the assignment. Perhaps you meant the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\n    ...\n    public SomeRecord {\n        validate(list); // fails (null pointer exception)\n    }\n</code></pre>\n"}],"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692931414,"creation_date":1692844758,"question_id":76965932,"body_markdown":"I converted a class to a record and deserialization stopped working correctly because of the validation I perform in the canonical constructor. This validation assumes that the constructor parameters are fully constructed (deserialized).\r\n\r\n    record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\r\n  \t\t...\r\n     \tpublic SomeRecord {\r\n    \t\tvalidate(list); // fails (null pointer exception)\r\n    \t}\r\n    \r\n        private static void validate(List&lt;SomeType&gt; list) {\r\n    \t\t...\r\n        }\r\n    }\r\n\r\n\r\nIn the deserialization process, it seems that the SomeType elements in list are not fully constructed. My validation function fails because fields of the elements are all default initialised (0, false, null ...). To fix the problem, I created a new constructor with an extra unused parameter. This constructor validates the list.\r\n\r\n    record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\r\n  \t\t...\r\n     \tpublic SomeRecord(List&lt;SomeType&gt; list, boolean notUsed) {\r\n    \t\tthis(list);\r\n    \t\tvalidate(list);\r\n    \t}\r\n    \r\n        private static void validate(List&lt;SomeType&gt; list) {\r\n    \t\t...\r\n        }\r\n    }\r\n\r\nIt feel kind of clumsy to require an extra unused parameter to get a working solution. Is there another way to work around this problem?\r\n","title":"Are Serialisable record canonical constructor limited in the validation they can perform?","body":"<p>I converted a class to a record and deserialization stopped working correctly because of the validation I perform in the canonical constructor. This validation assumes that the constructor parameters are fully constructed (deserialized).</p>\n<pre><code>record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\n    ...\n    public SomeRecord {\n        validate(list); // fails (null pointer exception)\n    }\n\n    private static void validate(List&lt;SomeType&gt; list) {\n        ...\n    }\n}\n</code></pre>\n<p>In the deserialization process, it seems that the SomeType elements in list are not fully constructed. My validation function fails because fields of the elements are all default initialised (0, false, null ...). To fix the problem, I created a new constructor with an extra unused parameter. This constructor validates the list.</p>\n<pre><code>record SomeRecord(List&lt;SomeType&gt; list) implements Serializable, ... {\n    ...\n    public SomeRecord(List&lt;SomeType&gt; list, boolean notUsed) {\n        this(list);\n        validate(list);\n    }\n\n    private static void validate(List&lt;SomeType&gt; list) {\n        ...\n    }\n}\n</code></pre>\n<p>It feel kind of clumsy to require an extra unused parameter to get a working solution. Is there another way to work around this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1692774797,"post_id":76951039,"comment_id":135668589,"body_markdown":"`any` does not match `null`, could that be the problem?","body":"<code>any</code> does not match <code>null</code>, could that be the problem?"}],"answers":[{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692930723,"creation_date":1692908974,"answer_id":76972739,"question_id":76951039,"body_markdown":"I have had a similar problem with mocking a static method, there are a number of gotchas. I am using Junit 5, it is possible to have both Junit 5 and Junit 4 tests in the same project. (IntelliJ Idea asks what kind of test to create, you just select Junit 4 or Junit 5, and it works in either case.)\r\n\r\nAs I understand, that &quot;You cannot use argument matchers outside of verification or stubbing&quot; message is shown whenever mockito fails to find something for whatever reason. The &quot;one-fits-all&quot; error message may be very irrelevant and very confusing.\r\n\r\n1) Specify `mockito-inline` in _build.gradle_, preferably the latest version:\r\n```\r\ndependencies {\r\n    ...\r\n    testImplementation group: &#39;org.mockito&#39;, name: &#39;mockito-inline&#39;, version: &#39;5.2.0&#39;\r\n    ...\r\n}\r\n```\r\n\r\n2) You have to use try-with-resources to create a mock for the class that defines a static method. The mock has to be &quot;closed&quot; after the test, and try-with-resources &quot;closes&quot; it. (See how `theMock` is used in the code below.)\r\n\r\n3) If a static method is inherited, it may look like there is no difference whether you use the base class name or the derived class name. In fact, there _is_ a difference: you must mock the class that _defines_ the static method rather than the class that _inherits_ it. (See `FooReaderBase` in the code below.)\r\n\r\n4) Use `any(MyClass.class)` instead of just `any()`\r\n\r\n5) Note how `readUrl()` is invoked in the code below. It is mocked explicitly, but invoked, well, somewhere in the called code. (See `ft` and `loadByNumber()`).\r\n\r\n6) In the code below we use `verify()` to make sure that the network query is made only once (it _is_ important that network queries do not repeat unnecessarily).\r\n\r\n7) One may argue that the example code must be refactored, that `readUrl()` must be defined in an interface, and `FooReaderBase` must implement that interface, and (optionally) `FooReader` must own a link to `FooReaderBase` rather than inherit from it. We would have singleton beans instead layers of static methods. Which approach to modularity should be preferred? It depends. A small project may have an implied non-functional requirement to be small (it may even be a shebang script), you may have no time to refactor the existing code, etc.\r\n\r\nWe want to test the following code:\r\n```\r\n    class FooReaderBase {\r\n        ...\r\n        static String readUrl(URL url) { ... }\r\n        // in tests, we must mock readUrl()\r\n        // because we do not want our tests to send queries via network\r\n    }\r\n\r\n    class FooReader extends FooReaderBase {\r\n        // inherits rather than defines readUrl()\r\n        ...\r\n        static MyDataStructure loadFoo(...) {\r\n            URL url = ...;\r\n            var jsonString = readUrl(url);\r\n            ...\r\n        }\r\n    }\r\n\r\n    class FooTraverser {\r\n        void loadByNumber(int n) {\r\n            ...\r\n            FooReader.loadFoo(...);\r\n            ...\r\n        }\r\n        // we want to test loadByNumber()\r\n    }\r\n\r\n```\r\nAnd the test is:\r\n```\r\nclass FooTraverserTest {\r\n    static final String jsonReply = &quot;{....}&quot;;\r\n\r\n    @Test\r\n    void loadByNumberTest() {\r\n        var ft = new FooTraverser();\r\n        try (\r\n            MockedStatic&lt;FooReaderBase&gt; theMock =\r\n                        Mockito.mockStatic(FooReaderBase.class)\r\n        ) {\r\n            theMock.when(\r\n                       () -&gt; FooReaderBase.readUrl(any(URL.class))\r\n                   )\r\n                   .thenReturn(jsonReply);\r\n\r\n            ft.loadByNumber(100);\r\n\r\n            assertEquals(...);\r\n            theMock.verify(\r\n                        () -&gt; FooReaderBase.readUrl(any(URL.class)),\r\n                        times(1)\r\n            ); // URL must be read only once!\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"Unable to Mock Static Method Using PowerMock with &#39;any()&#39; Argument Matchers","body":"<p>I have had a similar problem with mocking a static method, there are a number of gotchas. I am using Junit 5, it is possible to have both Junit 5 and Junit 4 tests in the same project. (IntelliJ Idea asks what kind of test to create, you just select Junit 4 or Junit 5, and it works in either case.)</p>\n<p>As I understand, that &quot;You cannot use argument matchers outside of verification or stubbing&quot; message is shown whenever mockito fails to find something for whatever reason. The &quot;one-fits-all&quot; error message may be very irrelevant and very confusing.</p>\n<ol>\n<li>Specify <code>mockito-inline</code> in <em>build.gradle</em>, preferably the latest version:</li>\n</ol>\n<pre><code>dependencies {\n    ...\n    testImplementation group: 'org.mockito', name: 'mockito-inline', version: '5.2.0'\n    ...\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>You have to use try-with-resources to create a mock for the class that defines a static method. The mock has to be &quot;closed&quot; after the test, and try-with-resources &quot;closes&quot; it. (See how <code>theMock</code> is used in the code below.)</p>\n</li>\n<li><p>If a static method is inherited, it may look like there is no difference whether you use the base class name or the derived class name. In fact, there <em>is</em> a difference: you must mock the class that <em>defines</em> the static method rather than the class that <em>inherits</em> it. (See <code>FooReaderBase</code> in the code below.)</p>\n</li>\n<li><p>Use <code>any(MyClass.class)</code> instead of just <code>any()</code></p>\n</li>\n<li><p>Note how <code>readUrl()</code> is invoked in the code below. It is mocked explicitly, but invoked, well, somewhere in the called code. (See <code>ft</code> and <code>loadByNumber()</code>).</p>\n</li>\n<li><p>In the code below we use <code>verify()</code> to make sure that the network query is made only once (it <em>is</em> important that network queries do not repeat unnecessarily).</p>\n</li>\n<li><p>One may argue that the example code must be refactored, that <code>readUrl()</code> must be defined in an interface, and <code>FooReaderBase</code> must implement that interface, and (optionally) <code>FooReader</code> must own a link to <code>FooReaderBase</code> rather than inherit from it. We would have singleton beans instead layers of static methods. Which approach to modularity should be preferred? It depends. A small project may have an implied non-functional requirement to be small (it may even be a shebang script), you may have no time to refactor the existing code, etc.</p>\n</li>\n</ol>\n<p>We want to test the following code:</p>\n<pre><code>    class FooReaderBase {\n        ...\n        static String readUrl(URL url) { ... }\n        // in tests, we must mock readUrl()\n        // because we do not want our tests to send queries via network\n    }\n\n    class FooReader extends FooReaderBase {\n        // inherits rather than defines readUrl()\n        ...\n        static MyDataStructure loadFoo(...) {\n            URL url = ...;\n            var jsonString = readUrl(url);\n            ...\n        }\n    }\n\n    class FooTraverser {\n        void loadByNumber(int n) {\n            ...\n            FooReader.loadFoo(...);\n            ...\n        }\n        // we want to test loadByNumber()\n    }\n\n</code></pre>\n<p>And the test is:</p>\n<pre><code>class FooTraverserTest {\n    static final String jsonReply = &quot;{....}&quot;;\n\n    @Test\n    void loadByNumberTest() {\n        var ft = new FooTraverser();\n        try (\n            MockedStatic&lt;FooReaderBase&gt; theMock =\n                        Mockito.mockStatic(FooReaderBase.class)\n        ) {\n            theMock.when(\n                       () -&gt; FooReaderBase.readUrl(any(URL.class))\n                   )\n                   .thenReturn(jsonReply);\n\n            ft.loadByNumber(100);\n\n            assertEquals(...);\n            theMock.verify(\n                        () -&gt; FooReaderBase.readUrl(any(URL.class)),\n                        times(1)\n            ); // URL must be read only once!\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29273112,"reputation":1,"user_id":22427445,"display_name":"jaman lin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692930723,"creation_date":1692689820,"question_id":76951039,"body_markdown":"I am currently facing an issue while using the PowerMock framework to mock static methods in my unit tests.\r\n\r\nHere is the static method I am trying to mock:\r\n\r\n```java\r\npublic static AssetNav calcMarginNav(NavContext navContext, Integer model, int moneyType) {\r\n    // method body...\r\n}\r\n```\r\n\r\nWhen I attempt to mock this static method using PowerMock&#39;s `when()` method with `any()` argument matchers, like this:\r\n\r\n```java\r\nPowerMockito.mockStatic(NavBuilder.class);\r\nPowerMockito.when(NavBuilder.calcMarginNav(any(NavContext.class), anyInt(), anyInt())).thenReturn(mockAssetNav);\r\n```\r\n\r\nThe mocking does not work; it always returns null during test execution. However, when I specify the exact argument values in the `when()` method:\r\n\r\n```java\r\nNavContext navContext = new NavContext();\r\nPowerMockito.mockStatic(NavBuilder.class);\r\nPowerMockito.when(NavBuilder.calcMarginNav(navContext, 2, 2)).thenReturn(mockAssetNav);\r\n```\r\n\r\nThe mocking works as expected.\r\n\r\nIt appears that PowerMock requires precise argument matching in order to correctly mock the static method. \r\n\r\nThis poses a problem because, for my set of test cases, I cannot predict exact argument values ahead of time, hence the need to use `any()` matchers.\r\n\r\nDoes anyone know how can I mock the static method without providing the exact arguments? Are there alternatives or workarounds to this problem?\r\n\r\nAny help would be greatly appreciated. Thanks!","title":"Unable to Mock Static Method Using PowerMock with &#39;any()&#39; Argument Matchers","body":"<p>I am currently facing an issue while using the PowerMock framework to mock static methods in my unit tests.</p>\n<p>Here is the static method I am trying to mock:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static AssetNav calcMarginNav(NavContext navContext, Integer model, int moneyType) {\n    // method body...\n}\n</code></pre>\n<p>When I attempt to mock this static method using PowerMock's <code>when()</code> method with <code>any()</code> argument matchers, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PowerMockito.mockStatic(NavBuilder.class);\nPowerMockito.when(NavBuilder.calcMarginNav(any(NavContext.class), anyInt(), anyInt())).thenReturn(mockAssetNav);\n</code></pre>\n<p>The mocking does not work; it always returns null during test execution. However, when I specify the exact argument values in the <code>when()</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NavContext navContext = new NavContext();\nPowerMockito.mockStatic(NavBuilder.class);\nPowerMockito.when(NavBuilder.calcMarginNav(navContext, 2, 2)).thenReturn(mockAssetNav);\n</code></pre>\n<p>The mocking works as expected.</p>\n<p>It appears that PowerMock requires precise argument matching in order to correctly mock the static method.</p>\n<p>This poses a problem because, for my set of test cases, I cannot predict exact argument values ahead of time, hence the need to use <code>any()</code> matchers.</p>\n<p>Does anyone know how can I mock the static method without providing the exact arguments? Are there alternatives or workarounds to this problem?</p>\n<p>Any help would be greatly appreciated. Thanks!</p>\n"},{"tags":["java","java-7","apple-m1"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":8,"creation_date":1669030265,"post_id":74518207,"comment_id":131542344,"body_markdown":"I think the actual risk is running on a old unsupported JVM that has no security patches for several years now.","body":"I think the actual risk is running on a old unsupported JVM that has no security patches for several years now."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1669030504,"post_id":74518207,"comment_id":131542416,"body_markdown":"I know it&#39;s not the answer you&#39;re looking for, but migrating a non-trivial app from Java 7 directly to Java 11 was, for me, one of the least painful migrations I&#39;ve ever done.","body":"I know it&#39;s not the answer you&#39;re looking for, but migrating a non-trivial app from Java 7 directly to Java 11 was, for me, one of the least painful migrations I&#39;ve ever done."},{"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"score":0,"creation_date":1669030887,"post_id":74518207,"comment_id":131542530,"body_markdown":"This app is Grails 2.0.3 and makes extensive use of GORM. Would need to get it to Grails 2.5.6 for Java 8. All kinds of stuff will break and there aren&#39;t a lot of tests :(","body":"This app is Grails 2.0.3 and makes extensive use of GORM. Would need to get it to Grails 2.5.6 for Java 8. All kinds of stuff will break and there aren&#39;t a lot of tests :("},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669049005,"post_id":74518207,"comment_id":131549379,"body_markdown":"Java Almanac [says “no”](https://javaalmanac.io/jdk/7/). Well,  at least not running natively (arm64, aarch64). You may be able to run the x64 edition of Java 7 on Apple Silicon via [*Rosetta 2*](https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2). But I too strongly recommend you try migrating your app and its dependencies to Java 17, Java 11, or Java 8. Migration may go easier than you fear.","body":"Java Almanac <a href=\"https://javaalmanac.io/jdk/7/\" rel=\"nofollow noreferrer\">says “no”</a>. Well,  at least not running natively (arm64, aarch64). You may be able to run the x64 edition of Java 7 on Apple Silicon via <a href=\"https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2\" rel=\"nofollow noreferrer\"><i>Rosetta 2</i></a>. But I too strongly recommend you try migrating your app and its dependencies to Java 17, Java 11, or Java 8. Migration may go easier than you fear."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1669049231,"post_id":74518207,"comment_id":131549456,"body_markdown":"Voting to re-open. The “seeking recommendations” reason for closure is meant to avoid silly endless debates such as “Which IDE is best?”. That is not the case here.","body":"Voting to re-open. The “seeking recommendations” reason for closure is meant to avoid silly endless debates such as “Which IDE is best?”. That is not the case here."}],"answers":[{"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669048400,"creation_date":1669030199,"answer_id":74518229,"question_id":74518207,"body_markdown":"The M1 official support starts at Java 17 AFAIR (surely newer version than Java 11), however you can use [*Rosetta 2*][1] to run it on your machine\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2","title":"Is Java 7 available for M1 Mac?","body":"<p>The M1 official support starts at Java 17 AFAIR (surely newer version than Java 11), however you can use <a href=\"https://en.m.wikipedia.org/wiki/Rosetta_(software)#Rosetta_2\" rel=\"nofollow noreferrer\"><em>Rosetta 2</em></a> to run it on your machine</p>\n"},{"tags":[],"owner":{"account_id":11700232,"reputation":187,"user_id":8565639,"display_name":"Artur Todeschini"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692929950,"creation_date":1692929950,"answer_id":76973892,"question_id":74518207,"body_markdown":"I have Mac m2 chip\r\n\r\nI use iReport, try to dowload and install jdk1.7 for x86_64 for Mac, believe me it&#39;s work.\r\n\r\nTo see all the installed JDK use the command in the terminal\r\n\r\n/usr/libexec/java_home -V\r\n\r\nI&#39;ve used version .zip not .dmg for iRepor\r\n\r\nOf course, you need to set in &lt;PAHT you extract iReport&gt;/etc/ireport.conf your jdkhome.","title":"Is Java 7 available for M1 Mac?","body":"<p>I have Mac m2 chip</p>\n<p>I use iReport, try to dowload and install jdk1.7 for x86_64 for Mac, believe me it's work.</p>\n<p>To see all the installed JDK use the command in the terminal</p>\n<p>/usr/libexec/java_home -V</p>\n<p>I've used version .zip not .dmg for iRepor</p>\n<p>Of course, you need to set in /etc/ireport.conf your jdkhome.</p>\n"}],"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1306,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1692929950,"creation_date":1669030093,"question_id":74518207,"body_markdown":"Is there a Java 7 binary release for Apple Silicon available anywhere? I have an old app to maintain and getting that to run on Java 8 would be a really risky exercise.","title":"Is Java 7 available for M1 Mac?","body":"<p>Is there a Java 7 binary release for Apple Silicon available anywhere? I have an old app to maintain and getting that to run on Java 8 would be a really risky exercise.</p>\n"},{"tags":["java","hadoop","mapreduce","hdfs","cloudera-quickstart-vm"],"comments":[{"owner":{"account_id":2850838,"reputation":1053,"user_id":2452417,"accept_rate":100,"display_name":"Azim"},"score":0,"creation_date":1478703077,"post_id":40447341,"comment_id":68261450,"body_markdown":"I have been using cloudera VM but never observed this issue. Just once again, can you please confirm that this warning comes while storing the file inside HDFS or during Job execution? Did you try running the same Job with some other different file? \n\nOr maybe can try this command: hdfs fsck &lt;file_name&gt; -files -blocks -locations -racks to see whether there is any issue from HDFS storage.","body":"I have been using cloudera VM but never observed this issue. Just once again, can you please confirm that this warning comes while storing the file inside HDFS or during Job execution? Did you try running the same Job with some other different file?   Or maybe can try this command: hdfs fsck &lt;file_name&gt; -files -blocks -locations -racks to see whether there is any issue from HDFS storage."},{"owner":{"account_id":5254221,"reputation":125,"user_id":4197529,"display_name":"Ramkrushna26"},"score":0,"creation_date":1478880837,"post_id":40447341,"comment_id":68342228,"body_markdown":"16/11/11 07:18:38 INFO mapreduce.ImportJobBase: Beginning import of products 16/11/11 07:18:38 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address 16/11/11 07:18:39 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar 16/11/11 07:18:41 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps 16/11/11 07:18:41 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032---&gt; after this, above error occurs 6 times in row.. before execution of job..HDFS luks gud","body":"16/11/11 07:18:38 INFO mapreduce.ImportJobBase: Beginning import of products 16/11/11 07:18:38 INFO Configuration.deprecation: mapred.job.tracker is deprecated. Instead, use mapreduce.jobtracker.address 16/11/11 07:18:39 INFO Configuration.deprecation: mapred.jar is deprecated. Instead, use mapreduce.job.jar 16/11/11 07:18:41 INFO Configuration.deprecation: mapred.map.tasks is deprecated. Instead, use mapreduce.job.maps 16/11/11 07:18:41 INFO client.RMProxy: Connecting to ResourceManager at /0.0.0.0:8032---&gt; after this, above error occurs 6 times in row.. before execution of job..HDFS luks gud"}],"owner":{"account_id":5254221,"reputation":125,"user_id":4197529,"display_name":"Ramkrushna26"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692928976,"creation_date":1478420748,"question_id":40447341,"body_markdown":"When I am running any MapReduce job in Cloudera VM, below warning is occurring 4-5 times in continues manner. Please let me know how to fix it.  \r\n\r\n\r\n    16/11/06 00:47:38 WARN hdfs.DFSClient: Caught exception  \r\n    java.lang.InterruptedException  \r\n    at java.lang.Object.wait(Native Method)  \r\n    at java.lang.Thread.join(Thread.java:1281)  \r\n    at java.lang.Thread.join(Thread.java:1355)  \r\n    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)  \r\n    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)  \r\n    at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)  \r\n\r\nOccurring in the middle of the execution of sqoop jobs created. But not when hive job get executed.","title":"Hadoop: MapReduce job giving java library error","body":"<p>When I am running any MapReduce job in Cloudera VM, below warning is occurring 4-5 times in continues manner. Please let me know how to fix it.  </p>\n\n<pre><code>16/11/06 00:47:38 WARN hdfs.DFSClient: Caught exception  \njava.lang.InterruptedException  \nat java.lang.Object.wait(Native Method)  \nat java.lang.Thread.join(Thread.java:1281)  \nat java.lang.Thread.join(Thread.java:1355)  \nat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.closeResponder(DFSOutputStream.java:862)  \nat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.endBlock(DFSOutputStream.java:600)  \nat org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:789)  \n</code></pre>\n\n<p>Occurring in the middle of the execution of sqoop jobs created. But not when hive job get executed.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1460935862,"post_id":36683330,"comment_id":60956299,"body_markdown":"Your code is working properly. Are you experiencing an error?","body":"Your code is working properly. Are you experiencing an error?"},{"owner":{"account_id":8269111,"reputation":19,"user_id":6217454,"display_name":"Diane"},"score":0,"creation_date":1460936041,"post_id":36683330,"comment_id":60956333,"body_markdown":"It is? Yes I was getting an error. JGrasp said It is? Yes I was getting an error. JGrasp said     \n ----jGRASP exec: javac -g readDecimal.java\nreadDecimal.java:13: error: illegal character: &#39;\\u201c&#39;\n\tSystem.out.println(&#244;Please enter a decimal number: &#244;);\n\t                   ^\nreadDecimal.java:13: error: &#39;;&#39; expected\n\tSystem.out.println(&#244;Please enter a decimal number: &#244;);\n\t                    ^\nreadDecimal.java:13: error: &#39;;&#39; expected\n\tSystem.out.println(&#244;Please enter a decimal number: &#244;);","body":"It is? Yes I was getting an error. JGrasp said It is? Yes I was getting an error. JGrasp said       ----jGRASP exec: javac -g readDecimal.java readDecimal.java:13: error: illegal character: &#39;\\u201c&#39; \tSystem.out.println(&#244;Please enter a decimal number: &#244;); \t                   ^ readDecimal.java:13: error: &#39;;&#39; expected \tSystem.out.println(&#244;Please enter a decimal number: &#244;); \t                    ^ readDecimal.java:13: error: &#39;;&#39; expected \tSystem.out.println(&#244;Please enter a decimal number: &#244;);"},{"owner":{"account_id":8269111,"reputation":19,"user_id":6217454,"display_name":"Diane"},"score":0,"creation_date":1460936267,"post_id":36683330,"comment_id":60956374,"body_markdown":"wow I bet you cant even read that, lol.","body":"wow I bet you cant even read that, lol."},{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1460936371,"post_id":36683330,"comment_id":60956399,"body_markdown":"I see what the issue is. Try changing your “ characters to &quot;.","body":"I see what the issue is. Try changing your “ characters to &quot;."},{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1460937295,"post_id":36683330,"comment_id":60956574,"body_markdown":"Note: If you ever need to find out what `\\uxxxx` means for some 4-digit hex number `xxxx`, go to [this link](https://en.wikipedia.org/wiki/Unicode#Code_point_planes_and_blocks) which has links to pages for Unicode characters.  In you&#39;re case, you&#39;d look at the 2000-2FFF link.","body":"Note: If you ever need to find out what <code>\\uxxxx</code> means for some 4-digit hex number <code>xxxx</code>, go to <a href=\"https://en.wikipedia.org/wiki/Unicode#Code_point_planes_and_blocks\" rel=\"nofollow noreferrer\">this link</a> which has links to pages for Unicode characters.  In you&#39;re case, you&#39;d look at the 2000-2FFF link."}],"answers":[{"tags":[],"owner":{"account_id":5715254,"reputation":2865,"user_id":4515720,"accept_rate":75,"display_name":"Evan Bechtol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460936494,"creation_date":1460936494,"answer_id":36683443,"question_id":36683330,"body_markdown":"Your quotation marks are incorrect; they are unicode for some reason. Replace all the quotations by manual typing them in, in you `System.out.println` statements.\r\n\r\n\r\n      public static void main(String args[]) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        double decimalNumber;\r\n        long intNumber;\r\n\r\n        System.out.println(&quot;Please enter a decimal number:&quot;);\r\n        decimalNumber = input.nextDouble();\r\n\r\n        intNumber = Math.round(decimalNumber);\r\n\r\n        System.out.println(decimalNumber +\r\n                &quot; rounded to the nearest integer is &quot; + intNumber);\r\n\r\n    }","title":"Simple Java way to input decimal and round to nearest integer","body":"<p>Your quotation marks are incorrect; they are unicode for some reason. Replace all the quotations by manual typing them in, in you <code>System.out.println</code> statements.</p>\n\n<pre><code>  public static void main(String args[]) {\n    Scanner input = new Scanner(System.in);\n\n    double decimalNumber;\n    long intNumber;\n\n    System.out.println(\"Please enter a decimal number:\");\n    decimalNumber = input.nextDouble();\n\n    intNumber = Math.round(decimalNumber);\n\n    System.out.println(decimalNumber +\n            \" rounded to the nearest integer is \" + intNumber);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14206001,"reputation":1,"user_id":10262504,"display_name":"user10262504"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534993128,"creation_date":1534991729,"answer_id":51977604,"question_id":36683330,"body_markdown":"You can round double numbers using Math.round method.\r\n\r\n    import java.util.*;\r\n\r\n    public class RoundingDecimal {\r\n    \r\n        public static void main(String args[]) {\r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            double num1;\r\n            double num2;\r\n    \r\n            System.out.print(&quot;Please enter a decimal number: &quot;);\r\n            num1 = sc.nextDouble();\r\n    \r\n            num2 = Math.round(num1);\r\n    \r\n            System.out.println(&quot; Rounded to the nearest integer is &quot; + num2);    \r\n        }\r\n    }","title":"Simple Java way to input decimal and round to nearest integer","body":"<p>You can round double numbers using Math.round method.</p>\n\n<pre><code>import java.util.*;\n\npublic class RoundingDecimal {\n\n    public static void main(String args[]) {\n        Scanner sc = new Scanner(System.in);\n\n        double num1;\n        double num2;\n\n        System.out.print(\"Please enter a decimal number: \");\n        num1 = sc.nextDouble();\n\n        num2 = Math.round(num1);\n\n        System.out.println(\" Rounded to the nearest integer is \" + num2);    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8269111,"reputation":19,"user_id":6217454,"display_name":"Diane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4131,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1692928951,"creation_date":1460935660,"question_id":36683330,"body_markdown":"I am using the Java SDK to compile. Need I say, I am a beginner.\r\nHere is the code I tried to use to &quot;Ask user to input decimal and code should output an integer. (round to nearest integer)\r\n\r\n    import java.util.*;\r\n\r\n    public class readDecimal {\r\n    \r\n        public static void main(String args[]) {\r\n            Scanner input = new Scanner(System.in);\r\n    \r\n            double decimalNumber;\r\n            long intNumber;\r\n    \r\n            System.out.println(“Please enter a decimal number:“);\r\n            decimalNumber = input.nextDouble();\r\n    \r\n            intNumber = Math.round(decimalNumber);\r\n    \r\n            System.out.println(decimalNumber +\r\n                    “ rounded to the nearest integer is “ + intNumber);\r\n    \r\n        }\r\n    }\r\n\r\nWhat am I doing wrong? I saw the other posts however they seem much to complicated for a beginner. Can you please help?\r\nThank you,\r\nDiane","title":"Simple Java way to input decimal and round to nearest integer","body":"<p>I am using the Java SDK to compile. Need I say, I am a beginner.\nHere is the code I tried to use to \"Ask user to input decimal and code should output an integer. (round to nearest integer)</p>\n\n<pre><code>import java.util.*;\n\npublic class readDecimal {\n\n    public static void main(String args[]) {\n        Scanner input = new Scanner(System.in);\n\n        double decimalNumber;\n        long intNumber;\n\n        System.out.println(“Please enter a decimal number:“);\n        decimalNumber = input.nextDouble();\n\n        intNumber = Math.round(decimalNumber);\n\n        System.out.println(decimalNumber +\n                “ rounded to the nearest integer is “ + intNumber);\n\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong? I saw the other posts however they seem much to complicated for a beginner. Can you please help?\nThank you,\nDiane</p>\n"},{"tags":["java","android","android-recyclerview","android-nestedscrollview"],"comments":[{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":0,"creation_date":1497588109,"post_id":44580892,"comment_id":76150101,"body_markdown":"try `recyclerView.setNestedScrollingEnabled(false);`","body":"try <code>recyclerView.setNestedScrollingEnabled(false);</code>"},{"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"score":0,"creation_date":1497588515,"post_id":44580892,"comment_id":76150214,"body_markdown":"yes I have tried it, its not working, as I said, there is no problem with the scrolling","body":"yes I have tried it, its not working, as I said, there is no problem with the scrolling"},{"owner":{"account_id":8973677,"reputation":1291,"user_id":6691311,"accept_rate":50,"display_name":"singh.indolia"},"score":0,"creation_date":1497588593,"post_id":44580892,"comment_id":76150238,"body_markdown":"Please show your java code, where you are fetching data from database and you are populating that data into your layout.","body":"Please show your java code, where you are fetching data from database and you are populating that data into your layout."},{"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"score":0,"creation_date":1497588865,"post_id":44580892,"comment_id":76150318,"body_markdown":"The database query is being executed on a new IO thread, and the data is being passed to the main thread, then the list is being passed to the recycler adapter, as I said there is no problem when I remove the nested scroll view!","body":"The database query is being executed on a new IO thread, and the data is being passed to the main thread, then the list is being passed to the recycler adapter, as I said there is no problem when I remove the nested scroll view!"},{"owner":{"account_id":3407501,"reputation":617,"user_id":2858237,"accept_rate":57,"display_name":"Zohaib Akram"},"score":0,"creation_date":1499324550,"post_id":44580892,"comment_id":76859478,"body_markdown":"@Gurleen Sethi Have you found any solution ?","body":"@Gurleen Sethi Have you found any solution ?"},{"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"score":6,"creation_date":1499494069,"post_id":44580892,"comment_id":76941108,"body_markdown":"The problem is when you inflate recycler view inside a nested scroll view, it start inflating a view for every item, so if you have 500 items in your recycler adapter then it will create 500 item layout which causes the sudden unresponsiveness, what I did is removed the nested scroll layout, haven&#39;t found any solution that can make nested scroll view work with recycler view in case of large amount of data.","body":"The problem is when you inflate recycler view inside a nested scroll view, it start inflating a view for every item, so if you have 500 items in your recycler adapter then it will create 500 item layout which causes the sudden unresponsiveness, what I did is removed the nested scroll layout, haven&#39;t found any solution that can make nested scroll view work with recycler view in case of large amount of data."}],"answers":[{"comments":[{"owner":{"account_id":6444345,"reputation":591,"user_id":4993283,"display_name":"배준모"},"score":1,"creation_date":1497590152,"post_id":44581288,"comment_id":76150756,"body_markdown":"because  root view NestedScrollView, recyclerview height is infinity","body":"because  root view NestedScrollView, recyclerview height is infinity"},{"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"score":4,"creation_date":1497592797,"post_id":44581288,"comment_id":76151759,"body_markdown":"So how can we overcome this problem?","body":"So how can we overcome this problem?"},{"owner":{"account_id":6444345,"reputation":591,"user_id":4993283,"display_name":"배준모"},"score":0,"creation_date":1497595749,"post_id":44581288,"comment_id":76153196,"body_markdown":"? find another way. use https://github.com/martijnvdwoude/recycler-view-merge-adapter","body":"? find another way. use <a href=\"https://github.com/martijnvdwoude/recycler-view-merge-adapter\" rel=\"nofollow noreferrer\">github.com/martijnvdwoude/recycler-view-merge-adapter</a>"},{"owner":{"account_id":6444345,"reputation":591,"user_id":4993283,"display_name":"배준모"},"score":3,"creation_date":1497595780,"post_id":44581288,"comment_id":76153224,"body_markdown":"dont RecyclerView in NestedScrollView","body":"dont RecyclerView in NestedScrollView"},{"owner":{"account_id":6444345,"reputation":591,"user_id":4993283,"display_name":"배준모"},"score":2,"creation_date":1497595841,"post_id":44581288,"comment_id":76153260,"body_markdown":"or &lt;android.support.v7.widget.RecyclerView\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;500dp&quot;\n                    android:orientation=&quot;vertical&quot;&gt;","body":"or &lt;android.support.v7.widget.RecyclerView                     android:layout_width=&quot;wrap_content&quot;                     android:layout_height=&quot;500dp&quot;                     android:orientation=&quot;vertical&quot;&gt;"},{"owner":{"account_id":6444345,"reputation":591,"user_id":4993283,"display_name":"배준모"},"score":0,"creation_date":1497595866,"post_id":44581288,"comment_id":76153270,"body_markdown":"recyclerview height fix","body":"recyclerview height fix"},{"owner":{"account_id":229045,"reputation":3208,"user_id":491739,"accept_rate":76,"display_name":"lost baby"},"score":0,"creation_date":1500740903,"post_id":44581288,"comment_id":77477104,"body_markdown":"@배준모   When I try that fix -- android:layout_height=&quot;500dp&quot; -- with recycler.setNestedScrollingEnabled(false); then what happens is that the recyclerview never scrolls to show more data than what appears initially.     But if I remove that method call it works right - it loads the data as a recyclerview should - bit by bit as needed. Scrolling may not be as smooth  but in landscape mode my recyclerview is not even visible so I need whole fragment to scroll up.","body":"@배준모   When I try that fix -- android:layout_height=&quot;500dp&quot; -- with recycler.setNestedScrollingEnabled(false); then what happens is that the recyclerview never scrolls to show more data than what appears initially.     But if I remove that method call it works right - it loads the data as a recyclerview should - bit by bit as needed. Scrolling may not be as smooth  but in landscape mode my recyclerview is not even visible so I need whole fragment to scroll up."},{"owner":{"account_id":6083808,"reputation":2163,"user_id":4748607,"display_name":"Nirav Bhavsar"},"score":0,"creation_date":1592041129,"post_id":44581288,"comment_id":110285615,"body_markdown":"@배준모, Thanks dude, it saves lot of my time!","body":"@배준모, Thanks dude, it saves lot of my time!"}],"tags":[],"owner":{"account_id":6444345,"reputation":591,"user_id":4993283,"display_name":"배준모"},"comment_count":8,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1510241580,"creation_date":1497590049,"answer_id":44581288,"question_id":44580892,"body_markdown":"This case of `RecyclerView` inside `NestedScrollView`.\r\n\r\n`RecyclerView` is calling `onCreateViewHolder()` times equal to your data size.\r\n\r\nIf data has 200 items, it freezes for `onCreateViewHolder()` to be called 200 times.","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>This case of <code>RecyclerView</code> inside <code>NestedScrollView</code>.</p>\n\n<p><code>RecyclerView</code> is calling <code>onCreateViewHolder()</code> times equal to your data size.</p>\n\n<p>If data has 200 items, it freezes for <code>onCreateViewHolder()</code> to be called 200 times.</p>\n"},{"comments":[{"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"score":4,"creation_date":1497592766,"post_id":44581335,"comment_id":76151745,"body_markdown":"Scrolling is not the issue, the issue is that activity freezes for a couple of seconds, when it loads completely it scrolls flawlessly, I use the setNestedScrollingEnabled(false) options always, but no win with that!","body":"Scrolling is not the issue, the issue is that activity freezes for a couple of seconds, when it loads completely it scrolls flawlessly, I use the setNestedScrollingEnabled(false) options always, but no win with that!"},{"owner":{"account_id":7465996,"reputation":1866,"user_id":5675550,"accept_rate":77,"display_name":"viper"},"score":1,"creation_date":1502168029,"post_id":44581335,"comment_id":78078389,"body_markdown":"@GurleenSethi have you found any solution for this yet? I am facing the same problem now.","body":"@GurleenSethi have you found any solution for this yet? I am facing the same problem now."}],"tags":[],"owner":{"account_id":10533627,"reputation":143,"user_id":7762222,"display_name":"Darsy"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1497590276,"creation_date":1497590276,"answer_id":44581335,"question_id":44580892,"body_markdown":"As said by Nancy , recyclerview.setNestedScrollingEnabled(false); will solve scroll stuck issue. i too faced this type of issue and solved by false the NestedScroll.","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>As said by Nancy , recyclerview.setNestedScrollingEnabled(false); will solve scroll stuck issue. i too faced this type of issue and solved by false the NestedScroll.</p>\n"},{"tags":[],"owner":{"account_id":5911588,"reputation":151,"user_id":4651659,"display_name":"ilaimihar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585489906,"creation_date":1585489906,"answer_id":60915165,"question_id":44580892,"body_markdown":"The problem as said above is because RecyclerView as a child or subChild in NestedScrollView measures its height as infinitive when you use WRAP_CONTENT or MATCH_PARENT for height of RecyclerView.\r\n\r\none solution that solved this problem for me was setting the RecyclerView Height to a fixed size. you could set height to a dp value, or you could set it to a pixel value matching devices height if your requirements needs a vertical infinitive RecyclerView.\r\n\r\nhere is a snippet for setting the recyclerView size in kotlin\r\n\r\n        val params = recyclerView.layoutParams\r\n        params.apply {\r\n                width = context.resources.displayMetrics.widthPixels\r\n                height = context.resources.displayMetrics.heightPixels\r\n        }\r\n        recyclerView.layoutParams = params","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>The problem as said above is because RecyclerView as a child or subChild in NestedScrollView measures its height as infinitive when you use WRAP_CONTENT or MATCH_PARENT for height of RecyclerView.</p>\n\n<p>one solution that solved this problem for me was setting the RecyclerView Height to a fixed size. you could set height to a dp value, or you could set it to a pixel value matching devices height if your requirements needs a vertical infinitive RecyclerView.</p>\n\n<p>here is a snippet for setting the recyclerView size in kotlin</p>\n\n<pre><code>    val params = recyclerView.layoutParams\n    params.apply {\n            width = context.resources.displayMetrics.widthPixels\n            height = context.resources.displayMetrics.heightPixels\n    }\n    recyclerView.layoutParams = params\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10069400,"reputation":1,"user_id":7443503,"display_name":"Ahmed Belmekhfi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631747418,"creation_date":1631747418,"answer_id":69200673,"question_id":44580892,"body_markdown":"I faced the same problem!\r\nThe solution was to change NestedScrollView to SwipeRefreshLayout.\r\n\r\nadd this for enable/disable ToolBar Scrolling:\r\n\r\nViewCompat.setNestedScrollingEnabled(recyclerView, true);\r\n\r\n","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>I faced the same problem!\nThe solution was to change NestedScrollView to SwipeRefreshLayout.</p>\n<p>add this for enable/disable ToolBar Scrolling:</p>\n<p>ViewCompat.setNestedScrollingEnabled(recyclerView, true);</p>\n"},{"tags":[],"owner":{"account_id":22165740,"reputation":1230,"user_id":16411959,"display_name":"AI Shakil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692928788,"creation_date":1692928788,"answer_id":76973830,"question_id":44580892,"body_markdown":"&gt; Yes, the answer is a bit late, but I think this will prevent you from\r\n&gt; **freezing** your **RecyclerView** inside any kind of **Scrollable Views** like\r\n&gt; another ***RecyclerView***, ***ScrollView***, ***NestedScrollView***, ***MotionView***, etc...\r\n\r\n**All you have to do is give your RecyclerView a fixed height.**\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv_home&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;192dp&quot;/&gt;","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<blockquote>\n<p>Yes, the answer is a bit late, but I think this will prevent you from\n<strong>freezing</strong> your <strong>RecyclerView</strong> inside any kind of <strong>Scrollable Views</strong> like\nanother <em><strong>RecyclerView</strong></em>, <em><strong>ScrollView</strong></em>, <em><strong>NestedScrollView</strong></em>, <em><strong>MotionView</strong></em>, etc...</p>\n</blockquote>\n<p><strong>All you have to do is give your RecyclerView a fixed height.</strong></p>\n<pre><code>&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/rv_home&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;192dp&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":9261990,"reputation":3252,"user_id":6878730,"accept_rate":36,"display_name":"Gurleen Sethi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11135,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":44581288,"answer_count":5,"score":14,"last_activity_date":1692928788,"creation_date":1497587760,"question_id":44580892,"body_markdown":"I have added `RecyclerView` inside my `NestedScrollView`. Basically I want RecyclerView to scroll with other Views. The problem that I am facing is that for a small set of data, it is working fine, but for a large set of data(200 entries) whenever I launch the activity, it freezes for about about 3-5 seconds and then loads. I removed the `NestedScrollView` and it is working flawlessly, but it doesn&#39;t provide me the behaviour I want.\r\n\r\n(For extra info, I am loading the data from SQLite database. There is no problem in scrolling, as it is smooth. The only problem is the activity is freezing for a while)\r\n\r\n    &lt;android.support.v4.widget.NestedScrollView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                    &lt;... Some other Views ...&gt;\r\n    \r\n                    &lt;android.support.v7.widget.RecyclerView\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                    &lt;/android.support.v7.widget.RecyclerView&gt;\r\n                    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/android.support.v4.widget.NestedScrollView&gt;","title":"Recycler View loading very slow for large data when inside NestedScrollView","body":"<p>I have added <code>RecyclerView</code> inside my <code>NestedScrollView</code>. Basically I want RecyclerView to scroll with other Views. The problem that I am facing is that for a small set of data, it is working fine, but for a large set of data(200 entries) whenever I launch the activity, it freezes for about about 3-5 seconds and then loads. I removed the <code>NestedScrollView</code> and it is working flawlessly, but it doesn't provide me the behaviour I want.</p>\n\n<p>(For extra info, I am loading the data from SQLite database. There is no problem in scrolling, as it is smooth. The only problem is the activity is freezing for a while)</p>\n\n<pre><code>&lt;android.support.v4.widget.NestedScrollView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;... Some other Views ...&gt;\n\n                &lt;android.support.v7.widget.RecyclerView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"match_parent\"\n                    android:orientation=\"vertical\"&gt;\n\n                &lt;/android.support.v7.widget.RecyclerView&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/android.support.v4.widget.NestedScrollView&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","firefox"],"owner":{"account_id":29291626,"reputation":9,"user_id":22441947,"display_name":"Olga "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692928445,"creation_date":1692888081,"question_id":76970421,"body_markdown":"When executing remotely on Jenkins or browserstack started to get error \r\n```\r\njava.lang.ClassCastException: class \r\ncom.google.common.collect.Maps$TransformedEntriesMap cannot be cast \r\nto class org.openqa.selenium.WebElement \r\n(com.google.common.collect.Maps$TransformedEntriesMap and \r\norg.openqa.selenium.WebElement are in unnamed module of loader &#39;app&#39;)\r\n```\r\nline that causing issue is \r\n```java\r\nnew WebDriverWait(driver, Duration.ofMillis(TIME_OUT)).until(ExpectedConditions.invisibilityOfElementLocated(LOCATOR));\r\n```\r\n\r\nPlease help, how can i solve it?\r\n\r\nTrying to run our suite, but it is failing only on Firefox, working fine on Edge and Chrome.","title":"Error on Firefox 116 java.lang.ClassCastException: class com.google.common.collect.Maps$TransformedEntriesMap","body":"<p>When executing remotely on Jenkins or browserstack started to get error</p>\n<pre><code>java.lang.ClassCastException: class \ncom.google.common.collect.Maps$TransformedEntriesMap cannot be cast \nto class org.openqa.selenium.WebElement \n(com.google.common.collect.Maps$TransformedEntriesMap and \norg.openqa.selenium.WebElement are in unnamed module of loader 'app')\n</code></pre>\n<p>line that causing issue is</p>\n<pre class=\"lang-java prettyprint-override\"><code>new WebDriverWait(driver, Duration.ofMillis(TIME_OUT)).until(ExpectedConditions.invisibilityOfElementLocated(LOCATOR));\n</code></pre>\n<p>Please help, how can i solve it?</p>\n<p>Trying to run our suite, but it is failing only on Firefox, working fine on Edge and Chrome.</p>\n"},{"tags":["java","mysql","spring","jpa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692915169,"post_id":76973146,"comment_id":135693241,"body_markdown":"So you&#39;ve got a MySql column called &quot;TIME&quot; of type `int` - how does that work?","body":"So you&#39;ve got a MySql column called &quot;TIME&quot; of type <code>int</code> - how does that work?"},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692915701,"post_id":76973146,"comment_id":135693320,"body_markdown":"Not sure I understand your question. It might be a poor name for a column/field...but it&#39;s a javascript counter in seconds on a web page that is simply stored as an int.","body":"Not sure I understand your question. It might be a poor name for a column/field...but it&#39;s a javascript counter in seconds on a web page that is simply stored as an int."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692915896,"post_id":76973146,"comment_id":135693345,"body_markdown":"Can you show the output of `show create table GAME_DATA`?","body":"Can you show the output of <code>show create table GAME_DATA</code>?"},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692917239,"post_id":76973146,"comment_id":135693486,"body_markdown":"Not much &#39;output&#39; from my hosting:\n\n MySQL returned an empty result set (i.e. zero rows). (Query took 0.0339 seconds.)\nCREATE TABLE `GAME_DATA` ( `id` int(11) NOT NULL, `user_id` varchar(50) DEFAULT NULL, `datetime` datetime NOT NULL, `game` varchar(100) NOT NULL, `time` int(11) NOT NULL, `code` varchar(50) DEFAULT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8;","body":"Not much &#39;output&#39; from my hosting:   MySQL returned an empty result set (i.e. zero rows). (Query took 0.0339 seconds.) CREATE TABLE <code>GAME_DATA</code> ( <code>id</code> int(11) NOT NULL, <code>user_id</code> varchar(50) DEFAULT NULL, <code>datetime</code> datetime NOT NULL, <code>game</code> varchar(100) NOT NULL, <code>time</code> int(11) NOT NULL, <code>code</code> varchar(50) DEFAULT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692918442,"post_id":76973146,"comment_id":135693589,"body_markdown":"Hmm. See if you get on any better by surrounding `TIME` (col name) with backticks","body":"Hmm. See if you get on any better by surrounding <code>TIME</code> (col name) with backticks"},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692920503,"post_id":76973146,"comment_id":135693749,"body_markdown":"Good thought.... it did have ticks when I copy/pasted it here. This editor must have removed them when I submitted it. I might try to make everything string for that field just to try to get more data.","body":"Good thought.... it did have ticks when I copy/pasted it here. This editor must have removed them when I submitted it. I might try to make everything string for that field just to try to get more data."},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692921195,"post_id":76973146,"comment_id":135693818,"body_markdown":"Even making the TIME DB Field a VARCHAR, as well as making the Java objects/methods VARCHAR, I get the same exception:\n\nParameter value [35] did not match expected type [java.util.Date (n/a)]","body":"Even making the TIME DB Field a VARCHAR, as well as making the Java objects/methods VARCHAR, I get the same exception:  Parameter value [35] did not match expected type [java.util.Date (n/a)]"},{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":0,"creation_date":1692924475,"post_id":76973146,"comment_id":135694119,"body_markdown":"When I hard code the:\n\nUPDATE GAME_DATA SET TIME=22 WHERE ID=:id\n\nIt works OK.","body":"When I hard code the:  UPDATE GAME_DATA SET TIME=22 WHERE ID=:id  It works OK."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692954411,"post_id":76973146,"comment_id":135697862,"body_markdown":"We don&#39;t actually know for certain whether that *is* the column in question. You have another column with arguably an even &#39;worse&#39; name, i.e. &quot;datetime&quot;. Backtick that one as well. In fact, to remove all doubt, backtick them all","body":"We don&#39;t actually know for certain whether that <i>is</i> the column in question. You have another column with arguably an even &#39;worse&#39; name, i.e. &quot;datetime&quot;. Backtick that one as well. In fact, to remove all doubt, backtick them all"}],"answers":[{"comments":[{"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"score":1,"creation_date":1692966565,"post_id":76973776,"comment_id":135700398,"body_markdown":"After renaming the DB field from &#39;TIME&#39; to &#39;TIMER&#39;, and updating the JAVA references, it&#39;s working.  Thank you @g00se and hermit","body":"After renaming the DB field from &#39;TIME&#39; to &#39;TIMER&#39;, and updating the JAVA references, it&#39;s working.  Thank you @g00se and hermit"}],"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692927563,"creation_date":1692927563,"answer_id":76973776,"question_id":76973146,"body_markdown":"The problem might be with the field named, `time` since it is a reserved word. \r\n\r\nTry renaming the field to something else and try.\r\n\r\n    SET TIME=:new_field_name\r\n\r\nmight work.","title":"Updating existing MySQL record with Java","body":"<p>The problem might be with the field named, <code>time</code> since it is a reserved word.</p>\n<p>Try renaming the field to something else and try.</p>\n<pre><code>SET TIME=:new_field_name\n</code></pre>\n<p>might work.</p>\n"}],"owner":{"account_id":7852385,"reputation":55,"user_id":5935466,"display_name":"JWK"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76973776,"answer_count":1,"score":1,"last_activity_date":1692927563,"creation_date":1692914224,"question_id":76973146,"body_markdown":"Java/Spring/MySQL Application.\r\nTrying to UPDATE a MySQL &#39;int(11)&#39; type field.\r\n\r\nPOJO is defined as:\r\n@Entity/@Component: @Column(name=&quot;time&quot;)\r\n\t                 private int time;\r\n\r\n```\r\n         public int updtTm(@Param(&quot;id&quot;) int id, @Param(&quot;time&quot;) int time)  {\r\n\t\t javax.persistence.Query query = entityManager.createQuery(&quot;UPDATE GAME_DATA SET TIME=:time WHERE ID=:id&quot;);\r\n\t\t int updateCount = query.setParameter(&quot;id&quot;, id)\r\n \t\t\t\t \t\t\t\t.setParameter(&quot;time&quot;, time)\r\n\t\t\t\t \t\t\t\t.executeUpdate();\r\n\t\t return updateCount;\r\n```\r\nBoth params passed in are verified as &#39;int&#39;.  This is the exception:\r\n\r\njava.lang.IllegalArgumentException: Parameter value [44] did not match expected type [java.util.Date (n/a)]\r\n\tat org.hibernate.jpa.spi.BaseQueryImpl.validateBinding(BaseQueryImpl.java:897) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]\r\n\r\nWhy does Java think the expected type is a &#39;Date&#39;?\r\n","title":"Updating existing MySQL record with Java","body":"<p>Java/Spring/MySQL Application.\nTrying to UPDATE a MySQL 'int(11)' type field.</p>\n<p>POJO is defined as:\n@Entity/@Component: @Column(name=&quot;time&quot;)\nprivate int time;</p>\n<pre><code>         public int updtTm(@Param(&quot;id&quot;) int id, @Param(&quot;time&quot;) int time)  {\n         javax.persistence.Query query = entityManager.createQuery(&quot;UPDATE GAME_DATA SET TIME=:time WHERE ID=:id&quot;);\n         int updateCount = query.setParameter(&quot;id&quot;, id)\n                                .setParameter(&quot;time&quot;, time)\n                                .executeUpdate();\n         return updateCount;\n</code></pre>\n<p>Both params passed in are verified as 'int'.  This is the exception:</p>\n<p>java.lang.IllegalArgumentException: Parameter value [44] did not match expected type [java.util.Date (n/a)]\nat org.hibernate.jpa.spi.BaseQueryImpl.validateBinding(BaseQueryImpl.java:897) ~[hibernate-entitymanager-5.0.12.Final.jar:5.0.12.Final]</p>\n<p>Why does Java think the expected type is a 'Date'?</p>\n"},{"tags":["javascript","java","jquery","jsp","browser"],"comments":[{"owner":{"account_id":18455627,"reputation":538,"user_id":13444494,"display_name":"Micah"},"score":0,"creation_date":1692810562,"post_id":76958559,"comment_id":135676032,"body_markdown":"Might be good to share some of your source code to help analyze the issue.  Sounds browser related, but need more specifics. Check out the [coc](https://stackoverflow.com/conduct) to learn more about Stack Overflow and how to make the most of your questions.","body":"Might be good to share some of your source code to help analyze the issue.  Sounds browser related, but need more specifics. Check out the <a href=\"https://stackoverflow.com/conduct\">coc</a> to learn more about Stack Overflow and how to make the most of your questions."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692810633,"post_id":76958559,"comment_id":135676043,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26444627,"reputation":1,"user_id":20088620,"display_name":"허지훈"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692927401,"creation_date":1692769443,"question_id":76958559,"body_markdown":"I&#39;m using the mobile phone authentication function. In Chrome, Whale, and Samsung Internet browsers, callback is not made from a white window to an application after authentication. However, it runs normally in Edge and Naver browsers. Could it be a browser problem?\r\n\r\n\r\nI checked the jsp file related to the authentication procedure and ran it with various kinds of browsers. I want to know if it&#39;s a source code problem or a browser problem.\r\n\r\nsource code\r\nlocation.href = &quot;biz.net://?param=&quot; + encodeURI( JSON.stringfy(param));\r\n\r\n","title":"Mobile phone authentication browser problem","body":"<p>I'm using the mobile phone authentication function. In Chrome, Whale, and Samsung Internet browsers, callback is not made from a white window to an application after authentication. However, it runs normally in Edge and Naver browsers. Could it be a browser problem?</p>\n<p>I checked the jsp file related to the authentication procedure and ran it with various kinds of browsers. I want to know if it's a source code problem or a browser problem.</p>\n<p>source code\nlocation.href = &quot;biz.net://?param=&quot; + encodeURI( JSON.stringfy(param));</p>\n"},{"tags":["java"],"owner":{"account_id":23855696,"reputation":1,"user_id":17859199,"display_name":"furkat ethan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692926109,"creation_date":1692926109,"question_id":76973709,"body_markdown":"I am just started using java.\r\nAnd now Im try to connect spring-boot and doma2\r\nhere is my code.\r\n\r\nAasSampleApplication.java\r\n\r\n``` java\r\npackage com.furkat.aas_sample;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@SpringBootApplication\r\n@RestController\r\npublic class AasSampleApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(AasSampleApplication.class, args);\r\n\t}\r\n\r\n\t@Autowired\r\n\tUsersDao reservationDao;\r\n\r\n\t@Bean\r\n\tCommandLineRunner runner() {\r\n\t\treturn args -&gt; Arrays.asList(&quot;spring&quot;, &quot;spring boot&quot;, &quot;spring cloud&quot;, &quot;doma&quot;).forEach(s -&gt; {\r\n\t\t\tUsers r = new Users();\r\n\t\t\tr.name = s;\r\n\t\t\treservationDao.insert(r);\r\n\t\t});\r\n\t}\r\n\r\n\t@RequestMapping(path = &quot;/&quot;)\r\n\tList&lt;Users&gt; all() {\r\n\t\treturn reservationDao.selectAll();\r\n\t}\r\n}\r\n```\r\n\r\nUser.java\r\n\r\n``` java\r\npackage com.furkat.aas_sample;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\n@Entity\r\npublic class Users {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Integer id;\r\n    public String name;\r\n\r\n}\r\n```\r\n\r\nUserDao.java\r\n\r\n``` java\r\npackage com.furkat.aas_sample;\r\n\r\nimport java.util.List;\r\nimport org.seasar.doma.Dao;\r\nimport org.seasar.doma.Insert;\r\nimport org.seasar.doma.Select;\r\nimport org.seasar.doma.boot.ConfigAutowireable;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\n@ConfigAutowireable\r\n@Dao\r\npublic interface UsersDao {\r\n\r\n    @Select\r\n    List&lt;Users&gt; selectAll();\r\n\r\n    @Insert\r\n    @Transactional\r\n    int insert(Users users);\r\n\r\n}\r\n```\r\n\r\nwhen I run project it says\r\n\r\n``` \r\nDescription:\r\n\r\nField reservationDao in com.furkat.aas_sample.AasSampleApplication required a bean of type &#39;com.furkat.aas_sample.UsersDao&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.furkat.aas_sample.UsersDao&#39; in your configuration.\r\n```\r\n\r\nI tried some way \r\n*Check the Classpath\r\n*Verify Annotations\r\n*Component Scan Verification\r\n*Check Configuration Class\r\n\r\nI could not find what is wrong.\r\nI hope sombody help me to figure out what wrong with my code","title":"connect spring boot with doma2 java","body":"<p>I am just started using java.\nAnd now Im try to connect spring-boot and doma2\nhere is my code.</p>\n<p>AasSampleApplication.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.furkat.aas_sample;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class AasSampleApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AasSampleApplication.class, args);\n    }\n\n    @Autowired\n    UsersDao reservationDao;\n\n    @Bean\n    CommandLineRunner runner() {\n        return args -&gt; Arrays.asList(&quot;spring&quot;, &quot;spring boot&quot;, &quot;spring cloud&quot;, &quot;doma&quot;).forEach(s -&gt; {\n            Users r = new Users();\n            r.name = s;\n            reservationDao.insert(r);\n        });\n    }\n\n    @RequestMapping(path = &quot;/&quot;)\n    List&lt;Users&gt; all() {\n        return reservationDao.selectAll();\n    }\n}\n</code></pre>\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.furkat.aas_sample;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Users {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Integer id;\n    public String name;\n\n}\n</code></pre>\n<p>UserDao.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.furkat.aas_sample;\n\nimport java.util.List;\nimport org.seasar.doma.Dao;\nimport org.seasar.doma.Insert;\nimport org.seasar.doma.Select;\nimport org.seasar.doma.boot.ConfigAutowireable;\nimport org.springframework.transaction.annotation.Transactional;\n\n@ConfigAutowireable\n@Dao\npublic interface UsersDao {\n\n    @Select\n    List&lt;Users&gt; selectAll();\n\n    @Insert\n    @Transactional\n    int insert(Users users);\n\n}\n</code></pre>\n<p>when I run project it says</p>\n<pre><code>Description:\n\nField reservationDao in com.furkat.aas_sample.AasSampleApplication required a bean of type 'com.furkat.aas_sample.UsersDao' that could not be found.\n\nThe injection point has the following annotations:\n        - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.furkat.aas_sample.UsersDao' in your configuration.\n</code></pre>\n<p>I tried some way\n*Check the Classpath\n*Verify Annotations\n*Component Scan Verification\n*Check Configuration Class</p>\n<p>I could not find what is wrong.\nI hope sombody help me to figure out what wrong with my code</p>\n"},{"tags":["java","hibernate","jpa","criteria-api"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1583430152,"post_id":60551105,"comment_id":107123177,"body_markdown":"just specify root like you do `ntityQuery.from(FooEntity.class);`","body":"just specify root like you do <code>ntityQuery.from(FooEntity.class);</code>"},{"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"score":0,"creation_date":1583430942,"post_id":60551105,"comment_id":107123555,"body_markdown":"I don&#39;t understand your comment. My option (1) is the same thing, but just for posterity, I tried creating a new root from the entity query: `countQuery.select(criteriaBuilder.count(entityQuery.from(FooEntity.class)));`\n\n... but as expected, it yielded the same error (&quot;No criteria query roots were specified&quot;).","body":"I don&#39;t understand your comment. My option (1) is the same thing, but just for posterity, I tried creating a new root from the entity query: <code>countQuery.select(criteriaBuilder.count(entityQuery.from(Foo&zwnj;&#8203;Entity.class)));</code>  ... but as expected, it yielded the same error (&quot;No criteria query roots were specified&quot;)."}],"answers":[{"tags":[],"owner":{"account_id":14126181,"reputation":2681,"user_id":10205514,"display_name":"Oleksii Valuiskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583442486,"creation_date":1583435091,"answer_id":60552389,"question_id":60551105,"body_markdown":"You have to create new `Root`, `CriteriaQuery` and `CriteriaBuiler` for every query. \r\n\r\nIf you use **Spring**, [Specification][1] can be opted for making `Predicate` reusable. Otherwise you can create your own `Specification` functional interface like this \r\n\r\n \r\n\r\n    @FunctionalInterface\r\n    public interface Specification&lt;T&gt; {\r\n        Predicate toPredicate(\r\n              Root&lt;T&gt; root, \r\n              CriteriaQuery&lt;?&gt; query, \r\n              CriteriaBuilder criteriaBuilder);\r\n    }\r\n\r\nUsage:\r\n\r\n\r\n    public Specification&lt;FooEntity&gt; createSpecification(YourParameters parameters) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            Predicate fullPredicate;\r\n\r\n            // create predicates using parameters, root, query, criteriaBuilder \r\n            // and concatenate them into one: fullPredicate = predicate.and(anotherPredicate);\r\n    \r\n            return fullPredicate;\r\n        };\r\n    }\r\n\r\nAnd then you can get predicate for every query this way\r\n\r\n    Predicate predicate = createSpecification(parameters)\r\n        .toPredicate(entityRoot, entityQuery, criteriaBuilder);\r\n\r\nThe best approach is to create utility class with separated methods for every specification and combine them you need using `Specification.and` method\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/domain/Specification.html","title":"Using the same predicates for two criteria queries","body":"<p>You have to create new <code>Root</code>, <code>CriteriaQuery</code> and <code>CriteriaBuiler</code> for every query. </p>\n\n<p>If you use <strong>Spring</strong>, <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/domain/Specification.html\" rel=\"nofollow noreferrer\">Specification</a> can be opted for making <code>Predicate</code> reusable. Otherwise you can create your own <code>Specification</code> functional interface like this </p>\n\n<pre><code>@FunctionalInterface\npublic interface Specification&lt;T&gt; {\n    Predicate toPredicate(\n          Root&lt;T&gt; root, \n          CriteriaQuery&lt;?&gt; query, \n          CriteriaBuilder criteriaBuilder);\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public Specification&lt;FooEntity&gt; createSpecification(YourParameters parameters) {\n    return (root, query, criteriaBuilder) -&gt; {\n        Predicate fullPredicate;\n\n        // create predicates using parameters, root, query, criteriaBuilder \n        // and concatenate them into one: fullPredicate = predicate.and(anotherPredicate);\n\n        return fullPredicate;\n    };\n}\n</code></pre>\n\n<p>And then you can get predicate for every query this way</p>\n\n<pre><code>Predicate predicate = createSpecification(parameters)\n    .toPredicate(entityRoot, entityQuery, criteriaBuilder);\n</code></pre>\n\n<p>The best approach is to create utility class with separated methods for every specification and combine them you need using <code>Specification.and</code> method</p>\n"},{"comments":[{"owner":{"account_id":3237647,"reputation":7503,"user_id":2731402,"display_name":"visola"},"score":0,"creation_date":1700668571,"post_id":67607459,"comment_id":136683468,"body_markdown":"This should be the acceptable answer. I used this and it worked. If you have joins, you need to create new joins from the new roots also setting the aliases to match.","body":"This should be the acceptable answer. I used this and it worked. If you have joins, you need to create new joins from the new roots also setting the aliases to match."}],"tags":[],"owner":{"account_id":20641289,"reputation":61,"user_id":15153889,"display_name":"JonatasAlmeida"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1621442655,"creation_date":1621442655,"answer_id":67607459,"question_id":60551105,"body_markdown":"You should use the same alias for the both Root elements, example:\r\n\r\n    Root&lt;FooEntity&gt; entityRoot = entityQuery.from(FooEntity.class);\r\n    entityRoot.alias(&quot;alias1&quot;) // Property alias\r\n    \r\n    Predicate[] predicates = createPredicates(criteriaBuilder, entityRoot, entityType );\r\n    \r\n    // Fetch the entities.\r\n    entityQuery.select(entityRoot);\r\n    entityQuery.where(predicates);\r\n    List&lt;FooEntity&gt; entities = entityManager.createQuery(entityQuery)\r\n        .setFirstResult(0)\r\n        .setMaxResults(50)\r\n        .getResultList();\r\n    \r\n    \r\n    CriteriaQuery&lt;Long&gt; countQuery = builder.createQuery(Long.class);\r\n    Root&lt;FooEntity&gt; newRoot = countQuery.from(FooEntity.class);\r\n    newRoot.alias(&quot;alias1&quot;); // Same property alias\r\n    \r\n    countQuery.select(builder.count(newRoot));\r\n    countQuery.where(predicates);\r\n    Long count = em.createQuery(countQuery).getSingleResult();\r\n\r\n\r\nThis way JPA understands and query using the same restrictions","title":"Using the same predicates for two criteria queries","body":"<p>You should use the same alias for the both Root elements, example:</p>\n<pre><code>Root&lt;FooEntity&gt; entityRoot = entityQuery.from(FooEntity.class);\nentityRoot.alias(&quot;alias1&quot;) // Property alias\n\nPredicate[] predicates = createPredicates(criteriaBuilder, entityRoot, entityType );\n\n// Fetch the entities.\nentityQuery.select(entityRoot);\nentityQuery.where(predicates);\nList&lt;FooEntity&gt; entities = entityManager.createQuery(entityQuery)\n    .setFirstResult(0)\n    .setMaxResults(50)\n    .getResultList();\n\n\nCriteriaQuery&lt;Long&gt; countQuery = builder.createQuery(Long.class);\nRoot&lt;FooEntity&gt; newRoot = countQuery.from(FooEntity.class);\nnewRoot.alias(&quot;alias1&quot;); // Same property alias\n\ncountQuery.select(builder.count(newRoot));\ncountQuery.where(predicates);\nLong count = em.createQuery(countQuery).getSingleResult();\n</code></pre>\n<p>This way JPA understands and query using the same restrictions</p>\n"},{"tags":[],"owner":{"account_id":17439251,"reputation":11,"user_id":12641671,"display_name":"Yurii Rybakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692925595,"creation_date":1692910409,"answer_id":76972872,"question_id":60551105,"body_markdown":"As an option, it is possible to get entities and count by using a single CriteriaQuery with multiselect. In this way we will reuse the same set of predicates as well. For example:\r\n\r\n    @Getter\r\n    class MultiselectBox {\r\n        long count;\r\n        Entity entity;\r\n\r\n        MultiselectBox(long c) { count = c; }        \r\n        MultiselectBox(Entity e) {  entity = e; }\r\n    }    \r\n    \r\n    class EntityDao {\r\n        EntityManager em;\r\n        \r\n        Page&lt;Entity&gt; search(Filter filter, Pageable pageRequest) {\r\n            var cb = em.getCriteriaBuilder();\r\n            var cq = cb.createQuery(MultiselectBox.class);\r\n            var root = cq.from(Entity.class);\r\n            \r\n            cq.multiselect(root).where(buildPredicates(filter));\r\n            cq.orderBy(buildSort(pageRequest.getSort()));\r\n            \r\n            var tq = em.createQuery(cq);\r\n            tq.setMaxResults(pageRequest.getPageSize());\r\n            tq.setFirstResult(pageRequest.getPageSize());\r\n            var results = tq.getResultList().stream()\r\n                    .map(MultiselectBox::getEntity).toList();\r\n            \r\n            long count;\r\n            if (results.size() &lt; pageRequest.getPageSize()) {\r\n                count = results.size();\r\n            } else {\r\n                cq.orderBy(Collections.emptyList());\r\n                cq.multiselect(cb.count(root));\r\n                count = em.createQuery(cq).getSingleResult().getCount();\r\n            }\r\n            \r\n            return new PageImpl&lt;&gt;(results, pageRequest, count);\r\n        }\r\n    }\r\n\r\nBase on this [discussion][1] it is impossible to reuse predicate between different queries at least in Hibernate 6.\r\n\r\n\r\n  [1]: https://discourse.hibernate.org/t/hibernate-6-1-6-using-jakarta-criteria-and-count-query-getting-exception-in-count-query-execution-if-count-query-contains-where-predicate/7455/2","title":"Using the same predicates for two criteria queries","body":"<p>As an option, it is possible to get entities and count by using a single CriteriaQuery with multiselect. In this way we will reuse the same set of predicates as well. For example:</p>\n<pre><code>@Getter\nclass MultiselectBox {\n    long count;\n    Entity entity;\n\n    MultiselectBox(long c) { count = c; }        \n    MultiselectBox(Entity e) {  entity = e; }\n}    \n\nclass EntityDao {\n    EntityManager em;\n    \n    Page&lt;Entity&gt; search(Filter filter, Pageable pageRequest) {\n        var cb = em.getCriteriaBuilder();\n        var cq = cb.createQuery(MultiselectBox.class);\n        var root = cq.from(Entity.class);\n        \n        cq.multiselect(root).where(buildPredicates(filter));\n        cq.orderBy(buildSort(pageRequest.getSort()));\n        \n        var tq = em.createQuery(cq);\n        tq.setMaxResults(pageRequest.getPageSize());\n        tq.setFirstResult(pageRequest.getPageSize());\n        var results = tq.getResultList().stream()\n                .map(MultiselectBox::getEntity).toList();\n        \n        long count;\n        if (results.size() &lt; pageRequest.getPageSize()) {\n            count = results.size();\n        } else {\n            cq.orderBy(Collections.emptyList());\n            cq.multiselect(cb.count(root));\n            count = em.createQuery(cq).getSingleResult().getCount();\n        }\n        \n        return new PageImpl&lt;&gt;(results, pageRequest, count);\n    }\n}\n</code></pre>\n<p>Base on this <a href=\"https://discourse.hibernate.org/t/hibernate-6-1-6-using-jakarta-criteria-and-count-query-getting-exception-in-count-query-execution-if-count-query-contains-where-predicate/7455/2\" rel=\"nofollow noreferrer\">discussion</a> it is impossible to reuse predicate between different queries at least in Hibernate 6.</p>\n"}],"owner":{"account_id":1798570,"reputation":1339,"user_id":1637422,"accept_rate":64,"display_name":"Depressio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2341,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1692925595,"creation_date":1583429769,"question_id":60551105,"body_markdown":"I want to run a pair of queries using the same array of `Predicate`: one to count the records, one to get a certain page of records. This seems like a pretty normal use case, to me, so there must be a good way to do it, but I have yet to find it.\r\n\r\nSo this is the part that fetches entities:\r\n```\r\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\nEntityType&lt;ENTITY&gt; entityType = entityManager.getMetamodel().entity(FooEntity.class);\r\nCriteriaQuery&lt;FooEntity&gt; entityQuery = criteriaBuilder.createQuery(FooEntity.class);\r\nRoot&lt;FooEntity&gt; entityRoot = entityQuery.from(FooEntity.class);\r\n\r\n// Use the criteria builder, root, and type to create some predicates.\r\nPredicate[] predicates = createPredicates(criteriaBuilder, entityRoot, entityType );\r\n\r\n// Fetch the entities.\r\nentityQuery.select(entityRoot);\r\nentityQuery.where(predicates);\r\nList&lt;FooEntity&gt; entities = entityManager.createQuery(entityQuery)\r\n    .setFirstResult(0) // Just get the first page\r\n    .setMaxResults(50)\r\n    .getResultList();\r\n```\r\nThis works. We get what we desire, predicates are correct etc.\r\n\r\nHowever, creating another query to determine the count using the same predicates fails. I&#39;ve tried two different ways:\r\n\r\n(1) Re-using the `Root`:\r\n```\r\nCriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\r\ncountQuery.select(criteriaBuilder.count(entityRoot));\r\ncountQuery.where(predicates);\r\nlong count = entityManager.createQuery(countQuery).getSingleResult();\r\n```\r\nThis doesn&#39;t work and gives me `java.lang.IllegalStateException: No criteria query roots were specified`. Odd, since I clearly specified the `Root`, but perhaps I can&#39;t re-use a `Root` that was created from a different `CriteriaQuery`? Fine, let&#39;s create one from the same `CriteriaQuery`...\r\n\r\n(2) Creating a new `Root`:\r\n```\r\nCriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\r\ncountQuery.select(criteriaBuilder.count(countQuery.from(FooEntity.class));\r\ncountQuery.where(predicates);\r\nlong count = entityManager.createQuery(countQuery).getSingleResult();\r\n```\r\nNow we get a different error: `org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: &#39;generatedAlias1.fooProperty&#39; [select count(generatedAlias0) from com.foo.FooEntity as generatedAlias0 where ( generatedAlias1.fooProperty = :param0 )]`\r\n\r\nLooking at the HQL that was created, it appears that the &quot;from&quot; clause sets a `generatedAlias0`, but all the stuff in the &quot;where&quot; clause references `generatedAlias1`. My guess is because the array of `Predicate` was built using a different `Root` than was used in the `CriteriaQuery&lt;Long&gt;`.\r\n\r\nSo, if it doesn&#39;t work either way, how would I re-use the same array of `Predicate`? Do I really have to re-create all of them with the second `Root`? That seems super excessive to me, especially since they&#39;re both `Root&lt;FooEntity&gt;`. I feel like there must be a better way.","title":"Using the same predicates for two criteria queries","body":"<p>I want to run a pair of queries using the same array of <code>Predicate</code>: one to count the records, one to get a certain page of records. This seems like a pretty normal use case, to me, so there must be a good way to do it, but I have yet to find it.</p>\n\n<p>So this is the part that fetches entities:</p>\n\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nEntityType&lt;ENTITY&gt; entityType = entityManager.getMetamodel().entity(FooEntity.class);\nCriteriaQuery&lt;FooEntity&gt; entityQuery = criteriaBuilder.createQuery(FooEntity.class);\nRoot&lt;FooEntity&gt; entityRoot = entityQuery.from(FooEntity.class);\n\n// Use the criteria builder, root, and type to create some predicates.\nPredicate[] predicates = createPredicates(criteriaBuilder, entityRoot, entityType );\n\n// Fetch the entities.\nentityQuery.select(entityRoot);\nentityQuery.where(predicates);\nList&lt;FooEntity&gt; entities = entityManager.createQuery(entityQuery)\n    .setFirstResult(0) // Just get the first page\n    .setMaxResults(50)\n    .getResultList();\n</code></pre>\n\n<p>This works. We get what we desire, predicates are correct etc.</p>\n\n<p>However, creating another query to determine the count using the same predicates fails. I've tried two different ways:</p>\n\n<p>(1) Re-using the <code>Root</code>:</p>\n\n<pre><code>CriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\ncountQuery.select(criteriaBuilder.count(entityRoot));\ncountQuery.where(predicates);\nlong count = entityManager.createQuery(countQuery).getSingleResult();\n</code></pre>\n\n<p>This doesn't work and gives me <code>java.lang.IllegalStateException: No criteria query roots were specified</code>. Odd, since I clearly specified the <code>Root</code>, but perhaps I can't re-use a <code>Root</code> that was created from a different <code>CriteriaQuery</code>? Fine, let's create one from the same <code>CriteriaQuery</code>...</p>\n\n<p>(2) Creating a new <code>Root</code>:</p>\n\n<pre><code>CriteriaQuery&lt;Long&gt; countQuery = criteriaBuilder.createQuery(Long.class);\ncountQuery.select(criteriaBuilder.count(countQuery.from(FooEntity.class));\ncountQuery.where(predicates);\nlong count = entityManager.createQuery(countQuery).getSingleResult();\n</code></pre>\n\n<p>Now we get a different error: <code>org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: 'generatedAlias1.fooProperty' [select count(generatedAlias0) from com.foo.FooEntity as generatedAlias0 where ( generatedAlias1.fooProperty = :param0 )]</code></p>\n\n<p>Looking at the HQL that was created, it appears that the \"from\" clause sets a <code>generatedAlias0</code>, but all the stuff in the \"where\" clause references <code>generatedAlias1</code>. My guess is because the array of <code>Predicate</code> was built using a different <code>Root</code> than was used in the <code>CriteriaQuery&lt;Long&gt;</code>.</p>\n\n<p>So, if it doesn't work either way, how would I re-use the same array of <code>Predicate</code>? Do I really have to re-create all of them with the second <code>Root</code>? That seems super excessive to me, especially since they're both <code>Root&lt;FooEntity&gt;</code>. I feel like there must be a better way.</p>\n"},{"tags":["java","javafx","abstract-class","static-methods","abstract-methods"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690737856,"post_id":76798326,"comment_id":135391846,"body_markdown":"This is nothing special about JFX. Have you seen the [abstract classes tutorial](https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html)? The abstract class says what methods need to be defined, and the compiler can make sure you do define them, so it&#39;s safe to call them.","body":"This is nothing special about JFX. Have you seen the <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/abstract.html\" rel=\"nofollow noreferrer\">abstract classes tutorial</a>? The abstract class says what methods need to be defined, and the compiler can make sure you do define them, so it&#39;s safe to call them."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1690744232,"post_id":76798326,"comment_id":135392526,"body_markdown":"@Robert Actually there are special things about the JavaFX application [launch process](https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/java/javafx/application/Application.java#L274) IMO.  It works in a highly unusual way, as it uses a combination of stack trace call back trace and reflection to work out call stack history and invoke historical methods.  That doesn&#39;t negate your comments around abstract classes though.","body":"@Robert Actually there are special things about the JavaFX application <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.graphics/src/main/java/javafx/application/Application.java#L274\" rel=\"nofollow noreferrer\">launch process</a> IMO.  It works in a highly unusual way, as it uses a combination of stack trace call back trace and reflection to work out call stack history and invoke historical methods.  That doesn&#39;t negate your comments around abstract classes though."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1690744277,"post_id":76798326,"comment_id":135392533,"body_markdown":"Additionally, in earlier versions of JavaFX, launch was integrated with JVM startup similar to but different from main method processing, so you could execute an application that [launched the VM and did not even define a main class](https://stackoverflow.com/questions/47139115/running-javafx-app-without-main-method).  That was also kind of a special IMO.  I don&#39;t think the technology exists in recent JavaFX distributions, but some of the strange handling of how launch works may be a legacy of that design.","body":"Additionally, in earlier versions of JavaFX, launch was integrated with JVM startup similar to but different from main method processing, so you could execute an application that <a href=\"https://stackoverflow.com/questions/47139115/running-javafx-app-without-main-method\">launched the VM and did not even define a main class</a>.  That was also kind of a special IMO.  I don&#39;t think the technology exists in recent JavaFX distributions, but some of the strange handling of how launch works may be a legacy of that design."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690744570,"post_id":76798326,"comment_id":135392566,"body_markdown":"Make sure you understand the [application lifecycle](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html). Don&#39;t define your own class named `Application`, that is not even a JavaFX `Application`.  That is super confusing.","body":"Make sure you understand the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">application lifecycle</a>. Don&#39;t define your own class named <code>Application</code>, that is not even a JavaFX <code>Application</code>.  That is super confusing."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1690757178,"post_id":76798326,"comment_id":135393770,"body_markdown":"@jewelsea The &quot;special handling&quot; that allows omitting the main method in JavaFX applications actually [is still part of the current OpenJDK versions](https://github.com/openjdk/jdk/blob/ad34be1f329edc8e7155983835cc70d733c014b8/src/java.base/share/classes/sun/launcher/LauncherHelper.java#L1070). I once submitted an issue for a separate problem, though it was related to the JavaFX startup process, and [Kevin had argued removing this &quot;special handling&quot; would be too disruptive.](https://github.com/javafxports/openjdk-jfx/issues/570#issuecomment-524546199) Looks like they never revisited it.","body":"@jewelsea The &quot;special handling&quot; that allows omitting the main method in JavaFX applications actually <a href=\"https://github.com/openjdk/jdk/blob/ad34be1f329edc8e7155983835cc70d733c014b8/src/java.base/share/classes/sun/launcher/LauncherHelper.java#L1070\" rel=\"nofollow noreferrer\">is still part of the current OpenJDK versions</a>. I once submitted an issue for a separate problem, though it was related to the JavaFX startup process, and <a href=\"https://github.com/javafxports/openjdk-jfx/issues/570#issuecomment-524546199\" rel=\"nofollow noreferrer\">Kevin had argued removing this &quot;special handling&quot; would be too disruptive.</a> Looks like they never revisited it."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690759275,"post_id":76798326,"comment_id":135393899,"body_markdown":"&quot;Note that the `start` method is abstract and must be overridden.&quot;","body":"&quot;Note that the <code>start</code> method is abstract and must be overridden.&quot;"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690833705,"post_id":76798326,"comment_id":135405442,"body_markdown":"Related: [*JavaFX runtime main method*](https://stackoverflow.com/q/52434404/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/52434404/642706\"><i>JavaFX runtime main method</i></a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1691470730,"post_id":76798326,"comment_id":135492230,"body_markdown":"Related: [*JavaFX Application class - difference between default constructor and init method*](https://stackoverflow.com/q/34786120/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/34786120/642706\"><i>JavaFX Application class - difference between default constructor and init method</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1690797169,"creation_date":1690759937,"answer_id":76799962,"question_id":76798326,"body_markdown":"The [`Application#launch(String...)`][1] method is defined to:\r\n\r\n&gt; Launch a standalone application. This method is typically called from the `main` method. _[...]_. This is equivalent to `launch(TheClass.class, args)` where `TheClass` is the immediately enclosing class of the method that called launch.\r\n\r\nSo, it _does_ know the name of the main class by getting the &quot;caller class&quot;. It then creates an instance of the application class via reflection and invokes the `init()` and `start(Stage)` methods as appropriate.\r\n\r\nThe instantiation of the `Application` **implementation**&lt;sup&gt;1&lt;/sup&gt; and the invoking of `init()`, `start(Stage)`, and `stop()`, are all part of the [JavaFX life-cycle (documented by `Application`)][3]. You don&#39;t instantiate the application class, nor do you call those methods. It&#39;s handled by JavaFX.\r\n\r\nNote you should not have your own `Application` class. Not only is it confusing to name a class the same as a class from the framework you&#39;re using, but it does nothing for you. You need to extend `javafx.application.Application` if you want the normal JavaFX life-cycle.\r\n\r\n---\r\n\r\n&lt;sup&gt;1. It&#39;s not the `Application` class itself that&#39;s instantiated, as it&#39;s abstract. However, you must provide a concrete subclass (i.e., implementation) as part of your project, and it&#39;s that class that&#39;s instantiated. Of course, from the point of view of JavaFX, it only knows it has an instance of `Application`. But that is basic polymorphism at work.&lt;/sup&gt;\r\n\r\n---\r\n\r\n\r\n# How Does JavaFX Do It?\r\n\r\nHere&#39;s some non-JavaFX code demonstrating the process. Note it&#39;s vastly simplified and does things slightly differently from the actual JavaFX implementation.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.util.Objects;\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.concurrent.atomic.AtomicBoolean;\r\n\r\npublic abstract class Application {\r\n\r\n  private static final AtomicBoolean LAUNCHED = new AtomicBoolean();\r\n  private static Throwable error;\r\n\r\n  public static void launch(Class&lt;? extends Application&gt; appClass, String... args) {\r\n    Objects.requireNonNull(appClass);\r\n    Objects.requireNonNull(args);\r\n    if (!LAUNCHED.compareAndSet(false, true)) {\r\n      throw new IllegalStateException(&quot;already launched&quot;);\r\n    }\r\n\r\n    CountDownLatch startLatch = new CountDownLatch(1);\r\n\r\n    Thread eventThread = new Thread(() -&gt; {\r\n      try {\r\n        Application instance = appClass.getConstructor().newInstance();\r\n        instance.start(args);\r\n      } catch (Throwable error) {\r\n        Application.error = error;\r\n      } finally {\r\n        startLatch.countDown();\r\n      }\r\n    });\r\n    eventThread.setName(&quot;Application Event Thread&quot;);\r\n    eventThread.start();\r\n\r\n    try {\r\n      startLatch.await();\r\n    } catch (InterruptedException ex) {\r\n      throw new RuntimeException(ex);\r\n    }\r\n\r\n    if (error != null) {\r\n      throw new RuntimeException(&quot;Exception in Application start method&quot;, error);\r\n    }\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  public static void launch(String... args) {\r\n    StackWalker walker = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE);\r\n    Class&lt;?&gt; callerClass = walker.getCallerClass();\r\n    if (!Application.class.isAssignableFrom(callerClass)) {\r\n      throw new IllegalStateException(&quot;caller class is not a subclass of com.example.Application&quot;);\r\n    }\r\n    launch((Class&lt;? extends Application&gt;) callerClass, args);\r\n  }\r\n\r\n  public abstract void start(String[] args);\r\n}\r\n```\r\n\r\nThen some other code can do:\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport java.util.Arrays;\r\n\r\npublic class Main extends Application {\r\n\r\n  public static void main(String[] args) {\r\n    launch(args);\r\n  }\r\n\r\n  @Override\r\n  public void start(String[] args) {\r\n    System.out.println(&quot;Started! args = &quot; + Arrays.toString(args));\r\n  }\r\n}\r\n```\r\n\r\nWithout having to pass the class to `launch`.\r\n\r\nAs noted, this is vastly simplified from what JavaFX actually does, and it uses some different APIs. For instance:\r\n\r\n* I used `java.lang.StackWalker` (added in Java 9). JavaFX currently (as of 21-ea) still uses code that manually walks the stack trace via `Thread.currentThread().getStackTrace()`.\r\n\r\n* The _JavaFX Application Thread_ is not created manually like I did for the &quot;Application Event Thread&quot; above. Instead, the FX thread is managed by the JavaFX framework, and the real launch code makes use of the internal version of `Platform#runLater(Runnable)`.\r\n\r\n     * However, the real JavaFX code does do something similar to what I did for the &quot;JavaFX-Launcher Thread&quot; used to invoke the `init()` method.\r\n\r\n     * My code has the &quot;Application Event Thread&quot; instantiate the class, call `start(String[])`, and then die (once `start` returns). That&#39;s not how the _JavaFX Application Thread_ works, which essentially runs in a loop.\r\n\r\n* The real JavaFX code has to deal with potential `Preloader`s.\r\n\r\n* The real JavaFX code creates a `Stage` instance that it passes to the `start(Stage)` method; I &quot;simulate&quot; that by passing the given command line arguments array. Though note in a real JavaFX application, if you pass the command line arguments to `launch`, then those arguments are encapsulated in a `Parameters` object (and rudimentarily parsed).\r\n\r\n* In the real JavaFX code, the thread that calls `launch` is blocked until the framework exits.\r\n\r\n\r\nIf you&#39;re truly curious about the entire process, then I recommend you [follow the source code][2].\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n   [1]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\r\n   [2]: https://github.com/openjdk/jfx/blob/2dc699a8661fb23040c9f8e3905713229e615816/modules/javafx.graphics/src/main/java/javafx/application/Application.java#L274\r\n   [3]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html","title":"I Want to Understand How abstract class Application&#39;s launch() method work in JavaFX","body":"<p>The <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Application#launch(String...)</code></a> method is defined to:</p>\n<blockquote>\n<p>Launch a standalone application. This method is typically called from the <code>main</code> method. <em>[...]</em>. This is equivalent to <code>launch(TheClass.class, args)</code> where <code>TheClass</code> is the immediately enclosing class of the method that called launch.</p>\n</blockquote>\n<p>So, it <em>does</em> know the name of the main class by getting the &quot;caller class&quot;. It then creates an instance of the application class via reflection and invokes the <code>init()</code> and <code>start(Stage)</code> methods as appropriate.</p>\n<p>The instantiation of the <code>Application</code> <strong>implementation</strong><sup>1</sup> and the invoking of <code>init()</code>, <code>start(Stage)</code>, and <code>stop()</code>, are all part of the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">JavaFX life-cycle (documented by <code>Application</code>)</a>. You don't instantiate the application class, nor do you call those methods. It's handled by JavaFX.</p>\n<p>Note you should not have your own <code>Application</code> class. Not only is it confusing to name a class the same as a class from the framework you're using, but it does nothing for you. You need to extend <code>javafx.application.Application</code> if you want the normal JavaFX life-cycle.</p>\n<hr />\n<p><sup>1. It's not the <code>Application</code> class itself that's instantiated, as it's abstract. However, you must provide a concrete subclass (i.e., implementation) as part of your project, and it's that class that's instantiated. Of course, from the point of view of JavaFX, it only knows it has an instance of <code>Application</code>. But that is basic polymorphism at work.</sup></p>\n<hr />\n<h1>How Does JavaFX Do It?</h1>\n<p>Here's some non-JavaFX code demonstrating the process. Note it's vastly simplified and does things slightly differently from the actual JavaFX implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.Objects;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.concurrent.atomic.AtomicBoolean;\n\npublic abstract class Application {\n\n  private static final AtomicBoolean LAUNCHED = new AtomicBoolean();\n  private static Throwable error;\n\n  public static void launch(Class&lt;? extends Application&gt; appClass, String... args) {\n    Objects.requireNonNull(appClass);\n    Objects.requireNonNull(args);\n    if (!LAUNCHED.compareAndSet(false, true)) {\n      throw new IllegalStateException(&quot;already launched&quot;);\n    }\n\n    CountDownLatch startLatch = new CountDownLatch(1);\n\n    Thread eventThread = new Thread(() -&gt; {\n      try {\n        Application instance = appClass.getConstructor().newInstance();\n        instance.start(args);\n      } catch (Throwable error) {\n        Application.error = error;\n      } finally {\n        startLatch.countDown();\n      }\n    });\n    eventThread.setName(&quot;Application Event Thread&quot;);\n    eventThread.start();\n\n    try {\n      startLatch.await();\n    } catch (InterruptedException ex) {\n      throw new RuntimeException(ex);\n    }\n\n    if (error != null) {\n      throw new RuntimeException(&quot;Exception in Application start method&quot;, error);\n    }\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  public static void launch(String... args) {\n    StackWalker walker = StackWalker.getInstance(StackWalker.Option.RETAIN_CLASS_REFERENCE);\n    Class&lt;?&gt; callerClass = walker.getCallerClass();\n    if (!Application.class.isAssignableFrom(callerClass)) {\n      throw new IllegalStateException(&quot;caller class is not a subclass of com.example.Application&quot;);\n    }\n    launch((Class&lt;? extends Application&gt;) callerClass, args);\n  }\n\n  public abstract void start(String[] args);\n}\n</code></pre>\n<p>Then some other code can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport java.util.Arrays;\n\npublic class Main extends Application {\n\n  public static void main(String[] args) {\n    launch(args);\n  }\n\n  @Override\n  public void start(String[] args) {\n    System.out.println(&quot;Started! args = &quot; + Arrays.toString(args));\n  }\n}\n</code></pre>\n<p>Without having to pass the class to <code>launch</code>.</p>\n<p>As noted, this is vastly simplified from what JavaFX actually does, and it uses some different APIs. For instance:</p>\n<ul>\n<li><p>I used <code>java.lang.StackWalker</code> (added in Java 9). JavaFX currently (as of 21-ea) still uses code that manually walks the stack trace via <code>Thread.currentThread().getStackTrace()</code>.</p>\n</li>\n<li><p>The <em>JavaFX Application Thread</em> is not created manually like I did for the &quot;Application Event Thread&quot; above. Instead, the FX thread is managed by the JavaFX framework, and the real launch code makes use of the internal version of <code>Platform#runLater(Runnable)</code>.</p>\n<ul>\n<li><p>However, the real JavaFX code does do something similar to what I did for the &quot;JavaFX-Launcher Thread&quot; used to invoke the <code>init()</code> method.</p>\n</li>\n<li><p>My code has the &quot;Application Event Thread&quot; instantiate the class, call <code>start(String[])</code>, and then die (once <code>start</code> returns). That's not how the <em>JavaFX Application Thread</em> works, which essentially runs in a loop.</p>\n</li>\n</ul>\n</li>\n<li><p>The real JavaFX code has to deal with potential <code>Preloader</code>s.</p>\n</li>\n<li><p>The real JavaFX code creates a <code>Stage</code> instance that it passes to the <code>start(Stage)</code> method; I &quot;simulate&quot; that by passing the given command line arguments array. Though note in a real JavaFX application, if you pass the command line arguments to <code>launch</code>, then those arguments are encapsulated in a <code>Parameters</code> object (and rudimentarily parsed).</p>\n</li>\n<li><p>In the real JavaFX code, the thread that calls <code>launch</code> is blocked until the framework exits.</p>\n</li>\n</ul>\n<p>If you're truly curious about the entire process, then I recommend you <a href=\"https://github.com/openjdk/jfx/blob/2dc699a8661fb23040c9f8e3905713229e615816/modules/javafx.graphics/src/main/java/javafx/application/Application.java#L274\" rel=\"nofollow noreferrer\">follow the source code</a>.</p>\n"},{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1690788173,"post_id":76800602,"comment_id":135396310,"body_markdown":"If you print out the [name](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#getName())s of the threads as well as the IDs, I think, in this case, you get some additional useful information.","body":"If you print out the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Thread.html#getName()\" rel=\"nofollow noreferrer\">name</a>s of the threads as well as the IDs, I think, in this case, you get some additional useful information."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1690796682,"post_id":76800602,"comment_id":135397910,"body_markdown":"A notable part of this, is that if the main class specified at startup (i.e., passed to the `java` tool) is a subclass of `Application`, the main class is actually _changed_ to an internal class: `LauncherHelper$FXHelper`. If the `Application` subclass _also_ has a proper `main` method, it&#39;s actually JavaFX that invokes it via reflection (and it then waits for a call to `launch` to continue the process of launching the application). And if I&#39;m not mistaken, the JavaFX toolkit is fully initialized before the `Application` subclass is instantiated (possibly even before `main` is invoked).","body":"A notable part of this, is that if the main class specified at startup (i.e., passed to the <code>java</code> tool) is a subclass of <code>Application</code>, the main class is actually <i>changed</i> to an internal class: <code>LauncherHelper$FXHelper</code>. If the <code>Application</code> subclass <i>also</i> has a proper <code>main</code> method, it&#39;s actually JavaFX that invokes it via reflection (and it then waits for a call to <code>launch</code> to continue the process of launching the application). And if I&#39;m not mistaken, the JavaFX toolkit is fully initialized before the <code>Application</code> subclass is instantiated (possibly even before <code>main</code> is invoked)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1690796733,"post_id":76800602,"comment_id":135397917,"body_markdown":"Check out [one of my other answers](https://stackoverflow.com/a/52447692/6395627). It was written after debugging the code for JavaFX 10/11, so some things might have changed by now, but I believe it&#39;s still generally correct. Most of that information, however, is of course implementation details.","body":"Check out <a href=\"https://stackoverflow.com/a/52447692/6395627\">one of my other answers</a>. It was written after debugging the code for JavaFX 10/11, so some things might have changed by now, but I believe it&#39;s still generally correct. Most of that information, however, is of course implementation details."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690833654,"post_id":76800602,"comment_id":135405434,"body_markdown":"@jewelsea I altered code to include thread name. Thanks for the tip.","body":"@jewelsea I altered code to include thread name. Thanks for the tip."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692922684,"creation_date":1690776241,"answer_id":76800602,"question_id":76798326,"body_markdown":"[**Caveat:** I am *not* an expert on JavaFX. I may well be wrong on some points.]\r\n\r\n## tl;dr\r\n\r\nThe abstract `javafx.application.Application` class is *not* being instantiated. As you correctly note, instantiating an abstract class would violate the [Java language specification][1]. \r\n\r\nThe JavaFX framework uses the magic of reflection to &#128073;&#127996; instantiate an object of a concrete class, your subclass of `Application`. \r\n\r\nThe non-static methods `init`, `start`, and `stop` defined by `Application` are being implemented by your subclass of `Application`. It is those implementations you write on your concrete subclass that are being executed by the JavaFX framework. \r\n\r\nSo concrete methods on an object of a concrete class, no `abstract` involved.\r\n\r\n## Lifecycle\r\n\r\nLet&#39;s review the lifecycle of a modern [JavaFX][2]/[OpenJFX][3] app.\r\n\r\n### `main`\r\n\r\nWhen any kind of Java app launches, the JVM executes the designated `main` method in a thread dedicated to that app. \r\n\r\n### `launch`\r\n\r\nIn a JavaFX app, that `main` method should be written to call either of the two overloaded `static` methods [`javafx.application.Application.launch`][4]. The class containing this `main` method must either (a) extend from `javafx.application.Application`, *or* (b) the call to `launch` must pass the `Class` object of your class that *does* extend from `Application`. \r\n\r\nThe `launch` method is only called once per life of your app. And the `launch` method does not return until the end of the app’s life.\r\n\r\nSomething like this:\r\n\r\n```java\r\npublic class TimeApplication extends Application\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        javafx.application.Application.launch ();\r\n    }\r\n}\r\n```\r\n\r\n### `init`\r\n\r\nImmediately after loading and constructing the `Application` class via your subclass, the [`Application#init`][5] method is automatically called. This call happens on a background thread, as seen in my example code below. This background thread is *not* the original app thread, and is *not* the *JavaFX Application Thread* discussed below.\r\n\r\nThe default implementation of that method does nothing. You may choose to provide an implementation that overrides this method. That override is your hook to perform initialization crucial to your app *before* any of the GUI has been established. \r\n\r\nYou may want to use the `init` override to establish necessary resources, and verify the operating environment. For example, you may want to verify that expected external services are indeed available such as user authenticators, web services, message queues, and database servers. Your `init` method might spin off threads to prepare information later needed by your user. \r\n\r\n&#128073;&#127996; But you **cannot construct a `Stage` or `Scene` in `init`** as the JavaFX display framework has not yet been established. You may construct other JavaFX objects. You set the `Scene` &amp; `Stage` and their contents in the `start` method running on a separate thread. \r\n\r\nSimple example:\r\n\r\n```java\r\npublic class TimeApplication extends Application\r\n{\r\n    @Override\r\n    public void init ( ) throws Exception  // On original app thread.\r\n    {\r\n        if ( ! userAuthServiceIsAvailable ( ) )\r\n        {\r\n            // … handle failure … \r\n        }\r\n    }\r\n\r\n    public static void main ( String[] args )  // On original app thread.\r\n    {\r\n        Application.launch ( );\r\n    }\r\n}\r\n```\r\n\r\n### `start`\r\n\r\nAfter the `init` method (either your override or the default [no-op][6]) completes its execution, then [`Application#start`][7] is automatically called. The JavaFX framework automatically constructs and passes a `Stage` object representing the initial window of your app. \r\n\r\nTo quote the Javadoc:\r\n\r\n&gt;The main entry point for all JavaFX applications. The `start` method is called after the `init` method has returned, and after the system is ready for the application to begin running.\r\n\r\nThe `Application#start` method is the place to establish the initial GUI for your app. You construct a `Scene` object, and assign it to the passed `Stage` object.\r\n\r\nThis method executes on a new thread established for JavaFX GUI event handling. This thread is known in the Javadoc as *JavaFX Application Thread*.\r\n\r\nNote that `start` is marked `abstract`, which means the `Application` class does *not* contain an implementation of this method. This means your subclass of `Application` *must* contain an implementation for this method —&#160;if omitted your app would not compile. Note the contrast to `init` and `stop` methods which are not `abstract` and have an implementation in `Application` (an implementation that happens to do nothing, but an implementation nevertheless). So writing an override for `init` &amp; `stop` is optional for us, but writing a `start` method is required.\r\n\r\n### `stop`\r\n\r\nThe counterpart to `Application#start` is [`Application#stop`][8]. The method is automatically called by the JavaFX framework when the app is going to quit/exit. \r\n\r\nThe default implementation does nothing. You may choose to override this method as a hook for you to close resources and perform other clean-up chores appropriate to the app ending.\r\n\r\nThis method executes on the *JavaFX Application Thread*. \r\n\r\n### Example code\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.time.Instant;\r\n\r\npublic class TimeApplication extends Application\r\n{\r\n    @Override\r\n    public void init ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;The init method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n        if ( ! this.userAuthServiceIsAvailable ( ) )\r\n        { /* … handle failure … */ }\r\n    }\r\n\r\n    @Override\r\n    public void start ( Stage stage )\r\n    {\r\n        System.out.println ( &quot;The start method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n\r\n        // Scene\r\n        Button button = new Button ( );\r\n        button.setText ( &quot;Tell time&quot; );\r\n        button.setOnAction ( ( event ) -&gt; System.out.println ( Instant.now ( ) ) );\r\n\r\n        VBox vbox = new VBox ( button );\r\n        Scene scene = new Scene ( vbox );\r\n\r\n        // Stage\r\n        stage.setTitle ( &quot;Time keeps on slipping, slipping, slipping&quot; );\r\n        stage.setHeight ( 300 );\r\n        stage.setWidth ( 500 );\r\n\r\n        stage.setScene ( scene );\r\n        stage.show ( );\r\n    }\r\n\r\n    @Override\r\n    public void stop ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;The stop method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n    }\r\n\r\n    private boolean userAuthServiceIsAvailable ( )\r\n    {\r\n        return true;\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        System.out.println ( &quot;The main method is beginning on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n        Application.launch ( );\r\n        System.out.println ( &quot;The main method is ending on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\r\n    }\r\n}\r\n```\r\n\r\nBe aware that output to `System.out` does *not* necessarily appear in chronological order when called across threads. Include timestamps, and study them, to verify sequence of actions. \r\n\r\nExample output:\r\n\r\n```none\r\nThe main method is beginning on thread 1 “main” at 2023-07-31T19:57:37.255140Z\r\nThe init method is running on thread 27 “JavaFX-Launcher” at 2023-07-31T19:57:37.262522Z\r\nThe start method is running on thread 24 “JavaFX Application Thread” at 2023-07-31T19:57:37.268091Z\r\n2023-07-31T19:57:39.206604Z\r\n2023-07-31T19:57:39.391998Z\r\n2023-07-31T19:57:39.524548Z\r\nThe stop method is running on thread 24 “JavaFX Application Thread” at 2023-07-31T19:57:42.402692Z\r\nThe main method is ending on thread 1 “main” at 2023-07-31T19:57:42.404950Z\r\n```\r\n\r\n### Summary of lifecycle\r\n\r\nHere is my table of lifecycle activities. Note that `init` and `start` run at the same time, ***not* sequentially**, running on separate threads. \r\n\r\n| Sequence | *main*&lt;br/&gt;thread | *JavaFX-Launcher*&lt;br/&gt;thread | *JavaFX Application Thread*&lt;br/&gt;thread |\r\n| :--: | :--: | :--: | :--: |\r\n| 1 | `main` method | | |\r\n| 2 | Your call to [`Application.launch`][4]&lt;br/&gt;(blocks)| | |\r\n| 3 | | | Construction of your subclass of [`Application`][9]&lt;br/&gt;via reflection&lt;br/&gt;by the *JavaFX* framework |\r\n| 4 | | Either no-op or your override of [`Application#init`][5] | Your implementation of [`Application#start`][7]&lt;br/&gt;(you establish [`Scene`][10] &amp; [`Stage`][11]) | \r\n| 5 | | `init` may continue running indefinitely | • User events&lt;br/&gt;• Animation timelines |\r\n| 6 | | | • User closes last window&lt;br/&gt;• Or, [`Platform.exit`][12] called on this or any other thread |\r\n| 7 | | | Either no-op or your override of [`Application#stop`][8] |\r\n| 8 | [`Application.launch`][4] returns | | |\r\n\r\nSequence step # 3 is when the JavaFX framework uses reflection to instantiate an object of your subclass of `Application`. \r\n\r\n\r\n## Your questions\r\n\r\n&gt;in javaFX Application is an abstract class.\r\n\r\nYes. Being abstract means you are intended to write a subclass of `Application`. Thus we have `TimeApplication extends Application` in code above.\r\n\r\n&gt; some abstract methods which are overridden in main class which extends abstract Application class and also have static launch() method\r\n\r\nYes, both `launch` methods are `static`. So we call them with syntax like this: `Application.launch()`. No reference to an object. \r\n\r\nWe usually make the `static` call `Application.launch()` from the `static` method `main`. So we have a `static` call within another `static` call —&#160;no objects involved.\r\n\r\n&gt;The launch() method calls from the main method in main class.\r\n\r\nBe aware that the `main` method *may or may not* be housed within the class inheriting from `Application`. \r\n\r\nThe JavaFX framework examines the class containing the `Application.launch` call. If that class extends the `abstract` class `Application`, then you can use the `launch` method with only a single argument, `args`. If you have an arrangement where the call to `Application.launch` takes place in some class that is *not* a subclass of `Application`, then you must use the other [`launch`][13] method where you pass a `Class` object that represents the class that *is* a subclass of `Application`. \r\n\r\n&#128073;&#127996; What may be confusing you is the lack of a reference to an object of your  subclass of `Application`. In our example code above, at no point do we see an instantiation like this:\r\n\r\n    TimeApplication timeApp = new TimeApplication() ;\r\n\r\nThe reason we see no such instantiation is because of some “magic” in JavaFX. The JavaFX framework is using [reflection][14] to instantiate our subclass on our behalf. \r\n\r\nThe construction of our subclass happens behind the scenes, with no reference in our sight. At no point do we get back a reference to the object of our subclass. See discussion on the Question [*Getting application instance in javafx*](https://stackoverflow.com/q/27652509/642706). If you really want a reference to the object of your subclass of `Application`, see the workaround in [this Answer](https://stackoverflow.com/a/40030071/642706).\r\n\r\n&gt;Now how is it possible launch() method calls these abstract methods and for these calls overridden methods in main class are executes?\r\n\r\nThe `static` call to `Application.launch` results in the concrete subclass (`TimeApplication` in our example) inheriting from the abstract `Application` class. So we have an object, a `TimeApplication` object, in memory, but we do not see any reference to it. That object has the override methods of `init`, `start`, and `stop`. So we have a concrete object, not abstract, with regular overrides methods being executed at various points in time on various threads. The Java rules you mention are being followed properly, as described in these two bullets:\r\n\r\n - &gt;I know that non-static method can&#39;t invoked from static method\r\n\r\nWe are not invoking non-static methods from a static context. The non-static `init`, `start`, and `stop` methods are being executed on an object of our concrete subclass `TimeApplication` that was automatically instantiated for us, not by us. The calls to those methods `init`, `start`, and `stop` are also being made for us, not by us.\r\n - &gt;and it is not possible to create instance of an abstract class. \r\n\r\nYou are correct — No instance was made of the abstract class `Application`. The JavaFX used the magic of reflection to create, behind the curtains, an instance of our subclass of `Application`. Via reflection, JavaFX created an instance of `TimeApplication` in our example above. The framework instantiated an object of a concrete subclass extending an abstract class. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/\r\n  [2]: https://en.wikipedia.org/wiki/JavaFX\r\n  [3]: https://openjfx.io/\r\n  [4]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\r\n  [5]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#init()\r\n  [6]: https://en.wikipedia.org/wiki/NOP_(code)\r\n  [7]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#start(javafx.stage.Stage)\r\n  [8]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#stop()\r\n  [9]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\r\n  [10]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Scene.html\r\n  [11]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/stage/Stage.html\r\n  [12]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Platform.html#exit()\r\n  [13]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.Class,java.lang.String...)\r\n  [14]: https://en.wikipedia.org/wiki/Reflective_programming","title":"I Want to Understand How abstract class Application&#39;s launch() method work in JavaFX","body":"<p>[<strong>Caveat:</strong> I am <em>not</em> an expert on JavaFX. I may well be wrong on some points.]</p>\n<h2>tl;dr</h2>\n<p>The abstract <code>javafx.application.Application</code> class is <em>not</em> being instantiated. As you correctly note, instantiating an abstract class would violate the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"nofollow noreferrer\">Java language specification</a>.</p>\n<p>The JavaFX framework uses the magic of reflection to 👉🏼 instantiate an object of a concrete class, your subclass of <code>Application</code>.</p>\n<p>The non-static methods <code>init</code>, <code>start</code>, and <code>stop</code> defined by <code>Application</code> are being implemented by your subclass of <code>Application</code>. It is those implementations you write on your concrete subclass that are being executed by the JavaFX framework.</p>\n<p>So concrete methods on an object of a concrete class, no <code>abstract</code> involved.</p>\n<h2>Lifecycle</h2>\n<p>Let's review the lifecycle of a modern <a href=\"https://en.wikipedia.org/wiki/JavaFX\" rel=\"nofollow noreferrer\">JavaFX</a>/<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> app.</p>\n<h3><code>main</code></h3>\n<p>When any kind of Java app launches, the JVM executes the designated <code>main</code> method in a thread dedicated to that app.</p>\n<h3><code>launch</code></h3>\n<p>In a JavaFX app, that <code>main</code> method should be written to call either of the two overloaded <code>static</code> methods <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>javafx.application.Application.launch</code></a>. The class containing this <code>main</code> method must either (a) extend from <code>javafx.application.Application</code>, <em>or</em> (b) the call to <code>launch</code> must pass the <code>Class</code> object of your class that <em>does</em> extend from <code>Application</code>.</p>\n<p>The <code>launch</code> method is only called once per life of your app. And the <code>launch</code> method does not return until the end of the app’s life.</p>\n<p>Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeApplication extends Application\n{\n    public static void main ( String[] args )\n    {\n        javafx.application.Application.launch ();\n    }\n}\n</code></pre>\n<h3><code>init</code></h3>\n<p>Immediately after loading and constructing the <code>Application</code> class via your subclass, the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#init()\" rel=\"nofollow noreferrer\"><code>Application#init</code></a> method is automatically called. This call happens on a background thread, as seen in my example code below. This background thread is <em>not</em> the original app thread, and is <em>not</em> the <em>JavaFX Application Thread</em> discussed below.</p>\n<p>The default implementation of that method does nothing. You may choose to provide an implementation that overrides this method. That override is your hook to perform initialization crucial to your app <em>before</em> any of the GUI has been established.</p>\n<p>You may want to use the <code>init</code> override to establish necessary resources, and verify the operating environment. For example, you may want to verify that expected external services are indeed available such as user authenticators, web services, message queues, and database servers. Your <code>init</code> method might spin off threads to prepare information later needed by your user.</p>\n<p>👉🏼 But you <strong>cannot construct a <code>Stage</code> or <code>Scene</code> in <code>init</code></strong> as the JavaFX display framework has not yet been established. You may construct other JavaFX objects. You set the <code>Scene</code> &amp; <code>Stage</code> and their contents in the <code>start</code> method running on a separate thread.</p>\n<p>Simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeApplication extends Application\n{\n    @Override\n    public void init ( ) throws Exception  // On original app thread.\n    {\n        if ( ! userAuthServiceIsAvailable ( ) )\n        {\n            // … handle failure … \n        }\n    }\n\n    public static void main ( String[] args )  // On original app thread.\n    {\n        Application.launch ( );\n    }\n}\n</code></pre>\n<h3><code>start</code></h3>\n<p>After the <code>init</code> method (either your override or the default <a href=\"https://en.wikipedia.org/wiki/NOP_(code)\" rel=\"nofollow noreferrer\">no-op</a>) completes its execution, then <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#start(javafx.stage.Stage)\" rel=\"nofollow noreferrer\"><code>Application#start</code></a> is automatically called. The JavaFX framework automatically constructs and passes a <code>Stage</code> object representing the initial window of your app.</p>\n<p>To quote the Javadoc:</p>\n<blockquote>\n<p>The main entry point for all JavaFX applications. The <code>start</code> method is called after the <code>init</code> method has returned, and after the system is ready for the application to begin running.</p>\n</blockquote>\n<p>The <code>Application#start</code> method is the place to establish the initial GUI for your app. You construct a <code>Scene</code> object, and assign it to the passed <code>Stage</code> object.</p>\n<p>This method executes on a new thread established for JavaFX GUI event handling. This thread is known in the Javadoc as <em>JavaFX Application Thread</em>.</p>\n<p>Note that <code>start</code> is marked <code>abstract</code>, which means the <code>Application</code> class does <em>not</em> contain an implementation of this method. This means your subclass of <code>Application</code> <em>must</em> contain an implementation for this method — if omitted your app would not compile. Note the contrast to <code>init</code> and <code>stop</code> methods which are not <code>abstract</code> and have an implementation in <code>Application</code> (an implementation that happens to do nothing, but an implementation nevertheless). So writing an override for <code>init</code> &amp; <code>stop</code> is optional for us, but writing a <code>start</code> method is required.</p>\n<h3><code>stop</code></h3>\n<p>The counterpart to <code>Application#start</code> is <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#stop()\" rel=\"nofollow noreferrer\"><code>Application#stop</code></a>. The method is automatically called by the JavaFX framework when the app is going to quit/exit.</p>\n<p>The default implementation does nothing. You may choose to override this method as a hook for you to close resources and perform other clean-up chores appropriate to the app ending.</p>\n<p>This method executes on the <em>JavaFX Application Thread</em>.</p>\n<h3>Example code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.time.Instant;\n\npublic class TimeApplication extends Application\n{\n    @Override\n    public void init ( ) throws Exception\n    {\n        System.out.println ( &quot;The init method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n        if ( ! this.userAuthServiceIsAvailable ( ) )\n        { /* … handle failure … */ }\n    }\n\n    @Override\n    public void start ( Stage stage )\n    {\n        System.out.println ( &quot;The start method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n\n        // Scene\n        Button button = new Button ( );\n        button.setText ( &quot;Tell time&quot; );\n        button.setOnAction ( ( event ) -&gt; System.out.println ( Instant.now ( ) ) );\n\n        VBox vbox = new VBox ( button );\n        Scene scene = new Scene ( vbox );\n\n        // Stage\n        stage.setTitle ( &quot;Time keeps on slipping, slipping, slipping&quot; );\n        stage.setHeight ( 300 );\n        stage.setWidth ( 500 );\n\n        stage.setScene ( scene );\n        stage.show ( );\n    }\n\n    @Override\n    public void stop ( ) throws Exception\n    {\n        System.out.println ( &quot;The stop method is running on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n    }\n\n    private boolean userAuthServiceIsAvailable ( )\n    {\n        return true;\n    }\n\n    public static void main ( String[] args )\n    {\n        System.out.println ( &quot;The main method is beginning on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n        Application.launch ( );\n        System.out.println ( &quot;The main method is ending on thread &quot; + Thread.currentThread ( ).threadId ( ) + &quot; “&quot; + Thread.currentThread ( ).getName ( ) + &quot;”&quot; + &quot; at &quot; + Instant.now ( ) );\n    }\n}\n</code></pre>\n<p>Be aware that output to <code>System.out</code> does <em>not</em> necessarily appear in chronological order when called across threads. Include timestamps, and study them, to verify sequence of actions.</p>\n<p>Example output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The main method is beginning on thread 1 “main” at 2023-07-31T19:57:37.255140Z\nThe init method is running on thread 27 “JavaFX-Launcher” at 2023-07-31T19:57:37.262522Z\nThe start method is running on thread 24 “JavaFX Application Thread” at 2023-07-31T19:57:37.268091Z\n2023-07-31T19:57:39.206604Z\n2023-07-31T19:57:39.391998Z\n2023-07-31T19:57:39.524548Z\nThe stop method is running on thread 24 “JavaFX Application Thread” at 2023-07-31T19:57:42.402692Z\nThe main method is ending on thread 1 “main” at 2023-07-31T19:57:42.404950Z\n</code></pre>\n<h3>Summary of lifecycle</h3>\n<p>Here is my table of lifecycle activities. Note that <code>init</code> and <code>start</code> run at the same time, <strong><em>not</em> sequentially</strong>, running on separate threads.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Sequence</th>\n<th style=\"text-align: center;\"><em>main</em><br/>thread</th>\n<th style=\"text-align: center;\"><em>JavaFX-Launcher</em><br/>thread</th>\n<th style=\"text-align: center;\"><em>JavaFX Application Thread</em><br/>thread</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\"><code>main</code> method</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">2</td>\n<td style=\"text-align: center;\">Your call to <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Application.launch</code></a><br/>(blocks)</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">3</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">Construction of your subclass of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\"><code>Application</code></a><br/>via reflection<br/>by the <em>JavaFX</em> framework</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">4</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">Either no-op or your override of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#init()\" rel=\"nofollow noreferrer\"><code>Application#init</code></a></td>\n<td style=\"text-align: center;\">Your implementation of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#start(javafx.stage.Stage)\" rel=\"nofollow noreferrer\"><code>Application#start</code></a><br/>(you establish <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Scene.html\" rel=\"nofollow noreferrer\"><code>Scene</code></a> &amp; <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/stage/Stage.html\" rel=\"nofollow noreferrer\"><code>Stage</code></a>)</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"><code>init</code> may continue running indefinitely</td>\n<td style=\"text-align: center;\">• User events<br/>• Animation timelines</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">6</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">• User closes last window<br/>• Or, <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Platform.html#exit()\" rel=\"nofollow noreferrer\"><code>Platform.exit</code></a> called on this or any other thread</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">7</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\">Either no-op or your override of <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#stop()\" rel=\"nofollow noreferrer\"><code>Application#stop</code></a></td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">8</td>\n<td style=\"text-align: center;\"><a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Application.launch</code></a> returns</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: center;\"></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Sequence step # 3 is when the JavaFX framework uses reflection to instantiate an object of your subclass of <code>Application</code>.</p>\n<h2>Your questions</h2>\n<blockquote>\n<p>in javaFX Application is an abstract class.</p>\n</blockquote>\n<p>Yes. Being abstract means you are intended to write a subclass of <code>Application</code>. Thus we have <code>TimeApplication extends Application</code> in code above.</p>\n<blockquote>\n<p>some abstract methods which are overridden in main class which extends abstract Application class and also have static launch() method</p>\n</blockquote>\n<p>Yes, both <code>launch</code> methods are <code>static</code>. So we call them with syntax like this: <code>Application.launch()</code>. No reference to an object.</p>\n<p>We usually make the <code>static</code> call <code>Application.launch()</code> from the <code>static</code> method <code>main</code>. So we have a <code>static</code> call within another <code>static</code> call — no objects involved.</p>\n<blockquote>\n<p>The launch() method calls from the main method in main class.</p>\n</blockquote>\n<p>Be aware that the <code>main</code> method <em>may or may not</em> be housed within the class inheriting from <code>Application</code>.</p>\n<p>The JavaFX framework examines the class containing the <code>Application.launch</code> call. If that class extends the <code>abstract</code> class <code>Application</code>, then you can use the <code>launch</code> method with only a single argument, <code>args</code>. If you have an arrangement where the call to <code>Application.launch</code> takes place in some class that is <em>not</em> a subclass of <code>Application</code>, then you must use the other <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html#launch(java.lang.Class,java.lang.String...)\" rel=\"nofollow noreferrer\"><code>launch</code></a> method where you pass a <code>Class</code> object that represents the class that <em>is</em> a subclass of <code>Application</code>.</p>\n<p>👉🏼 What may be confusing you is the lack of a reference to an object of your  subclass of <code>Application</code>. In our example code above, at no point do we see an instantiation like this:</p>\n<pre><code>TimeApplication timeApp = new TimeApplication() ;\n</code></pre>\n<p>The reason we see no such instantiation is because of some “magic” in JavaFX. The JavaFX framework is using <a href=\"https://en.wikipedia.org/wiki/Reflective_programming\" rel=\"nofollow noreferrer\">reflection</a> to instantiate our subclass on our behalf.</p>\n<p>The construction of our subclass happens behind the scenes, with no reference in our sight. At no point do we get back a reference to the object of our subclass. See discussion on the Question <a href=\"https://stackoverflow.com/q/27652509/642706\"><em>Getting application instance in javafx</em></a>. If you really want a reference to the object of your subclass of <code>Application</code>, see the workaround in <a href=\"https://stackoverflow.com/a/40030071/642706\">this Answer</a>.</p>\n<blockquote>\n<p>Now how is it possible launch() method calls these abstract methods and for these calls overridden methods in main class are executes?</p>\n</blockquote>\n<p>The <code>static</code> call to <code>Application.launch</code> results in the concrete subclass (<code>TimeApplication</code> in our example) inheriting from the abstract <code>Application</code> class. So we have an object, a <code>TimeApplication</code> object, in memory, but we do not see any reference to it. That object has the override methods of <code>init</code>, <code>start</code>, and <code>stop</code>. So we have a concrete object, not abstract, with regular overrides methods being executed at various points in time on various threads. The Java rules you mention are being followed properly, as described in these two bullets:</p>\n<ul>\n<li>\n<blockquote>\n<p>I know that non-static method can't invoked from static method</p>\n</blockquote>\n</li>\n</ul>\n<p>We are not invoking non-static methods from a static context. The non-static <code>init</code>, <code>start</code>, and <code>stop</code> methods are being executed on an object of our concrete subclass <code>TimeApplication</code> that was automatically instantiated for us, not by us. The calls to those methods <code>init</code>, <code>start</code>, and <code>stop</code> are also being made for us, not by us.</p>\n<ul>\n<li>\n<blockquote>\n<p>and it is not possible to create instance of an abstract class.</p>\n</blockquote>\n</li>\n</ul>\n<p>You are correct — No instance was made of the abstract class <code>Application</code>. The JavaFX used the magic of reflection to create, behind the curtains, an instance of our subclass of <code>Application</code>. Via reflection, JavaFX created an instance of <code>TimeApplication</code> in our example above. The framework instantiated an object of a concrete subclass extending an abstract class.</p>\n"}],"owner":{"account_id":29122721,"reputation":13,"user_id":22309801,"display_name":"Nahid"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76799962,"answer_count":2,"score":0,"last_activity_date":1692922684,"creation_date":1690729293,"question_id":76798326,"body_markdown":"in javaFX Application is an abstract class. In this abstract class there have some abstract methods which are overridden in main class which extends abstract Application class and also have static launch() method in abstract class Application. The launch() method calls from the main method in main class. Now how is it possible launch() method calls these abstract methods and for these calls overridden methods in main class are executes? please help me to understand this procedure actually works.\r\nI know that non-static method can&#39;t invoked from static method and it is not possible to create instance of an abstract class. abstract method can&#39;t be a static method.\r\n\r\nI don&#39;t want to create object of main class. Because the launch() method don&#39;t know what is the name of main class.\r\n\r\nWrite me a java code where this procedure illustrate well. like this\r\n```\r\npublic class main extends Application{\r\n    public static void main(String[] args)\r\n        launch();                       // launch() was a static method in Application class\r\n    }\r\n    @override\r\n    public void init(){                 // init() was an abstract method in Application class\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n}\r\n\r\npublic abstract class Application {\r\n    public static void launch(){\r\n        init();\r\n    }\r\n    public abstract void init();\r\n}\r\n```\r\nI want to get output : hello","title":"I Want to Understand How abstract class Application&#39;s launch() method work in JavaFX","body":"<p>in javaFX Application is an abstract class. In this abstract class there have some abstract methods which are overridden in main class which extends abstract Application class and also have static launch() method in abstract class Application. The launch() method calls from the main method in main class. Now how is it possible launch() method calls these abstract methods and for these calls overridden methods in main class are executes? please help me to understand this procedure actually works.\nI know that non-static method can't invoked from static method and it is not possible to create instance of an abstract class. abstract method can't be a static method.</p>\n<p>I don't want to create object of main class. Because the launch() method don't know what is the name of main class.</p>\n<p>Write me a java code where this procedure illustrate well. like this</p>\n<pre><code>public class main extends Application{\n    public static void main(String[] args)\n        launch();                       // launch() was a static method in Application class\n    }\n    @override\n    public void init(){                 // init() was an abstract method in Application class\n        System.out.println(&quot;hello&quot;);\n    }\n}\n\npublic abstract class Application {\n    public static void launch(){\n        init();\n    }\n    public abstract void init();\n}\n</code></pre>\n<p>I want to get output : hello</p>\n"},{"tags":["java","serialization","protocol-buffers","protobuf-java"],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692963156,"post_id":76973514,"comment_id":135699633,"body_markdown":"Pardon me, but I would like to know why a user of your stature chose to post an answer which, in my opinion, should clearly be posted as a comment.","body":"Pardon me, but I would like to know why a user of your stature chose to post an answer which, in my opinion, should clearly be posted as a comment."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1692981207,"post_id":76973514,"comment_id":135703934,"body_markdown":"No, I&#39;m actually going to push back against that.  The question in the OP was &quot;is there a way to do that?&quot;  The answer is no, there is not.  Protobuf does not expose a way to include POJOs or any objects other than those created by protobuf (and proto-supported scalars) in the hierarchy of a proto type.  This directly, and accurately, answers the OP&#39;s question; I stand by it.","body":"No, I&#39;m actually going to push back against that.  The question in the OP was &quot;is there a way to do that?&quot;  The answer is no, there is not.  Protobuf does not expose a way to include POJOs or any objects other than those created by protobuf (and proto-supported scalars) in the hierarchy of a proto type.  This directly, and accurately, answers the OP&#39;s question; I stand by it."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692921951,"creation_date":1692921951,"answer_id":76973514,"question_id":76972732,"body_markdown":"No, there is not a way to do that.","title":"De/Serialzing custom java types with protobuf in java","body":"<p>No, there is not a way to do that.</p>\n"}],"owner":{"account_id":17962979,"reputation":3,"user_id":13053519,"display_name":"Elad Barkay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1694198441,"accepted_answer_id":76973514,"answer_count":1,"score":0,"last_activity_date":1692921951,"creation_date":1692908894,"question_id":76972732,"body_markdown":"protocul buffer supports only a close set of types, like int32, strings, repeted, etc.\r\n\r\nThe problem is that I want to create a custom deserializer for specific things. For example, look at this proto message:\r\n\r\n```java\r\nsyntax = &quot;proto3&quot;;\r\n\r\nimport &quot;google/protobuf/timestamp.proto&quot;;\r\n\r\nmessage UberDrive {\r\n  string user_id = 1;\r\n  google.protobuf.Timestamp transaction_timestamp = 2;\r\n  string start_locaion = 3; //WKT data\r\n  string end_locaion = 3; //WKT data\r\n}\r\n```\r\n\r\nCurrently, the start_location and end_location just contain WKT data that, later, when needed in the code, is serialized to an `org.locationtech.jts.geom.Geometry.class` object (which can be a point, linestring, polygon, etc.).\r\n\r\nI would like to work directly with the Geometry data type in my pojo to avoid serializing the geometry over and over again and for cleaner code. Is there a way to do that?\r\n\r\nI couldn&#39;t find any solution for what I was searching for.","title":"De/Serialzing custom java types with protobuf in java","body":"<p>protocul buffer supports only a close set of types, like int32, strings, repeted, etc.</p>\n<p>The problem is that I want to create a custom deserializer for specific things. For example, look at this proto message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>syntax = &quot;proto3&quot;;\n\nimport &quot;google/protobuf/timestamp.proto&quot;;\n\nmessage UberDrive {\n  string user_id = 1;\n  google.protobuf.Timestamp transaction_timestamp = 2;\n  string start_locaion = 3; //WKT data\n  string end_locaion = 3; //WKT data\n}\n</code></pre>\n<p>Currently, the start_location and end_location just contain WKT data that, later, when needed in the code, is serialized to an <code>org.locationtech.jts.geom.Geometry.class</code> object (which can be a point, linestring, polygon, etc.).</p>\n<p>I would like to work directly with the Geometry data type in my pojo to avoid serializing the geometry over and over again and for cleaner code. Is there a way to do that?</p>\n<p>I couldn't find any solution for what I was searching for.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":4,"creation_date":1692832766,"post_id":76964928,"comment_id":135679323,"body_markdown":"You can use a [Popup with an anchor](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Popup.html).","body":"You can use a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Popup.html\" rel=\"nofollow noreferrer\">Popup with an anchor</a>."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1692833414,"post_id":76964928,"comment_id":135679391,"body_markdown":"@jewelsea I&#39;ll give it a try, thx for suggesting","body":"@jewelsea I&#39;ll give it a try, thx for suggesting"}],"answers":[{"comments":[{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1693335798,"post_id":76965607,"comment_id":135746484,"body_markdown":"works like a charm, thx!","body":"works like a charm, thx!"}],"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1692921943,"creation_date":1692836959,"answer_id":76965607,"question_id":76964928,"body_markdown":"+1 for what @jewelsea suggested.\r\n\r\nYou can create a custom Tooltip to set this functionality across multiple nodes.\r\nThe idea is to set the anchor every time just before showing the Tooltip so that it can work well even when the window is moved across the screen.\r\n\r\nYou can check the idea in the below demo:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Point2D;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Tooltip;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class TooltipAnchoringDemo extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Label label1 = new Label(&quot;TEST1\\nTEST1\\nTEST1&quot;);\r\n            label1.setStyle(&quot;-fx-background-color: red;&quot;);\r\n            Label label2 = new Label(&quot;TEST2\\nTEST2\\nTEST2&quot;);\r\n            label2.setStyle(&quot;-fx-background-color: green;&quot;);\r\n            Label label3 = new Label(&quot;TEST3\\nTEST3\\nTEST3&quot;);\r\n            label3.setStyle(&quot;-fx-background-color: blue;&quot;);\r\n    \r\n            CustomTooltip tooltip = CustomTooltip.install(&quot;TOOLTIP 1&quot;, label1);\r\n            tooltip.setShowDelay(Duration.seconds(0.5));\r\n    \r\n            CustomTooltip.install(&quot;TOOLTIP 2&quot;, label2);\r\n            CustomTooltip.install(&quot;TOOLTIP 3&quot;, label3);\r\n    \r\n            HBox root = new HBox(15, label1, label2, label3);\r\n            root.setPadding(new Insets(10));\r\n            root.setAlignment(Pos.TOP_LEFT);\r\n    \r\n            Scene scene = new Scene(root, 300, 180);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Tooltip Demo&quot;);\r\n    \r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n    \r\n    class CustomTooltip extends Tooltip {\r\n        /**\r\n         * Pixel offset from the node in the y-axis to display the tooltip.\r\n         * You can keep it to 0. Normally I don&#39;t want to keep it very near to the node.\r\n         */\r\n        private static final int Y_OFFSET = 2;\r\n    \r\n        private Node node;\r\n    \r\n        public CustomTooltip(final String s) {\r\n            super(s);\r\n        }\r\n    \r\n        public static CustomTooltip install(String msg, Node node) {\r\n            CustomTooltip tooltip = new CustomTooltip(msg);\r\n            tooltip.node = node;\r\n            install(node, tooltip);\r\n            return tooltip;\r\n        }\r\n    \r\n        @Override\r\n        protected void show() {\r\n            /* Set the new position before showing. */\r\n            Point2D anchor = anchor(node);\r\n            setAnchorX(anchor.getX());\r\n            setAnchorY(anchor.getY());\r\n            \r\n            super.show();\r\n        }\r\n    \r\n        /**\r\n         * Calculates the anchor point for the tooltip.\r\n         *\r\n         * @param n the node\r\n         * @return the anchor position\r\n         */\r\n        private Point2D anchor(final Node n) {\r\n            /* Get the node bounds on the screen. */\r\n            final Bounds bounds = n.localToScreen(n.getBoundsInLocal());\r\n    \r\n            /* Calculate the opening position based on node bounds . */\r\n            final Point2D openPosition = new Point2D(bounds.getMaxX(), bounds.getMaxY() + Y_OFFSET);\r\n    \r\n            return openPosition;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BVFzb.gif","title":"JavaFX show tooltip in a fixed position relative to the node","body":"<p>+1 for what @jewelsea suggested.</p>\n<p>You can create a custom Tooltip to set this functionality across multiple nodes.\nThe idea is to set the anchor every time just before showing the Tooltip so that it can work well even when the window is moved across the screen.</p>\n<p>You can check the idea in the below demo:</p>\n<p><a href=\"https://i.stack.imgur.com/BVFzb.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVFzb.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Bounds;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Point2D;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Tooltip;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class TooltipAnchoringDemo extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Label label1 = new Label(&quot;TEST1\\nTEST1\\nTEST1&quot;);\n        label1.setStyle(&quot;-fx-background-color: red;&quot;);\n        Label label2 = new Label(&quot;TEST2\\nTEST2\\nTEST2&quot;);\n        label2.setStyle(&quot;-fx-background-color: green;&quot;);\n        Label label3 = new Label(&quot;TEST3\\nTEST3\\nTEST3&quot;);\n        label3.setStyle(&quot;-fx-background-color: blue;&quot;);\n\n        CustomTooltip tooltip = CustomTooltip.install(&quot;TOOLTIP 1&quot;, label1);\n        tooltip.setShowDelay(Duration.seconds(0.5));\n\n        CustomTooltip.install(&quot;TOOLTIP 2&quot;, label2);\n        CustomTooltip.install(&quot;TOOLTIP 3&quot;, label3);\n\n        HBox root = new HBox(15, label1, label2, label3);\n        root.setPadding(new Insets(10));\n        root.setAlignment(Pos.TOP_LEFT);\n\n        Scene scene = new Scene(root, 300, 180);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Tooltip Demo&quot;);\n\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n\nclass CustomTooltip extends Tooltip {\n    /**\n     * Pixel offset from the node in the y-axis to display the tooltip.\n     * You can keep it to 0. Normally I don't want to keep it very near to the node.\n     */\n    private static final int Y_OFFSET = 2;\n\n    private Node node;\n\n    public CustomTooltip(final String s) {\n        super(s);\n    }\n\n    public static CustomTooltip install(String msg, Node node) {\n        CustomTooltip tooltip = new CustomTooltip(msg);\n        tooltip.node = node;\n        install(node, tooltip);\n        return tooltip;\n    }\n\n    @Override\n    protected void show() {\n        /* Set the new position before showing. */\n        Point2D anchor = anchor(node);\n        setAnchorX(anchor.getX());\n        setAnchorY(anchor.getY());\n        \n        super.show();\n    }\n\n    /**\n     * Calculates the anchor point for the tooltip.\n     *\n     * @param n the node\n     * @return the anchor position\n     */\n    private Point2D anchor(final Node n) {\n        /* Get the node bounds on the screen. */\n        final Bounds bounds = n.localToScreen(n.getBoundsInLocal());\n\n        /* Calculate the opening position based on node bounds . */\n        final Point2D openPosition = new Point2D(bounds.getMaxX(), bounds.getMaxY() + Y_OFFSET);\n\n        return openPosition;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76965607,"answer_count":1,"score":6,"last_activity_date":1692921943,"creation_date":1692825281,"question_id":76964928,"body_markdown":"**Goal:** To make ToolTip always show in the bottom-right position of the node\r\n\r\n**Problem:** Regardless my efforts, I&#39;m unable to override or adapt ToolTip behavior. It always shows up based on the mouse position.\r\n\r\n**MRE:**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Point2D;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.Tooltip;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class HelloApplication extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            Label label = new Label(&quot;TEST\\nTEST\\nTEST&quot;);\r\n            label.setStyle(&quot;-fx-background-color: green;&quot;);\r\n    \r\n            Tooltip tooltip = new Tooltip(&quot;TOOLTIP&quot;);\r\n            tooltip.setShowDelay(Duration.seconds(0.5));\r\n            label.setTooltip(tooltip);\r\n    \r\n            Scene scene = new Scene(new AnchorPane(label));\r\n            stage.setScene(scene);\r\n            \r\n            stage.show();\r\n    \r\n            Point2D p = label.localToScene(0.0, 0.0);\r\n            label.getTooltip().show(label,\r\n                    p.getX() + label.getScene().getX() + label.getScene().getWindow().getX(),\r\n                    p.getY() + label.getScene().getY() + label.getScene().getWindow().getY());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nTo make it clearer, this is what I&#39;m looking for:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nInstead, ToolTip always shows on top of the node:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V3b18.png\r\n  [2]: https://i.stack.imgur.com/EwKyh.png","title":"JavaFX show tooltip in a fixed position relative to the node","body":"<p><strong>Goal:</strong> To make ToolTip always show in the bottom-right position of the node</p>\n<p><strong>Problem:</strong> Regardless my efforts, I'm unable to override or adapt ToolTip behavior. It always shows up based on the mouse position.</p>\n<p><strong>MRE:</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Point2D;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Tooltip;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        Label label = new Label(&quot;TEST\\nTEST\\nTEST&quot;);\n        label.setStyle(&quot;-fx-background-color: green;&quot;);\n\n        Tooltip tooltip = new Tooltip(&quot;TOOLTIP&quot;);\n        tooltip.setShowDelay(Duration.seconds(0.5));\n        label.setTooltip(tooltip);\n\n        Scene scene = new Scene(new AnchorPane(label));\n        stage.setScene(scene);\n        \n        stage.show();\n\n        Point2D p = label.localToScene(0.0, 0.0);\n        label.getTooltip().show(label,\n                p.getX() + label.getScene().getX() + label.getScene().getWindow().getX(),\n                p.getY() + label.getScene().getY() + label.getScene().getWindow().getY());\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>To make it clearer, this is what I'm looking for:</p>\n<p><a href=\"https://i.stack.imgur.com/V3b18.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V3b18.png\" alt=\"enter image description here\" /></a></p>\n<p>Instead, ToolTip always shows on top of the node:</p>\n<p><a href=\"https://i.stack.imgur.com/EwKyh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EwKyh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","gradle","android-gradle-plugin","abi"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1643491878,"post_id":70909871,"comment_id":125355879,"body_markdown":"When I Google for &quot;what is ABI in programming&quot; I get this: https://en.wikipedia.org/wiki/Application_binary_interface","body":"When I Google for &quot;what is ABI in programming&quot; I get this: <a href=\"https://en.wikipedia.org/wiki/Application_binary_interface\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Application_binary_interface</a>"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1643492436,"post_id":70909871,"comment_id":125355973,"body_markdown":"You should edit your post to include links/quotes of articles/videos of what you are confused about as the terminology used by each author/speaker may not have the same meaning.","body":"You should edit your post to include links/quotes of articles/videos of what you are confused about as the terminology used by each author/speaker may not have the same meaning."},{"owner":{"account_id":3276715,"reputation":2415,"user_id":2758499,"accept_rate":71,"display_name":"Saran Sankaran"},"score":0,"creation_date":1643494756,"post_id":70909871,"comment_id":125356461,"body_markdown":"Added reference Image and linked the video. Thanks for point it out.","body":"Added reference Image and linked the video. Thanks for point it out."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1643501015,"post_id":70909871,"comment_id":125357520,"body_markdown":"The video explains this.  The first is a build change that adds a public method, and the second is a build that modifies a method body with no change to the public API.  Like literally 10 seconds after the time in the video you linked to.","body":"The video explains this.  The first is a build change that adds a public method, and the second is a build that modifies a method body with no change to the public API.  Like literally 10 seconds after the time in the video you linked to."},{"owner":{"account_id":2087094,"reputation":659,"user_id":1857812,"display_name":"breenger"},"score":0,"creation_date":1684421077,"post_id":70909871,"comment_id":134517676,"body_markdown":"You can see a more thorough explanation with examples here: https://blog.gradle.org/compilation-avoidance","body":"You can see a more thorough explanation with examples here: <a href=\"https://blog.gradle.org/compilation-avoidance\" rel=\"nofollow noreferrer\">blog.gradle.org/compilation-avoidance</a>"}],"answers":[{"tags":[],"owner":{"account_id":15341199,"reputation":210,"user_id":11068153,"display_name":"gavrbhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692921117,"creation_date":1692921117,"answer_id":76973475,"question_id":70909871,"body_markdown":"Hope this helps. Ref/credits: https://github.com/gradle/gradle/issues/15886#issuecomment-989999391\r\n\r\nABI stands for Application Binary Interface.\r\n\r\nAn ABI change is a change that modifies the ABI, iow the &quot;public api&quot; that downstream consumers compile against. All consumers need to be recompiled.\r\n\r\nA non-ABI change is a change that does not modify the ABI, iow only touches the &quot;private implementation&quot;. Consumers compilation can be skipped.","title":"What is the difference between a ABI change and non-ABI change","body":"<p>Hope this helps. Ref/credits: <a href=\"https://github.com/gradle/gradle/issues/15886#issuecomment-989999391\" rel=\"nofollow noreferrer\">https://github.com/gradle/gradle/issues/15886#issuecomment-989999391</a></p>\n<p>ABI stands for Application Binary Interface.</p>\n<p>An ABI change is a change that modifies the ABI, iow the &quot;public api&quot; that downstream consumers compile against. All consumers need to be recompiled.</p>\n<p>A non-ABI change is a change that does not modify the ABI, iow only touches the &quot;private implementation&quot;. Consumers compilation can be skipped.</p>\n"}],"owner":{"account_id":3276715,"reputation":2415,"user_id":2758499,"accept_rate":71,"display_name":"Saran Sankaran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692921117,"creation_date":1643491620,"question_id":70909871,"body_markdown":"In various articles and videos published by the Android team related to Gradle optimisations, I have seen build performance compared for ABI changes and non-ABI change. What does it mean and what are some examples of it, when coding in Java/Kotlin and when using native code like C++?\r\n\r\nReference:\r\n[![Image I&#39;m referring to][1]][1]\r\nTaken from video: https://youtu.be/S_zZRBJxTQ0?t=267\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wfMm9.png","title":"What is the difference between a ABI change and non-ABI change","body":"<p>In various articles and videos published by the Android team related to Gradle optimisations, I have seen build performance compared for ABI changes and non-ABI change. What does it mean and what are some examples of it, when coding in Java/Kotlin and when using native code like C++?</p>\n<p>Reference:\n<a href=\"https://i.stack.imgur.com/wfMm9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wfMm9.png\" alt=\"Image I'm referring to\" /></a>\nTaken from video: <a href=\"https://youtu.be/S_zZRBJxTQ0?t=267\" rel=\"nofollow noreferrer\">https://youtu.be/S_zZRBJxTQ0?t=267</a></p>\n"},{"tags":["java","arrays","string","javafx","special-characters"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1692667354,"post_id":76949541,"comment_id":135651983,"body_markdown":"use a regex string::replaceAll","body":"use a regex string::replaceAll"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1692668773,"post_id":76949541,"comment_id":135652123,"body_markdown":"I would suggest completing a console version of the game. When that is complete, work on the graphics.","body":"I would suggest completing a console version of the game. When that is complete, work on the graphics."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1692668906,"post_id":76949541,"comment_id":135652132,"body_markdown":"Remember to look at your post after you submit so you can [edit] any mistakes: code blocks use _three_ backticks, not four.","body":"Remember to look at your post after you submit so you can <a href=\"https://stackoverflow.com/posts/76949541/edit\">edit</a> any mistakes: code blocks use <i>three</i> backticks, not four."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1692669307,"post_id":76949541,"comment_id":135652180,"body_markdown":"Given example code for an `ArrayList`, you should be able to easily convert the example to use an array, if you understand arrays and `ArrayList`. But, a `List` is more flexible than an array. For one, the size of an array is fixed, but the size of an `List` can be changed. You can delete elements from a `List` but not an array. (Drifting off-topic: If you have an array of Objects, you can set an element to `null` to simulate deletion. If you have an array of primitives, to simulate deletion, you might have a &quot;special value&quot; that indicates the indexed element is invalid.)","body":"Given example code for an <code>ArrayList</code>, you should be able to easily convert the example to use an array, if you understand arrays and <code>ArrayList</code>. But, a <code>List</code> is more flexible than an array. For one, the size of an array is fixed, but the size of an <code>List</code> can be changed. You can delete elements from a <code>List</code> but not an array. (Drifting off-topic: If you have an array of Objects, you can set an element to <code>null</code> to simulate deletion. If you have an array of primitives, to simulate deletion, you might have a &quot;special value&quot; that indicates the indexed element is invalid.)"}],"answers":[{"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1692668919,"post_id":76949615,"comment_id":135652134,"body_markdown":"And my personal favourite: use a hashmap.","body":"And my personal favourite: use a hashmap."},{"owner":{"account_id":28799073,"reputation":1,"user_id":22056497,"display_name":"Pektra Mom"},"score":0,"creation_date":1692670623,"post_id":76949615,"comment_id":135652316,"body_markdown":"Sorry, sometimes thinking a little bit more doesn&#39;t cut it as of now for me. I&#39;ve just enrolled in programming 3 months ago and I have 0 knowledge in the field. But thank you for your help. It should work!","body":"Sorry, sometimes thinking a little bit more doesn&#39;t cut it as of now for me. I&#39;ve just enrolled in programming 3 months ago and I have 0 knowledge in the field. But thank you for your help. It should work!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692668654,"creation_date":1692668654,"answer_id":76949615,"question_id":76949541,"body_markdown":"# Single string\r\n\r\n## Option 1: Just create one\r\n\r\nIt&#39;s a programming language, not an assistant. You sometimes have to think slightly creatively to get the job done. Instead of &#39;replacing every character&#39;, why not just make a new string? You know the length..\r\n\r\n```\r\npublic static String starred(String input) {\r\n  char[] starred = new char[input.length()];\r\n  Arrays.fill(starred, &#39;*&#39;);\r\n  return new String(starred);\r\n}\r\n```\r\n\r\n## Option 2: Regular expressions\r\n\r\n`replaceAll` accepts a regular expression which is a mini-programming language very unlike java for text matching; it is only useful for regular grammars (you can&#39;t parse java code with it, for example), but this is very simple. `.` is regexp-ese for &#39;any character&#39;. Thus:\r\n\r\n```\r\npublic static String starred(String input) {\r\n  return input.replaceAll(&quot;.&quot;, &quot;*&quot;);\r\n}\r\n```\r\n\r\n## All strings\r\n\r\nThat doesn&#39;t seem right - replacing that string array with stars would destroy the words and you need them to know if the user entered a correct letter. You&#39;d want to get 1 word from your array of possible words to play with and then keep that around, and make a copy with the stars in.\r\n\r\n## Generally replacing 1 character\r\n\r\nStrings are immutable; you cannot change them. But you can make _new_ strings based off of old ones. Or, in this case, a lot simpler, make a mutable thing so you can just replace characters (presumably you&#39;d want to replace stars with letters as the user guesses correctly):\r\n\r\n```\r\nList&lt;String&gt; POSSIBLE_WORDS = List.of(&quot;Tuesday&quot;, &quot;School&quot;, ....);\r\nRandom rnd = new Random();\r\n\r\nString word = POSSIBLE_WORDS.get(rnd.nextInt(POSSIBLE_WORDS.size());\r\nchar[] letters = new char[word.length()];\r\nArrays.fill(letters, &#39;*&#39;);\r\n// show to the user\r\n\r\n// if user guesses a letter:\r\n\r\nchar guessedLetter = &#39;e&#39;; // get user input here.\r\nif (!alreadyGuessed.contains(guessedLetter)) {\r\n  boolean matched = false;\r\n  for (int i = 0; i &lt; word.length(); i++) {\r\n    if (word.charAt(i) == guessedLetter) {\r\n      letters[i] = word.charAt(i);\r\n      matched = true;\r\n    }\r\n  }\r\n\r\n  if (!matched) hangALittleMore();\r\n  alreadyGuessed.add(guessedLetter);\r\n}\r\n```\r\n\r\nAnd so on.\r\n\r\n","title":"How to replace all strings in an array to a specific special character","body":"<h1>Single string</h1>\n<h2>Option 1: Just create one</h2>\n<p>It's a programming language, not an assistant. You sometimes have to think slightly creatively to get the job done. Instead of 'replacing every character', why not just make a new string? You know the length..</p>\n<pre><code>public static String starred(String input) {\n  char[] starred = new char[input.length()];\n  Arrays.fill(starred, '*');\n  return new String(starred);\n}\n</code></pre>\n<h2>Option 2: Regular expressions</h2>\n<p><code>replaceAll</code> accepts a regular expression which is a mini-programming language very unlike java for text matching; it is only useful for regular grammars (you can't parse java code with it, for example), but this is very simple. <code>.</code> is regexp-ese for 'any character'. Thus:</p>\n<pre><code>public static String starred(String input) {\n  return input.replaceAll(&quot;.&quot;, &quot;*&quot;);\n}\n</code></pre>\n<h2>All strings</h2>\n<p>That doesn't seem right - replacing that string array with stars would destroy the words and you need them to know if the user entered a correct letter. You'd want to get 1 word from your array of possible words to play with and then keep that around, and make a copy with the stars in.</p>\n<h2>Generally replacing 1 character</h2>\n<p>Strings are immutable; you cannot change them. But you can make <em>new</em> strings based off of old ones. Or, in this case, a lot simpler, make a mutable thing so you can just replace characters (presumably you'd want to replace stars with letters as the user guesses correctly):</p>\n<pre><code>List&lt;String&gt; POSSIBLE_WORDS = List.of(&quot;Tuesday&quot;, &quot;School&quot;, ....);\nRandom rnd = new Random();\n\nString word = POSSIBLE_WORDS.get(rnd.nextInt(POSSIBLE_WORDS.size());\nchar[] letters = new char[word.length()];\nArrays.fill(letters, '*');\n// show to the user\n\n// if user guesses a letter:\n\nchar guessedLetter = 'e'; // get user input here.\nif (!alreadyGuessed.contains(guessedLetter)) {\n  boolean matched = false;\n  for (int i = 0; i &lt; word.length(); i++) {\n    if (word.charAt(i) == guessedLetter) {\n      letters[i] = word.charAt(i);\n      matched = true;\n    }\n  }\n\n  if (!matched) hangALittleMore();\n  alreadyGuessed.add(guessedLetter);\n}\n</code></pre>\n<p>And so on.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692668992,"creation_date":1692668992,"answer_id":76949629,"question_id":76949541,"body_markdown":"Assuming:\r\n\r\n    String guesses; // characters guessed so far\r\n    String word; // the word to be guessed\r\n\r\nThen to mask all un-guess characters in word with `*`:\r\n\r\n    String display = word.replaceAll(&quot;[^&quot; + guesses + &quot;]&quot;, &quot;*&quot;); \r\n\r\nThis builds a negative character class from the guesses, eg the regex `[^abcd]` would match any character *not* a, b, c or d.\r\n","title":"How to replace all strings in an array to a specific special character","body":"<p>Assuming:</p>\n<pre><code>String guesses; // characters guessed so far\nString word; // the word to be guessed\n</code></pre>\n<p>Then to mask all un-guess characters in word with <code>*</code>:</p>\n<pre><code>String display = word.replaceAll(&quot;[^&quot; + guesses + &quot;]&quot;, &quot;*&quot;); \n</code></pre>\n<p>This builds a negative character class from the guesses, eg the regex <code>[^abcd]</code> would match any character <em>not</em> a, b, c or d.</p>\n"},{"tags":[],"owner":{"account_id":29271617,"reputation":62,"user_id":22426243,"display_name":"NsoundarMCA"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692828940,"creation_date":1692676173,"answer_id":76949981,"question_id":76949541,"body_markdown":"Here is very basic logic using `for`:\r\n\r\n```java\r\nString replaceString = &quot;*&quot;;\r\nString[] maskedListWords = new String[listWords.length];\r\n\r\nfor (int i = 0; i &lt; listWords.length; i++) {\r\n\tmaskedListWords[i] = listWords[i].replaceAll(&quot;[a-zA-Z]&quot;, replaceString);\r\n}\r\n\r\nfor (String string : maskedListWords) {\r\n\tSystem.out.println(string);\r\n}\r\n```","title":"How to replace all strings in an array to a specific special character","body":"<p>Here is very basic logic using <code>for</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String replaceString = &quot;*&quot;;\nString[] maskedListWords = new String[listWords.length];\n\nfor (int i = 0; i &lt; listWords.length; i++) {\n    maskedListWords[i] = listWords[i].replaceAll(&quot;[a-zA-Z]&quot;, replaceString);\n}\n\nfor (String string : maskedListWords) {\n    System.out.println(string);\n}\n</code></pre>\n"}],"owner":{"account_id":28799073,"reputation":1,"user_id":22056497,"display_name":"Pektra Mom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76949981,"answer_count":3,"score":-1,"last_activity_date":1692921061,"creation_date":1692666845,"question_id":76949541,"body_markdown":"I am using JavaFX and I am currently in a project which I have to create the hangman game. I have a Text Field and a Label displaying 1 word from an array whenever I click the button &quot;Start Game&quot;. So, whenever I click &quot;Start Game&quot;, let&#39;s say the string &quot;School&quot; is generated. It will show in the Text Field and in the Label. Instead of showing the actual string, I would like to replace the string to a special character. I would like to have the Text Field showing &#39;*&#39; and the Label showing &#39;_&#39; of the length of the string so &quot;School&quot; would be &quot;******&quot; in Text Field and &quot;_ _ _ _ _ _&quot; in Label. How do I do that?\r\n\r\n\r\n*My code is functional, I just don&#39;t know how to replace the string to special character*\r\n\r\n\r\nThis is my code from the controller\r\n\r\n// list of words in Array\r\n\r\n    String[] listWords = {&quot;Tuesday&quot;, &quot;School&quot;, &quot;Dog&quot;, &quot;Vehicle&quot;, \r\n                 &quot;Bird&quot;, &quot;Book&quot;, &quot;Recipe&quot;, &quot;Sun&quot;, &quot;Hammer&quot;, &quot;Orange&quot;};\r\n\r\n// For loop\r\n\r\n     for (int i = 0; i &lt; listWords.length; i++) {\r\n         String randomWords = listWords[(int)(Math.random() * listWords.length)];                                   \r\n         TxtField.setText(randomWords);\r\n         wordLabel.setText(randomWords); \r\n         }\r\n\r\nI tried to follow a bunch of videos from YouTube but there&#39;s not one showing with a string of array. Most of them are using ArrayList or List which I&#39;m not using. I tried to google and their examples are also not showing how to do it from an array.","title":"How to replace all strings in an array to a specific special character","body":"<p>I am using JavaFX and I am currently in a project which I have to create the hangman game. I have a Text Field and a Label displaying 1 word from an array whenever I click the button &quot;Start Game&quot;. So, whenever I click &quot;Start Game&quot;, let's say the string &quot;School&quot; is generated. It will show in the Text Field and in the Label. Instead of showing the actual string, I would like to replace the string to a special character. I would like to have the Text Field showing '<em>' and the Label showing '_' of the length of the string so &quot;School&quot; would be &quot;</em>*****&quot; in Text Field and &quot;_ _ _ _ _ _&quot; in Label. How do I do that?</p>\n<p><em>My code is functional, I just don't know how to replace the string to special character</em></p>\n<p>This is my code from the controller</p>\n<p>// list of words in Array</p>\n<pre><code>String[] listWords = {&quot;Tuesday&quot;, &quot;School&quot;, &quot;Dog&quot;, &quot;Vehicle&quot;, \n             &quot;Bird&quot;, &quot;Book&quot;, &quot;Recipe&quot;, &quot;Sun&quot;, &quot;Hammer&quot;, &quot;Orange&quot;};\n</code></pre>\n<p>// For loop</p>\n<pre><code> for (int i = 0; i &lt; listWords.length; i++) {\n     String randomWords = listWords[(int)(Math.random() * listWords.length)];                                   \n     TxtField.setText(randomWords);\n     wordLabel.setText(randomWords); \n     }\n</code></pre>\n<p>I tried to follow a bunch of videos from YouTube but there's not one showing with a string of array. Most of them are using ArrayList or List which I'm not using. I tried to google and their examples are also not showing how to do it from an array.</p>\n"},{"tags":["java","swing","jbutton"],"answers":[{"comments":[{"owner":{"account_id":5461217,"reputation":57,"user_id":4343273,"display_name":"geri"},"score":0,"creation_date":1497389191,"post_id":44531624,"comment_id":76055315,"body_markdown":"uh thanks, it actualy overrides it, it sounds bad, thanks for the warn. I&#39;m trying to make a new class as a composition, but as a composition I can only add the JButton component of this class to the JPanel, and then I can&#39;t reach this class indexes anymore. Or am I wrong?","body":"uh thanks, it actualy overrides it, it sounds bad, thanks for the warn. I&#39;m trying to make a new class as a composition, but as a composition I can only add the JButton component of this class to the JPanel, and then I can&#39;t reach this class indexes anymore. Or am I wrong?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1497389639,"post_id":44531624,"comment_id":76055530,"body_markdown":"@geri: check edit. You can reach anything with appropriate methods, such as getter methods.","body":"@geri: check edit. You can reach anything with appropriate methods, such as getter methods."},{"owner":{"account_id":5461217,"reputation":57,"user_id":4343273,"display_name":"geri"},"score":0,"creation_date":1497391082,"post_id":44531624,"comment_id":76056146,"body_markdown":"thanks for your help. I realy appreciate it, and the main problem was actualy that I override the getX and getY methods, I changed the method names, on my origianal JButton extension and they appeared. And this code that you included was a big help for the final solution. Thanks :)","body":"thanks for your help. I realy appreciate it, and the main problem was actualy that I override the getX and getY methods, I changed the method names, on my origianal JButton extension and they appeared. And this code that you included was a big help for the final solution. Thanks :)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1497391761,"post_id":44531624,"comment_id":76056385,"body_markdown":"@geri: yes, I mentioned the main problem at the start of my answer. y/w","body":"@geri: yes, I mentioned the main problem at the start of my answer. y/w"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1497390173,"creation_date":1497388175,"answer_id":44531624,"question_id":44531574,"body_markdown":"This is dangerous code:\r\n\r\n    public int getX() {\r\n        return x;\r\n    }\r\n    public int getY() {\r\n        return y;\r\n    }\r\n\r\nYou do realize that this overrides two of JButton&#39;s critical methods (actually, the methods are from JButton&#39;s parent, JComponent) that help set the placement of the button on the GUI (add `@Override` above the methods to see that this is so). I strongly suggest that you either change the signature of these methods, perhaps `getGridX()` and `getGridY()`, or even better, use composition and not inheritance, since you run into risk of these types of problems -- unwittingly overriding a key method -- when you extend *complex* classes such as Swing component classes. For this reason I try to avoid extending these classes unless *absolutely* necessary.\r\n\r\nFor example:\r\n\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.*;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class PlayField {\r\n        private static final int ROWS = 8;\r\n        private static final int COLS = ROWS;\r\n        private static final int MAX_RAND = 80;\r\n        private JPanel mainPanel = new JPanel();\r\n        private MatrixButton[][] button = new MatrixButton[ROWS][COLS];\r\n    \r\n        public PlayField(){\r\n            Random rand = new Random();\r\n            mainPanel.setLayout(new GridLayout(ROWS, COLS));\r\n            for (int i = 0; i &lt; ROWS; ++i){\r\n                for (int j = 0; j &lt; COLS; ++j){\r\n                    button[i][j] = new MatrixButton(j, i, rand.nextInt(MAX_RAND));\r\n                    button[i][j].addActionListener(new MyMatrixListener(i, j));\r\n                    mainPanel.add(button[i][j].getButton());\r\n                }\r\n            }\r\n        }\r\n        \r\n        private class MyMatrixListener implements ActionListener {\r\n            private int i;\r\n            private int j;\r\n            \r\n            public MyMatrixListener(int i, int j) {\r\n                this.i = i;\r\n                this.j = j;\r\n            }\r\n    \r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                for (int i2 = 0; i2 &lt; button.length; i2++) {\r\n                    if (i2 != i) {\r\n                        int value = button[i2][j].getValue();\r\n                        value++;\r\n                        button[i2][j].setValue(value);\r\n                    }\r\n                }\r\n                for (int j2 = 0; j2 &lt; button[i].length; j2++) {\r\n                    if (j2 != j) {\r\n                        int value = button[i][j2].getValue();\r\n                        value++;\r\n                        button[i][j2].setValue(value);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        public JPanel getMainPanel() {\r\n            return mainPanel;\r\n        }\r\n        \r\n        private static void createAndShowGui() {\r\n            JFrame\r\n            frame = new JFrame(&quot;PlayField&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.getContentPane().add(new PlayField().getMainPanel());\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; createAndShowGui());\r\n        }    \r\n    }\r\n\r\n&lt;?-- --&gt;\r\n    \r\n    class MatrixButton {\r\n        private int column;\r\n        private int row;\r\n        private JButton button = new JButton();\r\n        private int value;\r\n    \r\n        public MatrixButton(int column, int row, int value) {\r\n            this.column = column;\r\n            this.row = row;\r\n            setValue(value);\r\n        }\r\n    \r\n        public void addActionListener(ActionListener listener) {\r\n            button.addActionListener(listener);\r\n        }\r\n    \r\n        public int getColumn() {\r\n            return column;\r\n        }\r\n        \r\n        public int getRow() {\r\n            return row;\r\n        }\r\n        \r\n        public JButton getButton() {\r\n            return button;\r\n        }\r\n        \r\n        public int getValue() {\r\n            return value;\r\n        }\r\n        \r\n        public final void setValue(int value) {\r\n            this.value = value;\r\n            button.setText(&quot;&quot; + value);\r\n        }\r\n    }\r\n\r\nBetter to just use ints and not Strings","title":"Extended JButton fails to appear until Mouse Over","body":"<p>This is dangerous code:</p>\n\n<pre><code>public int getX() {\n    return x;\n}\npublic int getY() {\n    return y;\n}\n</code></pre>\n\n<p>You do realize that this overrides two of JButton's critical methods (actually, the methods are from JButton's parent, JComponent) that help set the placement of the button on the GUI (add <code>@Override</code> above the methods to see that this is so). I strongly suggest that you either change the signature of these methods, perhaps <code>getGridX()</code> and <code>getGridY()</code>, or even better, use composition and not inheritance, since you run into risk of these types of problems -- unwittingly overriding a key method -- when you extend <em>complex</em> classes such as Swing component classes. For this reason I try to avoid extending these classes unless <em>absolutely</em> necessary.</p>\n\n<p>For example:</p>\n\n<pre><code>import java.awt.GridLayout;\nimport java.awt.event.*;\nimport java.util.Random;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class PlayField {\n    private static final int ROWS = 8;\n    private static final int COLS = ROWS;\n    private static final int MAX_RAND = 80;\n    private JPanel mainPanel = new JPanel();\n    private MatrixButton[][] button = new MatrixButton[ROWS][COLS];\n\n    public PlayField(){\n        Random rand = new Random();\n        mainPanel.setLayout(new GridLayout(ROWS, COLS));\n        for (int i = 0; i &lt; ROWS; ++i){\n            for (int j = 0; j &lt; COLS; ++j){\n                button[i][j] = new MatrixButton(j, i, rand.nextInt(MAX_RAND));\n                button[i][j].addActionListener(new MyMatrixListener(i, j));\n                mainPanel.add(button[i][j].getButton());\n            }\n        }\n    }\n\n    private class MyMatrixListener implements ActionListener {\n        private int i;\n        private int j;\n\n        public MyMatrixListener(int i, int j) {\n            this.i = i;\n            this.j = j;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            for (int i2 = 0; i2 &lt; button.length; i2++) {\n                if (i2 != i) {\n                    int value = button[i2][j].getValue();\n                    value++;\n                    button[i2][j].setValue(value);\n                }\n            }\n            for (int j2 = 0; j2 &lt; button[i].length; j2++) {\n                if (j2 != j) {\n                    int value = button[i][j2].getValue();\n                    value++;\n                    button[i][j2].setValue(value);\n                }\n            }\n        }\n    }\n\n    public JPanel getMainPanel() {\n        return mainPanel;\n    }\n\n    private static void createAndShowGui() {\n        JFrame\n        frame = new JFrame(\"PlayField\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.getContentPane().add(new PlayField().getMainPanel());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; createAndShowGui());\n    }    \n}\n</code></pre>\n\n<p></p>\n\n<pre><code>class MatrixButton {\n    private int column;\n    private int row;\n    private JButton button = new JButton();\n    private int value;\n\n    public MatrixButton(int column, int row, int value) {\n        this.column = column;\n        this.row = row;\n        setValue(value);\n    }\n\n    public void addActionListener(ActionListener listener) {\n        button.addActionListener(listener);\n    }\n\n    public int getColumn() {\n        return column;\n    }\n\n    public int getRow() {\n        return row;\n    }\n\n    public JButton getButton() {\n        return button;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public final void setValue(int value) {\n        this.value = value;\n        button.setText(\"\" + value);\n    }\n}\n</code></pre>\n\n<p>Better to just use ints and not Strings</p>\n"}],"owner":{"account_id":5461217,"reputation":57,"user_id":4343273,"display_name":"geri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44531624,"answer_count":1,"score":0,"last_activity_date":1692919510,"creation_date":1497387995,"question_id":44531574,"body_markdown":"The situation is that I&#39;m making a panel filled with 8*8 buttons, like a matrix, and I&#39;m going to have to change specific button texts depending on the position of the clicked button. It seemed like a good idea to make my own JButton where I can assign x and y indexes to the button, so I can check easily which button was clicked by indexes.\r\n\r\nHere is the code for that:\r\n\r\n    import javax.swing.JButton;\r\n    \r\n    public class MatrixButton extends JButton {\r\n        private int x;\r\n        private int y;\r\n        \r\n        public MatrixButton(int x, int y, String text){\r\n            super(text);\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n        \r\n        public int getX() {\r\n            return x;\r\n        }\r\n        public int getY() {\r\n            return y;\r\n        }\r\n    }\r\n\r\nAnd it does solve the task, but these Matrix buttons doesn&#39;t want to appear until I mouse over them. What could be the problem?\r\n\r\nhere is the code for the panel which contains these buttons and handles their actions:\r\n\r\n    public class PlayField extends JPanel implements ActionListener {\r\n        private MatrixButton[][] button = new MatrixButton[8][8];\r\n        \r\n        public PlayField(){\r\n            Random rand = new Random();\r\n            \r\n            setLayout(new GridLayout(8, 8));\r\n            \r\n            for (int i = 0; i &lt; 8; ++i){\r\n                for (int j = 0; j &lt; 8; ++j){\r\n                    button[i][j] = new MatrixButton(j, i, &quot;&quot; + rand.nextInt(80));\r\n                    button[i][j].addActionListener(this);\r\n                    \r\n                    add(button[i][j]);\r\n                }\r\n            }\r\n        }\r\n        \r\n        private String incrementText(MatrixButton mb){\r\n            return &quot;&quot; + (Integer.parseInt(mb.getText()) + 1);\r\n        }\r\n        \r\n        @Override\r\n        public void actionPerformed(ActionEvent e){\r\n            MatrixButton mb = (MatrixButton)e.getSource();\r\n            \r\n            for (int i = mb.getY(); i &gt;= 0; --i){\r\n                button[i][mb.getX()].setText(incrementText(button[i][mb.getX()]));\r\n            }\r\n            for (int i = 0; i &lt; 8; ++i){\r\n                if (i != mb.getX())\r\n                button[mb.getY()][i].setText(incrementText(button[mb.getY()][i]));\r\n            }\r\n        }\r\n    }\r\n\r\nPS: if I fill with ordinary JButtons they appear as they should be. That&#39;s why I&#39;m confused, because I didn&#39;t change much on the JButton extension just added 2 more variables to it.","title":"Extended JButton fails to appear until Mouse Over","body":"<p>The situation is that I'm making a panel filled with 8*8 buttons, like a matrix, and I'm going to have to change specific button texts depending on the position of the clicked button. It seemed like a good idea to make my own JButton where I can assign x and y indexes to the button, so I can check easily which button was clicked by indexes.</p>\n<p>Here is the code for that:</p>\n<pre><code>import javax.swing.JButton;\n\npublic class MatrixButton extends JButton {\n    private int x;\n    private int y;\n    \n    public MatrixButton(int x, int y, String text){\n        super(text);\n        this.x = x;\n        this.y = y;\n    }\n    \n    public int getX() {\n        return x;\n    }\n    public int getY() {\n        return y;\n    }\n}\n</code></pre>\n<p>And it does solve the task, but these Matrix buttons doesn't want to appear until I mouse over them. What could be the problem?</p>\n<p>here is the code for the panel which contains these buttons and handles their actions:</p>\n<pre><code>public class PlayField extends JPanel implements ActionListener {\n    private MatrixButton[][] button = new MatrixButton[8][8];\n    \n    public PlayField(){\n        Random rand = new Random();\n        \n        setLayout(new GridLayout(8, 8));\n        \n        for (int i = 0; i &lt; 8; ++i){\n            for (int j = 0; j &lt; 8; ++j){\n                button[i][j] = new MatrixButton(j, i, &quot;&quot; + rand.nextInt(80));\n                button[i][j].addActionListener(this);\n                \n                add(button[i][j]);\n            }\n        }\n    }\n    \n    private String incrementText(MatrixButton mb){\n        return &quot;&quot; + (Integer.parseInt(mb.getText()) + 1);\n    }\n    \n    @Override\n    public void actionPerformed(ActionEvent e){\n        MatrixButton mb = (MatrixButton)e.getSource();\n        \n        for (int i = mb.getY(); i &gt;= 0; --i){\n            button[i][mb.getX()].setText(incrementText(button[i][mb.getX()]));\n        }\n        for (int i = 0; i &lt; 8; ++i){\n            if (i != mb.getX())\n            button[mb.getY()][i].setText(incrementText(button[mb.getY()][i]));\n        }\n    }\n}\n</code></pre>\n<p>PS: if I fill with ordinary JButtons they appear as they should be. That's why I'm confused, because I didn't change much on the JButton extension just added 2 more variables to it.</p>\n"},{"tags":["java","pascal"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1524758121,"post_id":50046974,"comment_id":87110831,"body_markdown":"Consider looking into web services.  These can be made implementation agnostic.&#39;","body":"Consider looking into web services.  These can be made implementation agnostic.&#39;"}],"answers":[{"tags":[],"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692919444,"creation_date":1524758041,"answer_id":50047319,"question_id":50046974,"body_markdown":"Sure this is possible.\r\n\r\nIn case if you simply need to use a set of functions implemented on Pascal you can use [JNI](https://www3.ntu.edu.sg/home/ehchua/programming/java/JavaNativeInterface.html) with the same way as C. I.e. create a DLL for Windows or shared library for UNIX using Pascal with the JNI specific function names. \r\nYou can use [pas2jni](http://wiki.freepascal.org/pas2jni) instead of javac -h (or javah) or make your work simpler with [JNA](https://github.com/java-native-access/jna) library\r\n\r\nIf you interested with multi-process integration, i.e. you have one app written on Java and another app written on Pascal you can use SOAP or REST API.\r\n\r\n - To implementing SOAP on Pascal you can use\r\n   [Web Service Toolkit](http://wiki.freepascal.org/Web_Service_Toolkit)\r\n  \r\n - To implement REST on Pascal you can use   \r\n   [mORMot](https://synopse.info/forum/index.php) toolkit.","title":"java communication with Pascal application Is it Possible","body":"<p>Sure this is possible.</p>\n<p>In case if you simply need to use a set of functions implemented on Pascal you can use <a href=\"https://www3.ntu.edu.sg/home/ehchua/programming/java/JavaNativeInterface.html\" rel=\"nofollow noreferrer\">JNI</a> with the same way as C. I.e. create a DLL for Windows or shared library for UNIX using Pascal with the JNI specific function names.\nYou can use <a href=\"http://wiki.freepascal.org/pas2jni\" rel=\"nofollow noreferrer\">pas2jni</a> instead of javac -h (or javah) or make your work simpler with <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA</a> library</p>\n<p>If you interested with multi-process integration, i.e. you have one app written on Java and another app written on Pascal you can use SOAP or REST API.</p>\n<ul>\n<li><p>To implementing SOAP on Pascal you can use\n<a href=\"http://wiki.freepascal.org/Web_Service_Toolkit\" rel=\"nofollow noreferrer\">Web Service Toolkit</a></p>\n</li>\n<li><p>To implement REST on Pascal you can use<br />\n<a href=\"https://synopse.info/forum/index.php\" rel=\"nofollow noreferrer\">mORMot</a> toolkit.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11207923,"reputation":577,"user_id":8222921,"display_name":"Artyom Karnov"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524760882,"creation_date":1524760882,"answer_id":50048135,"question_id":50046974,"body_markdown":"You can use\r\n\r\n- File system (cross file communications). i.e. you have one shared file which can be read/written by both apps\r\n- Network (SOAP/REST)","title":"java communication with Pascal application Is it Possible","body":"<p>You can use</p>\n\n<ul>\n<li>File system (cross file communications). i.e. you have one shared file which can be read/written by both apps</li>\n<li>Network (SOAP/REST)</li>\n</ul>\n"}],"owner":{"account_id":8167132,"reputation":141,"user_id":6149013,"display_name":"fawad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":50047319,"answer_count":2,"score":0,"last_activity_date":1692919444,"creation_date":1524756979,"question_id":50046974,"body_markdown":"I have been asked by someone to implement communication between a Java application and a Pascal application. I have very little knowledge of Pascal. Is it possible? If so, can someone provide some guidance? Currently I am clueless at this point.\r\n","title":"java communication with Pascal application Is it Possible","body":"<p>I have been asked by someone to implement communication between a Java application and a Pascal application. I have very little knowledge of Pascal. Is it possible? If so, can someone provide some guidance? Currently I am clueless at this point.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9908,"page":226,"page_size":100}
