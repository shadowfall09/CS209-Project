{"items":[{"tags":["java","gradle","aspectj","java-17","jvm-arguments"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":11,"creation_date":1638540874,"post_id":70214788,"comment_id":124122892,"body_markdown":"The &quot;Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;&quot; arises because in Java 14 the CMS garbage collector was removed and the options specific to that garbage collector (like &quot;CMSClassUnloadingEnabled&quot;) are illegal for Java 14 and later. If you add this option the JVM refuses to start.","body":"The &quot;Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;&quot; arises because in Java 14 the CMS garbage collector was removed and the options specific to that garbage collector (like &quot;CMSClassUnloadingEnabled&quot;) are illegal for Java 14 and later. If you add this option the JVM refuses to start."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":4,"creation_date":1638540987,"post_id":70214788,"comment_id":124122941,"body_markdown":"The second error &quot;Unable to make field private int java.lang.reflect.Field.modifiers accessible&quot; happens because Java 17 drastically restricted access to internal fields. However, since Gradle 7.3 is compatible with Java 17 it must be an error reported from some third party plugin or from your code. Without further context this cannot be decided.","body":"The second error &quot;Unable to make field private int java.lang.reflect.Field.modifiers accessible&quot; happens because Java 17 drastically restricted access to internal fields. However, since Gradle 7.3 is compatible with Java 17 it must be an error reported from some third party plugin or from your code. Without further context this cannot be decided."},{"owner":{"account_id":8328933,"reputation":451,"user_id":6258072,"display_name":"Wiktor Kęska"},"score":0,"creation_date":1638622705,"post_id":70214788,"comment_id":124139927,"body_markdown":"Yeah you are right that&#39;s because of AspectJ","body":"Yeah you are right that&#39;s because of AspectJ"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1638791168,"post_id":70214788,"comment_id":124173670,"body_markdown":"A typical case of esoteric command line options. The option `-XX:+CMSClassUnloadingEnabled` is, as the name indicates, specific to the CMS garbage collector and hence, never made any sense in combination with `-XX:+UseG1GC`, an entirely different garbage collector. So, now that the CMS collector has been removed, options related to CMS cause an error, but these options had no effect anyway when you were using G1GC. Since G1GC is the default in JDK&#160;17, you can even remove the `-XX:+UseG1GC` option.","body":"A typical case of esoteric command line options. The option <code>-XX:+CMSClassUnloadingEnabled</code> is, as the name indicates, specific to the CMS garbage collector and hence, never made any sense in combination with <code>-XX:+UseG1GC</code>, an entirely different garbage collector. So, now that the CMS collector has been removed, options related to CMS cause an error, but these options had no effect anyway when you were using G1GC. Since G1GC is the default in JDK 17, you can even remove the <code>-XX:+UseG1GC</code> option."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690088494,"creation_date":1690088494,"answer_id":76746697,"question_id":70214788,"body_markdown":"&gt;&gt; ```none\r\n&gt;&gt; Unable to make field private int java.lang.reflect.Field.modifiers accessible:\r\n&gt;&gt; module java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @1b9ee3e0\r\n&gt;&gt; ```\r\n\r\n&gt; Yeah you are right that&#39;s because of AspectJ\r\n\r\nAssuming that you are using AspectJ load-time weaving (LTW) rather than compile-time weaving, maybe you ought to read the [AspectJ release notes](https://htmlpreview.github.io/?https://github.com/eclipse-aspectj/aspectj/blob/master/docs/dist/doc/README-197.html) for each version since 1.9.7, supporting Java 16+:\r\n\r\n&gt; ### Use LTW on Java 16+\r\n&gt;\r\n&gt; Please note that if you want to use load-time weaving on Java 16+, the weaving agent collides with [JEP 396 (Strongly Encapsulate JDK Internals by Default)](https://openjdk.java.net/jeps/396) and related subsequent JEPs. Therefore, you need to set the JVM parameter `--add-opens java.base/java.lang=ALL-UNNAMED` in order to enable aspect weaving. This is due to the fact that the weaver uses internal APIs for which we have not found an adequate replacement yet when defining classes in different classloaders.","title":"`Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;` after switching to java 17","body":"<blockquote>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Unable to make field private int java.lang.reflect.Field.modifiers accessible:\nmodule java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @1b9ee3e0\n</code></pre>\n</blockquote>\n</blockquote>\n<blockquote>\n<p>Yeah you are right that's because of AspectJ</p>\n</blockquote>\n<p>Assuming that you are using AspectJ load-time weaving (LTW) rather than compile-time weaving, maybe you ought to read the <a href=\"https://htmlpreview.github.io/?https://github.com/eclipse-aspectj/aspectj/blob/master/docs/dist/doc/README-197.html\" rel=\"nofollow noreferrer\">AspectJ release notes</a> for each version since 1.9.7, supporting Java 16+:</p>\n<blockquote>\n<h3>Use LTW on Java 16+</h3>\n<p>Please note that if you want to use load-time weaving on Java 16+, the weaving agent collides with <a href=\"https://openjdk.java.net/jeps/396\" rel=\"nofollow noreferrer\">JEP 396 (Strongly Encapsulate JDK Internals by Default)</a> and related subsequent JEPs. Therefore, you need to set the JVM parameter <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> in order to enable aspect weaving. This is due to the fact that the weaver uses internal APIs for which we have not found an adequate replacement yet when defining classes in different classloaders.</p>\n</blockquote>\n"}],"owner":{"account_id":8328933,"reputation":451,"user_id":6258072,"display_name":"Wiktor Kęska"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13064,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":1,"score":17,"last_activity_date":1692820900,"creation_date":1638536744,"question_id":70214788,"body_markdown":"After changing the Java version to 17 I can&#39;t build the Gradle project.\r\n\r\nI am using Gradle 7.3.1 version and have the following line in Gradle properties:\r\n```\r\norg.gradle.jvmargs=-Dfile.encoding=UTF-8 -Xms1g -Xmx4g -XX:+UseG1GC -XX:+CMSClassUnloadingEnabled\r\n```\r\nthen I got the following error\r\n```\r\nUnrecognized VM option &#39;CMSClassUnloadingEnabled&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\nIf I remove ```-XX:+CMSClassUnloadingEnabled``` then I got this error:\r\n\r\n```\r\nUnable to make field private int java.lang.reflect.Field.modifiers accessible: module java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @1b9ee3e0\r\n```","title":"`Unrecognized VM option &#39;CMSClassUnloadingEnabled&#39;` after switching to java 17","body":"<p>After changing the Java version to 17 I can't build the Gradle project.</p>\n<p>I am using Gradle 7.3.1 version and have the following line in Gradle properties:</p>\n<pre><code>org.gradle.jvmargs=-Dfile.encoding=UTF-8 -Xms1g -Xmx4g -XX:+UseG1GC -XX:+CMSClassUnloadingEnabled\n</code></pre>\n<p>then I got the following error</p>\n<pre><code>Unrecognized VM option 'CMSClassUnloadingEnabled'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>If I remove <code>-XX:+CMSClassUnloadingEnabled</code> then I got this error:</p>\n<pre><code>Unable to make field private int java.lang.reflect.Field.modifiers accessible: module java.base does not &quot;opens java.lang.reflect&quot; to unnamed module @1b9ee3e0\n</code></pre>\n"},{"tags":["java","spring","postgresql"],"comments":[{"owner":{"account_id":337407,"reputation":10009,"user_id":665657,"accept_rate":75,"display_name":"wjans"},"score":1,"creation_date":1585030804,"post_id":60824565,"comment_id":107616865,"body_markdown":"Why aren&#39;t you configuring these values in your properties already and letting autoconfiguration do this for you?","body":"Why aren&#39;t you configuring these values in your properties already and letting autoconfiguration do this for you?"}],"answers":[{"tags":[],"owner":{"account_id":12021665,"reputation":283,"user_id":8794926,"display_name":"Vladucu Voican"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585039146,"creation_date":1585035499,"answer_id":60826686,"question_id":60824565,"body_markdown":"My guess is that you&#39;re not injecting your bean in the Spring Container, so use something like this:\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        String url = &quot;jdbc:postgresql://localhost:5433/&lt;DATABASE_NAME&gt;&quot;;\r\n\r\n        String username = &lt;USERNAME&gt;;\r\n        String password = &lt;PASSWORD&gt;;\r\n\r\n        return DataSourceBuilder\r\n                .create()\r\n                .driverClassName(&quot;org.postgresql.Driver&quot;)\r\n                .url(url)\r\n                .username(username)\r\n                .password(password)\r\n                .build();\r\n    }\r\n\r\nBtw in your jdbcUrl you need to use the DatabaseName, not the TableName.\r\n\r\n**Note**: I think is better to leverage how Spring Boot already has everything auto-configured, so I suggest to you to do something like this:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\r\n    public class DatabaseConfig extends HikariConfig {\r\n        @Bean\r\n        public DataSource dataSource() {\r\n            return new HikariDataSource(this);\r\n        }\r\n    }\r\n\r\nAnd use the following properties:\r\n\r\n    spring.datasource.hikari.jdbcUrl=jdbc:postgresql://localhost:5433/blog\r\n    spring.datasource.hikari.username=user\r\n    spring.datasource.hikari.password=user\r\n    spring.datasource.hikari.driverClassName=org.postgresql.Driver\r\n\r\nYou can check one of my working examples here: \r\nhttps://github.com/vladucuvoican/simple-blog/blob/master/src/main/resources/application.properties","title":"PSQLException: The server requested password-based authentication, but no password was provided","body":"<p>My guess is that you're not injecting your bean in the Spring Container, so use something like this:</p>\n\n<pre><code>@Bean\npublic DataSource dataSource() {\n    String url = \"jdbc:postgresql://localhost:5433/&lt;DATABASE_NAME&gt;\";\n\n    String username = &lt;USERNAME&gt;;\n    String password = &lt;PASSWORD&gt;;\n\n    return DataSourceBuilder\n            .create()\n            .driverClassName(\"org.postgresql.Driver\")\n            .url(url)\n            .username(username)\n            .password(password)\n            .build();\n}\n</code></pre>\n\n<p>Btw in your jdbcUrl you need to use the DatabaseName, not the TableName.</p>\n\n<p><strong>Note</strong>: I think is better to leverage how Spring Boot already has everything auto-configured, so I suggest to you to do something like this:</p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"spring.datasource.hikari\")\npublic class DatabaseConfig extends HikariConfig {\n    @Bean\n    public DataSource dataSource() {\n        return new HikariDataSource(this);\n    }\n}\n</code></pre>\n\n<p>And use the following properties:</p>\n\n<pre><code>spring.datasource.hikari.jdbcUrl=jdbc:postgresql://localhost:5433/blog\nspring.datasource.hikari.username=user\nspring.datasource.hikari.password=user\nspring.datasource.hikari.driverClassName=org.postgresql.Driver\n</code></pre>\n\n<p>You can check one of my working examples here: \n<a href=\"https://github.com/vladucuvoican/simple-blog/blob/master/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/vladucuvoican/simple-blog/blob/master/src/main/resources/application.properties</a></p>\n"},{"tags":[],"owner":{"account_id":13631134,"reputation":1,"user_id":9833182,"display_name":"Krzysztof Uliasz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602087206,"creation_date":1602087206,"answer_id":64248126,"question_id":60824565,"body_markdown":"The problem may be occured by beans scanning\r\n\r\nI have the same problem but logs did not indicate it.\r\n\r\nTry:\r\n\r\n    @Configuration\r\n    public class DataSourceConfig {\r\n        @Value(&quot;${spring.datasource.driver-class-name}&quot;)\r\n        private String driverClass;\r\n        @Value(&quot;${spring.datasource.data-username}&quot;)\r\n        private String url;\r\n        @Value(&quot;${spring.datasource.data-username}&quot;)\r\n        private String userName;\r\n        @Value(&quot;${spring.datasource.data-password}&quot;)\r\n        private String password;\r\n    \r\n        @Bean\r\n        public DataSource getDataSource() {\r\n            return DataSourceBuilder.create()\r\n                    .driverClassName(driverClass)\r\n                    .url(url)\r\n                    .username(userName)\r\n                    .password(password)\r\n                    .build();\r\n        }\r\n    }\r\n\r\nIf you use SpringBoot, move to package with SpringBootApplication runner or define scanning manually ","title":"PSQLException: The server requested password-based authentication, but no password was provided","body":"<p>The problem may be occured by beans scanning</p>\n<p>I have the same problem but logs did not indicate it.</p>\n<p>Try:</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n    @Value(&quot;${spring.datasource.driver-class-name}&quot;)\n    private String driverClass;\n    @Value(&quot;${spring.datasource.data-username}&quot;)\n    private String url;\n    @Value(&quot;${spring.datasource.data-username}&quot;)\n    private String userName;\n    @Value(&quot;${spring.datasource.data-password}&quot;)\n    private String password;\n\n    @Bean\n    public DataSource getDataSource() {\n        return DataSourceBuilder.create()\n                .driverClassName(driverClass)\n                .url(url)\n                .username(userName)\n                .password(password)\n                .build();\n    }\n}\n</code></pre>\n<p>If you use SpringBoot, move to package with SpringBootApplication runner or define scanning manually</p>\n"}],"owner":{"account_id":4579023,"reputation":1929,"user_id":6491192,"accept_rate":57,"display_name":"Adam Freymiller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11831,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1692820900,"creation_date":1585020558,"question_id":60824565,"body_markdown":"I have a Spring Boot project where I&#39;m trying to connect to a local PostgreSQL database. The data source is being instantiated from DataSourceBuilder. For the purposes of this example, I have the database username, password, and database URL hard-coded (they will be passed in through properties files), and this is what the implementation looks like:\r\n\r\n    String url = &quot;jdbc:postgresql://localhost:5433/&lt;TABLENAME&gt;&quot;;\r\n\r\n    String username = &lt;USERNAME&gt;;\r\n    String password = &lt;PASSWORD&gt;;\r\n        \r\n    return DataSourceBuilder\r\n                .create()\r\n                .driverClassName(&quot;org.postgresql.Driver&quot;)\r\n                .url(url)\r\n                .username(username)\r\n                .password(password)\r\n                .build();\r\n\r\nWhen I run the Spring Application main method, the following exception is thrown:\r\n\r\n    Caused by: org.postgresql.util.PSQLException: \r\n    The server requested password-based authentication, but no password was provided.\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:534)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:141)\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192)\r\n\r\nI tried changing the *postgres* user password a few times using ```sudo passwd postgres``` but that didn&#39;t seem to work. Any ideas?","title":"PSQLException: The server requested password-based authentication, but no password was provided","body":"<p>I have a Spring Boot project where I'm trying to connect to a local PostgreSQL database. The data source is being instantiated from DataSourceBuilder. For the purposes of this example, I have the database username, password, and database URL hard-coded (they will be passed in through properties files), and this is what the implementation looks like:</p>\n\n<pre><code>String url = \"jdbc:postgresql://localhost:5433/&lt;TABLENAME&gt;\";\n\nString username = &lt;USERNAME&gt;;\nString password = &lt;PASSWORD&gt;;\n\nreturn DataSourceBuilder\n            .create()\n            .driverClassName(\"org.postgresql.Driver\")\n            .url(url)\n            .username(username)\n            .password(password)\n            .build();\n</code></pre>\n\n<p>When I run the Spring Application main method, the following exception is thrown:</p>\n\n<pre><code>Caused by: org.postgresql.util.PSQLException: \nThe server requested password-based authentication, but no password was provided.\nat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:534)\nat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:141)\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:192)\n</code></pre>\n\n<p>I tried changing the <em>postgres</em> user password a few times using <code>sudo passwd postgres</code> but that didn't seem to work. Any ideas?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api"],"owner":{"account_id":15438215,"reputation":11,"user_id":11137663,"display_name":"sush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692820642,"creation_date":1692128817,"question_id":76908742,"body_markdown":"Tech stack used: Spring boot, Spring-kafka \r\n\r\nScenario: We want to have multiple kafkaconsumers to be created based on the configs provided in the properties file. There can be multiple kafka clusters, where each consumer connects to different Kafka Cluster.\r\n\r\nConsumer is created in below way: \r\n\r\n```java\r\nKafkaConsumer&lt;Object, Object&gt; kafkaConsumer = new KafkaConsumer(properties);\r\n```\r\n\r\nAbove code is placed inside the loop and based upon list of the consumer configs specified in the properties file, consumers will be created dynamically on startup of the springboot application KafkaConsumer object will be wrapped inside another class ex: ParentService. \r\n\r\nWe create multiple ParentService objects and each service object will use one KafkaConsumer object.\r\n\r\n ParentService1 -&gt; KafkaConsumer1  ParentService2 -&gt; KafkaConsumer2\r\n\r\n\r\nIssue: When KafkaConsumer1 is created, connection to the specified brokers are established successfully. Then, KafkaConsumer2 is created successfully by connecting to another set of brokers. Now, when I call poll method KafkaConsumer1, it says Connection to brokers are disconnected. And, KafkaConsumer2 is able to poll successfully.\r\n\r\n```java\r\nParentService parentService1 = new ParentService();  \r\nKafkaConsumer consumer1 = new KafkaConsumer(properties1);\r\n\r\nParentService parentService2 = new ParentService();  \r\nKafkaConsumer consumer2 = new KafkaConsumer(properties2);  \r\n\r\nconsumer1.poll();\r\n```\r\n\r\nI see below warnings in logs\r\n\r\n```log\r\norg.apache.kafka.clients.NetworkClient: Connection to node -1 (xxx) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. org.apache.kafka.clients.NetworkClient : Bootstrap broker xxx(id: -1 rack: null) disconnected\r\n\r\norg.apache.kafka.clients.NetworkClient: Connection to node -2 (xxx) terminated during authentication.  This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \r\n\r\norg.apache.kafka.clients.NetworkClient : Bootstrap broker xxx(id: -2 rack: null) disconnected]\r\n```\r\n\r\nThanks in advance!!\r\n\r\n","title":"Consumer1 gets disconnected when consumer2 establishes connection with Kafka brokers in Springboot app","body":"<p>Tech stack used: Spring boot, Spring-kafka</p>\n<p>Scenario: We want to have multiple kafkaconsumers to be created based on the configs provided in the properties file. There can be multiple kafka clusters, where each consumer connects to different Kafka Cluster.</p>\n<p>Consumer is created in below way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KafkaConsumer&lt;Object, Object&gt; kafkaConsumer = new KafkaConsumer(properties);\n</code></pre>\n<p>Above code is placed inside the loop and based upon list of the consumer configs specified in the properties file, consumers will be created dynamically on startup of the springboot application KafkaConsumer object will be wrapped inside another class ex: ParentService.</p>\n<p>We create multiple ParentService objects and each service object will use one KafkaConsumer object.</p>\n<p>ParentService1 -&gt; KafkaConsumer1  ParentService2 -&gt; KafkaConsumer2</p>\n<p>Issue: When KafkaConsumer1 is created, connection to the specified brokers are established successfully. Then, KafkaConsumer2 is created successfully by connecting to another set of brokers. Now, when I call poll method KafkaConsumer1, it says Connection to brokers are disconnected. And, KafkaConsumer2 is able to poll successfully.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ParentService parentService1 = new ParentService();  \nKafkaConsumer consumer1 = new KafkaConsumer(properties1);\n\nParentService parentService2 = new ParentService();  \nKafkaConsumer consumer2 = new KafkaConsumer(properties2);  \n\nconsumer1.poll();\n</code></pre>\n<p>I see below warnings in logs</p>\n<pre><code>org.apache.kafka.clients.NetworkClient: Connection to node -1 (xxx) terminated during authentication. This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. org.apache.kafka.clients.NetworkClient : Bootstrap broker xxx(id: -1 rack: null) disconnected\n\norg.apache.kafka.clients.NetworkClient: Connection to node -2 (xxx) terminated during authentication.  This may happen due to any of the following reasons: (1) Authentication failed due to invalid credentials with brokers older than 1.0.0, (2) Firewall blocking Kafka TLS traffic (eg it may only allow HTTPS traffic), (3) Transient network issue. \n\norg.apache.kafka.clients.NetworkClient : Bootstrap broker xxx(id: -2 rack: null) disconnected]\n</code></pre>\n<p>Thanks in advance!!</p>\n"},{"tags":["java","apache-kafka","deserialization"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":1,"creation_date":1691754980,"post_id":76883216,"comment_id":135538096,"body_markdown":"Does this answer your question? [Using multiple deserializers for a kafka consumer](https://stackoverflow.com/questions/40218789/using-multiple-deserializers-for-a-kafka-consumer)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40218789/using-multiple-deserializers-for-a-kafka-consumer\">Using multiple deserializers for a kafka consumer</a>"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":2,"creation_date":1691756670,"post_id":76883216,"comment_id":135538396,"body_markdown":"The best and simplest way to achieve this is to configure and use two consumers.","body":"The best and simplest way to achieve this is to configure and use two consumers."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1691758446,"post_id":76883216,"comment_id":135538787,"body_markdown":"What have you tried so far? Deserializers are associated with consumers, not topics. So create two of them","body":"What have you tried so far? Deserializers are associated with consumers, not topics. So create two of them"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1692820319,"post_id":76883216,"comment_id":135677773,"body_markdown":"Spring provides a `DelegatingByTopicDeserializer`.","body":"Spring provides a <code>DelegatingByTopicDeserializer</code>."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692820391,"creation_date":1692820391,"answer_id":76964514,"question_id":76883216,"body_markdown":"Use the `DelegatingByTopicDeserializer`.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic\r\n\r\n&gt;Starting with version 2.8, the `DelegatingByTopicSerializer` and `DelegatingByTopicDeserializer` allow selection of a serializer/deserializer based on the topic name. Regex `Pattern`s are used to lookup the instance to use. ","title":"Kafka deserializers based on Topics","body":"<p>Use the <code>DelegatingByTopicDeserializer</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic</a></p>\n<blockquote>\n<p>Starting with version 2.8, the <code>DelegatingByTopicSerializer</code> and <code>DelegatingByTopicDeserializer</code> allow selection of a serializer/deserializer based on the topic name. Regex <code>Pattern</code>s are used to lookup the instance to use.</p>\n</blockquote>\n"}],"owner":{"account_id":18045956,"reputation":41,"user_id":13116949,"display_name":"Kstackr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692820391,"creation_date":1691753927,"question_id":76883216,"body_markdown":"I have two Kafka topics in my consumer application. How can I configure one topic to use  StringDeserializer (org.apache.kafka.common.serialization.StringDeserializer) and other one to use KafkaAvroDeserializer (io.confluent.kafka.serializers.KafkaAvroDeserializer)? \r\n","title":"Kafka deserializers based on Topics","body":"<p>I have two Kafka topics in my consumer application. How can I configure one topic to use  StringDeserializer (org.apache.kafka.common.serialization.StringDeserializer) and other one to use KafkaAvroDeserializer (io.confluent.kafka.serializers.KafkaAvroDeserializer)?</p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1491902683,"post_id":43341819,"comment_id":73746782,"body_markdown":"`1,2` is not an array. It is 2 separate integers","body":"<code>1,2</code> is not an array. It is 2 separate integers"},{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1491902711,"post_id":43341819,"comment_id":73746803,"body_markdown":"try `Arrays.asList(new int[]{1,2});`","body":"try <code>Arrays.asList(new int[]{1,2});</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1491902878,"post_id":43341819,"comment_id":73746956,"body_markdown":"This seems to be a problem with type inference and auto-boxing. Would `Arrays.&lt;Integer&gt;asList( 1, 2 )` work?","body":"This seems to be a problem with type inference and auto-boxing. Would <code>Arrays.&lt;Integer&gt;asList( 1, 2 )</code> work?"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":2,"creation_date":1491902920,"post_id":43341819,"comment_id":73746992,"body_markdown":"But &#39;List l = Arrays.asList(1,2)&#39; It works fine with jdk1.7","body":"But &#39;List l = Arrays.asList(1,2)&#39; It works fine with jdk1.7"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491903022,"post_id":43341819,"comment_id":73747071,"body_markdown":"Using Arrays.asList(new int[]{1,2}); I got this error &quot;The method asList(T[]) in the type Arrays is not applicable for the arguments (int[])&quot;","body":"Using Arrays.asList(new int[]{1,2}); I got this error &quot;The method asList(T[]) in the type Arrays is not applicable for the arguments (int[])&quot;"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491903094,"post_id":43341819,"comment_id":73747129,"body_markdown":"@Thomas I got this error Syntax error, parameterized types are only available if source level is 1.5 or greater","body":"@Thomas I got this error Syntax error, parameterized types are only available if source level is 1.5 or greater"},{"owner":{"account_id":3883769,"reputation":2892,"user_id":3215673,"accept_rate":58,"display_name":"TheBakker"},"score":0,"creation_date":1491903166,"post_id":43341819,"comment_id":73747185,"body_markdown":"Possible duplicate of [Arrays.asList() not working as it should?](http://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should\">Arrays.asList() not working as it should?</a>"},{"owner":{"account_id":424109,"reputation":18176,"user_id":803925,"display_name":"nbrooks"},"score":1,"creation_date":1491903170,"post_id":43341819,"comment_id":73747190,"body_markdown":"@AmalAbidi Then your problem probably isn&#39;t with Java 8, it&#39;s that you&#39;re targeting the wrong java version. Ensure that your project is correctly setup to run with Java 8.","body":"@AmalAbidi Then your problem probably isn&#39;t with Java 8, it&#39;s that you&#39;re targeting the wrong java version. Ensure that your project is correctly setup to run with Java 8."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1491903283,"post_id":43341819,"comment_id":73747284,"body_markdown":"Can&#39;t reproduce, your code works fine: http://ideone.com/H96HuT","body":"Can&#39;t reproduce, your code works fine: <a href=\"http://ideone.com/H96HuT\" rel=\"nofollow noreferrer\">ideone.com/H96HuT</a>"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491903968,"post_id":43341819,"comment_id":73747835,"body_markdown":"@TheBakker no it is not","body":"@TheBakker no it is not"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491904193,"post_id":43341819,"comment_id":73747993,"body_markdown":"@Thomas I have checked the java version using : `System.out.println(System.getProperty(&quot;java.version&quot;));`\nit shows me in the output : **1.8.0_121**","body":"@Thomas I have checked the java version using : <code>System.out.println(System.getProperty(&quot;java.version&quot;));</code> it shows me in the output : <b>1.8.0_121</b>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1491908896,"post_id":43341819,"comment_id":73751386,"body_markdown":"&quot; parameterized types are only available if source level is 1.5 or greater&quot; - that seems to be the problem: you&#39;re using Java 8 to build but restrict the compiler to a pre-Java 5 source level and hence auto-boxing, varargs and generics are not supported and thus the compiler complains. Why are you restricting the source level in the first place?","body":"&quot; parameterized types are only available if source level is 1.5 or greater&quot; - that seems to be the problem: you&#39;re using Java 8 to build but restrict the compiler to a pre-Java 5 source level and hence auto-boxing, varargs and generics are not supported and thus the compiler complains. Why are you restricting the source level in the first place?"},{"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"score":0,"creation_date":1491988346,"post_id":43341819,"comment_id":73792079,"body_markdown":"@Thomas I did not any restrcition or perhaps I did it accidentaly !\nDo you know how to eliminate this restriction in eclipse ?","body":"@Thomas I did not any restrcition or perhaps I did it accidentaly ! Do you know how to eliminate this restriction in eclipse ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1491989139,"post_id":43341819,"comment_id":73792642,"body_markdown":"Check &quot;Java Compiler&quot; in your project settings.","body":"Check &quot;Java Compiler&quot; in your project settings."}],"answers":[{"tags":[],"owner":{"account_id":10278910,"reputation":27,"user_id":7584818,"display_name":"Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608034874,"creation_date":1491919583,"answer_id":43348322,"question_id":43341819,"body_markdown":"I think you need to put an array as the parameter of asList.\r\nlike:\r\n\r\n    int[] data = {1,2,3,4,5};\r\n    List list = Arrays.asList(data);\r\n\r\n","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>I think you need to put an array as the parameter of asList.\nlike:</p>\n<pre><code>int[] data = {1,2,3,4,5};\nList list = Arrays.asList(data);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3434102,"reputation":626,"user_id":2877605,"display_name":"Ashish Burnwal"},"score":1,"creation_date":1563448422,"post_id":47870978,"comment_id":100707830,"body_markdown":"Nice observation. Thank you.","body":"Nice observation. Thank you."},{"owner":{"account_id":2122937,"reputation":129,"user_id":1885817,"accept_rate":40,"display_name":"Akexis"},"score":2,"creation_date":1576013099,"post_id":47870978,"comment_id":104758140,"body_markdown":"I logged in to upvote this because I was importing an assertion package. This answer saved me, thanks!","body":"I logged in to upvote this because I was importing an assertion package. This answer saved me, thanks!"},{"owner":{"account_id":61942,"reputation":2494,"user_id":184325,"accept_rate":64,"display_name":"Chris R"},"score":3,"creation_date":1579625849,"post_id":47870978,"comment_id":105825694,"body_markdown":"In my case it was `import org.assertj.core.util.Arrays;` rather than `java.util.Arrays` but your answer pointed me in the right direction, thanks!","body":"In my case it was <code>import org.assertj.core.util.Arrays;</code> rather than <code>java.util.Arrays</code> but your answer pointed me in the right direction, thanks!"}],"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":3,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1524052698,"creation_date":1513608804,"answer_id":47870978,"question_id":43341819,"body_markdown":"In case anyone else comes across a similar issue, I found that I had this error because I was importing \r\n`edu.emory.mathcs.backport.java.util.Arrays;`\r\ninstead of\r\n`java.util.Arrays;`","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>In case anyone else comes across a similar issue, I found that I had this error because I was importing \n<code>edu.emory.mathcs.backport.java.util.Arrays;</code>\ninstead of\n<code>java.util.Arrays;</code></p>\n"},{"tags":[],"owner":{"account_id":8899884,"reputation":180,"user_id":6643647,"display_name":"Prabu M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608034739,"creation_date":1608034739,"answer_id":65305715,"question_id":43341819,"body_markdown":"I have faced same issue like wrongly imported `org.javers.common.collection.arrays` \r\nSo removed that one and imported from Utils Arrays got ","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>I have faced same issue like wrongly imported <code>org.javers.common.collection.arrays</code>\nSo removed that one and imported from Utils Arrays got</p>\n"},{"tags":[],"owner":{"account_id":13780981,"reputation":57,"user_id":9946116,"display_name":"Abhilash Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692819468,"creation_date":1692819468,"answer_id":76964436,"question_id":43341819,"body_markdown":"It&#39;s very obvious from the error statement itself. You cannot pass primitive values.\r\n\r\nBelow is the correct syntax (for modifiable list):\r\n\r\n    List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\r\n    List&lt;String&gt; stringList = new ArrayList&lt;&gt;(List.of(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;));\r\n\r\nBelow is the correct syntax ( for unmodifiable list):\r\n\r\n        List&lt;Integer&gt; integerList = List.of(1, 2, 3, 4, 5);\r\n        List&lt;String&gt; stringList = List.of(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;);","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>It's very obvious from the error statement itself. You cannot pass primitive values.</p>\n<p>Below is the correct syntax (for modifiable list):</p>\n<pre><code>List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\nList&lt;String&gt; stringList = new ArrayList&lt;&gt;(List.of(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;));\n</code></pre>\n<p>Below is the correct syntax ( for unmodifiable list):</p>\n<pre><code>    List&lt;Integer&gt; integerList = List.of(1, 2, 3, 4, 5);\n    List&lt;String&gt; stringList = List.of(&quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;);\n</code></pre>\n"}],"owner":{"account_id":8429740,"reputation":137,"user_id":6325895,"accept_rate":0,"display_name":"Amal Abidi"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12790,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":4,"score":11,"last_activity_date":1692819468,"creation_date":1491902622,"question_id":43341819,"body_markdown":"I am using jdk1.8.0_121 on eclipse kepler (My OS is windows 7), I have created a simple project contained one class with static main method. \r\n\r\nWhen I tried to create a list as follow \r\n\r\n`List l = Arrays.asList(1,2);` \r\n\r\nI got this error : \r\n\r\n&gt; The method asList(T[]) in the type Arrays is not applicable for the\r\n&gt; arguments (int, int).\r\n\r\n","title":"The method asList(T[]) in the type Arrays is not applicable for the arguments (int, int)","body":"<p>I am using jdk1.8.0_121 on eclipse kepler (My OS is windows 7), I have created a simple project contained one class with static main method. </p>\n\n<p>When I tried to create a list as follow </p>\n\n<p><code>List l = Arrays.asList(1,2);</code> </p>\n\n<p>I got this error : </p>\n\n<blockquote>\n  <p>The method asList(T[]) in the type Arrays is not applicable for the\n  arguments (int, int).</p>\n</blockquote>\n"},{"tags":["java","arrays","java-8","java-stream"],"comments":[{"owner":{"account_id":2347441,"reputation":67550,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":3,"creation_date":1397553201,"post_id":23079003,"comment_id":35272130,"body_markdown":"I&#39;d suggest you to revert the rollback as the question was more complete and showed you had tried something.","body":"I&#39;d suggest you to revert the rollback as the question was more complete and showed you had tried something."},{"owner":{"display_name":"user972946"},"score":2,"creation_date":1397553632,"post_id":23079003,"comment_id":35272430,"body_markdown":"@skiwi Thanks! but i thought the attempted code does not really add more information to the question, and nobody has screamed &quot;show us your attempt&quot; yet =)","body":"@skiwi Thanks! but i thought the attempted code does not really add more information to the question, and nobody has screamed &quot;show us your attempt&quot; yet =)"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":20,"creation_date":1397647284,"post_id":23079003,"comment_id":35322306,"body_markdown":"@skiwi: Although I usually shout at the do-my-homework-instead-of-me questions, this particular question seems to be clearer to me without any additional mess. Let&#39;s keep it tidy.","body":"@skiwi: Although I usually shout at the do-my-homework-instead-of-me questions, this particular question seems to be clearer to me without any additional mess. Let&#39;s keep it tidy."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":1,"creation_date":1585732047,"post_id":23079003,"comment_id":107862390,"body_markdown":"You can find a lot of answers and guidance in the official docs of the package: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","body":"You can find a lot of answers and guidance in the official docs of the package: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":394078,"reputation":565,"user_id":756301,"accept_rate":100,"display_name":"jarek.jpa"},"score":10,"creation_date":1473704198,"post_id":23079174,"comment_id":66233784,"body_markdown":"and here is an explanation why and how the Array constructor reference actually work: http://stackoverflow.com/questions/29447561/how-do-java-8-array-constructor-references-work","body":"and here is an explanation why and how the Array constructor reference actually work: <a href=\"http://stackoverflow.com/questions/29447561/how-do-java-8-array-constructor-references-work\" title=\"how do java 8 array constructor references work\">stackoverflow.com/questions/29447561/&hellip;</a>"},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":2,"creation_date":1492697762,"post_id":23079174,"comment_id":74097531,"body_markdown":"*&quot;Zenexer is right, the solution should be: stream.toArray(String[]::new);&quot;* ... Well ok, but one should understand that the method reference is logically and functionally equivalent to `toArray(sz -&gt; new String[sz])` so I&#39;m not sure that one can really say what the solution should or must be.","body":"<i>&quot;Zenexer is right, the solution should be: stream.toArray(String[]::new);&quot;</i> ... Well ok, but one should understand that the method reference is logically and functionally equivalent to <code>toArray(sz -&gt; new String[sz])</code> so I&#39;m not sure that one can really say what the solution should or must be."},{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1493667845,"post_id":23079174,"comment_id":74494489,"body_markdown":"The array constructor reference is more concise. The documentation for the `toArray()` method cites its concision and includes its use in the only example. When it was tacked on the end of the answer, I missed it on first reading. Moved it to the top, above the details, so that no one else will miss it.","body":"The array constructor reference is more concise. The documentation for the <code>toArray()</code> method cites its concision and includes its use in the only example. When it was tacked on the end of the answer, I missed it on first reading. Moved it to the top, above the details, so that no one else will miss it."},{"owner":{"account_id":164330,"reputation":1625,"user_id":387015,"accept_rate":83,"display_name":"WORMSS"},"score":3,"creation_date":1503047982,"post_id":23079174,"comment_id":78463001,"body_markdown":"@scottb `sz -&gt; new String[sz]` makes a new function where as the constructor reference does not. It depends how much you value Garbage Collection Churn I guess.","body":"@scottb <code>sz -&gt; new String[sz]</code> makes a new function where as the constructor reference does not. It depends how much you value Garbage Collection Churn I guess."},{"owner":{"account_id":7123842,"reputation":27597,"user_id":5684257,"display_name":"HTNW"},"score":6,"creation_date":1509321241,"post_id":23079174,"comment_id":80959501,"body_markdown":"@WORMSS It does not. It (statically!) makes a new, `private` *method*, which cannot cause churn, and *both* versions need to create a new object. A reference creates an object that points directly at the target method; a lambda creates an object that points at the generated `private` one. A reference to a constructor should still perform better for lack of indirection and easier VM optimization, but churning has nothing to do with it.","body":"@WORMSS It does not. It (statically!) makes a new, <code>private</code> <i>method</i>, which cannot cause churn, and <i>both</i> versions need to create a new object. A reference creates an object that points directly at the target method; a lambda creates an object that points at the generated <code>private</code> one. A reference to a constructor should still perform better for lack of indirection and easier VM optimization, but churning has nothing to do with it."},{"owner":{"account_id":164330,"reputation":1625,"user_id":387015,"accept_rate":83,"display_name":"WORMSS"},"score":2,"creation_date":1509352739,"post_id":23079174,"comment_id":80968195,"body_markdown":"@HTNW you are correct, my apologise. It was infact my attempt to debug that was causing the churn that was causing the churn the first time I tried to do this, so I have had it stuck in my head that this is how it was. (Hate it when that happens).","body":"@HTNW you are correct, my apologise. It was infact my attempt to debug that was causing the churn that was causing the churn the first time I tried to do this, so I have had it stuck in my head that this is how it was. (Hate it when that happens)."},{"owner":{"account_id":1198357,"reputation":1090,"user_id":1169587,"accept_rate":28,"display_name":"user1169587"},"score":0,"creation_date":1609917952,"post_id":23079174,"comment_id":115968079,"body_markdown":"&quot;String[] stringArray = stringStream.toArray(size -&gt; new String[size]);&quot;, where is the size come from?","body":"&quot;String[] stringArray = stringStream.toArray(size -&gt; new String[size]);&quot;, where is the size come from?"},{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1616378997,"post_id":23079174,"comment_id":117975329,"body_markdown":"Lambda should simplify things but  java lambda like `stream.toArray(size -&gt; new String[size]);` just looks akward and this is so unintuitive every developer will forget this syntax the next time he needs an array. Why do they make things so complicated where c# is making life pretty easy with lambda. My stack is java but since years java getting more and more behind of c#.","body":"Lambda should simplify things but  java lambda like <code>stream.toArray(size -&gt; new String[size]);</code> just looks akward and this is so unintuitive every developer will forget this syntax the next time he needs an array. Why do they make things so complicated where c# is making life pretty easy with lambda. My stack is java but since years java getting more and more behind of c#."},{"owner":{"account_id":72430,"reputation":23413,"user_id":209113,"accept_rate":65,"display_name":"Matt"},"score":1,"creation_date":1656438769,"post_id":23079174,"comment_id":128570927,"body_markdown":"Instead of `stream.toArray(size -&gt; new String[size])`, you can shorten it using a method reference: `stream.toArray(String[]::new)`, which accomplishes the same thing. Syntactic sugar, if you have a sweet tooth.","body":"Instead of <code>stream.toArray(size -&gt; new String[size])</code>, you can shorten it using a method reference: <code>stream.toArray(String[]::new)</code>, which accomplishes the same thing. Syntactic sugar, if you have a sweet tooth."}],"tags":[],"owner":{"account_id":2347441,"reputation":67550,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"comment_count":9,"down_vote_count":1,"up_vote_count":1596,"is_accepted":true,"score":1595,"last_activity_date":1535044174,"creation_date":1397552846,"answer_id":23079174,"question_id":23079003,"body_markdown":"The easiest method is to use the `toArray(IntFunction&lt;A[]&gt; generator)` method with an array constructor reference. This is suggested in the [API documentation for the method][1].\r\n\r\n    String[] stringArray = stringStream.toArray(String[]::new);\r\n\r\nWhat it does is find a method that takes in an integer (the size) as argument, and returns a `String[]`, which is exactly what (one of the overloads of) `new String[]` does.\r\n\r\nYou could also write your own `IntFunction`:\r\n\r\n    Stream&lt;String&gt; stringStream = ...;\r\n    String[] stringArray = stringStream.toArray(size -&gt; new String[size]);\r\n\r\nThe purpose of the `IntFunction&lt;A[]&gt; generator` is to convert an integer, the size of the array, to a new array.\r\n\r\nExample code:\r\n\r\n    Stream&lt;String&gt; stringStream = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n    String[] stringArray = stringStream.toArray(size -&gt; new String[size]);\r\n    Arrays.stream(stringArray).forEach(System.out::println);\r\n\r\nPrints:\r\n\r\n    a\r\n    b\r\n    c\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-","title":"How to convert a Java 8 Stream to an Array?","body":"<p>The easiest method is to use the <code>toArray(IntFunction&lt;A[]&gt; generator)</code> method with an array constructor reference. This is suggested in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-\" rel=\"noreferrer\">API documentation for the method</a>.</p>\n\n<pre><code>String[] stringArray = stringStream.toArray(String[]::new);\n</code></pre>\n\n<p>What it does is find a method that takes in an integer (the size) as argument, and returns a <code>String[]</code>, which is exactly what (one of the overloads of) <code>new String[]</code> does.</p>\n\n<p>You could also write your own <code>IntFunction</code>:</p>\n\n<pre><code>Stream&lt;String&gt; stringStream = ...;\nString[] stringArray = stringStream.toArray(size -&gt; new String[size]);\n</code></pre>\n\n<p>The purpose of the <code>IntFunction&lt;A[]&gt; generator</code> is to convert an integer, the size of the array, to a new array.</p>\n\n<p>Example code:</p>\n\n<pre><code>Stream&lt;String&gt; stringStream = Stream.of(\"a\", \"b\", \"c\");\nString[] stringArray = stringStream.toArray(size -&gt; new String[size]);\nArrays.stream(stringArray).forEach(System.out::println);\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>a\nb\nc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7743894,"reputation":949,"user_id":5862499,"display_name":"Ida Bucić"},"comment_count":0,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1601557754,"creation_date":1477661320,"answer_id":40306146,"question_id":23079003,"body_markdown":"If you want to get an array of ints, with values from 1 to 10, from a `Stream&lt;Integer&gt;`, there is `IntStream` at your disposal.\r\n\r\nHere we create a `Stream` with a `Stream.of` method and convert a `Stream&lt;Integer&gt;` to an `IntStream` using a `mapToInt`. Then we can call `IntStream`&#39;s `toArray` method.\r\n\r\n    Stream&lt;Integer&gt; stream = Stream.of(1,2,3,4,5,6,7,8,9,10);\r\n    //or use this to create our stream \r\n    //Stream&lt;Integer&gt; stream = IntStream.rangeClosed(1, 10).boxed();\r\n    int[] array =  stream.mapToInt(x -&gt; x).toArray();\r\n\r\nHere is the same thing, without the `Stream&lt;Integer&gt;`, using only the `IntStream`:\r\n\r\n    int[]array2 =  IntStream.rangeClosed(1, 10).toArray();","title":"How to convert a Java 8 Stream to an Array?","body":"<p>If you want to get an array of ints, with values from 1 to 10, from a <code>Stream&lt;Integer&gt;</code>, there is <code>IntStream</code> at your disposal.</p>\n<p>Here we create a <code>Stream</code> with a <code>Stream.of</code> method and convert a <code>Stream&lt;Integer&gt;</code> to an <code>IntStream</code> using a <code>mapToInt</code>. Then we can call <code>IntStream</code>'s <code>toArray</code> method.</p>\n<pre><code>Stream&lt;Integer&gt; stream = Stream.of(1,2,3,4,5,6,7,8,9,10);\n//or use this to create our stream \n//Stream&lt;Integer&gt; stream = IntStream.rangeClosed(1, 10).boxed();\nint[] array =  stream.mapToInt(x -&gt; x).toArray();\n</code></pre>\n<p>Here is the same thing, without the <code>Stream&lt;Integer&gt;</code>, using only the <code>IntStream</code>:</p>\n<pre><code>int[]array2 =  IntStream.rangeClosed(1, 10).toArray();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":5,"creation_date":1527770479,"post_id":42275131,"comment_id":88258960,"body_markdown":"Why would you use this instead of [Stream.toArray(IntFunction)](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-)?","body":"Why would you use this instead of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-\" rel=\"nofollow noreferrer\">Stream.toArray(IntFunction)</a>?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1544362459,"post_id":42275131,"comment_id":94241164,"body_markdown":"I needed a collector to pass to the 2-arg `Collectors.groupingBy` so that I could map some attribute to arrays of objects per attribute value. This answer gives me exactly that. Also @DidierL.","body":"I needed a collector to pass to the 2-arg <code>Collectors.groupingBy</code> so that I could map some attribute to arrays of objects per attribute value. This answer gives me exactly that. Also @DidierL."},{"owner":{"account_id":1060118,"reputation":497,"user_id":1061929,"display_name":"bjmi"},"score":0,"creation_date":1606038325,"post_id":42275131,"comment_id":114832735,"body_markdown":"Since Java 11 the _finisher_ in _collectingAndThen_ can be written as `list -&gt; list.toArray(converter)` due to addition of [Collection.toArray​(IntFunction)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction))","body":"Since Java 11 the <i>finisher</i> in <i>collectingAndThen</i> can be written as <code>list -&gt; list.toArray(converter)</code> due to addition of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\">Collection.toArray​(IntFunction)</a>"}],"tags":[],"owner":{"account_id":1256567,"reputation":99,"user_id":7574723,"display_name":"Thomas Pliakas"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1487251126,"creation_date":1487251126,"answer_id":42275131,"question_id":23079003,"body_markdown":"You can create a custom collector that convert a stream to array. \r\n\r\n    public static &lt;T&gt; Collector&lt;T, ?, T[]&gt; toArray( IntFunction&lt;T[]&gt; converter )\r\n    {\r\n        return Collectors.collectingAndThen( \r\n                      Collectors.toList(), \r\n                      list -&gt;list.toArray( converter.apply( list.size() ) ) );\r\n    }\r\n\r\nand a quick use\r\n\r\n    List&lt;String&gt; input = Arrays.asList( ..... );\r\n\r\n    String[] result = input.stream().\r\n             .collect( CustomCollectors.**toArray**( String[]::new ) );\r\n\r\n\r\n","title":"How to convert a Java 8 Stream to an Array?","body":"<p>You can create a custom collector that convert a stream to array. </p>\n\n<pre><code>public static &lt;T&gt; Collector&lt;T, ?, T[]&gt; toArray( IntFunction&lt;T[]&gt; converter )\n{\n    return Collectors.collectingAndThen( \n                  Collectors.toList(), \n                  list -&gt;list.toArray( converter.apply( list.size() ) ) );\n}\n</code></pre>\n\n<p>and a quick use</p>\n\n<pre><code>List&lt;String&gt; input = Arrays.asList( ..... );\n\nString[] result = input.stream().\n         .collect( CustomCollectors.**toArray**( String[]::new ) );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6349088,"reputation":315,"user_id":4928723,"display_name":"Sagar Mal Shankhala"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1492244762,"creation_date":1492244451,"answer_id":43423836,"question_id":23079003,"body_markdown":"         Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\r\n\r\n         Integer[] integers = stream.toArray(it-&gt;new Integer[it]);\r\n    ","title":"How to convert a Java 8 Stream to an Array?","body":"<pre><code>     Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\n\n     Integer[] integers = stream.toArray(it-&gt;new Integer[it]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4852136,"reputation":2494,"user_id":3914166,"accept_rate":25,"display_name":"Bachiri Taoufiq Abderrahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1499965445,"creation_date":1495731436,"answer_id":44185928,"question_id":23079003,"body_markdown":"You can convert a java 8 stream to an array using this simple code block:\r\n\r\n     String[] myNewArray3 = myNewStream.toArray(String[]::new);\r\n\r\nBut let&#39;s explain things more, first, let&#39;s  Create a list of string filled with three values:\r\n\r\n    String[] stringList = {&quot;Bachiri&quot;,&quot;Taoufiq&quot;,&quot;Abderrahman&quot;};\r\n\r\nCreate a stream from the given Array :\r\n\r\n    Stream&lt;String&gt; stringStream = Arrays.stream(stringList);\r\nwe can now perform some operations on this stream Ex:\r\n\r\n    Stream&lt;String&gt; myNewStream = stringStream.map(s -&gt; s.toUpperCase());\r\n\r\nand finally convert it to a java 8 Array using these methods:\r\n\r\n1-Classic method (Functional interface)\r\n\r\n    IntFunction&lt;String[]&gt; intFunction = new IntFunction&lt;String[]&gt;() {\r\n        @Override\r\n        public String[] apply(int value) {\r\n            return new String[value];\r\n        }\r\n    };\r\n\r\n\r\n    String[] myNewArray = myNewStream.toArray(intFunction);\r\n\r\n2 -Lambda expression\r\n\r\n     String[] myNewArray2 = myNewStream.toArray(value -&gt; new String[value]);\r\n\r\n3- Method reference\r\n\r\n    String[] myNewArray3 = myNewStream.toArray(String[]::new);\r\n\r\nMethod reference Explanation:\r\n\r\nIt&#39;s another way of writing a lambda expression that it&#39;s strictly equivalent to the other. ","title":"How to convert a Java 8 Stream to an Array?","body":"<p>You can convert a java 8 stream to an array using this simple code block:</p>\n\n<pre><code> String[] myNewArray3 = myNewStream.toArray(String[]::new);\n</code></pre>\n\n<p>But let's explain things more, first, let's  Create a list of string filled with three values:</p>\n\n<pre><code>String[] stringList = {\"Bachiri\",\"Taoufiq\",\"Abderrahman\"};\n</code></pre>\n\n<p>Create a stream from the given Array :</p>\n\n<pre><code>Stream&lt;String&gt; stringStream = Arrays.stream(stringList);\n</code></pre>\n\n<p>we can now perform some operations on this stream Ex:</p>\n\n<pre><code>Stream&lt;String&gt; myNewStream = stringStream.map(s -&gt; s.toUpperCase());\n</code></pre>\n\n<p>and finally convert it to a java 8 Array using these methods:</p>\n\n<p>1-Classic method (Functional interface)</p>\n\n<pre><code>IntFunction&lt;String[]&gt; intFunction = new IntFunction&lt;String[]&gt;() {\n    @Override\n    public String[] apply(int value) {\n        return new String[value];\n    }\n};\n\n\nString[] myNewArray = myNewStream.toArray(intFunction);\n</code></pre>\n\n<p>2 -Lambda expression</p>\n\n<pre><code> String[] myNewArray2 = myNewStream.toArray(value -&gt; new String[value]);\n</code></pre>\n\n<p>3- Method reference</p>\n\n<pre><code>String[] myNewArray3 = myNewStream.toArray(String[]::new);\n</code></pre>\n\n<p>Method reference Explanation:</p>\n\n<p>It's another way of writing a lambda expression that it's strictly equivalent to the other. </p>\n"},{"tags":[],"owner":{"account_id":2269620,"reputation":463,"user_id":1997399,"display_name":"Kunda"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1501406395,"creation_date":1501406395,"answer_id":45398286,"question_id":23079003,"body_markdown":"Using the `toArray(IntFunction&lt;A[]&gt; generator)` method is indeed a very elegant and safe way to convert (or more correctly, collect) a Stream into an array of the same type of the Stream.\r\n\r\nHowever, if the returned array&#39;s type is not important, simply using the `toArray()` method is both easier _and_ shorter.\r\nFor example:\r\n\r\n        Stream&lt;Object&gt; args = Stream.of(BigDecimal.ONE, &quot;Two&quot;, 3);\r\n        System.out.printf(&quot;%s, %s, %s!&quot;, args.toArray());\r\n\r\n\r\n","title":"How to convert a Java 8 Stream to an Array?","body":"<p>Using the <code>toArray(IntFunction&lt;A[]&gt; generator)</code> method is indeed a very elegant and safe way to convert (or more correctly, collect) a Stream into an array of the same type of the Stream.</p>\n\n<p>However, if the returned array's type is not important, simply using the <code>toArray()</code> method is both easier <em>and</em> shorter.\nFor example:</p>\n\n<pre><code>    Stream&lt;Object&gt; args = Stream.of(BigDecimal.ONE, \"Two\", 3);\n    System.out.printf(\"%s, %s, %s!\", args.toArray());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1675239436,"creation_date":1522672787,"answer_id":49611485,"question_id":23079003,"body_markdown":"Convert text to String array where separating each value by comma, and trim every field, for example:\r\n\r\n    String[] stringArray = Arrays.stream(line.split(&quot;,&quot;))          \r\n                                 .map(String::trim)\r\n                                 .toArray(String[]::new);\r\n","title":"How to convert a Java 8 Stream to an Array?","body":"<p>Convert text to String array where separating each value by comma, and trim every field, for example:</p>\n<pre><code>String[] stringArray = Arrays.stream(line.split(&quot;,&quot;))          \n                             .map(String::trim)\n                             .toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8747724,"reputation":249,"user_id":6542309,"display_name":"Raj N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528453345,"creation_date":1528453345,"answer_id":50758505,"question_id":23079003,"body_markdown":"    Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\r\n    \r\n    int[] arr=   stream.mapToInt(x-&gt;x.intValue()).toArray();","title":"How to convert a Java 8 Stream to an Array?","body":"<pre><code>Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\n\nint[] arr=   stream.mapToInt(x-&gt;x.intValue()).toArray();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13076666,"reputation":1177,"user_id":9448540,"display_name":"curiouscupcake"},"score":1,"creation_date":1586181267,"post_id":61061365,"comment_id":108025845,"body_markdown":"What is the difference between your answer and the accepted answer?","body":"What is the difference between your answer and the accepted answer?"},{"owner":{"account_id":8684080,"reputation":3411,"user_id":6499075,"display_name":"Sma Ma"},"score":0,"creation_date":1586183262,"post_id":61061365,"comment_id":108027138,"body_markdown":"@LongNguyen It&#39;s a  full example including an online replay scenario, not only a snippet.","body":"@LongNguyen It&#39;s a  full example including an online replay scenario, not only a snippet."}],"tags":[],"owner":{"account_id":8684080,"reputation":3411,"user_id":6499075,"display_name":"Sma Ma"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1586181001,"creation_date":1586181001,"answer_id":61061365,"question_id":23079003,"body_markdown":"    import java.util.List;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            // Create a stream of strings from list of strings\r\n            Stream&lt;String&gt; myStreamOfStrings = List.of(&quot;lala&quot;, &quot;foo&quot;, &quot;bar&quot;).stream();\r\n    \r\n            // Convert stream to array by using toArray method\r\n            String[] myArrayOfStrings = myStreamOfStrings.toArray(String[]::new);\r\n    \r\n            // Print results\r\n            for (String string : myArrayOfStrings) {\r\n                System.out.println(string);\r\n            }\r\n        }\r\n    }\r\n\r\nTry it out online: https://repl.it/@SmaMa/Stream-to-array","title":"How to convert a Java 8 Stream to an Array?","body":"<pre><code>import java.util.List;\nimport java.util.stream.Stream;\n\nclass Main {\n\n    public static void main(String[] args) {\n        // Create a stream of strings from list of strings\n        Stream&lt;String&gt; myStreamOfStrings = List.of(\"lala\", \"foo\", \"bar\").stream();\n\n        // Convert stream to array by using toArray method\n        String[] myArrayOfStrings = myStreamOfStrings.toArray(String[]::new);\n\n        // Print results\n        for (String string : myArrayOfStrings) {\n            System.out.println(string);\n        }\n    }\n}\n</code></pre>\n\n<p>Try it out online: <a href=\"https://repl.it/@SmaMa/Stream-to-array\" rel=\"noreferrer\">https://repl.it/@SmaMa/Stream-to-array</a></p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1692818278,"post_id":76964288,"comment_id":135677431,"body_markdown":"What was wrong with all the other answers saying the same?","body":"What was wrong with all the other answers saying the same?"}],"tags":[],"owner":{"account_id":5519276,"reputation":41,"user_id":4382828,"display_name":"Sai Tata"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692819191,"creation_date":1692817947,"answer_id":76964288,"question_id":23079003,"body_markdown":"    // create a stream of string elements\r\n    \r\n    Stream&lt;String&gt; stringStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\r\n    \r\n    \r\n    // convert the stream to arrays of strings\r\n    \r\n    String[] stringArray = stringStream.toArray(String[]::new);","title":"How to convert a Java 8 Stream to an Array?","body":"<pre><code>// create a stream of string elements\n\nStream&lt;String&gt; stringStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\n\n\n// convert the stream to arrays of strings\n\nString[] stringArray = stringStream.toArray(String[]::new);\n</code></pre>\n"}],"owner":{"display_name":"user972946"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":682934,"favorite_count":0,"down_vote_count":2,"up_vote_count":1069,"accepted_answer_id":23079174,"answer_count":10,"score":1067,"last_activity_date":1692819191,"creation_date":1397552413,"question_id":23079003,"body_markdown":"What is the easiest/shortest way to convert a Java 8 `Stream` into an array?","title":"How to convert a Java 8 Stream to an Array?","body":"<p>What is the easiest/shortest way to convert a Java 8 <code>Stream</code> into an array?</p>\n"},{"tags":["java","arraylist","save","load"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1547897753,"post_id":54266421,"comment_id":95356695,"body_markdown":"You have swallowed all the exceptions. Use `ex.printStackTrace()` to display the exception information which will show you the problem.","body":"You have swallowed all the exceptions. Use <code>ex.printStackTrace()</code> to display the exception information which will show you the problem."},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547898119,"post_id":54266421,"comment_id":95356769,"body_markdown":"Using your code, I am able to add 1000 employees to a list, write to a &quot;employee.obf&quot; of size 6024 and read it back into a list, and finally assert the size. Could it be a problem with write-access?","body":"Using your code, I am able to add 1000 employees to a list, write to a &quot;employee.obf&quot; of size 6024 and read it back into a list, and finally assert the size. Could it be a problem with write-access?"},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547901079,"post_id":54266421,"comment_id":95357482,"body_markdown":"@Jeppe If it is a problem with write-access how do I fix it?","body":"@Jeppe If it is a problem with write-access how do I fix it?"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547901439,"post_id":54266421,"comment_id":95357573,"body_markdown":"@m.18 First try Karol&#39;s suggestion of printing the stacktrace of the exception in your writeDate-function - it should tell you exactly what the problem is.","body":"@m.18 First try Karol&#39;s suggestion of printing the stacktrace of the exception in your writeDate-function - it should tell you exactly what the problem is."},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547921490,"post_id":54266421,"comment_id":95362874,"body_markdown":"@Jeppe ok but how should I run the function? What parameter do I pass to it?","body":"@Jeppe ok but how should I run the function? What parameter do I pass to it?"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547922493,"post_id":54266421,"comment_id":95363171,"body_markdown":"@m.18 Are you referring to writeDate or printStackTrace?","body":"@m.18 Are you referring to writeDate or printStackTrace?"},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547922744,"post_id":54266421,"comment_id":95363225,"body_markdown":"@Jeppe writeDate because printStackTrace is in writeDate","body":"@Jeppe writeDate because printStackTrace is in writeDate"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547924451,"post_id":54266421,"comment_id":95363699,"body_markdown":"@m.18 I have added an answer.","body":"@m.18 I have added an answer."}],"answers":[{"tags":[],"owner":{"account_id":15156663,"reputation":71,"user_id":10937221,"display_name":"ChipLimo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547946894,"creation_date":1547901803,"answer_id":54267214,"question_id":54266421,"body_markdown":"&lt;br&gt;I tested your code but couldn&#39;t find any problem.\r\n&lt;br&gt;why don&#39;t you try to catch Throwable and check it by debugging?\r\n\r\n```\r\ntry { /* code */ }\r\ncatch (Throwable t) { t.printStackTrace(); }\r\n```","title":"How to save and load an array list of objects?","body":"<p><br>I tested your code but couldn't find any problem.\n<br>why don't you try to catch Throwable and check it by debugging?</p>\n\n<pre><code>try { /* code */ }\ncatch (Throwable t) { t.printStackTrace(); }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547925018,"post_id":54270241,"comment_id":95363857,"body_markdown":"For some reason I can&#39;t get this to work cause I can&#39;t figure out what parameter to pass.","body":"For some reason I can&#39;t get this to work cause I can&#39;t figure out what parameter to pass."},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547925217,"post_id":54270241,"comment_id":95363912,"body_markdown":"@m.18 What do you mean by parameters? If you run the code as I have written, it will build a mock-collection of Employees, write them to file and read them back up into another collection. :-)","body":"@m.18 What do you mean by parameters? If you run the code as I have written, it will build a mock-collection of Employees, write them to file and read them back up into another collection. :-)"},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547926053,"post_id":54270241,"comment_id":95364098,"body_markdown":"oh ok so that worked and the employee.obf file was created.","body":"oh ok so that worked and the employee.obf file was created."},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547926376,"post_id":54270241,"comment_id":95364193,"body_markdown":"@m.18 Awesome. So the problem must be somewhere else. Can you alter you question with more information?","body":"@m.18 Awesome. So the problem must be somewhere else. Can you alter you question with more information?"},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547927003,"post_id":54270241,"comment_id":95364338,"body_markdown":"I added how an employee is added from the main class but I doubt it makes a difference. What other information should I send?","body":"I added how an employee is added from the main class but I doubt it makes a difference. What other information should I send?"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547927674,"post_id":54270241,"comment_id":95364508,"body_markdown":"@m.18 Oh, I didn&#39;t actually have much of a look on Employees. But I think you can help yourself a lot by refactoring your class a bit. Your &quot;Employees&quot; class, is really just a single Employee (so call it that). Instead of having a static ArrayList inside the Employees class - move it out to your &quot;main class&quot; and add it there directly. Its a bit counter-intuitive that you use the same class to store employees, as the class you use for a single employee (even though it is static). Can you show the code where you call &quot;EmployeeFileHandler.writeDate&quot;?","body":"@m.18 Oh, I didn&#39;t actually have much of a look on Employees. But I think you can help yourself a lot by refactoring your class a bit. Your &quot;Employees&quot; class, is really just a single Employee (so call it that). Instead of having a static ArrayList inside the Employees class - move it out to your &quot;main class&quot; and add it there directly. Its a bit counter-intuitive that you use the same class to store employees, as the class you use for a single employee (even though it is static). Can you show the code where you call &quot;EmployeeFileHandler.writeDate&quot;?"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547927811,"post_id":54270241,"comment_id":95364541,"body_markdown":"@m.18 Actually, the problem may in fact be your static field, as I believe static fields are ignored during serialization of an object.","body":"@m.18 Actually, the problem may in fact be your static field, as I believe static fields are ignored during serialization of an object."},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547928265,"post_id":54270241,"comment_id":95364667,"body_markdown":"Where should the EmployeeFileHandler.writeDate be called? Because I&#39;m not calling it anywhere. This is my first time using file handlers if you haven&#39;t noticed lol.","body":"Where should the EmployeeFileHandler.writeDate be called? Because I&#39;m not calling it anywhere. This is my first time using file handlers if you haven&#39;t noticed lol."},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547929716,"post_id":54270241,"comment_id":95365006,"body_markdown":"@m.18 So we have established that the code seems to work, so your question is no longer about that. Instead I suppose it is about how to persist data, so that it is available if you close the program and open it again later? In that case you would call readData when launching your application and writeData just before you close it (or after every time you add/remove in case the application crashes).","body":"@m.18 So we have established that the code seems to work, so your question is no longer about that. Instead I suppose it is about how to persist data, so that it is available if you close the program and open it again later? In that case you would call readData when launching your application and writeData just before you close it (or after every time you add/remove in case the application crashes)."},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547930930,"post_id":54270241,"comment_id":95365339,"body_markdown":"Ok so it is now kind of working I was just not calling the methods. It is saving and reading but sometimes it is outputting duplicates and if an object is deleted it still remains in the file. I updated the code (Employees class) and added where I called the methods.","body":"Ok so it is now kind of working I was just not calling the methods. It is saving and reading but sometimes it is outputting duplicates and if an object is deleted it still remains in the file. I updated the code (Employees class) and added where I called the methods."},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547932705,"post_id":54270241,"comment_id":95365763,"body_markdown":"@m.18 This thread has gotten a little out of hand, so I recommend going through my comments and updating your question with the specific problem you&#39;re having. If others stumble upon this question, it might also make more sense then and perhaps be of help. Welcome to StackOverflow :-)","body":"@m.18 This thread has gotten a little out of hand, so I recommend going through my comments and updating your question with the specific problem you&#39;re having. If others stumble upon this question, it might also make more sense then and perhaps be of help. Welcome to StackOverflow :-)"},{"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"score":0,"creation_date":1547933970,"post_id":54270241,"comment_id":95366031,"body_markdown":"I think I managed to figure out most of it. Thanks for all your help :)","body":"I think I managed to figure out most of it. Thanks for all your help :)"},{"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"score":0,"creation_date":1547934455,"post_id":54270241,"comment_id":95366163,"body_markdown":"@m.18 Awesome, feel free to ask otherwise or you can accept this answer.","body":"@m.18 Awesome, feel free to ask otherwise or you can accept this answer."}],"tags":[],"owner":{"account_id":4580560,"reputation":1893,"user_id":3717691,"accept_rate":100,"display_name":"Jeppe"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547924386,"creation_date":1547923354,"answer_id":54270241,"question_id":54266421,"body_markdown":"This solution tests EmployeeFileHandler and shows the error if e.g the directory is not writable. Run with `javac EmployeeFileHandler.java; java -ea EmployeeFileHandler` to have it crash if assertion fails. Ensure the Person class is also Serializable.\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n\r\n    public class EmployeeFileHandler implements Serializable {\r\n        public static void main(String[] args) {\r\n            ArrayList&lt;Employees&gt; employees = new ArrayList&lt;Employees&gt;();\r\n            for (int i = 0; i &lt; 1000; i++) {\r\n                employees.add(new Employees(&quot;Name&quot; + i, &quot;Surname&quot; + i, &quot;&quot; + i, 12345678));\r\n            }        \r\n            writeDate(employees);\r\n\r\n            ArrayList&lt;Employees&gt; employees2 = new ArrayList&lt;Employees&gt;();\r\n            readData(employees2);\r\n            \r\n            assert employees.size() == employees2.size();\r\n            for (int i = 0; i &lt; 1000; i++) {\r\n                Employees e = employees2.get(i);\r\n                assert e.Name.equals(&quot;Name&quot; + i);\r\n                assert e.Surname.equals(&quot;Surname&quot; + i);\r\n                assert e.ID.equals(&quot;&quot; + i);\r\n                assert e.MobNo == 12345678;\r\n            }        \r\n        }\r\n\r\n        public static void readData(ArrayList&lt;Employees&gt; listIn) {\r\n\r\n            boolean endOfFile = false;\r\n            Employees temp;\r\n\r\n            try {\r\n\r\n                FileInputStream employeesFile = new FileInputStream(&quot;employee.obf&quot;);\r\n                ObjectInputStream employeesStream = new ObjectInputStream(employeesFile);\r\n                temp = (Employees) employeesStream.readObject();\r\n\r\n                while (endOfFile != true) {\r\n                    try {\r\n                        listIn.add(temp);\r\n                        temp = (Employees) employeesStream.readObject();\r\n                    } catch (EOFException e) {\r\n                        endOfFile = true;\r\n                    }\r\n                }\r\n                employeesStream.close();\r\n            }\r\n\r\n            catch (FileNotFoundException e) {\r\n                System.out.println(&quot;Employee file was not found&quot;);\r\n            } catch (IOException e) {\r\n                System.out.println(&quot;Employee file could not be read&quot;);\r\n            } catch (ClassNotFoundException e) {\r\n                System.out.println(&quot;Employee class was not found&quot;);\r\n            }\r\n        }\r\n\r\n        public static void writeDate(ArrayList&lt;Employees&gt; employee) {\r\n\r\n            try {\r\n                FileOutputStream EmployeesFile = new FileOutputStream(&quot;employee.obf&quot;);\r\n                ObjectOutputStream EmployeesStream = new ObjectOutputStream(EmployeesFile);\r\n\r\n                for (Employees employees : employee) {\r\n                    EmployeesStream.writeObject(employees);\r\n                }\r\n                EmployeesStream.close();\r\n            } catch (IOException e) {\r\n                // System.out.println(&quot;Error occurred while saving&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How to save and load an array list of objects?","body":"<p>This solution tests EmployeeFileHandler and shows the error if e.g the directory is not writable. Run with <code>javac EmployeeFileHandler.java; java -ea EmployeeFileHandler</code> to have it crash if assertion fails. Ensure the Person class is also Serializable.</p>\n\n<pre><code>import java.util.*;\nimport java.io.*;\n\npublic class EmployeeFileHandler implements Serializable {\n    public static void main(String[] args) {\n        ArrayList&lt;Employees&gt; employees = new ArrayList&lt;Employees&gt;();\n        for (int i = 0; i &lt; 1000; i++) {\n            employees.add(new Employees(\"Name\" + i, \"Surname\" + i, \"\" + i, 12345678));\n        }        \n        writeDate(employees);\n\n        ArrayList&lt;Employees&gt; employees2 = new ArrayList&lt;Employees&gt;();\n        readData(employees2);\n\n        assert employees.size() == employees2.size();\n        for (int i = 0; i &lt; 1000; i++) {\n            Employees e = employees2.get(i);\n            assert e.Name.equals(\"Name\" + i);\n            assert e.Surname.equals(\"Surname\" + i);\n            assert e.ID.equals(\"\" + i);\n            assert e.MobNo == 12345678;\n        }        \n    }\n\n    public static void readData(ArrayList&lt;Employees&gt; listIn) {\n\n        boolean endOfFile = false;\n        Employees temp;\n\n        try {\n\n            FileInputStream employeesFile = new FileInputStream(\"employee.obf\");\n            ObjectInputStream employeesStream = new ObjectInputStream(employeesFile);\n            temp = (Employees) employeesStream.readObject();\n\n            while (endOfFile != true) {\n                try {\n                    listIn.add(temp);\n                    temp = (Employees) employeesStream.readObject();\n                } catch (EOFException e) {\n                    endOfFile = true;\n                }\n            }\n            employeesStream.close();\n        }\n\n        catch (FileNotFoundException e) {\n            System.out.println(\"Employee file was not found\");\n        } catch (IOException e) {\n            System.out.println(\"Employee file could not be read\");\n        } catch (ClassNotFoundException e) {\n            System.out.println(\"Employee class was not found\");\n        }\n    }\n\n    public static void writeDate(ArrayList&lt;Employees&gt; employee) {\n\n        try {\n            FileOutputStream EmployeesFile = new FileOutputStream(\"employee.obf\");\n            ObjectOutputStream EmployeesStream = new ObjectOutputStream(EmployeesFile);\n\n            for (Employees employees : employee) {\n                EmployeesStream.writeObject(employees);\n            }\n            EmployeesStream.close();\n        } catch (IOException e) {\n            // System.out.println(\"Error occurred while saving\");\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692961688,"post_id":76964344,"comment_id":135699310,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76964344/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25195195,"reputation":1,"user_id":19034836,"display_name":"Million Sharbe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692818585,"creation_date":1692818585,"answer_id":76964344,"question_id":54266421,"body_markdown":"you can do it like this \r\nwriting every object one by one using a loop\r\n\r\n\r\n \r\n    private static final List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n    static File dataFile = new File(&quot;students.obf&quot;);\r\n    static File metaFile = new File(&quot;students.txt&quot;);\r\n\r\n    public static void main(String... args) throws IOException {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Student student = new Student(&quot;id&quot; + i, &quot;name&quot; + i);\r\n            getStudents().add(student);\r\n        }\r\n        for (int i = 0; i &lt; getStudents().size(); i++) {\r\n            System.out.println(getStudents().get(i).getName());\r\n        }\r\n        writeMetaDataFile();\r\n        writeDataFile();\r\n        readDataFile();\r\n\r\n    }\r\n\r\n    private static void writeMetaDataFile() throws FileNotFoundException {\r\n        try (PrintWriter printWriter = new PrintWriter(metaFile)) {\r\n            printWriter.print(getStudents().size());\r\n        }\r\n    }\r\n\r\n    private static int readMetaDataFile() throws FileNotFoundException {\r\n        try (Scanner scanner = new Scanner(metaFile)) {\r\n            return scanner.nextInt();\r\n        }\r\n    }\r\n\r\n    private static void readDataFile() throws FileNotFoundException {\r\n        try (FileInputStream fileInputStream = new FileInputStream(dataFile)) {\r\n            try (ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream)) {\r\n                for (int i = 0; i &lt; readMetaDataFile(); i++) {\r\n                    System.out.println(objectInputStream.readObject());\r\n                }\r\n            } catch (ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static void writeDataFile() throws IOException {\r\n        try (FileOutputStream fileOutputStream = new FileOutputStream(dataFile)) {\r\n            try (ObjectOutputStream objectOutputStream = new ObjectOutputStream(fileOutputStream)) {\r\n                for (int i = 0; i &lt; getStudents().size(); i++) {\r\n                    objectOutputStream.writeObject(getStudents().get(i));\r\n                    System.out.println(&quot;writing object&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static List&lt;Student&gt; getStudents() {\r\n        return students;\r\n    }\r\n\r\n\r\n    static class Student implements Serializable {\r\n        private final String name;\r\n        private final String id;\r\n\r\n        public Student(String id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n    }\r\n","title":"How to save and load an array list of objects?","body":"<p>you can do it like this\nwriting every object one by one using a loop</p>\n<pre><code>private static final List&lt;Student&gt; students = new ArrayList&lt;&gt;();\nstatic File dataFile = new File(&quot;students.obf&quot;);\nstatic File metaFile = new File(&quot;students.txt&quot;);\n\npublic static void main(String... args) throws IOException {\n    for (int i = 0; i &lt; 10; i++) {\n        Student student = new Student(&quot;id&quot; + i, &quot;name&quot; + i);\n        getStudents().add(student);\n    }\n    for (int i = 0; i &lt; getStudents().size(); i++) {\n        System.out.println(getStudents().get(i).getName());\n    }\n    writeMetaDataFile();\n    writeDataFile();\n    readDataFile();\n\n}\n\nprivate static void writeMetaDataFile() throws FileNotFoundException {\n    try (PrintWriter printWriter = new PrintWriter(metaFile)) {\n        printWriter.print(getStudents().size());\n    }\n}\n\nprivate static int readMetaDataFile() throws FileNotFoundException {\n    try (Scanner scanner = new Scanner(metaFile)) {\n        return scanner.nextInt();\n    }\n}\n\nprivate static void readDataFile() throws FileNotFoundException {\n    try (FileInputStream fileInputStream = new FileInputStream(dataFile)) {\n        try (ObjectInputStream objectInputStream = new ObjectInputStream(fileInputStream)) {\n            for (int i = 0; i &lt; readMetaDataFile(); i++) {\n                System.out.println(objectInputStream.readObject());\n            }\n        } catch (ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\nprivate static void writeDataFile() throws IOException {\n    try (FileOutputStream fileOutputStream = new FileOutputStream(dataFile)) {\n        try (ObjectOutputStream objectOutputStream = new ObjectOutputStream(fileOutputStream)) {\n            for (int i = 0; i &lt; getStudents().size(); i++) {\n                objectOutputStream.writeObject(getStudents().get(i));\n                System.out.println(&quot;writing object&quot;);\n            }\n        }\n    }\n}\n\npublic static List&lt;Student&gt; getStudents() {\n    return students;\n}\n\n\nstatic class Student implements Serializable {\n    private final String name;\n    private final String id;\n\n    public Student(String id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getId() {\n        return id;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54270241,"answer_count":3,"score":0,"last_activity_date":1692818585,"creation_date":1547895953,"question_id":54266421,"body_markdown":"I have a class Employees that has methods add, delete, display and search employees in an array list. Now I&#39;m trying to create a file handler to save and read this data but for some reason it isn&#39;t working and it isn&#39;t creating a file or reading it. Can anyone find a problem with my code please?\r\n\r\n","title":"How to save and load an array list of objects?","body":"<p>I have a class Employees that has methods add, delete, display and search employees in an array list. Now I'm trying to create a file handler to save and read this data but for some reason it isn't working and it isn't creating a file or reading it. Can anyone find a problem with my code please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":189341,"reputation":1768,"user_id":428627,"display_name":"giorgiga"},"score":0,"creation_date":1518472039,"post_id":48755978,"comment_id":84513098,"body_markdown":"`System.out` prints to standard output - in order to capture that you&#39;ll need to start a new process (see `Runtime.exec`) and see what gets printed on the standard output. Do that, and you&#39;ll have tested if `System.out` works :)","body":"<code>System.out</code> prints to standard output - in order to capture that you&#39;ll need to start a new process (see <code>Runtime.exec</code>) and see what gets printed on the standard output. Do that, and you&#39;ll have tested if <code>System.out</code> works :)"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1518472697,"post_id":48755978,"comment_id":84513405,"body_markdown":"https://stackoverflow.com/questions/1119385/junit-test-for-system-out-println","body":"<a href=\"https://stackoverflow.com/questions/1119385/junit-test-for-system-out-println\" title=\"junit test for system out println\">stackoverflow.com/questions/1119385/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1518472473,"post_id":48756084,"comment_id":84513294,"body_markdown":"`setOut` requires a `PrintStream`, see my answer for details.","body":"<code>setOut</code> requires a <code>PrintStream</code>, see my answer for details."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1518472597,"post_id":48756084,"comment_id":84513353,"body_markdown":"@Lothar Indeed. Thanks :) Writing without compiler creates this kind of issue :)","body":"@Lothar Indeed. Thanks :) Writing without compiler creates this kind of issue :)"},{"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"score":0,"creation_date":1518473371,"post_id":48756084,"comment_id":84513745,"body_markdown":"i have only  &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;","body":"i have only  &lt;dependency&gt;       &lt;groupId&gt;junit&lt;/groupId&gt;       &lt;artifactId&gt;junit&lt;/artifactId&gt;       &lt;version&gt;4.8.1&lt;/version&gt;       &lt;scope&gt;test&lt;/scope&gt;     &lt;/dependency&gt;"},{"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"score":0,"creation_date":1518473393,"post_id":48756084,"comment_id":84513756,"body_markdown":"it doesnt allow for Annotation @Test","body":"it doesnt allow for Annotation @Test"},{"owner":{"account_id":429736,"reputation":5878,"user_id":812787,"accept_rate":25,"display_name":"tsolakp"},"score":0,"creation_date":1518473571,"post_id":48756084,"comment_id":84513855,"body_markdown":"If `assertEquals` fails your will introduce side effect in your test by leaving `System.out.println` pointing to custom stream.","body":"If <code>assertEquals</code> fails your will introduce side effect in your test by leaving <code>System.out.println</code> pointing to custom stream."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1518473583,"post_id":48756084,"comment_id":84513863,"body_markdown":"The `@Test` annotation is included since JUnit 4. You use it. So it should work. Just add the import : `import org.junit.Test`","body":"The <code>@Test</code> annotation is included since JUnit 4. You use it. So it should work. Just add the import : <code>import org.junit.Test</code>"},{"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"score":0,"creation_date":1518473586,"post_id":48756084,"comment_id":84513865,"body_markdown":"in the assert method i dont get how bos.string has a string hello world in it","body":"in the assert method i dont get how bos.string has a string hello world in it"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":1,"creation_date":1518473682,"post_id":48756084,"comment_id":84513907,"body_markdown":"@tsolakp It is right. Doing it in a `finally` statement or a `@Before` method is preferable.","body":"@tsolakp It is right. Doing it in a <code>finally</code> statement or a <code>@Before</code> method is preferable."},{"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"score":0,"creation_date":1518474646,"post_id":48756084,"comment_id":84514348,"body_markdown":"wow thats deep , where can i learn about such deep knowledge of java any reference books or something ? thats great thanks @davidxxx thanks","body":"wow thats deep , where can i learn about such deep knowledge of java any reference books or something ? thats great thanks @davidxxx thanks"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1518474824,"post_id":48756084,"comment_id":84514420,"body_markdown":"@valik I edited to explain why it works. By reading it carefully and by testing yourself with a debugger in your IDE, you should get it I am sure","body":"@valik I edited to explain why it works. By reading it carefully and by testing yourself with a debugger in your IDE, you should get it I am sure"},{"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"score":0,"creation_date":1518521431,"post_id":48756084,"comment_id":84531800,"body_markdown":"@valik Simple experience coming from working with a language. Sooner or later you come up with problems like these you spend time on solving. After a couple of years you end up with a stack of knowledge you collected over time.","body":"@valik Simple experience coming from working with a language. Sooner or later you come up with problems like these you spend time on solving. After a couple of years you end up with a stack of knowledge you collected over time."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":11,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1518475726,"creation_date":1518472181,"answer_id":48756084,"question_id":48755978,"body_markdown":"You could assign to the `System.out` variable a `ByteArrayOutputStream` object which you store the reference in a variable.  \r\nThen invoke your `main()` method and assert that the `String` content of the `ByteArrayOutputStream` object contains the expected `String`:\r\n\r\n    @Test\r\n    public void main() throws Exception{                \r\n        PrintStream originalOut = System.out; // to have a way to undo the binding with your `ByteArrayOutputStream` \r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        System.setOut(new PrintStream(bos));\r\n        // action\r\n        App.main(null);\r\n        // assertion\r\n        Assert.assertEquals(&quot;hello world&quot;, bos.toString());\r\n        // undo the binding in System\r\n        System.setOut(originalOut);\r\n    }\r\n\r\n**Why does it work ?**   \r\n\r\n`bos.toString()` returns the `&quot;Hello World!&quot;` `String` passed in the method under test:\r\n\r\n    System.out.println( &quot;Hello World!&quot; );\r\n\r\nas after setting `System.out` in this way :  `System.setOut(new PrintStream(bos));`, the `out` variable refers to a `PrintStream` object that decorates the `ByteArrayOutputStream` object referenced by the `bos` variable.\r\nSo any `System.out` invocations will write `byte`s in the `ByteArrayOutputStream` object.\r\n","title":"Testing a simple hello world method","body":"<p>You could assign to the <code>System.out</code> variable a <code>ByteArrayOutputStream</code> object which you store the reference in a variable.<br>\nThen invoke your <code>main()</code> method and assert that the <code>String</code> content of the <code>ByteArrayOutputStream</code> object contains the expected <code>String</code>:</p>\n\n<pre><code>@Test\npublic void main() throws Exception{                \n    PrintStream originalOut = System.out; // to have a way to undo the binding with your `ByteArrayOutputStream` \n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    System.setOut(new PrintStream(bos));\n    // action\n    App.main(null);\n    // assertion\n    Assert.assertEquals(\"hello world\", bos.toString());\n    // undo the binding in System\n    System.setOut(originalOut);\n}\n</code></pre>\n\n<p><strong>Why does it work ?</strong>   </p>\n\n<p><code>bos.toString()</code> returns the <code>\"Hello World!\"</code> <code>String</code> passed in the method under test:</p>\n\n<pre><code>System.out.println( \"Hello World!\" );\n</code></pre>\n\n<p>as after setting <code>System.out</code> in this way :  <code>System.setOut(new PrintStream(bos));</code>, the <code>out</code> variable refers to a <code>PrintStream</code> object that decorates the <code>ByteArrayOutputStream</code> object referenced by the <code>bos</code> variable.\nSo any <code>System.out</code> invocations will write <code>byte</code>s in the <code>ByteArrayOutputStream</code> object.</p>\n"},{"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1518472683,"post_id":48756128,"comment_id":84513394,"body_markdown":"Make the code more naturally testable is a good thing. You have my vote :)","body":"Make the code more naturally testable is a good thing. You have my vote :)"}],"tags":[],"owner":{"account_id":11653359,"reputation":5339,"user_id":8533940,"display_name":"Lothar"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692818347,"creation_date":1518472382,"answer_id":48756128,"question_id":48755978,"body_markdown":"You can change your class this way \r\n\r\n\timport java.io.PrintStream;\r\n\t\r\n\tpublic class TestHelloWorld {\r\n\t\t\r\n\t\tpublic final static void main(String[] args) {\r\n\t\t\tdoPrint(System.out);\r\n\t\t}\r\n\t\t\r\n\t\tstatic void doPrint(PrintStream ps) {\r\n\t\t\tps.println(&quot;Hello World&quot;);\r\n\t\t}\r\n\t}\r\n\r\nand test the `doPrint` function by providing your own `PrintStream` you create around a `ByteArrayOutputStream`:\r\n\r\n    public void mainMethodTest() throws Exception{\r\n        ByteArrayOutputStream data = new ByteArrayOutputStream();\r\n        PrintStream ps = new PrintStream(data, true, &quot;UTF-8&quot;);\r\n        TestHelloWorld.doPrint(ps);\r\n        ps.flush();\r\n        Assert.assertEquals(&quot;Hello World&quot; + System.getProperty(&quot;line.separator&quot;), new String(data, &quot;UTF-8&quot;));\r\n    }\r\n\r\nAnother solution is to replace the system&#39;s `PrintStream` by your own:\r\n\r\n    System.setOut(new PrintStream(data, true, &quot;UTF-8&quot;));\r\n\r\nbut that&#39;s quite ugly and I try to avoid that. Above solution is more clear, easier to maintenance and you can be sure that no other part of a larger application is printing something to STDOUT while you do your test, leading to a failure of it.","title":"Testing a simple hello world method","body":"<p>You can change your class this way</p>\n<pre><code>import java.io.PrintStream;\n\npublic class TestHelloWorld {\n    \n    public final static void main(String[] args) {\n        doPrint(System.out);\n    }\n    \n    static void doPrint(PrintStream ps) {\n        ps.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>and test the <code>doPrint</code> function by providing your own <code>PrintStream</code> you create around a <code>ByteArrayOutputStream</code>:</p>\n<pre><code>public void mainMethodTest() throws Exception{\n    ByteArrayOutputStream data = new ByteArrayOutputStream();\n    PrintStream ps = new PrintStream(data, true, &quot;UTF-8&quot;);\n    TestHelloWorld.doPrint(ps);\n    ps.flush();\n    Assert.assertEquals(&quot;Hello World&quot; + System.getProperty(&quot;line.separator&quot;), new String(data, &quot;UTF-8&quot;));\n}\n</code></pre>\n<p>Another solution is to replace the system's <code>PrintStream</code> by your own:</p>\n<pre><code>System.setOut(new PrintStream(data, true, &quot;UTF-8&quot;));\n</code></pre>\n<p>but that's quite ugly and I try to avoid that. Above solution is more clear, easier to maintenance and you can be sure that no other part of a larger application is printing something to STDOUT while you do your test, leading to a failure of it.</p>\n"},{"tags":[],"owner":{"account_id":6212045,"reputation":233,"user_id":4838060,"accept_rate":50,"display_name":"Mark D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518472603,"creation_date":1518472603,"answer_id":48756172,"question_id":48755978,"body_markdown":"You can run Junit from a main method if thats what you mean.\r\n\r\n    public static void main( String[] args )\r\n    {\r\n        JUnitCore junit = new JUnitCore(); \r\n        Result result = null;\r\n        try {        \r\n        \t result = junit.run(MyTestClass.class);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n        \te.printStackTrace();\r\n        }\r\n        int passed = result.getRunCount()-result.getFailureCount();\r\n    }\r\n\r\n    public class MyTestClass{\r\n        @Test\r\n    \tpublic void testAllBrowsers(){\r\n             //test code and asserts\r\n        }\r\n    }","title":"Testing a simple hello world method","body":"<p>You can run Junit from a main method if thats what you mean.</p>\n\n<pre><code>public static void main( String[] args )\n{\n    JUnitCore junit = new JUnitCore(); \n    Result result = null;\n    try {        \n         result = junit.run(MyTestClass.class);\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n    int passed = result.getRunCount()-result.getFailureCount();\n}\n\npublic class MyTestClass{\n    @Test\n    public void testAllBrowsers(){\n         //test code and asserts\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3037,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1692818347,"creation_date":1518471748,"question_id":48755978,"body_markdown":"I have worked with junit test integration tests and controller tests in spring and usually we test the output of a method but when i tried to test a simple hello world in main method i had no idea how to go about it so will like to get any idea on what do write\r\n\r\n    public class App \r\n    {\r\n        public static void main( String[] args )\r\n        {\r\n            System.out.println( &quot;Hello World!&quot; );\r\n        }\r\n    }\r\nThis is the simple java class any idea how i can test it\r\nI tried to write something like this \r\n\r\n    public void mainMethodTest() throws Exception{\r\n    \r\n            System.out.println(&quot;hello world&quot;);\r\n            String[] args = null;\r\n    \r\n    \r\n            Assert.assertEquals(System.out.println(&quot;hello world&quot;),App.main(args));\r\n        }\r\n\r\n\r\n\r\n","title":"Testing a simple hello world method","body":"<p>I have worked with junit test integration tests and controller tests in spring and usually we test the output of a method but when i tried to test a simple hello world in main method i had no idea how to go about it so will like to get any idea on what do write</p>\n\n<pre><code>public class App \n{\n    public static void main( String[] args )\n    {\n        System.out.println( \"Hello World!\" );\n    }\n}\n</code></pre>\n\n<p>This is the simple java class any idea how i can test it\nI tried to write something like this </p>\n\n<pre><code>public void mainMethodTest() throws Exception{\n\n        System.out.println(\"hello world\");\n        String[] args = null;\n\n\n        Assert.assertEquals(System.out.println(\"hello world\"),App.main(args));\n    }\n</code></pre>\n"},{"tags":["java","keycloak","quarkus","vert.x"],"comments":[{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":1,"creation_date":1692871572,"post_id":76962454,"comment_id":135683995,"body_markdown":"We are discussing it, thanks","body":"We are discussing it, thanks"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1692958455,"post_id":76962454,"comment_id":135698670,"body_markdown":"FYI, https://github.com/quarkusio/quarkus/issues/35556","body":"FYI, <a href=\"https://github.com/quarkusio/quarkus/issues/35556\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/35556</a>"},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1692959742,"post_id":76962454,"comment_id":135698940,"body_markdown":"Moved to https://github.com/vert-x3/vertx-web/issues/2468","body":"Moved to <a href=\"https://github.com/vert-x3/vertx-web/issues/2468\" rel=\"nofollow noreferrer\">github.com/vert-x3/vertx-web/issues/2468</a>"}],"owner":{"account_id":17329865,"reputation":146,"user_id":12553246,"display_name":"Anthony Heaney"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692818316,"creation_date":1692801504,"question_id":76962454,"body_markdown":"I have a Quarkus (3.2.4) service using keycloak (22.0.1) authorization services and &quot;quarkus.oidc&quot; that I am trying to get to use our Squid proxy.  The problem I can see in the javax.net.ssl logs is that vert.x-eventloop is attempting a SSL connection to squid. I thought the problem may have been leaving http2 enabled with vert.x, but that doesn&#39;t seem to resolve the issue.  I can see in the logs where it connects to the keycloak oidc discovery endpoint and /certs endpoint before continuing onto the client hello to Squid.  How do I stop vert.x/Quarkus from attempting SSL with my proxy?\r\n\r\njavax.net.debug:\r\n\r\n    2023-08-23 13:14:18.798,&quot;javax.net.ssl|DEBUG|71|vert.x-eventloop-thread-1|2023-08-23 13:14:18.798 GMT|SSLEngineInputRecord.java:213|READ: TLSv1.2 application_data, length = 2272&quot;\r\n    2023-08-23 13:14:18.801,javax.net.ssl|DEBUG|71|vert.x-eventloop-thread-1|2023-08-23 13:14:18.801 GMT|SSLCipher.java:1675|Plaintext after DECRYPTION (\r\n    ...\r\n    2023-08-23 13:14:20.523,javax.net.ssl|ALL|10|main|2023-08-23 13:14:20.523 GMT|SignatureScheme.java:412|Ignore disabled signature scheme: rsa_md5\r\n    2023-08-23 13:14:20.524,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.523 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: cookie&quot;\r\n    2023-08-23 13:14:20.533,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.533 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: renegotiation_info&quot;\r\n    2023-08-23 13:14:20.534,javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.533 GMT|PreSharedKeyExtension.java:661|No session to resume.\r\n    2023-08-23 13:14:20.534,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.534 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: pre_shared_key&quot;\r\n    2023-08-23 13:14:20.542,javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.541 GMT|ClientHello.java:641|Produced ClientHello handshake message (\r\n    2023-08-23 13:14:20.542,&quot;&quot;&quot;ClientHello&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;client version&quot;&quot;      : &quot;&quot;TLSv1.2&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;random&quot;&quot;              : &quot;&quot;5343023433CFCA8CAB3D6C3551F79C03817BD0BEBB11679D1587FF1BEC8C1B00&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;session id&quot;&quot;          : &quot;&quot;7092A57911F65CC5D96FF148FDFEE5BAFA63ACDE2A65AA27B504C6A3294D02E6&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;cipher suites&quot;&quot;       : &quot;&quot;[TLS_AES_256_GCM_SHA384(0x1302), TLS_AES_128_GCM_SHA256(0x1301), TLS_CHACHA20_POLY1305_SHA256(0x1303), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA9), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA8), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCAA), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;compression methods&quot;&quot; : &quot;&quot;00&quot;&quot;,&quot;\r\n    2023-08-23 13:14:20.542,&quot;  &quot;&quot;extensions&quot;&quot;          : [&quot;\r\n    2023-08-23 13:14:20.542,&quot;    &quot;&quot;server_name (0)&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,&quot;      type=host_name (0), value=outboundproxy.example.domain&quot;\r\n    2023-08-23 13:14:20.542,&quot;    },&quot;\r\n    2023-08-23 13:14:20.542,&quot;    &quot;&quot;status_request (5)&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,&quot;      &quot;&quot;certificate status type&quot;&quot;: ocsp&quot;\r\n    2023-08-23 13:14:20.542,&quot;      &quot;&quot;OCSP status request&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,&quot;        &quot;&quot;responder_id&quot;&quot;: &lt;empty&gt;&quot;\r\n    2023-08-23 13:14:20.542,&quot;        &quot;&quot;request extensions&quot;&quot;: {&quot;\r\n    2023-08-23 13:14:20.542,          &lt;empty&gt;\r\n    2023-08-23 13:14:20.542,        }\r\n    2023-08-23 13:14:20.542,      }\r\n    2023-08-23 13:14:20.542,&quot;    }\r\n    ...\r\n\r\n\r\nsome config info:\r\n\r\n    quarkus.http.http2=false\r\n    quarkus.http.proxy.proxy-address-forwarding=true\r\n    quarkus.oidc.enabled=true\r\n    quarkus.oidc.auth-server-url=${keycloakAuthServerUrl}/realms/${keycloakRealm}\r\n    quarkus.oidc.discovery-enabled=true\r\n    quarkus.oidc.client-id=${keycloakResource}\r\n    quarkus.oidc.credentials.secret=${keycloakCredentialsSecret}\r\n    quarkus.oidc.tls.verification=none\r\n    quarkus.oidc.proxy.host=${squidProxyHost}\r\n    quarkus.oidc.proxy.port=${squidProxyPort}\r\n\r\nEdited with answer based on https://github.com/quarkusio/quarkus/issues/26577\r\n\r\nmy ${squidProxyHost} was outboundproxy.example.domain because of keycloak authorization components that separated scheme from host.  I updated \r\n\r\n    quarkus.oidc.proxy.host=${squidProxyHost}\r\n    to \r\n    quarkus.oidc.proxy.host=http://${squidProxyHost}","title":"Quarkus/Vert.x attempting to connect to proxy over SSL","body":"<p>I have a Quarkus (3.2.4) service using keycloak (22.0.1) authorization services and &quot;quarkus.oidc&quot; that I am trying to get to use our Squid proxy.  The problem I can see in the javax.net.ssl logs is that vert.x-eventloop is attempting a SSL connection to squid. I thought the problem may have been leaving http2 enabled with vert.x, but that doesn't seem to resolve the issue.  I can see in the logs where it connects to the keycloak oidc discovery endpoint and /certs endpoint before continuing onto the client hello to Squid.  How do I stop vert.x/Quarkus from attempting SSL with my proxy?</p>\n<p>javax.net.debug:</p>\n<pre><code>2023-08-23 13:14:18.798,&quot;javax.net.ssl|DEBUG|71|vert.x-eventloop-thread-1|2023-08-23 13:14:18.798 GMT|SSLEngineInputRecord.java:213|READ: TLSv1.2 application_data, length = 2272&quot;\n2023-08-23 13:14:18.801,javax.net.ssl|DEBUG|71|vert.x-eventloop-thread-1|2023-08-23 13:14:18.801 GMT|SSLCipher.java:1675|Plaintext after DECRYPTION (\n...\n2023-08-23 13:14:20.523,javax.net.ssl|ALL|10|main|2023-08-23 13:14:20.523 GMT|SignatureScheme.java:412|Ignore disabled signature scheme: rsa_md5\n2023-08-23 13:14:20.524,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.523 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: cookie&quot;\n2023-08-23 13:14:20.533,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.533 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: renegotiation_info&quot;\n2023-08-23 13:14:20.534,javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.533 GMT|PreSharedKeyExtension.java:661|No session to resume.\n2023-08-23 13:14:20.534,&quot;javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.534 GMT|SSLExtensions.java:272|Ignore, context unavailable extension: pre_shared_key&quot;\n2023-08-23 13:14:20.542,javax.net.ssl|DEBUG|10|main|2023-08-23 13:14:20.541 GMT|ClientHello.java:641|Produced ClientHello handshake message (\n2023-08-23 13:14:20.542,&quot;&quot;&quot;ClientHello&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;client version&quot;&quot;      : &quot;&quot;TLSv1.2&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;random&quot;&quot;              : &quot;&quot;5343023433CFCA8CAB3D6C3551F79C03817BD0BEBB11679D1587FF1BEC8C1B00&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;session id&quot;&quot;          : &quot;&quot;7092A57911F65CC5D96FF148FDFEE5BAFA63ACDE2A65AA27B504C6A3294D02E6&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;cipher suites&quot;&quot;       : &quot;&quot;[TLS_AES_256_GCM_SHA384(0x1302), TLS_AES_128_GCM_SHA256(0x1301), TLS_CHACHA20_POLY1305_SHA256(0x1303), TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA9), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCA8), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256(0xCCAA), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;compression methods&quot;&quot; : &quot;&quot;00&quot;&quot;,&quot;\n2023-08-23 13:14:20.542,&quot;  &quot;&quot;extensions&quot;&quot;          : [&quot;\n2023-08-23 13:14:20.542,&quot;    &quot;&quot;server_name (0)&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,&quot;      type=host_name (0), value=outboundproxy.example.domain&quot;\n2023-08-23 13:14:20.542,&quot;    },&quot;\n2023-08-23 13:14:20.542,&quot;    &quot;&quot;status_request (5)&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,&quot;      &quot;&quot;certificate status type&quot;&quot;: ocsp&quot;\n2023-08-23 13:14:20.542,&quot;      &quot;&quot;OCSP status request&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,&quot;        &quot;&quot;responder_id&quot;&quot;: &lt;empty&gt;&quot;\n2023-08-23 13:14:20.542,&quot;        &quot;&quot;request extensions&quot;&quot;: {&quot;\n2023-08-23 13:14:20.542,          &lt;empty&gt;\n2023-08-23 13:14:20.542,        }\n2023-08-23 13:14:20.542,      }\n2023-08-23 13:14:20.542,&quot;    }\n...\n</code></pre>\n<p>some config info:</p>\n<pre><code>quarkus.http.http2=false\nquarkus.http.proxy.proxy-address-forwarding=true\nquarkus.oidc.enabled=true\nquarkus.oidc.auth-server-url=${keycloakAuthServerUrl}/realms/${keycloakRealm}\nquarkus.oidc.discovery-enabled=true\nquarkus.oidc.client-id=${keycloakResource}\nquarkus.oidc.credentials.secret=${keycloakCredentialsSecret}\nquarkus.oidc.tls.verification=none\nquarkus.oidc.proxy.host=${squidProxyHost}\nquarkus.oidc.proxy.port=${squidProxyPort}\n</code></pre>\n<p>Edited with answer based on <a href=\"https://github.com/quarkusio/quarkus/issues/26577\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/26577</a></p>\n<p>my ${squidProxyHost} was outboundproxy.example.domain because of keycloak authorization components that separated scheme from host.  I updated</p>\n<pre><code>quarkus.oidc.proxy.host=${squidProxyHost}\nto \nquarkus.oidc.proxy.host=http://${squidProxyHost}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","browserstack"],"comments":[{"owner":{"account_id":12979837,"reputation":62,"user_id":9398466,"display_name":"Tony_Stark"},"score":0,"creation_date":1692796025,"post_id":76961296,"comment_id":135672725,"body_markdown":"Hi there, Could you Add the IDE specs as well as the Selenium version you are using? Also, is this occurring only on some browser+OS combination?","body":"Hi there, Could you Add the IDE specs as well as the Selenium version you are using? Also, is this occurring only on some browser+OS combination?"},{"owner":{"account_id":15134876,"reputation":11,"user_id":11497925,"display_name":"krupa deshmukh"},"score":0,"creation_date":1692852217,"post_id":76961296,"comment_id":135680815,"body_markdown":"Hello , Using IntelliJ IDEA 2023.1.2 (Community Edition), Selenium-v4.8.1 and   there are multiple browsers used for this testing. 1. &quot;browserName&quot;: &quot;Chrome&quot;,&quot;deviceName&quot;: &quot;OnePlus 9&quot;,&quot;osVersion&quot;: &quot;11.0&quot;,  2. &quot;browserName&quot; :&quot;Chrome&quot;,&quot;browserVersion&quot; : &quot;114&quot;,&quot;os&quot;: &quot;windows&quot;,   3. &quot;browserName&quot;: &quot;Safari&quot;,&quot;deviceName&quot;: &quot;iPhone 14&quot;,&quot;osVersion&quot;: &quot;16.3&quot;. Also Firefox, edge safari browsers. On all I&#39;m facing this issue.","body":"Hello , Using IntelliJ IDEA 2023.1.2 (Community Edition), Selenium-v4.8.1 and   there are multiple browsers used for this testing. 1. &quot;browserName&quot;: &quot;Chrome&quot;,&quot;deviceName&quot;: &quot;OnePlus 9&quot;,&quot;osVersion&quot;: &quot;11.0&quot;,  2. &quot;browserName&quot; :&quot;Chrome&quot;,&quot;browserVersion&quot; : &quot;114&quot;,&quot;os&quot;: &quot;windows&quot;,   3. &quot;browserName&quot;: &quot;Safari&quot;,&quot;deviceName&quot;: &quot;iPhone 14&quot;,&quot;osVersion&quot;: &quot;16.3&quot;. Also Firefox, edge safari browsers. On all I&#39;m facing this issue."}],"owner":{"account_id":15134876,"reputation":11,"user_id":11497925,"display_name":"krupa deshmukh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692818208,"creation_date":1692793103,"question_id":76961296,"body_markdown":"When we try and enter below text on web via browserstack it converts the characters:\r\n```\r\n&quot;chineseSampleQuery&quot;: &quot;我想为我的儿子购买平板电脑&quot;,\r\n&quot;koreanSampleQuery&quot;: &quot;아들을 위해 태블릿을 사고 싶어요&quot;,\r\n&quot;arabicSampleQuery&quot;: &quot;أريد أن أشتري لوحاً لابني&quot;,\r\n```\r\n\r\nE.g:\r\n when entered &quot;&#196; &#228; &#214; &#246; &#220; &#252; ẞ &#223;&quot; it converts as &quot;&#195;„ &#195;&#164; &#195;– &#195;&#182; &#195;œ &#195;&#188; &#225;&#186;ž &#195;Ÿ&quot; while entering to input filed. \r\nI&#39;ve tried 2 ways:\r\n\r\n\r\nany suggestion how to achieve this?\r\nScreenshot of how it&#39;s converted&#39;&#196; &#228; &#214; &#246; &#220; &#252; ẞ &#223;&#39;(https://i.stack.imgur.com/UBUb7.png)\r\n\r\n\r\n1. \r\n```java\r\nString text = &quot;이 사이트에서 태블릿을 구입할 수 있습니까?&quot;;\r\nbyte[] utf8Bytes = text.getBytes(&quot;UTF-8&quot;); // Replace with the appropriate encoding\r\n\r\ndriver.findElement(By.id(&quot;yourInputField&quot;)).sendKeys(new String(utf8Bytes, &quot;UTF-8&quot;));\r\n```\r\n2.\r\n```java\r\nString koreanText = &quot;\\uC774 \\uC0AC\\uC774\\uD2B8\\uC5D0\\uC11C \\uD0C0\\uC785\\uB9CC \\uAD6C\\uC785\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4?&quot;;\r\n```\r\nBoth did not work.","title":"Selenium Java automation with Browserstack automate, when trying to test with international languages like Korean it converts the character on BS","body":"<p>When we try and enter below text on web via browserstack it converts the characters:</p>\n<pre><code>&quot;chineseSampleQuery&quot;: &quot;我想为我的儿子购买平板电脑&quot;,\n&quot;koreanSampleQuery&quot;: &quot;아들을 위해 태블릿을 사고 싶어요&quot;,\n&quot;arabicSampleQuery&quot;: &quot;أريد أن أشتري لوحاً لابني&quot;,\n</code></pre>\n<p>E.g:\nwhen entered &quot;Ä ä Ö ö Ü ü ẞ ß&quot; it converts as &quot;Ã„ Ã¤ Ã– Ã¶ Ãœ Ã¼ áºž ÃŸ&quot; while entering to input filed.\nI've tried 2 ways:</p>\n<p>any suggestion how to achieve this?\nScreenshot of how it's converted'Ä ä Ö ö Ü ü ẞ ß'(<a href=\"https://i.stack.imgur.com/UBUb7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/UBUb7.png</a>)</p>\n<p>1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String text = &quot;이 사이트에서 태블릿을 구입할 수 있습니까?&quot;;\nbyte[] utf8Bytes = text.getBytes(&quot;UTF-8&quot;); // Replace with the appropriate encoding\n\ndriver.findElement(By.id(&quot;yourInputField&quot;)).sendKeys(new String(utf8Bytes, &quot;UTF-8&quot;));\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String koreanText = &quot;\\uC774 \\uC0AC\\uC774\\uD2B8\\uC5D0\\uC11C \\uD0C0\\uC785\\uB9CC \\uAD6C\\uC785\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4?&quot;;\n</code></pre>\n<p>Both did not work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":151952,"reputation":1977,"user_id":366132,"accept_rate":73,"display_name":"Tu Tran"},"score":3,"creation_date":1337332332,"post_id":10649782,"comment_id":13809094,"body_markdown":"The `SimpleDateFormat#format` require a `Date` instance, not `String`.\nSo you should convert the string to `Date` by `SimpleDateFormat#parse` first.","body":"The <code>SimpleDateFormat#format</code> require a <code>Date</code> instance, not <code>String</code>. So you should convert the string to <code>Date</code> by <code>SimpleDateFormat#parse</code> first."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1577281328,"post_id":10649782,"comment_id":105134855,"body_markdown":"2019 comment: You shouldn’t use `SimpleDateFormat` at all anymore. That class is notoriously troublesome and long outdated. Instead use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"2019 comment: You shouldn’t use <code>SimpleDateFormat</code> at all anymore. That class is notoriously troublesome and long outdated. Instead use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1337332251,"creation_date":1337332251,"answer_id":10649796,"question_id":10649782,"body_markdown":"You have one `DateFormat`, but you need two: one for the input, and another for the output.\r\n\r\nYou&#39;ve got one for the output, but I don&#39;t see anything that would match your input.  When you give the input string to the output format, it&#39;s no surprise that you see that exception.\r\n\r\n    DateFormat inputDateFormat = new SimpleDateFormat(&quot;yyyy-MM-ddhh:mm:ss.SSS-Z&quot;);\r\n\r\n","title":"Java : Cannot format given Object as a Date","body":"<p>You have one <code>DateFormat</code>, but you need two: one for the input, and another for the output.</p>\n\n<p>You've got one for the output, but I don't see anything that would match your input.  When you give the input string to the output format, it's no surprise that you see that exception.</p>\n\n<pre><code>DateFormat inputDateFormat = new SimpleDateFormat(\"yyyy-MM-ddhh:mm:ss.SSS-Z\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":411865,"reputation":31713,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"score":0,"creation_date":1337332612,"post_id":10649834,"comment_id":13809198,"body_markdown":"Your answer looks good than mine , i have one  more question , how can i get only the  Date  (2012-11-17T00:00:00.000-05:00) that is 17 from this ??","body":"Your answer looks good than mine , i have one  more question , how can i get only the  Date  (2012-11-17T00:00:00.000-05:00) that is 17 from this ??"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1337332687,"post_id":10649834,"comment_id":13809220,"body_markdown":"@yyyi777: As a string, or as an integer value?","body":"@yyyi777: As a string, or as an integer value?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1337332796,"post_id":10649834,"comment_id":13809272,"body_markdown":"@yyyi777: Use a SimpleDateFormat of &quot;dd&quot; or possibly just &quot;d&quot;, depending on whether you want zero-padding.","body":"@yyyi777: Use a SimpleDateFormat of &quot;dd&quot; or possibly just &quot;d&quot;, depending on whether you want zero-padding."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":1,"up_vote_count":109,"is_accepted":true,"score":108,"last_activity_date":1522847113,"creation_date":1337332413,"answer_id":10649834,"question_id":10649782,"body_markdown":"`DateFormat.format` only works on `Date` values.\r\n\r\nYou should use two SimpleDateFormat objects: one for parsing, and one for formatting. For example:\r\n\r\n    // Note, MM is months, not mm\r\n    DateFormat outputFormat = new SimpleDateFormat(&quot;MM/yyyy&quot;, Locale.US);\r\n    DateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;, Locale.US);\r\n\r\n    String inputText = &quot;2012-11-17T00:00:00.000-05:00&quot;;\r\n    Date date = inputFormat.parse(inputText);\r\n    String outputText = outputFormat.format(date);\r\n\r\nEDIT: Note that you may well want to specify the time zone and/or locale in your formats, and you should *also* consider using [Joda Time][1] instead of all of this to start with - it&#39;s a much better date/time API.\r\n\r\n\r\n  [1]: http://joda-time.sf.net","title":"Java : Cannot format given Object as a Date","body":"<p><code>DateFormat.format</code> only works on <code>Date</code> values.</p>\n\n<p>You should use two SimpleDateFormat objects: one for parsing, and one for formatting. For example:</p>\n\n<pre><code>// Note, MM is months, not mm\nDateFormat outputFormat = new SimpleDateFormat(\"MM/yyyy\", Locale.US);\nDateFormat inputFormat = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSSX\", Locale.US);\n\nString inputText = \"2012-11-17T00:00:00.000-05:00\";\nDate date = inputFormat.parse(inputText);\nString outputText = outputFormat.format(date);\n</code></pre>\n\n<p>EDIT: Note that you may well want to specify the time zone and/or locale in your formats, and you should <em>also</em> consider using <a href=\"http://joda-time.sf.net\" rel=\"noreferrer\">Joda Time</a> instead of all of this to start with - it's a much better date/time API.</p>\n"},{"tags":[],"owner":{"account_id":1408752,"reputation":1082,"user_id":1335794,"accept_rate":17,"display_name":"user1335794"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337332474,"creation_date":1337332474,"answer_id":10649848,"question_id":10649782,"body_markdown":"`SimpleDateFormat.format(...)` takes a Date as parameter and format Date to String. So you need have a look API carefully","title":"Java : Cannot format given Object as a Date","body":"<p><code>SimpleDateFormat.format(...)</code> takes a Date as parameter and format Date to String. So you need have a look API carefully</p>\n"},{"tags":[],"owner":{"account_id":411865,"reputation":31713,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337332523,"creation_date":1337332523,"answer_id":10649863,"question_id":10649782,"body_markdown":"I have resolved it , this way \r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import java.util.Locale;\r\n    \r\n    public class DateParser {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \r\n    \t\tDateParser dateParser = new DateParser();\r\n    \t\t\r\n    \t\tString str = dateParser.getparsedDate(&quot;2012-11-17T00:00:00.000-05:00&quot;);\r\n    \t\tSystem.out.println(str);\r\n    \t}\r\n    \t\r\n    \t\r\n    \tprivate String getparsedDate(String date) throws Exception {\r\n    \t\tDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;, Locale.US);\r\n    \t\tString s1 = date;\r\n    \t\tString s2 = null;\r\n    \t\tDate d;\r\n    \t\ttry {\r\n    \t\t\td = sdf.parse(s1);\r\n    \t\t\ts2 = (new SimpleDateFormat(&quot;MM/yyyy&quot;)).format(d);\r\n    \r\n    \t\t} catch (ParseException e) {\r\n    \r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\treturn s2;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Java : Cannot format given Object as a Date","body":"<p>I have resolved it , this way </p>\n\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Locale;\n\npublic class DateParser {\n\n    public static void main(String args[]) throws Exception {\n\n        DateParser dateParser = new DateParser();\n\n        String str = dateParser.getparsedDate(\"2012-11-17T00:00:00.000-05:00\");\n        System.out.println(str);\n    }\n\n\n    private String getparsedDate(String date) throws Exception {\n        DateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.SSS\", Locale.US);\n        String s1 = date;\n        String s2 = null;\n        Date d;\n        try {\n            d = sdf.parse(s1);\n            s2 = (new SimpleDateFormat(\"MM/yyyy\")).format(d);\n\n        } catch (ParseException e) {\n\n            e.printStackTrace();\n        }\n\n        return s2;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9805303,"reputation":11,"user_id":7265240,"display_name":"Y.T Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481532677,"creation_date":1481532677,"answer_id":41097125,"question_id":10649782,"body_markdown":"    public static String showDate(){\r\n        SimpleDateFormat df=new SimpleDateFormat(&quot;\\nTime：yyyy-MM-dd HH:mm:ss&quot;);\r\n        System.out.println(df.format(new Date()));\r\n        String s=df.format(new Date());\r\n        return s;\r\n    }\r\nI think this code may solve your problem.","title":"Java : Cannot format given Object as a Date","body":"<pre><code>public static String showDate(){\n    SimpleDateFormat df=new SimpleDateFormat(\"\\nTime：yyyy-MM-dd HH:mm:ss\");\n    System.out.println(df.format(new Date()));\n    String s=df.format(new Date());\n    return s;\n}\n</code></pre>\n\n<p>I think this code may solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":11466016,"reputation":1,"user_id":8404184,"display_name":"user8404184"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501665508,"creation_date":1501661718,"answer_id":45455201,"question_id":10649782,"body_markdown":"This worked for me:\r\n\r\n    String dat=&quot;02/08/2017&quot;;\r\n\tlong date=new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(dat,newParsePosition(0)).getTime();\r\n    java.sql.Date dbDate=new java.sql.Date(date);\r\n\tSystem.out.println(dbDate);","title":"Java : Cannot format given Object as a Date","body":"<p>This worked for me:</p>\n\n<pre><code>String dat=\"02/08/2017\";\nlong date=new SimpleDateFormat(\"dd/MM/yyyy\").parse(dat,newParsePosition(0)).getTime();\njava.sql.Date dbDate=new java.sql.Date(date);\nSystem.out.println(dbDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1692817188,"creation_date":1537360053,"answer_id":52405866,"question_id":10649782,"body_markdown":"## java.time\r\n\r\nI should like to contribute the modern answer. The `SimpleDateFormat` class is notoriously troublesome, and while it was reasonable to fight one’s way through with it when this question was asked six and a half years ago, today we have much better in java.time, the modern Java date and time API. `SimpleDateFormat` and its friend `Date` are now considered long outdated, so don’t use them anymore.\r\n\r\n\t\tDateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;MM/uuuu&quot;);\r\n\t\tString dateformat = &quot;2012-11-17T00:00:00.000-05:00&quot;;\r\n\t\tOffsetDateTime dateTime = OffsetDateTime.parse(dateformat);\r\n\t\tString monthYear = dateTime.format(monthFormatter);\r\n\t\tSystem.out.println(monthYear);\r\n\r\nOutput:\r\n\r\n&gt; 11/2012\r\n\r\nI am exploiting the fact that your string is in ISO 8601 format, the international standard, and that the classes of java.time parse this format as their default, that is, without any explicit formatter. It’s stil true what the other answers say, you need to parse the original string first, then format the resulting date-time object into a new string. Usually this requires two formatters, only in this case we’re lucky and can do with just one formatter.\r\n\r\n## What went wrong in your code\r\n\r\n - As others have said, `SimpleDateFormat.format` cannot accept a `String` argument, also when the parameter type is declared to be `Object`.\r\n - Because of the exception you didn’t get around to discovering: there is also a bug in your format pattern string, `mm/yyyy`. Lowercase `mm` os for minute of the hour. You need uppercase `MM` for month.\r\n - Finally the Java naming conventions say to use a lowercase first letter in variable names, so use lowercase `m` in `monthYear` (also because java.time includes a `YearMonth` class with uppercase `Y` and `M`, so to avoid confusion).\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use `java.time`.\r\n - [Wikipedia article: ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)","title":"Java : Cannot format given Object as a Date","body":"<h2>java.time</h2>\n<p>I should like to contribute the modern answer. The <code>SimpleDateFormat</code> class is notoriously troublesome, and while it was reasonable to fight one’s way through with it when this question was asked six and a half years ago, today we have much better in java.time, the modern Java date and time API. <code>SimpleDateFormat</code> and its friend <code>Date</code> are now considered long outdated, so don’t use them anymore.</p>\n<pre><code>    DateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;MM/uuuu&quot;);\n    String dateformat = &quot;2012-11-17T00:00:00.000-05:00&quot;;\n    OffsetDateTime dateTime = OffsetDateTime.parse(dateformat);\n    String monthYear = dateTime.format(monthFormatter);\n    System.out.println(monthYear);\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>11/2012</p>\n</blockquote>\n<p>I am exploiting the fact that your string is in ISO 8601 format, the international standard, and that the classes of java.time parse this format as their default, that is, without any explicit formatter. It’s stil true what the other answers say, you need to parse the original string first, then format the resulting date-time object into a new string. Usually this requires two formatters, only in this case we’re lucky and can do with just one formatter.</p>\n<h2>What went wrong in your code</h2>\n<ul>\n<li>As others have said, <code>SimpleDateFormat.format</code> cannot accept a <code>String</code> argument, also when the parameter type is declared to be <code>Object</code>.</li>\n<li>Because of the exception you didn’t get around to discovering: there is also a bug in your format pattern string, <code>mm/yyyy</code>. Lowercase <code>mm</code> os for minute of the hour. You need uppercase <code>MM</code> for month.</li>\n<li>Finally the Java naming conventions say to use a lowercase first letter in variable names, so use lowercase <code>m</code> in <code>monthYear</code> (also because java.time includes a <code>YearMonth</code> class with uppercase <code>Y</code> and <code>M</code>, so to avoid confusion).</li>\n</ul>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use <code>java.time</code>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692817731,"creation_date":1692817731,"answer_id":76964265,"question_id":10649782,"body_markdown":"In case you want to do it ninja style\r\n\r\n    String input = &quot;2012-11-17T00:00:00.000-05:00&quot;;\r\n    String year = input.substring(0,4);\r\n    String month = input.substring(5,7);\r\n    \r\n    String formattedDate = month + &quot;/&quot; + year;\r\n    System.out.println(formattedDate);\r\n\r\n\r\n\r\n","title":"Java : Cannot format given Object as a Date","body":"<p>In case you want to do it ninja style</p>\n<pre><code>String input = &quot;2012-11-17T00:00:00.000-05:00&quot;;\nString year = input.substring(0,4);\nString month = input.substring(5,7);\n\nString formattedDate = month + &quot;/&quot; + year;\nSystem.out.println(formattedDate);\n</code></pre>\n"}],"owner":{"account_id":411865,"reputation":31713,"user_id":784597,"accept_rate":65,"display_name":"Pawan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246204,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":10649834,"answer_count":8,"score":70,"last_activity_date":1692817731,"creation_date":1337332187,"question_id":10649782,"body_markdown":"I have Date in this format  (2012-11-17T00:00:00.000-05:00). I need to convert the date into this format mm/yyyy.\r\n\r\nI tried this way, but I am getting this Exception.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot format given Object as a Date\r\n    \tat java.text.DateFormat.format(Unknown Source)\r\n    \tat java.text.Format.format(Unknown Source)\r\n    \tat DateParser.main(DateParser.java:14)\r\n\r\nPlease see my code below: \r\n\r\n```java\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class DateParser {    \r\n  public static void main(String args[]) {   \r\n    String MonthYear = null;    \r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;mm/yyyy&quot;);    \r\n    String dateformat = &quot;2012-11-17T00:00:00.000-05:00&quot;;\r\n    MonthYear = simpleDateFormat.format(dateformat);    \r\n    System.out.println(MonthYear);    \r\n  }    \r\n}\r\n```","title":"Java : Cannot format given Object as a Date","body":"<p>I have Date in this format  (2012-11-17T00:00:00.000-05:00). I need to convert the date into this format mm/yyyy.</p>\n<p>I tried this way, but I am getting this Exception.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot format given Object as a Date\n    at java.text.DateFormat.format(Unknown Source)\n    at java.text.Format.format(Unknown Source)\n    at DateParser.main(DateParser.java:14)\n</code></pre>\n<p>Please see my code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DateParser {    \n  public static void main(String args[]) {   \n    String MonthYear = null;    \n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;mm/yyyy&quot;);    \n    String dateformat = &quot;2012-11-17T00:00:00.000-05:00&quot;;\n    MonthYear = simpleDateFormat.format(dateformat);    \n    System.out.println(MonthYear);    \n  }    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","collections","tuples"],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692817508,"creation_date":1692797454,"question_id":76961841,"body_markdown":"Hi I&#39;m trying to get specific values from a jpa repo class. By creating a interface class and appending with get methods. But I couldn&#39;t get values from it.\r\n\r\nI can see the values in debug mode. But without the key.\r\n\r\nBut while trying to access it, I&#39;m getting null in return.\r\n\r\nBellow is the code flow.\r\n\r\n**Controller Class**\r\n\r\n    public class DocumentFileSearchController \r\n    {\r\n    \t@Autowired\r\n    \tDocumentDetailService documentDetailService;\r\n    \t\r\n    \t\r\n    \t@GetMapping(&quot;/getDetails&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; getdocDetail(@RequestParam(value = &quot;sourceCaseId&quot;) String sourceCaseId,\r\n    \t\t\t\t\t\t\t\t\t\t  @RequestParam(value = &quot;mdmId&quot;) String mdmId,\r\n    \t\t\t\t\t\t\t\t\t\t  @RequestParam(value = &quot;sourceSystem&quot;) String sourceSystem) throws MissingServletRequestParameterException\r\n    \t{\r\n    \t\tList&lt;DocumentDetailsResponceModel&gt; modal = documentDetailService.getUsingSourceAndMdm(sourceSystem, mdmId);\r\n    \t\t \r\n    \t\treturn new ResponseEntity&lt;&gt;(modal, HttpStatus.OK);\r\n    \t}\r\n    }\r\n\r\nService Interface Class\r\n\r\n    public interface DocumentDetailService \r\n    {\r\n    \t\r\n    \tpublic List&lt;DocumentDetailsResponceModel&gt; getUsingSourceAndMdm(String sourceSystem, String mdmId);\r\n    \r\n    }\r\n\r\nService class\r\n\r\n\r\n    @Service\r\n    public class DocumentDetailServiceImpl implements DocumentDetailService\r\n    {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate DocumentDetailRepo docDetailRepo;\r\n    \t\r\n    \tList&lt;DocumentDetailsResponceModel&gt; docResponceModel;\r\n    \r\n    \tpublic List&lt;DocumentDetailsResponceModel&gt; getUsingSourceAndMdm(String source, String mdmId)\r\n    \t{\r\n    \t\tdocResponceModel = docDetailRepo.findBySourceCaseMdm(source, mdmId);\r\n    \t\t    \t\t\r\n    \t\treturn docResponceModel;\r\n    \t}\r\n    }\r\n\r\nI can see the values inside.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nShould I use any tupleImpl for this? Because those values are under this. But I&#39;m not familiar with this. \r\n\r\n\r\nBut getting null in response.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nRepo Class\r\n\r\n    public interface DocumentDetailRepo extends JpaRepository&lt;DmsDmDocumentDetail, Long&gt; \r\n    {\t\r\n    \t@Query(&quot;select d.documentId, d.fileName, d.mdmId, d.sourceCaseId, d.sourceSystem, d.individualId from DmsDmDocumentDetail d where d.sourceSystem = :sourceSystem and d.mdmId = :mdmId&quot;)\r\n    \tpublic List&lt;DocumentDetailsResponceModel&gt; findBySourceCaseMdm(@Param(&quot;sourceSystem&quot;) String sourceSystem, @Param(&quot;mdmId&quot;) String mdmId);\r\n    \r\n    }\r\n\r\n\r\nI tried by setting this way in query.\r\n\r\n    @Query(&quot;select new com.hhs.document.model.DocumentDetailsResponceModel(d.documentId, d.fileName, d.mdmId, d.sourceCaseId, d.sourceSystem, d.individualId) from DmsDmDocumentDetail d where d.sourceSystem = :sourceSystem and d.mdmId = :mdmId&quot;)\r\n    public List&lt;DocumentDetailsResponceModel&gt; findBySourceCaseMdm(@Param(&quot;sourceSystem&quot;) String sourceSystem, @Param(&quot;mdmId&quot;) String mdmId);\r\n\r\nBut getting the error \r\n```An Error Occured : Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection```\r\n\r\nDTO class\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;dm_document_detail&quot;, schema = &quot;dms&quot;)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class DmsDmDocumentDetail \r\n    {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;document_id&quot;, unique = true, nullable = false)\r\n        private Long documentId;\r\n    \r\n    \t@Column(name = &quot;active_ind&quot;)\r\n        private String activeIndicator;\r\n    \r\n        @Column(name = &quot;create_dt&quot;)\r\n    //    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @UpdateTimestamp\r\n        private Date createDt;\r\n    \r\n        @Column(name = &quot;create_user_id&quot;)\r\n        private String createUserId;\r\n    \r\n        @Column(name = &quot;doc_cat&quot;)\r\n        private String docCat;\r\n    \r\n        @Column(name = &quot;doc_type&quot;)\r\n        private String docType;\r\n    \r\n        @Column(name = &quot;file_name&quot;)\r\n        private String fileName;\r\n        \r\n        @Column(name = &quot;file_location&quot;)\r\n        private String fileLocation;\r\n        \r\n        @Column(name = &quot;user_file_name&quot;)\r\n        private String userFileName;\r\n    \r\n        @Column(name = &quot;individual_id&quot;)\r\n        private int individualId;\r\n    \r\n        @Column(name = &quot;source_system&quot;)\r\n        private String sourceSystem;\r\n    \r\n        @Column(name = &quot;source_case_id&quot;)\r\n        private String sourceCaseId;\r\n    \r\n        @Column(name = &quot;update_dt&quot;)\r\n    //  @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @UpdateTimestamp\r\n        private Date updateDt;\r\n    \r\n        @Column(name = &quot;update_user_id&quot;)\r\n        private String updateUserId;\r\n        \r\n        @Column(name = &quot;screen_lable_id&quot;)\r\n        private int screenLableId;\r\n        \r\n        @Column(name = &quot;mdm_id&quot;)\r\n        private String mdmId;\r\n    }\r\n\r\n\r\nModel class to get particular column values.\r\n\r\n    public interface DocumentDetailsResponceModel \r\n    {    \t\r\n    \tLong getDocumentId();\r\n    \tString getFileName();\r\n    \tString getMdmId();\r\n    \tString getSourceCaseId();\r\n    \tString getSourceSystem();\r\n    \tInteger getIndividualId();\r\n    }\r\n\r\n\r\nThanks E&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MDCtr.png\r\n  [2]: https://i.stack.imgur.com/loP01.png\r\n  [3]: https://i.stack.imgur.com/SzozK.png","title":"Converting DTO to model. How to get values fromTupleConverter$TupleBackedMap","body":"<p>Hi I'm trying to get specific values from a jpa repo class. By creating a interface class and appending with get methods. But I couldn't get values from it.</p>\n<p>I can see the values in debug mode. But without the key.</p>\n<p>But while trying to access it, I'm getting null in return.</p>\n<p>Bellow is the code flow.</p>\n<p><strong>Controller Class</strong></p>\n<pre><code>public class DocumentFileSearchController \n{\n    @Autowired\n    DocumentDetailService documentDetailService;\n    \n    \n    @GetMapping(&quot;/getDetails&quot;)\n    public ResponseEntity&lt;?&gt; getdocDetail(@RequestParam(value = &quot;sourceCaseId&quot;) String sourceCaseId,\n                                          @RequestParam(value = &quot;mdmId&quot;) String mdmId,\n                                          @RequestParam(value = &quot;sourceSystem&quot;) String sourceSystem) throws MissingServletRequestParameterException\n    {\n        List&lt;DocumentDetailsResponceModel&gt; modal = documentDetailService.getUsingSourceAndMdm(sourceSystem, mdmId);\n         \n        return new ResponseEntity&lt;&gt;(modal, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Service Interface Class</p>\n<pre><code>public interface DocumentDetailService \n{\n    \n    public List&lt;DocumentDetailsResponceModel&gt; getUsingSourceAndMdm(String sourceSystem, String mdmId);\n\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>@Service\npublic class DocumentDetailServiceImpl implements DocumentDetailService\n{\n    \n    @Autowired\n    private DocumentDetailRepo docDetailRepo;\n    \n    List&lt;DocumentDetailsResponceModel&gt; docResponceModel;\n\n    public List&lt;DocumentDetailsResponceModel&gt; getUsingSourceAndMdm(String source, String mdmId)\n    {\n        docResponceModel = docDetailRepo.findBySourceCaseMdm(source, mdmId);\n                    \n        return docResponceModel;\n    }\n}\n</code></pre>\n<p>I can see the values inside.</p>\n<p><a href=\"https://i.stack.imgur.com/MDCtr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MDCtr.png\" alt=\"enter image description here\" /></a></p>\n<p>Should I use any tupleImpl for this? Because those values are under this. But I'm not familiar with this.</p>\n<p>But getting null in response.</p>\n<p><a href=\"https://i.stack.imgur.com/SzozK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzozK.png\" alt=\"enter image description here\" /></a></p>\n<p>Repo Class</p>\n<pre><code>public interface DocumentDetailRepo extends JpaRepository&lt;DmsDmDocumentDetail, Long&gt; \n{   \n    @Query(&quot;select d.documentId, d.fileName, d.mdmId, d.sourceCaseId, d.sourceSystem, d.individualId from DmsDmDocumentDetail d where d.sourceSystem = :sourceSystem and d.mdmId = :mdmId&quot;)\n    public List&lt;DocumentDetailsResponceModel&gt; findBySourceCaseMdm(@Param(&quot;sourceSystem&quot;) String sourceSystem, @Param(&quot;mdmId&quot;) String mdmId);\n\n}\n</code></pre>\n<p>I tried by setting this way in query.</p>\n<pre><code>@Query(&quot;select new com.hhs.document.model.DocumentDetailsResponceModel(d.documentId, d.fileName, d.mdmId, d.sourceCaseId, d.sourceSystem, d.individualId) from DmsDmDocumentDetail d where d.sourceSystem = :sourceSystem and d.mdmId = :mdmId&quot;)\npublic List&lt;DocumentDetailsResponceModel&gt; findBySourceCaseMdm(@Param(&quot;sourceSystem&quot;) String sourceSystem, @Param(&quot;mdmId&quot;) String mdmId);\n</code></pre>\n<p>But getting the error\n<code>An Error Occured : Could not determine appropriate instantiation strategy - no matching constructor found and one or more arguments did not define alias for bean-injection</code></p>\n<p>DTO class</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;dm_document_detail&quot;, schema = &quot;dms&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class DmsDmDocumentDetail \n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;document_id&quot;, unique = true, nullable = false)\n    private Long documentId;\n\n    @Column(name = &quot;active_ind&quot;)\n    private String activeIndicator;\n\n    @Column(name = &quot;create_dt&quot;)\n//    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @UpdateTimestamp\n    private Date createDt;\n\n    @Column(name = &quot;create_user_id&quot;)\n    private String createUserId;\n\n    @Column(name = &quot;doc_cat&quot;)\n    private String docCat;\n\n    @Column(name = &quot;doc_type&quot;)\n    private String docType;\n\n    @Column(name = &quot;file_name&quot;)\n    private String fileName;\n    \n    @Column(name = &quot;file_location&quot;)\n    private String fileLocation;\n    \n    @Column(name = &quot;user_file_name&quot;)\n    private String userFileName;\n\n    @Column(name = &quot;individual_id&quot;)\n    private int individualId;\n\n    @Column(name = &quot;source_system&quot;)\n    private String sourceSystem;\n\n    @Column(name = &quot;source_case_id&quot;)\n    private String sourceCaseId;\n\n    @Column(name = &quot;update_dt&quot;)\n//  @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)\n    @Temporal(TemporalType.TIMESTAMP)\n    @UpdateTimestamp\n    private Date updateDt;\n\n    @Column(name = &quot;update_user_id&quot;)\n    private String updateUserId;\n    \n    @Column(name = &quot;screen_lable_id&quot;)\n    private int screenLableId;\n    \n    @Column(name = &quot;mdm_id&quot;)\n    private String mdmId;\n}\n</code></pre>\n<p>Model class to get particular column values.</p>\n<pre><code>public interface DocumentDetailsResponceModel \n{       \n    Long getDocumentId();\n    String getFileName();\n    String getMdmId();\n    String getSourceCaseId();\n    String getSourceSystem();\n    Integer getIndividualId();\n}\n</code></pre>\n<p>Thanks E&gt;</p>\n"},{"tags":["java","tomcat","xampp"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1692816870,"post_id":76964174,"comment_id":135677158,"body_markdown":"Please **do not** post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"Please <b>do not</b> post images of code, data, error messages, etc. Copy or type the text into the question. Please reserve the use of images for diagrams or demonstrating rendering bugs, things that are impossible to describe accurately via text. Code or sample data in images can&#39;t be copied and pasted in order to search about a problem or reproduce it. For more details read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692817713,"post_id":76964174,"comment_id":135677304,"body_markdown":"Make sure that Java 20 is listed *before* Java 8 in the PATH environment variable.","body":"Make sure that Java 20 is listed <i>before</i> Java 8 in the PATH environment variable."}],"owner":{"account_id":24664822,"reputation":21,"user_id":18570727,"display_name":"BS e-Learning"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692816801,"creation_date":1692816801,"question_id":76964174,"body_markdown":"I am facing a problem on loading my Java servlet using the Xampp server on Windows 11. I have installed Java 2.0 64-bit and jre 1.8 64-bit on my system.\r\nClass has been compiled by a more recent version of the Java Runtime (class file version 64.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (unable to load the class.\r\n\r\nXampp server gives an error message when I try to load my Java servlet.\r\n[![enter image description here][1]][1]\r\n\r\nXampp version: 3.3.0\r\n\r\nUsing command prompt java gives version:\r\n\r\njava version &quot;20.0.1&quot; 2023-04-18\r\nJava(TM) SE Runtime Environment (build 20.0.1+9-29)\r\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\r\n[![enter image description here][2]][2]\r\n\r\nwhereas in the system control panel Java gives:\r\nVersion 8 Update 381 (build 1.8.0_381-b-09)\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rkcg6.png\r\n  [2]: https://i.stack.imgur.com/6eZ5w.png\r\n  [3]: https://i.stack.imgur.com/JBiGV.png","title":"Class has been compiled by a more recent version of the Java Runtime (class file version 64.0), this version of the Java Runtime only recognizes","body":"<p>I am facing a problem on loading my Java servlet using the Xampp server on Windows 11. I have installed Java 2.0 64-bit and jre 1.8 64-bit on my system.\nClass has been compiled by a more recent version of the Java Runtime (class file version 64.0), this version of the Java Runtime only recognizes class file versions up to 52.0 (unable to load the class.</p>\n<p>Xampp server gives an error message when I try to load my Java servlet.\n<a href=\"https://i.stack.imgur.com/rkcg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkcg6.png\" alt=\"enter image description here\" /></a></p>\n<p>Xampp version: 3.3.0</p>\n<p>Using command prompt java gives version:</p>\n<p>java version &quot;20.0.1&quot; 2023-04-18\nJava(TM) SE Runtime Environment (build 20.0.1+9-29)\nJava HotSpot(TM) 64-Bit Server VM (build 20.0.1+9-29, mixed mode, sharing)\n<a href=\"https://i.stack.imgur.com/6eZ5w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6eZ5w.png\" alt=\"enter image description here\" /></a></p>\n<p>whereas in the system control panel Java gives:\nVersion 8 Update 381 (build 1.8.0_381-b-09)</p>\n<p><a href=\"https://i.stack.imgur.com/JBiGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBiGV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":10298759,"reputation":501,"user_id":7598082,"display_name":"Dinesh Sarma"},"score":0,"creation_date":1692817955,"post_id":76964163,"comment_id":135677366,"body_markdown":"I think using sharedPreferences will help you to achieve both the scenario. First you have to store the user state data and app state when app is going to background. And when you app is on foreground then get the state data form SharedPreference and perform your actions accordingly. I hope this will help you.","body":"I think using sharedPreferences will help you to achieve both the scenario. First you have to store the user state data and app state when app is going to background. And when you app is on foreground then get the state data form SharedPreference and perform your actions accordingly. I hope this will help you."}],"owner":{"account_id":29264231,"reputation":1,"user_id":22420381,"display_name":"Samantha Roberts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692816722,"creation_date":1692816722,"question_id":76964163,"body_markdown":"I&#39;m making an app in Android Studio using Java. Whenever the app is running, but then pushed to the background (hitting the home button for example) and then returned to the foreground, the app restarts, losing the &quot;spot&quot; in the app. I&#39;m using fragments and a navigation graph to control going between. I&#39;ve tried using onStop and onSaveInstance, but haven&#39;t been able to figure out how to use them to save the actual fragment the user was on rather than just data from the fragment. I&#39;ve tried implementing a ViewModel, but again, can&#39;t figure out how to get the fragment the user was on back after the restart. I understand that the phone automatically closes some apps when they go into the background to save memory, but I want the user to still be able to return to the state it was in when they left. What is the best approach to this?","title":"Android Studio App Restarts when pushed to Background, how to save current fragment?","body":"<p>I'm making an app in Android Studio using Java. Whenever the app is running, but then pushed to the background (hitting the home button for example) and then returned to the foreground, the app restarts, losing the &quot;spot&quot; in the app. I'm using fragments and a navigation graph to control going between. I've tried using onStop and onSaveInstance, but haven't been able to figure out how to use them to save the actual fragment the user was on rather than just data from the fragment. I've tried implementing a ViewModel, but again, can't figure out how to get the fragment the user was on back after the restart. I understand that the phone automatically closes some apps when they go into the background to save memory, but I want the user to still be able to return to the state it was in when they left. What is the best approach to this?</p>\n"},{"tags":["java","spring","spring-boot","validation","hibernate-validator"],"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1692810665,"post_id":76963496,"comment_id":135676054,"body_markdown":"Why don&#39;t you decide inside `public boolean isValid(...)` whether to validate the one or the other way?","body":"Why don&#39;t you decide inside <code>public boolean isValid(...)</code> whether to validate the one or the other way?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1692811079,"post_id":76963496,"comment_id":135676127,"body_markdown":"No you cannot. You could determine it in your actual validator and delegate to the one you need.","body":"No you cannot. You could determine it in your actual validator and delegate to the one you need."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1692812037,"post_id":76963496,"comment_id":135676299,"body_markdown":"@M.Deinum Since you&#39;re one of the pros here around, may I ask you to provide a short code example of how you&#39;d do it exactly, thus the best and bulletproof way^^. I&#39;d just make a simple if-else-decision but who am I to tell the way...","body":"@M.Deinum Since you&#39;re one of the pros here around, may I ask you to provide a short code example of how you&#39;d do it exactly, thus the best and bulletproof way^^. I&#39;d just make a simple if-else-decision but who am I to tell the way..."},{"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"score":0,"creation_date":1692817501,"post_id":76963496,"comment_id":135677262,"body_markdown":"@Slevin, that&#39;s how I did. But I was wondering if it&#39;s possible to do the way around because for my case it would make more sense to have it split.","body":"@Slevin, that&#39;s how I did. But I was wondering if it&#39;s possible to do the way around because for my case it would make more sense to have it split."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":1,"creation_date":1692825225,"post_id":76963496,"comment_id":135678488,"body_markdown":"When M.Deinum says that it&#39;s not possible, then there is no way. Sometimes you have to go along with what the universe is willing to give...","body":"When M.Deinum says that it&#39;s not possible, then there is no way. Sometimes you have to go along with what the universe is willing to give..."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1692881668,"post_id":76963496,"comment_id":135686147,"body_markdown":"Annotations require static metadata, some annotations (mainly those from Spring) can have value expression or SpEL expression in the values. However the constraint annotation is not under the control of Spring (even if you would make it a component it isn&#39;t under the control of Spring!) and thus you cannot use value or SpEL expression in those annotations. Only actual classnames. You can let Spring control the instance of the validator and do the routing there, either using an if statement or using an `@Conditional` rule to register the validator to use and let the other inject it.","body":"Annotations require static metadata, some annotations (mainly those from Spring) can have value expression or SpEL expression in the values. However the constraint annotation is not under the control of Spring (even if you would make it a component it isn&#39;t under the control of Spring!) and thus you cannot use value or SpEL expression in those annotations. Only actual classnames. You can let Spring control the instance of the validator and do the routing there, either using an if statement or using an <code>@Conditional</code> rule to register the validator to use and let the other inject it."},{"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"score":0,"creation_date":1692894309,"post_id":76963496,"comment_id":135689331,"body_markdown":"@M.Deinum, what you mean is inside the class (MyCustomValidator) which extends ConstraintValidator, thru @ConditionalOnProperty I would delegate injection of one of the &quot;validators&quot; implementations? Something like:\n`@Bean\n@ConditionalOnProperty(prop = true)\npublic ActualValidator()  { return new ActualValidator1(); }\n\n@Bean\n@ConditionalOnProperty(prop = false)\npublic ActualValidator() { return new ActualValidator2(); }`\nAnd within `MyCustomValidator`:\n`@Autowired\nprivate ActualValidator actualValidator;`","body":"@M.Deinum, what you mean is inside the class (MyCustomValidator) which extends ConstraintValidator, thru @ConditionalOnProperty I would delegate injection of one of the &quot;validators&quot; implementations? Something like: <code>@Bean @ConditionalOnProperty(prop = true) public ActualValidator()  { return new ActualValidator1(); }  @Bean @ConditionalOnProperty(prop = false) public ActualValidator() { return new ActualValidator2(); }</code> And within <code>MyCustomValidator</code>: <code>@Autowired private ActualValidator actualValidator;</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1692901325,"post_id":76963496,"comment_id":135690853,"body_markdown":"Yup, something like that.","body":"Yup, something like that."},{"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"score":0,"creation_date":1692967641,"post_id":76963496,"comment_id":135700649,"body_markdown":"@M.Deinum, thank you!","body":"@M.Deinum, thank you!"}],"owner":{"account_id":9041360,"reputation":57,"user_id":6735499,"display_name":"Anton"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692816594,"creation_date":1692810342,"question_id":76963496,"body_markdown":"The question is simple as that - is it possible to set dynamically/programmatically a validator for the javax.validation.@Constraint, based on, lets say a flag, from the properties in a Spring Boot application?\r\n\r\nMy attempt was to declare a custom Validator as interface, which extends ConstraintValidator, and then have 2 specific classes implementing it, each with its own validation method. The type to be validated is the same. But it wouldn&#39;t allow me to do that for the interface, nor abstract classes - looks like @Constraint accepts only classes that can be instantiated right away.\r\n\r\nNor I found any example for such approach.\r\n\r\nAny idea if it&#39;s even possible?","title":"Dynamically set validator for @Constraint - Spring Boot","body":"<p>The question is simple as that - is it possible to set dynamically/programmatically a validator for the javax.validation.@Constraint, based on, lets say a flag, from the properties in a Spring Boot application?</p>\n<p>My attempt was to declare a custom Validator as interface, which extends ConstraintValidator, and then have 2 specific classes implementing it, each with its own validation method. The type to be validated is the same. But it wouldn't allow me to do that for the interface, nor abstract classes - looks like @Constraint accepts only classes that can be instantiated right away.</p>\n<p>Nor I found any example for such approach.</p>\n<p>Any idea if it's even possible?</p>\n"},{"tags":["java","android","git","github","jitpack"],"comments":[{"owner":{"account_id":10038794,"reputation":802,"user_id":8229399,"display_name":"philoopher97"},"score":0,"creation_date":1692853528,"post_id":76964146,"comment_id":135680930,"body_markdown":"newer jitpack uses gradle 8. So try using `openjdk17`","body":"newer jitpack uses gradle 8. So try using <code>openjdk17</code>"},{"owner":{"account_id":18085501,"reputation":657,"user_id":13146544,"display_name":"Samudra Ganguly"},"score":0,"creation_date":1692853625,"post_id":76964146,"comment_id":135680937,"body_markdown":"You are using **buildToolsVersion=&quot;30.0.3&quot;**. Have you tried with other versions?","body":"You are using <b>buildToolsVersion=&quot;30.0.3&quot;</b>. Have you tried with other versions?"},{"owner":{"account_id":27519060,"reputation":265,"user_id":20999526,"display_name":"George"},"score":0,"creation_date":1692865554,"post_id":76964146,"comment_id":135682781,"body_markdown":"Yes, I have tried with 32.0.0 but got the same error.","body":"Yes, I have tried with 32.0.0 but got the same error."}],"owner":{"account_id":27519060,"reputation":265,"user_id":20999526,"display_name":"George"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692816495,"creation_date":1692816495,"question_id":76964146,"body_markdown":"I am trying to upload an Android library (written in Java) on **jitpack.io**. This is the **build.gradle** file of the library.\r\n\r\n    plugins {\r\n        id &#39;com.android.library&#39;\r\n        id &#39;maven-publish&#39;\r\n    }\r\n    \r\n    android {\r\n        compileSdkVersion 33\r\n        buildToolsVersion &quot;30.0.3&quot;\r\n    \r\n        defaultConfig {\r\n            minSdkVersion 28\r\n            targetSdkVersion 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            consumerProguardFiles &quot;consumer-rules.pro&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    //    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;com.journeyapps:zxing-android-embedded:4.3.0&#39;\r\n        testImplementation &#39;junit:junit:4.+&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n    \r\n    publishing {\r\n        publications {\r\n            release(MavenPublication) {\r\n                groupId = &#39;com.github.my_github_id&#39;\r\n                artifactId = &#39;my_library&#39;\r\n                version = &#39;1.0&#39;\r\n    \r\n                afterEvaluate {\r\n                    from components.release\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nBut the log in jitpack shows the following:\r\n\r\n    Gradle &#39;publishToMavenLocal&#39; task not found. Please add the &#39;maven-publish&#39; or &#39;maven&#39; plugin.\r\n     See the documentation and examples: https://docs.jitpack.io\r\n    \r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    /home/jitpack/build/upi/build.gradle has component: release\r\n    Running: ./gradlew -Pgroup=com.github.my_github_id -Pversion=1.0 publishToMavenLocal\r\n    Build-tool 32.0.0 is missing DX at /opt/android-sdk-linux/build-tools/32.0.0/dx\r\n    Build-tool 32.0.0 is missing DX at /opt/android-sdk-linux/build-tools/32.0.0/dx\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Could not determine the dependencies of task &#39;:upi:compileReleaseAidl&#39;.\r\n    &gt; Installed Build Tools revision 32.0.0 is corrupted. Remove and install again using the SDK Manager.\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n    \r\n    * Get more help at https://help.gradle.org\r\n    \r\n    BUILD FAILED in 862ms\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    Archive: my_android_project_name:my_library:unspecified\r\n    Publication: com.github.my_github_id:my_library:1.0\r\n    Publication: my_android_project_name:my_library:unspecified\r\n    Build tool exit code: 0\r\n    Looking for artifacts...\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\r\n    Looking for pom.xml in build directory and ~/.m2\r\n    Found artifact: com.github.my_github_id:my_library:1.0\r\n    Found artifact: my_android_project:my_library:unspecified\r\n    2023-08-23T18:28:11.758414916Z\r\n    Exit code: 0\r\n    \r\n    ERROR: No build artifacts found\r\n    Expected artifacts in: $HOME/.m2/repository/my_android_project/my_library/unspecified\r\n\r\njitpack.yml:\r\n\r\n    jdk:\r\n      - openjdk8\r\n\r\nI am using the latest version of gradle and Android Studio. I have tried looking into different solutions, but none of them works. Maybe I am missing a point, as this is the first time I am publishing a library.","title":"Uploading Android library to Jitpack gives errors","body":"<p>I am trying to upload an Android library (written in Java) on <strong>jitpack.io</strong>. This is the <strong>build.gradle</strong> file of the library.</p>\n<pre><code>plugins {\n    id 'com.android.library'\n    id 'maven-publish'\n}\n\nandroid {\n    compileSdkVersion 33\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        minSdkVersion 28\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        consumerProguardFiles &quot;consumer-rules.pro&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n//    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'com.journeyapps:zxing-android-embedded:4.3.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n\npublishing {\n    publications {\n        release(MavenPublication) {\n            groupId = 'com.github.my_github_id'\n            artifactId = 'my_library'\n            version = '1.0'\n\n            afterEvaluate {\n                from components.release\n            }\n        }\n    }\n}\n</code></pre>\n<p>But the log in jitpack shows the following:</p>\n<pre><code>Gradle 'publishToMavenLocal' task not found. Please add the 'maven-publish' or 'maven' plugin.\n See the documentation and examples: https://docs.jitpack.io\n\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n/home/jitpack/build/upi/build.gradle has component: release\nRunning: ./gradlew -Pgroup=com.github.my_github_id -Pversion=1.0 publishToMavenLocal\nBuild-tool 32.0.0 is missing DX at /opt/android-sdk-linux/build-tools/32.0.0/dx\nBuild-tool 32.0.0 is missing DX at /opt/android-sdk-linux/build-tools/32.0.0/dx\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':upi:compileReleaseAidl'.\n&gt; Installed Build Tools revision 32.0.0 is corrupted. Remove and install again using the SDK Manager.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 862ms\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nArchive: my_android_project_name:my_library:unspecified\nPublication: com.github.my_github_id:my_library:1.0\nPublication: my_android_project_name:my_library:unspecified\nBuild tool exit code: 0\nLooking for artifacts...\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8 -Dhttps.protocols=TLSv1.2\nLooking for pom.xml in build directory and ~/.m2\nFound artifact: com.github.my_github_id:my_library:1.0\nFound artifact: my_android_project:my_library:unspecified\n2023-08-23T18:28:11.758414916Z\nExit code: 0\n\nERROR: No build artifacts found\nExpected artifacts in: $HOME/.m2/repository/my_android_project/my_library/unspecified\n</code></pre>\n<p>jitpack.yml:</p>\n<pre><code>jdk:\n  - openjdk8\n</code></pre>\n<p>I am using the latest version of gradle and Android Studio. I have tried looking into different solutions, but none of them works. Maybe I am missing a point, as this is the first time I am publishing a library.</p>\n"},{"tags":["java","classloader","javassist","bytecode-manipulation","dynamic-class-loaders"],"answers":[{"tags":[],"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1584817746,"creation_date":1584817746,"answer_id":60792151,"question_id":60789950,"body_markdown":"[ClassPool][1] supports inserting, appending and removing [ClassPath][2]s.\r\nThe ClassPath can be inserted and added in the form of a String or a ClassPath implementation. Removals are only supported in the form of a ClassPath.\r\n\r\nThere are 4 supplied implementations of ClassPath:\r\n\r\n 1. ByteArrayClassPath: Supply the byte code and class name\r\n 2. ClassClassPath: Supply the Java class\r\n 3. LoaderClassPath: Supply a classloader\r\n 4. URLClassPath: Supply a URL\r\n\r\n\r\n\r\n  [1]: http://www.javassist.org/html/javassist/ClassPool.html\r\n  [2]: http://www.javassist.org/html/javassist/ClassPath.html","title":"get CtClass using specific ClassLoader","body":"<p><a href=\"http://www.javassist.org/html/javassist/ClassPool.html\" rel=\"nofollow noreferrer\">ClassPool</a> supports inserting, appending and removing <a href=\"http://www.javassist.org/html/javassist/ClassPath.html\" rel=\"nofollow noreferrer\">ClassPath</a>s.\nThe ClassPath can be inserted and added in the form of a String or a ClassPath implementation. Removals are only supported in the form of a ClassPath.</p>\n\n<p>There are 4 supplied implementations of ClassPath:</p>\n\n<ol>\n<li>ByteArrayClassPath: Supply the byte code and class name</li>\n<li>ClassClassPath: Supply the Java class</li>\n<li>LoaderClassPath: Supply a classloader</li>\n<li>URLClassPath: Supply a URL</li>\n</ol>\n"}],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60792151,"answer_count":1,"score":2,"last_activity_date":1692816120,"creation_date":1584806018,"question_id":60789950,"body_markdown":"I have a class structure like this:\r\n\r\n```java\r\npackage com.mydomain.myproject;\r\npublic class Outer{\r\n    public class Inner{\r\n        //some code\r\n    }\r\n}\r\n```\r\nNow, I can get a `CtClass` of the inner class using:\r\n```java\r\nClassPool pool=ClassPool.getDefault();\r\nCtClass innerCt=pool.getCtClass(&quot;com.mydomain.myproject.Outer$Inner&quot;);\r\n```\r\n\r\nThe problem occurs if those classes are loaded by a special `ClassLoader`.\r\n\r\n`ClassPool#getCtClass` fails because the `ClassLoader` it uses doesn&#39;t know of the class.\r\n\r\nI get the following exception:\r\n\r\n```\r\njavassist.NotFoundException: com.mydomain.myproject.Outer$Inner\r\n    at javassist.ClassPool.get(ClassPool.java:430)\r\n    at javassist.ClassPool.getCtClass(ClassPool.java:495)\r\n    at &lt;my classes&gt;\r\n```\r\n\r\nHow can I specify the `ClassLoader` for `ClassPool#getCtClass`? Can I somehow set the class loader of the `ClassPool`? I noticed that there is a `getClassLoader()` method but there doesn&#39;t seem to be a setter.","title":"get CtClass using specific ClassLoader","body":"<p>I have a class structure like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mydomain.myproject;\npublic class Outer{\n    public class Inner{\n        //some code\n    }\n}\n</code></pre>\n<p>Now, I can get a <code>CtClass</code> of the inner class using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassPool pool=ClassPool.getDefault();\nCtClass innerCt=pool.getCtClass(&quot;com.mydomain.myproject.Outer$Inner&quot;);\n</code></pre>\n<p>The problem occurs if those classes are loaded by a special <code>ClassLoader</code>.</p>\n<p><code>ClassPool#getCtClass</code> fails because the <code>ClassLoader</code> it uses doesn't know of the class.</p>\n<p>I get the following exception:</p>\n<pre><code>javassist.NotFoundException: com.mydomain.myproject.Outer$Inner\n    at javassist.ClassPool.get(ClassPool.java:430)\n    at javassist.ClassPool.getCtClass(ClassPool.java:495)\n    at &lt;my classes&gt;\n</code></pre>\n<p>How can I specify the <code>ClassLoader</code> for <code>ClassPool#getCtClass</code>? Can I somehow set the class loader of the <code>ClassPool</code>? I noticed that there is a <code>getClassLoader()</code> method but there doesn't seem to be a setter.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":362220,"reputation":604,"user_id":705296,"display_name":"Joe Sadoski"},"score":0,"creation_date":1692996511,"post_id":76957944,"comment_id":135706509,"body_markdown":"Please post code in a formatted code block, not a screenshot: [How do I format my code blocks?](https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks)","body":"Please post code in a formatted code block, not a screenshot: <a href=\"https://meta.stackoverflow.com/questions/251361/how-do-i-format-my-code-blocks\">How do I format my code blocks?</a>"}],"owner":{"account_id":29271831,"reputation":1,"user_id":22426417,"display_name":"LinQsa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692816099,"creation_date":1692758784,"question_id":76957944,"body_markdown":"when it use `@requestpart` annotation it yields the error\r\n\r\n&gt;  No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])\r\n\r\nWhen I use `@requestparam` annotation it yields the error `Current request is not a multipart request`\r\n\r\nHow do I resolve this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pna61.png","title":"spring cloud openfeign upload file error, how to solve?","body":"<p>when it use <code>@requestpart</code> annotation it yields the error</p>\n<blockquote>\n<p>No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.LinkedHashMap[&quot;file&quot;]-&gt;org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile[&quot;inputStream&quot;])</p>\n</blockquote>\n<p>When I use <code>@requestparam</code> annotation it yields the error <code>Current request is not a multipart request</code></p>\n<p>How do I resolve this?</p>\n<p><a href=\"https://i.stack.imgur.com/Pna61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pna61.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hibernate","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2450090,"reputation":4212,"user_id":2136603,"accept_rate":45,"display_name":"Mubin"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1398178255,"creation_date":1398178255,"answer_id":23222960,"question_id":23222632,"body_markdown":"The hibernate property names in the configuration file are case sensitive.\r\n\r\n    &lt;property name=&quot;hibernate.connection.URL&quot;&gt;\r\n\r\nshould be \r\n\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;","title":"java.lang.UnsupportedOperationException: The application must supply JDBC connections","body":"<p>The hibernate property names in the configuration file are case sensitive.</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.URL\"&gt;\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>&lt;property name=\"hibernate.connection.url\"&gt;\n</code></pre>\n"}],"owner":{"account_id":4208481,"reputation":666,"user_id":3446851,"accept_rate":61,"display_name":"ysfseu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58853,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":23222960,"answer_count":1,"score":26,"last_activity_date":1692815958,"creation_date":1398177424,"question_id":23222632,"body_markdown":"I wrote some code to test my configuration of Hibernate. But I come across an error message:\r\n\r\n    java.lang.UnsupportedOperationException: The application must supply JDBC connections\r\n\tat org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:61)\r\n\tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:380)\r\n\tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:228)\r\n\tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:171)\r\n\tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)\r\n\tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:162)\r\n\tat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1435)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:356)\r\n\tat com.sun.proxy.$Proxy0.beginTransaction(Unknown Source)\r\nMy file structure is like below:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    src\r\n    ---test\r\n    -------Test.java(with main function)\r\n    -------User.java\r\n    -------User.hbm.xml\r\n    ----hibernate.cfg.xml\r\nThis is not a web application, it&#39;s just an ordinary java project. The hibernate.cfg.xml is like below:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n        &lt;hibernate-configuration&gt;\r\n    \r\n        &lt;session-factory&gt;\r\n            &lt;!-- Configure MySQL --&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t    &lt;property name=&quot;hibernate.connection.URL&quot;&gt;jdbc:mysql://localhost:3306/mags&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;bysjysf&lt;/property&gt;\r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \t    &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n       \t    &lt;!-- Mapping Files --&gt;\r\n    \t    &lt;mapping resource=&quot;test/User.hbm.xml&quot; /&gt;\r\n        &lt;/session-factory&gt;\r\n      \r\n    &lt;/hibernate-configuration&gt;\r\n\r\nThe code in main function is like below:\r\n\r\n&lt;!-- language: java --&gt;\r\n    public static void main(String[] args) {\r\n\t\tConfiguration cfg = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);         \r\n\t    StandardServiceRegistryBuilder sb = new StandardServiceRegistryBuilder();\r\n\t    sb.applySettings(cfg.getProperties());\r\n\t    StandardServiceRegistry standardServiceRegistry = sb.build();                   \r\n\t    SessionFactory sessionFactory = cfg.buildSessionFactory(standardServiceRegistry);\r\n\t    Session session = sessionFactory.getCurrentSession();\r\n\t    System.out.println(session);\r\n\t\tTransaction tx = session.beginTransaction();\r\n\t\tUser user = new User();\r\n\t\tuser.setPassword(&quot;aaaa&quot;);\r\n\t\tuser.setUsername(&quot;ysf&quot;);\r\n\t\tuser.setAuthority(1);\r\n\t\tsession.save(user);\r\n\t\ttx.commit();\r\n\t\tsession.close();\r\n\t}\r\n\r\n\r\nAccording the error message, the error occurred in \r\n`Transaction tx = session.beginTransaction();`\r\n\r\nI am a new user for Hibernate, and I have checked my configuration file many times. Could anyone help to figure out what the problem is? Thanks!\r\n\r\nThe Hibernate version is 4.3.5","title":"java.lang.UnsupportedOperationException: The application must supply JDBC connections","body":"<p>I wrote some code to test my configuration of Hibernate. But I come across an error message:</p>\n<pre><code>java.lang.UnsupportedOperationException: The application must supply JDBC connections\nat org.hibernate.engine.jdbc.connections.internal.UserSuppliedConnectionProviderImpl.getConnection(UserSuppliedConnectionProviderImpl.java:61)\nat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:380)\nat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:228)\nat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:171)\nat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)\nat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:162)\nat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1435)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.hibernate.context.internal.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:356)\nat com.sun.proxy.$Proxy0.beginTransaction(Unknown Source)\n</code></pre>\n<p>My file structure is like below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>src\n---test\n-------Test.java(with main function)\n-------User.java\n-------User.hbm.xml\n----hibernate.cfg.xml\n</code></pre>\n<p>This is not a web application, it's just an ordinary java project. The hibernate.cfg.xml is like below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!DOCTYPE hibernate-configuration PUBLIC\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\n    &lt;hibernate-configuration&gt;\n\n    &lt;session-factory&gt;\n        &lt;!-- Configure MySQL --&gt;\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.URL&quot;&gt;jdbc:mysql://localhost:3306/mags&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;bysjysf&lt;/property&gt;\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\n        &lt;!-- Mapping Files --&gt;\n        &lt;mapping resource=&quot;test/User.hbm.xml&quot; /&gt;\n    &lt;/session-factory&gt;\n  \n&lt;/hibernate-configuration&gt;\n</code></pre>\n<p>The code in main function is like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Configuration cfg = new Configuration().configure(&quot;hibernate.cfg.xml&quot;);         \n    StandardServiceRegistryBuilder sb = new StandardServiceRegistryBuilder();\n    sb.applySettings(cfg.getProperties());\n    StandardServiceRegistry standardServiceRegistry = sb.build();                   \n    SessionFactory sessionFactory = cfg.buildSessionFactory(standardServiceRegistry);\n    Session session = sessionFactory.getCurrentSession();\n    System.out.println(session);\n    Transaction tx = session.beginTransaction();\n    User user = new User();\n    user.setPassword(&quot;aaaa&quot;);\n    user.setUsername(&quot;ysf&quot;);\n    user.setAuthority(1);\n    session.save(user);\n    tx.commit();\n    session.close();\n}\n</code></pre>\n<p>According the error message, the error occurred in\n<code>Transaction tx = session.beginTransaction();</code></p>\n<p>I am a new user for Hibernate, and I have checked my configuration file many times. Could anyone help to figure out what the problem is? Thanks!</p>\n<p>The Hibernate version is 4.3.5</p>\n"},{"tags":["java","hibernate","jpa","collections","one-to-many"],"answers":[{"comments":[{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":12,"creation_date":1516720494,"post_id":20750258,"comment_id":83798550,"body_markdown":"You can also use @Fetch(FetchMode.SELECT) with fetch=FetchType.EAGER. With this, no need to change from List to Set.","body":"You can also use @Fetch(FetchMode.SELECT) with fetch=FetchType.EAGER. With this, no need to change from List to Set."},{"owner":{"account_id":3228095,"reputation":596,"user_id":2723942,"accept_rate":43,"display_name":"Paramvir Singh Karwal"},"score":1,"creation_date":1568127634,"post_id":20750258,"comment_id":102171887,"body_markdown":"I was getting 38000 rows where it should  have been 38 only. That just killed my ECS instance. Using `Set` really saved me here. Didn&#39;t try @nimo23 &#39;s approach. How is it better than just replacing `List` with `Set`? How do these two approaches compare in term of efficiency?","body":"I was getting 38000 rows where it should  have been 38 only. That just killed my ECS instance. Using <code>Set</code> really saved me here. Didn&#39;t try @nimo23 &#39;s approach. How is it better than just replacing <code>List</code> with <code>Set</code>? How do these two approaches compare in term of efficiency?"},{"owner":{"account_id":7957206,"reputation":81,"user_id":6006063,"display_name":"Uriel Zylbermann"},"score":0,"creation_date":1639579775,"post_id":20750258,"comment_id":124385362,"body_markdown":"@ParamvirSinghKarwal - \nIf you use a Set you can&#39;t have an order (so first answer, second answer, etc).\nFrom what I understand, FetchMode.SELECT less efficient.","body":"@ParamvirSinghKarwal -  If you use a Set you can&#39;t have an order (so first answer, second answer, etc). From what I understand, FetchMode.SELECT less efficient."}],"tags":[],"owner":{"account_id":1578983,"reputation":22251,"user_id":1464763,"display_name":"David Levesque"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1387829525,"creation_date":1387828413,"answer_id":20750258,"question_id":20749806,"body_markdown":"You are most likely getting duplicates because when using fetch=FetchType.EAGER, Hibernate [uses an outer join][1] to fetch the data in the joined table.\r\n\r\nTry removing the eager fetching to confirm. If it is the case, you should either remove the eager fetching, keep a Set instead of a List, or write a JPQL query to retrieve exactly what you need.\r\n\r\nFrom [Hibernate doc][1]:\r\n\r\n&gt; The recommanded approach is to use LAZY on all static fetching\r\n&gt; definitions and override this choice dynamically through JP-QL.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-association-fetching","title":"Duplicates in OneToMany annotated List","body":"<p>You are most likely getting duplicates because when using fetch=FetchType.EAGER, Hibernate <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-association-fetching\" rel=\"noreferrer\">uses an outer join</a> to fetch the data in the joined table.</p>\n\n<p>Try removing the eager fetching to confirm. If it is the case, you should either remove the eager fetching, keep a Set instead of a List, or write a JPQL query to retrieve exactly what you need.</p>\n\n<p>From <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-association-fetching\" rel=\"noreferrer\">Hibernate doc</a>:</p>\n\n<blockquote>\n  <p>The recommanded approach is to use LAZY on all static fetching\n  definitions and override this choice dynamically through JP-QL.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11270646,"reputation":405,"user_id":8266206,"display_name":"Charden Daxicen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692815863,"creation_date":1692815863,"answer_id":76964084,"question_id":20749806,"body_markdown":"I used Set&lt;T&gt; after noticing it in @Paramvir Singh&#39;s comment.\r\nIt prevented the duplicates records\r\n\r\n    public class User  {\r\n      \r\n        @OneToMany(fetch = FetchType.EAGER)\r\n        private Set&lt;Role&gt; roles;\r\n        \r\n    }","title":"Duplicates in OneToMany annotated List","body":"<p>I used Set after noticing it in @Paramvir Singh's comment.\nIt prevented the duplicates records</p>\n<pre><code>public class User  {\n  \n    @OneToMany(fetch = FetchType.EAGER)\n    private Set&lt;Role&gt; roles;\n    \n}\n</code></pre>\n"}],"owner":{"account_id":1059597,"reputation":24002,"user_id":1061499,"accept_rate":84,"display_name":"davioooh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9838,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":20750258,"answer_count":2,"score":11,"last_activity_date":1692815863,"creation_date":1387826296,"question_id":20749806,"body_markdown":"I&#39;m working on a Java project using JPA 2 + Hibernate 4.2.6 and I&#39;m getting a strange behaviour.\r\n\r\nIn my model I have two related entites: `Question` and `Answer`\r\n\r\n\t@Entity\r\n\tpublic class Question {\r\n\t\t// ...\r\n\r\n\t\t@OneToMany(mappedBy = &quot;question&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t\tprivate Set&lt;Answer&gt; answers;\r\n\t\t\r\n\t\t// ...\r\n\t}\r\n\r\n\r\n\t@Entity\r\n\tpublic class Answer {\r\n\t\t// ...\r\n\r\n\t\t@ManyToOne(optional = false)\r\n\t\t@JoinColumn(name = &quot;question_id&quot;, nullable = false)\r\n\t\tprivate Question question;\r\n\t\t\r\n\t\t// ...\r\n\t}\r\n\r\nThis works perfectly: all `Answer`s related to a certain `Question` are loaded correctly.\r\n\r\nBut now I need to change the tipe of `answers` collecton from `Set` to `List`. I changed the type and ran the application again and now I get several duplicates in `answers`...\r\nWhy is it possible? I know that `List` allows duplicates, but there are no duplicate records in my DB, so why I get these?\r\n\r\nI read about some similar bugs in previous version of Hibernate, but I expect they are solved in last version... am I wrong?\r\n\r\n**NOTE** I need to change `Set` into `List` because I need to keep information about the **order** for answers and, possibly, to change this order.","title":"Duplicates in OneToMany annotated List","body":"<p>I'm working on a Java project using JPA 2 + Hibernate 4.2.6 and I'm getting a strange behaviour.</p>\n\n<p>In my model I have two related entites: <code>Question</code> and <code>Answer</code></p>\n\n<pre><code>@Entity\npublic class Question {\n    // ...\n\n    @OneToMany(mappedBy = \"question\", cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    private Set&lt;Answer&gt; answers;\n\n    // ...\n}\n\n\n@Entity\npublic class Answer {\n    // ...\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = \"question_id\", nullable = false)\n    private Question question;\n\n    // ...\n}\n</code></pre>\n\n<p>This works perfectly: all <code>Answer</code>s related to a certain <code>Question</code> are loaded correctly.</p>\n\n<p>But now I need to change the tipe of <code>answers</code> collecton from <code>Set</code> to <code>List</code>. I changed the type and ran the application again and now I get several duplicates in <code>answers</code>...\nWhy is it possible? I know that <code>List</code> allows duplicates, but there are no duplicate records in my DB, so why I get these?</p>\n\n<p>I read about some similar bugs in previous version of Hibernate, but I expect they are solved in last version... am I wrong?</p>\n\n<p><strong>NOTE</strong> I need to change <code>Set</code> into <code>List</code> because I need to keep information about the <strong>order</strong> for answers and, possibly, to change this order.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":2,"creation_date":1663567235,"post_id":73768918,"comment_id":130261353,"body_markdown":"why don&#39;t you just change your custom RedisConfig class name to something else?","body":"why don&#39;t you just change your custom RedisConfig class name to something else?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1663597958,"post_id":73768918,"comment_id":130271402,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663667212,"creation_date":1663667212,"answer_id":73784708,"question_id":73768918,"body_markdown":"You can name your bean:\r\n```Java\r\n@Bean(name = &quot;anotherRedisConfig&quot;)\r\n```\r\nor easier:\r\n```Java\r\n@Bean(&quot;anotherRedisConfig&quot;)\r\n```","title":"The bean conflicts in Spring. How to solve this question？","body":"<p>You can name your bean:</p>\n<pre><code>@Bean(name = &quot;anotherRedisConfig&quot;)\n</code></pre>\n<p>or easier:</p>\n<pre><code>@Bean(&quot;anotherRedisConfig&quot;)\n</code></pre>\n"}],"owner":{"account_id":25755118,"reputation":1,"user_id":19506939,"display_name":"BIGSHAOSHI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692815789,"creation_date":1663566112,"question_id":73768918,"body_markdown":"**question:**\r\nA dependency of a project has a class with the same name as the class contained in the project itself, thus causing a conflict. How do I fix this?\r\n\r\n```\r\n2022-09-19 13:32:21,109 main ERROR o.s.boot.SpringApplication858  - Application run failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.learnyeai.BaseApiApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;redisConfig&#39; for bean class [com.learnyeai.common.redis.RedisConfig] conflicts with existing, non-compatible bean definition of same name and class [com.learnyeai.jsstudy.config.RedisConfig]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:181)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n\tat com.learnyeai.BaseApiApplication.main(BaseApiApplication.java:18)\r\nCaused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;redisConfig&#39; for bean class [com.learnyeai.common.redis.RedisConfig] conflicts with existing, non-compatible bean definition of same name and class [com.learnyeai.jsstudy.config.RedisConfig]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:348)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:286)\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:287)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167)\r\n\t... 13 common frames omitted\r\n```\r\n\r\n[com.learnyeai.common.redis.RedisConfig][1]\r\n\r\n[com.learnyeai.jsstudy.config.RedisConfig][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DuW3O.png\r\n  [2]: https://i.stack.imgur.com/O6UUW.png","title":"The bean conflicts in Spring. How to solve this question？","body":"<p><strong>question:</strong>\nA dependency of a project has a class with the same name as the class contained in the project itself, thus causing a conflict. How do I fix this?</p>\n<pre><code>2022-09-19 13:32:21,109 main ERROR o.s.boot.SpringApplication858  - Application run failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.learnyeai.BaseApiApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'redisConfig' for bean class [com.learnyeai.common.redis.RedisConfig] conflicts with existing, non-compatible bean definition of same name and class [com.learnyeai.jsstudy.config.RedisConfig]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:181)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n    at com.learnyeai.BaseApiApplication.main(BaseApiApplication.java:18)\nCaused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'redisConfig' for bean class [com.learnyeai.common.redis.RedisConfig] conflicts with existing, non-compatible bean definition of same name and class [com.learnyeai.jsstudy.config.RedisConfig]\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:348)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:286)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:287)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167)\n    ... 13 common frames omitted\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DuW3O.png\" rel=\"nofollow noreferrer\">com.learnyeai.common.redis.RedisConfig</a></p>\n<p><a href=\"https://i.stack.imgur.com/O6UUW.png\" rel=\"nofollow noreferrer\">com.learnyeai.jsstudy.config.RedisConfig</a></p>\n"},{"tags":["java","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":1747780,"reputation":300,"user_id":1597560,"accept_rate":54,"display_name":"Chetan Nellekeri"},"score":1,"creation_date":1551771820,"post_id":10187954,"comment_id":96751423,"body_markdown":"How can we do it in reverse way..? I mean Byte array to HSSFWorkbook?","body":"How can we do it in reverse way..? I mean Byte array to HSSFWorkbook?"},{"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"score":0,"creation_date":1551780732,"post_id":10187954,"comment_id":96756070,"body_markdown":"@ChetanNellekeri It&#39;s probably better to ask that as a separate question","body":"@ChetanNellekeri It&#39;s probably better to ask that as a separate question"},{"owner":{"account_id":2818989,"reputation":4531,"user_id":2423207,"accept_rate":57,"display_name":"Max Carroll"},"score":1,"creation_date":1591892246,"post_id":10187954,"comment_id":110234278,"body_markdown":"For anyone using C# this pretty much works there also, ByteArrayOutputStream is available in NPOI.utils","body":"For anyone using C# this pretty much works there also, ByteArrayOutputStream is available in NPOI.utils"}],"tags":[],"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"comment_count":3,"down_vote_count":0,"up_vote_count":124,"is_accepted":true,"score":124,"last_activity_date":1334652330,"creation_date":1334652330,"answer_id":10187954,"question_id":10186662,"body_markdown":"As that mailing list post said\r\n\r\n&gt;Invoking [`HSSFWorkbook.getBytes()`][1] does not return all of the data necessary to re-\r\nconstruct a complete Excel file.\r\n\r\nYou can use the write method with a [`ByteArrayOutputStream`][2] to get at the byte array.\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    try {\r\n        workbook.write(bos);\r\n    } finally {\r\n        bos.close();\r\n    }\r\n    byte[] bytes = bos.toByteArray();\r\n\r\n(The `close` call is not really needed for a `ByteArrayOutputStream`, but imho it is good style to include anyway in case its later changed to a different kind of stream.)\r\n\r\n [1]: http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes()\r\n [2]: http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html","title":"How can I convert POI HSSFWorkbook to bytes?","body":"<p>As that mailing list post said</p>\n\n<blockquote>\n  <p>Invoking <a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\"><code>HSSFWorkbook.getBytes()</code></a> does not return all of the data necessary to re-\n  construct a complete Excel file.</p>\n</blockquote>\n\n<p>You can use the write method with a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\"><code>ByteArrayOutputStream</code></a> to get at the byte array.</p>\n\n<pre><code>ByteArrayOutputStream bos = new ByteArrayOutputStream();\ntry {\n    workbook.write(bos);\n} finally {\n    bos.close();\n}\nbyte[] bytes = bos.toByteArray();\n</code></pre>\n\n<p>(The <code>close</code> call is not really needed for a <code>ByteArrayOutputStream</code>, but imho it is good style to include anyway in case its later changed to a different kind of stream.)</p>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1334652338,"creation_date":1334652338,"answer_id":10187958,"question_id":10186662,"body_markdown":"How about:\r\n\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    workbook.write(baos);\r\n    byte[] xls = baos.toByteArray();\r\n\r\nIn order to get a full excel file out, you must call the write(OutputStream) method. If you want bytes from that, just give a ByteArrayOutputStream","title":"How can I convert POI HSSFWorkbook to bytes?","body":"<p>How about:</p>\n\n<pre><code>ByteArrayOutputStream baos = new ByteArrayOutputStream();\nworkbook.write(baos);\nbyte[] xls = baos.toByteArray();\n</code></pre>\n\n<p>In order to get a full excel file out, you must call the write(OutputStream) method. If you want bytes from that, just give a ByteArrayOutputStream</p>\n"}],"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89960,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":10187954,"answer_count":2,"score":60,"last_activity_date":1692815717,"creation_date":1334646254,"question_id":10186662,"body_markdown":"Calling Simple [`toBytes()`][1] does produce the bytes, but Excel throws Warning.\r\n\r\n&gt; Lost Document information\r\n\r\n\r\nGoogling around gave me this [link][2] and looking at [Javadocs][3] for worksheet and POI [HOW-TO][4] say similar things. Basically, I cannot get `Bytes` without losing some information and should use the `write` method instead.\r\n\r\nWhile write does work fine, I really need to send the bytes over. Is there any way I can do that? That is, get the bytes without getting any warning.\r\n\r\n\r\n  [1]: http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\r\n  [2]: http://mail-archives.apache.org/mod_mbox/poi-user/200610.mbox/%3Cloom.20061017T235349-739@post.gmane.org%3E\r\n  [3]: http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\r\n  [4]: http://poi.apache.org/hpsf/how-to.html","title":"How can I convert POI HSSFWorkbook to bytes?","body":"<p>Calling Simple <a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\" rel=\"nofollow noreferrer\"><code>toBytes()</code></a> does produce the bytes, but Excel throws Warning.</p>\n<blockquote>\n<p>Lost Document information</p>\n</blockquote>\n<p>Googling around gave me this <a href=\"http://mail-archives.apache.org/mod_mbox/poi-user/200610.mbox/%3Cloom.20061017T235349-739@post.gmane.org%3E\" rel=\"nofollow noreferrer\">link</a> and looking at <a href=\"http://poi.apache.org/apidocs/org/apache/poi/hssf/usermodel/HSSFWorkbook.html#getBytes%28%29\" rel=\"nofollow noreferrer\">Javadocs</a> for worksheet and POI <a href=\"http://poi.apache.org/hpsf/how-to.html\" rel=\"nofollow noreferrer\">HOW-TO</a> say similar things. Basically, I cannot get <code>Bytes</code> without losing some information and should use the <code>write</code> method instead.</p>\n<p>While write does work fine, I really need to send the bytes over. Is there any way I can do that? That is, get the bytes without getting any warning.</p>\n"},{"tags":["java","android","networking","hostname","local-network"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1692816193,"post_id":76964069,"comment_id":135677039,"body_markdown":"What O/S do the laptops run?  How is your DNS setup?  At a guess you&#39;ve got a Microsoft environment and Windows is hiding some of the complexity of the network domain.","body":"What O/S do the laptops run?  How is your DNS setup?  At a guess you&#39;ve got a Microsoft environment and Windows is hiding some of the complexity of the network domain."},{"owner":{"account_id":28985227,"reputation":149,"user_id":22202172,"display_name":"Dharun"},"score":0,"creation_date":1693060024,"post_id":76964069,"comment_id":135711497,"body_markdown":"It is running windows 11 and I don&#39;t have any specific DNS setup","body":"It is running windows 11 and I don&#39;t have any specific DNS setup"},{"owner":{"account_id":5802164,"reputation":83,"user_id":4576016,"display_name":"michalp"},"score":0,"creation_date":1699456626,"post_id":76964069,"comment_id":136534191,"body_markdown":"Have you found cause for that? Not sure if my problem is similar, but I&#39;m getting similar exception only when using cellular network. On WiFi all connection are working correctly..","body":"Have you found cause for that? Not sure if my problem is similar, but I&#39;m getting similar exception only when using cellular network. On WiFi all connection are working correctly.."}],"owner":{"account_id":28985227,"reputation":149,"user_id":22202172,"display_name":"Dharun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692815665,"creation_date":1692815665,"question_id":76964069,"body_markdown":"I&#39;ve been working on project that uses the Hostname of the device connected to a local network and resolve it into ip address.But the problem is android cannot resolve the hostname of the device connected to the same local network\r\n\r\n\r\n\r\n```\r\n   protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        new Thread( ()-&gt;{\r\n            try {\r\n                System.out.println(InetAddress.getByName(&quot;LAPJA&quot;).getHostAddress());.\r\n            } catch (UnknownHostException e) {\r\n                System.out.println(&quot;Cannot find the specified host&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n \r\n```\r\n\r\n\r\noutput:\r\n\r\n```\r\nW/System.err: java.net.UnknownHostException: Unable to resolve host &quot;LAPJA&quot;: No address associated with hostname\r\nW/System.err:     at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\r\nW/System.err:     at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\nW/System.err:     at java.net.InetAddress.getByName(InetAddress.java:1106)\r\nW/System.err:     at com.example.hostname.MainActivity.lambda$onCreate$0(MainActivity.java:42)\r\nW/System.err:     at com.example.hostname.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:0)\r\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\r\nW/System.err: Caused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\r\nW/System.err:     at libcore.io.Linux.android_getaddrinfo(Native Method)\r\nW/System.err:     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\r\nW/System.err:     at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:202)\r\nW/System.err:     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\r\nW/System.err:     at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\r\nW/System.err: \t... 5 more\r\n```\r\n\r\nThe same program works well on laptops but throws error in when ran in android (physical device not emulator)\r\n\r\n\r\nnote: Android manifest contains \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```","title":"Cannot resolve Ip address using hostname in android?","body":"<p>I've been working on project that uses the Hostname of the device connected to a local network and resolve it into ip address.But the problem is android cannot resolve the hostname of the device connected to the same local network</p>\n<pre><code>   protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        new Thread( ()-&gt;{\n            try {\n                System.out.println(InetAddress.getByName(&quot;LAPJA&quot;).getHostAddress());.\n            } catch (UnknownHostException e) {\n                System.out.println(&quot;Cannot find the specified host&quot;);\n                e.printStackTrace();\n            }\n        }).start();\n \n</code></pre>\n<p>output:</p>\n<pre><code>W/System.err: java.net.UnknownHostException: Unable to resolve host &quot;LAPJA&quot;: No address associated with hostname\nW/System.err:     at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\nW/System.err:     at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\nW/System.err:     at java.net.InetAddress.getByName(InetAddress.java:1106)\nW/System.err:     at com.example.hostname.MainActivity.lambda$onCreate$0(MainActivity.java:42)\nW/System.err:     at com.example.hostname.MainActivity$$ExternalSyntheticLambda0.run(Unknown Source:0)\nW/System.err:     at java.lang.Thread.run(Thread.java:923)\nW/System.err: Caused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\nW/System.err:     at libcore.io.Linux.android_getaddrinfo(Native Method)\nW/System.err:     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\nW/System.err:     at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:202)\nW/System.err:     at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:73)\nW/System.err:     at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\nW/System.err:   ... 5 more\n</code></pre>\n<p>The same program works well on laptops but throws error in when ran in android (physical device not emulator)</p>\n<p>note: Android manifest contains</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"},{"tags":["java","json","maven","intellij-idea","javafx"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1692816396,"post_id":76964068,"comment_id":135677071,"body_markdown":"Share the code showing which imports/classes you are trying to use. There are different JSON libraries and you may be using not the one you added to the dependencies.","body":"Share the code showing which imports/classes you are trying to use. There are different JSON libraries and you may be using not the one you added to the dependencies."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1692816813,"post_id":76964068,"comment_id":135677149,"body_markdown":"Did you update `module-info.java`?","body":"Did you update <code>module-info.java</code>?"},{"owner":{"account_id":20201964,"reputation":1,"user_id":14817428,"display_name":"randomdude"},"score":2,"creation_date":1692891567,"post_id":76964068,"comment_id":135688583,"body_markdown":"@SedJ601 I love you my guy, thank you so much. While I have worked with maven before, I had no idea what the module-info.java did. Thanks, it works now","body":"@SedJ601 I love you my guy, thank you so much. While I have worked with maven before, I had no idea what the module-info.java did. Thanks, it works now"}],"owner":{"account_id":20201964,"reputation":1,"user_id":14817428,"display_name":"randomdude"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692815665,"creation_date":1692815665,"question_id":76964068,"body_markdown":"I have an issue where even if I add the dependency to the pom.xml and try importing the library it just shows errors. The dependency gets added, but I still cant use it in the classes. This is not my first maven project, nor my first time adding a dependency. I have other dependencies that work well. I have tried multiple json libraries, I have looked up a few questions here that have similar problems, but none seem to solve my issue. \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.zoohandlung&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Main&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;ZoohandlungInfoLK&lt;/name&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&lt;junit.version&gt;5.9.2&lt;/junit.version&gt;  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n      &lt;version&gt;20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n      &lt;version&gt;20&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;${junit.version}&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n-The new added dependency:\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n-\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;20&lt;/source&gt;\r\n          &lt;target&gt;20&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8&lt;/version&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Added Maven json-simple maven dependency, reloaded maven, still cant use the library in the project","body":"<p>I have an issue where even if I add the dependency to the pom.xml and try importing the library it just shows errors. The dependency gets added, but I still cant use it in the classes. This is not my first maven project, nor my first time adding a dependency. I have other dependencies that work well. I have tried multiple json libraries, I have looked up a few questions here that have similar problems, but none seem to solve my issue.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.zoohandlung&lt;/groupId&gt;\n  &lt;artifactId&gt;Main&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;ZoohandlungInfoLK&lt;/name&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;junit.version&gt;5.9.2&lt;/junit.version&gt;  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n      &lt;version&gt;20&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n      &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n      &lt;version&gt;20&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n-The new added dependency:\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n      &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n      &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n-\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;20&lt;/source&gt;\n          &lt;target&gt;20&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;0.0.8&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":14662806,"reputation":367,"user_id":10833767,"display_name":"Udhayakumar"},"score":0,"creation_date":1572951756,"post_id":58709907,"comment_id":103713761,"body_markdown":"i want to select if hashmap object have null value","body":"i want to select if hashmap object have null value"},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1572960180,"post_id":58709907,"comment_id":103717927,"body_markdown":"If you are just interested in one key `&quot;parent_item_id&quot;`, don&#39;t stream the whole `entrySet`. If you want to test if it exists in the hashmap with the value null, write `h -&gt; h.containsKey(&quot;parent_item_id&quot;) &amp;&amp; h.get(&quot;parent_item_id&quot;) == null` for your filter lambda.","body":"If you are just interested in one key <code>&quot;parent_item_id&quot;</code>, don&#39;t stream the whole <code>entrySet</code>. If you want to test if it exists in the hashmap with the value null, write <code>h -&gt; h.containsKey(&quot;parent_item_id&quot;) &amp;&amp; h.get(&quot;parent_item_id&quot;) == null</code> for your filter lambda."}],"answers":[{"comments":[{"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"score":0,"creation_date":1572971051,"post_id":58713166,"comment_id":103724285,"body_markdown":"Your condition will fail with `NullPointerException` is the value is `null`.","body":"Your condition will fail with <code>NullPointerException</code> is the value is <code>null</code>."},{"owner":{"account_id":14662806,"reputation":367,"user_id":10833767,"display_name":"Udhayakumar"},"score":0,"creation_date":1573018219,"post_id":58713166,"comment_id":103739142,"body_markdown":"the collectors show an error. https://1drv.ms/u/s!Avo8xM_m-NpygfdZujUlVzrTAtRrpQ?e=qUQwMB","body":"the collectors show an error. <a href=\"https://1drv.ms/u/s!Avo8xM_m-NpygfdZujUlVzrTAtRrpQ?e=qUQwMB\" rel=\"nofollow noreferrer\">1drv.ms/u/s!Avo8xM_m-NpygfdZujUlVzrTAtRrpQ?e=qUQwMB</a>"}],"tags":[],"owner":{"account_id":4713858,"reputation":223,"user_id":3813606,"accept_rate":50,"display_name":"Reger05"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573042626,"creation_date":1572963070,"answer_id":58713166,"question_id":58709907,"body_markdown":"It you are just trying to reduce your list of hashmaps based on the presence of a value being == to 0 this will do the job. However, mapping with String, Object makes it seem like you really should be creating an object instead of a map. \r\n\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\r\n                .filter(hashmap -&gt; hashmap.containsKey(&quot;parent_item_id&quot;))\r\n                .filter(hashmap -&gt; (Integer) hashmap.get(&quot;parent_item_id&quot;) == 0)\r\n                .collect(Collectors.toList());\r\n```\r\n\r\nBased on your snippet above I am assuming parent_item_id is an integer. Another reason to switch whatever is in your map to an actual object instead of trying to model it in a map where we have to guess which type each of your values are. ","title":"How use stream filter for list of hashmap? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>It you are just trying to reduce your list of hashmaps based on the presence of a value being == to 0 this will do the job. However, mapping with String, Object makes it seem like you really should be creating an object instead of a map. </p>\n\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\n                .filter(hashmap -&gt; hashmap.containsKey(\"parent_item_id\"))\n                .filter(hashmap -&gt; (Integer) hashmap.get(\"parent_item_id\") == 0)\n                .collect(Collectors.toList());\n</code></pre>\n\n<p>Based on your snippet above I am assuming parent_item_id is an integer. Another reason to switch whatever is in your map to an actual object instead of trying to model it in a map where we have to guess which type each of your values are. </p>\n"},{"comments":[{"owner":{"account_id":14662806,"reputation":367,"user_id":10833767,"display_name":"Udhayakumar"},"score":0,"creation_date":1573018554,"post_id":58715007,"comment_id":103739238,"body_markdown":".collect(tolist());    Shows error  https://1drv.ms/u/s!Avo8xM_m-NpygfdctjeyKAX4pNxYaQ?e=ZIkoK9","body":".collect(tolist());    Shows error  <a href=\"https://1drv.ms/u/s!Avo8xM_m-NpygfdctjeyKAX4pNxYaQ?e=ZIkoK9\" rel=\"nofollow noreferrer\">1drv.ms/u/s!Avo8xM_m-NpygfdctjeyKAX4pNxYaQ?e=ZIkoK9</a>"}],"tags":[],"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573053080,"creation_date":1572969321,"answer_id":58715007,"question_id":58709907,"body_markdown":"Well the question is not clear, hence another solution for filtering maps with `null`:\r\n\r\n    // If you are sure the key &quot;parent_item_id&quot; exists:\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; reducedList = \r\n            access_collections.stream()\r\n                              .filter(m -&gt; m.get(&quot;parent_item_id&quot;) == null)\r\n                              .collect(toList());\r\n\r\n    // If you are not sure then:\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; reducedList = \r\n            access_collections.stream()\r\n                              .filter(m -&gt; m.containsKey(&quot;parent_item_id&quot;) &amp;&amp; m.get(&quot;parent_item_id&quot;) == null)\r\n                              .collect(toList());","title":"How use stream filter for list of hashmap? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>Well the question is not clear, hence another solution for filtering maps with <code>null</code>:</p>\n\n<pre><code>// If you are sure the key \"parent_item_id\" exists:\nList&lt;HashMap&lt;String, Object&gt;&gt; reducedList = \n        access_collections.stream()\n                          .filter(m -&gt; m.get(\"parent_item_id\") == null)\n                          .collect(toList());\n\n// If you are not sure then:\nList&lt;HashMap&lt;String, Object&gt;&gt; reducedList = \n        access_collections.stream()\n                          .filter(m -&gt; m.containsKey(\"parent_item_id\") &amp;&amp; m.get(\"parent_item_id\") == null)\n                          .collect(toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16249442,"reputation":4026,"user_id":11733759,"display_name":"lczapski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575403834,"creation_date":1575367337,"answer_id":59154485,"question_id":58709907,"body_markdown":"Similar to other but you can use `Predicate`.\r\n```java\r\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; containsKey = hashmap -&gt; hashmap.containsKey(&quot;parent_item_id&quot;);\r\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; isNull = hashmap -&gt; hashmap.get(&quot;parent_item_id&quot;) == null;\r\n\r\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\r\n        .filter(containsKey.and(isNull))\r\n        .collect(Collectors.toList());\r\n```\r\nOr you can use this predicat during `while (rs.next()) {` and:\r\n```java\r\nif (containsKey.and(isNull).test(returndatas)) {\r\n    resultslist.add(returndatas);\r\n}\r\n```\r\n### UPDATE\r\nBelow is only generalization that may blur the first solution (as exercise that not added anything to solution):\r\nChange `Predicate` to `BiPredicate` and have more generic solution.\r\n```java\r\nBiPredicate&lt;String, HashMap&lt;String, Object&gt;&gt; containsKey = \r\n        (label, hashmap) -&gt; hashmap.containsKey(label);\r\nBiPredicate&lt;String, HashMap&lt;String, Object&gt;&gt; isNull = \r\n        (label, hashmap) -&gt; hashmap.get(label) == null;\r\n\r\nFunction&lt;String, Predicate&lt;HashMap&lt;String, Object&gt;&gt;&gt; checkFor =\r\n        (label) -&gt; (hashmap) -&gt; containsKey.and(isNull).test(label, hashmap);\r\n\r\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; checkParentItemId = checkFor.apply(&quot;parent_item_id&quot;);\r\n\r\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\r\n        .filter(checkParentItemId)\r\n        .collect(Collectors.toList());\r\n```\r\nand\r\n```java\r\nif (checkFor.apply(&quot;parent_item_id&quot;).test(returndatas)) {\r\n    resultslist.add(returndatas);\r\n}\r\n```","title":"How use stream filter for list of hashmap? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>Similar to other but you can use <code>Predicate</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;HashMap&lt;String, Object&gt;&gt; containsKey = hashmap -&gt; hashmap.containsKey(\"parent_item_id\");\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; isNull = hashmap -&gt; hashmap.get(\"parent_item_id\") == null;\n\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\n        .filter(containsKey.and(isNull))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>Or you can use this predicat during <code>while (rs.next()) {</code> and:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (containsKey.and(isNull).test(returndatas)) {\n    resultslist.add(returndatas);\n}\n</code></pre>\n\n<h3>UPDATE</h3>\n\n<p>Below is only generalization that may blur the first solution (as exercise that not added anything to solution):\nChange <code>Predicate</code> to <code>BiPredicate</code> and have more generic solution.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>BiPredicate&lt;String, HashMap&lt;String, Object&gt;&gt; containsKey = \n        (label, hashmap) -&gt; hashmap.containsKey(label);\nBiPredicate&lt;String, HashMap&lt;String, Object&gt;&gt; isNull = \n        (label, hashmap) -&gt; hashmap.get(label) == null;\n\nFunction&lt;String, Predicate&lt;HashMap&lt;String, Object&gt;&gt;&gt; checkFor =\n        (label) -&gt; (hashmap) -&gt; containsKey.and(isNull).test(label, hashmap);\n\nPredicate&lt;HashMap&lt;String, Object&gt;&gt; checkParentItemId = checkFor.apply(\"parent_item_id\");\n\nList&lt;Map&lt;String, Object&gt;&gt; reducedList = access_collections.stream()\n        .filter(checkParentItemId)\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if (checkFor.apply(\"parent_item_id\").test(returndatas)) {\n    resultslist.add(returndatas);\n}\n</code></pre>\n"}],"owner":{"account_id":14662806,"reputation":367,"user_id":10833767,"display_name":"Udhayakumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9179,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1692813645,"creation_date":1572951548,"question_id":58709907,"body_markdown":"I want to filter an array list containing hash maps using the stream API.\r\n\r\n    \r\n    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; resultslist = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();   \r\n    \r\n    \r\n    ResultSet rs = pstmt.executeQuery();\r\n    \r\n    while (rs.next()) {\r\n        HashMap&lt;String, Object&gt; returndatas = new HashMap&lt;String, Object&gt;();\r\n        int colcnt = rs.getMetaData().getColumnCount();\r\n        \r\n        for (int i = 1; i &lt;= colcnt; i++) {\r\n            if (rs.getObject(i) instanceof BigInteger) {\r\n                returndatas.put(rs.getMetaData().getColumnName(i), rs.getInt(i));\r\n            } else {\r\n                returndatas.put(rs.getMetaData().getColumnName(i), rs.getObject(i));\r\n            }\r\n        }\r\n        resultslist.add(returndatas);\r\n    }\r\n    \r\n\r\nThe above method gives the `resultslist`. Now I want to filter this list by some condition and collect a new array list of hash maps.\r\n\r\nFor example, I want to select hash maps that have a &quot;null&quot; value and string have &quot;parent_item_id&quot;.\r\n\r\nI tried the following.\r\n   \r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; reducedList = resultslist .stream()\r\n        .filter((HashMap&lt;String, Object&gt; hasmap) -&gt; hasmap.entrySet().stream().anyMatch(e -&gt; e.getKey().equals(&quot;parent_item_id&quot;) &amp;&amp; e.getValue().equals(0)))\r\n        .collect(Collectors.toList());\r\n\r\n\r\n**Finally, it&#39;s working**\r\n\r\n  I used this. Thankyou for all\r\n\r\n    List&lt;HashMap&lt;String, Object&gt;&gt; reducedList = resultslist.stream()\r\n                        .filter(hashmap -&gt;((hashmap.get(&quot;parent_item_id&quot;)) == null ))\r\n                        .collect(Collectors.toList());","title":"How use stream filter for list of hashmap? ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>I want to filter an array list containing hash maps using the stream API.</p>\n\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; resultslist = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();   \n\n\nResultSet rs = pstmt.executeQuery();\n\nwhile (rs.next()) {\n    HashMap&lt;String, Object&gt; returndatas = new HashMap&lt;String, Object&gt;();\n    int colcnt = rs.getMetaData().getColumnCount();\n\n    for (int i = 1; i &lt;= colcnt; i++) {\n        if (rs.getObject(i) instanceof BigInteger) {\n            returndatas.put(rs.getMetaData().getColumnName(i), rs.getInt(i));\n        } else {\n            returndatas.put(rs.getMetaData().getColumnName(i), rs.getObject(i));\n        }\n    }\n    resultslist.add(returndatas);\n}\n</code></pre>\n\n<p>The above method gives the <code>resultslist</code>. Now I want to filter this list by some condition and collect a new array list of hash maps.</p>\n\n<p>For example, I want to select hash maps that have a \"null\" value and string have \"parent_item_id\".</p>\n\n<p>I tried the following.</p>\n\n<pre><code>    ArrayList&lt;HashMap&lt;String, Object&gt;&gt; reducedList = resultslist .stream()\n    .filter((HashMap&lt;String, Object&gt; hasmap) -&gt; hasmap.entrySet().stream().anyMatch(e -&gt; e.getKey().equals(\"parent_item_id\") &amp;&amp; e.getValue().equals(0)))\n    .collect(Collectors.toList());\n</code></pre>\n\n<p><strong>Finally, it's working</strong></p>\n\n<p>I used this. Thankyou for all</p>\n\n<pre><code>List&lt;HashMap&lt;String, Object&gt;&gt; reducedList = resultslist.stream()\n                    .filter(hashmap -&gt;((hashmap.get(\"parent_item_id\")) == null ))\n                    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","krakend"],"answers":[{"comments":[{"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"score":0,"creation_date":1692857125,"post_id":76963843,"comment_id":135681300,"body_markdown":"Thanks @alo , so only solution will be to buy enterprise. right?","body":"Thanks @alo , so only solution will be to buy enterprise. right?"},{"owner":{"account_id":895783,"reputation":1323,"user_id":933110,"display_name":"alo"},"score":1,"creation_date":1692952618,"post_id":76963843,"comment_id":135697535,"body_markdown":"Well, this is an open source project. It means that you can clone the project and add the functionality you want. But if you want this done in the software without coding anything, then yes, the enterprise solution gives you that","body":"Well, this is an open source project. It means that you can clone the project and add the functionality you want. But if you want this done in the software without coding anything, then yes, the enterprise solution gives you that"}],"tags":[],"owner":{"account_id":895783,"reputation":1323,"user_id":933110,"display_name":"alo"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692813620,"creation_date":1692813620,"answer_id":76963843,"question_id":76961550,"body_markdown":"No, it&#39;s not possible out of the box","title":"Krakend community edition don&#39;t follow redirect","body":"<p>No, it's not possible out of the box</p>\n"}],"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76963843,"answer_count":1,"score":0,"last_activity_date":1692813620,"creation_date":1692795265,"question_id":76961550,"body_markdown":"is it possible to ask Krakend(version 1.3) community edition not follow redirect. \r\n\r\nI know it is possible for Enterprise edtion. \r\nhttps://www.krakend.io/docs/enterprise/backends/client-redirect/\r\n\r\n","title":"Krakend community edition don&#39;t follow redirect","body":"<p>is it possible to ask Krakend(version 1.3) community edition not follow redirect.</p>\n<p>I know it is possible for Enterprise edtion.\n<a href=\"https://www.krakend.io/docs/enterprise/backends/client-redirect/\" rel=\"nofollow noreferrer\">https://www.krakend.io/docs/enterprise/backends/client-redirect/</a></p>\n"},{"tags":["java","docker","tomcat","out-of-memory","amazon-ecs"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1691652098,"post_id":76873432,"comment_id":135520965,"body_markdown":"There are tools to inspect running Java applications and find out such information. From IDE debuggers to Java agents to tools like VisualVM.","body":"There are tools to inspect running Java applications and find out such information. From IDE debuggers to Java agents to tools like VisualVM."},{"owner":{"account_id":10345313,"reputation":330,"user_id":7630468,"display_name":"SwathiP"},"score":0,"creation_date":1691660413,"post_id":76873432,"comment_id":135522647,"body_markdown":"If you started noticing the problem recently, it can be due to many reasons such as new code introduced causes higher usage of heap, update of dependencies, etc. This [post](https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438) might help to understand what consumes memory in a Java process. You might also be interested in [Amazon CodeGuru Profiler](https://aws.amazon.com/blogs/devops/understanding-memory-usage-in-your-java-application-with-amazon-codeguru-profiler/) for profiling live applications.","body":"If you started noticing the problem recently, it can be due to many reasons such as new code introduced causes higher usage of heap, update of dependencies, etc. This <a href=\"https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi/53624438#53624438\">post</a> might help to understand what consumes memory in a Java process. You might also be interested in <a href=\"https://aws.amazon.com/blogs/devops/understanding-memory-usage-in-your-java-application-with-amazon-codeguru-profiler/\" rel=\"nofollow noreferrer\">Amazon CodeGuru Profiler</a> for profiling live applications."}],"answers":[{"tags":[],"owner":{"account_id":20351,"reputation":16789,"user_id":48553,"accept_rate":80,"display_name":"Steven Evers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692813367,"creation_date":1692813367,"answer_id":76963819,"question_id":76873432,"body_markdown":"This is a java debugging issue. I can&#39;t help with that, but I can help with the crashing and restarting of the task.\r\n\r\nIn the meantime, you can adjust the [Task Definition][1] for your ECS Task to have a larger Task Size for CPU/Memory so that it stabilizes while you figure out why the service is consuming more memory.\r\n\r\nYou might consider using Fargate as the capacity provider instead of launching on EC2, so that you don&#39;t have conflicts with the Task Size in the Task Definition and the size of the EC2 instances associated with your cluster. You should know that there&#39;s cost implications (in case you&#39;re trying to keep it on EC2 free tier).\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definition_parameters.html","title":"ECS service getting restarted due to OOM error &quot;Container killed due to memory usage&quot;","body":"<p>This is a java debugging issue. I can't help with that, but I can help with the crashing and restarting of the task.</p>\n<p>In the meantime, you can adjust the <a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definition_parameters.html\" rel=\"nofollow noreferrer\">Task Definition</a> for your ECS Task to have a larger Task Size for CPU/Memory so that it stabilizes while you figure out why the service is consuming more memory.</p>\n<p>You might consider using Fargate as the capacity provider instead of launching on EC2, so that you don't have conflicts with the Task Size in the Task Definition and the size of the EC2 instances associated with your cluster. You should know that there's cost implications (in case you're trying to keep it on EC2 free tier).</p>\n"}],"owner":{"account_id":26760409,"reputation":1,"user_id":20358473,"display_name":"Raghav91"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692813367,"creation_date":1691652028,"question_id":76873432,"body_markdown":"I am running a java app hosted on a tomcat server inside a docker container using AWS EC2 (ECS). Recently the java app service is getting restarted after some time. After checking the ECS agent log it is showing OutOfMemoryError.\r\n\r\n**Logs:**\r\n\r\n    Level: INFO\r\n    Message: DockerGoClient: Process within container 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71 (name: &quot;my-java-app10-f8e5abadedfbd0c9d901&quot;) died due to OOM\r\n    Module: docker_client.go\r\n    \r\n    Level: INFO\r\n    Message: Handling container change event\r\n    Task: 3825f1c6-0d3d-4771-bed7-15332dab4ad9\r\n    Container: service-layer\r\n    RuntimeID: 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71\r\n    Status: STOPPED\r\n    \r\n    Level: WARN\r\n    Message: Error stopping the container; marking it as stopped anyway\r\n    Task: 3825f1c6-0d3d-4771-bed7-15332dab4ad9\r\n    Container: service-layer\r\n    RuntimeID: 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71\r\n    ErrorName: OutOfMemoryError\r\n    Error: Container killed due to memory usage\r\n\r\n\r\n\r\n\r\n\r\nI am not able to figure out which java thread/process is consuming memory. I tried below:\r\n\r\n    docker inspect &lt;containerName&gt;\r\n    docker ps --all (This shows Exited 137))\r\n\r\nChecked application logs as well where I could not see any specific calls.\r\n\r\nCan anyone give me clue how should I check which java thread/process is running constantly and consuming memory.\r\nNote that the max memory limit is 1GB and it was working fine earlier with this.","title":"ECS service getting restarted due to OOM error &quot;Container killed due to memory usage&quot;","body":"<p>I am running a java app hosted on a tomcat server inside a docker container using AWS EC2 (ECS). Recently the java app service is getting restarted after some time. After checking the ECS agent log it is showing OutOfMemoryError.</p>\n<p><strong>Logs:</strong></p>\n<pre><code>Level: INFO\nMessage: DockerGoClient: Process within container 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71 (name: &quot;my-java-app10-f8e5abadedfbd0c9d901&quot;) died due to OOM\nModule: docker_client.go\n\nLevel: INFO\nMessage: Handling container change event\nTask: 3825f1c6-0d3d-4771-bed7-15332dab4ad9\nContainer: service-layer\nRuntimeID: 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71\nStatus: STOPPED\n\nLevel: WARN\nMessage: Error stopping the container; marking it as stopped anyway\nTask: 3825f1c6-0d3d-4771-bed7-15332dab4ad9\nContainer: service-layer\nRuntimeID: 02118442aba47dbe536651b90ca1cd64c43ec419ea949dbe8ca3797f0df1dd71\nErrorName: OutOfMemoryError\nError: Container killed due to memory usage\n</code></pre>\n<p>I am not able to figure out which java thread/process is consuming memory. I tried below:</p>\n<pre><code>docker inspect &lt;containerName&gt;\ndocker ps --all (This shows Exited 137))\n</code></pre>\n<p>Checked application logs as well where I could not see any specific calls.</p>\n<p>Can anyone give me clue how should I check which java thread/process is running constantly and consuming memory.\nNote that the max memory limit is 1GB and it was working fine earlier with this.</p>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1692785163,"post_id":76959757,"comment_id":135670543,"body_markdown":"I would stay with the 2.3.1 version as it is the latest release (regarding release date). For more details see the source code: https://github.com/javaee/jaxb-spec","body":"I would stay with the 2.3.1 version as it is the latest release (regarding release date). For more details see the source code: <a href=\"https://github.com/javaee/jaxb-spec\" rel=\"nofollow noreferrer\">github.com/javaee/jaxb-spec</a>"}],"owner":{"account_id":14847159,"reputation":168,"user_id":10722200,"display_name":"Shivaraja HN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692813239,"creation_date":1692780637,"question_id":76959757,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4b9OK.png\r\n\r\n2.4.0-b180725.0427 and 2.4.0-b180830.0359 looks stable but I want to understand why we have versions like *-b*?\r\nCan we use these version in production environment?  ","title":"Why we have central versions like 2.4.0-b180725.0427 and 2.4.0-b180830.0359 in javax.xml.bind &#187; jaxb-api dependecy?","body":"<p><a href=\"https://i.stack.imgur.com/4b9OK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4b9OK.png\" alt=\"enter image description here\" /></a></p>\n<p>2.4.0-b180725.0427 and 2.4.0-b180830.0359 looks stable but I want to understand why we have versions like <em>-b</em>?\nCan we use these version in production environment?</p>\n"},{"tags":["java","maven","gradle","javafx"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":1,"creation_date":1692783588,"post_id":76960030,"comment_id":135670254,"body_markdown":"i think you can do something like this [gradle-plugin-with-maven](https://stackoverflow.com/questions/27555560/how-can-i-build-a-gradle-plugin-with-maven)","body":"i think you can do something like this <a href=\"https://stackoverflow.com/questions/27555560/how-can-i-build-a-gradle-plugin-with-maven\">gradle-plugin-with-maven</a>"},{"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"score":1,"creation_date":1692785778,"post_id":76960030,"comment_id":135670630,"body_markdown":"I think it will do the job, but in the link you posted it doesn&#39;t explain how to build the gradle plugin with maven. I have made a quicksearch and all I can&#39;t find is the opposite (making a gradle plugin from a maven one).","body":"I think it will do the job, but in the link you posted it doesn&#39;t explain how to build the gradle plugin with maven. I have made a quicksearch and all I can&#39;t find is the opposite (making a gradle plugin from a maven one)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1692848612,"post_id":76960030,"comment_id":135680527,"body_markdown":"Consider using the maven-javafx-plugin to create an image of the modular portions and also using the maven-assembly-plugin to copy the non-modular dependencies into the generated output, together with a shell script that places the non-modular dependencies on the classpath or modulepath.  That is a bit tricky to do but possible.  Alternatively use the ackman-jpackage-plugin to create an image using jpackage. Or switch to gradle if you want the exact functionality of the badass jlink or jpackage gradle plugins.","body":"Consider using the maven-javafx-plugin to create an image of the modular portions and also using the maven-assembly-plugin to copy the non-modular dependencies into the generated output, together with a shell script that places the non-modular dependencies on the classpath or modulepath.  That is a bit tricky to do but possible.  Alternatively use the ackman-jpackage-plugin to create an image using jpackage. Or switch to gradle if you want the exact functionality of the badass jlink or jpackage gradle plugins."}],"answers":[{"comments":[{"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"score":1,"creation_date":1692865879,"post_id":76963787,"comment_id":135682861,"body_markdown":"Finally I converted the project to gradle. Thank you","body":"Finally I converted the project to gradle. Thank you"}],"tags":[],"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692813062,"creation_date":1692813062,"answer_id":76963787,"question_id":76960030,"body_markdown":"If your question is: can I apply a Gradle plugin to a consumer project using maven as build tool, the answer is: NO. These are two different build tools, plugins are not compatible each other.\r\n\r\nYou should either convert your maven project to gradle (https://docs.gradle.org/current/userguide/migrating_from_maven.html ), or look for equivalent plugin in the maven ecosystem.\r\n","title":"Using a Gradle Plugin in Maven project","body":"<p>If your question is: can I apply a Gradle plugin to a consumer project using maven as build tool, the answer is: NO. These are two different build tools, plugins are not compatible each other.</p>\n<p>You should either convert your maven project to gradle (<a href=\"https://docs.gradle.org/current/userguide/migrating_from_maven.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/migrating_from_maven.html</a> ), or look for equivalent plugin in the maven ecosystem.</p>\n"}],"owner":{"account_id":9183711,"reputation":25,"user_id":6826736,"display_name":"Nessarose"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76963787,"answer_count":1,"score":0,"last_activity_date":1692813062,"creation_date":1692782907,"question_id":76960030,"body_markdown":"I need to use this gradle plugin https://github.com/beryx/badass-runtime-plugin in my application in order to create a runtime image of my non modular Javafx application. The problem is that I&#39;m using Maven and I don&#39;t know if there&#39;s anyway to use it with Maven. \r\nCan anyone point me in the right direction?\r\nThank you very much","title":"Using a Gradle Plugin in Maven project","body":"<p>I need to use this gradle plugin <a href=\"https://github.com/beryx/badass-runtime-plugin\" rel=\"nofollow noreferrer\">https://github.com/beryx/badass-runtime-plugin</a> in my application in order to create a runtime image of my non modular Javafx application. The problem is that I'm using Maven and I don't know if there's anyway to use it with Maven.\nCan anyone point me in the right direction?\nThank you very much</p>\n"},{"tags":["java","httpurlconnection"],"comments":[{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1692813404,"post_id":76961377,"comment_id":135676516,"body_markdown":"Looks like it should work. Is the activity alive long enough for the Async task to work? Are you sure the device restarts for Post request?","body":"Looks like it should work. Is the activity alive long enough for the Async task to work? Are you sure the device restarts for Post request?"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1692813748,"post_id":76961377,"comment_id":135676590,"body_markdown":"Could even be tiny issue like one of these things are misspelled :-) session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART or need to be URL encoded and so forth..","body":"Could even be tiny issue like one of these things are misspelled :-) session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTA&zwnj;&#8203;RT or need to be URL encoded and so forth.."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1692814279,"post_id":76961377,"comment_id":135676675,"body_markdown":"@Teddy .... the URL was masked due for privacy but I can ensure in the code it&#39;s spelled correctly...anyway I debugged the code and once arrived at the point to send the HTTP and looking at the device if it would restart but it didn&#39;t....","body":"@Teddy .... the URL was masked due for privacy but I can ensure in the code it&#39;s spelled correctly...anyway I debugged the code and once arrived at the point to send the HTTP and looking at the device if it would restart but it didn&#39;t...."},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1692814629,"post_id":76961377,"comment_id":135676739,"body_markdown":"Sorry... I ran out of ideas","body":"Sorry... I ran out of ideas"}],"answers":[{"comments":[{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1692815853,"post_id":76963784,"comment_id":135676981,"body_markdown":"Sorry.. not sure how to proceed.","body":"Sorry.. not sure how to proceed."},{"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"score":0,"creation_date":1692816440,"post_id":76963784,"comment_id":135677075,"body_markdown":"Nevermind.... after a bit of fight I made it working using OkHttp3 ..... it rebooted correctly! Thanks again a lot @Teddy !!!! Maybe that HttpURLConnection was a bit &quot;old&quot; to use for my scope!","body":"Nevermind.... after a bit of fight I made it working using OkHttp3 ..... it rebooted correctly! Thanks again a lot @Teddy !!!! Maybe that HttpURLConnection was a bit &quot;old&quot; to use for my scope!"},{"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"score":0,"creation_date":1692861288,"post_id":76963784,"comment_id":135681968,"body_markdown":"Glad it helped!","body":"Glad it helped!"}],"tags":[],"owner":{"account_id":1446452,"reputation":4027,"user_id":1364747,"accept_rate":69,"display_name":"Teddy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692813041,"creation_date":1692813041,"answer_id":76963784,"question_id":76961377,"body_markdown":"Have you tried OkHttp library?\r\n\r\nHere is one Android POST example with OkHttp..\r\n\r\nhttps://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial ","title":"How to execute http cmmand directly with Android Java?","body":"<p>Have you tried OkHttp library?</p>\n<p>Here is one Android POST example with OkHttp..</p>\n<p><a href=\"https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial</a></p>\n"}],"owner":{"account_id":1608382,"reputation":767,"user_id":1487979,"accept_rate":68,"display_name":"Luigino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76963784,"answer_count":1,"score":1,"last_activity_date":1692813041,"creation_date":1692793835,"question_id":76961377,"body_markdown":"I have a custom device which it&#39;s connected via hotspot with my mobile and through my app I can connect and login to that custom device correctly like :\r\n\r\n    http://x.x.x.x/cgi-bin/web.cgi?action=API&amp;action2=Login&amp;param1=username&amp;param2=password\r\n\r\nusing this connection sequence:\r\n\r\n    url = new URL(URLCommand);\r\n    connection = (HttpURLConnection) url.openConnection();\r\n    \r\n    if (android.os.Build.VERSION.SDK_INT &gt; 9)\r\n    {\r\n    \tStrictMode.ThreadPolicy policy;\r\n    \tpolicy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    \tStrictMode.setThreadPolicy(policy);\r\n    }\r\n    \r\n    int responseCode = connection.getResponseCode();\r\n    if (responseCode == HttpURLConnection.HTTP_OK || responseCode == HttpURLConnection.HTTP_CREATED) {\r\n\r\nand I can obtain correctly `responseCode = 200` which is OK.\r\nThen I try to send another HTTP url to try to restart that custom device like:\r\n\r\n    http://x.x.x.x/cgi-bin/web.cgi?session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART\r\n\r\nusing as POST:\r\n\r\n    url = new URL(URLCommand);\r\n    connectionForCommand = (HttpURLConnection) url.openConnection();\r\n    connectionForCommand.setRequestMethod(&quot;POST&quot;);\r\n    connectionForCommand.setDoOutput(true);\r\n    BufferedReader responseReader = new BufferedReader(new InputStreamReader(connectionForCommand.getInputStream()));\r\n    String responseData = responseReader.readLine();\r\n\r\nso I thought that `setDoOutput(true)` would &quot;execute&quot; that url and make that custom device to reboot...\r\n\r\nI tried also to put this code above inside thread using lambda as like as :\r\n\r\n    Thread = () -&gt; {}\r\n\r\nto avoid `IOException` about running it in DialogFragment&#39;s main activity but it didn&#39;t worked. \r\nIs there maybe a way to execute that http without using any third parts? Or do I have to use any only third parts to reach that goal because HttpURLConnection doesn&#39;t fit for that? Thanks! Cheers\r\n\r\n**EDIT:**\r\n\r\nI tried also using Volley library doing a StringRequest like :\r\n\r\n    new Thread(() -&gt; {\r\n    \r\n    \turlPostRequest = &quot;http://x.x.x.x/cgi-bin/web.cgi?session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART&quot;;\r\n    \ttry{\r\n    \t\tRequestQueue arq = Volley.newRequestQueue(getContext());\r\n    \t\tarq.getCache().clear();\r\n    \r\n    \t\tStringRequest urlPostRequest = new StringRequest(Request.Method.POST, URLCommand,\r\n    \t\t\tnew Response.Listener&lt;String&gt;() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onResponse(String response) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tJSONObject obj = new JSONObject(response);\r\n    \t\t\t\t\t\tString  value= obj.getString(&quot;value&quot;);\r\n    \t\t\t\t\t\tshowAlert(&quot;LogCat&quot;, value.toString());\r\n    \t\t\t\t\t} catch(JSONException e) { e.printStackTrace(); \r\n    \t\t\t\t}\r\n    \t\t\t}, new Response.ErrorListener() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tpublic void onErrorResponse(VolleyError error) {\r\n    \t\t\t\t\tshowAlert(&quot;LogCat&quot;, getActivity().getResources().getString(R.string.st_errorresponse));\r\n    \t\t\t\t}\r\n    \t\t});\r\n    \t\tarq.add(urlPostRequest);\r\n    \t} catch (Exception e) { e.printStackTrace(); }\r\n    \r\n    }).start();\r\n\r\nbut neither this way didn&#39;t worked even I settled as POST....maybe I missed something to consider?... \r\n","title":"How to execute http cmmand directly with Android Java?","body":"<p>I have a custom device which it's connected via hotspot with my mobile and through my app I can connect and login to that custom device correctly like :</p>\n<pre><code>http://x.x.x.x/cgi-bin/web.cgi?action=API&amp;action2=Login&amp;param1=username&amp;param2=password\n</code></pre>\n<p>using this connection sequence:</p>\n<pre><code>url = new URL(URLCommand);\nconnection = (HttpURLConnection) url.openConnection();\n\nif (android.os.Build.VERSION.SDK_INT &gt; 9)\n{\n    StrictMode.ThreadPolicy policy;\n    policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n    StrictMode.setThreadPolicy(policy);\n}\n\nint responseCode = connection.getResponseCode();\nif (responseCode == HttpURLConnection.HTTP_OK || responseCode == HttpURLConnection.HTTP_CREATED) {\n</code></pre>\n<p>and I can obtain correctly <code>responseCode = 200</code> which is OK.\nThen I try to send another HTTP url to try to restart that custom device like:</p>\n<pre><code>http://x.x.x.x/cgi-bin/web.cgi?session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART\n</code></pre>\n<p>using as POST:</p>\n<pre><code>url = new URL(URLCommand);\nconnectionForCommand = (HttpURLConnection) url.openConnection();\nconnectionForCommand.setRequestMethod(&quot;POST&quot;);\nconnectionForCommand.setDoOutput(true);\nBufferedReader responseReader = new BufferedReader(new InputStreamReader(connectionForCommand.getInputStream()));\nString responseData = responseReader.readLine();\n</code></pre>\n<p>so I thought that <code>setDoOutput(true)</code> would &quot;execute&quot; that url and make that custom device to reboot...</p>\n<p>I tried also to put this code above inside thread using lambda as like as :</p>\n<pre><code>Thread = () -&gt; {}\n</code></pre>\n<p>to avoid <code>IOException</code> about running it in DialogFragment's main activity but it didn't worked.\nIs there maybe a way to execute that http without using any third parts? Or do I have to use any only third parts to reach that goal because HttpURLConnection doesn't fit for that? Thanks! Cheers</p>\n<p><strong>EDIT:</strong></p>\n<p>I tried also using Volley library doing a StringRequest like :</p>\n<pre><code>new Thread(() -&gt; {\n\n    urlPostRequest = &quot;http://x.x.x.x/cgi-bin/web.cgi?session_id=xxxxxxxxxx&amp;action=API&amp;action2=value1&amp;param1=RESTART&quot;;\n    try{\n        RequestQueue arq = Volley.newRequestQueue(getContext());\n        arq.getCache().clear();\n\n        StringRequest urlPostRequest = new StringRequest(Request.Method.POST, URLCommand,\n            new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    try {\n                        JSONObject obj = new JSONObject(response);\n                        String  value= obj.getString(&quot;value&quot;);\n                        showAlert(&quot;LogCat&quot;, value.toString());\n                    } catch(JSONException e) { e.printStackTrace(); \n                }\n            }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    showAlert(&quot;LogCat&quot;, getActivity().getResources().getString(R.string.st_errorresponse));\n                }\n        });\n        arq.add(urlPostRequest);\n    } catch (Exception e) { e.printStackTrace(); }\n\n}).start();\n</code></pre>\n<p>but neither this way didn't worked even I settled as POST....maybe I missed something to consider?...</p>\n"},{"tags":["java","encoding","spring-batch"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1510738927,"post_id":47303899,"comment_id":81558560,"body_markdown":"&quot;My question is that why when i try to set the itemReader encoding to utf-8 still persist ?&quot; - Um, because the file isn&#39;t in UTF-8. Its not clear what you&#39;re asking, to be honest.","body":"&quot;My question is that why when i try to set the itemReader encoding to utf-8 still persist ?&quot; - Um, because the file isn&#39;t in UTF-8. Its not clear what you&#39;re asking, to be honest."},{"owner":{"account_id":11808391,"reputation":283,"user_id":8640353,"accept_rate":76,"display_name":"Feres.o"},"score":0,"creation_date":1510739246,"post_id":47303899,"comment_id":81558747,"body_markdown":"i update the post","body":"i update the post"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1510739296,"post_id":47303899,"comment_id":81558782,"body_markdown":"I suspect you don&#39;t understand how encodings work. If a file is encoded in ISO-8859-1 and you try to read it using UTF-8, it&#39;s a bit like trying to use a PNG reader to load a JPEG image. UTF-8 can represent every character in Unicode, but that doesn&#39;t mean you can arbitrarily use it for files that are encoded in a different encoding.","body":"I suspect you don&#39;t understand how encodings work. If a file is encoded in ISO-8859-1 and you try to read it using UTF-8, it&#39;s a bit like trying to use a PNG reader to load a JPEG image. UTF-8 can represent every character in Unicode, but that doesn&#39;t mean you can arbitrarily use it for files that are encoded in a different encoding."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1510739357,"post_id":47303899,"comment_id":81558822,"body_markdown":"You might want to read http://csharpindepth.com/Articles/General/Unicode.aspx - it&#39;s phrased in terms of C#, but the concepts are the same.","body":"You might want to read <a href=\"http://csharpindepth.com/Articles/General/Unicode.aspx\" rel=\"nofollow noreferrer\">csharpindepth.com/Articles/General/Unicode.aspx</a> - it&#39;s phrased in terms of C#, but the concepts are the same."},{"owner":{"account_id":11808391,"reputation":283,"user_id":8640353,"accept_rate":76,"display_name":"Feres.o"},"score":0,"creation_date":1510739438,"post_id":47303899,"comment_id":81558880,"body_markdown":"Ok, so there no the concept of a global encode that is capable to read any format. i should use the same encoding as mentioned on notepadd ++","body":"Ok, so there no the concept of a global encode that is capable to read any format. i should use the same encoding as mentioned on notepadd ++"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1510739503,"post_id":47303899,"comment_id":81558926,"body_markdown":"Well &quot;ANSI&quot; isn&#39;t a single encoding either. If you can change what&#39;s producing the CSV files to output UTF-8, that would be the best thing. But if you can&#39;t change that, you should find out what encoding it&#39;s using (without just relying on Notepad++).","body":"Well &quot;ANSI&quot; isn&#39;t a single encoding either. If you can change what&#39;s producing the CSV files to output UTF-8, that would be the best thing. But if you can&#39;t change that, you should find out what encoding it&#39;s using (without just relying on Notepad++)."},{"owner":{"account_id":11808391,"reputation":283,"user_id":8640353,"accept_rate":76,"display_name":"Feres.o"},"score":0,"creation_date":1510739602,"post_id":47303899,"comment_id":81558994,"body_markdown":"Thank you very much for your kind help and clarifications","body":"Thank you very much for your kind help and clarifications"}],"answers":[{"tags":[],"owner":{"account_id":5745135,"reputation":306,"user_id":4536579,"display_name":"zedtimi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527834985,"creation_date":1527834985,"answer_id":50637423,"question_id":47303899,"body_markdown":"i use the same encoding &quot;ISO-8859-1&quot;, all character are displayed correctly.","title":"What is the proper encoding to use with item Reader","body":"<p>i use the same encoding \"ISO-8859-1\", all character are displayed correctly.</p>\n"},{"comments":[{"owner":{"account_id":14141257,"reputation":141,"user_id":10215969,"display_name":"ankush__"},"score":0,"creation_date":1689820314,"post_id":52300932,"comment_id":135268597,"body_markdown":"Default encoding in FlatFileItemReader is UTF-8 as per document you have shared. Please correct me if I&#39;m wrong.","body":"Default encoding in FlatFileItemReader is UTF-8 as per document you have shared. Please correct me if I&#39;m wrong."},{"owner":{"account_id":4104614,"reputation":180,"user_id":3369103,"display_name":"Guardian"},"score":0,"creation_date":1692787501,"post_id":52300932,"comment_id":135670955,"body_markdown":"You are right @ankush__ , the default encoding set in AbstractFileItemWriter is utf-8","body":"You are right @ankush__ , the default encoding set in AbstractFileItemWriter is utf-8"},{"owner":{"account_id":7776014,"reputation":905,"user_id":5884126,"accept_rate":29,"display_name":"PixelMaster"},"score":0,"creation_date":1692811021,"post_id":52300932,"comment_id":135676112,"body_markdown":"@ankush__ I have not worked with Spring Batch for years, but I think the default has simply changed since 2018 when I originally wrote the answer. Checking older versions of the linked document confirms this. For example, Spring Batch version 4.0.1 RELEASE shows default encoding ISO-8859-1: https://docs.spring.io/spring-batch/docs/4.0.1.RELEASE/reference/html/readersAndWriters.html#readersAndWriters","body":"@ankush__ I have not worked with Spring Batch for years, but I think the default has simply changed since 2018 when I originally wrote the answer. Checking older versions of the linked document confirms this. For example, Spring Batch version 4.0.1 RELEASE shows default encoding ISO-8859-1: <a href=\"https://docs.spring.io/spring-batch/docs/4.0.1.RELEASE/reference/html/readersAndWriters.html#readersAndWriters\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/4.0.1.RELEASE/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":14141257,"reputation":141,"user_id":10215969,"display_name":"ankush__"},"score":0,"creation_date":1692936613,"post_id":52300932,"comment_id":135695056,"body_markdown":"Thanks. You are right that default encoding has changed.","body":"Thanks. You are right that default encoding has changed."}],"tags":[],"owner":{"account_id":7776014,"reputation":905,"user_id":5884126,"accept_rate":29,"display_name":"PixelMaster"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1692811242,"creation_date":1536774778,"answer_id":52300932,"question_id":47303899,"body_markdown":"I had the same problem. Input file is ANSI, and &quot;&#252;&quot; gets displayed as a square in the output.\r\n\r\nThat&#39;s because your input file is encoded in ANSI, but by default, [Spring Batch assumes ISO-8859-1 encoding][1] (6.6.2 FlatFileItemReader).  \r\n*Update 2023:* in newer versions, the default is UTF-8, but back when the question was posted, it was ISO-8859-1 instead, as verifiable by checking older versions of the linked document; for instance, [version 4.0.1.RELEASE][2]. I&#39;m not sure which version was current back then, but the point remains the same either way.\r\n\r\nTherefore, you have to set the encoding for your reader to &quot;Cp1252&quot; (`setEncoding(&quot;Cp1252&quot;)`) - [that&#39;s how Java refers to ANSI encoding.][3]\r\n\r\nFurthermore, you will have to set your writer&#39;s encoding to &quot;utf-8&quot;. I&#39;m not entirely sure why it doesn&#39;t work with other encodings (that are generally able to display &quot;&#252;&quot;, such as ISO-8859-1), but it works with UTF-8, so that&#39;s what I&#39;m using.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/trunk/reference/html/readersAndWriters.html\r\n  [2]: https://docs.spring.io/spring-batch/docs/4.0.1.RELEASE/reference/html/readersAndWriters.html#readersAndWriters\r\n  [3]: https://stackoverflow.com/questions/18556104/read-and-write-text-in-ansi-format","title":"What is the proper encoding to use with item Reader","body":"<p>I had the same problem. Input file is ANSI, and &quot;ü&quot; gets displayed as a square in the output.</p>\n<p>That's because your input file is encoded in ANSI, but by default, <a href=\"https://docs.spring.io/spring-batch/trunk/reference/html/readersAndWriters.html\" rel=\"nofollow noreferrer\">Spring Batch assumes ISO-8859-1 encoding</a> (6.6.2 FlatFileItemReader).<br />\n<em>Update 2023:</em> in newer versions, the default is UTF-8, but back when the question was posted, it was ISO-8859-1 instead, as verifiable by checking older versions of the linked document; for instance, <a href=\"https://docs.spring.io/spring-batch/docs/4.0.1.RELEASE/reference/html/readersAndWriters.html#readersAndWriters\" rel=\"nofollow noreferrer\">version 4.0.1.RELEASE</a>. I'm not sure which version was current back then, but the point remains the same either way.</p>\n<p>Therefore, you have to set the encoding for your reader to &quot;Cp1252&quot; (<code>setEncoding(&quot;Cp1252&quot;)</code>) - <a href=\"https://stackoverflow.com/questions/18556104/read-and-write-text-in-ansi-format\">that's how Java refers to ANSI encoding.</a></p>\n<p>Furthermore, you will have to set your writer's encoding to &quot;utf-8&quot;. I'm not entirely sure why it doesn't work with other encodings (that are generally able to display &quot;ü&quot;, such as ISO-8859-1), but it works with UTF-8, so that's what I'm using.</p>\n"}],"owner":{"account_id":11808391,"reputation":283,"user_id":8640353,"accept_rate":76,"display_name":"Feres.o"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9910,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1692811242,"creation_date":1510738754,"question_id":47303899,"body_markdown":"I&#39;m using spring batch to read csv files, when I open these files with Notepad++ I see that the used encode is `encode in ANSI`.\r\nNow when reading a line from a file, I notice that all accent character are not shown correctly. For example let&#39;s take this line:\r\n\r\n    Donn&#233;es issues de la reprise des donn&#233;es\r\n\r\nIt&#39;s transformed to be like this one with some special characters:\r\n \r\n[![enter image description here][1]][1]\r\n\r\nSo as first solution I set the encode for my Item Reader to `utf-8` but the problem still exist. \r\n \r\n\r\n - I thought that with `UTF-8` encoding all my accent characters will be recognized, is that not true ?  from what I heard UTF-8 is the best encoding to use to handle all character on web page for example ?\r\n\r\n\r\nAfter setting my item Reader encoding to `ISO-8859-1`: \r\n\r\n    public class TestItemReader extends FlatFileItemReader&lt;TestFileRow&gt; {\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(TestItemReader.class);\r\n        public ScelleItemReader(String path) {\r\n    \r\n            this.setResource( new FileSystemResource(path + &quot;/Test.csv&quot;));\r\n            this.setEncoding(&quot;ISO-8859-1&quot;);\r\n\r\nI cant see that these character are now displayed correctly. \r\n\r\n \r\n\r\n - As output I should write with `utf-8` as encoding, did this is correct if I use `ISO-8859-1` as encoding input and `utf-8` as output?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xDjA5.png\r\n","title":"What is the proper encoding to use with item Reader","body":"<p>I'm using spring batch to read csv files, when I open these files with Notepad++ I see that the used encode is <code>encode in ANSI</code>.\nNow when reading a line from a file, I notice that all accent character are not shown correctly. For example let's take this line:</p>\n\n<pre><code>Données issues de la reprise des données\n</code></pre>\n\n<p>It's transformed to be like this one with some special characters:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xDjA5.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xDjA5.png\" alt=\"enter image description here\"></a></p>\n\n<p>So as first solution I set the encode for my Item Reader to <code>utf-8</code> but the problem still exist. </p>\n\n<ul>\n<li>I thought that with <code>UTF-8</code> encoding all my accent characters will be recognized, is that not true ?  from what I heard UTF-8 is the best encoding to use to handle all character on web page for example ?</li>\n</ul>\n\n<p>After setting my item Reader encoding to <code>ISO-8859-1</code>: </p>\n\n<pre><code>public class TestItemReader extends FlatFileItemReader&lt;TestFileRow&gt; {\n\n    private static final Logger log = LoggerFactory.getLogger(TestItemReader.class);\n    public ScelleItemReader(String path) {\n\n        this.setResource( new FileSystemResource(path + \"/Test.csv\"));\n        this.setEncoding(\"ISO-8859-1\");\n</code></pre>\n\n<p>I cant see that these character are now displayed correctly. </p>\n\n<ul>\n<li>As output I should write with <code>utf-8</code> as encoding, did this is correct if I use <code>ISO-8859-1</code> as encoding input and <code>utf-8</code> as output?</li>\n</ul>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":3737085,"reputation":8822,"user_id":3107798,"accept_rate":50,"display_name":"jjbskir"},"score":0,"creation_date":1686759686,"post_id":65570934,"comment_id":134844411,"body_markdown":"Does this answer your question? [How to check if bucket already exists in AWS S3](https://stackoverflow.com/questions/62940476/how-to-check-if-bucket-already-exists-in-aws-s3)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62940476/how-to-check-if-bucket-already-exists-in-aws-s3\">How to check if bucket already exists in AWS S3</a>"}],"answers":[{"comments":[{"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"score":0,"creation_date":1609801560,"post_id":65570968,"comment_id":115931605,"body_markdown":"How do you list with prefix and check if there are items?","body":"How do you list with prefix and check if there are items?"}],"tags":[],"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1609801039,"creation_date":1609801039,"answer_id":65570968,"question_id":65570934,"body_markdown":"S3 doesn&#39;t have folders, it only has buckets and objects. Most developers use the `/` character to semantically organize object names, but S3 doesn&#39;t have a directory structure the way that filesystems do. In particular, there can never be such a thing as an &quot;empty directory&quot; on S3.\r\n\r\nThe closest you can do is to list based on a prefix.","title":"Check if a &quot;folder&quot; exists in S3","body":"<p>S3 doesn't have folders, it only has buckets and objects. Most developers use the <code>/</code> character to semantically organize object names, but S3 doesn't have a directory structure the way that filesystems do. In particular, there can never be such a thing as an &quot;empty directory&quot; on S3.</p>\n<p>The closest you can do is to list based on a prefix.</p>\n"},{"comments":[{"owner":{"account_id":4687856,"reputation":2198,"user_id":3794798,"accept_rate":90,"display_name":"kkochanski"},"score":1,"creation_date":1634203601,"post_id":65571087,"comment_id":122964292,"body_markdown":"Important note, ensure that `key` will end with `/`. If won&#39;t, then files with the same beginning will be taken into account as well. E.g. dir `abc`, file `abcd`. Once passing `abc` in key, `abcd` file will be taken into account.","body":"Important note, ensure that <code>key</code> will end with <code>&#47;</code>. If won&#39;t, then files with the same beginning will be taken into account as well. E.g. dir <code>abc</code>, file <code>abcd</code>. Once passing <code>abc</code> in key, <code>abcd</code> file will be taken into account."}],"tags":[],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1609801865,"creation_date":1609801865,"answer_id":65571087,"question_id":65570934,"body_markdown":"The solution to this is to do:\r\n\r\n```java\r\npublic boolean isExists(String key) {\r\n    ListObjectsV2Result result = this.s3Client.listObjectsV2(this.bucketName, key);\r\n    return result.getKeyCount() &gt; 0;\r\n}\r\n```\r\n\r\nAn empty &quot;folder&quot; (virtually speaking) would return key count of 1. \r\n\r\n    ","title":"Check if a &quot;folder&quot; exists in S3","body":"<p>The solution to this is to do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isExists(String key) {\n    ListObjectsV2Result result = this.s3Client.listObjectsV2(this.bucketName, key);\n    return result.getKeyCount() &gt; 0;\n}\n</code></pre>\n<p>An empty &quot;folder&quot; (virtually speaking) would return key count of 1.</p>\n"},{"tags":[],"owner":{"account_id":7240256,"reputation":77,"user_id":5524058,"display_name":"Ricardo Rubik Ruiz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637035049,"creation_date":1637035049,"answer_id":69983583,"question_id":65570934,"body_markdown":"The method `listObjectsV2(bucketName, key)` in the example provided by quarks is deprecated, this is how it should be now:\r\n\r\n```java\r\n  public boolean doesKeyExist(String bucket, String key) {\r\n    ListObjectsV2Response listObjects =\r\n        s3Client.listObjectsV2(ListObjectsV2Request.builder().bucket(bucket).prefix(key).build());\r\n    return !listObjects.contents().isEmpty();\r\n  }\r\n```","title":"Check if a &quot;folder&quot; exists in S3","body":"<p>The method <code>listObjectsV2(bucketName, key)</code> in the example provided by quarks is deprecated, this is how it should be now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public boolean doesKeyExist(String bucket, String key) {\n    ListObjectsV2Response listObjects =\n        s3Client.listObjectsV2(ListObjectsV2Request.builder().bucket(bucket).prefix(key).build());\n    return !listObjects.contents().isEmpty();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2786445,"reputation":1094,"user_id":2397723,"accept_rate":54,"display_name":"Comencau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692811144,"creation_date":1692811144,"answer_id":76963568,"question_id":65570934,"body_markdown":"    /**\r\n     * Check if it exists at least 1 key in the bucket beginning with the given prefix. Functionally, it checks if a S3 &quot;folder&quot; exists.\r\n     * The given input (the prefix) S3 key must end with &quot;/&quot; to avoid accidentally handling &quot;abcd&quot; S3 object whereas we want to handle objects with &quot;abc/&quot; prefix (i.e. in the &quot;abc&quot; folder).\r\n     *\r\n     * @param bucket the S3 Bucket name\r\n     * @param prefix the prefix (can be considered as the S3 &quot;folder&quot;). Must end with &quot;/&quot;\r\n     * @return if the folder exists &lt;=&gt; if there is at least 1 S3 object with this prefix\r\n     */\r\n    public boolean prefixOrFolderExists(String bucket, String prefix) {\r\n        if (!prefix.endsWith(&quot;/&quot;)) {\r\n            throw new IllegalArgumentException(&quot;We want to check if a S3 folder exists. The S3 prefix should end with &#39;/&#39;.&quot;);\r\n        }\r\n        // just retrieve 1 key maximum with &#39;.maxKeys(1)&#39;. It is enough to check if the folder exists and it will save some bytes in the network.  \r\n        ListObjectsV2Response response = s3Client.listObjectsV2(b -&gt; b.bucket(bucket).prefix(prefix).maxKeys(1));\r\n        return response.keyCount() &gt; 0;\r\n    }","title":"Check if a &quot;folder&quot; exists in S3","body":"<pre><code>/**\n * Check if it exists at least 1 key in the bucket beginning with the given prefix. Functionally, it checks if a S3 &quot;folder&quot; exists.\n * The given input (the prefix) S3 key must end with &quot;/&quot; to avoid accidentally handling &quot;abcd&quot; S3 object whereas we want to handle objects with &quot;abc/&quot; prefix (i.e. in the &quot;abc&quot; folder).\n *\n * @param bucket the S3 Bucket name\n * @param prefix the prefix (can be considered as the S3 &quot;folder&quot;). Must end with &quot;/&quot;\n * @return if the folder exists &lt;=&gt; if there is at least 1 S3 object with this prefix\n */\npublic boolean prefixOrFolderExists(String bucket, String prefix) {\n    if (!prefix.endsWith(&quot;/&quot;)) {\n        throw new IllegalArgumentException(&quot;We want to check if a S3 folder exists. The S3 prefix should end with '/'.&quot;);\n    }\n    // just retrieve 1 key maximum with '.maxKeys(1)'. It is enough to check if the folder exists and it will save some bytes in the network.  \n    ListObjectsV2Response response = s3Client.listObjectsV2(b -&gt; b.bucket(bucket).prefix(prefix).maxKeys(1));\n    return response.keyCount() &gt; 0;\n}\n</code></pre>\n"}],"owner":{"account_id":18436169,"reputation":991,"user_id":13429959,"display_name":"Fireburn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7183,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65571087,"answer_count":4,"score":2,"last_activity_date":1692811144,"creation_date":1609800787,"question_id":65570934,"body_markdown":"I&#39;m having a bit of trouble with this code:\r\n\r\n```java\r\npublic boolean isExists(String key) {\r\n    try {\r\n        this.s3Client.getObjectMetadata(this.bucketName, key);\r\n        return true;\r\n    } catch (AmazonServiceException var3) {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nIt always returns false, even if the &quot;folder&quot; in S3 exists (either empty or non-empty), what could be wrong? \r\n\r\nThe `s3Client` in the code above is just a simple *AmazonS3* client:\r\n\r\n```java\r\nAmazonS3 s3client = AmazonS3ClientBuilder\r\n    .standard()\r\n    .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n    .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(objectStoreEndpoint, objectStoreRegion))\r\n    .build();\r\n```\r\n\r\nWhat&#39;s the proper way to **check if folder exists in S3**?","title":"Check if a &quot;folder&quot; exists in S3","body":"<p>I'm having a bit of trouble with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean isExists(String key) {\n    try {\n        this.s3Client.getObjectMetadata(this.bucketName, key);\n        return true;\n    } catch (AmazonServiceException var3) {\n        return false;\n    }\n}\n</code></pre>\n<p>It always returns false, even if the &quot;folder&quot; in S3 exists (either empty or non-empty), what could be wrong?</p>\n<p>The <code>s3Client</code> in the code above is just a simple <em>AmazonS3</em> client:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AmazonS3 s3client = AmazonS3ClientBuilder\n    .standard()\n    .withCredentials(new AWSStaticCredentialsProvider(credentials))\n    .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(objectStoreEndpoint, objectStoreRegion))\n    .build();\n</code></pre>\n<p>What's the proper way to <strong>check if folder exists in S3</strong>?</p>\n"},{"tags":["java","spring","spring-boot","authentication","angular7"],"comments":[{"owner":{"account_id":16282198,"reputation":11,"user_id":11757792,"display_name":"MONI SHANKAR"},"score":0,"creation_date":1562653069,"post_id":56946280,"comment_id":100432034,"body_markdown":"Which plugin should i add??","body":"Which plugin should i add??"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1562653312,"post_id":56946280,"comment_id":100432125,"body_markdown":"You shouldn&#39;t add any chrome plugin. EIther your backend API is indeed supposed, once in production, to be called from other domains/ports, and you should add CORS support on your backend API, or it shouldn&#39;t, and your development environment should thus mimic the production environment by serving the backend and the frontend from the same host/port. You typically do that by using the Angular CLI server as a proxy to your backend API. https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md","body":"You shouldn&#39;t add any chrome plugin. EIther your backend API is indeed supposed, once in production, to be called from other domains/ports, and you should add CORS support on your backend API, or it shouldn&#39;t, and your development environment should thus mimic the production environment by serving the backend and the frontend from the same host/port. You typically do that by using the Angular CLI server as a proxy to your backend API. <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/blob/master/docs/documentatio&zwnj;&#8203;n/&hellip;</a>"},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1562653587,"post_id":56946280,"comment_id":100432242,"body_markdown":"@Sachi.Dila don&#39;t suggest solutions that compromise someones web security without warning them. When you install a cors plugin, you allow any site to access any other site including allowing access to gmail.com from attacker.example.com. There have been attacks like this in the past for the careless developers who don&#39;t understand why a certain protection is in place","body":"@Sachi.Dila don&#39;t suggest solutions that compromise someones web security without warning them. When you install a cors plugin, you allow any site to access any other site including allowing access to gmail.com from attacker.example.com. There have been attacks like this in the past for the careless developers who don&#39;t understand why a certain protection is in place"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1562653626,"post_id":56946280,"comment_id":100432259,"body_markdown":"AFAIR when you want to allow authenticated access from different origins and these requests not being stopped by your browser, your backend must explicitely &quot;allow&quot; these origins telling the browser via the &quot;Access-Control-Allow-Origin&quot; header listing the allowed origins.","body":"AFAIR when you want to allow authenticated access from different origins and these requests not being stopped by your browser, your backend must explicitely &quot;allow&quot; these origins telling the browser via the &quot;Access-Control-Allow-Origin&quot; header listing the allowed origins."},{"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"score":0,"creation_date":1562654965,"post_id":56946280,"comment_id":100432882,"body_markdown":"@MONI SHANKAR please try using my code I think it solves your issue.","body":"@MONI SHANKAR please try using my code I think it solves your issue."}],"answers":[{"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1562653528,"post_id":56946413,"comment_id":100432221,"body_markdown":"Does this work with authentication? Last time I checked, a &quot;*&quot; allowed origin is interpreted from browsers as &quot;insecure&quot; and thus does not allow authentication headers being sent.","body":"Does this work with authentication? Last time I checked, a &quot;*&quot; allowed origin is interpreted from browsers as &quot;insecure&quot; and thus does not allow authentication headers being sent."},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1562653735,"post_id":56946413,"comment_id":100432299,"body_markdown":"I refer to https://stackoverflow.com/questions/19743396/cors-cannot-use-wildcard-in-access-control-allow-origin-when-credentials-flag-i","body":"I refer to <a href=\"https://stackoverflow.com/questions/19743396/cors-cannot-use-wildcard-in-access-control-allow-origin-when-credentials-flag-i\" title=\"cors cannot use wildcard in access control allow origin when credentials flag i\">stackoverflow.com/questions/19743396/&hellip;</a>"}],"tags":[],"owner":{"account_id":5351903,"reputation":1369,"user_id":4265824,"accept_rate":45,"display_name":"Ganesh Gudghe"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562653332,"creation_date":1562653332,"answer_id":56946413,"question_id":56946280,"body_markdown":"I also had the same issue with angulat7 and spring boot I resolved by adding the following configuration\r\n\r\n   \r\n\r\n     @Configuration\r\n        public class SpringDataRestConfiguration extends RepositoryRestConfigurerAdapter {\r\n       \r\n        \t@Override\r\n        \tpublic void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n      \r\n    \t\tconfig.getCorsRegistry().addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedHeaders(&quot;*&quot;).allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PATCH&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\r\n        \t}\r\n        \r\n        }","title":"has been blocked by CORS policy: Response to preflight request doesn&#39;t pass","body":"<p>I also had the same issue with angulat7 and spring boot I resolved by adding the following configuration</p>\n\n<pre><code> @Configuration\n    public class SpringDataRestConfiguration extends RepositoryRestConfigurerAdapter {\n\n        @Override\n        public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n\n        config.getCorsRegistry().addMapping(\"/**\").allowedOrigins(\"*\").allowedHeaders(\"*\").allowedMethods(\"GET\", \"POST\", \"PATCH\", \"PUT\", \"DELETE\");\n        }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16282198,"reputation":11,"user_id":11757792,"display_name":"MONI SHANKAR"},"score":0,"creation_date":1562654157,"post_id":56946488,"comment_id":100432472,"body_markdown":"@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n\n@RestController\npublic class HelloWordlController {\n\t\n\t@GetMapping(path = &quot;/hello-world&quot;)\n\tpublic String helloWorld() ...... That part i already added and i tried with ur code as well but it is not working bro","body":"@CrossOrigin(origins = &quot;<a href=\"http://localhost:4200&quot;\" rel=\"nofollow noreferrer\">localhost:4200&quot;</a>)  @RestController public class HelloWordlController { \t \t@GetMapping(path = &quot;/hello-world&quot;) \tpublic String helloWorld() ...... That part i already added and i tried with ur code as well but it is not working bro"},{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":0,"creation_date":1562654365,"post_id":56946488,"comment_id":100432569,"body_markdown":"@MONISHANKAR have you added the allowance of credentials? Otherwise your browser won&#39;t send any.","body":"@MONISHANKAR have you added the allowance of credentials? Otherwise your browser won&#39;t send any."},{"owner":{"account_id":5162774,"reputation":1440,"user_id":4133874,"accept_rate":100,"display_name":"Sagar Chilukuri"},"score":0,"creation_date":1562654421,"post_id":56946488,"comment_id":100432590,"body_markdown":"@MONISHANKAR, added `filters` based solution. Please check once","body":"@MONISHANKAR, added <code>filters</code> based solution. Please check once"},{"owner":{"account_id":16282198,"reputation":11,"user_id":11757792,"display_name":"MONI SHANKAR"},"score":0,"creation_date":1562654787,"post_id":56946488,"comment_id":100432774,"body_markdown":"@SagarCh thanks for ur code but i think ur code is related servlet and m using angular7 with springboot security..M not sure whether it will work or not..","body":"@SagarCh thanks for ur code but i think ur code is related servlet and m using angular7 with springboot security..M not sure whether it will work or not.."}],"tags":[],"owner":{"account_id":5162774,"reputation":1440,"user_id":4133874,"accept_rate":100,"display_name":"Sagar Chilukuri"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562654391,"creation_date":1562653817,"answer_id":56946488,"question_id":56946280,"body_markdown":"You could try the following\r\nAt the top of the `controller`, you can add `@CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)` or customise if required\r\n\r\n    ...\r\n    @CrossOrigin(origins = &quot;*&quot;, allowedHeaders = &quot;*&quot;)\r\n    @RestController\r\n    public class UserController {\r\n        // Methods\r\n    }\r\n    ...\r\n\r\nPlease try above solution and let me know if this doesnt work\r\n\r\n**EDIT 1:**\r\nYou could also try to create a filter with `CORS` options:\r\n\r\n    import java.io.IOException;\r\n\r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletResponse;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    @Order(1)\r\n    public class SimpleCORSFilter implements Filter {\r\n\r\n        private final Logger log = LoggerFactory.getLogger(SimpleCORSFilter.class);\r\n\r\n        public SimpleCORSFilter() {\r\n            log.info(&quot;SimpleCORSFilter init&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\r\n                throws IOException, ServletException {\r\n\r\n            // HttpServletRequest request = (HttpServletRequest) req;\r\n            HttpServletResponse response = (HttpServletResponse) res;\r\n\r\n            response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;POST, GET, OPTIONS, DELETE&quot;);\r\n            response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n            response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Accept, X-Requested-With, remember-me&quot;);\r\n\r\n            chain.doFilter(req, res);\r\n        }\r\n\r\n        @Override\r\n        public void init(FilterConfig filterConfig) {\r\n        }\r\n\r\n        @Override\r\n        public void destroy() {\r\n        }\r\n\r\n    }\r\n\r\nPlease try with the `filters` method and let me know if it doesn&#39;t work","title":"has been blocked by CORS policy: Response to preflight request doesn&#39;t pass","body":"<p>You could try the following\nAt the top of the <code>controller</code>, you can add <code>@CrossOrigin(origins = \"*\", allowedHeaders = \"*\")</code> or customise if required</p>\n\n<pre><code>...\n@CrossOrigin(origins = \"*\", allowedHeaders = \"*\")\n@RestController\npublic class UserController {\n    // Methods\n}\n...\n</code></pre>\n\n<p>Please try above solution and let me know if this doesnt work</p>\n\n<p><strong>EDIT 1:</strong>\nYou could also try to create a filter with <code>CORS</code> options:</p>\n\n<pre><code>import java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Order(1)\npublic class SimpleCORSFilter implements Filter {\n\n    private final Logger log = LoggerFactory.getLogger(SimpleCORSFilter.class);\n\n    public SimpleCORSFilter() {\n        log.info(\"SimpleCORSFilter init\");\n    }\n\n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain)\n            throws IOException, ServletException {\n\n        // HttpServletRequest request = (HttpServletRequest) req;\n        HttpServletResponse response = (HttpServletResponse) res;\n\n        response.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n        response.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n        response.setHeader(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, DELETE\");\n        response.setHeader(\"Access-Control-Max-Age\", \"3600\");\n        response.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type, Accept, X-Requested-With, remember-me\");\n\n        chain.doFilter(req, res);\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n\n}\n</code></pre>\n\n<p>Please try with the <code>filters</code> method and let me know if it doesn't work</p>\n"}],"owner":{"account_id":16282198,"reputation":11,"user_id":11757792,"display_name":"MONI SHANKAR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692810225,"creation_date":1562652724,"question_id":56946280,"body_markdown":"I have created one app using angular and springboot for basic authentication with spring security but i am getting 401 error ..i am novice in springboot\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SpringSecurityConfigurationBasicAuth extends WebSecurityConfigurerAdapter{ \r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.csrf().disable()\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(HttpMethod.OPTIONS,&quot;/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated()\r\n\t\t\t\t.and()\r\n\t\t\t//.formLogin().and()\r\n\t\t\t.httpBasic();\r\n\t}\r\n}\r\n```\r\n\r\n&gt;&quot;Access to XMLHttpRequest at &#39;http://localhost:8080/hello-world/path-variable/MSD&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: It does not have HTTP ok status.&quot;","title":"has been blocked by CORS policy: Response to preflight request doesn&#39;t pass","body":"<p>I have created one app using angular and springboot for basic authentication with spring security but i am getting 401 error ..i am novice in springboot</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfigurationBasicAuth extends WebSecurityConfigurerAdapter{ \n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.OPTIONS,\"/**\").permitAll()\n                .anyRequest().authenticated()\n                .and()\n            //.formLogin().and()\n            .httpBasic();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>\"Access to XMLHttpRequest at '<a href=\"http://localhost:8080/hello-world/path-variable/MSD\" rel=\"nofollow noreferrer\">http://localhost:8080/hello-world/path-variable/MSD</a>' from origin '<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">http://localhost:4200</a>' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: It does not have HTTP ok status.\"</p>\n</blockquote>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":380062,"reputation":829,"user_id":733840,"display_name":"teu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407963013,"creation_date":1407963013,"answer_id":25295873,"question_id":23164072,"body_markdown":"1. You can create more than 3 partitions but it&#39;s not clear what speedup you will get; depends on your network, disks, etc. With N partitions, you will want N consumer threads reading one partition each, on one or more machines.\r\n\r\n2. Are you sure that all messages are going *into* Kafka in the first place? For an async producer, you&#39;ll want request.required.acks to be -1 for the best guarantees. There is a kafka log dump tool that can be used to inspect the data on the brokers. On the consumer end, log the Kafka offsets of the messages that you read, to verify if there are skipped ones.","title":"Is this the right Kafka Consumer Config - under this Kafka setup?","body":"<ol>\n<li><p>You can create more than 3 partitions but it's not clear what speedup you will get; depends on your network, disks, etc. With N partitions, you will want N consumer threads reading one partition each, on one or more machines.</p></li>\n<li><p>Are you sure that all messages are going <em>into</em> Kafka in the first place? For an async producer, you'll want request.required.acks to be -1 for the best guarantees. There is a kafka log dump tool that can be used to inspect the data on the brokers. On the consumer end, log the Kafka offsets of the messages that you read, to verify if there are skipped ones.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2177733,"reputation":21,"user_id":1928006,"display_name":"ivivi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413880142,"creation_date":1413880142,"answer_id":26482155,"question_id":23164072,"body_markdown":"First, you can check the folder of logs which is named log.dir in server.properties at broker, you could run &quot;tail -f&quot; to check wether messages are send successfully.","title":"Is this the right Kafka Consumer Config - under this Kafka setup?","body":"<p>First, you can check the folder of logs which is named log.dir in server.properties at broker, you could run \"tail -f\" to check wether messages are send successfully.</p>\n"},{"tags":[],"owner":{"account_id":2215959,"reputation":691,"user_id":1956552,"accept_rate":100,"display_name":"Faisal Ahmed Siddiqui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461273629,"creation_date":1461174615,"answer_id":36751473,"question_id":23164072,"body_markdown":"Answer#1: yes you can create 8 partitions for 3 brokers. no. of brokers doesn&#39;t have any constraint on no. of partitions. \r\nFor example you have 8 tables you are fetching the data and submitting to topics. if your producer submitting messages to topic with key as table name and you have 8 partitions most probably each table messages going to its own partition.\r\n\r\nBy matching your number of consumers equals to number of partitions means that all consumers reading to one partitions in parallel and consuming messages.\r\n\r\nBy design i would go for 8 consumers instances with 1 thread running as same consumer group. This way one consumer instance will be assigned to one partition. if your consumer instance die then you would have only one partition data lags behind not all. \r\n\r\nAnswer#2: In your consumer code you have thread pool of size 20 reading 8 partitions mean 12 threads will remain idle. \r\nTry 8 instances running in parallel with same group.id and share your result.\r\n\r\nEdit: This is also helpful reading\r\n\r\nhttp://www.confluent.io/blog/how-to-choose-the-number-of-topicspartitions-in-a-kafka-cluster/\r\n","title":"Is this the right Kafka Consumer Config - under this Kafka setup?","body":"<p>Answer#1: yes you can create 8 partitions for 3 brokers. no. of brokers doesn't have any constraint on no. of partitions. \nFor example you have 8 tables you are fetching the data and submitting to topics. if your producer submitting messages to topic with key as table name and you have 8 partitions most probably each table messages going to its own partition.</p>\n\n<p>By matching your number of consumers equals to number of partitions means that all consumers reading to one partitions in parallel and consuming messages.</p>\n\n<p>By design i would go for 8 consumers instances with 1 thread running as same consumer group. This way one consumer instance will be assigned to one partition. if your consumer instance die then you would have only one partition data lags behind not all. </p>\n\n<p>Answer#2: In your consumer code you have thread pool of size 20 reading 8 partitions mean 12 threads will remain idle. \nTry 8 instances running in parallel with same group.id and share your result.</p>\n\n<p>Edit: This is also helpful reading</p>\n\n<p><a href=\"http://www.confluent.io/blog/how-to-choose-the-number-of-topicspartitions-in-a-kafka-cluster/\" rel=\"nofollow\">http://www.confluent.io/blog/how-to-choose-the-number-of-topicspartitions-in-a-kafka-cluster/</a></p>\n"}],"owner":{"account_id":1662612,"reputation":235,"user_id":1530594,"accept_rate":57,"display_name":"First Blood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692810225,"creation_date":1397864804,"question_id":23164072,"body_markdown":"My `Kafka Producer` is producing messages at the rate of about .. `350 mb` per `30 seconds`.. \r\n\r\n`Kafka Setup`:\r\n\r\n--&gt; `1 Zookeeper instance`\r\n\r\n--&gt; `3 Kafka Brokers`\r\n\r\n--&gt; `1 Java Producer`\r\n\r\n--&gt; `1 Java Consumer`\r\n\r\n\r\nThis is how I created `Topic and broker partitions`:\r\n\r\n`bin/kafka-topics.sh --create --zookeeper 10.10.1.5:2181 --replication-factor 1 --partitions 8 --topic test`\r\n\r\nRest of the configuration is as follows..\r\n\r\n`Producer Code`:\r\n\r\n    KeyedMessage&lt;String, byte[]&gt; publishData = new KeyedMessage&lt;String, byte[]&gt;(this.topic, data);\r\n    producer.send(publishData);\r\nHere, `data` is a `5000` length `byte[]`.\r\n\r\n`Producer Config`:\r\n\r\n    batch.size = 200\r\n    producer.type = async\r\n    sflow-topic = test\r\n    connect.timeout.ms = 10000\r\n    request.required.acks = 0\r\n    zk.connect = 10.10.1.5:2181\r\n    serializer.class = kafka.serializer.DefaultEncoder\r\n    partitioner.class = kafka.producer.DefaultPartitioner\r\n    metadata.broker.list = 10.10.1.5:9092,10.10.1.6:9092,10.10.1.7:9092\r\n\r\n\r\nI can see my producer working just fine.. Problem is with the consumer consuming the messages.. Even if the consumer is lagging behind, I do not see my messages consumed (and eventually process, and inserted in a DB) in the same/equal pace.. Also, I ran few tests on the consumer where I found that, not all the messages are consumed by my consumer.. Not sure why :(\r\n\r\n`Consumer Code`:\r\n\r\n     public class FlowConsumer {\r\n    \tprivate final String topic;\r\n    \tprivate final ExecutorService threadPool;\r\n    \tprivate final ConsumerConnector consumer;\r\n    \tprivate static AppProperties appProperties;\r\n    \tprivate final ExecutorService processDataThreadPool;\r\n    \t\r\n    \tpublic FlowConsumer() throws Exception {\r\n    \t\t/**\r\n    \t\t * Load properties configuration for flowLog4j.properties.\r\n    \t\t */\r\n    \t\tappProperties = AppProperties.loadConfiguration();\r\n    \t\t\r\n    \t\t/** Assign the flow-topic.. */\r\n    \t\tthis.topic = appProperties.getString(AppConstants.FLOW_TOPIC);\r\n    \t\tlogger.fatal(&quot;Topic : &quot;+topic);\r\n    \t\t\r\n    \t\t/** Initialize the thread pool to consume kafka byte[] streams.. */\r\n    \t\tthis.threadPool = Executors.newFixedThreadPool(20);\r\n    \t\t\r\n    \t\t/** Initialize the thread pool for processing kafka byte[] messages.. */\r\n    \t\tthis.processDataThreadPool = Executors.newFixedThreadPool(100);\r\n    \t\t\r\n    \t\t/** Fetch the Consumer Config, by reading the Flow.properties file.. */\r\n    \t\tthis.consumer = kafka.consumer.Consumer.createJavaConsumerConnector(ConsumerPropertyConfig.getConsumerConfig(appProperties));\r\n    \t\t\r\n    \t\tlogger.fatal(&quot;Consumer : &quot;+consumer);\r\n    \t\t\r\n    \t\t//new Thread(new Consumer()).start();\r\n    \t\tthreadPool.submit(new Consumer());\r\n    \t}\r\n    \t\r\n    \tpublic void shutdown() {\r\n            if (consumer != null) consumer.shutdown();\r\n            if (threadPool != null) threadPool.shutdown();\r\n            if (processDataThreadPool!= null) processDataThreadPool.shutdown();\r\n        }\r\n    \t\r\n    \tprivate class Consumer implements Runnable {\r\n    \t\t\r\n    \t\tpublic Consumer() {\r\n    \t\t\tlogger.fatal(&quot;Started Consumer Thread!&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tMap&lt;String, Integer&gt; topicCountMap = new HashMap&lt;String, Integer&gt;();\r\n    \t        Map&lt;String, List&lt;KafkaStream&lt;byte[], byte[]&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap);\r\n    \t        List&lt;KafkaStream&lt;byte[], byte[]&gt;&gt; streams = consumerMap.get(topic);\r\n    \t        for (final KafkaStream&lt;byte[], byte[]&gt; kafkaStream : streams) {\r\n    \t        \tfor (MessageAndMetadata&lt;byte[], byte[]&gt; messageAndMetadata : kafkaStream) {\r\n    \t        \t\tprocessDataThreadPool.submit(new FlowServiceImpl(messageAndMetadata.message()));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFlowConsumer consumer = new FlowConsumer();\r\n    \t\t\r\n    \t\t/*try {\r\n                Thread.sleep(10000);\r\n            } catch (InterruptedException ie) {\r\n     \r\n            }\r\n    \t\tconsumer.shutdown();*/\r\n    \t}\r\n    }\r\n\r\n`Consumer Config`:\r\n\r\n    group.id = group1\r\n    flow-topic = test\r\n    auto.offset.reset = smallest\r\n    auto.commit.interval.ms = 2000\r\n    zookeeper.connect = 10.10.1.5:2181\r\n    zookeeper.sync.time.ms = 2000\r\n    zookeeper.session.timeout.ms = 2000\r\n    zookeeper.connection.timeout.ms = 6000\r\n\r\n`Question 1`: \r\n\r\nFor 3 brokers, can/should I create more than `3` partitions? I read that more partitions means, I can add more parallelism to my consumer? But how, by using more consumer thread on a single consumer? Or by having 3 consumer instances, having 1 thread each?\r\n\r\n`Question 2`:\r\n\r\nIs my Java consumer config code `correct/wrong`? \r\n\r\nCan anyone please tell me what am I doing wrong in here?","title":"Is this the right Kafka Consumer Config - under this Kafka setup?","body":"<p>My <code>Kafka Producer</code> is producing messages at the rate of about .. <code>350 mb</code> per <code>30 seconds</code>.. </p>\n\n<p><code>Kafka Setup</code>:</p>\n\n<p>--> <code>1 Zookeeper instance</code></p>\n\n<p>--> <code>3 Kafka Brokers</code></p>\n\n<p>--> <code>1 Java Producer</code></p>\n\n<p>--> <code>1 Java Consumer</code></p>\n\n<p>This is how I created <code>Topic and broker partitions</code>:</p>\n\n<p><code>bin/kafka-topics.sh --create --zookeeper 10.10.1.5:2181 --replication-factor 1 --partitions 8 --topic test</code></p>\n\n<p>Rest of the configuration is as follows..</p>\n\n<p><code>Producer Code</code>:</p>\n\n<pre><code>KeyedMessage&lt;String, byte[]&gt; publishData = new KeyedMessage&lt;String, byte[]&gt;(this.topic, data);\nproducer.send(publishData);\n</code></pre>\n\n<p>Here, <code>data</code> is a <code>5000</code> length <code>byte[]</code>.</p>\n\n<p><code>Producer Config</code>:</p>\n\n<pre><code>batch.size = 200\nproducer.type = async\nsflow-topic = test\nconnect.timeout.ms = 10000\nrequest.required.acks = 0\nzk.connect = 10.10.1.5:2181\nserializer.class = kafka.serializer.DefaultEncoder\npartitioner.class = kafka.producer.DefaultPartitioner\nmetadata.broker.list = 10.10.1.5:9092,10.10.1.6:9092,10.10.1.7:9092\n</code></pre>\n\n<p>I can see my producer working just fine.. Problem is with the consumer consuming the messages.. Even if the consumer is lagging behind, I do not see my messages consumed (and eventually process, and inserted in a DB) in the same/equal pace.. Also, I ran few tests on the consumer where I found that, not all the messages are consumed by my consumer.. Not sure why :(</p>\n\n<p><code>Consumer Code</code>:</p>\n\n<pre><code> public class FlowConsumer {\n    private final String topic;\n    private final ExecutorService threadPool;\n    private final ConsumerConnector consumer;\n    private static AppProperties appProperties;\n    private final ExecutorService processDataThreadPool;\n\n    public FlowConsumer() throws Exception {\n        /**\n         * Load properties configuration for flowLog4j.properties.\n         */\n        appProperties = AppProperties.loadConfiguration();\n\n        /** Assign the flow-topic.. */\n        this.topic = appProperties.getString(AppConstants.FLOW_TOPIC);\n        logger.fatal(\"Topic : \"+topic);\n\n        /** Initialize the thread pool to consume kafka byte[] streams.. */\n        this.threadPool = Executors.newFixedThreadPool(20);\n\n        /** Initialize the thread pool for processing kafka byte[] messages.. */\n        this.processDataThreadPool = Executors.newFixedThreadPool(100);\n\n        /** Fetch the Consumer Config, by reading the Flow.properties file.. */\n        this.consumer = kafka.consumer.Consumer.createJavaConsumerConnector(ConsumerPropertyConfig.getConsumerConfig(appProperties));\n\n        logger.fatal(\"Consumer : \"+consumer);\n\n        //new Thread(new Consumer()).start();\n        threadPool.submit(new Consumer());\n    }\n\n    public void shutdown() {\n        if (consumer != null) consumer.shutdown();\n        if (threadPool != null) threadPool.shutdown();\n        if (processDataThreadPool!= null) processDataThreadPool.shutdown();\n    }\n\n    private class Consumer implements Runnable {\n\n        public Consumer() {\n            logger.fatal(\"Started Consumer Thread!\");\n        }\n\n        @Override\n        public void run() {\n            Map&lt;String, Integer&gt; topicCountMap = new HashMap&lt;String, Integer&gt;();\n            Map&lt;String, List&lt;KafkaStream&lt;byte[], byte[]&gt;&gt;&gt; consumerMap = consumer.createMessageStreams(topicCountMap);\n            List&lt;KafkaStream&lt;byte[], byte[]&gt;&gt; streams = consumerMap.get(topic);\n            for (final KafkaStream&lt;byte[], byte[]&gt; kafkaStream : streams) {\n                for (MessageAndMetadata&lt;byte[], byte[]&gt; messageAndMetadata : kafkaStream) {\n                    processDataThreadPool.submit(new FlowServiceImpl(messageAndMetadata.message()));\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        FlowConsumer consumer = new FlowConsumer();\n\n        /*try {\n            Thread.sleep(10000);\n        } catch (InterruptedException ie) {\n\n        }\n        consumer.shutdown();*/\n    }\n}\n</code></pre>\n\n<p><code>Consumer Config</code>:</p>\n\n<pre><code>group.id = group1\nflow-topic = test\nauto.offset.reset = smallest\nauto.commit.interval.ms = 2000\nzookeeper.connect = 10.10.1.5:2181\nzookeeper.sync.time.ms = 2000\nzookeeper.session.timeout.ms = 2000\nzookeeper.connection.timeout.ms = 6000\n</code></pre>\n\n<p><code>Question 1</code>: </p>\n\n<p>For 3 brokers, can/should I create more than <code>3</code> partitions? I read that more partitions means, I can add more parallelism to my consumer? But how, by using more consumer thread on a single consumer? Or by having 3 consumer instances, having 1 thread each?</p>\n\n<p><code>Question 2</code>:</p>\n\n<p>Is my Java consumer config code <code>correct/wrong</code>? </p>\n\n<p>Can anyone please tell me what am I doing wrong in here?</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1289760752,"post_id":4178957,"comment_id":4514770,"body_markdown":"I found a hack for this (see my answer and org.life.java&#39;s answer below).  But is there a simple switch, setting, or property somewhere that will give the spinner this behavior without writing all that code?","body":"I found a hack for this (see my answer and org.life.java&#39;s answer below).  But is there a simple switch, setting, or property somewhere that will give the spinner this behavior without writing all that code?"},{"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1289760899,"post_id":4178957,"comment_id":4514789,"body_markdown":"Do you have tried **something** before asking?","body":"Do you have tried <b>something</b> before asking?"}],"answers":[{"comments":[{"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"score":0,"creation_date":1289760696,"post_id":4178977,"comment_id":4514764,"body_markdown":"This is the solution I ended up using.  But I give a cleaner answer in my own answer.","body":"This is the solution I ended up using.  But I give a cleaner answer in my own answer."}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692810222,"creation_date":1289759713,"answer_id":4178977,"question_id":4178957,"body_markdown":"    import javax.swing.*;\r\n    import java.awt.event.*;\r\n    public class TestSpinner extends JFrame implements MouseWheelListener\r\n    {\r\n      public TestSpinner()\r\n      {\r\n        setSize( 100, 50 );\r\n        spinner = new JSpinner();\r\n        spinner.addMouseWheelListener( this );\r\n        getContentPane().add( spinner, &quot;Center&quot; );\r\n      }\r\n      public void mouseWheelMoved( MouseWheelEvent e )\r\n      {\r\n        spinner.setValue(\r\n            new Integer( ((Integer)spinner.getValue()).intValue() - e.getWheelRotation() ) );\r\n      }\r\n      public static void main( String [] args )\r\n      {\r\n        TestSpinner t = new TestSpinner();\r\n        t.setVisible( true );\r\n      }\r\n      private JSpinner spinner;\r\n    }  \r\n\r\nSource: https://www.devx.com/tip-bank/14880/","title":"Using the mouse wheel with JSpinner in Java","body":"<pre><code>import javax.swing.*;\nimport java.awt.event.*;\npublic class TestSpinner extends JFrame implements MouseWheelListener\n{\n  public TestSpinner()\n  {\n    setSize( 100, 50 );\n    spinner = new JSpinner();\n    spinner.addMouseWheelListener( this );\n    getContentPane().add( spinner, &quot;Center&quot; );\n  }\n  public void mouseWheelMoved( MouseWheelEvent e )\n  {\n    spinner.setValue(\n        new Integer( ((Integer)spinner.getValue()).intValue() - e.getWheelRotation() ) );\n  }\n  public static void main( String [] args )\n  {\n    TestSpinner t = new TestSpinner();\n    t.setVisible( true );\n  }\n  private JSpinner spinner;\n}  \n</code></pre>\n<p>Source: <a href=\"https://www.devx.com/tip-bank/14880/\" rel=\"nofollow noreferrer\">https://www.devx.com/tip-bank/14880/</a></p>\n"},{"comments":[{"owner":{"account_id":8182,"reputation":2150,"user_id":14591,"accept_rate":60,"display_name":"John K"},"score":1,"creation_date":1336427840,"post_id":4179041,"comment_id":13557471,"body_markdown":"Note this won&#39;t respect minimum and maximum allowable values even if your model (e.g., SpinnerNumberModel) supports that. I manually added checks before calling setValue.","body":"Note this won&#39;t respect minimum and maximum allowable values even if your model (e.g., SpinnerNumberModel) supports that. I manually added checks before calling setValue."}],"tags":[],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1289760624,"creation_date":1289760624,"answer_id":4179041,"question_id":4178957,"body_markdown":"    spinner.addMouseWheelListener(new MouseWheelListener() {\r\n        public void mouseWheelMoved(MouseWheelEvent mwe) {\r\n            if (mwe.getScrollType() != MouseWheelEvent.WHEEL_UNIT_SCROLL) {\r\n                return;\r\n            }\r\n            double value = (Double)spinner.getValue();\r\n            value -= mwe.getUnitsToScroll();\r\n            spinner.setValue(value);\r\n        }\r\n    });\r\n\r\nThis hack worked for me.","title":"Using the mouse wheel with JSpinner in Java","body":"<pre><code>spinner.addMouseWheelListener(new MouseWheelListener() {\n    public void mouseWheelMoved(MouseWheelEvent mwe) {\n        if (mwe.getScrollType() != MouseWheelEvent.WHEEL_UNIT_SCROLL) {\n            return;\n        }\n        double value = (Double)spinner.getValue();\n        value -= mwe.getUnitsToScroll();\n        spinner.setValue(value);\n    }\n});\n</code></pre>\n\n<p>This hack worked for me.</p>\n"}],"owner":{"account_id":149396,"reputation":11779,"user_id":361855,"accept_rate":58,"display_name":"Jason"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2033,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692810222,"creation_date":1289759400,"question_id":4178957,"body_markdown":"I would like to use my mouse wheel to increment and decrement a JSpinner.  Is this possible?","title":"Using the mouse wheel with JSpinner in Java","body":"<p>I would like to use my mouse wheel to increment and decrement a JSpinner.  Is this possible?</p>\n"},{"tags":["java","logging","logback","logback-classic"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692814910,"post_id":76963466,"comment_id":135676795,"body_markdown":"That&#39;s because you&#39;re repeating level configurations for the root logger. Get rid of all apart from the DEBUG one. You can change the level of that as and when necessary","body":"That&#39;s because you&#39;re repeating level configurations for the root logger. Get rid of all apart from the DEBUG one. You can change the level of that as and when necessary"},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1692854510,"post_id":76963466,"comment_id":135681037,"body_markdown":"There was only debug before. But still my logs were not recorded. @g00se","body":"There was only debug before. But still my logs were not recorded. @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692866685,"post_id":76963466,"comment_id":135683032,"body_markdown":"Works for me. Of course you didn&#39;t show its location relative to your classpath or how you&#39;re using it","body":"Works for me. Of course you didn&#39;t show its location relative to your classpath or how you&#39;re using it"},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1692874922,"post_id":76963466,"comment_id":135684648,"body_markdown":"so how can i do this? @g00se","body":"so how can i do this? @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692878198,"post_id":76963466,"comment_id":135685337,"body_markdown":"Well you should start by providing the missing info into your question. Also check that target directory is writable by the user running the process","body":"Well you should start by providing the missing info into your question. Also check that target directory is writable by the user running the process"}],"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692810058,"creation_date":1692810058,"question_id":76963466,"body_markdown":"I am using Logback logging library on Java. I prepared the logback.xml configuration, but it does not record to the target directory I specified. I share the configuration codes with you.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration scan=&quot;true&quot;&gt;\r\n    &lt;property name=&quot;USER_HOME&quot; value=&quot;C:\\LogSs&quot; /&gt;\r\n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;Pattern&gt;%d %-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/Pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\r\n        &lt;file&gt;${USER_HOME}/myApp.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;${USER_HOME}/application_%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n            &lt;!-- keep 30 days&#39; worth of history --&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;encoder&gt;\r\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n            &lt;pattern&gt;%d %-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n    &lt;root level=&quot;ERROR&quot;&gt;\r\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"How can i solve this subject: Java LogBack Configuration is not working","body":"<p>I am using Logback logging library on Java. I prepared the logback.xml configuration, but it does not record to the target directory I specified. I share the configuration codes with you.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration scan=&quot;true&quot;&gt;\n    &lt;property name=&quot;USER_HOME&quot; value=&quot;C:\\LogSs&quot; /&gt;\n    &lt;appender name=&quot;consoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;Pattern&gt;%d %-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n\n        &lt;file&gt;${USER_HOME}/myApp.log&lt;/file&gt;\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n            &lt;fileNamePattern&gt;${USER_HOME}/application_%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n\n            &lt;timeBasedFileNamingAndTriggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n                &lt;maxFileSize&gt;5MB&lt;/maxFileSize&gt;\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n            &lt;!-- keep 30 days' worth of history --&gt;\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n        &lt;/rollingPolicy&gt;\n\n        &lt;encoder&gt;\n            &lt;charset&gt;UTF-8&lt;/charset&gt;\n            &lt;pattern&gt;%d %-4relative [%thread] %-5level %logger{35} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n    &lt;root level=&quot;ERROR&quot;&gt;\n        &lt;appender-ref ref=&quot;consoleAppender&quot; /&gt;\n        &lt;appender-ref ref=&quot;FILE&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1692807262,"post_id":76963176,"comment_id":135675408,"body_markdown":"You can&#39;t assign an instance of type `X` to a reference of type `B` unless `X` is also a `B`.","body":"You can&#39;t assign an instance of type <code>X</code> to a reference of type <code>B</code> unless <code>X</code> is also a <code>B</code>."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1692807350,"post_id":76963176,"comment_id":135675427,"body_markdown":"I&#39;m afraid to say I have no idea what it is you are trying to do. You write `B instanceOfBUsingX = new B() //it must use interface X` **but none of your classes implement any interface at all!**. `B` doesn&#39;t implement `X` because nowhere in your code have you told that one of your classes in the hierarchy `implements X`. So where do you expect this B that somehow implements X to come from?","body":"I&#39;m afraid to say I have no idea what it is you are trying to do. You write <code>B instanceOfBUsingX = new B() &#47;&#47;it must use interface X</code> <b>but none of your classes implement any interface at all!</b>. <code>B</code> doesn&#39;t implement <code>X</code> because nowhere in your code have you told that one of your classes in the hierarchy <code>implements X</code>. So where do you expect this B that somehow implements X to come from?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1692808018,"post_id":76963176,"comment_id":135675548,"body_markdown":"Expanding on @OHGODSPIDERS&#39;s comment: what does &quot;use interface X&quot; mean to you? I feel there&#39;s a fundamental misunderstanding here.","body":"Expanding on @OHGODSPIDERS&#39;s comment: what does &quot;use interface X&quot; mean to you? I feel there&#39;s a fundamental misunderstanding here."},{"owner":{"account_id":29262215,"reputation":23,"user_id":22418915,"display_name":"adrian quispe"},"score":0,"creation_date":1692808047,"post_id":76963176,"comment_id":135675554,"body_markdown":"A is Product, B is Milk, X is Discount, a product can have discounts or not, but only can use discounts methods if it has implemented the discount (discounts are only managed through interface)","body":"A is Product, B is Milk, X is Discount, a product can have discounts or not, but only can use discounts methods if it has implemented the discount (discounts are only managed through interface)"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1692808230,"post_id":76963176,"comment_id":135675587,"body_markdown":"Do you want some kind of duck typing, where `interface X` prescibes some `x()` method, and `class B` happens to have such method, and you really just don&#39;t want to write out the `implements X`?","body":"Do you want some kind of duck typing, where <code>interface X</code> prescibes some <code>x()</code> method, and <code>class B</code> happens to have such method, and you really just don&#39;t want to write out the <code>implements X</code>?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1692808240,"post_id":76963176,"comment_id":135675589,"body_markdown":"It sounds like you want to be able to dynamically add attributes to your instance. Inheritance can&#39;t do that — it&#39;s something that&#39;s checked at compile-time. I would model this using composition instead: have Product have a nullable Discount field (or possibly-empty collection, if you can have multiple discounts on a single product). You may want to model it differently altogether, too: have separate Products and Discounts (where a Discount references the Product it&#39;s for), and then at checkout time find all the Discounts that apply to a given Product, and apply them.","body":"It sounds like you want to be able to dynamically add attributes to your instance. Inheritance can&#39;t do that — it&#39;s something that&#39;s checked at compile-time. I would model this using composition instead: have Product have a nullable Discount field (or possibly-empty collection, if you can have multiple discounts on a single product). You may want to model it differently altogether, too: have separate Products and Discounts (where a Discount references the Product it&#39;s for), and then at checkout time find all the Discounts that apply to a given Product, and apply them."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1692808278,"post_id":76963176,"comment_id":135675601,"body_markdown":"I think you are misunderstanding what interfaces are for. If class B implements interface X, then that is like saying &quot;B is an X&quot;. In your case &quot;Milk is a Discount&quot; does make no sense at all, hence Milk implementing Discount as an Interface makes also no sense. Milk can have a discount. So make the Discount a property of your Milk class by giving it a field `private Discount discount` for example.","body":"I think you are misunderstanding what interfaces are for. If class B implements interface X, then that is like saying &quot;B is an X&quot;. In your case &quot;Milk is a Discount&quot; does make no sense at all, hence Milk implementing Discount as an Interface makes also no sense. Milk can have a discount. So make the Discount a property of your Milk class by giving it a field <code>private Discount discount</code> for example."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1692808895,"post_id":76963176,"comment_id":135675726,"body_markdown":"Or, don&#39;t have a field to store the discount - the discount isn&#39;t a property of the item I&#39;m buying, it&#39;s a property of the collection of things I&#39;m buying, at the point I pay (e.g. think of a 3-for-2 deal - which of the items does the discount belong to?). In some sense, the discount is a property of your cart, not the items in it.","body":"Or, don&#39;t have a field to store the discount - the discount isn&#39;t a property of the item I&#39;m buying, it&#39;s a property of the collection of things I&#39;m buying, at the point I pay (e.g. think of a 3-for-2 deal - which of the items does the discount belong to?). In some sense, the discount is a property of your cart, not the items in it."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692808398,"creation_date":1692808398,"answer_id":76963296,"question_id":76963176,"body_markdown":"No, you can&#39;t implement an interface as the instance level, only the class level. The accepted solution to this problem is called the [adapter pattern](https://en.wikipedia.org/wiki/Adapter_pattern).\r\n\r\nAssume we have this pre-existing class that doesn&#39;t know about our special interface.\r\n\r\n```\r\npublic class SomeClass {\r\n\r\n  public void doTheThing() {\r\n    ...\r\n  }\r\n\r\n}\r\n```\r\n\r\nThen we want it to implement a new interface we just came up with.\r\n\r\n```\r\npublic interface CanDoTheThing {\r\n  public void doTheThing();\r\n}\r\n```\r\n\r\nThen we make a wrapper class that *contains* an instance of `SomeClass` and calls the right method.\r\n\r\n```\r\npublic class SomeClassAdapter implements CanDoTheThing {\r\n  private SomeClass impl;\r\n\r\n  public SomeClassAdapter(SomeClass impl) {\r\n    this.impl = impl;\r\n  }\r\n\r\n  @Override\r\n  public void doTheThing() {\r\n    this.impl.doTheThing();\r\n  }\r\n\r\n}\r\n```\r\n\r\nNow when we want to pass an instance `someInstance` of `SomeClass` to a function that needs an instance of `CanDoTheThing`, we instead pass `new SomeClassAdapter(someInstance)`.","title":"Create instances of a class with an without implementing an interface","body":"<p>No, you can't implement an interface as the instance level, only the class level. The accepted solution to this problem is called the <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">adapter pattern</a>.</p>\n<p>Assume we have this pre-existing class that doesn't know about our special interface.</p>\n<pre><code>public class SomeClass {\n\n  public void doTheThing() {\n    ...\n  }\n\n}\n</code></pre>\n<p>Then we want it to implement a new interface we just came up with.</p>\n<pre><code>public interface CanDoTheThing {\n  public void doTheThing();\n}\n</code></pre>\n<p>Then we make a wrapper class that <em>contains</em> an instance of <code>SomeClass</code> and calls the right method.</p>\n<pre><code>public class SomeClassAdapter implements CanDoTheThing {\n  private SomeClass impl;\n\n  public SomeClassAdapter(SomeClass impl) {\n    this.impl = impl;\n  }\n\n  @Override\n  public void doTheThing() {\n    this.impl.doTheThing();\n  }\n\n}\n</code></pre>\n<p>Now when we want to pass an instance <code>someInstance</code> of <code>SomeClass</code> to a function that needs an instance of <code>CanDoTheThing</code>, we instead pass <code>new SomeClassAdapter(someInstance)</code>.</p>\n"},{"tags":[],"owner":{"account_id":9141536,"reputation":111,"user_id":6799222,"accept_rate":78,"display_name":"DarioS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692809652,"creation_date":1692809652,"answer_id":76963424,"question_id":76963176,"body_markdown":"It seems like you&#39;re looking for a way to have a class that extends another class while also implementing certain interfaces, without explicitly creating a new subclass for each combination of the base class and interfaces. However, in most programming languages, including Java, you cannot directly achieve this without creating specific subclasses or modifying the class hierarchy.\r\n\r\nIn your example, if you want both instanceOfB and instanceOfBUsingX to be of the same class type and have B as their base class, while also implementing interface X in the second case, you would typically need to create a class that extends B and implements X. Here&#39;s an example in Java:\r\n\r\n    class B implements X { }\r\n    class BUsingX extends B implements X { }\r\n    B instanceOfB = new B();\r\n    BUsingX instanceOfBUsingX = new BUsingX();\r\n\r\nThis way, you would indeed need to create a separate subclass for each combination of base class and interface.\r\n\r\nAlternatively, you could consider using composition instead of inheritance. Instead of directly extending B, you could create a wrapper class that implements the required interface and internally holds an instance of B. This can help you achieve similar behavior without creating numerous subclasses:\r\n\r\n    class BWrapper implements X {\r\n    private B wrappedInstance = new B();\r\n    // Implement methods from interface X by delegating to wrappedInstance\r\n    }\r\n    BWrapper instanceOfBUsingX = new BWrapper();\r\n","title":"Create instances of a class with an without implementing an interface","body":"<p>It seems like you're looking for a way to have a class that extends another class while also implementing certain interfaces, without explicitly creating a new subclass for each combination of the base class and interfaces. However, in most programming languages, including Java, you cannot directly achieve this without creating specific subclasses or modifying the class hierarchy.</p>\n<p>In your example, if you want both instanceOfB and instanceOfBUsingX to be of the same class type and have B as their base class, while also implementing interface X in the second case, you would typically need to create a class that extends B and implements X. Here's an example in Java:</p>\n<pre><code>class B implements X { }\nclass BUsingX extends B implements X { }\nB instanceOfB = new B();\nBUsingX instanceOfBUsingX = new BUsingX();\n</code></pre>\n<p>This way, you would indeed need to create a separate subclass for each combination of base class and interface.</p>\n<p>Alternatively, you could consider using composition instead of inheritance. Instead of directly extending B, you could create a wrapper class that implements the required interface and internally holds an instance of B. This can help you achieve similar behavior without creating numerous subclasses:</p>\n<pre><code>class BWrapper implements X {\nprivate B wrappedInstance = new B();\n// Implement methods from interface X by delegating to wrappedInstance\n}\nBWrapper instanceOfBUsingX = new BWrapper();\n</code></pre>\n"}],"owner":{"account_id":29262215,"reputation":23,"user_id":22418915,"display_name":"adrian quispe"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76963296,"answer_count":2,"score":0,"last_activity_date":1692809652,"creation_date":1692807153,"question_id":76963176,"body_markdown":"Is there a way to do that without using a subclass that extends said class and using a implement?\r\n\r\nI have something like this:\r\n\r\n    abstract class A{ }\r\n    \r\n    class B extends A{ }\r\n    \r\n    class C extends A{ }\r\n    \r\n    class D extends A{ }\r\n    \r\n    Interface X { }\r\n    \r\n    Interface Y { }\r\n    \r\n    Interface Z { }\r\n    \r\n    B instanceOfB = new B() //doesn&#39;t use interface\r\n    \r\n    B instanceOfBUsingX = new B() //it must use interface X\r\n\r\nI don&#39;t want to create a `class B_using_X extends B implements X` because I would need to make every combination possible.\r\nalso both declarations must be of (or be treated as) the same class type (I think this shouldn&#39;t be a problem if I declare methods that expects A types)","title":"Create instances of a class with an without implementing an interface","body":"<p>Is there a way to do that without using a subclass that extends said class and using a implement?</p>\n<p>I have something like this:</p>\n<pre><code>abstract class A{ }\n\nclass B extends A{ }\n\nclass C extends A{ }\n\nclass D extends A{ }\n\nInterface X { }\n\nInterface Y { }\n\nInterface Z { }\n\nB instanceOfB = new B() //doesn't use interface\n\nB instanceOfBUsingX = new B() //it must use interface X\n</code></pre>\n<p>I don't want to create a <code>class B_using_X extends B implements X</code> because I would need to make every combination possible.\nalso both declarations must be of (or be treated as) the same class type (I think this shouldn't be a problem if I declare methods that expects A types)</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":8206473,"reputation":649,"user_id":6540769,"display_name":"Slick Slime"},"score":7,"creation_date":1526794819,"post_id":49429492,"comment_id":87878314,"body_markdown":"Why disable checking the release builds?","body":"Why disable checking the release builds?"},{"owner":{"account_id":1153003,"reputation":2653,"user_id":1134317,"accept_rate":43,"display_name":"Daniel Barde"},"score":0,"creation_date":1576997718,"post_id":49429492,"comment_id":105067834,"body_markdown":"@SlickSlime The same question I was about asking, I think doing this for a single build if you don&#39;t have time to figure out what is wrong is okay but it&#39;s best practice to spend time figuring out the real problem, this can lead to some issues in production.","body":"@SlickSlime The same question I was about asking, I think doing this for a single build if you don&#39;t have time to figure out what is wrong is okay but it&#39;s best practice to spend time figuring out the real problem, this can lead to some issues in production."},{"owner":{"account_id":2930131,"reputation":508,"user_id":2510591,"accept_rate":100,"display_name":"joseluisq"},"score":0,"creation_date":1630875352,"post_id":49429492,"comment_id":122068199,"body_markdown":"In my case build failed because issues on fragment XMLs like missing attributes. After fixed then my APK built without issues.","body":"In my case build failed because issues on fragment XMLs like missing attributes. After fixed then my APK built without issues."}],"tags":[],"owner":{"account_id":12858951,"reputation":1213,"user_id":9301369,"display_name":"nickc"},"comment_count":3,"down_vote_count":2,"up_vote_count":105,"is_accepted":false,"score":103,"last_activity_date":1540212516,"creation_date":1521723925,"answer_id":49429492,"question_id":49286268,"body_markdown":"Based off this Post\r\n\r\n**Edit:**\r\nI removed the link because the thread is no longer there \r\n\r\n\r\nWhat you need to do is add this chunk of code to your build.gradle file\r\nin the android{} section\r\n\r\n    lintOptions { \r\n        checkReleaseBuilds false\r\n    }\r\n\r\nSo like this\r\n\r\n    android {\r\n        ...\r\n        lintOptions {\r\n            checkReleaseBuilds false\r\n        }\r\n    }\r\n\r\n**Update:**\r\n\r\nHere is another post talking about a similar problem. It seems like there are various reasons this error can occur. While disabling the checkReleaseBuilds will work. It&#39;s recommended to find what the problem is and fix it. Most common error seems to be missing translations in the `strings.xml` file.\r\n\r\nI recommend checking out this post for more help\r\n\r\n[https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Based off this Post</p>\n\n<p><strong>Edit:</strong>\nI removed the link because the thread is no longer there </p>\n\n<p>What you need to do is add this chunk of code to your build.gradle file\nin the android{} section</p>\n\n<pre><code>lintOptions { \n    checkReleaseBuilds false\n}\n</code></pre>\n\n<p>So like this</p>\n\n<pre><code>android {\n    ...\n    lintOptions {\n        checkReleaseBuilds false\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Here is another post talking about a similar problem. It seems like there are various reasons this error can occur. While disabling the checkReleaseBuilds will work. It's recommended to find what the problem is and fix it. Most common error seems to be missing translations in the <code>strings.xml</code> file.</p>\n\n<p>I recommend checking out this post for more help</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24098494/error-when-generate-signed-apk\">Error when generate signed apk</a></p>\n"},{"comments":[{"owner":{"account_id":7691387,"reputation":5367,"user_id":5827565,"accept_rate":73,"display_name":"Pavel Poley"},"score":5,"creation_date":1534841005,"post_id":50151302,"comment_id":90839139,"body_markdown":"but why it is happens?","body":"but why it is happens?"},{"owner":{"account_id":9089962,"reputation":3525,"user_id":6766264,"accept_rate":0,"display_name":"Makvin"},"score":0,"creation_date":1534842828,"post_id":50151302,"comment_id":90840048,"body_markdown":"@PavelPoley With 0.7.0 there comes extended support for Lint, however, it does not work always properly.","body":"@PavelPoley With 0.7.0 there comes extended support for Lint, however, it does not work always properly."},{"owner":{"account_id":6210742,"reputation":3114,"user_id":4837103,"display_name":"Chandler"},"score":29,"creation_date":1537352912,"post_id":50151302,"comment_id":91751145,"body_markdown":"Do not turn off the lint checks, they&#39;re there for a reason.","body":"Do not turn off the lint checks, they&#39;re there for a reason."},{"owner":{"account_id":2244851,"reputation":1322,"user_id":1978475,"accept_rate":80,"display_name":"Vrajesh"},"score":0,"creation_date":1544699939,"post_id":50151302,"comment_id":94373159,"body_markdown":"Thanks for solution. but is any problem occurs if we set false ?","body":"Thanks for solution. but is any problem occurs if we set false ?"},{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":1,"creation_date":1555304330,"post_id":50151302,"comment_id":98049467,"body_markdown":"there seems to be no bad side effects when we disable the `lint`, but do NOT disable it and repeat trying to build until you find the real issue, for example I was about to disable it, because it did just hang for me, but after retrying a really verbose error message showed what the error was (a `*.jar` file was missing in my local m2 repository, but since the `*.pom` file did exist, `gradle` did fail instead of simply downloading again both `*.jar` and `*.pom` files)","body":"there seems to be no bad side effects when we disable the <code>lint</code>, but do NOT disable it and repeat trying to build until you find the real issue, for example I was about to disable it, because it did just hang for me, but after retrying a really verbose error message showed what the error was (a <code>*.jar</code> file was missing in my local m2 repository, but since the <code>*.pom</code> file did exist, <code>gradle</code> did fail instead of simply downloading again both <code>*.jar</code> and <code>*.pom</code> files)"}],"tags":[],"owner":{"account_id":9089962,"reputation":3525,"user_id":6766264,"accept_rate":0,"display_name":"Makvin"},"comment_count":5,"down_vote_count":7,"up_vote_count":28,"is_accepted":false,"score":21,"last_activity_date":1525339035,"creation_date":1525339035,"answer_id":50151302,"question_id":49286268,"body_markdown":"    lintOptions {\r\n            checkReleaseBuilds false\r\n            abortOnError false\r\n        }","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<pre><code>lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4040067,"reputation":239,"user_id":3323206,"display_name":"Zahid Ali"},"score":0,"creation_date":1609942355,"post_id":53669619,"comment_id":115977872,"body_markdown":"I tried this solution and found some missing ID in resource files which had constraint dependency, removed the ID and tried to create build and it worked. Thanks","body":"I tried this solution and found some missing ID in resource files which had constraint dependency, removed the ID and tried to create build and it worked. Thanks"},{"owner":{"account_id":1211141,"reputation":6677,"user_id":1179638,"accept_rate":88,"display_name":"Atul Bhardwaj"},"score":0,"creation_date":1615486761,"post_id":53669619,"comment_id":117712194,"body_markdown":"Also check this https://stackoverflow.com/a/54962373/1179638","body":"Also check this <a href=\"https://stackoverflow.com/a/54962373/1179638\">stackoverflow.com/a/54962373/1179638</a>"},{"owner":{"account_id":20159165,"reputation":2445,"user_id":14784590,"display_name":"Reejesh"},"score":2,"creation_date":1670593783,"post_id":53669619,"comment_id":131915922,"body_markdown":"For those who cannot see the above `lintVitalRelease` option, Just click on Gradle-&gt;Execute Gradle Task Icon-&gt; type in `lintVitalRelease` and press enter. It will show what is wrong.","body":"For those who cannot see the above <code>lintVitalRelease</code> option, Just click on Gradle-&gt;Execute Gradle Task Icon-&gt; type in <code>lintVitalRelease</code> and press enter. It will show what is wrong."}],"tags":[],"owner":{"account_id":7284330,"reputation":1119,"user_id":5552925,"display_name":"Ilia  Grabko"},"comment_count":3,"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1596411742,"creation_date":1544185929,"answer_id":53669619,"question_id":49286268,"body_markdown":"To find out why lint fails do this:\r\n\r\n 1. Run lintVitalRelease \r\n\r\nYou can do it from Gradle window\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n 2. Under Run tab, you will see error logs \r\n\r\n[![enter image description here][2]][2]\r\n\r\nFor me, it was wrong constraint in ConstraintLayout XML.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XM39c.png\r\n  [2]: https://i.stack.imgur.com/Twg1T.png\r\n  [3]: https://i.stack.imgur.com/lM6cQ.png","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>To find out why lint fails do this:</p>\n<ol>\n<li>Run lintVitalRelease</li>\n</ol>\n<p>You can do it from Gradle window</p>\n<p><a href=\"https://i.stack.imgur.com/XM39c.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XM39c.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Under Run tab, you will see error logs</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Twg1T.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Twg1T.png\" alt=\"enter image description here\" /></a></p>\n<p>For me, it was wrong constraint in ConstraintLayout XML.</p>\n<p><a href=\"https://i.stack.imgur.com/lM6cQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lM6cQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":6100650,"reputation":1324,"user_id":4759794,"accept_rate":78,"display_name":"Augusto Samam&#233; Barrientos"},"score":8,"creation_date":1623727697,"post_id":54962373,"comment_id":120153771,"body_markdown":"In my case the reports are there, but they&#39;re empty (zero bytes)","body":"In my case the reports are there, but they&#39;re empty (zero bytes)"}],"tags":[],"owner":{"account_id":151391,"reputation":3473,"user_id":365229,"accept_rate":77,"display_name":"Behrouz.M"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1551556131,"creation_date":1551556131,"answer_id":54962373,"question_id":49286268,"body_markdown":"The error report is saved to `[app module]/build/reports/lint-results-yourBuildName-fatal.html`. You can open this file in a browser to read about the errors.\r\n\r\nsrc: https://stackoverflow.com/a/50239165/365229","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>The error report is saved to <code>[app module]/build/reports/lint-results-yourBuildName-fatal.html</code>. You can open this file in a browser to read about the errors.</p>\n\n<p>src: <a href=\"https://stackoverflow.com/a/50239165/365229\">https://stackoverflow.com/a/50239165/365229</a></p>\n"},{"tags":[],"owner":{"account_id":14509776,"reputation":91,"user_id":10480536,"display_name":"Mingju Roberts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580736360,"creation_date":1580736360,"answer_id":60040197,"question_id":49286268,"body_markdown":"Make sure to have \r\n`jcenter()`\r\nin both buildscript and allprojects in your build.gradle android{} section","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Make sure to have \n<code>jcenter()</code>\nin both buildscript and allprojects in your build.gradle android{} section</p>\n"},{"comments":[{"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"score":0,"creation_date":1666861806,"post_id":61313250,"comment_id":131037347,"body_markdown":"You are just hiding potential issue on your release build.. be careful","body":"You are just hiding potential issue on your release build.. be careful"}],"tags":[],"owner":{"account_id":17569788,"reputation":495,"user_id":12745710,"display_name":"Emmanuel Ametepee"},"comment_count":1,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1605135046,"creation_date":1587340826,"answer_id":61313250,"question_id":49286268,"body_markdown":"Open your build.gradle file and add the code below under android:\r\n\r\n    android {\r\n    \r\n        lintOptions { \r\n          checkReleaseBuilds false \r\n        }","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Open your build.gradle file and add the code below under android:</p>\n<pre><code>android {\n\n    lintOptions { \n      checkReleaseBuilds false \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15652788,"reputation":956,"user_id":11293861,"display_name":"Anshul Kataria"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599143747,"creation_date":1599143747,"answer_id":63725897,"question_id":49286268,"body_markdown":"I was also getting an error like \r\n\r\n             &gt; Failed to transform &#39;/Users/michaelbui/Projects/counter/build/app/intermediates/flutter/debug/libs.jar&#39; using Jetifier. Reason: FileNotFoundException, message: /Users/michaelbui/Projects/counter/build/app/intermediates/flutter/debug/libs.jar (No such file or directory). (Run with --stacktrace for more details.)\r\n\r\n\r\n while building the app after the latest update, but then I disabled the lint task in android/app/build.gradle\r\n\r\n    lintOptions {\r\n        disable &#39;InvalidPackage&#39;\r\n        checkReleaseBuilds false\r\n    }\r\n\r\nand this worked for me.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>I was also getting an error like</p>\n<pre><code>         &gt; Failed to transform '/Users/michaelbui/Projects/counter/build/app/intermediates/flutter/debug/libs.jar' using Jetifier. Reason: FileNotFoundException, message: /Users/michaelbui/Projects/counter/build/app/intermediates/flutter/debug/libs.jar (No such file or directory). (Run with --stacktrace for more details.)\n</code></pre>\n<p>while building the app after the latest update, but then I disabled the lint task in android/app/build.gradle</p>\n<pre><code>lintOptions {\n    disable 'InvalidPackage'\n    checkReleaseBuilds false\n}\n</code></pre>\n<p>and this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":17858801,"reputation":77,"user_id":12972801,"display_name":"Kamran Riyaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1606470602,"creation_date":1606470602,"answer_id":65035172,"question_id":49286268,"body_markdown":"File &gt; Invalidate Caches/Restart... worked for me.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>File &gt; Invalidate Caches/Restart... worked for me.</p>\n"},{"tags":[],"owner":{"account_id":3009033,"reputation":1853,"user_id":2552918,"accept_rate":57,"display_name":"novas1r1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614849338,"creation_date":1614849338,"answer_id":66471945,"question_id":49286268,"body_markdown":"In my opinion don&#39;t use &quot;checkReleaseBuilds false&quot;. This broke my whole release build and I only saw a white screen.\r\n\r\nA current workaround is running:\r\n\r\n```\r\nflutter run --profile\r\nflutter run --debug\r\nflutter run --release\r\n```\r\n\r\nCurrently that&#39;s the only thing that worked for me.\r\nThere is an open issue here: https://issuetracker.google.com/issues/158753935","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>In my opinion don't use &quot;checkReleaseBuilds false&quot;. This broke my whole release build and I only saw a white screen.</p>\n<p>A current workaround is running:</p>\n<pre><code>flutter run --profile\nflutter run --debug\nflutter run --release\n</code></pre>\n<p>Currently that's the only thing that worked for me.\nThere is an open issue here: <a href=\"https://issuetracker.google.com/issues/158753935\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/158753935</a></p>\n"},{"comments":[{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1674125164,"post_id":67299324,"comment_id":132649818,"body_markdown":"Note that it is called `lint` now instead of `lintOptions`.","body":"Note that it is called <code>lint</code> now instead of <code>lintOptions</code>."}],"tags":[],"owner":{"account_id":19490079,"reputation":615,"user_id":14258439,"display_name":"Kumar Santanu"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1619611011,"creation_date":1619609180,"answer_id":67299324,"question_id":49286268,"body_markdown":" **Simple and Working**\r\n\r\n*Solution 1*\r\n\r\n    android {\r\n            lintOptions {\r\n                checkReleaseBuilds false\r\n                // Or, if you prefer, you can continue to check for errors in release builds,\r\n                // but continue the build even when errors are found:\r\n                abortOnError false\r\n            }\r\n        }\r\n\r\n*Solution 2*\r\n\r\n    android {\r\n            lintOptions {\r\n                checkReleaseBuilds false\r\n                abortOnError false\r\n            }\r\n        }\r\n\r\n*Solution 3*\r\n\r\n     android {\r\n            lintOptions {\r\n               disable &#39;MissingTranslation&#39;\r\n               abortOnError false\r\n            }\r\n        }\r\n\r\n&gt; Notes: There are two type uses option -&gt;\r\n\r\n*1*\r\n   \r\n\r\n     lintOptions {\r\n            //TODO\r\n        }\r\n\r\n*2*\r\n\r\n    android {\r\n            lintOptions {\r\n               // TODO\r\n            }\r\n        }\r\n\r\n**Thank You**","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p><strong>Simple and Working</strong></p>\n<p><em>Solution 1</em></p>\n<pre><code>android {\n        lintOptions {\n            checkReleaseBuilds false\n            // Or, if you prefer, you can continue to check for errors in release builds,\n            // but continue the build even when errors are found:\n            abortOnError false\n        }\n    }\n</code></pre>\n<p><em>Solution 2</em></p>\n<pre><code>android {\n        lintOptions {\n            checkReleaseBuilds false\n            abortOnError false\n        }\n    }\n</code></pre>\n<p><em>Solution 3</em></p>\n<pre><code> android {\n        lintOptions {\n           disable 'MissingTranslation'\n           abortOnError false\n        }\n    }\n</code></pre>\n<blockquote>\n<p>Notes: There are two type uses option -&gt;</p>\n</blockquote>\n<p><em>1</em></p>\n<pre><code> lintOptions {\n        //TODO\n    }\n</code></pre>\n<p><em>2</em></p>\n<pre><code>android {\n        lintOptions {\n           // TODO\n        }\n    }\n</code></pre>\n<p><strong>Thank You</strong></p>\n"},{"tags":[],"owner":{"account_id":22235653,"reputation":1,"user_id":16471074,"display_name":"Cramos50"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626665800,"creation_date":1626665800,"answer_id":68434844,"question_id":49286268,"body_markdown":"In my case there was some typos in the manifest that caused the error, just corrected them and it compiled","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>In my case there was some typos in the manifest that caused the error, just corrected them and it compiled</p>\n"},{"comments":[{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1650606572,"post_id":68738049,"comment_id":127162756,"body_markdown":"Can you please read other answers before posting yet another duplicate answer?! On top of that, why do you even disable lint checks?","body":"Can you please read other answers before posting yet another duplicate answer?! On top of that, why do you even disable lint checks?"}],"tags":[],"owner":{"account_id":4877215,"reputation":2024,"user_id":4724710,"display_name":"Anubhav"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628668302,"creation_date":1628668302,"answer_id":68738049,"question_id":49286268,"body_markdown":"In my case it was happening because I was using an invalid(not existing) id to constraint a view, and when I tried to create a build, it gave me the error. What you can do is execute task, \r\n    \r\n    ./gradlew assembleRelease --stacktrace\r\n\r\nThis will give you the following options, \r\n\r\nTo proceed, either fix the issues identified by lint, or modify your build script as follows:\r\n\r\n    ...\r\n    android {\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n        // Or, if you prefer, you can continue to check for errors in release builds,\r\n        // but continue the build even when errors are found:\r\n        abortOnError false\r\n    }\r\n    }\r\n\r\nIf you choose, \r\n\r\n    checkReleaseBuilds false\r\nIt will not check for errors in the release build and create a build, \r\n\r\nand if you choose, \r\n\r\n    abortOnError false\r\nIt will create a build, and as well list down the error(s). \r\n\r\nThis way you can actually correct the errors.\r\n","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>In my case it was happening because I was using an invalid(not existing) id to constraint a view, and when I tried to create a build, it gave me the error. What you can do is execute task,</p>\n<pre><code>./gradlew assembleRelease --stacktrace\n</code></pre>\n<p>This will give you the following options,</p>\n<p>To proceed, either fix the issues identified by lint, or modify your build script as follows:</p>\n<pre><code>...\nandroid {\nlintOptions {\n    checkReleaseBuilds false\n    // Or, if you prefer, you can continue to check for errors in release builds,\n    // but continue the build even when errors are found:\n    abortOnError false\n}\n}\n</code></pre>\n<p>If you choose,</p>\n<pre><code>checkReleaseBuilds false\n</code></pre>\n<p>It will not check for errors in the release build and create a build,</p>\n<p>and if you choose,</p>\n<pre><code>abortOnError false\n</code></pre>\n<p>It will create a build, and as well list down the error(s).</p>\n<p>This way you can actually correct the errors.</p>\n"},{"tags":[],"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631539388,"creation_date":1631539388,"answer_id":69163486,"question_id":49286268,"body_markdown":"I had some missing jars and behind a corporate firewall and there was an attempt to download them during `lintVitalRelease`. I disconnected from VPN, re-run, which downloaded the missing jars and all returned to normal.\r\n\r\nI knew it has to be something like that because other answers mention where error reports are generated but I had nothing generated there so it was stuck somewhere for me.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>I had some missing jars and behind a corporate firewall and there was an attempt to download them during <code>lintVitalRelease</code>. I disconnected from VPN, re-run, which downloaded the missing jars and all returned to normal.</p>\n<p>I knew it has to be something like that because other answers mention where error reports are generated but I had nothing generated there so it was stuck somewhere for me.</p>\n"},{"tags":[],"owner":{"account_id":13012907,"reputation":3760,"user_id":9405238,"display_name":"Doan Bui"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633694373,"creation_date":1633694373,"answer_id":69495499,"question_id":49286268,"body_markdown":"If you have tried everything on Google but still can&#39;t build the release. You can follow my approach:\r\n\r\nFirstly, If the Android Studio error log contains the phrase &quot;debug/libs.jar&quot;, then you need to build --debug then --release:\r\n\r\n    flutter build apk --debug\r\n    flutter build apk --release\r\n\r\nWhat if &quot;profile/libs.jar&quot; appears\r\n, build --profile then --release:\r\n\r\n    flutter build apk --profile\r\n    flutter build apk --release\r\n\r\nIf there is an error when building debug or profile, then you continue to find that error on Google and fix it. In my case I had to remove the `permission_handler` library because it was causing the error.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>If you have tried everything on Google but still can't build the release. You can follow my approach:</p>\n<p>Firstly, If the Android Studio error log contains the phrase &quot;debug/libs.jar&quot;, then you need to build --debug then --release:</p>\n<pre><code>flutter build apk --debug\nflutter build apk --release\n</code></pre>\n<p>What if &quot;profile/libs.jar&quot; appears\n, build --profile then --release:</p>\n<pre><code>flutter build apk --profile\nflutter build apk --release\n</code></pre>\n<p>If there is an error when building debug or profile, then you continue to find that error on Google and fix it. In my case I had to remove the <code>permission_handler</code> library because it was causing the error.</p>\n"},{"tags":[],"owner":{"account_id":21136172,"reputation":636,"user_id":15539586,"display_name":"Abdallah Abdel Aziz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692808068,"creation_date":1665610977,"answer_id":74048273,"question_id":49286268,"body_markdown":"Cleaning and rebuilding worked for me\r\n   \r\n\r\n    flutter clean\r\n    flutter build apk --release\r\n\r\n","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Cleaning and rebuilding worked for me</p>\n<pre><code>flutter clean\nflutter build apk --release\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21304992,"reputation":329,"user_id":15680379,"display_name":"Syed Mahfuzur Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668447873,"creation_date":1668447873,"answer_id":74435817,"question_id":49286268,"body_markdown":"I have solved this by updating my ```gradle-wrapper.properties``` and ```build.gradle```.\r\n\r\nin ```gradle-wrapper.properties``` update ```distributionUrl```:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\nand ```android/build.gradle``` change the gradle version from 4.1.0 to 7.1.2\r\n\r\n    classpath &#39;com.android.tools.build:gradle:7.1.2&#39;\r\n\r\nHope it will help.","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>I have solved this by updating my <code>gradle-wrapper.properties</code> and <code>build.gradle</code>.</p>\n<p>in <code>gradle-wrapper.properties</code> update <code>distributionUrl</code>:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n<p>and <code>android/build.gradle</code> change the gradle version from 4.1.0 to 7.1.2</p>\n<pre><code>classpath 'com.android.tools.build:gradle:7.1.2'\n</code></pre>\n<p>Hope it will help.</p>\n"}],"owner":{"account_id":9755566,"reputation":1051,"user_id":9493566,"display_name":"elpatrue diab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143012,"favorite_count":0,"down_vote_count":0,"up_vote_count":105,"answer_count":16,"score":105,"last_activity_date":1692808068,"creation_date":1521055835,"question_id":49286268,"body_markdown":"Why I get this error I try to clean and rebuild application and make\r\napplication release true and I get same error\r\n\r\n&gt; Error:Execution failed for task &#39;:app:lintVitalRelease&#39;.\r\n&gt; java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 25\r\n        buildToolsVersion &#39;26.0.2&#39;\r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n        defaultConfig {\r\n            applicationId &quot;x.x.x&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 25\r\n            versionCode 95\r\n            versionName &#39;5&#39;\r\n    \r\n            multiDexEnabled true\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        productFlavors {\r\n        }\r\n    \r\n    }\r\n    \r\n","title":"Error: Execution failed for task &#39;:app: lintVitalRelease&#39; any one can solve it?","body":"<p>Why I get this error I try to clean and rebuild application and make\napplication release true and I get same error</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:lintVitalRelease'.\n  java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 1 path $</p>\n</blockquote>\n\n<pre><code>    apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion '26.0.2'\n    useLibrary 'org.apache.http.legacy'\n    defaultConfig {\n        applicationId \"x.x.x\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 95\n        versionName '5'\n\n        multiDexEnabled true\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    productFlavors {\n    }\n\n}\n</code></pre>\n"},{"tags":["java","oop","setter","getter","abstraction"],"comments":[{"owner":{"account_id":28891,"reputation":10658,"user_id":77542,"accept_rate":100,"display_name":"Tordek"},"score":9,"creation_date":1255544974,"post_id":1568091,"comment_id":1427944,"body_markdown":"Of course, both are equally bad when the object doesn&#39;t need a property to be changed. I&#39;d rather make everything private, and then add getters if useful, and setters if needed.","body":"Of course, both are equally bad when the object doesn&#39;t need a property to be changed. I&#39;d rather make everything private, and then add getters if useful, and setters if needed."},{"owner":{"account_id":39926,"reputation":30711,"user_id":115413,"accept_rate":88,"display_name":"Christian Hayter"},"score":41,"creation_date":1255547436,"post_id":1568091,"comment_id":1428228,"body_markdown":"&quot;Accessors are evil&quot; if you happen to be writing functional code or immutable objects. If you happen to be writing stateful mutable objects, then they are pretty essential.","body":"&quot;Accessors are evil&quot; if you happen to be writing functional code or immutable objects. If you happen to be writing stateful mutable objects, then they are pretty essential."},{"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"score":22,"creation_date":1255558696,"post_id":1568091,"comment_id":1429403,"body_markdown":"Tell, don&#39;t ask. http://www.pragprog.com/articles/tell-dont-ask","body":"Tell, don&#39;t ask. <a href=\"http://www.pragprog.com/articles/tell-dont-ask\" rel=\"nofollow noreferrer\">pragprog.com/articles/tell-dont-ask</a>"},{"owner":{"account_id":1329677,"reputation":5250,"user_id":1273830,"accept_rate":82,"display_name":"Prasanth"},"score":4,"creation_date":1345751137,"post_id":1568091,"comment_id":16169584,"body_markdown":"Well, I am surprised no one is talking about data synchronization. Suppose you are using `public String foo;` its not thread safe! Instead you can define `get`ter `set`ters with synchronization techniques to avoid data infidelity[i mean another thread messing up the foo]. I felt it&#39;s worth mentioning.","body":"Well, I am surprised no one is talking about data synchronization. Suppose you are using <code>public String foo;</code> its not thread safe! Instead you can define <code>get</code>ter <code>set</code>ters with synchronization techniques to avoid data infidelity[i mean another thread messing up the foo]. I felt it&#39;s worth mentioning."},{"owner":{"account_id":47491,"reputation":220833,"user_id":140719,"accept_rate":88,"display_name":"sbi"},"score":2,"creation_date":1345800194,"post_id":1568091,"comment_id":16182078,"body_markdown":"@goldenparrot: More often than never, synchronizing single accesses to an object is way to inefficient, or even prone to synchronization problems (when you need to change several properties of an object _at once_). IME, you often need to wrap operations as a whole that do multiple accesses to an object. That can only be accomplished by synchronization on the side of the users of a type.","body":"@goldenparrot: More often than never, synchronizing single accesses to an object is way to inefficient, or even prone to synchronization problems (when you need to change several properties of an object <i>at once</i>). IME, you often need to wrap operations as a whole that do multiple accesses to an object. That can only be accomplished by synchronization on the side of the users of a type."},{"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"score":1,"creation_date":1414457260,"post_id":1568091,"comment_id":41812768,"body_markdown":"Another article attempting guidelines about where and when to use getters and setters:  [Public or Private Member Variables?](http://agiletribe.wordpress.com/2014/02/07/public-or-private-member-variables/)    The principle of YAGNI guides us to not add constructs until we really know we are going to need them.","body":"Another article attempting guidelines about where and when to use getters and setters:  <a href=\"http://agiletribe.wordpress.com/2014/02/07/public-or-private-member-variables/\" rel=\"nofollow noreferrer\">Public or Private Member Variables?</a>    The principle of YAGNI guides us to not add constructs until we really know we are going to need them."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1489548181,"post_id":1568091,"comment_id":72715106,"body_markdown":"A recent question has reminded me of another reason for set-methods: the ability to trigger a [property change](https://docs.oracle.com/javase/8/docs/api/java/beans/PropertyChangeEvent.html).","body":"A recent question has reminded me of another reason for set-methods: the ability to trigger a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/beans/PropertyChangeEvent.html\" rel=\"nofollow noreferrer\">property change</a>."}],"answers":[{"comments":[{"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"score":120,"creation_date":1255544656,"post_id":1568103,"comment_id":1427901,"body_markdown":"I&#39;m sitting and staring at a 500k line app where it&#39;s never been needed.  That said, if it&#39;s needed once, it&#39;d start causing a maintenance nightmare.  \n\nGood enough for a checkmark for me.","body":"I&#39;m sitting and staring at a 500k line app where it&#39;s never been needed.  That said, if it&#39;s needed once, it&#39;d start causing a maintenance nightmare.    Good enough for a checkmark for me."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":22,"creation_date":1255544854,"post_id":1568103,"comment_id":1427927,"body_markdown":"I can only envy you and your app :-) That said, it really depends on your software stack as well. Delphi, for example (and C# - I think?) allows you to define properties as 1st class citizens where they can read / write a field directly initially but - should you need it - do so via getter / setter methods as well. Mucho convenient. Java, alas, does not - not to mention the javabeans standard which forces you to use getters / setters as well.","body":"I can only envy you and your app :-) That said, it really depends on your software stack as well. Delphi, for example (and C# - I think?) allows you to define properties as 1st class citizens where they can read / write a field directly initially but - should you need it - do so via getter / setter methods as well. Mucho convenient. Java, alas, does not - not to mention the javabeans standard which forces you to use getters / setters as well."},{"owner":{"account_id":20926,"reputation":37780,"user_id":50447,"accept_rate":79,"display_name":"Rowland Shaw"},"score":1,"creation_date":1255544909,"post_id":1568103,"comment_id":1427935,"body_markdown":"Validation is a classic example of doing something special in the setter, especially if you don&#39;t fully trust the consumers of your code...","body":"Validation is a classic example of doing something special in the setter, especially if you don&#39;t fully trust the consumers of your code..."},{"owner":{"account_id":32913,"reputation":129972,"user_id":91671,"accept_rate":89,"display_name":"LBushkin"},"score":24,"creation_date":1255546788,"post_id":1568103,"comment_id":1428157,"body_markdown":"While this is indeed a good reason for using accessors, many programming environments and editors now offer support for refactoring (either in the IDE or as free add-ins) which somewhat reduces the impact of the problem.","body":"While this is indeed a good reason for using accessors, many programming environments and editors now offer support for refactoring (either in the IDE or as free add-ins) which somewhat reduces the impact of the problem."},{"owner":{"account_id":127312,"reputation":31610,"user_id":324381,"accept_rate":59,"display_name":"UpTheCreek"},"score":5,"creation_date":1255547118,"post_id":1568103,"comment_id":1428190,"body_markdown":"@LBushkin - assuming your code will not be consumed publicly.","body":"@LBushkin - assuming your code will not be consumed publicly."},{"owner":{"account_id":25114,"reputation":114210,"user_id":64313,"accept_rate":64,"display_name":"cmcginty"},"score":94,"creation_date":1339795864,"post_id":1568103,"comment_id":14469165,"body_markdown":"sounds like pre-mature optimization","body":"sounds like pre-mature optimization"},{"owner":{"account_id":47491,"reputation":220833,"user_id":140719,"accept_rate":88,"display_name":"sbi"},"score":49,"creation_date":1345756383,"post_id":1568103,"comment_id":16171654,"body_markdown":"The question you need to ask when you wonder whether to implement getters and setters is: _Why would users of a class need to access the class&#39; innards at all?_ It doesn&#39;t really matter whether they do it directly or shielded by a thin pseudo layer — if users need to access implementation details, then that&#39;s a sign that the class doesn&#39;t offer enough of an abstraction. See also [this comment](http://stackoverflow.com/questions/1568091/why-use-getters-and-setters#comment16169586_1568230).","body":"The question you need to ask when you wonder whether to implement getters and setters is: <i>Why would users of a class need to access the class&#39; innards at all?</i> It doesn&#39;t really matter whether they do it directly or shielded by a thin pseudo layer — if users need to access implementation details, then that&#39;s a sign that the class doesn&#39;t offer enough of an abstraction. See also <a href=\"http://stackoverflow.com/questions/1568091/why-use-getters-and-setters#comment16169586_1568230\">this comment</a>."},{"owner":{"account_id":202891,"reputation":4599,"user_id":450222,"accept_rate":90,"display_name":"Erik  Reppen"},"score":5,"creation_date":1371072932,"post_id":1568103,"comment_id":24696191,"body_markdown":"That problem is not an indicator that you needed to use set or get methods. It&#39;s an indicator that the entire team needs to have the IDEs slapped out of their hands and taught to write and understand and maintain OOP without one.","body":"That problem is not an indicator that you needed to use set or get methods. It&#39;s an indicator that the entire team needs to have the IDEs slapped out of their hands and taught to write and understand and maintain OOP without one."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":1,"creation_date":1371073307,"post_id":1568103,"comment_id":24696354,"body_markdown":"@ErikReppen As I&#39;ve commented above, this depends on a particular language implementation. For the ones where properties are not first-class citizens (like Java) it&#39;s completely irrelevant whether you&#39;re using some IDE or plain vi to write your code - once property has been exposed directly you cannot take it back.","body":"@ErikReppen As I&#39;ve commented above, this depends on a particular language implementation. For the ones where properties are not first-class citizens (like Java) it&#39;s completely irrelevant whether you&#39;re using some IDE or plain vi to write your code - once property has been exposed directly you cannot take it back."},{"owner":{"account_id":202891,"reputation":4599,"user_id":450222,"accept_rate":90,"display_name":"Erik  Reppen"},"score":1,"creation_date":1371134602,"post_id":1568103,"comment_id":24720209,"body_markdown":"@ChssPly76 IMO, you really shouldn&#39;t be exposing properties directly or indirectly in the first place (most of the time - always exceptions to a rule). They are that object&#39;s responsibility. When you design in terms of data only changing as a side-effect of objects telling each other to do things other than what data to set, you have to stop and think occasionally but it leads to much more maintainable/modular architecture IMO. It&#39;s what makes it possible to maintain complexity in a dynamic language.","body":"@ChssPly76 IMO, you really shouldn&#39;t be exposing properties directly or indirectly in the first place (most of the time - always exceptions to a rule). They are that object&#39;s responsibility. When you design in terms of data only changing as a side-effect of objects telling each other to do things other than what data to set, you have to stop and think occasionally but it leads to much more maintainable/modular architecture IMO. It&#39;s what makes it possible to maintain complexity in a dynamic language."},{"owner":{"account_id":202891,"reputation":4599,"user_id":450222,"accept_rate":90,"display_name":"Erik  Reppen"},"score":0,"creation_date":1376326127,"post_id":1568103,"comment_id":26659340,"body_markdown":"@ChssPly76 I didn&#39;t explain the point of removing the IDEs. Try writing code without one when you&#39;ve effectively globally accessed the same var from 238 places and now have to figure out where something went wrong.","body":"@ChssPly76 I didn&#39;t explain the point of removing the IDEs. Try writing code without one when you&#39;ve effectively globally accessed the same var from 238 places and now have to figure out where something went wrong."},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":4,"creation_date":1383077740,"post_id":1568103,"comment_id":29208998,"body_markdown":"Why all the talk about removing the IDE?  Why would anyone do that?  Sure, I know how to use `ed`, and at times, it&#39;s the tool for the job.  Writing software, however, isn&#39;t one of those times.","body":"Why all the talk about removing the IDE?  Why would anyone do that?  Sure, I know how to use <code>ed</code>, and at times, it&#39;s the tool for the job.  Writing software, however, isn&#39;t one of those times."},{"owner":{"account_id":131499,"reputation":6384,"user_id":2281094,"accept_rate":50,"display_name":"Zorf"},"score":1,"creation_date":1413290469,"post_id":1568103,"comment_id":41380021,"body_markdown":"@sbi I don&#39;t see why? I mean, if you have a very basic case of a &quot;person&quot; class, a field is going to be `first_name` and obviously you want to just get that field verbatim at one point. And you should use a getter. For mayhap in the future you will completely change the implementation of your class such that the class asyncroneously retrieves this from a server or does whatever else.","body":"@sbi I don&#39;t see why? I mean, if you have a very basic case of a &quot;person&quot; class, a field is going to be <code>first_name</code> and obviously you want to just get that field verbatim at one point. And you should use a getter. For mayhap in the future you will completely change the implementation of your class such that the class asyncroneously retrieves this from a server or does whatever else."},{"owner":{"account_id":47491,"reputation":220833,"user_id":140719,"accept_rate":88,"display_name":"sbi"},"score":4,"creation_date":1413291982,"post_id":1568103,"comment_id":41380989,"body_markdown":"@Zorf: If all your `person` does it to store first and last name, then it&#39;s nothing but a (glorified) `struct` and, thus, not OOP, but Structured Programming. (Whether setters and getters gain you anything in this scenario over plainly accessing the data is dubious at best: _A)_ How else but in a string would you represent a person&#39;s names? And I&#39;m talking practical scenarios here, not theory, because _B)_ in 20 years of practice I have never run into such a situation.)","body":"@Zorf: If all your <code>person</code> does it to store first and last name, then it&#39;s nothing but a (glorified) <code>struct</code> and, thus, not OOP, but Structured Programming. (Whether setters and getters gain you anything in this scenario over plainly accessing the data is dubious at best: <i>A)</i> How else but in a string would you represent a person&#39;s names? And I&#39;m talking practical scenarios here, not theory, because <i>B)</i> in 20 years of practice I have never run into such a situation.)"},{"owner":{"account_id":18994407,"reputation":936,"user_id":14022084,"display_name":"Zeyad Shaban"},"score":0,"creation_date":1658349906,"post_id":1568103,"comment_id":129032931,"body_markdown":"with new setter and getter syntax it won&#39;t be a problem, just public int myVar {get; set;} and to add functions myVar {get {bla bla bla}; set {bla bla bla}} and none of your code will break","body":"with new setter and getter syntax it won&#39;t be a problem, just public int myVar {get; set;} and to add functions myVar {get {bla bla bla}; set {bla bla bla}} and none of your code will break"},{"owner":{"account_id":13558330,"reputation":151,"user_id":9780975,"display_name":"Ben"},"score":0,"creation_date":1696990137,"post_id":1568103,"comment_id":136222007,"body_markdown":"How about just overload the =  though it is for c++","body":"How about just overload the =  though it is for c++"}],"tags":[],"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"comment_count":16,"down_vote_count":24,"up_vote_count":656,"is_accepted":false,"score":632,"last_activity_date":1255544599,"creation_date":1255544599,"answer_id":1568103,"question_id":1568091,"body_markdown":"Because 2 weeks (months, years) from now when you realize that your setter needs to do **more** than just set the value, you&#39;ll also realize that the property has been used directly in 238 other classes :-)","title":"Why use getters and setters/accessors?","body":"<p>Because 2 weeks (months, years) from now when you realize that your setter needs to do <strong>more</strong> than just set the value, you'll also realize that the property has been used directly in 238 other classes :-)</p>\n"},{"comments":[{"owner":{"account_id":20076805,"reputation":5638,"user_id":14720380,"display_name":"Tom McLean"},"score":0,"creation_date":1668451293,"post_id":1568109,"comment_id":131403240,"body_markdown":"I dont understand this argument, sure someone could set the value to null, if they wanted their code to break. Maybe on the most public of apis for your library, this would be useful for validation, but for internal code there is a lot more boiler plate code if all your setters and getters do are get and set the private variables","body":"I dont understand this argument, sure someone could set the value to null, if they wanted their code to break. Maybe on the most public of apis for your library, this would be useful for validation, but for internal code there is a lot more boiler plate code if all your setters and getters do are get and set the private variables"}],"tags":[],"owner":{"account_id":445,"reputation":114845,"user_id":572,"accept_rate":90,"display_name":"Thomas Owens"},"comment_count":1,"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1255544711,"creation_date":1255544711,"answer_id":1568109,"question_id":1568091,"body_markdown":"One advantage of accessors and mutators is that you can perform validation.\r\n\r\nFor example, if `foo` was public, I could easily set it to `null` and then someone else could try to call a method on the object. But it&#39;s not there anymore! With a `setFoo` method, I could ensure that `foo` was never set to `null`.\r\n\r\nAccessors and mutators also allow for encapsulation - if you aren&#39;t supposed to see the value once its set (perhaps it&#39;s set in the constructor and then used by methods, but never supposed to be changed), it will never been seen by anyone. But if you can allow other classes to see or change it, you can provide the proper accessor and/or mutator.","title":"Why use getters and setters/accessors?","body":"<p>One advantage of accessors and mutators is that you can perform validation.</p>\n\n<p>For example, if <code>foo</code> was public, I could easily set it to <code>null</code> and then someone else could try to call a method on the object. But it's not there anymore! With a <code>setFoo</code> method, I could ensure that <code>foo</code> was never set to <code>null</code>.</p>\n\n<p>Accessors and mutators also allow for encapsulation - if you aren't supposed to see the value once its set (perhaps it's set in the constructor and then used by methods, but never supposed to be changed), it will never been seen by anyone. But if you can allow other classes to see or change it, you can provide the proper accessor and/or mutator.</p>\n"},{"comments":[{"owner":{"account_id":47491,"reputation":220833,"user_id":140719,"accept_rate":88,"display_name":"sbi"},"score":23,"creation_date":1345756480,"post_id":1568111,"comment_id":16171692,"body_markdown":"The encapsulation getters and setters offer are laughably thin. See [here](http://stackoverflow.com/questions/1568091/why-use-getters-and-setters#comment16169586_1568230).","body":"The encapsulation getters and setters offer are laughably thin. See <a href=\"http://stackoverflow.com/questions/1568091/why-use-getters-and-setters#comment16169586_1568230\">here</a>."},{"owner":{"account_id":114376,"reputation":8472,"user_id":300797,"accept_rate":93,"display_name":"thecoshman"},"score":0,"creation_date":1367576254,"post_id":1568111,"comment_id":23433171,"body_markdown":"If your public interface states that &#39;foo&#39; is of type &#39;T&#39; and can be set to anything, you can never change that. You can not latter decide to make it of type &#39;Y&#39;, nor can you impose rules such as size constraints. Thus if you have public get/set that do nothing much set/get, you are gaining nothing that a public field will not offer and making it more cumbersome to use.\nIf you have a constraint, such as the object can be set to null, or the value has to be within a range, then yes, a public set method would be required, but you still present a contract from setting this value that can&#39;t change","body":"If your public interface states that &#39;foo&#39; is of type &#39;T&#39; and can be set to anything, you can never change that. You can not latter decide to make it of type &#39;Y&#39;, nor can you impose rules such as size constraints. Thus if you have public get/set that do nothing much set/get, you are gaining nothing that a public field will not offer and making it more cumbersome to use. If you have a constraint, such as the object can be set to null, or the value has to be within a range, then yes, a public set method would be required, but you still present a contract from setting this value that can&#39;t change"},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1383077057,"post_id":1568111,"comment_id":29208653,"body_markdown":"Why can&#39;t a contract change?","body":"Why can&#39;t a contract change?"},{"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":5,"creation_date":1383131165,"post_id":1568111,"comment_id":29229892,"body_markdown":"Why should things keep on compiling if contracts change?","body":"Why should things keep on compiling if contracts change?"}],"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"comment_count":4,"down_vote_count":7,"up_vote_count":14,"is_accepted":false,"score":7,"last_activity_date":1255544719,"creation_date":1255544719,"answer_id":1568111,"question_id":1568091,"body_markdown":"One of the basic principals of OO design: **Encapsulation!**\r\n\r\nIt gives you many benefits, one of which being that you can change the implementation of the getter/setter behind the scenes but any consumer of that value will continue to work as long as the data type remains the same.","title":"Why use getters and setters/accessors?","body":"<p>One of the basic principals of OO design: <strong>Encapsulation!</strong></p>\n\n<p>It gives you many benefits, one of which being that you can change the implementation of the getter/setter behind the scenes but any consumer of that value will continue to work as long as the data type remains the same.</p>\n"},{"comments":[{"owner":{"account_id":33364,"reputation":9348,"user_id":93345,"accept_rate":82,"display_name":"steamer25"},"score":1,"creation_date":1255547462,"post_id":1568112,"comment_id":1428232,"body_markdown":"Re: C#. If you add functionality to a get/set wouldn&#39;t that require recompilation anyway?","body":"Re: C#. If you add functionality to a get/set wouldn&#39;t that require recompilation anyway?"},{"owner":{"account_id":2550,"reputation":198084,"user_id":3560,"accept_rate":83,"display_name":"John Millikin"},"score":0,"creation_date":1255547641,"post_id":1568112,"comment_id":1428250,"body_markdown":"@steamer25: sorry, mis-typed. I meant that clients of the class will have to be recompiled.","body":"@steamer25: sorry, mis-typed. I meant that clients of the class will have to be recompiled."},{"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":5,"creation_date":1348639061,"post_id":1568112,"comment_id":16975414,"body_markdown":"Adding validation logic to a setFoo method will not require changing the interface of a class *at the language level*, but *it does change the actual interface*, aka contract, because it changes the preconditions. Why would one want the compiler to not treat that as a breaking change *when it is*?","body":"Adding validation logic to a setFoo method will not require changing the interface of a class <i>at the language level</i>, but <i>it does change the actual interface</i>, aka contract, because it changes the preconditions. Why would one want the compiler to not treat that as a breaking change <i>when it is</i>?"},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1383075220,"post_id":1568112,"comment_id":29207641,"body_markdown":"@R.MartinhoFernandes how does one fix this &quot;broken&quot; problem?  The compiler can&#39;t tell if it&#39;s breaking or not.  This is only a concern when you are writing libraries for others, but you&#39;re making it out as universal zOMG here be dragons!","body":"@R.MartinhoFernandes how does one fix this &quot;broken&quot; problem?  The compiler can&#39;t tell if it&#39;s breaking or not.  This is only a concern when you are writing libraries for others, but you&#39;re making it out as universal zOMG here be dragons!"},{"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":3,"creation_date":1383130976,"post_id":1568112,"comment_id":29229776,"body_markdown":"Requiring recompilation, as mentioned in the answer, is one way the compiler can make you aware of a possible breaking change. And almost everything I write is effectively &quot;a library for others&quot;, because I don&#39;t work alone. I write code that has interfaces that other people in the project will use. What&#39;s the difference? Hell, even if I will be the user of those interfaces, why should I hold my code to lower quality standards? I don&#39;t like working with troublesome interfaces, even if I&#39;m the one writing them.","body":"Requiring recompilation, as mentioned in the answer, is one way the compiler can make you aware of a possible breaking change. And almost everything I write is effectively &quot;a library for others&quot;, because I don&#39;t work alone. I write code that has interfaces that other people in the project will use. What&#39;s the difference? Hell, even if I will be the user of those interfaces, why should I hold my code to lower quality standards? I don&#39;t like working with troublesome interfaces, even if I&#39;m the one writing them."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1535581435,"post_id":1568112,"comment_id":91124003,"body_markdown":"Objective-C uses annotations to mark properties. If the programmer of the class provides no accessor (getter/setter) methods for the annotated member variable, such methods are automatically synthesized. The authoring programmer can always go back and provide an implementation of the accessor anytime she desires. I have no idea why Java has not adopted such a simple solution to lacking properties.","body":"Objective-C uses annotations to mark properties. If the programmer of the class provides no accessor (getter/setter) methods for the annotated member variable, such methods are automatically synthesized. The authoring programmer can always go back and provide an implementation of the accessor anytime she desires. I have no idea why Java has not adopted such a simple solution to lacking properties."}],"tags":[],"owner":{"account_id":2550,"reputation":198084,"user_id":3560,"accept_rate":83,"display_name":"John Millikin"},"comment_count":6,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1255547622,"creation_date":1255544725,"answer_id":1568112,"question_id":1568091,"body_markdown":"In languages which don&#39;t support &quot;properties&quot; (C++, Java) or require recompilation of clients when changing fields to properties (C#), using get/set methods is easier to modify. For example, adding validation logic to a setFoo method will not require changing the public interface of a class.\r\n\r\nIn languages which support &quot;real&quot; properties (Python, Ruby, maybe Smalltalk?) there is no point to get/set methods.","title":"Why use getters and setters/accessors?","body":"<p>In languages which don't support \"properties\" (C++, Java) or require recompilation of clients when changing fields to properties (C#), using get/set methods is easier to modify. For example, adding validation logic to a setFoo method will not require changing the public interface of a class.</p>\n\n<p>In languages which support \"real\" properties (Python, Ruby, maybe Smalltalk?) there is no point to get/set methods.</p>\n"},{"comments":[{"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":2,"creation_date":1348638863,"post_id":1568114,"comment_id":16975361,"body_markdown":"I suppose that changing the behaviour of the getter or setter isn&#39;t a breaking change then. &lt;/sarcasm&gt;","body":"I suppose that changing the behaviour of the getter or setter isn&#39;t a breaking change then. &lt;/sarcasm&gt;"},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1383073822,"post_id":1568114,"comment_id":29206859,"body_markdown":"@R.MartinhoFernandes doesn&#39;t always have to be.  TBYS","body":"@R.MartinhoFernandes doesn&#39;t always have to be.  TBYS"}],"tags":[],"owner":{"account_id":44858,"reputation":11363,"user_id":131887,"accept_rate":92,"display_name":"Pete"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1255544759,"creation_date":1255544759,"answer_id":1568114,"question_id":1568091,"body_markdown":"Additionally, this is to &quot;future-proof&quot; your class. In particular, changing from a field to a property is an ABI break, so if you do later decide that you need more logic than just &quot;set/get the field&quot;, then you need to break ABI, which of course creates problems for anything else already compiled against your class.","title":"Why use getters and setters/accessors?","body":"<p>Additionally, this is to \"future-proof\" your class. In particular, changing from a field to a property is an ABI break, so if you do later decide that you need more logic than just \"set/get the field\", then you need to break ABI, which of course creates problems for anything else already compiled against your class.</p>\n"},{"comments":[{"owner":{"account_id":831,"reputation":123897,"user_id":1084,"accept_rate":86,"display_name":"Nathan Fellman"},"score":77,"creation_date":1255546635,"post_id":1568122,"comment_id":1428133,"body_markdown":"Hunting down every usage of the public field shouldn&#39;t be that hard.  Make it private and let the compiler find them.","body":"Hunting down every usage of the public field shouldn&#39;t be that hard.  Make it private and let the compiler find them."},{"owner":{"account_id":33731,"reputation":773,"user_id":94657,"accept_rate":80,"display_name":"Hardryv"},"score":12,"creation_date":1255547116,"post_id":1568122,"comment_id":1428189,"body_markdown":"that&#39;s true of course, but why make it any harder than it was designed to be.  The get/set approach is still the better answer.","body":"that&#39;s true of course, but why make it any harder than it was designed to be.  The get/set approach is still the better answer."},{"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":37,"creation_date":1383131524,"post_id":1568122,"comment_id":29230123,"body_markdown":"@GraemePerrow having to change them all is an advantage, not a problem :( What if you had code that assumed speed could be higher than 100 (because, you know, before you broke the contract, it could!) (`while(speed &lt; 200) { do_something(); accelerate(); }`)","body":"@GraemePerrow having to change them all is an advantage, not a problem :( What if you had code that assumed speed could be higher than 100 (because, you know, before you broke the contract, it could!) (<code>while(speed &lt; 200) { do_something(); accelerate(); }</code>)"},{"owner":{"account_id":1617675,"reputation":5870,"user_id":1494902,"accept_rate":57,"display_name":"Piotr Aleksander Chmielowski"},"score":53,"creation_date":1456230280,"post_id":1568122,"comment_id":58841390,"body_markdown":"It is a VERY bad example! Someone should call:\n`myCar.setSpeed(157);`\nand after few lines\n`speed = myCar.getSpeed();`\nAnd now... I wish you happy debugging while trying to understand why `speed==100` when it should be `157`","body":"It is a VERY bad example! Someone should call: <code>myCar.setSpeed(157);</code> and after few lines <code>speed = myCar.getSpeed();</code> And now... I wish you happy debugging while trying to understand why <code>speed==100</code> when it should be <code>157</code>"}],"tags":[],"owner":{"account_id":30469,"reputation":4891,"user_id":83119,"accept_rate":82,"display_name":"Peter D"},"comment_count":4,"down_vote_count":9,"up_vote_count":66,"is_accepted":false,"score":57,"last_activity_date":1255544842,"creation_date":1255544842,"answer_id":1568122,"question_id":1568091,"body_markdown":"There are many reasons. My favorite one is when you need to change the behavior or regulate what you can set on a variable. For instance, lets say you had a setSpeed(int speed) method. But you want that you can only set a maximum speed of 100. You would do something like:\r\n\r\n    public void setSpeed(int speed) {\r\n      if ( speed &gt; 100 ) {\r\n        this.speed = 100;\r\n      } else {\r\n        this.speed = speed;\r\n      }\r\n    }\r\n\r\nNow what if EVERYWHERE in your code you were using the public field and then you realized you need the above requirement? Have fun hunting down every usage of the public field instead of just modifying your setter.\r\n\r\nMy 2 cents :)","title":"Why use getters and setters/accessors?","body":"<p>There are many reasons. My favorite one is when you need to change the behavior or regulate what you can set on a variable. For instance, lets say you had a setSpeed(int speed) method. But you want that you can only set a maximum speed of 100. You would do something like:</p>\n\n<pre><code>public void setSpeed(int speed) {\n  if ( speed &gt; 100 ) {\n    this.speed = 100;\n  } else {\n    this.speed = speed;\n  }\n}\n</code></pre>\n\n<p>Now what if EVERYWHERE in your code you were using the public field and then you realized you need the above requirement? Have fun hunting down every usage of the public field instead of just modifying your setter.</p>\n\n<p>My 2 cents :)</p>\n"},{"comments":[{"owner":{"account_id":2847999,"reputation":15490,"user_id":2445864,"accept_rate":79,"display_name":"Hubert Grzeskowiak"},"score":0,"creation_date":1470045263,"post_id":1568127,"comment_id":64770132,"body_markdown":"I&#39;d never expect a getter or setter to be an expensive operation. In such cases better use a factory: use all setters you need and then invoke the expensive `execute` or `build` method.","body":"I&#39;d never expect a getter or setter to be an expensive operation. In such cases better use a factory: use all setters you need and then invoke the expensive <code>execute</code> or <code>build</code> method."}],"tags":[],"owner":{"account_id":1603,"reputation":193473,"user_id":2147,"accept_rate":85,"display_name":"Jason Baker"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1255544865,"creation_date":1255544865,"answer_id":1568127,"question_id":1568091,"body_markdown":"One other use (in languages that support properties) is that setters and getters can imply that an operation is non-trivial.  Typically, you want to avoid doing anything that&#39;s computationally expensive in a property.","title":"Why use getters and setters/accessors?","body":"<p>One other use (in languages that support properties) is that setters and getters can imply that an operation is non-trivial.  Typically, you want to avoid doing anything that's computationally expensive in a property.</p>\n"},{"comments":[{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":2,"creation_date":1255545602,"post_id":1568150,"comment_id":1428005,"body_markdown":"Yes, I&#39;ve said as much in a comment below my answer. Java is not the only language to use getters / setters as a crutch just like Python is not the only language able to define properties. The main point, however, still remains - &quot;property&quot; is not the same &quot;public field&quot;.","body":"Yes, I&#39;ve said as much in a comment below my answer. Java is not the only language to use getters / setters as a crutch just like Python is not the only language able to define properties. The main point, however, still remains - &quot;property&quot; is not the same &quot;public field&quot;."},{"owner":{"account_id":44621,"reputation":18706,"user_id":131084,"display_name":"jcdyer"},"score":0,"creation_date":1255613709,"post_id":1568150,"comment_id":1432862,"body_markdown":"@ChssPly76: but the main reason for using getters and setters is to prevent having to change the interface when you want to add more functionality, which means that it&#39;s perfectly acceptable--idiomatic even--to use public fields until such functionality is needed.","body":"@ChssPly76: but the main reason for using getters and setters is to prevent having to change the interface when you want to add more functionality, which means that it&#39;s perfectly acceptable--idiomatic even--to use public fields until such functionality is needed."},{"owner":{"account_id":44712,"reputation":99796,"user_id":131368,"accept_rate":78,"display_name":"ChssPly76"},"score":1,"creation_date":1255640952,"post_id":1568150,"comment_id":1435975,"body_markdown":"@jcd - not at all. You&#39;re defining your &quot;interface&quot; (public API would be a better term here) by exposing your public fields. Once that&#39;s done, there&#39;s no going back. Properties are NOT fields because they provide you with a mechanism to intercept attempts to access fields (by routing them to methods if those are defined); that is, however, nothing more than syntax sugar over getter / setter methods. It&#39;s extremely convenient but it doesn&#39;t alter the underlying paradigm - exposing fields with no control over access to them violates the principle of encapsulation.","body":"@jcd - not at all. You&#39;re defining your &quot;interface&quot; (public API would be a better term here) by exposing your public fields. Once that&#39;s done, there&#39;s no going back. Properties are NOT fields because they provide you with a mechanism to intercept attempts to access fields (by routing them to methods if those are defined); that is, however, nothing more than syntax sugar over getter / setter methods. It&#39;s extremely convenient but it doesn&#39;t alter the underlying paradigm - exposing fields with no control over access to them violates the principle of encapsulation."},{"owner":{"account_id":44621,"reputation":18706,"user_id":131084,"display_name":"jcdyer"},"score":17,"creation_date":1255706871,"post_id":1568150,"comment_id":1440139,"body_markdown":"@ChssPly76—I disagree. I have just as much control as if they were properties, because I can make them properties whenever I need to. There is no difference between a property that uses boilerplate getters and setters, and a raw attribute, except that the raw attribute is faster, because it utilizes the underlying language, rather than calling methods.  Functionally, they are identical. The only way encapsulation could be violated is if you think parentheses (`obj.set_attr(&#39;foo&#39;)`) are inherently superior to equals signs (`obj.attr = &#39;foo&#39;`). Public access is public access.","body":"@ChssPly76—I disagree. I have just as much control as if they were properties, because I can make them properties whenever I need to. There is no difference between a property that uses boilerplate getters and setters, and a raw attribute, except that the raw attribute is faster, because it utilizes the underlying language, rather than calling methods.  Functionally, they are identical. The only way encapsulation could be violated is if you think parentheses (<code>obj.set_attr(&#39;foo&#39;)</code>) are inherently superior to equals signs (<code>obj.attr = &#39;foo&#39;</code>). Public access is public access."},{"owner":{"account_id":58478,"reputation":53851,"user_id":175071,"accept_rate":82,"display_name":"Timo Huovinen"},"score":1,"creation_date":1376128196,"post_id":1568150,"comment_id":26603544,"body_markdown":"@jcdyer as much control yes, but not as much readability, others often wrongly assume that `obj.attr = &#39;foo&#39;` just sets the variable without anything else happening","body":"@jcdyer as much control yes, but not as much readability, others often wrongly assume that <code>obj.attr = &#39;foo&#39;</code> just sets the variable without anything else happening"},{"owner":{"account_id":275020,"reputation":75308,"user_id":567620,"accept_rate":72,"display_name":"ely"},"score":9,"creation_date":1413554406,"post_id":1568150,"comment_id":41498278,"body_markdown":"@TimoHuovinen How is that any different than a user in Java assuming that `obj.setAttr(&#39;foo&#39;)` &quot;just sets the variable without anything else happening&quot;? If it&#39;s a public methods, then it&#39;s a public method. If you use it to achieve some side-effect, and it is public, then you had better be able to count on everything working *as if only that intended side effect happened* (with *all* other implementation details and other side effects, resource use, whatever, hidden from the user&#39;s concerns). This is absolutely no different with Python. Python&#39;s syntax to achieve the effect is just simpler.","body":"@TimoHuovinen How is that any different than a user in Java assuming that <code>obj.setAttr(&#39;foo&#39;)</code> &quot;just sets the variable without anything else happening&quot;? If it&#39;s a public methods, then it&#39;s a public method. If you use it to achieve some side-effect, and it is public, then you had better be able to count on everything working <i>as if only that intended side effect happened</i> (with <i>all</i> other implementation details and other side effects, resource use, whatever, hidden from the user&#39;s concerns). This is absolutely no different with Python. Python&#39;s syntax to achieve the effect is just simpler."}],"tags":[],"owner":{"account_id":44621,"reputation":18706,"user_id":131084,"display_name":"jcdyer"},"comment_count":6,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1593894663,"creation_date":1255545121,"answer_id":1568150,"question_id":1568091,"body_markdown":"Depends on your language.  You&#39;ve tagged this &quot;object-oriented&quot; rather than &quot;Java&quot;, so I&#39;d like to point out that ChssPly76&#39;s answer is language-dependent.  In Python, for instance, there is no reason to use getters and setters.  If you need to change the behavior, you can use a property, which wraps a getter and setter around basic attribute access.  Something like this:\r\n```python\r\n class Simple(object):\r\n   def _get_value(self):\r\n       return self._value -1\r\n\r\n   def _set_value(self, new_value):\r\n       self._value = new_value + 1\r\n\r\n   def _del_value(self):\r\n       self.old_values.append(self._value)\r\n       del self._value\r\n\r\n   value = property(_get_value, _set_value, _del_value)\r\n```\r\n","title":"Why use getters and setters/accessors?","body":"<p>Depends on your language.  You've tagged this &quot;object-oriented&quot; rather than &quot;Java&quot;, so I'd like to point out that ChssPly76's answer is language-dependent.  In Python, for instance, there is no reason to use getters and setters.  If you need to change the behavior, you can use a property, which wraps a getter and setter around basic attribute access.  Something like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code> class Simple(object):\n   def _get_value(self):\n       return self._value -1\n\n   def _set_value(self, new_value):\n       self._value = new_value + 1\n\n   def _del_value(self):\n       self.old_values.append(self._value)\n       del self._value\n\n   value = property(_get_value, _set_value, _del_value)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56909,"reputation":19748,"user_id":170443,"accept_rate":89,"display_name":"jdehaan"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1255545508,"creation_date":1255545508,"answer_id":1568190,"question_id":1568091,"body_markdown":"One aspect I missed in the answers so far, the access specification:\r\n\r\n - for members you have only one access specification for both setting and getting\r\n - for setters and getters you can fine tune it and define it separately\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>One aspect I missed in the answers so far, the access specification:</p>\n\n<ul>\n<li>for members you have only one access specification for both setting and getting</li>\n<li>for setters and getters you can fine tune it and define it separately</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":8636514,"reputation":642,"user_id":6466510,"display_name":"andreagalle"},"score":0,"creation_date":1630656945,"post_id":1568230,"comment_id":122021259,"body_markdown":"concerning the last point: why, for example, the set could be protected?","body":"concerning the last point: why, for example, the set could be protected?"},{"owner":{"account_id":21415032,"reputation":181,"user_id":16720064,"display_name":"0xff"},"score":2,"creation_date":1635790973,"post_id":1568230,"comment_id":123382443,"body_markdown":"@andreagalle There&#39;s many reason that could be the case. Maybe you have an attribute that is not to be changed from the outside. In that scenario you could also completely remove the setter. But maybe you want to change this change-blocking behaviour in a subclass, which could then utilize the `protected` method.","body":"@andreagalle There&#39;s many reason that could be the case. Maybe you have an attribute that is not to be changed from the outside. In that scenario you could also completely remove the setter. But maybe you want to change this change-blocking behaviour in a subclass, which could then utilize the <code>protected</code> method."},{"owner":{"account_id":543871,"reputation":356,"user_id":913136,"display_name":"Eugene"},"score":13,"creation_date":1644715461,"post_id":1568230,"comment_id":125679968,"body_markdown":"-1 Because point no. 1 is the dev trap #1: Classical Getters / Setters do not encapsulate behaviour. Because they do not express behaviour. Cutomer::setContractEndDate() / Customer::getContractEndDate() is no behaviour and it does not encapsulate anything at all. It&#39;s faking encapsulation. Customer::cancelContract() is a behaviour and that&#39;s where you actually can modify the logic without changing the interface. It won&#39;t work if you make atomic properties public through getters and setters.","body":"-1 Because point no. 1 is the dev trap #1: Classical Getters / Setters do not encapsulate behaviour. Because they do not express behaviour. Cutomer::setContractEndDate() / Customer::getContractEndDate() is no behaviour and it does not encapsulate anything at all. It&#39;s faking encapsulation. Customer::cancelContract() is a behaviour and that&#39;s where you actually can modify the logic without changing the interface. It won&#39;t work if you make atomic properties public through getters and setters."},{"owner":{"account_id":1402825,"reputation":647,"user_id":1331274,"accept_rate":67,"display_name":"Zbyszek"},"score":7,"creation_date":1649482550,"post_id":1568230,"comment_id":126891842,"body_markdown":"There&#39;re many good reasons to walk outside in kevlar riot suit, gas mask and shield. You&#39;ll be safer! You&#39;ll be protected from chemical and biological threats. And many more!\n\nSo every approach that consider only positives or only negatives is unbalanced so in practice lead  to looses. Because you have to pay, for the &quot;good thing&quot; and the price is not smth you can neglect. What is the price of getters and setters? Your time, your attention, your life in effect. So use them whenever you and others derive more benefits in categories of time spent on creating and maintaining code.","body":"There&#39;re many good reasons to walk outside in kevlar riot suit, gas mask and shield. You&#39;ll be safer! You&#39;ll be protected from chemical and biological threats. And many more!  So every approach that consider only positives or only negatives is unbalanced so in practice lead  to looses. Because you have to pay, for the &quot;good thing&quot; and the price is not smth you can neglect. What is the price of getters and setters? Your time, your attention, your life in effect. So use them whenever you and others derive more benefits in categories of time spent on creating and maintaining code."},{"owner":{"account_id":3708757,"reputation":670,"user_id":3086619,"accept_rate":57,"display_name":"Mikz"},"score":3,"creation_date":1687268608,"post_id":1568230,"comment_id":134910783,"body_markdown":"1. Unforeseen side effects, when someone sees a getter or setter, they don&#39;t assume additional behavior. Don&#39;t lie to your fellow programmers.\n2. You shouldn&#39;t expose state, just design your interface around behaviors\n3. Possible violation of Liskov Substitution Principle. Also, design behaviors, don&#39;t provide access to the state.\n4. I don&#39;t see how getters/setters can achieve that\n5. Don&#39;t write code with the sole purpose of debugging. Especially inside your classes that should be the core of your domain.","body":"1. Unforeseen side effects, when someone sees a getter or setter, they don&#39;t assume additional behavior. Don&#39;t lie to your fellow programmers. 2. You shouldn&#39;t expose state, just design your interface around behaviors 3. Possible violation of Liskov Substitution Principle. Also, design behaviors, don&#39;t provide access to the state. 4. I don&#39;t see how getters/setters can achieve that 5. Don&#39;t write code with the sole purpose of debugging. Especially inside your classes that should be the core of your domain."},{"owner":{"account_id":3708757,"reputation":670,"user_id":3086619,"accept_rate":57,"display_name":"Mikz"},"score":3,"creation_date":1687269108,"post_id":1568230,"comment_id":134910901,"body_markdown":"6. Such libraries are a nightmare to use and you should provide a DTOs for them, there&#39;s no a good way here, but the least bad is the reflection (please don&#39;t write anything using it)\n7. Again, don&#39;t provoke the Liskov Substitution Principle violation\n8. Just don&#39;t see a point. If the uncontrolled external modification of the object&#39;s state is a horrible idea, launching lambdas that to this in the air seems even worse.\n9. The only semi-valid reason. But works only if you use inheritance, which is currently considered an anti-pattern.","body":"6. Such libraries are a nightmare to use and you should provide a DTOs for them, there&#39;s no a good way here, but the least bad is the reflection (please don&#39;t write anything using it) 7. Again, don&#39;t provoke the Liskov Substitution Principle violation 8. Just don&#39;t see a point. If the uncontrolled external modification of the object&#39;s state is a horrible idea, launching lambdas that to this in the air seems even worse. 9. The only semi-valid reason. But works only if you use inheritance, which is currently considered an anti-pattern."},{"owner":{"account_id":3708757,"reputation":670,"user_id":3086619,"accept_rate":57,"display_name":"Mikz"},"score":0,"creation_date":1687271984,"post_id":1568230,"comment_id":134911567,"body_markdown":"To summarize my previous comments: there&#39;s hardly a valid reason to do such thing as getter and setter for a private member. It&#39;s basically the same as a public member but misguidingly concealed.","body":"To summarize my previous comments: there&#39;s hardly a valid reason to do such thing as getter and setter for a private member. It&#39;s basically the same as a public member but misguidingly concealed."}],"tags":[],"owner":{"account_id":32913,"reputation":129972,"user_id":91671,"accept_rate":89,"display_name":"LBushkin"},"comment_count":7,"down_vote_count":32,"up_vote_count":1239,"is_accepted":true,"score":1207,"last_activity_date":1382595937,"creation_date":1255546075,"answer_id":1568230,"question_id":1568091,"body_markdown":"**There are actually *many good reasons* to consider using accessors** rather than directly exposing fields of a class - beyond just the argument of encapsulation and making future changes easier. \r\n\r\n*Here are the some of the reasons I am aware of:*\r\n\r\n * Encapsulation of behavior associated with getting or setting the property - this allows additional functionality (like validation) to be added more easily later.\r\n * Hiding the internal representation of the property while exposing a property using an alternative representation.\r\n * Insulating your public interface from change - allowing the public interface to remain constant while the implementation changes without affecting existing consumers.\r\n * Controlling the lifetime and memory management (disposal) semantics of the property - particularly important in non-managed memory environments (like C++ or Objective-C).\r\n * Providing a debugging interception point for when a property changes at runtime - debugging when and where a property changed to a particular value can be quite difficult without this in some languages.\r\n * Improved interoperability with libraries that are designed to operate against property getter/setters - Mocking, Serialization, and WPF come to mind.\r\n * Allowing inheritors to change the semantics of how the property behaves and is exposed by overriding the getter/setter methods.\r\n * Allowing the getter/setter to be passed around as lambda expressions rather than values.\r\n * Getters and setters can allow different access levels - for example the get may be public, but the set could be protected.","title":"Why use getters and setters/accessors?","body":"<p><strong>There are actually <em>many good reasons</em> to consider using accessors</strong> rather than directly exposing fields of a class - beyond just the argument of encapsulation and making future changes easier. </p>\n\n<p><em>Here are the some of the reasons I am aware of:</em></p>\n\n<ul>\n<li>Encapsulation of behavior associated with getting or setting the property - this allows additional functionality (like validation) to be added more easily later.</li>\n<li>Hiding the internal representation of the property while exposing a property using an alternative representation.</li>\n<li>Insulating your public interface from change - allowing the public interface to remain constant while the implementation changes without affecting existing consumers.</li>\n<li>Controlling the lifetime and memory management (disposal) semantics of the property - particularly important in non-managed memory environments (like C++ or Objective-C).</li>\n<li>Providing a debugging interception point for when a property changes at runtime - debugging when and where a property changed to a particular value can be quite difficult without this in some languages.</li>\n<li>Improved interoperability with libraries that are designed to operate against property getter/setters - Mocking, Serialization, and WPF come to mind.</li>\n<li>Allowing inheritors to change the semantics of how the property behaves and is exposed by overriding the getter/setter methods.</li>\n<li>Allowing the getter/setter to be passed around as lambda expressions rather than values.</li>\n<li>Getters and setters can allow different access levels - for example the get may be public, but the set could be protected.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":128896,"reputation":11693,"user_id":327074,"accept_rate":86,"display_name":"icc97"},"score":0,"creation_date":1410985462,"post_id":1568346,"comment_id":40536857,"body_markdown":"So then does the getter call the setter?","body":"So then does the getter call the setter?"},{"owner":{"account_id":40259,"reputation":6145,"user_id":116645,"accept_rate":85,"display_name":"quillbreaker"},"score":0,"creation_date":1411150850,"post_id":1568346,"comment_id":40610504,"body_markdown":"I&#39;ve added a code sample of how I&#39;ve done it in the past - essentially, you store the actual class in a protected member, then return that protected member in the get accessor, initializing it if it is not initialized.","body":"I&#39;ve added a code sample of how I&#39;ve done it in the past - essentially, you store the actual class in a protected member, then return that protected member in the get accessor, initializing it if it is not initialized."},{"owner":{"account_id":12393223,"reputation":455,"user_id":9034325,"display_name":"Sara M"},"score":0,"creation_date":1513800330,"post_id":1568346,"comment_id":82794869,"body_markdown":"It&#39;s C# https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-properties","body":"It&#39;s C# <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/using-properties\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>"}],"tags":[],"owner":{"account_id":40259,"reputation":6145,"user_id":116645,"accept_rate":85,"display_name":"quillbreaker"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1411150855,"creation_date":1255547310,"answer_id":1568346,"question_id":1568091,"body_markdown":"It can be useful for lazy-loading.  Say the object in question is stored in a database, and you don&#39;t want to go get it unless you need it.  If the object is retrieved by a getter, then the internal object can be null until somebody asks for it, then you can go get it on the first call to the getter.\r\n\r\nI had a base page class in a project that was handed to me that was loading some data from a couple different web service calls, but the data in those web service calls wasn&#39;t always used in all child pages.  Web services, for all of the benefits, pioneer new definitions of &quot;slow&quot;, so you don&#39;t want to make a web service call if you don&#39;t have to.\r\n\r\nI moved from public fields to getters, and now the getters check the cache, and if it&#39;s not there call the web service.  So with a little wrapping, a lot of web service calls were prevented.\r\n\r\nSo the getter saves me from trying to figure out, on each child page, what I will need.  If I need it, I call the getter, and it goes to find it for me if I don&#39;t already have it.\r\n\r\n        protected YourType _yourName = null;\r\n        public YourType YourName{\r\n          get\r\n          {\r\n            if (_yourName == null)\r\n            {\r\n              _yourName = new YourType();\r\n              return _yourName;\r\n            }\r\n          }\r\n        }\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>It can be useful for lazy-loading.  Say the object in question is stored in a database, and you don't want to go get it unless you need it.  If the object is retrieved by a getter, then the internal object can be null until somebody asks for it, then you can go get it on the first call to the getter.</p>\n\n<p>I had a base page class in a project that was handed to me that was loading some data from a couple different web service calls, but the data in those web service calls wasn't always used in all child pages.  Web services, for all of the benefits, pioneer new definitions of \"slow\", so you don't want to make a web service call if you don't have to.</p>\n\n<p>I moved from public fields to getters, and now the getters check the cache, and if it's not there call the web service.  So with a little wrapping, a lot of web service calls were prevented.</p>\n\n<p>So the getter saves me from trying to figure out, on each child page, what I will need.  If I need it, I call the getter, and it goes to find it for me if I don't already have it.</p>\n\n<pre><code>    protected YourType _yourName = null;\n    public YourType YourName{\n      get\n      {\n        if (_yourName == null)\n        {\n          _yourName = new YourType();\n          return _yourName;\n        }\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64389,"reputation":281,"user_id":190121,"display_name":"Antz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509815493,"creation_date":1255550503,"answer_id":1568629,"question_id":1568091,"body_markdown":"In an object oriented language the methods, and their access modifiers, declare the interface for that object. Between the constructor and the accessor and mutator methods it is possible for the developer to control access to the internal state of an object. If the variables are simply declared public then there is no way to regulate that access.\r\nAnd when we are using setters we can restrict the user for the input we need. Mean the feed for that very variable will come through a proper channel and the channel is predefined by us. So it&#39;s safer to use setters.\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>In an object oriented language the methods, and their access modifiers, declare the interface for that object. Between the constructor and the accessor and mutator methods it is possible for the developer to control access to the internal state of an object. If the variables are simply declared public then there is no way to regulate that access.\nAnd when we are using setters we can restrict the user for the input we need. Mean the feed for that very variable will come through a proper channel and the channel is predefined by us. So it's safer to use setters.</p>\n"},{"comments":[{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":50,"creation_date":1383073332,"post_id":1568971,"comment_id":29206576,"body_markdown":"This is argument against syntactic sugar, not against setters in general.","body":"This is argument against syntactic sugar, not against setters in general."},{"owner":{"account_id":11315069,"reputation":567,"user_id":8297052,"display_name":"tedtanner"},"score":0,"creation_date":1652274323,"post_id":1568971,"comment_id":127566494,"body_markdown":"@Phil I’d disagree. One can just as easily write a `public void setName(String name)` (in Java) that does the same exact things. Or worse, a `public void setFirstName(String name)` that does all those things.","body":"@Phil I’d disagree. One can just as easily write a <code>public void setName(String name)</code> (in Java) that does the same exact things. Or worse, a <code>public void setFirstName(String name)</code> that does all those things."},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":1,"creation_date":1652388028,"post_id":1568971,"comment_id":127600919,"body_markdown":"@tedtanner and when you do, it&#39;s no longer a mystery that a method is being invoked, since it&#39;s not disguised as field access.","body":"@tedtanner and when you do, it&#39;s no longer a mystery that a method is being invoked, since it&#39;s not disguised as field access."},{"owner":{"account_id":11315069,"reputation":567,"user_id":8297052,"display_name":"tedtanner"},"score":3,"creation_date":1652418914,"post_id":1568971,"comment_id":127606022,"body_markdown":"@Phil I am with you on that one. I don&#39;t believe in hiding method calls. I just want to point out that Kai&#39;s argument is less about syntactic sugar and more about how setters (including ones that look like method calls) shouldn&#39;t have side effects like changing other data members in the object or querying the database.","body":"@Phil I am with you on that one. I don&#39;t believe in hiding method calls. I just want to point out that Kai&#39;s argument is less about syntactic sugar and more about how setters (including ones that look like method calls) shouldn&#39;t have side effects like changing other data members in the object or querying the database."},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1652433743,"post_id":1568971,"comment_id":127610241,"body_markdown":"@tedtanner I think we share opinions as to what setters and getters should do, and as to whether they should be hidden like this or not, but the fact is when they are hidden, it&#39;s always syntactic sugar - it&#39;s always a method call, on the machine.  Back in 2009 when the answer was written, and in 2013 when I wrote my comment, one used annotations and either codegen or pointcut type solutions to do this, and it was all very non-standard.  Today in 2022, I haven&#39;t touched Java for years &#128514;","body":"@tedtanner I think we share opinions as to what setters and getters should do, and as to whether they should be hidden like this or not, but the fact is when they are hidden, it&#39;s always syntactic sugar - it&#39;s always a method call, on the machine.  Back in 2009 when the answer was written, and in 2013 when I wrote my comment, one used annotations and either codegen or pointcut type solutions to do this, and it was all very non-standard.  Today in 2022, I haven&#39;t touched Java for years 😂"}],"tags":[],"owner":{"account_id":39952,"reputation":9482,"user_id":115503,"accept_rate":93,"display_name":"Kai"},"comment_count":5,"down_vote_count":3,"up_vote_count":122,"is_accepted":false,"score":119,"last_activity_date":1255554047,"creation_date":1255554047,"answer_id":1568971,"question_id":1568091,"body_markdown":"Lots of people talk about the advantages of getters and setters but I want to play devil&#39;s advocate. Right now I&#39;m debugging a very large program where the programmers decided to make everything getters and setters. That might seem nice, but its a reverse-engineering nightmare.\r\n\r\nSay you&#39;re looking through hundreds of lines of code and you come across this:\r\n\r\n    person.name = &quot;Joe&quot;;\r\n\r\n\r\nIt&#39;s a beautifully simply piece of code until you realize its a setter. Now, you follow that setter and find that it also sets person.firstName, person.lastName, person.isHuman, person.hasReallyCommonFirstName, and calls person.update(), which sends a query out to the database, etc. Oh, that&#39;s where your memory leak was occurring.\r\n\r\nUnderstanding a local piece of code at first glance is an important property of good readability that getters and setters tend to break. That is why I try to avoid them when I can, and minimize what they do when I use them.","title":"Why use getters and setters/accessors?","body":"<p>Lots of people talk about the advantages of getters and setters but I want to play devil's advocate. Right now I'm debugging a very large program where the programmers decided to make everything getters and setters. That might seem nice, but its a reverse-engineering nightmare.</p>\n\n<p>Say you're looking through hundreds of lines of code and you come across this:</p>\n\n<pre><code>person.name = \"Joe\";\n</code></pre>\n\n<p>It's a beautifully simply piece of code until you realize its a setter. Now, you follow that setter and find that it also sets person.firstName, person.lastName, person.isHuman, person.hasReallyCommonFirstName, and calls person.update(), which sends a query out to the database, etc. Oh, that's where your memory leak was occurring.</p>\n\n<p>Understanding a local piece of code at first glance is an important property of good readability that getters and setters tend to break. That is why I try to avoid them when I can, and minimize what they do when I use them.</p>\n"},{"comments":[{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":1,"creation_date":1383073908,"post_id":1569400,"comment_id":29206900,"body_markdown":"It would be implemented at runtime with &quot;trivial methods&quot;.  Actually, probably non-trivial.","body":"It would be implemented at runtime with &quot;trivial methods&quot;.  Actually, probably non-trivial."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1515354961,"post_id":1569400,"comment_id":83259758,"body_markdown":"Today this can be done with an annotation preprocessor.","body":"Today this can be done with an annotation preprocessor."}],"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1255560024,"creation_date":1255560024,"answer_id":1569400,"question_id":1568091,"body_markdown":"I would just like to throw the idea of annotation : @getter and @setter. With @getter, you should be able to obj = class.field but not class.field = obj. With @setter, vice versa. With @getter and @setter you should be able to do both. This would preserve encapsulation and reduce the time by not calling trivial methods at runtime.","title":"Why use getters and setters/accessors?","body":"<p>I would just like to throw the idea of annotation : @getter and @setter. With @getter, you should be able to obj = class.field but not class.field = obj. With @setter, vice versa. With @getter and @setter you should be able to do both. This would preserve encapsulation and reduce the time by not calling trivial methods at runtime.</p>\n"},{"comments":[{"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"score":2,"creation_date":1257780121,"post_id":1694560,"comment_id":1577530,"body_markdown":"Okay, second question; in the case where it&#39;s a project where you&#39;re not exporting source to anyone, and you have full control of the source... are you gaining anything with getters and setters?","body":"Okay, second question; in the case where it&#39;s a project where you&#39;re not exporting source to anyone, and you have full control of the source... are you gaining anything with getters and setters?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":3,"creation_date":1257790439,"post_id":1694560,"comment_id":1578579,"body_markdown":"In any non-trivial Java project you need to code to interfaces in order to make things manageable and testable (think mockups and proxy objects).  If you use interfaces you need getters and setters.","body":"In any non-trivial Java project you need to code to interfaces in order to make things manageable and testable (think mockups and proxy objects).  If you use interfaces you need getters and setters."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1257630917,"creation_date":1257630917,"answer_id":1694560,"question_id":1568091,"body_markdown":"I spent quite a while thinking this over for the Java case, and I believe the real reasons are:\r\n\r\n 1. **Code to the interface, not the implementation**\r\n 1. **Interfaces only specify methods, not fields**\r\n\r\nIn other words, the only way you can specify a field in an interface is by providing a method for writing a new value and a method for reading the current value.  \r\n\r\nThose methods are the infamous getter and setter....","title":"Why use getters and setters/accessors?","body":"<p>I spent quite a while thinking this over for the Java case, and I believe the real reasons are:</p>\n\n<ol>\n<li><strong>Code to the interface, not the implementation</strong></li>\n<li><strong>Interfaces only specify methods, not fields</strong></li>\n</ol>\n\n<p>In other words, the only way you can specify a field in an interface is by providing a method for writing a new value and a method for reading the current value.  </p>\n\n<p>Those methods are the infamous getter and setter....</p>\n"},{"comments":[{"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":5,"creation_date":1345819155,"post_id":3208416,"comment_id":16190502,"body_markdown":"&quot;What I did above is override the existing methods on the super class with my new functionality.&quot; With functionality that we all hope was already properly documented for the old interface, right? Otherwise you just violated the LSP and introduced a silent breaking change that would have been caught by the compiler if there were no getters/setters in sight.","body":"&quot;What I did above is override the existing methods on the super class with my new functionality.&quot; With functionality that we all hope was already properly documented for the old interface, right? Otherwise you just violated the LSP and introduced a silent breaking change that would have been caught by the compiler if there were no getters/setters in sight."},{"owner":{"account_id":388668,"reputation":2288,"user_id":747739,"accept_rate":67,"display_name":"Phil"},"score":0,"creation_date":1383074145,"post_id":3208416,"comment_id":29207026,"body_markdown":"@R.MartinhoFernandes &quot;... and then run hibernate tools to generate the java code&quot;  this isn&#39;t a case of changing the behavior of some class, this is a work around to a shitty tool.   Perhaps the contract (which in this case is in the subclass) always was for that &quot;surprise&quot;.  Could be an argument for has-a instead of is-a though.","body":"@R.MartinhoFernandes &quot;... and then run hibernate tools to generate the java code&quot;  this isn&#39;t a case of changing the behavior of some class, this is a work around to a shitty tool.   Perhaps the contract (which in this case is in the subclass) always was for that &quot;surprise&quot;.  Could be an argument for has-a instead of is-a though."},{"owner":{"account_id":2565621,"reputation":2124,"user_id":2225787,"accept_rate":88,"display_name":"Agi Hammerthief"},"score":0,"creation_date":1418936348,"post_id":3208416,"comment_id":43537343,"body_markdown":"I fail to see what you achieve by not using the superclass&#39; properties directly.","body":"I fail to see what you achieve by not using the superclass&#39; properties directly."}],"tags":[],"owner":{"account_id":158262,"reputation":1358,"user_id":376763,"accept_rate":100,"display_name":"ebt"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1278627447,"creation_date":1278627447,"answer_id":3208416,"question_id":1568091,"body_markdown":"I wanted to post a real world example I just finished up:\r\n\r\nbackground - I hibernate tools to generate the mappings for my database, a database I am changing as I develop. I change the database schema, push the changes and then run hibernate tools to generate the java code. All is well and good until I want to add methods to those mapped entities. If I modify the generated files, they will be overwritten every time I make a change to the database. So I extend the generated classes like this:\r\n\r\n    package com.foo.entities.custom\r\n    class User extends com.foo.entities.User{\r\n         public Integer getSomething(){\r\n             return super.getSomething();             \r\n         }\r\n         public void setSomething(Integer something){\r\n             something+=1;\r\n             super.setSomething(something); \r\n         }\r\n    }\r\n\r\nWhat I did above is override the existing methods on the super class with my new functionality (something+1) without ever touching the base class. Same scenario if you wrote a class a year ago and want to go to version 2 without changing your base classes (testing nightmare). hope that helps.","title":"Why use getters and setters/accessors?","body":"<p>I wanted to post a real world example I just finished up:</p>\n\n<p>background - I hibernate tools to generate the mappings for my database, a database I am changing as I develop. I change the database schema, push the changes and then run hibernate tools to generate the java code. All is well and good until I want to add methods to those mapped entities. If I modify the generated files, they will be overwritten every time I make a change to the database. So I extend the generated classes like this:</p>\n\n<pre><code>package com.foo.entities.custom\nclass User extends com.foo.entities.User{\n     public Integer getSomething(){\n         return super.getSomething();             \n     }\n     public void setSomething(Integer something){\n         something+=1;\n         super.setSomething(something); \n     }\n}\n</code></pre>\n\n<p>What I did above is override the existing methods on the super class with my new functionality (something+1) without ever touching the base class. Same scenario if you wrote a class a year ago and want to go to version 2 without changing your base classes (testing nightmare). hope that helps.</p>\n"},{"comments":[{"owner":{"account_id":47491,"reputation":220833,"user_id":140719,"accept_rate":88,"display_name":"sbi"},"score":14,"creation_date":1345800584,"post_id":9883172,"comment_id":16182260,"body_markdown":"I think the crucial argument is that, _&quot;if you were designing an interface and weren&#39;t sure whether direct access to something was OK, then you should have kept designing.&quot;_ That is the most important problem with getters/setters: They reduce a class to a mere container of (more or less) public fields. In _real_ OOP, however, an object is more than a container of data fields. It encapsulates state and algorithms to manipulate that state. What&#39;s crucial about this statement is that the state is supposed to be _encapsulated_ and only to be manipulated by the algorithms provided by the object.","body":"I think the crucial argument is that, <i>&quot;if you were designing an interface and weren&#39;t sure whether direct access to something was OK, then you should have kept designing.&quot;</i> That is the most important problem with getters/setters: They reduce a class to a mere container of (more or less) public fields. In <i>real</i> OOP, however, an object is more than a container of data fields. It encapsulates state and algorithms to manipulate that state. What&#39;s crucial about this statement is that the state is supposed to be <i>encapsulated</i> and only to be manipulated by the algorithms provided by the object."}],"tags":[],"owner":{"display_name":"user595447"},"comment_count":1,"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1345757159,"creation_date":1332820406,"answer_id":9883172,"question_id":1568091,"body_markdown":"Thanks, that really clarified my thinking. Now here is (almost) 10 (almost) good reasons NOT to use getters and setters:\r\n\r\n1. When you realize you need to do more than just set and get the value, you can just make the field private, which will instantly tell you where you&#39;ve directly accessed it.&lt;br&gt;\r\n2. Any validation you perform in there can only be context free, which validation rarely is in practice.&lt;br&gt;\r\n3. You can change the value being set - this is an absolute nightmare when the caller passes you a value that they [shock horror] want you to store AS IS.&lt;br&gt;\r\n4. You can hide the internal representation - fantastic, so you&#39;re making sure that all these operations are symmetrical right?&lt;br&gt;\r\n5. You&#39;ve insulated your public interface from changes under the sheets - if you were designing an interface and weren&#39;t sure whether direct access to something was OK, then you should have kept designing.&lt;br&gt;\r\n6. Some libraries expect this, but not many - reflection, serialization, mock objects all work just fine with public fields.&lt;br&gt;\r\n7. Inheriting this class, you can override default functionality - in other words you can REALLY confuse callers by not only hiding the implementation but making it inconsistent.&lt;br&gt;\r\n\r\nThe last three I&#39;m just leaving (N/A or D/C)...","title":"Why use getters and setters/accessors?","body":"<p>Thanks, that really clarified my thinking. Now here is (almost) 10 (almost) good reasons NOT to use getters and setters:</p>\n\n<ol>\n<li>When you realize you need to do more than just set and get the value, you can just make the field private, which will instantly tell you where you've directly accessed it.<br></li>\n<li>Any validation you perform in there can only be context free, which validation rarely is in practice.<br></li>\n<li>You can change the value being set - this is an absolute nightmare when the caller passes you a value that they [shock horror] want you to store AS IS.<br></li>\n<li>You can hide the internal representation - fantastic, so you're making sure that all these operations are symmetrical right?<br></li>\n<li>You've insulated your public interface from changes under the sheets - if you were designing an interface and weren't sure whether direct access to something was OK, then you should have kept designing.<br></li>\n<li>Some libraries expect this, but not many - reflection, serialization, mock objects all work just fine with public fields.<br></li>\n<li>Inheriting this class, you can override default functionality - in other words you can REALLY confuse callers by not only hiding the implementation but making it inconsistent.<br></li>\n</ol>\n\n<p>The last three I'm just leaving (N/A or D/C)...</p>\n"},{"tags":[],"owner":{"account_id":892896,"reputation":524,"user_id":930828,"display_name":"andrers52"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335812909,"creation_date":1335812231,"answer_id":10389003,"question_id":1568091,"body_markdown":"From a object orientation design standpoint both alternatives can be damaging to the maintenance of the code by weakening the encapsulation of the classes. For a discussion you can look into this excellent article: [http://typicalprogrammer.com/?p=23][1] \r\n\r\n\r\n  [1]: http://typicalprogrammer.com/?p=23","title":"Why use getters and setters/accessors?","body":"<p>From a object orientation design standpoint both alternatives can be damaging to the maintenance of the code by weakening the encapsulation of the classes. For a discussion you can look into this excellent article: <a href=\"http://typicalprogrammer.com/?p=23\" rel=\"noreferrer\">http://typicalprogrammer.com/?p=23</a> </p>\n"},{"tags":[],"owner":{"account_id":1656357,"reputation":219,"user_id":1525811,"display_name":"Mohamed"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1342282827,"creation_date":1342282827,"answer_id":11485382,"question_id":1568091,"body_markdown":"Don&#39;t use getters setters unless needed for your current delivery I.e. Don&#39;t think too much about what would happen in the future, if any thing to be changed its a change request in most of the production applications, systems.\r\n\r\nThink simple, easy, add complexity when needed.\r\n\r\nI would not take advantage of ignorance of business owners of deep technical know how just because I think it&#39;s correct or I like the approach.\r\n\r\nI have massive system written without getters setters only with access modifiers and some methods to validate n perform biz logic. If you absolutely needed the. Use anything.","title":"Why use getters and setters/accessors?","body":"<p>Don't use getters setters unless needed for your current delivery I.e. Don't think too much about what would happen in the future, if any thing to be changed its a change request in most of the production applications, systems.</p>\n\n<p>Think simple, easy, add complexity when needed.</p>\n\n<p>I would not take advantage of ignorance of business owners of deep technical know how just because I think it's correct or I like the approach.</p>\n\n<p>I have massive system written without getters setters only with access modifiers and some methods to validate n perform biz logic. If you absolutely needed the. Use anything.</p>\n"},{"tags":[],"owner":{"account_id":1633776,"reputation":3442,"user_id":1507816,"display_name":"Jorge Aguilar"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1345646861,"creation_date":1345646861,"answer_id":12075750,"question_id":1568091,"body_markdown":"Well i just want to add that even if sometimes they are necessary for the encapsulation and security of your variables/objects, if we want to code a real Object Oriented Program, then we need to **[STOP OVERUSING THE ACCESSORS][1]**, cause sometimes we depend a lot on them when is not really necessary and that makes almost the same as if we put the variables public.\r\n\r\n\r\n  [1]: http://www.javaworld.com/javaworld/jw-09-2003/jw-0905-toolbox.html?page=1","title":"Why use getters and setters/accessors?","body":"<p>Well i just want to add that even if sometimes they are necessary for the encapsulation and security of your variables/objects, if we want to code a real Object Oriented Program, then we need to <strong><a href=\"http://www.javaworld.com/javaworld/jw-09-2003/jw-0905-toolbox.html?page=1\">STOP OVERUSING THE ACCESSORS</a></strong>, cause sometimes we depend a lot on them when is not really necessary and that makes almost the same as if we put the variables public.</p>\n"},{"comments":[{"owner":{"account_id":270599,"reputation":380432,"user_id":560648,"accept_rate":94,"display_name":"Lightness Races in Orbit"},"score":20,"creation_date":1373145165,"post_id":12108025,"comment_id":25451671,"body_markdown":"Great answer (+1). My only criticism is that it took me several reads to figure out how &quot;validation&quot; in the final paragraph differed from &quot;validation&quot; in the first few (which you threw out in the latter case but promoted in the former); adjusting the wording might help in that regard.","body":"Great answer (+1). My only criticism is that it took me several reads to figure out how &quot;validation&quot; in the final paragraph differed from &quot;validation&quot; in the first few (which you threw out in the latter case but promoted in the former); adjusting the wording might help in that regard."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":15,"creation_date":1383749888,"post_id":12108025,"comment_id":29460991,"body_markdown":"This is a great answer but alas the current era has forgotten what &quot;information hiding&quot; is or what it is for. They never read about immutability and in their quest for most-agile, never drew that state-transition-diagram that defined what the legal states of an object were and thus what were not.","body":"This is a great answer but alas the current era has forgotten what &quot;information hiding&quot; is or what it is for. They never read about immutability and in their quest for most-agile, never drew that state-transition-diagram that defined what the legal states of an object were and thus what were not."},{"owner":{"account_id":12994652,"reputation":1702,"user_id":9392736,"display_name":"sripberger"},"score":0,"creation_date":1691596276,"post_id":12108025,"comment_id":135513863,"body_markdown":"I like the pushback against dogmatic explanations, but there are situations where a class author might want to bring in logic to property access that do not break existing contracts. You might add new functionality which causes you to want to store internal data differently, while still exposing it in the same form externally.","body":"I like the pushback against dogmatic explanations, but there are situations where a class author might want to bring in logic to property access that do not break existing contracts. You might add new functionality which causes you to want to store internal data differently, while still exposing it in the same form externally."}],"tags":[],"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"comment_count":3,"down_vote_count":2,"up_vote_count":448,"is_accepted":false,"score":446,"last_activity_date":1424179601,"creation_date":1345805713,"answer_id":12108025,"question_id":1568091,"body_markdown":"A public field is not worse than a getter/setter pair that does nothing except returning the field and assigning to it. First, it&#39;s clear that (in most languages) there is no functional difference. Any difference must be in other factors, like maintainability or readability.\r\n\r\nAn oft-mentioned advantage of getter/setter pairs, isn&#39;t. There&#39;s this claim that you can change the implementation and your clients don&#39;t have to be recompiled. Supposedly, setters let you add functionality like validation later on and your clients don&#39;t even need to know about it. However, adding validation to a setter is a change to its preconditions, **a violation of the previous contract**, which was, quite simply, &quot;you can put anything in here, and you can get that same thing later from the getter&quot;.\r\n\r\nSo, now that you broke the contract, changing every file in the codebase is something you should want to do, not avoid. If you avoid it you&#39;re making the assumption that all the code assumed the contract for those methods was different.\r\n\r\nIf that should not have been the contract, then the interface was allowing clients to put the object in invalid states. *That&#39;s the exact opposite of encapsulation* If that field could not really be set to anything from the start, why wasn&#39;t the validation there from the start?\r\n\r\nThis same argument applies to other supposed advantages of these pass-through getter/setter pairs: if you later decide to change the value being set, you&#39;re breaking the contract. If you override the default functionality in a derived class, in a way beyond a few harmless modifications (like logging or other non-observable behaviour), you&#39;re breaking the contract of the base class. That is a violation of the Liskov Substitutability Principle, which is seen as one of the tenets of OO.\r\n\r\nIf a class has these dumb getters and setters for every field, then it is a class that has no invariants whatsoever, *no contract*. Is that really object-oriented design? If all the class has is those getters and setters, it&#39;s just a dumb data holder, and dumb data holders should look like dumb data holders:\r\n\r\n&lt;!-- language: c++ --&gt;\r\n\r\n    class Foo {\r\n    public:\r\n        int DaysLeft;\r\n        int ContestantNumber;\r\n    };\r\n\r\nAdding pass-through getter/setter pairs to such a class adds no value. Other classes should provide meaningful operations, not just operations that fields already provide. That&#39;s how you can define and maintain useful invariants.\r\n\r\n&gt; **Client**: &quot;What can I do with an object of this class?&quot;  \r\n&gt; **Designer**: &quot;You can read and write several variables.&quot;  \r\n&gt; **Client**: &quot;Oh... cool, I guess?&quot;\r\n\r\nThere are reasons to use getters and setters, but if those reasons don&#39;t exist, making getter/setter pairs in the name of false encapsulation gods is not a good thing. Valid reasons to make getters or setters include the things often mentioned as the potential changes you can make later, like validation or different internal representations. Or maybe the value should be readable by clients but not writable (for example, reading the size of a dictionary), so a simple getter is a nice choice. But those reasons should be there when you make the choice, and not just as a potential thing you may want later. This is an instance of YAGNI (*You Ain&#39;t Gonna Need It*).\r\n","title":"Why use getters and setters/accessors?","body":"<p>A public field is not worse than a getter/setter pair that does nothing except returning the field and assigning to it. First, it's clear that (in most languages) there is no functional difference. Any difference must be in other factors, like maintainability or readability.</p>\n\n<p>An oft-mentioned advantage of getter/setter pairs, isn't. There's this claim that you can change the implementation and your clients don't have to be recompiled. Supposedly, setters let you add functionality like validation later on and your clients don't even need to know about it. However, adding validation to a setter is a change to its preconditions, <strong>a violation of the previous contract</strong>, which was, quite simply, \"you can put anything in here, and you can get that same thing later from the getter\".</p>\n\n<p>So, now that you broke the contract, changing every file in the codebase is something you should want to do, not avoid. If you avoid it you're making the assumption that all the code assumed the contract for those methods was different.</p>\n\n<p>If that should not have been the contract, then the interface was allowing clients to put the object in invalid states. <em>That's the exact opposite of encapsulation</em> If that field could not really be set to anything from the start, why wasn't the validation there from the start?</p>\n\n<p>This same argument applies to other supposed advantages of these pass-through getter/setter pairs: if you later decide to change the value being set, you're breaking the contract. If you override the default functionality in a derived class, in a way beyond a few harmless modifications (like logging or other non-observable behaviour), you're breaking the contract of the base class. That is a violation of the Liskov Substitutability Principle, which is seen as one of the tenets of OO.</p>\n\n<p>If a class has these dumb getters and setters for every field, then it is a class that has no invariants whatsoever, <em>no contract</em>. Is that really object-oriented design? If all the class has is those getters and setters, it's just a dumb data holder, and dumb data holders should look like dumb data holders:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>class Foo {\npublic:\n    int DaysLeft;\n    int ContestantNumber;\n};\n</code></pre>\n\n<p>Adding pass-through getter/setter pairs to such a class adds no value. Other classes should provide meaningful operations, not just operations that fields already provide. That's how you can define and maintain useful invariants.</p>\n\n<blockquote>\n  <p><strong>Client</strong>: \"What can I do with an object of this class?\"<br>\n  <strong>Designer</strong>: \"You can read and write several variables.\"<br>\n  <strong>Client</strong>: \"Oh... cool, I guess?\"</p>\n</blockquote>\n\n<p>There are reasons to use getters and setters, but if those reasons don't exist, making getter/setter pairs in the name of false encapsulation gods is not a good thing. Valid reasons to make getters or setters include the things often mentioned as the potential changes you can make later, like validation or different internal representations. Or maybe the value should be readable by clients but not writable (for example, reading the size of a dictionary), so a simple getter is a nice choice. But those reasons should be there when you make the choice, and not just as a potential thing you may want later. This is an instance of YAGNI (<em>You Ain't Gonna Need It</em>).</p>\n"},{"comments":[{"owner":{"account_id":2565621,"reputation":2124,"user_id":2225787,"accept_rate":88,"display_name":"Agi Hammerthief"},"score":1,"creation_date":1418935530,"post_id":16380719,"comment_id":43536980,"body_markdown":"&quot;...  a well-defined interface that you can&#39;t just screw with the internals of&quot; and validation in setters.","body":"&quot;...  a well-defined interface that you can&#39;t just screw with the internals of&quot; and validation in setters."}],"tags":[],"owner":{"account_id":38717,"reputation":65516,"user_id":111307,"accept_rate":78,"display_name":"bobobobo"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1367719989,"creation_date":1367719672,"answer_id":16380719,"question_id":1568091,"body_markdown":"Code _evolves_.  `private` is great for when _you need data member protection_.  Eventually all classes should be sort of &quot;miniprograms&quot; that have a well-defined interface _that you can&#39;t just screw with the internals of_.\r\n\r\nThat said, _software development_ isn&#39;t about setting down that final version of the class as if you&#39;re pressing some cast iron statue on the first try.  While you&#39;re working with it, code is more like clay.  __It evolves__ as you develop it and learn more about the problem domain you are solving.  During development classes may interact with each other than they should (dependency you plan to factor out), merge together, or split apart.  So I think the debate boils down to people not wanting to religiously write\r\n\r\n    int getVar() const { return var ; }\r\n\r\nSo you have:\r\n\r\n    doSomething( obj-&gt;getVar() ) ;\r\n\r\nInstead of\r\n\r\n    doSomething( obj-&gt;var ) ;\r\n\r\nNot only is `getVar()` visually noisy, it gives this illusion that `gettingVar()` is somehow a more complex process than it really is.  How you (as the class writer) regard the sanctity of `var` is particularly confusing to a user of your class if it has a passthru setter -- then it looks like you&#39;re putting up these gates to &quot;protect&quot; something you insist is valuable, (the sanctity of `var`) but yet even you concede `var`&#39;s protection isn&#39;t worth much by the ability for anyone to just come in and `set` `var` to whatever value they want, without you even peeking at what they are doing.\r\n\r\n\r\n\r\nSo I program as follows (assuming an &quot;agile&quot; type approach -- ie when I write code not knowing _exactly_ what it will be doing/don&#39;t have time or experience to plan an elaborate waterfall style interface set):\r\n\r\n1) Start with all public members for basic objects with data and behavior.  This is why in all my C++ &quot;example&quot; code you&#39;ll notice me using `struct` instead of `class` everywhere.\r\n\r\n2) When an object&#39;s internal behavior for a data member becomes complex enough, (for example, it likes to keep an internal `std::list` in some kind of order), accessor type functions are written.  Because I&#39;m programming by myself, I don&#39;t always set the member `private` right away, but somewhere down the evolution of the class the member will be &quot;promoted&quot; to either `protected` or `private`.\r\n\r\n3) Classes that are fully fleshed out and have strict rules about their internals (ie _they_ know exactly what they are doing, and you are not to &quot;fuck&quot; (technical term) with its internals) are given the `class` designation, default private members, and only a select few members are allowed to be `public`.\r\n\r\nI find this approach allows me to avoid sitting there and religiously writing getter/setters when a lot of data members get migrated out, shifted around, etc. during the early stages of a class&#39;s evolution.","title":"Why use getters and setters/accessors?","body":"<p>Code <em>evolves</em>.  <code>private</code> is great for when <em>you need data member protection</em>.  Eventually all classes should be sort of \"miniprograms\" that have a well-defined interface <em>that you can't just screw with the internals of</em>.</p>\n\n<p>That said, <em>software development</em> isn't about setting down that final version of the class as if you're pressing some cast iron statue on the first try.  While you're working with it, code is more like clay.  <strong>It evolves</strong> as you develop it and learn more about the problem domain you are solving.  During development classes may interact with each other than they should (dependency you plan to factor out), merge together, or split apart.  So I think the debate boils down to people not wanting to religiously write</p>\n\n<pre><code>int getVar() const { return var ; }\n</code></pre>\n\n<p>So you have:</p>\n\n<pre><code>doSomething( obj-&gt;getVar() ) ;\n</code></pre>\n\n<p>Instead of</p>\n\n<pre><code>doSomething( obj-&gt;var ) ;\n</code></pre>\n\n<p>Not only is <code>getVar()</code> visually noisy, it gives this illusion that <code>gettingVar()</code> is somehow a more complex process than it really is.  How you (as the class writer) regard the sanctity of <code>var</code> is particularly confusing to a user of your class if it has a passthru setter -- then it looks like you're putting up these gates to \"protect\" something you insist is valuable, (the sanctity of <code>var</code>) but yet even you concede <code>var</code>'s protection isn't worth much by the ability for anyone to just come in and <code>set</code> <code>var</code> to whatever value they want, without you even peeking at what they are doing.</p>\n\n<p>So I program as follows (assuming an \"agile\" type approach -- ie when I write code not knowing <em>exactly</em> what it will be doing/don't have time or experience to plan an elaborate waterfall style interface set):</p>\n\n<p>1) Start with all public members for basic objects with data and behavior.  This is why in all my C++ \"example\" code you'll notice me using <code>struct</code> instead of <code>class</code> everywhere.</p>\n\n<p>2) When an object's internal behavior for a data member becomes complex enough, (for example, it likes to keep an internal <code>std::list</code> in some kind of order), accessor type functions are written.  Because I'm programming by myself, I don't always set the member <code>private</code> right away, but somewhere down the evolution of the class the member will be \"promoted\" to either <code>protected</code> or <code>private</code>.</p>\n\n<p>3) Classes that are fully fleshed out and have strict rules about their internals (ie <em>they</em> know exactly what they are doing, and you are not to \"fuck\" (technical term) with its internals) are given the <code>class</code> designation, default private members, and only a select few members are allowed to be <code>public</code>.</p>\n\n<p>I find this approach allows me to avoid sitting there and religiously writing getter/setters when a lot of data members get migrated out, shifted around, etc. during the early stages of a class's evolution.</p>\n"},{"tags":[],"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"comment_count":0,"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1387430524,"creation_date":1378104664,"answer_id":18567167,"question_id":1568091,"body_markdown":"## We use getters and setters:\r\n\r\n - for reusability\r\n - to perform validation in later stages of programming\r\n\r\nGetter and setter methods are public interfaces to access private class members.\r\n\r\n---\r\n\r\n## Encapsulation mantra\r\n\r\nThe encapsulation mantra is to make fields private and methods public.\r\n\r\n&gt; **Getter Methods:** _We can get access to private variables._\r\n&gt; \r\n&gt; **Setter Methods:** _We can modify private fields._\r\n\r\nEven though the getter and setter methods do not add new functionality, we can change our mind come back later to make that method\r\n\r\n - better;\r\n - safer; and\r\n - faster.\r\n\r\n----------\r\n\r\nAnywhere a value can be used, a method that returns that value can be added. Instead of:\r\n\r\n    int x = 1000 - 500\r\n\r\nuse\r\n\r\n    int x = 1000 - class_name.getValue();\r\n\r\n---\r\n\r\n## In layman&#39;s terms\r\n\r\n![Representation of &quot;Person&quot; class][1]\r\n\r\nSuppose we need to store the details of this `Person`. This `Person` has the fields `name`, `age` and `sex`. Doing this involves creating methods for `name`, `age` and `sex`. Now if we need create another person, it becomes necessary to create the methods for `name`, `age`, `sex` all over again.\r\n\r\nInstead of doing this, we can create a bean `class(Person)` with getter and setter methods.  So tomorrow we can just create objects of this Bean `class(Person class)` whenever we need to add a new person (see the figure). Thus we are reusing the fields and methods of bean class, which is much better.\r\n\r\n  [1]: http://i.stack.imgur.com/2lgj0.png","title":"Why use getters and setters/accessors?","body":"<h2>We use getters and setters:</h2>\n\n<ul>\n<li>for reusability</li>\n<li>to perform validation in later stages of programming</li>\n</ul>\n\n<p>Getter and setter methods are public interfaces to access private class members.</p>\n\n<hr>\n\n<h2>Encapsulation mantra</h2>\n\n<p>The encapsulation mantra is to make fields private and methods public.</p>\n\n<blockquote>\n  <p><strong>Getter Methods:</strong> <em>We can get access to private variables.</em></p>\n  \n  <p><strong>Setter Methods:</strong> <em>We can modify private fields.</em></p>\n</blockquote>\n\n<p>Even though the getter and setter methods do not add new functionality, we can change our mind come back later to make that method</p>\n\n<ul>\n<li>better;</li>\n<li>safer; and</li>\n<li>faster.</li>\n</ul>\n\n<hr>\n\n<p>Anywhere a value can be used, a method that returns that value can be added. Instead of:</p>\n\n<pre><code>int x = 1000 - 500\n</code></pre>\n\n<p>use</p>\n\n<pre><code>int x = 1000 - class_name.getValue();\n</code></pre>\n\n<hr>\n\n<h2>In layman's terms</h2>\n\n<p><img src=\"https://i.stack.imgur.com/2lgj0.png\" alt=\"Representation of &quot;Person&quot; class\"></p>\n\n<p>Suppose we need to store the details of this <code>Person</code>. This <code>Person</code> has the fields <code>name</code>, <code>age</code> and <code>sex</code>. Doing this involves creating methods for <code>name</code>, <code>age</code> and <code>sex</code>. Now if we need create another person, it becomes necessary to create the methods for <code>name</code>, <code>age</code>, <code>sex</code> all over again.</p>\n\n<p>Instead of doing this, we can create a bean <code>class(Person)</code> with getter and setter methods.  So tomorrow we can just create objects of this Bean <code>class(Person class)</code> whenever we need to add a new person (see the figure). Thus we are reusing the fields and methods of bean class, which is much better.</p>\n"},{"comments":[{"owner":{"account_id":2565621,"reputation":2124,"user_id":2225787,"accept_rate":88,"display_name":"Agi Hammerthief"},"score":0,"creation_date":1418935028,"post_id":20599418,"comment_id":43536742,"body_markdown":"A clear example of this is when setting one attribute&#39;s value affects one or more other attribute values. Trivial example: Say you store the radius of a circle Using circ.set_radius()`  doesn&#39;t really achieve anything setting radius directly through `circ.radius` doesn&#39;t. However, get_diameter(), get_circumference() and get_area() can perform calculations based on radius. Without getters, you have to perform the calculations yourself and check that you&#39;ve got them right.","body":"A clear example of this is when setting one attribute&#39;s value affects one or more other attribute values. Trivial example: Say you store the radius of a circle Using circ.set_radius()`  doesn&#39;t really achieve anything setting radius directly through <code>circ.radius</code> doesn&#39;t. However, get_diameter(), get_circumference() and get_area() can perform calculations based on radius. Without getters, you have to perform the calculations yourself and check that you&#39;ve got them right."}],"tags":[],"owner":{"account_id":3218802,"reputation":95,"user_id":2716712,"accept_rate":33,"display_name":"MongooseLover"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387139488,"creation_date":1387139488,"answer_id":20599418,"question_id":1568091,"body_markdown":"I can think of one reason why you wouldn&#39;t just want everything public.\r\n\r\nFor instance, variable you never intended to use outside of the class could be accessed, even irdirectly via chain variable access (i.e.  object.item.origin.x ).  \r\n\r\nBy having mostly everything private, and only the stuff you want to extend and possibly refer to in subclasses as protected, and generally only having static final objects as public, then you can control what other programmers and programs can use in the API and what it can access and what it can&#39;t by using setters and getters to access the stuff you want the program, or indeed possibly other programmers who just happen to use your code, can modify in your program.  ","title":"Why use getters and setters/accessors?","body":"<p>I can think of one reason why you wouldn't just want everything public.</p>\n\n<p>For instance, variable you never intended to use outside of the class could be accessed, even irdirectly via chain variable access (i.e.  object.item.origin.x ).  </p>\n\n<p>By having mostly everything private, and only the stuff you want to extend and possibly refer to in subclasses as protected, and generally only having static final objects as public, then you can control what other programmers and programs can use in the API and what it can access and what it can't by using setters and getters to access the stuff you want the program, or indeed possibly other programmers who just happen to use your code, can modify in your program.  </p>\n"},{"comments":[{"owner":{"account_id":2847999,"reputation":15490,"user_id":2445864,"accept_rate":79,"display_name":"Hubert Grzeskowiak"},"score":0,"creation_date":1470045564,"post_id":22774827,"comment_id":64770300,"body_markdown":"Please note that the question was asked without a specific language in mind.","body":"Please note that the question was asked without a specific language in mind."}],"tags":[],"owner":{"account_id":1866281,"reputation":6799,"user_id":1689770,"accept_rate":67,"display_name":"Jonathan"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1396313166,"creation_date":1396313166,"answer_id":22774827,"question_id":1568091,"body_markdown":"If you want a readonly variable but don&#39;t want the client to have to change the way they access it, try this templated class:\r\n\r\n    template&lt;typename MemberOfWhichClass, typename primative&gt;\t\t\t\t\t\t\t\t\t\t\r\n    class ReadOnly {\r\n    \tfriend MemberOfWhichClass;\r\n    public:\r\n    \ttemplate&lt;typename number&gt; inline bool   operator==(const number&amp; y) const { return x == y; } \r\n    \ttemplate&lt;typename number&gt; inline number operator+ (const number&amp; y) const { return x + y; } \r\n    \ttemplate&lt;typename number&gt; inline number operator- (const number&amp; y) const { return x - y; } \r\n    \ttemplate&lt;typename number&gt; inline number operator* (const number&amp; y) const { return x * y; }  \r\n    \ttemplate&lt;typename number&gt; inline number operator/ (const number&amp; y) const { return x / y; } \r\n    \ttemplate&lt;typename number&gt; inline number operator&lt;&lt;(const number&amp; y) const { return x &lt;&lt; y; }\r\n    \ttemplate&lt;typename number&gt; inline number operator^(const number&amp; y) const  { return x^y; }\r\n    \ttemplate&lt;typename number&gt; inline number operator~() const\t\t\t\t  { return ~x; }\r\n    \ttemplate&lt;typename number&gt; inline operator number() const\t\t\t      { return x; }\r\n    protected:\r\n    \ttemplate&lt;typename number&gt; inline number operator= (const number&amp; y) { return x = y; }\t\t\r\n    \ttemplate&lt;typename number&gt; inline number operator+=(const number&amp; y) { return x += y; }\t\t\r\n    \ttemplate&lt;typename number&gt; inline number operator-=(const number&amp; y) { return x -= y; }\t\t\r\n    \ttemplate&lt;typename number&gt; inline number operator*=(const number&amp; y) { return x *= y; }\t\t\r\n    \ttemplate&lt;typename number&gt; inline number operator/=(const number&amp; y) { return x /= y; }\t\t\r\n    \tprimative x;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n    };\t\t\r\n\r\n\r\nExample Use:\r\n\r\n    class Foo {\r\n    public:\r\n    \tReadOnly&lt;Foo, int&gt; cantChangeMe;\r\n    };\r\n\r\n\r\nRemember you&#39;ll need to add bitwise and unary operators as well! This is just to get you started","title":"Why use getters and setters/accessors?","body":"<p>If you want a readonly variable but don't want the client to have to change the way they access it, try this templated class:</p>\n\n<pre><code>template&lt;typename MemberOfWhichClass, typename primative&gt;                                       \nclass ReadOnly {\n    friend MemberOfWhichClass;\npublic:\n    template&lt;typename number&gt; inline bool   operator==(const number&amp; y) const { return x == y; } \n    template&lt;typename number&gt; inline number operator+ (const number&amp; y) const { return x + y; } \n    template&lt;typename number&gt; inline number operator- (const number&amp; y) const { return x - y; } \n    template&lt;typename number&gt; inline number operator* (const number&amp; y) const { return x * y; }  \n    template&lt;typename number&gt; inline number operator/ (const number&amp; y) const { return x / y; } \n    template&lt;typename number&gt; inline number operator&lt;&lt;(const number&amp; y) const { return x &lt;&lt; y; }\n    template&lt;typename number&gt; inline number operator^(const number&amp; y) const  { return x^y; }\n    template&lt;typename number&gt; inline number operator~() const                 { return ~x; }\n    template&lt;typename number&gt; inline operator number() const                  { return x; }\nprotected:\n    template&lt;typename number&gt; inline number operator= (const number&amp; y) { return x = y; }       \n    template&lt;typename number&gt; inline number operator+=(const number&amp; y) { return x += y; }      \n    template&lt;typename number&gt; inline number operator-=(const number&amp; y) { return x -= y; }      \n    template&lt;typename number&gt; inline number operator*=(const number&amp; y) { return x *= y; }      \n    template&lt;typename number&gt; inline number operator/=(const number&amp; y) { return x /= y; }      \n    primative x;                                                                                \n};      \n</code></pre>\n\n<p>Example Use:</p>\n\n<pre><code>class Foo {\npublic:\n    ReadOnly&lt;Foo, int&gt; cantChangeMe;\n};\n</code></pre>\n\n<p>Remember you'll need to add bitwise and unary operators as well! This is just to get you started</p>\n"},{"tags":[],"owner":{"account_id":305129,"reputation":86,"user_id":615080,"display_name":"GeZo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1399974455,"creation_date":1399974455,"answer_id":23627915,"question_id":1568091,"body_markdown":"There is a good reason to consider using accessors is there is no property inheritance. See next example:\r\n\r\n    public class TestPropertyOverride {\r\n        public static class A {\r\n            public int i = 0;\r\n    \r\n            public void add() {\r\n                i++;\r\n            }\r\n    \r\n            public int getI() {\r\n                return i;\r\n            }\r\n        }\r\n    \r\n        public static class B extends A {\r\n            public int i = 2;\r\n    \r\n            @Override\r\n            public void add() {\r\n                i = i + 2;\r\n            }\r\n    \r\n            @Override\r\n            public int getI() {\r\n                return i;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            A a = new B();\r\n            System.out.println(a.i);\r\n            a.add();\r\n            System.out.println(a.i);\r\n            System.out.println(a.getI());\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    0\r\n    0\r\n    4\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>There is a good reason to consider using accessors is there is no property inheritance. See next example:</p>\n\n<pre><code>public class TestPropertyOverride {\n    public static class A {\n        public int i = 0;\n\n        public void add() {\n            i++;\n        }\n\n        public int getI() {\n            return i;\n        }\n    }\n\n    public static class B extends A {\n        public int i = 2;\n\n        @Override\n        public void add() {\n            i = i + 2;\n        }\n\n        @Override\n        public int getI() {\n            return i;\n        }\n    }\n\n    public static void main(String[] args) {\n        A a = new B();\n        System.out.println(a.i);\n        a.add();\n        System.out.println(a.i);\n        System.out.println(a.getI());\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0\n0\n4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":808621,"reputation":357064,"user_id":908494,"accept_rate":25,"display_name":"abarnert"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1408423623,"creation_date":1408423623,"answer_id":25375819,"question_id":1568091,"body_markdown":"You should use getters and setters when:\r\n\r\n * You&#39;re dealing with something that is conceptually an attribute, but:\r\n  * Your language doesn&#39;t have properties (or some similar mechanism, like Tcl&#39;s variable traces), or\r\n  * Your language&#39;s property support isn&#39;t sufficient for this use case, or\r\n  * Your language&#39;s (or sometimes your framework&#39;s) idiomatic conventions encourage getters or setters for this use case.\r\n\r\nSo this is very rarely a general OO question; it&#39;s a language-specific question, with different answers for different languages (and different use cases).\r\n\r\n---\r\n\r\nFrom an OO theory point of view, getters and setters are useless. The interface of your class is what it does, not what its state is. (If not, you&#39;ve written the wrong class.) In very simple cases, where what a class does is just, e.g., represent a point in rectangular coordinates,&lt;super&gt;\\*&lt;/super&gt; the attributes are part of the interface; getters and setters just cloud that. But in anything but very simple cases, neither the attributes nor getters and setters are part of the interface.\r\n\r\nPut another way: If you believe that consumers of your class shouldn&#39;t even know that you have a `spam` attribute, much less be able to change it willy-nilly, then giving them a `set_spam` method is the last thing you want to do.\r\n\r\n&lt;sub&gt;\\* Even for that simple class, you may not necessarily want to allow setting the `x` and `y` values. If this is really a class, shouldn&#39;t it have methods like `translate`, `rotate`, etc.? If it&#39;s only a class because your language doesn&#39;t have records/structs/named tuples, then this isn&#39;t really a question of OO…&lt;/sub&gt;\r\n\r\n---\r\n\r\nBut nobody is ever doing general OO design. They&#39;re doing design, and implementation, in a specific language. And in some languages, getters and setters are far from useless.\r\n\r\nIf your language doesn&#39;t have properties, then the only way to represent something that&#39;s conceptually an attribute, but is actually computed, or validated, etc., is through getters and setters.\r\n\r\nEven if your language does have properties, there may be cases where they&#39;re insufficient or inappropriate. For example, if you want to allow subclasses to control the semantics of an attribute, in languages without dynamic access, a subclass can&#39;t substitute a computed property for an attribute.\r\n\r\nAs for the &quot;what if I want to change my implementation later?&quot; question (which is repeated multiple times in different wording in both the OP&#39;s question and the accepted answer): If it really is a pure implementation change, and you started with an attribute, you can change it to a property without affecting the interface. Unless, of course, your language doesn&#39;t support that. So this is really just the same case again.\r\n\r\nAlso, it&#39;s important to follow the idioms of the language (or framework) you&#39;re using. If you write beautiful Ruby-style code in C#, any experienced C# developer other than you is going to have trouble reading it, and that&#39;s bad. Some languages have stronger cultures around their conventions than others.—and it may not be a coincidence that Java and Python, which are on opposite ends of the spectrum for how idiomatic getters are, happen to have two of the strongest cultures.\r\n\r\nBeyond human readers, there will be libraries and tools that expect you to follow the conventions, and make your life harder if you don&#39;t. Hooking Interface Builder widgets to anything but ObjC properties, or using certain Java mocking libraries without getters, is just making your life more difficult. If the tools are important to you, don&#39;t fight them.","title":"Why use getters and setters/accessors?","body":"<p>You should use getters and setters when:</p>\n\n<ul>\n<li>You're dealing with something that is conceptually an attribute, but:\n<ul>\n<li>Your language doesn't have properties (or some similar mechanism, like Tcl's variable traces), or</li>\n<li>Your language's property support isn't sufficient for this use case, or</li>\n<li>Your language's (or sometimes your framework's) idiomatic conventions encourage getters or setters for this use case.</li>\n</ul></li>\n</ul>\n\n<p>So this is very rarely a general OO question; it's a language-specific question, with different answers for different languages (and different use cases).</p>\n\n<hr>\n\n<p>From an OO theory point of view, getters and setters are useless. The interface of your class is what it does, not what its state is. (If not, you've written the wrong class.) In very simple cases, where what a class does is just, e.g., represent a point in rectangular coordinates,* the attributes are part of the interface; getters and setters just cloud that. But in anything but very simple cases, neither the attributes nor getters and setters are part of the interface.</p>\n\n<p>Put another way: If you believe that consumers of your class shouldn't even know that you have a <code>spam</code> attribute, much less be able to change it willy-nilly, then giving them a <code>set_spam</code> method is the last thing you want to do.</p>\n\n<p><sub>* Even for that simple class, you may not necessarily want to allow setting the <code>x</code> and <code>y</code> values. If this is really a class, shouldn't it have methods like <code>translate</code>, <code>rotate</code>, etc.? If it's only a class because your language doesn't have records/structs/named tuples, then this isn't really a question of OO…</sub></p>\n\n<hr>\n\n<p>But nobody is ever doing general OO design. They're doing design, and implementation, in a specific language. And in some languages, getters and setters are far from useless.</p>\n\n<p>If your language doesn't have properties, then the only way to represent something that's conceptually an attribute, but is actually computed, or validated, etc., is through getters and setters.</p>\n\n<p>Even if your language does have properties, there may be cases where they're insufficient or inappropriate. For example, if you want to allow subclasses to control the semantics of an attribute, in languages without dynamic access, a subclass can't substitute a computed property for an attribute.</p>\n\n<p>As for the \"what if I want to change my implementation later?\" question (which is repeated multiple times in different wording in both the OP's question and the accepted answer): If it really is a pure implementation change, and you started with an attribute, you can change it to a property without affecting the interface. Unless, of course, your language doesn't support that. So this is really just the same case again.</p>\n\n<p>Also, it's important to follow the idioms of the language (or framework) you're using. If you write beautiful Ruby-style code in C#, any experienced C# developer other than you is going to have trouble reading it, and that's bad. Some languages have stronger cultures around their conventions than others.—and it may not be a coincidence that Java and Python, which are on opposite ends of the spectrum for how idiomatic getters are, happen to have two of the strongest cultures.</p>\n\n<p>Beyond human readers, there will be libraries and tools that expect you to follow the conventions, and make your life harder if you don't. Hooking Interface Builder widgets to anything but ObjC properties, or using certain Java mocking libraries without getters, is just making your life more difficult. If the tools are important to you, don't fight them.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":17,"creation_date":1467358168,"post_id":26000323,"comment_id":63709189,"body_markdown":"Interesting viewpoint.  But in most programming contexts what we need is data structures.  Taking the linked article&#39;s &quot;Dog&quot; example.  Yes, you can&#39;t change a real-world dog&#39;s weight by setting an attribute ... but a `new Dog()` is not a dog.  It is object that holds information about a dog.  And for that usage, it is natural to be able to correct an incorrectly recorded weight.","body":"Interesting viewpoint.  But in most programming contexts what we need is data structures.  Taking the linked article&#39;s &quot;Dog&quot; example.  Yes, you can&#39;t change a real-world dog&#39;s weight by setting an attribute ... but a <code>new Dog()</code> is not a dog.  It is object that holds information about a dog.  And for that usage, it is natural to be able to correct an incorrectly recorded weight."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1467419657,"post_id":26000323,"comment_id":63740030,"body_markdown":"Well, I put it to you that *most* useful programs don&#39;t need to model / simulate real world objects.  IMO, this is not really about programming languages at all.  It is about what we write programs for.","body":"Well, I put it to you that <i>most</i> useful programs don&#39;t need to model / simulate real world objects.  IMO, this is not really about programming languages at all.  It is about what we write programs for."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":5,"creation_date":1493657476,"post_id":26000323,"comment_id":74489327,"body_markdown":"Real world or not, yegor is completely right.  If what you have is truly a &quot;Struct&quot; and you don&#39;t need to write any code that references it by name, put it in a hashtable or other data structure.  If you do need to write code for it then put it as a member of a class and put the code that manipulates that variable in the same class and omit the setter &amp; getter.  PS. although I mostly share yegor&#39;s viewpoint, I have come to believe that annotated beans without code are somewhat useful data structures--also getters are sometimes necessary, setters shouldn&#39;t ever exist.","body":"Real world or not, yegor is completely right.  If what you have is truly a &quot;Struct&quot; and you don&#39;t need to write any code that references it by name, put it in a hashtable or other data structure.  If you do need to write code for it then put it as a member of a class and put the code that manipulates that variable in the same class and omit the setter &amp; getter.  PS. although I mostly share yegor&#39;s viewpoint, I have come to believe that annotated beans without code are somewhat useful data structures--also getters are sometimes necessary, setters shouldn&#39;t ever exist."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1493658208,"post_id":26000323,"comment_id":74489727,"body_markdown":"I got carried away--this entire answer, although correct and relevant, doesn&#39;t address the question directly.  Perhaps it should say &quot;Both setters/getters AND public variables are wrong&quot;... To be absolutely specific, Setters and writable public variables should never ever be used whereas getters are pretty much the same as public final variables and are occasionally a necessary evil but neither is much better than the other.","body":"I got carried away--this entire answer, although correct and relevant, doesn&#39;t address the question directly.  Perhaps it should say &quot;Both setters/getters AND public variables are wrong&quot;... To be absolutely specific, Setters and writable public variables should never ever be used whereas getters are pretty much the same as public final variables and are occasionally a necessary evil but neither is much better than the other."},{"owner":{"account_id":1314564,"reputation":3769,"user_id":1261752,"display_name":"C Perkins"},"score":0,"creation_date":1494724153,"post_id":26000323,"comment_id":74949839,"body_markdown":"Perhaps method names sometimes reflect a developer&#39;s deeper understanding, and maybe it does go the other way...that language elements influence a developers habits. But language syntax and symbols are rife with elements that have evolved over time and are no longer (if ever) an accurate metaphor for what they are supposed to represent.  Although you make some good points, it feels to me like arguing that Java is a stupid programming language name because we can&#39;t really drink it sitting in a cafe. It&#39;s okay to redefine &quot;set&quot; with a more complete meaning without actually doing away with it.","body":"Perhaps method names sometimes reflect a developer&#39;s deeper understanding, and maybe it does go the other way...that language elements influence a developers habits. But language syntax and symbols are rife with elements that have evolved over time and are no longer (if ever) an accurate metaphor for what they are supposed to represent.  Although you make some good points, it feels to me like arguing that Java is a stupid programming language name because we can&#39;t really drink it sitting in a cafe. It&#39;s okay to redefine &quot;set&quot; with a more complete meaning without actually doing away with it."},{"owner":{"account_id":3755035,"reputation":1444,"user_id":3121568,"accept_rate":61,"display_name":"meguli"},"score":1,"creation_date":1496672660,"post_id":26000323,"comment_id":75743425,"body_markdown":"I have never understood getters/setters. From the first Java101 class I took at the college, they seemed like they encourage building lacking abstractions and confused me. But there is this case then: your object may possibly have so many different behavior. Then it is possible that you might not hope to implement them all. You make setters/getters and conveniently tell your users that if you need a behavior that I missed, inherit and implement them yourself. I gave you accessors after all.","body":"I have never understood getters/setters. From the first Java101 class I took at the college, they seemed like they encourage building lacking abstractions and confused me. But there is this case then: your object may possibly have so many different behavior. Then it is possible that you might not hope to implement them all. You make setters/getters and conveniently tell your users that if you need a behavior that I missed, inherit and implement them yourself. I gave you accessors after all."},{"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"score":1,"creation_date":1526298102,"post_id":26000323,"comment_id":87674759,"body_markdown":"In this sense of “alive objects”, there should be no `set…()` and `get…()`, but rather `remember…()` and `tell…()`. Just that *get* and *set* is shorter to type. Also, an object describing another object—like a paper-bound form—should include that in the class name, but that again is lengthy. We cannot change the weight of the dog, and we don’t do, what we change is the weight noted down on the dog admission form.","body":"In this sense of “alive objects”, there should be no <code>set…()</code> and <code>get…()</code>, but rather <code>remember…()</code> and <code>tell…()</code>. Just that <i>get</i> and <i>set</i> is shorter to type. Also, an object describing another object—like a paper-bound form—should include that in the class name, but that again is lengthy. We cannot change the weight of the dog, and we don’t do, what we change is the weight noted down on the dog admission form."}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":7,"down_vote_count":8,"up_vote_count":84,"is_accepted":false,"score":76,"last_activity_date":1566370900,"creation_date":1411490359,"answer_id":26000323,"question_id":1568091,"body_markdown":"In a pure object-oriented world getters and setters is a **terrible anti-pattern**. Read this article: [Getters/Setters. Evil. Period](http://www.yegor256.com/2014/09/16/getters-and-setters-are-evil.html). In a nutshell, they encourage programmers to think about objects as of data structures, and this type of thinking is pure procedural (like in COBOL or C). In an object-oriented language there are no data structures, but only objects that expose behavior (not attributes/properties!)\r\n\r\nYou may find more about them in Section 3.5 of [Elegant Objects](https://www.yegor256.com/elegant-objects.html) (my book about object-oriented programming).","title":"Why use getters and setters/accessors?","body":"<p>In a pure object-oriented world getters and setters is a <strong>terrible anti-pattern</strong>. Read this article: <a href=\"http://www.yegor256.com/2014/09/16/getters-and-setters-are-evil.html\" rel=\"noreferrer\">Getters/Setters. Evil. Period</a>. In a nutshell, they encourage programmers to think about objects as of data structures, and this type of thinking is pure procedural (like in COBOL or C). In an object-oriented language there are no data structures, but only objects that expose behavior (not attributes/properties!)</p>\n\n<p>You may find more about them in Section 3.5 of <a href=\"https://www.yegor256.com/elegant-objects.html\" rel=\"noreferrer\">Elegant Objects</a> (my book about object-oriented programming).</p>\n"},{"tags":[],"owner":{"account_id":1518433,"reputation":1029,"user_id":1418838,"display_name":"Haakon L&#248;tveit"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1676916948,"creation_date":1448807870,"answer_id":33983976,"question_id":1568091,"body_markdown":"EDIT: I answered this question because there are a bunch of people learning programming asking this, and most of the answers are very technically competent, but they&#39;re not as easy to understand if you&#39;re a newbie. We were all newbies, so I thought I&#39;d try my hand at a more newbie friendly answer.\r\n\r\nThe two main ones are polymorphism, and validation. Even if it&#39;s just a stupid data structure.\r\n\r\nLet&#39;s say we have this simple class:\r\n\r\n    public class Bottle {\r\n      public int amountOfWaterMl;\r\n      public int capacityMl;\r\n    }\r\n\r\nA very simple class that holds how much liquid is in it, and what its capacity is (in milliliters).\r\n\r\nWhat happens when I do:\r\n\r\n    Bottle bot = new Bottle();\r\n    bot.amountOfWaterMl = 1500;\r\n    bot.capacityMl = 1000;\r\n\r\nWell, you wouldn&#39;t expect that to work, right?\r\nYou want there to be some kind of sanity check. And worse, what if I never specified the maximum capacity? Oh dear, we have a problem.\r\n\r\nBut there&#39;s another problem too. What if bottles were just one type of container? What if we had several containers, all with capacities and amounts of liquid filled? If we could just make an interface, we could let the rest of our program accept that interface, and bottles, jerrycans and all sorts of stuff would just work interchangably. Wouldn&#39;t that be better? Since interfaces demand methods, this is also a good thing.\r\n\r\nWe&#39;d end up with something like:\r\n\r\n    public interface LiquidContainer {\r\n      public int getAmountMl();\r\n      public void setAmountMl(int amountMl);\r\n      public int getCapacityMl();\r\n    }\r\n\r\nGreat! And now we just change Bottle to this:\r\n\r\n    public class Bottle implements LiquidContainer {\r\n      private int capacityMl;\r\n      private int amountFilledMl;\r\n\r\n      public Bottle(int capacityMl, int amountFilledMl) {\r\n        this.capacityMl = capacityMl;\r\n        this.amountFilledMl = amountFilledMl;\r\n        checkNotOverFlow();\r\n      }\r\n\r\n      public int getAmountMl() {\r\n        return amountFilledMl;\r\n      }\r\n      \r\n      public void setAmountMl(int amountMl) {\r\n         this.amountFilled = amountMl;\r\n         checkNotOverFlow();\r\n      }\r\n      public int getCapacityMl() {\r\n        return capacityMl;\r\n      }\r\n\r\n      private void checkNotOverFlow() {\r\n        if(amountOfWaterMl &gt; capacityMl) {\r\n          throw new BottleOverflowException();\r\n        }\r\n    }\r\n\r\nI&#39;ll leave the definition of the BottleOverflowException as an exercise to the reader.\r\n\r\nNow notice how much more robust this is. We can deal with any type of container in our code now by accepting LiquidContainer instead of Bottle. And how these bottles deal with this sort of stuff can all differ. You can have bottles that write their state to disk when it changes, or bottles that save on SQL databases or GNU knows what else.\r\n\r\nAnd all these can have different ways to handle various whoopsies. The Bottle just checks and if it&#39;s overflowing it throws a RuntimeException. But that might be the wrong thing to do. \r\n(There is a useful discussion to be had about error handling, but I&#39;m keeping it very simple here on purpose. People in comments will likely point out the flaws of this simplistic approach. ;) )\r\n\r\nAnd yes, it seems like we go from a very simple idea to getting much better answers quickly.\r\n\r\nPlease note also that you can&#39;t change the capacity of a bottle. It&#39;s now set in stone. You could do this with an int by declaring it final. But if this was a list, you could empty it, add new things to it, and so on. You can&#39;t limit the access to touching the innards.\r\n\r\nThere&#39;s also the third thing that not everyone has addressed: getters and setters use method calls. That means that they look like normal methods everywhere else does. Instead of having weird specific syntax for DTOs and stuff, you have the same thing everywhere.","title":"Why use getters and setters/accessors?","body":"<p>EDIT: I answered this question because there are a bunch of people learning programming asking this, and most of the answers are very technically competent, but they're not as easy to understand if you're a newbie. We were all newbies, so I thought I'd try my hand at a more newbie friendly answer.</p>\n<p>The two main ones are polymorphism, and validation. Even if it's just a stupid data structure.</p>\n<p>Let's say we have this simple class:</p>\n<pre><code>public class Bottle {\n  public int amountOfWaterMl;\n  public int capacityMl;\n}\n</code></pre>\n<p>A very simple class that holds how much liquid is in it, and what its capacity is (in milliliters).</p>\n<p>What happens when I do:</p>\n<pre><code>Bottle bot = new Bottle();\nbot.amountOfWaterMl = 1500;\nbot.capacityMl = 1000;\n</code></pre>\n<p>Well, you wouldn't expect that to work, right?\nYou want there to be some kind of sanity check. And worse, what if I never specified the maximum capacity? Oh dear, we have a problem.</p>\n<p>But there's another problem too. What if bottles were just one type of container? What if we had several containers, all with capacities and amounts of liquid filled? If we could just make an interface, we could let the rest of our program accept that interface, and bottles, jerrycans and all sorts of stuff would just work interchangably. Wouldn't that be better? Since interfaces demand methods, this is also a good thing.</p>\n<p>We'd end up with something like:</p>\n<pre><code>public interface LiquidContainer {\n  public int getAmountMl();\n  public void setAmountMl(int amountMl);\n  public int getCapacityMl();\n}\n</code></pre>\n<p>Great! And now we just change Bottle to this:</p>\n<pre><code>public class Bottle implements LiquidContainer {\n  private int capacityMl;\n  private int amountFilledMl;\n\n  public Bottle(int capacityMl, int amountFilledMl) {\n    this.capacityMl = capacityMl;\n    this.amountFilledMl = amountFilledMl;\n    checkNotOverFlow();\n  }\n\n  public int getAmountMl() {\n    return amountFilledMl;\n  }\n  \n  public void setAmountMl(int amountMl) {\n     this.amountFilled = amountMl;\n     checkNotOverFlow();\n  }\n  public int getCapacityMl() {\n    return capacityMl;\n  }\n\n  private void checkNotOverFlow() {\n    if(amountOfWaterMl &gt; capacityMl) {\n      throw new BottleOverflowException();\n    }\n}\n</code></pre>\n<p>I'll leave the definition of the BottleOverflowException as an exercise to the reader.</p>\n<p>Now notice how much more robust this is. We can deal with any type of container in our code now by accepting LiquidContainer instead of Bottle. And how these bottles deal with this sort of stuff can all differ. You can have bottles that write their state to disk when it changes, or bottles that save on SQL databases or GNU knows what else.</p>\n<p>And all these can have different ways to handle various whoopsies. The Bottle just checks and if it's overflowing it throws a RuntimeException. But that might be the wrong thing to do.\n(There is a useful discussion to be had about error handling, but I'm keeping it very simple here on purpose. People in comments will likely point out the flaws of this simplistic approach. ;) )</p>\n<p>And yes, it seems like we go from a very simple idea to getting much better answers quickly.</p>\n<p>Please note also that you can't change the capacity of a bottle. It's now set in stone. You could do this with an int by declaring it final. But if this was a list, you could empty it, add new things to it, and so on. You can't limit the access to touching the innards.</p>\n<p>There's also the third thing that not everyone has addressed: getters and setters use method calls. That means that they look like normal methods everywhere else does. Instead of having weird specific syntax for DTOs and stuff, you have the same thing everywhere.</p>\n"},{"comments":[{"owner":{"account_id":7963183,"reputation":89,"user_id":6010280,"display_name":"FacelessTiger"},"score":3,"creation_date":1481677594,"post_id":34211386,"comment_id":69470461,"body_markdown":"To me having tons of getters and setters that do nothing unique is useless. getFullName is a exception because it does something else. Having just the three variables public then keeping getFullName will make the program easier to read but still have that fullname thing hidden.\n\nGenerally I&#39;m completely fine with getters and setters if \na. they do something unique\nand/or\nb. you only have one, yeah you could have a public final and all that but nah","body":"To me having tons of getters and setters that do nothing unique is useless. getFullName is a exception because it does something else. Having just the three variables public then keeping getFullName will make the program easier to read but still have that fullname thing hidden.  Generally I&#39;m completely fine with getters and setters if  a. they do something unique and/or b. you only have one, yeah you could have a public final and all that but nah"},{"owner":{"account_id":274300,"reputation":1429,"user_id":1186185,"display_name":"Andrew Hows"},"score":2,"creation_date":1512693773,"post_id":34211386,"comment_id":82372297,"body_markdown":"The benefit with this is that you can change the internals of the class, without changing the interface.\n\nSay, instead of three properties, you had one - an array of strings. If you&#39;ve been using getters and setters, you can make that change, and then update the getter/setters to know that names[0] is first name, names[1] is middle, etc.\n\nBut if you just used public properties, you would also have to change every class accessed Employee, because the firstName property they&#39;ve been using no longer exists.","body":"The benefit with this is that you can change the internals of the class, without changing the interface.  Say, instead of three properties, you had one - an array of strings. If you&#39;ve been using getters and setters, you can make that change, and then update the getter/setters to know that names[0] is first name, names[1] is middle, etc.  But if you just used public properties, you would also have to change every class accessed Employee, because the firstName property they&#39;ve been using no longer exists."},{"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"score":3,"creation_date":1588750873,"post_id":34211386,"comment_id":109015081,"body_markdown":"@AndrewHows from what I&#39;ve seen in real life, when people change the internals of the class they also change the interface and do a big refactoring of all the code","body":"@AndrewHows from what I&#39;ve seen in real life, when people change the internals of the class they also change the interface and do a big refactoring of all the code"}],"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467757955,"creation_date":1449780297,"answer_id":34211386,"question_id":1568091,"body_markdown":"**Getters** and **setters** are used to implement two of the fundamental aspects of Object Oriented Programming which are: \r\n\r\n 1. Abstraction\r\n 2. Encapsulation\r\n\r\nSuppose we have an Employee class:\r\n\r\n    package com.highmark.productConfig.types;\r\n\r\n    public class Employee {\r\n\t\r\n\t    private String firstName;\r\n\t    private String middleName;\r\n\t    private String lastName;\r\n\t\r\n\t    public String getFirstName() {\r\n\t\t  return firstName;\r\n\t    }\r\n\t    public void setFirstName(String firstName) {\r\n\t\t   this.firstName = firstName;\r\n\t    }\r\n\t    public String getMiddleName() {\r\n\t\t    return middleName;\r\n\t    }\r\n\t    public void setMiddleName(String middleName) {\r\n\t\t     this.middleName = middleName;\r\n\t    }\r\n\t    public String getLastName() {\r\n\t\t    return lastName;\r\n\t    }\r\n\t    public void setLastName(String lastName) {\r\n\t\t    this.lastName = lastName;\r\n\t    }\r\n\t\r\n\t    public String getFullName(){\r\n\t\t    return this.getFirstName() + this.getMiddleName() +  this.getLastName();\r\n\t    }\r\n     }\r\n\r\nHere the implementation details of Full Name is hidden from the user and is not accessible directly to the user, unlike a public attribute.   \r\n\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p><strong>Getters</strong> and <strong>setters</strong> are used to implement two of the fundamental aspects of Object Oriented Programming which are: </p>\n\n<ol>\n<li>Abstraction</li>\n<li>Encapsulation</li>\n</ol>\n\n<p>Suppose we have an Employee class:</p>\n\n<pre><code>package com.highmark.productConfig.types;\n\npublic class Employee {\n\n    private String firstName;\n    private String middleName;\n    private String lastName;\n\n    public String getFirstName() {\n      return firstName;\n    }\n    public void setFirstName(String firstName) {\n       this.firstName = firstName;\n    }\n    public String getMiddleName() {\n        return middleName;\n    }\n    public void setMiddleName(String middleName) {\n         this.middleName = middleName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getFullName(){\n        return this.getFirstName() + this.getMiddleName() +  this.getLastName();\n    }\n }\n</code></pre>\n\n<p>Here the implementation details of Full Name is hidden from the user and is not accessible directly to the user, unlike a public attribute.   </p>\n"},{"tags":[],"owner":{"account_id":2030250,"reputation":438,"user_id":1814159,"accept_rate":67,"display_name":"Jean-Christophe Blanchard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454625649,"creation_date":1454625649,"answer_id":35213083,"question_id":1568091,"body_markdown":"Although not common for getter and setter, the use of these methods can also be used in AOP/proxy pattern uses.\r\neg for auditing variable you can use AOP to audit update of any value.\r\nWithout  getter/setter it&#39;s not possible except changing the code everywhere.\r\nPersonaly I have never used AOP for that, but it shows one more advantage of using getter/setter.\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>Although not common for getter and setter, the use of these methods can also be used in AOP/proxy pattern uses.\neg for auditing variable you can use AOP to audit update of any value.\nWithout  getter/setter it's not possible except changing the code everywhere.\nPersonaly I have never used AOP for that, but it shows one more advantage of using getter/setter.</p>\n"},{"comments":[{"owner":{"account_id":1970691,"reputation":7753,"user_id":1769733,"accept_rate":46,"display_name":"Alex"},"score":5,"creation_date":1473182936,"post_id":39235159,"comment_id":66039282,"body_markdown":"There&#39;s a &quot;noticable&quot; overhead having a function call to access the memory instead of simply loading an object&#39;s address and adding an offset to access the members. Chances are the VM flat-optimized your getter anyway. Regardless, the mentioned overhead isn&#39;t worth losing all the benefits of getters/setters.","body":"There&#39;s a &quot;noticable&quot; overhead having a function call to access the memory instead of simply loading an object&#39;s address and adding an offset to access the members. Chances are the VM flat-optimized your getter anyway. Regardless, the mentioned overhead isn&#39;t worth losing all the benefits of getters/setters."}],"tags":[],"owner":{"account_id":13781789,"reputation":652,"user_id":9946772,"display_name":"kangalio"},"comment_count":1,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1525856995,"creation_date":1472583575,"answer_id":39235159,"question_id":1568091,"body_markdown":"I know it&#39;s a bit late, but I think there are some people who are interested in performance.\r\n\r\nI&#39;ve done a little performance test. I wrote a class &quot;NumberHolder&quot; which, well, holds an Integer. You can either read that Integer by using the getter method\r\n`anInstance.getNumber()` or by directly accessing the number by using `anInstance.number`. My programm reads the number 1,000,000,000 times, via both ways. That process is repeated five times and the time is printed. I&#39;ve got the following result:\r\n\r\n    Time 1: 953ms, Time 2: 741ms\r\n    Time 1: 655ms, Time 2: 743ms\r\n    Time 1: 656ms, Time 2: 634ms\r\n    Time 1: 637ms, Time 2: 629ms\r\n    Time 1: 633ms, Time 2: 625ms\r\n(Time 1 is the direct way, Time 2 is the getter)\r\n\r\nYou see, the getter is (almost) always a bit faster. Then I tried with different numbers of cycles. Instead of 1 million, I used 10 million and 0.1 million.\r\nThe results:\r\n\r\n10 million cycles: \r\n\r\n    Time 1: 6382ms, Time 2: 6351ms\r\n    Time 1: 6363ms, Time 2: 6351ms\r\n    Time 1: 6350ms, Time 2: 6363ms\r\n    Time 1: 6353ms, Time 2: 6357ms\r\n    Time 1: 6348ms, Time 2: 6354ms\r\n\r\nWith 10 million cycles, the times are almost the same.\r\nHere are 100 thousand (0.1 million) cycles:\r\n\r\n    Time 1: 77ms, Time 2: 73ms\r\n    Time 1: 94ms, Time 2: 65ms\r\n    Time 1: 67ms, Time 2: 63ms\r\n    Time 1: 65ms, Time 2: 65ms\r\n    Time 1: 66ms, Time 2: 63ms\r\n\r\nAlso with different amounts of cycles, the getter is a little bit faster than the regular way. I hope this helped you.","title":"Why use getters and setters/accessors?","body":"<p>I know it's a bit late, but I think there are some people who are interested in performance.</p>\n\n<p>I've done a little performance test. I wrote a class \"NumberHolder\" which, well, holds an Integer. You can either read that Integer by using the getter method\n<code>anInstance.getNumber()</code> or by directly accessing the number by using <code>anInstance.number</code>. My programm reads the number 1,000,000,000 times, via both ways. That process is repeated five times and the time is printed. I've got the following result:</p>\n\n<pre><code>Time 1: 953ms, Time 2: 741ms\nTime 1: 655ms, Time 2: 743ms\nTime 1: 656ms, Time 2: 634ms\nTime 1: 637ms, Time 2: 629ms\nTime 1: 633ms, Time 2: 625ms\n</code></pre>\n\n<p>(Time 1 is the direct way, Time 2 is the getter)</p>\n\n<p>You see, the getter is (almost) always a bit faster. Then I tried with different numbers of cycles. Instead of 1 million, I used 10 million and 0.1 million.\nThe results:</p>\n\n<p>10 million cycles: </p>\n\n<pre><code>Time 1: 6382ms, Time 2: 6351ms\nTime 1: 6363ms, Time 2: 6351ms\nTime 1: 6350ms, Time 2: 6363ms\nTime 1: 6353ms, Time 2: 6357ms\nTime 1: 6348ms, Time 2: 6354ms\n</code></pre>\n\n<p>With 10 million cycles, the times are almost the same.\nHere are 100 thousand (0.1 million) cycles:</p>\n\n<pre><code>Time 1: 77ms, Time 2: 73ms\nTime 1: 94ms, Time 2: 65ms\nTime 1: 67ms, Time 2: 63ms\nTime 1: 65ms, Time 2: 65ms\nTime 1: 66ms, Time 2: 63ms\n</code></pre>\n\n<p>Also with different amounts of cycles, the getter is a little bit faster than the regular way. I hope this helped you.</p>\n"},{"comments":[{"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"score":0,"creation_date":1588750931,"post_id":41447640,"comment_id":109015105,"body_markdown":"you can do right clic&gt; find usage on a member exactly like on a getter/setter","body":"you can do right clic&gt; find usage on a member exactly like on a getter/setter"}],"tags":[],"owner":{"account_id":9935363,"reputation":51,"user_id":7353877,"display_name":"Rakesh Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483459802,"creation_date":1483459802,"answer_id":41447640,"question_id":1568091,"body_markdown":"\r\n\r\nOne relatively modern advantage of getters/setters is that is makes it easier to browse code in tagged (indexed) code editors. E.g. If you want to see who sets a member, you can open the call hierarchy of the setter.\r\n\r\nOn the other hand, if the member is public, the tools don&#39;t make it possible to filter read/write access to the member. So you have to trudge though all uses of the member.\r\n","title":"Why use getters and setters/accessors?","body":"<p>One relatively modern advantage of getters/setters is that is makes it easier to browse code in tagged (indexed) code editors. E.g. If you want to see who sets a member, you can open the call hierarchy of the setter.</p>\n\n<p>On the other hand, if the member is public, the tools don't make it possible to filter read/write access to the member. So you have to trudge though all uses of the member.</p>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1493657829,"post_id":43564632,"comment_id":74489524,"body_markdown":"your getBalance/setBalance aren&#39;t getter/setter if they have other code, are they?  Also why expose balance?  Wouldn&#39;t it be safer to have an applyPayment or applyDebt that allowed balance checking and maybe a memo field to say where the payment was from?  Hey!  I just improved your design AND removed the setter and getter.  That&#39;s the thing about setters/getters, it pretty much always improves your code to remove them, not that they are &quot;Wrong&quot;, just that they nearly always lead to worse code.  Properties (as in C#), by the way, have exactly the same issue.","body":"your getBalance/setBalance aren&#39;t getter/setter if they have other code, are they?  Also why expose balance?  Wouldn&#39;t it be safer to have an applyPayment or applyDebt that allowed balance checking and maybe a memo field to say where the payment was from?  Hey!  I just improved your design AND removed the setter and getter.  That&#39;s the thing about setters/getters, it pretty much always improves your code to remove them, not that they are &quot;Wrong&quot;, just that they nearly always lead to worse code.  Properties (as in C#), by the way, have exactly the same issue."},{"owner":{"account_id":1422298,"reputation":5871,"user_id":1346690,"accept_rate":71,"display_name":"Heetola"},"score":1,"creation_date":1588750981,"post_id":43564632,"comment_id":109015127,"body_markdown":"We are the develloper, a lack of setter/getter does not protect anything we can just add them....","body":"We are the develloper, a lack of setter/getter does not protect anything we can just add them...."}],"tags":[],"owner":{"account_id":4522209,"reputation":21301,"user_id":3675035,"display_name":"Blasanka"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493699195,"creation_date":1492895230,"answer_id":43564632,"question_id":1568091,"body_markdown":"&gt; Getters and setters coming from **data hiding**. Data Hiding means We\r\n&gt; are **hiding data from outsiders** or outside person/thing cannot access\r\n&gt; our data.This is a useful feature in OOP.\r\n\r\nAs a example:\r\n\r\nIf you create a public variable, you can access that variable and change value in anywhere(any class). But if you create as private that variable cannot see/access in any class except declared class.\r\n\r\n&gt; `public` and `private` are access modifiers.\r\n\r\nSo how can we access that variable outside:\r\n\r\nThis is the place **getters** and **setters** coming from. You can declare variable as private then you can implement getter and setter for that variable.\r\n\r\nExample(Java):\r\n\r\n    private String name;\r\n    \r\n    public String getName(){\r\n       return this.name;\r\n    }\r\n    \r\n    public void setName(String name){\r\n       this.name= name;\r\n    }\r\n\r\n**Advantage:**\r\n\r\nWhen anyone want to access or change/set value to `balance` variable, he/she must have permision.\r\n\r\n    //assume we have person1 object\r\n    //to give permission to check balance\r\n    person1.getName()\r\n    \r\n    //to give permission to set balance\r\n    person1.setName()\r\n\r\n*You can set value in constructor also but when later on when you want\r\nto update/change value, you have to implement setter method.*\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<blockquote>\n  <p>Getters and setters coming from <strong>data hiding</strong>. Data Hiding means We\n  are <strong>hiding data from outsiders</strong> or outside person/thing cannot access\n  our data.This is a useful feature in OOP.</p>\n</blockquote>\n\n<p>As a example:</p>\n\n<p>If you create a public variable, you can access that variable and change value in anywhere(any class). But if you create as private that variable cannot see/access in any class except declared class.</p>\n\n<blockquote>\n  <p><code>public</code> and <code>private</code> are access modifiers.</p>\n</blockquote>\n\n<p>So how can we access that variable outside:</p>\n\n<p>This is the place <strong>getters</strong> and <strong>setters</strong> coming from. You can declare variable as private then you can implement getter and setter for that variable.</p>\n\n<p>Example(Java):</p>\n\n<pre><code>private String name;\n\npublic String getName(){\n   return this.name;\n}\n\npublic void setName(String name){\n   this.name= name;\n}\n</code></pre>\n\n<p><strong>Advantage:</strong></p>\n\n<p>When anyone want to access or change/set value to <code>balance</code> variable, he/she must have permision.</p>\n\n<pre><code>//assume we have person1 object\n//to give permission to check balance\nperson1.getName()\n\n//to give permission to set balance\nperson1.setName()\n</code></pre>\n\n<p><em>You can set value in constructor also but when later on when you want\nto update/change value, you have to implement setter method.</em></p>\n"},{"tags":[],"owner":{"account_id":19948660,"reputation":710,"user_id":14618789,"display_name":"Lakindu Hewawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605752703,"creation_date":1605752703,"answer_id":64904488,"question_id":1568091,"body_markdown":"From my experience, it is ideal to set variables as private and to provide accessors and modifiers to each variable.\r\n\r\nThis way, you can create read only variables, or write only variables depending on your requirements.\r\n\r\nBelow implementation shows a write only variable.\r\n\r\n    private String foo;\r\n    public void setFoo(String foo) { this.foo = foo; }\r\n    private String getFoo() { return foo; }\r\n\r\nBelow shows a read only variable.\r\n\r\n    private String foo;\r\n    private void setFoo(String foo) { this.foo = foo; }\r\n    public String getFoo() { return foo; }","title":"Why use getters and setters/accessors?","body":"<p>From my experience, it is ideal to set variables as private and to provide accessors and modifiers to each variable.</p>\n<p>This way, you can create read only variables, or write only variables depending on your requirements.</p>\n<p>Below implementation shows a write only variable.</p>\n<pre><code>private String foo;\npublic void setFoo(String foo) { this.foo = foo; }\nprivate String getFoo() { return foo; }\n</code></pre>\n<p>Below shows a read only variable.</p>\n<pre><code>private String foo;\nprivate void setFoo(String foo) { this.foo = foo; }\npublic String getFoo() { return foo; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7964707,"reputation":420,"user_id":6011410,"display_name":"aditya lath"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1617114323,"creation_date":1617114323,"answer_id":66872852,"question_id":1568091,"body_markdown":"There is a difference between DataStructure and Object.\r\n\r\nDatastructure should expose its innards and not behavior.\r\n\r\nAn Object should not expose its innards but it should expose its behavior, which is also known as the Law of Demeter\r\n\r\nMostly DTOs are considered more of a datastructure and not Object. They should only expose their data and not behavior. Having Setter/Getter in DataStructure will expose behavior instead of data inside it. This further increases the chance of violation of **Law of Demeter**. \r\n\r\nUncle Bob in his book Clean code explained the Law of Demeter.\r\n\r\n&gt; There is a well-known heuristic called the Law of Demeter that says a\r\n&gt; module should not know about the innards of the objects it\r\n&gt; manipulates. As we saw in the last section, objects hide their data\r\n&gt; and expose operations. This means that an object should not expose its\r\n&gt; internal structure through accessors because to do so is to expose,\r\n&gt; rather than to hide, its internal structure.\r\n&gt; \r\n&gt; More precisely, the Law of Demeter says that a method f of a class C\r\n&gt; should only call the methods of these:\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; - C\r\n&gt;  - An object created by f \r\n&gt;  - An object passed as an argument to f \r\n&gt;  - An object held in an instance variable of C\r\n&gt; \r\n&gt; The method should not invoke methods on objects that are returned by any of the allowed functions.\r\n&gt; In other words, talk to friends, not to strangers.\r\n\r\nSo according this, example of LoD violation is: \r\n\r\n    final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();\r\n\r\nHere, the function should call the method of its immediate friend which is ctxt here, It should not call the method of its immediate friend&#39;s friend. but this rule doesn&#39;t apply to data structure. so here if ctxt, option, scratchDir are  datastructure then why to wrap their internal data with some behavior and doing a violation of LoD.\r\n\r\nInstead, we can do something like this.\r\n\r\n    final String outputDir = ctxt.options.scratchDir.absolutePath;\r\n\r\nThis fulfills our needs and doesn&#39;t even violate LoD.\r\n\r\nInspired by Clean Code by Robert C. Martin(Uncle Bob)\r\n\r\n","title":"Why use getters and setters/accessors?","body":"<p>There is a difference between DataStructure and Object.</p>\n<p>Datastructure should expose its innards and not behavior.</p>\n<p>An Object should not expose its innards but it should expose its behavior, which is also known as the Law of Demeter</p>\n<p>Mostly DTOs are considered more of a datastructure and not Object. They should only expose their data and not behavior. Having Setter/Getter in DataStructure will expose behavior instead of data inside it. This further increases the chance of violation of <strong>Law of Demeter</strong>.</p>\n<p>Uncle Bob in his book Clean code explained the Law of Demeter.</p>\n<blockquote>\n<p>There is a well-known heuristic called the Law of Demeter that says a\nmodule should not know about the innards of the objects it\nmanipulates. As we saw in the last section, objects hide their data\nand expose operations. This means that an object should not expose its\ninternal structure through accessors because to do so is to expose,\nrather than to hide, its internal structure.</p>\n<p>More precisely, the Law of Demeter says that a method f of a class C\nshould only call the methods of these:</p>\n<ul>\n<li>C</li>\n<li>An object created by f</li>\n<li>An object passed as an argument to f</li>\n<li>An object held in an instance variable of C</li>\n</ul>\n<p>The method should not invoke methods on objects that are returned by any of the allowed functions.\nIn other words, talk to friends, not to strangers.</p>\n</blockquote>\n<p>So according this, example of LoD violation is:</p>\n<pre><code>final String outputDir = ctxt.getOptions().getScratchDir().getAbsolutePath();\n</code></pre>\n<p>Here, the function should call the method of its immediate friend which is ctxt here, It should not call the method of its immediate friend's friend. but this rule doesn't apply to data structure. so here if ctxt, option, scratchDir are  datastructure then why to wrap their internal data with some behavior and doing a violation of LoD.</p>\n<p>Instead, we can do something like this.</p>\n<pre><code>final String outputDir = ctxt.options.scratchDir.absolutePath;\n</code></pre>\n<p>This fulfills our needs and doesn't even violate LoD.</p>\n<p>Inspired by Clean Code by Robert C. Martin(Uncle Bob)</p>\n"},{"tags":[],"owner":{"account_id":956897,"reputation":329,"user_id":982042,"display_name":"user982042"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1623130737,"creation_date":1623130737,"answer_id":67881978,"question_id":1568091,"body_markdown":"If you don&#39;t require any validations and not even need to maintain state i.e. one property depends on another so we need to maintain the state when one is change. You can keep it simple by making field public and not using getter and setters. \r\n\r\nI think OOPs complicates things as the program grows it becomes nightmare for developer to scale. \r\n\r\nA simple example; we generate c++ headers from xml. The header contains simple field which does not require any validations. But still as in OOPS accessor  are fashion we generates them  as following. \r\n\r\n    const Filed&amp; getfield() const\r\n    Field&amp; getField() \r\n    void setfield(const Field&amp; field){...} \r\n\r\nwhich is very verbose and is not required. a simple \r\n\r\n    struct \r\n    {\r\n       Field field;\r\n    };\r\n\r\n \r\nis enough and readable. \r\nFunctional programming don&#39;t have the concept of data hiding they even don&#39;t require it as they do not mutate the data.    \r\n","title":"Why use getters and setters/accessors?","body":"<p>If you don't require any validations and not even need to maintain state i.e. one property depends on another so we need to maintain the state when one is change. You can keep it simple by making field public and not using getter and setters.</p>\n<p>I think OOPs complicates things as the program grows it becomes nightmare for developer to scale.</p>\n<p>A simple example; we generate c++ headers from xml. The header contains simple field which does not require any validations. But still as in OOPS accessor  are fashion we generates them  as following.</p>\n<pre><code>const Filed&amp; getfield() const\nField&amp; getField() \nvoid setfield(const Field&amp; field){...} \n</code></pre>\n<p>which is very verbose and is not required. a simple</p>\n<pre><code>struct \n{\n   Field field;\n};\n</code></pre>\n<p>is enough and readable.\nFunctional programming don't have the concept of data hiding they even don't require it as they do not mutate the data.</p>\n"}],"owner":{"account_id":61266,"reputation":39628,"user_id":182690,"accept_rate":94,"display_name":"Dean J"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545059,"favorite_count":0,"down_vote_count":4,"up_vote_count":1865,"accepted_answer_id":1568230,"answer_count":37,"score":1861,"last_activity_date":1692807883,"creation_date":1255544456,"question_id":1568091,"body_markdown":"What&#39;s the advantage of using getters and setters - that only get and set - instead of simply using public fields for those variables?\r\n\r\nIf getters and setters are ever doing more than just the simple get/set, I can figure this one out very quickly, but I&#39;m not 100% clear on how:\r\n```java\r\npublic String foo;\r\n```\r\nis any worse than:\r\n```java\r\nprivate String foo;\r\npublic void setFoo(String foo) { this.foo = foo; }\r\npublic String getFoo() { return foo; }\r\n```\r\nWhereas the former takes a lot less boilerplate code.","title":"Why use getters and setters/accessors?","body":"<p>What's the advantage of using getters and setters - that only get and set - instead of simply using public fields for those variables?</p>\n<p>If getters and setters are ever doing more than just the simple get/set, I can figure this one out very quickly, but I'm not 100% clear on how:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String foo;\n</code></pre>\n<p>is any worse than:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String foo;\npublic void setFoo(String foo) { this.foo = foo; }\npublic String getFoo() { return foo; }\n</code></pre>\n<p>Whereas the former takes a lot less boilerplate code.</p>\n"},{"tags":["java","google-chrome","ubuntu","selenium-chromedriver"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1692840158,"post_id":76963236,"comment_id":135679931,"body_markdown":"Update chrome driver or downgrade chrome? What is unclear about the error message? Did you check [ask]?","body":"Update chrome driver or downgrade chrome? What is unclear about the error message? Did you check <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>?"},{"owner":{"account_id":4294333,"reputation":61,"user_id":3509769,"display_name":"Federico"},"score":1,"creation_date":1692844355,"post_id":76963236,"comment_id":135680246,"body_markdown":"Google updated their browser to 116.0.5845..111 but failed to update the chromedriver to the same version. \nAt the moment the only change is to downgrade Google to .96 and install the chromedriver from here https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/win64/chromedriver-win64.zip","body":"Google updated their browser to 116.0.5845..111 but failed to update the chromedriver to the same version.  At the moment the only change is to downgrade Google to .96 and install the chromedriver from here <a href=\"https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/116.0.5845.96/win64/chromedriver-win64.zip\" rel=\"nofollow noreferrer\">edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/&hellip;</a>"}],"owner":{"account_id":29284721,"reputation":11,"user_id":22436598,"display_name":"menslb2b"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1692807854,"creation_date":1692807854,"question_id":76963236,"body_markdown":"org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\r\nCurrent browser version is 116.0.5845.111 \r\n\r\ntried running my test scripts but they won&#39;t run given the error above","title":"Trying to get chromedriver to work but seem to have an outdated version that is not compatible with the latest chrome, any ideas to fix this?","body":"<p>org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 114\nCurrent browser version is 116.0.5845.111</p>\n<p>tried running my test scripts but they won't run given the error above</p>\n"},{"tags":["java","generics","arraylist","junit","assertion"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1692808606,"post_id":76963230,"comment_id":135675670,"body_markdown":"You forgot to implement .equals() and .hashcode()","body":"You forgot to implement .equals() and .hashcode()"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1692811134,"post_id":76963230,"comment_id":135676137,"body_markdown":"Does this answer your question? [Why are two objects with same data not equal while using equals() method](https://stackoverflow.com/questions/17064661/why-are-two-objects-with-same-data-not-equal-while-using-equals-method)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17064661/why-are-two-objects-with-same-data-not-equal-while-using-equals-method\">Why are two objects with same data not equal while using equals() method</a>"},{"owner":{"account_id":29284633,"reputation":1,"user_id":22436524,"display_name":"xampL"},"score":0,"creation_date":1692811757,"post_id":76963230,"comment_id":135676247,"body_markdown":"@S&#246;ren I don&#39;t think I should need those? I don&#39;t understand why my testUnion() is not passing as when I print them out set3 and set4 are the same","body":"@S&#246;ren I don&#39;t think I should need those? I don&#39;t understand why my testUnion() is not passing as when I print them out set3 and set4 are the same"},{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1692812934,"post_id":76963230,"comment_id":135676457,"body_markdown":"@xampL - The answer from S&#246;ren is correct - if you don&#39;t implement equals, Java does a very simple check for equality, just checking that the references refer to the same object. Your implementation could be fairly simple as well, relying on comparing the contents of your internal lists, especially if you keep the lists sorted -- or even better, if your class wrapped a Java &#39;set&#39;?","body":"@xampL - The answer from S&#246;ren is correct - if you don&#39;t implement equals, Java does a very simple check for equality, just checking that the references refer to the same object. Your implementation could be fairly simple as well, relying on comparing the contents of your internal lists, especially if you keep the lists sorted -- or even better, if your class wrapped a Java &#39;set&#39;?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1692816917,"post_id":76963230,"comment_id":135677168,"body_markdown":"assertEquals() calls .equals()","body":"assertEquals() calls .equals()"}],"owner":{"account_id":29284633,"reputation":1,"user_id":22436524,"display_name":"xampL"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692807777,"creation_date":1692807777,"question_id":76963230,"body_markdown":"When running my test file, my testUnion() and testIntersection() are failing. I have included some print statements in each for the purpose of debugging. In each of these methods, set1 and set2 are independent sets. set3 is a set with the desired outcome of the union or intersection of set1 and set2. Finally, set4 is the returned set from calling either the union or intersection operation on set1 and set2. \r\n\r\ntestUnion() seems to be behaving exactly as expected printing out set3 and set4 to be equal. However, I am still failing the assertEquals(set3, set4); and I&#39;m not sure why. I&#39;ve also tried doing assertTrue(set3 == set4); and have the same results. \r\n\r\ntestIntersection()&#39;s set4 is empty. This is because the line &quot;retval.add(element);&quot; under the GenericSet.java is never being executed but I&#39;m not sure why it is not getting past the if statement.\r\n\r\nHere is my GenericSet.java file:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class GenericSet&lt;T&gt; {\r\n\tArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic boolean add(T element) {\r\n\t\tif (list.contains(element)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlist.add(element);\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic boolean contains(T element) {\r\n\t    for (T item : list) {\r\n\t        if (item.equals(element)) {\r\n\t            return true;\r\n\t        }\r\n\t    }\r\n\t    return false;\r\n\t}\r\n\r\n\t\r\n\tpublic int size() {\r\n\t\treturn list.size();\r\n\t}\r\n\t\r\n\tpublic GenericSet&lt;T&gt; union(GenericSet&lt;T&gt; set) {\r\n\t\tGenericSet&lt;T&gt; retval = new GenericSet&lt;&gt;();\r\n\t\tfor (T element : this.list) {\r\n\t\t\tretval.add(element);\r\n\t\t}\r\n\t\tfor (T element : set.list) {\r\n\t\t\tretval.add(element);\r\n\t\t}\r\n\t\t\r\n\t\treturn retval;\r\n\t}\r\n\t\r\n\tpublic GenericSet&lt;T&gt; intersection(GenericSet&lt;T&gt; set) {\r\n\t\tGenericSet&lt;T&gt; retval = new GenericSet&lt;&gt;();\r\n\t\tfor (T element : this.list) {\r\n\t\t\tif (set.contains(element)) {\r\n\t\t\t\tretval.add(element);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn retval;\r\n\t}\r\n\r\n\tpublic String toList() {\r\n\t    StringBuilder builder = new StringBuilder();\r\n\t    \r\n\t    for (T element : list) {\r\n\t        builder.append(element).append(&quot;, &quot;);\r\n\t    }\r\n\t    \r\n\t    // Remove the trailing &quot;, &quot; if there are elements\r\n\t    if (!list.isEmpty()) {\r\n\t        builder.delete(builder.length() - 2, builder.length());\r\n\t    }\r\n\t    \r\n\t    return builder.toString();\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nHere is my GenericSetTest.java file which I run coverage as 1 JUnit Test on:\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass GenericSetTest {\r\n\r\n\t@Test\r\n\tvoid testAdd() {\r\n\t\tGenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\r\n\t\t/*\r\n\t\tGenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\r\n\t\tset1.add(1);\r\n\t\tset2.add(1);\r\n\t\t\r\n\t\tSystem.out.println(&quot;testAdd:&quot;);\r\n\t\tSystem.out.println(&quot;set1: &quot; + set1.toList());\r\n\t    System.out.println(&quot;set2: &quot; + set2.toList());\r\n\t    System.out.println();\r\n\t    */\r\n\t    assertTrue(set1.add(1));\r\n\t\t//assertTrue(set1.equals(set2));\r\n\t\t\r\n\t\t//set2.add(3);\r\n\t\t//assertFalse(set1 == set2);\r\n\t\t}\r\n\t\r\n\t@Test\r\n\tvoid testContains() {\r\n\t\tGenericSet&lt;Integer&gt; set = new GenericSet&lt;&gt;();\r\n\t\tset.add(1);\r\n\t\tassertEquals(true, set.contains(1));\r\n\t\tassertTrue(set.contains(1));\r\n\t\tassertFalse(set.contains(3));\r\n\t\t}\r\n\t\r\n\t@Test\r\n\tvoid testSize() {\r\n\t\tGenericSet&lt;Integer&gt; set = new GenericSet&lt;&gt;();\r\n\t\tassertTrue(set.size() == 0);\r\n\t\tset.add(1);\r\n\t\tassertTrue(set.size() == 1);\r\n\t\tset.add(4);\r\n\t\tassertTrue(set.size() == 2);\r\n\t\t}\r\n\t\r\n\t@Test\r\n\tvoid testUnion() {\r\n\t\tGenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\r\n\t\tGenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\r\n\t\tGenericSet&lt;Integer&gt; set3 = new GenericSet&lt;&gt;();\r\n\t\t\r\n\t\tset1.add(1);\r\n\t\tset1.add(2);\r\n\t\tset1.add(3);\r\n\t\t\r\n\t\tset2.add(3);\r\n\t\tset2.add(4);\r\n\r\n\t\tset3.add(1);\r\n\t\tset3.add(2);\r\n\t\tset3.add(3);\r\n\t\tset3.add(4);\r\n\t\t\r\n\t\t\r\n\t\tGenericSet&lt;Integer&gt; set4 = set1.union(set2);\r\n\t\t\r\n\t\tSystem.out.println(&quot;testUnion:&quot;);\r\n\t\tSystem.out.println(&quot;set1: &quot; + set1.toList());\r\n\t    System.out.println(&quot;set2: &quot; + set2.toList());\r\n\t\tSystem.out.println(&quot;set3: &quot; + set3.toList());\r\n\t    System.out.println(&quot;set4: &quot; + set4.toList());\r\n\t    System.out.println();\r\n\t\tassertEquals(set3, set4);\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid testIntersection() {\r\n\t    GenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\r\n\t    GenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\r\n\t    GenericSet&lt;Integer&gt; set3 = new GenericSet&lt;&gt;();\r\n\t    \r\n\t    // set1 = {1, 2}\r\n\t    set1.add(1);\r\n\t    set1.add(2);\r\n\t    \r\n\t    // set2 = {3, 3}\r\n\t    set2.add(3);\r\n\t    set2.add(3);\r\n\t    \r\n\t    // set3 = {1, 2, 3}\r\n\t    set3.add(1);\r\n\t    set3.add(2);\r\n\t    set3.add(3);\r\n\t    \r\n\t    // set4 = {1, 2, 3}\r\n\t    GenericSet&lt;Integer&gt; set4 = set1.intersection(set2);\r\n\t    \r\n\t    System.out.println(&quot;testIntersection:&quot;);\r\n\t\tSystem.out.println(&quot;set1: &quot; + set1.toList());\r\n\t    System.out.println(&quot;set2: &quot; + set2.toList());\r\n\t\tSystem.out.println(&quot;set3: &quot; + set3.toList());\r\n\t    System.out.println(&quot;set4: &quot; + set4.toList());\r\n\t    System.out.println();\r\n\t    \r\n\t    // Use assertEquals to compare the content of the sets\r\n\t    assertEquals(set3, set4);\r\n\t}\r\n}\r\n```","title":"Testing GenericSet using JUnit Test","body":"<p>When running my test file, my testUnion() and testIntersection() are failing. I have included some print statements in each for the purpose of debugging. In each of these methods, set1 and set2 are independent sets. set3 is a set with the desired outcome of the union or intersection of set1 and set2. Finally, set4 is the returned set from calling either the union or intersection operation on set1 and set2.</p>\n<p>testUnion() seems to be behaving exactly as expected printing out set3 and set4 to be equal. However, I am still failing the assertEquals(set3, set4); and I'm not sure why. I've also tried doing assertTrue(set3 == set4); and have the same results.</p>\n<p>testIntersection()'s set4 is empty. This is because the line &quot;retval.add(element);&quot; under the GenericSet.java is never being executed but I'm not sure why it is not getting past the if statement.</p>\n<p>Here is my GenericSet.java file:</p>\n<pre><code>import java.util.ArrayList;\n\npublic class GenericSet&lt;T&gt; {\n    ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\n    \n    public boolean add(T element) {\n        if (list.contains(element)) {\n            return false;\n        }\n        list.add(element);\n        return true;\n    }\n    \n    public boolean contains(T element) {\n        for (T item : list) {\n            if (item.equals(element)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    \n    public int size() {\n        return list.size();\n    }\n    \n    public GenericSet&lt;T&gt; union(GenericSet&lt;T&gt; set) {\n        GenericSet&lt;T&gt; retval = new GenericSet&lt;&gt;();\n        for (T element : this.list) {\n            retval.add(element);\n        }\n        for (T element : set.list) {\n            retval.add(element);\n        }\n        \n        return retval;\n    }\n    \n    public GenericSet&lt;T&gt; intersection(GenericSet&lt;T&gt; set) {\n        GenericSet&lt;T&gt; retval = new GenericSet&lt;&gt;();\n        for (T element : this.list) {\n            if (set.contains(element)) {\n                retval.add(element);\n            }\n        }\n        return retval;\n    }\n\n    public String toList() {\n        StringBuilder builder = new StringBuilder();\n        \n        for (T element : list) {\n            builder.append(element).append(&quot;, &quot;);\n        }\n        \n        // Remove the trailing &quot;, &quot; if there are elements\n        if (!list.isEmpty()) {\n            builder.delete(builder.length() - 2, builder.length());\n        }\n        \n        return builder.toString();\n    }\n\n}\n\n</code></pre>\n<p>Here is my GenericSetTest.java file which I run coverage as 1 JUnit Test on:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\nclass GenericSetTest {\n\n    @Test\n    void testAdd() {\n        GenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\n        /*\n        GenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\n        set1.add(1);\n        set2.add(1);\n        \n        System.out.println(&quot;testAdd:&quot;);\n        System.out.println(&quot;set1: &quot; + set1.toList());\n        System.out.println(&quot;set2: &quot; + set2.toList());\n        System.out.println();\n        */\n        assertTrue(set1.add(1));\n        //assertTrue(set1.equals(set2));\n        \n        //set2.add(3);\n        //assertFalse(set1 == set2);\n        }\n    \n    @Test\n    void testContains() {\n        GenericSet&lt;Integer&gt; set = new GenericSet&lt;&gt;();\n        set.add(1);\n        assertEquals(true, set.contains(1));\n        assertTrue(set.contains(1));\n        assertFalse(set.contains(3));\n        }\n    \n    @Test\n    void testSize() {\n        GenericSet&lt;Integer&gt; set = new GenericSet&lt;&gt;();\n        assertTrue(set.size() == 0);\n        set.add(1);\n        assertTrue(set.size() == 1);\n        set.add(4);\n        assertTrue(set.size() == 2);\n        }\n    \n    @Test\n    void testUnion() {\n        GenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\n        GenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\n        GenericSet&lt;Integer&gt; set3 = new GenericSet&lt;&gt;();\n        \n        set1.add(1);\n        set1.add(2);\n        set1.add(3);\n        \n        set2.add(3);\n        set2.add(4);\n\n        set3.add(1);\n        set3.add(2);\n        set3.add(3);\n        set3.add(4);\n        \n        \n        GenericSet&lt;Integer&gt; set4 = set1.union(set2);\n        \n        System.out.println(&quot;testUnion:&quot;);\n        System.out.println(&quot;set1: &quot; + set1.toList());\n        System.out.println(&quot;set2: &quot; + set2.toList());\n        System.out.println(&quot;set3: &quot; + set3.toList());\n        System.out.println(&quot;set4: &quot; + set4.toList());\n        System.out.println();\n        assertEquals(set3, set4);\n    }\n    \n    @Test\n    void testIntersection() {\n        GenericSet&lt;Integer&gt; set1 = new GenericSet&lt;&gt;();\n        GenericSet&lt;Integer&gt; set2 = new GenericSet&lt;&gt;();\n        GenericSet&lt;Integer&gt; set3 = new GenericSet&lt;&gt;();\n        \n        // set1 = {1, 2}\n        set1.add(1);\n        set1.add(2);\n        \n        // set2 = {3, 3}\n        set2.add(3);\n        set2.add(3);\n        \n        // set3 = {1, 2, 3}\n        set3.add(1);\n        set3.add(2);\n        set3.add(3);\n        \n        // set4 = {1, 2, 3}\n        GenericSet&lt;Integer&gt; set4 = set1.intersection(set2);\n        \n        System.out.println(&quot;testIntersection:&quot;);\n        System.out.println(&quot;set1: &quot; + set1.toList());\n        System.out.println(&quot;set2: &quot; + set2.toList());\n        System.out.println(&quot;set3: &quot; + set3.toList());\n        System.out.println(&quot;set4: &quot; + set4.toList());\n        System.out.println();\n        \n        // Use assertEquals to compare the content of the sets\n        assertEquals(set3, set4);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","hapi-fhir"],"owner":{"account_id":10815338,"reputation":39157,"user_id":7954504,"accept_rate":99,"display_name":"Brad Solomon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692807579,"creation_date":1692806855,"question_id":76963134,"body_markdown":"When the project https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton is wrapped in a Spring application, the server fails to run and displays an `org.springframework.beans.factory.NoUniqueBeanDefinitionException` error.\r\n\r\n&gt; `Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;templateEngine&#39; defined in ca.uhn.fhir.to.FhirTesterMvcConfig: Unsatisfied dependency expressed through method &#39;templateEngine&#39; parameter 0; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&#39; available: expected single matching bean but found 2: templateResolver,defaultTemplateResolver`\r\n\r\nThis references `FhirTesterMvcConfig.templateResolver`, which comes from here:\r\n\r\n&gt; https://github.com/hapifhir/hapi-fhir/blob/ed616f7a6dff2ee891b39f7ed2a301d1efbbfec4/hapi-fhir-testpage-overlay/src/main/java/ca/uhn/fhir/to/FhirTesterMvcConfig.java#L46\r\n\r\nIt appears that this is related to the use of the HAPI FHIR [Web Testpage Overlay](https://hapifhir.io/hapi-fhir/docs/server_plain/web_testpage_overlay.html), but we cannot figure out how to make the method resolve to a &quot;unique&quot; bean. We have tried adding `@Primary` annotation to our FhirTesterConfig.java, but the error is unchanged. What can we do differently?\r\n\r\n**Reproducible example**\r\n\r\n1. Clone repo from https://gitlab.com/brsolomon-deloitte/hapi-fhir-overlay-mvce\r\n2. `mvn clean jetty:run`\r\n\r\nThis project is simply the original https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton wrapped in a Spring application, which was in turn created using https://start.spring.io/. \r\n\r\n```\r\n$ tree src\r\nsrc\r\n└── main\r\n    ├── java\r\n    │&#160;&#160; └── ca\r\n    │&#160;&#160;     └── uhn\r\n    │&#160;&#160;         └── example\r\n    │&#160;&#160;             ├── app\r\n    │&#160;&#160;             │&#160;&#160; ├── DemoApplication.java &lt; # New\r\n    │&#160;&#160;             │&#160;&#160; └── ServletInitializer.java &lt; # New\r\n    │&#160;&#160;             ├── config\r\n    │&#160;&#160;             │&#160;&#160; └── FhirTesterConfig.java\r\n    │&#160;&#160;             ├── model\r\n    │&#160;&#160;             │&#160;&#160; └── MyOrganization.java\r\n    │&#160;&#160;             ├── provider\r\n    │&#160;&#160;             │&#160;&#160; ├── OrganizationResourceProvider.java\r\n    │&#160;&#160;             │&#160;&#160; └── PatientResourceProvider.java\r\n    │&#160;&#160;             └── servlet\r\n    │&#160;&#160;                 └── ExampleRestfulServlet.java\r\n    ├── resources\r\n    └── webapp\r\n        └── WEB-INF\r\n            └── web.xml\r\n```\r\n\r\nEnvironment info:\r\n\r\n - HAPI FHIR Version: 6.7.0-SNAPSHOT\r\n - OS: MacOS 13.5.1\r\n - Browser: Chrome\r\n\r\nFull stack trace is available here: https://gist.github.com/brsolomon-deloitte/92fa3870d7297e2c85b31d7920728c77","title":"Spring/HAPI FHIR leads to &#39;NoUniqueBeanDefinitionException: No qualifying bean&#39;","body":"<p>When the project <a href=\"https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton\" rel=\"nofollow noreferrer\">https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton</a> is wrapped in a Spring application, the server fails to run and displays an <code>org.springframework.beans.factory.NoUniqueBeanDefinitionException</code> error.</p>\n<blockquote>\n<p><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'templateEngine' defined in ca.uhn.fhir.to.FhirTesterMvcConfig: Unsatisfied dependency expressed through method 'templateEngine' parameter 0; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver' available: expected single matching bean but found 2: templateResolver,defaultTemplateResolver</code></p>\n</blockquote>\n<p>This references <code>FhirTesterMvcConfig.templateResolver</code>, which comes from here:</p>\n<blockquote>\n<p><a href=\"https://github.com/hapifhir/hapi-fhir/blob/ed616f7a6dff2ee891b39f7ed2a301d1efbbfec4/hapi-fhir-testpage-overlay/src/main/java/ca/uhn/fhir/to/FhirTesterMvcConfig.java#L46\" rel=\"nofollow noreferrer\">https://github.com/hapifhir/hapi-fhir/blob/ed616f7a6dff2ee891b39f7ed2a301d1efbbfec4/hapi-fhir-testpage-overlay/src/main/java/ca/uhn/fhir/to/FhirTesterMvcConfig.java#L46</a></p>\n</blockquote>\n<p>It appears that this is related to the use of the HAPI FHIR <a href=\"https://hapifhir.io/hapi-fhir/docs/server_plain/web_testpage_overlay.html\" rel=\"nofollow noreferrer\">Web Testpage Overlay</a>, but we cannot figure out how to make the method resolve to a &quot;unique&quot; bean. We have tried adding <code>@Primary</code> annotation to our FhirTesterConfig.java, but the error is unchanged. What can we do differently?</p>\n<p><strong>Reproducible example</strong></p>\n<ol>\n<li>Clone repo from <a href=\"https://gitlab.com/brsolomon-deloitte/hapi-fhir-overlay-mvce\" rel=\"nofollow noreferrer\">https://gitlab.com/brsolomon-deloitte/hapi-fhir-overlay-mvce</a></li>\n<li><code>mvn clean jetty:run</code></li>\n</ol>\n<p>This project is simply the original <a href=\"https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton\" rel=\"nofollow noreferrer\">https://github.com/FirelyTeam/fhirstarters/tree/master/java/hapi-fhirstarters-rest-server-skeleton</a> wrapped in a Spring application, which was in turn created using <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>.</p>\n<pre><code>$ tree src\nsrc\n└── main\n    ├── java\n    │   └── ca\n    │       └── uhn\n    │           └── example\n    │               ├── app\n    │               │   ├── DemoApplication.java &lt; # New\n    │               │   └── ServletInitializer.java &lt; # New\n    │               ├── config\n    │               │   └── FhirTesterConfig.java\n    │               ├── model\n    │               │   └── MyOrganization.java\n    │               ├── provider\n    │               │   ├── OrganizationResourceProvider.java\n    │               │   └── PatientResourceProvider.java\n    │               └── servlet\n    │                   └── ExampleRestfulServlet.java\n    ├── resources\n    └── webapp\n        └── WEB-INF\n            └── web.xml\n</code></pre>\n<p>Environment info:</p>\n<ul>\n<li>HAPI FHIR Version: 6.7.0-SNAPSHOT</li>\n<li>OS: MacOS 13.5.1</li>\n<li>Browser: Chrome</li>\n</ul>\n<p>Full stack trace is available here: <a href=\"https://gist.github.com/brsolomon-deloitte/92fa3870d7297e2c85b31d7920728c77\" rel=\"nofollow noreferrer\">https://gist.github.com/brsolomon-deloitte/92fa3870d7297e2c85b31d7920728c77</a></p>\n"},{"tags":["java","syntax"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1692800306,"post_id":76962218,"comment_id":135673823,"body_markdown":"What is the use case that justifies not doing this in a method?","body":"What is the use case that justifies not doing this in a method?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1692800360,"post_id":76962218,"comment_id":135673835,"body_markdown":"you can use a `switch` expression, but very ugly, confusing, and why? `int c = switch (1) { default -&gt; { ... yield x; } }` (or similar like swap the case and default, )","body":"you can use a <code>switch</code> expression, but very ugly, confusing, and why? <code>int c = switch (1) { default -&gt; { ... yield x; } }</code> (or similar like swap the case and default, )"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692800787,"post_id":76962218,"comment_id":135673948,"body_markdown":"((even `switch (&quot;dummy&quot;) ...` or, to make it more confusing:  `switch(c) ...`)) -- `yield` AFAIK is only available inside a switch expression - Java Language Specification [14.21. The yield Statement](https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.21): &quot;**It is a compile-time error if a yield statement has no yield target.**&quot;","body":"((even <code>switch (&quot;dummy&quot;) ...</code> or, to make it more confusing:  <code>switch(c) ...</code>)) -- <code>yield</code> AFAIK is only available inside a switch expression - Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-14.html#jls-14.21\" rel=\"nofollow noreferrer\">14.21. The yield Statement</a>: &quot;<b>It is a compile-time error if a yield statement has no yield target.</b>&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692801668,"post_id":76962218,"comment_id":135674175,"body_markdown":"*inspired* by WJS&#39; [answer](https://stackoverflow.com/a/76962371/16320675), you can also use an anonymous object: `var calc = new Object() { int it(...) { ... return result;} }; int c = calc.it(...);` - Warning: only works when using `var` -- `Object calc = new ...` will not work!","body":"<i>inspired</i> by WJS&#39; <a href=\"https://stackoverflow.com/a/76962371/16320675\">answer</a>, you can also use an anonymous object: <code>var calc = new Object() { int it(...) { ... return result;} }; int c = calc.it(...);</code> - Warning: only works when using <code>var</code> -- <code>Object calc = new ...</code> will not work!"},{"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"score":0,"creation_date":1692802086,"post_id":76962218,"comment_id":135674283,"body_markdown":"This is a question for possible language feature like this, not any workaround or hacks. Thanks anyways for your suggestions!","body":"This is a question for possible language feature like this, not any workaround or hacks. Thanks anyways for your suggestions!"},{"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"score":0,"creation_date":1692802191,"post_id":76962218,"comment_id":135674312,"body_markdown":"It would be useful to have such a language feature to be able to access all the variables from the parent scope without introducing a new method with lots of parameters. Also it should be type safe regarding exception handling. Also the inner variables should only be available inside the block and not afterwards.","body":"It would be useful to have such a language feature to be able to access all the variables from the parent scope without introducing a new method with lots of parameters. Also it should be type safe regarding exception handling. Also the inner variables should only be available inside the block and not afterwards."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692802818,"post_id":76962218,"comment_id":135674449,"body_markdown":"well, maybe the question was posted to soon to make it clear of that... &quot;*somehow create local blocks*&quot; kind of sounds like searching some hack/workaround... BTW the inner object kind of has access to the variables of the *parent*, but if you just *need* access to the variables and inner variables only available inside, a normal block will do: `int c; { ... c = ...; }` - not sure what exactly is meant by safe regarding exception handling...","body":"well, maybe the question was posted to soon to make it clear of that... &quot;<i>somehow create local blocks</i>&quot; kind of sounds like searching some hack/workaround... BTW the inner object kind of has access to the variables of the <i>parent</i>, but if you just <i>need</i> access to the variables and inner variables only available inside, a normal block will do: <code>int c; { ... c = ...; }</code> - not sure what exactly is meant by safe regarding exception handling..."}],"answers":[{"comments":[{"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"score":0,"creation_date":1692802282,"post_id":76962504,"comment_id":135674337,"body_markdown":"But in your first approach `c` is not final. Therefore I can not use it in lambdas, right","body":"But in your first approach <code>c</code> is not final. Therefore I can not use it in lambdas, right"},{"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"score":0,"creation_date":1692802413,"post_id":76962504,"comment_id":135674364,"body_markdown":"It also might happen, that the programmer forgets to assign a value to c inside the block. This should be covered by the compiler IMO","body":"It also might happen, that the programmer forgets to assign a value to c inside the block. This should be covered by the compiler IMO"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1692802703,"post_id":76962504,"comment_id":135674424,"body_markdown":"@andi If a variable is only assigned once (`int c;` is only a declaration, not an assignment), then the variable is _effectively final_. That means it can be used inside lambdas. And if you don&#39;t definitely assign `c` before trying to use it then you will get a compiler error.","body":"@andi If a variable is only assigned once (<code>int c;</code> is only a declaration, not an assignment), then the variable is <i>effectively final</i>. That means it can be used inside lambdas. And if you don&#39;t definitely assign <code>c</code> before trying to use it then you will get a compiler error."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692802801,"post_id":76962504,"comment_id":135674444,"body_markdown":"@andi Yes, you __can__ use `c` in lambdas! Use in lambdas doesn&#39;t _require_ a `final` keyword (but you can make `c` `final` here if you want, it&#39;ll compile fine!) - merely that if you _would_ stick `final` on it, that it would compile (i.e. the compiler will infer it for you if needed). This is called _effectively final_. And, yes, `c` is effectively final _and_ definitely assigned which are 2 the two necessary and sufficient properties to use a local in a lambda.","body":"@andi Yes, you <b>can</b> use <code>c</code> in lambdas! Use in lambdas doesn&#39;t <i>require</i> a <code>final</code> keyword (but you can make <code>c</code> <code>final</code> here if you want, it&#39;ll compile fine!) - merely that if you <i>would</i> stick <code>final</code> on it, that it would compile (i.e. the compiler will infer it for you if needed). This is called <i>effectively final</i>. And, yes, <code>c</code> is effectively final <i>and</i> definitely assigned which are 2 the two necessary and sufficient properties to use a local in a lambda."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692802855,"post_id":76962504,"comment_id":135674453,"body_markdown":"@andi `final` doesn&#39;t require that it is assigned. You can declare a final variable and fail to initialize it (`final int c;`), this is fine. The compiler will check that all possible code paths only assign a value to `c` at most once, and will disallow any attempt to use `c` unless every code path that gets you there will have assigned it at least once.","body":"@andi <code>final</code> doesn&#39;t require that it is assigned. You can declare a final variable and fail to initialize it (<code>final int c;</code>), this is fine. The compiler will check that all possible code paths only assign a value to <code>c</code> at most once, and will disallow any attempt to use <code>c</code> unless every code path that gets you there will have assigned it at least once."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692802932,"post_id":76962504,"comment_id":135674469,"body_markdown":"And, yes, if someone fails to assign a value to `c`, _and_ you actually use `c` later, the compiler will refuse to compile the code and will mark off the place where c is read as: Nope - c isn&#39;t definitely assigned in here, so you can&#39;t do that. Sounds like it&#39;s what you want, no?","body":"And, yes, if someone fails to assign a value to <code>c</code>, <i>and</i> you actually use <code>c</code> later, the compiler will refuse to compile the code and will mark off the place where c is read as: Nope - c isn&#39;t definitely assigned in here, so you can&#39;t do that. Sounds like it&#39;s what you want, no?"},{"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"score":0,"creation_date":1692857952,"post_id":76962504,"comment_id":135681406,"body_markdown":"@rzwitserloot it is definitly the nearest what I am looking for. Thanks a lot for the answers and explainations!","body":"@rzwitserloot it is definitly the nearest what I am looking for. Thanks a lot for the answers and explainations!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692801860,"creation_date":1692801860,"answer_id":76962504,"question_id":76962218,"body_markdown":"Not literally like you posted, but, given that there is no point to such a construct _other than_ trying to espouse a certain effect on the &#39;structure&#39; (how it looks / how the experience of that reads the code goes), I guess what you&#39;re really asking for, is: Can I make something that his this _structure_.\r\n\r\nAnd then answer is trivially yes, but it does play havoc with auto-formatter rules because they aren&#39;t designed with this &#39;style&#39; in mind.\r\n\r\nThis is perfectly valid java, and has been for 30 years; no need for new java versions, even (well, I&#39;ll use your `var` which was introduced in java 10):\r\n\r\n```\r\nint c; {\r\n  var aSquare = Math.pow(a, 2);\r\n  var bSquare = Math.pow(b, 2);\r\n  var cSquare = aSquare + bSquare;\r\n  c = Math.root(cSquare);\r\n}\r\n```\r\n\r\nYes, that&#39;s legal. There are some funky things happening here:\r\n\r\n* Yes, that&#39;s a statement (`int c;`), then a _space_, then just.. a block. It&#39;s legal to just start blocks for no reason in java.\r\n* The `aSquare`, `bSquare`, and `cSquare` variable names are scoped to this 4-liner block; the variables poof out of existence immediately after that closing brace, so you aren&#39;t &#39;infecting&#39; the outer scope with these variables and if you write another such block later in in the same method, you can again use the name `aSquare`, which would have absolutely no relationship whatsoever with _this_ `aSquare`variable.\r\n* After the block, the `c` variable has the states &#39;definitely assigned&#39;, as well as &#39;effectively final&#39;, which are both good things.\r\n* Every auto-formatter tool I know of would stick a newline after `int c;` and then stick the opening brace of the block on its own line. However, that&#39;s.. just your auto-formatter doing that. Java-the-lang-spec doesn&#39;t require this, and written like it is above, the _intent_ of that code is much more clear (namely, that the block&#39;s function is to calculate a value for c. That&#39;s the only thing it does). I don&#39;t auto-format my code. Instead I format it properly as I type. It&#39;s a habit that is effortless and has advantages (such as letting me write the above), but I can&#39;t tell you how much retraining it would take or if everybody is inclined to it; I&#39;ve been doing it for decades at this point, so I can&#39;t give meaningful insights in how one would learn it now.\r\n\r\nAlternatives on the theme are this style:\r\n\r\n```\r\npublic void foo() {\r\n  /* description of a helpery task */ {\r\n    code that does the thing\r\n  }\r\n}\r\n```\r\n\r\nThis can be better than an actual helper method in the sense that you don&#39;t need to parameterize all the context you require in this &#39;helper block&#39;. You can go real nuts and use labels if you must. This is legal:\r\n\r\n```\r\npublic void foo() {\r\n  helperyTaskDescription: {\r\n    calculations_go_here();\r\n    if (reasonToStop) break helperyTaskDescription;\r\n    more_calculations();\r\n  }\r\n}\r\n```\r\n\r\nYou must &#39;label&#39; the break or it doesn&#39;t work, but that is effectively &#39;go to closing brace of the block labelled helperyTaskDescription&#39;. You can use this style even if you don&#39;t actually break to it, though lots of linter tools will then complain about an unused label. If you find it looks great and it helps readability, there&#39;s a big caveat here in general: Writing code in a style few java programmers are familiar with has downsides - your code will be harder to share. But you have to weigh that against the benefits of tightly scoped variable names and the like.\r\n\r\nIf the question isn&#39;t about good code style and just about a pedantic/academic point to be made, I&#39;m no sure that&#39;s a good way to spend your time, but, if you must, you can introduce a pointless switch block just for the privilege of making `yield` do a thing:\r\n\r\n```\r\nint c = switch (0) {\r\n  default -&gt; {\r\n    var aSquare = Math.pow(a, 2);\r\n    var bSquare = Math.pow(b, 2);\r\n    var cSquare = aSquare + bSquare;\r\n    yield Math.root(cSquare);\r\n  }\r\n}\r\n```\r\n\r\nLooks pretty bad and that&#39;s a lot of boilerplate, and it really needs a comment because I bet the vast majority of java coders who see that will immediately be focussing on what the heck the switch is doing here and therefore require a comment explaining: _I really just wanted to be able to `yield` and I was willing to accept this disaster to do it._\r\n\r\nNB: Just to be thorough - very often the stylistically preferrably answer is to just make helper methods. `int c = deviation(a, b);` is probably the &#39;right&#39; way to do this. This doesn&#39;t just make the code itself easier to read (now you just mentally grok what &#39;deviation&#39; means and can simplify your understanding of the code, replacing the 4 lines you have with just &#39;deviation between a and b&#39;), _and_ it lets you optimize. For example, it is likely that `Math.sqrt(a * a + b * b)` is a significantly better way to do this. With a helper method you only have one place to make a change instead of search-replacing loads of code. However, not _every situation_ where you want a block to &#39;group&#39; the code together _and_ tightly scope any local vars you declare, is best tackled with a helper method. Just - this specific example you wrote probably is!","title":"Java Local Block Yield Value","body":"<p>Not literally like you posted, but, given that there is no point to such a construct <em>other than</em> trying to espouse a certain effect on the 'structure' (how it looks / how the experience of that reads the code goes), I guess what you're really asking for, is: Can I make something that his this <em>structure</em>.</p>\n<p>And then answer is trivially yes, but it does play havoc with auto-formatter rules because they aren't designed with this 'style' in mind.</p>\n<p>This is perfectly valid java, and has been for 30 years; no need for new java versions, even (well, I'll use your <code>var</code> which was introduced in java 10):</p>\n<pre><code>int c; {\n  var aSquare = Math.pow(a, 2);\n  var bSquare = Math.pow(b, 2);\n  var cSquare = aSquare + bSquare;\n  c = Math.root(cSquare);\n}\n</code></pre>\n<p>Yes, that's legal. There are some funky things happening here:</p>\n<ul>\n<li>Yes, that's a statement (<code>int c;</code>), then a <em>space</em>, then just.. a block. It's legal to just start blocks for no reason in java.</li>\n<li>The <code>aSquare</code>, <code>bSquare</code>, and <code>cSquare</code> variable names are scoped to this 4-liner block; the variables poof out of existence immediately after that closing brace, so you aren't 'infecting' the outer scope with these variables and if you write another such block later in in the same method, you can again use the name <code>aSquare</code>, which would have absolutely no relationship whatsoever with <em>this</em> <code>aSquare</code>variable.</li>\n<li>After the block, the <code>c</code> variable has the states 'definitely assigned', as well as 'effectively final', which are both good things.</li>\n<li>Every auto-formatter tool I know of would stick a newline after <code>int c;</code> and then stick the opening brace of the block on its own line. However, that's.. just your auto-formatter doing that. Java-the-lang-spec doesn't require this, and written like it is above, the <em>intent</em> of that code is much more clear (namely, that the block's function is to calculate a value for c. That's the only thing it does). I don't auto-format my code. Instead I format it properly as I type. It's a habit that is effortless and has advantages (such as letting me write the above), but I can't tell you how much retraining it would take or if everybody is inclined to it; I've been doing it for decades at this point, so I can't give meaningful insights in how one would learn it now.</li>\n</ul>\n<p>Alternatives on the theme are this style:</p>\n<pre><code>public void foo() {\n  /* description of a helpery task */ {\n    code that does the thing\n  }\n}\n</code></pre>\n<p>This can be better than an actual helper method in the sense that you don't need to parameterize all the context you require in this 'helper block'. You can go real nuts and use labels if you must. This is legal:</p>\n<pre><code>public void foo() {\n  helperyTaskDescription: {\n    calculations_go_here();\n    if (reasonToStop) break helperyTaskDescription;\n    more_calculations();\n  }\n}\n</code></pre>\n<p>You must 'label' the break or it doesn't work, but that is effectively 'go to closing brace of the block labelled helperyTaskDescription'. You can use this style even if you don't actually break to it, though lots of linter tools will then complain about an unused label. If you find it looks great and it helps readability, there's a big caveat here in general: Writing code in a style few java programmers are familiar with has downsides - your code will be harder to share. But you have to weigh that against the benefits of tightly scoped variable names and the like.</p>\n<p>If the question isn't about good code style and just about a pedantic/academic point to be made, I'm no sure that's a good way to spend your time, but, if you must, you can introduce a pointless switch block just for the privilege of making <code>yield</code> do a thing:</p>\n<pre><code>int c = switch (0) {\n  default -&gt; {\n    var aSquare = Math.pow(a, 2);\n    var bSquare = Math.pow(b, 2);\n    var cSquare = aSquare + bSquare;\n    yield Math.root(cSquare);\n  }\n}\n</code></pre>\n<p>Looks pretty bad and that's a lot of boilerplate, and it really needs a comment because I bet the vast majority of java coders who see that will immediately be focussing on what the heck the switch is doing here and therefore require a comment explaining: <em>I really just wanted to be able to <code>yield</code> and I was willing to accept this disaster to do it.</em></p>\n<p>NB: Just to be thorough - very often the stylistically preferrably answer is to just make helper methods. <code>int c = deviation(a, b);</code> is probably the 'right' way to do this. This doesn't just make the code itself easier to read (now you just mentally grok what 'deviation' means and can simplify your understanding of the code, replacing the 4 lines you have with just 'deviation between a and b'), <em>and</em> it lets you optimize. For example, it is likely that <code>Math.sqrt(a * a + b * b)</code> is a significantly better way to do this. With a helper method you only have one place to make a change instead of search-replacing loads of code. However, not <em>every situation</em> where you want a block to 'group' the code together <em>and</em> tightly scope any local vars you declare, is best tackled with a helper method. Just - this specific example you wrote probably is!</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692806345,"creation_date":1692806021,"answer_id":76963040,"question_id":76962218,"body_markdown":"&gt; _&quot;... Is it possible in Java (17) to somehow create local blocks that return/yield some value to the parent block? ...&quot;_\r\n\r\nNo, this is not part of the syntax.&amp;nbsp; I believe the recommendation is to create a method or a class.\r\n\r\nYou _could_ utilize the closure framework, and implement an interface.  \r\n_[Lambda Expressions (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Classes and Objects)](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)_.\r\n\r\n```java\r\ninterface Hypotenuse {\r\n    double calculate(int a, int b);\r\n}\r\n```\r\n\r\n```java\r\nvoid hypotenuse(int a, int b) {\r\n    double c = ((Hypotenuse) (x, y) -&gt; {\r\n        var aSquare = Math.pow(x, 2);\r\n        var bSquare = Math.pow(y, 2);\r\n        var cSquare = aSquare + bSquare;\r\n        return Math.sqrt(cSquare);\r\n    }).calculate(a, b);\r\n}\r\n```\r\n\r\nYou could even add the _interface_ to the method.\r\n\r\n```java\r\nvoid hypotenuse(int a, int b) {\r\n    interface Hypotenuse { double calculate(int a, int b); }\r\n    double c = ((Hypotenuse) (x, y) -&gt; {\r\n        var aSquare = Math.pow(x, 2);\r\n        var bSquare = Math.pow(y, 2);\r\n        var cSquare = aSquare + bSquare;\r\n        return Math.sqrt(cSquare);\r\n    }).calculate(a, b);\r\n}\r\n```","title":"Java Local Block Yield Value","body":"<blockquote>\n<p><em>&quot;... Is it possible in Java (17) to somehow create local blocks that return/yield some value to the parent block? ...&quot;</em></p>\n</blockquote>\n<p>No, this is not part of the syntax.  I believe the recommendation is to create a method or a class.</p>\n<p>You <em>could</em> utilize the closure framework, and implement an interface.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">Lambda Expressions (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Hypotenuse {\n    double calculate(int a, int b);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>void hypotenuse(int a, int b) {\n    double c = ((Hypotenuse) (x, y) -&gt; {\n        var aSquare = Math.pow(x, 2);\n        var bSquare = Math.pow(y, 2);\n        var cSquare = aSquare + bSquare;\n        return Math.sqrt(cSquare);\n    }).calculate(a, b);\n}\n</code></pre>\n<p>You could even add the <em>interface</em> to the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void hypotenuse(int a, int b) {\n    interface Hypotenuse { double calculate(int a, int b); }\n    double c = ((Hypotenuse) (x, y) -&gt; {\n        var aSquare = Math.pow(x, 2);\n        var bSquare = Math.pow(y, 2);\n        var cSquare = aSquare + bSquare;\n        return Math.sqrt(cSquare);\n    }).calculate(a, b);\n}\n</code></pre>\n"}],"owner":{"account_id":3971503,"reputation":47,"user_id":3276002,"display_name":"andi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76963040,"answer_count":2,"score":0,"last_activity_date":1692806345,"creation_date":1692800010,"question_id":76962218,"body_markdown":"Is it possible in Java (17) to somehow create local blocks that return/yield some value to the parent block?\r\n\r\nE.g.\r\n```\r\npublic void calceSomething(int a, intb) {\r\n  int c = {\r\n    var aSquare = Math.pow(a, 2);\r\n    var bSquare = Math.pow(b, 2);\r\n    var cSquare = aSquare + bSquare;\r\n    yield Math.root(cSuare);\r\n  };\r\n  /* lets further do something with c */\r\n}\r\n```","title":"Java Local Block Yield Value","body":"<p>Is it possible in Java (17) to somehow create local blocks that return/yield some value to the parent block?</p>\n<p>E.g.</p>\n<pre><code>public void calceSomething(int a, intb) {\n  int c = {\n    var aSquare = Math.pow(a, 2);\n    var bSquare = Math.pow(b, 2);\n    var cSquare = aSquare + bSquare;\n    yield Math.root(cSuare);\n  };\n  /* lets further do something with c */\n}\n</code></pre>\n"},{"tags":["java","spring-boot","multipartform-data"],"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692806297,"creation_date":1692803232,"question_id":76962685,"body_markdown":"I have spring boot with rest controller and this controller must send in response byte[] array with custom header\r\nResponse type must be with Content-Type multipart/form-data\r\n\r\nMy RestController Like this\r\n\r\n    @PostMapping(value = &quot;/getFile&quot;,\r\n        produces = MediaType.MULTIPART_FORM_DATA_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    public @ResponseBody\r\n    ResponseEntity&lt;MultipartFile&gt; getFile(@RequestHeader(&quot;id&quot;) String id) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n        var bytes = integrationServices.getBytes(id);\r\n        var multiPartFile = new SignMultiPartFile(&quot;name&quot;, bytes);\r\n        return new ResponseEntity&lt;&gt;(multiPartFile, headers, HttpStatus.OK)\r\n      \r\n    }\r\n\r\nAnd I created custom MultiPartFile object\r\n\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class SignMultiPartFile implements MultipartFile, Serializable {\r\n    \r\n        private final String fileName;\r\n        private final byte[] bytes;\r\n    \r\n        public SignMultiPartFile(String fileName, byte[] bytes) {\r\n            this.fileName = fileName;\r\n            this.bytes = bytes;\r\n        }\r\n    \r\n        @Override\r\n        public String getName() {\r\n            return fileName;\r\n        }\r\n    \r\n        @Override\r\n        public String getOriginalFilename() {\r\n            return fileName;\r\n        }\r\n    \r\n        @Override\r\n        public String getContentType() {\r\n            return MediaType.MULTIPART_FORM_DATA_VALUE;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEmpty() {\r\n            return bytes == null || bytes.length == 0;\r\n        }\r\n    \r\n        @Override\r\n        public long getSize() {\r\n            return bytes.length;\r\n        }\r\n    \r\n        @Override\r\n        public byte[] getBytes() {\r\n            return bytes;\r\n        }\r\n    \r\n        @Override\r\n        public InputStream getInputStream() {\r\n            return  new ByteArrayInputStream(bytes);\r\n        }\r\n    \r\n        @Override\r\n        public void transferTo(File destination) throws IOException, IllegalStateException {\r\n            try(FileOutputStream fos = new FileOutputStream(destination)) {\r\n                fos.write(bytes);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nBut when try to get file, I receive error:\r\n\r\n    DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class dto.SignMultiPartFile] with preset Content-Type &#39;multipart/form-data&#39;] \\\r\n\r\n\r\nHow to fix this issue?\r\n\r\n\r\nupdate:\r\nI tried to create class like this but application doen&#39;t start with different strange reason? Is exist another way to fix issue with multipart processing?\r\n\r\n    import com.fasterxml.jackson.module.paramnames.ParameterNamesModule;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.converter.FormHttpMessageConverter;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\r\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n    import org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    import java.text.SimpleDateFormat;\r\n    import java.util.List;\r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\r\n                .indentOutput(true)\r\n                .dateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;))\r\n                .modulesToInstall(new ParameterNamesModule());\r\n            converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\r\n            converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));\r\n            converters.add(new FormHttpMessageConverter());\r\n        }\r\n    }\r\n\r\n","title":"HttpMessageNotWritableException when try to use custom MultipartFile implementation?","body":"<p>I have spring boot with rest controller and this controller must send in response byte[] array with custom header\nResponse type must be with Content-Type multipart/form-data</p>\n<p>My RestController Like this</p>\n<pre><code>@PostMapping(value = &quot;/getFile&quot;,\n    produces = MediaType.MULTIPART_FORM_DATA_VALUE, consumes = MediaType.APPLICATION_JSON_VALUE)\npublic @ResponseBody\nResponseEntity&lt;MultipartFile&gt; getFile(@RequestHeader(&quot;id&quot;) String id) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n    var bytes = integrationServices.getBytes(id);\n    var multiPartFile = new SignMultiPartFile(&quot;name&quot;, bytes);\n    return new ResponseEntity&lt;&gt;(multiPartFile, headers, HttpStatus.OK)\n  \n}\n</code></pre>\n<p>And I created custom MultiPartFile object</p>\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.*;\n\npublic class SignMultiPartFile implements MultipartFile, Serializable {\n\n    private final String fileName;\n    private final byte[] bytes;\n\n    public SignMultiPartFile(String fileName, byte[] bytes) {\n        this.fileName = fileName;\n        this.bytes = bytes;\n    }\n\n    @Override\n    public String getName() {\n        return fileName;\n    }\n\n    @Override\n    public String getOriginalFilename() {\n        return fileName;\n    }\n\n    @Override\n    public String getContentType() {\n        return MediaType.MULTIPART_FORM_DATA_VALUE;\n    }\n\n    @Override\n    public boolean isEmpty() {\n        return bytes == null || bytes.length == 0;\n    }\n\n    @Override\n    public long getSize() {\n        return bytes.length;\n    }\n\n    @Override\n    public byte[] getBytes() {\n        return bytes;\n    }\n\n    @Override\n    public InputStream getInputStream() {\n        return  new ByteArrayInputStream(bytes);\n    }\n\n    @Override\n    public void transferTo(File destination) throws IOException, IllegalStateException {\n        try(FileOutputStream fos = new FileOutputStream(destination)) {\n            fos.write(bytes);\n        }\n    }\n}\n</code></pre>\n<p>But when try to get file, I receive error:</p>\n<pre><code>DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: No converter for [class dto.SignMultiPartFile] with preset Content-Type 'multipart/form-data'] \\\n</code></pre>\n<p>How to fix this issue?</p>\n<p>update:\nI tried to create class like this but application doen't start with different strange reason? Is exist another way to fix issue with multipart processing?</p>\n<pre><code>import com.fasterxml.jackson.module.paramnames.ParameterNamesModule;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.converter.FormHttpMessageConverter;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\nimport org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\nimport org.springframework.http.converter.xml.MappingJackson2XmlHttpMessageConverter;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\nimport java.text.SimpleDateFormat;\nimport java.util.List;\n\n@Configuration\n@EnableWebMvc\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder()\n            .indentOutput(true)\n            .dateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;))\n            .modulesToInstall(new ParameterNamesModule());\n        converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\n        converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));\n        converters.add(new FormHttpMessageConverter());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","java-8","annotations"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692806219,"post_id":76961219,"comment_id":135675199,"body_markdown":"Do you mean you have written five classes, all POJO classes?","body":"Do you mean you have written five classes, all POJO classes?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692806318,"post_id":76961219,"comment_id":135675215,"body_markdown":"Describe these classes briefly. Show contrived examples (don’t just dump your actual code here).","body":"Describe these classes briefly. Show contrived examples (don’t just dump your actual code here)."},{"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"score":0,"creation_date":1693332581,"post_id":76961219,"comment_id":135745932,"body_markdown":"Please share the code here, so that we can understand the scenario and can answer","body":"Please share the code here, so that we can understand the scenario and can answer"}],"owner":{"account_id":13179643,"reputation":11,"user_id":9519459,"display_name":"Aakash Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692806168,"creation_date":1692792560,"question_id":76961219,"body_markdown":"I have a 5 POJO where the amount field is set with different variable names and while getting data from a third party i need to write a custom converter which will convert the amount from [paise][1] to rupees for specific variable.\r\nWill custom annotation work?\r\nI don’t want to override the setter method for each variable\r\n\r\nI tried overriding the setter method but if new variables are introduced again setter will have to be overriden\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Paisa","title":"Modify my POJO variable before setting it into the object of POJO","body":"<p>I have a 5 POJO where the amount field is set with different variable names and while getting data from a third party i need to write a custom converter which will convert the amount from <a href=\"https://en.wikipedia.org/wiki/Paisa\" rel=\"nofollow noreferrer\">paise</a> to rupees for specific variable.\nWill custom annotation work?\nI don’t want to override the setter method for each variable</p>\n<p>I tried overriding the setter method but if new variables are introduced again setter will have to be overriden</p>\n"},{"tags":["java","spring-boot","microservices","spring-cloud","circuit-breaker"],"owner":{"account_id":23142893,"reputation":5,"user_id":17246090,"display_name":"StuckyBoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692806109,"creation_date":1692536613,"question_id":76939514,"body_markdown":"I&#39;m really struggling to implement circuit breaker pattern correctly in my application. Here is the code I am stuck at: \r\n\r\n**ReservationController**\r\n\r\n```\r\n    @PostMapping\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    @CircuitBreaker(name = &quot;stock_request_breaker&quot;)\r\n    public ReservationDto addReservation(@RequestBody ReservationDto reservationDto) {\r\n        return reservationService.addReservation(reservationDto);\r\n    }\r\n```\r\n\r\n**ReservationService**\r\n\r\n```\r\n    public ReservationDto addReservation(ReservationDto reservationDto) {\r\n        List&lt;String&gt; reservationBooksIsbns = reservationDto.getReservationItemList().stream().map(reservationItem -&gt; String.valueOf(reservationItem.getBookIsbn())).collect(Collectors.toList());\r\n        List&lt;StockItemResponseDto&gt; stockItemResponseDtoList = fetchItemsFromStockServiceByISBNs(reservationBooksIsbns);\r\n        if (reservationBooksIsbns.size() != stockItemResponseDtoList.size()) {\r\n            throw new ProductNotAvailableException(&quot;Not all products from the list are available in stock. Please verify your request and try again.&quot;);\r\n        }\r\n        performCheckIfThereIsEnoughItemsInStock(reservationDto, stockItemResponseDtoList);\r\n        return reservationMapper.map(saveReservationToDatabase(reservationDto));\r\n    }\r\n\r\n    private List&lt;StockItemResponseDto&gt; fetchItemsFromStockServiceByISBNs(List&lt;String&gt; isbns) {\r\n        Object[] rawResponse = webClientBuilder.build().get()\r\n                .uri(String.format(&quot;http://apiGateway/api/stock?objectIsbns=%s&quot;, String.join(&quot;,&quot;, isbns)))\r\n                .retrieve()\r\n                .onStatus(HttpStatusCode::isError, clientResponse -&gt; Mono.error(new ExternalServiceErrorException(&quot;Sorry&quot;)))\r\n                .bodyToMono(Object[].class)\r\n                .block();\r\n        return Arrays.stream(rawResponse)\r\n                .map(object -&gt; mapper.convertValue(object, StockItemResponseDto.class))\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    private Reservation saveReservationToDatabase(ReservationDto reservationDto) {\r\n        Reservation reservation;\r\n        reservationDto.getReservationItemList().forEach(reservationItem -&gt; reservationItem.setTimestampFrom(Instant.now().getEpochSecond()));\r\n        reservationDto.getReservationItemList().forEach(reservationItem -&gt; reservationItem.setTimestampUntil(Instant.now().getEpochSecond() + TimeUnit.DAYS.toSeconds(1) * 30));\r\n        if (reservationRepository.findByUserEmail(reservationDto.getUserEmail()).isEmpty()) {\r\n            reservation = reservationMapper.map(reservationDto);\r\n        } else {\r\n            Optional&lt;Reservation&gt; reservationOptional = reservationRepository.findByUserEmail(reservationDto.getUserEmail());\r\n            Reservation reservationNew = reservationMapper.map(reservationDto);\r\n            reservation = reservationOptional.get();\r\n            reservation.getReservationItemList().addAll(reservationNew.getReservationItemList());\r\n        }\r\n\r\n        return reservationRepository.save(reservation);\r\n    }\r\n\r\n    private void performCheckIfThereIsEnoughItemsInStock(ReservationDto reservationDto, List&lt;StockItemResponseDto&gt; stockItemResponseDtoList) {\r\n        for (ReservationItem reservationItem : reservationDto.getReservationItemList()) {\r\n            Optional&lt;StockItemResponseDto&gt; currentStockItem = stockItemResponseDtoList.stream()\r\n                    .filter(stockItem -&gt; Objects.equals(stockItem.getIsbn(), reservationItem.getBookIsbn()))\r\n                    .distinct().findFirst();\r\n            if (currentStockItem.isEmpty()) {\r\n                throw new ProductDoesNotExistException(&quot;Product with isbn: &quot; + reservationItem.getBookIsbn() + &quot; does not exist in our stock.&quot;);\r\n            }\r\n            StockItemResponseDto stockItemResponseDto = currentStockItem.get();\r\n            if (stockItemResponseDto.getQuantityInStock() &lt; reservationItem.getQuantity()) {\r\n                throw new ProductNotAvailableException(&quot;There is not enough books in stock. Faulty ISBN:&quot; + stockItemResponseDto.getIsbn());\r\n            }\r\n\r\n        }\r\n    }\r\n```\r\n\r\n**Circuit breaker properties**\r\n```\r\nmanagement.endpoints.web.exposure.include=*\r\nmanagement.endpoint.health.show-details=always\r\nmanagement.health.circuitbreakers.enabled=true\r\nmanagement.health.ratelimiters.enabled=true\r\n\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.failure-rate-threshold=50\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.minimum-number-of-calls=5\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.automatic-transition-from-open-to-half-open-enabled=true\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.wait-duration-in-open-state=5s\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.permitted-number-of-calls-in-half-open-state=3\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.sliding-window-size=10\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.sliding-window-type=count_based\r\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\r\n```\r\n\r\nAnd the problem with this implementation is: \r\n * when I hit the endpoint &quot;addReservation&quot; with correct data and stockservice is up - everything works fine\r\n * when I hit the endpoint &quot;addReservation&quot; with correct data but stockservice is down - I get error 503 with message &quot;Sorry&quot; (as meant with onStatus isError) and after 5 requests the fastfailing starts - this is fine too\r\n * **but when i when I hit the endpoint &quot;addReservation&quot; with data that would produce the ProductNotAvailableException for example**, it also allows only 5 request before fastfailing, eventhough the communication between services works fine - it is reservationService which throws the exception so it should not trigger circuit breaker fastfailing, but it does. \r\n\r\nIs my implementation incorrect? What am I missing?\r\n\r\n\r\nUPDATE:\r\n\r\nFollowing changes worked:\r\n\r\ninstead of one fallback method I implemented 3 methods:\r\n```\r\n    public ReservationDto fallback( ReservationDto reservationDto, CallNotPermittedException connectException) {\r\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\r\n    }\r\n\r\n    public ReservationDto fallback( ReservationDto reservationDto, ConnectException connectException) {\r\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\r\n    }\r\n    public ReservationDto fallback( ReservationDto reservationDto, WebClientResponseException webClientResponseException) {\r\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\r\n    }\r\n```\r\n\r\nand added the exceptions that I&#39;m throwing (i.e. ProductNotAvailableException) to the application properties as:\r\n\r\nresilience4j.circuitbreaker.instances.stock_request_breaker.ignore-exceptions[1]\r\n\r\nIt is working but still I would like to know opinion of someone more experienced if this is correct.","title":"Correct implementation of circuit breaker in spring boot","body":"<p>I'm really struggling to implement circuit breaker pattern correctly in my application. Here is the code I am stuck at:</p>\n<p><strong>ReservationController</strong></p>\n<pre><code>    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    @CircuitBreaker(name = &quot;stock_request_breaker&quot;)\n    public ReservationDto addReservation(@RequestBody ReservationDto reservationDto) {\n        return reservationService.addReservation(reservationDto);\n    }\n</code></pre>\n<p><strong>ReservationService</strong></p>\n<pre><code>    public ReservationDto addReservation(ReservationDto reservationDto) {\n        List&lt;String&gt; reservationBooksIsbns = reservationDto.getReservationItemList().stream().map(reservationItem -&gt; String.valueOf(reservationItem.getBookIsbn())).collect(Collectors.toList());\n        List&lt;StockItemResponseDto&gt; stockItemResponseDtoList = fetchItemsFromStockServiceByISBNs(reservationBooksIsbns);\n        if (reservationBooksIsbns.size() != stockItemResponseDtoList.size()) {\n            throw new ProductNotAvailableException(&quot;Not all products from the list are available in stock. Please verify your request and try again.&quot;);\n        }\n        performCheckIfThereIsEnoughItemsInStock(reservationDto, stockItemResponseDtoList);\n        return reservationMapper.map(saveReservationToDatabase(reservationDto));\n    }\n\n    private List&lt;StockItemResponseDto&gt; fetchItemsFromStockServiceByISBNs(List&lt;String&gt; isbns) {\n        Object[] rawResponse = webClientBuilder.build().get()\n                .uri(String.format(&quot;http://apiGateway/api/stock?objectIsbns=%s&quot;, String.join(&quot;,&quot;, isbns)))\n                .retrieve()\n                .onStatus(HttpStatusCode::isError, clientResponse -&gt; Mono.error(new ExternalServiceErrorException(&quot;Sorry&quot;)))\n                .bodyToMono(Object[].class)\n                .block();\n        return Arrays.stream(rawResponse)\n                .map(object -&gt; mapper.convertValue(object, StockItemResponseDto.class))\n                .collect(Collectors.toList());\n    }\n\n    private Reservation saveReservationToDatabase(ReservationDto reservationDto) {\n        Reservation reservation;\n        reservationDto.getReservationItemList().forEach(reservationItem -&gt; reservationItem.setTimestampFrom(Instant.now().getEpochSecond()));\n        reservationDto.getReservationItemList().forEach(reservationItem -&gt; reservationItem.setTimestampUntil(Instant.now().getEpochSecond() + TimeUnit.DAYS.toSeconds(1) * 30));\n        if (reservationRepository.findByUserEmail(reservationDto.getUserEmail()).isEmpty()) {\n            reservation = reservationMapper.map(reservationDto);\n        } else {\n            Optional&lt;Reservation&gt; reservationOptional = reservationRepository.findByUserEmail(reservationDto.getUserEmail());\n            Reservation reservationNew = reservationMapper.map(reservationDto);\n            reservation = reservationOptional.get();\n            reservation.getReservationItemList().addAll(reservationNew.getReservationItemList());\n        }\n\n        return reservationRepository.save(reservation);\n    }\n\n    private void performCheckIfThereIsEnoughItemsInStock(ReservationDto reservationDto, List&lt;StockItemResponseDto&gt; stockItemResponseDtoList) {\n        for (ReservationItem reservationItem : reservationDto.getReservationItemList()) {\n            Optional&lt;StockItemResponseDto&gt; currentStockItem = stockItemResponseDtoList.stream()\n                    .filter(stockItem -&gt; Objects.equals(stockItem.getIsbn(), reservationItem.getBookIsbn()))\n                    .distinct().findFirst();\n            if (currentStockItem.isEmpty()) {\n                throw new ProductDoesNotExistException(&quot;Product with isbn: &quot; + reservationItem.getBookIsbn() + &quot; does not exist in our stock.&quot;);\n            }\n            StockItemResponseDto stockItemResponseDto = currentStockItem.get();\n            if (stockItemResponseDto.getQuantityInStock() &lt; reservationItem.getQuantity()) {\n                throw new ProductNotAvailableException(&quot;There is not enough books in stock. Faulty ISBN:&quot; + stockItemResponseDto.getIsbn());\n            }\n\n        }\n    }\n</code></pre>\n<p><strong>Circuit breaker properties</strong></p>\n<pre><code>management.endpoints.web.exposure.include=*\nmanagement.endpoint.health.show-details=always\nmanagement.health.circuitbreakers.enabled=true\nmanagement.health.ratelimiters.enabled=true\n\nresilience4j.circuitbreaker.instances.stock_request_breaker.failure-rate-threshold=50\nresilience4j.circuitbreaker.instances.stock_request_breaker.minimum-number-of-calls=5\nresilience4j.circuitbreaker.instances.stock_request_breaker.automatic-transition-from-open-to-half-open-enabled=true\nresilience4j.circuitbreaker.instances.stock_request_breaker.wait-duration-in-open-state=5s\nresilience4j.circuitbreaker.instances.stock_request_breaker.permitted-number-of-calls-in-half-open-state=3\nresilience4j.circuitbreaker.instances.stock_request_breaker.sliding-window-size=10\nresilience4j.circuitbreaker.instances.stock_request_breaker.sliding-window-type=count_based\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator=true\n</code></pre>\n<p>And the problem with this implementation is:</p>\n<ul>\n<li>when I hit the endpoint &quot;addReservation&quot; with correct data and stockservice is up - everything works fine</li>\n<li>when I hit the endpoint &quot;addReservation&quot; with correct data but stockservice is down - I get error 503 with message &quot;Sorry&quot; (as meant with onStatus isError) and after 5 requests the fastfailing starts - this is fine too</li>\n<li><strong>but when i when I hit the endpoint &quot;addReservation&quot; with data that would produce the ProductNotAvailableException for example</strong>, it also allows only 5 request before fastfailing, eventhough the communication between services works fine - it is reservationService which throws the exception so it should not trigger circuit breaker fastfailing, but it does.</li>\n</ul>\n<p>Is my implementation incorrect? What am I missing?</p>\n<p>UPDATE:</p>\n<p>Following changes worked:</p>\n<p>instead of one fallback method I implemented 3 methods:</p>\n<pre><code>    public ReservationDto fallback( ReservationDto reservationDto, CallNotPermittedException connectException) {\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\n    }\n\n    public ReservationDto fallback( ReservationDto reservationDto, ConnectException connectException) {\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\n    }\n    public ReservationDto fallback( ReservationDto reservationDto, WebClientResponseException webClientResponseException) {\n        throw new ExternalServiceErrorException(&quot;Your request has not been finished. Please try again later&quot;);\n    }\n</code></pre>\n<p>and added the exceptions that I'm throwing (i.e. ProductNotAvailableException) to the application properties as:</p>\n<p>resilience4j.circuitbreaker.instances.stock_request_breaker.ignore-exceptions[1]</p>\n<p>It is working but still I would like to know opinion of someone more experienced if this is correct.</p>\n"},{"tags":["java","spring","methods","static"],"answers":[{"comments":[{"owner":{"account_id":22466,"reputation":11039,"user_id":55452,"accept_rate":100,"display_name":"David J. Liszewski"},"score":15,"creation_date":1314884252,"post_id":7270727,"comment_id":8752435,"body_markdown":"Agreed. Just because _anything_ _could_ be wired as a Spring bean doesn&#39;t mean _everything_ _should_ be wired as a Spring bean.","body":"Agreed. Just because <i>anything</i> <i>could</i> be wired as a Spring bean doesn&#39;t mean <i>everything</i> <i>should</i> be wired as a Spring bean."},{"owner":{"account_id":349877,"reputation":676,"user_id":685422,"accept_rate":71,"display_name":"uthomas"},"score":9,"creation_date":1316676265,"post_id":7270727,"comment_id":9096236,"body_markdown":"what if the static method reads a configuration file that drives my application? that is likely that I want to mock that behavior. Just think of it: you want to do functional testing but you don&#39;t want to become a &quot;configuration factory&quot;. if it would be a singleton then I can more easily mock that method and drive my test from code.\nHowever it&#39;s possible with PowerMock to mock static methods too.","body":"what if the static method reads a configuration file that drives my application? that is likely that I want to mock that behavior. Just think of it: you want to do functional testing but you don&#39;t want to become a &quot;configuration factory&quot;. if it would be a singleton then I can more easily mock that method and drive my test from code. However it&#39;s possible with PowerMock to mock static methods too."},{"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"score":7,"creation_date":1355272877,"post_id":7270727,"comment_id":19035114,"body_markdown":"It could be over-engineering, but making it a bean that can be injected makes it easier to unit-test dependent classes. It would make it even easier to test if it had implemented an interface.","body":"It could be over-engineering, but making it a bean that can be injected makes it easier to unit-test dependent classes. It would make it even easier to test if it had implemented an interface."},{"owner":{"account_id":71139,"reputation":945,"user_id":205736,"accept_rate":89,"display_name":"David W"},"score":1,"creation_date":1543329851,"post_id":7270727,"comment_id":93873524,"body_markdown":"An important use case is time. Consider using Java 8&#39;s Clock as a bean to avoid flaky tests related to time.","body":"An important use case is time. Consider using Java 8&#39;s Clock as a bean to avoid flaky tests related to time."},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1543356971,"post_id":7270727,"comment_id":93887947,"body_markdown":"@DavidW true, but that Clock was specifically designed for that purpose. I&#39;ve used it when editing other people&#39;s code, but I&#39;d still prefer to make my methods idempotent, so I&#39;d pass in Dates from the outside.","body":"@DavidW true, but that Clock was specifically designed for that purpose. I&#39;ve used it when editing other people&#39;s code, but I&#39;d still prefer to make my methods idempotent, so I&#39;d pass in Dates from the outside."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":5,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1314882368,"creation_date":1314882368,"answer_id":7270727,"question_id":7270681,"body_markdown":"I don&#39;t think so. A DateUtils class sounds like a pure utility class that doesn&#39;t have any side effects but just processes input parameters. That kind of functionality may as well remain in a static method. I don&#39;t think it&#39;s very likely that you&#39;ll want to mock date helper methods.","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>I don't think so. A DateUtils class sounds like a pure utility class that doesn't have any side effects but just processes input parameters. That kind of functionality may as well remain in a static method. I don't think it's very likely that you'll want to mock date helper methods.</p>\n"},{"tags":[],"owner":{"account_id":429315,"reputation":10095,"user_id":812139,"accept_rate":68,"display_name":"Mr.Eddart"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1314882595,"creation_date":1314882595,"answer_id":7270779,"question_id":7270681,"body_markdown":"It would be better to declare it as a Spring bean because the life cycle of it is then managed by Spring, and you can eventually inject dependencies, pool the object, as well as test it in a proper way, not to talk that you could use it as a regular object and pass it as parameter, redefine the method in subclasses... etc.\r\n\r\nIn short, yes it would be a better design in most cases. Nevertheless, in a case as simple as the exposed, it doesn&#39;t do a great difference.","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>It would be better to declare it as a Spring bean because the life cycle of it is then managed by Spring, and you can eventually inject dependencies, pool the object, as well as test it in a proper way, not to talk that you could use it as a regular object and pass it as parameter, redefine the method in subclasses... etc.</p>\n\n<p>In short, yes it would be a better design in most cases. Nevertheless, in a case as simple as the exposed, it doesn't do a great difference.</p>\n"},{"tags":[],"owner":{"account_id":64368,"reputation":2808,"user_id":190072,"accept_rate":50,"display_name":"Alberthoven"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1456480041,"creation_date":1456480041,"answer_id":35648309,"question_id":7270681,"body_markdown":"I agree with Sean Patrick Floyd.\r\n\r\nThis is my criterion: if the methods of the class do things only over the parameters they receive, with no external dependencies (database, file system, user config, other objects/beans, etc.), then I would do it with static methods, usually in a final class with a private constructor.\r\n\r\nOtherwise, I would implement it using a Spring bean.\r\n\r\nSo, in the case that you raise, according to this criterion, I would write a class with static methods.\r\n\r\nRegards.","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>I agree with Sean Patrick Floyd.</p>\n\n<p>This is my criterion: if the methods of the class do things only over the parameters they receive, with no external dependencies (database, file system, user config, other objects/beans, etc.), then I would do it with static methods, usually in a final class with a private constructor.</p>\n\n<p>Otherwise, I would implement it using a Spring bean.</p>\n\n<p>So, in the case that you raise, according to this criterion, I would write a class with static methods.</p>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670261212,"creation_date":1670004446,"answer_id":74659838,"question_id":7270681,"body_markdown":"A good answer in this comment https://stackoverflow.com/questions/64289009/should-i-use-static-at-all-in-spring-singleton-beans/64289179#comment131778907_64289179 \r\n\r\nstatic variable has one instance in one JVM. Singleton exists per spring context. If your application has only one context, they do the same job. \r\n\r\nBut do not mix them together. In some old projects, I see some not-pure utility class using some spring bean via ApplicationContext. It is very hard to write test case for it.\r\n","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>A good answer in this comment <a href=\"https://stackoverflow.com/questions/64289009/should-i-use-static-at-all-in-spring-singleton-beans/64289179#comment131778907_64289179\">Should I use static at all in spring singleton beans</a></p>\n<p>static variable has one instance in one JVM. Singleton exists per spring context. If your application has only one context, they do the same job.</p>\n<p>But do not mix them together. In some old projects, I see some not-pure utility class using some spring bean via ApplicationContext. It is very hard to write test case for it.</p>\n"},{"tags":[],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692806103,"creation_date":1684746993,"answer_id":76304657,"question_id":7270681,"body_markdown":"While most people here support the idea to have Util classes with static methods, instead of Spring beans, I would oppose.\r\n\r\n1. **Dependency injection** made for reason. This is the tool to replace any of Spring Bean with different implementations in case of different context. Most common is development and test context difference. But we also can have a new context in the future (production, different data transfer protocol, different database implementation etc). In this case an interface implementation bean, injected by Spring would make life much easier. \r\n\r\nDoing the opposite - using the util classes with static methods is the well known design problem called **Tight Coupling** and it leads to **Code Fragility**.\r\n\r\n2. Consider a situation where you have an utility class with static methods. At some point you need to add an injected dependency as new feature requested. All of a sudden it is not a Util but UtilBean now. So instead of adding a method to your original Util, you have to rename it and refactor all code calling it. Refactoring is cheap, right? Not so fast if you are building a library which is used in other applications and you do not have control over them. And guess what? How do you know your code today is not a compiled library dependency tomorrow? \r\n\r\nAll right, we worked hard, renamed util to bean and all is great. But we got a new feature request, and next we have to remove the method from bean. Now it does not have dependency and we need to rename bean to back util.\r\n\r\n3. If developers use Spring they often follow **MVC architecture** design. Where would be the Util class in this case? It sounds like a Service, but it appears to be something different and likely would have a separate package. Not so nice.\r\n\r\n**Bottom line =&gt; With Spring use Beans and don&#39;t mess around Utility classes with static methods.** I would say it is valid to consider with any application where dependency injection is used.\r\n\r\nHere my article regarding the problem https://medium.com/@pavlomorozov78/static-methods-in-spring-utility-classes-9994ae6aa949","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>While most people here support the idea to have Util classes with static methods, instead of Spring beans, I would oppose.</p>\n<ol>\n<li><strong>Dependency injection</strong> made for reason. This is the tool to replace any of Spring Bean with different implementations in case of different context. Most common is development and test context difference. But we also can have a new context in the future (production, different data transfer protocol, different database implementation etc). In this case an interface implementation bean, injected by Spring would make life much easier.</li>\n</ol>\n<p>Doing the opposite - using the util classes with static methods is the well known design problem called <strong>Tight Coupling</strong> and it leads to <strong>Code Fragility</strong>.</p>\n<ol start=\"2\">\n<li>Consider a situation where you have an utility class with static methods. At some point you need to add an injected dependency as new feature requested. All of a sudden it is not a Util but UtilBean now. So instead of adding a method to your original Util, you have to rename it and refactor all code calling it. Refactoring is cheap, right? Not so fast if you are building a library which is used in other applications and you do not have control over them. And guess what? How do you know your code today is not a compiled library dependency tomorrow?</li>\n</ol>\n<p>All right, we worked hard, renamed util to bean and all is great. But we got a new feature request, and next we have to remove the method from bean. Now it does not have dependency and we need to rename bean to back util.</p>\n<ol start=\"3\">\n<li>If developers use Spring they often follow <strong>MVC architecture</strong> design. Where would be the Util class in this case? It sounds like a Service, but it appears to be something different and likely would have a separate package. Not so nice.</li>\n</ol>\n<p><strong>Bottom line =&gt; With Spring use Beans and don't mess around Utility classes with static methods.</strong> I would say it is valid to consider with any application where dependency injection is used.</p>\n<p>Here my article regarding the problem <a href=\"https://medium.com/@pavlomorozov78/static-methods-in-spring-utility-classes-9994ae6aa949\" rel=\"nofollow noreferrer\">https://medium.com/@pavlomorozov78/static-methods-in-spring-utility-classes-9994ae6aa949</a></p>\n"}],"owner":{"display_name":"user481572"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63169,"favorite_count":0,"down_vote_count":0,"up_vote_count":80,"accepted_answer_id":7270727,"answer_count":5,"score":80,"last_activity_date":1692806103,"creation_date":1314882129,"question_id":7270681,"body_markdown":"Let&#39;s say I have a utility class DateUtil (see below). To use this method\r\na caller method uses DateUtils.getDateAsString(aDate). Would it be better to remove\r\nthe static modifier and make DateUtil a spring bean (see DateUtilsBean) and inject it into calling classes\r\nor just leave it as is?\r\n\r\nOne disadvantage I can see with using static is issues around mocking, see https://stackoverflow.com/questions/153048/how-to-mock-with-static-methods\r\n\r\n    public class DateUtils {\r\n    \r\n    \tpublic static String getDateAsString(Date date) {\t\t\r\n    \t\tString retValue =  &quot;&quot; // do something here using date parameter\r\n    \t\treturn retValue;\r\n    \t}\r\n    }\r\n\r\nSpring Bean version\r\n\r\n    @Component\r\n    public class DateUtilsBean {\r\n    \r\n    \tpublic String getDateAsString(Date date) {\t\t\r\n    \t\tString retValue =  &quot;&quot; // do something here using date parameter\r\n    \t\treturn retValue;\r\n    \t}\r\n    }","title":"Utility class in Spring application - should I use static methods or not?","body":"<p>Let's say I have a utility class DateUtil (see below). To use this method\na caller method uses DateUtils.getDateAsString(aDate). Would it be better to remove\nthe static modifier and make DateUtil a spring bean (see DateUtilsBean) and inject it into calling classes\nor just leave it as is?</p>\n\n<p>One disadvantage I can see with using static is issues around mocking, see <a href=\"https://stackoverflow.com/questions/153048/how-to-mock-with-static-methods\">How to mock with static methods?</a></p>\n\n<pre><code>public class DateUtils {\n\n    public static String getDateAsString(Date date) {       \n        String retValue =  \"\" // do something here using date parameter\n        return retValue;\n    }\n}\n</code></pre>\n\n<p>Spring Bean version</p>\n\n<pre><code>@Component\npublic class DateUtilsBean {\n\n    public String getDateAsString(Date date) {      \n        String retValue =  \"\" // do something here using date parameter\n        return retValue;\n    }\n}\n</code></pre>\n"},{"tags":["java","polymorphism","super"],"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1306430380,"post_id":6142460,"comment_id":7131411,"body_markdown":"Duplicate of http://stackoverflow.com/questions/4217013/how-to-force-derived-class-to-call-super-method-like-android-does and http://stackoverflow.com/questions/3982673/force-base-method-call","body":"Duplicate of <a href=\"http://stackoverflow.com/questions/4217013/how-to-force-derived-class-to-call-super-method-like-android-does\" title=\"how to force derived class to call super method like android does\">stackoverflow.com/questions/4217013/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/3982673/force-base-method-call\" title=\"force base method call\">stackoverflow.com/questions/3982673/force-base-method-call</a>"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1306430526,"post_id":6142460,"comment_id":7131453,"body_markdown":"@Ted - the first link, you&#39;ve posted does not look like a duplicate, the other question deals with eclipse&#39;s autogenerated method stubs, the other one is about c# and not java.","body":"@Ted - the first link, you&#39;ve posted does not look like a duplicate, the other question deals with eclipse&#39;s autogenerated method stubs, the other one is about c# and not java."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1306430958,"post_id":6142460,"comment_id":7131600,"body_markdown":"@Andreas - the answers to the first one show several ways to force calling the superclass. The second one is tagged both c# and Java, and the answers are a mix of solutions.","body":"@Andreas - the answers to the first one show several ways to force calling the superclass. The second one is tagged both c# and Java, and the answers are a mix of solutions."},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1306430978,"post_id":6142460,"comment_id":7131607,"body_markdown":"You probably can create your own annotation for something like this.","body":"You probably can create your own annotation for something like this."},{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1306431214,"post_id":6142460,"comment_id":7131681,"body_markdown":"@Amir - Pardon my ignorance, but how would I create an annotation to do something like this? I am very unfamiler with annotations in general.","body":"@Amir - Pardon my ignorance, but how would I create an annotation to do something like this? I am very unfamiler with annotations in general."},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":0,"creation_date":1306431394,"post_id":6142460,"comment_id":7131728,"body_markdown":"@Aedon, pardon *my* ignorance because I&#39;m not an annotations expert.  You&#39;ll have to read up on it - but the basic idea is that your annotation will statically analyze the code for this prior to execution.","body":"@Aedon, pardon <i>my</i> ignorance because I&#39;m not an annotations expert.  You&#39;ll have to read up on it - but the basic idea is that your annotation will statically analyze the code for this prior to execution."}],"answers":[{"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":1,"creation_date":1306430398,"post_id":6142495,"comment_id":7131412,"body_markdown":"but how to enforce child to check that","body":"but how to enforce child to check that"},{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1306430426,"post_id":6142495,"comment_id":7131423,"body_markdown":"Interesting solution. Is this the only way? I was hoping (maybe naively) for something more elegant.","body":"Interesting solution. Is this the only way? I was hoping (maybe naively) for something more elegant."},{"owner":{"account_id":273792,"reputation":113282,"user_id":565635,"accept_rate":89,"display_name":"orlp"},"score":0,"creation_date":1306430471,"post_id":6142495,"comment_id":7131433,"body_markdown":"@Jigar Joshi: That&#39;s a though one.","body":"@Jigar Joshi: That&#39;s a though one."},{"owner":{"account_id":273792,"reputation":113282,"user_id":565635,"accept_rate":89,"display_name":"orlp"},"score":0,"creation_date":1306431029,"post_id":6142495,"comment_id":7131620,"body_markdown":"@Jigar: I don&#39;t think it&#39;s easily possible, and not at all at compile-time. It&#39;s impossible to the tell the compiler this: &quot;after tokenizing `child.init` check if it contains `super.init()`, if not throw an error&quot;.","body":"@Jigar: I don&#39;t think it&#39;s easily possible, and not at all at compile-time. It&#39;s impossible to the tell the compiler this: &quot;after tokenizing <code>child.init</code> check if it contains <code>super.init()</code>, if not throw an error&quot;."}],"tags":[],"owner":{"account_id":273792,"reputation":113282,"user_id":565635,"accept_rate":89,"display_name":"orlp"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306430918,"creation_date":1306430335,"answer_id":6142495,"question_id":6142460,"body_markdown":"Make the class at the top of the inheritance tree set a flag on initialization. Then a class in the bottom of the inheritance tree can check for that flag to see if the whole tree has been traversed. I would make documentation that every child of `base` should include the following init code:\r\n\r\n    super.init()\r\n    if (!_baseIsInitialized) {\r\n        // throw exception or do w/e you wish\r\n    }\r\n\r\nwhere base uses\r\n\r\n    _baseIsInitialized = true;\r\n\r\n\r\n\r\n---\r\n\r\nThe other way around, forcing your childs to call `super.init()` is a lot thougher and would most likely include ugly hacks.","title":"How do I force a polymorphic call to the super method?","body":"<p>Make the class at the top of the inheritance tree set a flag on initialization. Then a class in the bottom of the inheritance tree can check for that flag to see if the whole tree has been traversed. I would make documentation that every child of <code>base</code> should include the following init code:</p>\n\n<pre><code>super.init()\nif (!_baseIsInitialized) {\n    // throw exception or do w/e you wish\n}\n</code></pre>\n\n<p>where base uses</p>\n\n<pre><code>_baseIsInitialized = true;\n</code></pre>\n\n<hr>\n\n<p>The other way around, forcing your childs to call <code>super.init()</code> is a lot thougher and would most likely include ugly hacks.</p>\n"},{"comments":[{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1306430896,"post_id":6142558,"comment_id":7131576,"body_markdown":"@ Andreas_D - Yessir. It would be nice to have a complilation error before we got to runtime, save some time testing.","body":"@ Andreas_D - Yessir. It would be nice to have a complilation error before we got to runtime, save some time testing."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":2,"creation_date":1306431037,"post_id":6142558,"comment_id":7131624,"body_markdown":"@Andreas - _&quot;I want to throw an exception or an error&quot;_ doesn&#39;t sound like OP expects a compile-time solution.","body":"@Andreas - <i>&quot;I want to throw an exception or an error&quot;</i> doesn&#39;t sound like OP expects a compile-time solution."},{"owner":{"account_id":174227,"reputation":27776,"user_id":403455,"accept_rate":83,"display_name":"Jeff Axelrod"},"score":0,"creation_date":1344438143,"post_id":6142558,"comment_id":15787189,"body_markdown":"See [How did Android implement the checks for SuperNotCalledException?](http://stackoverflow.com/q/11867246/403455)","body":"See <a href=\"http://stackoverflow.com/q/11867246/403455\">How did Android implement the checks for SuperNotCalledException?</a>"}],"tags":[],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306430627,"creation_date":1306430627,"answer_id":6142558,"question_id":6142460,"body_markdown":"Android actually accomplishes this in the `Activity` class.  I&#39;m not sure how or whether they had to build support into the runtime for it, but I&#39;d check out the open source code for the `Activity` class implementation.  Specifically, in any of the lifecycle methods, you have to call the corresponding super class method before you do anything otherwise it throws `SuperNotCalledException`.  \r\n\r\nFor instance, in `onCreate()`, the first thing you have to do is call `super.onCreate()`.","title":"How do I force a polymorphic call to the super method?","body":"<p>Android actually accomplishes this in the <code>Activity</code> class.  I'm not sure how or whether they had to build support into the runtime for it, but I'd check out the open source code for the <code>Activity</code> class implementation.  Specifically, in any of the lifecycle methods, you have to call the corresponding super class method before you do anything otherwise it throws <code>SuperNotCalledException</code>.  </p>\n\n<p>For instance, in <code>onCreate()</code>, the first thing you have to do is call <code>super.onCreate()</code>.</p>\n"},{"comments":[{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1306431101,"post_id":6142621,"comment_id":7131649,"body_markdown":"The same thing can be achieved by just overriding overridenFunction and super calling the polymorphed overridenFunction. There would be no point to creating the baseFunction method.","body":"The same thing can be achieved by just overriding overridenFunction and super calling the polymorphed overridenFunction. There would be no point to creating the baseFunction method."},{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1306431126,"post_id":6142621,"comment_id":7131654,"body_markdown":"Unless I completely missed something. Not unlikely. :)","body":"Unless I completely missed something. Not unlikely. :)"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":4,"creation_date":1306431186,"post_id":6142621,"comment_id":7131670,"body_markdown":"That doesn&#39;t work for 2-nd generation derived classes. If you define `class Grandchild extends Child`, then you can&#39;t guarantee that `Grandchild.overridenFunction` will call up to `Child.overridenFunction`.","body":"That doesn&#39;t work for 2-nd generation derived classes. If you define <code>class Grandchild extends Child</code>, then you can&#39;t guarantee that <code>Grandchild.overridenFunction</code> will call up to <code>Child.overridenFunction</code>."},{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1306431193,"post_id":6142621,"comment_id":7131672,"body_markdown":"Yes exactly.. abstract class are meant to do this","body":"Yes exactly.. abstract class are meant to do this"},{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":1,"creation_date":1306431504,"post_id":6142621,"comment_id":7131771,"body_markdown":"@Ted - Right, that&#39;s what I&#39;m trying to solve. If `Class` calls `foo`, then `ChildClass` overrides `foo` and fails to call `super.foo`, there is a hierarchal breakdown in fooness when `GrandChildClass` tries to call `super.foo`. That is what I&#39;m trying to stop.","body":"@Ted - Right, that&#39;s what I&#39;m trying to solve. If <code>Class</code> calls <code>foo</code>, then <code>ChildClass</code> overrides <code>foo</code> and fails to call <code>super.foo</code>, there is a hierarchal breakdown in fooness when <code>GrandChildClass</code> tries to call <code>super.foo</code>. That is what I&#39;m trying to stop."},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":0,"creation_date":1306431678,"post_id":6142621,"comment_id":7131830,"body_markdown":"excellent; although different names for the methods here like `init()` and `childInit()` might help convey the intent better","body":"excellent; although different names for the methods here like <code>init()</code> and <code>childInit()</code> might help convey the intent better"},{"owner":{"account_id":370140,"reputation":18565,"user_id":717898,"accept_rate":86,"display_name":"Andrew Lazarus"},"score":1,"creation_date":1306432270,"post_id":6142621,"comment_id":7132006,"body_markdown":"@Ted, I think the best approach is to have different names, like a grandchildInit() here. The only situation in Java where the OP&#39;s desired behavior is enforceable is the ctor chain. If the object can not be inited at the point of construction, we get this setup. See http://en.wikipedia.org/wiki/Call_super.","body":"@Ted, I think the best approach is to have different names, like a grandchildInit() here. The only situation in Java where the OP&#39;s desired behavior is enforceable is the ctor chain. If the object can not be inited at the point of construction, we get this setup. See <a href=\"http://en.wikipedia.org/wiki/Call_super\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Call_super</a>."}],"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"comment_count":7,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1306430859,"creation_date":1306430859,"answer_id":6142621,"question_id":6142460,"body_markdown":"Rather than trying to do that -- I don&#39;t think it&#39;s achievable btw! -- how about a different approach:\r\n\r\n    abstract class Base {\r\n     public final void baseFunction() {\r\n       ...\r\n       overridenFunction(); //call the function in your base class\r\n       ...\r\n     }\r\n     \r\n     public abstract void overridenFunction();\r\n    }\r\n    ...\r\n    class Child extends Base {\r\n     public void overridenFunction() {...};\r\n    }\r\n    \r\n    ...\r\n    Base object = new Child();\r\n    object.baseFunction(); //this now calls your base class function and the overridenFunction in the child class!\r\n\r\nWould that work for you?","title":"How do I force a polymorphic call to the super method?","body":"<p>Rather than trying to do that -- I don't think it's achievable btw! -- how about a different approach:</p>\n\n<pre><code>abstract class Base {\n public final void baseFunction() {\n   ...\n   overridenFunction(); //call the function in your base class\n   ...\n }\n\n public abstract void overridenFunction();\n}\n...\nclass Child extends Base {\n public void overridenFunction() {...};\n}\n\n...\nBase object = new Child();\nobject.baseFunction(); //this now calls your base class function and the overridenFunction in the child class!\n</code></pre>\n\n<p>Would that work for you?</p>\n"},{"comments":[{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1306431691,"post_id":6142716,"comment_id":7131835,"body_markdown":"I like this. It will require a little tweaking, I think, to work into what I&#39;m doing and it is still runtime, but I think this will work pretty good if what I hope to achieve isn&#39;t possible.","body":"I like this. It will require a little tweaking, I think, to work into what I&#39;m doing and it is still runtime, but I think this will work pretty good if what I hope to achieve isn&#39;t possible."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1306431929,"post_id":6142716,"comment_id":7131898,"body_markdown":"I don&#39;t think there&#39;s a compile-time solution for the general problem. The solution others have proposed using a `final` init method works if the only concern is that the base class init logic is executed. This is the only approach I know of that checks that a derived class&#39;s method has called its `super` method. (I guess even that can be broken by a grandchild class that explicitly calls `Base.this.init()`, thereby skipping `Child.init()`. But that&#39;s just evil.)","body":"I don&#39;t think there&#39;s a compile-time solution for the general problem. The solution others have proposed using a <code>final</code> init method works if the only concern is that the base class init logic is executed. This is the only approach I know of that checks that a derived class&#39;s method has called its <code>super</code> method. (I guess even that can be broken by a grandchild class that explicitly calls <code>Base.this.init()</code>, thereby skipping <code>Child.init()</code>. But that&#39;s just evil.)"},{"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"score":0,"creation_date":1306432166,"post_id":6142716,"comment_id":7131971,"body_markdown":"That is true. I think this (and similar) is the better solution then. Thanks.","body":"That is true. I think this (and similar) is the better solution then. Thanks."},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1692795967,"post_id":6142716,"comment_id":135672708,"body_markdown":"there are few proposals for compile-time enforcement in this post: https://stackoverflow.com/questions/57300379/how-to-force-derived-class-to-call-super-class-method-at-multiple-layers","body":"there are few proposals for compile-time enforcement in this post: <a href=\"https://stackoverflow.com/questions/57300379/how-to-force-derived-class-to-call-super-class-method-at-multiple-layers\" title=\"how to force derived class to call super class method at multiple layers\">stackoverflow.com/questions/57300379/&hellip;</a>"}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1692806043,"creation_date":1306431335,"answer_id":6142716,"question_id":6142460,"body_markdown":"Here&#39;s one way to raise an exception if a derived class fails to call up to the superclass:\r\n\r\n    public class Base {\r\n        private boolean called;\r\n        public Base() { // Doesn&#39;t have to be the c&#39;tor; works elsewhere as well.\r\n                        // In fact, shouldn&#39;t call overridable methods from c&#39;tor.\r\n            called = false;\r\n            init();\r\n            if (!called) {\r\n                // throw an exception\r\n            }\r\n        }\r\n        protected void init() {\r\n            called = true;\r\n            // other stuff\r\n        }\r\n    }","title":"How do I force a polymorphic call to the super method?","body":"<p>Here's one way to raise an exception if a derived class fails to call up to the superclass:</p>\n<pre><code>public class Base {\n    private boolean called;\n    public Base() { // Doesn't have to be the c'tor; works elsewhere as well.\n                    // In fact, shouldn't call overridable methods from c'tor.\n        called = false;\n        init();\n        if (!called) {\n            // throw an exception\n        }\n    }\n    protected void init() {\n        called = true;\n        // other stuff\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1315501171,"creation_date":1315501171,"answer_id":7351784,"question_id":6142460,"body_markdown":"I don&#39;t know of any way to do this with a method.\r\n\r\nHowever, note that this is exactly how constructors work. Every constructor must, directly or indirectly, call one of its superclass&#39;s constructors. This is statically guaranteed.\r\n\r\nI note that you are writing an init method. Could you refactor so that your code uses constructors rather than init methods? That would give you this behaviour right out of the gate. Some people (eg me) prefer constructors to init methods anyway, partly for just this reason.\r\n\r\nNote that using constructors rather than init methods might not mean using them on the class you&#39;re currently looking at - there might be a refactoring which moves the state needing initialisation out into a parallel class hierarchy which can use proper constructors.\r\n","title":"How do I force a polymorphic call to the super method?","body":"<p>I don't know of any way to do this with a method.</p>\n\n<p>However, note that this is exactly how constructors work. Every constructor must, directly or indirectly, call one of its superclass's constructors. This is statically guaranteed.</p>\n\n<p>I note that you are writing an init method. Could you refactor so that your code uses constructors rather than init methods? That would give you this behaviour right out of the gate. Some people (eg me) prefer constructors to init methods anyway, partly for just this reason.</p>\n\n<p>Note that using constructors rather than init methods might not mean using them on the class you're currently looking at - there might be a refactoring which moves the state needing initialisation out into a parallel class hierarchy which can use proper constructors.</p>\n"},{"tags":[],"owner":{"account_id":1804682,"reputation":32958,"user_id":1642079,"accept_rate":89,"display_name":"Chad Bingham"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454106084,"creation_date":1454106084,"answer_id":35095099,"question_id":6142460,"body_markdown":"I frequently like to use this solution. It wont throw a runtime error, but it will show a syntax error:\r\n\r\n     @CallSuper\r\n     public void init() {\r\n         // do stuff\r\n     }\r\n\r\nThis is a part of Android support annotations. ","title":"How do I force a polymorphic call to the super method?","body":"<p>I frequently like to use this solution. It wont throw a runtime error, but it will show a syntax error:</p>\n\n<pre><code> @CallSuper\n public void init() {\n     // do stuff\n }\n</code></pre>\n\n<p>This is a part of Android support annotations. </p>\n"},{"tags":[],"owner":{"account_id":8488654,"reputation":582,"user_id":6365813,"accept_rate":25,"display_name":"AlxDroidDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489345867,"creation_date":1489345867,"answer_id":42751860,"question_id":6142460,"body_markdown":"Nowadays you can annotate your method with `@CallSuper`. This will Lint check that any overrides to that method calls super(). Here&#39;s an example:\r\n\r\n\t@CallSuper\r\n\tprotected void onAfterAttached(Activity activity) {\r\n\t\tif (activity instanceof ActivityMain) {\r\n\t\t\tmainActivity = (ActivityMain) activity;\r\n\t\t}\r\n\t}\r\n \r\nIn the example above, any methods in descendant classes that override onAfterAttached but do not call super will make Lint raise an error.\r\n\r\n","title":"How do I force a polymorphic call to the super method?","body":"<p>Nowadays you can annotate your method with <code>@CallSuper</code>. This will Lint check that any overrides to that method calls super(). Here's an example:</p>\n\n<pre><code>@CallSuper\nprotected void onAfterAttached(Activity activity) {\n    if (activity instanceof ActivityMain) {\n        mainActivity = (ActivityMain) activity;\n    }\n}\n</code></pre>\n\n<p>In the example above, any methods in descendant classes that override onAfterAttached but do not call super will make Lint raise an error.</p>\n"}],"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7602,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6142716,"answer_count":7,"score":13,"last_activity_date":1692806043,"creation_date":1306430138,"question_id":6142460,"body_markdown":"I have an init method that is used and overridden through out an extensive heirarchy. Each init call however extends on the work that the previous did. So naturally, I would:\r\n\r\n    @Override public void init() {\r\n       super.init();\r\n    }\r\n\r\nAnd naturally this would ensure that everything is called and instantiated. What I&#39;m wondering is: Can I create a way to ensure that the super method was called? If all of the init&#39;s are not call, there is a break down in the obejct, so I want to throw an exception or an error if somebody forgets to call `super`.\r\n\r\nTYFT ~Aedon","title":"How do I force a polymorphic call to the super method?","body":"<p>I have an init method that is used and overridden through out an extensive heirarchy. Each init call however extends on the work that the previous did. So naturally, I would:</p>\n\n<pre><code>@Override public void init() {\n   super.init();\n}\n</code></pre>\n\n<p>And naturally this would ensure that everything is called and instantiated. What I'm wondering is: Can I create a way to ensure that the super method was called? If all of the init's are not call, there is a break down in the obejct, so I want to throw an exception or an error if somebody forgets to call <code>super</code>.</p>\n\n<p>TYFT ~Aedon</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692797850,"post_id":76960975,"comment_id":135673149,"body_markdown":"You&#39;ll need to provide more logs for us to know if there actually was a retry. For example, the log could be printed and your JVM/computer could have immediately crashed, so there&#39;d be no commit","body":"You&#39;ll need to provide more logs for us to know if there actually was a retry. For example, the log could be printed and your JVM/computer could have immediately crashed, so there&#39;d be no commit"},{"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"score":0,"creation_date":1692798528,"post_id":76960975,"comment_id":135673333,"body_markdown":"@OneCricketeer I see the below in the logs\n\n\n[Consumer clientId=consumer-p-worker-50, groupId=p-worker] Group coordinator b-2.hay-kafka-l-clust.x7pgku.c4.kafka.es-west-2.amazonaws.com:9094 (id: 2147483645 rack: null) is unavailable or invalid due to cause: error response REQUEST_TIMED_OUT. isDisconnected: false. Rediscovery will be attempted.\n\n[Consumer clientId=consumer-p-worker-50, groupId=p-worker] Requesting disconnect from last known coordinator b-2.hay-kafka-l-clust.x7pgku.c4.kafka.es-west-2.amazonaws.com:9094 (id: 2147483645 rack: null)","body":"@OneCricketeer I see the below in the logs   [Consumer clientId=consumer-p-worker-50, groupId=p-worker] Group coordinator b-2.hay-kafka-l-clust.x7pgku.c4.kafka.es-west-2.amazonaws.co&zwnj;&#8203;m:9094 (id: 2147483645 rack: null) is unavailable or invalid due to cause: error response REQUEST_TIMED_OUT. isDisconnected: false. Rediscovery will be attempted.  [Consumer clientId=consumer-p-worker-50, groupId=p-worker] Requesting disconnect from last known coordinator b-2.hay-kafka-l-clust.x7pgku.c4.kafka.es-west-2.amazonaws.co&zwnj;&#8203;m:9094 (id: 2147483645 rack: null)"},{"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"score":0,"creation_date":1692798606,"post_id":76960975,"comment_id":135673359,"body_markdown":"Sorry unable to format it but when I looked at the kafka code it pretty much looks like it went thru  markCoordinatorUnknown(error); method in class AbstractCoordinator.java","body":"Sorry unable to format it but when I looked at the kafka code it pretty much looks like it went thru  markCoordinatorUnknown(error); method in class AbstractCoordinator.java"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692798714,"post_id":76960975,"comment_id":135673398,"body_markdown":"Okay, that&#39;s a retry but not directly related to consumer offset commits","body":"Okay, that&#39;s a retry but not directly related to consumer offset commits"},{"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"score":0,"creation_date":1692798972,"post_id":76960975,"comment_id":135673472,"body_markdown":"@OneCricketeer Thank u. So do you think the offsets are not commited? I am going to check in my log if the same message has appeared again for processing. It is slightly tricky though. Will give it a go.","body":"@OneCricketeer Thank u. So do you think the offsets are not commited? I am going to check in my log if the same message has appeared again for processing. It is slightly tricky though. Will give it a go."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1692805932,"post_id":76960975,"comment_id":135675146,"body_markdown":"You can run `kafka-consumer-groups --describe` command to check what offsets are being committed, or not but if the Group coordinator is failing  and timing out, then I think its possible no offsets would get committed until that is healthy","body":"You can run <code>kafka-consumer-groups --describe</code> command to check what offsets are being committed, or not but if the Group coordinator is failing  and timing out, then I think its possible no offsets would get committed until that is healthy"}],"owner":{"account_id":5068854,"reputation":3050,"user_id":4068218,"accept_rate":7,"display_name":"Hari Rao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692805995,"creation_date":1692790557,"question_id":76960975,"body_markdown":"Team,  I get the below WARNING and NOT ERROR\r\n\r\n   \r\n    \r\n\r\n    {&quot;timestamp&quot;:&quot;2023-08-23 09:36:43.300 UTC&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#7-0-C-1&quot;,&quot;logger&quot;:&quot;org.apache.kafka.clients.consumer.internals.ConsumerCoordinator&quot;,&quot;message&quot;:&quot;[Consumer clientId=consumer-p-worker-27, groupId=p-worker] Offset commit failed on partition p-topic-name at offset 65605: The request timed out.&quot;,&quot;context&quot;:&quot;default&quot;,&quot;dd.service&quot;:&quot;p-worker&quot;}\r\n\r\n\r\nI see a no of stackoverflow questions and answers relating to the above but they are all about ERRORS and not WARNINGS\r\n\r\nI checked the Kafka code and I could see the below \r\n\r\n    if (error.exception() instanceof RetriableException) {\r\n                                log.warn(&quot;Offset commit failed on partition {} at offset {}: {}&quot;, tp, offset, error.message());\r\n                            } else {\r\n                                log.error(&quot;Offset commit failed on partition {} at offset {}: {}&quot;, tp, offset, error.message());\r\n                            }\r\n\r\n\r\nDoes this mean the error was retriable and Kafka retried it and was successful and does this mean I do not have to worry about it?\r\n\r\nAny leads are appreciated guys. Thanks","title":"KAFKA WARNING :- Offset commit failed on partition","body":"<p>Team,  I get the below WARNING and NOT ERROR</p>\n<pre><code>{&quot;timestamp&quot;:&quot;2023-08-23 09:36:43.300 UTC&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;org.springframework.kafka.KafkaListenerEndpointContainer#7-0-C-1&quot;,&quot;logger&quot;:&quot;org.apache.kafka.clients.consumer.internals.ConsumerCoordinator&quot;,&quot;message&quot;:&quot;[Consumer clientId=consumer-p-worker-27, groupId=p-worker] Offset commit failed on partition p-topic-name at offset 65605: The request timed out.&quot;,&quot;context&quot;:&quot;default&quot;,&quot;dd.service&quot;:&quot;p-worker&quot;}\n</code></pre>\n<p>I see a no of stackoverflow questions and answers relating to the above but they are all about ERRORS and not WARNINGS</p>\n<p>I checked the Kafka code and I could see the below</p>\n<pre><code>if (error.exception() instanceof RetriableException) {\n                            log.warn(&quot;Offset commit failed on partition {} at offset {}: {}&quot;, tp, offset, error.message());\n                        } else {\n                            log.error(&quot;Offset commit failed on partition {} at offset {}: {}&quot;, tp, offset, error.message());\n                        }\n</code></pre>\n<p>Does this mean the error was retriable and Kafka retried it and was successful and does this mean I do not have to worry about it?</p>\n<p>Any leads are appreciated guys. Thanks</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1692806495,"post_id":76962961,"comment_id":135675252,"body_markdown":"It may help if you explain why you think you need an array - to just determine the &quot;AgeOfTheOldest&quot; you just need an int set to -1, parse the value (as you have done) and check if it is greater than current oldest and set if it is.  With that said, one has to ask why is the name entered at all if it is not part of your output requirements?","body":"It may help if you explain why you think you need an array - to just determine the &quot;AgeOfTheOldest&quot; you just need an int set to -1, parse the value (as you have done) and check if it is greater than current oldest and set if it is.  With that said, one has to ask why is the name entered at all if it is not part of your output requirements?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692807654,"post_id":76962961,"comment_id":135675485,"body_markdown":"Add brackets, _int[] ages = { Integer.valueOf(pieces[1]) }_.","body":"Add brackets, <i>int[] ages = { Integer.valueOf(pieces[1]) }</i>."}],"answers":[{"comments":[{"owner":{"account_id":29284356,"reputation":9,"user_id":22436299,"display_name":"itsasaddayfs"},"score":1,"creation_date":1692806260,"post_id":76963015,"comment_id":135675207,"body_markdown":"But I want to convert the second string of &#39;pieces&#39; into an integer and assign it to an integer array. why does that show me an error?","body":"But I want to convert the second string of &#39;pieces&#39; into an integer and assign it to an integer array. why does that show me an error?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1692806372,"post_id":76963015,"comment_id":135675232,"body_markdown":"@itsasaddayfs &quot; I want to convert the second string of pieces into an integer and assign it to an integer array. &quot; &lt;- But an integer is not an integer array. You can&#39;t assign an integer to an integer array no matter how hard you want to. You can only assign an integer to a  specific index of an integer array.","body":"@itsasaddayfs &quot; I want to convert the second string of pieces into an integer and assign it to an integer array. &quot; &lt;- But an integer is not an integer array. You can&#39;t assign an integer to an integer array no matter how hard you want to. You can only assign an integer to a  specific index of an integer array."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1692827024,"post_id":76963015,"comment_id":135678704,"body_markdown":"@itsaddayfs your statement is nonsense. A single int cannot be an entire array. You can make a new 1-elem array and have its one and only element be that value (`myIntArray = new int[] {Integer.parseInt(parts[1])};` would do that), or you can have an existing array and assign to a specific slot. Let&#39;s say the 4th: `myIntArray[3] = Integer.parseInt(parts[1]);`.","body":"@itsaddayfs your statement is nonsense. A single int cannot be an entire array. You can make a new 1-elem array and have its one and only element be that value (<code>myIntArray = new int[] {Integer.parseInt(parts[1])};</code> would do that), or you can have an existing array and assign to a specific slot. Let&#39;s say the 4th: <code>myIntArray[3] = Integer.parseInt(parts[1]);</code>."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692805803,"creation_date":1692805803,"answer_id":76963015,"question_id":76962961,"body_markdown":"`Integer.valueOf(pieces[1])` will take the second string in the `pieces` array (java is 0-index based, so `pieces[0]` is the first, `pieces[1]` is the second, and so on), and converts it to one int value.\r\n\r\nYou are attempting to assign it to an array of int values.\r\n\r\nThat&#39;s not what you wrote. You wrote: Convert the second string. Not &#39;convert all of them&#39;.\r\n\r\nPerhaps you are looking for something like:\r\n\r\n```\r\nint[] ages = new int[pieces.length];\r\nfor (int i = 0; i &lt; pieces.length; i++) ages[i] = Integer.valueOf(pieces[i]);\r\n```\r\n\r\nOr perhaps:\r\n\r\n```\r\nArrays.stream(pieces)\r\n  .mapToInt(Integer::parseInt)\r\n  .toArray();\r\n```","title":"why am i not able to convert string into integer and assign it to integer array in java?","body":"<p><code>Integer.valueOf(pieces[1])</code> will take the second string in the <code>pieces</code> array (java is 0-index based, so <code>pieces[0]</code> is the first, <code>pieces[1]</code> is the second, and so on), and converts it to one int value.</p>\n<p>You are attempting to assign it to an array of int values.</p>\n<p>That's not what you wrote. You wrote: Convert the second string. Not 'convert all of them'.</p>\n<p>Perhaps you are looking for something like:</p>\n<pre><code>int[] ages = new int[pieces.length];\nfor (int i = 0; i &lt; pieces.length; i++) ages[i] = Integer.valueOf(pieces[i]);\n</code></pre>\n<p>Or perhaps:</p>\n<pre><code>Arrays.stream(pieces)\n  .mapToInt(Integer::parseInt)\n  .toArray();\n</code></pre>\n"}],"owner":{"account_id":29284356,"reputation":9,"user_id":22436299,"display_name":"itsasaddayfs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1692806438,"answer_count":1,"score":0,"last_activity_date":1692805803,"creation_date":1692805479,"question_id":76962961,"body_markdown":"i have to write a program that reads names and ages from the user until an empty line is entered. The name and age are separated by a comma.After reading all user input, the program prints the age of the oldest person. Now i&#39;m using the following method \r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class AgeOfTheOldest {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        while(true){\r\n            String text = scanner.nextLine();\r\n            if(text.equals(&quot;&quot;)){\r\n                break;\r\n            }else{\r\n                String[] pieces = text.split(&quot;,&quot;);\r\n                int[] ages = Integer.valueOf(pieces[1]); \r\n                \r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nBut the int[] ages line gives me this error[enter image description here](https://i.stack.imgur.com/hcywH.png)\r\nso how do i convert string values and assign it to an integer array?","title":"why am i not able to convert string into integer and assign it to integer array in java?","body":"<p>i have to write a program that reads names and ages from the user until an empty line is entered. The name and age are separated by a comma.After reading all user input, the program prints the age of the oldest person. Now i'm using the following method</p>\n<pre><code>import java.util.Scanner;\n\npublic class AgeOfTheOldest {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        while(true){\n            String text = scanner.nextLine();\n            if(text.equals(&quot;&quot;)){\n                break;\n            }else{\n                String[] pieces = text.split(&quot;,&quot;);\n                int[] ages = Integer.valueOf(pieces[1]); \n                \n            }\n            \n        }\n    }\n}\n</code></pre>\n<p>But the int[] ages line gives me this error<a href=\"https://i.stack.imgur.com/hcywH.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nso how do i convert string values and assign it to an integer array?</p>\n"},{"tags":["java","amazon-s3","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"score":0,"creation_date":1692810471,"post_id":76962968,"comment_id":135676014,"body_markdown":"Why is the response you received not the accurate response?","body":"Why is the response you received not the accurate response?"}],"owner":{"account_id":28620378,"reputation":13,"user_id":21913548,"display_name":"Ssk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692805551,"creation_date":1692805551,"question_id":76962968,"body_markdown":"I want to delete all the versions along with the delete marker for multiple objects from the version enabled S3 bucket with Java sdk 2.0.\r\n\r\nI&#39;m trying below code to do that\r\n\r\n```\r\n ArrayList&lt;ObjectIdentifier&gt; keys = new ArrayList&lt;&gt;();\r\n ObjectIdentifier objectId;\r\n\r\n objectId = ObjectIdentifier.builder()\r\n            .key(&quot;test2&quot;)\r\n            .build();\r\n            \r\n keys.add(objectId);\r\n\r\n objectId = ObjectIdentifier.builder()\r\n            .key(&quot;test3&quot;)\r\n            .build();\r\n            \r\n keys.add(objectId);\r\n            \r\n      \r\n            \r\nDelete del = Delete.builder()\r\n             .objects(keys)\r\n             .build();\r\n\r\ntry {\r\n    DeleteObjectsRequest multiObjectDeleteRequest = DeleteObjectsRequest.builder()\r\n                    .bucket(&quot;my-bucket&quot;)\r\n                    .delete(del)\r\n                    .build();\r\n\r\n    DeleteObjectsResponse response =s3Client.deleteObjects(multiObjectDeleteRequest);\r\n    System.out.println(response);\r\n            \r\n} catch (S3Exception e) {\r\n    System.err.println(e.awsErrorDetails().errorMessage());\r\n    System.exit(1);\r\n}\r\n```\r\n\r\nAnd I&#39;m getting below response for the same\r\n\r\n```\r\nDeleteObjectsResponse(Deleted=[DeletedObject(Key=test2, DeleteMarker=true, DeleteMarkerVersionId=abcdefgh.jkfsdglkjfsdg9gfkjh89545), DeletedObject(Key=test3, DeleteMarker=true, DeleteMarkerVersionId=.skdjgklhdfs8gfs89dhsdsda9)])\r\n```\r\nThe response is same in all below cases (just the DeleteMarkerVersionId changes on every execution.)\r\n1. I have never uploaded/put test3 object\r\n2. I have uploaded test2 object - Object is present\r\n3. test2 object is already deleted - Object is not present.\r\n\r\nHow to get the accurate response for it. \r\n\r\n","title":"Getting DeleteObjectsResponse for the objects that are not even created or present on the version enabled S3 bucket","body":"<p>I want to delete all the versions along with the delete marker for multiple objects from the version enabled S3 bucket with Java sdk 2.0.</p>\n<p>I'm trying below code to do that</p>\n<pre><code> ArrayList&lt;ObjectIdentifier&gt; keys = new ArrayList&lt;&gt;();\n ObjectIdentifier objectId;\n\n objectId = ObjectIdentifier.builder()\n            .key(&quot;test2&quot;)\n            .build();\n            \n keys.add(objectId);\n\n objectId = ObjectIdentifier.builder()\n            .key(&quot;test3&quot;)\n            .build();\n            \n keys.add(objectId);\n            \n      \n            \nDelete del = Delete.builder()\n             .objects(keys)\n             .build();\n\ntry {\n    DeleteObjectsRequest multiObjectDeleteRequest = DeleteObjectsRequest.builder()\n                    .bucket(&quot;my-bucket&quot;)\n                    .delete(del)\n                    .build();\n\n    DeleteObjectsResponse response =s3Client.deleteObjects(multiObjectDeleteRequest);\n    System.out.println(response);\n            \n} catch (S3Exception e) {\n    System.err.println(e.awsErrorDetails().errorMessage());\n    System.exit(1);\n}\n</code></pre>\n<p>And I'm getting below response for the same</p>\n<pre><code>DeleteObjectsResponse(Deleted=[DeletedObject(Key=test2, DeleteMarker=true, DeleteMarkerVersionId=abcdefgh.jkfsdglkjfsdg9gfkjh89545), DeletedObject(Key=test3, DeleteMarker=true, DeleteMarkerVersionId=.skdjgklhdfs8gfs89dhsdsda9)])\n</code></pre>\n<p>The response is same in all below cases (just the DeleteMarkerVersionId changes on every execution.)</p>\n<ol>\n<li>I have never uploaded/put test3 object</li>\n<li>I have uploaded test2 object - Object is present</li>\n<li>test2 object is already deleted - Object is not present.</li>\n</ol>\n<p>How to get the accurate response for it.</p>\n"},{"tags":["java","c","multithreading","producer-consumer","thread-synchronization"],"comments":[{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":2,"creation_date":1692796211,"post_id":76961627,"comment_id":135672774,"body_markdown":"Depending on language, OS and thread API, it may or may not be possible to wait for multiple things at once. In that case it is appropriate to wait for &quot;resource x&quot; as well as waiting for a &quot;time to close down the thread&quot; event, both at once. Abruptly killing a thead with some &quot;terminate thread&quot; function is rarely ever the correct solution.","body":"Depending on language, OS and thread API, it may or may not be possible to wait for multiple things at once. In that case it is appropriate to wait for &quot;resource x&quot; as well as waiting for a &quot;time to close down the thread&quot; event, both at once. Abruptly killing a thead with some &quot;terminate thread&quot; function is rarely ever the correct solution."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1692797659,"post_id":76961627,"comment_id":135673101,"body_markdown":"That Java code is not as reliable as you may think.  Depending on timing, that use of `Thread.interrupt()` might not actually cause the consumer to terminate.  It could just cause the thread&#39;s `interrupted` status to be set, but nothing there checks for that.","body":"That Java code is not as reliable as you may think.  Depending on timing, that use of <code>Thread.interrupt()</code> might not actually cause the consumer to terminate.  It could just cause the thread&#39;s <code>interrupted</code> status to be set, but nothing there checks for that."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692798170,"post_id":76961627,"comment_id":135673234,"body_markdown":"Related: [What happens on Linux (and MacOS) if a process receives a signal while waiting on pthread_cond_wait?](https://stackoverflow.com/q/76956112/2402272)","body":"Related: <a href=\"https://stackoverflow.com/q/76956112/2402272\">What happens on Linux (and MacOS) if a process receives a signal while waiting on pthread_cond_wait?</a>"},{"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"score":0,"creation_date":1692798689,"post_id":76961627,"comment_id":135673390,"body_markdown":"@JohnBollinger You&#39;re right about the code not working, and I&#39;m not managing to find a way to fix it. Don&#39;t know if it&#39;s possible and how to check Thread.interrupted() to be sure to always catch either the flag or the exception. Yes, the other question is mine.","body":"@JohnBollinger You&#39;re right about the code not working, and I&#39;m not managing to find a way to fix it. Don&#39;t know if it&#39;s possible and how to check Thread.interrupted() to be sure to always catch either the flag or the exception. Yes, the other question is mine."},{"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"score":0,"creation_date":1692798995,"post_id":76961627,"comment_id":135673479,"body_markdown":"Even if I check Thread.interrupted() right before queue.take() the interrupt could arrive between the two calls, not being seen by Thread.interrupted() and not causing the exception to be thrown","body":"Even if I check Thread.interrupted() right before queue.take() the interrupt could arrive between the two calls, not being seen by Thread.interrupted() and not causing the exception to be thrown"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1692799408,"post_id":76961627,"comment_id":135673591,"body_markdown":"BlockingQueue&#39;s take() method does take interrupting into account. But I would solve it a different way. You could produce some special, signal value that indicates to the consumer that there will be no more data so it can shut down cleanly. For example, instead of `T`, have a queue of `Optional&lt;T&gt;`, and send it `Optional.empty()` to tell it it&#39;s time to stop.","body":"BlockingQueue&#39;s take() method does take interrupting into account. But I would solve it a different way. You could produce some special, signal value that indicates to the consumer that there will be no more data so it can shut down cleanly. For example, instead of <code>T</code>, have a queue of <code>Optional&lt;T&gt;</code>, and send it <code>Optional.empty()</code> to tell it it&#39;s time to stop."},{"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"score":0,"creation_date":1692799773,"post_id":76961627,"comment_id":135673673,"body_markdown":"@DavidConrad  You mean I should send a special value on the queue itself? If yes, the problem is in the program I&#39;m working on I both need to be able to tell the consumers to terminate after reading the last elements on the queue (when no more will be inserted), possible to do in the way you suggested, and to stop reading as soon as possible when a certain condition arises,  ignoring elements left on the queue, which can&#39;t be done that way.","body":"@DavidConrad  You mean I should send a special value on the queue itself? If yes, the problem is in the program I&#39;m working on I both need to be able to tell the consumers to terminate after reading the last elements on the queue (when no more will be inserted), possible to do in the way you suggested, and to stop reading as soon as possible when a certain condition arises,  ignoring elements left on the queue, which can&#39;t be done that way."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692799833,"post_id":76961627,"comment_id":135673697,"body_markdown":"Ah, my suggestion won&#39;t work then for the latter case.","body":"Ah, my suggestion won&#39;t work then for the latter case."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692800349,"post_id":76961627,"comment_id":135673833,"body_markdown":"How about a `PriorityQueue` of objects that have an integer priority, the data, and a flag to indicate whether to stop. The producer could produce items with sequential priorities of 1, 2, 3, etc. and when it wants the consumer to stop, produce one with priority -1 and the flag set to true?","body":"How about a <code>PriorityQueue</code> of objects that have an integer priority, the data, and a flag to indicate whether to stop. The producer could produce items with sequential priorities of 1, 2, 3, etc. and when it wants the consumer to stop, produce one with priority -1 and the flag set to true?"},{"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"score":0,"creation_date":1692801975,"post_id":76961627,"comment_id":135674246,"body_markdown":"That would work! Edit: Oh I see you posted a full answer, thanks","body":"That would work! Edit: Oh I see you posted a full answer, thanks"}],"answers":[{"comments":[{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":0,"creation_date":1692801413,"post_id":76962377,"comment_id":135674100,"body_markdown":"I don&#39;t remember much of threading in Java, are these containers thread-safe? Either way I don&#39;t see how some sort of struct data type would solve this in C. Because such a data type would have to be protected against race conditions... And then you end up waiting for a semaphore instead of whatever you were previously waiting for. Essentially the problem is just moved to a different place.","body":"I don&#39;t remember much of threading in Java, are these containers thread-safe? Either way I don&#39;t see how some sort of struct data type would solve this in C. Because such a data type would have to be protected against race conditions... And then you end up waiting for a semaphore instead of whatever you were previously waiting for. Essentially the problem is just moved to a different place."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692801568,"post_id":76962377,"comment_id":135674152,"body_markdown":"@Lundin Sorry, `PriorityQueue` is not thread-safe, it should be `PriorityBlockingQueue`. There is no race condition, since the data type is immutable. In C you would have to rely on const and the producer not modifying it once it created it. I suppose the producer would be `malloc`ing these and the consumer `free`ing them.","body":"@Lundin Sorry, <code>PriorityQueue</code> is not thread-safe, it should be <code>PriorityBlockingQueue</code>. There is no race condition, since the data type is immutable. In C you would have to rely on const and the producer not modifying it once it created it. I suppose the producer would be <code>malloc</code>ing these and the consumer <code>free</code>ing them."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692801686,"post_id":76962377,"comment_id":135674178,"body_markdown":"Although the question presents a Java example, its actual thrust is about how to implement similar behavior in C.","body":"Although the question presents a Java example, its actual thrust is about how to implement similar behavior in C."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692801850,"post_id":76962377,"comment_id":135674218,"body_markdown":"@JohnBollinger That&#39;s a good point, but I don&#39;t see why essentially the same thing can&#39;t be done in C. A heap for the priority queue, a struct instead of a class, I think the main problem in C is the ownership of the objects since there&#39;s no garbage collector. The consumer would have to be responsible for freeing them.","body":"@JohnBollinger That&#39;s a good point, but I don&#39;t see why essentially the same thing can&#39;t be done in C. A heap for the priority queue, a struct instead of a class, I think the main problem in C is the ownership of the objects since there&#39;s no garbage collector. The consumer would have to be responsible for freeing them."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1692802128,"post_id":76962377,"comment_id":135674296,"body_markdown":"You&#39;re right, @DavidConrad. The same thing certainly could be done in C.  However, if one has to prepare one&#39;s own concurrent queue anyway (as is probable in C) then it would be simpler and more straightforward to prepare one that has built-in support for the kind of termination the OP requires.","body":"You&#39;re right, @DavidConrad. The same thing certainly could be done in C.  However, if one has to prepare one&#39;s own concurrent queue anyway (as is probable in C) then it would be simpler and more straightforward to prepare one that has built-in support for the kind of termination the OP requires."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692802177,"post_id":76962377,"comment_id":135674309,"body_markdown":"@JohnBollinger unlike your approach with a shared condition variable, what I am aiming for is essentially the [actor model](https://en.wikipedia.org/wiki/Actor_model) where nothing is shared and all communication is via message passing between the threads. Unfortunately, one thing does have to be shared, the queue for the messages, and that would require a mutex to ensure both are not modifying it at the same time. So maybe your approach is better in C.","body":"@JohnBollinger unlike your approach with a shared condition variable, what I am aiming for is essentially the <a href=\"https://en.wikipedia.org/wiki/Actor_model\" rel=\"nofollow noreferrer\">actor model</a> where nothing is shared and all communication is via message passing between the threads. Unfortunately, one thing does have to be shared, the queue for the messages, and that would require a mutex to ensure both are not modifying it at the same time. So maybe your approach is better in C."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1692802701,"post_id":76962377,"comment_id":135674423,"body_markdown":"@DavidConrad, for satisfactory operation, your approach requires not only a shared mutex equivalent, but also a shared CV equivalent.  A mutex alone is not adequate for making threads wait for data when none is already available.  `PriorityBlockingQueue` hides those from users, but both are still there.  With that said, if one already has a C analog of `PriorityBlockingQueue`, then your approach does provide a way to layer termination semantics on top.","body":"@DavidConrad, for satisfactory operation, your approach requires not only a shared mutex equivalent, but also a shared CV equivalent.  A mutex alone is not adequate for making threads wait for data when none is already available.  <code>PriorityBlockingQueue</code> hides those from users, but both are still there.  With that said, if one already has a C analog of <code>PriorityBlockingQueue</code>, then your approach does provide a way to layer termination semantics on top."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692802781,"post_id":76962377,"comment_id":135674438,"body_markdown":"@JohnBollinger That&#39;s true, and a good point. Thank you.","body":"@JohnBollinger That&#39;s true, and a good point. Thank you."}],"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692801398,"creation_date":1692801004,"answer_id":76962377,"question_id":76961627,"body_markdown":"Here is one possible approach in Java. Use a `PriorityBlockingQueue` and a wrapper type that has an integer priority, the payload, and a flag.\r\n\r\n    record Prioritized&lt;T&gt;(int priority, T value, boolean stop)\r\n            implements Comparable&lt;Prioritized&lt;T&gt;&gt; {\r\n        @Override\r\n        public int compareTo(Prioritized&lt;T&gt; that) {\r\n            return Integer.compare(this.priority, that.priority);\r\n        }\r\n    }\r\n\r\nDepending on the version of Java this could be written as a `class` instead of a `record`.\r\n\r\nCreate a `PriorityBlockingQueue&lt;Prioritized&lt;Data&gt;&gt;` to pass values of some type `Data` between the producer and the consumer. In the producer, produce values with sequential priorities (or even a constant, positive priority):\r\n\r\n    int serialNumber = 1;\r\n    queue.put(new Prioritized&lt;&gt;(serialNumber++, data, false));\r\n\r\nWhen it&#39;s time to stop the consumer, add an entry with priority -1 and the stop flag set to true. The data doesn&#39;t matter since the consumer will check the flag before looking at the data.\r\n\r\n    queue.put(new Prioritized&lt;&gt;(-1, null, true));\r\n\r\nIn the consumer, take items from the queue, stopping if the flag is set:\r\n\r\n    while (true) {\r\n        Prioritized&lt;Data&gt; item = queue.take();\r\n        if (item.stop()) {\r\n            break;\r\n        }\r\n        process(item.value());\r\n    }\r\n\r\nIn C, use a heap implementation to replace Java&#39;s PriorityBlockingQueue (which is backed by a heap data structure) and a `struct` with similar members as Prioritized.","title":"What&#39;s the best way to terminate consumer/producer threads waiting on blocking data structures that are empty/full in C?","body":"<p>Here is one possible approach in Java. Use a <code>PriorityBlockingQueue</code> and a wrapper type that has an integer priority, the payload, and a flag.</p>\n<pre><code>record Prioritized&lt;T&gt;(int priority, T value, boolean stop)\n        implements Comparable&lt;Prioritized&lt;T&gt;&gt; {\n    @Override\n    public int compareTo(Prioritized&lt;T&gt; that) {\n        return Integer.compare(this.priority, that.priority);\n    }\n}\n</code></pre>\n<p>Depending on the version of Java this could be written as a <code>class</code> instead of a <code>record</code>.</p>\n<p>Create a <code>PriorityBlockingQueue&lt;Prioritized&lt;Data&gt;&gt;</code> to pass values of some type <code>Data</code> between the producer and the consumer. In the producer, produce values with sequential priorities (or even a constant, positive priority):</p>\n<pre><code>int serialNumber = 1;\nqueue.put(new Prioritized&lt;&gt;(serialNumber++, data, false));\n</code></pre>\n<p>When it's time to stop the consumer, add an entry with priority -1 and the stop flag set to true. The data doesn't matter since the consumer will check the flag before looking at the data.</p>\n<pre><code>queue.put(new Prioritized&lt;&gt;(-1, null, true));\n</code></pre>\n<p>In the consumer, take items from the queue, stopping if the flag is set:</p>\n<pre><code>while (true) {\n    Prioritized&lt;Data&gt; item = queue.take();\n    if (item.stop()) {\n        break;\n    }\n    process(item.value());\n}\n</code></pre>\n<p>In C, use a heap implementation to replace Java's PriorityBlockingQueue (which is backed by a heap data structure) and a <code>struct</code> with similar members as Prioritized.</p>\n"},{"comments":[{"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"score":0,"creation_date":1692805314,"post_id":76962419,"comment_id":135675002,"body_markdown":"So this kind interruption is best to be &quot;coded inside&quot; data structures? I saw java never did this and I assumed there was a more general and simple way to do so","body":"So this kind interruption is best to be &quot;coded inside&quot; data structures? I saw java never did this and I assumed there was a more general and simple way to do so"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1692809932,"post_id":76962419,"comment_id":135675920,"body_markdown":"Yes, @Ernaldo, that such an interruption is best implemented directly by your data structure / its associated functions is precisely my answer.  Lots of *Java code* does exactly the kind of thing I describe.  The standard library&#39;s concurrent data structures do not, but that is neither here nor there.","body":"Yes, @Ernaldo, that such an interruption is best implemented directly by your data structure / its associated functions is precisely my answer.  Lots of <i>Java code</i> does exactly the kind of thing I describe.  The standard library&#39;s concurrent data structures do not, but that is neither here nor there."},{"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"score":0,"creation_date":1692812966,"post_id":76962419,"comment_id":135676461,"body_markdown":"I don&#39;t know why I asked again what you stated in the first 2 lines of your answer. Thank you for the detailed response, I will apply this to my code.","body":"I don&#39;t know why I asked again what you stated in the first 2 lines of your answer. Thank you for the detailed response, I will apply this to my code."},{"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"score":0,"creation_date":1692898690,"post_id":76962419,"comment_id":135690307,"body_markdown":"One more thing, what&#39;s usually left of the data structure after the termination is done? Should I simply destroy it,  make it &quot;usable&quot; again, or leave it unusable (meaning its functions now have unspecified behaviour) and let the user explicitly destroy it with the appropriate function?","body":"One more thing, what&#39;s usually left of the data structure after the termination is done? Should I simply destroy it,  make it &quot;usable&quot; again, or leave it unusable (meaning its functions now have unspecified behaviour) and let the user explicitly destroy it with the appropriate function?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1692899222,"post_id":76962419,"comment_id":135690405,"body_markdown":"That&#39;s up to you, @Ernaldo.  It is perhaps safest to use a one &amp; done approach, such that once the termination flag is raised, it cannot be lowered.  The logic is simpler, and there are fewer openings for misuse.  You could nevertheless implement some kind of reset feature, but in addition to increasing the complexity and misuse potential, I think you would find that that feature was rarely used.","body":"That&#39;s up to you, @Ernaldo.  It is perhaps safest to use a one &amp; done approach, such that once the termination flag is raised, it cannot be lowered.  The logic is simpler, and there are fewer openings for misuse.  You could nevertheless implement some kind of reset feature, but in addition to increasing the complexity and misuse potential, I think you would find that that feature was rarely used."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692804060,"creation_date":1692801295,"answer_id":76962419,"question_id":76961627,"body_markdown":"&gt; What&#39;s the best way to terminate consumer/producer threads waiting on blocking data structures that are empty/full in C?\r\n\r\nThe best way is to use (possibly write) a data structure and associated functions that provide explicitly for external interruption.  The usual idiom for this sort of thing relies on the Swiss army knife of thread synchronization: the condition variable.  That applies in both C and Java, although Java makes that more accessible by endowing *every* Object with built-in mutex and CV functionality.&lt;sup&gt;*&lt;/sup&gt;  Such a data structure uses no blocking functions other than mutex and CV waits, and interruption revolves around broadcasting to that CV.\r\n\r\nTo understand how that would work you must first understand [how properly to use CVs to implement blocking data structures][1] in general.  Note in particular that the correct idiom for retrieving data from such a data structure follows these steps:\r\n\r\n**Retrieve datum**\r\n\r\n 1. Lock the data structure\r\n 2. Check whether a datum is available for retrieval\r\n 3. If not:\r\n\r\n    3.1. wait upon a CV designated for the purpose\r\n\r\n    3.2. upon return from the wait, loop back to (2)\r\n 4. Remove the datum\r\n 5. Unlock the data structure\r\n\r\nThe corresponding procedure for depositing data in that structure follows these steps:\r\n\r\n**Deposit datum**\r\n\r\n 1. Lock the data structure\r\n 2. Add the datum\r\n 3. Unlock the data structure\r\n 4. signal or broadcast to the CV (this step and the previous can be performed in either order)\r\n\r\nNotes:\r\n\r\n - **The retrieval procedure blocks only on a CV wait**, and then only if no data are initially available for retrieval.\r\n - **The retrieval procedure loops** after waiting. This is essential because spurious wakeups are possible (in both C and Java), and it provides natural flexibility with respect to whether the CV is signaled or broadcast to.\r\n - A CV wait releases the associated lock (but only that one) before blocking, then reacquires it before returning.\r\n\r\nNow consider step (2) in the retrieval procedure.  It involves performing a test before every possible wait, and control returns there after every wait for a determination of whether a new wait should be performed.  The simple scheme above shows making that determination based only on whether any data are available, but you can insert any additional *conditions* you like there. The combined condition tested here is the namesake for which &quot;condition variables&quot; are named.\r\n\r\nIn particular, you can add a test for whether a termination flag has been set.  With that modification in place, the termination procedure looks a lot like the data deposition procedure.  For example:\r\n\r\n**Terminate**\r\n\r\n 1. Lock the data structure\r\n 2. Set a termination flag\r\n 3. Unlock the data structure\r\n 4. Broadcast to the CV (this step and the previous can be performed in either order)\r\n\r\nIn this case, however, it is essential to broadcast to the CV rather than signaling it if there is any possibility that more than one thread is waiting.\r\n\r\n----\r\n&lt;sup&gt;*&lt;/sup&gt; Java also added higher-level abstractions for locks and CVs, and a bunch of standard data structures providing for safe concurrent use.  To my knowledge, however, none of the standard library classes provide directly for the kind of explicit termination request required here.\r\n\r\n  [1]: https://stackoverflow.com/a/21579987/2402272","title":"What&#39;s the best way to terminate consumer/producer threads waiting on blocking data structures that are empty/full in C?","body":"<blockquote>\n<p>What's the best way to terminate consumer/producer threads waiting on blocking data structures that are empty/full in C?</p>\n</blockquote>\n<p>The best way is to use (possibly write) a data structure and associated functions that provide explicitly for external interruption.  The usual idiom for this sort of thing relies on the Swiss army knife of thread synchronization: the condition variable.  That applies in both C and Java, although Java makes that more accessible by endowing <em>every</em> Object with built-in mutex and CV functionality.<sup>*</sup>  Such a data structure uses no blocking functions other than mutex and CV waits, and interruption revolves around broadcasting to that CV.</p>\n<p>To understand how that would work you must first understand <a href=\"https://stackoverflow.com/a/21579987/2402272\">how properly to use CVs to implement blocking data structures</a> in general.  Note in particular that the correct idiom for retrieving data from such a data structure follows these steps:</p>\n<p><strong>Retrieve datum</strong></p>\n<ol>\n<li><p>Lock the data structure</p>\n</li>\n<li><p>Check whether a datum is available for retrieval</p>\n</li>\n<li><p>If not:</p>\n<p>3.1. wait upon a CV designated for the purpose</p>\n<p>3.2. upon return from the wait, loop back to (2)</p>\n</li>\n<li><p>Remove the datum</p>\n</li>\n<li><p>Unlock the data structure</p>\n</li>\n</ol>\n<p>The corresponding procedure for depositing data in that structure follows these steps:</p>\n<p><strong>Deposit datum</strong></p>\n<ol>\n<li>Lock the data structure</li>\n<li>Add the datum</li>\n<li>Unlock the data structure</li>\n<li>signal or broadcast to the CV (this step and the previous can be performed in either order)</li>\n</ol>\n<p>Notes:</p>\n<ul>\n<li><strong>The retrieval procedure blocks only on a CV wait</strong>, and then only if no data are initially available for retrieval.</li>\n<li><strong>The retrieval procedure loops</strong> after waiting. This is essential because spurious wakeups are possible (in both C and Java), and it provides natural flexibility with respect to whether the CV is signaled or broadcast to.</li>\n<li>A CV wait releases the associated lock (but only that one) before blocking, then reacquires it before returning.</li>\n</ul>\n<p>Now consider step (2) in the retrieval procedure.  It involves performing a test before every possible wait, and control returns there after every wait for a determination of whether a new wait should be performed.  The simple scheme above shows making that determination based only on whether any data are available, but you can insert any additional <em>conditions</em> you like there. The combined condition tested here is the namesake for which &quot;condition variables&quot; are named.</p>\n<p>In particular, you can add a test for whether a termination flag has been set.  With that modification in place, the termination procedure looks a lot like the data deposition procedure.  For example:</p>\n<p><strong>Terminate</strong></p>\n<ol>\n<li>Lock the data structure</li>\n<li>Set a termination flag</li>\n<li>Unlock the data structure</li>\n<li>Broadcast to the CV (this step and the previous can be performed in either order)</li>\n</ol>\n<p>In this case, however, it is essential to broadcast to the CV rather than signaling it if there is any possibility that more than one thread is waiting.</p>\n<hr />\n<p><sup>*</sup> Java also added higher-level abstractions for locks and CVs, and a bunch of standard data structures providing for safe concurrent use.  To my knowledge, however, none of the standard library classes provide directly for the kind of explicit termination request required here.</p>\n"},{"tags":[],"owner":{"account_id":9226883,"reputation":4936,"user_id":6854407,"display_name":"Jim Rogers"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1692805407,"creation_date":1692805407,"answer_id":76962949,"question_id":76961627,"body_markdown":"The Ada language provides a commonly used paradigm for this problem. Implementing this in C would require a significant effort.\r\n\r\nAda provides both synchronous communication between tasks (usually implemented as OS thread) and asynchronous communication between tasks. \r\n\r\nAssociated with the problem specified in this question the synchronous communication allows a task to synchronously message another task when to shut down. \r\n\r\nThe asynchronous communication deals with the use of a shared buffer as expected in a producer-consumer pattern. \r\n\r\nThe following code demonstrates use of both of these communication paths while implementing a producer-consumer pattern which supports P producers and C consumers where P &gt; 0 and C &gt; 0.\r\n\r\nThis example is implemented using an Ada package. The Ada package is implemented in two files. The first file is the package specification, declaring the public interface to the package. The package specification serves a similar purpose to a C header file. The second file is the package body containing the implementation of the software in the package.\r\n\r\n&lt;!-- language: lang-ada --&gt;\r\n    -----------------------------------------------------------------------\r\n    -- Producer-consumer with bounded buffer\r\n    -----------------------------------------------------------------------\r\n    generic\r\n       Capacity : Positive;\r\n    package Bounded_PC is\r\n       task type Producer is\r\n          entry set_id(Id : in Positive);\r\n          entry Stop;\r\n       end Producer;\r\n    \r\n       task type Consumer is\r\n          entry set_id(Id : in Positive);\r\n          entry Stop;\r\n       end Consumer;\r\n    \r\n    end Bounded_PC;\r\n\r\n\r\nThis is a generic package. The generic parameter is named Capacity. The Capacity parameter allows the programmer to customize the capacity of the buffer shared by the producer and consumer tasks.\r\n\r\nTwo task types are declared. The interface to the Producer task type is the same as the interface to the Consumer task type. Declaration of a task type allows the programmer to create 1 or more instances of each task type in the program using the package.\r\n\r\nEach task type declares two task entries. The set_id entry allows the task to be assigned an Id number. The parameter for the set_id entry is an instance of the language-defined subtype Positive. Positive is an Integer (typically 32 bits) with a minimum value of 1. The Stop entry has no parameter. It behaves as a parameter-less event notification.\r\n\r\nThe implementation of this package is in the package body.\r\n&lt;!-- language: lang-ada --&gt;\r\n    with Ada.Text_IO;     use Ada.Text_IO;\r\n    \r\n    package body Bounded_PC is\r\n       subtype Index_T is Positive range 1 .. Capacity;\r\n       type Buf_Array is array (Index_T) of Integer;\r\n    \r\n       ------------\r\n       -- Buffer --\r\n       ------------\r\n    \r\n       protected Buffer is\r\n          entry Write (Item : in Integer);\r\n          entry Read (Item : out Integer);\r\n          function Is_Empty return Boolean;\r\n       private\r\n          Buf         : Buf_Array;\r\n          Write_Index : Index_T := 1;\r\n          Read_Index  : Index_T := 1;\r\n          Count       : Natural := 0;\r\n       end Buffer;\r\n    \r\n       protected body Buffer is\r\n    \r\n          entry Write (Item : in Integer) when Count &lt; Capacity is\r\n          begin\r\n             Buf (Write_Index) := Item;\r\n             Write_Index       := (Write_Index mod Capacity) + 1;\r\n             Count             := Count + 1;\r\n          end Write;\r\n    \r\n          entry Read (Item : out Integer) when Count &gt; 0 is\r\n          begin\r\n             Item       := Buf (Read_Index);\r\n             Read_Index := (Read_Index mod Capacity) + 1;\r\n             Count      := Count - 1;\r\n          end Read;\r\n          \r\n          function Is_Empty return Boolean is\r\n          begin\r\n             return Count = 0;\r\n          end Is_Empty;\r\n          \r\n    \r\n       end Buffer;\r\n    \r\n       --------------\r\n       -- Producer --\r\n       --------------\r\n    \r\n       task body Producer is\r\n          Value : Integer := 0;\r\n          Me    : Positive;\r\n       begin\r\n          accept set_id (Id : in Positive) do\r\n             Me := Id;\r\n          end set_id;\r\n    \r\n          loop\r\n             select\r\n                accept Stop;\r\n                Put_Line(&quot;Producer&quot; &amp; Me&#39;Image &amp; &quot; is terminating.&quot;);\r\n                exit;\r\n             else\r\n                select\r\n                   Buffer.Write (Value);\r\n                   Put_Line (&quot;Producer&quot; &amp; Me&#39;Image &amp; &quot; wrote&quot; &amp; Value&#39;Image);\r\n                   Value := Value + 1;\r\n                or\r\n                   delay 0.001;\r\n                   Put_Line (&quot;Producer&quot; &amp; Me&#39;Image &amp; &quot; is waiting ....&quot;);\r\n                end select;\r\n             end select;\r\n          end loop;\r\n       end Producer;\r\n    \r\n       --------------\r\n       -- Consumer --\r\n       --------------\r\n    \r\n       task body Consumer is\r\n          Value : Integer;\r\n          Me    : Positive;\r\n          Done  : Boolean := False;\r\n       begin\r\n          accept set_id (Id : in Positive) do\r\n             Me := Id;\r\n          end set_id;\r\n    \r\n          loop\r\n             select\r\n                accept Stop;\r\n                Done := True;\r\n             else\r\n                select\r\n                   Buffer.Read (Value);\r\n                   Put_Line (&quot;Consumer&quot; &amp; Me&#39;Image &amp; &quot; read&quot; &amp; Value&#39;Image);\r\n                or\r\n                   delay 0.001;\r\n                   if Done and then Buffer.Is_Empty then\r\n                      Put_Line(&quot;Consumer&quot; &amp; Me&#39;Image &amp; &quot; terminating.&quot;);\r\n                      exit;\r\n                   else\r\n                      Put_Line (&quot;Consumer&quot; &amp; Me&#39;Image &amp; &quot; is waiting ....&quot;);\r\n                   end if;\r\n                end select;\r\n             end select;\r\n          end loop;\r\n       end Consumer;\r\n    \r\n    end Bounded_PC;\r\n\r\nThe package specification only declared the publicly accessible components of the package. The fixed-length buffer shared by the producer tasks and the consumer tasks is not publicly accessible, but is accessible by the tasks themselves. It is therefore defined within the package body and not exposed outside the package body.\r\n\r\nAda allows the declaration of array types. Ada array types allow index values to start at any programmer-defined value and end at any other programmer-defined value of the same type. If the ending index value is less than the starting index value the array type is an array containing no elements.\r\n\r\nA subtype of Positive (the same subtype as the generic parameter Capacity) is defined to be in the range of 1 through Capacity. That subtype is used to index the array type named Buf_Array. Each element of Buf_Array is an Integer.\r\n\r\nThe actual buffer is an Ada protected object. Ada protected objects are passive units of concurrency. They are shared by tasks, which are active units of concurrency. Three kinds of protected methods are allowed to be defined. \r\n\r\n - Procedures are allowed to unconditionally read and write to the protected object. An exclusive read-write lock is implicitly managed when the procedure is executed.\r\n - Entries are allowed to conditionally read and write to the protected object. An exclusive read-write lock is implicitly managed when the entry is executed. A task may only execute an entry when its boundary condition evaluates to TRUE. While the boundary condition evaluates to FALSE all tasks calling the entry are suspended in an implicitly managed entry queue.\r\n - Functions are allowed to only read data from the protected object. Functions manage a shared read-only lock on the protected object. Multiple tasks may read data from the protected object simultaneously using a function. No procedure or entry may execute while the shared read-only lock is asserted.\r\n\r\nThis example only uses two protected entries and one protected function. The Write entry allows the calling task to add an element to the protected object. The Read entry allows the calling task to read an element from the protected object. The Is_Empty function allows a calling task to determine whether or not the protected object contains valid values.\r\n\r\nProtected objects also have two parts; a specification and a body. The protected specification exposes the two entries which can be called and also defines the private data within the protected object. In this example you see an instance of the Buf_Array named Buf, a field named Writ_Index, a field named Read_Index and a field named Count. Buf is the where the shared data is stored. Write_Index is used by the Write entry to manage writing to the queue implemented on the Buf field. Read_Index is used by the Read entry to manage reading data from the queue implemented in Buf. Count keeps track of the number of elements currently holding valid data in the queue implemented by Buf.\r\n\r\nThe protected body contains the implementation of the Write and Read entries.\r\n\r\nThe Write entry has a single parameter passing an Integer into the entry when Count &lt; Capacity. This means a task calling Write will be suspended in the Write entry queue as long as Count &gt;= Capacity. The logic of the Write entry is executed by a calling task only when the boundary condition is TRUE. That logic is simple. The value passed in the parameter named Item is assigned to the element of Buf indexed by Write_Index. Write_Index is incremented using modular arithmetic so that the array is treated as a circular buffer. Count is incremented.\r\n\r\nThe Read entry has a single parameter passing an Integer out of the entry to the calling task when Count &gt; 0. Tasks calling Read can only read a value from the protected object when the buffer is not empty. The logic of the Read entry assigns the parameter Item the value of Buf indexed by Read_Index. Read_Index is incremented using modular arithmetic so that the array is treated as a circular buffer. Count is decremented.\r\n\r\nThe Is_Empty function returns a Boolean value which is TRUE when Count equals 0 and FAlSE when Count does not equal 0. Count is an instance of the pre-defined subtype Natural which is an Integer with a minimum value of 0. Count can therefore not ever contain a value less than 0.\r\n\r\nThe task types are implemented in the task bodies. This is where the communication patterns occur that provide the answer to the question of how the consumer task(s) can work until they are commanded to stop.\r\n\r\nThe producer task first accepts its set_id entry. This is done synchronously. The producer task will suspend at the accept statement until another task calls its corresponding entry. Upon completion of the accept clause the task enters an infinite loop which is only terminated by accepting the Stop entry for the task.\r\n\r\nThe Stop entry is accepted within a select clause. Select clauses allow conditional acceptance of an entry. The producer task accepts its Stop entry only if another task is calling that entry. It another task is calling the Stop entry the Producer outputs a message stating it is terminating and then exits the loop. If no other task is calling that entry the producer task selectively calls the Buffer.Write entry. If Buffer is not full the boundary condition on Buffer.Write entry completes, the producer writes a message to standard output and increments Value. If Buffer is full the Producer task waits up to 0.001 seconds (1 millisecond) and then abandons the call to Buffer.Write, producing a message indicating the Producer is waiting. The loop is then repeated.\r\n\r\nThe Consumer task has a very similar behavior to the Producer task.\r\n\r\nIt accepts the set_id entry then enters an infinite loop checking whether or not the Stop entry has been called and then reading values from the Buffer protected object. When the Stop entry has been accepted the Consumer sets the Boolean variable Done to TRUE and continues iterating through the loop. The Consumer continues processing Buffer data elements until Done is TRUE and Buffer.Is_Empty returns TRUE. This allows the Consumer to finish processing all values written by Producer tasks and then terminate.\r\n\r\nThe Main procedure for this example follows:\r\n&lt;!-- language: lang-ada --&gt;\r\n\r\n    with Bounded_PC;\r\n    \r\n    procedure Main is\r\n       package Int_Pck is new Bounded_PC (10);\r\n       use Int_Pck;\r\n    \r\n       P1 : Producer;\r\n       P2 : Producer;\r\n       C1 : Consumer;\r\n       C2 : Consumer;\r\n    begin\r\n       P1.set_id (1);\r\n       P2.set_id (2);\r\n       C1.set_id (1);\r\n       C2.set_id (2);\r\n       delay 0.003;\r\n       P1.Stop;\r\n       P2.Stop;\r\n       delay 0.01;\r\n       C1.Stop;\r\n       C2.Stop;\r\n    end Main;\r\n\r\nThe Main procedure creates an instance of the Bounded_PC package passing 10 to the Capacity generic parameter. This creates a fixed buffer of 10 elements for this example.\r\n\r\nMain creates two instances of Producer named P1 and P2 followed by two instances of Consumer named C1 and C1. All four tasks begin executing immediately.\r\n\r\nFollowing the &quot;begin&quot; reserved word the Main procedure calls the set_id entry for each task, delays (sleeps) for 0.003 seconds (3 milliseconds), calls the Stop entries for the two producer tasks, delays another 0.01 seconds (10 milliseconds) and calls the stop entry for the two consumers.\r\n\r\nA typical output of this program is:\r\n&lt;!-- language: lang-text --&gt;\r\n\r\n    Producer 1 wrote 0\r\n    Consumer 1 read 0\r\n    Consumer 1 read 1\r\n    Consumer 2 read 0\r\n    Producer 1 wrote 1\r\n    Producer 2 wrote 0\r\n    Consumer 1 read 2\r\n    Producer 2 wrote 1\r\n    Consumer 2 read 1\r\n    Producer 1 wrote 2\r\n    Consumer 1 read 2\r\n    Producer 2 wrote 2\r\n    Consumer 2 read 3\r\n    Producer 1 wrote 3\r\n    Consumer 1 read 3\r\n    Producer 2 wrote 3\r\n    Consumer 2 read 4\r\n    Producer 1 wrote 4\r\n    Consumer 1 read 4\r\n    Consumer 2 read 5\r\n    Producer 1 wrote 5\r\n    Producer 2 wrote 4\r\n    Consumer 1 read 6\r\n    Producer 1 wrote 6\r\n    Producer 2 wrote 5\r\n    Consumer 2 read 5\r\n    Producer 2 wrote 6\r\n    Consumer 2 read 6\r\n    Consumer 2 read 7\r\n    Producer 2 wrote 7\r\n    Producer 1 wrote 7\r\n    Consumer 2 read 8\r\n    Producer 2 wrote 8\r\n    Producer 2 wrote 9\r\n    Producer 2 wrote 10\r\n    Consumer 2 read 8\r\n    Consumer 1 read 7\r\n    Producer 1 wrote 8\r\n    Consumer 1 read 10\r\n    Producer 2 wrote 11\r\n    Consumer 2 read 9\r\n    Consumer 2 read 9\r\n    Consumer 2 read 12\r\n    Producer 2 wrote 12\r\n    Consumer 1 read 11\r\n    Producer 1 wrote 9\r\n    Producer 2 wrote 13\r\n    Consumer 1 read 10\r\n    Producer 2 wrote 14\r\n    Consumer 2 read 13\r\n    Consumer 1 read 14\r\n    Consumer 2 read 15\r\n    Producer 2 wrote 15\r\n    Producer 1 wrote 10\r\n    Consumer 1 read 16\r\n    Producer 1 wrote 11\r\n    Producer 2 wrote 16\r\n    Consumer 2 read 11\r\n    Producer 2 wrote 17\r\n    Consumer 2 read 17\r\n    Producer 2 wrote 18\r\n    Consumer 2 read 18\r\n    Producer 2 wrote 19\r\n    Consumer 2 read 19\r\n    Producer 2 wrote 20\r\n    Producer 2 wrote 21\r\n    Consumer 2 read 20\r\n    Producer 2 wrote 22\r\n    Consumer 2 read 21\r\n    Producer 2 wrote 23\r\n    Consumer 2 read 22\r\n    Producer 2 wrote 24\r\n    Producer 2 wrote 25\r\n    Producer 1 wrote 12\r\n    Producer 2 wrote 26\r\n    Consumer 2 read 23\r\n    Producer 2 wrote 27\r\n    Consumer 2 read 24\r\n    Producer 2 wrote 28\r\n    Consumer 2 read 25\r\n    Producer 2 wrote 29\r\n    Consumer 2 read 26\r\n    Producer 2 wrote 30\r\n    Consumer 2 read 13\r\n    Producer 2 wrote 31\r\n    Consumer 2 read 27\r\n    Producer 2 wrote 32\r\n    Consumer 2 read 28\r\n    Producer 2 wrote 33\r\n    Consumer 2 read 29\r\n    Producer 2 wrote 34\r\n    Producer 2 wrote 35\r\n    Consumer 2 read 30\r\n    Producer 2 wrote 36\r\n    Consumer 2 read 31\r\n    Producer 2 wrote 37\r\n    Consumer 2 read 32\r\n    Producer 2 wrote 38\r\n    Consumer 2 read 33\r\n    Consumer 2 read 34\r\n    Producer 2 wrote 39\r\n    Consumer 2 read 35\r\n    Producer 2 wrote 40\r\n    Producer 1 wrote 13\r\n    Producer 2 wrote 41\r\n    Consumer 1 read 12\r\n    Producer 1 wrote 14\r\n    Producer 2 wrote 42\r\n    Consumer 1 read 37\r\n    Producer 1 wrote 15\r\n    Producer 1 wrote 16\r\n    Producer 1 wrote 17\r\n    Producer 1 wrote 18\r\n    Consumer 1 read 38\r\n    Producer 2 wrote 43\r\n    Consumer 2 read 36\r\n    Producer 1 wrote 19\r\n    Consumer 2 read 40\r\n    Producer 2 wrote 44\r\n    Consumer 2 read 41\r\n    Producer 1 wrote 20\r\n    Consumer 2 read 14\r\n    Consumer 1 read 39\r\n    Consumer 2 read 42\r\n    Consumer 1 read 15\r\n    Consumer 2 read 43\r\n    Consumer 1 read 16\r\n    Consumer 2 read 17\r\n    Consumer 1 read 18\r\n    Consumer 2 read 19\r\n    Consumer 2 read 44\r\n    Consumer 1 read 20\r\n    Producer 2 wrote 45\r\n    Consumer 1 read 21\r\n    Consumer 2 read 45\r\n    Consumer 1 read 46\r\n    Producer 2 wrote 46\r\n    Producer 1 wrote 21\r\n    Producer 2 wrote 47\r\n    Producer 1 wrote 22\r\n    Producer 2 wrote 48\r\n    Producer 2 wrote 49\r\n    Consumer 1 read 22\r\n    Producer 2 wrote 50\r\n    Producer 2 wrote 51\r\n    Producer 2 wrote 52\r\n    Producer 2 wrote 53\r\n    Producer 2 wrote 54\r\n    Producer 2 wrote 55\r\n    Producer 2 wrote 56\r\n    Consumer 1 read 48\r\n    Consumer 1 read 23\r\n    Producer 2 wrote 57\r\n    Producer 2 wrote 58\r\n    Producer 2 wrote 59\r\n    Producer 1 wrote 23\r\n    Consumer 1 read 49\r\n    Consumer 2 read 47\r\n    Consumer 1 read 50\r\n    Consumer 1 read 52\r\n    Consumer 1 read 53\r\n    Consumer 1 read 54\r\n    Consumer 1 read 55\r\n    Consumer 1 read 56\r\n    Consumer 1 read 57\r\n    Producer 1 wrote 24\r\n    Consumer 1 read 58\r\n    Producer 1 wrote 25\r\n    Consumer 2 read 51\r\n    Producer 2 wrote 60\r\n    Consumer 2 read 60\r\n    Producer 2 wrote 61\r\n    Consumer 2 read 24\r\n    Producer 1 wrote 26\r\n    Consumer 2 read 25\r\n    Producer 2 wrote 62\r\n    Consumer 2 read 26\r\n    Consumer 2 read 61\r\n    Consumer 2 read 62\r\n    Consumer 2 read 27\r\n    Consumer 2 read 63\r\n    Producer 2 wrote 63\r\n    Producer 2 wrote 64\r\n    Producer 2 wrote 65\r\n    Producer 2 wrote 66\r\n    Producer 2 wrote 67\r\n    Producer 2 wrote 68\r\n    Consumer 2 read 64\r\n    Producer 1 wrote 27\r\n    Producer 2 wrote 69\r\n    Producer 1 wrote 28\r\n    Producer 2 wrote 70\r\n    Producer 2 wrote 71\r\n    Producer 2 wrote 72\r\n    Producer 2 wrote 73\r\n    Producer 1 wrote 29\r\n    Consumer 2 read 65\r\n    Consumer 1 read 59\r\n    Consumer 2 read 66\r\n    Consumer 1 read 67\r\n    Producer 1 wrote 30\r\n    Consumer 2 read 68\r\n    Producer 2 wrote 74\r\n    Consumer 2 read 28\r\n    Consumer 2 read 70\r\n    Consumer 2 read 29\r\n    Consumer 2 read 71\r\n    Consumer 2 read 72\r\n    Consumer 2 read 73\r\n    Consumer 2 read 74\r\n    Consumer 2 read 30\r\n    Consumer 2 read 31\r\n    Consumer 2 read 75\r\n    Producer 1 wrote 31\r\n    Producer 2 wrote 75\r\n    Producer 1 is terminating.\r\n    Producer 2 wrote 76\r\n    Producer 2 wrote 77\r\n    Consumer 1 read 69\r\n    Producer 2 wrote 78\r\n    Consumer 2 read 76\r\n    Producer 2 is terminating.\r\n    Consumer 1 read 77\r\n    Consumer 2 read 78\r\n    Consumer 1 is waiting ....\r\n    Consumer 2 is waiting ....\r\n    Consumer 2 is waiting ....\r\n    Consumer 1 is waiting ....\r\n    Consumer 2 is waiting ....\r\n    Consumer 1 terminating.\r\n    Consumer 2 terminating.\r\n\r\n\r\n","title":"What&#39;s the best way to terminate consumer/producer threads waiting on blocking data structures that are empty/full in C?","body":"<p>The Ada language provides a commonly used paradigm for this problem. Implementing this in C would require a significant effort.</p>\n<p>Ada provides both synchronous communication between tasks (usually implemented as OS thread) and asynchronous communication between tasks.</p>\n<p>Associated with the problem specified in this question the synchronous communication allows a task to synchronously message another task when to shut down.</p>\n<p>The asynchronous communication deals with the use of a shared buffer as expected in a producer-consumer pattern.</p>\n<p>The following code demonstrates use of both of these communication paths while implementing a producer-consumer pattern which supports P producers and C consumers where P &gt; 0 and C &gt; 0.</p>\n<p>This example is implemented using an Ada package. The Ada package is implemented in two files. The first file is the package specification, declaring the public interface to the package. The package specification serves a similar purpose to a C header file. The second file is the package body containing the implementation of the software in the package.</p>\n<pre class=\"lang-ada prettyprint-override\"><code>-----------------------------------------------------------------------\n-- Producer-consumer with bounded buffer\n-----------------------------------------------------------------------\ngeneric\n   Capacity : Positive;\npackage Bounded_PC is\n   task type Producer is\n      entry set_id(Id : in Positive);\n      entry Stop;\n   end Producer;\n\n   task type Consumer is\n      entry set_id(Id : in Positive);\n      entry Stop;\n   end Consumer;\n\nend Bounded_PC;\n</code></pre>\n<p>This is a generic package. The generic parameter is named Capacity. The Capacity parameter allows the programmer to customize the capacity of the buffer shared by the producer and consumer tasks.</p>\n<p>Two task types are declared. The interface to the Producer task type is the same as the interface to the Consumer task type. Declaration of a task type allows the programmer to create 1 or more instances of each task type in the program using the package.</p>\n<p>Each task type declares two task entries. The set_id entry allows the task to be assigned an Id number. The parameter for the set_id entry is an instance of the language-defined subtype Positive. Positive is an Integer (typically 32 bits) with a minimum value of 1. The Stop entry has no parameter. It behaves as a parameter-less event notification.</p>\n<p>The implementation of this package is in the package body.</p>\n<pre class=\"lang-ada prettyprint-override\"><code>with Ada.Text_IO;     use Ada.Text_IO;\n\npackage body Bounded_PC is\n   subtype Index_T is Positive range 1 .. Capacity;\n   type Buf_Array is array (Index_T) of Integer;\n\n   ------------\n   -- Buffer --\n   ------------\n\n   protected Buffer is\n      entry Write (Item : in Integer);\n      entry Read (Item : out Integer);\n      function Is_Empty return Boolean;\n   private\n      Buf         : Buf_Array;\n      Write_Index : Index_T := 1;\n      Read_Index  : Index_T := 1;\n      Count       : Natural := 0;\n   end Buffer;\n\n   protected body Buffer is\n\n      entry Write (Item : in Integer) when Count &lt; Capacity is\n      begin\n         Buf (Write_Index) := Item;\n         Write_Index       := (Write_Index mod Capacity) + 1;\n         Count             := Count + 1;\n      end Write;\n\n      entry Read (Item : out Integer) when Count &gt; 0 is\n      begin\n         Item       := Buf (Read_Index);\n         Read_Index := (Read_Index mod Capacity) + 1;\n         Count      := Count - 1;\n      end Read;\n      \n      function Is_Empty return Boolean is\n      begin\n         return Count = 0;\n      end Is_Empty;\n      \n\n   end Buffer;\n\n   --------------\n   -- Producer --\n   --------------\n\n   task body Producer is\n      Value : Integer := 0;\n      Me    : Positive;\n   begin\n      accept set_id (Id : in Positive) do\n         Me := Id;\n      end set_id;\n\n      loop\n         select\n            accept Stop;\n            Put_Line(&quot;Producer&quot; &amp; Me'Image &amp; &quot; is terminating.&quot;);\n            exit;\n         else\n            select\n               Buffer.Write (Value);\n               Put_Line (&quot;Producer&quot; &amp; Me'Image &amp; &quot; wrote&quot; &amp; Value'Image);\n               Value := Value + 1;\n            or\n               delay 0.001;\n               Put_Line (&quot;Producer&quot; &amp; Me'Image &amp; &quot; is waiting ....&quot;);\n            end select;\n         end select;\n      end loop;\n   end Producer;\n\n   --------------\n   -- Consumer --\n   --------------\n\n   task body Consumer is\n      Value : Integer;\n      Me    : Positive;\n      Done  : Boolean := False;\n   begin\n      accept set_id (Id : in Positive) do\n         Me := Id;\n      end set_id;\n\n      loop\n         select\n            accept Stop;\n            Done := True;\n         else\n            select\n               Buffer.Read (Value);\n               Put_Line (&quot;Consumer&quot; &amp; Me'Image &amp; &quot; read&quot; &amp; Value'Image);\n            or\n               delay 0.001;\n               if Done and then Buffer.Is_Empty then\n                  Put_Line(&quot;Consumer&quot; &amp; Me'Image &amp; &quot; terminating.&quot;);\n                  exit;\n               else\n                  Put_Line (&quot;Consumer&quot; &amp; Me'Image &amp; &quot; is waiting ....&quot;);\n               end if;\n            end select;\n         end select;\n      end loop;\n   end Consumer;\n\nend Bounded_PC;\n</code></pre>\n<p>The package specification only declared the publicly accessible components of the package. The fixed-length buffer shared by the producer tasks and the consumer tasks is not publicly accessible, but is accessible by the tasks themselves. It is therefore defined within the package body and not exposed outside the package body.</p>\n<p>Ada allows the declaration of array types. Ada array types allow index values to start at any programmer-defined value and end at any other programmer-defined value of the same type. If the ending index value is less than the starting index value the array type is an array containing no elements.</p>\n<p>A subtype of Positive (the same subtype as the generic parameter Capacity) is defined to be in the range of 1 through Capacity. That subtype is used to index the array type named Buf_Array. Each element of Buf_Array is an Integer.</p>\n<p>The actual buffer is an Ada protected object. Ada protected objects are passive units of concurrency. They are shared by tasks, which are active units of concurrency. Three kinds of protected methods are allowed to be defined.</p>\n<ul>\n<li>Procedures are allowed to unconditionally read and write to the protected object. An exclusive read-write lock is implicitly managed when the procedure is executed.</li>\n<li>Entries are allowed to conditionally read and write to the protected object. An exclusive read-write lock is implicitly managed when the entry is executed. A task may only execute an entry when its boundary condition evaluates to TRUE. While the boundary condition evaluates to FALSE all tasks calling the entry are suspended in an implicitly managed entry queue.</li>\n<li>Functions are allowed to only read data from the protected object. Functions manage a shared read-only lock on the protected object. Multiple tasks may read data from the protected object simultaneously using a function. No procedure or entry may execute while the shared read-only lock is asserted.</li>\n</ul>\n<p>This example only uses two protected entries and one protected function. The Write entry allows the calling task to add an element to the protected object. The Read entry allows the calling task to read an element from the protected object. The Is_Empty function allows a calling task to determine whether or not the protected object contains valid values.</p>\n<p>Protected objects also have two parts; a specification and a body. The protected specification exposes the two entries which can be called and also defines the private data within the protected object. In this example you see an instance of the Buf_Array named Buf, a field named Writ_Index, a field named Read_Index and a field named Count. Buf is the where the shared data is stored. Write_Index is used by the Write entry to manage writing to the queue implemented on the Buf field. Read_Index is used by the Read entry to manage reading data from the queue implemented in Buf. Count keeps track of the number of elements currently holding valid data in the queue implemented by Buf.</p>\n<p>The protected body contains the implementation of the Write and Read entries.</p>\n<p>The Write entry has a single parameter passing an Integer into the entry when Count &lt; Capacity. This means a task calling Write will be suspended in the Write entry queue as long as Count &gt;= Capacity. The logic of the Write entry is executed by a calling task only when the boundary condition is TRUE. That logic is simple. The value passed in the parameter named Item is assigned to the element of Buf indexed by Write_Index. Write_Index is incremented using modular arithmetic so that the array is treated as a circular buffer. Count is incremented.</p>\n<p>The Read entry has a single parameter passing an Integer out of the entry to the calling task when Count &gt; 0. Tasks calling Read can only read a value from the protected object when the buffer is not empty. The logic of the Read entry assigns the parameter Item the value of Buf indexed by Read_Index. Read_Index is incremented using modular arithmetic so that the array is treated as a circular buffer. Count is decremented.</p>\n<p>The Is_Empty function returns a Boolean value which is TRUE when Count equals 0 and FAlSE when Count does not equal 0. Count is an instance of the pre-defined subtype Natural which is an Integer with a minimum value of 0. Count can therefore not ever contain a value less than 0.</p>\n<p>The task types are implemented in the task bodies. This is where the communication patterns occur that provide the answer to the question of how the consumer task(s) can work until they are commanded to stop.</p>\n<p>The producer task first accepts its set_id entry. This is done synchronously. The producer task will suspend at the accept statement until another task calls its corresponding entry. Upon completion of the accept clause the task enters an infinite loop which is only terminated by accepting the Stop entry for the task.</p>\n<p>The Stop entry is accepted within a select clause. Select clauses allow conditional acceptance of an entry. The producer task accepts its Stop entry only if another task is calling that entry. It another task is calling the Stop entry the Producer outputs a message stating it is terminating and then exits the loop. If no other task is calling that entry the producer task selectively calls the Buffer.Write entry. If Buffer is not full the boundary condition on Buffer.Write entry completes, the producer writes a message to standard output and increments Value. If Buffer is full the Producer task waits up to 0.001 seconds (1 millisecond) and then abandons the call to Buffer.Write, producing a message indicating the Producer is waiting. The loop is then repeated.</p>\n<p>The Consumer task has a very similar behavior to the Producer task.</p>\n<p>It accepts the set_id entry then enters an infinite loop checking whether or not the Stop entry has been called and then reading values from the Buffer protected object. When the Stop entry has been accepted the Consumer sets the Boolean variable Done to TRUE and continues iterating through the loop. The Consumer continues processing Buffer data elements until Done is TRUE and Buffer.Is_Empty returns TRUE. This allows the Consumer to finish processing all values written by Producer tasks and then terminate.</p>\n<p>The Main procedure for this example follows:</p>\n<pre class=\"lang-ada prettyprint-override\"><code>with Bounded_PC;\n\nprocedure Main is\n   package Int_Pck is new Bounded_PC (10);\n   use Int_Pck;\n\n   P1 : Producer;\n   P2 : Producer;\n   C1 : Consumer;\n   C2 : Consumer;\nbegin\n   P1.set_id (1);\n   P2.set_id (2);\n   C1.set_id (1);\n   C2.set_id (2);\n   delay 0.003;\n   P1.Stop;\n   P2.Stop;\n   delay 0.01;\n   C1.Stop;\n   C2.Stop;\nend Main;\n</code></pre>\n<p>The Main procedure creates an instance of the Bounded_PC package passing 10 to the Capacity generic parameter. This creates a fixed buffer of 10 elements for this example.</p>\n<p>Main creates two instances of Producer named P1 and P2 followed by two instances of Consumer named C1 and C1. All four tasks begin executing immediately.</p>\n<p>Following the &quot;begin&quot; reserved word the Main procedure calls the set_id entry for each task, delays (sleeps) for 0.003 seconds (3 milliseconds), calls the Stop entries for the two producer tasks, delays another 0.01 seconds (10 milliseconds) and calls the stop entry for the two consumers.</p>\n<p>A typical output of this program is:</p>\n<pre class=\"lang-text prettyprint-override\"><code>Producer 1 wrote 0\nConsumer 1 read 0\nConsumer 1 read 1\nConsumer 2 read 0\nProducer 1 wrote 1\nProducer 2 wrote 0\nConsumer 1 read 2\nProducer 2 wrote 1\nConsumer 2 read 1\nProducer 1 wrote 2\nConsumer 1 read 2\nProducer 2 wrote 2\nConsumer 2 read 3\nProducer 1 wrote 3\nConsumer 1 read 3\nProducer 2 wrote 3\nConsumer 2 read 4\nProducer 1 wrote 4\nConsumer 1 read 4\nConsumer 2 read 5\nProducer 1 wrote 5\nProducer 2 wrote 4\nConsumer 1 read 6\nProducer 1 wrote 6\nProducer 2 wrote 5\nConsumer 2 read 5\nProducer 2 wrote 6\nConsumer 2 read 6\nConsumer 2 read 7\nProducer 2 wrote 7\nProducer 1 wrote 7\nConsumer 2 read 8\nProducer 2 wrote 8\nProducer 2 wrote 9\nProducer 2 wrote 10\nConsumer 2 read 8\nConsumer 1 read 7\nProducer 1 wrote 8\nConsumer 1 read 10\nProducer 2 wrote 11\nConsumer 2 read 9\nConsumer 2 read 9\nConsumer 2 read 12\nProducer 2 wrote 12\nConsumer 1 read 11\nProducer 1 wrote 9\nProducer 2 wrote 13\nConsumer 1 read 10\nProducer 2 wrote 14\nConsumer 2 read 13\nConsumer 1 read 14\nConsumer 2 read 15\nProducer 2 wrote 15\nProducer 1 wrote 10\nConsumer 1 read 16\nProducer 1 wrote 11\nProducer 2 wrote 16\nConsumer 2 read 11\nProducer 2 wrote 17\nConsumer 2 read 17\nProducer 2 wrote 18\nConsumer 2 read 18\nProducer 2 wrote 19\nConsumer 2 read 19\nProducer 2 wrote 20\nProducer 2 wrote 21\nConsumer 2 read 20\nProducer 2 wrote 22\nConsumer 2 read 21\nProducer 2 wrote 23\nConsumer 2 read 22\nProducer 2 wrote 24\nProducer 2 wrote 25\nProducer 1 wrote 12\nProducer 2 wrote 26\nConsumer 2 read 23\nProducer 2 wrote 27\nConsumer 2 read 24\nProducer 2 wrote 28\nConsumer 2 read 25\nProducer 2 wrote 29\nConsumer 2 read 26\nProducer 2 wrote 30\nConsumer 2 read 13\nProducer 2 wrote 31\nConsumer 2 read 27\nProducer 2 wrote 32\nConsumer 2 read 28\nProducer 2 wrote 33\nConsumer 2 read 29\nProducer 2 wrote 34\nProducer 2 wrote 35\nConsumer 2 read 30\nProducer 2 wrote 36\nConsumer 2 read 31\nProducer 2 wrote 37\nConsumer 2 read 32\nProducer 2 wrote 38\nConsumer 2 read 33\nConsumer 2 read 34\nProducer 2 wrote 39\nConsumer 2 read 35\nProducer 2 wrote 40\nProducer 1 wrote 13\nProducer 2 wrote 41\nConsumer 1 read 12\nProducer 1 wrote 14\nProducer 2 wrote 42\nConsumer 1 read 37\nProducer 1 wrote 15\nProducer 1 wrote 16\nProducer 1 wrote 17\nProducer 1 wrote 18\nConsumer 1 read 38\nProducer 2 wrote 43\nConsumer 2 read 36\nProducer 1 wrote 19\nConsumer 2 read 40\nProducer 2 wrote 44\nConsumer 2 read 41\nProducer 1 wrote 20\nConsumer 2 read 14\nConsumer 1 read 39\nConsumer 2 read 42\nConsumer 1 read 15\nConsumer 2 read 43\nConsumer 1 read 16\nConsumer 2 read 17\nConsumer 1 read 18\nConsumer 2 read 19\nConsumer 2 read 44\nConsumer 1 read 20\nProducer 2 wrote 45\nConsumer 1 read 21\nConsumer 2 read 45\nConsumer 1 read 46\nProducer 2 wrote 46\nProducer 1 wrote 21\nProducer 2 wrote 47\nProducer 1 wrote 22\nProducer 2 wrote 48\nProducer 2 wrote 49\nConsumer 1 read 22\nProducer 2 wrote 50\nProducer 2 wrote 51\nProducer 2 wrote 52\nProducer 2 wrote 53\nProducer 2 wrote 54\nProducer 2 wrote 55\nProducer 2 wrote 56\nConsumer 1 read 48\nConsumer 1 read 23\nProducer 2 wrote 57\nProducer 2 wrote 58\nProducer 2 wrote 59\nProducer 1 wrote 23\nConsumer 1 read 49\nConsumer 2 read 47\nConsumer 1 read 50\nConsumer 1 read 52\nConsumer 1 read 53\nConsumer 1 read 54\nConsumer 1 read 55\nConsumer 1 read 56\nConsumer 1 read 57\nProducer 1 wrote 24\nConsumer 1 read 58\nProducer 1 wrote 25\nConsumer 2 read 51\nProducer 2 wrote 60\nConsumer 2 read 60\nProducer 2 wrote 61\nConsumer 2 read 24\nProducer 1 wrote 26\nConsumer 2 read 25\nProducer 2 wrote 62\nConsumer 2 read 26\nConsumer 2 read 61\nConsumer 2 read 62\nConsumer 2 read 27\nConsumer 2 read 63\nProducer 2 wrote 63\nProducer 2 wrote 64\nProducer 2 wrote 65\nProducer 2 wrote 66\nProducer 2 wrote 67\nProducer 2 wrote 68\nConsumer 2 read 64\nProducer 1 wrote 27\nProducer 2 wrote 69\nProducer 1 wrote 28\nProducer 2 wrote 70\nProducer 2 wrote 71\nProducer 2 wrote 72\nProducer 2 wrote 73\nProducer 1 wrote 29\nConsumer 2 read 65\nConsumer 1 read 59\nConsumer 2 read 66\nConsumer 1 read 67\nProducer 1 wrote 30\nConsumer 2 read 68\nProducer 2 wrote 74\nConsumer 2 read 28\nConsumer 2 read 70\nConsumer 2 read 29\nConsumer 2 read 71\nConsumer 2 read 72\nConsumer 2 read 73\nConsumer 2 read 74\nConsumer 2 read 30\nConsumer 2 read 31\nConsumer 2 read 75\nProducer 1 wrote 31\nProducer 2 wrote 75\nProducer 1 is terminating.\nProducer 2 wrote 76\nProducer 2 wrote 77\nConsumer 1 read 69\nProducer 2 wrote 78\nConsumer 2 read 76\nProducer 2 is terminating.\nConsumer 1 read 77\nConsumer 2 read 78\nConsumer 1 is waiting ....\nConsumer 2 is waiting ....\nConsumer 2 is waiting ....\nConsumer 1 is waiting ....\nConsumer 2 is waiting ....\nConsumer 1 terminating.\nConsumer 2 terminating.\n</code></pre>\n"}],"owner":{"account_id":20714967,"reputation":152,"user_id":15210663,"display_name":"Ernaldo"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76962419,"answer_count":3,"score":1,"last_activity_date":1692805407,"creation_date":1692795791,"question_id":76961627,"body_markdown":"Let&#39;s say I have some consumer threads cycling reading elements infinitely from a blocking queue, and some producer threads that will produce a certain amount of elements on the same queue and then return. The consumers don&#39;t know how many elements will be inserted, that&#39;s why they keep cycling. After all the elements are produced and consumed, the consumer threads will get stuck waiting for more. \r\n\r\nMy goal is to make the consumers terminate in this scenario writing a &quot;good&quot; code to do so.\r\n\r\nOne possible solution in Java (that I don&#39;t think is easy/worth it to implement in C, correct me if I&#39;m mistaken)\r\nthat looks good and &quot;well abstracted&quot; is to use Thread.interrupt() and exceptions in the following way, with 1 consumer and 1 producer in this example:\r\n\r\n(haven&#39;t used java in a long time, sorry if there are mistakes, especially on generics)\r\n\r\n    public class Consume implements Runnable {\r\n\r\n        private BlockingQueue&lt;T&gt; queue;\r\n\r\n        public Consume(BlockingQueue&lt;T&gt; queue){\r\n            this.queue = queue;\r\n        }\r\n\r\n        public void run() {\r\n            try {\r\n                while(true) {\r\n                    T elem;\r\n                    elem = queue.take(); //Blocking\r\n                    //Do something with the element\r\n                }\r\n            } catch(InterruptedException e) {\r\n                //Do nothing and quit \r\n            }\r\n        }\r\n    }\r\n    \r\n    public class Produce implements Runnable {\r\n\r\n        private BlockingQueue&lt;T&gt; queue;\r\n\r\n        public Produce(BlockingQueue&lt;T&gt; queue) {\r\n            this.queue = queue;\r\n        }\r\n\r\n        public void run() {\r\n            //Insert a random number of element in the queue,  and then quit\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        BlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;&gt;(capacity);\r\n        Thread consumer = new Thread(new Consume(queue));\r\n        Thread producer = new Thread(new Produce(queue));\r\n\r\n        consumer.start();\r\n        producer.start();\r\n        producer.join();\r\n        consumer.interrupt();\r\n\r\n        return 0;\r\n    }\r\n\r\nThis looks good enough to me because to terminate them I only need to use the same function (Thread.interrupt) for every type of data structure and without the need to access the internal implementation of the data structures. \r\n\r\nIn C, using pthreads, I could implement a solution with `pthread_cond_signal` / `*_broadcast` and the setting of some flag, but I would need to access the internal implementation of the data structure.\r\n\r\nIs there a better way in general to face this problem? If not, can I implement something similar to the Java solution in C? \r\n\r\nI found out that on MacOS a system signal received by a thread waiting with `pthread_cond_wait` will cause the function to return. I started writing a solution similar to the Java one based on this mechanism only to find out that `pthread_cond_wait` doesn&#39;t return on Linux, and I need my code to work on both OSes.\r\n","title":"What&#39;s the best way to terminate consumer/producer threads waiting on blocking data structures that are empty/full in C?","body":"<p>Let's say I have some consumer threads cycling reading elements infinitely from a blocking queue, and some producer threads that will produce a certain amount of elements on the same queue and then return. The consumers don't know how many elements will be inserted, that's why they keep cycling. After all the elements are produced and consumed, the consumer threads will get stuck waiting for more.</p>\n<p>My goal is to make the consumers terminate in this scenario writing a &quot;good&quot; code to do so.</p>\n<p>One possible solution in Java (that I don't think is easy/worth it to implement in C, correct me if I'm mistaken)\nthat looks good and &quot;well abstracted&quot; is to use Thread.interrupt() and exceptions in the following way, with 1 consumer and 1 producer in this example:</p>\n<p>(haven't used java in a long time, sorry if there are mistakes, especially on generics)</p>\n<pre><code>public class Consume implements Runnable {\n\n    private BlockingQueue&lt;T&gt; queue;\n\n    public Consume(BlockingQueue&lt;T&gt; queue){\n        this.queue = queue;\n    }\n\n    public void run() {\n        try {\n            while(true) {\n                T elem;\n                elem = queue.take(); //Blocking\n                //Do something with the element\n            }\n        } catch(InterruptedException e) {\n            //Do nothing and quit \n        }\n    }\n}\n\npublic class Produce implements Runnable {\n\n    private BlockingQueue&lt;T&gt; queue;\n\n    public Produce(BlockingQueue&lt;T&gt; queue) {\n        this.queue = queue;\n    }\n\n    public void run() {\n        //Insert a random number of element in the queue,  and then quit\n    }\n}\n\npublic static void main(String[] args) {\n    BlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;&gt;(capacity);\n    Thread consumer = new Thread(new Consume(queue));\n    Thread producer = new Thread(new Produce(queue));\n\n    consumer.start();\n    producer.start();\n    producer.join();\n    consumer.interrupt();\n\n    return 0;\n}\n</code></pre>\n<p>This looks good enough to me because to terminate them I only need to use the same function (Thread.interrupt) for every type of data structure and without the need to access the internal implementation of the data structures.</p>\n<p>In C, using pthreads, I could implement a solution with <code>pthread_cond_signal</code> / <code>*_broadcast</code> and the setting of some flag, but I would need to access the internal implementation of the data structure.</p>\n<p>Is there a better way in general to face this problem? If not, can I implement something similar to the Java solution in C?</p>\n<p>I found out that on MacOS a system signal received by a thread waiting with <code>pthread_cond_wait</code> will cause the function to return. I started writing a solution similar to the Java one based on this mechanism only to find out that <code>pthread_cond_wait</code> doesn't return on Linux, and I need my code to work on both OSes.</p>\n"},{"tags":["java","postgresql","hibernate","kotlin"],"answers":[{"tags":[],"owner":{"account_id":2087360,"reputation":1548,"user_id":1857998,"accept_rate":86,"display_name":"kolisko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692804957,"creation_date":1692804957,"answer_id":76962896,"question_id":76955544,"body_markdown":"Missing `@Transactional` annotation on the &#39;client&#39; function &#129327;","title":"Hibernate inheritance: LazyInitializationException: could not initialize proxy - no Session","body":"<p>Missing <code>@Transactional</code> annotation on the 'client' function 🤯</p>\n"}],"owner":{"account_id":2087360,"reputation":1548,"user_id":1857998,"accept_rate":86,"display_name":"kolisko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692804957,"creation_date":1692724544,"question_id":76955544,"body_markdown":"I have `ParentRepository` for `ParentEntity`ies. `Child1Entity` and `Child2Entity` inherites from `ParentEntity`. `Child1Entity` has `@OneToOne` lazy association to `OutputFileEntity`. \r\n\r\n`ParentEntity` has only `id` field.\r\n\r\nIs possible to fetch the `outputFile` somehow? I need that the repository returns the `ParentEntity` type and I need to keep lazy association to `OutputFileEntity`\r\n\r\nStack: Kotlin, Micronaut, Hibernate, Postgres\r\n\r\nIt works well on H2 in `@Test` but on Postresql I have got error\r\n\r\n```\r\n@Repository\r\ninterface ParentRepository : CrudRepository&lt;ParentEntity, Long&gt; {\r\n\r\n    @Query(\r\n        &quot;&quot;&quot;\r\n        SELECT DISTINCT p FROM ParentEntity p \r\n        LEFT JOIN Child1Entity ch1 ON p.id = ch1.id\r\n        LEFT JOIN Child2Entity ch2 ON p.id = ch2.id\r\n        LEFT JOIN ch1.outputFile outputFile\r\n        &quot;&quot;&quot;\r\n    )\r\n    fun getParents(pageable: Pageable): Page&lt;ParentEntity&gt;\r\n}\r\n```\r\n\r\nerror is only on Postresql when trying to access `outputFile`:\r\n\r\n```\r\norg.hibernate.LazyInitializationException: could not initialize proxy [xxxxxx.OutputFileEntity#302] - no Session\r\n```\r\n\r\nMore info\r\n\r\n```\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n@SequenceGenerator(name = ParentEntity.GENERATOR_NAME, sequenceName = ParentEntity.SEQUENCE_NAME, allocationSize = 1)\r\nabstract class ParentEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = GENERATOR_NAME)\r\n    var id: Long = 0\r\n\r\n    // static fields\r\n    companion object {\r\n        const val SEQUENCE_NAME = &quot;generic_parent_id_seq&quot;\r\n        const val GENERATOR_NAME = &quot;${SEQUENCE_NAME}_gen&quot;\r\n    }\r\n}\r\n\r\n@Entity\r\n@Table(name = TABLE_NAME)\r\nclass Child1Entity(\r\n\r\n    val abc1: String? = null,\r\n\r\n    @OneToOne(\r\n        cascade = [CascadeType.ALL],\r\n        fetch = FetchType.LAZY,\r\n        orphanRemoval = true\r\n    )\r\n    val outputFile: OutputFileEntity,\r\n\r\n    ) : ParentEntity() {\r\n\r\n    // static fields\r\n    companion object {\r\n        const val TABLE_NAME = &quot;child1&quot;\r\n    }\r\n}\r\n\r\n@Entity\r\n@Table(name = TABLE_NAME)\r\nclass Child2Entity(\r\n\r\n    val abc2: String? = null,\r\n\r\n    ) : ParentEntity() {\r\n\r\n    // static fields\r\n    companion object {\r\n        const val TABLE_NAME = &quot;child2&quot;\r\n    }\r\n}\r\n```\r\n\r\nwhen I added `FETCH` to repository:\r\n\r\n\r\n```\r\n        SELECT DISTINCT p FROM ParentEntity p \r\n        LEFT JOIN Child1Entity ch1 ON p.id = ch1.id\r\n        LEFT JOIN Child2Entity ch2 ON p.id = ch2.id\r\n        LEFT JOIN FETCH ch1.outputFile outputFile\r\n```\r\n\r\nI have got this error\r\n\r\n```\r\norg.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=outputFile,role=xxxxx.Child1Entity.outputFile,tableName=output_file,tableAlias=outputfile3_,origin=child1,columns={child1_.output_file_id,className=xxxx.OutputFileEntity}}]\r\n\tat org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:230)\r\n\tat org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:1039)\r\n\tat org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:807)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:703)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339)\r\n\tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)\r\n```\r\n\r\nSo I tried to add child entities to select list\r\n\r\n\r\n```\r\n        SELECT  p, ch1, ch2 FROM ParentEntity p \r\n        LEFT JOIN Child1Entity ch1 ON p.id = ch1.id\r\n        LEFT JOIN Child2Entity ch2 ON p.id = ch2.id\r\n        LEFT JOIN FETCH ch1.outputFile outputFile\r\n```\r\n\r\nbut got\r\n\r\n```\r\n.IllegalArgumentException: Cannot create TypedQuery for query with more than one return using requested result type [xxxxx.ParentEntity]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.resultClassChecking(AbstractSharedSessionContract.java:894)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:849)\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114)\r\n```\r\n\r\n","title":"Hibernate inheritance: LazyInitializationException: could not initialize proxy - no Session","body":"<p>I have <code>ParentRepository</code> for <code>ParentEntity</code>ies. <code>Child1Entity</code> and <code>Child2Entity</code> inherites from <code>ParentEntity</code>. <code>Child1Entity</code> has <code>@OneToOne</code> lazy association to <code>OutputFileEntity</code>.</p>\n<p><code>ParentEntity</code> has only <code>id</code> field.</p>\n<p>Is possible to fetch the <code>outputFile</code> somehow? I need that the repository returns the <code>ParentEntity</code> type and I need to keep lazy association to <code>OutputFileEntity</code></p>\n<p>Stack: Kotlin, Micronaut, Hibernate, Postgres</p>\n<p>It works well on H2 in <code>@Test</code> but on Postresql I have got error</p>\n<pre><code>@Repository\ninterface ParentRepository : CrudRepository&lt;ParentEntity, Long&gt; {\n\n    @Query(\n        &quot;&quot;&quot;\n        SELECT DISTINCT p FROM ParentEntity p \n        LEFT JOIN Child1Entity ch1 ON p.id = ch1.id\n        LEFT JOIN Child2Entity ch2 ON p.id = ch2.id\n        LEFT JOIN ch1.outputFile outputFile\n        &quot;&quot;&quot;\n    )\n    fun getParents(pageable: Pageable): Page&lt;ParentEntity&gt;\n}\n</code></pre>\n<p>error is only on Postresql when trying to access <code>outputFile</code>:</p>\n<pre><code>org.hibernate.LazyInitializationException: could not initialize proxy [xxxxxx.OutputFileEntity#302] - no Session\n</code></pre>\n<p>More info</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@SequenceGenerator(name = ParentEntity.GENERATOR_NAME, sequenceName = ParentEntity.SEQUENCE_NAME, allocationSize = 1)\nabstract class ParentEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = GENERATOR_NAME)\n    var id: Long = 0\n\n    // static fields\n    companion object {\n        const val SEQUENCE_NAME = &quot;generic_parent_id_seq&quot;\n        const val GENERATOR_NAME = &quot;${SEQUENCE_NAME}_gen&quot;\n    }\n}\n\n@Entity\n@Table(name = TABLE_NAME)\nclass Child1Entity(\n\n    val abc1: String? = null,\n\n    @OneToOne(\n        cascade = [CascadeType.ALL],\n        fetch = FetchType.LAZY,\n        orphanRemoval = true\n    )\n    val outputFile: OutputFileEntity,\n\n    ) : ParentEntity() {\n\n    // static fields\n    companion object {\n        const val TABLE_NAME = &quot;child1&quot;\n    }\n}\n\n@Entity\n@Table(name = TABLE_NAME)\nclass Child2Entity(\n\n    val abc2: String? = null,\n\n    ) : ParentEntity() {\n\n    // static fields\n    companion object {\n        const val TABLE_NAME = &quot;child2&quot;\n    }\n}\n</code></pre>\n<p>when I added <code>FETCH</code> to repository:</p>\n<pre><code>        SELECT DISTINCT p FROM ParentEntity p \n        LEFT JOIN Child1Entity ch1 ON p.id = ch1.id\n        LEFT JOIN Child2Entity ch2 ON p.id = ch2.id\n        LEFT JOIN FETCH ch1.outputFile outputFile\n</code></pre>\n<p>I have got this error</p>\n<pre><code>org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=outputFile,role=xxxxx.Child1Entity.outputFile,tableName=output_file,tableAlias=outputfile3_,origin=child1,columns={child1_.output_file_id,className=xxxx.OutputFileEntity}}]\n    at org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:230)\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:1039)\n    at org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:807)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:703)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339)\n    at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192)\n</code></pre>\n<p>So I tried to add child entities to select list</p>\n<pre><code>        SELECT  p, ch1, ch2 FROM ParentEntity p \n        LEFT JOIN Child1Entity ch1 ON p.id = ch1.id\n        LEFT JOIN Child2Entity ch2 ON p.id = ch2.id\n        LEFT JOIN FETCH ch1.outputFile outputFile\n</code></pre>\n<p>but got</p>\n<pre><code>.IllegalArgumentException: Cannot create TypedQuery for query with more than one return using requested result type [xxxxx.ParentEntity]\n    at org.hibernate.internal.AbstractSharedSessionContract.resultClassChecking(AbstractSharedSessionContract.java:894)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:849)\n    at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114)\n</code></pre>\n"},{"tags":["java","android","navigation-drawer","android-gradle-plugin-8.0"],"answers":[{"comments":[{"owner":{"account_id":18759984,"reputation":336,"user_id":13679141,"display_name":"D4rK"},"score":0,"creation_date":1631202904,"post_id":69120965,"comment_id":122165562,"body_markdown":"Cool! Worked but now the problem is when I want to use the navigation drawer button app instantly crashing. I just added before first value `if (item.getItemId/...` value `MenuItem item = null;\n            assert false;` XD","body":"Cool! Worked but now the problem is when I want to use the navigation drawer button app instantly crashing. I just added before first value <code>if (item.getItemId&#47;...</code> value <code>MenuItem item = null;             assert false;</code> XD"},{"owner":{"account_id":15212304,"reputation":772,"user_id":10976668,"display_name":"Sergio Pardo"},"score":1,"creation_date":1631295539,"post_id":69120965,"comment_id":122192462,"body_markdown":"I&#180;m a little confused haha, if you placed the item = null , and then you call item.getItemId, you would get a null pointer exception, but I see no point in doing that. Maybe you are trying to create a variable to access it , so you should do something like: Int itemId= item.getIgemId(); if(itemId == ....","body":"I&#180;m a little confused haha, if you placed the item = null , and then you call item.getItemId, you would get a null pointer exception, but I see no point in doing that. Maybe you are trying to create a variable to access it , so you should do something like: Int itemId= item.getIgemId(); if(itemId == ...."}],"tags":[],"owner":{"account_id":15212304,"reputation":772,"user_id":10976668,"display_name":"Sergio Pardo"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1631201284,"creation_date":1631201284,"answer_id":69120965,"question_id":69120822,"body_markdown":"On the after code that you posted, there is no need anymore for the switch.\r\n\r\nIt should work only by writing the following:\r\n\r\n                if (item.getItemId() == R.id.nav_drawer_settings) {\r\n                    Intent intent = new Intent (MainActivity.this, SettingsActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_whitelist) {\r\n                    Intent intent = new Intent (MainActivity.this, WhitelistActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_clipboard_cleaner) {\r\n                    Intent intent = new Intent (MainActivity.this, ClipboardActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_invalid_media_cleaner) {\r\n                    Intent intent = new Intent (MainActivity.this, InvalidActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_about) {\r\n                    Intent intent = new Intent (MainActivity.this, AboutActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_support) {\r\n                    Intent openURL = new Intent(Intent.ACTION_VIEW);\r\n                    openURL.setData(Uri.parse(&quot;https://www.paypal.me/d4rkmichaeltutorials&quot;));\r\n                    startActivity(openURL);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_share) {\r\n                    Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\r\n                    sharingIntent.setType(&quot;text/plain&quot;);\r\n                    String shareBody =  &quot;https://play.google.com/store/apps/details?id=com.d4rk.cleaner&quot;;\r\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,&quot;Try right now!&quot;);\r\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareBody);\r\n                    startActivity(Intent.createChooser(sharingIntent, &quot;Share using...&quot;));\r\n                }","title":"Resource IDs will be non-final by default in Android Gradle Plugin version 8.0, avoid using them in switch case statements","body":"<p>On the after code that you posted, there is no need anymore for the switch.</p>\n<p>It should work only by writing the following:</p>\n<pre><code>            if (item.getItemId() == R.id.nav_drawer_settings) {\n                Intent intent = new Intent (MainActivity.this, SettingsActivity.class);\n                startActivity(intent);\n            }\n            if (item.getItemId() == R.id.nav_drawer_whitelist) {\n                Intent intent = new Intent (MainActivity.this, WhitelistActivity.class);\n                startActivity(intent);\n            }\n            if (item.getItemId() == R.id.nav_drawer_clipboard_cleaner) {\n                Intent intent = new Intent (MainActivity.this, ClipboardActivity.class);\n                startActivity(intent);\n            }\n            if (item.getItemId() == R.id.nav_drawer_invalid_media_cleaner) {\n                Intent intent = new Intent (MainActivity.this, InvalidActivity.class);\n                startActivity(intent);\n            }\n            if (item.getItemId() == R.id.nav_drawer_about) {\n                Intent intent = new Intent (MainActivity.this, AboutActivity.class);\n                startActivity(intent);\n            }\n            if (item.getItemId() == R.id.nav_drawer_support) {\n                Intent openURL = new Intent(Intent.ACTION_VIEW);\n                openURL.setData(Uri.parse(&quot;https://www.paypal.me/d4rkmichaeltutorials&quot;));\n                startActivity(openURL);\n            }\n            if (item.getItemId() == R.id.nav_drawer_share) {\n                Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\n                sharingIntent.setType(&quot;text/plain&quot;);\n                String shareBody =  &quot;https://play.google.com/store/apps/details?id=com.d4rk.cleaner&quot;;\n                sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,&quot;Try right now!&quot;);\n                sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareBody);\n                startActivity(Intent.createChooser(sharingIntent, &quot;Share using...&quot;));\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6093382,"reputation":117,"user_id":4754977,"accept_rate":100,"display_name":"Sunil Bhagwat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659024085,"creation_date":1659024085,"answer_id":73155831,"question_id":69120822,"body_markdown":"even if you put case R.id.nav_drawer_settings: AS case (R.id.nav_drawer_settings): in bracket it will work","title":"Resource IDs will be non-final by default in Android Gradle Plugin version 8.0, avoid using them in switch case statements","body":"<p>even if you put case R.id.nav_drawer_settings: AS case (R.id.nav_drawer_settings): in bracket it will work</p>\n"},{"comments":[{"owner":{"account_id":3078852,"reputation":3366,"user_id":2607567,"accept_rate":85,"display_name":"JacksOnF1re"},"score":3,"creation_date":1689174256,"post_id":74098027,"comment_id":135176790,"body_markdown":"I guess you should not disable the lint warnings for this. Either handle it or disable android.nonFinalResIds in gradle.","body":"I guess you should not disable the lint warnings for this. Either handle it or disable android.nonFinalResIds in gradle."}],"tags":[],"owner":{"account_id":7395335,"reputation":503,"user_id":5627467,"display_name":"Baccata"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1666013009,"creation_date":1666013009,"answer_id":74098027,"question_id":69120822,"body_markdown":"If one **just** wants to suppress this warning for the whole application, add this to ones `build.gradle` file:\r\n\r\n    android {\r\n      lintOptions {\r\n        disable &#39;NonConstantResourceId&#39;\r\n      }\r\n    }","title":"Resource IDs will be non-final by default in Android Gradle Plugin version 8.0, avoid using them in switch case statements","body":"<p>If one <strong>just</strong> wants to suppress this warning for the whole application, add this to ones <code>build.gradle</code> file:</p>\n<pre><code>android {\n  lintOptions {\n    disable 'NonConstantResourceId'\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9984377,"reputation":2086,"user_id":7386152,"accept_rate":52,"display_name":"Learn2Code"},"score":0,"creation_date":1701536909,"post_id":76128548,"comment_id":136789156,"body_markdown":"Where in the gradle file?","body":"Where in the gradle file?"}],"tags":[],"owner":{"account_id":300884,"reputation":30561,"user_id":1071320,"accept_rate":88,"display_name":"Adil Hussain"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1692804810,"creation_date":1682676661,"answer_id":76128548,"question_id":69120822,"body_markdown":"You can override the new default behaviour for resource IDs in your project by adding the following property to your `gradle.properties` file:\r\n\r\n```\r\nandroid.nonFinalResIds=false\r\n```\r\n\r\nSee [Android Gradle plugin 8.0.0 (April 2023) &gt; Breaking changes: build option default values][1] for the full list of build options which have new default values as of Android Gradle Plugin 8.0.0.\r\n\r\n\r\n  [1]: https://developer.android.com/build/releases/past-releases/agp-8-0-0-release-notes#default-changes","title":"Resource IDs will be non-final by default in Android Gradle Plugin version 8.0, avoid using them in switch case statements","body":"<p>You can override the new default behaviour for resource IDs in your project by adding the following property to your <code>gradle.properties</code> file:</p>\n<pre><code>android.nonFinalResIds=false\n</code></pre>\n<p>See <a href=\"https://developer.android.com/build/releases/past-releases/agp-8-0-0-release-notes#default-changes\" rel=\"nofollow noreferrer\">Android Gradle plugin 8.0.0 (April 2023) &gt; Breaking changes: build option default values</a> for the full list of build options which have new default values as of Android Gradle Plugin 8.0.0.</p>\n"}],"owner":{"account_id":18759984,"reputation":336,"user_id":13679141,"display_name":"D4rK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10376,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":69120965,"answer_count":4,"score":12,"last_activity_date":1692804810,"creation_date":1631200768,"question_id":69120822,"body_markdown":"I have a warning in Android Studio about my navigation drawer resources. Warning is:\r\n\r\n&gt; Resource IDs will be non-final by default in Android Gradle Plugin version 8.0, avoid using them in switch case statements.\r\n\r\nI tried to use the method `if` to update my code but I won&#39;t &#39;converted right&#39;. I found on the internet this [article](https://sites.google.com/a/android.com/tools/tips/non-constant-fields &quot;Hope it helps&quot;) to help me to convert my code but it seem not work for me. I want to know if I miss something.\r\n\r\nDown below is before and after to make an idea and [here](https://github.com/D4rK7355608/com.d4rk.cleaner/blob/master/app/src/main/java/com/d4rk/cleaner/MainActivity.java &quot;MainActivity.java&quot;) is my full activity because I saw lot of people have this after used ```public void onClick...``` and I don&#39;t use it. I have ```navigationView.setNavigationItemSelectedListener(menuItem -&gt; {```.\r\n\r\n### Before\r\n\r\n```\r\nnavigationView.setNavigationItemSelectedListener(menuItem -&gt; {\r\nswitch (menuItem.getItemId())\r\n            {\r\n                case R.id.nav_drawer_settings:\r\n                    Intent intent = new Intent (MainActivity.this, SettingsActivity.class);\r\n                    startActivity(intent);\r\n                    break;\r\n                case R.id.nav_drawer_whitelist:\r\n                    intent = new Intent (MainActivity.this, WhitelistActivity.class);\r\n                    startActivity(intent);\r\n                    break;\r\n                case R.id.nav_drawer_clipboard_cleaner:\r\n                    intent = new Intent (MainActivity.this, ClipboardActivity.class);\r\n                    startActivity(intent);\r\n                    break;\r\n                case R.id.nav_drawer_invalid_media_cleaner:\r\n                    intent = new Intent (MainActivity.this, InvalidActivity.class);\r\n                    startActivity(intent);\r\n                    break;\r\n                case R.id.nav_drawer_about:\r\n                    intent = new Intent (MainActivity.this, AboutActivity.class);\r\n                    startActivity(intent);\r\n                    break;\r\n                case R.id.nav_drawer_support:\r\n                    Intent newIntent = new Intent(android.content.Intent.ACTION_VIEW,\r\n                            Uri.parse(&quot;https://www.paypal.me/d4rkmichaeltutorials&quot;));\r\n                    startActivity(newIntent);\r\n                    break;\r\n                case  R.id.nav_drawer_share:{\r\n                    Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\r\n                    sharingIntent.setType(&quot;text/plain&quot;);\r\n                    String shareBody =  &quot;https://play.google.com/store/apps/details?id=com.d4rk.cleaner&quot;;\r\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,&quot;Try right now!&quot;);\r\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareBody);\r\n                    startActivity(Intent.createChooser(sharingIntent, &quot;Share using...&quot;));\r\n                }\r\n                break;\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n```\r\n\r\n### After\r\n\r\n```\r\nnavigationView.setNavigationItemSelectedListener(menuItem -&gt; {\r\nswitch (view.getId()) {\r\n                if (item.getItemId() == R.id.nav_drawer_settings) {\r\n                    Intent intent = new Intent (MainActivity.this, SettingsActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_whitelist) {\r\n                    Intent intent = new Intent (MainActivity.this, WhitelistActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_clipboard_cleaner) {\r\n                    Intent intent = new Intent (MainActivity.this, ClipboardActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_invalid_media_cleaner) {\r\n                    Intent intent = new Intent (MainActivity.this, InvalidActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_about) {\r\n                    Intent intent = new Intent (MainActivity.this, AboutActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_support) {\r\n                    Intent openURL = new Intent(Intent.ACTION_VIEW);\r\n                    openURL.setData(Uri.parse(&quot;https://www.paypal.me/d4rkmichaeltutorials&quot;));\r\n                    startActivity(openURL);\r\n                }\r\n                if (item.getItemId() == R.id.nav_drawer_share) {\r\n                    Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\r\n                    sharingIntent.setType(&quot;text/plain&quot;);\r\n                    String shareBody =  &quot;https://play.google.com/store/apps/details?id=com.d4rk.cleaner&quot;;\r\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,&quot;Try right now!&quot;);\r\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareBody);\r\n                    startActivity(Intent.createChooser(sharingIntent, &quot;Share using...&quot;));\r\n                }\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n```\r\n\r\nThanks in advance! :D","title":"Resource IDs will be non-final by default in Android Gradle Plugin version 8.0, avoid using them in switch case statements","body":"<p>I have a warning in Android Studio about my navigation drawer resources. Warning is:</p>\n<blockquote>\n<p>Resource IDs will be non-final by default in Android Gradle Plugin version 8.0, avoid using them in switch case statements.</p>\n</blockquote>\n<p>I tried to use the method <code>if</code> to update my code but I won't 'converted right'. I found on the internet this <a href=\"https://sites.google.com/a/android.com/tools/tips/non-constant-fields\" rel=\"nofollow noreferrer\" title=\"Hope it helps\">article</a> to help me to convert my code but it seem not work for me. I want to know if I miss something.</p>\n<p>Down below is before and after to make an idea and <a href=\"https://github.com/D4rK7355608/com.d4rk.cleaner/blob/master/app/src/main/java/com/d4rk/cleaner/MainActivity.java\" rel=\"nofollow noreferrer\" title=\"MainActivity.java\">here</a> is my full activity because I saw lot of people have this after used <code>public void onClick...</code> and I don't use it. I have <code>navigationView.setNavigationItemSelectedListener(menuItem -&gt; {</code>.</p>\n<h3>Before</h3>\n<pre><code>navigationView.setNavigationItemSelectedListener(menuItem -&gt; {\nswitch (menuItem.getItemId())\n            {\n                case R.id.nav_drawer_settings:\n                    Intent intent = new Intent (MainActivity.this, SettingsActivity.class);\n                    startActivity(intent);\n                    break;\n                case R.id.nav_drawer_whitelist:\n                    intent = new Intent (MainActivity.this, WhitelistActivity.class);\n                    startActivity(intent);\n                    break;\n                case R.id.nav_drawer_clipboard_cleaner:\n                    intent = new Intent (MainActivity.this, ClipboardActivity.class);\n                    startActivity(intent);\n                    break;\n                case R.id.nav_drawer_invalid_media_cleaner:\n                    intent = new Intent (MainActivity.this, InvalidActivity.class);\n                    startActivity(intent);\n                    break;\n                case R.id.nav_drawer_about:\n                    intent = new Intent (MainActivity.this, AboutActivity.class);\n                    startActivity(intent);\n                    break;\n                case R.id.nav_drawer_support:\n                    Intent newIntent = new Intent(android.content.Intent.ACTION_VIEW,\n                            Uri.parse(&quot;https://www.paypal.me/d4rkmichaeltutorials&quot;));\n                    startActivity(newIntent);\n                    break;\n                case  R.id.nav_drawer_share:{\n                    Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\n                    sharingIntent.setType(&quot;text/plain&quot;);\n                    String shareBody =  &quot;https://play.google.com/store/apps/details?id=com.d4rk.cleaner&quot;;\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,&quot;Try right now!&quot;);\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareBody);\n                    startActivity(Intent.createChooser(sharingIntent, &quot;Share using...&quot;));\n                }\n                break;\n            }\n            return false;\n        });\n    }\n</code></pre>\n<h3>After</h3>\n<pre><code>navigationView.setNavigationItemSelectedListener(menuItem -&gt; {\nswitch (view.getId()) {\n                if (item.getItemId() == R.id.nav_drawer_settings) {\n                    Intent intent = new Intent (MainActivity.this, SettingsActivity.class);\n                    startActivity(intent);\n                }\n                if (item.getItemId() == R.id.nav_drawer_whitelist) {\n                    Intent intent = new Intent (MainActivity.this, WhitelistActivity.class);\n                    startActivity(intent);\n                }\n                if (item.getItemId() == R.id.nav_drawer_clipboard_cleaner) {\n                    Intent intent = new Intent (MainActivity.this, ClipboardActivity.class);\n                    startActivity(intent);\n                }\n                if (item.getItemId() == R.id.nav_drawer_invalid_media_cleaner) {\n                    Intent intent = new Intent (MainActivity.this, InvalidActivity.class);\n                    startActivity(intent);\n                }\n                if (item.getItemId() == R.id.nav_drawer_about) {\n                    Intent intent = new Intent (MainActivity.this, AboutActivity.class);\n                    startActivity(intent);\n                }\n                if (item.getItemId() == R.id.nav_drawer_support) {\n                    Intent openURL = new Intent(Intent.ACTION_VIEW);\n                    openURL.setData(Uri.parse(&quot;https://www.paypal.me/d4rkmichaeltutorials&quot;));\n                    startActivity(openURL);\n                }\n                if (item.getItemId() == R.id.nav_drawer_share) {\n                    Intent sharingIntent = new Intent(android.content.Intent.ACTION_SEND);\n                    sharingIntent.setType(&quot;text/plain&quot;);\n                    String shareBody =  &quot;https://play.google.com/store/apps/details?id=com.d4rk.cleaner&quot;;\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_SUBJECT,&quot;Try right now!&quot;);\n                    sharingIntent.putExtra(android.content.Intent.EXTRA_TEXT, shareBody);\n                    startActivity(Intent.createChooser(sharingIntent, &quot;Share using...&quot;));\n                }\n            }\n            return false;\n        });\n    }\n</code></pre>\n<p>Thanks in advance! :D</p>\n"},{"tags":["java","arrays","list","arraylist"],"comments":[{"owner":{"account_id":76141,"reputation":801361,"user_id":218196,"accept_rate":100,"display_name":"Felix Kling"},"score":1,"creation_date":1296390875,"post_id":4842883,"comment_id":5376700,"body_markdown":"possible duplicate of [Benefits of arrays](http://stackoverflow.com/questions/2843928/benefits-of-arrays). In general, you will already find a lot of ArrayList vs Array questions here.","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2843928/benefits-of-arrays\">Benefits of arrays</a>. In general, you will already find a lot of ArrayList vs Array questions here."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296405839,"post_id":4842883,"comment_id":5378515,"body_markdown":"why don&#39;t you merge and delete this one?","body":"why don&#39;t you merge and delete this one?"}],"answers":[{"tags":[],"owner":{"account_id":157346,"reputation":54254,"user_id":375232,"accept_rate":100,"display_name":"Landei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692804701,"creation_date":1296391317,"answer_id":4842929,"question_id":4842883,"body_markdown":"Generally arrays have their problems, e.g. type safety:\r\n\r\n    Integer[] ints = new Integer[10];\r\n    Number[] nums = ints; //that shouldn&#39;t be allowed\r\n    nums[3] = Double.valueOf[3.14]; //Ouch!\r\n\r\nThey don&#39;t play well with collections, either. So generelly you should prefer Collections over arrays. There are just a few things where arrays may be more convenient. As you already say primitive types would be a reason (although you could consider using collection-like libs like [Trove][1]). If the array is hidden in an object and doesn&#39;t need to change its size, it&#39;s OK to use arrays, especially if you need all performance you can get (say 3D and 4D Vectors and Matrices for 3D graphics). Another reason for using arrays may be if your API has lots of varargs methods.\r\n\r\nBTW: There is a cute trick using an array if you need mutable variables for anonymous classes:\r\n\r\n    public void f() {\r\n       final int[] a = new int[1];\r\n       new Thread(new Runnable() {\r\n          public void run() {\r\n             while(true) {\r\n                System.out.println(a[0]++);\r\n             }\r\n          }    \r\n       }).start();  \r\n    }\r\n\r\nNote that you can&#39;t replace the array with an int variable, as it must be (effectively) final.\r\n\r\n\r\n  [1]: http://trove.starlight-systems.com/","title":"Are there reasons to prefer Arrays over ArrayLists?","body":"<p>Generally arrays have their problems, e.g. type safety:</p>\n<pre><code>Integer[] ints = new Integer[10];\nNumber[] nums = ints; //that shouldn't be allowed\nnums[3] = Double.valueOf[3.14]; //Ouch!\n</code></pre>\n<p>They don't play well with collections, either. So generelly you should prefer Collections over arrays. There are just a few things where arrays may be more convenient. As you already say primitive types would be a reason (although you could consider using collection-like libs like <a href=\"http://trove.starlight-systems.com/\" rel=\"nofollow noreferrer\">Trove</a>). If the array is hidden in an object and doesn't need to change its size, it's OK to use arrays, especially if you need all performance you can get (say 3D and 4D Vectors and Matrices for 3D graphics). Another reason for using arrays may be if your API has lots of varargs methods.</p>\n<p>BTW: There is a cute trick using an array if you need mutable variables for anonymous classes:</p>\n<pre><code>public void f() {\n   final int[] a = new int[1];\n   new Thread(new Runnable() {\n      public void run() {\n         while(true) {\n            System.out.println(a[0]++);\n         }\n      }    \n   }).start();  \n}\n</code></pre>\n<p>Note that you can't replace the array with an int variable, as it must be (effectively) final.</p>\n"},{"tags":[],"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296392301,"creation_date":1296391370,"answer_id":4842932,"question_id":4842883,"body_markdown":"one for you: \r\n\r\nsorting List (via j.u.Collections) are first transformed to [], then sorted (which clones the [] once again for the merge sort) and then put back to List. \r\nYou do understand that ArrayList has a backing Object[] under the cover. \r\n\r\nBack in the day there was a case ArrayList.get was not inlined by -client hotspot compiler but now I think that&#39;s fixed. Thus, performance issue using ArrayList compared to Object[] is not so tough, the case cast to the appropriate type still costs a few clocks (but it should be 99.99% of the times predicted by the CPU); accessing the elements of the ArrayList may cost one more cache-miss more and so (or the 1st access mostly)\r\n\r\n\r\nSo it does depend what you do w/ your code in the end. \r\n\r\n**Edit**\r\nForgot you can have *atomic* access to the elements of the array (i.e. CAS stuff), one impl is j.u.c.atomic.AtomicReferenceArray. It&#39;s not the most practical ones since it doesn&#39;t allow CAS of Objec[][] but Unsafe comes to the rescue.","title":"Are there reasons to prefer Arrays over ArrayLists?","body":"<p>one for you: </p>\n\n<p>sorting List (via j.u.Collections) are first transformed to [], then sorted (which clones the [] once again for the merge sort) and then put back to List. \nYou do understand that ArrayList has a backing Object[] under the cover. </p>\n\n<p>Back in the day there was a case ArrayList.get was not inlined by -client hotspot compiler but now I think that's fixed. Thus, performance issue using ArrayList compared to Object[] is not so tough, the case cast to the appropriate type still costs a few clocks (but it should be 99.99% of the times predicted by the CPU); accessing the elements of the ArrayList may cost one more cache-miss more and so (or the 1st access mostly)</p>\n\n<p>So it does depend what you do w/ your code in the end. </p>\n\n<p><strong>Edit</strong>\nForgot you can have <em>atomic</em> access to the elements of the array (i.e. CAS stuff), one impl is j.u.c.atomic.AtomicReferenceArray. It's not the most practical ones since it doesn't allow CAS of Objec[][] but Unsafe comes to the rescue.</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296391580,"post_id":4842936,"comment_id":5376770,"body_markdown":"&gt;&quot;The arraylist is a pretty big wrapper and has a lot of flexibility, what you do not always want.?&lt; This not true (big wrapper part, it&#39;s a thin one actually) unless there is a **lot** of extra unused space.","body":"&gt;&quot;The arraylist is a pretty big wrapper and has a lot of flexibility, what you do not always want.?&lt; This not true (big wrapper part, it&#39;s a thin one actually) unless there is a <b>lot</b> of extra unused space."},{"owner":{"account_id":150205,"reputation":6469,"user_id":363224,"accept_rate":81,"display_name":"Marnix"},"score":0,"creation_date":1296391727,"post_id":4842936,"comment_id":5376791,"body_markdown":"@bestsss ArrayLists create arrays that have extra capacity. So yes, there is extra space used, which was maybe not needed in the first place. Depending on the type of objects you put into the arraylist, the arraylist becomes larger by the extra capacity.","body":"@bestsss ArrayLists create arrays that have extra capacity. So yes, there is extra space used, which was maybe not needed in the first place. Depending on the type of objects you put into the arraylist, the arraylist becomes larger by the extra capacity."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1296392004,"post_id":4842936,"comment_id":5376829,"body_markdown":"&gt;Depending on the type of objects you put into the arraylist, the arraylist becomes larger by the extra capacity&lt; not true either, the extra space represents references only (i.e. 4/8 bytes on 32/64). Plus, you can always use trimToSize() if you want to have the exactly memory (plus one int (4/8bytes) and one object header more ~24bytes or so) allocated as Object[]. Here is a link: http://stackoverflow.com/questions/4739947/what-is-the-memory-size-of-a-arraylist-in-java/4739986#4739986","body":"&gt;Depending on the type of objects you put into the arraylist, the arraylist becomes larger by the extra capacity&lt; not true either, the extra space represents references only (i.e. 4/8 bytes on 32/64). Plus, you can always use trimToSize() if you want to have the exactly memory (plus one int (4/8bytes) and one object header more ~24bytes or so) allocated as Object[]. Here is a link: <a href=\"http://stackoverflow.com/questions/4739947/what-is-the-memory-size-of-a-arraylist-in-java/4739986#4739986\" title=\"what is the memory size of a arraylist in java\">stackoverflow.com/questions/4739947/&hellip;</a>"}],"tags":[],"owner":{"account_id":150205,"reputation":6469,"user_id":363224,"accept_rate":81,"display_name":"Marnix"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296391394,"creation_date":1296391394,"answer_id":4842936,"question_id":4842883,"body_markdown":"I think that the main difference of an array and a list is, that an array has a fixed length. Once it&#39;s full, it&#39;s full. ArrayLists have a flexible length and do use arrays to be implemented. When the arrayList is out of capacity, the data gets copied to another array with a larger capacity (that&#39;s what I was taught once).\r\n\r\nAn array can still be used, if you have your data length fixed. Because arrays are pretty primitive, they don&#39;t have much methods to call and all. The advantage of using these arrays is not so big anymore, because the arrayLists are just good wrappers for what you want in Java or any other language.\r\n\r\nI think you can even set a fixed capacity to arraylists nowadays, so even that advantage collapses.\r\n\r\nSo is there any reason to prefer them? No probably not, but it does make sure that you have just a little more space in your memory, because of the basic functionality. The arraylist is a pretty big wrapper and has a lot of flexibility, what you do not always want.","title":"Are there reasons to prefer Arrays over ArrayLists?","body":"<p>I think that the main difference of an array and a list is, that an array has a fixed length. Once it's full, it's full. ArrayLists have a flexible length and do use arrays to be implemented. When the arrayList is out of capacity, the data gets copied to another array with a larger capacity (that's what I was taught once).</p>\n\n<p>An array can still be used, if you have your data length fixed. Because arrays are pretty primitive, they don't have much methods to call and all. The advantage of using these arrays is not so big anymore, because the arrayLists are just good wrappers for what you want in Java or any other language.</p>\n\n<p>I think you can even set a fixed capacity to arraylists nowadays, so even that advantage collapses.</p>\n\n<p>So is there any reason to prefer them? No probably not, but it does make sure that you have just a little more space in your memory, because of the basic functionality. The arraylist is a pretty big wrapper and has a lot of flexibility, what you do not always want.</p>\n"},{"tags":[],"owner":{"account_id":42964,"reputation":26240,"user_id":125382,"accept_rate":91,"display_name":"MAK"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1399916266,"creation_date":1296391618,"answer_id":4842950,"question_id":4842883,"body_markdown":"I prefer to use `Array`s over `ArrayList`s whenever I know I am only going to work with a fixed number of elements. My reasons are mostly subjective, but I&#39;m listing them here anyway:\r\n\r\n1. Using `Collection` classes for primitives is appreciably slower since they have to use autoboxing and wrappers.\r\n\r\n2. I prefer the more straightforward `[]` syntax for accessing elements over `ArrayList`&#39;s `get()`. This really becomes more important when I need multidimensional arrays.\r\n\r\n3. `ArrayList`s usually allocate about twice the memory you need now in advance so that you can append items very fast. So there is wastage if you are never going to add any more items.\r\n\r\n4. (Possibly related to the previous point) I think `ArrayList` accesses are slower than plain arrays in general. The `ArrayList` implementation uses an underlying array, but all accesses have to go through the `get()`, `set()`, `remove()`, etc. methods which means it goes through more code than a simple array access. But I have not actually tested the difference so I may be wrong.\r\n\r\nHaving said that, I think the choice actually depends on what you need it for. If you need a fixed number of elements or if you are going to use multiple dimensions, I would suggest a plain array. But if you need a simple random access list and are going to be making a lot of inserts and removals to it, it just makes a lot more sense to use an `Arraylist`","title":"Are there reasons to prefer Arrays over ArrayLists?","body":"<p>I prefer to use <code>Array</code>s over <code>ArrayList</code>s whenever I know I am only going to work with a fixed number of elements. My reasons are mostly subjective, but I'm listing them here anyway:</p>\n\n<ol>\n<li><p>Using <code>Collection</code> classes for primitives is appreciably slower since they have to use autoboxing and wrappers.</p></li>\n<li><p>I prefer the more straightforward <code>[]</code> syntax for accessing elements over <code>ArrayList</code>'s <code>get()</code>. This really becomes more important when I need multidimensional arrays.</p></li>\n<li><p><code>ArrayList</code>s usually allocate about twice the memory you need now in advance so that you can append items very fast. So there is wastage if you are never going to add any more items.</p></li>\n<li><p>(Possibly related to the previous point) I think <code>ArrayList</code> accesses are slower than plain arrays in general. The <code>ArrayList</code> implementation uses an underlying array, but all accesses have to go through the <code>get()</code>, <code>set()</code>, <code>remove()</code>, etc. methods which means it goes through more code than a simple array access. But I have not actually tested the difference so I may be wrong.</p></li>\n</ol>\n\n<p>Having said that, I think the choice actually depends on what you need it for. If you need a fixed number of elements or if you are going to use multiple dimensions, I would suggest a plain array. But if you need a simple random access list and are going to be making a lot of inserts and removals to it, it just makes a lot more sense to use an <code>Arraylist</code></p>\n"}],"owner":{"account_id":704148,"reputation":241,"user_id":595760,"display_name":"BrokenClockwork"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43026,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"closed_date":1296391641,"answer_count":4,"score":24,"last_activity_date":1692804701,"creation_date":1296390507,"question_id":4842883,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Benefits of arrays](https://stackoverflow.com/questions/2843928/benefits-of-arrays)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nHey there,\r\n\r\nare there any reasons to prefer `Arrays (MyObject[])` over `ArrayLists (List&lt;MyObject&gt;)`? The only left place to use Arrays is for primitive data types (int, boolean, etc.). However I have no reasonable explanation for this, it just makes the code a little bit slimmer.\r\n\r\nIn general I use List in order to maintain a better flexibility. But are there reasons left to use real Arrays?\r\n\r\nI would like to know,\r\nbest regards","title":"Are there reasons to prefer Arrays over ArrayLists?","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/2843928/benefits-of-arrays\">Benefits of arrays</a>  </p>\n</blockquote>\n\n\n\n<p>Hey there,</p>\n\n<p>are there any reasons to prefer <code>Arrays (MyObject[])</code> over <code>ArrayLists (List&lt;MyObject&gt;)</code>? The only left place to use Arrays is for primitive data types (int, boolean, etc.). However I have no reasonable explanation for this, it just makes the code a little bit slimmer.</p>\n\n<p>In general I use List in order to maintain a better flexibility. But are there reasons left to use real Arrays?</p>\n\n<p>I would like to know,\nbest regards</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1692801978,"post_id":76962467,"comment_id":135674247,"body_markdown":"doesn&#39;t the constructor `ResponseStatusException(HttpStatusCode status, String reason)` provide you the argument `reason` to pass the error message of your choice? If you add a new constructor, `public RetailIn_APIException(String message) { super(ORDER_NOT_FOUND_STATUS, message);  }` it should work","body":"doesn&#39;t the constructor <code>ResponseStatusException(HttpStatusCode status, String reason)</code> provide you the argument <code>reason</code> to pass the error message of your choice? If you add a new constructor, <code>public RetailIn_APIException(String message) { super(ORDER_NOT_FOUND_STATUS, message);  }</code> it should work"},{"owner":{"account_id":13333580,"reputation":39,"user_id":19241184,"display_name":"redbeard"},"score":0,"creation_date":1692802350,"post_id":76962467,"comment_id":135674351,"body_markdown":"adding your changes @MarcLeBihan this is the response i get:&quot;{\n    &quot;timestamp&quot;: &quot;2023-08-23T14:51:22.145+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/api/orders/8&quot;\n}&quot;","body":"adding your changes @MarcLeBihan this is the response i get:&quot;{     &quot;timestamp&quot;: &quot;2023-08-23T14:51:22.145+00:00&quot;,     &quot;status&quot;: 404,     &quot;error&quot;: &quot;Not Found&quot;,     &quot;path&quot;: &quot;/api/orders/8&quot; }&quot;"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692804296,"creation_date":1692804296,"answer_id":76962814,"question_id":76962467,"body_markdown":"Whether the message is shown in Json responses depends on the application property [server.error.include-message][1]. Since Spring Boot 2.3, by default, [the message is not shown due to security reasons][2]. If you want it to be shown, you can set the property to `always`.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.error.include-message\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content","title":"Custom Exception including messages","body":"<p>Whether the message is shown in Json responses depends on the application property <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.error.include-message\" rel=\"nofollow noreferrer\">server.error.include-message</a>. Since Spring Boot 2.3, by default, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.3-Release-Notes#changes-to-the-default-error-pages-content\" rel=\"nofollow noreferrer\">the message is not shown due to security reasons</a>. If you want it to be shown, you can set the property to <code>always</code>.</p>\n"}],"owner":{"account_id":13333580,"reputation":39,"user_id":19241184,"display_name":"redbeard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692804296,"creation_date":1692801583,"question_id":76962467,"body_markdown":"Hello i am trying to create my custom exception and i want to show me the message &quot;Order does not exist&quot; rather then &quot;Not found&quot;. I will include the source code:\r\nRetailinIn_APIException.java:\r\n\r\n    public class RetailIn_APIException extends ResponseStatusException {\r\n    \r\n        public static final HttpStatus ORDER_NOT_FOUND_STATUS = HttpStatus.NOT_FOUND;\r\n        public static final String ORDER_NOT_FOUND_MESSAGE = &quot;Order does not exist&quot;;\r\n    \r\n        public RetailIn_APIException() {\r\n            super(ORDER_NOT_FOUND_STATUS, ORDER_NOT_FOUND_MESSAGE);\r\n        }\r\n\r\nClientOrderService.java:\r\n\r\n    public Optional&lt;ClientOrder&gt; getOrderById(Long orderId) throws RetailIn_APIException {\r\n            Optional&lt;ClientOrder&gt; retrievedOrder = orderRepository.findById(orderId);\r\n            if (retrievedOrder.isPresent())\r\n                return retrievedOrder;\r\n            else\r\n                throw new RetailIn_APIException();\r\n    }\r\nClientOrderController.java:\r\n\r\n    @GetMapping(&quot;/{orderId}&quot;)\r\n        public ResponseEntity&lt;Optional&lt;ClientOrder&gt;&gt; getOrderById(@PathVariable Long orderId) throws RetailIn_APIException {\r\n    \r\n                Optional&lt;ClientOrder&gt; orderOptional = orderService.getOrderById(orderId);\r\n    \r\n                return ResponseEntity.ok(orderOptional);\r\n    \r\n        }\r\nIf you guys will help me, will it be the right way for future custom exceptions?\r\nThank you for you time and help.\r\n","title":"Custom Exception including messages","body":"<p>Hello i am trying to create my custom exception and i want to show me the message &quot;Order does not exist&quot; rather then &quot;Not found&quot;. I will include the source code:\nRetailinIn_APIException.java:</p>\n<pre><code>public class RetailIn_APIException extends ResponseStatusException {\n\n    public static final HttpStatus ORDER_NOT_FOUND_STATUS = HttpStatus.NOT_FOUND;\n    public static final String ORDER_NOT_FOUND_MESSAGE = &quot;Order does not exist&quot;;\n\n    public RetailIn_APIException() {\n        super(ORDER_NOT_FOUND_STATUS, ORDER_NOT_FOUND_MESSAGE);\n    }\n</code></pre>\n<p>ClientOrderService.java:</p>\n<pre><code>public Optional&lt;ClientOrder&gt; getOrderById(Long orderId) throws RetailIn_APIException {\n        Optional&lt;ClientOrder&gt; retrievedOrder = orderRepository.findById(orderId);\n        if (retrievedOrder.isPresent())\n            return retrievedOrder;\n        else\n            throw new RetailIn_APIException();\n}\n</code></pre>\n<p>ClientOrderController.java:</p>\n<pre><code>@GetMapping(&quot;/{orderId}&quot;)\n    public ResponseEntity&lt;Optional&lt;ClientOrder&gt;&gt; getOrderById(@PathVariable Long orderId) throws RetailIn_APIException {\n\n            Optional&lt;ClientOrder&gt; orderOptional = orderService.getOrderById(orderId);\n\n            return ResponseEntity.ok(orderOptional);\n\n    }\n</code></pre>\n<p>If you guys will help me, will it be the right way for future custom exceptions?\nThank you for you time and help.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":28769096,"reputation":29,"user_id":22033265,"display_name":"Abanoub"},"score":0,"creation_date":1688325580,"post_id":76597161,"comment_id":135055893,"body_markdown":"The **WebSecurityConfigurerAdapter** class does not exist anymore since Spring Security  5.7 and also the .and() method so this way is deprecated however thanks for considering my question .","body":"The <b>WebSecurityConfigurerAdapter</b> class does not exist anymore since Spring Security  5.7 and also the .and() method so this way is deprecated however thanks for considering my question ."}],"tags":[],"owner":{"account_id":16275872,"reputation":90,"user_id":11753047,"display_name":"Landry Toutou"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688263947,"creation_date":1688263947,"answer_id":76597161,"question_id":76596749,"body_markdown":"Try this \r\n\r\n&gt;\r\n\r\n     @AllArgsConstructor\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        private final JWTRequestFilter jwtRequestFilter;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.csrf().disable()\r\n                .cors().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n    }","title":"Spring Security v6.0 whitelist endpoints","body":"<p>Try this</p>\n<blockquote>\n</blockquote>\n<pre><code> @AllArgsConstructor\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final JWTRequestFilter jwtRequestFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n            .cors().disable()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .authorizeRequests()\n            .antMatchers(&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692804253,"creation_date":1692803945,"answer_id":76962769,"question_id":76596749,"body_markdown":"In Spring Security 6 you need two security filter chains, one configured to respond only to your whitelisted endpoints and another as a catch-all for your authenticated endpoints. Only the catch-all will add the jwt request filter to the chain.\r\n\r\nHere&#39;s the outline, adapt to your needs:\r\n\r\n```java\r\n@Configuration\r\npublic class MySecurityConfiguration {\r\n\r\n  // whitelist\r\n  @Bean\r\n  @Order(0)\r\n  public SecurityFilterChain whitelistFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n    String[] endpoints = new String[] {&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;};\r\n    \r\n    return http\r\n      .securityMatcher(endpoints)\r\n      // add other calls on the HttpSecurity object\r\n      .authorizeHttpRequests(auth -&gt; auth.requestMatchers(endpoints).permitAll())\r\n      .build();\r\n  }\r\n\r\n  // catch-all\r\n  @Bean\r\n  @Order(1)\r\n  public SecurityFilterChain catchAllFilterChain(HttpSecurity http) throws Exception {\r\n\r\n    return http\r\n      .addFilter(yourAuthFilter)\r\n      // add other calls on the HttpSecurity object\r\n      .authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated())\r\n      .build();\r\n  }\r\n}\r\n```\r\n\r\nThe key here is that the first security filter chain to be evaluated with `@Order(0)` has a `securityMatcher` call that opts-in to only the matched endpoints. This approach is better than the old `web.ignoring()` method because you can still make use of Spring&#39;s CSRF and XSS protection.\r\n","title":"Spring Security v6.0 whitelist endpoints","body":"<p>In Spring Security 6 you need two security filter chains, one configured to respond only to your whitelisted endpoints and another as a catch-all for your authenticated endpoints. Only the catch-all will add the jwt request filter to the chain.</p>\n<p>Here's the outline, adapt to your needs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MySecurityConfiguration {\n\n  // whitelist\n  @Bean\n  @Order(0)\n  public SecurityFilterChain whitelistFilterChain(HttpSecurity http) throws Exception {\n    \n    String[] endpoints = new String[] {&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;};\n    \n    return http\n      .securityMatcher(endpoints)\n      // add other calls on the HttpSecurity object\n      .authorizeHttpRequests(auth -&gt; auth.requestMatchers(endpoints).permitAll())\n      .build();\n  }\n\n  // catch-all\n  @Bean\n  @Order(1)\n  public SecurityFilterChain catchAllFilterChain(HttpSecurity http) throws Exception {\n\n    return http\n      .addFilter(yourAuthFilter)\n      // add other calls on the HttpSecurity object\n      .authorizeHttpRequests(auth -&gt; auth.anyRequest().authenticated())\n      .build();\n  }\n}\n</code></pre>\n<p>The key here is that the first security filter chain to be evaluated with <code>@Order(0)</code> has a <code>securityMatcher</code> call that opts-in to only the matched endpoints. This approach is better than the old <code>web.ignoring()</code> method because you can still make use of Spring's CSRF and XSS protection.</p>\n"}],"owner":{"account_id":28769096,"reputation":29,"user_id":22033265,"display_name":"Abanoub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1692804253,"creation_date":1688249447,"question_id":76596749,"body_markdown":"I am trying to whitelist login and register endpoints from going through JWTRequestFilter using permitAll(); method however all the requests are going through it.\r\n\r\n```\r\npackage com.ecommerce.ecommerce.security;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.access.intercept.AuthorizationFilter;\r\n\r\n@AllArgsConstructor\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    private final JWTRequestFilter jwtRequestFilter;\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception\r\n    {\r\n        httpSecurity.csrf(AbstractHttpConfigurer::disable);\r\n        httpSecurity.cors(AbstractHttpConfigurer::disable);\r\n        httpSecurity.addFilterBefore(jwtRequestFilter, AuthorizationFilter.class);\r\n        httpSecurity.authorizeHttpRequests((auth)  -&gt; auth\r\n                .requestMatchers(&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;)\r\n                .permitAll().anyRequest().authenticated());\r\n        httpSecurity.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n        return httpSecurity.build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have tried to whitlist it using web.ignoring() method however still not working and also I learned that WebSecurityConfigurerAdapter is deprecated and not available anymore in Spring Security 6.0 as suggested in some old threads.\r\n\r\n","title":"Spring Security v6.0 whitelist endpoints","body":"<p>I am trying to whitelist login and register endpoints from going through JWTRequestFilter using permitAll(); method however all the requests are going through it.</p>\n<pre><code>package com.ecommerce.ecommerce.security;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.access.intercept.AuthorizationFilter;\n\n@AllArgsConstructor\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    private final JWTRequestFilter jwtRequestFilter;\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception\n    {\n        httpSecurity.csrf(AbstractHttpConfigurer::disable);\n        httpSecurity.cors(AbstractHttpConfigurer::disable);\n        httpSecurity.addFilterBefore(jwtRequestFilter, AuthorizationFilter.class);\n        httpSecurity.authorizeHttpRequests((auth)  -&gt; auth\n                .requestMatchers(&quot;/api/v1/auth/login&quot;, &quot;/api/v1/auth/register&quot;)\n                .permitAll().anyRequest().authenticated());\n        httpSecurity.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        return httpSecurity.build();\n    }\n\n}\n</code></pre>\n<p>I have tried to whitlist it using web.ignoring() method however still not working and also I learned that WebSecurityConfigurerAdapter is deprecated and not available anymore in Spring Security 6.0 as suggested in some old threads.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1692776817,"post_id":76959304,"comment_id":135668939,"body_markdown":"Well....don&#39;t set it visible until after the other calls?","body":"Well....don&#39;t set it visible until after the other calls?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692780238,"post_id":76959304,"comment_id":135669579,"body_markdown":"Or have the dialog capable of doing the updates to itself","body":"Or have the dialog capable of doing the updates to itself"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1692780302,"post_id":76959304,"comment_id":135669594,"body_markdown":"waitForSomeServerToGetSomeData shouldn’t be called on the Event Dispatching Thread anyway, in this case, you should be making use of SwingWorker","body":"waitForSomeServerToGetSomeData shouldn’t be called on the Event Dispatching Thread anyway, in this case, you should be making use of SwingWorker"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1692787490,"post_id":76959304,"comment_id":135670951,"body_markdown":"Your question sounds like it may in fact be an [XY Problem](http://mywiki.wooledge.org/XyProblem) where you ask &quot;how do I fix this code&quot; when the real solution is to use a different approach entirely (as noted above).","body":"Your question sounds like it may in fact be an <a href=\"http://mywiki.wooledge.org/XyProblem\" rel=\"nofollow noreferrer\">XY Problem</a> where you ask &quot;how do I fix this code&quot; when the real solution is to use a different approach entirely (as noted above)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1692788729,"post_id":76959304,"comment_id":135671195,"body_markdown":"As said by others, the operation `waitForSomeServerToGetSomeData()` should not run on the event dispatch thread. If you are in a different thread, `EventQueue.invokeLater(() -&gt; modalDialog.setVisible(true));` is the way to open the modal dialog without blocking the other thread but then, also `EventQueue.invokeLater(() -&gt; modalDialog.add(jPanelWithServerData));` is mandatory to adhere to Swings threading policy.","body":"As said by others, the operation <code>waitForSomeServerToGetSomeData()</code> should not run on the event dispatch thread. If you are in a different thread, <code>EventQueue.invokeLater(() -&gt; modalDialog.setVisible(true));</code> is the way to open the modal dialog without blocking the other thread but then, also <code>EventQueue.invokeLater(() -&gt; modalDialog.add(jPanelWithServerData));</code> is mandatory to adhere to Swings threading policy."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1692789541,"post_id":76959304,"comment_id":135671366,"body_markdown":"You don&#39;t say what you want to update your `JDialog` with.  One application is a progress monitor, which updates a `JProgressBar` while a long-running task runs.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [How to Use Progress Bars](https://docs.oracle.com/javase/tutorial/uiswing/components/progress.html) and [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) sections.","body":"You don&#39;t say what you want to update your <code>JDialog</code> with.  One application is a progress monitor, which updates a <code>JProgressBar</code> while a long-running task runs.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/progress.html\" rel=\"nofollow noreferrer\">How to Use Progress Bars</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> sections."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692826456,"post_id":76959304,"comment_id":135678631,"body_markdown":"For [example](https://stackoverflow.com/questions/25418694/opening-jdialog-with-swingworker/25419069#25419069); [example](https://stackoverflow.com/questions/43536964/java-swingworker-dialog-is-not-shown/43537032#43537032); [example](https://stackoverflow.com/questions/33406447/executing-code-after-swingworker-execute-after-it/33406654#33406654); [example](https://stackoverflow.com/questions/72514952/java-swing-wait-message-will-not-show-up/72515391#72515391);","body":"For <a href=\"https://stackoverflow.com/questions/25418694/opening-jdialog-with-swingworker/25419069#25419069\">example</a>; <a href=\"https://stackoverflow.com/questions/43536964/java-swingworker-dialog-is-not-shown/43537032#43537032\">example</a>; <a href=\"https://stackoverflow.com/questions/33406447/executing-code-after-swingworker-execute-after-it/33406654#33406654\">example</a>; <a href=\"https://stackoverflow.com/questions/72514952/java-swing-wait-message-will-not-show-up/72515391#72515391\">example</a>;"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1692826763,"post_id":76959304,"comment_id":135678675,"body_markdown":"[example](https://stackoverflow.com/questions/32807495/how-to-return-value-from-swingworker-class-and-use-in-other-class-and-enable-men/32819321#32819321); [example](https://stackoverflow.com/questions/25395201/jframe-only-shows-components-at-first-creation/25395328#25395328); [example](https://stackoverflow.com/questions/14113644/java-global-reusable-loading-dialog/14114663#14114663)","body":"<a href=\"https://stackoverflow.com/questions/32807495/how-to-return-value-from-swingworker-class-and-use-in-other-class-and-enable-men/32819321#32819321\">example</a>; <a href=\"https://stackoverflow.com/questions/25395201/jframe-only-shows-components-at-first-creation/25395328#25395328\">example</a>; <a href=\"https://stackoverflow.com/questions/14113644/java-global-reusable-loading-dialog/14114663#14114663\">example</a>"}],"answers":[{"comments":[{"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"score":0,"creation_date":1692895943,"post_id":76962806,"comment_id":135689723,"body_markdown":"thanks for great advice. Actually (as I understood later), the simplest solution is just to call dialog.setVisible(true); in a new Thread. Certainly, your answer has lots of advantages, but in my case a new Thread is more suitable.","body":"thanks for great advice. Actually (as I understood later), the simplest solution is just to call dialog.setVisible(true); in a new Thread. Certainly, your answer has lots of advantages, but in my case a new Thread is more suitable."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1692896757,"post_id":76962806,"comment_id":135689905,"body_markdown":"As long as that new Thread is the Event Dispatch Thread, that will be okay. But as I said, if your data retrieval takes a long time, it will hang your user interface and users won’t even be able to close any dialogs or windows.","body":"As long as that new Thread is the Event Dispatch Thread, that will be okay. But as I said, if your data retrieval takes a long time, it will hang your user interface and users won’t even be able to close any dialogs or windows."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692804224,"creation_date":1692804224,"answer_id":76962806,"question_id":76959304,"body_markdown":"Don’t retrieve your data in the AWT event dispatch thread.\r\n\r\nAWT and Swing are single-threaded.  Most GUI frameworks are.  What this means is that all painting of windows, and all processing of user input like typing and mouse clicking, is done in a single special thread created by the system.  AWT and Swing call it the Event Dispatch Thread.\r\n\r\nIf you do something to hold that thread up, there will be no repainting and no response to user input during that time.\r\n\r\nIf `waitForSomeServerToGetSomeData()` takes ten seconds to complete, your GUI will be frozen for ten seconds.  Windows cannot be closed during that time.  Buttons cannot be pressed during that time.  And if the user happens to switch to a different window that obscures your dialog, then tries to look at your dialog again, your dialog will be a blank gray rectangle during those ten seconds.\r\n\r\nThe solution is to perform tasks that may take a long time in a different thread:\r\n\r\n    new Thread(() -&gt; waitForSomeServerToGetSomeData()).start();\r\n\r\nBut… you want to update the dialog as data is being read.  Changes to Swing components *must* be done in the Event Dispatch Thread and in no other thread.  To do that, there is a special method that executes code in the Event Dispatch Thread:  [EventQueue.invokeLater](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/EventQueue.html#invokeLater(java.lang.Runnable)).\r\n\r\nSo your code would do something like this:\r\n\r\n    Runnable dataRetriever = () -&gt; {\r\n        waitForSomeServerToGetSomeData();\r\n        EventQueue.invokeLater(() -&gt; modalDialog.add(jPanelWithServerData));\r\n\r\n        waitForSomeMoreData();\r\n        EventQueue.invokeLater(() -&gt; modalDialog.add(panelWithMoreData));\r\n    };\r\n\r\n    new Thread(dataRetriever).start();\r\n    modalDialog.setVisible(true);\r\n\r\nThere are other ways to do this.  As Gilbert suggested, you may just want to use a JProgressBar.  AS MadProgrammer suggested, you may benefit from using a [SwingWorker](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingWorker.html), which lets you update Swing components by “publishing” the completion of each step of your long-running task.\r\n\r\nBut if it’s a fairly simple case, a Thread and some invokeLater calls are all you need.\r\n","title":"How to set the modal dialog visible without blocking current Thread?","body":"<p>Don’t retrieve your data in the AWT event dispatch thread.</p>\n<p>AWT and Swing are single-threaded.  Most GUI frameworks are.  What this means is that all painting of windows, and all processing of user input like typing and mouse clicking, is done in a single special thread created by the system.  AWT and Swing call it the Event Dispatch Thread.</p>\n<p>If you do something to hold that thread up, there will be no repainting and no response to user input during that time.</p>\n<p>If <code>waitForSomeServerToGetSomeData()</code> takes ten seconds to complete, your GUI will be frozen for ten seconds.  Windows cannot be closed during that time.  Buttons cannot be pressed during that time.  And if the user happens to switch to a different window that obscures your dialog, then tries to look at your dialog again, your dialog will be a blank gray rectangle during those ten seconds.</p>\n<p>The solution is to perform tasks that may take a long time in a different thread:</p>\n<pre><code>new Thread(() -&gt; waitForSomeServerToGetSomeData()).start();\n</code></pre>\n<p>But… you want to update the dialog as data is being read.  Changes to Swing components <em>must</em> be done in the Event Dispatch Thread and in no other thread.  To do that, there is a special method that executes code in the Event Dispatch Thread:  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/EventQueue.html#invokeLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">EventQueue.invokeLater</a>.</p>\n<p>So your code would do something like this:</p>\n<pre><code>Runnable dataRetriever = () -&gt; {\n    waitForSomeServerToGetSomeData();\n    EventQueue.invokeLater(() -&gt; modalDialog.add(jPanelWithServerData));\n\n    waitForSomeMoreData();\n    EventQueue.invokeLater(() -&gt; modalDialog.add(panelWithMoreData));\n};\n\nnew Thread(dataRetriever).start();\nmodalDialog.setVisible(true);\n</code></pre>\n<p>There are other ways to do this.  As Gilbert suggested, you may just want to use a JProgressBar.  AS MadProgrammer suggested, you may benefit from using a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">SwingWorker</a>, which lets you update Swing components by “publishing” the completion of each step of your long-running task.</p>\n<p>But if it’s a fairly simple case, a Thread and some invokeLater calls are all you need.</p>\n"}],"owner":{"account_id":29118402,"reputation":3,"user_id":22306589,"display_name":"Tech of the Absence"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1692826273,"accepted_answer_id":76962806,"answer_count":1,"score":-2,"last_activity_date":1692804224,"creation_date":1692776562,"question_id":76959304,"body_markdown":"Java documentation:\r\n\r\n&gt;`setVisible(true)`: If the dialog is not already visible, this call will not return until the dialog is hidden by calling setVisible(false) or dispose.\r\n\r\nWhat if I need to change dialog contents from the constructor?\r\ne.g.\r\n```java\r\nmodalDialog.setVisible(true);\r\nwaitForSomeServerToGetSomeData();\r\nmodalDialog.add(jPanelWithServerData);\r\n```","title":"How to set the modal dialog visible without blocking current Thread?","body":"<p>Java documentation:</p>\n<blockquote>\n<p><code>setVisible(true)</code>: If the dialog is not already visible, this call will not return until the dialog is hidden by calling setVisible(false) or dispose.</p>\n</blockquote>\n<p>What if I need to change dialog contents from the constructor?\ne.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>modalDialog.setVisible(true);\nwaitForSomeServerToGetSomeData();\nmodalDialog.add(jPanelWithServerData);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":9588131,"reputation":206,"user_id":7120065,"display_name":"CodeSun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692803022,"creation_date":1692803022,"answer_id":76962663,"question_id":76829541,"body_markdown":"ModelAttribute annotation should be avoided for primitive Types like int and String. Use request param or path variable instead.","title":"ModelAttribute should have already been expanded via ExpandedParameterBuilderPlugin","body":"<p>ModelAttribute annotation should be avoided for primitive Types like int and String. Use request param or path variable instead.</p>\n"}],"owner":{"account_id":9588131,"reputation":206,"user_id":7120065,"display_name":"CodeSun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76962663,"answer_count":1,"score":0,"last_activity_date":1692803022,"creation_date":1691076357,"question_id":76829541,"body_markdown":"For the annotation @ModelAttribute i am getting the WARN log: \r\n\r\n&gt; @ModelAttribute annotated parameters should have already been expanded via the ExpandedParameterBuilderPlugin\r\n\r\n Causing class is ParameterTypeReader, package springfox.documentation.spring.web.readers.parameter.\r\nI am using @ModelAttribute in my Controllers. How can I fix this warning?\r\n\r\n","title":"ModelAttribute should have already been expanded via ExpandedParameterBuilderPlugin","body":"<p>For the annotation @ModelAttribute i am getting the WARN log:</p>\n<blockquote>\n<p>@ModelAttribute annotated parameters should have already been expanded via the ExpandedParameterBuilderPlugin</p>\n</blockquote>\n<p>Causing class is ParameterTypeReader, package springfox.documentation.spring.web.readers.parameter.\nI am using @ModelAttribute in my Controllers. How can I fix this warning?</p>\n"},{"tags":["java","amazon-web-services","log4j2","amazon-cloudwatch","amazon-cloudwatchlogs"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1522339463,"post_id":49560269,"comment_id":86129022,"body_markdown":"...so did you add `-Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRACE` to see what Log4j2 was doing when it wasn&#39;t picking up your log file?","body":"...so did you add <code>-Dorg.apache.logging.log4j.simplelog.StatusLogger.level=TRAC&zwnj;&#8203;E</code> to see what Log4j2 was doing when it wasn&#39;t picking up your log file?"},{"owner":{"account_id":11425778,"reputation":395,"user_id":8375984,"accept_rate":85,"display_name":"ShaiNe Ram"},"score":0,"creation_date":1522644106,"post_id":49560269,"comment_id":86217658,"body_markdown":"Sorry for the late reply.. No I did not add this. Where should I add this?","body":"Sorry for the late reply.. No I did not add this. Where should I add this?"},{"owner":{"account_id":11425778,"reputation":395,"user_id":8375984,"accept_rate":85,"display_name":"ShaiNe Ram"},"score":0,"creation_date":1522759711,"post_id":49560269,"comment_id":86267779,"body_markdown":"Please provide a solution for this","body":"Please provide a solution for this"},{"owner":{"account_id":11425778,"reputation":395,"user_id":8375984,"accept_rate":85,"display_name":"ShaiNe Ram"},"score":0,"creation_date":1522762500,"post_id":49560269,"comment_id":86269912,"body_markdown":"Thanks it is solved. I have added the log4j2.xml in the path where the my main lambda class is. Thannk you @Makoto for your reply.","body":"Thanks it is solved. I have added the log4j2.xml in the path where the my main lambda class is. Thannk you @Makoto for your reply."}],"answers":[{"comments":[{"owner":{"account_id":1229057,"reputation":750,"user_id":1194019,"display_name":"pba"},"score":1,"creation_date":1542075811,"post_id":51076467,"comment_id":93428785,"body_markdown":"The only thing necessary for people with src/main/resources/log4j2.xml is\n`static {\n    System.setProperty(&quot;log4j.configurationFile&quot;, &quot;resources/log4j2.xml&quot;);\n}`","body":"The only thing necessary for people with src/main/resources/log4j2.xml is <code>static {     System.setProperty(&quot;log4j.configurationFile&quot;, &quot;resources&#47;log4j2.xml&quot;); }</code>"}],"tags":[],"owner":{"account_id":497945,"reputation":968,"user_id":1360035,"display_name":"moilejter"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1530168900,"creation_date":1530168900,"answer_id":51076467,"question_id":49560269,"body_markdown":"I found I did not have any luck placing my log4j2.xml file at either src/main/resources or at src/main/resources/path/to/my/Lambda/log4j2.xml.\r\nSo I did a little digging.  In my case, Lambda deploys my handler with a classpath whose first entry is a folder /var/task.  The class files are rooted directly at /var/task - but the resource files are placed in /var/task/resources - so Log4J2 cannot find log4j2.xml in the classpath.  The solution for me was to use the log4j.configurationFile property to specify the location of the file within the resources folder:\r\n\r\n    static {\r\n        // System.setProperty(&quot;org.apache.logging.log4j.simplelog.StatusLogger.level&quot;,&quot;TRACE&quot;);\r\n        System.setProperty(&quot;java.util.logging.manager&quot;, &quot;org.apache.logging.log4j.jul.LogManager&quot;);\r\n        System.setProperty(&quot;log4j.configurationFile&quot;, &quot;resources/lambda-log4j2.xml&quot;);\r\n    }\r\n\r\nI also renamed the file &quot;lambda-log4j2.xml&quot; - to make sure it was reading my file, during debugging this...\r\nThis static block is at the top of my handler class.","title":"Helpme to get log4j2 correctly","body":"<p>I found I did not have any luck placing my log4j2.xml file at either src/main/resources or at src/main/resources/path/to/my/Lambda/log4j2.xml.\nSo I did a little digging.  In my case, Lambda deploys my handler with a classpath whose first entry is a folder /var/task.  The class files are rooted directly at /var/task - but the resource files are placed in /var/task/resources - so Log4J2 cannot find log4j2.xml in the classpath.  The solution for me was to use the log4j.configurationFile property to specify the location of the file within the resources folder:</p>\n\n<pre><code>static {\n    // System.setProperty(\"org.apache.logging.log4j.simplelog.StatusLogger.level\",\"TRACE\");\n    System.setProperty(\"java.util.logging.manager\", \"org.apache.logging.log4j.jul.LogManager\");\n    System.setProperty(\"log4j.configurationFile\", \"resources/lambda-log4j2.xml\");\n}\n</code></pre>\n\n<p>I also renamed the file \"lambda-log4j2.xml\" - to make sure it was reading my file, during debugging this...\nThis static block is at the top of my handler class.</p>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802998,"creation_date":1692802998,"answer_id":76962660,"question_id":49560269,"body_markdown":"This issue is misleading on what the actual issue is, The real issue at play with cloudwatch logs not being generated is an artifact of a known issue where log4j2 does not work correctly with shadowJar or a shaded jar. If you wish to correct this the necessary edits are not related to the log4j2.xml or to your code but to how the application is being built. In order to resolve the issues between log4j2 and shadowJar/shaded jar you will need to apply an additional transformation at build time in order for correct compilation.\r\n\r\n**Using Gradle**\r\n```\r\nimport com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\r\n\r\nshadowJar{\r\n    transform(Log4j2PluginsCacheFileTransformer)\r\n}\r\n```\r\n\r\n**Using Maven**\r\n```\r\n&lt;dependencies&gt;\r\n  ...\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.5.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.17.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n  ....\r\n&lt;/dependencies&gt;\r\n```\r\nand add the following transformation\r\n```\r\n&lt;plugins&gt;\r\n  ...\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;shade&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n        &lt;configuration&gt;\r\n          &lt;transformers&gt;\r\n            &lt;transformer\r\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\r\n            &lt;/transformer&gt;\r\n          &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/plugin&gt;\r\n  ...\r\n&lt;/plugins&gt;\r\n```\r\n\r\nTo try to more quickly remediate this issue I have linked all the posts I used to correct this below.\r\n\r\n- [log4j JsonTemplateLayout doesn&#39;t work when jar file built by shadowJar][1]\r\nOriginal post that clued me in\r\n- [Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency][2]\r\nFull example of how to fix in maven or gradle\r\n- [How correctly log AWS Lambda event with lambda powertools][3]\r\nExplanation with powertools\r\n- [Logging using Log4J2 on aws lambda - Class not found][4]\r\nExplanation where someone is claiming the issue is due to a bad path name (that is probably not the case)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\r\n  [2]: https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\r\n  [3]: https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\r\n  [4]: https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833","title":"Helpme to get log4j2 correctly","body":"<p>This issue is misleading on what the actual issue is, The real issue at play with cloudwatch logs not being generated is an artifact of a known issue where log4j2 does not work correctly with shadowJar or a shaded jar. If you wish to correct this the necessary edits are not related to the log4j2.xml or to your code but to how the application is being built. In order to resolve the issues between log4j2 and shadowJar/shaded jar you will need to apply an additional transformation at build time in order for correct compilation.</p>\n<p><strong>Using Gradle</strong></p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\n\nshadowJar{\n    transform(Log4j2PluginsCacheFileTransformer)\n}\n</code></pre>\n<p><strong>Using Maven</strong></p>\n<pre><code>&lt;dependencies&gt;\n  ...\n  &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.17.1&lt;/version&gt;\n  &lt;/dependency&gt;\n  ....\n&lt;/dependencies&gt;\n</code></pre>\n<p>and add the following transformation</p>\n<pre><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.4.3&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;shade&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;configuration&gt;\n          &lt;transformers&gt;\n            &lt;transformer\n                    implementation=&quot;com.github.edwgiz.mavenShadePlugin.log4j2CacheTransformer.PluginsCacheFileTransformer&quot;&gt;\n            &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.edwgiz&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin.log4j2-cachefile-transformer&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n  ...\n&lt;/plugins&gt;\n</code></pre>\n<p>To try to more quickly remediate this issue I have linked all the posts I used to correct this below.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\">log4j JsonTemplateLayout doesn't work when jar file built by shadowJar</a>\nOriginal post that clued me in</li>\n<li><a href=\"https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\">Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency</a>\nFull example of how to fix in maven or gradle</li>\n<li><a href=\"https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\">How correctly log AWS Lambda event with lambda powertools</a>\nExplanation with powertools</li>\n<li><a href=\"https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833\">Logging using Log4J2 on aws lambda - Class not found</a>\nExplanation where someone is claiming the issue is due to a bad path name (that is probably not the case)</li>\n</ul>\n"}],"owner":{"account_id":11425778,"reputation":395,"user_id":8375984,"accept_rate":85,"display_name":"ShaiNe Ram"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3039,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":51076467,"answer_count":2,"score":1,"last_activity_date":1692802998,"creation_date":1522338634,"question_id":49560269,"body_markdown":"I am newbie to implement log4j2 with my aws java lambda cloud watch. I need custom log instead of cloud watch logs. I am uploading a csv of large size record using step function.So the built in cloud watch logs the same thing repeatedly. So I am planning to add log4j2 with my java lambda. For this I added below dependency in my pom.xml\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\nThen added the log4j2.xml under src/main/resources. The log4j2.xml is like below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender&quot;&gt;\r\n      &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n          &lt;PatternLayout&gt;\r\n              &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n          &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n      &lt;/Appenders&gt;\r\n      &lt;Loggers&gt;\r\n        &lt;Root level=&quot;debug&quot;&gt;\r\n          &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\r\n        &lt;/Root&gt;\r\n      &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nAfter that to check the log i have created one aws java lambda project and my code looks like below.\r\n\r\n     package com.amazonaws.lambda.demo;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    import com.amazonaws.services.lambda.runtime.events.S3Event;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import com.amazonaws.services.s3.model.GetObjectRequest;\r\n    import com.amazonaws.services.s3.model.S3Object;\r\n    \r\n    import com.amazonaws.services.stepfunctions.AWSStepFunctions;\r\n    import com.amazonaws.services.stepfunctions.AWSStepFunctionsClientBuilder;\r\n    import com.amazonaws.services.stepfunctions.model.StartExecutionRequest;\r\n    \r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    \r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    public class log4jTest implements RequestHandler&lt;S3Event, String&gt; {\r\n    \tstatic final Logger logger = LogManager.getLogger(log4jTest.class);\t\r\n        private AmazonS3 s3 = AmazonS3ClientBuilder.standard().build();      \r\n        public log4jTest() {}\r\n    \tlog4jTest(AmazonS3 s3) {\r\n        this.s3 = s3;\r\n    \t}\r\n    @Override\r\n    public String handleRequest(S3Event event, Context context) {\r\n    \tString bucket = event.getRecords().get(0).getS3().getBucket().getName();\r\n        String key = event.getRecords().get(0).getS3().getObject().getKey();\r\n        try {\r\n    \t\t\tfor(int i=0;i&lt;10;i++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(i==10)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\tlogger.error(&quot;log data Error&quot;);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t}\r\n          \r\n    \t\t} catch (Exception e) {\r\n    \t\t\t\t\r\n    \t\t\t\t\t\t\tcontext.getLogger().log(String.format(\r\n    \t\t\t\t\t\t\t\t&quot;Error getting object %s from bucket %s. Make sure they exist and&quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot; your bucket is in the same region as this function.&quot;, key, bucket));\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\treturn null;\r\n    }\r\n    }\r\nAccording to the aws document [Logging (Java)][1]. \r\nEverything I did as the doc says. But when I am run the lambda I am getting an error like below\r\n\r\n    ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property &#39;org.apache.logging.log4j.simplelog.StatusLogger.level&#39; to TRACE to show Log4j2 internal initialization logging.\r\n\r\nI am checking the log in lambda -&gt; Monitoring -&gt; jump to logs [Screen shot given below]\r\n\r\n[![enter image description here][4]][4]\r\n\r\nI googled and went through below sites.\r\n\r\n[https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er][2]\r\n\r\n[https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er/28572784][3]\r\n\r\n\r\n\r\nBut I dont know I can&#39;t fix this error anyway. Please anyone can help me on this. It would be really grateful if u can do this.\r\n\r\nThanks in advance \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html\r\n  [2]: https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er\r\n  [3]: https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er/28572784\r\n  [4]: https://i.stack.imgur.com/DA7li.png","title":"Helpme to get log4j2 correctly","body":"<p>I am newbie to implement log4j2 with my aws java lambda cloud watch. I need custom log instead of cloud watch logs. I am uploading a csv of large size record using step function.So the built in cloud watch logs the same thing repeatedly. So I am planning to add log4j2 with my java lambda. For this I added below dependency in my pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n\n<p>Then added the log4j2.xml under src/main/resources. The log4j2.xml is like below</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration packages=\"com.amazonaws.services.lambda.runtime.log4j2.LambdaAppender\"&gt;\n  &lt;Appenders&gt;\n    &lt;Lambda name=\"Lambda\"&gt;\n      &lt;PatternLayout&gt;\n          &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n      &lt;/PatternLayout&gt;\n    &lt;/Lambda&gt;\n  &lt;/Appenders&gt;\n  &lt;Loggers&gt;\n    &lt;Root level=\"debug\"&gt;\n      &lt;AppenderRef ref=\"Lambda\" /&gt;\n    &lt;/Root&gt;\n  &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>After that to check the log i have created one aws java lambda project and my code looks like below.</p>\n\n<pre><code> package com.amazonaws.lambda.demo;\n\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\nimport com.amazonaws.services.lambda.runtime.events.S3Event;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.GetObjectRequest;\nimport com.amazonaws.services.s3.model.S3Object;\n\nimport com.amazonaws.services.stepfunctions.AWSStepFunctions;\nimport com.amazonaws.services.stepfunctions.AWSStepFunctionsClientBuilder;\nimport com.amazonaws.services.stepfunctions.model.StartExecutionRequest;\n\nimport com.amazonaws.services.lambda.runtime.Context;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class log4jTest implements RequestHandler&lt;S3Event, String&gt; {\n    static final Logger logger = LogManager.getLogger(log4jTest.class); \n    private AmazonS3 s3 = AmazonS3ClientBuilder.standard().build();      \n    public log4jTest() {}\n    log4jTest(AmazonS3 s3) {\n    this.s3 = s3;\n    }\n@Override\npublic String handleRequest(S3Event event, Context context) {\n    String bucket = event.getRecords().get(0).getS3().getBucket().getName();\n    String key = event.getRecords().get(0).getS3().getObject().getKey();\n    try {\n            for(int i=0;i&lt;10;i++)\n                {\n                    if(i==10)\n                        {\n                            logger.error(\"log data Error\");\n                        }\n                }\n\n        } catch (Exception e) {\n\n                            context.getLogger().log(String.format(\n                                \"Error getting object %s from bucket %s. Make sure they exist and\"\n                                    + \" your bucket is in the same region as this function.\", key, bucket));\n                            }\n                return null;\n}\n}\n</code></pre>\n\n<p>According to the aws document <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/java-logging.html\" rel=\"nofollow noreferrer\">Logging (Java)</a>. \nEverything I did as the doc says. But when I am run the lambda I am getting an error like below</p>\n\n<pre><code>ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property 'org.apache.logging.log4j.simplelog.StatusLogger.level' to TRACE to show Log4j2 internal initialization logging.\n</code></pre>\n\n<p>I am checking the log in lambda -> Monitoring -> jump to logs [Screen shot given below]</p>\n\n<p><a href=\"https://i.stack.imgur.com/DA7li.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DA7li.png\" alt=\"enter image description here\"></a></p>\n\n<p>I googled and went through below sites.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er\">No log4j2 configuration file found. Using default configuration: logging only errors to the console</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er/28572784\">No log4j2 configuration file found. Using default configuration: logging only errors to the console</a></p>\n\n<p>But I dont know I can't fix this error anyway. Please anyone can help me on this. It would be really grateful if u can do this.</p>\n\n<p>Thanks in advance </p>\n"},{"tags":["java","sql","jdbc"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1568635938,"post_id":57956636,"comment_id":102325026,"body_markdown":"which JDBC driver (and DBMS product) **are** you using?","body":"which JDBC driver (and DBMS product) <b>are</b> you using?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1568636873,"post_id":57956636,"comment_id":102325561,"body_markdown":"The SQL stems from you, and `getParameterMetaData` might provide the context details. The database engine might provide logging. BTW I miss `close()` on statement and result set.","body":"The SQL stems from you, and <code>getParameterMetaData</code> might provide the context details. The database engine might provide logging. BTW I miss <code>close()</code> on statement and result set."},{"owner":{"account_id":11213344,"reputation":1963,"user_id":8226794,"display_name":"CaspianTerrazzo"},"score":0,"creation_date":1568637013,"post_id":57956636,"comment_id":102325649,"body_markdown":"@a_horse_with_no_name we are using ojdbc14","body":"@a_horse_with_no_name we are using ojdbc14"},{"owner":{"account_id":11213344,"reputation":1963,"user_id":8226794,"display_name":"CaspianTerrazzo"},"score":0,"creation_date":1568637383,"post_id":57956636,"comment_id":102325843,"body_markdown":"@JoopEggen the close statment is in the &quot;...&quot;","body":"@JoopEggen the close statment is in the &quot;...&quot;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1568637749,"post_id":57956636,"comment_id":102326014,"body_markdown":"Okay. (You might also consider try-with-resources allowing exceptions and inner returns and such.)","body":"Okay. (You might also consider try-with-resources allowing exceptions and inner returns and such.)"},{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1568638415,"post_id":57956636,"comment_id":102326363,"body_markdown":"Have you looked at [p6spy](https://github.com/p6spy/p6spy)?","body":"Have you looked at <a href=\"https://github.com/p6spy/p6spy\" rel=\"nofollow noreferrer\">p6spy</a>?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1568641894,"post_id":57956636,"comment_id":102328451,"body_markdown":"There is nothing defined in JDBC for this, nor does JDBC require (or expect) that a driver implements the `toString()` to return the prepared statement.","body":"There is nothing defined in JDBC for this, nor does JDBC require (or expect) that a driver implements the <code>toString()</code> to return the prepared statement."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1568658733,"post_id":57956636,"comment_id":102336429,"body_markdown":"Are you really still using Java 1.4? That&#39;s what ojdbc14 is intended for","body":"Are you really still using Java 1.4? That&#39;s what ojdbc14 is intended for"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568638387,"creation_date":1568638387,"answer_id":57957330,"question_id":57956636,"body_markdown":"Much time ago I used [p6spy][1]: a *proxy* for the real JDBC driver that logs real queries before passing them to the real driver.\r\n\r\nAnother solution is [datasource-proxy][2] that, as the name implies, proxies a DataSource, not the low-level driver.  I&#39;ve never tried it.\r\n\r\n\r\n  [1]: https://github.com/p6spy/p6spy\r\n  [2]: https://github.com/ttddyy/datasource-proxy","title":"Is there a way to read the SQL query of a PreparedStatement, after it is constructed?","body":"<p>Much time ago I used <a href=\"https://github.com/p6spy/p6spy\" rel=\"nofollow noreferrer\">p6spy</a>: a <em>proxy</em> for the real JDBC driver that logs real queries before passing them to the real driver.</p>\n\n<p>Another solution is <a href=\"https://github.com/ttddyy/datasource-proxy\" rel=\"nofollow noreferrer\">datasource-proxy</a> that, as the name implies, proxies a DataSource, not the low-level driver.  I've never tried it.</p>\n"}],"owner":{"account_id":11213344,"reputation":1963,"user_id":8226794,"display_name":"CaspianTerrazzo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692802899,"creation_date":1568635846,"question_id":57956636,"body_markdown":"I work on some really old code (10 years+) and it&#39;s (probably) practically impossible to get the query that is going to be executed,\r\nbut I need to log the queries in case of an error.\r\n\r\nI tried to read the Metadata of the statement. But that does not do the job when I try to get the exact query.\r\n\r\n`System.out.println(preparedStatement);` is also not working because we use a really old JDBC driver, which does not implement a nice `toString()` for the prepared Statement and I am not allowed to change the driver. \r\n\r\n```java\r\npublic void doQuery(Connection conn) throws SQLException {\r\n\tPreparedStatement st=null;\r\n\tResultSet result=null;\r\n\tst=createStatement(conn);\r\n\tresult = st.executeQuery();\r\n\t... \r\n}\r\n\r\npublic abstract PreparedStatement createStatement(Connection conn) throws SQLException;\r\n\r\n```\r\n\r\nthe `createStatement` is an abstract method with 46 (magical) implementations, which are all different. \r\nThat&#39;s what makes it really hard for me to figure out how the `Statement` is created at all.\r\n\r\nI only want to have something like\r\n\r\n```\r\nString query = preparedStatement.getQueryString();\r\n```","title":"Is there a way to read the SQL query of a PreparedStatement, after it is constructed?","body":"<p>I work on some really old code (10 years+) and it's (probably) practically impossible to get the query that is going to be executed,\nbut I need to log the queries in case of an error.</p>\n<p>I tried to read the Metadata of the statement. But that does not do the job when I try to get the exact query.</p>\n<p><code>System.out.println(preparedStatement);</code> is also not working because we use a really old JDBC driver, which does not implement a nice <code>toString()</code> for the prepared Statement and I am not allowed to change the driver.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void doQuery(Connection conn) throws SQLException {\n    PreparedStatement st=null;\n    ResultSet result=null;\n    st=createStatement(conn);\n    result = st.executeQuery();\n    ... \n}\n\npublic abstract PreparedStatement createStatement(Connection conn) throws SQLException;\n\n</code></pre>\n<p>the <code>createStatement</code> is an abstract method with 46 (magical) implementations, which are all different.\nThat's what makes it really hard for me to figure out how the <code>Statement</code> is created at all.</p>\n<p>I only want to have something like</p>\n<pre><code>String query = preparedStatement.getQueryString();\n</code></pre>\n"},{"tags":["java","sql","jpa","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"score":0,"creation_date":1692622661,"post_id":76944952,"comment_id":135644455,"body_markdown":"Thank&#39;s. It work&#39;s","body":"Thank&#39;s. It work&#39;s"}],"answers":[{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802611,"creation_date":1692802611,"answer_id":76962611,"question_id":76944952,"body_markdown":"Use @SqlResultSetMapping as explained [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-sql-resultset-mapping","title":"Spring jpa No converter found capable of converting from type AbstractJpaQuery$TupleConverter$TupleBackedMap","body":"<p>Use @SqlResultSetMapping as explained <a href=\"https://www.baeldung.com/jpa-sql-resultset-mapping\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692822935,"answer_count":1,"score":0,"last_activity_date":1692802611,"creation_date":1692618076,"question_id":76944952,"body_markdown":"My Entity:\r\n```\r\n@Entity(name = &quot;Car&quot;)\r\n@Table(name = &quot;Car&quot;)\r\n@Builder\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CarEntity\r\n{\r\n   private final String identification;\r\n   private final String attribute_2;\r\n   private final String attribute_3;\r\n   private final String attribute_4;\r\n   private final String attribute_5;\r\n   private final String attribute_6;\r\n}\r\n```\r\n\r\nThe Dto has two attributes more. \r\n\r\nMy Dto:\r\n```\r\n@RequiredArgsConstructor\r\n@Builder\r\n@Getter\r\n@Setter\r\npublic class CarDto\r\n{\r\n   private final String identification;\r\n   private final String attribute_2;\r\n   private final String attribute_3;\r\n   private final String attribute_4;\r\n   private final String attribute_5;\r\n   private final String attribute_6;\r\n   private final String childCarIdentification;\r\n   private final String parentCarIdentification;\r\n}\r\n```\r\n\r\n```\r\n@Entity(name = &quot;CarRelation&quot;)\r\n@Table(name = &quot;CarRelation&quot;)\r\n@IdClass(CarRelationId.class)\r\n@Builder\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CarRelationEntity\r\n{\r\n   @Id\r\n   private String carIdentification;\r\n   @Id\r\n   private String subCarIdentification;\r\n}\r\n```\r\n\r\nThe `CarRelationId`:\r\n```\r\n@Builder\r\n@Setter\r\n@Getter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CarRelationId implements Serializable\r\n{\r\n   private String carIdentification;\r\n   private String subCarIdentification;\r\n}\r\n```\r\n\r\nThe CarRelationDto:\r\n```\r\n@RequiredArgsConstructor\r\n@Builder\r\n@Getter\r\n@Setter\r\npublic class CarRelation\r\n{\r\n   private final String carIdentification;\r\n   private final String subCarIdentification;\r\n}\r\n```\r\n\r\nMy repository:\r\n```\r\n@Repository\r\npublic interface JpaCarRepository extends JpaRepository&lt;CarEntity, String&gt;\r\n{\r\n   @Query(&quot;&quot;&quot;\r\n         SELECT        c.identification, c.attribute_2, c.attribute_3, c.attribute_4,\r\n            c.attribute_5, c.attribute_6, cr.subCarIdentification AS childCarIdentification, cr_1.carIdentification AS parentCarIdentification\r\n         FROM            Car c LEFT OUTER JOIN\r\n                                  CarRelation cr ON cr.carIdentification = c.identification LEFT OUTER JOIN\r\n                                  CarRelation AS cr_1 ON c.identification = cr_1.subComponentIdentification\r\n         WHERE        (c.identification = :identification )\r\n    &quot;&quot;&quot;)\r\n   Optional&lt;CarDto&gt; findByIdentification(@Param(&quot;identification &quot;) String identification );\r\n```\r\n\r\nThe error:\r\n```\r\nNo converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [path.to.object.Car]\r\n```\r\n\r\nHow can i transform the Sql-Result to `CarDto` Object other how the pass the Result to a Dto Object","title":"Spring jpa No converter found capable of converting from type AbstractJpaQuery$TupleConverter$TupleBackedMap","body":"<p>My Entity:</p>\n<pre><code>@Entity(name = &quot;Car&quot;)\n@Table(name = &quot;Car&quot;)\n@Builder\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CarEntity\n{\n   private final String identification;\n   private final String attribute_2;\n   private final String attribute_3;\n   private final String attribute_4;\n   private final String attribute_5;\n   private final String attribute_6;\n}\n</code></pre>\n<p>The Dto has two attributes more.</p>\n<p>My Dto:</p>\n<pre><code>@RequiredArgsConstructor\n@Builder\n@Getter\n@Setter\npublic class CarDto\n{\n   private final String identification;\n   private final String attribute_2;\n   private final String attribute_3;\n   private final String attribute_4;\n   private final String attribute_5;\n   private final String attribute_6;\n   private final String childCarIdentification;\n   private final String parentCarIdentification;\n}\n</code></pre>\n<pre><code>@Entity(name = &quot;CarRelation&quot;)\n@Table(name = &quot;CarRelation&quot;)\n@IdClass(CarRelationId.class)\n@Builder\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CarRelationEntity\n{\n   @Id\n   private String carIdentification;\n   @Id\n   private String subCarIdentification;\n}\n</code></pre>\n<p>The <code>CarRelationId</code>:</p>\n<pre><code>@Builder\n@Setter\n@Getter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CarRelationId implements Serializable\n{\n   private String carIdentification;\n   private String subCarIdentification;\n}\n</code></pre>\n<p>The CarRelationDto:</p>\n<pre><code>@RequiredArgsConstructor\n@Builder\n@Getter\n@Setter\npublic class CarRelation\n{\n   private final String carIdentification;\n   private final String subCarIdentification;\n}\n</code></pre>\n<p>My repository:</p>\n<pre><code>@Repository\npublic interface JpaCarRepository extends JpaRepository&lt;CarEntity, String&gt;\n{\n   @Query(&quot;&quot;&quot;\n         SELECT        c.identification, c.attribute_2, c.attribute_3, c.attribute_4,\n            c.attribute_5, c.attribute_6, cr.subCarIdentification AS childCarIdentification, cr_1.carIdentification AS parentCarIdentification\n         FROM            Car c LEFT OUTER JOIN\n                                  CarRelation cr ON cr.carIdentification = c.identification LEFT OUTER JOIN\n                                  CarRelation AS cr_1 ON c.identification = cr_1.subComponentIdentification\n         WHERE        (c.identification = :identification )\n    &quot;&quot;&quot;)\n   Optional&lt;CarDto&gt; findByIdentification(@Param(&quot;identification &quot;) String identification );\n</code></pre>\n<p>The error:</p>\n<pre><code>No converter found capable of converting from type [org.springframework.data.jpa.repository.query.AbstractJpaQuery$TupleConverter$TupleBackedMap] to type [path.to.object.Car]\n</code></pre>\n<p>How can i transform the Sql-Result to <code>CarDto</code> Object other how the pass the Result to a Dto Object</p>\n"},{"tags":["java","jpa","spring-data-jpa","hql","jpql"],"comments":[{"owner":{"account_id":9242367,"reputation":1023,"user_id":6865328,"display_name":"WoAiNii"},"score":0,"creation_date":1692473503,"post_id":76936526,"comment_id":135629115,"body_markdown":"Have you tried what was suggested [here](https://stackoverflow.com/questions/287201/how-to-persist-a-property-of-type-liststring-in-jpa)?","body":"Have you tried what was suggested <a href=\"https://stackoverflow.com/questions/287201/how-to-persist-a-property-of-type-liststring-in-jpa\">here</a>?"}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802505,"creation_date":1692802505,"answer_id":76962593,"question_id":76936526,"body_markdown":"If you are trying to get DogSubset instances built with List&lt;String&gt; eventId within it - no, you cannot. JPA and its query languages do not support aggregating into lists. Options you have are to take the dogId,dogName,birthDate,String eventId, put them in a dogEvent (or just deal with a tuple or Object[] result) and aggregate them yourself into DogSubset instances. \r\n\r\nAlternatively, you could create a DogSubset view &#39;entity&#39; and map it to the Dog table with the Event.eventId mapped as an @ElementCollection. For example:\r\n\r\n    @Entity\r\n    @Table(name = &quot;dog_table&quot;)\r\n    public class DogSubset {\r\n      @Id\r\n      private String dogId;\r\n      private String dogName;\r\n      private Date birthDate;\r\n      @ElementCollection \r\n      @CollectionTable(name = &quot;event_table&quot;, joinColumns = @JoinColumn(name = &quot;dogId&quot;))\r\n      private List&lt;String&gt; eventId\r\n    }\r\n\r\nJust make sure you never try creating new instances or updating them, as this will mess up your Dog and Event entity data.\r\n\r\n","title":"Returning list of strings in JPA @Query using projection","body":"<p>If you are trying to get DogSubset instances built with List eventId within it - no, you cannot. JPA and its query languages do not support aggregating into lists. Options you have are to take the dogId,dogName,birthDate,String eventId, put them in a dogEvent (or just deal with a tuple or Object[] result) and aggregate them yourself into DogSubset instances.</p>\n<p>Alternatively, you could create a DogSubset view 'entity' and map it to the Dog table with the Event.eventId mapped as an @ElementCollection. For example:</p>\n<pre><code>@Entity\n@Table(name = &quot;dog_table&quot;)\npublic class DogSubset {\n  @Id\n  private String dogId;\n  private String dogName;\n  private Date birthDate;\n  @ElementCollection \n  @CollectionTable(name = &quot;event_table&quot;, joinColumns = @JoinColumn(name = &quot;dogId&quot;))\n  private List&lt;String&gt; eventId\n}\n</code></pre>\n<p>Just make sure you never try creating new instances or updating them, as this will mess up your Dog and Event entity data.</p>\n"}],"owner":{"account_id":11119678,"reputation":1,"user_id":8162952,"display_name":"Palabok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692802505,"creation_date":1692469456,"question_id":76936526,"body_markdown":"I have an entity Dog and then an entity of Event that the dogs participate in. I want to extract a list(string) of each Event that has a corresponding DogId. I am using JPA projection because I need a subset of the entity with the addition of the eventId.\r\n\r\n```\r\npublic class DogSubset {\r\n\r\nprivate String dogId;\r\nprivate String dogName;\r\nprivate Date birthDate;\r\nprivate List&lt;String&gt; eventId\r\n\r\n}\r\n```\r\n\r\n```\r\n@Query(&quot;SELECT new project.entity.DogSubset(d.dogId, d.dogName, d.birthDate, e.eventId) FROM Dog d JOIN Event e on d.dogId = e.dogId WHERE d.dogId = :dogId&quot;)\r\npublic List&lt;DogSubset&gt; getDogSubSetsByDogId(String dogId);\r\n```\r\n\r\nNext, based on [another answer here](https://stackoverflow.com/questions/68605749/returning-list-of-strings-in-jparepository-using-query) is my attempt to join on e.EventId and extract as a collection, but it does not work.\r\n\r\n```\r\n@Query(&quot;SELECT new project.entity.DogSubset(d.dogId, d.dogName, d.birthDate, x) FROM Dog d JOIN Event e on d.dogId = e.dogId JOIN FETCH e.eventId x WHERE d.dogId = :dogId&quot;)\r\npublic List&lt;DogSubset&gt; getDogSubSetsByDogId(String dogId);\r\n```\r\n\r\nAfter more research I am not sure if what I am trying to do is possible, is there a way to return the List of Strings without a separate query?","title":"Returning list of strings in JPA @Query using projection","body":"<p>I have an entity Dog and then an entity of Event that the dogs participate in. I want to extract a list(string) of each Event that has a corresponding DogId. I am using JPA projection because I need a subset of the entity with the addition of the eventId.</p>\n<pre><code>public class DogSubset {\n\nprivate String dogId;\nprivate String dogName;\nprivate Date birthDate;\nprivate List&lt;String&gt; eventId\n\n}\n</code></pre>\n<pre><code>@Query(&quot;SELECT new project.entity.DogSubset(d.dogId, d.dogName, d.birthDate, e.eventId) FROM Dog d JOIN Event e on d.dogId = e.dogId WHERE d.dogId = :dogId&quot;)\npublic List&lt;DogSubset&gt; getDogSubSetsByDogId(String dogId);\n</code></pre>\n<p>Next, based on <a href=\"https://stackoverflow.com/questions/68605749/returning-list-of-strings-in-jparepository-using-query\">another answer here</a> is my attempt to join on e.EventId and extract as a collection, but it does not work.</p>\n<pre><code>@Query(&quot;SELECT new project.entity.DogSubset(d.dogId, d.dogName, d.birthDate, x) FROM Dog d JOIN Event e on d.dogId = e.dogId JOIN FETCH e.eventId x WHERE d.dogId = :dogId&quot;)\npublic List&lt;DogSubset&gt; getDogSubSetsByDogId(String dogId);\n</code></pre>\n<p>After more research I am not sure if what I am trying to do is possible, is there a way to return the List of Strings without a separate query?</p>\n"},{"tags":["java","aws-lambda","log4j2","amazon-cloudwatch"],"answers":[{"comments":[{"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"score":2,"creation_date":1646653209,"post_id":71380463,"comment_id":126168618,"body_markdown":"Yes. I would also recommend to use the logger provider in the context or just print to stdout. I know it sounds weird, but using Log4J in Lambdas has little to no benefit. Even worse, if not configured properly, it will be worse. For example: CloudWatch automatically adds timestamps, if log4j does it as well you have redundant data and worse readability ...","body":"Yes. I would also recommend to use the logger provider in the context or just print to stdout. I know it sounds weird, but using Log4J in Lambdas has little to no benefit. Even worse, if not configured properly, it will be worse. For example: CloudWatch automatically adds timestamps, if log4j does it as well you have redundant data and worse readability ..."},{"owner":{"account_id":14495033,"reputation":43,"user_id":10469922,"display_name":"satyam pandey"},"score":0,"creation_date":1646716974,"post_id":71380463,"comment_id":126186786,"body_markdown":"@Jens I am aware of the LambdaLogger approach, I just want to understand if we can configure log4j logs for cloudwatch. I am following AWS documentation for achieving it but not sure where iam going wrong.","body":"@Jens I am aware of the LambdaLogger approach, I just want to understand if we can configure log4j logs for cloudwatch. I am following AWS documentation for achieving it but not sure where iam going wrong."},{"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"score":0,"creation_date":1646725488,"post_id":71380463,"comment_id":126188687,"body_markdown":"@TheAccidentalCoder Then make sure that you deploy Log4J dependencies and configuration to the Lambda service. Looking at your post I&#39;d say that you are not including the required dependencies in your Jar. (see `runtimeDependency` which means that the dependency is already available in the Lambda JVM, which I don&#39;t think it is).","body":"@TheAccidentalCoder Then make sure that you deploy Log4J dependencies and configuration to the Lambda service. Looking at your post I&#39;d say that you are not including the required dependencies in your Jar. (see <code>runtimeDependency</code> which means that the dependency is already available in the Lambda JVM, which I don&#39;t think it is)."}],"tags":[],"owner":{"account_id":8437558,"reputation":147,"user_id":6331235,"display_name":"Srinivas Nangana"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646652932,"creation_date":1646652932,"answer_id":71380463,"question_id":71380254,"body_markdown":"alternatively, You can use the Context object to get a logger like below\r\n\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.LambdaLogger;\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    public class MyClass implements RequestHandler&lt;Map&lt;String, Object&gt;, Void&gt; {\r\n\t   @Override\r\n\tpublic Void handleRequest(Map&lt;String, Object&gt; inputRequest, Context context) {\r\n\tLambdaLogger logger = context.getLogger();\r\n\tlogger.log(&quot;Hello &quot;);\r\n\t}}","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>alternatively, You can use the Context object to get a logger like below</p>\n<pre><code>import com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.LambdaLogger;\nimport com.amazonaws.services.lambda.runtime.RequestHandler;\npublic class MyClass implements RequestHandler&lt;Map&lt;String, Object&gt;, Void&gt; {\n   @Override\npublic Void handleRequest(Map&lt;String, Object&gt; inputRequest, Context context) {\nLambdaLogger logger = context.getLogger();\nlogger.log(&quot;Hello &quot;);\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25120729,"reputation":1,"user_id":18969114,"display_name":"Nick Sutton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651097403,"creation_date":1651097403,"answer_id":72035841,"question_id":71380254,"body_markdown":"Changing these lines:\r\n\r\n    runtimeOnly &#39;org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0&#39;    \r\n    runtimeOnly &#39;com.amazonaws:aws-lambda-java-log4j2:1.5.1&#39;\r\n\r\nTo\r\n\r\n    implementation &#39;org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0&#39;\r\n    implementation &#39;com.amazonaws:aws-lambda-java-log4j2:1.5.1&#39;\r\n\r\nSolved this problem for me\r\n","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>Changing these lines:</p>\n<pre><code>runtimeOnly 'org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0'    \nruntimeOnly 'com.amazonaws:aws-lambda-java-log4j2:1.5.1'\n</code></pre>\n<p>To</p>\n<pre><code>implementation 'org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0'\nimplementation 'com.amazonaws:aws-lambda-java-log4j2:1.5.1'\n</code></pre>\n<p>Solved this problem for me</p>\n"},{"tags":[],"owner":{"account_id":4005547,"reputation":21,"user_id":3300283,"display_name":"Dmytro Kosiachenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691501709,"creation_date":1691501709,"answer_id":76860085,"question_id":71380254,"body_markdown":"Just add this dependencies:\r\n\r\n```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.20.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n```\r\n\r\nBe careful that any other logging packages are removed, also slf4j packages.","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>Just add this dependencies:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n                &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n                &lt;version&gt;1.5.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n                &lt;version&gt;2.20.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n                &lt;version&gt;2.20.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n                &lt;version&gt;2.20.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>Be careful that any other logging packages are removed, also slf4j packages.</p>\n"},{"tags":[],"owner":{"account_id":6442492,"reputation":335,"user_id":4992072,"display_name":"Rhineb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802473,"creation_date":1692802473,"answer_id":76962587,"question_id":71380254,"body_markdown":"The issue that you are seeing with cloudwatch logs not being generated is an artifact of a known issue where log4j2 does not work correctly with shadowJar or a shaded jar. In order to correct this and get the log output you expect you need an additional transformation at build time.\r\n\r\n**Using Gradle**\r\n```\r\nimport com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\r\n\r\nshadowJar{\r\n    transform(Log4j2PluginsCacheFileTransformer)\r\n}\r\n```\r\n\r\nTo try to more quickly remediate this issue I have linked all the posts I used to correct this below.\r\n\r\n- [log4j JsonTemplateLayout doesn&#39;t work when jar file built by shadowJar][1]\r\nOriginal post that clued me in\r\n- [Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency][2]\r\nFull example of how to fix in maven or gradle\r\n- [How correctly log AWS Lambda event with lambda powertools][3]\r\nExplanation with powertools\r\n- [Logging using Log4J2 on aws lambda - Class not found][4]\r\nExplanation where someone is claiming the issue is due to a bad path name (that is probably not the case)\r\n\r\nDisclaimer: To the person who deleted my previous post - the posts that I posted on are not duplicates but they are similar, there is a nuanced difference between them and all of them helped understanding various aspects of the problem. It took a very long time to put together all these random pieces of info into a true fix and I stand by my answer as being relevant on this post. Please do not remove posts that are geared towards saving multiple hours of research for others. Especially when there is no way to contact you, no suggested edit system, and no way to dispute YOUR opinion. Please allow the community to decide how valuable a post is by the vote system.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\r\n  [2]: https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\r\n  [3]: https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\r\n  [4]: https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>The issue that you are seeing with cloudwatch logs not being generated is an artifact of a known issue where log4j2 does not work correctly with shadowJar or a shaded jar. In order to correct this and get the log output you expect you need an additional transformation at build time.</p>\n<p><strong>Using Gradle</strong></p>\n<pre><code>import com.github.jengelman.gradle.plugins.shadow.transformers.Log4j2PluginsCacheFileTransformer\n\nshadowJar{\n    transform(Log4j2PluginsCacheFileTransformer)\n}\n</code></pre>\n<p>To try to more quickly remediate this issue I have linked all the posts I used to correct this below.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/71458136/log4j-jsontemplatelayout-doesnt-work-when-jar-file-built-by-shadowjar\">log4j JsonTemplateLayout doesn't work when jar file built by shadowJar</a>\nOriginal post that clued me in</li>\n<li><a href=\"https://stackoverflow.com/questions/75838785/console-contains-an-invalid-element-or-attribute-jsontemplatelayout-even-after/76681723#76681723\">Console contains an invalid element or attribute &quot;JsonTemplateLayout&quot; even after adding dependency</a>\nFull example of how to fix in maven or gradle</li>\n<li><a href=\"https://stackoverflow.com/questions/74739764/how-correctly-log-aws-lambda-event-with-lambda-powertools/76681756#76681756\">How correctly log AWS Lambda event with lambda powertools</a>\nExplanation with powertools</li>\n<li><a href=\"https://stackoverflow.com/questions/49973441/logging-using-log4j2-on-aws-lambda-class-not-found/76681833#76681833\">Logging using Log4J2 on aws lambda - Class not found</a>\nExplanation where someone is claiming the issue is due to a bad path name (that is probably not the case)</li>\n</ul>\n<p>Disclaimer: To the person who deleted my previous post - the posts that I posted on are not duplicates but they are similar, there is a nuanced difference between them and all of them helped understanding various aspects of the problem. It took a very long time to put together all these random pieces of info into a true fix and I stand by my answer as being relevant on this post. Please do not remove posts that are geared towards saving multiple hours of research for others. Especially when there is no way to contact you, no suggested edit system, and no way to dispute YOUR opinion. Please allow the community to decide how valuable a post is by the vote system.</p>\n"}],"owner":{"account_id":14495033,"reputation":43,"user_id":10469922,"display_name":"satyam pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3382,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1692802473,"creation_date":1646651886,"question_id":71380254,"body_markdown":"I am using the following configurations in my code but cloudwatch logs are not getting generated. Log4j2.xml is present in main/resources. I am following the AWS documentation and some stack overflow but I am not getting the logs it says -\r\n\r\n**Cloudwatch Logs** \r\n        \r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nSTART RequestId: e36-c827-46-93-a7 Version: $LATEST\r\nTransforming org/apache/logging/log4j/core/lookup/JndiLookup (lambdainternal.CustomerClassLoader@433d)\r\n2022-03-07T16:01:51.527+05:30\t2022-03-07 10:31:51,526 main ERROR Error processing element Lambda ([Appenders: null]): CLASS_NOT_FOUND\r\n2022-03-07T16:01:51.626+05:30\t2022-03-07 10:31:51,626 main ERROR Unable to locate appender &quot;Lambda&quot; for logger config &quot;root&quot;\r\n```  \r\n        \r\n**Log4j2.xml**\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2&quot; status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\r\n            &lt;PatternLayout&gt;\r\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\r\n            &lt;/PatternLayout&gt;\r\n        &lt;/Lambda&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;INFO&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\r\n        &lt;/Root&gt;\r\n        &lt;Logger name=&quot;software.amazon.awssdk&quot; level=&quot;WARN&quot; /&gt;\r\n        &lt;Logger name=&quot;software.amazon.awssdk.request&quot; level=&quot;DEBUG&quot; /&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n        \r\n**Gradle Dependencies used:** \r\n        \r\n```\r\nimplementation &#39;org.apache.logging.log4j:log4j-api:2.17.2&#39;\r\nimplementation &#39;org.apache.logging.log4j:log4j-core:2.17.2&#39;\r\nruntimeOnly &#39;org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0&#39;\r\nruntimeOnly &#39;com.amazonaws:aws-lambda-java-log4j2:1.5.1&#39;\r\n```\r\n\r\n**Service class Logging Declaration**\r\n\r\n```java\r\n@Slf4j\r\npublic class ABC {\r\n        \r\n    public void method1(){\r\n        log.info(&quot; HELLO WORLD  ________ &quot;);\r\n    }\r\n}\r\n```\r\n\r\nPlease help.","title":"Log4j2 + AWS JAVA LAMBDA + CLOUD WATCH LOGS","body":"<p>I am using the following configurations in my code but cloudwatch logs are not getting generated. Log4j2.xml is present in main/resources. I am following the AWS documentation and some stack overflow but I am not getting the logs it says -</p>\n<p><strong>Cloudwatch Logs</strong></p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nSTART RequestId: e36-c827-46-93-a7 Version: $LATEST\nTransforming org/apache/logging/log4j/core/lookup/JndiLookup (lambdainternal.CustomerClassLoader@433d)\n2022-03-07T16:01:51.527+05:30   2022-03-07 10:31:51,526 main ERROR Error processing element Lambda ([Appenders: null]): CLASS_NOT_FOUND\n2022-03-07T16:01:51.626+05:30   2022-03-07 10:31:51,626 main ERROR Unable to locate appender &quot;Lambda&quot; for logger config &quot;root&quot;\n</code></pre>\n<p><strong>Log4j2.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration packages=&quot;com.amazonaws.services.lambda.runtime.log4j2&quot; status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Lambda name=&quot;Lambda&quot;&gt;\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss} %X{AWSRequestId} %-5p %c{1}:%L - %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n        &lt;/Lambda&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;INFO&quot;&gt;\n            &lt;AppenderRef ref=&quot;Lambda&quot; /&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;software.amazon.awssdk&quot; level=&quot;WARN&quot; /&gt;\n        &lt;Logger name=&quot;software.amazon.awssdk.request&quot; level=&quot;DEBUG&quot; /&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>Gradle Dependencies used:</strong></p>\n<pre><code>implementation 'org.apache.logging.log4j:log4j-api:2.17.2'\nimplementation 'org.apache.logging.log4j:log4j-core:2.17.2'\nruntimeOnly 'org.apache.logging.log4j:log4j-slf4j18-impl:2.17.0'\nruntimeOnly 'com.amazonaws:aws-lambda-java-log4j2:1.5.1'\n</code></pre>\n<p><strong>Service class Logging Declaration</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class ABC {\n        \n    public void method1(){\n        log.info(&quot; HELLO WORLD  ________ &quot;);\n    }\n}\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","jackson","xmlmapper"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692806636,"post_id":76962554,"comment_id":135675271,"body_markdown":"You should probably be using `LocalDateTime` and `LocalDate`","body":"You should probably be using <code>LocalDateTime</code> and <code>LocalDate</code>"}],"owner":{"account_id":1529285,"reputation":400,"user_id":1426921,"accept_rate":57,"display_name":"marciel.deg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692802203,"creation_date":1692802203,"question_id":76962554,"body_markdown":"I&#39;m working on a project where they used a serializer to convert data fields:\r\n\t\r\n    public static class DateSerializer extends JsonSerializer&lt;Date&gt; {\r\n\t\tprivate static final DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n\r\n\t\t@Override\r\n\t\tpublic void serialize(Date value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n\t\t\tjgen.writeNumber(df.format(value));\r\n\t\t}\r\n\t}\r\n\r\nWith this, all Date fields are formatted with the same mask.\r\n\r\nI need a **specific field from one of the models** to be formatted with another mask (&quot;yyyy-MM-dd&quot;, without time).\r\n\r\n    public class DPS {\r\n      private Date dhEmi;\r\n      private Date dCompet;\r\n      ...\r\n    }\r\n\r\nExcepted result:\r\n\r\n    &lt;DPS&gt;\r\n      &lt;dhEmi&gt;2022-09-22T10:36:00-03:00&lt;/dhEmi&gt;\r\n      &lt;dCompet&gt;2022-09-22&lt;/dCompet&gt;\r\n    &lt;/DPS&gt;\r\n\r\nI tried using @JsonFormat on field dCompet, but the Serializer overrides the notation, and the notation is ignored.\r\n\r\nRemoving the Serializer and adding the notation to all Date fields in the project is an option, but I should consider it as a last resort due to the labor involved.\r\n\r\nIs there a way to do this without refactoring the whole project?","title":"Jackson - How to add different formatting to a specific Date field?","body":"<p>I'm working on a project where they used a serializer to convert data fields:</p>\n<pre><code>public static class DateSerializer extends JsonSerializer&lt;Date&gt; {\n    private static final DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;);\n\n    @Override\n    public void serialize(Date value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n        jgen.writeNumber(df.format(value));\n    }\n}\n</code></pre>\n<p>With this, all Date fields are formatted with the same mask.</p>\n<p>I need a <strong>specific field from one of the models</strong> to be formatted with another mask (&quot;yyyy-MM-dd&quot;, without time).</p>\n<pre><code>public class DPS {\n  private Date dhEmi;\n  private Date dCompet;\n  ...\n}\n</code></pre>\n<p>Excepted result:</p>\n<pre><code>&lt;DPS&gt;\n  &lt;dhEmi&gt;2022-09-22T10:36:00-03:00&lt;/dhEmi&gt;\n  &lt;dCompet&gt;2022-09-22&lt;/dCompet&gt;\n&lt;/DPS&gt;\n</code></pre>\n<p>I tried using @JsonFormat on field dCompet, but the Serializer overrides the notation, and the notation is ignored.</p>\n<p>Removing the Serializer and adding the notation to all Date fields in the project is an option, but I should consider it as a last resort due to the labor involved.</p>\n<p>Is there a way to do this without refactoring the whole project?</p>\n"},{"tags":["java","keycloak"],"answers":[{"tags":[],"owner":{"account_id":6983402,"reputation":165,"user_id":5355354,"display_name":"Jordan Sheinfeld"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692802178,"creation_date":1692802178,"answer_id":76962552,"question_id":76962365,"body_markdown":"It’s now located in keycloak-model-legacy-private-x.x.x.jar it was moved to the legacy package, the package is the same though.","title":"InMemoryUserAdapter keycloack jar in version &gt; 19","body":"<p>It’s now located in keycloak-model-legacy-private-x.x.x.jar it was moved to the legacy package, the package is the same though.</p>\n"}],"owner":{"account_id":21092302,"reputation":3,"user_id":22190920,"display_name":"Fran&#231;ois Schuster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76962552,"answer_count":1,"score":0,"last_activity_date":1692802178,"creation_date":1692800964,"question_id":76962365,"body_markdown":"Good morning,\r\n\r\nI want to use org.keycloak.storage.adapter.InMemoryUserAdapter class in maeven project.\r\nUntil version 18 it works with the keycloak-server-spi-private library but when I try to switch to version 19 the class is no longer found.\r\nIndeed I think it must be in another package but I have not found which one.\r\n\r\n\r\nThanks for your help.\r\n\r\nOn the documentation, the class still seems to be present though:\r\n\r\nhttps://www.keycloak.org/docs-api/19.0.3/javadocs/org/keycloak/storage/adapter/InMemoryUserAdapter.html","title":"InMemoryUserAdapter keycloack jar in version &gt; 19","body":"<p>Good morning,</p>\n<p>I want to use org.keycloak.storage.adapter.InMemoryUserAdapter class in maeven project.\nUntil version 18 it works with the keycloak-server-spi-private library but when I try to switch to version 19 the class is no longer found.\nIndeed I think it must be in another package but I have not found which one.</p>\n<p>Thanks for your help.</p>\n<p>On the documentation, the class still seems to be present though:</p>\n<p><a href=\"https://www.keycloak.org/docs-api/19.0.3/javadocs/org/keycloak/storage/adapter/InMemoryUserAdapter.html\" rel=\"nofollow noreferrer\">https://www.keycloak.org/docs-api/19.0.3/javadocs/org/keycloak/storage/adapter/InMemoryUserAdapter.html</a></p>\n"},{"tags":["java","docker","alpine-linux","corretto"],"answers":[{"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680780120,"post_id":75948555,"comment_id":133957569,"body_markdown":"Or `docker pull amazoncorretto:17-alpine-jdk` and then `docker run -it amazoncorretto:17-alpine-jdk /bin/sh` - see [here](https://hub.docker.com/_/amazoncorretto) for more tags. Unless, for some reason, you want _both_ Java 8 and Java 17 in the same Docker image.","body":"Or <code>docker pull amazoncorretto:17-alpine-jdk</code> and then <code>docker run -it amazoncorretto:17-alpine-jdk &#47;bin&#47;sh</code> - see <a href=\"https://hub.docker.com/_/amazoncorretto\" rel=\"nofollow noreferrer\">here</a> for more tags. Unless, for some reason, you want <i>both</i> Java 8 and Java 17 in the same Docker image."},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1680792743,"post_id":75948555,"comment_id":133960724,"body_markdown":"but I guess `docker pull ` command will not work in docker file.","body":"but I guess <code>docker pull </code> command will not work in docker file."}],"tags":[],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680777416,"creation_date":1680777416,"answer_id":75948555,"question_id":75948176,"body_markdown":"I found an aws [doc][1] to install Amazon Corretto 17 on Alpine Linux \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/generic-linux-install.html\r\n\r\nbelow is the command that neet to insert in your docker file to install corretto 17.\r\n\r\n    FROM alpine:3.17\r\n        RUN apk add --no-cache &amp;&amp;\\\r\n                wget -O /etc/apk/keys/amazoncorretto.rsa.pub https://apk.corretto.aws/amazoncorretto.rsa.pub &amp;&amp; \\\r\n                echo &quot;https://apk.corretto.aws&quot; &gt;&gt; /etc/apk/repositories &amp;&amp; \\\r\n                apk update &amp;&amp;\\\r\n                apk add amazon-corretto-17\r\n\r\n","title":"How to build corretto 17 alpine linux image using docker file","body":"<p>I found an aws <a href=\"https://docs.aws.amazon.com/corretto/latest/corretto-17-ug/generic-linux-install.html\" rel=\"nofollow noreferrer\">doc</a> to install Amazon Corretto 17 on Alpine Linux</p>\n<p>below is the command that neet to insert in your docker file to install corretto 17.</p>\n<pre><code>FROM alpine:3.17\n    RUN apk add --no-cache &amp;&amp;\\\n            wget -O /etc/apk/keys/amazoncorretto.rsa.pub https://apk.corretto.aws/amazoncorretto.rsa.pub &amp;&amp; \\\n            echo &quot;https://apk.corretto.aws&quot; &gt;&gt; /etc/apk/repositories &amp;&amp; \\\n            apk update &amp;&amp;\\\n            apk add amazon-corretto-17\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680802851,"creation_date":1680795786,"answer_id":75951375,"question_id":75948176,"body_markdown":"An approach, based on my comment in [this answer](https://stackoverflow.com/a/75948555/12567365):\r\n\r\nUse the following to use one of the [official](https://hub.docker.com/_/amazoncorretto) Corretto Java images - in this case, using Alpine:\r\n\r\n```\r\ndocker pull amazoncorretto:17-alpine-jdk\r\n``` \r\n\r\nand then \r\n\r\n```\r\ndocker run -it amazoncorretto:17-alpine-jdk /bin/sh\r\n```\r\n\r\n---\r\n\r\nOr, if you want a `Dockerfile`:\r\n\r\n```\r\nFROM amazoncorretto:17-alpine-jdk\r\nCMD [&quot;/usr/bin/java&quot;, &quot;--version&quot;]\r\n```\r\n\r\nIf I build the image using this...\r\n\r\n    docker build -t whateveryouwant .\r\n\r\n...then I can run it with:\r\n\r\n    docker run whateveryouwant \r\n\r\nAnd the `run` output is:\r\n\r\n```\r\nopenjdk 17.0.6 2023-01-17 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\r\n```\r\n\r\nThis obviously doesn&#39;t do anything useful, except to show the Java details.","title":"How to build corretto 17 alpine linux image using docker file","body":"<p>An approach, based on my comment in <a href=\"https://stackoverflow.com/a/75948555/12567365\">this answer</a>:</p>\n<p>Use the following to use one of the <a href=\"https://hub.docker.com/_/amazoncorretto\" rel=\"nofollow noreferrer\">official</a> Corretto Java images - in this case, using Alpine:</p>\n<pre><code>docker pull amazoncorretto:17-alpine-jdk\n</code></pre>\n<p>and then</p>\n<pre><code>docker run -it amazoncorretto:17-alpine-jdk /bin/sh\n</code></pre>\n<hr />\n<p>Or, if you want a <code>Dockerfile</code>:</p>\n<pre><code>FROM amazoncorretto:17-alpine-jdk\nCMD [&quot;/usr/bin/java&quot;, &quot;--version&quot;]\n</code></pre>\n<p>If I build the image using this...</p>\n<pre><code>docker build -t whateveryouwant .\n</code></pre>\n<p>...then I can run it with:</p>\n<pre><code>docker run whateveryouwant \n</code></pre>\n<p>And the <code>run</code> output is:</p>\n<pre><code>openjdk 17.0.6 2023-01-17 LTS\nOpenJDK Runtime Environment Corretto-17.0.6.10.1 (build 17.0.6+10-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.6.10.1 (build 17.0.6+10-LTS, mixed mode, sharing)\n</code></pre>\n<p>This obviously doesn't do anything useful, except to show the Java details.</p>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692536534,"creation_date":1692536534,"answer_id":76939505,"question_id":75948176,"body_markdown":"You don&#39;t need to build those images yourself (and you should not!) because Amazon provides several [pre-built images][1] at Docker Hub.\r\n\r\nFor Java 8 you can choose between JDK (`amazoncorretto:8-alpine-jdk`) and JRE (`amazoncorretto:8-alpine-jre`), for Java 17 Amazon provides the JDK only (`amazoncorretto:17-alpine-jdk`) but you can find a pre-built JRE at https://hub.docker.com/r/pnavato/amazoncorretto-jre.  In the same page you can find the Dockerfile you have asked for, if you really want to build the image yourself for any reason.\r\n\r\n  [1]: https://hub.docker.com/_/amazoncorretto","title":"How to build corretto 17 alpine linux image using docker file","body":"<p>You don't need to build those images yourself (and you should not!) because Amazon provides several <a href=\"https://hub.docker.com/_/amazoncorretto\" rel=\"nofollow noreferrer\">pre-built images</a> at Docker Hub.</p>\n<p>For Java 8 you can choose between JDK (<code>amazoncorretto:8-alpine-jdk</code>) and JRE (<code>amazoncorretto:8-alpine-jre</code>), for Java 17 Amazon provides the JDK only (<code>amazoncorretto:17-alpine-jdk</code>) but you can find a pre-built JRE at <a href=\"https://hub.docker.com/r/pnavato/amazoncorretto-jre\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/pnavato/amazoncorretto-jre</a>.  In the same page you can find the Dockerfile you have asked for, if you really want to build the image yourself for any reason.</p>\n"}],"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75948555,"answer_count":3,"score":-2,"last_activity_date":1692802095,"creation_date":1680774918,"question_id":75948176,"body_markdown":"I am new to Docker, and I need help to build Corretto 17 Alpine Linux image.\r\nI have an existing Dockerfile which build Java 8 Alpine Linux image as below.\r\n\r\n    FROM alpine:3.17\r\n    \r\n    # install software\r\n    RUN apk add --no-cache \\\r\n        bash \\\r\n    \topenjdk8-jre\r\n\r\nHow can I add Corretto 17 command to this Dockerfile to run my application on Corretto 17?\r\n","title":"How to build corretto 17 alpine linux image using docker file","body":"<p>I am new to Docker, and I need help to build Corretto 17 Alpine Linux image.\nI have an existing Dockerfile which build Java 8 Alpine Linux image as below.</p>\n<pre><code>FROM alpine:3.17\n\n# install software\nRUN apk add --no-cache \\\n    bash \\\n    openjdk8-jre\n</code></pre>\n<p>How can I add Corretto 17 command to this Dockerfile to run my application on Corretto 17?</p>\n"},{"tags":["java","arrays","recursion","call","point"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1692723492,"post_id":76955175,"comment_id":135662275,"body_markdown":"Please provide examples of input and expected output.  Also declare an `cp1` and any other values that are undefined or undeclared.","body":"Please provide examples of input and expected output.  Also declare an <code>cp1</code> and any other values that are undefined or undeclared."},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692723684,"post_id":76955175,"comment_id":135662312,"body_markdown":"@WJS The pl[] is full of n random points, che cp1[] is an array with cp1.length=2, it contains the coordinates of the closest point. This method calculate the distance between all the points in the array and then compares the delta1 and the delta (initialized to the max distance possible). the output is just delta, the minimum distance possible in pl[n];","body":"@WJS The pl[] is full of n random points, che cp1[] is an array with cp1.length=2, it contains the coordinates of the closest point. This method calculate the distance between all the points in the array and then compares the delta1 and the delta (initialized to the max distance possible). the output is just delta, the minimum distance possible in pl[n];"},{"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"score":0,"creation_date":1692723937,"post_id":76955175,"comment_id":135662352,"body_markdown":"@WJS like if I have 3 points this is:\nP: [java.awt.Point[x=548,y=418], java.awt.Point[x=413,y=132], java.awt.Point[x=422,y=475]]\n\nDelta: 138.2931668593933\n\nCP: [java.awt.Point[x=548,y=418], java.awt.Point[x=422,y=475]]","body":"@WJS like if I have 3 points this is: P: [java.awt.Point[x=548,y=418], java.awt.Point[x=413,y=132], java.awt.Point[x=422,y=475]]  Delta: 138.2931668593933  CP: [java.awt.Point[x=548,y=418], java.awt.Point[x=422,y=475]]"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1692726765,"post_id":76955175,"comment_id":135662933,"body_markdown":"Please [edit] your question to add details, instead of posting it in the comment section.","body":"Please <a href=\"https://stackoverflow.com/posts/76955175/edit\">edit</a> your question to add details, instead of posting it in the comment section."},{"owner":{"account_id":10510817,"reputation":624,"user_id":7746591,"display_name":"Andres Bores"},"score":3,"creation_date":1692726900,"post_id":76955175,"comment_id":135662965,"body_markdown":"Why would you want to convert that to a recursive method? Non-recursive methods perform better than recursive ones.","body":"Why would you want to convert that to a recursive method? Non-recursive methods perform better than recursive ones."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692802087,"creation_date":1692725826,"answer_id":76955672,"question_id":76955175,"body_markdown":"First, recursion isn&#39;t as efficient as your existing method.  So if anything, you would be de-optimizing you existing solution.  But if this is just an academic question, here is one solution that simply gets rid of the outer loop.\r\n\r\nCall it like this.\r\n```\r\nftc.findDeltaLRecurse(pl, 0, delta);\r\n```\r\n```\r\npublic double findDeltaLRecurse(Point[] pl, int next,\r\n       double delta) {\r\n    if (next &lt; pl.length) {\r\n\r\n       for (int i = next + 1; i &lt; pl.length; i++) {\r\n\r\n           double x12 = pl[next].getX() - pl[i].getX();\r\n           double y12 = pl[next].getY() - pl[i].getY();\r\n\r\n           double delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\r\n\r\n           if (delta &gt;= delta1) {\r\n               delta = delta1;\r\n               this.cp1[0] = pl[i];\r\n               this.cp1[1] = pl[next];\r\n               return findDeltaLRecurse(pl, next + 1,\r\n                        delta);\r\n           }\r\n       }\r\n   }\r\n   return delta;\r\n}\r\n```\r\nNote that the initial value of `delta` was computed outside the method and passed as an argument to avoid re-computing it upon each method call.","title":"How can I transform this method in a recursive call?","body":"<p>First, recursion isn't as efficient as your existing method.  So if anything, you would be de-optimizing you existing solution.  But if this is just an academic question, here is one solution that simply gets rid of the outer loop.</p>\n<p>Call it like this.</p>\n<pre><code>ftc.findDeltaLRecurse(pl, 0, delta);\n</code></pre>\n<pre><code>public double findDeltaLRecurse(Point[] pl, int next,\n       double delta) {\n    if (next &lt; pl.length) {\n\n       for (int i = next + 1; i &lt; pl.length; i++) {\n\n           double x12 = pl[next].getX() - pl[i].getX();\n           double y12 = pl[next].getY() - pl[i].getY();\n\n           double delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\n\n           if (delta &gt;= delta1) {\n               delta = delta1;\n               this.cp1[0] = pl[i];\n               this.cp1[1] = pl[next];\n               return findDeltaLRecurse(pl, next + 1,\n                        delta);\n           }\n       }\n   }\n   return delta;\n}\n</code></pre>\n<p>Note that the initial value of <code>delta</code> was computed outside the method and passed as an argument to avoid re-computing it upon each method call.</p>\n"},{"tags":[],"owner":{"account_id":29277281,"reputation":1,"user_id":22430760,"display_name":"justsomeone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692727678,"creation_date":1692727678,"answer_id":76955866,"question_id":76955175,"body_markdown":"    public double findDeltaL(Point[] pl) {\r\n\r\n        // not sure what you need to do if pl has only one point or if it null or empty array\r\n        // so i assumed it has at least 2 element\r\n\r\n        if (pl.length == 2) {\r\n            return Math.sqrt(Math.pow(pl[1].getX() - pl[0].getX(), 2) +\r\n                    Math.pow(pl[1].getY() - pl[0].getY(), 2));\r\n        } else {\r\n\r\n            return findDeltaL(pl, 0);\r\n        }\r\n\r\n    }\r\n\r\n    private double findDeltaL(Point[] pl, int currentIndex) {\r\n        if (pl.length == currentIndex + 2) {\r\n            return Math.min(minOfRow(pl, currentIndex));\r\n            // confirm if it the correct order for cp1 and cp2 as i do not know what you do with it\r\n            this.cp1[0] = pl[1];\r\n            this.cp1[1] = pl[0];\r\n        } else {\r\n            return Math.min(minOfRow(pl, currentIndex), findDeltaL(pl, currentIndex + 1));\r\n        }\r\n    }\r\n\r\n    private double minOfRow(Point[] pl, int currentIndex) {\r\n        // delta could be defined as static (maybe final too) field of your class\r\n       // minOFRow could also defined recursive in same way but you need to keep track of index of the current column on the current row also \r\n\r\n        double delta = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2));\r\n        double delta1;\r\n        for (int i = currentIndex + 1; i &lt; pl.length; i++) {\r\n\r\n            double x12 = pl[currentIndex].getX() - pl[i].getX();\r\n            double y12 = pl[currentIndex].getY() - pl[i].getY();\r\n\r\n            delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\r\n\r\n            if (delta &gt;= delta1) {\r\n\r\n                delta = delta1;\r\n                this.cp1[0] = pl[i];\r\n                this.cp1[1] = pl[currentIndex];\r\n            }\r\n        }\r\n        return delta;\r\n    }\r\n    ","title":"How can I transform this method in a recursive call?","body":"<pre><code>public double findDeltaL(Point[] pl) {\n\n    // not sure what you need to do if pl has only one point or if it null or empty array\n    // so i assumed it has at least 2 element\n\n    if (pl.length == 2) {\n        return Math.sqrt(Math.pow(pl[1].getX() - pl[0].getX(), 2) +\n                Math.pow(pl[1].getY() - pl[0].getY(), 2));\n    } else {\n\n        return findDeltaL(pl, 0);\n    }\n\n}\n\nprivate double findDeltaL(Point[] pl, int currentIndex) {\n    if (pl.length == currentIndex + 2) {\n        return Math.min(minOfRow(pl, currentIndex));\n        // confirm if it the correct order for cp1 and cp2 as i do not know what you do with it\n        this.cp1[0] = pl[1];\n        this.cp1[1] = pl[0];\n    } else {\n        return Math.min(minOfRow(pl, currentIndex), findDeltaL(pl, currentIndex + 1));\n    }\n}\n\nprivate double minOfRow(Point[] pl, int currentIndex) {\n    // delta could be defined as static (maybe final too) field of your class\n   // minOFRow could also defined recursive in same way but you need to keep track of index of the current column on the current row also \n\n    double delta = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2));\n    double delta1;\n    for (int i = currentIndex + 1; i &lt; pl.length; i++) {\n\n        double x12 = pl[currentIndex].getX() - pl[i].getX();\n        double y12 = pl[currentIndex].getY() - pl[i].getY();\n\n        delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\n\n        if (delta &gt;= delta1) {\n\n            delta = delta1;\n            this.cp1[0] = pl[i];\n            this.cp1[1] = pl[currentIndex];\n        }\n    }\n    return delta;\n}\n</code></pre>\n"}],"owner":{"account_id":29257380,"reputation":19,"user_id":22415274,"display_name":"imtrying727"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692802087,"creation_date":1692721111,"question_id":76955175,"body_markdown":"I have this method and I would to transform it in a recursive call.\r\n\r\n```java\r\npublic double findDeltaL(Point[] pl) {\r\n    double delta = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2)); \r\n    double delta1;\r\n\r\n    for (int j = 0; j &lt; pl.length; j++) {\r\n        for (int i = j + 1; i &lt; pl.length; i++) {\r\n            double x12 = pl[j].getX() - pl[i].getX();\r\n            double y12 = pl[j].getY() - pl[i].getY();\r\n            delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\r\n            if (delta &gt;= delta1) {\r\n                delta = delta1;\r\n                this.cp1[0] = pl[i];\r\n                this.cp1[1] = pl[j];\r\n            }\r\n        }\r\n    }\r\n    return delta;\r\n}\r\n```\r\n\r\nThis method takes an array of points and calculates the minor distance between two points (delta).\r\n\r\nAnd then put the pair of points in a new array (cp[]) that I will recall to print.\r\n\r\nThe pl[] is full of n random points, che cp1[] is an array with cp1.length=2, it contains the coordinates of the closest point. \r\nThis method calculate the distance between all the points in the array and then compares the delta1 and the delta (initialized to the max distance possible). the output is just delta, the minimum distance possible in pl[n].   \r\nLike if I have 3 points this is: P: [java.awt.Point[x=548,y=418], java.awt.Point[x=413,y=132], java.awt.Point[x=422,y=475]] Delta: 138.2931668593933 CP: [java.awt.Point[x=548,y=418], java.awt.Point[x=422,y=475]]","title":"How can I transform this method in a recursive call?","body":"<p>I have this method and I would to transform it in a recursive call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double findDeltaL(Point[] pl) {\n    double delta = Math.sqrt(Math.pow(FTCPPanel.WIDTH, 2) + Math.pow(FTCPPanel.HEIGHT, 2)); \n    double delta1;\n\n    for (int j = 0; j &lt; pl.length; j++) {\n        for (int i = j + 1; i &lt; pl.length; i++) {\n            double x12 = pl[j].getX() - pl[i].getX();\n            double y12 = pl[j].getY() - pl[i].getY();\n            delta1 = Math.sqrt(Math.pow(x12, 2) + Math.pow(y12, 2));\n            if (delta &gt;= delta1) {\n                delta = delta1;\n                this.cp1[0] = pl[i];\n                this.cp1[1] = pl[j];\n            }\n        }\n    }\n    return delta;\n}\n</code></pre>\n<p>This method takes an array of points and calculates the minor distance between two points (delta).</p>\n<p>And then put the pair of points in a new array (cp[]) that I will recall to print.</p>\n<p>The pl[] is full of n random points, che cp1[] is an array with cp1.length=2, it contains the coordinates of the closest point.\nThis method calculate the distance between all the points in the array and then compares the delta1 and the delta (initialized to the max distance possible). the output is just delta, the minimum distance possible in pl[n].<br />\nLike if I have 3 points this is: P: [java.awt.Point[x=548,y=418], java.awt.Point[x=413,y=132], java.awt.Point[x=422,y=475]] Delta: 138.2931668593933 CP: [java.awt.Point[x=548,y=418], java.awt.Point[x=422,y=475]]</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":2,"creation_date":1692802266,"post_id":76962491,"comment_id":135674333,"body_markdown":"You are repeating the call to `btn1.setBounds` three times. I assume your are supposed to set bounds for `btn2` and `btn3`?","body":"You are repeating the call to <code>btn1.setBounds</code> three times. I assume your are supposed to set bounds for <code>btn2</code> and <code>btn3</code>?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1692815996,"post_id":76962491,"comment_id":135677003,"body_markdown":"@MartinSieburg *that solved it. * - a better solution is to NOT use a null layout and instead use layout managers. Then the layout manager is responsible for setting the size/location of the buttons. Its easier to maintain and Swing was designed to be used with layout managers.","body":"@MartinSieburg *that solved it. * - a better solution is to NOT use a null layout and instead use layout managers. Then the layout manager is responsible for setting the size/location of the buttons. Its easier to maintain and Swing was designed to be used with layout managers."}],"owner":{"account_id":18093191,"reputation":87,"user_id":13152159,"display_name":"Martin Sieburg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692801733,"creation_date":1692801733,"question_id":76962491,"body_markdown":"So I am learning Java with the *IntelliJ* software and am trying to learn how to add multiple ```ActionListeners``` to the program.  \r\nI am using a video from the **Programming Guru** on Youtube to learn this.  \r\nI have followed his steps up until I got to the point where he adds the ```ActionListeners```.  \r\nHowever, at this point, there is only a single Button being displayed in the wrong location.\r\n  \r\n  \r\nHere is the code I have:\r\n```java\r\nimport javax.swing.*\r\nimport java.awt.*\r\n\r\nclass MultipleButtonsEvent {\r\n    public MultipleButtonsEvent(){\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setbounds(0, 0, 500, 500);\r\n        Container container = frame.getContentPane();\r\n\r\n        container.setLayout(null);\r\n\r\n        JButton btn1 = new JButton(&quot;Button 1&quot;);\r\n        btn1.setBounds(150, 10, 200, 40);\r\n        container.add(btn1);\r\n\r\n        JButton btn2 = new JButton(&quot;Button 1&quot;);\r\n        btn1.setBounds(150, 60, 200, 40);\r\n        container.add(btn2);\r\n\r\n        JButton btn3 = new JButton(&quot;Button 1&quot;);\r\n        btn1.setBounds(150, 110, 200, 40);\r\n        container.add(btn3);\r\n\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MultipleButtonsEvent mbe = new MultipleButtonsEvent();\r\n    }\r\n}\r\n```\r\n\r\nAll I am getting at this time is the correct screen size, however only &#39;Button 1&#39; is displayed with the wrong dimensions and it is nearly positioned just above the centre of the panel.  \r\nAdditionally, when I remove the following line:\r\n```java\r\ncontainer.add(btn1);\r\n```\r\nit gives me a blank screen panel.  \r\n  \r\nCan anyone tell me what I am doing wrong?","title":"Why aren&#39;t all the Buttons being displayed correctly in a Container?","body":"<p>So I am learning Java with the <em>IntelliJ</em> software and am trying to learn how to add multiple <code>ActionListeners</code> to the program.<br />\nI am using a video from the <strong>Programming Guru</strong> on Youtube to learn this.<br />\nI have followed his steps up until I got to the point where he adds the <code>ActionListeners</code>.<br />\nHowever, at this point, there is only a single Button being displayed in the wrong location.</p>\n<p>Here is the code I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*\nimport java.awt.*\n\nclass MultipleButtonsEvent {\n    public MultipleButtonsEvent(){\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setbounds(0, 0, 500, 500);\n        Container container = frame.getContentPane();\n\n        container.setLayout(null);\n\n        JButton btn1 = new JButton(&quot;Button 1&quot;);\n        btn1.setBounds(150, 10, 200, 40);\n        container.add(btn1);\n\n        JButton btn2 = new JButton(&quot;Button 1&quot;);\n        btn1.setBounds(150, 60, 200, 40);\n        container.add(btn2);\n\n        JButton btn3 = new JButton(&quot;Button 1&quot;);\n        btn1.setBounds(150, 110, 200, 40);\n        container.add(btn3);\n\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        MultipleButtonsEvent mbe = new MultipleButtonsEvent();\n    }\n}\n</code></pre>\n<p>All I am getting at this time is the correct screen size, however only 'Button 1' is displayed with the wrong dimensions and it is nearly positioned just above the centre of the panel.<br />\nAdditionally, when I remove the following line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>container.add(btn1);\n</code></pre>\n<p>it gives me a blank screen panel.</p>\n<p>Can anyone tell me what I am doing wrong?</p>\n"},{"tags":["java","logging","websphere"],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692801582,"creation_date":1692801582,"question_id":76962466,"body_markdown":"I am using WebSphere Application Server to run jakarta EE applications.\r\n\r\nPreviously, I have used the following style of log initiation:\r\n\r\n`Logger.getLogger(&quot;uk.co.company.app.pkg.classname&quot;)`\r\n\r\nwhich logs against that particular class in the trace.log/SystemOut.log file. additionally, in the WAS console, under `Troubleshooting &gt; Logs and Trace &gt; server &gt; Change log level details &gt; +Components and Groups &gt; + * [All Components]` I can see my class listed as  `uk.co.company.app.pkg.classname.*`, because when I installed the application into WebSphere it took the registered logger and added it to its list of known loggers.\r\n\r\nI am now moving to a different approach for log initialisation, as follows:\r\n\r\n```java\r\n@Inject\r\nprivate Logger logger;\r\n```\r\n\r\nand then a producer that uses the following to get a logger that is relevant for each class: \r\n\r\n```java\r\n@Produces\r\npublic Logger getLogger(InjectionPoint injectionPoint) {\r\n    return LoggerFactory.getLogger(injectionPoint.getMember().getDeclaringClass().getName());}\r\n```\r\n\r\nloggers produced this way don&#39;t register in the WAS console - or at least, mine aren&#39;t -- presumably because they&#39;re created dynamically at injection time. (note also the change from `java.util.logging` to `org.slf4j.logger` which I guess might be clouding things, but I hope not)\r\n\r\nIs there any way to get the loggers to show up?","title":"Registering an injected java logger that can be seen in the WAS console","body":"<p>I am using WebSphere Application Server to run jakarta EE applications.</p>\n<p>Previously, I have used the following style of log initiation:</p>\n<p><code>Logger.getLogger(&quot;uk.co.company.app.pkg.classname&quot;)</code></p>\n<p>which logs against that particular class in the trace.log/SystemOut.log file. additionally, in the WAS console, under <code>Troubleshooting &gt; Logs and Trace &gt; server &gt; Change log level details &gt; +Components and Groups &gt; + * [All Components]</code> I can see my class listed as  <code>uk.co.company.app.pkg.classname.*</code>, because when I installed the application into WebSphere it took the registered logger and added it to its list of known loggers.</p>\n<p>I am now moving to a different approach for log initialisation, as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\nprivate Logger logger;\n</code></pre>\n<p>and then a producer that uses the following to get a logger that is relevant for each class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Produces\npublic Logger getLogger(InjectionPoint injectionPoint) {\n    return LoggerFactory.getLogger(injectionPoint.getMember().getDeclaringClass().getName());}\n</code></pre>\n<p>loggers produced this way don't register in the WAS console - or at least, mine aren't -- presumably because they're created dynamically at injection time. (note also the change from <code>java.util.logging</code> to <code>org.slf4j.logger</code> which I guess might be clouding things, but I hope not)</p>\n<p>Is there any way to get the loggers to show up?</p>\n"},{"tags":["java","json-deserialization","jsonparser"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1692805675,"post_id":76962452,"comment_id":135675081,"body_markdown":"Not sure why you put ListDeserializer as an inner class, it should be a top level class or static nested class. Read https://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class to understand why you see the error.","body":"Not sure why you put ListDeserializer as an inner class, it should be a top level class or static nested class. Read <a href=\"https://stackoverflow.com/questions/70324/java-inner-class-and-static-nested-class\" title=\"java inner class and static nested class\">stackoverflow.com/questions/70324/&hellip;</a> to understand why you see the error."}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692801489,"creation_date":1692801489,"question_id":76962452,"body_markdown":"I&#39;m trying to set the custom deserialization for my object.\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class CtlEntity {\r\n      @JsonProperty(&quot;id&quot;)\r\n      private int id;  \r\n  \r\n      @JsonProperty(&quot;kids&quot;)\r\n      @JsonDeserialize (using = ListDeserializer.class)\r\n      private List&lt;CtlEntity&gt; kids;\r\n\r\n    }\r\n\r\nMy deserializer is:\r\n\r\n      public class ListDeserializer extends StdDeserializer {\r\n\r\n         public ListDeserializer() {\r\n             this(null);\r\n         }\r\n        public ListDeserializer(Class clazz) {\r\n            super(clazz);\r\n        }\r\n\r\n        @Override\r\n        public List&lt;CtlEntity&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\r\n            InnerItems innerItems = jsonParser.readValueAs(InnerItems.class);\r\n            return innerItems.elements;\r\n        }\r\n        private class InnerItems {\r\n            public List&lt;CtlEntity&gt; elements;\r\n        }\r\n      }\r\n\r\nSo I locate my ListDeserializer in CtlEntity as inner class.\r\n\r\nBut receive the error:  \r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Class ru.sber.entity.model.CtlEntity$ListDeserializer has no default (no arg) constructor\r\n\r\nThis answer is not usefull for me: [CustomDeserializer has no default (no arg) constructor][1]\r\n     \r\n\r\n  [1]: https://stackoverflow.com/questions/43214545/customdeserializer-has-no-default-no-arg-constructor","title":"Java JsonMappingException: custom StdDeserializer has no default (no arg) constructor","body":"<p>I'm trying to set the custom deserialization for my object.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class CtlEntity {\n  @JsonProperty(&quot;id&quot;)\n  private int id;  \n\n  @JsonProperty(&quot;kids&quot;)\n  @JsonDeserialize (using = ListDeserializer.class)\n  private List&lt;CtlEntity&gt; kids;\n\n}\n</code></pre>\n<p>My deserializer is:</p>\n<pre><code>  public class ListDeserializer extends StdDeserializer {\n\n     public ListDeserializer() {\n         this(null);\n     }\n    public ListDeserializer(Class clazz) {\n        super(clazz);\n    }\n\n    @Override\n    public List&lt;CtlEntity&gt; deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n        InnerItems innerItems = jsonParser.readValueAs(InnerItems.class);\n        return innerItems.elements;\n    }\n    private class InnerItems {\n        public List&lt;CtlEntity&gt; elements;\n    }\n  }\n</code></pre>\n<p>So I locate my ListDeserializer in CtlEntity as inner class.</p>\n<p>But receive the error:</p>\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Class ru.sber.entity.model.CtlEntity$ListDeserializer has no default (no arg) constructor\n</code></pre>\n<p>This answer is not usefull for me: <a href=\"https://stackoverflow.com/questions/43214545/customdeserializer-has-no-default-no-arg-constructor\">CustomDeserializer has no default (no arg) constructor</a></p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1692802974,"post_id":76962417,"comment_id":135674479,"body_markdown":"It uses BULK feature which bypasses standard inserts which you&#39;re doing. You can use SQLServerBulkCopy class from ms-jdbc driver to achieve similar (albeit slightly worse) performance. Your way generates a lot of inserts which can never match bulk performance","body":"It uses BULK feature which bypasses standard inserts which you&#39;re doing. You can use SQLServerBulkCopy class from ms-jdbc driver to achieve similar (albeit slightly worse) performance. Your way generates a lot of inserts which can never match bulk performance"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1692865516,"post_id":76962417,"comment_id":135682776,"body_markdown":"One thing you can do is manually build sql with a list of values as insert into xyz (...) values (1,2,3),(4,5,6) but it&#39;s still not as good as bulking","body":"One thing you can do is manually build sql with a list of values as insert into xyz (...) values (1,2,3),(4,5,6) but it&#39;s still not as good as bulking"}],"owner":{"account_id":17493469,"reputation":1,"user_id":12685142,"display_name":"Deocareza NoevieJean"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692801274,"creation_date":1692801274,"question_id":76962417,"body_markdown":"I am trying to replicate the &quot;Import Flat File&quot; functionality of SQL Server Management Studio using Java code. This feature allows me to quickly import CSV files into a SQL Server database. \r\nI have attempted to achieve this using Java with the JdbcTemplate and PreparedStatement, but the import process is significantly slower compared to using SQL Server Management Studio. \r\nFor instance, while SQL Server Management Studio takes around ten minutes to import a CSV file, my Java implementation using JdbcTemplate takes about three hours for the same task.\r\nWhen I turn BATCH_ When the SIZE is increased, the database will report an error : connection closed by server.\r\n\r\nMy code of jdbcTemplate:\r\n\r\n```\r\npublic class CsvImportDemo {\r\n\r\n    private static final String CSV_FILE_PATH = &quot;file.csv&quot;;\r\n    private static final String SQL_INSERT = &quot;INSERT INTO TableA (Column1, Column2, ...) VALUES (?, ?)&quot;;\r\n    private static final int BATCH_SIZE = 100;\r\n\r\n    public static void main(String[] args) {\r\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(/*data source */);//get by @Autowired\r\n\r\n        try (BufferedReader br = new BufferedReader(new FileReader(CSV_FILE_PATH))) {\r\n            List&lt;Object[]&gt; batchArgs = new ArrayList&lt;&gt;();\r\n            String line;\r\n            int rowCount = 0;\r\n\r\n            while ((line = br.readLine()) != null) {\r\n                String[] values = line.split(&quot;,&quot;);\r\n                Object[] rowArgs = new Object[]{values[0], values[1]}; \r\n                batchArgs.add(rowArgs);\r\n\r\n                rowCount++;\r\n\r\n                if (rowCount % BATCH_SIZE == 0) {\r\n                    jdbcTemplate.execute(SQL_INSERT, (PreparedStatementSetter) ps -&gt; {\r\n                        for (Object[] argsArray : batchArgs) {\r\n                            ps.setObject(1, argsArray[0]);\r\n                            ps.setObject(2, argsArray[1]);\r\n                           \r\n                            ps.addBatch();\r\n                        }\r\n                        ps.executeBatch();\r\n                    });\r\n\r\n                    batchArgs.clear();\r\n                }\r\n            }\r\n\r\n            if (!batchArgs.isEmpty()) {\r\n                jdbcTemplate.execute(SQL_INSERT, (PreparedStatementSetter) ps -&gt; {\r\n                    for (Object[] argsArray : batchArgs) {\r\n                        ps.setObject(1, argsArray[0]);\r\n                        ps.setObject(2, argsArray[1]);\r\n                       \r\n                        ps.addBatch();\r\n                    }\r\n                    ps.executeBatch();\r\n                });\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI would like to understand the underlying principles that make SQL Server Management Studio&#39;s import process so efficient and seek advice on how to implement a Java solution that achieves similar levels of efficiency. Could someone please provide insights or suggestions on how I can optimize my Java code for faster CSV import into SQL Server?\r\n\r\nAny help with this matter would be greatly appreciated. Thank you in advance!\r\n\r\n Optimize my Java code for faster CSV import into SQL Server","title":"Efficiently Importing CSV into SQL Server using Java Comparable to SQL Server Management Studio","body":"<p>I am trying to replicate the &quot;Import Flat File&quot; functionality of SQL Server Management Studio using Java code. This feature allows me to quickly import CSV files into a SQL Server database.\nI have attempted to achieve this using Java with the JdbcTemplate and PreparedStatement, but the import process is significantly slower compared to using SQL Server Management Studio.\nFor instance, while SQL Server Management Studio takes around ten minutes to import a CSV file, my Java implementation using JdbcTemplate takes about three hours for the same task.\nWhen I turn BATCH_ When the SIZE is increased, the database will report an error : connection closed by server.</p>\n<p>My code of jdbcTemplate:</p>\n<pre><code>public class CsvImportDemo {\n\n    private static final String CSV_FILE_PATH = &quot;file.csv&quot;;\n    private static final String SQL_INSERT = &quot;INSERT INTO TableA (Column1, Column2, ...) VALUES (?, ?)&quot;;\n    private static final int BATCH_SIZE = 100;\n\n    public static void main(String[] args) {\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(/*data source */);//get by @Autowired\n\n        try (BufferedReader br = new BufferedReader(new FileReader(CSV_FILE_PATH))) {\n            List&lt;Object[]&gt; batchArgs = new ArrayList&lt;&gt;();\n            String line;\n            int rowCount = 0;\n\n            while ((line = br.readLine()) != null) {\n                String[] values = line.split(&quot;,&quot;);\n                Object[] rowArgs = new Object[]{values[0], values[1]}; \n                batchArgs.add(rowArgs);\n\n                rowCount++;\n\n                if (rowCount % BATCH_SIZE == 0) {\n                    jdbcTemplate.execute(SQL_INSERT, (PreparedStatementSetter) ps -&gt; {\n                        for (Object[] argsArray : batchArgs) {\n                            ps.setObject(1, argsArray[0]);\n                            ps.setObject(2, argsArray[1]);\n                           \n                            ps.addBatch();\n                        }\n                        ps.executeBatch();\n                    });\n\n                    batchArgs.clear();\n                }\n            }\n\n            if (!batchArgs.isEmpty()) {\n                jdbcTemplate.execute(SQL_INSERT, (PreparedStatementSetter) ps -&gt; {\n                    for (Object[] argsArray : batchArgs) {\n                        ps.setObject(1, argsArray[0]);\n                        ps.setObject(2, argsArray[1]);\n                       \n                        ps.addBatch();\n                    }\n                    ps.executeBatch();\n                });\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>I would like to understand the underlying principles that make SQL Server Management Studio's import process so efficient and seek advice on how to implement a Java solution that achieves similar levels of efficiency. Could someone please provide insights or suggestions on how I can optimize my Java code for faster CSV import into SQL Server?</p>\n<p>Any help with this matter would be greatly appreciated. Thank you in advance!</p>\n<p>Optimize my Java code for faster CSV import into SQL Server</p>\n"},{"tags":["java","google-app-engine","deployment","archive"],"answers":[{"tags":[],"owner":{"account_id":12220645,"reputation":240,"user_id":8919791,"display_name":"V&#237;tor Resende"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692800924,"creation_date":1692800924,"answer_id":76962359,"question_id":76962358,"body_markdown":"As well as did Google tutorial, to deploy a pre-existing WAR or runnable JAR file we need to start setting up an app.yaml file with flexible environment, java runtime and with our jar/war file:\r\n\r\n    runtime: java\r\n    env: flex\r\n    handlers:\r\n      - url: /.*\r\n      script: &lt;file_name&gt;.war\r\n\r\n*N.B.: it assumes your app.yaml file is located in the same folder of your jar/war file.*\r\n\r\nOnce we have our .yaml file we can deploy our application running the following gcloud command (you must have GCP SDK installed or use GCP cloud shell):\r\n\r\n    gcloud app deploy app.yaml\r\n\r\nSimple as you can see, we just need to wait for the deploy process to finish.","title":"Deploying an App Engine application using an archive file [jar/war]","body":"<p>As well as did Google tutorial, to deploy a pre-existing WAR or runnable JAR file we need to start setting up an app.yaml file with flexible environment, java runtime and with our jar/war file:</p>\n<pre><code>runtime: java\nenv: flex\nhandlers:\n  - url: /.*\n  script: &lt;file_name&gt;.war\n</code></pre>\n<p><em>N.B.: it assumes your app.yaml file is located in the same folder of your jar/war file.</em></p>\n<p>Once we have our .yaml file we can deploy our application running the following gcloud command (you must have GCP SDK installed or use GCP cloud shell):</p>\n<pre><code>gcloud app deploy app.yaml\n</code></pre>\n<p>Simple as you can see, we just need to wait for the deploy process to finish.</p>\n"}],"owner":{"account_id":12220645,"reputation":240,"user_id":8919791,"display_name":"V&#237;tor Resende"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76962359,"answer_count":1,"score":0,"last_activity_date":1692800924,"creation_date":1692800924,"question_id":76962358,"body_markdown":"Even though we have access to the google documentation about this topic [here][1], I’ve thought hard to follow all the instructions once we need to have Eclipse installed. To make matters worse, I haven’t found anything on the internet that could help me to deploy an .war file using an App Engine of Google Cloud Computing (GCP).\r\n\r\n**Context**\r\n\r\nIn my specific case, I coded an application using Bazel + Guice ([bazel-guice-app][2]) and I didn’t find any easy tutorial explaining how to deploy it without installing anything (of course, we need to install GCP SDK).\r\n\r\n**Goal**\r\n\r\nDeploy an application in App Engine using .war/.jar files.\r\n\r\n  [1]: https://cloud.google.com/eclipse/docs/deploy-flex-jar\r\n  [2]: https://github.com/vitoresende/bazel-guice-app","title":"Deploying an App Engine application using an archive file [jar/war]","body":"<p>Even though we have access to the google documentation about this topic <a href=\"https://cloud.google.com/eclipse/docs/deploy-flex-jar\" rel=\"nofollow noreferrer\">here</a>, I’ve thought hard to follow all the instructions once we need to have Eclipse installed. To make matters worse, I haven’t found anything on the internet that could help me to deploy an .war file using an App Engine of Google Cloud Computing (GCP).</p>\n<p><strong>Context</strong></p>\n<p>In my specific case, I coded an application using Bazel + Guice (<a href=\"https://github.com/vitoresende/bazel-guice-app\" rel=\"nofollow noreferrer\">bazel-guice-app</a>) and I didn’t find any easy tutorial explaining how to deploy it without installing anything (of course, we need to install GCP SDK).</p>\n<p><strong>Goal</strong></p>\n<p>Deploy an application in App Engine using .war/.jar files.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1692714555,"post_id":76954266,"comment_id":135660232,"body_markdown":"Use a sliding window approach. Start from both ends and work towards the center. If two items match, you don&#39;t have to proceed further.","body":"Use a sliding window approach. Start from both ends and work towards the center. If two items match, you don&#39;t have to proceed further."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":2,"creation_date":1692714897,"post_id":76954266,"comment_id":135660301,"body_markdown":"This seems underspecified. If you go strictly by strings, then the first common value would surely have to be &quot;/partA/partB/partC/value&quot;, and the last one &quot;/&quot;. So is there more to what you want? Comparing pairs of strings? Matching by delimiters?","body":"This seems underspecified. If you go strictly by strings, then the first common value would surely have to be &quot;/partA/partB/partC/value&quot;, and the last one &quot;/&quot;. So is there more to what you want? Comparing pairs of strings? Matching by delimiters?"},{"owner":{"account_id":5734410,"reputation":1164,"user_id":4529026,"accept_rate":91,"display_name":"Prasad"},"score":0,"creation_date":1692715064,"post_id":76954266,"comment_id":135660340,"body_markdown":"Yeah, it&#39;s matching string by delimiter &#39;/&#39;","body":"Yeah, it&#39;s matching string by delimiter &#39;/&#39;"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1692715319,"post_id":76954266,"comment_id":135660395,"body_markdown":"But your code is not considering that. So this is one problem with it.","body":"But your code is not considering that. So this is one problem with it."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1692715987,"post_id":76954266,"comment_id":135660560,"body_markdown":"What&#39;s the overall goal of the problem you&#39;re describing here? Be wary of the [XY Problem](https://xyproblem.info/). It looks like you are maybe trying to break these down into some kind of tree structure? If so, a literal `Tree&lt;String&gt;` may service you well, or making your own by hand. Barring the `value1` bit in the output, you&#39;re looking essentially at &quot;branches&quot; of a tree with no leaves (end-nodes).","body":"What&#39;s the overall goal of the problem you&#39;re describing here? Be wary of the <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. It looks like you are maybe trying to break these down into some kind of tree structure? If so, a literal <code>Tree&lt;String&gt;</code> may service you well, or making your own by hand. Barring the <code>value1</code> bit in the output, you&#39;re looking essentially at &quot;branches&quot; of a tree with no leaves (end-nodes)."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1692716030,"post_id":76954266,"comment_id":135660570,"body_markdown":"These all have a longest common prefix of `&quot;/part&quot;`, why isn&#39;t that the answer?","body":"These all have a longest common prefix of <code>&quot;&#47;part&quot;</code>, why isn&#39;t that the answer?"}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692766072,"post_id":76954716,"comment_id":135667344,"body_markdown":"I would use _Stream.of(paths).map(string -&gt; List.of(string.split(&quot;/&quot;))).toList()_ instead of the _tokenizePath_ method.  Additionally, you could use _result.add(String.join(delimiter, commonPath(currPath, otherPath)))_.  On a final note, you should move the boolean _found_ declaration to outside of the _loop_.  Otherwise, nice work, it functions well.","body":"I would use <i>Stream.of(paths).map(string -&gt; List.of(string.split(&quot;/&quot;))).toList()</i> instead of the <i>tokenizePath</i> method.  Additionally, you could use <i>result.add(String.join(delimiter, commonPath(currPath, otherPath)))</i>.  On a final note, you should move the boolean <i>found</i> declaration to outside of the <i>loop</i>.  Otherwise, nice work, it functions well."},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":1,"creation_date":1692769832,"post_id":76954716,"comment_id":135667741,"body_markdown":"Pay attention on the complexity of this solution. This is `O(nˆ2)` which is not good.","body":"Pay attention on the complexity of this solution. This is <code>O(nˆ2)</code> which is not good."}],"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1692717244,"creation_date":1692717244,"answer_id":76954716,"question_id":76954266,"body_markdown":"You could tokenize all the paths, loop over each path, and for each path, loop through the other paths.\r\n\r\nJust compare them at index 1 and work your way to the right until they no longer match. Store the path inside of a set.\r\n\r\nBased on your desired output, you want a common path for each of the first parts i.e., `partA`, `partD`, `partG`, and `partJ`.\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\npublic class LongestCommonPath {\r\n  public static void main(String[] args) {\r\n    String arr[] = {\r\n        &quot;/partA/partB/partC/value1&quot;, &quot;/partA/partB/partC/value2&quot;,\r\n        &quot;/partD/partE/partF/value1&quot;, &quot;/partD/partE/partF/value2&quot;,\r\n        &quot;/partG/partH/partI/value1&quot;, &quot;/partG/value2&quot;,\r\n        &quot;/partJ/value1&quot;\r\n    };\r\n\r\n    for (String path : longestCommonPaths(1, &quot;/&quot;, arr)) {\r\n      System.out.println(path);\r\n    }\r\n  }\r\n\r\n  public static List&lt;String&gt; longestCommonPaths(int offset, String delimiter, String... paths) {\r\n    Set&lt;String&gt; result = new LinkedHashSet&lt;&gt;();\r\n    List&lt;List&lt;String&gt;&gt; tokenizedPaths = Stream.of(paths).map(path -&gt; tokenizePath(path, delimiter)).collect(Collectors.toList());\r\n    for (List&lt;String&gt; currPath : tokenizedPaths) {\r\n      boolean found = false;\r\n      for (List&lt;String&gt; otherPath : tokenizedPaths) {\r\n        if (currPath != otherPath &amp;&amp; currPath.get(offset).equals(otherPath.get(offset))) {\r\n          result.add(commonPath(currPath, otherPath).stream().collect(Collectors.joining(delimiter)));\r\n          found = true;\r\n        }\r\n      }\r\n      if (!found) {\r\n        result.add(currPath.stream().collect(Collectors.joining(delimiter)));\r\n        found = false;\r\n      }\r\n    }\r\n    return new ArrayList&lt;&gt;(result);\r\n  }\r\n\r\n  private static List&lt;String&gt; commonPath(List&lt;String&gt; path, List&lt;String&gt; otherPath) {\r\n    int index = 0;\r\n    while (index &lt; path.size() &amp;&amp; index &lt; otherPath.size() &amp;&amp; path.get(index).equals(otherPath.get(index))) {\r\n      index++;\r\n    }\r\n    return path.subList(0, index);\r\n  }\r\n\r\n  private static List&lt;String&gt; tokenizePath(String path, String delimiter) {\r\n    return Stream.of(path.split(delimiter)).collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\n## Output\r\n\r\n```\r\n/partA/partB/partC\r\n/partD/partE/partF\r\n/partG\r\n/partJ/value1\r\n```","title":"Get the unique longest common prefix element info from array in java","body":"<p>You could tokenize all the paths, loop over each path, and for each path, loop through the other paths.</p>\n<p>Just compare them at index 1 and work your way to the right until they no longer match. Store the path inside of a set.</p>\n<p>Based on your desired output, you want a common path for each of the first parts i.e., <code>partA</code>, <code>partD</code>, <code>partG</code>, and <code>partJ</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.*;\n\npublic class LongestCommonPath {\n  public static void main(String[] args) {\n    String arr[] = {\n        &quot;/partA/partB/partC/value1&quot;, &quot;/partA/partB/partC/value2&quot;,\n        &quot;/partD/partE/partF/value1&quot;, &quot;/partD/partE/partF/value2&quot;,\n        &quot;/partG/partH/partI/value1&quot;, &quot;/partG/value2&quot;,\n        &quot;/partJ/value1&quot;\n    };\n\n    for (String path : longestCommonPaths(1, &quot;/&quot;, arr)) {\n      System.out.println(path);\n    }\n  }\n\n  public static List&lt;String&gt; longestCommonPaths(int offset, String delimiter, String... paths) {\n    Set&lt;String&gt; result = new LinkedHashSet&lt;&gt;();\n    List&lt;List&lt;String&gt;&gt; tokenizedPaths = Stream.of(paths).map(path -&gt; tokenizePath(path, delimiter)).collect(Collectors.toList());\n    for (List&lt;String&gt; currPath : tokenizedPaths) {\n      boolean found = false;\n      for (List&lt;String&gt; otherPath : tokenizedPaths) {\n        if (currPath != otherPath &amp;&amp; currPath.get(offset).equals(otherPath.get(offset))) {\n          result.add(commonPath(currPath, otherPath).stream().collect(Collectors.joining(delimiter)));\n          found = true;\n        }\n      }\n      if (!found) {\n        result.add(currPath.stream().collect(Collectors.joining(delimiter)));\n        found = false;\n      }\n    }\n    return new ArrayList&lt;&gt;(result);\n  }\n\n  private static List&lt;String&gt; commonPath(List&lt;String&gt; path, List&lt;String&gt; otherPath) {\n    int index = 0;\n    while (index &lt; path.size() &amp;&amp; index &lt; otherPath.size() &amp;&amp; path.get(index).equals(otherPath.get(index))) {\n      index++;\n    }\n    return path.subList(0, index);\n  }\n\n  private static List&lt;String&gt; tokenizePath(String path, String delimiter) {\n    return Stream.of(path.split(delimiter)).collect(Collectors.toList());\n  }\n}\n</code></pre>\n<h2>Output</h2>\n<pre><code>/partA/partB/partC\n/partD/partE/partF\n/partG\n/partJ/value1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692764730,"creation_date":1692762643,"answer_id":76958151,"question_id":76954266,"body_markdown":"&gt; _&quot;... I&#39;m trying to fetch the unique longest common substring element information from an array. ...&quot;_\r\n\r\n&gt; _&quot;... From the input array, the first 2 elements are common until &quot;/partA/partB/partC&quot;, so I need to fetch the common value. ...&quot;_\r\n\r\nSo, the longest common prefix of each value.  \r\nYou&#39;ll need additional code; a &quot;longest common prefix&quot; code will return one value, in this case &quot;/part&quot;.\r\n\r\nYou&#39;ll need to traverse _arr_ and additionally sub-traverse the other items.  \r\nIn this example the prefix value is added to a _[List](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html)_, and then removed when a longer _string_ is found.  \r\nI then added the list to a _[Set](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html)_, to remove any duplicate values.\r\n\r\n```java\r\nString arr[] = {\r\n    &quot;/partA/partB/partC/value1&quot;,\r\n    &quot;/partA/partB/partC/value2&quot;,\r\n    &quot;/partD/partE/partF/value1&quot;,\r\n    &quot;/partD/partE/partF/value2&quot;,\r\n    &quot;/partG/partH/partI/value1&quot;,\r\n    &quot;/partG/value2&quot;,\r\n    &quot;/partJ/value1&quot;\r\n};\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nString string;\r\nint maximum;\r\nfor (int a = 0, b; a &lt; arr.length; a++) {\r\n    maximum = 0;\r\n    for (b = 0; b &lt; arr.length; b++) {\r\n        if (a == b) continue;\r\n        string = longestCommonPrefix(arr[a], arr[b]);\r\n        if (string.length() &gt; maximum) {\r\n            if (maximum != 0) list.remove(list.size() - 1);\r\n            list.add(string);\r\n            maximum = string.length();\r\n        }\r\n    }\r\n    if (maximum == 0) list.add(arr[a]);\r\n}\r\nnew TreeSet&lt;&gt;(list).forEach(System.out::println);\r\n```\r\n\r\nI&#39;m using a &quot;longest common prefix&quot; routine from _Google AI_; it&#39;s similar to what you have.  \r\nI&#39;ve adjusted it to check for a `/`, since you&#39;re looking to evaluate each field of the delimited values.  \r\nIn other words, if it&#39;s not the entire value, return up to the last `/` character of the prefix.\r\n\r\n```java\r\nString longestCommonPrefix(String a, String b) {\r\n    int index, length = Math.min(a.length(), b.length());\r\n    for (index = 0; index &lt; length; index++) {\r\n        if (a.charAt(index) != b.charAt(index)) break;\r\n    }\r\n    if (index == a.length()) return a.substring(0, index);\r\n    else {\r\n        int indexOf = a.substring(0, index).lastIndexOf(&#39;/&#39;);\r\n        if (indexOf != -1) return a.substring(0, indexOf);\r\n        else return a.substring(0, 1);\r\n    }\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n/partA/partB/partC\r\n/partD/partE/partF\r\n/partG\r\n/partJ/value1\r\n```","title":"Get the unique longest common prefix element info from array in java","body":"<blockquote>\n<p><em>&quot;... I'm trying to fetch the unique longest common substring element information from an array. ...&quot;</em></p>\n</blockquote>\n<blockquote>\n<p><em>&quot;... From the input array, the first 2 elements are common until &quot;/partA/partB/partC&quot;, so I need to fetch the common value. ...&quot;</em></p>\n</blockquote>\n<p>So, the longest common prefix of each value.<br />\nYou'll need additional code; a &quot;longest common prefix&quot; code will return one value, in this case &quot;/part&quot;.</p>\n<p>You'll need to traverse <em>arr</em> and additionally sub-traverse the other items.<br />\nIn this example the prefix value is added to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a></em>, and then removed when a longer <em>string</em> is found.<br />\nI then added the list to a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a></em>, to remove any duplicate values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String arr[] = {\n    &quot;/partA/partB/partC/value1&quot;,\n    &quot;/partA/partB/partC/value2&quot;,\n    &quot;/partD/partE/partF/value1&quot;,\n    &quot;/partD/partE/partF/value2&quot;,\n    &quot;/partG/partH/partI/value1&quot;,\n    &quot;/partG/value2&quot;,\n    &quot;/partJ/value1&quot;\n};\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nString string;\nint maximum;\nfor (int a = 0, b; a &lt; arr.length; a++) {\n    maximum = 0;\n    for (b = 0; b &lt; arr.length; b++) {\n        if (a == b) continue;\n        string = longestCommonPrefix(arr[a], arr[b]);\n        if (string.length() &gt; maximum) {\n            if (maximum != 0) list.remove(list.size() - 1);\n            list.add(string);\n            maximum = string.length();\n        }\n    }\n    if (maximum == 0) list.add(arr[a]);\n}\nnew TreeSet&lt;&gt;(list).forEach(System.out::println);\n</code></pre>\n<p>I'm using a &quot;longest common prefix&quot; routine from <em>Google AI</em>; it's similar to what you have.<br />\nI've adjusted it to check for a <code>/</code>, since you're looking to evaluate each field of the delimited values.<br />\nIn other words, if it's not the entire value, return up to the last <code>/</code> character of the prefix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String longestCommonPrefix(String a, String b) {\n    int index, length = Math.min(a.length(), b.length());\n    for (index = 0; index &lt; length; index++) {\n        if (a.charAt(index) != b.charAt(index)) break;\n    }\n    if (index == a.length()) return a.substring(0, index);\n    else {\n        int indexOf = a.substring(0, index).lastIndexOf('/');\n        if (indexOf != -1) return a.substring(0, indexOf);\n        else return a.substring(0, 1);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>/partA/partB/partC\n/partD/partE/partF\n/partG\n/partJ/value1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692770650,"creation_date":1692769591,"answer_id":76958567,"question_id":76954266,"body_markdown":"The solution could be done with `O(nlogn)` complexity using search tree data structure.\r\n \r\n```java\r\npublic static List&lt;String&gt; findCommonPrefix(String... paths) {\r\n    Node root = buildTree(paths);\r\n    return dfs(root);\r\n}\r\n\r\nprivate static List&lt;String&gt; dfs(Node root) {\r\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\r\n    Deque&lt;String&gt; stack = new LinkedList&lt;&gt;();\r\n\r\n    for (Node node : root.children.values())\r\n        dfs(node, stack, res);\r\n\r\n    return res;\r\n}\r\n\r\nprivate static void dfs(Node node, Deque&lt;String&gt; queue, List&lt;String&gt; res) {\r\n    queue.add(node.data);\r\n\r\n    if (node.children.size() == 1)\r\n        dfs(node.children.values().iterator().next(), queue, res);\r\n    else\r\n        res.add(queue.stream().collect(Collectors.joining(&quot;/&quot;, &quot;/&quot;, &quot;&quot;)));\r\n    \r\n    queue.remove();\r\n}\r\n\r\nprivate static Node buildTree(String... paths) {\r\n    Node root = new Node(&quot;/&quot;);\r\n\r\n    for (String path : paths)\r\n        addNode(root, path.split(&quot;/&quot;), 1);\r\n   \r\n\r\n    return root;\r\n}\r\n\r\nprivate static Node addNode(Node parent, String[] parts, int i) {\r\n    if (parts.length &gt; i) {\r\n        Node node = parent.children.computeIfAbsent(parts[i], Node::new);\r\n        return addNode(node, parts, i + 1);\r\n    }\r\n\r\n    return parent;\r\n}\r\n\r\n@RequiredArgsConstructor\r\nprivate static final class Node {\r\n\r\n    private final String data;\r\n    private final Map&lt;String, Node&gt; children = new HashMap&lt;&gt;();\r\n\r\n}\r\n```\r\n**Output:**\r\n```\r\n/partA/partB/partC\r\n/partD/partE/partF\r\n/partG\r\n/partJ/value1\r\n```","title":"Get the unique longest common prefix element info from array in java","body":"<p>The solution could be done with <code>O(nlogn)</code> complexity using search tree data structure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;String&gt; findCommonPrefix(String... paths) {\n    Node root = buildTree(paths);\n    return dfs(root);\n}\n\nprivate static List&lt;String&gt; dfs(Node root) {\n    List&lt;String&gt; res = new ArrayList&lt;&gt;();\n    Deque&lt;String&gt; stack = new LinkedList&lt;&gt;();\n\n    for (Node node : root.children.values())\n        dfs(node, stack, res);\n\n    return res;\n}\n\nprivate static void dfs(Node node, Deque&lt;String&gt; queue, List&lt;String&gt; res) {\n    queue.add(node.data);\n\n    if (node.children.size() == 1)\n        dfs(node.children.values().iterator().next(), queue, res);\n    else\n        res.add(queue.stream().collect(Collectors.joining(&quot;/&quot;, &quot;/&quot;, &quot;&quot;)));\n    \n    queue.remove();\n}\n\nprivate static Node buildTree(String... paths) {\n    Node root = new Node(&quot;/&quot;);\n\n    for (String path : paths)\n        addNode(root, path.split(&quot;/&quot;), 1);\n   \n\n    return root;\n}\n\nprivate static Node addNode(Node parent, String[] parts, int i) {\n    if (parts.length &gt; i) {\n        Node node = parent.children.computeIfAbsent(parts[i], Node::new);\n        return addNode(node, parts, i + 1);\n    }\n\n    return parent;\n}\n\n@RequiredArgsConstructor\nprivate static final class Node {\n\n    private final String data;\n    private final Map&lt;String, Node&gt; children = new HashMap&lt;&gt;();\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>/partA/partB/partC\n/partD/partE/partF\n/partG\n/partJ/value1\n</code></pre>\n"}],"owner":{"account_id":5734410,"reputation":1164,"user_id":4529026,"accept_rate":91,"display_name":"Prasad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":76954716,"answer_count":3,"score":2,"last_activity_date":1692800877,"creation_date":1692714226,"question_id":76954266,"body_markdown":"I&#39;m trying to fetch the unique longest common substring element information from an array.\r\n\r\n    String arr[] = { \r\n    &quot;/partA/partB/partC/value1&quot;,\r\n    &quot;/partA/partB/partC/value2&quot;,\r\n    &quot;/partD/partE/partF/value1&quot;,\r\n    &quot;/partD/partE/partF/value2&quot;,\r\n    &quot;/partG/partH/partI/value1&quot;,\r\n    &quot;/partG/value2&quot;,\r\n    &quot;/partJ/value1&quot; \r\n    }\r\n\r\nFrom the input array, the first 2 elements are common until &quot;/partA/partB/partC&quot;, so I need to fetch the common value. Like wise, the 3rd and 4th elements have the common value as &quot;/partD/partE/partF&quot; the 5th and 6th have the common value as /partG,&quot; and the 7th doesn&#39;t have any common value with the other elements, so it should print as &quot;/partJ/value1.&quot;  The final output should be mentioned below,\r\n\r\n    [ &quot;/partA/partB/partC&quot;,\r\n      &quot;/partD/partE/partF&quot;,\r\n      &quot;/partG&quot;,\r\n      &quot;/partJ/value1&quot;\r\n    ]\r\n\r\nFor this, I&#39;m comparing and trying to find the longest common substring, something like below, but  bot getting the desired output.\r\n\r\n     \r\n\r\n    while(idx &lt; s1.length() &amp;&amp; idx &lt; s2.length()){\r\n            if(s1.charAt(idx) == s2.charAt(idx)){\r\n                idx++;\r\n            } else {\r\n                break;\r\n            }\r\n         }\r\n         s1.substring(0, idx);","title":"Get the unique longest common prefix element info from array in java","body":"<p>I'm trying to fetch the unique longest common substring element information from an array.</p>\n<pre><code>String arr[] = { \n&quot;/partA/partB/partC/value1&quot;,\n&quot;/partA/partB/partC/value2&quot;,\n&quot;/partD/partE/partF/value1&quot;,\n&quot;/partD/partE/partF/value2&quot;,\n&quot;/partG/partH/partI/value1&quot;,\n&quot;/partG/value2&quot;,\n&quot;/partJ/value1&quot; \n}\n</code></pre>\n<p>From the input array, the first 2 elements are common until &quot;/partA/partB/partC&quot;, so I need to fetch the common value. Like wise, the 3rd and 4th elements have the common value as &quot;/partD/partE/partF&quot; the 5th and 6th have the common value as /partG,&quot; and the 7th doesn't have any common value with the other elements, so it should print as &quot;/partJ/value1.&quot;  The final output should be mentioned below,</p>\n<pre><code>[ &quot;/partA/partB/partC&quot;,\n  &quot;/partD/partE/partF&quot;,\n  &quot;/partG&quot;,\n  &quot;/partJ/value1&quot;\n]\n</code></pre>\n<p>For this, I'm comparing and trying to find the longest common substring, something like below, but  bot getting the desired output.</p>\n<pre><code>while(idx &lt; s1.length() &amp;&amp; idx &lt; s2.length()){\n        if(s1.charAt(idx) == s2.charAt(idx)){\n            idx++;\n        } else {\n            break;\n        }\n     }\n     s1.substring(0, idx);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641290626,"post_id":70576485,"comment_id":124761048,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question.","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641293781,"post_id":70576485,"comment_id":124762131,"body_markdown":"the app is crashing at com.example.whatsappclone.MainActivity$1.onDataChange(MainActivity.java:46) which is                 \nUser user = snapshot1.getValue(User.class);","body":"the app is crashing at com.example.whatsappclone.MainActivity$1.onDataChange(MainAc&zwnj;&#8203;tivity.java:46) which is                  User user = snapshot1.getValue(User.class);"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641294483,"post_id":70576485,"comment_id":124762377,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641295468,"post_id":70576485,"comment_id":124762690,"body_markdown":"Please Check Sir","body":"Please Check Sir"}],"answers":[{"comments":[{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641298073,"post_id":70578314,"comment_id":124763716,"body_markdown":"sir sorry I m a beginner and  I did not get it completely, can u further explain please","body":"sir sorry I m a beginner and  I did not get it completely, can u further explain please"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641298264,"post_id":70578314,"comment_id":124763769,"body_markdown":"Have you tried to remove those 4 **String** values that exist at the bottom of your JSON file? Does it work after you delete them?","body":"Have you tried to remove those 4 <b>String</b> values that exist at the bottom of your JSON file? Does it work after you delete them?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641298499,"post_id":70578314,"comment_id":124763882,"body_markdown":"no sir it is not working","body":"no sir it is not working"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641298752,"post_id":70578314,"comment_id":124763986,"body_markdown":"It&#39;s really hard to help with &quot;it is not working&quot;. What exactly didn&#39;t work? Please export the changed JSON file and add it to your question to see that those 5 strings are gone.","body":"It&#39;s really hard to help with &quot;it is not working&quot;. What exactly didn&#39;t work? Please export the changed JSON file and add it to your question to see that those 5 strings are gone."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641299104,"post_id":70578314,"comment_id":124764138,"body_markdown":"sir, i have to remove those strings from User.class file???","body":"sir, i have to remove those strings from User.class file???"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641299175,"post_id":70578314,"comment_id":124764176,"body_markdown":"No, from the Database. Open the Firebase console and remove them.","body":"No, from the Database. Open the Firebase console and remove them."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641309959,"post_id":70578314,"comment_id":124768979,"body_markdown":"Have you removed the those four strings from the database?","body":"Have you removed the those four strings from the database?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641310792,"post_id":70578314,"comment_id":124769368,"body_markdown":"sir should i delete them?","body":"sir should i delete them?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641312550,"post_id":70578314,"comment_id":124770098,"body_markdown":"Sir I have deleted them from firebase.","body":"Sir I have deleted them from firebase."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641327637,"post_id":70578314,"comment_id":124775691,"body_markdown":"Perfect, does it work right now?","body":"Perfect, does it work right now?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1641355653,"post_id":70578314,"comment_id":124781478,"body_markdown":"it is working sir but i did not get it why it is working now and not before??","body":"it is working sir but i did not get it why it is working now and not before??"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641360105,"post_id":70578314,"comment_id":124782085,"body_markdown":"Once you have only User objects and **not** strings, all children will be mapped successfully.","body":"Once you have only User objects and <b>not</b> strings, all children will be mapped successfully."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":12,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641296829,"creation_date":1641296829,"answer_id":70578314,"question_id":70576485,"body_markdown":"You are getting the following error:\r\n\r\n&gt; com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User\r\n\r\nBecause under your &quot;users&quot; there aren&#39;t only User objects, there are also strings:\r\n\r\n```\r\n&quot;name&quot; : &quot;Vivek Fauzdar&quot;,\r\n&quot;phoneNumber&quot; : &quot;+916486627517&quot;,\r\n&quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=cf8613fb-ae66-4892-bd79-4affa89d86e4&quot;,\r\n&quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;,\r\n```\r\n\r\nWhen you are using the following line of code:\r\n\r\n    User user = snapshot1.getValue(User.class);\r\n\r\nIt means that you are trying to map each child into an object of type `User`, which isn&#39;t possible since you are mixing `User` objects with strings, hence that error. The simplest solution would be to remove all those strings and make sure you have only `User` objects under the &quot;users&quot; node. The code looks good to me.\r\n\r\nSee, all these children exist right under the &quot;users&quot; node.","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User","body":"<p>You are getting the following error:</p>\n<blockquote>\n<p>com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.whatsappclone.User</p>\n</blockquote>\n<p>Because under your &quot;users&quot; there aren't only User objects, there are also strings:</p>\n<pre><code>&quot;name&quot; : &quot;Vivek Fauzdar&quot;,\n&quot;phoneNumber&quot; : &quot;+916486627517&quot;,\n&quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=cf8613fb-ae66-4892-bd79-4affa89d86e4&quot;,\n&quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;,\n</code></pre>\n<p>When you are using the following line of code:</p>\n<pre><code>User user = snapshot1.getValue(User.class);\n</code></pre>\n<p>It means that you are trying to map each child into an object of type <code>User</code>, which isn't possible since you are mixing <code>User</code> objects with strings, hence that error. The simplest solution would be to remove all those strings and make sure you have only <code>User</code> objects under the &quot;users&quot; node. The code looks good to me.</p>\n<p>See, all these children exist right under the &quot;users&quot; node.</p>\n"},{"tags":[],"owner":{"account_id":16185541,"reputation":130,"user_id":11685790,"display_name":"Aly Abdelaal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666036493,"creation_date":1666036493,"answer_id":74102552,"question_id":70576485,"body_markdown":"if ```&quot;users&quot;``` is first layer of database children it will be a reference\r\ninstead of \r\n```\r\ndatabase.getReference().child(&quot;users&quot;).addValueEventListener ...\r\n\r\n```\r\nuse\r\n```\r\ndatabase.getReference(&quot;users&quot;).addValueEventListener ...\r\n\r\n```\r\n\r\nif ```&quot;users&quot;``` is a child or an upper reference\r\n```\r\ndatabase.getReference(&quot;upperReference&quot;).child(&quot;users&quot;).addValueEventListener ...\r\n\r\n```","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User","body":"<p>if <code>&quot;users&quot;</code> is first layer of database children it will be a reference\ninstead of</p>\n<pre><code>database.getReference().child(&quot;users&quot;).addValueEventListener ...\n\n</code></pre>\n<p>use</p>\n<pre><code>database.getReference(&quot;users&quot;).addValueEventListener ...\n\n</code></pre>\n<p>if <code>&quot;users&quot;</code> is a child or an upper reference</p>\n<pre><code>database.getReference(&quot;upperReference&quot;).child(&quot;users&quot;).addValueEventListener ...\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20745195,"reputation":1,"user_id":15233930,"display_name":"Jay Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692800814,"creation_date":1692587035,"answer_id":76942150,"question_id":70576485,"body_markdown":"This is occurring because there is a requirement to transform your data into a Firebase node. I have coded the same in java ,and it is working fine \r\n\r\nThis should be your firebase  hierarchy\r\n[Check this image  , in this under the user child we have one another key which is your uID ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z5Za0.png\r\n\r\nThe error you&#39;re encountering will be resolved when you update the current code with the following modification:\r\n\r\n```java\r\ndatabase\r\n    .getReference()\r\n    .child(&quot;users&quot;)\r\n    .child(uid)\r\n    .setValue(user)\r\n    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onSuccess(Void unused) {\r\n            Intent intent= new Intent(SetUpProfileActivity.this,ActivityMainChat.class);\r\n            startActivity(intent);\r\n        }\r\n});\r\n```\r\n\r\nMake sure you add `.child(uid)` \r\n\r\n```java\r\ndatabase.getReference().child(&quot;users&quot;).child(uid).setValue(user)...\r\n```\r\n","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User","body":"<p>This is occurring because there is a requirement to transform your data into a Firebase node. I have coded the same in java ,and it is working fine</p>\n<p>This should be your firebase  hierarchy\n<a href=\"https://i.stack.imgur.com/z5Za0.png\" rel=\"nofollow noreferrer\">Check this image  , in this under the user child we have one another key which is your uID </a></p>\n<p>The error you're encountering will be resolved when you update the current code with the following modification:</p>\n<pre class=\"lang-java prettyprint-override\"><code>database\n    .getReference()\n    .child(&quot;users&quot;)\n    .child(uid)\n    .setValue(user)\n    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void unused) {\n            Intent intent= new Intent(SetUpProfileActivity.this,ActivityMainChat.class);\n            startActivity(intent);\n        }\n});\n</code></pre>\n<p>Make sure you add <code>.child(uid)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>database.getReference().child(&quot;users&quot;).child(uid).setValue(user)...\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70578314,"answer_count":3,"score":0,"last_activity_date":1692800814,"creation_date":1641288008,"question_id":70576485,"body_markdown":"I am not able to retrieve data from Firebase it always crashes saying:\r\n\r\n&gt; com.google.firebase.database.DatabaseException: Can&#39;t convert object\r\n&gt; of type java.lang.String to type com.example.whatsappclone.User\r\n\r\nThis is My Model Class\r\n\r\n    public class User {\r\n\r\n    String uid, name, phoneNumber, profileImage;\r\n\r\n    public User()\r\n    {\r\n\r\n    }\r\n\r\n    public User(String uid, String name, String phoneNumber, String profileImage) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.phoneNumber = phoneNumber;\r\n        this.profileImage = profileImage;\r\n    }\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getProfileImage() {\r\n        return profileImage;\r\n    }\r\n\r\n    public void setProfileImage(String profileImage) {\r\n        this.profileImage = profileImage;\r\n    }\r\n}\r\n\r\n\r\n    \r\n\r\nThis is My ViewHolder Class\r\n\r\n\r\n    public class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UsersViewHolder&gt; {\r\n\r\n\r\n    Context context;\r\n    ArrayList&lt;User&gt; users;\r\n    public UsersAdapter(Context context, ArrayList&lt;User&gt;users) {\r\n        this.context = context;\r\n        this.users = users;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public UsersViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View view = LayoutInflater.from(context).inflate(R.layout.conversation_layout, parent, false);\r\n\r\n        return new UsersViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull UsersViewHolder holder, int position) {\r\n\r\n        User user = users.get(position);\r\n        holder.binding.userName.setText(user.getName());\r\n\r\n        Glide.with(context).load(user.getProfileImage())\r\n                .into(holder.binding.profile);\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return users.size();\r\n    }\r\n\r\n    public class UsersViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        ConversationLayoutBinding binding;\r\n\r\n        public UsersViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            binding = ConversationLayoutBinding.bind(itemView);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nThis is My MainActivity\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n    FirebaseDatabase database;\r\n    ArrayList&lt;User&gt; users;\r\n    UsersAdapter usersAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        database = FirebaseDatabase.getInstance();\r\n        users = new ArrayList&lt;&gt;();\r\n\r\n        usersAdapter = new UsersAdapter(this, users);\r\n        binding.recyclerView.setAdapter(usersAdapter);\r\n\r\n        database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                users.clear();\r\n                for (DataSnapshot snapshot1 : snapshot.getChildren())\r\n                {\r\n                    User user = snapshot1.getValue(User.class);\r\n                    users.add(user);\r\n\r\n                }\r\n                usersAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\nMy Firebase database Structured\r\n\r\n    \r\n[Firebase Database Strucuture][1]\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rFxy7.png\r\n\r\n\r\nFirebase JSON\r\n\r\n   \r\n\r\n    { &quot;users&quot; : {\r\n    &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot; : {\r\n      &quot;name&quot; : &quot;Rahul Singh&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+918350877517&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=55fcdc75-da0c-43f5-8f9c-44bfa7df500f&quot;,\r\n      &quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;\r\n    },\r\n    &quot;CO6Yw59BHweNJ03UdbcsGq4kyXY2&quot; : {\r\n      &quot;name&quot; : &quot;Alok Bhai&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919886542409&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FCO6Yw59BHweNJ03UdbcsGq4kyXY2?alt=media&amp;token=b006e40d-e8df-4b96-9165-d980cd018af3&quot;,\r\n      &quot;uid&quot; : &quot;CO6Yw59BHweNJ03UdbcsGq4kyXY2&quot;\r\n    },\r\n    &quot;F8mhqJk4POeLFWxpF373K2D8DYG2&quot; : {\r\n      &quot;name&quot; : &quot;radhe govind&#39;&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+916378757808&quot;,\r\n      &quot;profileImage&quot; : &quot;No Image&quot;,\r\n      &quot;uid&quot; : &quot;F8mhqJk4POeLFWxpF373K2D8DYG2&quot;\r\n    },\r\n    &quot;NOt57HC59DZm1s5XaBk0mHb9H553&quot; : {\r\n      &quot;name&quot; : &quot;Mohit Dada&#128170;&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+917853471027&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FNOt57HC59DZm1s5XaBk0mHb9H553?alt=media&amp;token=6aba255c-5f96-4ba1-a4a4-b998d3ae5b4a&quot;,\r\n      &quot;uid&quot; : &quot;NOt57HC59DZm1s5XaBk0mHb9H553&quot;\r\n    },\r\n    &quot;XnJUq8LzauZPCLCi5v4SeCGgSPa2&quot; : {\r\n      &quot;name&quot; : &quot;Alok Singh Deshwal&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919960726182&quot;,\r\n      &quot;profileImage&quot; : &quot;No Image&quot;,\r\n      &quot;uid&quot; : &quot;XnJUq8LzauZPCLCi5v4SeCGgSPa2&quot;\r\n    },\r\n    &quot;ZIcwyjMGC3Yk5GrT7vIeTxphQPt2&quot; : {\r\n      &quot;name&quot; : &quot;Anku Bhai&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919094974311&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FZIcwyjMGC3Yk5GrT7vIeTxphQPt2?alt=media&amp;token=5773be33-d610-4f8d-8bbd-d655e5228666&quot;,\r\n      &quot;uid&quot; : &quot;ZIcwyjMGC3Yk5GrT7vIeTxphQPt2&quot;\r\n    },\r\n    &quot;kE3i5DsP9DTorG5DkJ4Vy7nArwZ2&quot; : {\r\n      &quot;name&quot; : &quot;Prinshu&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+91989600555&quot;,\r\n      &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FkE3i5DsP9DTorG5DkJ4Vy7nArwZ2?alt=media&amp;token=e4d13d95-3906-4bdf-aaac-028816e490d5&quot;,\r\n      &quot;uid&quot; : &quot;kE3i5DsP9DTorG5DkJ4Vy7nArwZ2&quot;\r\n    },\r\n    &quot;name&quot; : &quot;Vivek Fauzdar&quot;,\r\n    &quot;phoneNumber&quot; : &quot;+916486627517&quot;,\r\n    &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=cf8613fb-ae66-4892-bd79-4affa89d86e4&quot;,\r\n    &quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;,\r\n    &quot;vYfKxxkvoCV0p4c4P64t3F1IrEn1&quot; : {\r\n      &quot;name&quot; : &quot;Om Swami&quot;,\r\n      &quot;phoneNumber&quot; : &quot;+919887012345&quot;,\r\n      &quot;profileImage&quot; : &quot;No Image&quot;,\r\n      &quot;uid&quot; : &quot;vYfKxxkvoCV0p4c4P64t3F1IrEn1&quot;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n  \r\n\r\n","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.whatsappclone.User","body":"<p>I am not able to retrieve data from Firebase it always crashes saying:</p>\n<blockquote>\n<p>com.google.firebase.database.DatabaseException: Can't convert object\nof type java.lang.String to type com.example.whatsappclone.User</p>\n</blockquote>\n<p>This is My Model Class</p>\n<pre><code>public class User {\n\nString uid, name, phoneNumber, profileImage;\n\npublic User()\n{\n\n}\n\npublic User(String uid, String name, String phoneNumber, String profileImage) {\n    this.uid = uid;\n    this.name = name;\n    this.phoneNumber = phoneNumber;\n    this.profileImage = profileImage;\n}\n\npublic String getUid() {\n    return uid;\n}\n\npublic void setUid(String uid) {\n    this.uid = uid;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getPhoneNumber() {\n    return phoneNumber;\n}\n\npublic void setPhoneNumber(String phoneNumber) {\n    this.phoneNumber = phoneNumber;\n}\n\npublic String getProfileImage() {\n    return profileImage;\n}\n\npublic void setProfileImage(String profileImage) {\n    this.profileImage = profileImage;\n}\n</code></pre>\n<p>}</p>\n<p>This is My ViewHolder Class</p>\n<pre><code>public class UsersAdapter extends RecyclerView.Adapter&lt;UsersAdapter.UsersViewHolder&gt; {\n\n\nContext context;\nArrayList&lt;User&gt; users;\npublic UsersAdapter(Context context, ArrayList&lt;User&gt;users) {\n    this.context = context;\n    this.users = users;\n}\n\n@NonNull\n@Override\npublic UsersViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n    View view = LayoutInflater.from(context).inflate(R.layout.conversation_layout, parent, false);\n\n    return new UsersViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull UsersViewHolder holder, int position) {\n\n    User user = users.get(position);\n    holder.binding.userName.setText(user.getName());\n\n    Glide.with(context).load(user.getProfileImage())\n            .into(holder.binding.profile);\n\n}\n\n@Override\npublic int getItemCount() {\n    return users.size();\n}\n\npublic class UsersViewHolder extends RecyclerView.ViewHolder {\n\n    ConversationLayoutBinding binding;\n\n    public UsersViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        binding = ConversationLayoutBinding.bind(itemView);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>This is My MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nActivityMainBinding binding;\nFirebaseDatabase database;\nArrayList&lt;User&gt; users;\nUsersAdapter usersAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    binding = ActivityMainBinding.inflate(getLayoutInflater());\n    setContentView(binding.getRoot());\n\n    database = FirebaseDatabase.getInstance();\n    users = new ArrayList&lt;&gt;();\n\n    usersAdapter = new UsersAdapter(this, users);\n    binding.recyclerView.setAdapter(usersAdapter);\n\n    database.getReference().child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            users.clear();\n            for (DataSnapshot snapshot1 : snapshot.getChildren())\n            {\n                User user = snapshot1.getValue(User.class);\n                users.add(user);\n\n            }\n            usersAdapter.notifyDataSetChanged();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n}\n</code></pre>\n<p>My Firebase database Structured</p>\n<p><a href=\"https://i.stack.imgur.com/rFxy7.png\" rel=\"nofollow noreferrer\">Firebase Database Strucuture</a></p>\n<p>Firebase JSON</p>\n<pre><code>{ &quot;users&quot; : {\n&quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot; : {\n  &quot;name&quot; : &quot;Rahul Singh&quot;,\n  &quot;phoneNumber&quot; : &quot;+918350877517&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=55fcdc75-da0c-43f5-8f9c-44bfa7df500f&quot;,\n  &quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;\n},\n&quot;CO6Yw59BHweNJ03UdbcsGq4kyXY2&quot; : {\n  &quot;name&quot; : &quot;Alok Bhai&quot;,\n  &quot;phoneNumber&quot; : &quot;+919886542409&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FCO6Yw59BHweNJ03UdbcsGq4kyXY2?alt=media&amp;token=b006e40d-e8df-4b96-9165-d980cd018af3&quot;,\n  &quot;uid&quot; : &quot;CO6Yw59BHweNJ03UdbcsGq4kyXY2&quot;\n},\n&quot;F8mhqJk4POeLFWxpF373K2D8DYG2&quot; : {\n  &quot;name&quot; : &quot;radhe govind'&quot;,\n  &quot;phoneNumber&quot; : &quot;+916378757808&quot;,\n  &quot;profileImage&quot; : &quot;No Image&quot;,\n  &quot;uid&quot; : &quot;F8mhqJk4POeLFWxpF373K2D8DYG2&quot;\n},\n&quot;NOt57HC59DZm1s5XaBk0mHb9H553&quot; : {\n  &quot;name&quot; : &quot;Mohit Dada💪&quot;,\n  &quot;phoneNumber&quot; : &quot;+917853471027&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FNOt57HC59DZm1s5XaBk0mHb9H553?alt=media&amp;token=6aba255c-5f96-4ba1-a4a4-b998d3ae5b4a&quot;,\n  &quot;uid&quot; : &quot;NOt57HC59DZm1s5XaBk0mHb9H553&quot;\n},\n&quot;XnJUq8LzauZPCLCi5v4SeCGgSPa2&quot; : {\n  &quot;name&quot; : &quot;Alok Singh Deshwal&quot;,\n  &quot;phoneNumber&quot; : &quot;+919960726182&quot;,\n  &quot;profileImage&quot; : &quot;No Image&quot;,\n  &quot;uid&quot; : &quot;XnJUq8LzauZPCLCi5v4SeCGgSPa2&quot;\n},\n&quot;ZIcwyjMGC3Yk5GrT7vIeTxphQPt2&quot; : {\n  &quot;name&quot; : &quot;Anku Bhai&quot;,\n  &quot;phoneNumber&quot; : &quot;+919094974311&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FZIcwyjMGC3Yk5GrT7vIeTxphQPt2?alt=media&amp;token=5773be33-d610-4f8d-8bbd-d655e5228666&quot;,\n  &quot;uid&quot; : &quot;ZIcwyjMGC3Yk5GrT7vIeTxphQPt2&quot;\n},\n&quot;kE3i5DsP9DTorG5DkJ4Vy7nArwZ2&quot; : {\n  &quot;name&quot; : &quot;Prinshu&quot;,\n  &quot;phoneNumber&quot; : &quot;+91989600555&quot;,\n  &quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FkE3i5DsP9DTorG5DkJ4Vy7nArwZ2?alt=media&amp;token=e4d13d95-3906-4bdf-aaac-028816e490d5&quot;,\n  &quot;uid&quot; : &quot;kE3i5DsP9DTorG5DkJ4Vy7nArwZ2&quot;\n},\n&quot;name&quot; : &quot;Vivek Fauzdar&quot;,\n&quot;phoneNumber&quot; : &quot;+916486627517&quot;,\n&quot;profileImage&quot; : &quot;https://firebasestorage.googleapis.com/v0/b/whatsapp-clone-b908d.appspot.com/o/Profiles%2FA5DEg64d47StvLuvRtLWiu1bHSC3?alt=media&amp;token=cf8613fb-ae66-4892-bd79-4affa89d86e4&quot;,\n&quot;uid&quot; : &quot;A5DEg64d47StvLuvRtLWiu1bHSC3&quot;,\n&quot;vYfKxxkvoCV0p4c4P64t3F1IrEn1&quot; : {\n  &quot;name&quot; : &quot;Om Swami&quot;,\n  &quot;phoneNumber&quot; : &quot;+919887012345&quot;,\n  &quot;profileImage&quot; : &quot;No Image&quot;,\n  &quot;uid&quot; : &quot;vYfKxxkvoCV0p4c4P64t3F1IrEn1&quot;\n}\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","apache-beam","avro","apache-beam-kafkaio"],"owner":{"account_id":1741477,"reputation":33,"user_id":1592753,"display_name":"pravish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692800755,"creation_date":1692800755,"question_id":76962330,"body_markdown":"I have a typical KafkaIO based source for reading Avro formatted key and value from a Kafka topic.\r\n\r\n```\r\nPCollection&lt;KafkaRecord&lt;GenericRecord, GenericRecord&gt;&gt; records =\r\n    pipeline.apply(\r\n        &quot;Read from Kafka&quot;,\r\n        KafkaIO.&lt;GenericRecord, GenericRecord&gt;read()\r\n                .withConsumerFactoryFn(new SslConsumerFactoryFn(sslConfig))\r\n                .withConsumerConfigUpdates(\r\n                    ImmutableMap.copyOf(consumerConfigUpdates)\r\n                )\r\n                .withBootstrapServers(options.getBootstrapServer())\r\n                .withTopics(topicsList)\r\n                .withKeyDeserializer(\r\n                    ConfluentSchemaRegistryDeserializerProvider.of(\r\n                        options.getSchemaRegistryUrl(),\r\n                        options.getInputTopic()+&quot;-key&quot;\r\n                    )\r\n                )\r\n                .withValueDeserializer(\r\n                    ConfluentSchemaRegistryDeserializerProvider.of(\r\n                        options.getSchemaRegistryUrl(),\r\n                        options.getInputTopic()+&quot;-value&quot;)\r\n                )\r\n    );\r\n```\r\nThe issue is that the values can be null for some of the events and the Avro Schema doesn&#39;t allow the values to be null and thus this throws an exception causing the pipeline to halt. I&#39;m ok with logging the keys for null values and moving on with the correct values in my pipeline.\r\n\r\n\r\n\r\nI figured that I could NOT deserialize at the source and instead filter out the null Values and then work with only the non-null records.\r\n\r\n```\r\npipeline.apply(\r\n    &quot;Read from Kafka&quot;,\r\n    KafkaIO.&lt;byte[], byte[]&gt;read()\r\n        .withConsumerFactoryFn(new SslConsumerFactoryFn(sslConfig))\r\n        .withConsumerConfigUpdates(\r\n                ImmutableMap.copyOf(consumerConfigUpdates)\r\n        )\r\n        .withBootstrapServers(options.getBootstrapServer())\r\n        .withTopics(topicsList)\r\n        .withKeyDeserializerAndCoder(ByteArrayDeserializer.class, ByteArrayCoder.of())\r\n        .withValueDeserializerAndCoder(ByteArrayDeserializer.class, ByteArrayCoder.of())\r\n)\r\n.apply(&quot;filter non-null payloads&quot;,\r\n    ParDo.of(new FilterNonNullPayloads(nullPayloadTag))\r\n        .withOutputTags(deserializedAvroOutputTag, TupleTagList.of(nullPayloadTag))\r\n)\r\n.get(deserializedAvroOutputTag)\r\n.apply(ParDo.of(new DeserializeKeyValueToGenericRecord(keyAvroSchema, valueAvroSchema)))\r\n.setCoder(KvCoder.of(AvroGenericCoder.of(keyAvroSchema), AvroGenericCoder.of(valueAvroSchema)))\r\n.apply(\r\n    MapElements\r\n        .into(TypeDescriptors.strings())\r\n        .via(e -&gt; e.toString())\r\n)\r\n.apply(new ConsoleWriter&lt;String&gt;());\r\n```\r\n\r\nThe `DeserializeKeyValueToGenericRecord` is a DoFn as follows - \r\n```\r\npublic class DeserializeKeyValueToGenericRecord extends DoFn&lt;KafkaRecord&lt;byte[], byte[]&gt;, KV&lt;GenericRecord, GenericRecord&gt;&gt; implements Serializable {\r\n    private static final Logger LOG = LoggerFactory.getLogger(DeserializeKeyToGenericRecord.class);\r\n    private final Schema keySchema;\r\n    private final Schema valueSchema;\r\n\r\n    public DeserializeKeyValueToGenericRecord(Schema keySchema, Schema valueSchema){\r\n        this.keySchema = keySchema;\r\n        this.valueSchema = valueSchema;\r\n    }\r\n\r\n    @ProcessElement\r\n    public void processElement(@Element KafkaRecord&lt;byte[], byte[]&gt; input, OutputReceiver&lt;KV&lt;GenericRecord, GenericRecord&gt;&gt; receiver) {\r\n        GenericRecord genericRecordKey = new GenericData.Record(keySchema);\r\n        GenericRecord genericRecordValue = new GenericData.Record(valueSchema);\r\n        try {\r\n            org.apache.avro.io.DatumReader&lt;GenericRecord&gt; keyReader = new org.apache.avro.generic.GenericDatumReader&lt;&gt;(keySchema);\r\n            org.apache.avro.io.Decoder decoder = org.apache.avro.io.DecoderFactory.get().binaryDecoder(input.getKV().getKey(), null);\r\n            genericRecordKey = keyReader.read(null, decoder);\r\n        } catch (Exception e) {\r\n            LOG.error( &quot;Key issue - &quot; + e.getMessage());\r\n        }\r\n\r\n        try {\r\n            org.apache.avro.io.DatumReader&lt;GenericRecord&gt; valueReader = new org.apache.avro.generic.GenericDatumReader&lt;&gt;(valueSchema);\r\n            org.apache.avro.io.Decoder valueDecoder = org.apache.avro.io.DecoderFactory.get().binaryDecoder(input.getKV().getValue(), null);\r\n            genericRecordValue = valueReader.read(null, valueDecoder);\r\n        } catch (Exception e) {\r\n            LOG.error( &quot;Value issue - &quot; + e.getMessage() + &quot; for key &quot; + genericRecordKey.toString());\r\n        }\r\n\r\n        receiver.output(KV.of(genericRecordKey, genericRecordValue));\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe `.setCoder(KvCoder.of(AvroGenericCoder.of(keyAvroSchema), AvroGenericCoder.of(valueAvroSchema)))` throws an exception since I&#39;m not decoding the `byte[]` properly there. I don&#39;t fully understand how I should be deserializing the input and what roles does the `setCoder` play.","title":"Capturing deserialization exceptions in KafkaIO","body":"<p>I have a typical KafkaIO based source for reading Avro formatted key and value from a Kafka topic.</p>\n<pre><code>PCollection&lt;KafkaRecord&lt;GenericRecord, GenericRecord&gt;&gt; records =\n    pipeline.apply(\n        &quot;Read from Kafka&quot;,\n        KafkaIO.&lt;GenericRecord, GenericRecord&gt;read()\n                .withConsumerFactoryFn(new SslConsumerFactoryFn(sslConfig))\n                .withConsumerConfigUpdates(\n                    ImmutableMap.copyOf(consumerConfigUpdates)\n                )\n                .withBootstrapServers(options.getBootstrapServer())\n                .withTopics(topicsList)\n                .withKeyDeserializer(\n                    ConfluentSchemaRegistryDeserializerProvider.of(\n                        options.getSchemaRegistryUrl(),\n                        options.getInputTopic()+&quot;-key&quot;\n                    )\n                )\n                .withValueDeserializer(\n                    ConfluentSchemaRegistryDeserializerProvider.of(\n                        options.getSchemaRegistryUrl(),\n                        options.getInputTopic()+&quot;-value&quot;)\n                )\n    );\n</code></pre>\n<p>The issue is that the values can be null for some of the events and the Avro Schema doesn't allow the values to be null and thus this throws an exception causing the pipeline to halt. I'm ok with logging the keys for null values and moving on with the correct values in my pipeline.</p>\n<p>I figured that I could NOT deserialize at the source and instead filter out the null Values and then work with only the non-null records.</p>\n<pre><code>pipeline.apply(\n    &quot;Read from Kafka&quot;,\n    KafkaIO.&lt;byte[], byte[]&gt;read()\n        .withConsumerFactoryFn(new SslConsumerFactoryFn(sslConfig))\n        .withConsumerConfigUpdates(\n                ImmutableMap.copyOf(consumerConfigUpdates)\n        )\n        .withBootstrapServers(options.getBootstrapServer())\n        .withTopics(topicsList)\n        .withKeyDeserializerAndCoder(ByteArrayDeserializer.class, ByteArrayCoder.of())\n        .withValueDeserializerAndCoder(ByteArrayDeserializer.class, ByteArrayCoder.of())\n)\n.apply(&quot;filter non-null payloads&quot;,\n    ParDo.of(new FilterNonNullPayloads(nullPayloadTag))\n        .withOutputTags(deserializedAvroOutputTag, TupleTagList.of(nullPayloadTag))\n)\n.get(deserializedAvroOutputTag)\n.apply(ParDo.of(new DeserializeKeyValueToGenericRecord(keyAvroSchema, valueAvroSchema)))\n.setCoder(KvCoder.of(AvroGenericCoder.of(keyAvroSchema), AvroGenericCoder.of(valueAvroSchema)))\n.apply(\n    MapElements\n        .into(TypeDescriptors.strings())\n        .via(e -&gt; e.toString())\n)\n.apply(new ConsoleWriter&lt;String&gt;());\n</code></pre>\n<p>The <code>DeserializeKeyValueToGenericRecord</code> is a DoFn as follows -</p>\n<pre><code>public class DeserializeKeyValueToGenericRecord extends DoFn&lt;KafkaRecord&lt;byte[], byte[]&gt;, KV&lt;GenericRecord, GenericRecord&gt;&gt; implements Serializable {\n    private static final Logger LOG = LoggerFactory.getLogger(DeserializeKeyToGenericRecord.class);\n    private final Schema keySchema;\n    private final Schema valueSchema;\n\n    public DeserializeKeyValueToGenericRecord(Schema keySchema, Schema valueSchema){\n        this.keySchema = keySchema;\n        this.valueSchema = valueSchema;\n    }\n\n    @ProcessElement\n    public void processElement(@Element KafkaRecord&lt;byte[], byte[]&gt; input, OutputReceiver&lt;KV&lt;GenericRecord, GenericRecord&gt;&gt; receiver) {\n        GenericRecord genericRecordKey = new GenericData.Record(keySchema);\n        GenericRecord genericRecordValue = new GenericData.Record(valueSchema);\n        try {\n            org.apache.avro.io.DatumReader&lt;GenericRecord&gt; keyReader = new org.apache.avro.generic.GenericDatumReader&lt;&gt;(keySchema);\n            org.apache.avro.io.Decoder decoder = org.apache.avro.io.DecoderFactory.get().binaryDecoder(input.getKV().getKey(), null);\n            genericRecordKey = keyReader.read(null, decoder);\n        } catch (Exception e) {\n            LOG.error( &quot;Key issue - &quot; + e.getMessage());\n        }\n\n        try {\n            org.apache.avro.io.DatumReader&lt;GenericRecord&gt; valueReader = new org.apache.avro.generic.GenericDatumReader&lt;&gt;(valueSchema);\n            org.apache.avro.io.Decoder valueDecoder = org.apache.avro.io.DecoderFactory.get().binaryDecoder(input.getKV().getValue(), null);\n            genericRecordValue = valueReader.read(null, valueDecoder);\n        } catch (Exception e) {\n            LOG.error( &quot;Value issue - &quot; + e.getMessage() + &quot; for key &quot; + genericRecordKey.toString());\n        }\n\n        receiver.output(KV.of(genericRecordKey, genericRecordValue));\n    }\n\n}\n</code></pre>\n<p>The <code>.setCoder(KvCoder.of(AvroGenericCoder.of(keyAvroSchema), AvroGenericCoder.of(valueAvroSchema)))</code> throws an exception since I'm not decoding the <code>byte[]</code> properly there. I don't fully understand how I should be deserializing the input and what roles does the <code>setCoder</code> play.</p>\n"},{"tags":["java","spring","testing","spring-data-jpa","integration-testing"],"owner":{"account_id":17669728,"reputation":145,"user_id":12826216,"display_name":"Amine Ch 99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692800641,"creation_date":1692800280,"question_id":76962258,"body_markdown":"I&#39;m using Spring Data JPA along with PostgreSQL for my application&#39;s persistence layer. In my repository, I&#39;ve defined a custom JPA query to retrieve orders by merchant and status, and I&#39;m using the Page&lt;Order&gt; return type to handle pagination. The query is functional and works as expected when invoked through my API.\r\n\r\nTo ensure the correctness of this custom query, I&#39;m attempting to write an integration test for it using TestContainers to set up a PostgreSQL container. However, when I run the integration test, it fails with a ConversionFailedException, specifically:\r\n```\r\nFailed to convert from type [java.lang.String] to type [java.lang.Long] for value &#39;40288bea8a1e0f3d018a1e0f4bce0001&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;40288bea8a1e0f3d018a1e0f4bce0001&quot;\r\n```\r\n\r\nThe exception indicates that Spring is trying to convert the entity&#39;s ID from String to Long, even though the ID is of type String. This behavior occurs exclusively in the integration test, while the custom query works without issues when invoked through the API. \r\n\r\n\r\n**Entity Code:**\r\n\r\n```\r\n@Entity\r\npublic class Order extends BaseEntity {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\r\n    private String id;\r\n    \r\n    //Other fields, getters and setters\r\n}\r\n```\r\n**Jpa Query:** \r\n```\r\n @Query(value = &quot;SELECT * FROM \\&quot;ORDER\\&quot; as o \\n&quot; +\r\n            &quot;WHERE \\&quot;ID_MERCHANT\\&quot; = ?1 \\n&quot; +\r\n            &quot;AND (?2 IS NULL OR \\&quot;ID_STATUS\\&quot; = (SELECT \\&quot;ID\\&quot; FROM \\&quot;STATUS_ORDER\\&quot; WHERE \\&quot;STATUS\\&quot; = ?2 ))\\n&quot; +\r\n            &quot;ORDER BY \\&quot;DATE\\&quot; DESC&quot;, nativeQuery = true)\r\n    Page&lt;Order&gt; findAllByMarchanAndStatusByDate(String idMerchant, String statusName, Pageable pageable);\r\n\r\n```\r\n**Integration test method:** \r\n```\r\nclass OrderRespositoryAdapterTest extends IntegrationTestConfig {\r\n    @Autowired\r\n    private OrderRespository underTest;\r\n    @Autowired\r\n    private StatusOrderRepository statusOrderRepository;\r\n    @Autowired\r\n    private MarchantRepository marchantRepository;\r\n    private EasyRandom easyRandom; // Dependencie that fill dummy objects with dummy values\r\n    private Marchant marchant;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        //Set up StatusOrders\r\n        statusOrderRepository.saveAll(Arrays.asList(new Status(&quot;Processing&quot;), new Status(&quot;Completed&quot;)\r\n                , new Status(&quot;Failed&quot;), new Status(&quot;Canceled&quot;)));\r\n        //Set up Merchant\r\n        marchant = MarchantRepository.save(new Marchant());\r\n    }\r\n\r\n    @Test\r\n    void shoudlReturnOrdersWithStatusCompleted() {\r\n        //given\r\n        List&lt;Order&gt; dummyOrders = easyRandom.objects(Order.class, 1).collect(Collectors.toList());\r\n        //Setting status\r\n        dummyOrders.get(0).setStatus(statusOrderRepository.findByName(STATUS.Completed.name()).get());\r\n        //Setting Merchant\r\n        dummyOrders.get(0).setMarchant(marchant);\r\n        underTest.saveAll(dummyOrders);\r\n        //when\r\n        PageRequest pageRequest = PageRequest.of(0, dummyOrders.size());\r\n        System.err.println(underTest.findAll(pageRequest).getContent());\r\n        Page&lt;Order&gt; result =underTest.findAllByMarchanAndStatusByDate(marchant.getId(), STATUS.Completed.name(), pageRequest); // Failure Occurs in this Line\r\n        //then\r\n        long expected = 0;\r\n        assertThat(result.getContent().size()).isEqualTo(expected);\r\n        assertThat(true).isTrue();\r\n    }\r\n}\r\n```\r\n**NB 1:** IntegrationTestConfig is responsible for orchestrating the setup of the PostgreSQL database instance and modifying the database connection properties to ensure successful connectivity. This aspect of the configuration is functioning as intended.\r\n\r\nI experimented with testing the issue using an H2 database, but unfortunately, the problem persisted. To address this, I opted for TestContainers to replicate a production-like database environment for testing purposes which is PostgreSQL.\r\n\r\nIt&#39;s worth noting that an intriguing aspect emerged: when I altered the return type of the custom query to List&lt;Order&gt; from Page&lt;Order&gt;, the integration test executed without encountering any exceptions.\r\n\r\nSurprisingly, the built-in findAll method from Spring Data JPA, when employed with a return type of Page&lt;Order&gt;, functioned perfectly without encountering any difficulties.\r\n","title":"ConversionFailedException in Spring Data JPA Integration Test with Page&lt;&gt; Return Type","body":"<p>I'm using Spring Data JPA along with PostgreSQL for my application's persistence layer. In my repository, I've defined a custom JPA query to retrieve orders by merchant and status, and I'm using the Page return type to handle pagination. The query is functional and works as expected when invoked through my API.</p>\n<p>To ensure the correctness of this custom query, I'm attempting to write an integration test for it using TestContainers to set up a PostgreSQL container. However, when I run the integration test, it fails with a ConversionFailedException, specifically:</p>\n<pre><code>Failed to convert from type [java.lang.String] to type [java.lang.Long] for value '40288bea8a1e0f3d018a1e0f4bce0001'; nested exception is java.lang.NumberFormatException: For input string: &quot;40288bea8a1e0f3d018a1e0f4bce0001&quot;\n</code></pre>\n<p>The exception indicates that Spring is trying to convert the entity's ID from String to Long, even though the ID is of type String. This behavior occurs exclusively in the integration test, while the custom query works without issues when invoked through the API.</p>\n<p><strong>Entity Code:</strong></p>\n<pre><code>@Entity\npublic class Order extends BaseEntity {\n    @Id\n    @GeneratedValue(generator = &quot;system-uuid&quot;)\n    @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid&quot;)\n    private String id;\n    \n    //Other fields, getters and setters\n}\n</code></pre>\n<p><strong>Jpa Query:</strong></p>\n<pre><code> @Query(value = &quot;SELECT * FROM \\&quot;ORDER\\&quot; as o \\n&quot; +\n            &quot;WHERE \\&quot;ID_MERCHANT\\&quot; = ?1 \\n&quot; +\n            &quot;AND (?2 IS NULL OR \\&quot;ID_STATUS\\&quot; = (SELECT \\&quot;ID\\&quot; FROM \\&quot;STATUS_ORDER\\&quot; WHERE \\&quot;STATUS\\&quot; = ?2 ))\\n&quot; +\n            &quot;ORDER BY \\&quot;DATE\\&quot; DESC&quot;, nativeQuery = true)\n    Page&lt;Order&gt; findAllByMarchanAndStatusByDate(String idMerchant, String statusName, Pageable pageable);\n\n</code></pre>\n<p><strong>Integration test method:</strong></p>\n<pre><code>class OrderRespositoryAdapterTest extends IntegrationTestConfig {\n    @Autowired\n    private OrderRespository underTest;\n    @Autowired\n    private StatusOrderRepository statusOrderRepository;\n    @Autowired\n    private MarchantRepository marchantRepository;\n    private EasyRandom easyRandom; // Dependencie that fill dummy objects with dummy values\n    private Marchant marchant;\n\n    @BeforeEach\n    void init() {\n        //Set up StatusOrders\n        statusOrderRepository.saveAll(Arrays.asList(new Status(&quot;Processing&quot;), new Status(&quot;Completed&quot;)\n                , new Status(&quot;Failed&quot;), new Status(&quot;Canceled&quot;)));\n        //Set up Merchant\n        marchant = MarchantRepository.save(new Marchant());\n    }\n\n    @Test\n    void shoudlReturnOrdersWithStatusCompleted() {\n        //given\n        List&lt;Order&gt; dummyOrders = easyRandom.objects(Order.class, 1).collect(Collectors.toList());\n        //Setting status\n        dummyOrders.get(0).setStatus(statusOrderRepository.findByName(STATUS.Completed.name()).get());\n        //Setting Merchant\n        dummyOrders.get(0).setMarchant(marchant);\n        underTest.saveAll(dummyOrders);\n        //when\n        PageRequest pageRequest = PageRequest.of(0, dummyOrders.size());\n        System.err.println(underTest.findAll(pageRequest).getContent());\n        Page&lt;Order&gt; result =underTest.findAllByMarchanAndStatusByDate(marchant.getId(), STATUS.Completed.name(), pageRequest); // Failure Occurs in this Line\n        //then\n        long expected = 0;\n        assertThat(result.getContent().size()).isEqualTo(expected);\n        assertThat(true).isTrue();\n    }\n}\n</code></pre>\n<p><strong>NB 1:</strong> IntegrationTestConfig is responsible for orchestrating the setup of the PostgreSQL database instance and modifying the database connection properties to ensure successful connectivity. This aspect of the configuration is functioning as intended.</p>\n<p>I experimented with testing the issue using an H2 database, but unfortunately, the problem persisted. To address this, I opted for TestContainers to replicate a production-like database environment for testing purposes which is PostgreSQL.</p>\n<p>It's worth noting that an intriguing aspect emerged: when I altered the return type of the custom query to List from Page, the integration test executed without encountering any exceptions.</p>\n<p>Surprisingly, the built-in findAll method from Spring Data JPA, when employed with a return type of Page, functioned perfectly without encountering any difficulties.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":1,"creation_date":1358150332,"post_id":14314917,"comment_id":19888497,"body_markdown":"The question isn&#39;t clear. What do you want the program to do ?","body":"The question isn&#39;t clear. What do you want the program to do ?"},{"owner":{"account_id":419958,"reputation":11070,"user_id":797393,"accept_rate":88,"display_name":"Cylian"},"score":4,"creation_date":1358150377,"post_id":14314917,"comment_id":19888509,"body_markdown":"Change `[a-aZ-Z]{4}` to `[a-zA-Z]{4}`...","body":"Change <code>[a-aZ-Z]{4}</code> to <code>[a-zA-Z]{4}</code>..."},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":0,"creation_date":1358150442,"post_id":14314917,"comment_id":19888524,"body_markdown":"@Cylian: I think you mean it should be changed to `[a-zA-Z]{4}`","body":"@Cylian: I think you mean it should be changed to <code>[a-zA-Z]{4}</code>"},{"owner":{"account_id":2161952,"reputation":99,"user_id":1915933,"accept_rate":83,"display_name":"MOnasz"},"score":0,"creation_date":1358151753,"post_id":14314917,"comment_id":19888653,"body_markdown":"thx , i must change [a-aZ-Z]{4} to [a-zA-Z]{4} . its work","body":"thx , i must change [a-aZ-Z]{4} to [a-zA-Z]{4} . its work"}],"answers":[{"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1358156049,"post_id":14315768,"comment_id":19890065,"body_markdown":"Another problem is that some character from the special set is missing in the character class.","body":"Another problem is that some character from the special set is missing in the character class."}],"tags":[],"owner":{"account_id":1966788,"reputation":1791,"user_id":1766828,"display_name":"Javier Diaz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1358155307,"creation_date":1358155307,"answer_id":14315768,"question_id":14314917,"body_markdown":"`[\\\\d]{3}[a-aZ-Z]{4}[,@!%]+`\r\n\r\n 1. Do not use `[]` if you are only using one `\\d`, you can use `{3}` with `\\d` directly.\r\n 2. `[a-aZ-Z]` that is exactly the same as `[aZ]`, you must use `[a-zA-Z]`\r\n 3. The last part seems good but you may want to add all the chars that you mentioned before.\r\n\r\nResult: `\\\\d{3}[a-zA-Z]{4}[,@!%]+`","title":"Sequences of characters in java","body":"<p><code>[\\\\d]{3}[a-aZ-Z]{4}[,@!%]+</code></p>\n\n<ol>\n<li>Do not use <code>[]</code> if you are only using one <code>\\d</code>, you can use <code>{3}</code> with <code>\\d</code> directly.</li>\n<li><code>[a-aZ-Z]</code> that is exactly the same as <code>[aZ]</code>, you must use <code>[a-zA-Z]</code></li>\n<li>The last part seems good but you may want to add all the chars that you mentioned before.</li>\n</ol>\n\n<p>Result: <code>\\\\d{3}[a-zA-Z]{4}[,@!%]+</code></p>\n"}],"owner":{"account_id":2161952,"reputation":99,"user_id":1915933,"accept_rate":83,"display_name":"MOnasz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692800378,"creation_date":1358150267,"question_id":14314917,"body_markdown":"I was a exercise to do . &quot;Sequences of characters - passwords, which from left to right consists of 3 consecutive digits, 4 letters (the English alphabet) consecutive, and one or more characters from the set {*, ^,%, #, ~,!, &amp;, |, @, $}.&quot; I do it , but i isnt work :/\r\n\r\n    public class regex {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString regex = &quot;[\\\\d]{3}[a-aZ-Z]{4}[,@!%]+&quot;;\r\n    \t\tString txt = &quot;394aZbr@&quot;;\r\n    \t\t\r\n    \t\tPattern p = Pattern.compile(regex);\r\n    \t\tMatcher m = p.matcher(txt);\r\n    \t\t\r\n    \t\twhile(m.find()){\r\n    \t\t\tString s = m.group();\r\n    \t\t\tSystem.out.println(&quot;pass : &quot; + s);\r\n    \t\t}\r\n\r\nResult of my exrcise :\r\n\r\n    pass: 493ahTz@\t\r\n\r\n\r\nCould you help me ?\t","title":"Sequences of characters in java","body":"<p>I was a exercise to do . \"Sequences of characters - passwords, which from left to right consists of 3 consecutive digits, 4 letters (the English alphabet) consecutive, and one or more characters from the set {*, ^,%, #, ~,!, &amp;, |, @, $}.\" I do it , but i isnt work :/</p>\n\n<pre><code>public class regex {\n\n    public static void main(String[] args) {\n        String regex = \"[\\\\d]{3}[a-aZ-Z]{4}[,@!%]+\";\n        String txt = \"394aZbr@\";\n\n        Pattern p = Pattern.compile(regex);\n        Matcher m = p.matcher(txt);\n\n        while(m.find()){\n            String s = m.group();\n            System.out.println(\"pass : \" + s);\n        }\n</code></pre>\n\n<p>Result of my exrcise :</p>\n\n<pre><code>pass: 493ahTz@  \n</code></pre>\n\n<p>Could you help me ? </p>\n"},{"tags":["java","maven-2"],"comments":[{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":1,"creation_date":1256571295,"post_id":1625492,"comment_id":1493288,"body_markdown":"can&#39;t you just bind it to a phase which is not executed in a pom-type project (which your parent should be?)","body":"can&#39;t you just bind it to a phase which is not executed in a pom-type project (which your parent should be?)"},{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1256572217,"post_id":1625492,"comment_id":1493400,"body_markdown":"@roe I think your comment could be turned to an answer :-) I would like to know, and I would vote for it ;-)","body":"@roe I think your comment could be turned to an answer :-) I would like to know, and I would vote for it ;-)"},{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":0,"creation_date":1256572700,"post_id":1625492,"comment_id":1493445,"body_markdown":"@KLE It was not an answer, I was trying to help the brainstorm. I have no idea how to actually do this.","body":"@KLE It was not an answer, I was trying to help the brainstorm. I have no idea how to actually do this."},{"owner":{"account_id":19881,"reputation":34837,"user_id":46991,"accept_rate":85,"display_name":"falstro"},"score":0,"creation_date":1256572887,"post_id":1625492,"comment_id":1493452,"body_markdown":"I think, in general, you&#39;d like to have the goal realize it&#39;s not applicable to the parent project, and just specify it in parent project. The second option I can think of, which probably suits your needs even worse, is to define a new packaging form, since you need to specify a packaging anyway...","body":"I think, in general, you&#39;d like to have the goal realize it&#39;s not applicable to the parent project, and just specify it in parent project. The second option I can think of, which probably suits your needs even worse, is to define a new packaging form, since you need to specify a packaging anyway..."},{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1256573409,"post_id":1625492,"comment_id":1493507,"body_markdown":"We need some help from Rich Seller ! Rich, are you there? ;-) http://stackoverflow.com/users/123582/rich-seller","body":"We need some help from Rich Seller ! Rich, are you there? ;-) <a href=\"http://stackoverflow.com/users/123582/rich-seller\">stackoverflow.com/users/123582/rich-seller</a>"},{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":0,"creation_date":1256573625,"post_id":1625492,"comment_id":1493519,"body_markdown":"Maybe you guys could vote for the question, to make it more attractive to answerers?","body":"Maybe you guys could vote for the question, to make it more attractive to answerers?"}],"answers":[{"comments":[{"owner":{"account_id":36706,"reputation":9377,"user_id":104796,"accept_rate":78,"display_name":"cetnar"},"score":1,"creation_date":1256585232,"post_id":1625674,"comment_id":1494707,"body_markdown":"Pascal answer is correct. In parent POM `&lt;pluginManagement&gt;`section defines conifugration for plugins but not forces theirs executions, you need to place also `&lt;plugins&gt;` section to spread excutions of these plugins into child modules.","body":"Pascal answer is correct. In parent POM <code>&lt;pluginManagement&gt;</code>section defines conifugration for plugins but not forces theirs executions, you need to place also <code>&lt;plugins&gt;</code> section to spread excutions of these plugins into child modules."},{"owner":{"account_id":36735,"reputation":10242,"user_id":104894,"accept_rate":45,"display_name":"L&#243;r&#225;nt Pint&#233;r"},"score":1,"creation_date":1256632289,"post_id":1625674,"comment_id":1497555,"body_markdown":"I&#39;ve tried this with the `maven-jar-plugin`, but it still creates a .jar for my parent POM project. I&#39;ll add details to the question.","body":"I&#39;ve tried this with the <code>maven-jar-plugin</code>, but it still creates a .jar for my parent POM project. I&#39;ll add details to the question."}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1256686770,"creation_date":1256573488,"answer_id":1625674,"question_id":1625492,"body_markdown":"&lt;strike&gt;\r\nAccording to the [Default Lifecycle Bindings][3], the bindings for a packaging `pom` are:\r\n\r\n&gt; **Default Lifecycle Bindings - Packaging\r\n&gt; pom**\r\n&gt; \r\n&gt; &lt;pre&gt;\r\n&gt; package       site:attach-descriptor  \r\n&gt; install       install:install  \r\n&gt; deploy        deploy:deploy\r\n&gt; &lt;/pre&gt;\r\n\r\nSo if your parent POM has a `&lt;packaging&gt;pom&lt;packaging&gt;` (this should be the case as pointed out in a comment) and if you bind your plugins to other phases than those above (see the [Lifecycle Reference][4] for a comprehensive list), they won&#39;t be executed during the build of the parent POM.\r\n&lt;/strike&gt;\r\n\r\n(EDIT: My initial answer is just wrong. If you bind a plugin goal to a particular phase, it will be triggered during that phase, regardless of the packaging of the project. The [Default Lifecycle Bindings][2] don&#39;t have anything to do with that, they are just default lifecycle bindings. All what matters is if the phase to which the plugin is bound is part of the [build lifecyle][1].)\r\n\r\n\r\nAs you pointed out, you can use the [`pluginManagement`][5] in the parent pom for the configuration of the plugin but if you really want to execute a plugin goal in children modules and **not** in the parent (you might have good reasons to do this but most of time, plugins won&#39;t have much effet on a module with a `pom` packaging that doesn&#39;t have any content), you&#39;ll have to reference plugins in the `plugins` element in the children. \r\n\r\nApplied to your example, the parent pom.xml could define the following specifications:\r\n\r\n    &lt;project&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n      ...\r\n      &lt;modules&gt;\r\n        &lt;module&gt;child&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.2&lt;/version&gt;\r\n              &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                  &lt;id&gt;my-execution-id&lt;/id&gt;\r\n                  &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                  &lt;goals&gt;\r\n                    &lt;goal&gt;jar&lt;/goal&gt;\r\n                  &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n              &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            ...\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nAnd in every child `pom.xml`, only the following is required:\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        ...\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        ...\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\r\n  [2]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings\r\n  [3]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings\r\n  [4]: http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\r\n  [5]: http://maven.apache.org/pom.html#Plugin_Management","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p><strike>\nAccording to the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings\" rel=\"noreferrer\">Default Lifecycle Bindings</a>, the bindings for a packaging <code>pom</code> are:</p>\n\n<blockquote>\n  <p><strong>Default Lifecycle Bindings - Packaging\n  pom</strong></p>\n\n<pre>\npackage       site:attach-descriptor  \ninstall       install:install  \ndeploy        deploy:deploy\n</pre>\n</blockquote>\n\n<p>So if your parent POM has a <code>&lt;packaging&gt;pom&lt;packaging&gt;</code> (this should be the case as pointed out in a comment) and if you bind your plugins to other phases than those above (see the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\" rel=\"noreferrer\">Lifecycle Reference</a> for a comprehensive list), they won't be executed during the build of the parent POM.\n</strike></p>\n\n<p>(EDIT: My initial answer is just wrong. If you bind a plugin goal to a particular phase, it will be triggered during that phase, regardless of the packaging of the project. The <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings\" rel=\"noreferrer\">Default Lifecycle Bindings</a> don't have anything to do with that, they are just default lifecycle bindings. All what matters is if the phase to which the plugin is bound is part of the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference\" rel=\"noreferrer\">build lifecyle</a>.)</p>\n\n<p>As you pointed out, you can use the <a href=\"http://maven.apache.org/pom.html#Plugin_Management\" rel=\"noreferrer\"><code>pluginManagement</code></a> in the parent pom for the configuration of the plugin but if you really want to execute a plugin goal in children modules and <strong>not</strong> in the parent (you might have good reasons to do this but most of time, plugins won't have much effet on a module with a <code>pom</code> packaging that doesn't have any content), you'll have to reference plugins in the <code>plugins</code> element in the children. </p>\n\n<p>Applied to your example, the parent pom.xml could define the following specifications:</p>\n\n<pre><code>&lt;project&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n  ...\n  &lt;modules&gt;\n    &lt;module&gt;child&lt;/module&gt;\n  &lt;/modules&gt;\n  ...\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.2&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;my-execution-id&lt;/id&gt;\n              &lt;phase&gt;integration-test&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;jar&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n        ...\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>And in every child <code>pom.xml</code>, only the following is required:</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    ...\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    ...\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":156587,"reputation":15475,"user_id":373962,"accept_rate":86,"display_name":"Miquel"},"score":0,"creation_date":1334941458,"post_id":5255176,"comment_id":13175728,"body_markdown":"This is certainly not pretty, but it&#39;s the only work around I&#39;ve found to do this. I would suggest, however, to use an environment property like ${project.name} or ${pom.name} to trigger the activation instead of the file, but it&#39;s a case by case thing, of course.","body":"This is certainly not pretty, but it&#39;s the only work around I&#39;ve found to do this. I would suggest, however, to use an environment property like ${project.name} or ${pom.name} to trigger the activation instead of the file, but it&#39;s a case by case thing, of course."},{"owner":{"account_id":121000,"reputation":12426,"user_id":313768,"accept_rate":88,"display_name":"Reinderien"},"score":0,"creation_date":1432698871,"post_id":5255176,"comment_id":49025846,"body_markdown":"Ha, this suggestion led me to the only solution for proper &quot;composed&quot; mix-in Maven segments. Make empty profile selector files. It&#39;s awful but it could be worse.","body":"Ha, this suggestion led me to the only solution for proper &quot;composed&quot; mix-in Maven segments. Make empty profile selector files. It&#39;s awful but it could be worse."},{"owner":{"account_id":21094,"reputation":1458,"user_id":51016,"accept_rate":100,"display_name":"Christoffer Soop"},"score":1,"creation_date":1444313470,"post_id":5255176,"comment_id":53859452,"body_markdown":"Great solution for conditionally executing plugins, saved my day!","body":"Great solution for conditionally executing plugins, saved my day!"},{"owner":{"account_id":8402734,"reputation":1404,"user_id":6307292,"display_name":"mm759"},"score":0,"creation_date":1514461869,"post_id":5255176,"comment_id":82982079,"body_markdown":"Very useful to avoid repeating code, especially in case of many plugins. Unfortunately, activation by a property does not work because Maven supports system properties as properties.","body":"Very useful to avoid repeating code, especially in case of many plugins. Unfortunately, activation by a property does not work because Maven supports system properties as properties."}],"tags":[],"owner":{"account_id":719486,"reputation":281,"user_id":652836,"display_name":"Mikhail"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1407329736,"creation_date":1299728285,"answer_id":5255176,"question_id":1625492,"body_markdown":"The described solution with plugin management is certainly correct, but in certain cases it does not fit. Suppose you would like to run several jar:jar goals in the child module each configured with its own settings (configuration) per execution. Or in general, when you don&#39;t want to force child poms to explicitly trigger the plugin(s). \r\n\r\nIn this case the solution that worked for me was to define the executions in the parent pom under a specific profile, and have it activated only in child poms for example by checking for existence of some file or property:\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;generate-dc&lt;/id&gt;\r\n        &lt;activation&gt;\r\n            &lt;file&gt;\r\n                &lt;exists&gt;src/main/assembly/some.xml&lt;/exists&gt;\r\n            &lt;/file&gt;\r\n        &lt;/activation&gt;\r\n\r\nThen plugins won&#39;t be executed in the parent, but will be executed in all children if those contain the file, or set some property.\r\n","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>The described solution with plugin management is certainly correct, but in certain cases it does not fit. Suppose you would like to run several jar:jar goals in the child module each configured with its own settings (configuration) per execution. Or in general, when you don't want to force child poms to explicitly trigger the plugin(s). </p>\n\n<p>In this case the solution that worked for me was to define the executions in the parent pom under a specific profile, and have it activated only in child poms for example by checking for existence of some file or property:</p>\n\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;generate-dc&lt;/id&gt;\n    &lt;activation&gt;\n        &lt;file&gt;\n            &lt;exists&gt;src/main/assembly/some.xml&lt;/exists&gt;\n        &lt;/file&gt;\n    &lt;/activation&gt;\n</code></pre>\n\n<p>Then plugins won't be executed in the parent, but will be executed in all children if those contain the file, or set some property.</p>\n"},{"comments":[{"owner":{"account_id":1027414,"reputation":1342,"user_id":1036433,"accept_rate":33,"display_name":"javapapo"},"score":0,"creation_date":1406125771,"post_id":10450845,"comment_id":38706977,"body_markdown":"Warning the above setting might work but in complex cases where other pom(s) inherit the parent and specifically the plugin that was defined as skip true, you will have a problem since the plugin WILL not execute, unless you define it or configure it. For rarely used plugins you want any problems but for plugins like maven-resources-plugin the default skip true might be a problem","body":"Warning the above setting might work but in complex cases where other pom(s) inherit the parent and specifically the plugin that was defined as skip true, you will have a problem since the plugin WILL not execute, unless you define it or configure it. For rarely used plugins you want any problems but for plugins like maven-resources-plugin the default skip true might be a problem"},{"owner":{"account_id":502326,"reputation":6232,"user_id":2693875,"accept_rate":67,"display_name":"Greg Dubicki"},"score":0,"creation_date":1424861334,"post_id":10450845,"comment_id":45721335,"body_markdown":"This worked for me. Although the plugin I needed to use - appassembler - doesn&#39;t really skip I just put some placeholder configuration in the top level POM and my child modules started to run the appassembler goal correctly. Thanks! :)","body":"This worked for me. Although the plugin I needed to use - appassembler - doesn&#39;t really skip I just put some placeholder configuration in the top level POM and my child modules started to run the appassembler goal correctly. Thanks! :)"}],"tags":[],"owner":{"account_id":1460668,"reputation":259,"user_id":1375102,"display_name":"Rafeeq"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1456254200,"creation_date":1336141791,"answer_id":10450845,"question_id":1625492,"body_markdown":"I had a similar requirement to run some plugins in the child but not the parent POM. i achieved this by stating `&lt;skip&gt;true&lt;/skip&gt;`  in the parent POM.\r\n\r\nThe parent pom entry is below:\r\n\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;eviware&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-soapui-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;inherited&gt;false&lt;/inherited&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;4.8.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt; \r\n        &lt;configuration&gt;\r\n            &lt;skip&gt;true&lt;/skip&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt; \r\n\r\nThe child project pom entry is below \r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;eviware&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-soapui-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;settingsFile&gt;site-service-web/src/test/soapui/soapui-settings.xml&lt;/settingsFile&gt;\r\n                &lt;projectFile&gt;site-service-web/src/test/soapui/PodifiSite-soapui-project.xml&lt;/projectFile&gt;\r\n                &lt;outputFolder&gt;site-service-web/target/surefire-reports&lt;/outputFolder&gt;\r\n                &lt;junitReport&gt;true&lt;/junitReport&gt;\r\n                &lt;exportwAll&gt;true&lt;/exportwAll&gt;\r\n                &lt;printReport&gt;true&lt;/printReport&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\n","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>I had a similar requirement to run some plugins in the child but not the parent POM. i achieved this by stating <code>&lt;skip&gt;true&lt;/skip&gt;</code>  in the parent POM.</p>\n\n<p>The parent pom entry is below:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;eviware&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-soapui-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;inherited&gt;false&lt;/inherited&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt; \n    &lt;configuration&gt;\n        &lt;skip&gt;true&lt;/skip&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt; \n</code></pre>\n\n<p>The child project pom entry is below </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;eviware&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-soapui-plugin&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;settingsFile&gt;site-service-web/src/test/soapui/soapui-settings.xml&lt;/settingsFile&gt;\n            &lt;projectFile&gt;site-service-web/src/test/soapui/PodifiSite-soapui-project.xml&lt;/projectFile&gt;\n            &lt;outputFolder&gt;site-service-web/target/surefire-reports&lt;/outputFolder&gt;\n            &lt;junitReport&gt;true&lt;/junitReport&gt;\n            &lt;exportwAll&gt;true&lt;/exportwAll&gt;\n            &lt;printReport&gt;true&lt;/printReport&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2391183,"reputation":41,"user_id":2091003,"display_name":"Michael Siegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427888950,"creation_date":1427888950,"answer_id":29390010,"question_id":1625492,"body_markdown":"I tried the answer from Pascal but it did not work for me.  The plugins referenced in the child pom did not execute, I&#39;m assuming because they did not have a build phase binding.\r\n\r\nThe post here describes a solution that works by binding the plugins to execution ids and build phases: https://stackoverflow.com/questions/13250377/how-to-override-default-binding-to-phase-of-a-maven-plugin\r\n\r\nI&#39;d recommend that to anyone else trying to get this working.","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>I tried the answer from Pascal but it did not work for me.  The plugins referenced in the child pom did not execute, I'm assuming because they did not have a build phase binding.</p>\n\n<p>The post here describes a solution that works by binding the plugins to execution ids and build phases: <a href=\"https://stackoverflow.com/questions/13250377/how-to-override-default-binding-to-phase-of-a-maven-plugin\">How to override default binding to phase of a Maven plugin</a></p>\n\n<p>I'd recommend that to anyone else trying to get this working.</p>\n"},{"comments":[{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":0,"creation_date":1539158132,"post_id":37079587,"comment_id":92395320,"body_markdown":"Take care with this approach when using aggregating modules. Maven tries executing goals on all aggregated modules, so, for example, `jar:jar` will fail beyond the first module.","body":"Take care with this approach when using aggregating modules. Maven tries executing goals on all aggregated modules, so, for example, <code>jar:jar</code> will fail beyond the first module."},{"owner":{"account_id":1429890,"reputation":6439,"user_id":1352530,"accept_rate":75,"display_name":"Whimusical"},"score":1,"creation_date":1580914671,"post_id":37079587,"comment_id":106255522,"body_markdown":"This is doing the opposite to what OP says.. its executing the module on parent but not child (or I am missing something)","body":"This is doing the opposite to what OP says.. its executing the module on parent but not child (or I am missing something)"}],"tags":[],"owner":{"account_id":8393922,"reputation":21,"user_id":6301755,"display_name":"Y L"},"comment_count":2,"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1462564707,"creation_date":1462561066,"answer_id":37079587,"question_id":1625492,"body_markdown":"Use `&lt;inherited&gt;false&lt;/inherited&gt;` under the plugins section in the parent project.\r\n\r\nPlese refer to [this page](https://maven.apache.org/pom.html) for more information. ","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>Use <code>&lt;inherited&gt;false&lt;/inherited&gt;</code> under the plugins section in the parent project.</p>\n\n<p>Plese refer to <a href=\"https://maven.apache.org/pom.html\" rel=\"nofollow\">this page</a> for more information. </p>\n"},{"tags":[],"owner":{"account_id":3926437,"reputation":119,"user_id":3246745,"display_name":"lakshmanas"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1477597499,"creation_date":1477597499,"answer_id":40293016,"question_id":1625492,"body_markdown":"This below config worked for me. Add the plugin in both the parent and child pom. \r\n\r\n**Parent :** \r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;inherited&gt;true&lt;/inherited&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n             &lt;skip&gt;true&lt;/skip&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n**Child**\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;inherited&gt;false&lt;/inherited&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n             &lt;skip&gt;false&lt;/skip&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>This below config worked for me. Add the plugin in both the parent and child pom. </p>\n\n<p><strong>Parent :</strong> </p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;inherited&gt;true&lt;/inherited&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;integration-test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jar&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n         &lt;skip&gt;true&lt;/skip&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p><strong>Child</strong></p>\n\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;inherited&gt;false&lt;/inherited&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;integration-test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jar&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n         &lt;skip&gt;false&lt;/skip&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28862374,"reputation":1,"user_id":22105871,"display_name":"Mike y"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692800369,"creation_date":1692799086,"answer_id":76962082,"question_id":1625492,"body_markdown":"Create a skipme property in both parent and child.\r\nSet it to true in the parent.\r\nSet it to false in child.\r\nYou don&#39;t have to add the plugin again in child, it will be inherited\r\nThis way you can turn a plugin execution on/off anywhere easily in module hierarchy (child/grandchild/greatgrandchild)\r\nAlso suggest using execution IDs, but not mandatory.\r\n\r\nParent:\r\n\r\n      &lt;properties&gt;\r\n      &lt;skipme&gt;true&lt;skipme&gt;\r\n      &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                  &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;                             \r\n                              &lt;executions&gt;\r\n                                    &lt;execution&gt;                                          \r\n                                          &lt;goals&gt;\r\n                                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                                          &lt;/goals&gt;\r\n                                    &lt;/execution&gt;\r\n                              &lt;/executions&gt;\r\n                              &lt;configuration&gt;\r\n                                    &lt;skip&gt;${skipme}&lt;/skip&gt;\r\n                              &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                  &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n\r\nChild:\r\n\r\n      &lt;properties&gt;\r\n                  &lt;skipme&gt;false&lt;skipme&gt;\r\n      &lt;/properties&gt;\r\n      \r\n      \r\nAnother trick is to use phase.\r\nCreate a &quot;myphase&quot; property in both parent and child.\r\nSet it to &quot;none&quot; in the parent.\r\nSet it to &quot;integration-test&quot; (or as desired) in child.\r\nYou don&#39;t have to add the plugin again in child, it will be inherited  \r\n\r\nParent:\r\n\r\n      &lt;properties&gt;\r\n        &lt;myphase&gt;none&lt;myphase&gt;\r\n      &lt;/properties&gt;\r\n            &lt;build&gt;\r\n                  &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;                            \r\n                              &lt;executions&gt;\r\n                                    &lt;execution&gt;\r\n                                          &lt;phase&gt;${myphase}&lt;/phase&gt;\r\n                                          &lt;goals&gt;\r\n                                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                                          &lt;/goals&gt;\r\n                                    &lt;/execution&gt;\r\n                              &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                  &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n\r\nChild:\r\n\r\n      &lt;properties&gt;\r\n                  &lt;myphase&gt;integration-test&lt;myphase&gt;\r\n      &lt;/properties&gt;","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>Create a skipme property in both parent and child.\nSet it to true in the parent.\nSet it to false in child.\nYou don't have to add the plugin again in child, it will be inherited\nThis way you can turn a plugin execution on/off anywhere easily in module hierarchy (child/grandchild/greatgrandchild)\nAlso suggest using execution IDs, but not mandatory.</p>\n<p>Parent:</p>\n<pre><code>  &lt;properties&gt;\n  &lt;skipme&gt;true&lt;skipme&gt;\n  &lt;/properties&gt;\n        &lt;build&gt;\n              &lt;plugins&gt;\n                    &lt;plugin&gt;\n                          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;                             \n                          &lt;executions&gt;\n                                &lt;execution&gt;                                          \n                                      &lt;goals&gt;\n                                            &lt;goal&gt;jar&lt;/goal&gt;\n                                      &lt;/goals&gt;\n                                &lt;/execution&gt;\n                          &lt;/executions&gt;\n                          &lt;configuration&gt;\n                                &lt;skip&gt;${skipme}&lt;/skip&gt;\n                          &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n              &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>Child:</p>\n<pre><code>  &lt;properties&gt;\n              &lt;skipme&gt;false&lt;skipme&gt;\n  &lt;/properties&gt;\n  \n  \n</code></pre>\n<p>Another trick is to use phase.\nCreate a &quot;myphase&quot; property in both parent and child.\nSet it to &quot;none&quot; in the parent.\nSet it to &quot;integration-test&quot; (or as desired) in child.\nYou don't have to add the plugin again in child, it will be inherited</p>\n<p>Parent:</p>\n<pre><code>  &lt;properties&gt;\n    &lt;myphase&gt;none&lt;myphase&gt;\n  &lt;/properties&gt;\n        &lt;build&gt;\n              &lt;plugins&gt;\n                    &lt;plugin&gt;\n                          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;                            \n                          &lt;executions&gt;\n                                &lt;execution&gt;\n                                      &lt;phase&gt;${myphase}&lt;/phase&gt;\n                                      &lt;goals&gt;\n                                            &lt;goal&gt;jar&lt;/goal&gt;\n                                      &lt;/goals&gt;\n                                &lt;/execution&gt;\n                          &lt;/executions&gt;\n                    &lt;/plugin&gt;\n              &lt;/plugins&gt;\n        &lt;/build&gt;\n</code></pre>\n<p>Child:</p>\n<pre><code>  &lt;properties&gt;\n              &lt;myphase&gt;integration-test&lt;myphase&gt;\n  &lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":36735,"reputation":10242,"user_id":104894,"accept_rate":45,"display_name":"L&#243;r&#225;nt Pint&#233;r"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61086,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"answer_count":7,"score":76,"last_activity_date":1692800369,"creation_date":1256571065,"question_id":1625492,"body_markdown":"In a multi-module project, how can you specify that you want to execute a plugin goal in all the child-modules, but not on the parent project? There is `&lt;pluginManagement&gt;`, but that only defines the configuration for the execution -- the child modules would still need to reference the plugin to get the goal executed:\r\n\r\n&gt; [...] However, this only configures plugins that are actually referenced within the plugins element in the children. *([POM Reference](http://maven.apache.org/pom.html#Plugin_Management))*\r\n\r\nAny other way to achieve this?\r\n\r\n**UPDATE:** I&#39;ve tried this according to Pascal&#39;s advice:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!-- ... --&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n      &lt;module&gt;child&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;!-- ... --&gt;\r\n\r\nThis will still generate a .jar for the parent project, even though the `jar` goal is bound to the `integration-test` phase.","title":"Execute Maven plugin goal on child modules, but not on parent","body":"<p>In a multi-module project, how can you specify that you want to execute a plugin goal in all the child-modules, but not on the parent project? There is <code>&lt;pluginManagement&gt;</code>, but that only defines the configuration for the execution -- the child modules would still need to reference the plugin to get the goal executed:</p>\n\n<blockquote>\n  <p>[...] However, this only configures plugins that are actually referenced within the plugins element in the children. <em>(<a href=\"http://maven.apache.org/pom.html#Plugin_Management\" rel=\"noreferrer\">POM Reference</a>)</em></p>\n</blockquote>\n\n<p>Any other way to achieve this?</p>\n\n<p><strong>UPDATE:</strong> I've tried this according to Pascal's advice:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- ... --&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;modules&gt;\n  &lt;module&gt;child&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n        &lt;phase&gt;integration-test&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;jar&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;!-- ... --&gt;\n</code></pre>\n\n<p>This will still generate a .jar for the parent project, even though the <code>jar</code> goal is bound to the <code>integration-test</code> phase.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":241882,"reputation":8633,"user_id":512998,"accept_rate":72,"display_name":"You Qi"},"score":0,"creation_date":1341278726,"post_id":11303309,"comment_id":14872828,"body_markdown":"just do a post-regex looping thru all the 3 or more characters results","body":"just do a post-regex looping thru all the 3 or more characters results"},{"owner":{"account_id":275100,"reputation":833,"user_id":1207867,"accept_rate":94,"display_name":"sathish_at_madison"},"score":0,"creation_date":1341279104,"post_id":11303309,"comment_id":14872881,"body_markdown":"http://regexlib.com/ might be a good place to do some digging.","body":"<a href=\"http://regexlib.com/\" rel=\"nofollow noreferrer\">regexlib.com</a> might be a good place to do some digging."},{"owner":{"account_id":275100,"reputation":833,"user_id":1207867,"accept_rate":94,"display_name":"sathish_at_madison"},"score":0,"creation_date":1341279333,"post_id":11303309,"comment_id":14872921,"body_markdown":"@Ωmega Trying my best, but open to feedback that is not useful. Cheers.","body":"@Ωmega Trying my best, but open to feedback that is not useful. Cheers."},{"owner":{"account_id":241882,"reputation":8633,"user_id":512998,"accept_rate":72,"display_name":"You Qi"},"score":0,"creation_date":1341279722,"post_id":11303309,"comment_id":14872965,"body_markdown":"I think regex doesn&#39;t do a duplicate scanning. a character in a haystack can only be used once. The closest approach I can think of is an ungreedy match. but that only return you 12, 35 and won&#39;t get you 1235.","body":"I think regex doesn&#39;t do a duplicate scanning. a character in a haystack can only be used once. The closest approach I can think of is an ungreedy match. but that only return you 12, 35 and won&#39;t get you 1235."},{"owner":{"account_id":88401,"reputation":12934,"user_id":244526,"accept_rate":77,"display_name":"dsg"},"score":0,"creation_date":1341351171,"post_id":11303309,"comment_id":14899429,"body_markdown":"Duplicate: http://stackoverflow.com/questions/7318469/java-recursive-repeated-deep-pattern-matching?rq=1","body":"Duplicate: <a href=\"http://stackoverflow.com/questions/7318469/java-recursive-repeated-deep-pattern-matching?rq=1\" title=\"java recursive repeated deep pattern matching\">stackoverflow.com/questions/7318469/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341401601,"creation_date":1341285668,"answer_id":11304030,"question_id":11303309,"body_markdown":"The closest you can get is something like this.\r\n\r\n    &quot;(?=((\\\\d*)\\\\d))(?=(\\\\d)\\\\d*)&quot;\r\n\r\nThe result will be in capturing group 1, 2 and 3.\r\n\r\nAs far as my imagination can go, I can only think of capturing in zero-length assertion as a viable way to recapture the same position of a string. Capturing text outside the zero-length assertion will consume the text once and for all (look-behind can only capture fixed-length in Java, so it can considered to be inaccessible).\r\n\r\nThis solution is not perfect: aside from repetition (of text at same position!) and empty string matches, it won&#39;t capture all possible substrings.\r\n\r\nOne way to capture all possible substrings is construct the following regex with value of n starting from 1:\r\n\r\n    &quot;(?=(\\\\d{&quot; + n + &quot;}))&quot;\r\n\r\nAnd match the string against this for incrementing value of n until there is no match.\r\n\r\nThis method is of course, inefficient compared to the method of matching all numbers with &quot;\\\\d+&quot; and extract all substring.","title":"All overlapping substrings matching a regex","body":"<p>The closest you can get is something like this.</p>\n\n<pre><code>\"(?=((\\\\d*)\\\\d))(?=(\\\\d)\\\\d*)\"\n</code></pre>\n\n<p>The result will be in capturing group 1, 2 and 3.</p>\n\n<p>As far as my imagination can go, I can only think of capturing in zero-length assertion as a viable way to recapture the same position of a string. Capturing text outside the zero-length assertion will consume the text once and for all (look-behind can only capture fixed-length in Java, so it can considered to be inaccessible).</p>\n\n<p>This solution is not perfect: aside from repetition (of text at same position!) and empty string matches, it won't capture all possible substrings.</p>\n\n<p>One way to capture all possible substrings is construct the following regex with value of n starting from 1:</p>\n\n<pre><code>\"(?=(\\\\d{\" + n + \"}))\"\n</code></pre>\n\n<p>And match the string against this for incrementing value of n until there is no match.</p>\n\n<p>This method is of course, inefficient compared to the method of matching all numbers with \"\\d+\" and extract all substring.</p>\n"},{"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1341401134,"post_id":11309750,"comment_id":14912852,"body_markdown":"The regex is the same in Java (except that backslash needs to be escaped). As for `uniq`, it can be simulated with `Set` in Java (`TreeSet` or `HashSet`).","body":"The regex is the same in Java (except that backslash needs to be escaped). As for <code>uniq</code>, it can be simulated with <code>Set</code> in Java (<code>TreeSet</code> or <code>HashSet</code>)."},{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":0,"creation_date":1341401378,"post_id":11309750,"comment_id":14912952,"body_markdown":"@nhahtdh - Thanks. Feel free to add update to my answer by editing the post.","body":"@nhahtdh - Thanks. Feel free to add update to my answer by editing the post."}],"tags":[],"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341314539,"creation_date":1341314063,"answer_id":11309750,"question_id":11303309,"body_markdown":"It is doable as *O(n)* **only if you specify the range of allowed number length**.\r\n\r\nLet&#39;s say from 2-4 digits (*numbers 00-9999*): `(?=(\\\\d{2}))(?=(\\\\1\\\\d)?)(?=(\\\\2\\\\d)?)`\r\n\r\nThis is a zero-length assertion via positive lookahead, capturing such lookahead into groups. The results is an array of all 2-4 digit strings that can be found within the regex input, together with duplicates and empty strings (for non-match captures).\r\n\r\nI am not a Java developer, but I believe a Perl script can be read as an example as well.\r\n\r\n    #!/usr/bin/perl                                       # perl script\r\n    use List::MoreUtils qw/ uniq /;                       # uniq subroutine library\r\n    $_ = &#39;04/31 412-555-1235&#39;;                            # input\r\n    my @n = uniq (/(?=(\\d{2}))(?=(\\1\\d)?)(?=(\\2\\d)?)/g);  # regex (single slash in Perl)\r\n    print &quot;$_\\n&quot; for grep(/\\S/, @n);                      # print non-empty lines\r\n\r\nThe trick is using backreferences. If you would like to capture 2-5 digit string, you would need to use one more positive lookahead in the regex: `(?=(\\\\d{2}))(?=(\\\\1\\\\d)?)(?=(\\\\2\\\\d)?)(?=(\\\\3\\\\d)?)`.\r\n\r\nI believe this is a closest approach you can make. If this works for you, drop a comment and hopefully some Java developer will edit my answer with Java code for the above script.","title":"All overlapping substrings matching a regex","body":"<p>It is doable as <em>O(n)</em> <strong>only if you specify the range of allowed number length</strong>.</p>\n\n<p>Let's say from 2-4 digits (<em>numbers 00-9999</em>): <code>(?=(\\\\d{2}))(?=(\\\\1\\\\d)?)(?=(\\\\2\\\\d)?)</code></p>\n\n<p>This is a zero-length assertion via positive lookahead, capturing such lookahead into groups. The results is an array of all 2-4 digit strings that can be found within the regex input, together with duplicates and empty strings (for non-match captures).</p>\n\n<p>I am not a Java developer, but I believe a Perl script can be read as an example as well.</p>\n\n<pre><code>#!/usr/bin/perl                                       # perl script\nuse List::MoreUtils qw/ uniq /;                       # uniq subroutine library\n$_ = '04/31 412-555-1235';                            # input\nmy @n = uniq (/(?=(\\d{2}))(?=(\\1\\d)?)(?=(\\2\\d)?)/g);  # regex (single slash in Perl)\nprint \"$_\\n\" for grep(/\\S/, @n);                      # print non-empty lines\n</code></pre>\n\n<p>The trick is using backreferences. If you would like to capture 2-5 digit string, you would need to use one more positive lookahead in the regex: <code>(?=(\\\\d{2}))(?=(\\\\1\\\\d)?)(?=(\\\\2\\\\d)?)(?=(\\\\3\\\\d)?)</code>.</p>\n\n<p>I believe this is a closest approach you can make. If this works for you, drop a comment and hopefully some Java developer will edit my answer with Java code for the above script.</p>\n"},{"tags":[],"owner":{"account_id":3531578,"reputation":117,"user_id":2950964,"accept_rate":0,"display_name":"Darshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433843997,"creation_date":1433843321,"answer_id":30728618,"question_id":11303309,"body_markdown":"I faced a similar situation and I tried the above answers but in my case it took too much of time by setting the start and end index of the matcher\r\nbut I think I&#39;ve found a better solution, I&#39;m posting it here for others.\r\nSo below is my code sniplet.\r\n\r\n    if (textToParse != null) {\r\n    Matcher matcher = PLACEHOLDER_PATTERN.matcher(textToParse);\r\n    \twhile(matcher.hitEnd()!=true){\r\n    \t    Boolean result = matcher.find();\r\n    \t    int count = matcher.groupCount();\r\n    \t    System.out.println(&quot;Result &quot; +result+&quot; count &quot;+count);\r\n    \t    if(result==true &amp;&amp; count==1){\r\n    \t        mergeFieldName = matcher.group(1);\r\n    \t        mergeFieldNames.add(mergeFieldName);\r\n    \t       }\r\n    \t   }\r\n      }\r\n\r\nI have used the matcher.hitEnd() method to check if i have reached the end of text.\r\n\r\nHope this helps.\r\nThanks!\r\n","title":"All overlapping substrings matching a regex","body":"<p>I faced a similar situation and I tried the above answers but in my case it took too much of time by setting the start and end index of the matcher\nbut I think I've found a better solution, I'm posting it here for others.\nSo below is my code sniplet.</p>\n\n<pre><code>if (textToParse != null) {\nMatcher matcher = PLACEHOLDER_PATTERN.matcher(textToParse);\n    while(matcher.hitEnd()!=true){\n        Boolean result = matcher.find();\n        int count = matcher.groupCount();\n        System.out.println(\"Result \" +result+\" count \"+count);\n        if(result==true &amp;&amp; count==1){\n            mergeFieldName = matcher.group(1);\n            mergeFieldNames.add(mergeFieldName);\n           }\n       }\n  }\n</code></pre>\n\n<p>I have used the matcher.hitEnd() method to check if i have reached the end of text.</p>\n\n<p>Hope this helps.\nThanks!</p>\n"}],"owner":{"account_id":88401,"reputation":12934,"user_id":244526,"accept_rate":77,"display_name":"dsg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3374,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1692800295,"creation_date":1341278540,"question_id":11303309,"body_markdown":"Is there an API method that returns all (possibly overlapping) substrings that match a regular expression?\r\n\r\nFor example, I have a text string: `String t = 04/31  412-555-1235;`, and I have a pattern: `Pattern p = new Pattern(&quot;\\\\d\\\\d+&quot;);` that matches strings of two or more characters.\r\n\r\nThe matches I get are: 04, 31, 412, 555, 1235.\r\n\r\nHow do I get overlapping matches?\r\n\r\nI want the code to return: 04, 31, 41, 412, 12, 55, 555, 55, 12, 123, 1235, 23, 235, 35.\r\n\r\nTheoretically it should be possible &amp;ndash; there is an obvious `O(n^2)` algorithm that enumerates and checks all the substrings against the pattern.\r\n\r\nRather than enumerating all substrings, it is safer to use the `region(int start, int end)` method in `Matcher`. Checking the pattern against a separate, extracted substring might change the result of the match (e.g. if there is a non-capturing group or word boundary check at the start/end of the pattern).\r\n\r\n\r\n\r\nActually, it&#39;s unclear whether `region()` does what you expect for zero-width matches. The specification is vague, and experiments yield disappointing results.\r\n\r\nFor example:\r\n\r\n    String line = &quot;xx90xx&quot;;\r\n    String pat = &quot;\\\\b90\\\\b&quot;;\r\n    System.out.println(Pattern.compile(pat).matcher(line).find()); // prints false\r\n    for (int i = 0; i &lt; line.length(); ++i) {\r\n      for (int j = i + 1; j &lt;= line.length(); ++j) {\r\n        Matcher m = Pattern.compile(pat).matcher(line).region(i, j);\r\n        if (m.find() &amp;&amp; m.group().size == (j - i)) {\r\n          System.out.println(m.group() + &quot; (&quot; + i + &quot;, &quot; + j + &quot;)&quot;); // prints 90 (2, 4)\r\n        }\r\n      }\r\n    }\r\n\r\nI&#39;m not sure what the most elegant solution is. One approach would be to take a substring of `line` and pad with with the appropriate boundary characters before checking whether the `pat` matches.\r\n\r\n\r\n\r\nHere is the full solution that I came up with. It can handle zero-width patterns, boundaries, etc. in the original regular expression. It looks through all substrings of the text string and checks whether the regular expression matches only at the specific position by padding the pattern with the appropriate number of wildcards at the beginning and end. It seems to work for the cases I tried &amp;ndash; although I haven&#39;t done extensive testing. It is most certainly less efficient than it could be.\r\n\r\n      public static void allMatches(String text, String regex)\r\n      {\r\n        for (int i = 0; i &lt; text.length(); ++i) {\r\n          for (int j = i + 1; j &lt;= text.length(); ++j) {\r\n            String positionSpecificPattern = &quot;((?&lt;=^.{&quot;+i+&quot;})(&quot;+regex+&quot;)(?=.{&quot;+(text.length() - j)+&quot;}$))&quot;;\r\n            Matcher m = Pattern.compile(positionSpecificPattern).matcher(text);\r\n    \r\n            if (m.find()) \r\n            {   \r\n              System.out.println(&quot;Match found: \\&quot;&quot; + (m.group()) + &quot;\\&quot; at position [&quot; + i + &quot;, &quot; + j + &quot;)&quot;);\r\n            }   \r\n          }   \r\n        }   \r\n      }\r\n\r\n\r\n\r\nHere&#39;s a better way of doing this: https://stackoverflow.com/a/11372670/244526\r\n\r\n\r\n\r\nThe [JRegex][1] library supports finding all overlapping substrings matching a Java regex (although it appears not to have been updated in a while). Specifically, the [documentation on non-breaking search][2] specifies:\r\n\r\n&gt; Using non-breaking search you can finding all possible occureneces of a\r\n&gt; pattern, including those that are intersecting or nested. This is\r\n&gt; achieved by using the Matcher&#39;s method proceed() instead of find()\r\n\r\n\r\n  [1]: http://jregex.sourceforge.net/\r\n  [2]: http://jregex.sourceforge.net/gstarted-advanced.html#imatching","title":"All overlapping substrings matching a regex","body":"<p>Is there an API method that returns all (possibly overlapping) substrings that match a regular expression?</p>\n<p>For example, I have a text string: <code>String t = 04/31  412-555-1235;</code>, and I have a pattern: <code>Pattern p = new Pattern(&quot;\\\\d\\\\d+&quot;);</code> that matches strings of two or more characters.</p>\n<p>The matches I get are: 04, 31, 412, 555, 1235.</p>\n<p>How do I get overlapping matches?</p>\n<p>I want the code to return: 04, 31, 41, 412, 12, 55, 555, 55, 12, 123, 1235, 23, 235, 35.</p>\n<p>Theoretically it should be possible – there is an obvious <code>O(n^2)</code> algorithm that enumerates and checks all the substrings against the pattern.</p>\n<p>Rather than enumerating all substrings, it is safer to use the <code>region(int start, int end)</code> method in <code>Matcher</code>. Checking the pattern against a separate, extracted substring might change the result of the match (e.g. if there is a non-capturing group or word boundary check at the start/end of the pattern).</p>\n<p>Actually, it's unclear whether <code>region()</code> does what you expect for zero-width matches. The specification is vague, and experiments yield disappointing results.</p>\n<p>For example:</p>\n<pre><code>String line = &quot;xx90xx&quot;;\nString pat = &quot;\\\\b90\\\\b&quot;;\nSystem.out.println(Pattern.compile(pat).matcher(line).find()); // prints false\nfor (int i = 0; i &lt; line.length(); ++i) {\n  for (int j = i + 1; j &lt;= line.length(); ++j) {\n    Matcher m = Pattern.compile(pat).matcher(line).region(i, j);\n    if (m.find() &amp;&amp; m.group().size == (j - i)) {\n      System.out.println(m.group() + &quot; (&quot; + i + &quot;, &quot; + j + &quot;)&quot;); // prints 90 (2, 4)\n    }\n  }\n}\n</code></pre>\n<p>I'm not sure what the most elegant solution is. One approach would be to take a substring of <code>line</code> and pad with with the appropriate boundary characters before checking whether the <code>pat</code> matches.</p>\n<p>Here is the full solution that I came up with. It can handle zero-width patterns, boundaries, etc. in the original regular expression. It looks through all substrings of the text string and checks whether the regular expression matches only at the specific position by padding the pattern with the appropriate number of wildcards at the beginning and end. It seems to work for the cases I tried – although I haven't done extensive testing. It is most certainly less efficient than it could be.</p>\n<pre><code>  public static void allMatches(String text, String regex)\n  {\n    for (int i = 0; i &lt; text.length(); ++i) {\n      for (int j = i + 1; j &lt;= text.length(); ++j) {\n        String positionSpecificPattern = &quot;((?&lt;=^.{&quot;+i+&quot;})(&quot;+regex+&quot;)(?=.{&quot;+(text.length() - j)+&quot;}$))&quot;;\n        Matcher m = Pattern.compile(positionSpecificPattern).matcher(text);\n\n        if (m.find()) \n        {   \n          System.out.println(&quot;Match found: \\&quot;&quot; + (m.group()) + &quot;\\&quot; at position [&quot; + i + &quot;, &quot; + j + &quot;)&quot;);\n        }   \n      }   \n    }   \n  }\n</code></pre>\n<p>Here's a better way of doing this: <a href=\"https://stackoverflow.com/a/11372670/244526\">https://stackoverflow.com/a/11372670/244526</a></p>\n<p>The <a href=\"http://jregex.sourceforge.net/\" rel=\"nofollow noreferrer\">JRegex</a> library supports finding all overlapping substrings matching a Java regex (although it appears not to have been updated in a while). Specifically, the <a href=\"http://jregex.sourceforge.net/gstarted-advanced.html#imatching\" rel=\"nofollow noreferrer\">documentation on non-breaking search</a> specifies:</p>\n<blockquote>\n<p>Using non-breaking search you can finding all possible occureneces of a\npattern, including those that are intersecting or nested. This is\nachieved by using the Matcher's method proceed() instead of find()</p>\n</blockquote>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":6,"creation_date":1341822164,"post_id":11391337,"comment_id":15016496,"body_markdown":"By all means reuse the `Matcher`. The only good reason to create a new  `Matcher` is to ensure thread-safety. That&#39;s why you don&#39;t make a `public static Matcher m`---in fact, that&#39;s the reason a separate `Pattern` class exists in the first place.","body":"By all means reuse the <code>Matcher</code>. The only good reason to create a new  <code>Matcher</code> is to ensure thread-safety. That&#39;s why you don&#39;t make a <code>public static Matcher m</code>---in fact, that&#39;s the reason a separate <code>Pattern</code> class exists in the first place."},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":2,"creation_date":1341822326,"post_id":11391337,"comment_id":15016558,"body_markdown":"So, for single-threaded applications even as an instance or class variable, or for multi-threaded ones in which the Matcher object is created inside a method, reset() is fine, yes?","body":"So, for single-threaded applications even as an instance or class variable, or for multi-threaded ones in which the Matcher object is created inside a method, reset() is fine, yes?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1341822378,"post_id":11391337,"comment_id":15016584,"body_markdown":"@MarkoTopolnik: I think separating the compilation of the regex from it&#39;s application is another good reason for having a `Pattern` class.","body":"@MarkoTopolnik: I think separating the compilation of the regex from it&#39;s application is another good reason for having a <code>Pattern</code> class."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1341822409,"post_id":11391337,"comment_id":15016601,"body_markdown":"In every situation where you are sure there&#39;s only one user of `Matcher` at any point in time, it is OK to reuse it with `reset`.","body":"In every situation where you are sure there&#39;s only one user of <code>Matcher</code> at any point in time, it is OK to reuse it with <code>reset</code>."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1341822472,"post_id":11391337,"comment_id":15016622,"body_markdown":"@JoachimSauer For that they could just have offered `public static Matcher compile(String regexp)`. It doesn&#39;t motivate a separate factory object.","body":"@JoachimSauer For that they could just have offered <code>public static Matcher compile(String regexp)</code>. It doesn&#39;t motivate a separate factory object."},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":0,"creation_date":1341822611,"post_id":11391337,"comment_id":15016677,"body_markdown":"@MarkoTopolnik Thanks for the clarification. I have numerous scenarios of Matcher objects created inside static methods and heavily used, so replacing re-instantiation with reset() will definitely improve application performance.","body":"@MarkoTopolnik Thanks for the clarification. I have numerous scenarios of Matcher objects created inside static methods and heavily used, so replacing re-instantiation with reset() will definitely improve application performance."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1341822620,"post_id":11391337,"comment_id":15016680,"body_markdown":"@MarkoTopolnik: I don&#39;t follow. Would that `Matcher` then be a `Matcher` with no `CharSequence` to match on? So you&#39;d suddenly have two different &quot;states&quot; of `Matcher`: with or without a string to be matched-on.","body":"@MarkoTopolnik: I don&#39;t follow. Would that <code>Matcher</code> then be a <code>Matcher</code> with no <code>CharSequence</code> to match on? So you&#39;d suddenly have two different &quot;states&quot; of <code>Matcher</code>: with or without a string to be matched-on."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1341822825,"post_id":11391337,"comment_id":15016770,"body_markdown":"@JoachimSauer I&#39;m just writing a comment, not carefully designing the API as we speak. You must not imagine `Matcher` to be the one we are used to, but a blend of `Pattern` and `Matcher`. The API would just be different. For comparison you can see how they implemented XPath in jaxen.","body":"@JoachimSauer I&#39;m just writing a comment, not carefully designing the API as we speak. You must not imagine <code>Matcher</code> to be the one we are used to, but a blend of <code>Pattern</code> and <code>Matcher</code>. The API would just be different. For comparison you can see how they implemented XPath in jaxen."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1341822873,"post_id":11391337,"comment_id":15016789,"body_markdown":"@MarkoTopolnik: ok, never mind my asking, I was just curious as how you&#39;d have approached that.","body":"@MarkoTopolnik: ok, never mind my asking, I was just curious as how you&#39;d have approached that."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1341823393,"post_id":11391337,"comment_id":15016960,"body_markdown":"@JoachimSauer I&#39;ve thought about it for a minute, it probably would make sense to have that kind of `Matcher` start its life in the state of &quot;no input&quot;. That wouldn&#39;t be a new state, though, because the real JDK `Matcher` finds itself in more-or-less the same state when it is done processing a string.","body":"@JoachimSauer I&#39;ve thought about it for a minute, it probably would make sense to have that kind of <code>Matcher</code> start its life in the state of &quot;no input&quot;. That wouldn&#39;t be a new state, though, because the real JDK <code>Matcher</code> finds itself in more-or-less the same state when it is done processing a string."},{"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"score":0,"creation_date":1341825118,"post_id":11391337,"comment_id":15017592,"body_markdown":"@MarkoTopolnik Can you please create a new answer to the question and copy-paste (a summary of) your comments there, so that I accept it and other people can mark it? Thanks!","body":"@MarkoTopolnik Can you please create a new answer to the question and copy-paste (a summary of) your comments there, so that I accept it and other people can mark it? Thanks!"},{"owner":{"account_id":181983,"reputation":22075,"user_id":416369,"accept_rate":29,"display_name":"sactiw"},"score":2,"creation_date":1388765326,"post_id":11391337,"comment_id":31384937,"body_markdown":"Just for information, both reset() method and reset(CharSequence) method were introduced in java.util.regex.Matcher class in Java 1.5 and are there since then.","body":"Just for information, both reset() method and reset(CharSequence) method were introduced in java.util.regex.Matcher class in Java 1.5 and are there since then."},{"owner":{"account_id":2401759,"reputation":525,"user_id":2099362,"display_name":"EndlosSchleife"},"score":0,"creation_date":1688652672,"post_id":11391337,"comment_id":135105238,"body_markdown":"In the &quot;new Matcher&quot; code, the premature declaration of the Matcher variable does not make any sense (it is not a C++ automatic variable), but the comment might look like it did to some readers.","body":"In the &quot;new Matcher&quot; code, the premature declaration of the Matcher variable does not make any sense (it is not a C++ automatic variable), but the comment might look like it did to some readers."}],"answers":[{"comments":[{"owner":{"account_id":5080491,"reputation":15131,"user_id":4076764,"accept_rate":74,"display_name":"Adam Hughes"},"score":0,"creation_date":1644018137,"post_id":11392203,"comment_id":125502572,"body_markdown":"I think this answer would be better if it had an example showing use of `reset`...","body":"I think this answer would be better if it had an example showing use of <code>reset</code>..."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1644057719,"post_id":11392203,"comment_id":125507704,"body_markdown":"I encourage you to improve this decade-old answer :)","body":"I encourage you to improve this decade-old answer :)"}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1341825686,"creation_date":1341825686,"answer_id":11392203,"question_id":11391337,"body_markdown":"By all means reuse the `Matcher`. The only good reason to create a new `Matcher` is to ensure thread-safety. That&#39;s why you don&#39;t make a `public static Matcher m`&amp;mdash;in fact, that&#39;s the reason a separate, thread-safe `Pattern` factory object exists in the first place.\r\n\r\nIn every situation where you are sure there&#39;s only one user of `Matcher` at any point in time, it is OK to reuse it with `reset`.","title":"Java Pattern Matcher: create new or reset?","body":"<p>By all means reuse the <code>Matcher</code>. The only good reason to create a new <code>Matcher</code> is to ensure thread-safety. That's why you don't make a <code>public static Matcher m</code>&mdash;in fact, that's the reason a separate, thread-safe <code>Pattern</code> factory object exists in the first place.</p>\n\n<p>In every situation where you are sure there's only one user of <code>Matcher</code> at any point in time, it is OK to reuse it with <code>reset</code>.</p>\n"}],"owner":{"account_id":378959,"reputation":19465,"user_id":834316,"accept_rate":82,"display_name":"PNS"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21620,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":11392203,"answer_count":1,"score":30,"last_activity_date":1692800223,"creation_date":1341822032,"question_id":11391337,"body_markdown":"Assume a regular expression, which, via a Java `Matcher` object, is matched against a large number of strings:\r\n\r\n    String expression = ...; // The Regular Expression\r\n    Pattern pattern = Pattern.compile(expression);\r\n    String[] ALL_INPUT = ...; // The large number of strings to be matched\r\n\r\n    Matcher matcher; // Declare but not initialize a Matcher\r\n    \r\n    for (String input:ALL_INPUT)\r\n    {\r\n        matcher = pattern.matcher(input); // Create a new Matcher\r\n    \r\n        if (matcher.matches()) // Or whatever other matcher check\r\n        {\r\n             // Whatever processing\r\n        }\r\n    }\r\n\r\nIn the [Java SE 6 JavaDoc for Matcher][1], one finds the option of reusing the same `Matcher` object, via the `reset(CharSequence)` method, which, as the source code shows, is a bit less expensive than creating a new `Matcher` every time, i.e., unlike above, one could do:\r\n\r\n    String expression = ...; // The Regular Expression\r\n    Pattern pattern = Pattern.compile(expression);\r\n    String[] ALL_INPUT = ...; // The large number of strings to be matched\r\n\r\n    Matcher matcher = pattern.matcher(&quot;&quot;); // Declare and initialize a matcher\r\n    \r\n    for (String input:ALL_INPUT)\r\n    {\r\n        matcher.reset(input); // Reuse the same matcher\r\n    \r\n        if (matcher.matches()) // Or whatever other matcher check\r\n        {\r\n             // Whatever processing\r\n        }\r\n    }\r\n\r\nShould one use the `reset(CharSequence)` pattern above, or should they prefer to initialize a new `Matcher` object every time?\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/index.html?java/util/regex/Matcher.html","title":"Java Pattern Matcher: create new or reset?","body":"<p>Assume a regular expression, which, via a Java <code>Matcher</code> object, is matched against a large number of strings:</p>\n<pre><code>String expression = ...; // The Regular Expression\nPattern pattern = Pattern.compile(expression);\nString[] ALL_INPUT = ...; // The large number of strings to be matched\n\nMatcher matcher; // Declare but not initialize a Matcher\n\nfor (String input:ALL_INPUT)\n{\n    matcher = pattern.matcher(input); // Create a new Matcher\n\n    if (matcher.matches()) // Or whatever other matcher check\n    {\n         // Whatever processing\n    }\n}\n</code></pre>\n<p>In the <a href=\"http://docs.oracle.com/javase/6/docs/api/index.html?java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Java SE 6 JavaDoc for Matcher</a>, one finds the option of reusing the same <code>Matcher</code> object, via the <code>reset(CharSequence)</code> method, which, as the source code shows, is a bit less expensive than creating a new <code>Matcher</code> every time, i.e., unlike above, one could do:</p>\n<pre><code>String expression = ...; // The Regular Expression\nPattern pattern = Pattern.compile(expression);\nString[] ALL_INPUT = ...; // The large number of strings to be matched\n\nMatcher matcher = pattern.matcher(&quot;&quot;); // Declare and initialize a matcher\n\nfor (String input:ALL_INPUT)\n{\n    matcher.reset(input); // Reuse the same matcher\n\n    if (matcher.matches()) // Or whatever other matcher check\n    {\n         // Whatever processing\n    }\n}\n</code></pre>\n<p>Should one use the <code>reset(CharSequence)</code> pattern above, or should they prefer to initialize a new <code>Matcher</code> object every time?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1356545931,"creation_date":1356545931,"answer_id":14044497,"question_id":14044464,"body_markdown":"The match *consumes* the input, so the next match is found *after* the end of the previous match:\r\n\r\nPosition of &quot;bab&quot; matcher&#39;s pointer before each match would be:\r\n\r\n1. `|abababa`\r\n1. `abab|aba`","title":"pattern search using regex in java","body":"<p>The match <em>consumes</em> the input, so the next match is found <em>after</em> the end of the previous match:</p>\n\n<p>Position of \"bab\" matcher's pointer before each match would be:</p>\n\n<ol>\n<li><code>|abababa</code></li>\n<li><code>abab|aba</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356545949,"creation_date":1356545949,"answer_id":14044501,"question_id":14044464,"body_markdown":"For Case 2:\r\n\r\nits because, after it search&#39;s for `bab`, it wouldn&#39;t consider the already searched char(b in this case at index 3) thus you get only 1.\r\n\r\n\r\n\r\n\r\n    Input:  abababa\r\n    Search for bab, \r\n     find&#39;s a match starting at index 1 and ending at index 3, next the search would start at index 4(aba)\r\n\r\n\r\n","title":"pattern search using regex in java","body":"<p>For Case 2:</p>\n\n<p>its because, after it search's for <code>bab</code>, it wouldn't consider the already searched char(b in this case at index 3) thus you get only 1.</p>\n\n<pre><code>Input:  abababa\nSearch for bab, \n find's a match starting at index 1 and ending at index 3, next the search would start at index 4(aba)\n</code></pre>\n"}],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14044497,"answer_count":2,"score":1,"last_activity_date":1692800184,"creation_date":1356545793,"question_id":14044464,"body_markdown":"    public static void main(String args[]) {\r\n        Pattern p = Pattern.compile(&quot;ab&quot;);  // Case 1\r\n        Pattern p = Pattern.compile(&quot;bab&quot;);  // Case 2\r\n        Matcher m = p.matcher(&quot;abababa&quot;);\r\n        while(m.find()){\r\n            System.out.print(m.start());\r\n        }\r\n    }\r\n\r\nWhen I used **Case 1**, then output is **024** as expected. But, when I used **Case 2** then output is **1**, but I was expected **13**. So, anyone explain me, is there any exceptional rule in `regex`, which causes this output, if not. Then, why I&#39;m getting this output. \r\n\r\nHelp appreciated !!\r\n\r\n\r\n\r\n**Note :** Case 1 and Case 2 are independently used.   ","title":"pattern search using regex in java","body":"<pre><code>public static void main(String args[]) {\n    Pattern p = Pattern.compile(\"ab\");  // Case 1\n    Pattern p = Pattern.compile(\"bab\");  // Case 2\n    Matcher m = p.matcher(\"abababa\");\n    while(m.find()){\n        System.out.print(m.start());\n    }\n}\n</code></pre>\n\n<p>When I used <strong>Case 1</strong>, then output is <strong>024</strong> as expected. But, when I used <strong>Case 2</strong> then output is <strong>1</strong>, but I was expected <strong>13</strong>. So, anyone explain me, is there any exceptional rule in <code>regex</code>, which causes this output, if not. Then, why I'm getting this output. </p>\n\n<p>Help appreciated !!</p>\n\n<p><strong>Note :</strong> Case 1 and Case 2 are independently used.   </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1355939736,"post_id":13958119,"comment_id":19252922,"body_markdown":"I assume you want to include `(Mason City Illinois )` but exclude `(black)` ?","body":"I assume you want to include <code>(Mason City Illinois )</code> but exclude <code>(black)</code> ?"},{"owner":{"account_id":408952,"reputation":9285,"user_id":779920,"accept_rate":95,"display_name":"Nick"},"score":0,"creation_date":1355939874,"post_id":13958119,"comment_id":19252982,"body_markdown":"Yes exactly, that is one of the issues I&#39;ve run into","body":"Yes exactly, that is one of the issues I&#39;ve run into"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1355940119,"post_id":13958119,"comment_id":19253087,"body_markdown":"I suspect you want only the last `()` to be parsed.","body":"I suspect you want only the last <code>()</code> to be parsed."}],"answers":[{"tags":[],"owner":{"account_id":363867,"reputation":462,"user_id":707891,"accept_rate":100,"display_name":"Eric"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355939843,"creation_date":1355939532,"answer_id":13958201,"question_id":13958119,"body_markdown":"If you are certain that there will always be 3 groups then this expression will work:\r\n\r\n(.\\*)\\\\((.\\*)\\\\)(.\\*)\r\n\r\nYou can try it yourself here:\r\n\r\nhttp://www.regexplanet.com/cookbook/ahJzfnJlZ2V4cGxhbmV0LWhyZHNyDgsSBlJlY2lwZRiU8y0M/index.html","title":"Regex to split a string into 3 parts","body":"<p>If you are certain that there will always be 3 groups then this expression will work:</p>\n\n<p>(.*)\\((.*)\\)(.*)</p>\n\n<p>You can try it yourself here:</p>\n\n<p><a href=\"http://www.regexplanet.com/cookbook/ahJzfnJlZ2V4cGxhbmV0LWhyZHNyDgsSBlJlY2lwZRiU8y0M/index.html\" rel=\"nofollow\">http://www.regexplanet.com/cookbook/ahJzfnJlZ2V4cGxhbmV0LWhyZHNyDgsSBlJlY2lwZRiU8y0M/index.html</a></p>\n"},{"comments":[{"owner":{"account_id":408952,"reputation":9285,"user_id":779920,"accept_rate":95,"display_name":"Nick"},"score":0,"creation_date":1355939913,"post_id":13958235,"comment_id":19253001,"body_markdown":"This was my original method, but as you see in the first item it has two sets of parens and string split wouldn&#39;t handle that well.","body":"This was my original method, but as you see in the first item it has two sets of parens and string split wouldn&#39;t handle that well."}],"tags":[],"owner":{"account_id":112241,"reputation":4633,"user_id":296158,"accept_rate":93,"display_name":"Adam P"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355939703,"creation_date":1355939703,"answer_id":13958235,"question_id":13958119,"body_markdown":"Not sure if you need to use regex, but if you don&#39;t why not use [String.split][1]. Then you can use `&quot;\\\\(|\\\\)&quot;` to split the string on parentheses and then get the various sections from the created string array.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split%28java.lang.String%29","title":"Regex to split a string into 3 parts","body":"<p>Not sure if you need to use regex, but if you don't why not use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow\">String.split</a>. Then you can use <code>\"\\\\(|\\\\)\"</code> to split the string on parentheses and then get the various sections from the created string array.</p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1355940145,"post_id":13958317,"comment_id":19253103,"body_markdown":"It needs to split on the last (), not the first.","body":"It needs to split on the last (), not the first."},{"owner":{"account_id":408952,"reputation":9285,"user_id":779920,"accept_rate":95,"display_name":"Nick"},"score":0,"creation_date":1355940321,"post_id":13958317,"comment_id":19253193,"body_markdown":"Yes, The first line splits so Black would be the location and elite console... $200 would be the price which I&#39;m trying to avoid","body":"Yes, The first line splits so Black would be the location and elite console... $200 would be the price which I&#39;m trying to avoid"},{"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"score":0,"creation_date":1355940738,"post_id":13958317,"comment_id":19253387,"body_markdown":"@Nick: got it; I just updated my answer but it looks like PeterLawrey beat me to the punch!","body":"@Nick: got it; I just updated my answer but it looks like PeterLawrey beat me to the punch!"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1355940907,"post_id":13958317,"comment_id":19253462,"body_markdown":"Good idea, you might want to trim() the fields as well. ;)","body":"Good idea, you might want to trim() the fields as well. ;)"}],"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355940649,"creation_date":1355940018,"answer_id":13958317,"question_id":13958119,"body_markdown":"**[Edit]** I wouldn&#39;t use regular expressions for this problem; instead I would simply use the [`String#lastIndexOf(...)`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#lastIndexOf(int)) method to find the bounds of the last `(` and `)` characters and return substrings from those values:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static String[] splitParens(String s) { \r\n      if (s == null) return null;\r\n      int indexOfLastOpenParen = s.lastIndexOf(&#39;(&#39;);\r\n      int indexOfLastCloseParen = s.lastIndexOf(&#39;)&#39;);\r\n      return new String[] { \r\n        s.substring(0, indexOfLastOpenParen),\r\n        s.substring(indexOfLastOpenParen + 1, indexOfLastCloseParen),\r\n        s.substring(indexOfLastCloseParen + 1)\r\n      };\r\n    } \r\n    public static void main(String args[]) throws Exception { \r\n      String input[] = { \r\n        &quot;Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200&quot;,\r\n        &quot;$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.&quot;,\r\n        &quot;Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly&quot;,\r\n        &quot;\\&quot;Great Xmas Gift\\&quot; XBox 360 Guitar Hero (Springfied)&quot;\r\n      };\r\n      Pattern p = Pattern.compile(&quot;\\\\(([^\\\\)]+)\\\\)&quot;);\r\n      for (String s : input) { \r\n        System.out.println(Arrays.asList(splitParens(s)));\r\n      }\r\n      // =&gt;\r\n      // [Xbox 360 (black) Elite Console 120GB , Mason City Illinois ,  $200]\r\n      // [$200 2013 North Trail Camper , RT 202. Manchester, Maine,  $224/mo.]\r\n      // [Snowmobile Bike trailers , Winthrop / Augusta,  $40 Monthly]\r\n      // [&quot;Great Xmas Gift&quot; XBox 360 Guitar Hero , Springfied, ]\r\n    }\r\n\r\nOf course, more error checking is needed (e.g. what if there is no `(` or `)`?).","title":"Regex to split a string into 3 parts","body":"<p><strong>[Edit]</strong> I wouldn't use regular expressions for this problem; instead I would simply use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#lastIndexOf%28int%29\" rel=\"nofollow\"><code>String#lastIndexOf(...)</code></a> method to find the bounds of the last <code>(</code> and <code>)</code> characters and return substrings from those values:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] splitParens(String s) { \n  if (s == null) return null;\n  int indexOfLastOpenParen = s.lastIndexOf('(');\n  int indexOfLastCloseParen = s.lastIndexOf(')');\n  return new String[] { \n    s.substring(0, indexOfLastOpenParen),\n    s.substring(indexOfLastOpenParen + 1, indexOfLastCloseParen),\n    s.substring(indexOfLastCloseParen + 1)\n  };\n} \npublic static void main(String args[]) throws Exception { \n  String input[] = { \n    \"Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200\",\n    \"$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.\",\n    \"Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly\",\n    \"\\\"Great Xmas Gift\\\" XBox 360 Guitar Hero (Springfied)\"\n  };\n  Pattern p = Pattern.compile(\"\\\\(([^\\\\)]+)\\\\)\");\n  for (String s : input) { \n    System.out.println(Arrays.asList(splitParens(s)));\n  }\n  // =&gt;\n  // [Xbox 360 (black) Elite Console 120GB , Mason City Illinois ,  $200]\n  // [$200 2013 North Trail Camper , RT 202. Manchester, Maine,  $224/mo.]\n  // [Snowmobile Bike trailers , Winthrop / Augusta,  $40 Monthly]\n  // [\"Great Xmas Gift\" XBox 360 Guitar Hero , Springfied, ]\n}\n</code></pre>\n\n<p>Of course, more error checking is needed (e.g. what if there is no <code>(</code> or <code>)</code>?).</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1355940349,"creation_date":1355940349,"answer_id":13958401,"question_id":13958119,"body_markdown":"I suspect you could do this with a regular expression, but it might be simpler not to.\r\n\r\n        String input[] = {\r\n                &quot;Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200&quot;,\r\n                &quot;$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.&quot;,\r\n                &quot;Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly&quot;,\r\n                &quot;\\&quot;Great Xmas Gift\\&quot; XBox 360 Guitar Hero (Springfied)&quot;\r\n        };\r\n        for (String s : input) {\r\n            int lastClose = s.lastIndexOf(&#39;)&#39;);\r\n            int lastOpen = s.lastIndexOf(&#39;(&#39;, lastClose);\r\n            System.out.println(s.substring(0, lastOpen).trim() +\r\n                    &quot;~&quot; + s.substring(lastOpen + 1, lastClose).trim() +\r\n                    &quot;~&quot; + s.substring(lastClose + 1).trim());\r\n        }\r\n\r\nprints\r\n\r\n    Xbox 360 (black) Elite Console 120GB~Mason City Illinois~$200\r\n    $200 2013 North Trail Camper~RT 202. Manchester, Maine~$224/mo.\r\n    Snowmobile Bike trailers~Winthrop / Augusta~$40 Monthly\r\n    &quot;Great Xmas Gift&quot; XBox 360 Guitar Hero~Springfied~\r\n\r\n","title":"Regex to split a string into 3 parts","body":"<p>I suspect you could do this with a regular expression, but it might be simpler not to.</p>\n\n<pre><code>    String input[] = {\n            \"Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200\",\n            \"$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.\",\n            \"Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly\",\n            \"\\\"Great Xmas Gift\\\" XBox 360 Guitar Hero (Springfied)\"\n    };\n    for (String s : input) {\n        int lastClose = s.lastIndexOf(')');\n        int lastOpen = s.lastIndexOf('(', lastClose);\n        System.out.println(s.substring(0, lastOpen).trim() +\n                \"~\" + s.substring(lastOpen + 1, lastClose).trim() +\n                \"~\" + s.substring(lastClose + 1).trim());\n    }\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>Xbox 360 (black) Elite Console 120GB~Mason City Illinois~$200\n$200 2013 North Trail Camper~RT 202. Manchester, Maine~$224/mo.\nSnowmobile Bike trailers~Winthrop / Augusta~$40 Monthly\n\"Great Xmas Gift\" XBox 360 Guitar Hero~Springfied~\n</code></pre>\n"}],"owner":{"account_id":408952,"reputation":9285,"user_id":779920,"accept_rate":95,"display_name":"Nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2592,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13958401,"answer_count":4,"score":3,"last_activity_date":1692800178,"creation_date":1355939211,"question_id":13958119,"body_markdown":"I have an example dynamic input of information like this:\r\n\r\n&gt; Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200\r\n&gt; \r\n&gt; $200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.\r\n&gt; \r\n&gt; Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly\r\n&gt; \r\n&gt; &quot;Great Xmas Gift&quot; XBox 360 Guitar Hero (Springfied) \r\n\r\nI am trying to use Regex in Android to split the string into three parts:\r\n\r\n 1. Text before XXX()\r\n 2. Text in (XXX)\r\n 3. Text after () XXX\r\n\r\nSometimes there won&#39;t be a price, the text after the location in ().\r\n\r\nI&#39;ve tried to \r\n\r\n    Pattern p = Pattern.compile(&quot;\\(([^]*)\\)&quot;);\r\n    Matcher m = p.matcher(title);\r\n\r\nBut I can&#39;t get matchers to work in Android. It always returns empty when I look in with `matcher.group(1)`. I have it setup currently to look for either ( or $ and explode too give me the separate strings. But this is inaccurate and inefficient.\r\n\r\nAny help is apperciated!\r\n","title":"Regex to split a string into 3 parts","body":"<p>I have an example dynamic input of information like this:</p>\n\n<blockquote>\n  <p>Xbox 360 (black) Elite Console 120GB (Mason City Illinois ) $200</p>\n  \n  <p>$200 2013 North Trail Camper (RT 202. Manchester, Maine) $224/mo.</p>\n  \n  <p>Snowmobile Bike trailers (Winthrop / Augusta) $40 Monthly</p>\n  \n  <p>\"Great Xmas Gift\" XBox 360 Guitar Hero (Springfied) </p>\n</blockquote>\n\n<p>I am trying to use Regex in Android to split the string into three parts:</p>\n\n<ol>\n<li>Text before XXX()</li>\n<li>Text in (XXX)</li>\n<li>Text after () XXX</li>\n</ol>\n\n<p>Sometimes there won't be a price, the text after the location in ().</p>\n\n<p>I've tried to </p>\n\n<pre><code>Pattern p = Pattern.compile(\"\\(([^]*)\\)\");\nMatcher m = p.matcher(title);\n</code></pre>\n\n<p>But I can't get matchers to work in Android. It always returns empty when I look in with <code>matcher.group(1)</code>. I have it setup currently to look for either ( or $ and explode too give me the separate strings. But this is inaccurate and inefficient.</p>\n\n<p>Any help is apperciated!</p>\n"},{"tags":["java","regex","unique"],"answers":[{"comments":[{"owner":{"account_id":1275170,"reputation":2721,"user_id":1230594,"accept_rate":90,"display_name":"Isaac"},"score":0,"creation_date":1354135087,"post_id":13613844,"comment_id":18666816,"body_markdown":"Order doesnot matter for my needs, so this is perfect. Now I just need to do some research on lookaheads and backreferences to actually understand the syntax. Cheers!","body":"Order doesnot matter for my needs, so this is perfect. Now I just need to do some research on lookaheads and backreferences to actually understand the syntax. Cheers!"},{"owner":{"account_id":1793115,"reputation":43687,"user_id":1633117,"accept_rate":50,"display_name":"Martin Ender"},"score":1,"creation_date":1354135176,"post_id":13613844,"comment_id":18666858,"body_markdown":"@Ibrahim I added two links on the two topics.","body":"@Ibrahim I added two links on the two topics."},{"owner":{"account_id":1370579,"reputation":791,"user_id":1305893,"display_name":"Sufyan Jabr"},"score":0,"creation_date":1489497631,"post_id":13613844,"comment_id":72688326,"body_markdown":"There is a lot of people trying to explain this question... but i only understood urs as u explain it in general +1","body":"There is a lot of people trying to explain this question... but i only understood urs as u explain it in general +1"},{"owner":{"account_id":445579,"reputation":103,"user_id":838121,"display_name":"Hsehdar"},"score":0,"creation_date":1493040277,"post_id":13613844,"comment_id":74228035,"body_markdown":"@MartinEnder thanks for the reply. It helped me learn with clear explanation.","body":"@MartinEnder thanks for the reply. It helped me learn with clear explanation."},{"owner":{"account_id":543478,"reputation":633,"user_id":912627,"accept_rate":47,"display_name":"pixelwiz"},"score":0,"creation_date":1507034948,"post_id":13613844,"comment_id":80043956,"body_markdown":"Hi I&#39;m trying your solution in Dreamweaver Regular Expression search and in Espresso to test it.  But it&#39;s not working for me.  I&#39;m trying to find all distinct occurrences of\ndatasource=&quot;someDSNname&quot;\nin source code for a fairly large website.  But even in a small example, if I put in two occurrences of that, both come back from the regex.\nI tried:\n(datasource=\\&quot;(.*?)\\&quot;)(?!.\\1)\n(datasource=\\&quot;(.*?)\\&quot;)(?!.+\\1)","body":"Hi I&#39;m trying your solution in Dreamweaver Regular Expression search and in Espresso to test it.  But it&#39;s not working for me.  I&#39;m trying to find all distinct occurrences of datasource=&quot;someDSNname&quot; in source code for a fairly large website.  But even in a small example, if I put in two occurrences of that, both come back from the regex. I tried: (datasource=\\&quot;(.*?)\\&quot;)(?!.\\1) (datasource=\\&quot;(.*?)\\&quot;)(?!.+\\1)"}],"tags":[],"owner":{"account_id":1793115,"reputation":43687,"user_id":1633117,"accept_rate":50,"display_name":"Martin Ender"},"comment_count":5,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1354135344,"creation_date":1354134601,"answer_id":13613844,"question_id":13613813,"body_markdown":"Yes there is. You can combine a negative lookahead and a backreference:\r\n\r\n    &quot;(\\\\[[^\\\\[\\\\]]*\\\\])(?!.*\\\\1)&quot;\r\n\r\nThat will only match if that, which was matched by your actual pattern, does not occur again in the string. Effectively, that means you always get the **last** occurrence of every match, so you would get them in a different order:\r\n\r\n    [inputString]\r\n    [userName]\r\n\r\nIf the order is a problem for you (i.e. if it&#39;s crucial to order them by first occurrence), you won&#39;t be able to do this using regex only. You would need a variable-length look*behind* for that, and that is not supported by Java.\r\n\r\nFurther reading:\r\n\r\n - [Lookarounds][1]\r\n - [Backreferences][2]\r\n\r\n---\r\n\r\n**Some notes on a general solution**\r\n\r\nNote that this will work with any pattern whose matches are of non-zero width. The general solution is simply:\r\n\r\n    (yourPatternHere)(?!.*\\1)\r\n\r\n(I left out the double backslash, because that only applies to a few languages.)\r\n\r\nIf you want it to work with patterns that have zero-width matches (because you only want to know a position and are using lookarounds only for some reason), you could do this:\r\n\r\n    (zeroWidthPatternHere)(?!.+\\1)\r\n\r\nAlso, note that (generally) you might have to use the &quot;singleline&quot; or &quot;dotall&quot; option, if your input may contain linebreaks (otherwise the lookahead will only check in the current line). If you cannot or do not want to activate that (because you have a pattern that includes periods which should not match line breaks; or because you use JavaScript), this is the general solution:\r\n\r\n    (yourPatternHere)(?![\\s\\S]*\\1)\r\n\r\nAnd to make this answer even more widely applicable, here is how you could match only the *first* occurrence of every match (in an engine with variable-length lookbehinds, like .NET):\r\n\r\n    (yourPatternHere)(?&lt;!\\1.*\\1)\r\n    or\r\n    (yourPatternHere)(?&lt;!\\1[\\s\\S]*\\1)\r\n\r\n\r\n  [1]: http://www.regular-expressions.info/lookaround.html\r\n  [2]: http://www.regular-expressions.info/brackets.html","title":"get unique regex matcher results (without using maps or lists)","body":"<p>Yes there is. You can combine a negative lookahead and a backreference:</p>\n\n<pre><code>\"(\\\\[[^\\\\[\\\\]]*\\\\])(?!.*\\\\1)\"\n</code></pre>\n\n<p>That will only match if that, which was matched by your actual pattern, does not occur again in the string. Effectively, that means you always get the <strong>last</strong> occurrence of every match, so you would get them in a different order:</p>\n\n<pre><code>[inputString]\n[userName]\n</code></pre>\n\n<p>If the order is a problem for you (i.e. if it's crucial to order them by first occurrence), you won't be able to do this using regex only. You would need a variable-length look*behind* for that, and that is not supported by Java.</p>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"http://www.regular-expressions.info/lookaround.html\">Lookarounds</a></li>\n<li><a href=\"http://www.regular-expressions.info/brackets.html\">Backreferences</a></li>\n</ul>\n\n<hr>\n\n<p><strong>Some notes on a general solution</strong></p>\n\n<p>Note that this will work with any pattern whose matches are of non-zero width. The general solution is simply:</p>\n\n<pre><code>(yourPatternHere)(?!.*\\1)\n</code></pre>\n\n<p>(I left out the double backslash, because that only applies to a few languages.)</p>\n\n<p>If you want it to work with patterns that have zero-width matches (because you only want to know a position and are using lookarounds only for some reason), you could do this:</p>\n\n<pre><code>(zeroWidthPatternHere)(?!.+\\1)\n</code></pre>\n\n<p>Also, note that (generally) you might have to use the \"singleline\" or \"dotall\" option, if your input may contain linebreaks (otherwise the lookahead will only check in the current line). If you cannot or do not want to activate that (because you have a pattern that includes periods which should not match line breaks; or because you use JavaScript), this is the general solution:</p>\n\n<pre><code>(yourPatternHere)(?![\\s\\S]*\\1)\n</code></pre>\n\n<p>And to make this answer even more widely applicable, here is how you could match only the <em>first</em> occurrence of every match (in an engine with variable-length lookbehinds, like .NET):</p>\n\n<pre><code>(yourPatternHere)(?&lt;!\\1.*\\1)\nor\n(yourPatternHere)(?&lt;!\\1[\\s\\S]*\\1)\n</code></pre>\n"}],"owner":{"account_id":1275170,"reputation":2721,"user_id":1230594,"accept_rate":90,"display_name":"Isaac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6038,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":13613844,"answer_count":1,"score":8,"last_activity_date":1692800168,"creation_date":1354134469,"question_id":13613813,"body_markdown":"Is there a way to get only the unique matches? without using a list or a map after the matching, I want the matcher output to be unique right away.\r\n\r\nSample input/output:\r\n \r\n\r\n    String input = &quot;This is a question from [userName] about finding unique regex matches for [inputString] without using any lists or maps. -[userName].&quot;;\r\n    Pattern pattern = Pattern.compile(&quot;\\\\[[^\\\\[\\\\]]*\\\\]&quot;);\r\n    Matcher matcher = pattern.matcher(rawText);\r\n    while (matcher.find()) {\r\n        String tokenName = matcher.group(0);\r\n        System.out.println(tokenName);\r\n    }\r\n\r\nThis will output the following:\r\n\r\n    [userName]\r\n    [inputString]\r\n    [userName]\r\n\r\nBut I want it to output the following:\r\n\r\n    [userName]\r\n    [inputString]\r\n","title":"get unique regex matcher results (without using maps or lists)","body":"<p>Is there a way to get only the unique matches? without using a list or a map after the matching, I want the matcher output to be unique right away.</p>\n\n<p>Sample input/output:</p>\n\n<pre><code>String input = \"This is a question from [userName] about finding unique regex matches for [inputString] without using any lists or maps. -[userName].\";\nPattern pattern = Pattern.compile(\"\\\\[[^\\\\[\\\\]]*\\\\]\");\nMatcher matcher = pattern.matcher(rawText);\nwhile (matcher.find()) {\n    String tokenName = matcher.group(0);\n    System.out.println(tokenName);\n}\n</code></pre>\n\n<p>This will output the following:</p>\n\n<pre><code>[userName]\n[inputString]\n[userName]\n</code></pre>\n\n<p>But I want it to output the following:</p>\n\n<pre><code>[userName]\n[inputString]\n</code></pre>\n"},{"tags":["java","regex","greedy"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352266109,"post_id":13263550,"comment_id":18077136,"body_markdown":"Do you just want two tags there: - `NP` and `VP`? And you aren&#39;t actually matching your `VP` tag?","body":"Do you just want two tags there: - <code>NP</code> and <code>VP</code>? And you aren&#39;t actually matching your <code>VP</code> tag?"}],"answers":[{"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352267219,"post_id":13263762,"comment_id":18077403,"body_markdown":"Your last pattern can further be simplified to : - `(\\\\([NV]P [^)]*?\\\\) ?){2}`","body":"Your last pattern can further be simplified to : - <code>(\\\\([NV]P [^)]*?\\\\) ?){2}</code>"},{"owner":{"account_id":1938,"reputation":1580,"user_id":2667,"display_name":"Dwight Holman"},"score":0,"creation_date":1352267356,"post_id":13263762,"comment_id":18077442,"body_markdown":"Simplifying in that way allows (VP ) (NP ), which is not as described in the question.  Also, there is at least one (NP) tag, not just one.","body":"Simplifying in that way allows (VP ) (NP ), which is not as described in the question.  Also, there is at least one (NP) tag, not just one."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352267517,"post_id":13263762,"comment_id":18077477,"body_markdown":"@anonfunc.. Ah yes. Sorry. didn&#39;t notice that.","body":"@anonfunc.. Ah yes. Sorry. didn&#39;t notice that."}],"tags":[],"owner":{"account_id":1938,"reputation":1580,"user_id":2667,"display_name":"Dwight Holman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1352267322,"creation_date":1352266960,"answer_id":13263762,"question_id":13263550,"body_markdown":"`((\\(NP .*?\\)( )?)+\\./\\.)` is the compiled pattern.\r\n\r\nSimplify:\r\n\r\n`\\(NP .*?\\) ?+\\./\\.` removing unused capturing groups.\r\n\r\nNow, lets look at the example strings you have: \r\n\r\nIn `(NP first tag) (VP second tag) ./.`, the `.*?` matches `first tag) (VP second tag`.  \r\nIn `(NP first tag) (VP second tag) (MISC tag that must not be catch) ./.`, `.*?` matches `first tag) (VP second tag) (MISC tag that must not be catch`.\r\n\r\n\r\nWhy?  I mean, it&#39;s non-greedy right? Right, but...  \r\n\r\n`.*?\\)` starts off matching ` first tag)`, what you want.  However, the rest of the regex fails the match and the regex engine throws that out as a possible answer and keeps looking.\r\n\r\nIf you don&#39;t have tags in tags like (NP (tag)), you can change the pattern: `\\(NP [^)]*?\\) `\r\n\r\nTo match the string you described in your question: `\\(NP [^)]*?\\)  ?\\(VP [^)]*?\\) \\./\\.`\r\n\r\nWith Java escaping it becomes `\\\\(NP [^)]*?\\\\)  ?\\\\(VP [^)]*?\\\\) \\./\\.`.  \r\n\r\nFor further reading, there is a great [Stack Overflow question][1] covering more of the theory and practice around this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5319840/greedy-vs-reluctant-vs-possessive-quantifiers","title":"Regex on Java: avoiding unnecessary &quot;greedy&quot; strategy by Matcher class","body":"<p><code>((\\(NP .*?\\)( )?)+\\./\\.)</code> is the compiled pattern.</p>\n\n<p>Simplify:</p>\n\n<p><code>\\(NP .*?\\) ?+\\./\\.</code> removing unused capturing groups.</p>\n\n<p>Now, lets look at the example strings you have: </p>\n\n<p>In <code>(NP first tag) (VP second tag) ./.</code>, the <code>.*?</code> matches <code>first tag) (VP second tag</code>.<br>\nIn <code>(NP first tag) (VP second tag) (MISC tag that must not be catch) ./.</code>, <code>.*?</code> matches <code>first tag) (VP second tag) (MISC tag that must not be catch</code>.</p>\n\n<p>Why?  I mean, it's non-greedy right? Right, but...  </p>\n\n<p><code>.*?\\)</code> starts off matching <code>first tag)</code>, what you want.  However, the rest of the regex fails the match and the regex engine throws that out as a possible answer and keeps looking.</p>\n\n<p>If you don't have tags in tags like (NP (tag)), you can change the pattern: <code>\\(NP [^)]*?\\)</code></p>\n\n<p>To match the string you described in your question: <code>\\(NP [^)]*?\\)  ?\\(VP [^)]*?\\) \\./\\.</code></p>\n\n<p>With Java escaping it becomes <code>\\\\(NP [^)]*?\\\\)  ?\\\\(VP [^)]*?\\\\) \\./\\.</code>.  </p>\n\n<p>For further reading, there is a great <a href=\"https://stackoverflow.com/questions/5319840/greedy-vs-reluctant-vs-possessive-quantifiers\">Stack Overflow question</a> covering more of the theory and practice around this.</p>\n"}],"owner":{"account_id":2018340,"reputation":915,"user_id":1805077,"accept_rate":89,"display_name":"Felipe Le&#227;o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13263762,"answer_count":1,"score":1,"last_activity_date":1692800155,"creation_date":1352265756,"question_id":13263550,"body_markdown":"I&#39;m trying to develop a regex to look for a sequence of tags inside a string. For example, I can have the tag `(NP .*)` at least one time (can be multiple times), followed by a punctuation symbol (in this case a `./.`). If there&#39;s another tag between de `(NP)` and the `./.` (like the VP in the example below), the Matcher must not find anything. The problem is that even if I use the question mark after the `.*` it will keep looking for a `)` that makes the expression match something in the string. Here is my method:\r\n\r\n    public void myMethod() {\r\n        String input = &quot;(NP first tag) (VP second tag) ./.&quot;;\r\n        String regex = &quot;(\\\\(NP .*?\\\\)( )?)+&quot; + &quot;\\\\./\\\\.&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(&quot;(&quot; + regex + &quot;)&quot;);\r\n        Matcher matcher = pattern.matcher(input);\r\n\r\n        if (matcher.find()) {\r\n            System.out.println(&quot;&lt;S &quot;+matcher.group(0)+&quot;&gt;&quot;);\r\n        } else {\r\n            System.out.println(&quot;sem grupos.&quot;);\r\n        }\r\n    }\r\n\r\nThe method will still match the regex, but it shouldn&#39;t.  I need it to tell me that no group was found, since the &quot;VP&quot; tag shouldn&#39;t be there. I believe the problem relies on the greedy strategy adopted by the Regex in Java. It tries to find some combination of characters that attend to the pattern described by the regex. I have no idea on how to rewrite this expression.\r\n\r\nAny Help?\r\n\r\n**EDITED:**\r\n\r\n1) I noticed that my question was a bit confusing, so I changed a bit the example to make it clearer.\r\n\r\n2) Thanks Aan Moore. I Agree that I was using more groups than necessary, but this happened because of the operators like `+`. I tried to cut away the unnecessary groups. Also your simple idea of replacing the `.*?` by a `[^)]*?` was great! The only thing that I adjusted was that I escaped the `)` symbol by using `[^\\\\)]*?`. Below I show the final REGEX used. \r\n\r\n    String regex = &quot;(\\\\(NP [^\\\\)]*?\\\\) ?)+\\\\./\\\\.&quot;;\r\n\r\nThanks a lot! :)","title":"Regex on Java: avoiding unnecessary &quot;greedy&quot; strategy by Matcher class","body":"<p>I'm trying to develop a regex to look for a sequence of tags inside a string. For example, I can have the tag <code>(NP .*)</code> at least one time (can be multiple times), followed by a punctuation symbol (in this case a <code>./.</code>). If there's another tag between de <code>(NP)</code> and the <code>./.</code> (like the VP in the example below), the Matcher must not find anything. The problem is that even if I use the question mark after the <code>.*</code> it will keep looking for a <code>)</code> that makes the expression match something in the string. Here is my method:</p>\n\n<pre><code>public void myMethod() {\n    String input = \"(NP first tag) (VP second tag) ./.\";\n    String regex = \"(\\\\(NP .*?\\\\)( )?)+\" + \"\\\\./\\\\.\";\n\n    Pattern pattern = Pattern.compile(\"(\" + regex + \")\");\n    Matcher matcher = pattern.matcher(input);\n\n    if (matcher.find()) {\n        System.out.println(\"&lt;S \"+matcher.group(0)+\"&gt;\");\n    } else {\n        System.out.println(\"sem grupos.\");\n    }\n}\n</code></pre>\n\n<p>The method will still match the regex, but it shouldn't.  I need it to tell me that no group was found, since the \"VP\" tag shouldn't be there. I believe the problem relies on the greedy strategy adopted by the Regex in Java. It tries to find some combination of characters that attend to the pattern described by the regex. I have no idea on how to rewrite this expression.</p>\n\n<p>Any Help?</p>\n\n<p><strong>EDITED:</strong></p>\n\n<p>1) I noticed that my question was a bit confusing, so I changed a bit the example to make it clearer.</p>\n\n<p>2) Thanks Aan Moore. I Agree that I was using more groups than necessary, but this happened because of the operators like <code>+</code>. I tried to cut away the unnecessary groups. Also your simple idea of replacing the <code>.*?</code> by a <code>[^)]*?</code> was great! The only thing that I adjusted was that I escaped the <code>)</code> symbol by using <code>[^\\\\)]*?</code>. Below I show the final REGEX used. </p>\n\n<pre><code>String regex = \"(\\\\(NP [^\\\\)]*?\\\\) ?)+\\\\./\\\\.\";\n</code></pre>\n\n<p>Thanks a lot! :)</p>\n"},{"tags":["java","regex","performance","mediawiki"],"comments":[{"owner":{"account_id":1929427,"reputation":33,"user_id":1739166,"display_name":"user1739166"},"score":0,"creation_date":1349982959,"post_id":12846866,"comment_id":17384143,"body_markdown":"Also, if I have something like \\_\\*\\[link|\\]\\*\\_: A link (without the url part) in bold and italic, I will need to parse it 3 times, one to remove the italic, other to remove the bold and the last one to remove the brackets... this is too slow for what I need","body":"Also, if I have something like _*&#91;link|&#93;*_: A link (without the url part) in bold and italic, I will need to parse it 3 times, one to remove the italic, other to remove the bold and the last one to remove the brackets... this is too slow for what I need"}],"answers":[{"tags":[],"owner":{"account_id":1004510,"reputation":9261,"user_id":1018611,"accept_rate":100,"display_name":"gtgaxiola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1349986725,"creation_date":1349986725,"answer_id":12847819,"question_id":12846866,"body_markdown":"Since it looks that is basically three types of code formatting: *italic*, **bold**, and [LINK][1]\r\n\r\n\r\n  [1]: http://pastebin.com/7WWwYMpy\r\n\r\nI&#39;ll do a 3-pass Regex replacer.\r\n\r\nand the order of precedence according to the input you have given should be:\r\n\r\n    /**\r\n     * FIRST REMOVE ITALICS, THEN BOLD, THEN URL\r\n     */\r\n    public static String cleanWikiFormat(CharSequence sequence) {\r\n        return Test.removeUrl(Test.removeBold(Test.removeItalic(sequence)));\r\n    }\r\n\r\n\r\nHere&#39;s a sample code:\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    \r\n    public class Test {\r\n    \r\n        private static String removeItalic(CharSequence sequence) {\r\n            Pattern patt = Pattern.compile(&quot;_\\\\*(.+?)\\\\*_&quot;);\r\n            Matcher m = patt.matcher(sequence);\r\n            StringBuffer sb = new StringBuffer(sequence.length());\r\n            while (m.find()) {\r\n                String text = m.group(1);\r\n                // ... possibly process &#39;text&#39; ...\r\n                m.appendReplacement(sb, Matcher.quoteReplacement(text));\r\n            }\r\n            m.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n    \r\n        private static String removeBold(CharSequence sequence) {\r\n            Pattern patt = Pattern.compile(&quot;\\\\*(.+?)\\\\*&quot;);\r\n            Matcher m = patt.matcher(sequence);\r\n            StringBuffer sb = new StringBuffer(sequence.length());\r\n            while (m.find()) {\r\n                String text = m.group(1);\r\n                // ... possibly process &#39;text&#39; ...\r\n                m.appendReplacement(sb, Matcher.quoteReplacement(text));\r\n            }\r\n            m.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n        \r\n        \r\n        private static String removeUrl(CharSequence sequence) {\r\n            Pattern patt = Pattern.compile(&quot;\\\\[(.+?)\\\\|\\\\]&quot;);\r\n            Matcher m = patt.matcher(sequence);\r\n            StringBuffer sb = new StringBuffer(sequence.length());\r\n            while (m.find()) {\r\n                String text = m.group(1);\r\n                // ... possibly process &#39;text&#39; ...\r\n                m.appendReplacement(sb, Matcher.quoteReplacement(text));\r\n            }\r\n            m.appendTail(sb);\r\n            return sb.toString();\r\n        }\r\n        \r\n        \r\n        public static String cleanWikiFormat(CharSequence sequence) {\r\n            return Test.removeUrl(Test.removeBold(Test.removeItalic(sequence)));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String text = &quot;[hello|] this is just a *[test|]* to clean wiki *type* and _*formatting*_&quot;;\r\n            System.out.println(&quot;Original&quot;);\r\n            System.out.println(text);\r\n            text = Test.cleanWikiFormat(text);\r\n            System.out.println(&quot;CHANGED&quot;);\r\n            System.out.println(text);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe following will give:\r\n\r\n    Original\r\n    [hello|] this is just a *[test|]* to clean wiki *type* and _*formatting*_\r\n    CHANGED\r\n    hello this is just a test to clean wiki type and formatting\r\n\r\n","title":"java regex to clear mediawiki markup","body":"<p>Since it looks that is basically three types of code formatting: <em>italic</em>, <strong>bold</strong>, and <a href=\"http://pastebin.com/7WWwYMpy\" rel=\"nofollow\">LINK</a></p>\n\n<p>I'll do a 3-pass Regex replacer.</p>\n\n<p>and the order of precedence according to the input you have given should be:</p>\n\n<pre><code>/**\n * FIRST REMOVE ITALICS, THEN BOLD, THEN URL\n */\npublic static String cleanWikiFormat(CharSequence sequence) {\n    return Test.removeUrl(Test.removeBold(Test.removeItalic(sequence)));\n}\n</code></pre>\n\n<p>Here's a sample code:</p>\n\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n\npublic class Test {\n\n    private static String removeItalic(CharSequence sequence) {\n        Pattern patt = Pattern.compile(\"_\\\\*(.+?)\\\\*_\");\n        Matcher m = patt.matcher(sequence);\n        StringBuffer sb = new StringBuffer(sequence.length());\n        while (m.find()) {\n            String text = m.group(1);\n            // ... possibly process 'text' ...\n            m.appendReplacement(sb, Matcher.quoteReplacement(text));\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n\n    private static String removeBold(CharSequence sequence) {\n        Pattern patt = Pattern.compile(\"\\\\*(.+?)\\\\*\");\n        Matcher m = patt.matcher(sequence);\n        StringBuffer sb = new StringBuffer(sequence.length());\n        while (m.find()) {\n            String text = m.group(1);\n            // ... possibly process 'text' ...\n            m.appendReplacement(sb, Matcher.quoteReplacement(text));\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n\n\n    private static String removeUrl(CharSequence sequence) {\n        Pattern patt = Pattern.compile(\"\\\\[(.+?)\\\\|\\\\]\");\n        Matcher m = patt.matcher(sequence);\n        StringBuffer sb = new StringBuffer(sequence.length());\n        while (m.find()) {\n            String text = m.group(1);\n            // ... possibly process 'text' ...\n            m.appendReplacement(sb, Matcher.quoteReplacement(text));\n        }\n        m.appendTail(sb);\n        return sb.toString();\n    }\n\n\n    public static String cleanWikiFormat(CharSequence sequence) {\n        return Test.removeUrl(Test.removeBold(Test.removeItalic(sequence)));\n    }\n\n    public static void main(String[] args) {\n        String text = \"[hello|] this is just a *[test|]* to clean wiki *type* and _*formatting*_\";\n        System.out.println(\"Original\");\n        System.out.println(text);\n        text = Test.cleanWikiFormat(text);\n        System.out.println(\"CHANGED\");\n        System.out.println(text);\n    }\n}\n</code></pre>\n\n<p>The following will give:</p>\n\n<pre><code>Original\n[hello|] this is just a *[test|]* to clean wiki *type* and _*formatting*_\nCHANGED\nhello this is just a test to clean wiki type and formatting\n</code></pre>\n"}],"owner":{"account_id":1929427,"reputation":33,"user_id":1739166,"display_name":"user1739166"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1062,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1349988116,"accepted_answer_id":12847819,"answer_count":1,"score":1,"last_activity_date":1692800145,"creation_date":1349982790,"question_id":12846866,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [Wikipedia : Java library to remove wikipedia text markup removal](https://stackoverflow.com/questions/2863272/wikipedia-java-library-to-remove-wikipedia-text-markup-removal)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI have to clean some content that comes from Confluence. That content is almost clean; however, there are some things like: \r\n\r\n1. \\[link|\\]: A link without the url part\r\n2. \\*\\[link|\\]\\*: A link (without the url part) in bold\r\n3. \\*text\\*: Bolded text\r\n4. \\_\\*text\\*\\_: italic bolded text \r\n\r\nAnd so on.\r\nI need to write a regex that clean all that, so, I did something like: \r\n\r\n`String wikiCleanMarkupRegex = &quot;\\\\\\\\[(.*?)[\\\\\\\\|.*?]?\\\\\\\\]|\\\\\\\\*(.*?)\\\\\\\\*|_(.*?)_&quot;;`\r\n\r\nBut that doesn&#39;t clean everything, I mean, if I give it the link in #2, I will get: \r\n\r\n\\[link|\\]\r\n\r\nWhich is not what I want, I want to get &quot;link&quot;... so, I need to reparse the string again and again until no other match is found.\r\n\r\nThis is really slow because there are millions of records to clean, so, is there any way of doing a regex that does all at once?\r\n\r\nThanks a lot. \r\n\r\n","title":"java regex to clear mediawiki markup","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/2863272/wikipedia-java-library-to-remove-wikipedia-text-markup-removal\">Wikipedia : Java library to remove wikipedia text markup removal</a>  </p>\n</blockquote>\n\n\n\n<p>I have to clean some content that comes from Confluence. That content is almost clean; however, there are some things like: </p>\n\n<ol>\n<li>[link|]: A link without the url part</li>\n<li>*[link|]*: A link (without the url part) in bold</li>\n<li>*text*: Bolded text</li>\n<li>_*text*_: italic bolded text </li>\n</ol>\n\n<p>And so on.\nI need to write a regex that clean all that, so, I did something like: </p>\n\n<p><code>String wikiCleanMarkupRegex = \"\\\\\\\\[(.*?)[\\\\\\\\|.*?]?\\\\\\\\]|\\\\\\\\*(.*?)\\\\\\\\*|_(.*?)_\";</code></p>\n\n<p>But that doesn't clean everything, I mean, if I give it the link in #2, I will get: </p>\n\n<p>[link|]</p>\n\n<p>Which is not what I want, I want to get \"link\"... so, I need to reparse the string again and again until no other match is found.</p>\n\n<p>This is really slow because there are millions of records to clean, so, is there any way of doing a regex that does all at once?</p>\n\n<p>Thanks a lot. </p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1912673,"reputation":281,"user_id":1726030,"display_name":"Usman Salihin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1349587828,"creation_date":1349587828,"answer_id":12766371,"question_id":12766205,"body_markdown":"Short sample for you:\r\n\r\n\tPattern pattern = Pattern.compile(&quot;\\\\.A\\\\s(\\\\d+)&quot;); // grouping number\r\n\tMatcher matcher = pattern.matcher(&quot;.A 1 .A 2 .A 3 .A 4 *text* .A5&quot;); // full input string\r\n\twhile (matcher.find()) {\r\n\t    int n = Integer.valueOf(matcher.group(1)); // getting captured number - group #1\r\n\t    System.out.println(n);\r\n\t}\r\n\r\n\r\n","title":"Java regex partial match with period","body":"<p>Short sample for you:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(\"\\\\.A\\\\s(\\\\d+)\"); // grouping number\nMatcher matcher = pattern.matcher(\".A 1 .A 2 .A 3 .A 4 *text* .A5\"); // full input string\nwhile (matcher.find()) {\n    int n = Integer.valueOf(matcher.group(1)); // getting captured number - group #1\n    System.out.println(n);\n}\n</code></pre>\n"}],"owner":{"account_id":1912850,"reputation":13,"user_id":1726163,"display_name":"M. Dearning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12766371,"answer_count":1,"score":1,"last_activity_date":1692800093,"creation_date":1349585541,"question_id":12766205,"body_markdown":"In Java I am using Pattern and Matcher to find all instances of &quot;.A (a number)&quot; in a set of strings to retrieve the numbers.\r\n\r\nI run into problems because one of the words in the file is &quot;P.A.M.X.&quot; and the number returns 0. It won&#39;t go through the rest of the file. I&#39;ve tried using many different regular expressions but I can&#39;t get past that occurrence of &quot;P.A.M.X.&quot; and onto the next &quot;.A (number)&quot;\r\n\r\n    for (int i = 0; i &lt; input.size(); i++) {\r\n\r\n    Pattern pattern = Pattern.compile(&quot;\\\\.A\\\\s\\\\d+&quot;);\r\n    Matcher matcher = pattern.matcher(input.get(i));\r\n    \r\n    while (matcherDocId.find())\r\n        {\t\r\n                String matchFound = matcher.group().toString();\r\n                int numMatch = 0;\r\n                String[] tokens = matchFound.split(&quot; &quot;);\r\n                numMatch = Integer.parseInt(tokens[1]); \r\n                System.out.println(&quot;The number is: &quot; + numMatch);\r\n        }\r\n    }","title":"Java regex partial match with period","body":"<p>In Java I am using Pattern and Matcher to find all instances of \".A (a number)\" in a set of strings to retrieve the numbers.</p>\n\n<p>I run into problems because one of the words in the file is \"P.A.M.X.\" and the number returns 0. It won't go through the rest of the file. I've tried using many different regular expressions but I can't get past that occurrence of \"P.A.M.X.\" and onto the next \".A (number)\"</p>\n\n<pre><code>for (int i = 0; i &lt; input.size(); i++) {\n\nPattern pattern = Pattern.compile(\"\\\\.A\\\\s\\\\d+\");\nMatcher matcher = pattern.matcher(input.get(i));\n\nwhile (matcherDocId.find())\n    {   \n            String matchFound = matcher.group().toString();\n            int numMatch = 0;\n            String[] tokens = matchFound.split(\" \");\n            numMatch = Integer.parseInt(tokens[1]); \n            System.out.println(\"The number is: \" + numMatch);\n    }\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":7988365,"reputation":103,"user_id":6027012,"accept_rate":56,"display_name":"Rusty"},"score":0,"creation_date":1692782700,"post_id":76959534,"comment_id":135670059,"body_markdown":"Thanks Axel for going through the code and making helpful comments which have certainly advanced my understanding of how things work in POI.","body":"Thanks Axel for going through the code and making helpful comments which have certainly advanced my understanding of how things work in POI."}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692800082,"creation_date":1692778653,"answer_id":76959534,"question_id":76958007,"body_markdown":"The short answer to your question is that the cell style needs a data format as shown in [quick-guide.html#DataFormats](https://poi.apache.org/components/spreadsheet/quick-guide.html#DataFormats). \r\n\r\nThe formula `=G2-H2` results in a numeric cell value. Such numeric values ​​are automatically right-justified, but only display as many decimal places as necessary. To show 0 as additional decimal place a special number format (data format) must be set. This can be `0.00` or `#,##0.00` if thousands also shall be separated if necessary.\r\n\r\nBut there are other problems in your code.\r\n\r\nYou seems creating a separate cell style for each single cell. This is not recommended. Excel has [limited count of cell styles per workbook](https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3). If that limit gets reached, cell styles will no longer be effective. Cell styles are stored at workbook level and are shared by all cells in all sheets of that workbook. Thus all needed cell styles need to be created at workbook level and then used while creating a cell.\r\n\r\nSame is for fonts. Fonts also have limited count per workbook. So fonts also should be created at workbook level and then shared by cell styles.\r\n\r\nYour code `String wtax = DecimalFormatter.formatAmount(obj.getWholdTax(), 2, &#39;.&#39;);` converts the numeric value of whold tax into a formatted string. Then you set that string as the cell value. That&#39;s not recommended. Numeric values shall be numeric cell values too else calculations using those cells might fail. The green triangle on top left of your cells indicates this in Excel&#39;s GUI. So don&#39;t do this. Instead set the numeric (`double`) cell value and set a appropriate data format in cell style to proper format that value.\r\n\r\nFollowing complete example shows how to do this more properly.\r\n\r\nUsed `Income` POJO:\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    public class Income {\r\n      private LocalDate pymtDate;\r\n      private String secCode;\r\n      private double grossFC;\r\n      private double wholdTax;\r\n      \r\n      public Income(LocalDate pymtDate, String secCode, double grossFC, double wholdTax) {\r\n       this.pymtDate = pymtDate;\r\n       this.secCode = secCode;\r\n       this.grossFC = grossFC;\r\n       this.wholdTax = wholdTax;\r\n      }\r\n      \r\n      public LocalDate getPymtDate() {\r\n       return this.pymtDate;\r\n      }\r\n      \r\n      public String getSecCode() {\r\n       return this.secCode;\r\n      }\r\n      \r\n      public double getGrossFC() {\r\n       return this.grossFC;\r\n      }\r\n      \r\n      public double getWholdTax() {\r\n       return this.wholdTax;\r\n      }\r\n    }\r\n\r\nCode:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.apache.poi.hssf.usermodel.HSSFWorkbook;\r\n    \r\n    import java.time.LocalDate;\r\n    \r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    \r\n    public class CreateExcel {\r\n        \r\n     private Workbook workbook;\r\n     private String filePath;\r\n     private Sheet sheet;\r\n     private Map&lt;String, CellStyle&gt; cellStyles = new HashMap&lt;String, CellStyle&gt;();\r\n     private Map&lt;String, Font&gt; fonts = new HashMap&lt;String, Font&gt;();\r\n        \r\n     public CreateExcel() {\r\n      this.workbook = new XSSFWorkbook(); this.filePath=&quot;./ExcelExample.xlsx&quot;;\r\n      //this.workbook = new HSSFWorkbook(); this.filePath=&quot;./ExcelExample.xls&quot;;\r\n        \r\n      // create all needed fonts and cell styles on workbook level\r\n      createFonts(&quot;Cordia New&quot;, (short)13);\r\n      createCellStyles();\r\n      \r\n      this.sheet = this.workbook.createSheet();\r\n      \r\n      writeHeaders();\r\n      writeRows();\r\n    \r\n      try (FileOutputStream out = new FileOutputStream(filePath)) {\r\n       workbook.write(out);\r\n       workbook.close();\r\n      } catch (Exception ex) {\r\n       ex.printStackTrace();  \r\n      }     \r\n     }\r\n    \r\n     private void createFonts(String fontName, short height) {\r\n      Font font = this.workbook.createFont();\r\n      font.setFontName(fontName);\r\n      font.setFontHeightInPoints(height);\r\n      this.fonts.put(&quot;dataFont&quot;, font);\r\n      Font fontBold = this.workbook.createFont();\r\n      fontBold.setFontName(fontName);\r\n      fontBold.setFontHeightInPoints(height);\r\n      fontBold.setBold(true);\r\n      this.fonts.put(&quot;headerFont&quot;, fontBold);  \r\n     }\r\n     \r\n     private void createCellStyles() {\r\n      CreationHelper creationHelper = this.workbook.getCreationHelper();\r\n      \r\n      CellStyle headerCellStyleLeft = workbook.createCellStyle();\r\n      headerCellStyleLeft.setFont(this.fonts.get(&quot;headerFont&quot;));\r\n      headerCellStyleLeft.setAlignment(HorizontalAlignment.LEFT);\r\n      this.cellStyles.put(&quot;headerCellStyleLeft&quot;, headerCellStyleLeft);\r\n      \r\n      CellStyle headerCellStyleCenter = workbook.createCellStyle();\r\n      headerCellStyleCenter.setFont(this.fonts.get(&quot;headerFont&quot;));\r\n      headerCellStyleCenter.setAlignment(HorizontalAlignment.CENTER);\r\n      this.cellStyles.put(&quot;headerCellStyleCenter&quot;, headerCellStyleCenter);\r\n      \r\n      CellStyle headerCellStyleRight = workbook.createCellStyle();\r\n      headerCellStyleRight.setFont(this.fonts.get(&quot;headerFont&quot;));\r\n      headerCellStyleRight.setAlignment(HorizontalAlignment.RIGHT);\r\n      this.cellStyles.put(&quot;headerCellStyleRight&quot;, headerCellStyleRight);\r\n      \r\n      CellStyle pymtDateCellStyle = workbook.createCellStyle();\r\n      pymtDateCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;dd. MMM&quot;));\r\n      pymtDateCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\r\n      pymtDateCellStyle.setAlignment(HorizontalAlignment.CENTER);\r\n      this.cellStyles.put(&quot;pymtDateCellStyle&quot;, pymtDateCellStyle);\r\n      \r\n      CellStyle secCodeCellStyle = workbook.createCellStyle();\r\n      secCodeCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\r\n      this.cellStyles.put(&quot;secCodeCellStyle&quot;, secCodeCellStyle);\r\n      \r\n      CellStyle amountCellStyle = workbook.createCellStyle();\r\n      amountCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;#,##0.00&quot;));\r\n      amountCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\r\n      this.cellStyles.put(&quot;amountCellStyle&quot;, amountCellStyle);\r\n         \r\n     }\r\n     \r\n     private List&lt;Income&gt; getValues() {\r\n      List&lt;Income&gt; values = new ArrayList&lt;Income&gt;();\r\n      values.add(new Income(LocalDate.of(2023, 1, 3), &quot;Three Chemes Fund&quot;, 72.0, 10.8));\r\n      values.add(new Income(LocalDate.of(2023, 1, 10), &quot;St&#246;tafyg A B&quot;, 165.0, 24.75));\r\n      values.add(new Income(LocalDate.of(2023, 1, 11), &quot;Rising Damp Resorts&quot;, 4680.0, 702.0));\r\n      values.add(new Income(LocalDate.of(2023, 1, 27), &quot;Pang Technology&quot;, 43.52, 6.38));\r\n      return values;\r\n     }\r\n     \r\n     private void writeHeaders() {\r\n      Row row;\r\n      Cell cell;\r\n      row = sheet.createRow(0);\r\n      cell = row.createCell(0);\r\n      cell.setCellValue(&quot;Date&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleCenter&quot;));\r\n      cell = row.createCell(1);\r\n      cell.setCellValue(&quot;From&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleLeft&quot;));\r\n      cell = row.createCell(6);\r\n      cell.setCellValue(&quot;Gross FC&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\r\n      cell = row.createCell(7);\r\n      cell.setCellValue(&quot;w/h tax&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\r\n      cell = row.createCell(8);\r\n      cell.setCellValue(&quot;Net FC&quot;);\r\n      cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\r\n     }\r\n     \r\n     private void writeRows() {\r\n      List&lt;Income&gt; values = getValues(); \r\n      int r = 1;\r\n      Row row;\r\n      Cell cell;\r\n      for (Income income : values) {\r\n       row = sheet.createRow(r);\r\n       cell = row.createCell(0);\r\n       cell.setCellValue(income.getPymtDate());\r\n       cell.setCellStyle(cellStyles.get(&quot;pymtDateCellStyle&quot;));\r\n       cell = row.createCell(1);\r\n       cell.setCellValue(income.getSecCode());\r\n       cell.setCellStyle(cellStyles.get(&quot;secCodeCellStyle&quot;));\r\n       \r\n       cell = row.createCell(6);\r\n       cell.setCellValue(income.getGrossFC());\r\n       cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\r\n       cell = row.createCell(7);\r\n       cell.setCellValue(income.getWholdTax());\r\n       cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\r\n       \r\n       cell = row.createCell(8);\r\n       cell.setCellFormula(&quot;G&quot; + (r+1) + &quot;-H&quot; + (r+1));\r\n       cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\r\n       \r\n       r++;\r\n      }\r\n     }\r\n     \r\n     public static void main(String[] args) {\r\n      CreateExcel app = new CreateExcel();\r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5tg1j.png","title":"How do I Format Cell Content that has been derived from a Formula in Java POI","body":"<p>The short answer to your question is that the cell style needs a data format as shown in <a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html#DataFormats\" rel=\"nofollow noreferrer\">quick-guide.html#DataFormats</a>.</p>\n<p>The formula <code>=G2-H2</code> results in a numeric cell value. Such numeric values ​​are automatically right-justified, but only display as many decimal places as necessary. To show 0 as additional decimal place a special number format (data format) must be set. This can be <code>0.00</code> or <code>#,##0.00</code> if thousands also shall be separated if necessary.</p>\n<p>But there are other problems in your code.</p>\n<p>You seems creating a separate cell style for each single cell. This is not recommended. Excel has <a href=\"https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3\" rel=\"nofollow noreferrer\">limited count of cell styles per workbook</a>. If that limit gets reached, cell styles will no longer be effective. Cell styles are stored at workbook level and are shared by all cells in all sheets of that workbook. Thus all needed cell styles need to be created at workbook level and then used while creating a cell.</p>\n<p>Same is for fonts. Fonts also have limited count per workbook. So fonts also should be created at workbook level and then shared by cell styles.</p>\n<p>Your code <code>String wtax = DecimalFormatter.formatAmount(obj.getWholdTax(), 2, '.');</code> converts the numeric value of whold tax into a formatted string. Then you set that string as the cell value. That's not recommended. Numeric values shall be numeric cell values too else calculations using those cells might fail. The green triangle on top left of your cells indicates this in Excel's GUI. So don't do this. Instead set the numeric (<code>double</code>) cell value and set a appropriate data format in cell style to proper format that value.</p>\n<p>Following complete example shows how to do this more properly.</p>\n<p>Used <code>Income</code> POJO:</p>\n<pre><code>import java.time.LocalDate;\n\npublic class Income {\n  private LocalDate pymtDate;\n  private String secCode;\n  private double grossFC;\n  private double wholdTax;\n  \n  public Income(LocalDate pymtDate, String secCode, double grossFC, double wholdTax) {\n   this.pymtDate = pymtDate;\n   this.secCode = secCode;\n   this.grossFC = grossFC;\n   this.wholdTax = wholdTax;\n  }\n  \n  public LocalDate getPymtDate() {\n   return this.pymtDate;\n  }\n  \n  public String getSecCode() {\n   return this.secCode;\n  }\n  \n  public double getGrossFC() {\n   return this.grossFC;\n  }\n  \n  public double getWholdTax() {\n   return this.wholdTax;\n  }\n}\n</code></pre>\n<p>Code:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.hssf.usermodel.HSSFWorkbook;\n\nimport java.time.LocalDate;\n\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.Map;\nimport java.util.HashMap;\n\npublic class CreateExcel {\n    \n private Workbook workbook;\n private String filePath;\n private Sheet sheet;\n private Map&lt;String, CellStyle&gt; cellStyles = new HashMap&lt;String, CellStyle&gt;();\n private Map&lt;String, Font&gt; fonts = new HashMap&lt;String, Font&gt;();\n    \n public CreateExcel() {\n  this.workbook = new XSSFWorkbook(); this.filePath=&quot;./ExcelExample.xlsx&quot;;\n  //this.workbook = new HSSFWorkbook(); this.filePath=&quot;./ExcelExample.xls&quot;;\n    \n  // create all needed fonts and cell styles on workbook level\n  createFonts(&quot;Cordia New&quot;, (short)13);\n  createCellStyles();\n  \n  this.sheet = this.workbook.createSheet();\n  \n  writeHeaders();\n  writeRows();\n\n  try (FileOutputStream out = new FileOutputStream(filePath)) {\n   workbook.write(out);\n   workbook.close();\n  } catch (Exception ex) {\n   ex.printStackTrace();  \n  }     \n }\n\n private void createFonts(String fontName, short height) {\n  Font font = this.workbook.createFont();\n  font.setFontName(fontName);\n  font.setFontHeightInPoints(height);\n  this.fonts.put(&quot;dataFont&quot;, font);\n  Font fontBold = this.workbook.createFont();\n  fontBold.setFontName(fontName);\n  fontBold.setFontHeightInPoints(height);\n  fontBold.setBold(true);\n  this.fonts.put(&quot;headerFont&quot;, fontBold);  \n }\n \n private void createCellStyles() {\n  CreationHelper creationHelper = this.workbook.getCreationHelper();\n  \n  CellStyle headerCellStyleLeft = workbook.createCellStyle();\n  headerCellStyleLeft.setFont(this.fonts.get(&quot;headerFont&quot;));\n  headerCellStyleLeft.setAlignment(HorizontalAlignment.LEFT);\n  this.cellStyles.put(&quot;headerCellStyleLeft&quot;, headerCellStyleLeft);\n  \n  CellStyle headerCellStyleCenter = workbook.createCellStyle();\n  headerCellStyleCenter.setFont(this.fonts.get(&quot;headerFont&quot;));\n  headerCellStyleCenter.setAlignment(HorizontalAlignment.CENTER);\n  this.cellStyles.put(&quot;headerCellStyleCenter&quot;, headerCellStyleCenter);\n  \n  CellStyle headerCellStyleRight = workbook.createCellStyle();\n  headerCellStyleRight.setFont(this.fonts.get(&quot;headerFont&quot;));\n  headerCellStyleRight.setAlignment(HorizontalAlignment.RIGHT);\n  this.cellStyles.put(&quot;headerCellStyleRight&quot;, headerCellStyleRight);\n  \n  CellStyle pymtDateCellStyle = workbook.createCellStyle();\n  pymtDateCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;dd. MMM&quot;));\n  pymtDateCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\n  pymtDateCellStyle.setAlignment(HorizontalAlignment.CENTER);\n  this.cellStyles.put(&quot;pymtDateCellStyle&quot;, pymtDateCellStyle);\n  \n  CellStyle secCodeCellStyle = workbook.createCellStyle();\n  secCodeCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\n  this.cellStyles.put(&quot;secCodeCellStyle&quot;, secCodeCellStyle);\n  \n  CellStyle amountCellStyle = workbook.createCellStyle();\n  amountCellStyle.setDataFormat(creationHelper.createDataFormat().getFormat(&quot;#,##0.00&quot;));\n  amountCellStyle.setFont(this.fonts.get(&quot;dataFont&quot;));\n  this.cellStyles.put(&quot;amountCellStyle&quot;, amountCellStyle);\n     \n }\n \n private List&lt;Income&gt; getValues() {\n  List&lt;Income&gt; values = new ArrayList&lt;Income&gt;();\n  values.add(new Income(LocalDate.of(2023, 1, 3), &quot;Three Chemes Fund&quot;, 72.0, 10.8));\n  values.add(new Income(LocalDate.of(2023, 1, 10), &quot;Stötafyg A B&quot;, 165.0, 24.75));\n  values.add(new Income(LocalDate.of(2023, 1, 11), &quot;Rising Damp Resorts&quot;, 4680.0, 702.0));\n  values.add(new Income(LocalDate.of(2023, 1, 27), &quot;Pang Technology&quot;, 43.52, 6.38));\n  return values;\n }\n \n private void writeHeaders() {\n  Row row;\n  Cell cell;\n  row = sheet.createRow(0);\n  cell = row.createCell(0);\n  cell.setCellValue(&quot;Date&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleCenter&quot;));\n  cell = row.createCell(1);\n  cell.setCellValue(&quot;From&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleLeft&quot;));\n  cell = row.createCell(6);\n  cell.setCellValue(&quot;Gross FC&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\n  cell = row.createCell(7);\n  cell.setCellValue(&quot;w/h tax&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\n  cell = row.createCell(8);\n  cell.setCellValue(&quot;Net FC&quot;);\n  cell.setCellStyle(cellStyles.get(&quot;headerCellStyleRight&quot;));\n }\n \n private void writeRows() {\n  List&lt;Income&gt; values = getValues(); \n  int r = 1;\n  Row row;\n  Cell cell;\n  for (Income income : values) {\n   row = sheet.createRow(r);\n   cell = row.createCell(0);\n   cell.setCellValue(income.getPymtDate());\n   cell.setCellStyle(cellStyles.get(&quot;pymtDateCellStyle&quot;));\n   cell = row.createCell(1);\n   cell.setCellValue(income.getSecCode());\n   cell.setCellStyle(cellStyles.get(&quot;secCodeCellStyle&quot;));\n   \n   cell = row.createCell(6);\n   cell.setCellValue(income.getGrossFC());\n   cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\n   cell = row.createCell(7);\n   cell.setCellValue(income.getWholdTax());\n   cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\n   \n   cell = row.createCell(8);\n   cell.setCellFormula(&quot;G&quot; + (r+1) + &quot;-H&quot; + (r+1));\n   cell.setCellStyle(cellStyles.get(&quot;amountCellStyle&quot;));\n   \n   r++;\n  }\n }\n \n public static void main(String[] args) {\n  CreateExcel app = new CreateExcel();\n }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/5tg1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5tg1j.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7988365,"reputation":103,"user_id":6027012,"accept_rate":56,"display_name":"Rusty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76959534,"answer_count":1,"score":0,"last_activity_date":1692800082,"creation_date":1692760054,"question_id":76958007,"body_markdown":"I am trying to create a Java POI application that iterates through a list of transactions that subtracts one value from another to produce a new value. In Excel this is achieved by subtracting the value of one cell from another and then writing the result to a third cell. The output looks like this:\r\n[![Fig 1][1]][1]\r\n\r\n\r\nThe formula in the Net FC column represents a deduction of tax from a gross amount to produce a new amount (Net FC).  I have checked that this works by opening the Excel file and examining cell I.  It does what it is expected to do:\r\n[![Fig 2][2]][2]\r\n\r\n\r\nMy issue is that I cant style the result consistently so that it shows as a column of correctly right aligned values, to two decimal places, like this:\r\n\r\n[![Fig 3][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I0MTR.png\r\n  [2]: https://i.stack.imgur.com/ix37N.png\r\n  [3]: https://i.stack.imgur.com/DSVWN.png\r\n\r\nI have tried so far:\r\n\r\n    private CellStyle getCellStyle(String fname, int size, boolean isbold, String align) {\r\n            CellStyle style = workbook.createCellStyle();\r\n        switch(align) {\r\n          case &quot;L&quot; : {style.setAlignment(HorizontalAlignment.LEFT); break;}\r\n          case &quot;C&quot; : {style.setAlignment(HorizontalAlignment.CENTER); break;}\r\n          case &quot;R&quot; : {style.setAlignment(HorizontalAlignment.RIGHT); break;}\r\n        }\r\n        style.setFont(getFont(fname, size, isbold));\r\n        return style;\r\n      }\r\n    \r\n     private void writeRows() {\r\n        int row = 0;\r\n        String font = &quot;Cordia New&quot;;\r\n        Dao.connect();\r\n        TreeMap&lt;Integer, Income&gt; map = Dao.selectIncomesByYear(&quot;2023&quot;);\r\n        Dao.disconnect();\r\n        Income obj; \r\n        Iterator&lt;Income&gt; li = map.values().iterator();\r\n        while (li.hasNext()) {\r\n          obj = li.next();\r\n          row++;\r\n          XSSFRow dataRow = sheet.createRow(row);   \r\n    \r\n          XSSFCell cell = dataRow.createCell(0);\r\n          cell.setCellStyle(getCellStyle(font, 13, false, &quot;C&quot;));\r\n          cell.setCellValue(getPaymentDate(obj.getPymtDate()));  \r\n    \r\n          cell = dataRow.createCell(1);\r\n          cell.setCellStyle(getCellStyle(font, 13, false, &quot;L&quot;));\r\n          cell.setCellValue(getSecurityName(obj.getSecCode()));\r\n    \r\n          …\r\n          \r\n          cell = dataRow.createCell(7);\r\n          String wtax = DecimalFormatter.formatAmount(obj.getWholdTax(), 2, &#39;.&#39;);\r\n          cell.setCellStyle(getCellStyle(font, 13, false, &quot;R&quot;));\r\n          cell.setCellValue(wtax);\r\n          \r\n    \t\tFormulaEvaluator evaluator =    \r\n      \t\t\tworkbook.getCreationHelper().createFormulaEvaluator();\r\n          \r\n          dataRow.createCell(8).setCellFormula(getFormula8(row + 1));\r\n          dataRow.createCell(9).setCellFormula(getFormula9(row + 1));\r\n        }\r\n      }\r\n\r\nThe above code produces the first example of the Excel result shown above, that is without the formula cells being formatted correctly. As I am unable to proceed beyond this point I would appreciate some help in getting a solution so that the formula cells I and J contain right aligned values to two decimal places.\r\n\r\nI  have found a solution from a 10 year old post, thanks Piyas De:\r\n\r\nCreate an instance of org.apache.poi.ss.usermodel.CreationHelper;\r\n\r\n    createHelper = workbook.getCreationHelper();\r\n\r\nAssign the value to the cell then use the helper to apply the format:\r\n\r\n    dataRow.createCell(8).setCellFormula(getFormula8(row + 1));\r\n          cell = dataRow.getCell(8);\r\n          CellStyle cellStyle = workbook.createCellStyle();\r\n      cellStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;#####0.00&quot;));\r\n          cell.setCellStyle(cellStyle);\r\n\r\n\r\n \r\n\r\n\r\n\r\n","title":"How do I Format Cell Content that has been derived from a Formula in Java POI","body":"<p>I am trying to create a Java POI application that iterates through a list of transactions that subtracts one value from another to produce a new value. In Excel this is achieved by subtracting the value of one cell from another and then writing the result to a third cell. The output looks like this:\n<a href=\"https://i.stack.imgur.com/I0MTR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I0MTR.png\" alt=\"Fig 1\" /></a></p>\n<p>The formula in the Net FC column represents a deduction of tax from a gross amount to produce a new amount (Net FC).  I have checked that this works by opening the Excel file and examining cell I.  It does what it is expected to do:\n<a href=\"https://i.stack.imgur.com/ix37N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ix37N.png\" alt=\"Fig 2\" /></a></p>\n<p>My issue is that I cant style the result consistently so that it shows as a column of correctly right aligned values, to two decimal places, like this:</p>\n<p><a href=\"https://i.stack.imgur.com/DSVWN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DSVWN.png\" alt=\"Fig 3\" /></a></p>\n<p>I have tried so far:</p>\n<pre><code>private CellStyle getCellStyle(String fname, int size, boolean isbold, String align) {\n        CellStyle style = workbook.createCellStyle();\n    switch(align) {\n      case &quot;L&quot; : {style.setAlignment(HorizontalAlignment.LEFT); break;}\n      case &quot;C&quot; : {style.setAlignment(HorizontalAlignment.CENTER); break;}\n      case &quot;R&quot; : {style.setAlignment(HorizontalAlignment.RIGHT); break;}\n    }\n    style.setFont(getFont(fname, size, isbold));\n    return style;\n  }\n\n private void writeRows() {\n    int row = 0;\n    String font = &quot;Cordia New&quot;;\n    Dao.connect();\n    TreeMap&lt;Integer, Income&gt; map = Dao.selectIncomesByYear(&quot;2023&quot;);\n    Dao.disconnect();\n    Income obj; \n    Iterator&lt;Income&gt; li = map.values().iterator();\n    while (li.hasNext()) {\n      obj = li.next();\n      row++;\n      XSSFRow dataRow = sheet.createRow(row);   \n\n      XSSFCell cell = dataRow.createCell(0);\n      cell.setCellStyle(getCellStyle(font, 13, false, &quot;C&quot;));\n      cell.setCellValue(getPaymentDate(obj.getPymtDate()));  \n\n      cell = dataRow.createCell(1);\n      cell.setCellStyle(getCellStyle(font, 13, false, &quot;L&quot;));\n      cell.setCellValue(getSecurityName(obj.getSecCode()));\n\n      …\n      \n      cell = dataRow.createCell(7);\n      String wtax = DecimalFormatter.formatAmount(obj.getWholdTax(), 2, '.');\n      cell.setCellStyle(getCellStyle(font, 13, false, &quot;R&quot;));\n      cell.setCellValue(wtax);\n      \n        FormulaEvaluator evaluator =    \n            workbook.getCreationHelper().createFormulaEvaluator();\n      \n      dataRow.createCell(8).setCellFormula(getFormula8(row + 1));\n      dataRow.createCell(9).setCellFormula(getFormula9(row + 1));\n    }\n  }\n</code></pre>\n<p>The above code produces the first example of the Excel result shown above, that is without the formula cells being formatted correctly. As I am unable to proceed beyond this point I would appreciate some help in getting a solution so that the formula cells I and J contain right aligned values to two decimal places.</p>\n<p>I  have found a solution from a 10 year old post, thanks Piyas De:</p>\n<p>Create an instance of org.apache.poi.ss.usermodel.CreationHelper;</p>\n<pre><code>createHelper = workbook.getCreationHelper();\n</code></pre>\n<p>Assign the value to the cell then use the helper to apply the format:</p>\n<pre><code>dataRow.createCell(8).setCellFormula(getFormula8(row + 1));\n      cell = dataRow.getCell(8);\n      CellStyle cellStyle = workbook.createCellStyle();\n  cellStyle.setDataFormat(createHelper.createDataFormat().getFormat(&quot;#####0.00&quot;));\n      cell.setCellStyle(cellStyle);\n</code></pre>\n"},{"tags":["java","android","regex","string"],"answers":[{"tags":[],"owner":{"account_id":913338,"reputation":4944,"user_id":946679,"accept_rate":100,"display_name":"zeller"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1347794509,"creation_date":1347794509,"answer_id":12446442,"question_id":12446405,"body_markdown":"How does it crash? What is the regex? `group(0)` is the whole match and `group(i), i &gt;0` will give you the captures in the regex if any. Also `while(m.find())` processes the string until any matches left. So call `find()` only once if you need the first match.","title":"How to get the first match of a regex in a string?","body":"<p>How does it crash? What is the regex? <code>group(0)</code> is the whole match and <code>group(i), i &gt;0</code> will give you the captures in the regex if any. Also <code>while(m.find())</code> processes the string until any matches left. So call <code>find()</code> only once if you need the first match.</p>\n"}],"owner":{"display_name":"user1667162"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4372,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":12446442,"answer_count":1,"score":1,"last_activity_date":1692800082,"creation_date":1347794122,"question_id":12446405,"body_markdown":"How can I read the first substring that matches my pattern?\r\nI have tried with \r\n\r\n    while (m.find()) {\r\n\t\t\t\t  URL=(m.group(1));\r\n\t\t\t\t  \t\t\t\t  \r\n\t\t\t\t}\r\nWith 1 in the `group` call the app crashes, and if I put nothing in it I get only the last match, I have to read the first matched string, how can I do?\r\nIt give me an error about regex, but it&#39;s strange because without the 1 in between the () the app works good and don&#39;t give me any error about my regex...\r\n","title":"How to get the first match of a regex in a string?","body":"<p>How can I read the first substring that matches my pattern?\nI have tried with </p>\n\n<pre><code>while (m.find()) {\n              URL=(m.group(1));\n\n            }\n</code></pre>\n\n<p>With 1 in the <code>group</code> call the app crashes, and if I put nothing in it I get only the last match, I have to read the first matched string, how can I do?\nIt give me an error about regex, but it's strange because without the 1 in between the () the app works good and don't give me any error about my regex...</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":2,"creation_date":1347567026,"post_id":12413974,"comment_id":16685516,"body_markdown":"There are no capturing groups in your pattern, so `.groupCount()` returns zero. Note that this does **not** return how many matches were found.","body":"There are no capturing groups in your pattern, so <code>.groupCount()</code> returns zero. Note that this does <b>not</b> return how many matches were found."},{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567178,"post_id":12413974,"comment_id":16685571,"body_markdown":"how could i then find the number of &quot;mas&quot; (or any other) words in a string without looping?","body":"how could i then find the number of &quot;mas&quot; (or any other) words in a string without looping?"},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":0,"creation_date":1347567523,"post_id":12413974,"comment_id":16685720,"body_markdown":"I&#39;m not aware of anything in Standard Java that will let you do that. What&#39;s wrong with looping? `int count = 0; for (; m.find(); count++);` should give you what you want.","body":"I&#39;m not aware of anything in Standard Java that will let you do that. What&#39;s wrong with looping? <code>int count = 0; for (; m.find(); count++);</code> should give you what you want."},{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567748,"post_id":12413974,"comment_id":16685817,"body_markdown":"nothing really, i just thought there was a single method (still learning java) which is always cleaner to read","body":"nothing really, i just thought there was a single method (still learning java) which is always cleaner to read"},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1519131114,"post_id":12413974,"comment_id":84775983,"body_markdown":"As of Java 8, you might find it useful to use `Pattern.splitAsStream().count()`.","body":"As of Java 8, you might find it useful to use <code>Pattern.splitAsStream().count()</code>."}],"answers":[{"comments":[{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567449,"post_id":12414038,"comment_id":16685688,"body_markdown":"Thanks Keppil, this worked great and I was aware of this solution, I just thought that there was a single method to do this (no looping). have to wait a couple of mins before marking as right (stackoverflow thing)","body":"Thanks Keppil, this worked great and I was aware of this solution, I just thought that there was a single method to do this (no looping). have to wait a couple of mins before marking as right (stackoverflow thing)"},{"owner":{"account_id":3355555,"reputation":2794,"user_id":2818583,"display_name":"AnV"},"score":1,"creation_date":1483505729,"post_id":12414038,"comment_id":70119013,"body_markdown":"@dhomes This answer: http://stackoverflow.com/a/23244470/2818583 provides more clarity","body":"@dhomes This answer: <a href=\"http://stackoverflow.com/a/23244470/2818583\">stackoverflow.com/a/23244470/2818583</a> provides more clarity"}],"tags":[],"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1347567335,"creation_date":1347566990,"answer_id":12414038,"question_id":12413974,"body_markdown":"From the javadoc of [Matcher.groupCount()][1]:  \r\n\r\n&gt; _Returns the number of capturing groups in this matcher&#39;s pattern.  \r\nGroup zero denotes the entire pattern by convention. It is not\r\n&gt; included in this count._\r\n\r\nIf you check the return value from `m.find()` it returns `true`, and `m.group()` returns `mas`, so the matcher does find a match.  \r\n\r\nIf what you are trying to do is to count the number of occurances of `s` in `mybooks.get(i).getBody()`, you can do it like this:  \r\n\r\n    String s=&quot;mas&quot;; // this is for testing, comes from a List&lt;String&gt;\r\n    int hit=0;\r\n    Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\r\n    Matcher m = p.matcher(mybooks.get(i).getBody());\r\n    while (m.find()) {\r\n        hit++;\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#groupCount%28%29","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>From the javadoc of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#groupCount%28%29\" rel=\"noreferrer\">Matcher.groupCount()</a>:  </p>\n\n<blockquote>\n  <p><em>Returns the number of capturing groups in this matcher's pattern.<br>\n  Group zero denotes the entire pattern by convention. It is not\n  included in this count.</em></p>\n</blockquote>\n\n<p>If you check the return value from <code>m.find()</code> it returns <code>true</code>, and <code>m.group()</code> returns <code>mas</code>, so the matcher does find a match.  </p>\n\n<p>If what you are trying to do is to count the number of occurances of <code>s</code> in <code>mybooks.get(i).getBody()</code>, you can do it like this:  </p>\n\n<pre><code>String s=\"mas\"; // this is for testing, comes from a List&lt;String&gt;\nint hit=0;\nPattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\nMatcher m = p.matcher(mybooks.get(i).getBody());\nwhile (m.find()) {\n    hit++;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"score":0,"creation_date":1347567622,"post_id":12414152,"comment_id":16685764,"body_markdown":"will do! got to give credit to Keppil though as his cleared up some core java concepts for me","body":"will do! got to give credit to Keppil though as his cleared up some core java concepts for me"}],"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1534830414,"creation_date":1347567540,"answer_id":12414152,"question_id":12413974,"body_markdown":"&gt; How could I then find the number of &quot;mas&quot; (or any other) words in a string without looping?\r\n\r\nYou could use [StringUtils][1] in Apache Commons:\r\n\r\n    int countMatches = StringUtils.countMatches(&quot;quiero mas dinero...&quot;, &quot;mas&quot;);\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html\r\n","title":"Java RegEx Matcher.groupCount returns 0","body":"<blockquote>\n  <p>How could I then find the number of \"mas\" (or any other) words in a string without looping?</p>\n</blockquote>\n\n<p>You could use <a href=\"http://commons.apache.org/lang/api-2.5/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> in Apache Commons:</p>\n\n<pre><code>int countMatches = StringUtils.countMatches(\"quiero mas dinero...\", \"mas\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1323740,"reputation":83,"user_id":1269018,"display_name":"jinglezju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405592932,"creation_date":1405592932,"answer_id":24801101,"question_id":12413974,"body_markdown":"You can add parenthesis in the regExp, then it is &quot;(mas)&quot; in your example.","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>You can add parenthesis in the regExp, then it is \"(mas)\" in your example.</p>\n"},{"tags":[],"owner":{"account_id":11721189,"reputation":1,"user_id":8580106,"display_name":"R. Sham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566841380,"creation_date":1507104630,"answer_id":46559996,"question_id":12413974,"body_markdown":"&gt;You can add parenthesis in the regExp, then it is &quot;(mas)&quot; in your example.\r\n&gt;\r\n\r\nThat way is not suitable for this task. It shows number of capturing groups contain result of Matcher m.\r\nIn this case even if pattern is &quot;(mas)&quot; for input text like &quot;mas mas&quot; m.groupcount() show 1 - one and only groop for both matches.\r\n\r\nSo first response is correct and the only possible for the purpose of matches counting.","title":"Java RegEx Matcher.groupCount returns 0","body":"<blockquote>\n  <p>You can add parenthesis in the regExp, then it is \"(mas)\" in your example.</p>\n</blockquote>\n\n<p>That way is not suitable for this task. It shows number of capturing groups contain result of Matcher m.\nIn this case even if pattern is \"(mas)\" for input text like \"mas mas\" m.groupcount() show 1 - one and only groop for both matches.</p>\n\n<p>So first response is correct and the only possible for the purpose of matches counting.</p>\n"}],"owner":{"account_id":34970,"reputation":2734,"user_id":98907,"accept_rate":86,"display_name":"David Homes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19253,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":12414038,"answer_count":4,"score":11,"last_activity_date":1692800071,"creation_date":1347566731,"question_id":12413974,"body_markdown":"I know this has been asked but I am unable to fix it\r\n\r\nFor a book object with body (spanish): `&quot;quiero mas dinero&quot;` (actually quite a bit longer)\r\n\r\nMy `Matcher` keeps returning 0 for:\r\n\r\n        String s=&quot;mas&quot;; // this is for testing, comes from a List&lt;String&gt;\r\n        int hit=0;\r\n        Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\r\n        Matcher m = p.matcher(mybooks.get(i).getBody());\r\n        m.find();\r\n        System.out.println(s+&quot;  &quot;+m.groupCount()+&quot;  &quot; +mybooks.get(i).getBody());\r\n        hit+=m.groupCount();\r\n\r\nI keep getting `&quot;mas 0 quiero mas dinero&quot;` on console. Why oh why?\r\n\r\n","title":"Java RegEx Matcher.groupCount returns 0","body":"<p>I know this has been asked but I am unable to fix it</p>\n\n<p>For a book object with body (spanish): <code>\"quiero mas dinero\"</code> (actually quite a bit longer)</p>\n\n<p>My <code>Matcher</code> keeps returning 0 for:</p>\n\n<pre><code>    String s=\"mas\"; // this is for testing, comes from a List&lt;String&gt;\n    int hit=0;\n    Pattern p=Pattern.compile(s,Pattern.CASE_INSENSITIVE);\n    Matcher m = p.matcher(mybooks.get(i).getBody());\n    m.find();\n    System.out.println(s+\"  \"+m.groupCount()+\"  \" +mybooks.get(i).getBody());\n    hit+=m.groupCount();\n</code></pre>\n\n<p>I keep getting <code>\"mas 0 quiero mas dinero\"</code> on console. Why oh why?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":2,"creation_date":1343308957,"post_id":11670224,"comment_id":15468172,"body_markdown":"what&#39;s the question?  What you have seems like an excellent start, although I would write unit tests, each one with a line from a GC log","body":"what&#39;s the question?  What you have seems like an excellent start, although I would write unit tests, each one with a line from a GC log"},{"owner":{"account_id":302308,"reputation":269,"user_id":610618,"accept_rate":67,"display_name":"ddd"},"score":0,"creation_date":1343309493,"post_id":11670224,"comment_id":15468465,"body_markdown":"The string I pass to pattern.matcher is parsed correctly, meaning it matches the patter, but my next step is I would like to split the string into tokens. for the example above: 54.770, 54.770, 5232768,5237824,  1.1304192... and so on. I feel based upon my supplied pattern that there must be a some type of method I can call to split my pattern.","body":"The string I pass to pattern.matcher is parsed correctly, meaning it matches the patter, but my next step is I would like to split the string into tokens. for the example above: 54.770, 54.770, 5232768,5237824,  1.1304192... and so on. I feel based upon my supplied pattern that there must be a some type of method I can call to split my pattern."},{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":0,"creation_date":1343309721,"post_id":11670224,"comment_id":15468608,"body_markdown":"ah i got it now.  added an answer...","body":"ah i got it now.  added an answer..."}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1343310957,"creation_date":1343309592,"answer_id":11670460,"question_id":11670224,"body_markdown":"You need to add groups to your regex.\r\n\r\n`private final static String REGEX_SMALL_COLLECTION = &quot;(\\\\d+\\\\.\\\\d+): \\\\[GC (\\\\d+.\\\\d+): \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]&quot;;`\r\n\r\nand then access the groups to the values.  In the above example, I added parenthesis around the first two items you want -- this tells the regex engine to capture the matching substrings. You will need to add more.  As you are currently doing, you use [&lt;code&gt;Matcher.group()&lt;/code&gt;][1] to get each group.  Note that group 0 is always the entire match. The rest are numbered from &lt;code&gt;1&lt;/code&gt; up, in order of their opening parens &lt;code&gt;(&lt;/code&gt;.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28int%29","title":"Splitting pattern based on Regular Expressions","body":"<p>You need to add groups to your regex.</p>\n\n<p><code>private final static String REGEX_SMALL_COLLECTION = \"(\\\\d+\\\\.\\\\d+): \\\\[GC (\\\\d+.\\\\d+): \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]\";</code></p>\n\n<p>and then access the groups to the values.  In the above example, I added parenthesis around the first two items you want -- this tells the regex engine to capture the matching substrings. You will need to add more.  As you are currently doing, you use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#group%28int%29\" rel=\"nofollow\"><code>Matcher.group()</code></a> to get each group.  Note that group 0 is always the entire match. The rest are numbered from <code>1</code> up, in order of their opening parens <code>(</code>.</p>\n"}],"owner":{"account_id":302308,"reputation":269,"user_id":610618,"accept_rate":67,"display_name":"ddd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11670460,"answer_count":1,"score":0,"last_activity_date":1692800067,"creation_date":1343308816,"question_id":11670224,"body_markdown":"I am trying to write a program to parse Java Garbage Collection logs. I just created a grammar that matches a minor collection. Once I have identified a pattern I would like to parse it into individual tokens. My question is, is there any elegant way to do this with my previously defined grammar?\r\n\r\n    public class RegexTestHarness {\r\n      private final static String REGEX_SMALL_COLLECTION = &quot;\\\\d+\\\\.\\\\d+: \\\\[GC \\\\d+.\\\\d+: \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]&quot;;\r\n      \r\n      public static void main(String[] args){\r\n        Pattern pattern = Pattern.compile(REGEX_SMALL_COLLECTION);           \r\n        Matcher matcher = pattern.matcher(&quot;54.770: [GC 54.770: [ParNew: 5232768K-&gt;0K(5237824K), 1.1304192 secs] 5238622K-&gt;380448K(10480704K), 1.1306410 secs]&quot;);\r\n        while (matcher.find()) {           \t\r\n          System.out.println(matcher.group(0));\r\n          System.out.println(matcher.start());\r\n          System.out.println(matcher.end()); \r\n        }\r\n      }\r\n    }","title":"Splitting pattern based on Regular Expressions","body":"<p>I am trying to write a program to parse Java Garbage Collection logs. I just created a grammar that matches a minor collection. Once I have identified a pattern I would like to parse it into individual tokens. My question is, is there any elegant way to do this with my previously defined grammar?</p>\n\n<pre><code>public class RegexTestHarness {\n  private final static String REGEX_SMALL_COLLECTION = \"\\\\d+\\\\.\\\\d+: \\\\[GC \\\\d+.\\\\d+: \\\\[ParNew: \\\\d+K\\\\-\\\\&gt;0K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\] \\\\d+K\\\\-\\\\&gt;\\\\d+K\\\\(\\\\d+K\\\\), \\\\d+.\\\\d+ secs\\\\]\";\n\n  public static void main(String[] args){\n    Pattern pattern = Pattern.compile(REGEX_SMALL_COLLECTION);           \n    Matcher matcher = pattern.matcher(\"54.770: [GC 54.770: [ParNew: 5232768K-&gt;0K(5237824K), 1.1304192 secs] 5238622K-&gt;380448K(10480704K), 1.1306410 secs]\");\n    while (matcher.find()) {            \n      System.out.println(matcher.group(0));\n      System.out.println(matcher.start());\n      System.out.println(matcher.end()); \n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":3,"creation_date":1342904194,"post_id":11595760,"comment_id":15346975,"body_markdown":"Please learn regex, with online regex tester such as rubular.com (the site is for Ruby, but regex in Ruby has somewhat similar syntax to Java&#39;s).","body":"Please learn regex, with online regex tester such as rubular.com (the site is for Ruby, but regex in Ruby has somewhat similar syntax to Java&#39;s)."},{"owner":{"account_id":138349,"reputation":8426,"user_id":343238,"accept_rate":82,"display_name":"dlras2"},"score":0,"creation_date":1342907092,"post_id":11595760,"comment_id":15347501,"body_markdown":"@nhahtdh http://gskinner.com/RegExr/ is another good online regex tester.","body":"@nhahtdh <a href=\"http://gskinner.com/RegExr/\" rel=\"nofollow noreferrer\">gskinner.com/RegExr</a> is another good online regex tester."}],"answers":[{"comments":[{"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"score":0,"creation_date":1342904430,"post_id":11595778,"comment_id":15347016,"body_markdown":"I believe you are missing `:` between `s` and `64`","body":"I believe you are missing <code>:</code> between <code>s</code> and <code>64</code>"},{"owner":{"account_id":1678197,"reputation":382,"user_id":1543210,"accept_rate":100,"display_name":"grundyboy34"},"score":0,"creation_date":1342904933,"post_id":11595778,"comment_id":15347101,"body_markdown":"Thank you, Worked like a charm. I really need to learn how to construct regular expressions.","body":"Thank you, Worked like a charm. I really need to learn how to construct regular expressions."}],"tags":[],"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1342904224,"creation_date":1342904224,"answer_id":11595778,"question_id":11595760,"body_markdown":"    String data = &quot;s:64:\\&quot;first string\\&quot; random stuff here s:64:\\&quot;second string\\&quot;&quot;;\r\n    Pattern p = Pattern.compile(&quot;s:64:\\&quot;([^\\&quot;]*)\\&quot;.*s:64:\\&quot;([^\\&quot;]*)\\&quot;&quot;);\r\n    Matcher m = p.matcher(data);\r\n    if (m.find()) {\r\n      System.out.println(&quot;First string: &#39;&quot; + m.group(1) + &quot;&#39;&quot;);\r\n      System.out.println(&quot;Second string: &#39;&quot; + m.group(2) + &quot;&#39;&quot;);\r\n    }\r\nprints:\r\n\r\n&gt; First string: &#39;first string&#39;  \r\n&gt; Second string: &#39;second string&#39;","title":"Java how to setup regex for this string","body":"<pre><code>String data = \"s:64:\\\"first string\\\" random stuff here s:64:\\\"second string\\\"\";\nPattern p = Pattern.compile(\"s:64:\\\"([^\\\"]*)\\\".*s:64:\\\"([^\\\"]*)\\\"\");\nMatcher m = p.matcher(data);\nif (m.find()) {\n  System.out.println(\"First string: '\" + m.group(1) + \"'\");\n  System.out.println(\"Second string: '\" + m.group(2) + \"'\");\n}\n</code></pre>\n\n<p>prints:</p>\n\n<blockquote>\n  <p>First string: 'first string'<br>\n  Second string: 'second string'</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1255572,"reputation":42820,"user_id":1215106,"accept_rate":82,"display_name":"Ωmega"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342904230,"creation_date":1342904230,"answer_id":11595779,"question_id":11595760,"body_markdown":"Regex you need should be `compile(&quot;s:64:\\&quot;(.*?)\\&quot;.*s:64:\\&quot;(.*?)\\&quot;&quot;)`","title":"Java how to setup regex for this string","body":"<p>Regex you need should be <code>compile(\"s:64:\\\"(.*?)\\\".*s:64:\\\"(.*?)\\\"\")</code></p>\n"},{"tags":[],"owner":{"account_id":234517,"reputation":18006,"user_id":500725,"accept_rate":69,"display_name":"Siva Charan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342907019,"creation_date":1342904533,"answer_id":11595807,"question_id":11595760,"body_markdown":"Try this regex:-\r\n\r\n    s:64:\\&quot;(.*?)\\&quot;\r\n\r\nCode:\r\n-----\r\n\r\n    Pattern pattern = Pattern.compile(&quot;s:64:\\&quot;(.*?)\\&quot;&quot;);\r\n    Matcher matcher = pattern.matcher(YourStringVar);\r\n    // Check all occurance\r\n    int count = 0;\r\n    while (matcher.find() &amp;&amp; count++ &lt; 2) {\r\n        System.out.println(&quot;Group : &quot; + matcher.group(1));\r\n    }\r\n\r\nHere `group(1)` returns the each match.\r\n\r\nOUTPUT:\r\n-------\r\n\r\n    Group : First Match\r\n    Group : Second Match\r\n\r\nRefer **[LIVE DEMO][1]**\r\n\r\n[1]:http://ideone.com/PsbNB\r\n","title":"Java how to setup regex for this string","body":"<p>Try this regex:-</p>\n\n<pre><code>s:64:\\\"(.*?)\\\"\n</code></pre>\n\n<h2>Code:</h2>\n\n<pre><code>Pattern pattern = Pattern.compile(\"s:64:\\\"(.*?)\\\"\");\nMatcher matcher = pattern.matcher(YourStringVar);\n// Check all occurance\nint count = 0;\nwhile (matcher.find() &amp;&amp; count++ &lt; 2) {\n    System.out.println(\"Group : \" + matcher.group(1));\n}\n</code></pre>\n\n<p>Here <code>group(1)</code> returns the each match.</p>\n\n<h2>OUTPUT:</h2>\n\n<pre><code>Group : First Match\nGroup : Second Match\n</code></pre>\n\n<p>Refer <strong><a href=\"http://ideone.com/PsbNB\" rel=\"nofollow\">LIVE DEMO</a></strong></p>\n"}],"owner":{"account_id":1678197,"reputation":382,"user_id":1543210,"accept_rate":100,"display_name":"grundyboy34"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11595778,"answer_count":3,"score":0,"last_activity_date":1692800042,"creation_date":1342904071,"question_id":11595760,"body_markdown":"So I&#39;m trying to pull two strings via a matcher object from one string that is stored in my online databases.\r\n\r\nEach string appears after s:64: and is in quotations \r\nExample   s:64:&quot;stringhere&quot;\r\n\r\nI&#39;m currently trying to get them as so but any regex that I&#39;ve tried has failed,\r\n\r\n   \r\n\r\n     Pattern p = Pattern.compile(&quot;I don&#39;t know what to put as the regex&quot;);\r\n    Matcher m = p.matcher(data);\r\n\r\nSo with that said, all I need is the regex that will return the two strings in the matcher so that  m.group(1) is my first string and m.group(2) is my second string.","title":"Java how to setup regex for this string","body":"<p>So I'm trying to pull two strings via a matcher object from one string that is stored in my online databases.</p>\n\n<p>Each string appears after s:64: and is in quotations \nExample   s:64:\"stringhere\"</p>\n\n<p>I'm currently trying to get them as so but any regex that I've tried has failed,</p>\n\n<pre><code> Pattern p = Pattern.compile(\"I don't know what to put as the regex\");\nMatcher m = p.matcher(data);\n</code></pre>\n\n<p>So with that said, all I need is the regex that will return the two strings in the matcher so that  m.group(1) is my first string and m.group(2) is my second string.</p>\n"},{"tags":["java","spring-boot","multithreading","performance"],"comments":[{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692797210,"post_id":76961776,"comment_id":135673013,"body_markdown":"You could use the singleton pattern. In that way you create your `ThreadPoolTaskExecutor ` once and you can request the instance where needed to submit tasks. More info in this [tutorial](https://www.baeldung.com/java-singleton).","body":"You could use the singleton pattern. In that way you create your <code>ThreadPoolTaskExecutor </code> once and you can request the instance where needed to submit tasks. More info in this <a href=\"https://www.baeldung.com/java-singleton\" rel=\"nofollow noreferrer\">tutorial</a>."},{"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"score":0,"creation_date":1692797479,"post_id":76961776,"comment_id":135673054,"body_markdown":"In singleton pattern, at a time a single thread can access the method to get `ThreadPoolTaskExecutor` . Will that be helpful in multithreaded application?","body":"In singleton pattern, at a time a single thread can access the method to get <code>ThreadPoolTaskExecutor</code> . Will that be helpful in multithreaded application?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1692797603,"post_id":76961776,"comment_id":135673083,"body_markdown":"You absolutely do not want to be spinning up executors from incoming requests. Instead, you would pre-allocate this pool, and allow the requests to submit tasks/callables/runnables to the executor. Where you store this is up to you really, just ensure it isn&#39;t being remade.","body":"You absolutely do not want to be spinning up executors from incoming requests. Instead, you would pre-allocate this pool, and allow the requests to submit tasks/callables/runnables to the executor. Where you store this is up to you really, just ensure it isn&#39;t being remade."},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692797974,"post_id":76961776,"comment_id":135673178,"body_markdown":"With regards to the Singleton you would indeed not want that creation of the instance can occur by multiple thread. But after creation there&#39;s no need to synchronize. Maybe the creation can be overcome by using a static block.","body":"With regards to the Singleton you would indeed not want that creation of the instance can occur by multiple thread. But after creation there&#39;s no need to synchronize. Maybe the creation can be overcome by using a static block."}],"answers":[{"comments":[{"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"score":0,"creation_date":1692805146,"post_id":76962131,"comment_id":135674967,"body_markdown":"Sure. I will implement this way and try performance test.","body":"Sure. I will implement this way and try performance test."},{"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"score":0,"creation_date":1692805204,"post_id":76962131,"comment_id":135674986,"body_markdown":"any suggestion on pool size and queue capacity?","body":"any suggestion on pool size and queue capacity?"},{"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"score":0,"creation_date":1692811890,"post_id":76962131,"comment_id":135676282,"body_markdown":"I&#39;m wondering if you should configure it yourself or use something preconfigured like `Executors.newCachedThreadPool()`. One of the problem with configuring yourself is that if you add more than 100 tasks (the queue size), you will get `TaskRejectedException`. So you need to know very well what you&#39;re doing. I think the other option is in that sense more user-friendly.","body":"I&#39;m wondering if you should configure it yourself or use something preconfigured like <code>Executors.newCachedThreadPool()</code>. One of the problem with configuring yourself is that if you add more than 100 tasks (the queue size), you will get <code>TaskRejectedException</code>. So you need to know very well what you&#39;re doing. I think the other option is in that sense more user-friendly."}],"tags":[],"owner":{"account_id":14879218,"reputation":383,"user_id":10744429,"display_name":"WLefever"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692799406,"creation_date":1692799406,"answer_id":76962131,"question_id":76961776,"body_markdown":"It&#39;s a bit of an atypical implementation, but you could use a static block to create the `ThreadPoolTaskExecutor` and then submit tasks to it as you please.\r\n\r\n```\r\npublic class ThreadPoolTaskExecutorSingleton {\r\n    private static ThreadPoolTaskExecutor executor;\r\n\r\n    static {\r\n        executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(4);\r\n        executor.setMaxPoolSize(8);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;customThread-&quot;);\r\n        executor.initialize();\r\n        // This happens during loading of your class so you will only have one ThreadPoolTaskExecutor.\r\n    }\r\n\r\n    public static ThreadPoolTaskExecutor getInstance() {\r\n        return executor;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI created a working example in this [repository](https://github.com/Lefeverw/stackoverflow-threadpoolexecutor-static-block).","title":"Way to implement multi threading in non spring managed class","body":"<p>It's a bit of an atypical implementation, but you could use a static block to create the <code>ThreadPoolTaskExecutor</code> and then submit tasks to it as you please.</p>\n<pre><code>public class ThreadPoolTaskExecutorSingleton {\n    private static ThreadPoolTaskExecutor executor;\n\n    static {\n        executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(4);\n        executor.setMaxPoolSize(8);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;customThread-&quot;);\n        executor.initialize();\n        // This happens during loading of your class so you will only have one ThreadPoolTaskExecutor.\n    }\n\n    public static ThreadPoolTaskExecutor getInstance() {\n        return executor;\n    }\n\n}\n</code></pre>\n<p>I created a working example in this <a href=\"https://github.com/Lefeverw/stackoverflow-threadpoolexecutor-static-block\" rel=\"nofollow noreferrer\">repository</a>.</p>\n"}],"owner":{"account_id":15433098,"reputation":139,"user_id":11133935,"display_name":"Ankitha J"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692799406,"creation_date":1692796944,"question_id":76961776,"body_markdown":"For a single API call, I need to execute code in 4 threads, process it and return the response. I have implemented this using `ThreadPoolTaskExecutor` as below:\r\n\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setCorePoolSize(4);\r\n    executor.setMaxPoolSize(8);\r\n    executor.setQueueCapacity(100);\r\n    executor.setThreadNamePrefix(&quot;customThread-&quot;);\r\n    executor.initialize();\r\n    return executor;\r\n\r\nThe above `executor` I am creating for each API request and calling `shutdown()` at the end. After that, somewhere I read that its costly to create `ThreadPoolTaskExecutor` object for each request.\r\n\r\nAnyways, with above code the performance is not good. Kindly suggest the better way to implement this.\r\n\r\nFYI, I am executing this code in **final non Spring managed class**. So, could not create bean of `ThreadPoolTaskExecutor` and autowire it. \r\n\r\nAny suggestions will be helpful. Thanks in advance. \r\n","title":"Way to implement multi threading in non spring managed class","body":"<p>For a single API call, I need to execute code in 4 threads, process it and return the response. I have implemented this using <code>ThreadPoolTaskExecutor</code> as below:</p>\n<pre><code>ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\nexecutor.setCorePoolSize(4);\nexecutor.setMaxPoolSize(8);\nexecutor.setQueueCapacity(100);\nexecutor.setThreadNamePrefix(&quot;customThread-&quot;);\nexecutor.initialize();\nreturn executor;\n</code></pre>\n<p>The above <code>executor</code> I am creating for each API request and calling <code>shutdown()</code> at the end. After that, somewhere I read that its costly to create <code>ThreadPoolTaskExecutor</code> object for each request.</p>\n<p>Anyways, with above code the performance is not good. Kindly suggest the better way to implement this.</p>\n<p>FYI, I am executing this code in <strong>final non Spring managed class</strong>. So, could not create bean of <code>ThreadPoolTaskExecutor</code> and autowire it.</p>\n<p>Any suggestions will be helpful. Thanks in advance.</p>\n"},{"tags":["java","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1692706843,"post_id":76953253,"comment_id":135658121,"body_markdown":"Did you try just including `null` as a value in the list?","body":"Did you try just including <code>null</code> as a value in the list?"},{"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"score":0,"creation_date":1692786312,"post_id":76953253,"comment_id":135670716,"body_markdown":"@Jorn I tried but it didn&#39;t count that null value in the list in my case.","body":"@Jorn I tried but it didn&#39;t count that null value in the list in my case."}],"answers":[{"tags":[],"owner":{"account_id":4627939,"reputation":29,"user_id":3751177,"display_name":"lbos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692799314,"creation_date":1692799314,"answer_id":76962115,"question_id":76953253,"body_markdown":"You say you want to find users where type is null, yet your method name is findByTypeInOrTypeIs**Not**Null.","title":"Spring Data JPA Repository findAllInList including nulls","body":"<p>You say you want to find users where type is null, yet your method name is findByTypeInOrTypeIs<strong>Not</strong>Null.</p>\n"}],"owner":{"account_id":3507352,"reputation":587,"user_id":2932601,"accept_rate":86,"display_name":"Oleksandr Tarasenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692799314,"creation_date":1692706758,"question_id":76953253,"body_markdown":"I have a Spring JPA repository:\r\n```\r\n@Repository\r\ninterface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n  List&lt;User&gt; findByTypeIn(List&lt;String&gt; types);\r\n}\r\n```\r\nAnd I want to include `User` entities which have `type is null` into the results of this method. I tried something like `findByTypeInOrTypeIsNotNull` or `findByTypeIsNullOrIn and it didn&#39;t work. Is there a way to do this?","title":"Spring Data JPA Repository findAllInList including nulls","body":"<p>I have a Spring JPA repository:</p>\n<pre><code>@Repository\ninterface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n  List&lt;User&gt; findByTypeIn(List&lt;String&gt; types);\n}\n</code></pre>\n<p>And I want to include <code>User</code> entities which have <code>type is null</code> into the results of this method. I tried something like <code>findByTypeInOrTypeIsNotNull</code> or `findByTypeIsNullOrIn and it didn't work. Is there a way to do this?</p>\n"},{"tags":["java","spring","spring-boot","jdbc","spring-security"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1692617292,"post_id":76942338,"comment_id":135643246,"body_markdown":"With &quot;Spring 3&quot;, do you mean a very old version of the core Spring Framework or do you mean Spring Boot 3, the latest version of Spring Boot? As far as I know, there is no big difference between Spring Boot 2 and Spring Boot 3 with regard to this, so the examples you have for Spring Boot 2 should still be useable.","body":"With &quot;Spring 3&quot;, do you mean a very old version of the core Spring Framework or do you mean Spring Boot 3, the latest version of Spring Boot? As far as I know, there is no big difference between Spring Boot 2 and Spring Boot 3 with regard to this, so the examples you have for Spring Boot 2 should still be useable."},{"owner":{"account_id":18102532,"reputation":315,"user_id":13160199,"display_name":"Lav&#237;nia Beghini"},"score":0,"creation_date":1692799233,"post_id":76942338,"comment_id":135673547,"body_markdown":"Spring Boot 3, sorry, I will edit the question. The problem is that I am having many &quot;deprecated&quot; issues if I simply copy and paste the code from Spring Boot 2 to Spring Boot 3, and it is not clear for me how to replace it.\n\nOne example is, in Spring Boot 3, I am unable to use `csrf` nor to get it working.","body":"Spring Boot 3, sorry, I will edit the question. The problem is that I am having many &quot;deprecated&quot; issues if I simply copy and paste the code from Spring Boot 2 to Spring Boot 3, and it is not clear for me how to replace it.  One example is, in Spring Boot 3, I am unable to use <code>csrf</code> nor to get it working."}],"owner":{"account_id":18102532,"reputation":315,"user_id":13160199,"display_name":"Lav&#237;nia Beghini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692799259,"creation_date":1692590933,"question_id":76942338,"body_markdown":"I am having problems to create a project with a simple authentication using JDBC. I have found many examples with Spring Boot 2, but none with Spring Boot 3.\r\n\r\nI tried the [Spring documentation itself][1], but I have difficulties to understand the steps without seeing the folder structure of a project. \r\n\r\nCan someone please guide me?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html","title":"How can I create JDBC auth with Spring Boot 3?","body":"<p>I am having problems to create a project with a simple authentication using JDBC. I have found many examples with Spring Boot 2, but none with Spring Boot 3.</p>\n<p>I tried the <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/passwords/jdbc.html\" rel=\"nofollow noreferrer\">Spring documentation itself</a>, but I have difficulties to understand the steps without seeing the folder structure of a project.</p>\n<p>Can someone please guide me?</p>\n"},{"tags":["java","postgresql","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692800945,"post_id":76962043,"comment_id":135673985,"body_markdown":"It will depend on your JPA provider&#39;s implementation of that as well as the database. Not all providers have support for all DBs. The main ones certainly support Postgres, and Postgres does have support for it - PESSIMISTIC_READs are akin to &#39;SELECT ... FOR UPDATE&#39;, while PESSIMISTIC_WRITE is expected DB row level locking within a transaction.","body":"It will depend on your JPA provider&#39;s implementation of that as well as the database. Not all providers have support for all DBs. The main ones certainly support Postgres, and Postgres does have support for it - PESSIMISTIC_READs are akin to &#39;SELECT ... FOR UPDATE&#39;, while PESSIMISTIC_WRITE is expected DB row level locking within a transaction."},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1692801421,"post_id":76962043,"comment_id":135674102,"body_markdown":"hi @Chris - thanks for your input. I am aware of PESSIMISTIC_WRITE but the question is about PESSIMISTIC_FORCE_INCREMENT for postgres","body":"hi @Chris - thanks for your input. I am aware of PESSIMISTIC_WRITE but the question is about PESSIMISTIC_FORCE_INCREMENT for postgres"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692801537,"post_id":76962043,"comment_id":135674146,"body_markdown":"Again, it depends on the implementation. The wording of the spec/javadoc though pretty much states that PESSIMISTIC_FORCE_INCREMENT is just going to immediately increment the version field on your entity - so isn&#39;t anything more than PESSIMISTIC_WRITE","body":"Again, it depends on the implementation. The wording of the spec/javadoc though pretty much states that PESSIMISTIC_FORCE_INCREMENT is just going to immediately increment the version field on your entity - so isn&#39;t anything more than PESSIMISTIC_WRITE"},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1693899002,"post_id":76962043,"comment_id":135816467,"body_markdown":"hi @Chris, I have been able to verify PESSIMISTIC_FORCE_INCREMENT is supported on postgres. However, there is one peculiar observation, PESSIMISTIC_WRITE lock can be taken with and without nowait option, however PESSIMISTIC_FORCE_INCREMENT is taking lock with nowait option only. What could be the possible reason for this?","body":"hi @Chris, I have been able to verify PESSIMISTIC_FORCE_INCREMENT is supported on postgres. However, there is one peculiar observation, PESSIMISTIC_WRITE lock can be taken with and without nowait option, however PESSIMISTIC_FORCE_INCREMENT is taking lock with nowait option only. What could be the possible reason for this?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693914407,"post_id":76962043,"comment_id":135819434,"body_markdown":"You should probably ask a question on it - I&#39;d guess you are using Hibernate as I don&#39;t know of a no-wait option in JPA. Maybe you are trying to use  javax.persistence.lock.timeout query hint? It is up to the JPA provider on how and if it can be supported against the database, and yours may have overlooked it for the PESSIMISTIC_FORCE_INCREMENT option - or they might have thought the entity state would be inconsistent afterward so intentionally left it out.","body":"You should probably ask a question on it - I&#39;d guess you are using Hibernate as I don&#39;t know of a no-wait option in JPA. Maybe you are trying to use  javax.persistence.lock.timeout query hint? It is up to the JPA provider on how and if it can be supported against the database, and yours may have overlooked it for the PESSIMISTIC_FORCE_INCREMENT option - or they might have thought the entity state would be inconsistent afterward so intentionally left it out."},{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1693982870,"post_id":76962043,"comment_id":135829649,"body_markdown":"Thanks, will ask a separate question. I have set the hints appropriately - as I have been able to implement PESSIMISTIC_WRITE both with wait and no wait. But PESSIMISTIC_FORCE_INCREMENT is only taking nowait lock, irrespective of hints","body":"Thanks, will ask a separate question. I have set the hints appropriately - as I have been able to implement PESSIMISTIC_WRITE both with wait and no wait. But PESSIMISTIC_FORCE_INCREMENT is only taking nowait lock, irrespective of hints"}],"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692798849,"creation_date":1692798849,"question_id":76962043,"body_markdown":"Going through the doc here: https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html\r\n\r\n`The persistence implementation must support use of locks of type LockModeType.PESSIMISTIC_READ LockModeType.PESSIMISTIC_WRITE on a non-versioned entity as well as on a versioned entity.`\r\n\r\nThis implies that LockModeType.PESSIMISTIC_WRITE is dependent on persistence implementation. I am interested in LockModeType.PESSIMISTIC_FORCE_INCREMENT - my guess is the same limitation will apply on that. I am unable to find any documentation to give the list of databases that support this lock mode. I am currently using **postgres** database. Will the lock mode work for me as expected?","title":"Is lockmode PESSIMISTIC_FORCE_INCREMENT supported for all database engines including postgres?","body":"<p>Going through the doc here: <a href=\"https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee%2F7%2Fapi%2F%2F/javax/persistence/LockModeType.html</a></p>\n<p><code>The persistence implementation must support use of locks of type LockModeType.PESSIMISTIC_READ LockModeType.PESSIMISTIC_WRITE on a non-versioned entity as well as on a versioned entity.</code></p>\n<p>This implies that LockModeType.PESSIMISTIC_WRITE is dependent on persistence implementation. I am interested in LockModeType.PESSIMISTIC_FORCE_INCREMENT - my guess is the same limitation will apply on that. I am unable to find any documentation to give the list of databases that support this lock mode. I am currently using <strong>postgres</strong> database. Will the lock mode work for me as expected?</p>\n"},{"tags":["java","weblogic","drools","kie"],"answers":[{"comments":[{"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"score":0,"creation_date":1696940537,"post_id":45818919,"comment_id":136214374,"body_markdown":"I have kieServer integrated with Spring Boot. I ran into this issue and the `&lt;reuseForks&gt;false&lt;/reuseForks&gt;` solved the problem for me while running my integration tests. Thank you for pointing it out.","body":"I have kieServer integrated with Spring Boot. I ran into this issue and the <code>&lt;reuseForks&gt;false&lt;&#47;reuseForks&gt;</code> solved the problem for me while running my integration tests. Thank you for pointing it out."}],"tags":[],"owner":{"account_id":5841528,"reputation":231,"user_id":4602963,"display_name":"Steve Brewin"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526501563,"creation_date":1503408275,"answer_id":45818919,"question_id":44949679,"body_markdown":"We had the same problem though in a different environment (Kafka, Weld SE). Though counter-intuitive, invoking\r\n \r\n    // Answer the cuurent container if it exists else create a new container\r\n    KieServices.Factory.get().getKieClasspathContainer();\r\n\r\n&lt;strong&gt;not&lt;/strong&gt;\r\n \r\n    // Always create a new container\r\n    KieServices.Factory.get().newKieClasspathContainer();\r\n\r\nfixed most things for us.  \r\n\r\nAlso, before the container goes out of scope be sure to invoke:\r\n \r\n    KieServices.Factory.get().getKieClasspathContainer().dispose();\r\n\r\nThis will release the container and its resources from the Drools global singleton.\r\n\r\nWe also had problems running unit tests in Maven as the Surefire plugin by default does not recreate a JVM per test while Drools assumes that an instance of its global singleton will be created just once per JVM invocation. This is resolved by having Surefire recreate a clean JVM environment per test. Adjust your\r\npom.xml\r\nby adding\r\n\r\n    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n\r\nto your Surefire configuration. For example:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;default-test&lt;/id&gt;\r\n                &lt;configuration&gt;\r\n                     &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n           &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\nAlso, you might consider assigning each Java EE module its own KieContainer\r\n\r\n    KieContainer getKieClasspathContainer(String containerId);\r\n\r\nThis would allow the lifecycle of each Java EE module to be synchronised to that of each Drools container module.","title":"Drools KieContainer from different ClassLoader","body":"<p>We had the same problem though in a different environment (Kafka, Weld SE). Though counter-intuitive, invoking</p>\n\n<pre><code>// Answer the cuurent container if it exists else create a new container\nKieServices.Factory.get().getKieClasspathContainer();\n</code></pre>\n\n<p><strong>not</strong></p>\n\n<pre><code>// Always create a new container\nKieServices.Factory.get().newKieClasspathContainer();\n</code></pre>\n\n<p>fixed most things for us.  </p>\n\n<p>Also, before the container goes out of scope be sure to invoke:</p>\n\n<pre><code>KieServices.Factory.get().getKieClasspathContainer().dispose();\n</code></pre>\n\n<p>This will release the container and its resources from the Drools global singleton.</p>\n\n<p>We also had problems running unit tests in Maven as the Surefire plugin by default does not recreate a JVM per test while Drools assumes that an instance of its global singleton will be created just once per JVM invocation. This is resolved by having Surefire recreate a clean JVM environment per test. Adjust your\npom.xml\nby adding</p>\n\n<pre><code>&lt;reuseForks&gt;false&lt;/reuseForks&gt;\n</code></pre>\n\n<p>to your Surefire configuration. For example:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;default-test&lt;/id&gt;\n            &lt;configuration&gt;\n                 &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n       &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>Also, you might consider assigning each Java EE module its own KieContainer</p>\n\n<pre><code>KieContainer getKieClasspathContainer(String containerId);\n</code></pre>\n\n<p>This would allow the lifecycle of each Java EE module to be synchronised to that of each Drools container module.</p>\n"},{"tags":[],"owner":{"account_id":17691437,"reputation":11,"user_id":12843113,"display_name":"Param Natarajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580879154,"creation_date":1580879154,"answer_id":60069332,"question_id":44949679,"body_markdown":"The drools code checks if your specified class loader and the current instance this.getClass().getClassLoader() is the same, if not errors out with the KieContainer already exists eror . If you dont specify a classloader it uses         Thread.currentThread().getContextClassLoader() , which is different from this.getClass().getClassLoader() in some situvations. Simple solution is to use\r\n**KieServices.Factory.get().getKieClasspathContainer(this.getClass().getClassLoader())**\r\n\r\n","title":"Drools KieContainer from different ClassLoader","body":"<p>The drools code checks if your specified class loader and the current instance this.getClass().getClassLoader() is the same, if not errors out with the KieContainer already exists eror . If you dont specify a classloader it uses         Thread.currentThread().getContextClassLoader() , which is different from this.getClass().getClassLoader() in some situvations. Simple solution is to use\n<strong>KieServices.Factory.get().getKieClasspathContainer(this.getClass().getClassLoader())</strong></p>\n"},{"tags":[],"owner":{"account_id":15905280,"reputation":31,"user_id":11476660,"display_name":"jim owens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692798492,"creation_date":1692798492,"answer_id":76961993,"question_id":44949679,"body_markdown":"Personally, I think the solution is to transition to using the `KieRuntimeBuilder`, which generates a session through the following code: \r\n\r\n`kieRuntimeBuilder.newKieSession();`\r\n\r\nAt the end, you can dispose of it, but another option I haven&#39;t looked into could be to define a class implementing the KieContainer or KieSession, but who knows where that trail leads.","title":"Drools KieContainer from different ClassLoader","body":"<p>Personally, I think the solution is to transition to using the <code>KieRuntimeBuilder</code>, which generates a session through the following code:</p>\n<p><code>kieRuntimeBuilder.newKieSession();</code></p>\n<p>At the end, you can dispose of it, but another option I haven't looked into could be to define a class implementing the KieContainer or KieSession, but who knows where that trail leads.</p>\n"}],"owner":{"account_id":5174312,"reputation":4637,"user_id":4141980,"accept_rate":86,"display_name":"Jo&#227;o Almeida"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2534,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1692798492,"creation_date":1499346070,"question_id":44949679,"body_markdown":"\r\nWe have a Java application with different modules being deployed on Weblogic. We are using drools on different modules and tried to make the class that initializes the KieContainer a singleton by defining it as an enum class. \r\n\r\nHowever, it seems that when we are in the production environment (where the application is deployed through a ear file) there are different ClassLoaders initializing this class and we get the following exception:\r\n\r\n\r\n    null    java.lang.IllegalStateException: There&#39;s already another KieContainer created from a different ClassLoader; \r\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:88); \r\n    at org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:73);\r\n\r\n\r\nDo you have any suggestion on how to solve this?\r\n\r\n","title":"Drools KieContainer from different ClassLoader","body":"<p>We have a Java application with different modules being deployed on Weblogic. We are using drools on different modules and tried to make the class that initializes the KieContainer a singleton by defining it as an enum class. </p>\n\n<p>However, it seems that when we are in the production environment (where the application is deployed through a ear file) there are different ClassLoaders initializing this class and we get the following exception:</p>\n\n<pre><code>null    java.lang.IllegalStateException: There's already another KieContainer created from a different ClassLoader; \nat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:88); \nat org.drools.compiler.kie.builder.impl.KieServicesImpl.getKieClasspathContainer(KieServicesImpl.java:73);\n</code></pre>\n\n<p>Do you have any suggestion on how to solve this?</p>\n"},{"tags":["java","dataframe","geometry","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":10586318,"reputation":4177,"user_id":7798548,"display_name":"Sergiu"},"score":0,"creation_date":1688978039,"post_id":76639838,"comment_id":135142435,"body_markdown":"What if you try raw SQL directly like `val dataFrame = snowparkSession.sql(SELECT ST_INTERSECTS(columnName, envelope))`","body":"What if you try raw SQL directly like <code>val dataFrame = snowparkSession.sql(SELECT ST_INTERSECTS(columnName, envelope))</code>"}],"answers":[{"tags":[],"owner":{"account_id":28972502,"reputation":11,"user_id":22192463,"display_name":"Lorenzo Dupont"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692798487,"creation_date":1692798487,"answer_id":76961990,"question_id":76639838,"body_markdown":"I managed to do it thanks to @Sergiu. I did in fact use Functions.sqlExpr and it worked !\r\nFor those mondering, you can transform your envelope to a generic WKTUtilities with WKTUtilities.toWKT(envelope). This can then be sent to a geometric attribute name like so : `Functions.sqlExpr(&quot;$spatialFunction(\\&quot;$geometryAttributeName\\&quot;, ST_GEOGRAPHYFROMWKT(\\&#39;$geometryWKT\\&#39;))&quot;)` (in Kotlin)","title":"Snowflake java (kotlin) use ST_INTERSECTS geospatial","body":"<p>I managed to do it thanks to @Sergiu. I did in fact use Functions.sqlExpr and it worked !\nFor those mondering, you can transform your envelope to a generic WKTUtilities with WKTUtilities.toWKT(envelope). This can then be sent to a geometric attribute name like so : <code>Functions.sqlExpr(&quot;$spatialFunction(\\&quot;$geometryAttributeName\\&quot;, ST_GEOGRAPHYFROMWKT(\\'$geometryWKT\\'))&quot;)</code> (in Kotlin)</p>\n"}],"owner":{"account_id":28972502,"reputation":11,"user_id":22192463,"display_name":"Lorenzo Dupont"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961990,"answer_count":1,"score":0,"last_activity_date":1692798487,"creation_date":1688759088,"question_id":76639838,"body_markdown":"I&#39;ve got a problem. I am trying to use geographical functions from snowflake in my kotlin code. Usualy, it is common to use Functions from com.snowflake.snowpark_java.Functions, and use the funciton you want to filter your query with.\r\nThe [ST_INTERSECTS ](https://docs.snowflake.com/en/sql-reference/functions/st_intersects#usage-notes) function seems to not have its implementation in the Functions package. I didn&#39;t find any other way to use it.\r\nI want to pass it as parameters the geographical column, and the searchEnvelope that is returned by snowflake. The goal is to add the ST_INTERSECTS to my dataframe in a WHERE clause like so :\r\n`val dataFrame = snowparkSession.table(tableName)\r\n            .where(ST_INTERSECTS(columnName, envelope))\r\n            .select(*)`\r\n\r\n\r\nI tried doing this :\r\n`Functions.callUDF(&quot;ST_INTERSECTS&quot;, geometryAttributeColumn)`\r\nsince  it is what was recommended here : https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions\r\nBut it awaits 2 columns attributes, and my envelope isn&#39;t one or doesn&#39;t contain one. It simply contains the Geometry Attribute Name and the search Envelope, which is a rectangle","title":"Snowflake java (kotlin) use ST_INTERSECTS geospatial","body":"<p>I've got a problem. I am trying to use geographical functions from snowflake in my kotlin code. Usualy, it is common to use Functions from com.snowflake.snowpark_java.Functions, and use the funciton you want to filter your query with.\nThe <a href=\"https://docs.snowflake.com/en/sql-reference/functions/st_intersects#usage-notes\" rel=\"nofollow noreferrer\">ST_INTERSECTS </a> function seems to not have its implementation in the Functions package. I didn't find any other way to use it.\nI want to pass it as parameters the geographical column, and the searchEnvelope that is returned by snowflake. The goal is to add the ST_INTERSECTS to my dataframe in a WHERE clause like so :\n<code>val dataFrame = snowparkSession.table(tableName) .where(ST_INTERSECTS(columnName, envelope)) .select(*)</code></p>\n<p>I tried doing this :\n<code>Functions.callUDF(&quot;ST_INTERSECTS&quot;, geometryAttributeColumn)</code>\nsince  it is what was recommended here : <a href=\"https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/developer-guide/snowpark/java/calling-functions</a>\nBut it awaits 2 columns attributes, and my envelope isn't one or doesn't contain one. It simply contains the Geometry Attribute Name and the search Envelope, which is a rectangle</p>\n"},{"tags":["java","selenium-webdriver","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1692798066,"post_id":76960912,"comment_id":135673211,"body_markdown":"Try having a look at this: https://stackoverflow.com/a/71889101/3324415","body":"Try having a look at this: <a href=\"https://stackoverflow.com/a/71889101/3324415\">stackoverflow.com/a/71889101/3324415</a>"}],"answers":[{"tags":[],"owner":{"account_id":25245622,"reputation":9,"user_id":19078929,"display_name":"vizallati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692798289,"creation_date":1692798289,"answer_id":76961963,"question_id":76960912,"body_markdown":"Well you can just place a breakpoint in your IDE in the @after hook and run the test in debug mode then evaluate the given step or function and get various attributes","title":"Selenium/Cucumber: While writing a screenshot file I want to have the Scenarion name in path of the file","body":"<p>Well you can just place a breakpoint in your IDE in the @after hook and run the test in debug mode then evaluate the given step or function and get various attributes</p>\n"}],"owner":{"account_id":3048324,"reputation":93,"user_id":2583445,"accept_rate":62,"display_name":"Peter O"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692798289,"creation_date":1692789954,"question_id":76960912,"body_markdown":"\\initialization\\DriverUtils.java: \r\n- Here I have a takeScreenshot() function\r\n\r\n\\steps\\Hooks.java\r\n   - Here is have a @After where I validate if the scenario.isFailed (io.cucumber.java.Scenario).\r\n\r\nIn the feature files we declare the tags (and suite) at the beginning:\r\n\r\n```\r\n# language: nl\r\n@suite=1A01\r\n@all @aanvraagflow_cv @OK\r\n```\r\nHow can I read this @suite property in the @After step so I can pass it to the takescreenshot function (for example).\r\n\r\nI am not a real JAVA guru. This is the current implementation. I&#39;ve read a lot of different ways to implement Selenium / Cucumber in Java. But I can&#39;t find a match with mine, that&#39;s why my question.","title":"Selenium/Cucumber: While writing a screenshot file I want to have the Scenarion name in path of the file","body":"<p>\\initialization\\DriverUtils.java:</p>\n<ul>\n<li>Here I have a takeScreenshot() function</li>\n</ul>\n<p>\\steps\\Hooks.java</p>\n<ul>\n<li>Here is have a @After where I validate if the scenario.isFailed (io.cucumber.java.Scenario).</li>\n</ul>\n<p>In the feature files we declare the tags (and suite) at the beginning:</p>\n<pre><code># language: nl\n@suite=1A01\n@all @aanvraagflow_cv @OK\n</code></pre>\n<p>How can I read this @suite property in the @After step so I can pass it to the takescreenshot function (for example).</p>\n<p>I am not a real JAVA guru. This is the current implementation. I've read a lot of different ways to implement Selenium / Cucumber in Java. But I can't find a match with mine, that's why my question.</p>\n"},{"tags":["java","spring-boot","asynchronous","jaxb","sigterm"],"answers":[{"comments":[{"owner":{"account_id":29245912,"reputation":1,"user_id":22406384,"display_name":"Systemoteh"},"score":0,"creation_date":1692341338,"post_id":76924562,"comment_id":135612412,"body_markdown":"Thanks! Probably I will have to do this, but this type of error can be caught using Error, since it is not an exception that occurs, but an error","body":"Thanks! Probably I will have to do this, but this type of error can be caught using Error, since it is not an exception that occurs, but an error"}],"tags":[],"owner":{"account_id":15064463,"reputation":40,"user_id":10872098,"display_name":"Reza Eskandari"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1692300434,"creation_date":1692300434,"answer_id":76924562,"question_id":76923513,"body_markdown":" The error message indicates that the SOAP client is throwing an exception because it&#39;s trying to access a resource (`META-INF/services/javax.xml.bind.JAXBContext`) that is not available due to the web application being stopped.\r\n\r\nThis issue can occur when the application is shutting down and the SOAP client is still trying to make requests. To handle this gracefully, you can catch the exception and handle it appropriately. Here&#39;s an example of how you can do this:\r\n\r\n```java\r\nimport javax.xml.ws.WebServiceException;\r\n\r\n// ...\r\n\r\ntry {\r\n    // Call the SOAP method\r\n    // Your SOAP method invocation code here\r\n} catch (WebServiceException ex) {\r\n    if (ex.getCause() instanceof IllegalStateException) {\r\n        IllegalStateException illegalStateException = (IllegalStateException) ex.getCause();\r\n        if (illegalStateException.getMessage().startsWith(&quot;Illegal access: this web application instance has been stopped&quot;)) {\r\n            // Handle the case where the web application is stopping\r\n            // You can choose to log the error or perform any necessary cleanup\r\n            // Example: logger.error(&quot;SOAP client error: Web application is stopping&quot;, ex);\r\n        } else {\r\n            // Handle other WebServiceException cases\r\n        }\r\n    } else {\r\n        // Handle other WebServiceException cases\r\n    }\r\n}\r\n```\r\n\r\nIn the code above, we catch the `WebServiceException` and check if the cause of the exception is an `IllegalStateException` with the specific error message indicating that the web application is stopping. If it matches, you can handle the situation accordingly (e.g., logging an error message or performing cleanup operations).\r\n\r\nBy handling the exception, you can prevent the application from crashing when the SOAP client is invoked during the shutdown process.","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>The error message indicates that the SOAP client is throwing an exception because it's trying to access a resource (<code>META-INF/services/javax.xml.bind.JAXBContext</code>) that is not available due to the web application being stopped.</p>\n<p>This issue can occur when the application is shutting down and the SOAP client is still trying to make requests. To handle this gracefully, you can catch the exception and handle it appropriately. Here's an example of how you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.xml.ws.WebServiceException;\n\n// ...\n\ntry {\n    // Call the SOAP method\n    // Your SOAP method invocation code here\n} catch (WebServiceException ex) {\n    if (ex.getCause() instanceof IllegalStateException) {\n        IllegalStateException illegalStateException = (IllegalStateException) ex.getCause();\n        if (illegalStateException.getMessage().startsWith(&quot;Illegal access: this web application instance has been stopped&quot;)) {\n            // Handle the case where the web application is stopping\n            // You can choose to log the error or perform any necessary cleanup\n            // Example: logger.error(&quot;SOAP client error: Web application is stopping&quot;, ex);\n        } else {\n            // Handle other WebServiceException cases\n        }\n    } else {\n        // Handle other WebServiceException cases\n    }\n}\n</code></pre>\n<p>In the code above, we catch the <code>WebServiceException</code> and check if the cause of the exception is an <code>IllegalStateException</code> with the specific error message indicating that the web application is stopping. If it matches, you can handle the situation accordingly (e.g., logging an error message or performing cleanup operations).</p>\n<p>By handling the exception, you can prevent the application from crashing when the SOAP client is invoked during the shutdown process.</p>\n"},{"tags":[],"owner":{"account_id":29245912,"reputation":1,"user_id":22406384,"display_name":"Systemoteh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692798278,"creation_date":1692797848,"answer_id":76961894,"question_id":76923513,"body_markdown":"The problem was in the libraries.\r\n\r\nWas: \r\n\r\n    implementation group: &#39;org.glassfish.main.javaee-api&#39;, name: &#39;javax.jws&#39;, version: &#39;3.1.2.2&#39;\r\n    implementation group: &#39;javax.xml.ws&#39;, name: &#39;jaxws-api&#39;, version: &#39;2.3.1&#39;\r\n    implementation group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-rt&#39;, version: &#39;2.3.1&#39;\r\n\r\nNeed to do:\r\n\r\n    implementation &#39;jakarta.xml.bind:jakarta.xml.bind-api:4.0.0&#39;\r\n    implementation &#39;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&#39;\r\n    implementation &#39;jakarta.activation:jakarta.activation-api:2.1.2&#39;\r\n    implementation &#39;com.sun.xml.ws:jaxws-rt:4.0.1&#39;\r\n    implementation &#39;com.sun.xml.bind:jaxb-impl:2.3.1&#39;\r\n    implementation &#39;org.glassfish.jaxb:jaxb-runtime:4.0.2&#39;\r\n    runtimeOnly &#39;jakarta.xml.soap:jakarta.xml.soap-api:3.0.0&#39;\r\n    runtime Only &#39;com.sun.xml.messaging.saaj:saaj-impl:3.0.2&#39;\r\n\r\n**And accordingly, fix the imports in the classes from *javax* to *jakarta***","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>The problem was in the libraries.</p>\n<p>Was:</p>\n<pre><code>implementation group: 'org.glassfish.main.javaee-api', name: 'javax.jws', version: '3.1.2.2'\nimplementation group: 'javax.xml.ws', name: 'jaxws-api', version: '2.3.1'\nimplementation group: 'com.sun.xml.ws', name: 'jaxws-rt', version: '2.3.1'\n</code></pre>\n<p>Need to do:</p>\n<pre><code>implementation 'jakarta.xml.bind:jakarta.xml.bind-api:4.0.0'\nimplementation 'jakarta.xml.ws:jakarta.xml.ws-api:4.0.0'\nimplementation 'jakarta.activation:jakarta.activation-api:2.1.2'\nimplementation 'com.sun.xml.ws:jaxws-rt:4.0.1'\nimplementation 'com.sun.xml.bind:jaxb-impl:2.3.1'\nimplementation 'org.glassfish.jaxb:jaxb-runtime:4.0.2'\nruntimeOnly 'jakarta.xml.soap:jakarta.xml.soap-api:3.0.0'\nruntime Only 'com.sun.xml.messaging.saaj:saaj-impl:3.0.2'\n</code></pre>\n<p><strong>And accordingly, fix the imports in the classes from <em>javax</em> to <em>jakarta</em></strong></p>\n"}],"owner":{"account_id":29245912,"reputation":1,"user_id":22406384,"display_name":"Systemoteh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76961894,"answer_count":2,"score":0,"last_activity_date":1692798278,"creation_date":1692290317,"question_id":76923513,"body_markdown":"I use Java and Spring Boot. I implemented the correct termination of the application when receiving the SIGTERM command.\r\n\r\nSet the settings for SpringBoot:\r\n```\r\nserver:\r\n  shutdown: graceful\r\n\r\nspring.task.execution:\r\n  pool:\r\n    allow-core-thread-timeout: true\r\n    keep-alive: 3m\r\n  shutdown:\r\n    await-termination: true\r\n    await-termination-period: 3m\r\n```\r\n\r\nAnd I also tried it with `ThreadPoolTaskExecutor`:\r\n```\r\nThreadPoolTaskExecutor defaultExecutor = new ThreadPoolTaskExecutor();\r\ndefaultExecutor.setKeepAliveSeconds(180);\r\ndefaultExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\ndefaultExecutor.setAwaitTerminationSeconds(180);\r\n```\r\nBut I ran into a problem. In an asynchronous thread, the SOAP method is called and it crashes with an error:\r\n```\r\nERROR [iso20022.app.FCR,3b58933b54e5e47c,1eb7da1d0650e9d9] 2808 --- [     h2h-async1] r.a.h.c.RepeaterInvocationHandler        : error on calling jdk.proxy6.$Proxy236.wsAccountBaseInfoGet\r\njava.lang.ExceptionInInitializerError: null\r\n\tat com.sun.xml.ws.transport.http.client.HttpTransportPipe.getTransport(HttpTransportPipe.java:154) ~[jaxws-rt-2.3.1.jar:2.3.1]\r\n…\r\nCaused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/javax.xml.bind.JAXBContext]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.getResourceAsStream(WebappClassLoaderBase.java:1140) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\r\n\tat javax.xml.bind.ContextFinder.firstByServiceLoaderDeprecated(ContextFinder.java:611) ~[jaxb-api-2.4.0-b180830.0359.jar:2.3.0]\r\n```\r\n\r\nPlease, help. What do I need to do?","title":"Doesn&#39;t work Soap service in async method after getting the SIGTERM command","body":"<p>I use Java and Spring Boot. I implemented the correct termination of the application when receiving the SIGTERM command.</p>\n<p>Set the settings for SpringBoot:</p>\n<pre><code>server:\n  shutdown: graceful\n\nspring.task.execution:\n  pool:\n    allow-core-thread-timeout: true\n    keep-alive: 3m\n  shutdown:\n    await-termination: true\n    await-termination-period: 3m\n</code></pre>\n<p>And I also tried it with <code>ThreadPoolTaskExecutor</code>:</p>\n<pre><code>ThreadPoolTaskExecutor defaultExecutor = new ThreadPoolTaskExecutor();\ndefaultExecutor.setKeepAliveSeconds(180);\ndefaultExecutor.setWaitForTasksToCompleteOnShutdown(true);\ndefaultExecutor.setAwaitTerminationSeconds(180);\n</code></pre>\n<p>But I ran into a problem. In an asynchronous thread, the SOAP method is called and it crashes with an error:</p>\n<pre><code>ERROR [iso20022.app.FCR,3b58933b54e5e47c,1eb7da1d0650e9d9] 2808 --- [     h2h-async1] r.a.h.c.RepeaterInvocationHandler        : error on calling jdk.proxy6.$Proxy236.wsAccountBaseInfoGet\njava.lang.ExceptionInInitializerError: null\n    at com.sun.xml.ws.transport.http.client.HttpTransportPipe.getTransport(HttpTransportPipe.java:154) ~[jaxws-rt-2.3.1.jar:2.3.1]\n…\nCaused by: java.lang.IllegalStateException: Illegal access: this web application instance has been stopped already. Could not load [META-INF/services/javax.xml.bind.JAXBContext]. The following stack trace is thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access.\n    at org.apache.catalina.loader.WebappClassLoaderBase.checkStateForResourceLoading(WebappClassLoaderBase.java:1432) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at org.apache.catalina.loader.WebappClassLoaderBase.getResourceAsStream(WebappClassLoaderBase.java:1140) ~[tomcat-embed-core-9.0.76.jar:9.0.76]\n    at javax.xml.bind.ContextFinder.firstByServiceLoaderDeprecated(ContextFinder.java:611) ~[jaxb-api-2.4.0-b180830.0359.jar:2.3.0]\n</code></pre>\n<p>Please, help. What do I need to do?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9904,"page":230,"page_size":100}
