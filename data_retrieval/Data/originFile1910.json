{"items":[{"tags":["java","list","object","mapping","drools"],"answers":[{"tags":[],"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635268983,"creation_date":1635268983,"answer_id":69727454,"question_id":69719547,"body_markdown":"Well, sure this is possible and not particularly difficult. \r\n\r\nI&#39;m going to assume that you insert &#39;A&#39; into the rules, and want to write rules against &#39;B&#39;. I will also assume that you&#39;re not going to insert any &#39;B&#39; at all into the rules.\r\n\r\n```\r\nrule &quot;Convert A to B&quot;\r\nwhen\r\n  not( B() )\r\n  $a: A()\r\nthen\r\n  B b = new B();\r\n  // do the conversion here in regular java\r\n  insert(b);\r\nend\r\n\r\nrule &quot;Example - do something with B&quot;\r\nwhen\r\n  B( $waiverList: waiverList )\r\nthen\r\n  // ...\r\nend\r\n```\r\n\r\nBasically the conversion rule checks that there&#39;s no `B` present in the working memory, but there is an `A`. If those conditions are met, the conversion happens in the &quot;then&quot; and the result is inserted into working memory.\r\n\r\nThe second rule will then fire because there is a `B` present in working memory after `insert` in the first rule triggers the reevaluation of subsequent rules.\r\n\r\nNote that this conversion rule only works if there is only 1 &#39;A&#39; present in working memory. If you have 2 &#39;A&#39; instances, the first one will trigger the rule and convert and insert a &#39;B&#39;. At that point, the conversion rule will no longer be valid to fire, so it will not ever convert the second &#39;A&#39; instance.\r\n\r\nIf you do have multiple instances of A, there&#39;s a bunch of ways you could address this. For example, you could retract each A after converting it. But the example above is generally how you&#39;d do it.","title":"Drools Converting list of one object to list of another object in drools","body":"<p>Well, sure this is possible and not particularly difficult.</p>\n<p>I'm going to assume that you insert 'A' into the rules, and want to write rules against 'B'. I will also assume that you're not going to insert any 'B' at all into the rules.</p>\n<pre><code>rule &quot;Convert A to B&quot;\nwhen\n  not( B() )\n  $a: A()\nthen\n  B b = new B();\n  // do the conversion here in regular java\n  insert(b);\nend\n\nrule &quot;Example - do something with B&quot;\nwhen\n  B( $waiverList: waiverList )\nthen\n  // ...\nend\n</code></pre>\n<p>Basically the conversion rule checks that there's no <code>B</code> present in the working memory, but there is an <code>A</code>. If those conditions are met, the conversion happens in the &quot;then&quot; and the result is inserted into working memory.</p>\n<p>The second rule will then fire because there is a <code>B</code> present in working memory after <code>insert</code> in the first rule triggers the reevaluation of subsequent rules.</p>\n<p>Note that this conversion rule only works if there is only 1 'A' present in working memory. If you have 2 'A' instances, the first one will trigger the rule and convert and insert a 'B'. At that point, the conversion rule will no longer be valid to fire, so it will not ever convert the second 'A' instance.</p>\n<p>If you do have multiple instances of A, there's a bunch of ways you could address this. For example, you could retract each A after converting it. But the example above is generally how you'd do it.</p>\n"}],"owner":{"account_id":10414482,"reputation":11,"user_id":8820990,"display_name":"dhruv dar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635268983,"creation_date":1635235546,"question_id":69719547,"body_markdown":"I have a class say A with list of Waiver objects and I want to iterate this list, convert it into list of WaiverInfo objects and insert to object of class B type . Is it possible to achieve this in drools ? \r\n\r\n    class A {\r\n    \tList&lt;Waiver&gt; waivers;\r\n    }\r\n    \r\n    class B {\r\n    \tList&lt;WaiverInfo&gt; waiverList;\r\n    }\r\n    \r\n    class Waiver {\r\n    \tString code;\r\n    \tString name;\r\n    }\r\n\r\n    class WaiverInfo {\r\n    \tString code;\r\n    \tString name\r\n    }\r\n\r\n","title":"Drools Converting list of one object to list of another object in drools","body":"<p>I have a class say A with list of Waiver objects and I want to iterate this list, convert it into list of WaiverInfo objects and insert to object of class B type . Is it possible to achieve this in drools ?</p>\n<pre><code>class A {\n    List&lt;Waiver&gt; waivers;\n}\n\nclass B {\n    List&lt;WaiverInfo&gt; waiverList;\n}\n\nclass Waiver {\n    String code;\n    String name;\n}\n\nclass WaiverInfo {\n    String code;\n    String name\n}\n</code></pre>\n"},{"tags":["java","arraylist","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635266400,"post_id":69726901,"comment_id":123249070,"body_markdown":"It doesn&#39;t always return false, in your screen you can see &quot;You&#39;re in the list.&quot; ?","body":"It doesn&#39;t always return false, in your screen you can see &quot;You&#39;re in the list.&quot; ?"},{"owner":{"account_id":17944850,"reputation":75,"user_id":15538776,"display_name":"fizz"},"score":0,"creation_date":1635266655,"post_id":69726901,"comment_id":123249171,"body_markdown":"@Elikill58 in other classes, it returns false, but from the class that sets it, it returns true","body":"@Elikill58 in other classes, it returns false, but from the class that sets it, it returns true"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":2,"creation_date":1635266748,"post_id":69726901,"comment_id":123249206,"body_markdown":"Ok, I think where this come from, I will make an answer","body":"Ok, I think where this come from, I will make an answer"},{"owner":{"account_id":21791742,"reputation":212,"user_id":16091860,"display_name":"croakPedlar"},"score":0,"creation_date":1635274243,"post_id":69726901,"comment_id":123252049,"body_markdown":"If an answer helped you, please select it","body":"If an answer helped you, please select it"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635267515,"creation_date":1635267515,"answer_id":69727186,"question_id":69726901,"body_markdown":"For me, you are creating a new instance for the `ClassOne` for each method call.\r\n\r\nYou can create ONE instance and put it in a static field. This is a good way if you are using this instance in a lot of multiple class. To do it, just use `public static ClassOne vars = new ClassOne();`.\r\n\r\nAlso, if you are using in only one class (or need multiple instance of different class), I suggest you to do something like that :\r\n\r\n```java\r\npublic ClassOne vars; // declare variable\r\n\r\npublic ClassTwo() {\r\n   vars = new ClassOne(); // create a new instance\r\n}\r\n\r\npublic void yourMethod() {\r\n   if(vars.contains(myUUID)) {\r\n       // should contains\r\n   } else {\r\n       // should not contains\r\n   }\r\n}\r\n```","title":"Java - changing an arraylist from another class","body":"<p>For me, you are creating a new instance for the <code>ClassOne</code> for each method call.</p>\n<p>You can create ONE instance and put it in a static field. This is a good way if you are using this instance in a lot of multiple class. To do it, just use <code>public static ClassOne vars = new ClassOne();</code>.</p>\n<p>Also, if you are using in only one class (or need multiple instance of different class), I suggest you to do something like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ClassOne vars; // declare variable\n\npublic ClassTwo() {\n   vars = new ClassOne(); // create a new instance\n}\n\npublic void yourMethod() {\n   if(vars.contains(myUUID)) {\n       // should contains\n   } else {\n       // should not contains\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15357528,"reputation":116,"user_id":11079418,"display_name":"StackOverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635268726,"creation_date":1635268356,"answer_id":69727328,"question_id":69726901,"body_markdown":"Make the ArrayList in ClassOne static. \r\n\r\nIs the &quot;global&quot; in &quot;vars.global.shielded.contains...&quot; correct?\r\n\r\n    if(vars.global.shielded.contains(p.getUniqueId().toString())) {\r\n    vars.removeItem(p.getUniqueId().toString());\r\n    p.sendMessage(&quot;You are NOT in the list&quot;);\r\n    }\r\n\r\nPerhaps you should replace it with following code snippet.\r\n\r\n    if(vars.shielded.contains(p.getUniqueId().toString())) {\r\n    vars.removeItem(p.getUniqueId().toString());\r\n    p.sendMessage(&quot;You are NOT in the list&quot;);\r\n    }","title":"Java - changing an arraylist from another class","body":"<p>Make the ArrayList in ClassOne static.</p>\n<p>Is the &quot;global&quot; in &quot;vars.global.shielded.contains...&quot; correct?</p>\n<pre><code>if(vars.global.shielded.contains(p.getUniqueId().toString())) {\nvars.removeItem(p.getUniqueId().toString());\np.sendMessage(&quot;You are NOT in the list&quot;);\n}\n</code></pre>\n<p>Perhaps you should replace it with following code snippet.</p>\n<pre><code>if(vars.shielded.contains(p.getUniqueId().toString())) {\nvars.removeItem(p.getUniqueId().toString());\np.sendMessage(&quot;You are NOT in the list&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":17944850,"reputation":75,"user_id":15538776,"display_name":"fizz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69727328,"answer_count":2,"score":-1,"last_activity_date":1635268726,"creation_date":1635266147,"question_id":69726901,"body_markdown":"So, I&#39;ve made a public arraylist that I need to change from another class. shielded is an arraylist, that stores the UUID as a string of every player that has toggled the shield on. This code does not affect the array in class one, but still lets me toggle it just in that class. \r\n\r\nAfter accessing it in Class 3, using `if (vars.shielded.contains(otherPlayer.getUniqueId().toString())) {`, it always returns false, and no player UUIDs are in the array. \r\n\r\n[![It toggles][1]][1]\r\n\r\nClass one:\r\n```java\r\npublic class ClassOne {\r\n\t\r\n\tpublic ArrayList&lt;String&gt; shielded = new ArrayList&lt;String&gt;();\r\n\t\r\n\tpublic void addItem(String item) {\r\n\t\tthis.shielded.add(item);\r\n\t}\r\n\t\r\n\tpublic void removeItem(String item) {\r\n\t\tthis.shielded.remove(item);\r\n\t}\r\n}\r\n```\r\n\r\nClass Two (Snippet):\r\n```java\r\nClassOne vars = new ClassOne();\r\n\r\n... \r\n\r\nif(vars.global.shielded.contains(p.getUniqueId().toString())) {\r\n\tvars.removeItem(p.getUniqueId().toString());\r\n\tp.sendMessage(&quot;You are NOT in the list&quot;);\r\n}\r\nelse {\r\n\tvars.addItem(p.getUniqueId().toString());\r\n\tp.sendMessage(&quot;You&#39;re in the list.&quot;);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/389Eq.png","title":"Java - changing an arraylist from another class","body":"<p>So, I've made a public arraylist that I need to change from another class. shielded is an arraylist, that stores the UUID as a string of every player that has toggled the shield on. This code does not affect the array in class one, but still lets me toggle it just in that class.</p>\n<p>After accessing it in Class 3, using <code>if (vars.shielded.contains(otherPlayer.getUniqueId().toString())) {</code>, it always returns false, and no player UUIDs are in the array.</p>\n<p><a href=\"https://i.stack.imgur.com/389Eq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/389Eq.png\" alt=\"It toggles\" /></a></p>\n<p>Class one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassOne {\n    \n    public ArrayList&lt;String&gt; shielded = new ArrayList&lt;String&gt;();\n    \n    public void addItem(String item) {\n        this.shielded.add(item);\n    }\n    \n    public void removeItem(String item) {\n        this.shielded.remove(item);\n    }\n}\n</code></pre>\n<p>Class Two (Snippet):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassOne vars = new ClassOne();\n\n... \n\nif(vars.global.shielded.contains(p.getUniqueId().toString())) {\n    vars.removeItem(p.getUniqueId().toString());\n    p.sendMessage(&quot;You are NOT in the list&quot;);\n}\nelse {\n    vars.addItem(p.getUniqueId().toString());\n    p.sendMessage(&quot;You're in the list.&quot;);\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1635091440,"post_id":69693652,"comment_id":123197170,"body_markdown":"there are several strange things i can see when i see your code, first why use `Mono.from` and not `flatMap` the `body` directly. Second of all, most IO stuff is blocking, this you can pick up as you have to do a `try/catch` in the middle. Blocking calls should be placed on its own subscriber. You can read about how to handle blocking calls in reactor reference documentation. But first i would remove all unnecassary `Mono.from` calls","body":"there are several strange things i can see when i see your code, first why use <code>Mono.from</code> and not <code>flatMap</code> the <code>body</code> directly. Second of all, most IO stuff is blocking, this you can pick up as you have to do a <code>try&#47;catch</code> in the middle. Blocking calls should be placed on its own subscriber. You can read about how to handle blocking calls in reactor reference documentation. But first i would remove all unnecassary <code>Mono.from</code> calls"},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1635268676,"post_id":69693652,"comment_id":123249911,"body_markdown":"well, i did try &quot;all possible combinations&quot; to get the wanted output. It didn&#39;t work. my first days in reactive world are rather hard. I followed your advice. And i found out a solution.","body":"well, i did try &quot;all possible combinations&quot; to get the wanted output. It didn&#39;t work. my first days in reactive world are rather hard. I followed your advice. And i found out a solution."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1635269164,"post_id":69693652,"comment_id":123250097,"body_markdown":"your solution is still not proper reactive, all file operations are blocking. And try catch is usually not used in reactive programming. You are mixing imperative programming with reactive programming. If you dont know what i am talking about i suggest you read the `reactor documentation` and especially their getting started section. Stack overflow is not the place to ask for the basics.","body":"your solution is still not proper reactive, all file operations are blocking. And try catch is usually not used in reactive programming. You are mixing imperative programming with reactive programming. If you dont know what i am talking about i suggest you read the <code>reactor documentation</code> and especially their getting started section. Stack overflow is not the place to ask for the basics."},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":1,"creation_date":1635269545,"post_id":69693652,"comment_id":123250254,"body_markdown":"I&#39;m going to return on basics. thanks","body":"I&#39;m going to return on basics. thanks"}],"answers":[{"tags":[],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635268574,"creation_date":1635268574,"answer_id":69727372,"question_id":69693652,"body_markdown":"I finally found out a solution, highly inspired by this tutorial: https://www.vinsguru.com/spring-webflux-file-upload/\r\n\r\nIn my controller : \r\n\r\n    @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;Mono&lt;AudioDto&gt;&gt; saveAudioTrack(@RequestPart(&quot;file&quot;) Mono&lt;FilePart&gt; filePartMono) {\r\n        return new ResponseEntity&lt;&gt;(this.audioService.saveAudioTrack(filePartMono), HttpStatus.CREATED);\r\n    }\r\n\r\nIn my service layer : \r\n\r\n    @Override\r\n    public Mono&lt;AudioDto&gt; saveAudioTrack(Mono&lt;FilePart&gt; filePartMono) {\r\n        Path basePath = Paths.get(&quot;./src/main/resources/upload/&quot;);\r\n        return filePartMono\r\n                .doOnNext(fp -&gt; System.out.println(&quot;Received File : &quot; + fp.filename()))\r\n                .flatMap(fp -&gt; fp.transferTo(basePath.resolve(fp.filename())))\r\n                .then(\r\n                        filePartMono\r\n                                .flatMap(fp -&gt; Mono.just(new File(String.valueOf(basePath.resolve(fp.filename())))))\r\n                                .map(file -&gt; {\r\n                                    try {\r\n                                        return getAudioMetadata(file);\r\n                                    } catch (InvalidDataException | UnsupportedTagException | IOException e) {\r\n                                        e.printStackTrace();\r\n                                        throw new RuntimeException(e.getLocalizedMessage());\r\n                                    }\r\n                                })\r\n                );\r\n\r\n    }\r\n\r\nI also manage to get meta data and upload file to S3 bucket: \r\n\r\nI call my method to create metadata \r\n\r\n    private AudioDto getAudioMetadata(File file) throws InvalidDataException, UnsupportedTagException, IOException {\r\n        Mp3File mp3file  = new Mp3File(file.getPath());\r\n        AudioDto audioDto = new AudioDto();\r\n       ...\r\n        if (mp3file.hasId3v1Tag()) {\r\n            ID3v1 id3v1Tag = mp3file.getId3v1Tag();\r\n            audioDto.setTrack(id3v1Tag.getTrack());\r\n            ...   \r\n        }\r\n        if (mp3file.hasId3v2Tag()) {\r\n            ID3v2 id3v2Tag = mp3file.getId3v2Tag();\r\n            audioDto.setTrack(id3v2Tag.getTrack());\r\n            ...\r\n            audioDto.setAlbumImage(id3v2Tag.getAlbumImage());\r\n            byte[] albumImageData = id3v2Tag.getAlbumImage();\r\n            if (albumImageData != null) {\r\n                audioDto.setAlbumImageSize(albumImageData.length);\r\n                audioDto.setAlbumImageMimeType(id3v2Tag.getAlbumImageMimeType());\r\n            }\r\n        }\r\n\r\n        //get file metadata\r\n        Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\r\n        Tika tika = new Tika();\r\n\r\n        metadata.put(&quot;Content-Type&quot;, tika.detect(file));\r\n        metadata.put(&quot;Content-Length&quot;, String.valueOf(file.length()));\r\n        String path = String.format(&quot;%s/%s&quot;, environment.getProperty(&quot;amazon.aws.s3.audioBucket&quot;), UUID.randomUUID());\r\n        //String fileName = String.format(&quot;%s&quot;, audioDto.getFile().getOriginalFilename());\r\n        try {\r\n            InputStream inputSteam = new FileInputStream(file);\r\n            fileStore.upload(path, file.getName(), Optional.of(metadata), inputSteam);\r\n        } catch (IOException e) {\r\n            throw new IllegalStateException(&quot;Failed to upload file&quot;, e);\r\n        }\r\n        audioDto.setFileName(file.getName());\r\n        ...\r\n        ModelMapper modelMapper = new ModelMapper();\r\n        modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\r\n        AudioEntity audioFileEntity = modelMapper.map(audioDto, AudioEntity.class);\r\n        AudioEntity storedEntity = audioRepository.save(audioFileEntity);\r\n\r\n        return modelMapper.map(storedEntity, AudioDto.class);\r\n    }\r\n\r\nhere is my upload method: \r\n\r\n    private final AmazonS3 amazonS3;\r\n\r\n    public void upload(String path,\r\n                       String fileName,\r\n                       Optional&lt;Map&lt;String, String&gt;&gt; optionalMetaData,\r\n                       InputStream inputStream) {\r\n        ObjectMetadata objectMetadata = new ObjectMetadata();\r\n        optionalMetaData.ifPresent(map -&gt; {\r\n            if (!map.isEmpty()) {\r\n                map.forEach(objectMetadata::addUserMetadata);\r\n            }\r\n        });\r\n        try {\r\n            amazonS3.putObject(path, fileName, inputStream, objectMetadata);\r\n        } catch (AmazonServiceException e) {\r\n            throw new IllegalStateException(&quot;Failed to upload the file&quot;, e);\r\n        }\r\n    }\r\n\r\nNot the most elegant way, but functionnal. there &#39;s some workout before telling it&#39;s fully operational but nothing tricky. :)","title":"Webflux post request: Only one connection receive subscriber allowed","body":"<p>I finally found out a solution, highly inspired by this tutorial: <a href=\"https://www.vinsguru.com/spring-webflux-file-upload/\" rel=\"nofollow noreferrer\">https://www.vinsguru.com/spring-webflux-file-upload/</a></p>\n<p>In my controller :</p>\n<pre><code>@PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Mono&lt;AudioDto&gt;&gt; saveAudioTrack(@RequestPart(&quot;file&quot;) Mono&lt;FilePart&gt; filePartMono) {\n    return new ResponseEntity&lt;&gt;(this.audioService.saveAudioTrack(filePartMono), HttpStatus.CREATED);\n}\n</code></pre>\n<p>In my service layer :</p>\n<pre><code>@Override\npublic Mono&lt;AudioDto&gt; saveAudioTrack(Mono&lt;FilePart&gt; filePartMono) {\n    Path basePath = Paths.get(&quot;./src/main/resources/upload/&quot;);\n    return filePartMono\n            .doOnNext(fp -&gt; System.out.println(&quot;Received File : &quot; + fp.filename()))\n            .flatMap(fp -&gt; fp.transferTo(basePath.resolve(fp.filename())))\n            .then(\n                    filePartMono\n                            .flatMap(fp -&gt; Mono.just(new File(String.valueOf(basePath.resolve(fp.filename())))))\n                            .map(file -&gt; {\n                                try {\n                                    return getAudioMetadata(file);\n                                } catch (InvalidDataException | UnsupportedTagException | IOException e) {\n                                    e.printStackTrace();\n                                    throw new RuntimeException(e.getLocalizedMessage());\n                                }\n                            })\n            );\n\n}\n</code></pre>\n<p>I also manage to get meta data and upload file to S3 bucket:</p>\n<p>I call my method to create metadata</p>\n<pre><code>private AudioDto getAudioMetadata(File file) throws InvalidDataException, UnsupportedTagException, IOException {\n    Mp3File mp3file  = new Mp3File(file.getPath());\n    AudioDto audioDto = new AudioDto();\n   ...\n    if (mp3file.hasId3v1Tag()) {\n        ID3v1 id3v1Tag = mp3file.getId3v1Tag();\n        audioDto.setTrack(id3v1Tag.getTrack());\n        ...   \n    }\n    if (mp3file.hasId3v2Tag()) {\n        ID3v2 id3v2Tag = mp3file.getId3v2Tag();\n        audioDto.setTrack(id3v2Tag.getTrack());\n        ...\n        audioDto.setAlbumImage(id3v2Tag.getAlbumImage());\n        byte[] albumImageData = id3v2Tag.getAlbumImage();\n        if (albumImageData != null) {\n            audioDto.setAlbumImageSize(albumImageData.length);\n            audioDto.setAlbumImageMimeType(id3v2Tag.getAlbumImageMimeType());\n        }\n    }\n\n    //get file metadata\n    Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\n    Tika tika = new Tika();\n\n    metadata.put(&quot;Content-Type&quot;, tika.detect(file));\n    metadata.put(&quot;Content-Length&quot;, String.valueOf(file.length()));\n    String path = String.format(&quot;%s/%s&quot;, environment.getProperty(&quot;amazon.aws.s3.audioBucket&quot;), UUID.randomUUID());\n    //String fileName = String.format(&quot;%s&quot;, audioDto.getFile().getOriginalFilename());\n    try {\n        InputStream inputSteam = new FileInputStream(file);\n        fileStore.upload(path, file.getName(), Optional.of(metadata), inputSteam);\n    } catch (IOException e) {\n        throw new IllegalStateException(&quot;Failed to upload file&quot;, e);\n    }\n    audioDto.setFileName(file.getName());\n    ...\n    ModelMapper modelMapper = new ModelMapper();\n    modelMapper.getConfiguration().setMatchingStrategy(MatchingStrategies.STRICT);\n    AudioEntity audioFileEntity = modelMapper.map(audioDto, AudioEntity.class);\n    AudioEntity storedEntity = audioRepository.save(audioFileEntity);\n\n    return modelMapper.map(storedEntity, AudioDto.class);\n}\n</code></pre>\n<p>here is my upload method:</p>\n<pre><code>private final AmazonS3 amazonS3;\n\npublic void upload(String path,\n                   String fileName,\n                   Optional&lt;Map&lt;String, String&gt;&gt; optionalMetaData,\n                   InputStream inputStream) {\n    ObjectMetadata objectMetadata = new ObjectMetadata();\n    optionalMetaData.ifPresent(map -&gt; {\n        if (!map.isEmpty()) {\n            map.forEach(objectMetadata::addUserMetadata);\n        }\n    });\n    try {\n        amazonS3.putObject(path, fileName, inputStream, objectMetadata);\n    } catch (AmazonServiceException e) {\n        throw new IllegalStateException(&quot;Failed to upload the file&quot;, e);\n    }\n}\n</code></pre>\n<p>Not the most elegant way, but functionnal. there 's some workout before telling it's fully operational but nothing tricky. :)</p>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635268574,"creation_date":1635046143,"question_id":69693652,"body_markdown":"I try to implement a springboot app that allow me to : \r\n\r\n - upload mp3 on S3\r\n - extract meta data and store them on mongo DB. \r\n\r\nIf i want to extract meta data from a mp3, I have to provide MultipartFile. Unfortunatelly, we can&#39;t send Flux&lt;MultipartFile&gt;. \r\n\r\nIn my controller, I do pass 3 parameters: \r\n\r\n    @PostMapping\r\n    public Mono&lt;ResponseEntity&lt;AudioDto&gt;&gt; saveAudioTrack(@RequestHeader HttpHeaders headers,\r\n                                                         @RequestHeader String fileName,\r\n                                                         @RequestBody Flux&lt;ByteBuffer&gt; body) {\r\n        return this.audioService.saveAudioTrack(headers, fileName, body);\r\n    }\r\n\r\n\r\nNow i&#39;m a little bit stuck in my service layer. I want to build my response, store data and post file onto S3. For storing the metadata, mp3agic. \r\n\r\n    public Mono&lt;ResponseEntity&lt;AudioDto&gt;&gt; saveAudioTrack(HttpHeaders headers, String fileName, Flux&lt;ByteBuffer&gt; body) {\r\n        return Mono.from(body.flatMap(byteBuffer -&gt; {\r\n            Mono&lt;MultipartFile&gt; multipartFileMono = AppUtils.byteBufferToMultipartFile(headers, fileName, body);\r\n            return multipartFileMono;\r\n        }).flatMap(multipartFile -&gt; {\r\n            AudioEntity storedEntity = new AudioEntity();\r\n            try {\r\n                AudioDto audioDto = storeAudioMeta(multipartFile, headers);\r\n                AudioEntity audioEntity = new AudioEntity();\r\n                BeanUtils.copyProperties(audioDto, audioEntity);\r\n                storedEntity = audioRepository.save(audioEntity).block();\r\n            } catch (IOException | InvalidDataException | UnsupportedTagException e) {\r\n                e.printStackTrace();\r\n            }\r\n            AudioDto storedAudio = new AudioDto();\r\n            BeanUtils.copyProperties(storedEntity, storedAudio);\r\n            ResponseEntity&lt;AudioDto&gt; responseEntity = ResponseEntity.status(HttpStatus.OK).body(storedAudio);\r\n            return Mono.just(responseEntity);\r\n        }));\r\n    }\r\n\r\nI first try to convert byteBufffer to MultipartFile: \r\n\r\n    public static Mono&lt;MultipartFile&gt; byteBufferToMultipartFile(HttpHeaders headers, String fileName, Flux&lt;ByteBuffer&gt; body) {\r\n        System.out.println(headers);\r\n        return Mono.from(body.flatMap(byteBuffer -&gt; {\r\n            byte[] bytes = byteBuffer.array();\r\n            MultipartFile multipartFile = new MockMultipartFile(fileName, bytes);\r\n            return Mono.just(multipartFile);\r\n        }));\r\n    }\r\n\r\nThen I call a part of code that should allow me to persist meta data is called \r\n\r\n    private AudioDto storeAudioMeta(MultipartFile multipartFile, HttpHeaders headers) throws IOException, InvalidDataException, UnsupportedTagException {\r\n        AudioDto audioDto = new AudioDto();\r\n        if (multipartFile.isEmpty()) {\r\n            throw new IllegalStateException(&quot;Cannot upload empty file&quot;);\r\n        }\r\n        //Check if the file is an image =&gt; we&#39;ll check if it&#39;s a mp3\r\n        if(!multipartFile.getContentType().equals(&quot;audio/mpeg&quot;)) {\r\n            throw new IllegalStateException(&quot;File uploaded is not a mp3&quot;);\r\n        }\r\n        InputStream initialStream = multipartFile.getInputStream();\r\n        byte[] buffer = new byte[initialStream.available()];\r\n        initialStream.read(buffer);\r\n        File targetFile = new File(&quot;src/main/resources/&quot; + multipartFile.getOriginalFilename());\r\n        try (OutputStream outStream = new FileOutputStream(targetFile)) {\r\n            outStream.write(buffer);\r\n        }\r\n\r\n        Mp3File mp3file  = new Mp3File(targetFile.getPath());\r\n        audioDto.setLength((int) mp3file.getLengthInSeconds());\r\n        audioDto.setBitrate(mp3file.getBitrate());\r\n        audioDto.setSampleRate(mp3file.getSampleRate());\r\n        if (mp3file.hasId3v1Tag()) {\r\n            ID3v1 id3v1Tag = mp3file.getId3v1Tag();\r\n            audioDto.setTrack(id3v1Tag.getTrack());\r\n            audioDto.setArtist(id3v1Tag.getArtist());\r\n            audioDto.setTitle(id3v1Tag.getTitle());\r\n            ...\r\n        }\r\n        if (mp3file.hasId3v2Tag()) {\r\n            ID3v2 id3v2Tag = mp3file.getId3v2Tag();\r\n            audioDto.setTrack(id3v2Tag.getTrack());\r\n            ...\r\n            audioDto.setAlbumImage(id3v2Tag.getAlbumImage());\r\n            byte[] albumImageData = id3v2Tag.getAlbumImage();\r\n            if (albumImageData != null) {\r\n                audioDto.setAlbumImageSize(albumImageData.length);\r\n                audioDto.setAlbumImageMimeType(id3v2Tag.getAlbumImageMimeType());\r\n            }\r\n        }\r\n\r\n        //get file metadata\r\n        Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\r\n        metadata.put(&quot;Content-Type&quot;, audioDto.getFile().getContentType());\r\n        metadata.put(&quot;Content-Length&quot;, String.valueOf(audioDto.getFile().getSize()));\r\n        String bucketName = environment.getProperty(&quot;amazon.aws.s3.audioBucket&quot;);\r\n        String path = String.format(&quot;%s/%s&quot;, bucketName, UUID.randomUUID());\r\n        String fileName = String.format(&quot;%s&quot;, audioDto.getFile().getOriginalFilename());\r\n        // try {\r\n        //     fileStore.upload(path, fileName, Optional.of(metadata), \r\n        audioDto.getFile().getInputStream());\r\n        // } catch (IOException e) {\r\n            throw new IllegalStateException(&quot;Failed to upload file&quot;, e);\r\n        //}\r\n        audioDto.setFileName(fileName);\r\n        audioDto.setFilePath(path);\r\n        return audioDto;\r\n    }\r\n\r\n\r\nI have error message returned: \r\n\r\n\r\n    java.lang.IllegalStateException: Only one connection receive subscriber allowed.\r\n    \tat reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:182) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\n    Error has been observed at the following site(s):\r\n    \t*__checkpoint ⇢ Handler com.myapp.api.mediastreaming.ui.controller.AudioController#saveAudioTrack(HttpHeaders, String, Flux) [DispatcherHandler]\r\n    \t*__checkpoint ⇢ HTTP POST &quot;/audio/tracks&quot; [ExceptionHandlingWebHandler]\r\n    Stack trace:\r\n    \t\tat reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:182) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:143) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:339) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:339) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.core.publisher.Mono.subscribe(Mono.java:4399) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:426) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120) ~[reactor-core-3.4.11.jar:3.4.11]\r\n    \t\tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:279) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:388) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:584) ~[reactor-netty-http-1.0.12.jar:1.0.12]\r\n    \t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.12.jar:1.0.12]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:261) ~[reactor-netty-http-1.0.12.jar:1.0.12]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.69.Final.jar:4.1.69.Final]\r\n    \t\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]","title":"Webflux post request: Only one connection receive subscriber allowed","body":"<p>I try to implement a springboot app that allow me to :</p>\n<ul>\n<li>upload mp3 on S3</li>\n<li>extract meta data and store them on mongo DB.</li>\n</ul>\n<p>If i want to extract meta data from a mp3, I have to provide MultipartFile. Unfortunatelly, we can't send Flux.</p>\n<p>In my controller, I do pass 3 parameters:</p>\n<pre><code>@PostMapping\npublic Mono&lt;ResponseEntity&lt;AudioDto&gt;&gt; saveAudioTrack(@RequestHeader HttpHeaders headers,\n                                                     @RequestHeader String fileName,\n                                                     @RequestBody Flux&lt;ByteBuffer&gt; body) {\n    return this.audioService.saveAudioTrack(headers, fileName, body);\n}\n</code></pre>\n<p>Now i'm a little bit stuck in my service layer. I want to build my response, store data and post file onto S3. For storing the metadata, mp3agic.</p>\n<pre><code>public Mono&lt;ResponseEntity&lt;AudioDto&gt;&gt; saveAudioTrack(HttpHeaders headers, String fileName, Flux&lt;ByteBuffer&gt; body) {\n    return Mono.from(body.flatMap(byteBuffer -&gt; {\n        Mono&lt;MultipartFile&gt; multipartFileMono = AppUtils.byteBufferToMultipartFile(headers, fileName, body);\n        return multipartFileMono;\n    }).flatMap(multipartFile -&gt; {\n        AudioEntity storedEntity = new AudioEntity();\n        try {\n            AudioDto audioDto = storeAudioMeta(multipartFile, headers);\n            AudioEntity audioEntity = new AudioEntity();\n            BeanUtils.copyProperties(audioDto, audioEntity);\n            storedEntity = audioRepository.save(audioEntity).block();\n        } catch (IOException | InvalidDataException | UnsupportedTagException e) {\n            e.printStackTrace();\n        }\n        AudioDto storedAudio = new AudioDto();\n        BeanUtils.copyProperties(storedEntity, storedAudio);\n        ResponseEntity&lt;AudioDto&gt; responseEntity = ResponseEntity.status(HttpStatus.OK).body(storedAudio);\n        return Mono.just(responseEntity);\n    }));\n}\n</code></pre>\n<p>I first try to convert byteBufffer to MultipartFile:</p>\n<pre><code>public static Mono&lt;MultipartFile&gt; byteBufferToMultipartFile(HttpHeaders headers, String fileName, Flux&lt;ByteBuffer&gt; body) {\n    System.out.println(headers);\n    return Mono.from(body.flatMap(byteBuffer -&gt; {\n        byte[] bytes = byteBuffer.array();\n        MultipartFile multipartFile = new MockMultipartFile(fileName, bytes);\n        return Mono.just(multipartFile);\n    }));\n}\n</code></pre>\n<p>Then I call a part of code that should allow me to persist meta data is called</p>\n<pre><code>private AudioDto storeAudioMeta(MultipartFile multipartFile, HttpHeaders headers) throws IOException, InvalidDataException, UnsupportedTagException {\n    AudioDto audioDto = new AudioDto();\n    if (multipartFile.isEmpty()) {\n        throw new IllegalStateException(&quot;Cannot upload empty file&quot;);\n    }\n    //Check if the file is an image =&gt; we'll check if it's a mp3\n    if(!multipartFile.getContentType().equals(&quot;audio/mpeg&quot;)) {\n        throw new IllegalStateException(&quot;File uploaded is not a mp3&quot;);\n    }\n    InputStream initialStream = multipartFile.getInputStream();\n    byte[] buffer = new byte[initialStream.available()];\n    initialStream.read(buffer);\n    File targetFile = new File(&quot;src/main/resources/&quot; + multipartFile.getOriginalFilename());\n    try (OutputStream outStream = new FileOutputStream(targetFile)) {\n        outStream.write(buffer);\n    }\n\n    Mp3File mp3file  = new Mp3File(targetFile.getPath());\n    audioDto.setLength((int) mp3file.getLengthInSeconds());\n    audioDto.setBitrate(mp3file.getBitrate());\n    audioDto.setSampleRate(mp3file.getSampleRate());\n    if (mp3file.hasId3v1Tag()) {\n        ID3v1 id3v1Tag = mp3file.getId3v1Tag();\n        audioDto.setTrack(id3v1Tag.getTrack());\n        audioDto.setArtist(id3v1Tag.getArtist());\n        audioDto.setTitle(id3v1Tag.getTitle());\n        ...\n    }\n    if (mp3file.hasId3v2Tag()) {\n        ID3v2 id3v2Tag = mp3file.getId3v2Tag();\n        audioDto.setTrack(id3v2Tag.getTrack());\n        ...\n        audioDto.setAlbumImage(id3v2Tag.getAlbumImage());\n        byte[] albumImageData = id3v2Tag.getAlbumImage();\n        if (albumImageData != null) {\n            audioDto.setAlbumImageSize(albumImageData.length);\n            audioDto.setAlbumImageMimeType(id3v2Tag.getAlbumImageMimeType());\n        }\n    }\n\n    //get file metadata\n    Map&lt;String, String&gt; metadata = new HashMap&lt;&gt;();\n    metadata.put(&quot;Content-Type&quot;, audioDto.getFile().getContentType());\n    metadata.put(&quot;Content-Length&quot;, String.valueOf(audioDto.getFile().getSize()));\n    String bucketName = environment.getProperty(&quot;amazon.aws.s3.audioBucket&quot;);\n    String path = String.format(&quot;%s/%s&quot;, bucketName, UUID.randomUUID());\n    String fileName = String.format(&quot;%s&quot;, audioDto.getFile().getOriginalFilename());\n    // try {\n    //     fileStore.upload(path, fileName, Optional.of(metadata), \n    audioDto.getFile().getInputStream());\n    // } catch (IOException e) {\n        throw new IllegalStateException(&quot;Failed to upload file&quot;, e);\n    //}\n    audioDto.setFileName(fileName);\n    audioDto.setFilePath(path);\n    return audioDto;\n}\n</code></pre>\n<p>I have error message returned:</p>\n<pre><code>java.lang.IllegalStateException: Only one connection receive subscriber allowed.\n    at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:182) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Handler com.myapp.api.mediastreaming.ui.controller.AudioController#saveAudioTrack(HttpHeaders, String, Flux) [DispatcherHandler]\n    *__checkpoint ⇢ HTTP POST &quot;/audio/tracks&quot; [ExceptionHandlingWebHandler]\nStack trace:\n        at reactor.netty.channel.FluxReceive.startReceiver(FluxReceive.java:182) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.netty.channel.FluxReceive.subscribe(FluxReceive.java:143) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:339) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.netty.ByteBufFlux.subscribe(ByteBufFlux.java:339) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4399) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxFlatMap$FlatMapMain.onNext(FluxFlatMap.java:426) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120) ~[reactor-core-3.4.11.jar:3.4.11]\n        at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:279) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:388) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:404) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:584) ~[reactor-netty-http-1.0.12.jar:1.0.12]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:93) ~[reactor-netty-core-1.0.12.jar:1.0.12]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:261) ~[reactor-netty-http-1.0.12.jar:1.0.12]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:324) ~[netty-codec-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:296) ~[netty-codec-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:719) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:655) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:581) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986) ~[netty-common-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.69.Final.jar:4.1.69.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.69.Final.jar:4.1.69.Final]\n        at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["java","xml","hashmap","jaxb","marshalling"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635268329,"creation_date":1635268329,"answer_id":69727325,"question_id":69727089,"body_markdown":"You can not use JAXB to serialize directly a `Map` in to `XML`. You will have to use a `Wrapper Class`, that will serve you as the object tree.\r\nThis [link][1] will help you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7534500/how-to-serialize-hashtablestring-string-to-xml-using-jaxb","title":"JAXB: how to marshall HashMap&lt;String, HashMap&lt;String, String&gt;&gt;?","body":"<p>You can not use JAXB to serialize directly a <code>Map</code> in to <code>XML</code>. You will have to use a <code>Wrapper Class</code>, that will serve you as the object tree.\nThis <a href=\"https://stackoverflow.com/questions/7534500/how-to-serialize-hashtablestring-string-to-xml-using-jaxb\">link</a> will help you.</p>\n"}],"owner":{"account_id":15989311,"reputation":105,"user_id":11915111,"display_name":"Ghosterus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635268329,"creation_date":1635267043,"question_id":69727089,"body_markdown":"I have a complex structure of data, that can describe by HashMap inside HashMap. I need create XML file of structure. Like this:\r\n```\r\n&lt;map&gt;\r\n    &lt;key1&gt;\r\n        &lt;map&gt;\r\n           &lt;key1&gt;someString1&lt;/key1&gt;\r\n           &lt;key2&gt;someString2&lt;/key2&gt;\r\n        &lt;/map&gt;\r\n    &lt;/key1&gt;\r\n    &lt;key2&gt;\r\n        &lt;map&gt;\r\n           &lt;key1&gt;someString1&lt;/key1&gt;\r\n           &lt;key2&gt;someString2&lt;/key2&gt;\r\n        &lt;/map&gt;\r\n    &lt;/key2&gt;\r\n&lt;/map&gt;\r\n```\r\nBut I noticed, JAXB has some problems with it. Is there any way to make XML from maps?","title":"JAXB: how to marshall HashMap&lt;String, HashMap&lt;String, String&gt;&gt;?","body":"<p>I have a complex structure of data, that can describe by HashMap inside HashMap. I need create XML file of structure. Like this:</p>\n<pre><code>&lt;map&gt;\n    &lt;key1&gt;\n        &lt;map&gt;\n           &lt;key1&gt;someString1&lt;/key1&gt;\n           &lt;key2&gt;someString2&lt;/key2&gt;\n        &lt;/map&gt;\n    &lt;/key1&gt;\n    &lt;key2&gt;\n        &lt;map&gt;\n           &lt;key1&gt;someString1&lt;/key1&gt;\n           &lt;key2&gt;someString2&lt;/key2&gt;\n        &lt;/map&gt;\n    &lt;/key2&gt;\n&lt;/map&gt;\n</code></pre>\n<p>But I noticed, JAXB has some problems with it. Is there any way to make XML from maps?</p>\n"},{"tags":["java","android","firebase","android-studio","deprecated"],"answers":[{"tags":[],"owner":{"account_id":15694059,"reputation":697,"user_id":11324158,"display_name":"Zeeshan Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635268151,"creation_date":1635268151,"answer_id":69727284,"question_id":69727070,"body_markdown":"&gt; Task&lt;Uri&gt; uri = taskSnapshot.getStorage().getDownloadUrl();\r\n\r\nThis will not provide you download able link for that purpose you have to use addOnCompleteListener that will provide you `Task&lt;UploadTask.TaskSnapshot&gt; task` through you can get your file link. \r\n\r\n**A running example is here:**\r\n\r\n        public void uploadImageSavePost(Bitmap bitmap) {\r\n            StorageReference ref = FirebaseStorage.getInstance().getReference();\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 20, baos);\r\n            byte[] data = baos.toByteArray();\r\n            Long tsLong = System.currentTimeMillis() / 1000;\r\n            String ts = tsLong.toString();\r\n            final UploadTask uploadTask = ref.child(&quot;images/&quot; + ts + &quot;.jpg&quot;).putBytes(data);\r\n            uploadTask.addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    task.getResult().getMetadata().getReference().getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                        @Override\r\n                        public void onSuccess(Uri uri) {\r\n                            img = uri.toString(); // here it is the link of your file.\r\n                            savePost();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n","title":"android studio getDownloadUrl() resolve","body":"<blockquote>\n<p>Task uri = taskSnapshot.getStorage().getDownloadUrl();</p>\n</blockquote>\n<p>This will not provide you download able link for that purpose you have to use addOnCompleteListener that will provide you <code>Task&lt;UploadTask.TaskSnapshot&gt; task</code> through you can get your file link.</p>\n<p><strong>A running example is here:</strong></p>\n<pre><code>    public void uploadImageSavePost(Bitmap bitmap) {\n        StorageReference ref = FirebaseStorage.getInstance().getReference();\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        bitmap.compress(Bitmap.CompressFormat.JPEG, 20, baos);\n        byte[] data = baos.toByteArray();\n        Long tsLong = System.currentTimeMillis() / 1000;\n        String ts = tsLong.toString();\n        final UploadTask uploadTask = ref.child(&quot;images/&quot; + ts + &quot;.jpg&quot;).putBytes(data);\n        uploadTask.addOnCompleteListener(new OnCompleteListener&lt;UploadTask.TaskSnapshot&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) {\n            if (task.isSuccessful()) {\n                task.getResult().getMetadata().getReference().getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                    @Override\n                    public void onSuccess(Uri uri) {\n                        img = uri.toString(); // here it is the link of your file.\n                        savePost();\n                    }\n                });\n            }\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":16052507,"reputation":11,"user_id":11585931,"display_name":"Ally"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635317286,"answer_count":1,"score":0,"last_activity_date":1635268151,"creation_date":1635266960,"question_id":69727070,"body_markdown":"I know there are several ways to replace getDownloadUrl() but it never works for me.\r\nPlease help me if someone knows good method\r\n\r\nSo I&#39;m trying to upload some postings with photos. Other things show up except for the images that I uploaded. And I think getDownloadUrl() is the problem.\r\n```\r\n public void onClick(View v) {\r\n        if (v.getId() == R.id.addphoto_btn_upload &amp;&amp; photoUrl != null) {\r\n\r\n            Log.d(&quot;AddPhotoActivity&quot;, &quot; upload button clicked&quot;);\r\n\r\n            File myFile = new File(photoUrl);\r\n            Uri contentUri = Uri.fromFile(myFile);\r\n\r\n            StorageReference storageReference = firebaseStorage.getReferenceFromUrl(&quot;gs://mystagram.appspot.com/&quot;).child(&quot;images&quot;).child(contentUri.getLastPathSegment());\r\n\r\n            UploadTask uploadTask = storageReference.putFile(contentUri);\r\n            uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                    Toast.makeText(AddPhotoActivity.this, getString(R.string.upload_success), Toast.LENGTH_SHORT).show();\r\n\r\n\r\n\r\n\r\n                    Task&lt;Uri&gt; uri = taskSnapshot.getStorage().getDownloadUrl();\r\n \r\n\r\n\r\n                  \r\n                    DatabaseReference images = firebaseDatabase.getReference().child(&quot;images&quot;).push();\r\n\r\n                    //Time\r\n                    Date date = new Date();\r\n                    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n                    ContentDTO contentDTO = new ContentDTO();\r\n\r\n\r\n                   \r\n                    contentDTO.imageUrl = uri.toString();\r\n\r\n                    contentDTO.explain = explain_editText.getText().toString();\r\n                    \r\n                    contentDTO.userId = firebaseAuth.getCurrentUser().getEmail();\r\n                    \r\n                    contentDTO.timeStamp = Long.valueOf(simpleDateFormat.format(date));\r\n\r\n                    images.setValue(contentDTO);\r\n                    AddPhotoActivity.this.finish();\r\n\r\n                }\r\n            });\r\n```\r\n\r\n\r\nHow can I change this?","title":"android studio getDownloadUrl() resolve","body":"<p>I know there are several ways to replace getDownloadUrl() but it never works for me.\nPlease help me if someone knows good method</p>\n<p>So I'm trying to upload some postings with photos. Other things show up except for the images that I uploaded. And I think getDownloadUrl() is the problem.</p>\n<pre><code> public void onClick(View v) {\n        if (v.getId() == R.id.addphoto_btn_upload &amp;&amp; photoUrl != null) {\n\n            Log.d(&quot;AddPhotoActivity&quot;, &quot; upload button clicked&quot;);\n\n            File myFile = new File(photoUrl);\n            Uri contentUri = Uri.fromFile(myFile);\n\n            StorageReference storageReference = firebaseStorage.getReferenceFromUrl(&quot;gs://mystagram.appspot.com/&quot;).child(&quot;images&quot;).child(contentUri.getLastPathSegment());\n\n            UploadTask uploadTask = storageReference.putFile(contentUri);\n            uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                @Override\n                public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                    Toast.makeText(AddPhotoActivity.this, getString(R.string.upload_success), Toast.LENGTH_SHORT).show();\n\n\n\n\n                    Task&lt;Uri&gt; uri = taskSnapshot.getStorage().getDownloadUrl();\n \n\n\n                  \n                    DatabaseReference images = firebaseDatabase.getReference().child(&quot;images&quot;).push();\n\n                    //Time\n                    Date date = new Date();\n                    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n                    ContentDTO contentDTO = new ContentDTO();\n\n\n                   \n                    contentDTO.imageUrl = uri.toString();\n\n                    contentDTO.explain = explain_editText.getText().toString();\n                    \n                    contentDTO.userId = firebaseAuth.getCurrentUser().getEmail();\n                    \n                    contentDTO.timeStamp = Long.valueOf(simpleDateFormat.format(date));\n\n                    images.setValue(contentDTO);\n                    AddPhotoActivity.this.finish();\n\n                }\n            });\n</code></pre>\n<p>How can I change this?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":9862817,"reputation":5309,"user_id":7305183,"display_name":"Murthi"},"score":0,"creation_date":1566283108,"post_id":57567812,"comment_id":101596603,"body_markdown":"looks like chrome driver is not compatible, please use the correct driver for the browser version.","body":"looks like chrome driver is not compatible, please use the correct driver for the browser version."},{"owner":{"account_id":14415971,"reputation":2574,"user_id":10413416,"display_name":"Infern0"},"score":1,"creation_date":1566283205,"post_id":57567812,"comment_id":101596639,"body_markdown":"the error says it &quot;This version of ChromeDriver only supports Chrome version 77&quot;","body":"the error says it &quot;This version of ChromeDriver only supports Chrome version 77&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583013338,"creation_date":1566289311,"answer_id":57569478,"question_id":57567812,"body_markdown":"This error message...\r\n\r\n\tStarting ChromeDriver 77.0.3865.10 (bc3579f611bbc73331171afe020ec7a45e6ccc55-refs/branch-heads/3865@{#93}) on port 32932 \r\n\tOnly local connections are allowed. \r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code. \r\n\tException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77 \r\n\tBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11- 14T08:25:48&#39; \r\n\tSystem info: host: &#39;LAPTOP-P9CFNEOV&#39;, ip: &#39;172.20.10.12&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_222&#39; \r\n\tDriver info: driver.version: ChromeDriver\r\n\r\n...implies that the _ChromeDriver_ was unable to initiate/spawn a new _WebBrowser_ i.e. _Chrome Browser_ session.\r\n\r\n\r\n----------\r\n\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as follows:\r\n\r\n- You are using _chromedriver=77.0_ \r\n- Release Notes of [_chromedriver=77.0_](https://chromedriver.storage.googleapis.com/77.0.3865.10/notes.txt) clearly mentions the following :\r\n\r\n&gt;Supports **Chrome version 77**\r\n\r\n- You are using _chrome= 76.0_\r\n- Release Notes of [_ChromeDriver v76.0_](https://chromedriver.storage.googleapis.com/76.0.3809.12/notes.txt) clearly mentions the following :\r\n\r\n&gt;Supports **Chrome version 76**\r\n\r\nSo there is a clear mismatch between the _ChromeDriver v77.0_ and the _Chrome Browser v76.0_\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _ChromeDriver_ is updated to  current [ChromeDriver v76.0](https://chromedriver.storage.googleapis.com/index.html?path=76.0.3809.68/) level.\r\n- _Chrome_ is updated to  current _Chrome Version 76.0_ level. (as per [ChromeDriver v76.0 release notes](https://chromedriver.storage.googleapis.com/76.0.3809.68/notes.txt))\r\n- _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n- If your base _Web Client_ version is too old, then uninstall it through [_Revo Uninstaller_](https://www.revouninstaller.com/revo_uninstaller_free_download.html) and install a recent GA and released version of _Web Client_.\r\n- Take a _System Reboot_.\r\n- Execute your `@Test` as **non-root** user.\r\n\r\n\r\n----------\r\n\r\n\r\nReference\r\n---------\r\nYou can find a relevant detailed discussion in:\r\n\r\n- [How to work with a specific version of ChromeDriver while Chrome Browser gets updated automatically through Python selenium](https://stackoverflow.com/questions/50692358/how-to-work-with-a-specific-version-of-chromedriver-while-chrome-browser-gets-up/50697221#50697221)","title":"SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77 using Selenium ChromeDriver","body":"<p>This error message...</p>\n\n<pre><code>Starting ChromeDriver 77.0.3865.10 (bc3579f611bbc73331171afe020ec7a45e6ccc55-refs/branch-heads/3865@{#93}) on port 32932 \nOnly local connections are allowed. \nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code. \nException in thread \"main\" org.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77 \nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11- 14T08:25:48' \nSystem info: host: 'LAPTOP-P9CFNEOV', ip: '172.20.10.12', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_222' \nDriver info: driver.version: ChromeDriver\n</code></pre>\n\n<p>...implies that the <em>ChromeDriver</em> was unable to initiate/spawn a new <em>WebBrowser</em> i.e. <em>Chrome Browser</em> session.</p>\n\n<hr>\n\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n\n<ul>\n<li>You are using <em>chromedriver=77.0</em> </li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/77.0.3865.10/notes.txt\" rel=\"nofollow noreferrer\"><em>chromedriver=77.0</em></a> clearly mentions the following :</li>\n</ul>\n\n<blockquote>\n  <p>Supports <strong>Chrome version 77</strong></p>\n</blockquote>\n\n<ul>\n<li>You are using <em>chrome= 76.0</em></li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/76.0.3809.12/notes.txt\" rel=\"nofollow noreferrer\"><em>ChromeDriver v76.0</em></a> clearly mentions the following :</li>\n</ul>\n\n<blockquote>\n  <p>Supports <strong>Chrome version 76</strong></p>\n</blockquote>\n\n<p>So there is a clear mismatch between the <em>ChromeDriver v77.0</em> and the <em>Chrome Browser v76.0</em></p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Ensure that:</p>\n\n<ul>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=76.0.3809.68/\" rel=\"nofollow noreferrer\">ChromeDriver v76.0</a> level.</li>\n<li><em>Chrome</em> is updated to  current <em>Chrome Version 76.0</em> level. (as per <a href=\"https://chromedriver.storage.googleapis.com/76.0.3809.68/notes.txt\" rel=\"nofollow noreferrer\">ChromeDriver v76.0 release notes</a>)</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it through <a href=\"https://www.revouninstaller.com/revo_uninstaller_free_download.html\" rel=\"nofollow noreferrer\"><em>Revo Uninstaller</em></a> and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code> as <strong>non-root</strong> user.</li>\n</ul>\n\n<hr>\n\n<h2>Reference</h2>\n\n<p>You can find a relevant detailed discussion in:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50692358/how-to-work-with-a-specific-version-of-chromedriver-while-chrome-browser-gets-up/50697221#50697221\">How to work with a specific version of ChromeDriver while Chrome Browser gets updated automatically through Python selenium</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11963929,"reputation":82,"user_id":8754234,"display_name":"Jatush Lashkari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566306223,"creation_date":1566306223,"answer_id":57574348,"question_id":57567812,"body_markdown":"You should be download and replace this driver to your chrome driver &lt;a href=&quot;https://chromedriver.storage.googleapis.com/index.html?path=76.0.3809.68/&quot;&gt;Chrome Driver&lt;/a&gt; ","title":"SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77 using Selenium ChromeDriver","body":"<p>You should be download and replace this driver to your chrome driver <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=76.0.3809.68/\" rel=\"nofollow noreferrer\">Chrome Driver</a> </p>\n"},{"tags":[],"owner":{"account_id":16529185,"reputation":1054,"user_id":11942970,"display_name":"Hamza Lachi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566306728,"creation_date":1566306728,"answer_id":57574510,"question_id":57567812,"body_markdown":"You need To Download Chrome Driver To this version here is your version link You can click And download: https://chromedriver.storage.googleapis.com/index.html?path=77.0.3865.10/","title":"SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77 using Selenium ChromeDriver","body":"<p>You need To Download Chrome Driver To this version here is your version link You can click And download: <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=77.0.3865.10/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=77.0.3865.10/</a></p>\n"},{"tags":[],"owner":{"account_id":8693451,"reputation":156,"user_id":6505685,"display_name":"Soni K"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1566835422,"creation_date":1566835422,"answer_id":57661335,"question_id":57567812,"body_markdown":"Yes, you need to download the matching driver version of your Chrome Web Browser version, and make sure JRE version is [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JlDc8.png","title":"SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77 using Selenium ChromeDriver","body":"<p>Yes, you need to download the matching driver version of your Chrome Web Browser version, and make sure JRE version is <a href=\"https://i.stack.imgur.com/JlDc8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JlDc8.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13883650,"reputation":23,"user_id":10023375,"display_name":"Erik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635267438,"creation_date":1635267438,"answer_id":69727167,"question_id":57567812,"body_markdown":"Try this, it worked for me. On Mac/Unix based systems.\r\n\r\n 1. Check your local Chrome version. Then go to:\r\n    https://chromedriver.storage.googleapis.com/index.html Download the\r\n    matching major release (minor build version doesn&#39;t appear to\r\n    matter) - e.g. 95.local to 95.driver)\r\n    \r\n 2. Extract and click the driver. Apple security won&#39;t allow for it to\r\n        be opened. Go to Security, General and Allow.\r\n\r\n 3. Replace the chromedriver in automation repo/drivers/mac with the new\r\n        driver.\r\n    \r\n 4. Replace the chromedriver in /usr/local/bin (or other system paths &gt;\r\n        can be checked via sudo nano /etc/paths)\r\n\r\n 5. Ensure you have the matching driver via Terminal &gt; chromedriver\r\n        --version\r\n\r\nNow run your test, should work! Came around this thread, but it was trial and error ftw! :)","title":"SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77 using Selenium ChromeDriver","body":"<p>Try this, it worked for me. On Mac/Unix based systems.</p>\n<ol>\n<li><p>Check your local Chrome version. Then go to:\n<a href=\"https://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html</a> Download the\nmatching major release (minor build version doesn't appear to\nmatter) - e.g. 95.local to 95.driver)</p>\n</li>\n<li><p>Extract and click the driver. Apple security won't allow for it to\nbe opened. Go to Security, General and Allow.</p>\n</li>\n<li><p>Replace the chromedriver in automation repo/drivers/mac with the new\ndriver.</p>\n</li>\n<li><p>Replace the chromedriver in /usr/local/bin (or other system paths &gt;\ncan be checked via sudo nano /etc/paths)</p>\n</li>\n<li><p>Ensure you have the matching driver via Terminal &gt; chromedriver\n--version</p>\n</li>\n</ol>\n<p>Now run your test, should work! Came around this thread, but it was trial and error ftw! :)</p>\n"}],"owner":{"account_id":16538580,"reputation":51,"user_id":11949862,"display_name":"YSam Kabir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30790,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":5,"score":4,"last_activity_date":1635267438,"creation_date":1566282601,"question_id":57567812,"body_markdown":"I am using \r\nChromeDriver 77.0.3865.10\r\n\r\nGoogle Chrome Version 76.0.3809.100 (Official Build) (64-bit)\r\n\r\n    C:\\WINDOWS\\system32&gt;java -version\r\n    openjdk version &quot;1.8.0_222&quot;\r\n    OpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_222-b10)\r\n    OpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.222-b10, mixed mode)\r\n\r\nEclipse IDE for Java Developers Version: `2019-06 (4.12.0)`\r\n\r\n&gt;Windows 10\r\n\r\n\r\nI am tried reinstalling my windows to have a fresh OS, but it still didn&#39;t help the situation.\r\n\r\nCode trials:\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\n    public class One {\r\n\r\n    \tpublic static void main(String[] args) {\r\n\r\n\t\t    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Work\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t\t    WebDriver Driver=new ChromeDriver();\r\n\t\t\tDriver.get(&quot;http://www.yahoo.com&quot;);\r\n\t\t}\r\n    }\r\n\r\nError:\r\n\r\n    Starting ChromeDriver 77.0.3865.10 (bc3579f611bbc73331171afe020ec7a45e6ccc55-refs/branch-heads/3865@{#93}) on port 32932\r\n    Only local connections are allowed.\r\n\tPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\tException in thread &quot;main&quot; \r\n\torg.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77\r\n\tBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:48&#39;\r\n\tSystem info: host: &#39;LAPTOP-P9CFNEOV&#39;, ip: &#39;172.20.10.12&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_222&#39;\r\n    Driver info: driver.version: ChromeDriver\r\n    remote stacktrace: Backtrace:\r\n\tOrdinal0 [0x0046EBD3+1502163]\r\n\tOrdinal0 [0x003EF781+980865]\r\n\tOrdinal0 [0x0037763F+489023]\r\n\tOrdinal0 [0x0030F2F4+62196]\r\n\tOrdinal0 [0x0030BCDA+48346]\r\n\tOrdinal0 [0x003297E0+169952]\r\n\tOrdinal0 [0x0032940D+168973]\r\n\tOrdinal0 [0x003278EB+162027]\r\n\tOrdinal0 [0x00310AC7+68295]\r\n\tOrdinal0 [0x00311B40+72512]\r\n\tOrdinal0 [0x00311AD9+72409]\r\n\tOrdinal0 [0x00408FE7+1085415]\r\n\tGetHandleVerifier [0x0050D8AD+503293]\r\n\tGetHandleVerifier [0x0050D640+502672]\r\n\tGetHandleVerifier [0x0051471C+531564]\r\n\tGetHandleVerifier [0x0050E0BA+505354]\r\n\tOrdinal0 [0x004006B6+1050294]\r\n\tOrdinal0 [0x0040052F+1049903]\r\n\tOrdinal0 [0x0040B04B+1093707]\r\n\tOrdinal0 [0x0040B1B3+1094067]\r\n\tOrdinal0 [0x0040A145+1089861]\r\n\tBaseThreadInitThunk [0x75988494+36]\r\n\tRtlAreBitsSet [0x775641C8+136]\r\n\tRtlAreBitsSet [0x77564198+88]\r\n\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\r\n\tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:531)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n\tat One.main(One.java:10)","title":"SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77 using Selenium ChromeDriver","body":"<p>I am using \nChromeDriver 77.0.3865.10</p>\n\n<p>Google Chrome Version 76.0.3809.100 (Official Build) (64-bit)</p>\n\n<pre><code>C:\\WINDOWS\\system32&gt;java -version\nopenjdk version \"1.8.0_222\"\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_222-b10)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.222-b10, mixed mode)\n</code></pre>\n\n<p>Eclipse IDE for Java Developers Version: <code>2019-06 (4.12.0)</code></p>\n\n<blockquote>\n  <p>Windows 10</p>\n</blockquote>\n\n<p>I am tried reinstalling my windows to have a fresh OS, but it still didn't help the situation.</p>\n\n<p>Code trials:</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class One {\n\n    public static void main(String[] args) {\n\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Work\\\\chromedriver_win32\\\\chromedriver.exe\");\n        WebDriver Driver=new ChromeDriver();\n        Driver.get(\"http://www.yahoo.com\");\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Starting ChromeDriver 77.0.3865.10 (bc3579f611bbc73331171afe020ec7a45e6ccc55-refs/branch-heads/3865@{#93}) on port 32932\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\nException in thread \"main\" \norg.openqa.selenium.SessionNotCreatedException: session not created: This version of ChromeDriver only supports Chrome version 77\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:48'\nSystem info: host: 'LAPTOP-P9CFNEOV', ip: '172.20.10.12', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_222'\nDriver info: driver.version: ChromeDriver\nremote stacktrace: Backtrace:\nOrdinal0 [0x0046EBD3+1502163]\nOrdinal0 [0x003EF781+980865]\nOrdinal0 [0x0037763F+489023]\nOrdinal0 [0x0030F2F4+62196]\nOrdinal0 [0x0030BCDA+48346]\nOrdinal0 [0x003297E0+169952]\nOrdinal0 [0x0032940D+168973]\nOrdinal0 [0x003278EB+162027]\nOrdinal0 [0x00310AC7+68295]\nOrdinal0 [0x00311B40+72512]\nOrdinal0 [0x00311AD9+72409]\nOrdinal0 [0x00408FE7+1085415]\nGetHandleVerifier [0x0050D8AD+503293]\nGetHandleVerifier [0x0050D640+502672]\nGetHandleVerifier [0x0051471C+531564]\nGetHandleVerifier [0x0050E0BA+505354]\nOrdinal0 [0x004006B6+1050294]\nOrdinal0 [0x0040052F+1049903]\nOrdinal0 [0x0040B04B+1093707]\nOrdinal0 [0x0040B1B3+1094067]\nOrdinal0 [0x0040A145+1089861]\nBaseThreadInitThunk [0x75988494+36]\nRtlAreBitsSet [0x775641C8+136]\nRtlAreBitsSet [0x77564198+88]\n\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\nat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\nat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\nat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\nat java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\nat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\nat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\nat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:531)\nat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\nat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\nat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\nat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\nat One.main(One.java:10)\n</code></pre>\n"},{"tags":["java","datetime","datetime-format","java-time"],"answers":[{"tags":[],"owner":{"account_id":20205621,"reputation":619,"user_id":14820140,"display_name":"Starbucks Admin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634901233,"creation_date":1634901233,"answer_id":69675887,"question_id":69675743,"body_markdown":"    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd MMM yyyy HH:mm:ss a&quot;);  \r\n    System.out.println(  ldt.format(dateTimeFormatter));","title":"How to convert a LocalDateTime date to a particular format?","body":"<pre><code>DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd MMM yyyy HH:mm:ss a&quot;);  \nSystem.out.println(  ldt.format(dateTimeFormatter));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635267286,"creation_date":1635267286,"answer_id":69727142,"question_id":69675743,"body_markdown":"## Use a built-in localized format\r\n\r\nCan you live with commas in the output?\r\n\r\n\t\tDateTimeFormatter dateTimeFormatter\r\n\t\t\t\t= DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM)\r\n\t\t\t\t\t\t.withLocale(Locale.US);  \r\n\t\tSystem.out.println(ldt.format(dateTimeFormatter));\r\n\r\nOutput:\r\n\r\n&gt; Oct 21, 2021, 11:32:38 AM\r\n\r\nThe immediate advantage is that we don’t need to fiddle with any format pattern string, which is always an error-prone task. Two further advantages are: 1. users likely will be happier with the built-in format since this is constructed to fit the expectations of the people in the locale (USA in the example); 2. the code trivially lends itself well to localization: just specify a different locale to make people of a different culture happy.","title":"How to convert a LocalDateTime date to a particular format?","body":"<h2>Use a built-in localized format</h2>\n<p>Can you live with commas in the output?</p>\n<pre><code>    DateTimeFormatter dateTimeFormatter\n            = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.MEDIUM)\n                    .withLocale(Locale.US);  \n    System.out.println(ldt.format(dateTimeFormatter));\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>Oct 21, 2021, 11:32:38 AM</p>\n</blockquote>\n<p>The immediate advantage is that we don’t need to fiddle with any format pattern string, which is always an error-prone task. Two further advantages are: 1. users likely will be happier with the built-in format since this is constructed to fit the expectations of the people in the locale (USA in the example); 2. the code trivially lends itself well to localization: just specify a different locale to make people of a different culture happy.</p>\n"}],"owner":{"account_id":20205621,"reputation":619,"user_id":14820140,"display_name":"Starbucks Admin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69727142,"answer_count":2,"score":-1,"last_activity_date":1635267388,"creation_date":1634900577,"question_id":69675743,"body_markdown":"Hi I am having small Java code snippet. I am using Java 8. I have a Java `LocalDateTime` object and I want to format it. Please see my code below.\r\n\r\n    String dateUTC = &quot;2021-10-21T10:32:38Z&quot;;\r\n\tInstant i =  Instant.parse(dateUTC);\r\n    LocalDateTime ldt = i.atZone(ZoneId.of(&quot;Europe/London&quot;)).toLocalDateTime();\r\n\r\nI want to print the `LocalDateTime` object `ldt` as string in the following format:\r\n\r\n     Oct 21 2021 11:32:38 AM\r\n\r\nHow can I achieve that?","title":"How to convert a LocalDateTime date to a particular format?","body":"<p>Hi I am having small Java code snippet. I am using Java 8. I have a Java <code>LocalDateTime</code> object and I want to format it. Please see my code below.</p>\n<pre><code>String dateUTC = &quot;2021-10-21T10:32:38Z&quot;;\nInstant i =  Instant.parse(dateUTC);\nLocalDateTime ldt = i.atZone(ZoneId.of(&quot;Europe/London&quot;)).toLocalDateTime();\n</code></pre>\n<p>I want to print the <code>LocalDateTime</code> object <code>ldt</code> as string in the following format:</p>\n<pre><code> Oct 21 2021 11:32:38 AM\n</code></pre>\n<p>How can I achieve that?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5018541,"reputation":12092,"user_id":4032703,"accept_rate":100,"display_name":"EJoshuaS - Stand with Ukraine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635218321,"creation_date":1635218321,"answer_id":69717102,"question_id":69717026,"body_markdown":"Convert the number to a string:\r\n\r\n    String s = Integer.toString(num);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\t\t    System.out.println(s.charAt(i));\r\n\t\t}","title":"Loop that writes a number vertically","body":"<p>Convert the number to a string:</p>\n<pre><code>String s = Integer.toString(num);\n    \n    for (int i = 0; i &lt; s.length(); i++) {\n        System.out.println(s.charAt(i));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635267085,"creation_date":1635219193,"answer_id":69717177,"question_id":69717026,"body_markdown":"You can do it recursively.  Keep calling the method until a single digit is reached.  Then, return, unwinding the stack and printing the last digit.\r\n```\r\nverticalLoop(num);\r\n\r\npublic static void  verticalLoop(int num) {\r\n   if (num &gt; 9) {\r\n        verticalLoop(num/10);\r\n   }\r\n   System.out.println(num%10);\r\n}\r\n```\r\nHere are two other solutions which one might consider less advanced.\r\n\r\nStore the digits in an array and print them in reverse order\r\n- allocate an array of 10 (max digits for an int)\r\n- iterate saving the digits as before, placing them in the array\r\n- then using the one less than the value of `i`, iterate thru the array printing the digits.\r\n```\r\npublic static void verticalLoop(int num) {\r\n\t// max digits for an int\r\n\tint[] digits = new int[10]; \r\n\tint i = 0;\r\n\twhile (num &gt; 0) {\r\n\t\tdigits[i++] = num%10;\r\n\t\tnum/=10;\r\n\t}\r\n\tfor (int k = i-1; k &gt;=0 ; k--) {\r\n\t\tSystem.out.println(digits[k]);\r\n\t}\r\n}\r\n```\r\nThis requires a little math. A logarithm is just an exponent. So raising `10` to the `log10(n)` simply gives you `n`. But the `int` of `log10(n)` gives you the number of digits less 1 in `n`.  So `(int)Math.log10(n)` gives you the `largest` power of `10` that won&#39;t yield `0` upon division. \r\n- divide by the largest power of 10\r\n- print the digit using `%`\r\n- adjust the power to the next lower one by dividing by 10.\r\n- continue until the divisor reaches 0.\r\n```\r\npublic static void verticalLoop(int num) {\r\n\tint maxPower10 = (int)Math.pow(10,(int)Math.log10(num));\r\n\twhile (maxPower10 &gt; 0) {\r\n\t\tSystem.out.println((num/maxPower10) % 10);\r\n\t\tmaxPower10/=10;\r\n\t}\r\n}","title":"Loop that writes a number vertically","body":"<p>You can do it recursively.  Keep calling the method until a single digit is reached.  Then, return, unwinding the stack and printing the last digit.</p>\n<pre><code>verticalLoop(num);\n\npublic static void  verticalLoop(int num) {\n   if (num &gt; 9) {\n        verticalLoop(num/10);\n   }\n   System.out.println(num%10);\n}\n</code></pre>\n<p>Here are two other solutions which one might consider less advanced.</p>\n<p>Store the digits in an array and print them in reverse order</p>\n<ul>\n<li>allocate an array of 10 (max digits for an int)</li>\n<li>iterate saving the digits as before, placing them in the array</li>\n<li>then using the one less than the value of <code>i</code>, iterate thru the array printing the digits.</li>\n</ul>\n<pre><code>public static void verticalLoop(int num) {\n    // max digits for an int\n    int[] digits = new int[10]; \n    int i = 0;\n    while (num &gt; 0) {\n        digits[i++] = num%10;\n        num/=10;\n    }\n    for (int k = i-1; k &gt;=0 ; k--) {\n        System.out.println(digits[k]);\n    }\n}\n</code></pre>\n<p>This requires a little math. A logarithm is just an exponent. So raising <code>10</code> to the <code>log10(n)</code> simply gives you <code>n</code>. But the <code>int</code> of <code>log10(n)</code> gives you the number of digits less 1 in <code>n</code>.  So <code>(int)Math.log10(n)</code> gives you the <code>largest</code> power of <code>10</code> that won't yield <code>0</code> upon division.</p>\n<ul>\n<li>divide by the largest power of 10</li>\n<li>print the digit using <code>%</code></li>\n<li>adjust the power to the next lower one by dividing by 10.</li>\n<li>continue until the divisor reaches 0.</li>\n</ul>\n<pre><code>public static void verticalLoop(int num) {\n    int maxPower10 = (int)Math.pow(10,(int)Math.log10(num));\n    while (maxPower10 &gt; 0) {\n        System.out.println((num/maxPower10) % 10);\n        maxPower10/=10;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23144206,"reputation":1,"user_id":17247183,"display_name":"Tyler Worley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635267085,"creation_date":1635217566,"question_id":69717026,"body_markdown":"I&#39;m trying to take the number 1234 and write it as:\r\n1\r\n2\r\n3\r\n4\r\nMy code has it displayed as:\r\n4\r\n3\r\n2\r\n1\r\nHere is my code:\r\n```\r\n\r\n\r\n   public static void verticalLoop(int num )\r\n    {\r\n      while(num != 0)\r\n      {\r\n         System.out.println(num % 10);\r\n         num = num / 10;\r\n      }\r\n}\r\n```","title":"Loop that writes a number vertically","body":"<p>I'm trying to take the number 1234 and write it as:\n1\n2\n3\n4\nMy code has it displayed as:\n4\n3\n2\n1\nHere is my code:</p>\n<pre><code>\n\n   public static void verticalLoop(int num )\n    {\n      while(num != 0)\n      {\n         System.out.println(num % 10);\n         num = num / 10;\n      }\n}\n</code></pre>\n"},{"tags":["java","sql","postgresql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633617222,"post_id":69482854,"comment_id":122812429,"body_markdown":"The proper solution would be to use a date field in your database, instead of storing it as a string. Then you can retrieve it as a `java.time.LocalDate` (or `java.sql.Date`, though that should only be used for legacy purposes). Then when you display it, you can use an appropriate format.","body":"The proper solution would be to use a date field in your database, instead of storing it as a string. Then you can retrieve it as a <code>java.time.LocalDate</code> (or <code>java.sql.Date</code>, though that should only be used for legacy purposes). Then when you display it, you can use an appropriate format."},{"owner":{"account_id":22938176,"reputation":63,"user_id":17071331,"display_name":"Lu&#237;s Felipe Ambrozin"},"score":0,"creation_date":1633623948,"post_id":69482854,"comment_id":122815386,"body_markdown":"Actually, i&#39;m using a date field in my database, also, i&#39;m trying to save and show day of birth.","body":"Actually, i&#39;m using a date field in my database, also, i&#39;m trying to save and show day of birth."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1633623997,"post_id":69482854,"comment_id":122815407,"body_markdown":"Then use `getObject(..., LocalDate.class)` instead of `getString(...)` and use an appropriate formatter to obtain the string value.","body":"Then use <code>getObject(..., LocalDate.class)</code> instead of <code>getString(...)</code> and use an appropriate formatter to obtain the string value."},{"owner":{"account_id":22938176,"reputation":63,"user_id":17071331,"display_name":"Lu&#237;s Felipe Ambrozin"},"score":0,"creation_date":1633624538,"post_id":69482854,"comment_id":122815639,"body_markdown":"Like that?\n\n`jTextFieldDATA.setText(rs.getObject(&quot;cad_data&quot;), LocalDate.class);`","body":"Like that?  <code>jTextFieldDATA.setText(rs.getObject(&quot;cad_data&quot;), LocalDate.class);</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1633624789,"post_id":69482854,"comment_id":122815750,"body_markdown":"That won&#39;t compile, because a `java.time.LocalDate` is not a String. You would first need to convert it to a string using a [formatter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) with your preferred format.","body":"That won&#39;t compile, because a <code>java.time.LocalDate</code> is not a String. You would first need to convert it to a string using a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">formatter</a> with your preferred format."},{"owner":{"account_id":22938176,"reputation":63,"user_id":17071331,"display_name":"Lu&#237;s Felipe Ambrozin"},"score":0,"creation_date":1633626489,"post_id":69482854,"comment_id":122816410,"body_markdown":"I did this:\n\n`Date data = rs.getDate(&quot;cad_data&quot;);\n                \n                String Date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).format(new Date());\n                jTextFieldDATA.setText(Date);`\n\nBut now, i&#39;m getting the system date, I need to get the date on the postgresql","body":"I did this:  <code>Date data = rs.getDate(&quot;cad_data&quot;);                                  String Date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).format(new Date());                 jTextFieldDATA.setText(Date);</code>  But now, i&#39;m getting the system date, I need to get the date on the postgresql"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1633628421,"post_id":69482854,"comment_id":122817055,"body_markdown":"That is because you&#39;re using `format(new Date())` instead of `format(data)`. But really, I recommend you switch to using the more modern `java.time.LocalDate` instead of `java.sql.Date` (use `rs.getObject(&quot;cad_data&quot;, LocalDate.class)`).","body":"That is because you&#39;re using <code>format(new Date())</code> instead of <code>format(data)</code>. But really, I recommend you switch to using the more modern <code>java.time.LocalDate</code> instead of <code>java.sql.Date</code> (use <code>rs.getObject(&quot;cad_data&quot;, LocalDate.class)</code>)."}],"answers":[{"tags":[],"owner":{"account_id":22938176,"reputation":63,"user_id":17071331,"display_name":"Lu&#237;s Felipe Ambrozin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635266706,"creation_date":1635266236,"answer_id":69726927,"question_id":69482854,"body_markdown":"Need to convert to date, so, first you need to receive date on the format the database is saved, them, convert to the format you want, in my case dd/MM/yyyy\r\n\r\nHere is the solution I&#39;m using for this problem:\r\n\r\n                    if(rs.next()){\r\n\r\n                    jFormattedTextFieldCPF.setText(rs.getString(&quot;cad_cpf&quot;));\r\n                    jTextFieldNOME.setText(rs.getString(&quot;cad_nome&quot;));\r\n                    jTextFieldIDADE.setText(rs.getString(&quot;cad_idade&quot;));\r\n                    jTextFieldAPELIDO.setText(rs.getString(&quot;cad_apelido&quot;));\r\n\r\n                    String Date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).format(rs.getDate(&quot;cad_data&quot;));\r\n                    jFormattedTextFieldDATA.setText(Date);\r\n\r\n                    jFormattedTextFieldPROCURAR.setText(&quot;&quot;); //deixa o campo vazio\r\n                    jFormattedTextFieldCPF.setEnabled(false);\r\n                    jTextFieldNOME.setEnabled(true);\r\n                    jTextFieldIDADE.setEnabled(true);\r\n                    jFormattedTextFieldDATA.setEnabled(true);\r\n                    jTextFieldAPELIDO.setEnabled(true);\r\n                    jButtonExcluir.setEnabled(true);\r\n                    jButtonALTERAR.setEnabled(true);\r\n                    jButtonSalvar.setEnabled(false);\r\n                    jButtonINSERIR.setEnabled(false);","title":"How to show dates in a jFormattedTextField using postgresql","body":"<p>Need to convert to date, so, first you need to receive date on the format the database is saved, them, convert to the format you want, in my case dd/MM/yyyy</p>\n<p>Here is the solution I'm using for this problem:</p>\n<pre><code>                if(rs.next()){\n\n                jFormattedTextFieldCPF.setText(rs.getString(&quot;cad_cpf&quot;));\n                jTextFieldNOME.setText(rs.getString(&quot;cad_nome&quot;));\n                jTextFieldIDADE.setText(rs.getString(&quot;cad_idade&quot;));\n                jTextFieldAPELIDO.setText(rs.getString(&quot;cad_apelido&quot;));\n\n                String Date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).format(rs.getDate(&quot;cad_data&quot;));\n                jFormattedTextFieldDATA.setText(Date);\n\n                jFormattedTextFieldPROCURAR.setText(&quot;&quot;); //deixa o campo vazio\n                jFormattedTextFieldCPF.setEnabled(false);\n                jTextFieldNOME.setEnabled(true);\n                jTextFieldIDADE.setEnabled(true);\n                jFormattedTextFieldDATA.setEnabled(true);\n                jTextFieldAPELIDO.setEnabled(true);\n                jButtonExcluir.setEnabled(true);\n                jButtonALTERAR.setEnabled(true);\n                jButtonSalvar.setEnabled(false);\n                jButtonINSERIR.setEnabled(false);\n</code></pre>\n"}],"owner":{"account_id":22938176,"reputation":63,"user_id":17071331,"display_name":"Lu&#237;s Felipe Ambrozin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69726927,"answer_count":1,"score":1,"last_activity_date":1635266706,"creation_date":1633616519,"question_id":69482854,"body_markdown":"I want to show dates in a JformattedTextField, using the partern day/month/year, however, I only can show &quot;yyyy-mm-dd&quot; because this is how the postgresql send to java, How can I transform to the partern I want to use?\r\n\r\nThe JformattedTextField has this format &quot;##/##/####&quot;\r\n\r\nNormally, the database show &quot;yyyy-mm-dd&quot; in the textfield without a mask, that means, the database is sending me a data, but i need to use a mask showing me dd/MM/yyyy and if the mask is on, i get nothing on the jFormattedTextField\r\n\r\nI already saw the orther topic about it, but, i could not resolve my problem\r\n\r\n\r\n                if(rs.next()){\r\n                \r\n                jFormattedTextFieldCPF.setText(rs.getString(&quot;cad_cpf&quot;));\r\n                jTextFieldNOME.setText(rs.getString(&quot;cad_nome&quot;));\r\n                jTextFieldIDADE.setText(rs.getString(&quot;cad_idade&quot;));\r\n                jTextFieldAPELIDO.setText(rs.getString(&quot;cad_apelido&quot;));\r\n                jTextFieldDATA.setText(rs.getString(&quot;cad_data&quot;));\r\n               \r\n\r\n            jFormattedTextFieldPROCURAR.setText(&quot;&quot;); //deixa o campo vazio\r\n            jFormattedTextFieldCPF.setEnabled(false);\r\n            jTextFieldNOME.setEnabled(true);\r\n            jTextFieldIDADE.setEnabled(true);\r\n            jTextFieldDATA.setEnabled(true);\r\n            jTextFieldAPELIDO.setEnabled(true);\r\n            jButtonExcluir.setEnabled(true);\r\n            jButtonALTERAR.setEnabled(true);\r\n            jButtonSalvar.setEnabled(false);\r\n            jButtonINSERIR.setEnabled(false);\r\n            \r\n\r\n            }","title":"How to show dates in a jFormattedTextField using postgresql","body":"<p>I want to show dates in a JformattedTextField, using the partern day/month/year, however, I only can show &quot;yyyy-mm-dd&quot; because this is how the postgresql send to java, How can I transform to the partern I want to use?</p>\n<p>The JformattedTextField has this format &quot;##/##/####&quot;</p>\n<p>Normally, the database show &quot;yyyy-mm-dd&quot; in the textfield without a mask, that means, the database is sending me a data, but i need to use a mask showing me dd/MM/yyyy and if the mask is on, i get nothing on the jFormattedTextField</p>\n<p>I already saw the orther topic about it, but, i could not resolve my problem</p>\n<pre><code>            if(rs.next()){\n            \n            jFormattedTextFieldCPF.setText(rs.getString(&quot;cad_cpf&quot;));\n            jTextFieldNOME.setText(rs.getString(&quot;cad_nome&quot;));\n            jTextFieldIDADE.setText(rs.getString(&quot;cad_idade&quot;));\n            jTextFieldAPELIDO.setText(rs.getString(&quot;cad_apelido&quot;));\n            jTextFieldDATA.setText(rs.getString(&quot;cad_data&quot;));\n           \n\n        jFormattedTextFieldPROCURAR.setText(&quot;&quot;); //deixa o campo vazio\n        jFormattedTextFieldCPF.setEnabled(false);\n        jTextFieldNOME.setEnabled(true);\n        jTextFieldIDADE.setEnabled(true);\n        jTextFieldDATA.setEnabled(true);\n        jTextFieldAPELIDO.setEnabled(true);\n        jButtonExcluir.setEnabled(true);\n        jButtonALTERAR.setEnabled(true);\n        jButtonSalvar.setEnabled(false);\n        jButtonINSERIR.setEnabled(false);\n        \n\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-boot-test"],"comments":[{"owner":{"account_id":14520228,"reputation":347,"user_id":10488096,"display_name":"Deepak Jain"},"score":0,"creation_date":1635201888,"post_id":69715357,"comment_id":123228628,"body_markdown":"You can try referring below https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/. \nBasically you can seperate out the Person object and list of files, in the same endpoint","body":"You can try referring below <a href=\"https://blogs.perficient.com/2020/07/27/requestbody-and-multipart-on-spring-boot/\" rel=\"nofollow noreferrer\">blogs.perficient.com/2020/07/27/&hellip;</a>.  Basically you can seperate out the Person object and list of files, in the same endpoint"},{"owner":{"account_id":18788986,"reputation":1,"user_id":13701899,"display_name":"Shubham Wankhede"},"score":0,"creation_date":1635246192,"post_id":69715357,"comment_id":123239653,"body_markdown":"@DeepakJain thanks but I cannot separate these two parts, \nbecause this is a sample code while in my project multipart needs to be there with java object and not as a separate part","body":"@DeepakJain thanks but I cannot separate these two parts,  because this is a sample code while in my project multipart needs to be there with java object and not as a separate part"}],"owner":{"account_id":18788986,"reputation":1,"user_id":13701899,"display_name":"Shubham Wankhede"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635266627,"creation_date":1635200104,"question_id":69715357,"body_markdown":"I&#39;m stuck with unit testing of rest controller which has post method \r\nwhich is accepting a RequestBody of java object which contains the multipart file.\r\n\r\nvarious options I search for shows how to send a single file along with request or making them as part.\r\n\r\nis there a way to test the whole object as single entity.\r\n\r\n**Model class**\r\n``` \r\n@Data\r\npublic class Person{\r\n  private String name;\r\n  private String age;\r\n  private List&lt;MultipartFile&gt; images;\r\n}\r\n```\r\nand the rest controller to handle the request is\r\n\r\n**Rest Controller**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v1)\r\npublic class PersonRestController{\r\n\r\n  @Autowired\r\n  private IPersonService personService;\r\n\r\n  @PostMapping(&quot;/save&quot;)\r\n  public ResponseEntity&lt;String&gt; savePerson(@ModelAttribute Person person){\r\n    String name = personService.savePerson(person);\r\n    return new ResponseEntity&lt;String&gt;(name,HttpStatus.CREATED);\r\n  }\r\n\r\n}\r\n```\r\n\r\nwill be really helpful if anyone could help.","title":"How to test rest endpoint which accepts java object which contain multipart formadata","body":"<p>I'm stuck with unit testing of rest controller which has post method\nwhich is accepting a RequestBody of java object which contains the multipart file.</p>\n<p>various options I search for shows how to send a single file along with request or making them as part.</p>\n<p>is there a way to test the whole object as single entity.</p>\n<p><strong>Model class</strong></p>\n<pre><code>@Data\npublic class Person{\n  private String name;\n  private String age;\n  private List&lt;MultipartFile&gt; images;\n}\n</code></pre>\n<p>and the rest controller to handle the request is</p>\n<p><strong>Rest Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1)\npublic class PersonRestController{\n\n  @Autowired\n  private IPersonService personService;\n\n  @PostMapping(&quot;/save&quot;)\n  public ResponseEntity&lt;String&gt; savePerson(@ModelAttribute Person person){\n    String name = personService.savePerson(person);\n    return new ResponseEntity&lt;String&gt;(name,HttpStatus.CREATED);\n  }\n\n}\n</code></pre>\n<p>will be really helpful if anyone could help.</p>\n"},{"tags":["java","jaxb","apache-camel","stax"],"comments":[{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1635267145,"post_id":69726895,"comment_id":123249378,"body_markdown":"Have you looked at [camel-stream](https://camel.apache.org/components/latest/stream-component.html)? It has option to stream to file which could work for your use case.","body":"Have you looked at <a href=\"https://camel.apache.org/components/latest/stream-component.html\" rel=\"nofollow noreferrer\">camel-stream</a>? It has option to stream to file which could work for your use case."},{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1635267616,"post_id":69726895,"comment_id":123249552,"body_markdown":"As for databases theres `camel-jdbc`, `camel-sql`, `camel-jpa` and many others. For marshalling/unmarshalling xml you could check out [JacksonXML](https://camel.apache.org/components/latest/dataformats/jacksonxml-dataformat.html)","body":"As for databases theres <code>camel-jdbc</code>, <code>camel-sql</code>, <code>camel-jpa</code> and many others. For marshalling/unmarshalling xml you could check out <a href=\"https://camel.apache.org/components/latest/dataformats/jacksonxml-dataformat.html\" rel=\"nofollow noreferrer\">JacksonXML</a>"}],"owner":{"account_id":23151144,"reputation":1,"user_id":17253143,"display_name":"JonCare"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635266120,"creation_date":1635266120,"question_id":69726895,"body_markdown":"I try to generate a huge xml with Camel from java objects (from a database).\r\n\r\nIs there a way to do this with a camel route, loading data from database to objects, marshalling them to xml and streaming to a file, in order to minimize memory usage ?\r\n\r\nI found many examples to split a huge xml file and insert data to database, but not the contrary.\r\n\r\nThe xml file to generate is similar to this :\r\n\r\n```xml\r\n&lt;root&gt;\r\n  &lt;libraryHeader&gt;\r\n    &lt;field&gt;&lt;/field&gt;\r\n    &lt;field&gt;&lt;/field&gt;\r\n    ...\r\n  &lt;/libraryHeader&gt;\r\n  &lt;books&gt;\r\n    &lt;book&gt;... &lt;field&gt;&lt;/field&gt; ...&lt;/book&gt;\r\n    &lt;book&gt;... &lt;field&gt;&lt;/field&gt; ...&lt;/book&gt;\r\n    ... \r\n  &lt;/books&gt;\r\n&lt;/root&gt;\r\n\r\nThank you very much for your advices","title":"Generate huge xml from java objects with camel","body":"<p>I try to generate a huge xml with Camel from java objects (from a database).</p>\n<p>Is there a way to do this with a camel route, loading data from database to objects, marshalling them to xml and streaming to a file, in order to minimize memory usage ?</p>\n<p>I found many examples to split a huge xml file and insert data to database, but not the contrary.</p>\n<p>The xml file to generate is similar to this :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;root&gt;\n  &lt;libraryHeader&gt;\n    &lt;field&gt;&lt;/field&gt;\n    &lt;field&gt;&lt;/field&gt;\n    ...\n  &lt;/libraryHeader&gt;\n  &lt;books&gt;\n    &lt;book&gt;... &lt;field&gt;&lt;/field&gt; ...&lt;/book&gt;\n    &lt;book&gt;... &lt;field&gt;&lt;/field&gt; ...&lt;/book&gt;\n    ... \n  &lt;/books&gt;\n&lt;/root&gt;\n\nThank you very much for your advices\n</code></pre>\n"},{"tags":["java","hyperledger","hyperledger-indy"],"answers":[{"tags":[],"owner":{"account_id":12486042,"reputation":157,"user_id":9089233,"display_name":"DeoxyribonucleicAcid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635265869,"creation_date":1630657156,"answer_id":69041671,"question_id":69041670,"body_markdown":"Edit: while my old answer worked, it only was a workaround and complete bs.. the following should be the correct way of creating credential schema, credential definition and revocation registry definition. \r\n\r\n```Java\r\n// Create Credential Schema\r\nString name = &quot;schema_name&quot;;\r\nString schemaAttrs = new JSONArray().put(&quot;name&quot;).put(&quot;age&quot;).toString();\r\nAnoncredsResults.IssuerCreateSchemaResult schema =\r\n        Anoncreds.issuerCreateSchema(verinym, name, &quot;1.0&quot;, schemaAttrs).get();\r\nString schemaId = schema.getSchemaId();\r\nString schemaJson = schema.getSchemaJson();\r\nJSONObject schemaRes = new JSONObject(Ledger.signAndSubmitRequest(PoolUtils.getInstance(), wallet, verinym,\r\n        Ledger.buildSchemaRequest(verinym, schemaJson).get()\r\n).get());\r\nint schemaSeqNo = schemaRes.getJSONObject(&quot;result&quot;).getJSONObject(&quot;txnMetadata&quot;).getInt(&quot;seqNo&quot;);\r\nschemaJson = new JSONObject(schemaJson).put(&quot;seqNo&quot;, schemaSeqNo).toString();\r\n\r\n// Create Credential Definition\r\nAnoncredsResults.IssuerCreateAndStoreCredentialDefResult credDef =\r\n        Anoncreds.issuerCreateAndStoreCredentialDef(\r\n                wallet, verinym, schemaJson, &quot;tag&quot;, null,\r\n                new JSONObject().put(&quot;support_revocation&quot;, true).toString()\r\n        ).get();\r\n\r\n// creating credDef req and sending it to the ledger\r\nJSONObject credDefRes = new JSONObject(\r\n        Ledger.signAndSubmitRequest(\r\n                PoolUtils.getInstance(), wallet, verinym,\r\n                Ledger.buildCredDefRequest(verinym, credDef.getCredDefJson()).get()\r\n        ).get()\r\n);\r\nint credSeqNo = credDefRes.getJSONObject(&quot;result&quot;).getJSONObject(&quot;txnMetadata&quot;).getInt(&quot;seqNo&quot;);\r\n\r\n// Create Revocation Registry Definition\r\nString tailsWriterConfig = new JSONObject().put(&quot;base_dir&quot;, &quot;/tmp/indy_tails&quot;).put(&quot;uri_pattern&quot;, &quot;&quot;).toString();\r\nBlobStorageWriter tails = BlobStorageWriter.openWriter(&quot;default&quot;, tailsWriterConfig).get();\r\nAnoncredsResults.IssuerCreateAndStoreRevocRegResult revocRegDef = Anoncreds.issuerCreateAndStoreRevocReg(\r\n        wallet, verinym, null, &quot;contractDef&quot;, credDefId,\r\n        &quot;{}&quot;, tails\r\n).get();\r\nJSONObject revocRegDefRes = new JSONObject(\r\n        Ledger.signAndSubmitRequest(PoolUtils.getInstance(), wallet, verinym,\r\n                Ledger.buildRevocRegDefRequest(verinym, revocRegDef.getRevRegDefJson()).get()\r\n        ).get());\r\nrevocRegDefSeqNo = revocRegDefRes.getJSONObject(&quot;result&quot;).getJSONObject(&quot;txnMetadata&quot;).getInt(&quot;seqNo&quot;);\r\n```\r\n\r\nThe learning is that the ledger returns important values for the creation of definition\r\n\r\nFurthermore, nowhere was mentioned that you need to create an initial revocation registry entry:\r\n```Java\r\n// Create initial revocation entry\r\nJSONObject revocRegEntryRes = new JSONObject(Ledger.signAndSubmitRequest(PoolUtils.getInstance(), wallet, verinym,\r\nLedger.buildRevocRegEntryRequest(verinym, revocRegDef.getRevRegId(),\r\n&quot;CL_ACCUM&quot;, revocRegDef.getRevRegEntryJson()).get()).get());\r\n```","title":"Hyperledger Indy Creating RevocationRegistry Fails, malformed credDefId because of schema_ref","body":"<p>Edit: while my old answer worked, it only was a workaround and complete bs.. the following should be the correct way of creating credential schema, credential definition and revocation registry definition.</p>\n<pre><code>// Create Credential Schema\nString name = &quot;schema_name&quot;;\nString schemaAttrs = new JSONArray().put(&quot;name&quot;).put(&quot;age&quot;).toString();\nAnoncredsResults.IssuerCreateSchemaResult schema =\n        Anoncreds.issuerCreateSchema(verinym, name, &quot;1.0&quot;, schemaAttrs).get();\nString schemaId = schema.getSchemaId();\nString schemaJson = schema.getSchemaJson();\nJSONObject schemaRes = new JSONObject(Ledger.signAndSubmitRequest(PoolUtils.getInstance(), wallet, verinym,\n        Ledger.buildSchemaRequest(verinym, schemaJson).get()\n).get());\nint schemaSeqNo = schemaRes.getJSONObject(&quot;result&quot;).getJSONObject(&quot;txnMetadata&quot;).getInt(&quot;seqNo&quot;);\nschemaJson = new JSONObject(schemaJson).put(&quot;seqNo&quot;, schemaSeqNo).toString();\n\n// Create Credential Definition\nAnoncredsResults.IssuerCreateAndStoreCredentialDefResult credDef =\n        Anoncreds.issuerCreateAndStoreCredentialDef(\n                wallet, verinym, schemaJson, &quot;tag&quot;, null,\n                new JSONObject().put(&quot;support_revocation&quot;, true).toString()\n        ).get();\n\n// creating credDef req and sending it to the ledger\nJSONObject credDefRes = new JSONObject(\n        Ledger.signAndSubmitRequest(\n                PoolUtils.getInstance(), wallet, verinym,\n                Ledger.buildCredDefRequest(verinym, credDef.getCredDefJson()).get()\n        ).get()\n);\nint credSeqNo = credDefRes.getJSONObject(&quot;result&quot;).getJSONObject(&quot;txnMetadata&quot;).getInt(&quot;seqNo&quot;);\n\n// Create Revocation Registry Definition\nString tailsWriterConfig = new JSONObject().put(&quot;base_dir&quot;, &quot;/tmp/indy_tails&quot;).put(&quot;uri_pattern&quot;, &quot;&quot;).toString();\nBlobStorageWriter tails = BlobStorageWriter.openWriter(&quot;default&quot;, tailsWriterConfig).get();\nAnoncredsResults.IssuerCreateAndStoreRevocRegResult revocRegDef = Anoncreds.issuerCreateAndStoreRevocReg(\n        wallet, verinym, null, &quot;contractDef&quot;, credDefId,\n        &quot;{}&quot;, tails\n).get();\nJSONObject revocRegDefRes = new JSONObject(\n        Ledger.signAndSubmitRequest(PoolUtils.getInstance(), wallet, verinym,\n                Ledger.buildRevocRegDefRequest(verinym, revocRegDef.getRevRegDefJson()).get()\n        ).get());\nrevocRegDefSeqNo = revocRegDefRes.getJSONObject(&quot;result&quot;).getJSONObject(&quot;txnMetadata&quot;).getInt(&quot;seqNo&quot;);\n</code></pre>\n<p>The learning is that the ledger returns important values for the creation of definition</p>\n<p>Furthermore, nowhere was mentioned that you need to create an initial revocation registry entry:</p>\n<pre><code>// Create initial revocation entry\nJSONObject revocRegEntryRes = new JSONObject(Ledger.signAndSubmitRequest(PoolUtils.getInstance(), wallet, verinym,\nLedger.buildRevocRegEntryRequest(verinym, revocRegDef.getRevRegId(),\n&quot;CL_ACCUM&quot;, revocRegDef.getRevRegEntryJson()).get()).get());\n</code></pre>\n"}],"owner":{"account_id":12486042,"reputation":157,"user_id":9089233,"display_name":"DeoxyribonucleicAcid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69041671,"answer_count":1,"score":0,"last_activity_date":1635265869,"creation_date":1630657156,"question_id":69041670,"body_markdown":"I am currently trying to write a revocation registry definition (revRegDef) to a Hyperledger Indy pool as shown in the Indy [Getting Started][1]. \r\nThe workflow is like this: \r\n\r\n 1. create a schema\r\n 2. using the schemaId, create a credential definition (credDef)\r\n 3. using the credDefId, create a revRegDef\r\n\r\nSince I need to use Java, i added the appropriate requests to the ledger to the [Java Sample][2], i uploaded my modified version [here][3].\r\n\r\nCreating the schema and credDef works fine, but  when I send the last request, i get the following error message:\r\n\r\n```\r\nreason -&gt; client request invalid: InvalidClientRequest(&quot;Format of credDefId field is not acceptable. \r\nExpected: &#39;did:marker:signature_type:schema_ref&#39; or &#39;did:marker:signature_type:schema_ref:tag&#39;&quot;,)\r\n```\r\nAt this point, the mentioned credDefId looks like this: `Th7MpTaRZVRYnPiabds81Y:3:CL:Th7MpTaRZVRYnPiabds81Y:2:gvt:1.0:Tag1`\r\nwhile the schemaId is `Th7MpTaRZVRYnPiabds81Y:2:gvt:1.0`\r\n\r\nObviously the mentioned pattern is not met, but the `Ledger.buildCredDefReq()` function returns the `credDefId` like this, so i would expect it to be correct. \r\n\r\n  [1]: https://hyperledger-indy.readthedocs.io/projects/sdk/en/latest/docs/getting-started/indy-walkthrough.html#step-6-credential-definition-setup\r\n  [2]: https://github.com/hyperledger/indy-sdk/blob/master/samples/java/src/main/java/AnoncredsRevocation.java\r\n  [3]: https://github.com/EeveesEyes/hyperledger_indy_example/blob/6031f0823bb645a324655356e6a7571148147242/src/main/java/AnoncredsRevocation.java#L94","title":"Hyperledger Indy Creating RevocationRegistry Fails, malformed credDefId because of schema_ref","body":"<p>I am currently trying to write a revocation registry definition (revRegDef) to a Hyperledger Indy pool as shown in the Indy <a href=\"https://hyperledger-indy.readthedocs.io/projects/sdk/en/latest/docs/getting-started/indy-walkthrough.html#step-6-credential-definition-setup\" rel=\"nofollow noreferrer\">Getting Started</a>.\nThe workflow is like this:</p>\n<ol>\n<li>create a schema</li>\n<li>using the schemaId, create a credential definition (credDef)</li>\n<li>using the credDefId, create a revRegDef</li>\n</ol>\n<p>Since I need to use Java, i added the appropriate requests to the ledger to the <a href=\"https://github.com/hyperledger/indy-sdk/blob/master/samples/java/src/main/java/AnoncredsRevocation.java\" rel=\"nofollow noreferrer\">Java Sample</a>, i uploaded my modified version <a href=\"https://github.com/EeveesEyes/hyperledger_indy_example/blob/6031f0823bb645a324655356e6a7571148147242/src/main/java/AnoncredsRevocation.java#L94\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Creating the schema and credDef works fine, but  when I send the last request, i get the following error message:</p>\n<pre><code>reason -&gt; client request invalid: InvalidClientRequest(&quot;Format of credDefId field is not acceptable. \nExpected: 'did:marker:signature_type:schema_ref' or 'did:marker:signature_type:schema_ref:tag'&quot;,)\n</code></pre>\n<p>At this point, the mentioned credDefId looks like this: <code>Th7MpTaRZVRYnPiabds81Y:3:CL:Th7MpTaRZVRYnPiabds81Y:2:gvt:1.0:Tag1</code>\nwhile the schemaId is <code>Th7MpTaRZVRYnPiabds81Y:2:gvt:1.0</code></p>\n<p>Obviously the mentioned pattern is not met, but the <code>Ledger.buildCredDefReq()</code> function returns the <code>credDefId</code> like this, so i would expect it to be correct.</p>\n"},{"tags":["java","spring-boot","exception"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":1,"creation_date":1635262057,"post_id":69725835,"comment_id":123247209,"body_markdown":"You are using annotated controller or functional endpoint ? Are you sure that this advice is in the componant scan path ?","body":"You are using annotated controller or functional endpoint ? Are you sure that this advice is in the componant scan path ?"},{"owner":{"account_id":1193347,"reputation":5518,"user_id":1386584,"display_name":"Ivan Vasiljevic"},"score":0,"creation_date":1635262162,"post_id":69725835,"comment_id":123247253,"body_markdown":"Could you please show us code that should throw this exception?","body":"Could you please show us code that should throw this exception?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635262871,"creation_date":1635262436,"answer_id":69725998,"question_id":69725835,"body_markdown":"I was only able to get this to work with an implementation of `AbstractErrorWebExceptionHandler` as follows (sorry for the kotlin code):\r\n\r\n```kotlin\r\n@Component\r\n@Order(-2)\r\nclass GlobalExceptionHandler(errorAttributes: ErrorAttributes,\r\n                             resources: WebProperties.Resources,\r\n                             applicationContext: ApplicationContext,\r\n                             serverCodecConfigurer: ServerCodecConfigurer) : AbstractErrorWebExceptionHandler(errorAttributes, resources, applicationContext) {\r\n\r\n    companion object {\r\n        private val logger = KotlinLogging.logger {}\r\n        private const val HTTP_STATUS_KEY = &quot;status&quot;\r\n        private const val MESSAGE_KEY = &quot;message&quot;\r\n        private const val ERRORS_KEY = &quot;errors&quot;\r\n    }\r\n\r\n    init {\r\n        setMessageWriters(serverCodecConfigurer.writers)\r\n    }\r\n\r\n    override fun setMessageWriters(messageWriters: MutableList&lt;HttpMessageWriter&lt;*&gt;&gt;?) {\r\n        super.setMessageWriters(messageWriters)\r\n    }\r\n\r\n    override fun getRoutingFunction(errorAttributes: ErrorAttributes?): RouterFunction&lt;ServerResponse&gt; {\r\n        return RouterFunctions.route({ true }) { request -&gt;\r\n            val error: Throwable = getError(request)\r\n            logger.error(&quot;Handling: &quot;, error)\r\n\r\n            val errorProperties = getErrorAttributes(request, ErrorAttributeOptions.defaults())\r\n            when (error) {\r\n                is WebExchangeBindException -&gt; {\r\n                    ....\r\n                }\r\n                else -&gt; {\r\n                    ...\r\n                }\r\n            }\r\n\r\n            ServerResponse.status(HttpStatus.valueOf(errorProperties[HTTP_STATUS_KEY] as Int))\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .bodyValue(errorProperties)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn Java it would be something like:\r\n```java\r\n@Component\r\n@Order(-2)\r\npublic class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler {\r\n\r\n   private static final String HTTP_STATUS_KEY = &quot;status&quot;;\r\n   private static final String MESSAGE_KEY = &quot;message&quot;;\r\n   private static final String ERRORS_KEY = &quot;errors&quot;; \r\n\r\n   public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext, ServerCodecConfigurer serverCodecConfigurer) {\r\n      super(errorAttributes, resources, applicationContext);\r\n      this.setMessageWriters(serverCodecConfigurer.getWriters());\r\n   }\r\n\r\n   public final void setMessageWriters(List messageWriters) {\r\n      super.setMessageWriters(messageWriters);\r\n   }\r\n\r\n   protected RouterFunction getRoutingFunction(ErrorAttributes errorAttributes) {\r\n      return RouterFunctions.route(RequestPredicates.all(), this::renderErrorResponse);\r\n   }\r\n\r\n   private Mono&lt;ServerResponse&gt; renderErrorResponse(ServerRequest request) {\r\n       Map&lt;String, Object&gt; errorPropertiesMap = getErrorAttributes(request, \r\n         ErrorAttributeOptions.defaults());\r\n\r\n       return ServerResponse.status(HttpStatus.BAD_REQUEST)\r\n         .contentType(MediaType.APPLICATION_JSON)\r\n         .body(BodyInserters.fromValue(errorPropertiesMap));\r\n    }\r\n}\r\n```\r\n\r\nYou can check more details at https://www.baeldung.com/spring-webflux-errors#global.","title":"@RestControllerAdvice not working in Spring Boot reactive java application","body":"<p>I was only able to get this to work with an implementation of <code>AbstractErrorWebExceptionHandler</code> as follows (sorry for the kotlin code):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\n@Order(-2)\nclass GlobalExceptionHandler(errorAttributes: ErrorAttributes,\n                             resources: WebProperties.Resources,\n                             applicationContext: ApplicationContext,\n                             serverCodecConfigurer: ServerCodecConfigurer) : AbstractErrorWebExceptionHandler(errorAttributes, resources, applicationContext) {\n\n    companion object {\n        private val logger = KotlinLogging.logger {}\n        private const val HTTP_STATUS_KEY = &quot;status&quot;\n        private const val MESSAGE_KEY = &quot;message&quot;\n        private const val ERRORS_KEY = &quot;errors&quot;\n    }\n\n    init {\n        setMessageWriters(serverCodecConfigurer.writers)\n    }\n\n    override fun setMessageWriters(messageWriters: MutableList&lt;HttpMessageWriter&lt;*&gt;&gt;?) {\n        super.setMessageWriters(messageWriters)\n    }\n\n    override fun getRoutingFunction(errorAttributes: ErrorAttributes?): RouterFunction&lt;ServerResponse&gt; {\n        return RouterFunctions.route({ true }) { request -&gt;\n            val error: Throwable = getError(request)\n            logger.error(&quot;Handling: &quot;, error)\n\n            val errorProperties = getErrorAttributes(request, ErrorAttributeOptions.defaults())\n            when (error) {\n                is WebExchangeBindException -&gt; {\n                    ....\n                }\n                else -&gt; {\n                    ...\n                }\n            }\n\n            ServerResponse.status(HttpStatus.valueOf(errorProperties[HTTP_STATUS_KEY] as Int))\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(errorProperties)\n        }\n    }\n}\n</code></pre>\n<p>In Java it would be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Order(-2)\npublic class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler {\n\n   private static final String HTTP_STATUS_KEY = &quot;status&quot;;\n   private static final String MESSAGE_KEY = &quot;message&quot;;\n   private static final String ERRORS_KEY = &quot;errors&quot;; \n\n   public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext, ServerCodecConfigurer serverCodecConfigurer) {\n      super(errorAttributes, resources, applicationContext);\n      this.setMessageWriters(serverCodecConfigurer.getWriters());\n   }\n\n   public final void setMessageWriters(List messageWriters) {\n      super.setMessageWriters(messageWriters);\n   }\n\n   protected RouterFunction getRoutingFunction(ErrorAttributes errorAttributes) {\n      return RouterFunctions.route(RequestPredicates.all(), this::renderErrorResponse);\n   }\n\n   private Mono&lt;ServerResponse&gt; renderErrorResponse(ServerRequest request) {\n       Map&lt;String, Object&gt; errorPropertiesMap = getErrorAttributes(request, \n         ErrorAttributeOptions.defaults());\n\n       return ServerResponse.status(HttpStatus.BAD_REQUEST)\n         .contentType(MediaType.APPLICATION_JSON)\n         .body(BodyInserters.fromValue(errorPropertiesMap));\n    }\n}\n</code></pre>\n<p>You can check more details at <a href=\"https://www.baeldung.com/spring-webflux-errors#global\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webflux-errors#global</a>.</p>\n"},{"tags":[],"owner":{"account_id":13342575,"reputation":927,"user_id":9630366,"display_name":"nehacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635265556,"creation_date":1635265556,"answer_id":69726766,"question_id":69725835,"body_markdown":"I made a very trivial mistake of extending the `controller` with `AbstractController` class which was causing this issue. Removing it solved my problem. ","title":"@RestControllerAdvice not working in Spring Boot reactive java application","body":"<p>I made a very trivial mistake of extending the <code>controller</code> with <code>AbstractController</code> class which was causing this issue. Removing it solved my problem.</p>\n"}],"owner":{"account_id":13342575,"reputation":927,"user_id":9630366,"display_name":"nehacharya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69726766,"answer_count":2,"score":3,"last_activity_date":1635265556,"creation_date":1635261796,"question_id":69725835,"body_markdown":"I am currently throwing a custom Exception - `RequestValidationException`.\r\n \r\n`ExceptionHandler` **class**:\r\n\r\n    @RestControllerAdvice\r\n    @Slf4j\r\n    public class RestExceptionHandler {\r\n \r\n        @ExceptionHandler(value = RequestValidationException.class)\r\n        @ResponseStatus(HttpStatus.PRECONDITION_FAILED)\r\n        public Mono&lt;HttpValidationError&gt; handleRequestValidationException(RequestValidationException exception) {\r\n            log.error(&quot;Received exception: &quot;, exception);\r\n            List&lt;String&gt; loc = new ArrayList&lt;&gt;();\r\n            loc.add(exception.getMessage());\r\n            ValidationError validationError = ValidationError.builder()\r\n                .loc(loc)\r\n                .msg(exception.getMessage())\r\n                .build();\r\n            List&lt;ValidationError&gt; errorMessages = new ArrayList&lt;&gt;();\r\n            errorMessages.add(validationError);\r\n            return Mono.just(HttpValidationError.builder().detail(errorMessages).build());\r\n    }\r\n\r\n`RequestValidationException` **class**:\r\n\r\n    public class RequestValidationException extends RuntimeException {\r\n        public static final HttpStatus statusCode = HttpStatus.PRECONDITION_FAILED;\r\n    \r\n        public RequestValidationException(String text) {\r\n            super(text);\r\n        }\r\n    \r\n        public HttpStatus getStatusCode() {\r\n            return statusCode;\r\n        }\r\n    }\r\n    \r\nWhen the `exception` is thrown, I want the following `response`: \r\n\r\n     Code: 412\r\n     {\r\n        &quot;detail&quot;: [\r\n        {\r\n           &quot;loc&quot;: [\r\n                    &quot;No ID found to update. Please add an ID&quot;\r\n           ],\r\n           &quot;msg&quot;: &quot;No ID found to update. Please add an ID&quot;,\r\n           &quot;type&quot;: null\r\n        }\r\n      ]\r\n    }  \r\n\r\nWhat I am receiving is:\r\n\r\n    {\r\n      &quot;error_code&quot;: 500,\r\n      &quot;message&quot;: &quot;No ID found to update. Please add an ID&quot;\r\n    }\r\n\r\nI checked the application logs and nowhere is the `RestExceptionHandler` being called. It just logs this `error`:\r\n\r\n    &quot;level&quot;:&quot;ERROR&quot;,&quot;logger&quot;:&quot;c.a.c.c.c.AbstractController&quot;,&quot;thread&quot;:&quot;boundedElastic-1&quot;,&quot;message&quot;:&quot;Controller exception&quot;,&quot;stack&quot;:&quot;&lt;#384d845f&gt; c.a.c.a.e.RequestValidationException\r\n\r\nI just can&#39;t seem to figure out what&#39;s wrong with this code. Can someone point out what I might be missing? Thanks.","title":"@RestControllerAdvice not working in Spring Boot reactive java application","body":"<p>I am currently throwing a custom Exception - <code>RequestValidationException</code>.</p>\n<p><code>ExceptionHandler</code> <strong>class</strong>:</p>\n<pre><code>@RestControllerAdvice\n@Slf4j\npublic class RestExceptionHandler {\n\n    @ExceptionHandler(value = RequestValidationException.class)\n    @ResponseStatus(HttpStatus.PRECONDITION_FAILED)\n    public Mono&lt;HttpValidationError&gt; handleRequestValidationException(RequestValidationException exception) {\n        log.error(&quot;Received exception: &quot;, exception);\n        List&lt;String&gt; loc = new ArrayList&lt;&gt;();\n        loc.add(exception.getMessage());\n        ValidationError validationError = ValidationError.builder()\n            .loc(loc)\n            .msg(exception.getMessage())\n            .build();\n        List&lt;ValidationError&gt; errorMessages = new ArrayList&lt;&gt;();\n        errorMessages.add(validationError);\n        return Mono.just(HttpValidationError.builder().detail(errorMessages).build());\n}\n</code></pre>\n<p><code>RequestValidationException</code> <strong>class</strong>:</p>\n<pre><code>public class RequestValidationException extends RuntimeException {\n    public static final HttpStatus statusCode = HttpStatus.PRECONDITION_FAILED;\n\n    public RequestValidationException(String text) {\n        super(text);\n    }\n\n    public HttpStatus getStatusCode() {\n        return statusCode;\n    }\n}\n</code></pre>\n<p>When the <code>exception</code> is thrown, I want the following <code>response</code>:</p>\n<pre><code> Code: 412\n {\n    &quot;detail&quot;: [\n    {\n       &quot;loc&quot;: [\n                &quot;No ID found to update. Please add an ID&quot;\n       ],\n       &quot;msg&quot;: &quot;No ID found to update. Please add an ID&quot;,\n       &quot;type&quot;: null\n    }\n  ]\n}  \n</code></pre>\n<p>What I am receiving is:</p>\n<pre><code>{\n  &quot;error_code&quot;: 500,\n  &quot;message&quot;: &quot;No ID found to update. Please add an ID&quot;\n}\n</code></pre>\n<p>I checked the application logs and nowhere is the <code>RestExceptionHandler</code> being called. It just logs this <code>error</code>:</p>\n<pre><code>&quot;level&quot;:&quot;ERROR&quot;,&quot;logger&quot;:&quot;c.a.c.c.c.AbstractController&quot;,&quot;thread&quot;:&quot;boundedElastic-1&quot;,&quot;message&quot;:&quot;Controller exception&quot;,&quot;stack&quot;:&quot;&lt;#384d845f&gt; c.a.c.a.e.RequestValidationException\n</code></pre>\n<p>I just can't seem to figure out what's wrong with this code. Can someone point out what I might be missing? Thanks.</p>\n"},{"tags":["java","mongodb","sorting","deprecated","morphia"],"answers":[{"tags":[],"owner":{"account_id":1414206,"reputation":6122,"user_id":1340183,"display_name":"evanchooly"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635265462,"creation_date":1635265462,"answer_id":69726739,"question_id":69720637,"body_markdown":"If you&#39;re on 1.6.1, you can happily use that method.  Once you move to 2.x, the way that modify operations are done and how options are passed changes a bit so you&#39;ll need to do a bit of rework regardless.  (There&#39;s an option to keep using the legacy API that&#39;s deprecated in it&#39;s entirety and will be removed soon.  maybe in 2.4.)  \r\n\r\n2.x is a complete rethink of that API in to what is intended to be a more reasonable, usable set of interfaces.  So far folks seem happy with it.  I&#39;d highly recommend an upgrade.","title":"How to use Morphia to findAndModify with a sorted search query?","body":"<p>If you're on 1.6.1, you can happily use that method.  Once you move to 2.x, the way that modify operations are done and how options are passed changes a bit so you'll need to do a bit of rework regardless.  (There's an option to keep using the legacy API that's deprecated in it's entirety and will be removed soon.  maybe in 2.4.)</p>\n<p>2.x is a complete rethink of that API in to what is intended to be a more reasonable, usable set of interfaces.  So far folks seem happy with it.  I'd highly recommend an upgrade.</p>\n"}],"owner":{"account_id":10337649,"reputation":120,"user_id":7625197,"display_name":"Patrick Rode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69726739,"answer_count":1,"score":0,"last_activity_date":1635265462,"creation_date":1635240704,"question_id":69720637,"body_markdown":"I am using Morphia 1.6.1 and this is my actual code:\r\n\r\n    final Query&lt;Entity&gt; query = datastore.createQuery(Entity.class)\r\n        .field(&quot;status&quot;).equal(Status.OPEN)\r\n        .order(Sort.ascending(&quot;lastUsed&quot;));\r\n\r\n    final UpdateOperations&lt;Entity&gt; updateOperations = datastore\r\n        .createUpdateOperations(Entity.class)\r\n        .set(&quot;lastUsed&quot;, ZonedDateTime.now());\r\n\r\n    final Entity entity = datastore.findAndModify(query, updateOperations);\r\n\r\nThe only problem is that .order() is @Deprecated. So I need to find another way to do this. Do you have any ideas?","title":"How to use Morphia to findAndModify with a sorted search query?","body":"<p>I am using Morphia 1.6.1 and this is my actual code:</p>\n<pre><code>final Query&lt;Entity&gt; query = datastore.createQuery(Entity.class)\n    .field(&quot;status&quot;).equal(Status.OPEN)\n    .order(Sort.ascending(&quot;lastUsed&quot;));\n\nfinal UpdateOperations&lt;Entity&gt; updateOperations = datastore\n    .createUpdateOperations(Entity.class)\n    .set(&quot;lastUsed&quot;, ZonedDateTime.now());\n\nfinal Entity entity = datastore.findAndModify(query, updateOperations);\n</code></pre>\n<p>The only problem is that .order() is @Deprecated. So I need to find another way to do this. Do you have any ideas?</p>\n"},{"tags":["java","selenium","proxy","runtime-error"],"comments":[{"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"score":0,"creation_date":1635140417,"post_id":69699809,"comment_id":123206099,"body_markdown":"Your troubleshooting, may have highlighted the cause. 3) shows that it could not create the tunnel with your proxy using http. 4) shows tunnel created using https, but proxy connection failed. So it is probably looking for some type of creds. Add this to your original method: `proxy.setSslProxy(&quot;127.0.0.1:9150&quot;);`","body":"Your troubleshooting, may have highlighted the cause. 3) shows that it could not create the tunnel with your proxy using http. 4) shows tunnel created using https, but proxy connection failed. So it is probably looking for some type of creds. Add this to your original method: <code>proxy.setSslProxy(&quot;127.0.0.1:9150&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635265443,"creation_date":1635265443,"answer_id":69726732,"question_id":69699809,"body_markdown":"Your troubleshooting, may have highlighted the cause. 3) shows that it could not create the tunnel with your proxy using http. 4) shows tunnel created using https, but proxy connection failed. So it is probably looking for some type of creds.\r\n\r\nUpdate your code to add SSL proxy:\r\n\r\n    Proxy proxy = new Proxy();\r\n    proxy.setHttpProxy(&quot;127.0.0.1:9150&quot;);\r\n    proxy.setSslProxy(&quot;127.0.0.1:9150&quot;);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.setCapability(&quot;proxy&quot;, proxy);","title":"Selenium &amp; Java - specified proxy ignored","body":"<p>Your troubleshooting, may have highlighted the cause. 3) shows that it could not create the tunnel with your proxy using http. 4) shows tunnel created using https, but proxy connection failed. So it is probably looking for some type of creds.</p>\n<p>Update your code to add SSL proxy:</p>\n<pre><code>Proxy proxy = new Proxy();\nproxy.setHttpProxy(&quot;127.0.0.1:9150&quot;);\nproxy.setSslProxy(&quot;127.0.0.1:9150&quot;);\nChromeOptions options = new ChromeOptions();\noptions.setCapability(&quot;proxy&quot;, proxy);\n</code></pre>\n"}],"owner":{"account_id":23130714,"reputation":11,"user_id":17235762,"display_name":"awrahtejwa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635265443,"creation_date":1635101256,"question_id":69699809,"body_markdown":"I am learning selenium testing and have encountered my first problem after few hours :D\r\n\r\nObjective: add a proxy into my selenium program so that it will not access the internet straight from my router.\r\n\r\n(Proxy- running tor browser on localhost. Works with other web scrapers smoothly)\r\n\r\nThe problem is, it seems like program does not see proxy settings or goes around it. Navigating program to &quot;check ip&quot; websites shows original ip, not changed one by proxy.\r\n\r\nMy code: [as in documentation https://www.selenium.dev/documentation/webdriver/http_proxies/]\r\n```\r\nProxy proxy = new Proxy();\r\nproxy.setHttpProxy(&quot;127.0.0.1:9150&quot;);\r\nChromeOptions options = new ChromeOptions();\r\noptions.setCapability(&quot;proxy&quot;, proxy);\r\n```\r\n\r\nThen I tried several other approaches found online (including a deprecated one)\r\n```\r\n/*String proxy = &quot;127.0.0.1:9150&quot;;\r\nChromeOptions options = new ChromeOptions().addArguments(&quot;--proxy-server=http://&quot; +proxy);\r\n*/\r\n\t\t\t\r\n/*String proxy = &quot;localhost:9150&quot;;\r\nProxy p = new Proxy();\r\np.setHttpProxy(proxy);\r\nDesiredCapabilities cap = new DesiredCapabilities();\r\ncap.setCapability(CapabilityType.PROXY, p);\r\n*/\r\n\r\n```\r\nand then it goes into driver parameter (commented ones are using ```options``` and ```cap```)\r\n```WebDriver driver = new ChromeDriver(options);```\r\n\r\nUsing the documentation code I do not get any error. It just does not change ip. \r\n\r\nI tried everything I could think of but without success.\r\n\r\nNotes: \r\n1) ip &amp; port are correct\r\n2) websites are accessed after setting up proxy.\r\n3) using commented code (first block, two lines) returns &quot;This site can’t be reached&quot; in chrome and &quot; org.openqa.selenium.WebDriverException: unknown error: net::ERR_TUNNEL_CONNECTION_FAILED&quot; in console\r\n4) same code as note 3) but protocol changed to https &quot;...https://&quot; +proxy);&quot; returns &quot;No internet&quot; in browser and &quot;org.openqa.selenium.WebDriverException: unknown error: net::ERR_PROXY_CONNECTION_FAILED&quot; in console","title":"Selenium &amp; Java - specified proxy ignored","body":"<p>I am learning selenium testing and have encountered my first problem after few hours :D</p>\n<p>Objective: add a proxy into my selenium program so that it will not access the internet straight from my router.</p>\n<p>(Proxy- running tor browser on localhost. Works with other web scrapers smoothly)</p>\n<p>The problem is, it seems like program does not see proxy settings or goes around it. Navigating program to &quot;check ip&quot; websites shows original ip, not changed one by proxy.</p>\n<p>My code: [as in documentation https://www.selenium.dev/documentation/webdriver/http_proxies/]</p>\n<pre><code>Proxy proxy = new Proxy();\nproxy.setHttpProxy(&quot;127.0.0.1:9150&quot;);\nChromeOptions options = new ChromeOptions();\noptions.setCapability(&quot;proxy&quot;, proxy);\n</code></pre>\n<p>Then I tried several other approaches found online (including a deprecated one)</p>\n<pre><code>/*String proxy = &quot;127.0.0.1:9150&quot;;\nChromeOptions options = new ChromeOptions().addArguments(&quot;--proxy-server=http://&quot; +proxy);\n*/\n            \n/*String proxy = &quot;localhost:9150&quot;;\nProxy p = new Proxy();\np.setHttpProxy(proxy);\nDesiredCapabilities cap = new DesiredCapabilities();\ncap.setCapability(CapabilityType.PROXY, p);\n*/\n\n</code></pre>\n<p>and then it goes into driver parameter (commented ones are using <code>options</code> and <code>cap</code>)\n<code>WebDriver driver = new ChromeDriver(options);</code></p>\n<p>Using the documentation code I do not get any error. It just does not change ip.</p>\n<p>I tried everything I could think of but without success.</p>\n<p>Notes:</p>\n<ol>\n<li>ip &amp; port are correct</li>\n<li>websites are accessed after setting up proxy.</li>\n<li>using commented code (first block, two lines) returns &quot;This site can’t be reached&quot; in chrome and &quot; org.openqa.selenium.WebDriverException: unknown error: net::ERR_TUNNEL_CONNECTION_FAILED&quot; in console</li>\n<li>same code as note 3) but protocol changed to https &quot;...https://&quot; +proxy);&quot; returns &quot;No internet&quot; in browser and &quot;org.openqa.selenium.WebDriverException: unknown error: net::ERR_PROXY_CONNECTION_FAILED&quot; in console</li>\n</ol>\n"},{"tags":["java","database","derby"],"comments":[{"owner":{"account_id":4839919,"reputation":429,"user_id":3905233,"display_name":"Zephaniah Irvine"},"score":1,"creation_date":1635261576,"post_id":69725513,"comment_id":123246986,"body_markdown":"You may provide the database configuration in your Java code and detailed error traceback.","body":"You may provide the database configuration in your Java code and detailed error traceback."},{"owner":{"account_id":65826,"reputation":16198,"user_id":193453,"display_name":"Bryan Pendleton"},"score":0,"creation_date":1635270713,"post_id":69725513,"comment_id":123250695,"body_markdown":"When it says &quot;see the next exception for details&quot;, do this: https://cwiki.apache.org/confluence/display/derby/unwindExceptionChain","body":"When it says &quot;see the next exception for details&quot;, do this: <a href=\"https://cwiki.apache.org/confluence/display/derby/unwindExceptionChain\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/derby/unwindExceptionCha&zwnj;&#8203;in</a>"}],"answers":[{"tags":[],"owner":{"account_id":23150613,"reputation":16,"user_id":17252691,"display_name":"Catalin Modan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635264959,"creation_date":1635264959,"answer_id":69726621,"question_id":69725513,"body_markdown":"When you do a connection you should put it into a try/catch.\r\nFor example ( I use Java 8 and oracle SQLDeveloper ) :\r\n\r\n     String dbURL=&quot;jdbc:oracle:thin:@localhost:1521:xe&quot;;\r\n        String username = &quot;system&quot;;\r\n        String password = &quot;root&quot;;\r\n\r\n\r\n        try{\r\n\r\n        Connection connection = DriverManager.getConnection(dbURL,username,password);\r\n            System.out.println(&quot;Connected to Oracle database server&quot;);\r\n\r\n            \r\n            String sql = &quot;INSERT INTO USERS (name,email,password)&quot; + &quot;VALUES(&#39;eu&#39;, &#39;eu@yahoo.com&#39;, &#39;eu&#39;)&quot;;\r\n\r\n            Statement statement = connection.createStatement();\r\n            int rows = statement.executeUpdate(sql);\r\n\r\n            if(rows &gt;0){\r\n                System.out.println(&quot;A row has been inserted&quot;);\r\n            }\r\n\r\n\r\n\r\n            connection.close();\r\n        }catch (SQLException e){\r\n            System.out.println(&quot;ERROR&quot;);\r\n        }\r\n\r\n\r\n\r\nAnd always check for right password and username. Hope this helps. :D","title":"org.apache.derby.jdbc.ClientDriver ; unable to connect","body":"<p>When you do a connection you should put it into a try/catch.\nFor example ( I use Java 8 and oracle SQLDeveloper ) :</p>\n<pre><code> String dbURL=&quot;jdbc:oracle:thin:@localhost:1521:xe&quot;;\n    String username = &quot;system&quot;;\n    String password = &quot;root&quot;;\n\n\n    try{\n\n    Connection connection = DriverManager.getConnection(dbURL,username,password);\n        System.out.println(&quot;Connected to Oracle database server&quot;);\n\n        \n        String sql = &quot;INSERT INTO USERS (name,email,password)&quot; + &quot;VALUES('eu', 'eu@yahoo.com', 'eu')&quot;;\n\n        Statement statement = connection.createStatement();\n        int rows = statement.executeUpdate(sql);\n\n        if(rows &gt;0){\n            System.out.println(&quot;A row has been inserted&quot;);\n        }\n\n\n\n        connection.close();\n    }catch (SQLException e){\n        System.out.println(&quot;ERROR&quot;);\n    }\n</code></pre>\n<p>And always check for right password and username. Hope this helps. :D</p>\n"}],"owner":{"account_id":20602915,"reputation":38,"user_id":15123831,"display_name":"Rohit Pal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":705,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69726621,"answer_count":1,"score":1,"last_activity_date":1635264959,"creation_date":1635260483,"question_id":69725513,"body_markdown":"Unable to connect. Cannot establish a connection to jdbc:derby://localhost:1527/sample using org.apache.derby.jdbc.ClientDriver (DERBY SQL error: ERRORCODE: 40000, SQLSTATE: XJ040, SQLERRMC: Failed to start database &#39;sample&#39; with class loader sun.misc.Launcher$AppClassLoader@1d44bcfa, see the next exception for details.::SQLSTATE: XSLAN).","title":"org.apache.derby.jdbc.ClientDriver ; unable to connect","body":"<p>Unable to connect. Cannot establish a connection to jdbc:derby://localhost:1527/sample using org.apache.derby.jdbc.ClientDriver (DERBY SQL error: ERRORCODE: 40000, SQLSTATE: XJ040, SQLERRMC: Failed to start database 'sample' with class loader sun.misc.Launcher$AppClassLoader@1d44bcfa, see the next exception for details.::SQLSTATE: XSLAN).</p>\n"},{"tags":["java","android","httprequest","httpresponse","synchronous"],"comments":[{"owner":{"account_id":11827645,"reputation":3065,"user_id":9011164,"accept_rate":50,"display_name":"KunLun"},"score":0,"creation_date":1635263635,"post_id":69726253,"comment_id":123247878,"body_markdown":"What means `successful`?","body":"What means <code>successful</code>?"},{"owner":{"account_id":23143405,"reputation":3,"user_id":17246500,"display_name":"Patryk"},"score":0,"creation_date":1635264194,"post_id":69726253,"comment_id":123248087,"body_markdown":"@KunLun it means the code will be 200","body":"@KunLun it means the code will be 200"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1635264745,"post_id":69726253,"comment_id":123248355,"body_markdown":"The status code will be in the response. That is all you need.","body":"The status code will be in the response. That is all you need."}],"answers":[{"tags":[],"owner":{"account_id":238638,"reputation":131,"user_id":507668,"display_name":"PazsitZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635264597,"creation_date":1635264597,"answer_id":69726545,"question_id":69726253,"body_markdown":"As it was already mentioned in the question, you can check the response status.\r\n\r\n - 2xx statuses considered as successful,  \r\n - 3xx can be also turn out as \r\n   successful, you should use followRedirect.\r\n\r\n[https://developer.mozilla.org/en-US/docs/Web/HTTP/Status][1]\r\n\r\n\r\nDepends on the API, it can return with success status, while the response body has content which could still mean an error.\r\n\r\ne.g.: [https://www.baeldung.com/java-http-request][2]\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\r\n  [2]: https://www.baeldung.com/java-http-request","title":"How is the easiest way to check if the response to the request is succesful or not?","body":"<p>As it was already mentioned in the question, you can check the response status.</p>\n<ul>\n<li>2xx statuses considered as successful,</li>\n<li>3xx can be also turn out as\nsuccessful, you should use followRedirect.</li>\n</ul>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Status</a></p>\n<p>Depends on the API, it can return with success status, while the response body has content which could still mean an error.</p>\n<p>e.g.: <a href=\"https://www.baeldung.com/java-http-request\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-http-request</a></p>\n"}],"owner":{"account_id":23143405,"reputation":3,"user_id":17246500,"display_name":"Patryk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1699,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635370755,"accepted_answer_id":69726545,"answer_count":1,"score":-2,"last_activity_date":1635264597,"creation_date":1635263448,"question_id":69726253,"body_markdown":"I need a simple synchronous function that checks if the response to a specific url is successful or returns an error, for example 404.\r\n\r\nFor example:\r\n\r\nhttps://api.com/articles/1 -&gt; response returns sth with code 200\r\n\r\nhttps://api.com/articles/1 -&gt; response returns error 404","title":"How is the easiest way to check if the response to the request is succesful or not?","body":"<p>I need a simple synchronous function that checks if the response to a specific url is successful or returns an error, for example 404.</p>\n<p>For example:</p>\n<p><a href=\"https://api.com/articles/1\" rel=\"nofollow noreferrer\">https://api.com/articles/1</a> -&gt; response returns sth with code 200</p>\n<p><a href=\"https://api.com/articles/1\" rel=\"nofollow noreferrer\">https://api.com/articles/1</a> -&gt; response returns error 404</p>\n"},{"tags":["java","android","android-studio","webview","android-webview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635265588,"post_id":69726538,"comment_id":123248732,"body_markdown":"I see no upload image button.","body":"I see no upload image button."},{"owner":{"account_id":18771617,"reputation":101,"user_id":13688315,"display_name":"YahyaST18"},"score":0,"creation_date":1635265906,"post_id":69726538,"comment_id":123248863,"body_markdown":"the upload image button is on the website not on this code as i followed up in the tutorial ,he did this to show a website like it is on the app, i dont know if there some permission to allow image uploads or somthing so it can work, it works fine on the website @blackapps","body":"the upload image button is on the website not on this code as i followed up in the tutorial ,he did this to show a website like it is on the app, i dont know if there some permission to allow image uploads or somthing so it can work, it works fine on the website @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635266964,"post_id":69726538,"comment_id":123249297,"body_markdown":"https://stackoverflow.com/questions/69687570/open-file-after-downloading-android-studio?noredirect=1#comment123180551_69687570","body":"<a href=\"https://stackoverflow.com/questions/69687570/open-file-after-downloading-android-studio?noredirect=1#comment123180551_69687570\" title=\"open file after downloading android studio\">stackoverflow.com/questions/69687570/&hellip;</a>"}],"owner":{"account_id":18771617,"reputation":101,"user_id":13688315,"display_name":"YahyaST18"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635264583,"creation_date":1635264583,"question_id":69726538,"body_markdown":"hello friends i just followed a tutorial on how to convert my website to an app using webview in android studio\r\ni tested the app and find out that upload image button is not working\r\nthis is the code that i copied from the tutorial\r\nAndriodManifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.krilidz&quot;&gt;\r\n        &lt;uses-permission  android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    \r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.KriliDZ&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nMainActivity.java:\r\n\r\n    package com.example.krilidz;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.graphics.Bitmap;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private WebView mywebView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            mywebView=(WebView) findViewById(R.id.webview);\r\n            mywebView.setWebViewClient(new WebViewClient());\r\n            mywebView.loadUrl(&quot;https://www.krilidz.com/ar/&quot;);\r\n            WebSettings webSettings=mywebView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n        }\r\n        public class mywebClient extends WebViewClient{\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon){\r\n                super.onPageStarted(view,url,favicon);\r\n            }\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view,String url){\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n        }\r\n        @Override\r\n        public void onBackPressed(){\r\n            if(mywebView.canGoBack()) {\r\n                mywebView.goBack();\r\n            }\r\n            else{\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    }\r\n\r\nim sorry if this is a silly question it&#39;s my first time doing something like this, thank you","title":"File upload button not working in webview android studio","body":"<p>hello friends i just followed a tutorial on how to convert my website to an app using webview in android studio\ni tested the app and find out that upload image button is not working\nthis is the code that i copied from the tutorial\nAndriodManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.krilidz&quot;&gt;\n    &lt;uses-permission  android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.KriliDZ&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>package com.example.krilidz;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\npublic class MainActivity extends AppCompatActivity {\n    private WebView mywebView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mywebView=(WebView) findViewById(R.id.webview);\n        mywebView.setWebViewClient(new WebViewClient());\n        mywebView.loadUrl(&quot;https://www.krilidz.com/ar/&quot;);\n        WebSettings webSettings=mywebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n    }\n    public class mywebClient extends WebViewClient{\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon){\n            super.onPageStarted(view,url,favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view,String url){\n            view.loadUrl(url);\n            return true;\n        }\n    }\n    @Override\n    public void onBackPressed(){\n        if(mywebView.canGoBack()) {\n            mywebView.goBack();\n        }\n        else{\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>im sorry if this is a silly question it's my first time doing something like this, thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","jpa-2.0"],"answers":[{"tags":[],"owner":{"account_id":23135533,"reputation":107,"user_id":17239818,"display_name":"NARASIMHA RAO NANDIKONDA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635264541,"creation_date":1635264143,"answer_id":69726427,"question_id":69724913,"body_markdown":"you can use **case** in a query that is similar to the if condition.\r\nIn your case, the query should be like this\r\n\r\n    select a.id, (case when(a.name is null and b.name is not null) then \r\n    b.name else a.name end) as name, a.active from &quot;tableA&quot; as a\r\n    left join &quot;tableB&quot; b on a.id=b.id;\r\n\r\nalso, you can use **if-condition** which is similar to the **case** and it should be like this.\r\n\r\n    SELECT col1, col2, IF( action = 2 AND state = 0, 1, 0 ) AS state from tbl1;\r\n\r\nOR\r\n\r\n    SELECT col1, col2, (case when (action = 2 and state = 0) then 1 else 0 end) as state from tbl1;\r\n\r\n","title":"Merge two similar tables using JPA","body":"<p>you can use <strong>case</strong> in a query that is similar to the if condition.\nIn your case, the query should be like this</p>\n<pre><code>select a.id, (case when(a.name is null and b.name is not null) then \nb.name else a.name end) as name, a.active from &quot;tableA&quot; as a\nleft join &quot;tableB&quot; b on a.id=b.id;\n</code></pre>\n<p>also, you can use <strong>if-condition</strong> which is similar to the <strong>case</strong> and it should be like this.</p>\n<pre><code>SELECT col1, col2, IF( action = 2 AND state = 0, 1, 0 ) AS state from tbl1;\n</code></pre>\n<p>OR</p>\n<pre><code>SELECT col1, col2, (case when (action = 2 and state = 0) then 1 else 0 end) as state from tbl1;\n</code></pre>\n"}],"owner":{"account_id":7341842,"reputation":176,"user_id":5591035,"display_name":"Karine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635264541,"creation_date":1635258247,"question_id":69724913,"body_markdown":"We have two similar tables with a lot of common columns\r\n\r\nTable AA\r\n\r\nId, Name, Active ...\r\n\r\n1,A,1\r\n\r\n2,null,1\r\n\r\n\r\n\r\nTable BB\r\n\r\nId, Name, Active ...\r\n\r\n2,from_B,0\r\n\r\nI need to get the AA table, but whenever there is a field in the AA table that is null, but meanwhile with the same id that field in the BB table is not null, I want to rewrite that field from the second table. For above example I want to get this result\r\n \r\n1,A,1\r\n\r\n2,from_B,1\r\n\r\n\r\nI tried something like this \r\n\r\nselect * \r\nfrom AA left join BB on AA.id=BB.id\r\n\r\nAnd in this query instead of * choose all the fields that appear in table AA, and replace them with corresponding field in BB in case of null, but seems like it is not a good solution when number of common fields are big enough. So is there any nice way to solve this problem by using spring boot and JPA?","title":"Merge two similar tables using JPA","body":"<p>We have two similar tables with a lot of common columns</p>\n<p>Table AA</p>\n<p>Id, Name, Active ...</p>\n<p>1,A,1</p>\n<p>2,null,1</p>\n<p>Table BB</p>\n<p>Id, Name, Active ...</p>\n<p>2,from_B,0</p>\n<p>I need to get the AA table, but whenever there is a field in the AA table that is null, but meanwhile with the same id that field in the BB table is not null, I want to rewrite that field from the second table. For above example I want to get this result</p>\n<p>1,A,1</p>\n<p>2,from_B,1</p>\n<p>I tried something like this</p>\n<p>select *\nfrom AA left join BB on AA.id=BB.id</p>\n<p>And in this query instead of * choose all the fields that appear in table AA, and replace them with corresponding field in BB in case of null, but seems like it is not a good solution when number of common fields are big enough. So is there any nice way to solve this problem by using spring boot and JPA?</p>\n"},{"tags":["java","gremlin","amazon-neptune"],"answers":[{"tags":[],"owner":{"account_id":7115613,"reputation":14979,"user_id":5442034,"display_name":"Kelvin Lawrence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631620969,"creation_date":1631620969,"answer_id":69177410,"question_id":69177224,"body_markdown":"A property value cannot be null when using Amazon Neptune. The property either exists on a vertex or edge, or it does not. You just need to test for that existence. \r\n\r\n```java\r\ng.V().has(‘start_dt’)\r\n```\r\n","title":"How to frame this query in gremlin","body":"<p>A property value cannot be null when using Amazon Neptune. The property either exists on a vertex or edge, or it does not. You just need to test for that existence.</p>\n<pre class=\"lang-java prettyprint-override\"><code>g.V().has(‘start_dt’)\n</code></pre>\n"}],"owner":{"account_id":22624714,"reputation":11,"user_id":16802954,"display_name":"Harish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635264264,"creation_date":1631620181,"question_id":69177224,"body_markdown":"I am using the Amazon Neptune graph database.  I have a SQL query  in Java.  \r\n\r\n```\r\nselect start_dt from maint_actv where rec_id = &quot;+ Id + &quot; and start_dt is not null limit 1\r\n```\r\n\r\nQ) How to express the &quot;start_dt is not null&quot; in Gremlin ?\r\n\r\n","title":"How to frame this query in gremlin","body":"<p>I am using the Amazon Neptune graph database.  I have a SQL query  in Java.</p>\n<pre><code>select start_dt from maint_actv where rec_id = &quot;+ Id + &quot; and start_dt is not null limit 1\n</code></pre>\n<p>Q) How to express the &quot;start_dt is not null&quot; in Gremlin ?</p>\n"},{"tags":["java","math","primes","algebra"],"comments":[{"owner":{"account_id":3753539,"reputation":9174,"user_id":3120489,"accept_rate":78,"display_name":"dabadaba"},"score":6,"creation_date":1487863918,"post_id":42419713,"comment_id":71985251,"body_markdown":"I strongly suggest you use a different name for the variable `isPrime`. When a variable starts with `is` (or `has`, `are`, etc...) it suggests it is a `boolean`, not an `int`.","body":"I strongly suggest you use a different name for the variable <code>isPrime</code>. When a variable starts with <code>is</code> (or <code>has</code>, <code>are</code>, etc...) it suggests it is a <code>boolean</code>, not an <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":6166733,"reputation":8522,"user_id":4806357,"accept_rate":84,"display_name":"Jarvis"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1487863788,"creation_date":1487863788,"answer_id":42419909,"question_id":42419713,"body_markdown":"Replace \r\n\r\n    primes[i] = isPrime;\r\n\r\nby\r\n\r\n    primes[ncounter] = isPrime;\r\n\r\nThis counter increments only when you put an element in the array, whereas, the variable `i` keeps on increasing and can also become greater than `n` since there is no condition on its limit in the for loop.","title":"Find the first n prime numbers and store them in an array","body":"<p>Replace </p>\n\n<pre><code>primes[i] = isPrime;\n</code></pre>\n\n<p>by</p>\n\n<pre><code>primes[ncounter] = isPrime;\n</code></pre>\n\n<p>This counter increments only when you put an element in the array, whereas, the variable <code>i</code> keeps on increasing and can also become greater than <code>n</code> since there is no condition on its limit in the for loop.</p>\n"},{"tags":[],"owner":{"account_id":7749203,"reputation":2005,"user_id":5865712,"accept_rate":75,"display_name":"Chris Sharp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623959880,"creation_date":1487863966,"answer_id":42419981,"question_id":42419713,"body_markdown":"You are using the wrong index for your primes array.&lt;br&gt;&lt;br&gt;\r\nChange this code:\r\n```java\r\nif (prime) {\r\n    primes[i] = isPrime;\r\n    ncounter++;\r\n}\r\n```\r\nto this: \r\n```java\r\nif (prime) {\r\n    primes[ncounter] = isPrime;\r\n    ncounter++;\r\n}\r\n```\r\n","title":"Find the first n prime numbers and store them in an array","body":"<p>You are using the wrong index for your primes array.<br><br>\nChange this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (prime) {\n    primes[i] = isPrime;\n    ncounter++;\n}\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (prime) {\n    primes[ncounter] = isPrime;\n    ncounter++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2493825,"reputation":1697,"user_id":2170766,"display_name":"RamPrakash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617039851,"creation_date":1487864032,"answer_id":42420008,"question_id":42419713,"body_markdown":"Issue is with `primes[i] = isPrime;` it should be `primes[ncounter] = isPrime;`\r\n\r\nYou don&#39;t need `i` variable at all, use while loop instead:\r\n```java\r\npublic static int[] firstNPrimes(int n) {\r\n    int[] primes = new int[n];\r\n    int ncounter = 0;\r\n    int isPrime = 2;\r\n    while (ncounter &lt; n) {\r\n        boolean prime = true;\r\n        for (int j = 2; j &lt; isPrime; j++) {\r\n            if (isPrime % j == 0) {\r\n                prime = false;\r\n                break;\r\n            }\r\n        }\r\n        if (prime) {\r\n            primes[ncounter] = isPrime;\r\n            ncounter++;\r\n        }\r\n        isPrime++;\r\n    }\r\n    return primes;\r\n}\r\n```\r\n","title":"Find the first n prime numbers and store them in an array","body":"<p>Issue is with <code>primes[i] = isPrime;</code> it should be <code>primes[ncounter] = isPrime;</code></p>\n<p>You don't need <code>i</code> variable at all, use while loop instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] firstNPrimes(int n) {\n    int[] primes = new int[n];\n    int ncounter = 0;\n    int isPrime = 2;\n    while (ncounter &lt; n) {\n        boolean prime = true;\n        for (int j = 2; j &lt; isPrime; j++) {\n            if (isPrime % j == 0) {\n                prime = false;\n                break;\n            }\n        }\n        if (prime) {\n            primes[ncounter] = isPrime;\n            ncounter++;\n        }\n        isPrime++;\n    }\n    return primes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9087181,"reputation":1269,"user_id":6764663,"accept_rate":100,"display_name":"Tanuj Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623959486,"creation_date":1487864083,"answer_id":42420028,"question_id":42419713,"body_markdown":"The problem with your code is that you have fixed the size of array to be `n`. And you are storing the found prime at `i`th index, but the `i` can exceed the value of `n`, thats why you are getting array out of bounds exception.\r\n\r\nReplace\r\n```java\r\nprimes[i] = isPrime\r\n```\r\nwith\r\n```java\r\nprimes[ncounter] = isPrime\r\n```\r\n","title":"Find the first n prime numbers and store them in an array","body":"<p>The problem with your code is that you have fixed the size of array to be <code>n</code>. And you are storing the found prime at <code>i</code>th index, but the <code>i</code> can exceed the value of <code>n</code>, thats why you are getting array out of bounds exception.</p>\n<p>Replace</p>\n<pre class=\"lang-java prettyprint-override\"><code>primes[i] = isPrime\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>primes[ncounter] = isPrime\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1210172,"reputation":6466,"user_id":1178888,"display_name":"Vince Pergolizzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487864236,"creation_date":1487864236,"answer_id":42420084,"question_id":42419713,"body_markdown":"In your initial solution, you were updating the counter i regardless if you found a new prime. This causes it to get ahead of the max size of the array. You can just use the ncounter variable and a while loop like so:\r\n\r\n    public static int[] firstNPrimes (int n) {\r\n        int[] primes = new int[n];\r\n        int ncounter = 0;\r\n        int isPrime = 2;\r\n\r\n        while (ncounter &lt; n) {\r\n            boolean prime = true;\r\n            for (int j=2; j&lt;isPrime; j++){\r\n                if (isPrime%j ==0){\r\n                    prime = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (prime){\r\n                primes[ncounter] = isPrime;\r\n                ncounter++;\r\n            }\r\n            isPrime++;\r\n        }\r\n\r\n        return primes;\r\n    }","title":"Find the first n prime numbers and store them in an array","body":"<p>In your initial solution, you were updating the counter i regardless if you found a new prime. This causes it to get ahead of the max size of the array. You can just use the ncounter variable and a while loop like so:</p>\n\n<pre><code>public static int[] firstNPrimes (int n) {\n    int[] primes = new int[n];\n    int ncounter = 0;\n    int isPrime = 2;\n\n    while (ncounter &lt; n) {\n        boolean prime = true;\n        for (int j=2; j&lt;isPrime; j++){\n            if (isPrime%j ==0){\n                prime = false;\n                break;\n            }\n        }\n        if (prime){\n            primes[ncounter] = isPrime;\n            ncounter++;\n        }\n        isPrime++;\n    }\n\n    return primes;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15495739"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616958968,"creation_date":1616958968,"answer_id":66845267,"question_id":42419713,"body_markdown":"A *prime number* is a natural number greater than 1 that is not a *product* of two smaller natural numbers.\r\n\r\nUsing *Java 8* you can find these numbers as follows:\r\n```java\r\nint n = 10;\r\nint[] primes = IntStream\r\n        // infinite sequential ordered IntStream\r\n        // starting at 2 in increments of 1\r\n        .iterate(2, i -&gt; i + 1)\r\n        // filter prime numbers\r\n        .filter(i -&gt; IntStream\r\n                // numbers from 2 to current number\r\n                .range(2, i)\r\n                // do not divide the current\r\n                // number without a remainder\r\n                .allMatch(j -&gt; i % j != 0))\r\n        // first &#39;n&#39; prime numbers\r\n        .limit(n)\r\n        // return an array\r\n        .toArray();\r\n\r\n// output\r\nSystem.out.println(Arrays.toString(primes));\r\n// [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]\r\n```\r\n","title":"Find the first n prime numbers and store them in an array","body":"<p>A <em>prime number</em> is a natural number greater than 1 that is not a <em>product</em> of two smaller natural numbers.</p>\n<p>Using <em>Java 8</em> you can find these numbers as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int n = 10;\nint[] primes = IntStream\n        // infinite sequential ordered IntStream\n        // starting at 2 in increments of 1\n        .iterate(2, i -&gt; i + 1)\n        // filter prime numbers\n        .filter(i -&gt; IntStream\n                // numbers from 2 to current number\n                .range(2, i)\n                // do not divide the current\n                // number without a remainder\n                .allMatch(j -&gt; i % j != 0))\n        // first 'n' prime numbers\n        .limit(n)\n        // return an array\n        .toArray();\n\n// output\nSystem.out.println(Arrays.toString(primes));\n// [2, 3, 5, 7, 11, 13, 17, 19, 23, 29]\n</code></pre>\n"}],"owner":{"account_id":10318165,"reputation":107,"user_id":7611887,"accept_rate":75,"display_name":"Polina Trotsenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13220,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":42420008,"answer_count":6,"score":2,"last_activity_date":1635263972,"creation_date":1487863206,"question_id":42419713,"body_markdown":"I need to find the first `n` *prime numbers* and store them in the array `primes`. With the help of stuff I found on stackoverflow I succeeded in find the first `n` numbers, but when I try to store them in the array, I get the `ArrayIndexOutOfBoundsException`...\r\n```java\r\npublic static int[] firstNPrimes(int n) {\r\n    int[] primes = new int[n];\r\n    int ncounter = 0;\r\n    int isPrime = 2;\r\n    for (int i = 0; ncounter &lt; n; i++) {\r\n        boolean prime = true;\r\n        for (int j = 2; j &lt; isPrime; j++) {\r\n            if (isPrime % j == 0) {\r\n                prime = false;\r\n                break;\r\n            }\r\n        }\r\n        if (prime) {\r\n            primes[i] = isPrime;\r\n            ncounter++;\r\n        }\r\n        isPrime++;\r\n    }\r\n    return primes;\r\n}\r\n```\r\n","title":"Find the first n prime numbers and store them in an array","body":"<p>I need to find the first <code>n</code> <em>prime numbers</em> and store them in the array <code>primes</code>. With the help of stuff I found on stackoverflow I succeeded in find the first <code>n</code> numbers, but when I try to store them in the array, I get the <code>ArrayIndexOutOfBoundsException</code>...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int[] firstNPrimes(int n) {\n    int[] primes = new int[n];\n    int ncounter = 0;\n    int isPrime = 2;\n    for (int i = 0; ncounter &lt; n; i++) {\n        boolean prime = true;\n        for (int j = 2; j &lt; isPrime; j++) {\n            if (isPrime % j == 0) {\n                prime = false;\n                break;\n            }\n        }\n        if (prime) {\n            primes[i] = isPrime;\n            ncounter++;\n        }\n        isPrime++;\n    }\n    return primes;\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"score":0,"creation_date":1635166347,"post_id":69708391,"comment_id":123215184,"body_markdown":"User `@RequestBody FilterDTOList filtres` and pass filters in request body.","body":"User <code>@RequestBody FilterDTOList filtres</code> and pass filters in request body."},{"owner":{"account_id":3083879,"reputation":888,"user_id":3910324,"display_name":"Nico"},"score":0,"creation_date":1635166555,"post_id":69708391,"comment_id":123215284,"body_markdown":"Could you provide more information? How are you doing the request to the service? Which HTTP verb are you using?","body":"Could you provide more information? How are you doing the request to the service? Which HTTP verb are you using?"},{"owner":{"account_id":16744354,"reputation":504,"user_id":12103109,"display_name":"CaptainAye"},"score":0,"creation_date":1635166805,"post_id":69708391,"comment_id":123215401,"body_markdown":"Can you provide stacktrace when 500 is thrown in the first example? It looks like there is no mapping defined for FilterDTO. Probably, if you inject request param to List&lt;String&gt; and then map from String to FilterDTO, it will work but it&#39;s hard to tell without additional context","body":"Can you provide stacktrace when 500 is thrown in the first example? It looks like there is no mapping defined for FilterDTO. Probably, if you inject request param to List&lt;String&gt; and then map from String to FilterDTO, it will work but it&#39;s hard to tell without additional context"},{"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"score":0,"creation_date":1635167227,"post_id":69708391,"comment_id":123215597,"body_markdown":"there is not stacktrace , it seems that it doesnt even go into the java method.","body":"there is not stacktrace , it seems that it doesnt even go into the java method."}],"answers":[{"tags":[],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635222719,"creation_date":1635222719,"answer_id":69717500,"question_id":69708391,"body_markdown":"try with array instead of List and then convert that array to List\r\n```\r\n    @PostMapping(value = &quot;/updateAllAffaires&quot;)\r\n    @ResponseBody\r\n    public List&lt;FilterDTO&gt; getSelectedGenes(@RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\r\n                                            @RequestBody FilterDTO[] filtersDto) {\r\n        List&lt;FilterDTO&gt; filters = new ArrayList&lt;&gt;();\r\n        // here you can use the logic to convert array to list\r\n        return filters;\r\n    }\r\n```","title":"Spring Rest : pass an object in RequestParam","body":"<p>try with array instead of List and then convert that array to List</p>\n<pre><code>    @PostMapping(value = &quot;/updateAllAffaires&quot;)\n    @ResponseBody\n    public List&lt;FilterDTO&gt; getSelectedGenes(@RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\n                                            @RequestBody FilterDTO[] filtersDto) {\n        List&lt;FilterDTO&gt; filters = new ArrayList&lt;&gt;();\n        // here you can use the logic to convert array to list\n        return filters;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23134509,"reputation":91,"user_id":17238919,"display_name":"Nirmal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635263894,"creation_date":1635263894,"answer_id":69726368,"question_id":69708391,"body_markdown":"Try using @ModelAttribute or @Requestbody instead of @RequestParam.\r\n    \r\n    public List&lt;Affaire&gt; getAllAffaires(\r\n                 @RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\r\n                 @ModelAttribute(value = &quot;filtres&quot;, required = false) List&lt;FilterDTO&gt; filtres)\r\n\r\n\r\nYou can read [this][1] answer for better understanding. [This][2] will also help.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29370581/spring-mvc-please-explain-difference-between-requestparam-and-modelattribute\r\n  [2]: https://stackoverflow.com/questions/33354534/spring-mvc-requestparam-a-list-of-objects","title":"Spring Rest : pass an object in RequestParam","body":"<p>Try using @ModelAttribute or @Requestbody instead of @RequestParam.</p>\n<pre><code>public List&lt;Affaire&gt; getAllAffaires(\n             @RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\n             @ModelAttribute(value = &quot;filtres&quot;, required = false) List&lt;FilterDTO&gt; filtres)\n</code></pre>\n<p>You can read <a href=\"https://stackoverflow.com/questions/29370581/spring-mvc-please-explain-difference-between-requestparam-and-modelattribute\">this</a> answer for better understanding. <a href=\"https://stackoverflow.com/questions/33354534/spring-mvc-requestparam-a-list-of-objects\">This</a> will also help.</p>\n"}],"owner":{"account_id":9697518,"reputation":1221,"user_id":7193486,"accept_rate":17,"display_name":"thomas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1635263894,"creation_date":1635166188,"question_id":69708391,"body_markdown":"I want to pass a list of objects in my request through @RequestParam but it doesn&#39;t work.  \r\nIf I do : \r\n\r\n     public List&lt;Affaire&gt; getAllAffaires(\r\n                     @RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\r\n                     @RequestParam(value = &quot;filtres&quot;, required = false) List&lt;FilterDTO&gt; filtres)\r\n\r\nIt doesnt go into the method, I get a 500 Error.  \r\nIf I do : \r\n\r\n     public List&lt;Affaire&gt; getAllAffaires(\r\n                     @RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\r\n                     List&lt;FilterDTO&gt; filtres)\r\n\r\nI am getting a :\r\n\r\n    Unable to evaluate the expression Method threw &#39;java.lang.IllegalArgumentException&#39; exception.\r\n\r\nIf I pass another object which contains the list as : \r\n\r\n     public List&lt;Affaire&gt; getAllAffaires(\r\n                     @RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\r\n                     FilterDTOList filtres)\r\n\r\nI get into the method but the property listFiltre of FilterDTOList is always null.\r\n\r\nIn Front Side (AngularJS) the call is : \r\n\r\n    function Affaire ($resource, DateUtils) {\r\n            var resourceUrl =  &#39;api/affaires/:id&#39;;\r\n    \r\n            return $resource(resourceUrl, {}, {\r\n                &#39;query&#39;: { method: &#39;GET&#39;, isArray: true,\r\n                    params:{\r\n                        consultantId:&#39;@consultantId&#39;,\r\n                        filtres:&#39;@filtres&#39;\r\n                    },\r\n\r\nHow can I do pass my List&lt;FilterDto&gt; as a parameter of my request?\r\n","title":"Spring Rest : pass an object in RequestParam","body":"<p>I want to pass a list of objects in my request through @RequestParam but it doesn't work.<br />\nIf I do :</p>\n<pre><code> public List&lt;Affaire&gt; getAllAffaires(\n                 @RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\n                 @RequestParam(value = &quot;filtres&quot;, required = false) List&lt;FilterDTO&gt; filtres)\n</code></pre>\n<p>It doesnt go into the method, I get a 500 Error.<br />\nIf I do :</p>\n<pre><code> public List&lt;Affaire&gt; getAllAffaires(\n                 @RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\n                 List&lt;FilterDTO&gt; filtres)\n</code></pre>\n<p>I am getting a :</p>\n<pre><code>Unable to evaluate the expression Method threw 'java.lang.IllegalArgumentException' exception.\n</code></pre>\n<p>If I pass another object which contains the list as :</p>\n<pre><code> public List&lt;Affaire&gt; getAllAffaires(\n                 @RequestParam(value = &quot;consultantId&quot;, required = false) Long consultantId,\n                 FilterDTOList filtres)\n</code></pre>\n<p>I get into the method but the property listFiltre of FilterDTOList is always null.</p>\n<p>In Front Side (AngularJS) the call is :</p>\n<pre><code>function Affaire ($resource, DateUtils) {\n        var resourceUrl =  'api/affaires/:id';\n\n        return $resource(resourceUrl, {}, {\n            'query': { method: 'GET', isArray: true,\n                params:{\n                    consultantId:'@consultantId',\n                    filtres:'@filtres'\n                },\n</code></pre>\n<p>How can I do pass my List as a parameter of my request?</p>\n"},{"tags":["java","algorithm","debugging","distributed-computing","distributed-system"],"answers":[{"tags":[],"owner":{"account_id":2691985,"reputation":116,"user_id":5712148,"display_name":"Arnaud Casteigts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635263801,"creation_date":1635263801,"answer_id":69726351,"question_id":69723662,"body_markdown":"If the topology is started automatically, as in this example,\r\n\r\n```\r\npublic static void main(String[] args){\r\n    Topology topology = new Topology();\r\n    new JViewer(topology);\r\n    topology.start();\r\n}\r\n```\r\n\r\nthen the topology is already running when you add the nodes. Consequently, the `onStart()` method on each node is called as soon as you add it to the topology (which indeed, makes them start in a non synchronized way). \r\n\r\nOne solution here is to remove the call to `topology.start()` and start the topology manually once all the nodes have been added. This can be done in the context menu (right click &gt; &quot;start execution&quot;).","title":"How to make nodes wait till the topology is defined","body":"<p>If the topology is started automatically, as in this example,</p>\n<pre><code>public static void main(String[] args){\n    Topology topology = new Topology();\n    new JViewer(topology);\n    topology.start();\n}\n</code></pre>\n<p>then the topology is already running when you add the nodes. Consequently, the <code>onStart()</code> method on each node is called as soon as you add it to the topology (which indeed, makes them start in a non synchronized way).</p>\n<p>One solution here is to remove the call to <code>topology.start()</code> and start the topology manually once all the nodes have been added. This can be done in the context menu (right click &gt; &quot;start execution&quot;).</p>\n"}],"owner":{"account_id":23149041,"reputation":13,"user_id":17251385,"display_name":"Akka ZEMMARI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69726351,"answer_count":1,"score":1,"last_activity_date":1635263801,"creation_date":1635253487,"question_id":69723662,"body_markdown":"I&#39;m trying to implement a distributed algorithm on JBotSim. When I define the entire topology in my Main class, my algorithm works, but when I draw my graph on the canvas, it seems that first drawn nodes start the algorithm before I finish drawing my graph making my algorithm completely desynchronized. \r\n\r\nAny idea how I can fix this issue?\r\n\r\nThank you.","title":"How to make nodes wait till the topology is defined","body":"<p>I'm trying to implement a distributed algorithm on JBotSim. When I define the entire topology in my Main class, my algorithm works, but when I draw my graph on the canvas, it seems that first drawn nodes start the algorithm before I finish drawing my graph making my algorithm completely desynchronized.</p>\n<p>Any idea how I can fix this issue?</p>\n<p>Thank you.</p>\n"},{"tags":["java","testing","rest-assured"],"owner":{"account_id":15172366,"reputation":81,"user_id":10948034,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635263668,"creation_date":1635263668,"question_id":69726312,"body_markdown":"Currently RestAssured&#39;s only way to force a TLS version when making a request is to use a deprecated class (`SslSocketFactory`), and setting the `SSLConfig` to use a `SslSocketFactory` initialized with a `SSLContext` set to some TLS version. \r\n\r\nIs there another way to do this with RestAssured, or are there any other java testing frameworks that would allow for this customization? \r\n\r\n","title":"RestAssured customize TLS version","body":"<p>Currently RestAssured's only way to force a TLS version when making a request is to use a deprecated class (<code>SslSocketFactory</code>), and setting the <code>SSLConfig</code> to use a <code>SslSocketFactory</code> initialized with a <code>SSLContext</code> set to some TLS version.</p>\n<p>Is there another way to do this with RestAssured, or are there any other java testing frameworks that would allow for this customization?</p>\n"},{"tags":["java","sftp"],"answers":[{"tags":[],"owner":{"account_id":78263,"reputation":11435,"user_id":222851,"accept_rate":88,"display_name":"pakore"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1276967845,"creation_date":1276967845,"answer_id":3076479,"question_id":3076443,"body_markdown":"http://sourceforge.net/projects/javasecureftpd/","title":"Java SFTP server library?","body":"<p><a href=\"http://sourceforge.net/projects/javasecureftpd/\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/javasecureftpd/</a></p>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1433754600,"creation_date":1276983849,"answer_id":3077347,"question_id":3076443,"body_markdown":"Please notice that SFTP is a not FTP over SSL, nor FTP over SSH. The SFTP server support requires an implementation of SSHD in Java. Your best bet is Apache SSHD,\r\n\r\nhttp://mina.apache.org/sshd-project/\r\n\r\nI never used the SFTP but I heard it&#39;s basic but functional.\r\n","title":"Java SFTP server library?","body":"<p>Please notice that SFTP is a not FTP over SSL, nor FTP over SSH. The SFTP server support requires an implementation of SSHD in Java. Your best bet is Apache SSHD,</p>\n\n<p><a href=\"http://mina.apache.org/sshd-project/\" rel=\"nofollow noreferrer\">http://mina.apache.org/sshd-project/</a></p>\n\n<p>I never used the SFTP but I heard it's basic but functional.</p>\n"},{"tags":[],"owner":{"account_id":38091,"reputation":996,"user_id":109114,"display_name":"Bruce Blackshaw"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1277829201,"creation_date":1277829201,"answer_id":3142732,"question_id":3076443,"body_markdown":"Take a look at [SSHTools (j2ssh)][1]. It includes a client and server. \r\n\r\nHowever polling a directory isn&#39;t that bad an idea - it&#39;s probably much more reliable than setting up your own SFTP server using j2ssh. I&#39;ve lost count of the number of applications I&#39;ve encountered that do this kind of polling, and it usually works quite well.\r\n\r\n\r\n  [1]: http://sourceforge.net/projects/sshtools/","title":"Java SFTP server library?","body":"<p>Take a look at <a href=\"http://sourceforge.net/projects/sshtools/\" rel=\"nofollow noreferrer\">SSHTools (j2ssh)</a>. It includes a client and server. </p>\n\n<p>However polling a directory isn't that bad an idea - it's probably much more reliable than setting up your own SFTP server using j2ssh. I've lost count of the number of applications I've encountered that do this kind of polling, and it usually works quite well.</p>\n"},{"tags":[],"owner":{"account_id":1169102,"reputation":7,"user_id":1146684,"display_name":"valera shibaev"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1326412859,"creation_date":1326412859,"answer_id":8844158,"question_id":3076443,"body_markdown":"i am using jftp http://j-ftp.sourceforge.net/\r\nextract jftp.jar from j-ftp-*.tgz/j-ftp/dist\r\nthe only problem - they put apache classes inside there jar (so i have to remove common-httpclient, log4j packages manually to avoid conflicting dependencies)\r\n","title":"Java SFTP server library?","body":"<p>i am using jftp <a href=\"http://j-ftp.sourceforge.net/\" rel=\"nofollow\">http://j-ftp.sourceforge.net/</a>\nextract jftp.jar from j-ftp-*.tgz/j-ftp/dist\nthe only problem - they put apache classes inside there jar (so i have to remove common-httpclient, log4j packages manually to avoid conflicting dependencies)</p>\n"},{"tags":[],"owner":{"account_id":1147310,"reputation":2661,"user_id":1129781,"display_name":"Gijs Overvliet"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1356003205,"creation_date":1327334295,"answer_id":8974515,"question_id":3076443,"body_markdown":"How to setup an SFTP server using [Apache Mina SSHD][1]:\r\n\r\n    public void setupSftpServer(){\r\n\t\tSshServer sshd = SshServer.setUpDefaultServer();\r\n\t\tsshd.setPort(22);\r\n\t\tsshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(&quot;hostkey.ser&quot;));\r\n\t\t\r\n\t\tList&lt;NamedFactory&lt;UserAuth&gt;&gt; userAuthFactories = new ArrayList&lt;NamedFactory&lt;UserAuth&gt;&gt;();\r\n\t\tuserAuthFactories.add(new UserAuthNone.Factory());\r\n\t\tsshd.setUserAuthFactories(userAuthFactories);\r\n\t\t\r\n\t\tsshd.setCommandFactory(new ScpCommandFactory());\r\n\t\t\r\n\t\tList&lt;NamedFactory&lt;Command&gt;&gt; namedFactoryList = new ArrayList&lt;NamedFactory&lt;Command&gt;&gt;();\r\n\t\tnamedFactoryList.add(new SftpSubsystem.Factory());\r\n\t\tsshd.setSubsystemFactories(namedFactoryList);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tsshd.start();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\n  [1]: https://mina.apache.org/sshd-project/index.html\r\nAnd that&#39;s all.","title":"Java SFTP server library?","body":"<p>How to setup an SFTP server using <a href=\"https://mina.apache.org/sshd-project/index.html\" rel=\"noreferrer\">Apache Mina SSHD</a>:</p>\n\n<pre><code>public void setupSftpServer(){\n    SshServer sshd = SshServer.setUpDefaultServer();\n    sshd.setPort(22);\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(\"hostkey.ser\"));\n\n    List&lt;NamedFactory&lt;UserAuth&gt;&gt; userAuthFactories = new ArrayList&lt;NamedFactory&lt;UserAuth&gt;&gt;();\n    userAuthFactories.add(new UserAuthNone.Factory());\n    sshd.setUserAuthFactories(userAuthFactories);\n\n    sshd.setCommandFactory(new ScpCommandFactory());\n\n    List&lt;NamedFactory&lt;Command&gt;&gt; namedFactoryList = new ArrayList&lt;NamedFactory&lt;Command&gt;&gt;();\n    namedFactoryList.add(new SftpSubsystem.Factory());\n    sshd.setSubsystemFactories(namedFactoryList);\n\n    try {\n        sshd.start();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And that's all.</p>\n"},{"tags":[],"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1635263619,"creation_date":1344758010,"answer_id":11920600,"question_id":3076443,"body_markdown":"Just for completeness - the [SecureBlackbox][1] library, which we maintain, offers classes to create your own SSH/SFTP server in Java (including Android).\r\n\r\n\r\n  [1]: https://www.nsoftware.com/sbb/","title":"Java SFTP server library?","body":"<p>Just for completeness - the <a href=\"https://www.nsoftware.com/sbb/\" rel=\"nofollow noreferrer\">SecureBlackbox</a> library, which we maintain, offers classes to create your own SSH/SFTP server in Java (including Android).</p>\n"},{"tags":[],"owner":{"account_id":3311257,"reputation":347,"user_id":2784715,"display_name":"Richard Sandoz"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1396353604,"creation_date":1396353604,"answer_id":22785239,"question_id":3076443,"body_markdown":"I tried doing MINA 0.10.1 on Windows with the above and fixed some issues, plus I need better authentication and PK support (still not recommended for production use):\r\n\r\n    import java.io.File;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.PrintWriter;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import java.util.Scanner;\r\n    \r\n    import java.math.BigInteger;\r\n    \r\n    import java.security.PublicKey;\r\n    import java.security.interfaces.RSAPublicKey;\r\n    import java.security.interfaces.DSAPublicKey;\r\n    \r\n    import java.security.KeyFactory;\r\n    \r\n    import java.security.spec.KeySpec;\r\n    import java.security.spec.DSAPublicKeySpec;\r\n    import java.security.spec.RSAPublicKeySpec;\r\n    \r\n    import org.apache.sshd.common.NamedFactory;\r\n    \r\n    import org.apache.sshd.SshServer;\r\n    import org.apache.sshd.server.Command;\r\n    import org.apache.sshd.server.command.ScpCommandFactory;\r\n    import org.apache.sshd.server.keyprovider.SimpleGeneratorHostKeyProvider;\r\n    import org.apache.sshd.server.PasswordAuthenticator;\r\n    import org.apache.sshd.server.PublickeyAuthenticator;\r\n    import org.apache.sshd.server.session.ServerSession;\r\n    import org.apache.sshd.server.sftp.SftpSubsystem;\r\n    import org.apache.sshd.server.shell.ProcessShellFactory;\r\n    import org.apache.sshd.server.UserAuth;\r\n    import org.apache.sshd.server.auth.UserAuthPassword;\r\n    import org.apache.sshd.server.auth.UserAuthPublicKey;\r\n    \r\n    import org.apache.sshd.common.KeyExchange;\r\n    //import org.apache.sshd.server.kex.DHGEX;\r\n    //import org.apache.sshd.server.kex.DHGEX256;\r\n    import org.apache.sshd.server.kex.ECDHP256;\r\n    import org.apache.sshd.server.kex.ECDHP384;\r\n    import org.apache.sshd.server.kex.ECDHP521;\r\n    import org.apache.sshd.server.kex.DHG1;\r\n    \r\n    import org.apache.mina.util.Base64;\r\n    /*\r\n    javac -classpath .;lib/sshd-core-0.10.1.jar;lib/mina-core-2.0.7.jar;lib/waffle-jna.jar;lib/guava-13.0.1.jar;lib/jna-platform-4.0.0.jar;lib/jna-4.0.0.jar SFTPServer.java\r\n    java -classpath .;lib/sshd-core-0.10.1.jar;lib/slf4j-simple-1.7.6.jar;lib/slf4j-api-1.6.6.jar;lib/mina-core-2.0.7.jar;lib/waffle-jna.jar;lib/guava-13.0.1.jar;lib/jna-platform-4.0.0.jar;lib/jna-4.0.0.jar SFTPServer\r\n    */\r\n    public class SFTPServer {\r\n      public void setupSftpServer() throws Exception {\r\n    \r\n        class AuthorizedKeyEntry {\r\n          private String keyType;\r\n          private String pubKey;\r\n          \r\n          private byte[] bytes;\r\n          private int pos;\r\n          private PublicKey key = null;\r\n      \r\n          private int decodeInt() {\r\n            return ((bytes[pos++] &amp; 0xFF) &lt;&lt; 24) | ((bytes[pos++] &amp; 0xFF) &lt;&lt; 16)\r\n                    | ((bytes[pos++] &amp; 0xFF) &lt;&lt; 8) | (bytes[pos++] &amp; 0xFF);\r\n          }\r\n          \r\n          private BigInteger decodeBigInt() {\r\n            int len = decodeInt();\r\n            byte[] bigIntBytes = new byte[len];\r\n            System.arraycopy(bytes, pos, bigIntBytes, 0, len);\r\n            pos += len;\r\n            return new BigInteger(bigIntBytes);\r\n          }\r\n      \r\n          private void decodeType() {\r\n            int len = decodeInt();\r\n            keyType = new String(bytes, pos, len);\r\n            pos += len;\r\n          }\r\n      \r\n          public PublicKey getPubKey()  {\r\n            return key;\r\n          }\r\n          \r\n          public void setPubKey(PublicKey key) throws Exception {\r\n            this.key = key;\r\n            ByteArrayOutputStream byteOs = new ByteArrayOutputStream();\r\n            DataOutputStream dos = new DataOutputStream(byteOs);\r\n            if (key instanceof RSAPublicKey) {\r\n              keyType = &quot;ssh-rsa&quot;;\r\n              dos.writeInt(keyType.getBytes().length);\r\n              dos.write(keyType.getBytes());\r\n      \r\n              RSAPublicKey rsakey = (RSAPublicKey)key;\r\n              BigInteger e = rsakey.getPublicExponent();\r\n              dos.writeInt(e.toByteArray().length);\r\n              dos.write(e.toByteArray());\r\n              BigInteger m = rsakey.getModulus();\r\n              dos.writeInt(m.toByteArray().length);\r\n              dos.write(m.toByteArray());\r\n            } else if (key instanceof DSAPublicKey) {\r\n              keyType = &quot;ssh-dss&quot;;\r\n              dos.writeInt(keyType.getBytes().length);\r\n              dos.write(keyType.getBytes());\r\n      \r\n              DSAPublicKey dsskey = (DSAPublicKey)key;\r\n              BigInteger p = dsskey.getParams().getP();\r\n              dos.writeInt(p.toByteArray().length);\r\n              dos.write(p.toByteArray());\r\n              BigInteger q = dsskey.getParams().getQ();\r\n              dos.writeInt(q.toByteArray().length);\r\n              dos.write(q.toByteArray());\r\n              BigInteger g = dsskey.getParams().getG();\r\n              dos.writeInt(g.toByteArray().length);\r\n              dos.write(g.toByteArray());\r\n              BigInteger y = dsskey.getY();\r\n              dos.writeInt(y.toByteArray().length);\r\n              dos.write(y.toByteArray());\r\n            } else {\r\n              throw new IllegalArgumentException(&quot;unknown key encoding &quot; + key.getAlgorithm());\r\n            }\r\n            bytes = byteOs.toByteArray();\r\n            this.pubKey = new String(Base64.encodeBase64(bytes));\r\n          }\r\n      \r\n          public void setPubKey(String pubKey) throws Exception {\r\n            this.pubKey = pubKey;\r\n            bytes = Base64.decodeBase64(pubKey.getBytes());\r\n            if (bytes == null)\r\n              return;\r\n            decodeType();\r\n            if (keyType.equals(&quot;ssh-rsa&quot;)) {\r\n              BigInteger e = decodeBigInt();\r\n              BigInteger m = decodeBigInt();\r\n              KeySpec spec = new RSAPublicKeySpec(m, e);\r\n              key = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(spec);\r\n            } else if (keyType.equals(&quot;ssh-dss&quot;)) {\r\n              BigInteger p = decodeBigInt();\r\n              BigInteger q = decodeBigInt();\r\n              BigInteger g = decodeBigInt();\r\n              BigInteger y = decodeBigInt();\r\n              KeySpec spec = new DSAPublicKeySpec(y, p, q, g);\r\n              key = KeyFactory.getInstance(&quot;DSA&quot;).generatePublic(spec);\r\n            } else {\r\n              throw new IllegalArgumentException(&quot;unknown type &quot; + keyType);\r\n            }\r\n          }\r\n        }\r\n    \r\n        final SshServer sshd = SshServer.setUpDefaultServer();\r\n        final Map&lt;ServerSession, PublicKey&gt; sessionKeys = new HashMap();\r\n    \r\n        class AuthorizedKeys extends HashMap&lt;String,AuthorizedKeyEntry&gt; {\r\n          private File file;\r\n        \r\n         \r\n          public void load(File file) throws Exception {\r\n            this.file = file;\r\n            Scanner scanner = new Scanner(file).useDelimiter(&quot;\\n&quot;);\r\n            while (scanner.hasNext())\r\n              decodePublicKey(scanner.next());\r\n            scanner.close();\r\n          }\r\n          \r\n          public void save() throws Exception {\r\n            PrintWriter w = new PrintWriter(file);\r\n            for (String username : keySet()) {\r\n              AuthorizedKeyEntry entry = get(username);\r\n              w.print(entry.keyType + &quot; &quot; + entry.pubKey + &quot; &quot; + username + &quot;\\n&quot;);\r\n            }\r\n            w.close();\r\n          }\r\n        \r\n          public void put(String username, PublicKey key) {\r\n            AuthorizedKeyEntry entry = new AuthorizedKeyEntry();\r\n            try {\r\n              entry.setPubKey(key);\r\n            } catch (Exception e) {\r\n              e.printStackTrace();\r\n            }\r\n            super.put(username,entry);\r\n          }\r\n        \r\n          private void decodePublicKey(String keyLine) throws Exception {\r\n            AuthorizedKeyEntry entry = new AuthorizedKeyEntry();\r\n            String[] toks = keyLine.split(&quot; &quot;);\r\n            String username = toks[toks.length-1];\r\n            for (String part : toks) {\r\n              if (part.startsWith(&quot;AAAA&quot;)) {\r\n                entry.setPubKey(part);\r\n                //bytes = Base64.decodeBase64(part.getBytes());\r\n                break;\r\n              }\r\n            }\r\n            super.put(username,entry);\r\n          }\r\n        };\r\n    \r\n        final AuthorizedKeys authenticUserKeys = new AuthorizedKeys(); // load authorized_keys\r\n        File file = new File(&quot;authorized_keys&quot;);\r\n        file.createNewFile(); // create if not exists\r\n        authenticUserKeys.load(file);\r\n          \r\n    \r\n        sshd.setPort(22);\r\n        sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(&quot;key.ser&quot;));\r\n    \r\n        sshd.setShellFactory(new ProcessShellFactory(new String[] { &quot;cmd.exe &quot;}));\r\n    \r\n        sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n          public boolean authenticate(String username, String password, ServerSession session) {\r\n            boolean authentic = false;\r\n            try {\r\n              new waffle.windows.auth.impl.WindowsAuthProviderImpl().logonUser(username,password);\r\n              authentic = true;\r\n              //authentic = username != null &amp;&amp; username.equals(password+password); // obsecurity :)\r\n              if (authentic) {\r\n                PublicKey sessionKey = sessionKeys.get(session);\r\n                if (sessionKey != null)\r\n                  authenticUserKeys.put(username, sessionKey); //save entry to authorized_keys\r\n              }\r\n            } catch (Exception e) {\r\n              System.err.println(e);\r\n            }\r\n            return authentic;\r\n          }\r\n        });\r\n    \r\n        sshd.setPublickeyAuthenticator(new PublickeyAuthenticator() {\r\n          public boolean authenticate(String username, PublicKey key, ServerSession session) {\r\n            sessionKeys.put(session,key);\r\n            return key.equals(authenticUserKeys.get(username).getPubKey());\r\n          }\r\n        });\r\n        \r\n        sshd.setUserAuthFactories(Arrays.&lt;NamedFactory&lt;UserAuth&gt;&gt;asList(\r\n          new UserAuthPublicKey.Factory()\r\n          ,new UserAuthPassword.Factory()));\r\n    \r\n        sshd.setCommandFactory(new ScpCommandFactory());\r\n        \r\n        sshd.setSubsystemFactories(Arrays.&lt;NamedFactory&lt;Command&gt;&gt;asList(\r\n          new SftpSubsystem.Factory()));\r\n    \r\n        //workaround for apache sshd 10.0+ (putty)\r\n        sshd.setKeyExchangeFactories(Arrays.&lt;NamedFactory&lt;KeyExchange&gt;&gt;asList(\r\n          //new DHGEX256.Factory()\r\n          //,new DHGEX.Factory()\r\n          new ECDHP256.Factory()\r\n          ,new ECDHP384.Factory()\r\n          ,new ECDHP521.Factory()\r\n          ,new DHG1.Factory()));\r\n    \r\n        Runtime.getRuntime().addShutdownHook(new Thread() {\r\n          public void run() {\r\n            try {\r\n              authenticUserKeys.save();\r\n              System.out.println(&quot;Stopping&quot;);\r\n              sshd.stop();\r\n            } catch (Exception e) {\r\n              e.printStackTrace();\r\n            }\r\n          }\r\n        });\r\n    \r\n        System.out.println(&quot;Starting&quot;);    \r\n        try {\r\n          sshd.start();\r\n          Thread.sleep(Long.MAX_VALUE);\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      static public void main(String[] args) throws Exception {\r\n        new SFTPServer().setupSftpServer();\r\n      }\r\n    }\r\n","title":"Java SFTP server library?","body":"<p>I tried doing MINA 0.10.1 on Windows with the above and fixed some issues, plus I need better authentication and PK support (still not recommended for production use):</p>\n\n<pre><code>import java.io.File;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataOutputStream;\nimport java.io.PrintWriter;\n\nimport java.util.Arrays;\nimport java.util.Map;\nimport java.util.HashMap;\nimport java.util.Scanner;\n\nimport java.math.BigInteger;\n\nimport java.security.PublicKey;\nimport java.security.interfaces.RSAPublicKey;\nimport java.security.interfaces.DSAPublicKey;\n\nimport java.security.KeyFactory;\n\nimport java.security.spec.KeySpec;\nimport java.security.spec.DSAPublicKeySpec;\nimport java.security.spec.RSAPublicKeySpec;\n\nimport org.apache.sshd.common.NamedFactory;\n\nimport org.apache.sshd.SshServer;\nimport org.apache.sshd.server.Command;\nimport org.apache.sshd.server.command.ScpCommandFactory;\nimport org.apache.sshd.server.keyprovider.SimpleGeneratorHostKeyProvider;\nimport org.apache.sshd.server.PasswordAuthenticator;\nimport org.apache.sshd.server.PublickeyAuthenticator;\nimport org.apache.sshd.server.session.ServerSession;\nimport org.apache.sshd.server.sftp.SftpSubsystem;\nimport org.apache.sshd.server.shell.ProcessShellFactory;\nimport org.apache.sshd.server.UserAuth;\nimport org.apache.sshd.server.auth.UserAuthPassword;\nimport org.apache.sshd.server.auth.UserAuthPublicKey;\n\nimport org.apache.sshd.common.KeyExchange;\n//import org.apache.sshd.server.kex.DHGEX;\n//import org.apache.sshd.server.kex.DHGEX256;\nimport org.apache.sshd.server.kex.ECDHP256;\nimport org.apache.sshd.server.kex.ECDHP384;\nimport org.apache.sshd.server.kex.ECDHP521;\nimport org.apache.sshd.server.kex.DHG1;\n\nimport org.apache.mina.util.Base64;\n/*\njavac -classpath .;lib/sshd-core-0.10.1.jar;lib/mina-core-2.0.7.jar;lib/waffle-jna.jar;lib/guava-13.0.1.jar;lib/jna-platform-4.0.0.jar;lib/jna-4.0.0.jar SFTPServer.java\njava -classpath .;lib/sshd-core-0.10.1.jar;lib/slf4j-simple-1.7.6.jar;lib/slf4j-api-1.6.6.jar;lib/mina-core-2.0.7.jar;lib/waffle-jna.jar;lib/guava-13.0.1.jar;lib/jna-platform-4.0.0.jar;lib/jna-4.0.0.jar SFTPServer\n*/\npublic class SFTPServer {\n  public void setupSftpServer() throws Exception {\n\n    class AuthorizedKeyEntry {\n      private String keyType;\n      private String pubKey;\n\n      private byte[] bytes;\n      private int pos;\n      private PublicKey key = null;\n\n      private int decodeInt() {\n        return ((bytes[pos++] &amp; 0xFF) &lt;&lt; 24) | ((bytes[pos++] &amp; 0xFF) &lt;&lt; 16)\n                | ((bytes[pos++] &amp; 0xFF) &lt;&lt; 8) | (bytes[pos++] &amp; 0xFF);\n      }\n\n      private BigInteger decodeBigInt() {\n        int len = decodeInt();\n        byte[] bigIntBytes = new byte[len];\n        System.arraycopy(bytes, pos, bigIntBytes, 0, len);\n        pos += len;\n        return new BigInteger(bigIntBytes);\n      }\n\n      private void decodeType() {\n        int len = decodeInt();\n        keyType = new String(bytes, pos, len);\n        pos += len;\n      }\n\n      public PublicKey getPubKey()  {\n        return key;\n      }\n\n      public void setPubKey(PublicKey key) throws Exception {\n        this.key = key;\n        ByteArrayOutputStream byteOs = new ByteArrayOutputStream();\n        DataOutputStream dos = new DataOutputStream(byteOs);\n        if (key instanceof RSAPublicKey) {\n          keyType = \"ssh-rsa\";\n          dos.writeInt(keyType.getBytes().length);\n          dos.write(keyType.getBytes());\n\n          RSAPublicKey rsakey = (RSAPublicKey)key;\n          BigInteger e = rsakey.getPublicExponent();\n          dos.writeInt(e.toByteArray().length);\n          dos.write(e.toByteArray());\n          BigInteger m = rsakey.getModulus();\n          dos.writeInt(m.toByteArray().length);\n          dos.write(m.toByteArray());\n        } else if (key instanceof DSAPublicKey) {\n          keyType = \"ssh-dss\";\n          dos.writeInt(keyType.getBytes().length);\n          dos.write(keyType.getBytes());\n\n          DSAPublicKey dsskey = (DSAPublicKey)key;\n          BigInteger p = dsskey.getParams().getP();\n          dos.writeInt(p.toByteArray().length);\n          dos.write(p.toByteArray());\n          BigInteger q = dsskey.getParams().getQ();\n          dos.writeInt(q.toByteArray().length);\n          dos.write(q.toByteArray());\n          BigInteger g = dsskey.getParams().getG();\n          dos.writeInt(g.toByteArray().length);\n          dos.write(g.toByteArray());\n          BigInteger y = dsskey.getY();\n          dos.writeInt(y.toByteArray().length);\n          dos.write(y.toByteArray());\n        } else {\n          throw new IllegalArgumentException(\"unknown key encoding \" + key.getAlgorithm());\n        }\n        bytes = byteOs.toByteArray();\n        this.pubKey = new String(Base64.encodeBase64(bytes));\n      }\n\n      public void setPubKey(String pubKey) throws Exception {\n        this.pubKey = pubKey;\n        bytes = Base64.decodeBase64(pubKey.getBytes());\n        if (bytes == null)\n          return;\n        decodeType();\n        if (keyType.equals(\"ssh-rsa\")) {\n          BigInteger e = decodeBigInt();\n          BigInteger m = decodeBigInt();\n          KeySpec spec = new RSAPublicKeySpec(m, e);\n          key = KeyFactory.getInstance(\"RSA\").generatePublic(spec);\n        } else if (keyType.equals(\"ssh-dss\")) {\n          BigInteger p = decodeBigInt();\n          BigInteger q = decodeBigInt();\n          BigInteger g = decodeBigInt();\n          BigInteger y = decodeBigInt();\n          KeySpec spec = new DSAPublicKeySpec(y, p, q, g);\n          key = KeyFactory.getInstance(\"DSA\").generatePublic(spec);\n        } else {\n          throw new IllegalArgumentException(\"unknown type \" + keyType);\n        }\n      }\n    }\n\n    final SshServer sshd = SshServer.setUpDefaultServer();\n    final Map&lt;ServerSession, PublicKey&gt; sessionKeys = new HashMap();\n\n    class AuthorizedKeys extends HashMap&lt;String,AuthorizedKeyEntry&gt; {\n      private File file;\n\n\n      public void load(File file) throws Exception {\n        this.file = file;\n        Scanner scanner = new Scanner(file).useDelimiter(\"\\n\");\n        while (scanner.hasNext())\n          decodePublicKey(scanner.next());\n        scanner.close();\n      }\n\n      public void save() throws Exception {\n        PrintWriter w = new PrintWriter(file);\n        for (String username : keySet()) {\n          AuthorizedKeyEntry entry = get(username);\n          w.print(entry.keyType + \" \" + entry.pubKey + \" \" + username + \"\\n\");\n        }\n        w.close();\n      }\n\n      public void put(String username, PublicKey key) {\n        AuthorizedKeyEntry entry = new AuthorizedKeyEntry();\n        try {\n          entry.setPubKey(key);\n        } catch (Exception e) {\n          e.printStackTrace();\n        }\n        super.put(username,entry);\n      }\n\n      private void decodePublicKey(String keyLine) throws Exception {\n        AuthorizedKeyEntry entry = new AuthorizedKeyEntry();\n        String[] toks = keyLine.split(\" \");\n        String username = toks[toks.length-1];\n        for (String part : toks) {\n          if (part.startsWith(\"AAAA\")) {\n            entry.setPubKey(part);\n            //bytes = Base64.decodeBase64(part.getBytes());\n            break;\n          }\n        }\n        super.put(username,entry);\n      }\n    };\n\n    final AuthorizedKeys authenticUserKeys = new AuthorizedKeys(); // load authorized_keys\n    File file = new File(\"authorized_keys\");\n    file.createNewFile(); // create if not exists\n    authenticUserKeys.load(file);\n\n\n    sshd.setPort(22);\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(\"key.ser\"));\n\n    sshd.setShellFactory(new ProcessShellFactory(new String[] { \"cmd.exe \"}));\n\n    sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\n      public boolean authenticate(String username, String password, ServerSession session) {\n        boolean authentic = false;\n        try {\n          new waffle.windows.auth.impl.WindowsAuthProviderImpl().logonUser(username,password);\n          authentic = true;\n          //authentic = username != null &amp;&amp; username.equals(password+password); // obsecurity :)\n          if (authentic) {\n            PublicKey sessionKey = sessionKeys.get(session);\n            if (sessionKey != null)\n              authenticUserKeys.put(username, sessionKey); //save entry to authorized_keys\n          }\n        } catch (Exception e) {\n          System.err.println(e);\n        }\n        return authentic;\n      }\n    });\n\n    sshd.setPublickeyAuthenticator(new PublickeyAuthenticator() {\n      public boolean authenticate(String username, PublicKey key, ServerSession session) {\n        sessionKeys.put(session,key);\n        return key.equals(authenticUserKeys.get(username).getPubKey());\n      }\n    });\n\n    sshd.setUserAuthFactories(Arrays.&lt;NamedFactory&lt;UserAuth&gt;&gt;asList(\n      new UserAuthPublicKey.Factory()\n      ,new UserAuthPassword.Factory()));\n\n    sshd.setCommandFactory(new ScpCommandFactory());\n\n    sshd.setSubsystemFactories(Arrays.&lt;NamedFactory&lt;Command&gt;&gt;asList(\n      new SftpSubsystem.Factory()));\n\n    //workaround for apache sshd 10.0+ (putty)\n    sshd.setKeyExchangeFactories(Arrays.&lt;NamedFactory&lt;KeyExchange&gt;&gt;asList(\n      //new DHGEX256.Factory()\n      //,new DHGEX.Factory()\n      new ECDHP256.Factory()\n      ,new ECDHP384.Factory()\n      ,new ECDHP521.Factory()\n      ,new DHG1.Factory()));\n\n    Runtime.getRuntime().addShutdownHook(new Thread() {\n      public void run() {\n        try {\n          authenticUserKeys.save();\n          System.out.println(\"Stopping\");\n          sshd.stop();\n        } catch (Exception e) {\n          e.printStackTrace();\n        }\n      }\n    });\n\n    System.out.println(\"Starting\");    \n    try {\n      sshd.start();\n      Thread.sleep(Long.MAX_VALUE);\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n\n  static public void main(String[] args) throws Exception {\n    new SFTPServer().setupSftpServer();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":105447,"reputation":532,"user_id":281383,"display_name":"CB."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54567,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"closed_date":1421580968,"accepted_answer_id":8974515,"answer_count":7,"score":43,"last_activity_date":1635263619,"creation_date":1276967300,"question_id":3076443,"body_markdown":"Is there a Java library that can be used to implement an [SFTP](https://en.wikipedia.org/wiki/SSH_File_Transfer_Protocol) server?\r\n\r\nI&#39;m trying to receive files via SFTP, but I can&#39;t seem to find any implementation of an SFTP server.  I&#39;ve found FTP/SFTP/FTPS *client* libraries, and FTP/FTPS server libraries, but none for a server for SFTP.\r\n\r\nTo clarify, I&#39;m trying to *receive* files via SFTP.  Not &quot;get&quot; or &quot;put&quot; files from my application to another existing server.\r\n\r\nRight now my application lets the users connect to the local linux SFTP server, drop the files, and then my application polls the directory, but I feel that this is a poor implementation; I hate the idea of &quot;polling&quot; directories, but unfortunately they HAVE to use SFTP.  Any suggestions?","title":"Java SFTP server library?","body":"<p>Is there a Java library that can be used to implement an <a href=\"https://en.wikipedia.org/wiki/SSH_File_Transfer_Protocol\" rel=\"noreferrer\">SFTP</a> server?</p>\n\n<p>I'm trying to receive files via SFTP, but I can't seem to find any implementation of an SFTP server.  I've found FTP/SFTP/FTPS <em>client</em> libraries, and FTP/FTPS server libraries, but none for a server for SFTP.</p>\n\n<p>To clarify, I'm trying to <em>receive</em> files via SFTP.  Not \"get\" or \"put\" files from my application to another existing server.</p>\n\n<p>Right now my application lets the users connect to the local linux SFTP server, drop the files, and then my application polls the directory, but I feel that this is a poor implementation; I hate the idea of \"polling\" directories, but unfortunately they HAVE to use SFTP.  Any suggestions?</p>\n"},{"tags":["java","android-studio-2.3"],"comments":[{"owner":{"account_id":5559246,"reputation":3573,"user_id":4409319,"accept_rate":70,"display_name":"JSelser"},"score":0,"creation_date":1489249292,"post_id":42737529,"comment_id":72593088,"body_markdown":"are you using android studio?","body":"are you using android studio?"},{"owner":{"account_id":10437573,"reputation":11,"user_id":7695394,"display_name":"xeon200337"},"score":0,"creation_date":1489257524,"post_id":42737529,"comment_id":72596101,"body_markdown":"Yes I use android atudio","body":"Yes I use android atudio"}],"answers":[{"tags":[],"owner":{"account_id":10435824,"reputation":11,"user_id":7694156,"display_name":"Tarun Soni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489421345,"creation_date":1489421345,"answer_id":42768311,"question_id":42737529,"body_markdown":"This solution works for me.\r\n\r\nGo to Android studio File-&gt;Invalidate cache/Restart and Preferences-&gt;Build execution deployment -&gt; instant Run -&gt;OK. uncheck the restart activity and code changes.","title":"Error : java.lang.ClassNotFoundException in android studio","body":"<p>This solution works for me.</p>\n\n<p>Go to Android studio File->Invalidate cache/Restart and Preferences->Build execution deployment -> instant Run ->OK. uncheck the restart activity and code changes.</p>\n"}],"owner":{"account_id":10437573,"reputation":11,"user_id":7695394,"display_name":"xeon200337"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2720,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635263616,"creation_date":1489249080,"question_id":42737529,"body_markdown":"Layout file:    \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/activity_main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;org.androidtown.sampledialog.MainActivity&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;80dp&quot;\r\n            android:text=&quot;버튼을 누르면 대화상자가 뜹니다.&quot;\r\n            android:textSize=&quot;24dp&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/button&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;50dp&quot;\r\n            android:text=&quot;띄우기&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\nMainActivity:\r\n\r\n    package org.androidtown.sampledialog;\r\n\r\n    import android.content.DialogInterface;\r\n    import android.os.Bundle;\r\n    import android.support.v7.app.AlertDialog;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        TextView textView;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            textView = (TextView) findViewById(R.id.textView);\r\n\r\n            Button button = (Button) findViewById(R.id.button);\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    showMessage();\r\n                }\r\n            });\r\n        }\r\n\r\n        private void showMessage() {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n            builder.setTitle(&quot;안내&quot;);\r\n            builder.setMessage(&quot;종료하시겠습니까?&quot;);\r\n            builder.setIcon(android.R.drawable.ic_dialog_alert);\r\n\r\n            builder.setPositiveButton(&quot;예&quot;, new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int whichButton) {\r\n                    String message = &quot;예 버튼이 눌렀습니다.&quot;;\r\n                    textView.setText(message);\r\n                }\r\n            });\r\n\r\n            builder.setNeutralButton(&quot;취소&quot;,new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int whichButton) {\r\n                    String message = &quot;취소 버튼이 눌렸습니다.&quot;;\r\n                    textView.setText(message);\r\n                }\r\n            });\r\n\r\n            builder.setNegativeButton(&quot;아니오&quot;, new DialogInterface.OnClickListener() {\r\n                public void onClick(DialogInterface dialog, int whichButton) {\r\n                    String message = &quot;아니오 버튼이 눌렸습니다.&quot;;\r\n                    textView.setText(message);\r\n                }\r\n            });\r\n\r\n            AlertDialog dialog = builder.create();\r\n            dialog.show();\r\n        }\r\n\r\n    }\r\n\r\n\r\nI can&#39;t build my first app. How should I do?\r\nHere is my logcat, xml, and java code.\r\n\r\n&gt; Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class\r\n&gt; &quot;android.support.v7.app.AppCompatActivity&quot; on path: DexPathList[[zip\r\n&gt; file &quot;/data/app/org.androidtown.sampledialog-1/base.apk&quot;, zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_0_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_1_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_2_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_3_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_4_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_5_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_6_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_7_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_8_apk.apk&quot;,\r\n&gt; zip file\r\n&gt; &quot;/data/app/org.androidtown.sampledialog-1/split_lib_slice_9_apk.apk&quot;],nativeLibraryDirectories=[/data/app/org.androidtown.sampledialog-1/lib/x86,\r\n&gt; /system/lib, /vendor/lib]]\r\n&gt;                                                                                 at\r\n&gt; dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n&gt;                                                                                 at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\r\n&gt;                                                                                 at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n&gt;                                                                                 \t\t... 15 more\r\n\r\n\r\n","title":"Error : java.lang.ClassNotFoundException in android studio","body":"<p>Layout file:    </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/activity_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"org.androidtown.sampledialog.MainActivity\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/textView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"80dp\"\n        android:text=\"버튼을 누르면 대화상자가 뜹니다.\"\n        android:textSize=\"24dp\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n    &lt;Button\n        android:id=\"@+id/button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"50dp\"\n        android:text=\"띄우기\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/textView\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>MainActivity:</p>\n\n<pre><code>package org.androidtown.sampledialog;\n\nimport android.content.DialogInterface;\nimport android.os.Bundle;\nimport android.support.v7.app.AlertDialog;\nimport android.support.v7.app.AppCompatActivity;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n    TextView textView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        textView = (TextView) findViewById(R.id.textView);\n\n        Button button = (Button) findViewById(R.id.button);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                showMessage();\n            }\n        });\n    }\n\n    private void showMessage() {\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\n        builder.setTitle(\"안내\");\n        builder.setMessage(\"종료하시겠습니까?\");\n        builder.setIcon(android.R.drawable.ic_dialog_alert);\n\n        builder.setPositiveButton(\"예\", new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n                String message = \"예 버튼이 눌렀습니다.\";\n                textView.setText(message);\n            }\n        });\n\n        builder.setNeutralButton(\"취소\",new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n                String message = \"취소 버튼이 눌렸습니다.\";\n                textView.setText(message);\n            }\n        });\n\n        builder.setNegativeButton(\"아니오\", new DialogInterface.OnClickListener() {\n            public void onClick(DialogInterface dialog, int whichButton) {\n                String message = \"아니오 버튼이 눌렸습니다.\";\n                textView.setText(message);\n            }\n        });\n\n        AlertDialog dialog = builder.create();\n        dialog.show();\n    }\n\n}\n</code></pre>\n\n<p>I can't build my first app. How should I do?\nHere is my logcat, xml, and java code.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.ClassNotFoundException: Didn't find class\n  \"android.support.v7.app.AppCompatActivity\" on path: DexPathList[[zip\n  file \"/data/app/org.androidtown.sampledialog-1/base.apk\", zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_0_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_1_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_2_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_3_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_4_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_5_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_6_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_7_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_8_apk.apk\",\n  zip file\n  \"/data/app/org.androidtown.sampledialog-1/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/org.androidtown.sampledialog-1/lib/x86,\n  /system/lib, /vendor/lib]]\n                                                                                  at\n  dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n                                                                                  at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\n                                                                                  at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n                                                                                        ... 15 more</p>\n</blockquote>\n"},{"tags":["java","spring-boot","unit-testing","intellij-idea","maven-3"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1635263292,"post_id":69726149,"comment_id":123247747,"body_markdown":"Doesn&#39;t an application properties file in `src/test/resources` fulfill your needs?","body":"Doesn&#39;t an application properties file in <code>src&#47;test&#47;resources</code> fulfill your needs?"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1635267429,"post_id":69726149,"comment_id":123249483,"body_markdown":"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config and this https://stackoverflow.com/questions/11874017/controlling-a-project-with-maven-and-spring-how-to-set-spring-config-file-using can help you","body":"<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a> and this <a href=\"https://stackoverflow.com/questions/11874017/controlling-a-project-with-maven-and-spring-how-to-set-spring-config-file-using\" title=\"controlling a project with maven and spring how to set spring config file using\">stackoverflow.com/questions/11874017/&hellip;</a> can help you"}],"answers":[{"tags":[],"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635263599,"creation_date":1635263599,"answer_id":69726295,"question_id":69726149,"body_markdown":"The &lt;b&gt;SPRING_PROFILES_ACTIVE&lt;/b&gt; is a property value that should be set in a file like `application-test.properties` or `application-test.yml`\r\n\r\nIn a yml file it would look like,\r\n\r\n```\r\nspring:\r\n  profiles:\r\n    active: test\r\n```\r\n\r\nAdditionally, there are specific annotations to help identify certain classes/methods as test specific such as `@Profile(&quot;test&quot;)` or `@ActiveProfiles(&quot;test&quot;)`.","title":"How to autoselect springprofile when running tests","body":"<p>The <b>SPRING_PROFILES_ACTIVE</b> is a property value that should be set in a file like <code>application-test.properties</code> or <code>application-test.yml</code></p>\n<p>In a yml file it would look like,</p>\n<pre><code>spring:\n  profiles:\n    active: test\n</code></pre>\n<p>Additionally, there are specific annotations to help identify certain classes/methods as test specific such as <code>@Profile(&quot;test&quot;)</code> or <code>@ActiveProfiles(&quot;test&quot;)</code>.</p>\n"}],"owner":{"account_id":2700720,"reputation":9583,"user_id":2331506,"accept_rate":30,"display_name":"Andy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635263599,"creation_date":1635263045,"question_id":69726149,"body_markdown":"I am looking for a solution to automatically add the environment variable SPRING_PROFILES_ACTIVE=&quot;test&quot; when running unit-tests. The solution should fulfill the following criteria :\r\n1. Ideally it should be configured via maven pom.xml\r\n2. If 1 is not possible configuration should be done for IntelliJ via configuration file in the project not via UI setting\r\n3. The particular environment variable should only be set when running unit tests not when generally launching the app.\r\n\r\nAny idea on how to approach this goal is appreciated.\r\n\r\nBest\r\nAndy","title":"How to autoselect springprofile when running tests","body":"<p>I am looking for a solution to automatically add the environment variable SPRING_PROFILES_ACTIVE=&quot;test&quot; when running unit-tests. The solution should fulfill the following criteria :</p>\n<ol>\n<li>Ideally it should be configured via maven pom.xml</li>\n<li>If 1 is not possible configuration should be done for IntelliJ via configuration file in the project not via UI setting</li>\n<li>The particular environment variable should only be set when running unit tests not when generally launching the app.</li>\n</ol>\n<p>Any idea on how to approach this goal is appreciated.</p>\n<p>Best\nAndy</p>\n"},{"tags":["java","android","checksum","parity","lrc"],"comments":[{"owner":{"account_id":14773232,"reputation":20491,"user_id":10669010,"display_name":"Mister Jojo"},"score":0,"creation_date":1635183754,"post_id":69712510,"comment_id":123222914,"body_markdown":"javascript tag???","body":"javascript tag???"},{"owner":{"account_id":20864616,"reputation":318,"user_id":15325967,"display_name":"insyri"},"score":0,"creation_date":1635183957,"post_id":69712510,"comment_id":123222981,"body_markdown":"remove javascript tag, java != javascript","body":"remove javascript tag, java != javascript"},{"owner":{"account_id":10416215,"reputation":341,"user_id":9216952,"display_name":"Kumar Anil Chaurasiya"},"score":0,"creation_date":1635251317,"post_id":69712510,"comment_id":123241887,"body_markdown":"Which modbus library you are using now?","body":"Which modbus library you are using now?"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":0,"creation_date":1635263371,"post_id":69712510,"comment_id":123247772,"body_markdown":"I selected &quot;Hex&quot; and entered &quot;1f 1e 1f 1e 1f 1f&quot;, and I got the answer 72.","body":"I selected &quot;Hex&quot; and entered &quot;1f 1e 1f 1e 1f 1f&quot;, and I got the answer 72."}],"answers":[{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635263577,"creation_date":1635211577,"answer_id":69716442,"question_id":69712510,"body_markdown":"72 is the correct Modbus ASCII LRC for {31, 30, 31, 30, 31, 31}. It goes into the messages as the two characters &quot;48&quot; (72 in hex). See https://www.simplymodbus.ca/ASCII.htm .\r\n\r\nIf instead I compute the LRC of {49, 48, 49, 48, 49, 49}, I get 220, or the 0xDC you are expecting.\r\n\r\nYour problem is that you think you put hexadecimal in your Java code, but it is being interpreted as decimal. What you probably meant was:\r\n\r\n    byte[] byte = {0x31, 0x30, 0x31, 0x30, 0x31, 0x31};\r\n\r\nThen you will get 220.","title":"how to calculate longitudinal redundancy check (LRC) for Modbus ASCII in java?","body":"<p>72 is the correct Modbus ASCII LRC for {31, 30, 31, 30, 31, 31}. It goes into the messages as the two characters &quot;48&quot; (72 in hex). See <a href=\"https://www.simplymodbus.ca/ASCII.htm\" rel=\"nofollow noreferrer\">https://www.simplymodbus.ca/ASCII.htm</a> .</p>\n<p>If instead I compute the LRC of {49, 48, 49, 48, 49, 49}, I get 220, or the 0xDC you are expecting.</p>\n<p>Your problem is that you think you put hexadecimal in your Java code, but it is being interpreted as decimal. What you probably meant was:</p>\n<pre><code>byte[] byte = {0x31, 0x30, 0x31, 0x30, 0x31, 0x31};\n</code></pre>\n<p>Then you will get 220.</p>\n"}],"owner":{"account_id":20344937,"reputation":1,"user_id":15182547,"display_name":"Niranjan Adhav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635263577,"creation_date":1635183604,"question_id":69712510,"body_markdown":"how to calculate longitudinal redundancy check (LRC) for Modbus ASCII in java?\r\n\r\nI want to calculate LRC for Modbus ascii protocol using java. I have searched for the solutions online but haven&#39;t found any.\r\n\r\nI used this online lrc calculator to calculate lrc http://www.metools.info/encoding/ecod127.html\r\n\r\nI just found this one solution on StackOverflow here is that\r\nhttps://stackoverflow.com/questions/12799122/how-can-i-calculate-longitudinal-redundancy-check-lrc\r\n\r\n  ```\r\n   byte[] byte = {31, 30, 31, 30, 31, 31}\r\n\r\n    public static byte calculateLRC(byte[] bytes)\r\n  \r\n{\r\n    int LRC = 0;\r\n    for (int i = 0; i &lt; bytes.Length; i++)\r\n    {\r\n        LRC -= bytes[i];\r\n    }\r\n    return (byte)LRC;\r\n}\r\n\r\n   ```\r\n\r\n   \r\n\r\nAs expected the LRC I should get is &quot;DC&quot; but I&#39;m getting 72 as output.\r\n\r\nDoes anyone know how to calculate LRC for modbus ascii protocol. Thanks in advance :)\r\n\r\n","title":"how to calculate longitudinal redundancy check (LRC) for Modbus ASCII in java?","body":"<p>how to calculate longitudinal redundancy check (LRC) for Modbus ASCII in java?</p>\n<p>I want to calculate LRC for Modbus ascii protocol using java. I have searched for the solutions online but haven't found any.</p>\n<p>I used this online lrc calculator to calculate lrc <a href=\"http://www.metools.info/encoding/ecod127.html\" rel=\"nofollow noreferrer\">http://www.metools.info/encoding/ecod127.html</a></p>\n<p>I just found this one solution on StackOverflow here is that\n<a href=\"https://stackoverflow.com/questions/12799122/how-can-i-calculate-longitudinal-redundancy-check-lrc\">How can I calculate Longitudinal Redundancy Check (LRC)?</a></p>\n<pre><code> byte[] byte = {31, 30, 31, 30, 31, 31}\n\n  public static byte calculateLRC(byte[] bytes)\n\n{\n  int LRC = 0;\n  for (int i = 0; i &lt; bytes.Length; i++)\n  {\n      LRC -= bytes[i];\n  }\n  return (byte)LRC;\n}\n\n</code></pre>\n<p>As expected the LRC I should get is &quot;DC&quot; but I'm getting 72 as output.</p>\n<p>Does anyone know how to calculate LRC for modbus ascii protocol. Thanks in advance :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1561665100,"post_id":56797587,"comment_id":100149997,"body_markdown":"What&#39;s the input from the file? It could be that `line` is `null`.","body":"What&#39;s the input from the file? It could be that <code>line</code> is <code>null</code>."},{"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"score":0,"creation_date":1561665217,"post_id":56797587,"comment_id":100150034,"body_markdown":"Have you debugged, on which `line` value does it fail? Isn&#39;t this `line == null`?","body":"Have you debugged, on which <code>line</code> value does it fail? Isn&#39;t this <code>line == null</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11653603,"reputation":2210,"user_id":8534088,"display_name":"Dmitriy Popov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1561665743,"creation_date":1561665743,"answer_id":56797845,"question_id":56797587,"body_markdown":"Obviously the failing line indicates that `letters` is `null`. For example, this will happen for `&quot;0&quot;` or `&quot;1&quot;`, which are not present in your `phone` map, or for any other `String`.\r\n\r\nYou have to handle case where `letters` is `null` right after `String letters = phone.get(digit)`. Whether to skip this `String` or throw an explicit exception about non-appropriate symbol.","title":"Phone number to letter combination with recursive approach throwing a Null Pointer Exception","body":"<p>Obviously the failing line indicates that <code>letters</code> is <code>null</code>. For example, this will happen for <code>\"0\"</code> or <code>\"1\"</code>, which are not present in your <code>phone</code> map, or for any other <code>String</code>.</p>\n\n<p>You have to handle case where <code>letters</code> is <code>null</code> right after <code>String letters = phone.get(digit)</code>. Whether to skip this <code>String</code> or throw an explicit exception about non-appropriate symbol.</p>\n"}],"owner":{"account_id":11559053,"reputation":97,"user_id":8469315,"display_name":"Alonso hernandez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":56797845,"answer_count":1,"score":0,"last_activity_date":1635263558,"creation_date":1561664132,"question_id":56797587,"body_markdown":"First of all, I&#39;m trying build a program that print out all the possible letter combination based on the a phone number input. \r\n\r\nMy problem is that i cannot get my recursion function to work, I&#39;m getting the follow error stack. The error is pointing to line 46 which is &quot;`recursion(&quot;&quot;, line);` and line 65 which is `for (int i = 0; i &lt; letters.length(); i++) {`\r\n\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n    \tat exercise.test.PhoneNumberCombo.recursion(PhoneNumberCombo.java:46)\r\n    \tat exercise.test.PhoneNumberCombo.main(PhoneNumberCombo.java:65)\r\n\r\n\r\nThis is my code:\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    public class PhoneNumberCombo {\r\n    \t\r\n      \t\t  \r\n      \t\t  static void recursion(String combination, String next_digits) {\r\n      \t\t\t  \t\r\n      \t\t\t    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n      \t\t\t  \r\n    \t  \t\t\tMap&lt;String, String&gt; phone = new HashMap&lt;String, String&gt;() {{\r\n    \t\t  \t\t    put(&quot;2&quot;, &quot;abc&quot;);\r\n    \t\t  \t\t    put(&quot;3&quot;, &quot;def&quot;);\r\n    \t\t  \t\t    put(&quot;4&quot;, &quot;ghi&quot;);\r\n    \t\t  \t\t    put(&quot;5&quot;, &quot;jkl&quot;);\r\n    \t\t  \t\t    put(&quot;6&quot;, &quot;mno&quot;);\r\n    \t\t  \t\t    put(&quot;7&quot;, &quot;pqrs&quot;);\r\n    \t\t  \t\t    put(&quot;8&quot;, &quot;tuv&quot;);\r\n    \t\t  \t\t    put(&quot;9&quot;, &quot;wxyz&quot;);\r\n    \t\t  \t\t  }};\r\n      \t\t\t  \r\n      \t\t\t    // BASE CASE no more digits found\r\n      \t\t\t    if (next_digits.length() == 0) {\r\n      \t\t\t    \t\r\n    \t\t\t         // the combination is built\r\n    \t\t\t    \tresult.add(combination);\r\n    \t\t\t    \tSystem.out.println(result);\r\n      \t\t\t    }\r\n      \t\t\t    \r\n      \t\t\t    else {\r\n      \t\t\t      \r\n      \t\t\t      String digit = next_digits.substring(0, 1);\r\n      \t\t\t      String letters = phone.get(digit);\r\n      \t\t\t      \r\n      \t\t\t      for (int i = 0; i &lt; letters.length(); i++) {\r\n      \t\t\t        String letter = phone.get(digit).substring(i, i + 1);\r\n      \t\t\t        \r\n      \t\t\t      recursion(combination + letter, next_digits.substring(1));\r\n    \t\t        }\r\n    \t\t    }\r\n      \t\t\t \r\n    \t  }\r\n    \t\r\n    \t\r\n    \t  public static void main(String[] args) throws IOException {\r\n    \t\t  \t\r\n    \t\t    InputStream phoneInputStream = IOUtils.toInputStream(&quot;123456&quot;, &quot;UTF-8&quot;);\r\n    \t\t  \t\r\n    \t\t    InputStreamReader reader = new InputStreamReader(phoneInputStream);\r\n    \t\t    BufferedReader in = new BufferedReader(reader);\r\n    \t\t    String line = in.readLine();\r\n    \t\t    \r\n    \t\t    if (line.length() != 0)\r\n    \t\t    \trecursion(&quot;&quot;, line);  \r\n    \t\t    \r\n    \t  }\r\n    }\r\n\r\n\r\n","title":"Phone number to letter combination with recursive approach throwing a Null Pointer Exception","body":"<p>First of all, I'm trying build a program that print out all the possible letter combination based on the a phone number input.</p>\n<p>My problem is that i cannot get my recursion function to work, I'm getting the follow error stack. The error is pointing to line 46 which is &quot;<code>recursion(&quot;&quot;, line);</code> and line 65 which is <code>for (int i = 0; i &lt; letters.length(); i++) {</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at exercise.test.PhoneNumberCombo.recursion(PhoneNumberCombo.java:46)\n    at exercise.test.PhoneNumberCombo.main(PhoneNumberCombo.java:65)\n</code></pre>\n<p>This is my code:</p>\n<pre><code>import org.apache.commons.io.IOUtils;\n\npublic class PhoneNumberCombo {\n    \n          \n          static void recursion(String combination, String next_digits) {\n                \n                List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n              \n                Map&lt;String, String&gt; phone = new HashMap&lt;String, String&gt;() {{\n                    put(&quot;2&quot;, &quot;abc&quot;);\n                    put(&quot;3&quot;, &quot;def&quot;);\n                    put(&quot;4&quot;, &quot;ghi&quot;);\n                    put(&quot;5&quot;, &quot;jkl&quot;);\n                    put(&quot;6&quot;, &quot;mno&quot;);\n                    put(&quot;7&quot;, &quot;pqrs&quot;);\n                    put(&quot;8&quot;, &quot;tuv&quot;);\n                    put(&quot;9&quot;, &quot;wxyz&quot;);\n                  }};\n              \n                // BASE CASE no more digits found\n                if (next_digits.length() == 0) {\n                    \n                     // the combination is built\n                    result.add(combination);\n                    System.out.println(result);\n                }\n                \n                else {\n                  \n                  String digit = next_digits.substring(0, 1);\n                  String letters = phone.get(digit);\n                  \n                  for (int i = 0; i &lt; letters.length(); i++) {\n                    String letter = phone.get(digit).substring(i, i + 1);\n                    \n                  recursion(combination + letter, next_digits.substring(1));\n                }\n            }\n             \n      }\n    \n    \n      public static void main(String[] args) throws IOException {\n            \n            InputStream phoneInputStream = IOUtils.toInputStream(&quot;123456&quot;, &quot;UTF-8&quot;);\n            \n            InputStreamReader reader = new InputStreamReader(phoneInputStream);\n            BufferedReader in = new BufferedReader(reader);\n            String line = in.readLine();\n            \n            if (line.length() != 0)\n                recursion(&quot;&quot;, line);  \n            \n      }\n}\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1635256995,"post_id":69724537,"comment_id":123244710,"body_markdown":"There&#39;s no way to tell from a list of apks installed what type of app it is.  You can guess off a few factors, or make whitelists of the names of important games and social media apps.  But there&#39;s no way to have a definitive set of all games and all social media apps.","body":"There&#39;s no way to tell from a list of apks installed what type of app it is.  You can guess off a few factors, or make whitelists of the names of important games and social media apps.  But there&#39;s no way to have a definitive set of all games and all social media apps."}],"answers":[{"tags":[],"owner":{"account_id":23111370,"reputation":21,"user_id":17219280,"display_name":"special N9NE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635263497,"creation_date":1635263497,"answer_id":69726270,"question_id":69724537,"body_markdown":"Well, first of all, you should get all installed app package names then you can search package names in the play store to find out their category.\r\n\r\nAs I know there is no official API by play store so you should search and collect data from HTML and so on. also there should be some third-party APIs, just look for them and probably you will find some of them.\r\n\r\nIf you want to collect data from the play store, just take a look at [this][1]\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50461981/17219280","title":"How to separate Social media application and Game application installed in the device","body":"<p>Well, first of all, you should get all installed app package names then you can search package names in the play store to find out their category.</p>\n<p>As I know there is no official API by play store so you should search and collect data from HTML and so on. also there should be some third-party APIs, just look for them and probably you will find some of them.</p>\n<p>If you want to collect data from the play store, just take a look at <a href=\"https://stackoverflow.com/a/50461981/17219280\">this</a></p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":13064683,"reputation":1,"user_id":9440508,"display_name":"Leandrei Santos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635263497,"creation_date":1635256866,"question_id":69724537,"body_markdown":"I create project in Android studio to display all application installed in my device, I want to separate the social media application and game application, is it possible? and any hints so i can do it.","title":"How to separate Social media application and Game application installed in the device","body":"<p>I create project in Android studio to display all application installed in my device, I want to separate the social media application and game application, is it possible? and any hints so i can do it.</p>\n"},{"tags":["java","generics","casting","jooq"],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486894488,"creation_date":1486827933,"answer_id":42177800,"question_id":42169503,"body_markdown":"&gt; I think the problem is that the compiler doesn&#39;t know that the type of the field and the type of the value will be the same (hence CAP#1 and CAP#2).\r\n\r\nThat is the exact problem. Two different uses of the same wildcard type give rise to two different new capture types.\r\n\r\n**The solution is to introduce a small method, where the wildcard type is used once and bound to a type parameter.** When it is bound to a type parameter the compiler recognises that different uses of it refers to the same type.\r\n\r\nLike this:\r\n\r\n\tpublic void updateTable(String name, JsonObject data) {\r\n\t\tTable&lt;?&gt; table = PUBLIC.getTable(name);\r\n\r\n\t\tUpdateSetFirstStep&lt;?&gt; update = DSL.using(fooConfig).update(table);\r\n\r\n\t\t// Loop through JSON {field1: value1, field2: value2, ...}\r\n\t\tfor (Map.Entry&lt;String, Object&gt; entry : data) {\r\n\t\t\tString fieldName = entry.getKey();\r\n\t\t\tField&lt;?&gt; field = table.field(fieldName);\r\n\r\n\t\t\tObject value = entry.getValue();\r\n\r\n\t\t\t// Here the wildcard type is bound to the\r\n\t\t\t// type variable of the updateField method\r\n\t\t\tupdateField(update, field, value);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic &lt;T&gt; void updateField(UpdateSetStep&lt;?&gt; update, Field&lt;T&gt; field, Object value) {\r\n        // When the wildcard is bound to T it can be used\r\n        // multiple times without a problem\r\n\t\tupdate.set(field, field.getType().cast(value));\r\n\t}\r\n\r\n---\r\n\r\n### Another solution\r\n\r\n...is to cast the field type to some concrete type:\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tField&lt;Object&gt; field = (Field&lt;Object&gt;) table.field(fieldName);\r\n\tupdate.set(field, field.getType().cast(entry.getValue()));\r\n\r\nThat is less code to type, and in this simple example it works fine. But it is also a less type safe, so in more complex code it is probably better to introduce a method with a type parameter.\r\n\r\nFor example, the following type checks but probably crashes at runtime:\r\n\r\n    update.set(field, entry);\r\n\r\n---\r\n\r\n### A third and interesting solution\r\n\r\n...would be to be able to declare a local type variable for the `Field`:\r\n\r\n    &lt;T&gt; Field&lt;T&gt; field = table.field(fieldName);\r\n\r\nBut of course this is not legal Java, type variables can only be introduced as parameters on classes and methods, not on local variables.\r\n\r\n---\r\n\r\n### A fourth solution, using lambdas\r\n\r\n...is to define a util method and pass a lambda object to it. It works the same way as the first solution, but you don&#39;t have to create a custom method every thing you want to do this.\r\n\r\n\t// Loop through JSON {field1: value1, field2: value2, ...}\r\n\tfor (Map.Entry&lt;String, Object&gt; entry : data) {\r\n\t\tString fieldName = entry.getKey();\r\n\t\tField&lt;?&gt; field = table.field(fieldName);\r\n\r\n\t\tObject value = entry.getValue();\r\n\r\n\t\tcaptureType(field, f -&gt; update.set(f, f.getType().cast(value)));\r\n\t}\r\n\r\n\tpublic static &lt;T&gt; void captureType(T o, Consumer&lt;T&gt; c) {\r\n\t\tc.accept(o);\r\n\t}\r\n\r\nA variation of this is to use a some existing methods for the same result:\r\n\r\n\tOptional.of(field).ifPresent(f -&gt; update.set(f, f.getType().cast(value)));\r\n","title":"JOOq: update for generalized table","body":"<blockquote>\n  <p>I think the problem is that the compiler doesn't know that the type of the field and the type of the value will be the same (hence CAP#1 and CAP#2).</p>\n</blockquote>\n\n<p>That is the exact problem. Two different uses of the same wildcard type give rise to two different new capture types.</p>\n\n<p><strong>The solution is to introduce a small method, where the wildcard type is used once and bound to a type parameter.</strong> When it is bound to a type parameter the compiler recognises that different uses of it refers to the same type.</p>\n\n<p>Like this:</p>\n\n<pre><code>public void updateTable(String name, JsonObject data) {\n    Table&lt;?&gt; table = PUBLIC.getTable(name);\n\n    UpdateSetFirstStep&lt;?&gt; update = DSL.using(fooConfig).update(table);\n\n    // Loop through JSON {field1: value1, field2: value2, ...}\n    for (Map.Entry&lt;String, Object&gt; entry : data) {\n        String fieldName = entry.getKey();\n        Field&lt;?&gt; field = table.field(fieldName);\n\n        Object value = entry.getValue();\n\n        // Here the wildcard type is bound to the\n        // type variable of the updateField method\n        updateField(update, field, value);\n    }\n}\n\npublic &lt;T&gt; void updateField(UpdateSetStep&lt;?&gt; update, Field&lt;T&gt; field, Object value) {\n    // When the wildcard is bound to T it can be used\n    // multiple times without a problem\n    update.set(field, field.getType().cast(value));\n}\n</code></pre>\n\n<hr>\n\n<h3>Another solution</h3>\n\n<p>...is to cast the field type to some concrete type:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nField&lt;Object&gt; field = (Field&lt;Object&gt;) table.field(fieldName);\nupdate.set(field, field.getType().cast(entry.getValue()));\n</code></pre>\n\n<p>That is less code to type, and in this simple example it works fine. But it is also a less type safe, so in more complex code it is probably better to introduce a method with a type parameter.</p>\n\n<p>For example, the following type checks but probably crashes at runtime:</p>\n\n<pre><code>update.set(field, entry);\n</code></pre>\n\n<hr>\n\n<h3>A third and interesting solution</h3>\n\n<p>...would be to be able to declare a local type variable for the <code>Field</code>:</p>\n\n<pre><code>&lt;T&gt; Field&lt;T&gt; field = table.field(fieldName);\n</code></pre>\n\n<p>But of course this is not legal Java, type variables can only be introduced as parameters on classes and methods, not on local variables.</p>\n\n<hr>\n\n<h3>A fourth solution, using lambdas</h3>\n\n<p>...is to define a util method and pass a lambda object to it. It works the same way as the first solution, but you don't have to create a custom method every thing you want to do this.</p>\n\n<pre><code>// Loop through JSON {field1: value1, field2: value2, ...}\nfor (Map.Entry&lt;String, Object&gt; entry : data) {\n    String fieldName = entry.getKey();\n    Field&lt;?&gt; field = table.field(fieldName);\n\n    Object value = entry.getValue();\n\n    captureType(field, f -&gt; update.set(f, f.getType().cast(value)));\n}\n\npublic static &lt;T&gt; void captureType(T o, Consumer&lt;T&gt; c) {\n    c.accept(o);\n}\n</code></pre>\n\n<p>A variation of this is to use a some existing methods for the same result:</p>\n\n<pre><code>Optional.of(field).ifPresent(f -&gt; update.set(f, f.getType().cast(value)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1486833886,"creation_date":1486833886,"answer_id":42178883,"question_id":42169503,"body_markdown":"The simplest solution would be to use the [`UpdateSetStep.set(Map&lt;? extends Field&lt;?&gt;, ?&gt;)`][1] method for this. It applies rather relaxed type safety doing the data type conversion for you (if possible):\r\n\r\n    public void updateTable(String table, JsonObject data) {\r\n        Table&lt;?&gt; table = PUBLIC.getTable(table);\r\n        \r\n        DSL.using(fooConfig)\r\n           .update(table)\r\n           .set(data.entrySet()\r\n                    .stream()\r\n                    .map(e -&gt; new SimpleImmutableEntry(table.field(e.getKey()), e.getValue()))\r\n                    .collect(Collectors.toMap(Entry::getKey, Entry::getValue)))\r\n           .where(...) // Don&#39;t forget this! ;-)\r\n           .execute();\r\n    }\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org/jooq/UpdateSetStep.html#set-java.util.Map-","title":"JOOq: update for generalized table","body":"<p>The simplest solution would be to use the <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/UpdateSetStep.html#set-java.util.Map-\" rel=\"nofollow noreferrer\"><code>UpdateSetStep.set(Map&lt;? extends Field&lt;?&gt;, ?&gt;)</code></a> method for this. It applies rather relaxed type safety doing the data type conversion for you (if possible):</p>\n\n<pre><code>public void updateTable(String table, JsonObject data) {\n    Table&lt;?&gt; table = PUBLIC.getTable(table);\n\n    DSL.using(fooConfig)\n       .update(table)\n       .set(data.entrySet()\n                .stream()\n                .map(e -&gt; new SimpleImmutableEntry(table.field(e.getKey()), e.getValue()))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue)))\n       .where(...) // Don't forget this! ;-)\n       .execute();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19089907,"reputation":1,"user_id":13940385,"display_name":"syncosync"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635263472,"creation_date":1635234707,"answer_id":69719348,"question_id":42169503,"body_markdown":"Through the above solution i came up with this kindof shortcut \r\n\r\n      public void update(final String db, final String tbl, final Map&lt;Field&lt;?&gt;, ?&gt; data, final Condition condition) {\r\n        dslContext.update(DSL.table(db + &quot;.&quot; + tbl)).set(data).where(condition).execute();\r\n      }\r\n\r\nIn Quarkus `@Inject DSLContext dslContext` in your class\r\n","title":"JOOq: update for generalized table","body":"<p>Through the above solution i came up with this kindof shortcut</p>\n<pre><code>  public void update(final String db, final String tbl, final Map&lt;Field&lt;?&gt;, ?&gt; data, final Condition condition) {\n    dslContext.update(DSL.table(db + &quot;.&quot; + tbl)).set(data).where(condition).execute();\n  }\n</code></pre>\n<p>In Quarkus <code>@Inject DSLContext dslContext</code> in your class</p>\n"}],"owner":{"account_id":1454591,"reputation":2130,"user_id":1370556,"accept_rate":86,"display_name":"lebolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":975,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42178883,"answer_count":3,"score":4,"last_activity_date":1635263472,"creation_date":1486764816,"question_id":42169503,"body_markdown":"I want to create a **generalized** method with JOOq that updates a table (specified by a string) using values from a JSON object. I&#39;m not including any validation of tables/fields in this example.\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public void updateTable(String table, JsonObject data) {\r\n        Table&lt;?&gt; table = PUBLIC.getTable(table);\r\n        \r\n        UpdateSetFirstStep&lt;?&gt; update = DSL.using(fooConfig).update(table);\r\n    \r\n        // Loop through JSON {field1: value1, field2: value2, ...}\r\n        for (Map.Entry&lt;String, Object&gt; entry : data) {\r\n            String fieldName = entry.getKey();\r\n            Field&lt;?&gt; field = table.field(fieldName);\r\n    \r\n            Object value = entry.getValue();\r\n    \r\n            // error: no suitable method found for set(Field&lt;CAP#1&gt;,CAP#2)\r\n            update.set(field, field.getType().cast(value));\r\n        }\r\n    }\r\n\r\nBut I get a compile time error: `no suitable method found for set(Field&lt;CAP#1&gt;,CAP#2)`.\r\n\r\nI think the problem is that the compiler doesn&#39;t know that the type of the field and the type of the value will be the same (hence CAP#1 and CAP#2).\r\n\r\nIs there any way to accomplish this?","title":"JOOq: update for generalized table","body":"<p>I want to create a <strong>generalized</strong> method with JOOq that updates a table (specified by a string) using values from a JSON object. I'm not including any validation of tables/fields in this example.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public void updateTable(String table, JsonObject data) {\n    Table&lt;?&gt; table = PUBLIC.getTable(table);\n\n    UpdateSetFirstStep&lt;?&gt; update = DSL.using(fooConfig).update(table);\n\n    // Loop through JSON {field1: value1, field2: value2, ...}\n    for (Map.Entry&lt;String, Object&gt; entry : data) {\n        String fieldName = entry.getKey();\n        Field&lt;?&gt; field = table.field(fieldName);\n\n        Object value = entry.getValue();\n\n        // error: no suitable method found for set(Field&lt;CAP#1&gt;,CAP#2)\n        update.set(field, field.getType().cast(value));\n    }\n}\n</code></pre>\n\n<p>But I get a compile time error: <code>no suitable method found for set(Field&lt;CAP#1&gt;,CAP#2)</code>.</p>\n\n<p>I think the problem is that the compiler doesn't know that the type of the field and the type of the value will be the same (hence CAP#1 and CAP#2).</p>\n\n<p>Is there any way to accomplish this?</p>\n"},{"tags":["java","unit-testing","junit4","guice","jndi"],"answers":[{"tags":[],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635263465,"creation_date":1635263465,"answer_id":69726257,"question_id":69679716,"body_markdown":"In the process of researching another idea for this problem, I finally found a partial solution here: https://stackoverflow.com/questions/17083142/junit-testing-jndi-initialcontext-outside-the-application-server\r\n\r\nThe key insight was being able to &#39;reset&#39; the context between tests. Once I had that working, I was able to cleanup my context between tests. Doing that removed the need for mocking out the Context; I could use a real implementation and be confident about the state it was in at the start of each test.\r\n\r\nThe finished version of the test module ended up looking like this:\r\n   \r\n    private static Context context;\r\n\t\t\r\n\tprivate static final String NAV_DS = &quot;java:comp/env/jdbc/NavDS&quot;;\r\n\t\r\n    //using a provider method here so we can inject the context into the test\r\n\t@Provides\r\n\tpublic Context getContext() throws NamingException\r\n\t{\r\n\t\tif( context == null)\r\n\t\t{\r\n\t\t\tcontext = new InitialContext();  \r\n\t\t\tcontext.createSubcontext(&quot;java:comp/env&quot;);\r\n\t\t\tcontext.createSubcontext(&quot;java:comp/env/jdbc&quot;);\r\n\t\t}\r\n\t\treturn context;\r\n\t}\r\n\r\n\t@Provides\r\n\t@Singleton\r\n\tpublic DataSource getNavDS() throws NamingException {\r\n        \r\n        BasicDataSource ds = null;\t\r\n\t    ds = new BasicDataSource();\r\n\t    ds.setUrl(&quot;jdbc:h2:mem:myDB;create=true;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;&quot;);\r\n\t       \t        \r\n\t    Context context = getContext(); \r\n\t    context.rebind(NAV_DS, ds);\t        \t                \r\n\t\t\t\t\r\n\t\treturn ds;\r\n\t}\r\n\r\nand the context factory was changed to:\r\n\r\n    public class TestContextFactory implements InitialContextFactory {\r\n    \r\n        private static final ThreadLocal&lt;Context&gt; currentContext = new ThreadLocal&lt;Context&gt;();\r\n    \t\r\n        @Override\r\n        public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n            return currentContext.get();\r\n        }\r\n    \r\n        public static void setCurrentContext(Context context) {\r\n            currentContext.set(context);\r\n        }\r\n    \r\n        public static void clearCurrentContext() {\r\n            currentContext.remove();\r\n        }\r\n    \r\n    }\r\n\r\nTake note that since I am using a different jndi implementation (jetty rather than tomcat) I had to modify the context setup to match.\r\n\r\nOnce that was done, I just needed code in my tests to actually initialize and reset the context. I went with a JUnit rule as per the example, but you could accomplish the same thing with @Before and @After methods. The rule ended up looking like this:\r\n\r\n    public class MockInitialContextRule implements TestRule {\r\n    \r\n        private final Context context;\r\n    \r\n        public MockInitialContextRule(Context context) {\r\n            this.context = context;\r\n        }\r\n    \r\n    \t@Override\r\n    \tpublic Statement apply(Statement base, Description description) {\r\n    \t\treturn new Statement() {\r\n                @Override\r\n                public void evaluate() throws Throwable {\r\n                    System.setProperty(Context.INITIAL_CONTEXT_FACTORY, TestContextFactory.class.getName());\r\n                    TestContextFactory.setCurrentContext(context);\r\n                    try {\r\n                        base.evaluate();\r\n                    } finally {\r\n                        System.clearProperty(Context.INITIAL_CONTEXT_FACTORY);\r\n                        TestContextFactory.clearCurrentContext();\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    \r\n    }\r\n\r\nThen in the test I inject the context and initialize the rule:\r\n\r\n    @Inject\r\n\tprivate Context context;\r\n\r\n    @Rule\r\n    public MockInitialContextRule mockInitialContextRule = new MockInitialContextRule(context);\r\n\r\n    @Test\r\n    public void testFoo()\r\n    {\r\n        Object foo = context.lookup(&quot;jdbc/NavDS&quot;);\r\n        assertNotNull(foo);\r\n    }\r\n\r\nSince I already posted a bounty, I&#39;m going to leave this open for now. If someone has a better solution, or an improvement on what I ended up with, please feel free to leave an answer.","title":"How to Manage JNDI Context In JUnit Tests?","body":"<p>In the process of researching another idea for this problem, I finally found a partial solution here: <a href=\"https://stackoverflow.com/questions/17083142/junit-testing-jndi-initialcontext-outside-the-application-server\">Junit Testing JNDI InitialContext outside the application server</a></p>\n<p>The key insight was being able to 'reset' the context between tests. Once I had that working, I was able to cleanup my context between tests. Doing that removed the need for mocking out the Context; I could use a real implementation and be confident about the state it was in at the start of each test.</p>\n<p>The finished version of the test module ended up looking like this:</p>\n<pre><code>private static Context context;\n    \nprivate static final String NAV_DS = &quot;java:comp/env/jdbc/NavDS&quot;;\n\n//using a provider method here so we can inject the context into the test\n@Provides\npublic Context getContext() throws NamingException\n{\n    if( context == null)\n    {\n        context = new InitialContext();  \n        context.createSubcontext(&quot;java:comp/env&quot;);\n        context.createSubcontext(&quot;java:comp/env/jdbc&quot;);\n    }\n    return context;\n}\n\n@Provides\n@Singleton\npublic DataSource getNavDS() throws NamingException {\n    \n    BasicDataSource ds = null;  \n    ds = new BasicDataSource();\n    ds.setUrl(&quot;jdbc:h2:mem:myDB;create=true;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;&quot;);\n                \n    Context context = getContext(); \n    context.rebind(NAV_DS, ds);                             \n            \n    return ds;\n}\n</code></pre>\n<p>and the context factory was changed to:</p>\n<pre><code>public class TestContextFactory implements InitialContextFactory {\n\n    private static final ThreadLocal&lt;Context&gt; currentContext = new ThreadLocal&lt;Context&gt;();\n    \n    @Override\n    public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n        return currentContext.get();\n    }\n\n    public static void setCurrentContext(Context context) {\n        currentContext.set(context);\n    }\n\n    public static void clearCurrentContext() {\n        currentContext.remove();\n    }\n\n}\n</code></pre>\n<p>Take note that since I am using a different jndi implementation (jetty rather than tomcat) I had to modify the context setup to match.</p>\n<p>Once that was done, I just needed code in my tests to actually initialize and reset the context. I went with a JUnit rule as per the example, but you could accomplish the same thing with @Before and @After methods. The rule ended up looking like this:</p>\n<pre><code>public class MockInitialContextRule implements TestRule {\n\n    private final Context context;\n\n    public MockInitialContextRule(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    public Statement apply(Statement base, Description description) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n                System.setProperty(Context.INITIAL_CONTEXT_FACTORY, TestContextFactory.class.getName());\n                TestContextFactory.setCurrentContext(context);\n                try {\n                    base.evaluate();\n                } finally {\n                    System.clearProperty(Context.INITIAL_CONTEXT_FACTORY);\n                    TestContextFactory.clearCurrentContext();\n                }\n            }\n        };\n    }\n\n}\n</code></pre>\n<p>Then in the test I inject the context and initialize the rule:</p>\n<pre><code>@Inject\nprivate Context context;\n\n@Rule\npublic MockInitialContextRule mockInitialContextRule = new MockInitialContextRule(context);\n\n@Test\npublic void testFoo()\n{\n    Object foo = context.lookup(&quot;jdbc/NavDS&quot;);\n    assertNotNull(foo);\n}\n</code></pre>\n<p>Since I already posted a bounty, I'm going to leave this open for now. If someone has a better solution, or an improvement on what I ended up with, please feel free to leave an answer.</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69726257,"answer_count":1,"score":3,"last_activity_date":1635263465,"creation_date":1634917547,"question_id":69679716,"body_markdown":"I&#39;m currently working on writing some tests for a java EE project that uses guice for dependency injection. Dealing with the entity manager and it&#39;s datasource has been giving me no end of trouble. I have tried multiple different approaches and they all seem to have a fatal flaw somewhere. I can&#39;t seem to figure out how to work with InitialContext without it cross contaminating my tests.\r\n\r\nMy first attempt was to manually bind the datasource into the context in the guice provider method for my datasource. Something like:\r\n\r\n        private static Context context;\r\n    \t\r\n    \t@Provides\r\n    \t@Singleton\r\n    \tpublic DataSource getNavDS() throws NamingException {\r\n    \t\tSystem.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.naming.java.javaURLContextFactory&quot;);\r\n            System.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\r\n            \r\n            BasicDataSource ds = new BasicDataSource();\r\n    \t    ds.setUrl(&quot;jdbc:h2:mem:myDB;create=true;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;&quot;);\r\n    \t       \t        \r\n    \t    if( context == null)\r\n    \t\t{\r\n    \t\t\tcontext = new InitialContext();\r\n    \t\t\tcontext.createSubcontext(&quot;java:&quot;);    \r\n    \t\t\tcontext.createSubcontext(&quot;java:comp&quot;);\t\t\r\n    \t\t\tcontext.createSubcontext(&quot;java:comp/env&quot;);\r\n    \t\t\tcontext.createSubcontext(&quot;java:comp/env/jdbc&quot;);\r\n    \t\t}\r\n    \t    context.rebind(NAV_DS, ds);\t        \t                \r\n    \t\t\t\t\r\n    \t\treturn ds;\r\n    \t}\r\n\r\nIt&#39;s a bit dirty, but as long as I reset the datasource between each test it works ok for unit tests. The problem is, I also need to do integration tests with an embedded jetty server. The integration tests have their own guice module, but if I make a call to `new InitialContext()` it will end up giving me the instance created during the previous tests. That means I can&#39;t create a test suite because my unit tests have contaminated the Context before the integration tests run.\r\n\r\nMy next attempt was to try using a factory to mock the context lookup as outlined here: https://stackoverflow.com/questions/10045466/how-to-fake-initialcontext-with-default-constructor?noredirect=1&amp;lq=1 . So something like:\r\n\r\n    public class TestContextFactory implements InitialContextFactory {\r\n    \r\n    \tprivate static final String NAV_DS = &quot;java:comp/env/jdbc/NavDS&quot;;\r\n    \t\r\n    \t@Override\r\n    \tpublic Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\r\n    \t\t\r\n    \t\tfinal BasicDataSource ds = new BasicDataSource();\r\n    \t\tds.setUrl(&quot;jdbc:h2:mem:myDB;create=true;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;&quot;);\r\n    \t\tContext context = Mockito.mock(Context.class);\r\n    \t\tMockito.when(context.lookup(NAV_DS)).thenReturn(ds);\r\n    \t\treturn context;\r\n    \t}\r\n    \r\n    }\r\n\r\nThe problem is, other code (like the entity manager) is also making calls against my mocked context. I would end up having to mock every method in InitialContext to avoid exceptions.\r\n\r\nI also made an attempt to just not use the context in my provider method. I&#39;m not actually doing any manual lookups in my tests, so I theory I should just be able to initialize and return the datasource. That was also a failure. The entity manager is expecting a datasource to be bound. If I don&#39;t bind my datasource into a context, the entity manager will throw an exception during initialization.\r\n\r\nAt this point I&#39;m out of ideas. If anyone has a better way to deal with this (other than simply mocking everything) I would love to hear it. Thanks.","title":"How to Manage JNDI Context In JUnit Tests?","body":"<p>I'm currently working on writing some tests for a java EE project that uses guice for dependency injection. Dealing with the entity manager and it's datasource has been giving me no end of trouble. I have tried multiple different approaches and they all seem to have a fatal flaw somewhere. I can't seem to figure out how to work with InitialContext without it cross contaminating my tests.</p>\n<p>My first attempt was to manually bind the datasource into the context in the guice provider method for my datasource. Something like:</p>\n<pre><code>    private static Context context;\n    \n    @Provides\n    @Singleton\n    public DataSource getNavDS() throws NamingException {\n        System.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;org.apache.naming.java.javaURLContextFactory&quot;);\n        System.setProperty(Context.URL_PKG_PREFIXES, &quot;org.apache.naming&quot;);\n        \n        BasicDataSource ds = new BasicDataSource();\n        ds.setUrl(&quot;jdbc:h2:mem:myDB;create=true;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;&quot;);\n                    \n        if( context == null)\n        {\n            context = new InitialContext();\n            context.createSubcontext(&quot;java:&quot;);    \n            context.createSubcontext(&quot;java:comp&quot;);      \n            context.createSubcontext(&quot;java:comp/env&quot;);\n            context.createSubcontext(&quot;java:comp/env/jdbc&quot;);\n        }\n        context.rebind(NAV_DS, ds);                             \n                \n        return ds;\n    }\n</code></pre>\n<p>It's a bit dirty, but as long as I reset the datasource between each test it works ok for unit tests. The problem is, I also need to do integration tests with an embedded jetty server. The integration tests have their own guice module, but if I make a call to <code>new InitialContext()</code> it will end up giving me the instance created during the previous tests. That means I can't create a test suite because my unit tests have contaminated the Context before the integration tests run.</p>\n<p>My next attempt was to try using a factory to mock the context lookup as outlined here: <a href=\"https://stackoverflow.com/questions/10045466/how-to-fake-initialcontext-with-default-constructor?noredirect=1&amp;lq=1\">How to fake InitialContext with default constructor</a> . So something like:</p>\n<pre><code>public class TestContextFactory implements InitialContextFactory {\n\n    private static final String NAV_DS = &quot;java:comp/env/jdbc/NavDS&quot;;\n    \n    @Override\n    public Context getInitialContext(Hashtable&lt;?, ?&gt; environment) throws NamingException {\n        \n        final BasicDataSource ds = new BasicDataSource();\n        ds.setUrl(&quot;jdbc:h2:mem:myDB;create=true;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;&quot;);\n        Context context = Mockito.mock(Context.class);\n        Mockito.when(context.lookup(NAV_DS)).thenReturn(ds);\n        return context;\n    }\n\n}\n</code></pre>\n<p>The problem is, other code (like the entity manager) is also making calls against my mocked context. I would end up having to mock every method in InitialContext to avoid exceptions.</p>\n<p>I also made an attempt to just not use the context in my provider method. I'm not actually doing any manual lookups in my tests, so I theory I should just be able to initialize and return the datasource. That was also a failure. The entity manager is expecting a datasource to be bound. If I don't bind my datasource into a context, the entity manager will throw an exception during initialization.</p>\n<p>At this point I'm out of ideas. If anyone has a better way to deal with this (other than simply mocking everything) I would love to hear it. Thanks.</p>\n"},{"tags":["java","arrays","time-complexity","big-o"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1635252883,"post_id":69723440,"comment_id":123242621,"body_markdown":"`size()` is O(n); `get()` is `O(n)`. You are executing `size()` on each iteration of a loop which runs `size()` times; and inside the loop you execute `get()` on each iteration. So it&#39;s O(n^3).","body":"<code>size()</code> is O(n); <code>get()</code> is <code>O(n)</code>. You are executing <code>size()</code> on each iteration of a loop which runs <code>size()</code> times; and inside the loop you execute <code>get()</code> on each iteration. So it&#39;s O(n^3)."}],"answers":[{"tags":[],"owner":{"account_id":12342482,"reputation":11,"user_id":9005049,"display_name":"Timur Toktassynov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635255064,"creation_date":1635255064,"answer_id":69724047,"question_id":69723440,"body_markdown":"I guess you friend is right, time complexity is `O(n^2)`.\r\nBecause on each iteration in your loop, you consequently calculate `size()`, which is order of `O(n)`, and calculate `get()`, which on average is `O(n/2)`.\r\nSo each iteration&#39;s complexity is `O(1.5 * n)` and overall is `O(n^2)`","title":"Time complexity of for loops in Java","body":"<p>I guess you friend is right, time complexity is <code>O(n^2)</code>.\nBecause on each iteration in your loop, you consequently calculate <code>size()</code>, which is order of <code>O(n)</code>, and calculate <code>get()</code>, which on average is <code>O(n/2)</code>.\nSo each iteration's complexity is <code>O(1.5 * n)</code> and overall is <code>O(n^2)</code></p>\n"}],"owner":{"account_id":19707965,"reputation":77,"user_id":14429159,"display_name":"Haardik Chopra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635262509,"creation_date":1635252609,"question_id":69723440,"body_markdown":"I have started learning Big O notation and analysing time complexities, and I tried messing around with some code to try and understand its time complexity. Here&#39;s one of the lines that I had, but I can&#39;t seem to figure out what the time complexity for the sum method is? I reckon it is o(n^3) but my friend says it should be o(n^2). Any insights as to what is the right answer? \r\n\r\n```\r\npublic static double sum(double[] array)\r\n{\r\n   double sum = 0.0;\r\n   for(int k = 0; k &lt; size(array); k++)\r\n       sum = sum + get(array, k);\r\n   return sum;\r\n}\r\n\r\npublic static double get(double[] array, int k)\r\n{\r\n   for(int x=0; x &lt; k; x++)\r\n       if(x==k) return array[k];\r\n   return -1;\r\n}\r\n\r\npublic static int size(double[] array)\r\n{\r\n   int size = 0;\r\n   for(int k=0; k&lt;array.length; k++)\r\n       size++;\r\n   return size;\r\n   \r\n}\r\n```\r\n","title":"Time complexity of for loops in Java","body":"<p>I have started learning Big O notation and analysing time complexities, and I tried messing around with some code to try and understand its time complexity. Here's one of the lines that I had, but I can't seem to figure out what the time complexity for the sum method is? I reckon it is o(n^3) but my friend says it should be o(n^2). Any insights as to what is the right answer?</p>\n<pre><code>public static double sum(double[] array)\n{\n   double sum = 0.0;\n   for(int k = 0; k &lt; size(array); k++)\n       sum = sum + get(array, k);\n   return sum;\n}\n\npublic static double get(double[] array, int k)\n{\n   for(int x=0; x &lt; k; x++)\n       if(x==k) return array[k];\n   return -1;\n}\n\npublic static int size(double[] array)\n{\n   int size = 0;\n   for(int k=0; k&lt;array.length; k++)\n       size++;\n   return size;\n   \n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":0,"creation_date":1635263145,"post_id":69726010,"comment_id":123247676,"body_markdown":"Do you have an error in the log ? Why do you create an `img` variable but do not use it ?","body":"Do you have an error in the log ? Why do you create an <code>img</code> variable but do not use it ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1635264795,"post_id":69726010,"comment_id":123248376,"body_markdown":"If an app crashes you will see a stacktrace with exception that you did not catch in Logcat. Please post the relevant lines.","body":"If an app crashes you will see a stacktrace with exception that you did not catch in Logcat. Please post the relevant lines."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635264912,"post_id":69726010,"comment_id":123248411,"body_markdown":"`bitmap.compress(Bitmap.CompressFormat.PNG, bos);` Where did you define and initiate bos? Dangerous coding.","body":"<code>bitmap.compress(Bitmap.CompressFormat.PNG, bos);</code> Where did you define and initiate bos? Dangerous coding."},{"owner":{"account_id":23150387,"reputation":11,"user_id":17252482,"display_name":"Lindalee"},"score":0,"creation_date":1635339518,"post_id":69726010,"comment_id":123270651,"body_markdown":"@vincrichaud @blackapps \nThe app works fine in the built in emulator and only crashes on actual phones so unfortunately I don&#39;t have error logs. If there is a way to get a crash report from the apk on my phone then I can try to get that.\n\nRegarding the `img` variable it&#39;s later used for saving the image to a SQL database","body":"@vincrichaud @blackapps  The app works fine in the built in emulator and only crashes on actual phones so unfortunately I don&#39;t have error logs. If there is a way to get a crash report from the apk on my phone then I can try to get that.  Regarding the <code>img</code> variable it&#39;s later used for saving the image to a SQL database"},{"owner":{"account_id":23150387,"reputation":11,"user_id":17252482,"display_name":"Lindalee"},"score":0,"creation_date":1635339807,"post_id":69726010,"comment_id":123270793,"body_markdown":"@blackapps\nI followed a tutorial for this as I just started learning to make android apps so I&#39;m not entirely sure about this, but the only mention of bos in the code is as seen in the post. Is there a better way of getting this done?","body":"@blackapps I followed a tutorial for this as I just started learning to make android apps so I&#39;m not entirely sure about this, but the only mention of bos in the code is as seen in the post. Is there a better way of getting this done?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635350043,"post_id":69726010,"comment_id":123276005,"body_markdown":"Android Studio will also collect logs from your device. So use them.","body":"Android Studio will also collect logs from your device. So use them."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635350100,"post_id":69726010,"comment_id":123276029,"body_markdown":"`, but the only mention of bos in the code is as seen in the post` Impossible. You must have bis declared and initiatef some where.","body":"<code>, but the only mention of bos in the code is as seen in the post</code> Impossible. You must have bis declared and initiatef some where."},{"owner":{"account_id":23150387,"reputation":11,"user_id":17252482,"display_name":"Lindalee"},"score":0,"creation_date":1635365947,"post_id":69726010,"comment_id":123281898,"body_markdown":"@blackapps\nThis part of the code is taken from here, hopefully helps with the bos mystery\nhttps://techicaltutorial.blogspot.com/2020/04/upload-image-sqlite-database-android.html","body":"@blackapps This part of the code is taken from here, hopefully helps with the bos mystery <a href=\"https://techicaltutorial.blogspot.com/2020/04/upload-image-sqlite-database-android.html\" rel=\"nofollow noreferrer\">techicaltutorial.blogspot.com/2020/04/&hellip;</a>"}],"owner":{"account_id":23150387,"reputation":11,"user_id":17252482,"display_name":"Lindalee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635262474,"creation_date":1635262474,"question_id":69726010,"body_markdown":"I&#39;m making an app where you can choose an image from your phone gallery and then have it put into an image view. Problem is the app works perfectly when choosing any image except for when it was taken by the phone&#39;s camera, at which point the app crashes. I have added the following permissions to the Manifest:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\r\n```\r\nAnd here&#39;s the code itself:\r\n```\r\n public void selectImage(View view) { //is called when the user presses the button to upload an image\r\n         Intent intent = new   Intent(Intent.ACTION_PICK,android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n         startActivityForResult(intent, 0);\r\n     }\r\n@Override\r\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n         super.onActivityResult(requestCode, resultCode, data);\r\n             if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\r\n                 Uri selectedImage = data.getData();\r\n                 try {\r\n                     bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), selectedImage);\r\n                     ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n                     bitmap.compress(Bitmap.CompressFormat.PNG, 100, bos);\r\n                     img = bos.toByteArray();\r\n                     imageView.setImageBitmap(bitmap);\r\n                 } catch (FileNotFoundException e) {\r\n                     e.printStackTrace();\r\n                 } catch (IOException e) {\r\n                     e.printStackTrace();\r\n                 }\r\n             }\r\n     }\r\n```\r\nIf there&#39;s any other part of the code you need, I will gladly send it. If anyone has any idea what the problem might be, please do tell. Thank you!","title":"Android app won&#39;t let me insert images from gallery previously taken by the camera","body":"<p>I'm making an app where you can choose an image from your phone gallery and then have it put into an image view. Problem is the app works perfectly when choosing any image except for when it was taken by the phone's camera, at which point the app crashes. I have added the following permissions to the Manifest:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;/&gt;\n</code></pre>\n<p>And here's the code itself:</p>\n<pre><code> public void selectImage(View view) { //is called when the user presses the button to upload an image\n         Intent intent = new   Intent(Intent.ACTION_PICK,android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n         startActivityForResult(intent, 0);\n     }\n@Override\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n         super.onActivityResult(requestCode, resultCode, data);\n             if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n                 Uri selectedImage = data.getData();\n                 try {\n                     bitmap = MediaStore.Images.Media.getBitmap(this.getContentResolver(), selectedImage);\n                     ByteArrayOutputStream bos = new ByteArrayOutputStream();\n                     bitmap.compress(Bitmap.CompressFormat.PNG, 100, bos);\n                     img = bos.toByteArray();\n                     imageView.setImageBitmap(bitmap);\n                 } catch (FileNotFoundException e) {\n                     e.printStackTrace();\n                 } catch (IOException e) {\n                     e.printStackTrace();\n                 }\n             }\n     }\n</code></pre>\n<p>If there's any other part of the code you need, I will gladly send it. If anyone has any idea what the problem might be, please do tell. Thank you!</p>\n"},{"tags":["java","android","ssl","https","webviewclient"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1423078611,"post_id":28329652,"comment_id":45007093,"body_markdown":"AFAIK the enabled protocols WebView can not be cahnged by an App. What protocols are supported or not depends on the Android version. For TLS 1.1 and higher you need an Android 4.4 or newer (see [here](https://www.ssllabs.com/ssltest/viewClient.html?name=Android&amp;version=4.3)).","body":"AFAIK the enabled protocols WebView can not be cahnged by an App. What protocols are supported or not depends on the Android version. For TLS 1.1 and higher you need an Android 4.4 or newer (see <a href=\"https://www.ssllabs.com/ssltest/viewClient.html?name=Android&amp;version=4.3\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":1992518,"reputation":1309,"user_id":1786228,"display_name":"cynod"},"score":0,"creation_date":1438198043,"post_id":28329652,"comment_id":51356918,"body_markdown":"Did anyone ever figure this out? I&#39;m working on a project currently where we need to fallback from TLS v1.2 to 1.1 for three non-production test servers. We&#39;re trying to use something like this:\n\n    adb shell &#39;echo &quot;browser --show-fps-counter --ssl-version-min=tls1.1 --ssl-version-max=tls1.1&quot; &gt; /data/local/tmp/webview-command-line&#39;\n\nThe FPS counter shows on an Android L tablet but not on Android TV (which is weird as they should be the same webview code). The ssl-version flags don&#39;t seem to work; a tcpdump capture from the device still shows TLS v1.2 being used.\n\nAny help would be great.","body":"Did anyone ever figure this out? I&#39;m working on a project currently where we need to fallback from TLS v1.2 to 1.1 for three non-production test servers. We&#39;re trying to use something like this:      adb shell &#39;echo &quot;browser --show-fps-counter --ssl-version-min=tls1.1 --ssl-version-max=tls1.1&quot; &gt; /data/local/tmp/webview-command-line&#39;  The FPS counter shows on an Android L tablet but not on Android TV (which is weird as they should be the same webview code). The ssl-version flags don&#39;t seem to work; a tcpdump capture from the device still shows TLS v1.2 being used.  Any help would be great."},{"owner":{"account_id":935527,"reputation":2393,"user_id":964506,"accept_rate":67,"display_name":"KK_07k11A0585"},"score":0,"creation_date":1438682524,"post_id":28329652,"comment_id":51538326,"body_markdown":"@user802467 Did you find solution for the issue ?? I am also facing the same issue","body":"@user802467 Did you find solution for the issue ?? I am also facing the same issue"},{"owner":{"account_id":423213,"reputation":951,"user_id":802467,"accept_rate":17,"display_name":"user802467"},"score":0,"creation_date":1438699408,"post_id":28329652,"comment_id":51550035,"body_markdown":"@KK_07k11A0585 No, I couldn&#39;t find a way to configure this in WebViewClient. I think comment above from Robert is correct.","body":"@KK_07k11A0585 No, I couldn&#39;t find a way to configure this in WebViewClient. I think comment above from Robert is correct."},{"owner":{"account_id":3243794,"reputation":4776,"user_id":2736039,"accept_rate":93,"display_name":"Ultimo_m"},"score":0,"creation_date":1529414692,"post_id":28329652,"comment_id":88857987,"body_markdown":"https://blog.dev-area.net/2015/08/13/android-4-1-enable-tls-1-1-and-tls-1-2/","body":"<a href=\"https://blog.dev-area.net/2015/08/13/android-4-1-enable-tls-1-1-and-tls-1-2/\" rel=\"nofollow noreferrer\">blog.dev-area.net/2015/08/13/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2147129,"reputation":31578,"user_id":1904517,"display_name":"iagreen"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1447466047,"creation_date":1447466047,"answer_id":33704323,"question_id":28329652,"body_markdown":"If your app is using, or you are willing to use, Google Play services, you can use newer security features on older phones by installing their `Provider`. It is easy to install, only one line (plus exception handling, etc).  You will also need to add google play services to your gradle file if you do not already have it.  `ProviderInstaller` is included in the `-base` package.\r\n\r\n    try {\r\n        ProviderInstaller.installIfNeeded(this);\r\n    } catch (GooglePlayServicesRepairableException e) {\r\n         // Fix it\r\n    } catch (GooglePlayServicesNotAvailableException e) {\r\n         // Skip it\r\n    }\r\n\r\nFor a full example, see [&quot;Updating Your Security Provider to Protect Against SSL Exploits&quot;][1] from Google.\r\n\r\n\r\n  [1]: https://developer.android.com/training/articles/security-gms-provider.html","title":"Enabling specific SSL protocols with Android WebViewClient","body":"<p>If your app is using, or you are willing to use, Google Play services, you can use newer security features on older phones by installing their <code>Provider</code>. It is easy to install, only one line (plus exception handling, etc).  You will also need to add google play services to your gradle file if you do not already have it.  <code>ProviderInstaller</code> is included in the <code>-base</code> package.</p>\n\n<pre><code>try {\n    ProviderInstaller.installIfNeeded(this);\n} catch (GooglePlayServicesRepairableException e) {\n     // Fix it\n} catch (GooglePlayServicesNotAvailableException e) {\n     // Skip it\n}\n</code></pre>\n\n<p>For a full example, see <a href=\"https://developer.android.com/training/articles/security-gms-provider.html\" rel=\"nofollow\">\"Updating Your Security Provider to Protect Against SSL Exploits\"</a> from Google.</p>\n"},{"tags":[],"owner":{"account_id":7315468,"reputation":139,"user_id":5573281,"display_name":"M. C."},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1505853988,"creation_date":1447782699,"answer_id":33763737,"question_id":28329652,"body_markdown":"As per documenation it is NOT possible to support TLS 1.0 in WebView in Android &lt; 4.3. For Android 4.4 it is disabled by default.\r\n\r\nCheck this chart for support of TLS 1.0 in different browsers: https://en.wikipedia.org/wiki/Transport_Layer_Security#Web_browsers","title":"Enabling specific SSL protocols with Android WebViewClient","body":"<p>As per documenation it is NOT possible to support TLS 1.0 in WebView in Android &lt; 4.3. For Android 4.4 it is disabled by default.</p>\n\n<p>Check this chart for support of TLS 1.0 in different browsers: <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security#Web_browsers\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Transport_Layer_Security#Web_browsers</a></p>\n"},{"tags":[],"owner":{"account_id":5801755,"reputation":31,"user_id":4575723,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1469621950,"creation_date":1469621067,"answer_id":38612444,"question_id":28329652,"body_markdown":"Actually, I managed to make it work, but you need okHttp library for that.\r\nTry this when you&#39;re setting up browser activity:\r\n\r\n        WebViewClient client = new WebViewClient() {\r\n            private OkHttpClient okHttp = new OkHttpClient.Builder().build();\r\n\r\n            @Override\r\n            public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\r\n                Request okHttpRequest = new Request.Builder().url(url).build();\r\n                try {\r\n                    Response response = okHttp.newCall(okHttpRequest).execute();\r\n                    return new WebResourceResponse(response.header(&quot;Content-Type&quot;, &quot;plain/text&quot;), response.header(&quot;Content-Encoding&quot;, &quot;deflate&quot;), response.body().byteStream());\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n        webView.setWebViewClient(client);\r\n\r\nAlso, you&#39;ll need classic Trust Manager Manipulator, SSL socket factory and its implementation in your Application class:\r\n\r\n    public class TrustManagerManipulator implements X509TrustManager {\r\n    \r\n    \r\n        private static TrustManager[] trustManagers;\r\n        private static final X509Certificate[] acceptedIssuers = new X509Certificate[] {};\r\n    \r\n        public boolean isClientTrusted(X509Certificate[] chain) {\r\n            return true;\r\n        }\r\n    \r\n        public boolean isServerTrusted(X509Certificate[] chain) {\r\n            return true;\r\n        }\r\n    \r\n        public static void allowAllSSL()\r\n        {\r\n    \r\n            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\r\n                public boolean verify(String hostname, SSLSession session) {\r\n                    return true;\r\n                }\r\n            });\r\n            SSLContext context = null;\r\n            if (trustManagers == null) {\r\n                trustManagers = new TrustManager[] { new TrustManagerManipulator() };\r\n            }\r\n            try {\r\n                context = SSLContext.getInstance(&quot;TLS&quot;);\r\n                context.init(null, trustManagers, new SecureRandom());\r\n            } catch (NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            } catch (KeyManagementException e) {\r\n                e.printStackTrace();\r\n            }\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(context\r\n                    .getSocketFactory());\r\n        }\r\n    \r\n        public void checkClientTrusted(X509Certificate[] chain, String authType)\r\n                throws CertificateException {\r\n        }\r\n    \r\n        public void checkServerTrusted(X509Certificate[] chain, String authType)\r\n                throws CertificateException {\r\n        }\r\n    \r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return acceptedIssuers;\r\n        }\r\n    }\r\n\r\nSSl Socket Factory:\r\n\r\n    public class TLSSocketFactory extends SSLSocketFactory {\r\n    \r\n        private SSLSocketFactory internalSSLSocketFactory;\r\n    \r\n        public TLSSocketFactory() throws KeyManagementException, NoSuchAlgorithmException {\r\n            SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n            TrustManager[] managers = new TrustManager[] { new TrustManagerManipulator() };\r\n            context.init(null, managers, new SecureRandom());\r\n            internalSSLSocketFactory = context.getSocketFactory();\r\n        }\r\n    \r\n        @Override\r\n        public String[] getDefaultCipherSuites() {\r\n            return internalSSLSocketFactory.getDefaultCipherSuites();\r\n        }\r\n    \r\n        @Override\r\n        public String[] getSupportedCipherSuites() {\r\n            return internalSSLSocketFactory.getSupportedCipherSuites();\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(Socket s, String host, int port, boolean autoClose) throws IOException {\r\n            return enableTLSOnSocket(internalSSLSocketFactory.createSocket(s, host, port, autoClose));\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(String host, int port) throws IOException, UnknownHostException {\r\n            return enableTLSOnSocket(internalSSLSocketFactory.createSocket(host, port));\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(String host, int port, InetAddress localHost, int localPort) throws IOException, UnknownHostException {\r\n            return enableTLSOnSocket(internalSSLSocketFactory.createSocket(host, port, localHost, localPort));\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(InetAddress host, int port) throws IOException {\r\n            return enableTLSOnSocket(internalSSLSocketFactory.createSocket(host, port));\r\n        }\r\n    \r\n        @Override\r\n        public Socket createSocket(InetAddress address, int port, InetAddress localAddress, int localPort) throws IOException {\r\n            return enableTLSOnSocket(internalSSLSocketFactory.createSocket(address, port, localAddress, localPort));\r\n        }\r\n    \r\n        private Socket enableTLSOnSocket(Socket socket) {\r\n            if(socket != null &amp;&amp; (socket instanceof SSLSocket)) {\r\n                ((SSLSocket)socket).setEnabledProtocols(new String[] {&quot;TLSv1.1&quot;, &quot;TLSv1.2&quot;});\r\n            }\r\n            return socket;\r\n        }\r\n    }\r\n\r\n\r\nApp class:\r\n\r\n    public class App extends Application {\r\n        private static App appInstance;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            setupSSLconnections();\r\n        }\r\n    \r\n        private void setupSSLconnections() {\r\n            try {\r\n                HttpsURLConnection.setDefaultSSLSocketFactory(new TLSSocketFactory());\r\n            } catch (KeyManagementException | NoSuchAlgorithmException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"Enabling specific SSL protocols with Android WebViewClient","body":"<p>Actually, I managed to make it work, but you need okHttp library for that.\nTry this when you're setting up browser activity:</p>\n\n<pre><code>    WebViewClient client = new WebViewClient() {\n        private OkHttpClient okHttp = new OkHttpClient.Builder().build();\n\n        @Override\n        public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\n            Request okHttpRequest = new Request.Builder().url(url).build();\n            try {\n                Response response = okHttp.newCall(okHttpRequest).execute();\n                return new WebResourceResponse(response.header(\"Content-Type\", \"plain/text\"), response.header(\"Content-Encoding\", \"deflate\"), response.body().byteStream());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n    };\n    webView.setWebViewClient(client);\n</code></pre>\n\n<p>Also, you'll need classic Trust Manager Manipulator, SSL socket factory and its implementation in your Application class:</p>\n\n<pre><code>public class TrustManagerManipulator implements X509TrustManager {\n\n\n    private static TrustManager[] trustManagers;\n    private static final X509Certificate[] acceptedIssuers = new X509Certificate[] {};\n\n    public boolean isClientTrusted(X509Certificate[] chain) {\n        return true;\n    }\n\n    public boolean isServerTrusted(X509Certificate[] chain) {\n        return true;\n    }\n\n    public static void allowAllSSL()\n    {\n\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        });\n        SSLContext context = null;\n        if (trustManagers == null) {\n            trustManagers = new TrustManager[] { new TrustManagerManipulator() };\n        }\n        try {\n            context = SSLContext.getInstance(\"TLS\");\n            context.init(null, trustManagers, new SecureRandom());\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        } catch (KeyManagementException e) {\n            e.printStackTrace();\n        }\n        HttpsURLConnection.setDefaultSSLSocketFactory(context\n                .getSocketFactory());\n    }\n\n    public void checkClientTrusted(X509Certificate[] chain, String authType)\n            throws CertificateException {\n    }\n\n    public void checkServerTrusted(X509Certificate[] chain, String authType)\n            throws CertificateException {\n    }\n\n    public X509Certificate[] getAcceptedIssuers() {\n        return acceptedIssuers;\n    }\n}\n</code></pre>\n\n<p>SSl Socket Factory:</p>\n\n<pre><code>public class TLSSocketFactory extends SSLSocketFactory {\n\n    private SSLSocketFactory internalSSLSocketFactory;\n\n    public TLSSocketFactory() throws KeyManagementException, NoSuchAlgorithmException {\n        SSLContext context = SSLContext.getInstance(\"TLS\");\n        TrustManager[] managers = new TrustManager[] { new TrustManagerManipulator() };\n        context.init(null, managers, new SecureRandom());\n        internalSSLSocketFactory = context.getSocketFactory();\n    }\n\n    @Override\n    public String[] getDefaultCipherSuites() {\n        return internalSSLSocketFactory.getDefaultCipherSuites();\n    }\n\n    @Override\n    public String[] getSupportedCipherSuites() {\n        return internalSSLSocketFactory.getSupportedCipherSuites();\n    }\n\n    @Override\n    public Socket createSocket(Socket s, String host, int port, boolean autoClose) throws IOException {\n        return enableTLSOnSocket(internalSSLSocketFactory.createSocket(s, host, port, autoClose));\n    }\n\n    @Override\n    public Socket createSocket(String host, int port) throws IOException, UnknownHostException {\n        return enableTLSOnSocket(internalSSLSocketFactory.createSocket(host, port));\n    }\n\n    @Override\n    public Socket createSocket(String host, int port, InetAddress localHost, int localPort) throws IOException, UnknownHostException {\n        return enableTLSOnSocket(internalSSLSocketFactory.createSocket(host, port, localHost, localPort));\n    }\n\n    @Override\n    public Socket createSocket(InetAddress host, int port) throws IOException {\n        return enableTLSOnSocket(internalSSLSocketFactory.createSocket(host, port));\n    }\n\n    @Override\n    public Socket createSocket(InetAddress address, int port, InetAddress localAddress, int localPort) throws IOException {\n        return enableTLSOnSocket(internalSSLSocketFactory.createSocket(address, port, localAddress, localPort));\n    }\n\n    private Socket enableTLSOnSocket(Socket socket) {\n        if(socket != null &amp;&amp; (socket instanceof SSLSocket)) {\n            ((SSLSocket)socket).setEnabledProtocols(new String[] {\"TLSv1.1\", \"TLSv1.2\"});\n        }\n        return socket;\n    }\n}\n</code></pre>\n\n<p>App class:</p>\n\n<pre><code>public class App extends Application {\n    private static App appInstance;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        setupSSLconnections();\n    }\n\n    private void setupSSLconnections() {\n        try {\n            HttpsURLConnection.setDefaultSSLSocketFactory(new TLSSocketFactory());\n        } catch (KeyManagementException | NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2474949,"reputation":7,"user_id":2507562,"display_name":"lemon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531747490,"creation_date":1531747490,"answer_id":51362922,"question_id":28329652,"body_markdown":"it&#39;s beause android 4.3 not support TSL 1.1 but only TSL1.0\r\nread this article \r\nhttps://www.ssllabs.com/ssltest/clients.html\r\nfind android 4.3 will see \r\n\r\nProtocols\r\nTLS 1.3\tNo\r\nTLS 1.2\tNo\r\nTLS 1.1\tNo\r\nTLS 1.0\tYes\r\nSSL 3   INSECURE\tYes\r\nSSL 2\tNo","title":"Enabling specific SSL protocols with Android WebViewClient","body":"<p>it's beause android 4.3 not support TSL 1.1 but only TSL1.0\nread this article \n<a href=\"https://www.ssllabs.com/ssltest/clients.html\" rel=\"nofollow noreferrer\">https://www.ssllabs.com/ssltest/clients.html</a>\nfind android 4.3 will see </p>\n\n<p>Protocols\nTLS 1.3 No\nTLS 1.2 No\nTLS 1.1 No\nTLS 1.0 Yes\nSSL 3   INSECURE    Yes\nSSL 2   No</p>\n"}],"owner":{"account_id":423213,"reputation":951,"user_id":802467,"accept_rate":17,"display_name":"user802467"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21370,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":4,"score":27,"last_activity_date":1635262253,"creation_date":1423077743,"question_id":28329652,"body_markdown":"My application uses `WebViewClient` to make SSL connections to the server.\r\nThe server is configured to only accept TLSv1.1 and above protocols.\r\n\r\n1. How do I check which SSL protocols are a) Supported and b) Enabled by default  when using Android `WebViewClient` on a device.\r\n2. How do I enable specific SSL protocols for Android WebViewClient instance used in my application.\r\n\r\nOn one of the test devices running Android 4.3, \r\n`WebViewClient` throws `onReceivedError` callback with the following description:\r\n\r\n&gt; &quot;Failed to perform SSL handshake&quot;\r\n\r\nChrome logs are as follows:\r\n```\r\n01-29 15:58:00.073 5486 5525 W chromium_net: external/chromium/net/http/http_stream_factory_impl_job.cc:865: [0129/155800:WARNING:http_stream_factory_impl_job.cc(865)] Falling back to SSLv3 because host is TLS intolerant: 10.209.126.125:443 01-29 15:58:00.083 5486 5525 E chromium_net: external/chromium/net/socket/ssl_client_socket_openssl.cc:792: [0129/155800:ERROR:ssl_client_socket_openssl.cc(792)] handshake failed; returned 0, SSL error code 5, net_error -107 \r\n```\r\n\r\nMy application also uses `HttpClient` and `HttpsUrlConnection` classes to setup SSL Connections. I was able to use `SSLSocket` API to enable specific protocols when using these classes.\r\nhttp://developer.android.com/reference/javax/net/ssl/SSLSocket.html#setEnabledProtocols(java.lang.String[])\r\n\r\nI need to do the same with `WebViewClient`.","title":"Enabling specific SSL protocols with Android WebViewClient","body":"<p>My application uses <code>WebViewClient</code> to make SSL connections to the server.\nThe server is configured to only accept TLSv1.1 and above protocols.</p>\n<ol>\n<li>How do I check which SSL protocols are a) Supported and b) Enabled by default  when using Android <code>WebViewClient</code> on a device.</li>\n<li>How do I enable specific SSL protocols for Android WebViewClient instance used in my application.</li>\n</ol>\n<p>On one of the test devices running Android 4.3,\n<code>WebViewClient</code> throws <code>onReceivedError</code> callback with the following description:</p>\n<blockquote>\n<p>&quot;Failed to perform SSL handshake&quot;</p>\n</blockquote>\n<p>Chrome logs are as follows:</p>\n<pre><code>01-29 15:58:00.073 5486 5525 W chromium_net: external/chromium/net/http/http_stream_factory_impl_job.cc:865: [0129/155800:WARNING:http_stream_factory_impl_job.cc(865)] Falling back to SSLv3 because host is TLS intolerant: 10.209.126.125:443 01-29 15:58:00.083 5486 5525 E chromium_net: external/chromium/net/socket/ssl_client_socket_openssl.cc:792: [0129/155800:ERROR:ssl_client_socket_openssl.cc(792)] handshake failed; returned 0, SSL error code 5, net_error -107 \n</code></pre>\n<p>My application also uses <code>HttpClient</code> and <code>HttpsUrlConnection</code> classes to setup SSL Connections. I was able to use <code>SSLSocket</code> API to enable specific protocols when using these classes.\n<a href=\"http://developer.android.com/reference/javax/net/ssl/SSLSocket.html#setEnabledProtocols(java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/javax/net/ssl/SSLSocket.html#setEnabledProtocols(java.lang.String[])</a></p>\n<p>I need to do the same with <code>WebViewClient</code>.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299866,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635249837,"creation_date":1635249837,"answer_id":69722785,"question_id":69722682,"body_markdown":"The only modifier you can apply to a local variable is `final`:\r\n\r\n```java\r\nfinal Map&lt;String, Integer&gt; months = new HashMap&lt;String, Integer&gt;();\r\n```\r\n\r\nIf you want to make it `private static final` you&#39;ll have to convert that local variable to a member:\r\n\r\n```java\r\npublic class MonthMap {\r\n\r\n    private static final Map&lt;String, Integer&gt; months = new HashMap&lt;String, Integer&gt;();\r\n    static {\r\n        months.put(&quot;June&quot;,6);\r\n        months.put(&quot;September&quot;,9);\r\n        months.put(&quot;March&quot;,5);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        /// Code goes here...\r\n    }\r\n}\r\n```\r\n\r\nAlternatively, the [`Map.of`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)) method introduced in Java 9 can allow you to convert the initialization to a single statement:\r\n\r\n```java\r\nprivate static final Map&lt;String, Integer&gt; months =\r\n    Map.of(&quot;June&quot;, 6, &quot;September&quot;, 9, &quot;March&quot;, 5);\r\n```","title":"variable to constant in dictionary (java openclassroom)","body":"<p>The only modifier you can apply to a local variable is <code>final</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, Integer&gt; months = new HashMap&lt;String, Integer&gt;();\n</code></pre>\n<p>If you want to make it <code>private static final</code> you'll have to convert that local variable to a member:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MonthMap {\n\n    private static final Map&lt;String, Integer&gt; months = new HashMap&lt;String, Integer&gt;();\n    static {\n        months.put(&quot;June&quot;,6);\n        months.put(&quot;September&quot;,9);\n        months.put(&quot;March&quot;,5);\n    }\n\n    public static void main(String[] args) {\n        /// Code goes here...\n    }\n}\n</code></pre>\n<p>Alternatively, the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V)\" rel=\"nofollow noreferrer\"><code>Map.of</code></a> method introduced in Java 9 can allow you to convert the initialization to a single statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final Map&lt;String, Integer&gt; months =\n    Map.of(&quot;June&quot;, 6, &quot;September&quot;, 9, &quot;March&quot;, 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635262173,"creation_date":1635262173,"answer_id":69725936,"question_id":69722682,"body_markdown":"It is difficult to know what some 3rd party website is asking for.  I suspect that they want those String and int literal values to be defined as constants.  Constants are defined on the class, not within a method.\r\n\r\n    public class MonthMap {\r\n      public static final String JAN_NAME = &quot;January&quot;;\r\n      public static final String FEB_NAME = &quot;February&quot;;\r\n      ... etc ... \r\n      public static final int JAN_NUM = 1;\r\n      public static final int FEB_NUM = 2;\r\n      ... etc... \r\n      Map&lt;String, Integer&gt; months = new HashMap &lt;String, Integer&gt;(); \r\n      static {\r\n        months.put(JAN_NAME, JAN_NUM);\r\n        months.put(FEB_NAME, FEB_NUM);\r\n        ... etc ...\r\n      }\r\n    }\r\n","title":"variable to constant in dictionary (java openclassroom)","body":"<p>It is difficult to know what some 3rd party website is asking for.  I suspect that they want those String and int literal values to be defined as constants.  Constants are defined on the class, not within a method.</p>\n<pre><code>public class MonthMap {\n  public static final String JAN_NAME = &quot;January&quot;;\n  public static final String FEB_NAME = &quot;February&quot;;\n  ... etc ... \n  public static final int JAN_NUM = 1;\n  public static final int FEB_NUM = 2;\n  ... etc... \n  Map&lt;String, Integer&gt; months = new HashMap &lt;String, Integer&gt;(); \n  static {\n    months.put(JAN_NAME, JAN_NUM);\n    months.put(FEB_NAME, FEB_NUM);\n    ... etc ...\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22956760,"reputation":7,"user_id":17087213,"display_name":"Yumgi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1635262173,"creation_date":1635249432,"question_id":69722682,"body_markdown":"i&#39;m learning Java by OpenClassroom but i have a problem on the dictionary.\r\nThey told me to convert variable in constant. I have to use ```private static final``` and the variable : ```private final static months.put(&quot;June&quot;, 6);```.\r\n\r\nTheoretically it&#39;s simple and easy but i have this : ``` error: illegal start of expression ```.\r\n\r\nIf i try to change in ```public static final``` is not working..\r\n\r\nThe entire code : \r\n```\r\nimport java.util.*;\r\n\r\npublic class MonthsMap {\r\n    \r\n    public static void main(String[] args) {\r\n        Map&lt;String, Integer&gt; months = new HashMap &lt;String, Integer&gt;();   \r\n        \r\n        //TODO Remplacez les variables par des constantes\r\n        months.put(&quot;June&quot;, 6);\r\n        months.put(&quot;September&quot;, 9);\r\n        months.put(&quot;March&quot;, 5);\r\n          \r\n        //TODO Corrigez &quot;march&quot; (mars) par sa vraie valeur (3)\r\n     \r\n        //TODO Supprimez &quot;june&quot; (juin)\r\n     \r\n        //Affiche le contenu du dictionnaire\r\n        System.out.println(&quot;Here are some interesting months&quot;);\r\n        for (Map.Entry&lt;String,Integer&gt; month : months.entrySet()){\r\n            System.out.println(month.getKey() + &quot; is month number &quot; + month.getValue() + &quot; of the year &quot;);\r\n        }\r\n    }   \r\n}\r\n``` \r\nI would like to know why it doesn&#39;t work, please help me :)","title":"variable to constant in dictionary (java openclassroom)","body":"<p>i'm learning Java by OpenClassroom but i have a problem on the dictionary.\nThey told me to convert variable in constant. I have to use <code>private static final</code> and the variable : <code>private final static months.put(&quot;June&quot;, 6);</code>.</p>\n<p>Theoretically it's simple and easy but i have this : <code>error: illegal start of expression</code>.</p>\n<p>If i try to change in <code>public static final</code> is not working..</p>\n<p>The entire code :</p>\n<pre><code>import java.util.*;\n\npublic class MonthsMap {\n    \n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; months = new HashMap &lt;String, Integer&gt;();   \n        \n        //TODO Remplacez les variables par des constantes\n        months.put(&quot;June&quot;, 6);\n        months.put(&quot;September&quot;, 9);\n        months.put(&quot;March&quot;, 5);\n          \n        //TODO Corrigez &quot;march&quot; (mars) par sa vraie valeur (3)\n     \n        //TODO Supprimez &quot;june&quot; (juin)\n     \n        //Affiche le contenu du dictionnaire\n        System.out.println(&quot;Here are some interesting months&quot;);\n        for (Map.Entry&lt;String,Integer&gt; month : months.entrySet()){\n            System.out.println(month.getKey() + &quot; is month number &quot; + month.getValue() + &quot; of the year &quot;);\n        }\n    }   \n}\n</code></pre>\n<p>I would like to know why it doesn't work, please help me :)</p>\n"},{"tags":["java","osgi","equinox"],"answers":[{"tags":[],"owner":{"account_id":88135,"reputation":15266,"user_id":243991,"accept_rate":22,"display_name":"Peter Kriens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635262012,"creation_date":1635262012,"answer_id":69725901,"question_id":69710547,"body_markdown":"OSGi was designed to use Import-Package. If you have problems with Import-Package, you, or the bundles you use, likely have deeper problems with modularity. Import/Export Package provides the most flexible, least error prone model.\r\n\r\nThe first thing I would advice is to use bnd to diagnose what is wrong with your setup, it sounds like you are writing the manifest manually? If this is the case, I can assure you there will be lots of problems in your future. Using bnd (my favorite is the workspace model, but you can use it in Gradle, Maven, and from the command line) will make OSGi is a breeze to use. You should not have to find the problems in the runtime, bnd should point them out to you in advance.\r\n\r\nThe reason OSGi has Require-Bundle is because Eclipse sadly insisted on it since it resembled their existing modularity solution in 2005. Require-Bundle imports the exported packages from the required bundle. Although this is a widely spread model, the problem is that it is very sensitive to changes in the required model. If anything is refactored, you need to do a lot of work. Package imports/exports provide a looser coupling. Especially if you make sure that those exported packages _only_ contain API.\r\n\r\nIf Dynamic imports solve your problem, you&#39;re likely better off not using OSGi since it throws modularity under the bus. You paid all that money for the framework and bundles and then you basically do the class path thing: take the first thing that looks like what you&#39;re looking for. Most of the benefits of OSGi will disappear like snow for the sun.\r\n\r\n","title":"Should I prefer Dynamic-Import over Require-Bundle?","body":"<p>OSGi was designed to use Import-Package. If you have problems with Import-Package, you, or the bundles you use, likely have deeper problems with modularity. Import/Export Package provides the most flexible, least error prone model.</p>\n<p>The first thing I would advice is to use bnd to diagnose what is wrong with your setup, it sounds like you are writing the manifest manually? If this is the case, I can assure you there will be lots of problems in your future. Using bnd (my favorite is the workspace model, but you can use it in Gradle, Maven, and from the command line) will make OSGi is a breeze to use. You should not have to find the problems in the runtime, bnd should point them out to you in advance.</p>\n<p>The reason OSGi has Require-Bundle is because Eclipse sadly insisted on it since it resembled their existing modularity solution in 2005. Require-Bundle imports the exported packages from the required bundle. Although this is a widely spread model, the problem is that it is very sensitive to changes in the required model. If anything is refactored, you need to do a lot of work. Package imports/exports provide a looser coupling. Especially if you make sure that those exported packages <em>only</em> contain API.</p>\n<p>If Dynamic imports solve your problem, you're likely better off not using OSGi since it throws modularity under the bus. You paid all that money for the framework and bundles and then you basically do the class path thing: take the first thing that looks like what you're looking for. Most of the benefits of OSGi will disappear like snow for the sun.</p>\n"}],"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69725901,"answer_count":1,"score":0,"last_activity_date":1635262012,"creation_date":1635174696,"question_id":69710547,"body_markdown":"*Should I prefer Dynamic-Import over Require-Bundle?* The situation is that my OSGi bundle imports in Java code `net.sf.ehcache` package classes and references few other classes using configuration files. After I have noticed the errors/exceptions, I solved the issue of missing classes by changing from `Import-Package: net.sf.ehcache` to `Require-Bundle: net.sf.ehcache`. But I am wondering if I should have maybe added `Dynamic-Import: net.sf.ehcache.*` in addition to the `Import-Package: net.sf.ehcache`?","title":"Should I prefer Dynamic-Import over Require-Bundle?","body":"<p><em>Should I prefer Dynamic-Import over Require-Bundle?</em> The situation is that my OSGi bundle imports in Java code <code>net.sf.ehcache</code> package classes and references few other classes using configuration files. After I have noticed the errors/exceptions, I solved the issue of missing classes by changing from <code>Import-Package: net.sf.ehcache</code> to <code>Require-Bundle: net.sf.ehcache</code>. But I am wondering if I should have maybe added <code>Dynamic-Import: net.sf.ehcache.*</code> in addition to the <code>Import-Package: net.sf.ehcache</code>?</p>\n"},{"tags":["java","arrays","cycle"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1635261607,"post_id":69725604,"comment_id":123247001,"body_markdown":"There really isn&#39;t enough information provided by yu to give a clear answer. If I&#39;d have to guess, however, i&#39;d wager you declared the fields in your `PositionOnBoard` class as `static`. Can you post the `PositionOnBoard` class? Adding the code for the `parse` method would also be very helpful","body":"There really isn&#39;t enough information provided by yu to give a clear answer. If I&#39;d have to guess, however, i&#39;d wager you declared the fields in your <code>PositionOnBoard</code> class as <code>static</code>. Can you post the <code>PositionOnBoard</code> class? Adding the code for the <code>parse</code> method would also be very helpful"},{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":1,"creation_date":1635261610,"post_id":69725604,"comment_id":123247003,"body_markdown":"What is `positions` ? What does it contains ? What does the `toString()` method of the class `PositionOnBoard` do ?","body":"What is <code>positions</code> ? What does it contains ? What does the <code>toString()</code> method of the class <code>PositionOnBoard</code> do ?"},{"owner":{"account_id":19451288,"reputation":29,"user_id":14227647,"display_name":"Yan"},"score":0,"creation_date":1635261990,"post_id":69725604,"comment_id":123247179,"body_markdown":"@OHGODSPIDERS Posted all code of class","body":"@OHGODSPIDERS Posted all code of class"},{"owner":{"account_id":19451288,"reputation":29,"user_id":14227647,"display_name":"Yan"},"score":0,"creation_date":1635262037,"post_id":69725604,"comment_id":123247204,"body_markdown":"@vincrichaud I have posted all code of class","body":"@vincrichaud I have posted all code of class"},{"owner":{"account_id":19451288,"reputation":29,"user_id":14227647,"display_name":"Yan"},"score":0,"creation_date":1635263410,"post_id":69725604,"comment_id":123247785,"body_markdown":"@vincrichaud positions contains positions of horse on chess table. I want to check if horse moves are legal","body":"@vincrichaud positions contains positions of horse on chess table. I want to check if horse moves are legal"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1635263723,"post_id":69725604,"comment_id":123247913,"body_markdown":"@Yan Your method `parse` does modify the object that it is called from and then return that object itself with `return this`. So you constantly modifying one object and adding it again to the array. If you want you parse method to not modify the existing object than you need to create an new PositionOnBoard and then modify and return that new Object.","body":"@Yan Your method <code>parse</code> does modify the object that it is called from and then return that object itself with <code>return this</code>. So you constantly modifying one object and adding it again to the array. If you want you parse method to not modify the existing object than you need to create an new PositionOnBoard and then modify and return that new Object."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635266745,"post_id":69725604,"comment_id":123249204,"body_markdown":"A [mre], please? It will help greatly in answering your question.","body":"A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please? It will help greatly in answering your question."}],"owner":{"account_id":19451288,"reputation":29,"user_id":14227647,"display_name":"Yan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1635261975,"creation_date":1635260840,"question_id":69725604,"body_markdown":"I fill the array and want to check if it was filled right.\r\nIf i do like this\r\n```\r\nPositionOnBoard[] pos = new PositionOnBoard[positions.length];\r\n for (int i = 0; i &lt; positions.length; i++){\r\n            pos[i] = parse(positions[i]);\r\n            System.out.println(pos[i]);\r\n        }\r\n```\r\nMy output of array is right, for example [1, 2, 3, 4] but if i do like this\r\n```\r\nfor (int i = 0; i &lt; positions.length; i++){\r\n            pos[i] = parse(positions[i]);\r\n            System.out.println(pos[i]);\r\n}\r\n   System.out.println(Arrays.toString(pos));\r\n```\r\nThe array consists only of last input element [4, 4, 4, 4]. They fill all length of array. What is wrong with this in Java?\r\nP.S Posted all class code\r\n```\r\npublic class PositionOnBoard {\r\n    private int x;\r\n    private int y;\r\n    PositionOnBoard(){\r\n        this.x = 0;\r\n        this.y = 0;\r\n    }\r\n    PositionOnBoard(int a, int b) throws IllegalPositionException {\r\n        if(a &gt; 7 || b &gt; 7){\r\n            throw new IllegalPositionException(&quot;Wrong position&quot;);\r\n        }\r\n        else{\r\n            x = a;\r\n            y = b;\r\n        }\r\n    }\r\n    private String getCharForNumber(int i) {\r\n        char[] alphabet = &quot;abcdefgh&quot;.toCharArray();\r\n        if (i &gt; 8) {\r\n            return null;\r\n        }\r\n        return Character.toString(alphabet[i]);\r\n    }\r\n    private int getNumberForChar(char c) {\r\n        int a = (int) c;\r\n        int b = (int) &#39;a&#39;;\r\n        return a - b;\r\n    }\r\n    public PositionOnBoard parse(String position) throws IllegalPositionException {\r\n        this.x = getNumberForChar(position.charAt(0));\r\n        this.y = position.charAt(1) - &#39;1&#39;;\r\n        if(this.x &gt; 7 || this.y &gt; 7){\r\n            throw new IllegalPositionException(&quot;Wrong position&quot;);\r\n        }\r\n        else return this;\r\n    }\r\n    public String LegalMoveChecker(String[] positions) throws IllegalPositionException {\r\n        PositionOnBoard[] pos = new PositionOnBoard[positions.length];\r\n        for (int i = 0; i &lt; positions.length; i++){\r\n            pos[i] = parse(positions[i]);\r\n            System.out.println(pos[i]);\r\n        }\r\n        System.out.println(Arrays.toString(pos));\r\n        return &quot;Legal&quot;;\r\n    }\r\n    @Override\r\n    public String toString() {\r\n        String c = getCharForNumber(x);\r\n        return (c  + String.valueOf(y + 1));\r\n    }\r\n\r\n}\r\n```","title":"filling array in for cycle","body":"<p>I fill the array and want to check if it was filled right.\nIf i do like this</p>\n<pre><code>PositionOnBoard[] pos = new PositionOnBoard[positions.length];\n for (int i = 0; i &lt; positions.length; i++){\n            pos[i] = parse(positions[i]);\n            System.out.println(pos[i]);\n        }\n</code></pre>\n<p>My output of array is right, for example [1, 2, 3, 4] but if i do like this</p>\n<pre><code>for (int i = 0; i &lt; positions.length; i++){\n            pos[i] = parse(positions[i]);\n            System.out.println(pos[i]);\n}\n   System.out.println(Arrays.toString(pos));\n</code></pre>\n<p>The array consists only of last input element [4, 4, 4, 4]. They fill all length of array. What is wrong with this in Java?\nP.S Posted all class code</p>\n<pre><code>public class PositionOnBoard {\n    private int x;\n    private int y;\n    PositionOnBoard(){\n        this.x = 0;\n        this.y = 0;\n    }\n    PositionOnBoard(int a, int b) throws IllegalPositionException {\n        if(a &gt; 7 || b &gt; 7){\n            throw new IllegalPositionException(&quot;Wrong position&quot;);\n        }\n        else{\n            x = a;\n            y = b;\n        }\n    }\n    private String getCharForNumber(int i) {\n        char[] alphabet = &quot;abcdefgh&quot;.toCharArray();\n        if (i &gt; 8) {\n            return null;\n        }\n        return Character.toString(alphabet[i]);\n    }\n    private int getNumberForChar(char c) {\n        int a = (int) c;\n        int b = (int) 'a';\n        return a - b;\n    }\n    public PositionOnBoard parse(String position) throws IllegalPositionException {\n        this.x = getNumberForChar(position.charAt(0));\n        this.y = position.charAt(1) - '1';\n        if(this.x &gt; 7 || this.y &gt; 7){\n            throw new IllegalPositionException(&quot;Wrong position&quot;);\n        }\n        else return this;\n    }\n    public String LegalMoveChecker(String[] positions) throws IllegalPositionException {\n        PositionOnBoard[] pos = new PositionOnBoard[positions.length];\n        for (int i = 0; i &lt; positions.length; i++){\n            pos[i] = parse(positions[i]);\n            System.out.println(pos[i]);\n        }\n        System.out.println(Arrays.toString(pos));\n        return &quot;Legal&quot;;\n    }\n    @Override\n    public String toString() {\n        String c = getCharForNumber(x);\n        return (c  + String.valueOf(y + 1));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","gridview","background-color"],"answers":[{"tags":[],"owner":{"account_id":2749454,"reputation":3675,"user_id":2369140,"accept_rate":80,"display_name":"ASP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635229524,"creation_date":1635229524,"answer_id":69718325,"question_id":69718153,"body_markdown":"Try adding an else condition to your if-else block handling backgrounds.\r\n\r\n         if (status==0 &amp;&amp; DarkModeStatus.matches(&quot;false&quot;)){\r\n            row.setBackgroundColor(Color.parseColor(&quot;#FEF8DD&quot;));\r\n        }\r\n        else if(status==0 &amp;&amp; DarkModeStatus.matches(&quot;true&quot;)){\r\n            row.setBackgroundColor(Color.parseColor(&quot;#282828&quot;));\r\n        }else {\r\n            row.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;)); // white or whichever default background color you are using\r\n        }\r\n\r\n\r\nFrom my understanding this could fix the issue.","title":"Gridview BackGround Color changing Color when Scrolling in Android","body":"<p>Try adding an else condition to your if-else block handling backgrounds.</p>\n<pre><code>     if (status==0 &amp;&amp; DarkModeStatus.matches(&quot;false&quot;)){\n        row.setBackgroundColor(Color.parseColor(&quot;#FEF8DD&quot;));\n    }\n    else if(status==0 &amp;&amp; DarkModeStatus.matches(&quot;true&quot;)){\n        row.setBackgroundColor(Color.parseColor(&quot;#282828&quot;));\n    }else {\n        row.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;)); // white or whichever default background color you are using\n    }\n</code></pre>\n<p>From my understanding this could fix the issue.</p>\n"}],"owner":{"account_id":23009310,"reputation":3,"user_id":17132045,"display_name":"Jessica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69718325,"answer_count":1,"score":0,"last_activity_date":1635261967,"creation_date":1635228539,"question_id":69718153,"body_markdown":"`GridView` item color changes randomly whenever I scroll. \r\n\r\nEvery item color is based on the status of the SQLite database, but when I tried to scroll multiple times it change the color of the item randomly. Is there any way to solve this? This is what it looks like.\r\n\r\n\r\n![1stScroll-Image][2] \r\n\r\n![2ndScroll-Image][1]    \r\n\r\nHere is the code\r\n\r\n**GetView**\r\n\r\n    private class ViewHolder{\r\n        ImageView imageView, mPreviewCashCard;\r\n        TextView txtName, txtPrice, txtSeriesNo;\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View view, ViewGroup viewGroup) {\r\n        Cursor cursor = MainActivity.sqLiteHelper.getData(&quot;SELECT id,status FROM DarkMode&quot;);\r\n        while (cursor.moveToNext()) {\r\n            DarkModeStatus = cursor.getString(1);\r\n        }\r\n\r\n        View row = view;\r\n        ViewHolder holder = new ViewHolder();\r\n\r\n        if(row == null){\r\n            LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n            row = inflater.inflate(layout, null);\r\n            holder.txtName = (TextView) row.findViewById(R.id.txtName);\r\n            holder.txtPrice = (TextView) row.findViewById(R.id.txtPrice);\r\n            holder.txtSeriesNo = (TextView) row.findViewById(R.id.txtSeriesNumber);\r\n            holder.imageView = (ImageView) row.findViewById(R.id.imgFood);\r\n            holder.mPreviewCashCard = (ImageView) row.findViewById(R.id.imgId);\r\n            row.setTag(holder);\r\n        }\r\n        else {\r\n            holder = (ViewHolder) row.getTag();\r\n        }\r\n        Inventory inventory = inventoryList.get(position);\r\n        holder.txtName.setText(inventory.getName());\r\n        holder.txtPrice.setText(inventory.getPrice());\r\n        holder.txtSeriesNo.setText(inventory.getSeriesNumber());\r\n        int status = inventory.getStatus();\r\n        if (status==0 &amp;&amp; DarkModeStatus.matches(&quot;false&quot;)){\r\n            row.setBackgroundColor(Color.parseColor(&quot;#FEF8DD&quot;));\r\n        }\r\n        else if(status==0 &amp;&amp; DarkModeStatus.matches(&quot;true&quot;)){\r\n            row.setBackgroundColor(Color.parseColor(&quot;#282828&quot;));\r\n        }\r\n\r\n        byte[] CashCardImage = inventory.getImage();\r\n        byte[] idImage = inventory.getIdImage();\r\n        if(CashCardImage.length &gt; 1)\r\n        {\r\n            Bitmap bitmap = BitmapFactory.decodeByteArray(CashCardImage, 0, CashCardImage.length);\r\n            holder.imageView.setImageBitmap(bitmap);\r\n        }\r\n        else{\r\n            holder.imageView.setImageResource(R.drawable.ic_image);\r\n        }\r\n        if(idImage.length &gt; 1)\r\n        {\r\n            Bitmap bitmap2 = BitmapFactory.decodeByteArray(idImage, 0, idImage.length);\r\n            holder.mPreviewCashCard.setImageBitmap(bitmap2);\r\n        }\r\n        else{\r\n            holder.mPreviewCashCard.setImageResource(R.drawable.ic_image);\r\n        }\r\n        return row;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Wdha.jpg\r\n  [2]: https://i.stack.imgur.com/MiLE3.jpg","title":"Gridview BackGround Color changing Color when Scrolling in Android","body":"<p><code>GridView</code> item color changes randomly whenever I scroll.</p>\n<p>Every item color is based on the status of the SQLite database, but when I tried to scroll multiple times it change the color of the item randomly. Is there any way to solve this? This is what it looks like.</p>\n<p><img src=\"https://i.stack.imgur.com/MiLE3.jpg\" alt=\"1stScroll-Image\" /></p>\n<p><img src=\"https://i.stack.imgur.com/4Wdha.jpg\" alt=\"2ndScroll-Image\" /></p>\n<p>Here is the code</p>\n<p><strong>GetView</strong></p>\n<pre><code>private class ViewHolder{\n    ImageView imageView, mPreviewCashCard;\n    TextView txtName, txtPrice, txtSeriesNo;\n}\n\n@Override\npublic View getView(int position, View view, ViewGroup viewGroup) {\n    Cursor cursor = MainActivity.sqLiteHelper.getData(&quot;SELECT id,status FROM DarkMode&quot;);\n    while (cursor.moveToNext()) {\n        DarkModeStatus = cursor.getString(1);\n    }\n\n    View row = view;\n    ViewHolder holder = new ViewHolder();\n\n    if(row == null){\n        LayoutInflater inflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n        row = inflater.inflate(layout, null);\n        holder.txtName = (TextView) row.findViewById(R.id.txtName);\n        holder.txtPrice = (TextView) row.findViewById(R.id.txtPrice);\n        holder.txtSeriesNo = (TextView) row.findViewById(R.id.txtSeriesNumber);\n        holder.imageView = (ImageView) row.findViewById(R.id.imgFood);\n        holder.mPreviewCashCard = (ImageView) row.findViewById(R.id.imgId);\n        row.setTag(holder);\n    }\n    else {\n        holder = (ViewHolder) row.getTag();\n    }\n    Inventory inventory = inventoryList.get(position);\n    holder.txtName.setText(inventory.getName());\n    holder.txtPrice.setText(inventory.getPrice());\n    holder.txtSeriesNo.setText(inventory.getSeriesNumber());\n    int status = inventory.getStatus();\n    if (status==0 &amp;&amp; DarkModeStatus.matches(&quot;false&quot;)){\n        row.setBackgroundColor(Color.parseColor(&quot;#FEF8DD&quot;));\n    }\n    else if(status==0 &amp;&amp; DarkModeStatus.matches(&quot;true&quot;)){\n        row.setBackgroundColor(Color.parseColor(&quot;#282828&quot;));\n    }\n\n    byte[] CashCardImage = inventory.getImage();\n    byte[] idImage = inventory.getIdImage();\n    if(CashCardImage.length &gt; 1)\n    {\n        Bitmap bitmap = BitmapFactory.decodeByteArray(CashCardImage, 0, CashCardImage.length);\n        holder.imageView.setImageBitmap(bitmap);\n    }\n    else{\n        holder.imageView.setImageResource(R.drawable.ic_image);\n    }\n    if(idImage.length &gt; 1)\n    {\n        Bitmap bitmap2 = BitmapFactory.decodeByteArray(idImage, 0, idImage.length);\n        holder.mPreviewCashCard.setImageBitmap(bitmap2);\n    }\n    else{\n        holder.mPreviewCashCard.setImageResource(R.drawable.ic_image);\n    }\n    return row;\n}\n</code></pre>\n"},{"tags":["javascript","java","selenium","testing"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635261936,"creation_date":1635261936,"answer_id":69725890,"question_id":69724189,"body_markdown":"Looks like all you need to do is \r\n```java\r\nJavascriptExecutor js = (JavascriptExecutor) driver;\r\nint val = js.executeScript(&quot;return button();&quot;);\r\nAssertEquals(2, val);\r\n```\r\nFor more details see this [reference][1]\r\n\r\n[1]:https://stackoverflow.com/questions/13994393/reading-javascript-variables-using-selenium-webdriver","title":"Java Selenium testing, can we get javaScript variables to assert","body":"<p>Looks like all you need to do is</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavascriptExecutor js = (JavascriptExecutor) driver;\nint val = js.executeScript(&quot;return button();&quot;);\nAssertEquals(2, val);\n</code></pre>\n<p>For more details see this <a href=\"https://stackoverflow.com/questions/13994393/reading-javascript-variables-using-selenium-webdriver\">reference</a></p>\n"}],"owner":{"account_id":19493156,"reputation":98,"user_id":14260983,"display_name":"golgetahir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635261936,"creation_date":1635255545,"question_id":69724189,"body_markdown":"I want to test a front end vanilla javascript using Selenium in java. I can easily open the page click on some stuff etc, but I couldn&#39;t figure out exactly what is the best practices to assert tests. Mainly, can we get the variables after clicking on some buttons, for example let&#39;s say:\r\n\r\n    function button(){\r\n      variable = 2;\r\n    }\r\n\r\nLet&#39;s say some button calls the function above, in selenium I can click on the function but is there a way to call the variable and do something like;\r\n\r\n    AssertEquals(2, driver.getVariableFromJavascriptAfterClick())\r\n\r\n\r\nIf not, how should I test something like that.\r\n\r\nThanks\r\n","title":"Java Selenium testing, can we get javaScript variables to assert","body":"<p>I want to test a front end vanilla javascript using Selenium in java. I can easily open the page click on some stuff etc, but I couldn't figure out exactly what is the best practices to assert tests. Mainly, can we get the variables after clicking on some buttons, for example let's say:</p>\n<pre><code>function button(){\n  variable = 2;\n}\n</code></pre>\n<p>Let's say some button calls the function above, in selenium I can click on the function but is there a way to call the variable and do something like;</p>\n<pre><code>AssertEquals(2, driver.getVariableFromJavascriptAfterClick())\n</code></pre>\n<p>If not, how should I test something like that.</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":1369786,"reputation":73221,"user_id":1305344,"accept_rate":70,"display_name":"Jacek Laskowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635261893,"creation_date":1635261893,"answer_id":69725872,"question_id":69719614,"body_markdown":"&gt; One thread will assign topic-partitions to the KafkaConsumer instance based on some external input. The other thread constantly polls the topic, process the records and commit the offsets at the end.\r\n\r\nAccording to the javadoc (Section [Multi-threaded Processing][1]):\r\n\r\n&gt; The Kafka consumer is NOT thread-safe.\r\n\r\nWith that I&#39;m not so sure you can change partition assignment in one thread and see the changes in the other.\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.apache.kafka/kafka-clients/latest/org/apache/kafka/clients/consumer/KafkaConsumer.html","title":"KafkaConsumer visibility across threads","body":"<blockquote>\n<p>One thread will assign topic-partitions to the KafkaConsumer instance based on some external input. The other thread constantly polls the topic, process the records and commit the offsets at the end.</p>\n</blockquote>\n<p>According to the javadoc (Section <a href=\"https://javadoc.io/doc/org.apache.kafka/kafka-clients/latest/org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">Multi-threaded Processing</a>):</p>\n<blockquote>\n<p>The Kafka consumer is NOT thread-safe.</p>\n</blockquote>\n<p>With that I'm not so sure you can change partition assignment in one thread and see the changes in the other.</p>\n"}],"owner":{"account_id":9206713,"reputation":115,"user_id":6841669,"display_name":"Harsha Chittepu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69725872,"answer_count":1,"score":2,"last_activity_date":1635261908,"creation_date":1635235873,"question_id":69719614,"body_markdown":"I have an application which has two threads running. These threads share a KafkaConsumer instance between them. \r\n\r\nKafkaConsumer is created by disabling the auto commit config. One thread will assign topic-partitions to the KafkaConsumer instance based on some external input. The other thread constantly polls the topic, process the records and commit the offsets at the end.\r\n\r\nNow, let&#39;s say the topic-partitions assignment was changed in Thread-1. What can we do to make sure that Thread-2 can see these changes? i.e Thread-2&#39;s KafkaConsumer will know that topic-partitions have been updated in Thread-1.\r\n\r\nDoes defining the variable as volatile solve this issue? Or should we do anything more? Please provide your explanantions with code examples as I am new to multi-threading in Java.\r\n   ","title":"KafkaConsumer visibility across threads","body":"<p>I have an application which has two threads running. These threads share a KafkaConsumer instance between them.</p>\n<p>KafkaConsumer is created by disabling the auto commit config. One thread will assign topic-partitions to the KafkaConsumer instance based on some external input. The other thread constantly polls the topic, process the records and commit the offsets at the end.</p>\n<p>Now, let's say the topic-partitions assignment was changed in Thread-1. What can we do to make sure that Thread-2 can see these changes? i.e Thread-2's KafkaConsumer will know that topic-partitions have been updated in Thread-1.</p>\n<p>Does defining the variable as volatile solve this issue? Or should we do anything more? Please provide your explanantions with code examples as I am new to multi-threading in Java.</p>\n"},{"tags":["java","csv","apache-poi","xlsx"],"comments":[{"owner":{"account_id":9478791,"reputation":111,"user_id":7047402,"display_name":"Tharani"},"score":0,"creation_date":1477567106,"post_id":40283179,"comment_id":67824675,"body_markdown":"yes sir. process should be fast","body":"yes sir. process should be fast"}],"answers":[{"tags":[],"owner":{"account_id":2567480,"reputation":67,"user_id":2227133,"accept_rate":25,"display_name":"Hari Krishna"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1477568437,"creation_date":1477567534,"answer_id":40283439,"question_id":40283179,"body_markdown":"Try using POI API. Here is the reference link\r\n\r\n[Java - Apache POI - Convert XLS/XLSX to CSV ][1]\r\n\r\n\r\n  [1]: https://gist.github.com/tranminhan/991207\r\n  [2]: http://www.simplecodestuffs.com/converting-xls-to-csv-files-using-java/","title":"How to convert xlsx file to csv?","body":"<p>Try using POI API. Here is the reference link</p>\n\n<p><a href=\"https://gist.github.com/tranminhan/991207\" rel=\"nofollow\">Java - Apache POI - Convert XLS/XLSX to CSV </a></p>\n"},{"tags":[],"owner":{"account_id":7003016,"reputation":65,"user_id":5368420,"display_name":"anurag"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1567513479,"creation_date":1549537586,"answer_id":54571923,"question_id":40283179,"body_markdown":"Simple way to convert xls/xlsx into csv by using apache POI.\r\n\r\n   \r\n\r\n \r\n\r\n    public class XLSXToCSVConverter {\r\n    \r\n        public InputStream convertxlstoCSV(InputStream inputStream) throws IOException, InvalidFormatException {\r\n    \r\n            Workbook wb = WorkbookFactory.create(inputStream);\r\n    \r\n            return\tcsvConverter(wb.getSheetAt(0));\r\n        }\r\n    \r\n        private InputStream csvConverter(Sheet sheet) {\r\n            Row row = null;\r\n            String str = new String();\r\n            for (int i = 0; i &lt; sheet.getLastRowNum()+1; i++) {\r\n                row = sheet.getRow(i);\r\n                String rowString = new String();\r\n                for (int j = 0; j &lt; 3; j++) {\r\n                    if(row.getCell(j)==null) {\r\n                        rowString = rowString + Utility.BLANK_SPACE + Utility.COMMA;\r\n                    }\r\n                    else {\r\n                        rowString = rowString + row.getCell(j)+ Utility.COMMA;\r\n                    }\r\n                }\r\n                str = str + rowString.substring(0,rowString.length()-1)+ Utility.NEXT_LINE_OPERATOR;\r\n            }\r\n            System.out.println(str);\r\n            return new ByteArrayInputStream(str.getBytes(StandardCharsets.UTF_8));\r\n        }\r\n    }\r\n\r\nHope this will help you , Thanks.","title":"How to convert xlsx file to csv?","body":"<p>Simple way to convert xls/xlsx into csv by using apache POI.</p>\n\n<pre><code>public class XLSXToCSVConverter {\n\n    public InputStream convertxlstoCSV(InputStream inputStream) throws IOException, InvalidFormatException {\n\n        Workbook wb = WorkbookFactory.create(inputStream);\n\n        return  csvConverter(wb.getSheetAt(0));\n    }\n\n    private InputStream csvConverter(Sheet sheet) {\n        Row row = null;\n        String str = new String();\n        for (int i = 0; i &lt; sheet.getLastRowNum()+1; i++) {\n            row = sheet.getRow(i);\n            String rowString = new String();\n            for (int j = 0; j &lt; 3; j++) {\n                if(row.getCell(j)==null) {\n                    rowString = rowString + Utility.BLANK_SPACE + Utility.COMMA;\n                }\n                else {\n                    rowString = rowString + row.getCell(j)+ Utility.COMMA;\n                }\n            }\n            str = str + rowString.substring(0,rowString.length()-1)+ Utility.NEXT_LINE_OPERATOR;\n        }\n        System.out.println(str);\n        return new ByteArrayInputStream(str.getBytes(StandardCharsets.UTF_8));\n    }\n}\n</code></pre>\n\n<p>Hope this will help you , Thanks.</p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635261751,"creation_date":1620234143,"answer_id":67405719,"question_id":40283179,"body_markdown":"The [text extractors][1] will dump a TSV of the entire workbook. Performance depends on the implementation chosen and your memory availability.\r\n\r\nYou can then pipe that into a [`CSVPrinter`][2] to get correct CSV output. I don&#39;t think Excel cells can ever contain tab characters, so this should be safe. If you have newlines in your cells I&#39;m not sure whether the TSV output will be valid, but if it is you can use a [`CSVParser`][3] to read it instead of `lines()`.\r\n\r\n```java\r\nXSSFWorkbook input = new XSSFWorkbook(new File(&quot;input.xlsx&quot;));\r\nCSVPrinter output = new CSVPrinter(new FileWriter(&quot;output.csv&quot;), CSVFormat.DEFAULT); \r\n\r\nString tsv = new XSSFExcelExtractor(input).getText();\r\nBufferedReader reader = new BufferedReader(new StringReader(tsv));\r\nreader.lines().map(line -&gt; line.split(&quot;\\t&quot;).forEach(output::printRecord);\r\n\r\n```\r\n\r\nIf buffering the whole this as a `String` is too inefficient, copy the implementation of one of the event-based extractors and write directly to the `CSVPrinter` instead.\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/5.0/org/apache/poi/xssf/extractor/package-summary.html\r\n  [2]: https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVPrinter.html\r\n  [3]: https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html","title":"How to convert xlsx file to csv?","body":"<p>The <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/xssf/extractor/package-summary.html\" rel=\"nofollow noreferrer\">text extractors</a> will dump a TSV of the entire workbook. Performance depends on the implementation chosen and your memory availability.</p>\n<p>You can then pipe that into a <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVPrinter.html\" rel=\"nofollow noreferrer\"><code>CSVPrinter</code></a> to get correct CSV output. I don't think Excel cells can ever contain tab characters, so this should be safe. If you have newlines in your cells I'm not sure whether the TSV output will be valid, but if it is you can use a <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html\" rel=\"nofollow noreferrer\"><code>CSVParser</code></a> to read it instead of <code>lines()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>XSSFWorkbook input = new XSSFWorkbook(new File(&quot;input.xlsx&quot;));\nCSVPrinter output = new CSVPrinter(new FileWriter(&quot;output.csv&quot;), CSVFormat.DEFAULT); \n\nString tsv = new XSSFExcelExtractor(input).getText();\nBufferedReader reader = new BufferedReader(new StringReader(tsv));\nreader.lines().map(line -&gt; line.split(&quot;\\t&quot;).forEach(output::printRecord);\n\n</code></pre>\n<p>If buffering the whole this as a <code>String</code> is too inefficient, copy the implementation of one of the event-based extractors and write directly to the <code>CSVPrinter</code> instead.</p>\n"}],"owner":{"account_id":9478791,"reputation":111,"user_id":7047402,"display_name":"Tharani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63657,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":3,"score":7,"last_activity_date":1635261751,"creation_date":1477566763,"question_id":40283179,"body_markdown":"Currently I am using below code to convert XLSX file to CSV using Java. I need a faster solution because this is too slow.\r\n\r\n    public class Test1 {\r\n        static void convert(File inputFile, File outputFile) {\r\n    \t\ttry {\r\n    \t\t\tFileOutputStream fos = new FileOutputStream(outputFile);\r\n    \t\t\t// Get the workbook object for XLSX file\r\n    \t\t\tXSSFWorkbook wBook = new XSSFWorkbook(\r\n    \t\t\t\t\tnew FileInputStream(inputFile));\r\n    \t\t\t// Get first sheet from the workbook\r\n    \t\t\tXSSFSheet sheet = wBook.getSheetAt(0);\r\n    \t\t\tRow row;\r\n    \t\t\tCell cell;\r\n    \t\t\t// Iterate through each rows from first sheet\r\n    \t\t\tIterator&lt;Row&gt; rowIterator = sheet.iterator();\r\n    \r\n    \t\t\twhile (rowIterator.hasNext()) {\r\n    \t\t\t\trow = rowIterator.next();\r\n    \r\n    \t\t\t\t// For each row, iterate through each columns\r\n    \t\t\t\tIterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n    \t\t\t\twhile (cellIterator.hasNext()) {\r\n    \r\n    \t\t\t\t\tcell = cellIterator.next();\r\n    \r\n    \t\t\t\t\tswitch (cell.getCellType()) {\r\n    \t\t\t\t\tcase Cell.CELL_TYPE_BOOLEAN:\r\n    \t\t\t\t\t\tdata.append(cell.getBooleanCellValue() + &quot;,&quot;);\r\n    \r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase Cell.CELL_TYPE_NUMERIC:\r\n    \t\t\t\t\t\tdata.append(cell.getNumericCellValue() + &quot;,&quot;);\r\n    \r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tcase Cell.CELL_TYPE_STRING:\r\n    \t\t\t\t\t\tdata.append(cell.getStringCellValue() + &quot;,&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \r\n    \t\t\t\t\tcase Cell.CELL_TYPE_BLANK:\r\n    \t\t\t\t\t\tdata.append(&quot;&quot; + &quot;,&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\tdefault:\r\n    \t\t\t\t\t\tdata.append(cell + &quot;,&quot;);\r\n    \r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tfos.write(data.toString().getBytes());\r\n    \t\t\tfos.close();\r\n    \r\n    \t\t} catch (Exception ioe) {\r\n    \t\t\tioe.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// testing the application\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// reading file from desktop\r\n    \t\tFile inputFile = new File(&quot;D:\\\\Test.xlsx&quot;);\r\n    \t\t// writing excel data to csv\r\n    \t\tFile outputFile = new File(&quot;D:\\\\Test1.csv&quot;);\r\n    \t\tconvert(inputFile, outputFile);\r\n    \t}\r\n    }\r\n\r\n","title":"How to convert xlsx file to csv?","body":"<p>Currently I am using below code to convert XLSX file to CSV using Java. I need a faster solution because this is too slow.</p>\n<pre><code>public class Test1 {\n    static void convert(File inputFile, File outputFile) {\n        try {\n            FileOutputStream fos = new FileOutputStream(outputFile);\n            // Get the workbook object for XLSX file\n            XSSFWorkbook wBook = new XSSFWorkbook(\n                    new FileInputStream(inputFile));\n            // Get first sheet from the workbook\n            XSSFSheet sheet = wBook.getSheetAt(0);\n            Row row;\n            Cell cell;\n            // Iterate through each rows from first sheet\n            Iterator&lt;Row&gt; rowIterator = sheet.iterator();\n\n            while (rowIterator.hasNext()) {\n                row = rowIterator.next();\n\n                // For each row, iterate through each columns\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                while (cellIterator.hasNext()) {\n\n                    cell = cellIterator.next();\n\n                    switch (cell.getCellType()) {\n                    case Cell.CELL_TYPE_BOOLEAN:\n                        data.append(cell.getBooleanCellValue() + &quot;,&quot;);\n\n                        break;\n                    case Cell.CELL_TYPE_NUMERIC:\n                        data.append(cell.getNumericCellValue() + &quot;,&quot;);\n\n                        break;\n                    case Cell.CELL_TYPE_STRING:\n                        data.append(cell.getStringCellValue() + &quot;,&quot;);\n                        break;\n\n                    case Cell.CELL_TYPE_BLANK:\n                        data.append(&quot;&quot; + &quot;,&quot;);\n                        break;\n                    default:\n                        data.append(cell + &quot;,&quot;);\n\n                    }\n                }\n            }\n\n            fos.write(data.toString().getBytes());\n            fos.close();\n\n        } catch (Exception ioe) {\n            ioe.printStackTrace();\n        }\n    }\n\n    // testing the application\n\n    public static void main(String[] args) {\n        // reading file from desktop\n        File inputFile = new File(&quot;D:\\\\Test.xlsx&quot;);\n        // writing excel data to csv\n        File outputFile = new File(&quot;D:\\\\Test1.csv&quot;);\n        convert(inputFile, outputFile);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","autofill"],"answers":[{"tags":[],"owner":{"account_id":23079147,"reputation":26,"user_id":17191686,"display_name":"Roman Avdeev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635261687,"creation_date":1635261687,"answer_id":69725814,"question_id":69386150,"body_markdown":"Try Preferences--&gt;Java--&gt;Appearance--&gt;Type Filters and disable all","title":"Eclipse proposals missing methods","body":"<p>Try Preferences--&gt;Java--&gt;Appearance--&gt;Type Filters and disable all</p>\n"}],"owner":{"account_id":14654513,"reputation":23,"user_id":10583471,"display_name":"INeedHelp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69725814,"answer_count":1,"score":-1,"last_activity_date":1635261687,"creation_date":1632976070,"question_id":69386150,"body_markdown":"I have recently installed the latest version of Java, JDK 17, and the latest version of Eclipse, 2021-09. I had to do a fresh start because my previous version was bugging out, and unfortunately this one is too. The autofill/proposals is not working correctly.\r\n\r\nFor example, let&#39;s say I have a JFrame called f. I have already initialized it and I am setting it up. Originally, if I wanted to call &quot;f.setSize()&quot;, I could just type in &quot;f.set&quot; and a list would pop up with that method on it. This method, among many others, no longer shows up. &quot;setLocationRelativeTo,&quot; &quot;setVisibleTo,&quot; &quot;setSize,&quot; &quot;setTitle,&quot; and some more no longer show up.\r\n\r\nI also discovered that if I try to implement KeyListener in a class, I cannot use the shortcut ctrl + shift + o to auto-import KeyListener. Instead, Eclipse says that that interface doesn&#39;t exist and suggests to change it to MenuKeyListener.\r\n\r\nI have looked at similar questions and videos and everyone says that it has to do with the proposals in the editor. I have checked and unchecked all of them, testing each one. No mixture of ons and offs fixes my problem. \r\n\r\nThis is a fresh version of Eclipse with no addons, plugins, or mods. I also have only made one project in the new version and have not imported any old ones, mostly because they all got accidentally deleted. I don&#39;t know why this is happening, but I can&#39;t make any more projects without having to look up the spelling and inputs for each method.\r\n\r\nAny help would be appreciated.","title":"Eclipse proposals missing methods","body":"<p>I have recently installed the latest version of Java, JDK 17, and the latest version of Eclipse, 2021-09. I had to do a fresh start because my previous version was bugging out, and unfortunately this one is too. The autofill/proposals is not working correctly.</p>\n<p>For example, let's say I have a JFrame called f. I have already initialized it and I am setting it up. Originally, if I wanted to call &quot;f.setSize()&quot;, I could just type in &quot;f.set&quot; and a list would pop up with that method on it. This method, among many others, no longer shows up. &quot;setLocationRelativeTo,&quot; &quot;setVisibleTo,&quot; &quot;setSize,&quot; &quot;setTitle,&quot; and some more no longer show up.</p>\n<p>I also discovered that if I try to implement KeyListener in a class, I cannot use the shortcut ctrl + shift + o to auto-import KeyListener. Instead, Eclipse says that that interface doesn't exist and suggests to change it to MenuKeyListener.</p>\n<p>I have looked at similar questions and videos and everyone says that it has to do with the proposals in the editor. I have checked and unchecked all of them, testing each one. No mixture of ons and offs fixes my problem.</p>\n<p>This is a fresh version of Eclipse with no addons, plugins, or mods. I also have only made one project in the new version and have not imported any old ones, mostly because they all got accidentally deleted. I don't know why this is happening, but I can't make any more projects without having to look up the spelling and inputs for each method.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","inheritance","polymorphism","subclass","superclass"],"answers":[{"tags":[],"owner":{"account_id":3362143,"reputation":39498,"user_id":2823719,"accept_rate":11,"display_name":"Booboo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635261585,"creation_date":1635261585,"answer_id":69725790,"question_id":69725178,"body_markdown":"If you do not explicitly call `super()` in your derived class, the Java compiler will automatically generate a call to `super()` for you. But this, of course, only works if the base class constructor takes no arguments. This can be demonstrated by adding a `System.out.println(&quot;Constructor called.&quot;);` statement to your otherwise empty `Vehicle` constructor.\r\n\r\nThe `@Override` decorator, as you have found out but have not convinced yourself of, is optional. But it is considered a &quot;best practice&quot; to use this when overriding a method for catching errors if you change the method signature.\r\n\r\nThe one, hopefully constructive, comment I would make is that since a `Vehicle`  must have attributes *make* and *numWheels*, I personally would require that these be specified in the `Vehicle` constructor. Now there is no possibility of having a derived class with these attributes undefined. \r\n\r\n```lang-java\r\npublic class VehicleApp {\r\n\r\n    public static void main(String[] args) {\r\n        Ford myFord = new Ford();\r\n        System.out.println(myFord.countWheels());\r\n\r\n        Kawasaki myKawasaki = new Kawasaki(1985, &quot;Eliminator&quot;);\r\n        System.out.println(myKawasaki.countWheels());\r\n    }\r\n}\r\n\r\nclass Vehicle {\r\n\r\n    protected String make;\r\n    protected int numWheels;\r\n\r\n    public Vehicle(String make, int numWheels) {\r\n\t\tthis.make = make;\r\n\t\tthis.numWheels = numWheels;\r\n\t}\r\n\r\n    public String countWheels() {\r\n        return &quot;The number of wheels this &quot; + make + &quot; has is &quot; + numWheels + &quot;.&quot;;\r\n    }\r\n}\r\n\r\nclass Ford extends Vehicle {\r\n    public Ford() {\r\n\t\tsuper(&quot;Ford&quot;, 4);\r\n    }\r\n}\r\n\r\nclass Kawasaki extends Vehicle {\r\n    private String model;\r\n    private int year;\r\n\r\n    public Kawasaki(int year, String model) {\r\n\t\tsuper(&quot;Kawasaki&quot;, 2);\r\n        this.model = model;\r\n        this.year = year;\r\n    }\r\n\r\n    @Override\r\n    public String countWheels() {\r\n        return &quot;The number of wheels this &quot; + year + &quot; &quot; + make + &quot; &quot; + model + &quot; has is &quot; + numWheels + &quot;.&quot;;\r\n    }\r\n}\r\n```\r\n","title":"Java - incorrect creation of subclasses and super classes","body":"<p>If you do not explicitly call <code>super()</code> in your derived class, the Java compiler will automatically generate a call to <code>super()</code> for you. But this, of course, only works if the base class constructor takes no arguments. This can be demonstrated by adding a <code>System.out.println(&quot;Constructor called.&quot;);</code> statement to your otherwise empty <code>Vehicle</code> constructor.</p>\n<p>The <code>@Override</code> decorator, as you have found out but have not convinced yourself of, is optional. But it is considered a &quot;best practice&quot; to use this when overriding a method for catching errors if you change the method signature.</p>\n<p>The one, hopefully constructive, comment I would make is that since a <code>Vehicle</code>  must have attributes <em>make</em> and <em>numWheels</em>, I personally would require that these be specified in the <code>Vehicle</code> constructor. Now there is no possibility of having a derived class with these attributes undefined.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class VehicleApp {\n\n    public static void main(String[] args) {\n        Ford myFord = new Ford();\n        System.out.println(myFord.countWheels());\n\n        Kawasaki myKawasaki = new Kawasaki(1985, &quot;Eliminator&quot;);\n        System.out.println(myKawasaki.countWheels());\n    }\n}\n\nclass Vehicle {\n\n    protected String make;\n    protected int numWheels;\n\n    public Vehicle(String make, int numWheels) {\n        this.make = make;\n        this.numWheels = numWheels;\n    }\n\n    public String countWheels() {\n        return &quot;The number of wheels this &quot; + make + &quot; has is &quot; + numWheels + &quot;.&quot;;\n    }\n}\n\nclass Ford extends Vehicle {\n    public Ford() {\n        super(&quot;Ford&quot;, 4);\n    }\n}\n\nclass Kawasaki extends Vehicle {\n    private String model;\n    private int year;\n\n    public Kawasaki(int year, String model) {\n        super(&quot;Kawasaki&quot;, 2);\n        this.model = model;\n        this.year = year;\n    }\n\n    @Override\n    public String countWheels() {\n        return &quot;The number of wheels this &quot; + year + &quot; &quot; + make + &quot; &quot; + model + &quot; has is &quot; + numWheels + &quot;.&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10073835,"reputation":787,"user_id":7446623,"accept_rate":5,"display_name":"apex2022"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635261585,"creation_date":1635259238,"question_id":69725178,"body_markdown":"First, I think the title of this post could be better, so if you want to edit it feel free to do so (or let me know how you think I should edit it).\r\n\r\nI am going over practice problems for Java interviews. I am not interviewing right now, but I think this is the best way for me to find all my weak spots with Java. And before you say it, yes, I am finding I am VERY weak in many areas of Java and that I will need to do lots or review before interviewing.\r\n\r\nI have some questions about the following code:\r\n\r\n    public class VehicleApp {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    Ford myFord = new Ford();\r\n\t\t    System.out.println(myFord.countWheels());\r\n\t\t\r\n\t\t    Kawasaki myKawasaki = new Kawasaki(1985, &quot;Eliminator&quot;);\r\n\t\t    System.out.println(myKawasaki.countWheels());\r\n\t    }\r\n    }\r\n\r\n    class Vehicle {\r\n\r\n\t    protected String make;\r\n\t    protected int numWheels;\r\n\t\r\n\t    public Vehicle() { }\r\n\t\r\n\t    public String countWheels() {\r\n\t\t    return &quot;The number of wheels this &quot; + make + &quot; has is &quot; + numWheels + &quot;.&quot;;\r\n\t    }\r\n    }\r\n\r\n    class Ford extends Vehicle {\r\n\t    public Ford() {\r\n\t\t    make = &quot;Ford&quot;;\r\n\t\t    numWheels = 4;\r\n\t    }\r\n    }\r\n\r\n    class Kawasaki extends Vehicle {\r\n\t    private String model;\r\n\t    private int year;\r\n\t\r\n\t    public Kawasaki(int year, String model) {\r\n\t\t    make = &quot;Kawasaki&quot;;\r\n\t\t    numWheels = 2;\r\n\t\t    this.model = model;\r\n\t\t    this.year = year;\r\n\t    }\r\n\t\r\n\t    public String countWheels() {\r\n\t\t    return &quot;The number of wheels this &quot; + year + &quot; &quot; + make + &quot; &quot; + model + &quot; has is &quot; + numWheels + &quot;.&quot;;\r\n\t    }\r\n    }\r\n\r\nFirst, I notice that there are no references to super() in the code. I thought that when you are dealing with super classes and subclasses, it was required that the subclass constructor include a reference to the super class constructor in the form of super(); (and including parameters if the super class constructor has them). Yet this code seems to work without them. Am I wrong about this requirement? Am I missing something else in this picture?\r\n\r\nSecond, the Kawasaki class doesn&#39;t include the decoration @Override for the countWheels() method. Since this method has the same name (albeit different parameters) as the super class&#39; countWheels() method, wouldn&#39;t it be required to have an @Override decoration? Or is that only if the parameters are the same type and same order?\r\n\r\nThanks!","title":"Java - incorrect creation of subclasses and super classes","body":"<p>First, I think the title of this post could be better, so if you want to edit it feel free to do so (or let me know how you think I should edit it).</p>\n<p>I am going over practice problems for Java interviews. I am not interviewing right now, but I think this is the best way for me to find all my weak spots with Java. And before you say it, yes, I am finding I am VERY weak in many areas of Java and that I will need to do lots or review before interviewing.</p>\n<p>I have some questions about the following code:</p>\n<pre><code>public class VehicleApp {\n\n    public static void main(String[] args) {\n        Ford myFord = new Ford();\n        System.out.println(myFord.countWheels());\n    \n        Kawasaki myKawasaki = new Kawasaki(1985, &quot;Eliminator&quot;);\n        System.out.println(myKawasaki.countWheels());\n    }\n}\n\nclass Vehicle {\n\n    protected String make;\n    protected int numWheels;\n\n    public Vehicle() { }\n\n    public String countWheels() {\n        return &quot;The number of wheels this &quot; + make + &quot; has is &quot; + numWheels + &quot;.&quot;;\n    }\n}\n\nclass Ford extends Vehicle {\n    public Ford() {\n        make = &quot;Ford&quot;;\n        numWheels = 4;\n    }\n}\n\nclass Kawasaki extends Vehicle {\n    private String model;\n    private int year;\n\n    public Kawasaki(int year, String model) {\n        make = &quot;Kawasaki&quot;;\n        numWheels = 2;\n        this.model = model;\n        this.year = year;\n    }\n\n    public String countWheels() {\n        return &quot;The number of wheels this &quot; + year + &quot; &quot; + make + &quot; &quot; + model + &quot; has is &quot; + numWheels + &quot;.&quot;;\n    }\n}\n</code></pre>\n<p>First, I notice that there are no references to super() in the code. I thought that when you are dealing with super classes and subclasses, it was required that the subclass constructor include a reference to the super class constructor in the form of super(); (and including parameters if the super class constructor has them). Yet this code seems to work without them. Am I wrong about this requirement? Am I missing something else in this picture?</p>\n<p>Second, the Kawasaki class doesn't include the decoration @Override for the countWheels() method. Since this method has the same name (albeit different parameters) as the super class' countWheels() method, wouldn't it be required to have an @Override decoration? Or is that only if the parameters are the same type and same order?</p>\n<p>Thanks!</p>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1635256749,"post_id":69724290,"comment_id":123244579,"body_markdown":"By &quot;the same application&quot; do you mean that the application is _only_ exchanging messages with itself and no other applications?","body":"By &quot;the same application&quot; do you mean that the application is <i>only</i> exchanging messages with itself and no other applications?"},{"owner":{"account_id":440735,"reputation":455,"user_id":7858379,"display_name":"Rafael A P Nascimento"},"score":0,"creation_date":1635259245,"post_id":69724290,"comment_id":123245847,"body_markdown":"A producer instance in the application would send some message to a queue and a consumer instance in the same application would consume that message and do other stuff.","body":"A producer instance in the application would send some message to a queue and a consumer instance in the same application would consume that message and do other stuff."}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635261447,"creation_date":1635261447,"answer_id":69725751,"question_id":69724290,"body_markdown":"It is technically possible to use JMS to exchange messages between components in the same application, but generally speaking it would almost certainly be simpler to just use the language features and APIs provided by Java SE. This would prevent you from having to configure and administer a JMS broker.","title":"JMS: does it make sense to have a Producer and the related Consumer in the same application?","body":"<p>It is technically possible to use JMS to exchange messages between components in the same application, but generally speaking it would almost certainly be simpler to just use the language features and APIs provided by Java SE. This would prevent you from having to configure and administer a JMS broker.</p>\n"}],"owner":{"account_id":440735,"reputation":455,"user_id":7858379,"display_name":"Rafael A P Nascimento"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635261447,"creation_date":1635255978,"question_id":69724290,"body_markdown":"I&#39;m new to JMS, and would like to know if does it make sense to have a Producer and the related Consumer in the same application? If it does, what are the cases for example?","title":"JMS: does it make sense to have a Producer and the related Consumer in the same application?","body":"<p>I'm new to JMS, and would like to know if does it make sense to have a Producer and the related Consumer in the same application? If it does, what are the cases for example?</p>\n"},{"tags":["java","c++","class","recursion","migration"],"comments":[{"owner":{"account_id":5990583,"reputation":35949,"user_id":4706785,"display_name":"Peter"},"score":1,"creation_date":1635262331,"post_id":69725745,"comment_id":123247333,"body_markdown":"The array form of a new expression in C++ requires a size.    You probably need something like `shared_ptr&lt;Material[]&gt; material(new Material[25]);`    In any event, it would probably be easier to use a `std::vector&lt;Material&gt;` (which gives a dynamically resizeable container of contiguous elements - without any need to use a new expression directly)","body":"The array form of a new expression in C++ requires a size.    You probably need something like <code>shared_ptr&lt;Material[]&gt; material(new Material[25]);</code>    In any event, it would probably be easier to use a <code>std::vector&lt;Material&gt;</code> (which gives a dynamically resizeable container of contiguous elements - without any need to use a new expression directly)"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1635262397,"post_id":69725745,"comment_id":123247353,"body_markdown":"Moving your code from java to C++ isn&#39;t going to make it any faster. Speed for such things is primarily controlled by efficient algorithms. Writing drivers and interacting with game frameworks like Unity or Unreal Engine - then you switch to the language that those frameworks work well with.","body":"Moving your code from java to C++ isn&#39;t going to make it any faster. Speed for such things is primarily controlled by efficient algorithms. Writing drivers and interacting with game frameworks like Unity or Unreal Engine - then you switch to the language that those frameworks work well with."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":1,"creation_date":1635266001,"post_id":69725745,"comment_id":123248909,"body_markdown":"This won&#39;t work by the way because every Material has a Composite inside it which points to a new Material which has a Composite inside it which ... I bet the compiler yelled at you when you tried to put a Material and Composite inside each other, so you made it a shared_ptr, but this has the same problem. Note that types in C++ are NOT pointers by default, i.e. when you write `new Material[1]`, it doesn&#39;t create an array of references to Material objects that are null by default, but rather it creates an array of *actual Material objects*","body":"This won&#39;t work by the way because every Material has a Composite inside it which points to a new Material which has a Composite inside it which ... I bet the compiler yelled at you when you tried to put a Material and Composite inside each other, so you made it a shared_ptr, but this has the same problem. Note that types in C++ are NOT pointers by default, i.e. when you write <code>new Material[1]</code>, it doesn&#39;t create an array of references to Material objects that are null by default, but rather it creates an array of <i>actual Material objects</i>"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1635266065,"post_id":69725745,"comment_id":123248933,"body_markdown":"if you wanted an array of pointers, I think you can write that without any problem: `shared_ptr&lt;shared_ptr&lt;Material&gt;[]&gt; material(new shared_ptr&lt;Material&gt;[whatever]);` but you should learn about std::vector, which is C++&#39;s version of ArrayList","body":"if you wanted an array of pointers, I think you can write that without any problem: <code>shared_ptr&lt;shared_ptr&lt;Material&gt;[]&gt; material(new shared_ptr&lt;Material&gt;[whatever]);</code> but you should learn about std::vector, which is C++&#39;s version of ArrayList"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1635266536,"post_id":69725745,"comment_id":123249119,"body_markdown":"You should think about how your data structures look like - or what you want them to look like - as in, draw some on paper - and then figure out how to translate that into computer language.","body":"You should think about how your data structures look like - or what you want them to look like - as in, draw some on paper - and then figure out how to translate that into computer language."},{"owner":{"account_id":11728572,"reputation":2618,"user_id":8584929,"display_name":"Andrej Podzimek"},"score":0,"creation_date":1635272900,"post_id":69725745,"comment_id":123251542,"body_markdown":"`std::shared_ptr&lt;Material[]&gt;{std::make_shared&lt;Material[]&gt;(1)};` — but this raises a bunch of questions: Why not a `std::vector`? That could be directly embedded in the object, without exposed pointers, because it handles the on-the-heap part for you automatically. Also, why `std::shared_ptr`? Unless you *really* want thread-safe reference counting (with its overhead), you should prefer `std::unique_ptr` for performance reasons. Finally, is _each_ `Material` shared separately or always the whole array? In the former case you may want `std::vector&lt;std::shared_ptr&lt;Material&gt;&gt;` instead.","body":"<code>std::shared_ptr&lt;Material[]&gt;{std::make_shared&lt;Material[]&gt;(1)}&zwnj;&#8203;;</code> — but this raises a bunch of questions: Why not a <code>std::vector</code>? That could be directly embedded in the object, without exposed pointers, because it handles the on-the-heap part for you automatically. Also, why <code>std::shared_ptr</code>? Unless you <i>really</i> want thread-safe reference counting (with its overhead), you should prefer <code>std::unique_ptr</code> for performance reasons. Finally, is <i>each</i> <code>Material</code> shared separately or always the whole array? In the former case you may want <code>std::vector&lt;std::shared_ptr&lt;Material&gt;&gt;</code> instead."}],"owner":{"account_id":23150429,"reputation":13,"user_id":17252519,"display_name":"Stingpie 52"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635261434,"creation_date":1635261434,"question_id":69725745,"body_markdown":"So, I am working on a super in-depth dwarf-fortressy simulation type thing. Initially, I started in java, but I knew that the project would eventually grow to the point where performance would be a real issue. So then, I switched to c++. However, one of the classes in java called `Material` doesn&#39;t seem to translate into c++. \r\nIn the java verision the class looks like this:\r\n(I&#39;ll have a version with all the important bits after this)\r\n```\r\n//import java.io.IOException;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Arrays;\r\n\r\n\r\npublic class material {\r\n\tprivate int melting_temp=10200;\r\n\tprivate int boiling_temp=10500;\r\n\tprivate int elastic=10;\r\n\tprivate int plastic=10;\r\n\tprivate int density=10;\r\n\tprivate float pourosity=0; //how much liquid the material can absorb (0 - 1)\r\n\tprivate material[] composite= new material[1];  // what this meta-material is built out of. \r\n\tprivate char[] RGB= {255,255,255};\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic char[] get_RGB() {\r\n\t\treturn RGB;\r\n\t}\r\n\r\n\tpublic void set_RGB(char[] rGB) {\r\n\t\tRGB = rGB;\r\n\t}\r\n\r\n\tpublic material() {\r\n\t\t//composite[0]= new material(false);\r\n\t}\r\n\t\r\n\tpublic material(String file, int index) throws Exception {\r\n\t\tString[] z=loader(file);\r\n\t\tString b = z[index];\r\n\t\t\r\n\t\tstring_load(b.split(&quot;PUT_SPACE_HERE&quot;));\r\n\t}\r\n\t\r\n\t\r\n\tpublic material(material new_material) {  // useful for copying characteristics\r\n\t\tmelting_temp=new_material.get_melting_temp();\r\n\t\tboiling_temp=new_material.get_boiling_temp();\r\n\t\telastic=new_material.get_elastic();\r\n\t\tplastic=new_material.get_plastic();\r\n\t\tdensity=new_material.get_density();\r\n\t\tpourosity=new_material.get_pourosity();\r\n\t\tcomposite=new_material.get_composite();\r\n\t\tRGB=new_material.get_RGB();\r\n\t}\r\n\t\r\n\t\r\n\tpublic material(int mt, int bt, int el, int pl, int dn, int pr) { // create a new material with parameters\r\n\t\tmelting_temp=mt;\r\n\t\tboiling_temp=bt;\r\n\t\telastic=el;\r\n\t\tplastic=pl;\r\n\t\tdensity=dn;\r\n\t\tpourosity=pr;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic void blend_material(material new_material) { // adds a new material to the composite\r\n\t\t\r\n\t\t//System.out.println(composite[0]);\r\n\t\tif(composite[0]==null) {\r\n\t\t\tcomposite[0]=new material(0,0,0,0,0,0);\r\n\t\t\t\r\n\t\t}\r\n\t\tcomposite = Arrays.copyOf(composite, composite.length+1);\r\n\t\tcomposite[composite.length-1]=new_material;\r\n\t\t\r\n\t\tmelting_temp=0;\r\n\t\tboiling_temp=0;\r\n\t\telastic=0;\r\n\t\tplastic=0;\r\n\t\tdensity=0;\r\n\t\tpourosity=0;\r\n\t\tfor(int i=0; i&lt;composite.length; i++) {  // set the properties of this meta-material to be the average of it&#39;s components\r\n\t\t\tmelting_temp+=composite[i].get_melting_temp();\r\n\t\t\tboiling_temp+=composite[i].get_boiling_temp();\r\n\t\t\telastic += composite[i].get_elastic();\r\n\t\t\tplastic += composite[i].get_plastic();\r\n\t\t\tdensity += composite[i].get_density();\r\n\t\t\tpourosity += composite[i].get_pourosity();\r\n\t\t\tfor(int j=0; j&lt;3;j++) {\r\n\t\t\t\tRGB[j]+=composite[i].get_RGB()[j];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\tmelting_temp/=composite.length-1;\r\n\t\t\tboiling_temp/=composite.length-1;\r\n\t\t\telastic/=composite.length-1;\r\n\t\t\tplastic/=composite.length-1;\r\n\t\t\tdensity/=composite.length-1;\r\n\t\t\tpourosity/=composite.length-1;\r\n\t\t\tfor(int j=0; j&lt;3;j++) {\r\n\t\t\t\tRGB[j]=(char)Math.min(RGB[j]/composite.length,255);\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic material[] get_composite() {\r\n\t\treturn composite;\r\n\t}\r\n\t\r\n\tpublic void change_melting_temp(int new_temp) {\r\n\t\tmelting_temp=new_temp;\r\n\t}\r\n\tpublic void change_boiling_temp(int new_temp) {\r\n\t\tboiling_temp=new_temp;\r\n\t}\r\n\tpublic int get_melting_temp() {\r\n\t\treturn melting_temp;\r\n\t}\r\n\tpublic int get_boiling_temp() {\r\n\t\treturn boiling_temp;\r\n\t}\r\n\tpublic int get_plastic() {\r\n\t\treturn plastic;\r\n\t}\r\n\tpublic void change_plastic(int new_plastic) {\r\n\t\tthis.plastic= new_plastic;\r\n\t}\r\n\tpublic int get_elastic() {\r\n\t\treturn elastic;\r\n\t}\r\n\tpublic void change_elastic(int new_elastic) {\r\n\t\tthis.elastic= new_elastic;\r\n\t}\r\n\tpublic int get_density() {\r\n\t\treturn density;\r\n\t}\r\n\tpublic void change_density(int new_density) {\r\n\t\tthis.density= new_density;\r\n\t}\r\n\tpublic float get_pourosity() {\r\n\t\treturn pourosity;\r\n\t}\r\n\tpublic void change_pourosity(int new_pourosity) {\r\n\t\tthis.pourosity = new_pourosity;\r\n\t}\r\n\t\r\n\tpublic void random() {\r\n\t\tmelting_temp=(int)(Math.random()*2000 +9000);\r\n\t\tboiling_temp=melting_temp+(int)(Math.random()*2000);\r\n\t\telastic=(int)(Math.random()*200);\r\n\t\tplastic=(int)(Math.random()*200);\r\n\t\tdensity=(int)(Math.random()*200);\r\n\t\tpourosity=(float)(Math.random());\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic void load_from(String name, int index) throws Exception {\r\n\t\t\r\n\t\tString[] z=loader(name);\r\n\t\tString b = z[index];\r\n\t\t\r\n\t\tstring_load(b.split(&quot;PUT_SPACE_HERE&quot;));\r\n\t}\r\n\t\r\n\tpublic String[] loader(String name) throws Exception {\r\n\t\t\r\n\t\tString[] whole_text=new String[0]; // create array to hold the text strings\r\n\t\t\r\n\t\tPath filePath = Paths.get(name); // set path\r\n\t\tCharset charset = StandardCharsets.UTF_8; // set the correct characterset\r\n\t\t//try {\r\n\t\t\t\r\n\t\t\twhole_text = (Files.readAllLines(filePath, charset)).toArray(new String[0]); // actually load the data into a single object\r\n\t\t\t\r\n\t\t//} catch (IOException ex) {  // if that fails, print I/O EXCEPTION\r\n\t\t\t//System.out.format(&quot;I/O Exception&quot;, ex);\r\n\t\t//}\r\n\t\tString running_total=&quot;&quot;;\r\n\t\tfor(int i=0; i&lt;whole_text.length; i++) {\r\n\t\t\trunning_total+=whole_text[i]+&quot;PUT_SPACE_HERE&quot;;\r\n\t\t}\r\n\t\twhole_text=running_total.split(&quot;&amp;&quot;);\r\n\t\t\r\n\t\treturn whole_text;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\t\r\n\tpublic void string_load(String[] data) throws Exception{// takes in correctly formated tags\r\n\t\t\r\n\t\tfor(int i=0; i&lt;data.length;i++) {\r\n\t\t\tdata[i]=data[i].replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n\t\t\t\r\n\t\t\tif(data[i].indexOf(&#39;:&#39;)&gt;=0) {\r\n\t\t\t\tint z=data[i].indexOf(&#39;:&#39;);\r\n\t\t\t\t//System.out.println(data[i].substring(z+1,data[i].length()-1));\r\n\t\t\t\tswitch (data[i].substring(1,z)) {\r\n\t\t\t\tcase &quot;melt_temp&quot;: melting_temp=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   melt&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;boil_temp&quot;: boiling_temp=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   boil&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;elastic&quot;: elastic=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   elastic&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;plastic&quot;: plastic=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   plastic&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;pourosity&quot;: pourosity=Float.parseFloat(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   pourousity&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;density&quot;: density=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   density&quot;);\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;composite&quot;: if(! data[i].substring(z+1,data[i].length()-1).equals(&quot;false&quot;)) { //if not false, this is a composite\r\n\t\t\t\t\tString[] temp = data[i].substring(z+1,data[i].length()-1).split(&quot;,&quot;);\r\n\t\t\t\t\tint[] composite_list= new int[temp.length];\r\n\t\t\t\t\tfor(int j=0; j&lt; temp.length; j++) {\r\n\t\t\t\t\t\tcomposite_list[j]=Integer.parseInt(temp[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor(int j=0; j&lt; composite_list.length; j++) {\r\n\t\t\t\t\t\tmaterial temp2=new material();\r\n\t\t\t\t\t\ttemp2.load_from(&quot;materials.txt&quot;,composite_list[j]);\r\n\t\t\t\t\t\t//System.out.println(temp2);\r\n\t\t\t\t\t\t//System.out.println(composite.length);\r\n\t\t\t\t\t\tblend_material(temp2);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;R&quot;:RGB[0] = (char)Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); break;\r\n\t\t\t\tcase &quot;G&quot;:RGB[1] = (char)Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); break;\r\n\t\t\t\tcase &quot;B&quot;:RGB[2] = (char)Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); break;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nand these are all the important parts:\r\n\r\n\r\n```\r\npublic class material {\r\n\tprivate int melting_temp=10200;\r\n\tprivate int boiling_temp=10500;\r\n\tprivate int elastic=10;\r\n\tprivate int plastic=10;\r\n\tprivate int density=10;\r\n\tprivate float pourosity=0; //how much liquid the material can absorb (0 - 1)\r\n\tprivate material[] composite= new material[1];  // what this meta-material is built out of. \r\n\tprivate char[] RGB= {255,255,255};\r\n\r\n    public void blend_material(material new_material) { // adds a new material to the composite\r\n\t\t\r\n\t\t//System.out.println(composite[0]);\r\n\t\tif(composite[0]==null) {\r\n\t\t\tcomposite[0]=new material(0,0,0,0,0,0);\r\n\t\t\t\r\n\t\t}\r\n\t\tcomposite = Arrays.copyOf(composite, composite.length+1);\r\n\t\tcomposite[composite.length-1]=new_material;\r\n\t\t\r\n\t\tmelting_temp=0;\r\n\t\tboiling_temp=0;\r\n\t\telastic=0;\r\n\t\tplastic=0;\r\n\t\tdensity=0;\r\n\t\tpourosity=0;\r\n\t\tfor(int i=0; i&lt;composite.length; i++) {  // set the properties of this meta-material to be the average of it&#39;s components\r\n\t\t\tmelting_temp+=composite[i].get_melting_temp();\r\n\t\t\tboiling_temp+=composite[i].get_boiling_temp();\r\n\t\t\telastic += composite[i].get_elastic();\r\n\t\t\tplastic += composite[i].get_plastic();\r\n\t\t\tdensity += composite[i].get_density();\r\n\t\t\tpourosity += composite[i].get_pourosity();\r\n\t\t\tfor(int j=0; j&lt;3;j++) {\r\n\t\t\t\tRGB[j]+=composite[i].get_RGB()[j];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\tmelting_temp/=composite.length-1;\r\n\t\t\tboiling_temp/=composite.length-1;\r\n\t\t\telastic/=composite.length-1;\r\n\t\t\tplastic/=composite.length-1;\r\n\t\t\tdensity/=composite.length-1;\r\n\t\t\tpourosity/=composite.length-1;\r\n\t\t\tfor(int j=0; j&lt;3;j++) {\r\n\t\t\t\tRGB[j]=(char)Math.min(RGB[j]/composite.length,255);\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nRight now, I&#39;m just trying to translate the basic class definition without any methods, but I can&#39;t seem to get the `composite` variable to work. I keep getting errors about the class field being incomplete. Here is the problem code:\r\n```/*\r\n * Material.h\r\n *\r\n *  Created on: Aug 6, 2021\r\n *      Author: sting\r\n */\r\n#include &lt;memory&gt;\r\nusing namespace std;\r\n\r\n\r\nclass Material {\r\npublic:\r\n\tMaterial(){\r\n\r\n\t}\r\n\tMaterial();\r\n\tvirtual ~Material();\r\n\r\n\t//unsigned int temp;\r\n\tfloat dense=0;\r\n\tunsigned int plastic=0; // the threshold of when the material is permanently deformed.\r\n\tunsigned int breakage=0; // the threshold of force that breaks the material.\r\n\tfloat tConduct=0; // thermal conductivity\r\n\tfloat eConduct=0; // electrical conductivity\r\n\r\n\tunsigned int thickness=0; // the viscosity of the fluid at 300 degrees.\r\n\t\t\t\t\t\t\t// NOTE: apparent viscosity changes as an exponential function. like 2^-x .\r\n\t\t\t\t\t\t\t// for fluid flow simulations, the flow amount should be thickness^-300-x ticks per tile.\r\n\tunsigned int apparentThick=0;\r\n\r\n\r\n\tunsigned int melt=0; // the temperature at which the material melts\r\n\tunsigned int boil=0; // the temperature at which the material boils.\r\n\r\n\tstruct Composite{\r\n\r\n\t\tshared_ptr&lt;Material&gt; material(new Material[]);\r\n\t\tunsigned char len=0;\r\n\t\t//bool init=false; // if this is true, the material is composed out of other materials.\r\n\t};\r\n\tComposite composite;\r\n\r\n};\r\n```\r\nThe issue is specifically in the `shared_ptr&lt;Material&gt; material(new Material[]);` line. I&#39;m trying to set up a system where a material can be built out of the average values of &#39;elemental&#39; materials. \r\n\r\nSince I am clearly doing something wrong, how am I supposed to do it right?","title":"Java to C++ migration, How to do recursive classes","body":"<p>So, I am working on a super in-depth dwarf-fortressy simulation type thing. Initially, I started in java, but I knew that the project would eventually grow to the point where performance would be a real issue. So then, I switched to c++. However, one of the classes in java called <code>Material</code> doesn't seem to translate into c++.\nIn the java verision the class looks like this:\n(I'll have a version with all the important bits after this)</p>\n<pre><code>//import java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\n\n\npublic class material {\n    private int melting_temp=10200;\n    private int boiling_temp=10500;\n    private int elastic=10;\n    private int plastic=10;\n    private int density=10;\n    private float pourosity=0; //how much liquid the material can absorb (0 - 1)\n    private material[] composite= new material[1];  // what this meta-material is built out of. \n    private char[] RGB= {255,255,255};\n    \n    \n    \n    \n    public char[] get_RGB() {\n        return RGB;\n    }\n\n    public void set_RGB(char[] rGB) {\n        RGB = rGB;\n    }\n\n    public material() {\n        //composite[0]= new material(false);\n    }\n    \n    public material(String file, int index) throws Exception {\n        String[] z=loader(file);\n        String b = z[index];\n        \n        string_load(b.split(&quot;PUT_SPACE_HERE&quot;));\n    }\n    \n    \n    public material(material new_material) {  // useful for copying characteristics\n        melting_temp=new_material.get_melting_temp();\n        boiling_temp=new_material.get_boiling_temp();\n        elastic=new_material.get_elastic();\n        plastic=new_material.get_plastic();\n        density=new_material.get_density();\n        pourosity=new_material.get_pourosity();\n        composite=new_material.get_composite();\n        RGB=new_material.get_RGB();\n    }\n    \n    \n    public material(int mt, int bt, int el, int pl, int dn, int pr) { // create a new material with parameters\n        melting_temp=mt;\n        boiling_temp=bt;\n        elastic=el;\n        plastic=pl;\n        density=dn;\n        pourosity=pr;\n    }\n    \n    \n    \n    \n    \n    public void blend_material(material new_material) { // adds a new material to the composite\n        \n        //System.out.println(composite[0]);\n        if(composite[0]==null) {\n            composite[0]=new material(0,0,0,0,0,0);\n            \n        }\n        composite = Arrays.copyOf(composite, composite.length+1);\n        composite[composite.length-1]=new_material;\n        \n        melting_temp=0;\n        boiling_temp=0;\n        elastic=0;\n        plastic=0;\n        density=0;\n        pourosity=0;\n        for(int i=0; i&lt;composite.length; i++) {  // set the properties of this meta-material to be the average of it's components\n            melting_temp+=composite[i].get_melting_temp();\n            boiling_temp+=composite[i].get_boiling_temp();\n            elastic += composite[i].get_elastic();\n            plastic += composite[i].get_plastic();\n            density += composite[i].get_density();\n            pourosity += composite[i].get_pourosity();\n            for(int j=0; j&lt;3;j++) {\n                RGB[j]+=composite[i].get_RGB()[j];\n            }\n        }\n\n            melting_temp/=composite.length-1;\n            boiling_temp/=composite.length-1;\n            elastic/=composite.length-1;\n            plastic/=composite.length-1;\n            density/=composite.length-1;\n            pourosity/=composite.length-1;\n            for(int j=0; j&lt;3;j++) {\n                RGB[j]=(char)Math.min(RGB[j]/composite.length,255);\n            }\n        \n    }\n    \n    \n    \n    public material[] get_composite() {\n        return composite;\n    }\n    \n    public void change_melting_temp(int new_temp) {\n        melting_temp=new_temp;\n    }\n    public void change_boiling_temp(int new_temp) {\n        boiling_temp=new_temp;\n    }\n    public int get_melting_temp() {\n        return melting_temp;\n    }\n    public int get_boiling_temp() {\n        return boiling_temp;\n    }\n    public int get_plastic() {\n        return plastic;\n    }\n    public void change_plastic(int new_plastic) {\n        this.plastic= new_plastic;\n    }\n    public int get_elastic() {\n        return elastic;\n    }\n    public void change_elastic(int new_elastic) {\n        this.elastic= new_elastic;\n    }\n    public int get_density() {\n        return density;\n    }\n    public void change_density(int new_density) {\n        this.density= new_density;\n    }\n    public float get_pourosity() {\n        return pourosity;\n    }\n    public void change_pourosity(int new_pourosity) {\n        this.pourosity = new_pourosity;\n    }\n    \n    public void random() {\n        melting_temp=(int)(Math.random()*2000 +9000);\n        boiling_temp=melting_temp+(int)(Math.random()*2000);\n        elastic=(int)(Math.random()*200);\n        plastic=(int)(Math.random()*200);\n        density=(int)(Math.random()*200);\n        pourosity=(float)(Math.random());\n        \n        \n        \n    }\n    \n    \n    \n    \n    public void load_from(String name, int index) throws Exception {\n        \n        String[] z=loader(name);\n        String b = z[index];\n        \n        string_load(b.split(&quot;PUT_SPACE_HERE&quot;));\n    }\n    \n    public String[] loader(String name) throws Exception {\n        \n        String[] whole_text=new String[0]; // create array to hold the text strings\n        \n        Path filePath = Paths.get(name); // set path\n        Charset charset = StandardCharsets.UTF_8; // set the correct characterset\n        //try {\n            \n            whole_text = (Files.readAllLines(filePath, charset)).toArray(new String[0]); // actually load the data into a single object\n            \n        //} catch (IOException ex) {  // if that fails, print I/O EXCEPTION\n            //System.out.format(&quot;I/O Exception&quot;, ex);\n        //}\n        String running_total=&quot;&quot;;\n        for(int i=0; i&lt;whole_text.length; i++) {\n            running_total+=whole_text[i]+&quot;PUT_SPACE_HERE&quot;;\n        }\n        whole_text=running_total.split(&quot;&amp;&quot;);\n        \n        return whole_text;\n    }\n    \n    \n    \n    \n    public void string_load(String[] data) throws Exception{// takes in correctly formated tags\n        \n        for(int i=0; i&lt;data.length;i++) {\n            data[i]=data[i].replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\n            \n            if(data[i].indexOf(':')&gt;=0) {\n                int z=data[i].indexOf(':');\n                //System.out.println(data[i].substring(z+1,data[i].length()-1));\n                switch (data[i].substring(1,z)) {\n                case &quot;melt_temp&quot;: melting_temp=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   melt&quot;);\n                break;\n                case &quot;boil_temp&quot;: boiling_temp=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   boil&quot;);\n                break;\n                case &quot;elastic&quot;: elastic=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   elastic&quot;);\n                break;\n                case &quot;plastic&quot;: plastic=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   plastic&quot;);\n                break;\n                case &quot;pourosity&quot;: pourosity=Float.parseFloat(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   pourousity&quot;);\n                break;\n                case &quot;density&quot;: density=Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); //System.out.println(&quot;   density&quot;);\n                break;\n                case &quot;composite&quot;: if(! data[i].substring(z+1,data[i].length()-1).equals(&quot;false&quot;)) { //if not false, this is a composite\n                    String[] temp = data[i].substring(z+1,data[i].length()-1).split(&quot;,&quot;);\n                    int[] composite_list= new int[temp.length];\n                    for(int j=0; j&lt; temp.length; j++) {\n                        composite_list[j]=Integer.parseInt(temp[j]);\n                    }\n                    for(int j=0; j&lt; composite_list.length; j++) {\n                        material temp2=new material();\n                        temp2.load_from(&quot;materials.txt&quot;,composite_list[j]);\n                        //System.out.println(temp2);\n                        //System.out.println(composite.length);\n                        blend_material(temp2);\n                        \n                    }\n                    \n                }\n                break;\n                case &quot;R&quot;:RGB[0] = (char)Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); break;\n                case &quot;G&quot;:RGB[1] = (char)Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); break;\n                case &quot;B&quot;:RGB[2] = (char)Integer.parseInt(data[i].substring(z+1,data[i].length()-1)); break;\n                \n                \n                }\n            }\n        }\n        \n        \n        \n        \n        \n    }\n    \n    \n}\n</code></pre>\n<p>and these are all the important parts:</p>\n<pre><code>public class material {\n    private int melting_temp=10200;\n    private int boiling_temp=10500;\n    private int elastic=10;\n    private int plastic=10;\n    private int density=10;\n    private float pourosity=0; //how much liquid the material can absorb (0 - 1)\n    private material[] composite= new material[1];  // what this meta-material is built out of. \n    private char[] RGB= {255,255,255};\n\n    public void blend_material(material new_material) { // adds a new material to the composite\n        \n        //System.out.println(composite[0]);\n        if(composite[0]==null) {\n            composite[0]=new material(0,0,0,0,0,0);\n            \n        }\n        composite = Arrays.copyOf(composite, composite.length+1);\n        composite[composite.length-1]=new_material;\n        \n        melting_temp=0;\n        boiling_temp=0;\n        elastic=0;\n        plastic=0;\n        density=0;\n        pourosity=0;\n        for(int i=0; i&lt;composite.length; i++) {  // set the properties of this meta-material to be the average of it's components\n            melting_temp+=composite[i].get_melting_temp();\n            boiling_temp+=composite[i].get_boiling_temp();\n            elastic += composite[i].get_elastic();\n            plastic += composite[i].get_plastic();\n            density += composite[i].get_density();\n            pourosity += composite[i].get_pourosity();\n            for(int j=0; j&lt;3;j++) {\n                RGB[j]+=composite[i].get_RGB()[j];\n            }\n        }\n\n            melting_temp/=composite.length-1;\n            boiling_temp/=composite.length-1;\n            elastic/=composite.length-1;\n            plastic/=composite.length-1;\n            density/=composite.length-1;\n            pourosity/=composite.length-1;\n            for(int j=0; j&lt;3;j++) {\n                RGB[j]=(char)Math.min(RGB[j]/composite.length,255);\n            }\n        \n    }\n}\n</code></pre>\n<p>Right now, I'm just trying to translate the basic class definition without any methods, but I can't seem to get the <code>composite</code> variable to work. I keep getting errors about the class field being incomplete. Here is the problem code:</p>\n<pre><code> * Material.h\n *\n *  Created on: Aug 6, 2021\n *      Author: sting\n */\n#include &lt;memory&gt;\nusing namespace std;\n\n\nclass Material {\npublic:\n    Material(){\n\n    }\n    Material();\n    virtual ~Material();\n\n    //unsigned int temp;\n    float dense=0;\n    unsigned int plastic=0; // the threshold of when the material is permanently deformed.\n    unsigned int breakage=0; // the threshold of force that breaks the material.\n    float tConduct=0; // thermal conductivity\n    float eConduct=0; // electrical conductivity\n\n    unsigned int thickness=0; // the viscosity of the fluid at 300 degrees.\n                            // NOTE: apparent viscosity changes as an exponential function. like 2^-x .\n                            // for fluid flow simulations, the flow amount should be thickness^-300-x ticks per tile.\n    unsigned int apparentThick=0;\n\n\n    unsigned int melt=0; // the temperature at which the material melts\n    unsigned int boil=0; // the temperature at which the material boils.\n\n    struct Composite{\n\n        shared_ptr&lt;Material&gt; material(new Material[]);\n        unsigned char len=0;\n        //bool init=false; // if this is true, the material is composed out of other materials.\n    };\n    Composite composite;\n\n};\n</code></pre>\n<p>The issue is specifically in the <code>shared_ptr&lt;Material&gt; material(new Material[]);</code> line. I'm trying to set up a system where a material can be built out of the average values of 'elemental' materials.</p>\n<p>Since I am clearly doing something wrong, how am I supposed to do it right?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1635256448,"post_id":69723984,"comment_id":123244408,"body_markdown":"The instructions for installing Eclipse on Windows using the installer are here:  https://www.eclipse.org/downloads/packages/installer.","body":"The instructions for installing Eclipse on Windows using the installer are here:  <a href=\"https://www.eclipse.org/downloads/packages/installer\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/installer</a>."},{"owner":{"account_id":9191674,"reputation":111,"user_id":8841604,"display_name":"ross"},"score":0,"creation_date":1635256926,"post_id":69723984,"comment_id":123244674,"body_markdown":"Thank you for the link. But nothing is happening after clicking on Eclipse Installer executable","body":"Thank you for the link. But nothing is happening after clicking on Eclipse Installer executable"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1635257049,"post_id":69723984,"comment_id":123244737,"body_markdown":"If you intend to use an existing Java installation with Eclipse, check the Eclipse release notes to make sure that your version of Java is supported.   From Eclipse 4.19 a compatible JRE is included in the installer.  (See https://wiki.eclipse.org/Eclipse/Installation)","body":"If you intend to use an existing Java installation with Eclipse, check the Eclipse release notes to make sure that your version of Java is supported.   From Eclipse 4.19 a compatible JRE is included in the installer.  (See <a href=\"https://wiki.eclipse.org/Eclipse/Installation\" rel=\"nofollow noreferrer\">wiki.eclipse.org/Eclipse/Installation</a>)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1635257113,"post_id":69723984,"comment_id":123244778,"body_markdown":"If nothing happens, when you click the installer, try running it from the command shell.  Also check that you have a complete download.","body":"If nothing happens, when you click the installer, try running it from the command shell.  Also check that you have a complete download."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1635259431,"post_id":69723984,"comment_id":123245947,"body_markdown":"...and that you have execution permission on the file.","body":"...and that you have execution permission on the file."}],"answers":[{"tags":[],"owner":{"account_id":9191674,"reputation":111,"user_id":8841604,"display_name":"ross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635261403,"creation_date":1635261403,"answer_id":69725737,"question_id":69723984,"body_markdown":"I have solved the issue with following steps :-\r\n\r\n- Open powershell as admin right and type below command\r\n\r\nPS C:\\Users\\user123\\Downloads&gt; .\\eclipse-inst-jre-win64.exe -clean -clearPersistedState\r\n\r\n- It opened installer \r\n- Setup proxy server if you have any with this link\r\nhttps://stackoverflow.com/questions/40768872/issue-with-the-proxy-settings-when-installing-eclipse\r\n\r\n- Installer automatically set JVM if already installed\r\n- Select Installation folder for current user \r\n\r\n- And start the installation \r\n\r\n\r\n\r\n\r\n\r\n","title":"Nothing happening after double clicking Eclipse Installer executable (eclipse-inst-jre-win64.exe) on windows 10","body":"<p>I have solved the issue with following steps :-</p>\n<ul>\n<li>Open powershell as admin right and type below command</li>\n</ul>\n<p>PS C:\\Users\\user123\\Downloads&gt; .\\eclipse-inst-jre-win64.exe -clean -clearPersistedState</p>\n<ul>\n<li><p>It opened installer</p>\n</li>\n<li><p>Setup proxy server if you have any with this link\n<a href=\"https://stackoverflow.com/questions/40768872/issue-with-the-proxy-settings-when-installing-eclipse\">Issue with the proxy settings when installing Eclipse</a></p>\n</li>\n<li><p>Installer automatically set JVM if already installed</p>\n</li>\n<li><p>Select Installation folder for current user</p>\n</li>\n<li><p>And start the installation</p>\n</li>\n</ul>\n"}],"owner":{"account_id":9191674,"reputation":111,"user_id":8841604,"display_name":"ross"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":1,"score":-5,"last_activity_date":1635261403,"creation_date":1635254801,"question_id":69723984,"body_markdown":"Nothing happening after double clicking Eclipse Installer executable (eclipse-inst-jre-win64.exe) on windows 10","title":"Nothing happening after double clicking Eclipse Installer executable (eclipse-inst-jre-win64.exe) on windows 10","body":"<p>Nothing happening after double clicking Eclipse Installer executable (eclipse-inst-jre-win64.exe) on windows 10</p>\n"},{"tags":["java","git","maven"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1449667565,"post_id":34179657,"comment_id":56106062,"body_markdown":"Some places have strict rules about internet access, i.e. no maven central at all because all the evil code needs approval before allowed into the internal network. Otherwise  sharing library files to a couple of developers != sharing with the world.","body":"Some places have strict rules about internet access, i.e. no maven central at all because all the evil code needs approval before allowed into the internal network. Otherwise  sharing library files to a couple of developers != sharing with the world."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1449669867,"post_id":34179657,"comment_id":56107570,"body_markdown":"If you really want to checkin your jar&#39;s into Git you will blow up git repositories and produce other problems on that side..and duplicate it for every project....","body":"If you really want to checkin your jar&#39;s into Git you will blow up git repositories and produce other problems on that side..and duplicate it for every project...."},{"owner":{"account_id":2498224,"reputation":3197,"user_id":2174099,"accept_rate":42,"display_name":"sarah.ferguson"},"score":0,"creation_date":1449670196,"post_id":34179657,"comment_id":56107804,"body_markdown":"by blow up you mean in size? certainly git repositories become bigger but at least once I clone a git repository I know everything is in there and should compile as it did last time I committed.","body":"by blow up you mean in size? certainly git repositories become bigger but at least once I clone a git repository I know everything is in there and should compile as it did last time I committed."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1449667192,"creation_date":1449667192,"answer_id":34179862,"question_id":34179657,"body_markdown":"&gt; - If for some reason some library is updated my application will probably crash, considering I use hundreds of libraries that&#39;s bound to happen sometime.\r\n\r\nNo. I know Murphy&#39;s law states that anything that can happen will happen. But libraries published in Maven Central are supposed to be stable. If a library is updated, it will be with a new version so there are no conflicts. No sane maintainer of a library would go against that.\r\n\r\n&gt; - If a specific library version is specified to avoid newer versions to    break the application, that specific version might not be available anymore.\r\n\r\nNo. [You can&#39;t remove an artifact from Maven Central](https://stackoverflow.com/q/9789611/1743880). So this is not possible.\r\n\r\n&gt; - The repositories might always be subject to network problems or similar error blocking development of the software completely, a local lib folder with all the required jars shared through git is more robust.\r\n\r\nWhile that is true, Maven keeps a cache of all artifacts inside your local repository. It just needs to download them once.\r\n\r\n&lt;hr&gt;\r\n\r\nThe advantage of using an internal repository manager goes beyond the scope of caching Maven Central. It allows a central entry point for all dependencies, whether or not those dependencies are public. It can also host internal library and private libraries (like Oracle JDBC). Also, using it is transparent for Maven projects: dependencies are declared exactly the same way, whether it is a public artifact or a in-house one.","title":"Advantages of using public maven repository for libraries instead of local","body":"<blockquote>\n  <ul>\n  <li>If for some reason some library is updated my application will probably crash, considering I use hundreds of libraries that's bound to happen sometime.</li>\n  </ul>\n</blockquote>\n\n<p>No. I know Murphy's law states that anything that can happen will happen. But libraries published in Maven Central are supposed to be stable. If a library is updated, it will be with a new version so there are no conflicts. No sane maintainer of a library would go against that.</p>\n\n<blockquote>\n  <ul>\n  <li>If a specific library version is specified to avoid newer versions to    break the application, that specific version might not be available anymore.</li>\n  </ul>\n</blockquote>\n\n<p>No. <a href=\"https://stackoverflow.com/q/9789611/1743880\">You can't remove an artifact from Maven Central</a>. So this is not possible.</p>\n\n<blockquote>\n  <ul>\n  <li>The repositories might always be subject to network problems or similar error blocking development of the software completely, a local lib folder with all the required jars shared through git is more robust.</li>\n  </ul>\n</blockquote>\n\n<p>While that is true, Maven keeps a cache of all artifacts inside your local repository. It just needs to download them once.</p>\n\n<hr>\n\n<p>The advantage of using an internal repository manager goes beyond the scope of caching Maven Central. It allows a central entry point for all dependencies, whether or not those dependencies are public. It can also host internal library and private libraries (like Oracle JDBC). Also, using it is transparent for Maven projects: dependencies are declared exactly the same way, whether it is a public artifact or a in-house one.</p>\n"},{"tags":[],"owner":{"account_id":368321,"reputation":6345,"user_id":3641023,"accept_rate":69,"display_name":"vvg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449667544,"creation_date":1449667544,"answer_id":34179967,"question_id":34179657,"body_markdown":"Just one important advantage of using central repository:\r\nYou do not need to add all transitive dependencies manually.\r\nUsually this list can be huge and you&#39;ll be able to notice it only by running you application \r\nwhile auto-dependency management will update classpath with all required libs.\r\n","title":"Advantages of using public maven repository for libraries instead of local","body":"<p>Just one important advantage of using central repository:\nYou do not need to add all transitive dependencies manually.\nUsually this list can be huge and you'll be able to notice it only by running you application \nwhile auto-dependency management will update classpath with all required libs.</p>\n"},{"tags":[],"owner":{"account_id":2700381,"reputation":1167,"user_id":2331225,"accept_rate":75,"display_name":"Dhaval D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635261290,"creation_date":1635261290,"answer_id":69725707,"question_id":34179657,"body_markdown":"Few more advantages:\r\n\r\n - Leveraging CDN: maven central delivers artifacts across the world using CDN. This will significantly improve timings for first installs where almost all dependencies are downloaded.\r\n - Javadoc hosting: All open source artifacts hosted on maven central get free javadoc hosting on `javadoc.io`.\r\n - Easy discovery. Maven central is well known in developer community and it is the first place where people look for dependencies and OSS distributions\r\n - Less code: Less number of repositories to configure in pom","title":"Advantages of using public maven repository for libraries instead of local","body":"<p>Few more advantages:</p>\n<ul>\n<li>Leveraging CDN: maven central delivers artifacts across the world using CDN. This will significantly improve timings for first installs where almost all dependencies are downloaded.</li>\n<li>Javadoc hosting: All open source artifacts hosted on maven central get free javadoc hosting on <code>javadoc.io</code>.</li>\n<li>Easy discovery. Maven central is well known in developer community and it is the first place where people look for dependencies and OSS distributions</li>\n<li>Less code: Less number of repositories to configure in pom</li>\n</ul>\n"}],"owner":{"account_id":2498224,"reputation":3197,"user_id":2174099,"accept_rate":42,"display_name":"sarah.ferguson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1635261290,"creation_date":1449666539,"question_id":34179657,"body_markdown":"What are the advantages of using Maven&#39;s public repository vs storing your libraries locally?\r\n\r\nI see the following disadvantages in using public repository:\r\n\r\n - If for some reason some library is updated my application will probably crash, considering I use hundreds of libraries that&#39;s bound to happen sometime.\r\n - If a specific library version is specified to avoid newer versions to break the application, that specific version might not be available anymore.\r\n - The repositories might always be subject to network problems or similar error blocking development of the software completely, a local lib folder with all the required jars shared through git is more robust.\r\n\r\nIn order to avoid using a public repo I&#39;m following [this advice][1], someone however also suggested \r\n\r\n&quot;*run something like Nexus, your own maven repo that you can upload 3rd party proprietary jar files, and also proxy other public repositories, to save on bandwith?*&quot;.\r\n\r\nThat really summarizes my doubts: why go through all that pain for simply sharing library files to a couple of developers?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343","title":"Advantages of using public maven repository for libraries instead of local","body":"<p>What are the advantages of using Maven's public repository vs storing your libraries locally?</p>\n\n<p>I see the following disadvantages in using public repository:</p>\n\n<ul>\n<li>If for some reason some library is updated my application will probably crash, considering I use hundreds of libraries that's bound to happen sometime.</li>\n<li>If a specific library version is specified to avoid newer versions to break the application, that specific version might not be available anymore.</li>\n<li>The repositories might always be subject to network problems or similar error blocking development of the software completely, a local lib folder with all the required jars shared through git is more robust.</li>\n</ul>\n\n<p>In order to avoid using a public repo I'm following <a href=\"https://stackoverflow.com/questions/4491199/build-maven-project-with-propriatery-libraries-included/4491343#4491343\">this advice</a>, someone however also suggested </p>\n\n<p>\"<em>run something like Nexus, your own maven repo that you can upload 3rd party proprietary jar files, and also proxy other public repositories, to save on bandwith?</em>\".</p>\n\n<p>That really summarizes my doubts: why go through all that pain for simply sharing library files to a couple of developers?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":0,"creation_date":1635187638,"post_id":69712801,"comment_id":123224234,"body_markdown":"Your issue is that `in.next()` takes the whole String line, so after that, you have the String line in your `ID` variable and the exception occurs on the `latitude` variable","body":"Your issue is that <code>in.next()</code> takes the whole String line, so after that, you have the String line in your <code>ID</code> variable and the exception occurs on the <code>latitude</code> variable"},{"owner":{"account_id":18991543,"reputation":63,"user_id":13860709,"display_name":"Emad Alomari"},"score":0,"creation_date":1635188651,"post_id":69712801,"comment_id":123224642,"body_markdown":"But it works fine for the first 28 lines.","body":"But it works fine for the first 28 lines."},{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":0,"creation_date":1635189017,"post_id":69712801,"comment_id":123224748,"body_markdown":"I copy-pasted your input file, and for me, it doesn&#39;t work even for the 1st. It&#39;s because of your delimiter.","body":"I copy-pasted your input file, and for me, it doesn&#39;t work even for the 1st. It&#39;s because of your delimiter."},{"owner":{"account_id":18991543,"reputation":63,"user_id":13860709,"display_name":"Emad Alomari"},"score":0,"creation_date":1635189299,"post_id":69712801,"comment_id":123224852,"body_markdown":"it should be separated by tabs in the original text file.","body":"it should be separated by tabs in the original text file."},{"owner":{"account_id":18991543,"reputation":63,"user_id":13860709,"display_name":"Emad Alomari"},"score":0,"creation_date":1635189371,"post_id":69712801,"comment_id":123224877,"body_markdown":"the same as here:\nhttps://drive.google.com/file/d/1ZSi5LLLCOUfZ-N1qR90Ls-7eHcxrKnyr/view?usp=sharing","body":"the same as here: <a href=\"https://drive.google.com/file/d/1ZSi5LLLCOUfZ-N1qR90Ls-7eHcxrKnyr/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1ZSi5LLLCOUfZ-N1qR90Ls-7eHcxrKnyr/&hellip;</a>"},{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":0,"creation_date":1635191290,"post_id":69712801,"comment_id":123225634,"body_markdown":"For a strange reason, on your 28th line, you get -14.0 instead of -14.235004","body":"For a strange reason, on your 28th line, you get -14.0 instead of -14.235004"},{"owner":{"account_id":21480479,"reputation":150,"user_id":15827939,"display_name":"InSaNiTy"},"score":0,"creation_date":1635198154,"post_id":69712801,"comment_id":123227732,"body_markdown":"@EmadAlomari Read the updates of my answer.","body":"@EmadAlomari Read the updates of my answer."}],"answers":[{"tags":[],"owner":{"account_id":18643347,"reputation":34,"user_id":13588627,"display_name":"salmane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635187817,"creation_date":1635187817,"answer_id":69713284,"question_id":69712801,"body_markdown":"It seems like the issue is due to the delimiter you&#39;re using when parsing the file. The individual lines are not being split correctly using the tab character as expected.\r\n[The entire line is in your ID variable][1]\r\n\r\nYou could try setting a different delimiter in your data. I tried a comma for example and the code worked correctly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gS5kb.png","title":"java.util.NoSuchElementException of ArrayList from Text file","body":"<p>It seems like the issue is due to the delimiter you're using when parsing the file. The individual lines are not being split correctly using the tab character as expected.\n<a href=\"https://i.stack.imgur.com/gS5kb.png\" rel=\"nofollow noreferrer\">The entire line is in your ID variable</a></p>\n<p>You could try setting a different delimiter in your data. I tried a comma for example and the code worked correctly.</p>\n"},{"tags":[],"owner":{"account_id":21480479,"reputation":150,"user_id":15827939,"display_name":"InSaNiTy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635199416,"creation_date":1635193432,"answer_id":69714336,"question_id":69712801,"body_markdown":"There are many issues with your code:\r\n\r\n1. You **build lots of unnecessary new scanner objects**.\r\n2. You read the next line from the file provided by the first scanner into your new scanners but **do not advance to the next line in the new scanners** (Which will cause the output to display all the text in one line with a &#39;,&#39; delimiter between each line).\r\n3. You import a class within a function.\r\n\r\n```\r\npublic static void readData(String fileName, ArrayList &lt;Country&gt; countries) throws Exception {\r\n    // Bad practice (import)\r\n    java.io.File file = new java.io.File(fileName); \r\n    // First scanner\r\n    Scanner input = new Scanner(file);\r\n    input.nextLine();\r\n\r\n    while (input.hasNext()) {\r\n    \t// New unnecessary scanner holds the next line in the file \r\n        // provided by the first scanner.\r\n        // The output will never provide the next line text in a new \r\n        // line (The scanner is&#39;nt calling nextLine() on itself).\r\n    \tScanner in = new Scanner(input.nextLine());\r\n    \t\r\n    \t// --START-- The code from here works normally\r\n    \tin.useDelimiter(&quot;\\t&quot;);\r\n    \t\r\n        String ID = in.next();\r\n        float latitude = in.nextFloat();\r\n        float longitude = in.nextFloat();\r\n        String name = in.next();\r\n        \r\n        countries.add(new Country(ID,  latitude,  longitude,  name));\r\n        // --END--\r\n    }\r\n     input.close();\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nLet me fix your code for you:\r\n\r\n```\r\npublic static void readData(String fileName, ArrayList &lt;Country&gt; countries) throws Exception {\r\n\tFile file = new File(fileName); \r\n\tScanner in = new Scanner(file);\r\n\tin.useDelimiter(&quot;\\t&quot;);\r\n\t\r\n\twhile (in.hasNextLine()) {\r\n\t\tin.nextLine();\r\n\t\t\r\n\t\tString ID = in.next();\r\n\t\tfloat latitude = in.nextFloat();\r\n\t\tfloat longitude = in.nextFloat();\r\n\t\tString name = in.next();\r\n\t\t\r\n\t\tcountries.add(new Country(ID,  latitude,  longitude,  name));\r\n\t}\r\n    in.close();\r\n}\r\n```\r\n**Final most important thing, make sure that each word in your text file is actually separated using a &#39;/t&#39;.**","title":"java.util.NoSuchElementException of ArrayList from Text file","body":"<p>There are many issues with your code:</p>\n<ol>\n<li>You <strong>build lots of unnecessary new scanner objects</strong>.</li>\n<li>You read the next line from the file provided by the first scanner into your new scanners but <strong>do not advance to the next line in the new scanners</strong> (Which will cause the output to display all the text in one line with a ',' delimiter between each line).</li>\n<li>You import a class within a function.</li>\n</ol>\n<pre><code>public static void readData(String fileName, ArrayList &lt;Country&gt; countries) throws Exception {\n    // Bad practice (import)\n    java.io.File file = new java.io.File(fileName); \n    // First scanner\n    Scanner input = new Scanner(file);\n    input.nextLine();\n\n    while (input.hasNext()) {\n        // New unnecessary scanner holds the next line in the file \n        // provided by the first scanner.\n        // The output will never provide the next line text in a new \n        // line (The scanner is'nt calling nextLine() on itself).\n        Scanner in = new Scanner(input.nextLine());\n        \n        // --START-- The code from here works normally\n        in.useDelimiter(&quot;\\t&quot;);\n        \n        String ID = in.next();\n        float latitude = in.nextFloat();\n        float longitude = in.nextFloat();\n        String name = in.next();\n        \n        countries.add(new Country(ID,  latitude,  longitude,  name));\n        // --END--\n    }\n     input.close();\n}\n</code></pre>\n<hr />\n<p>Let me fix your code for you:</p>\n<pre><code>public static void readData(String fileName, ArrayList &lt;Country&gt; countries) throws Exception {\n    File file = new File(fileName); \n    Scanner in = new Scanner(file);\n    in.useDelimiter(&quot;\\t&quot;);\n    \n    while (in.hasNextLine()) {\n        in.nextLine();\n        \n        String ID = in.next();\n        float latitude = in.nextFloat();\n        float longitude = in.nextFloat();\n        String name = in.next();\n        \n        countries.add(new Country(ID,  latitude,  longitude,  name));\n    }\n    in.close();\n}\n</code></pre>\n<p><strong>Final most important thing, make sure that each word in your text file is actually separated using a '/t'.</strong></p>\n"},{"tags":[],"owner":{"account_id":18991543,"reputation":63,"user_id":13860709,"display_name":"Emad Alomari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635261258,"creation_date":1635261258,"answer_id":69725697,"question_id":69712801,"body_markdown":"I just ran the code without any modifications and it works fine! I think the problem was my laptop.","title":"java.util.NoSuchElementException of ArrayList from Text file","body":"<p>I just ran the code without any modifications and it works fine! I think the problem was my laptop.</p>\n"}],"owner":{"account_id":18991543,"reputation":63,"user_id":13860709,"display_name":"Emad Alomari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1635261258,"creation_date":1635185079,"question_id":69712801,"body_markdown":"I am getting an error of iterating text file and storing the result into an arraylist, the error occurs after the iterator reaches line 28 from my text file.\r\n\r\nThe error I get:\r\n\r\n\r\n    java.util.NoSuchElementException\r\n    \tat java.base/java.util.Scanner.throwFor(Scanner.java:937)\r\n    \tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n    \tat java.base/java.util.Scanner.nextFloat(Scanner.java:2496)\r\n    \tat countries.ArrayListTest.readData(ArrayListTest.java:46)\r\n    \tat countries.ArrayListTest.main(ArrayListTest.java:20)\r\n    [AD\t42.546246\t1.601554\tAndorra, AE\t23.424076\t53.847816\tUnited Arab Emirates, AF\t33.93911\t67.70995\tAfghanistan, AG\t17.060816\t-61.79643\tAntigua and Barbuda, AI\t18.220554\t-63.068615\tAnguilla, AL\t41.15333\t20.168331\tAlbania, AM\t40.0691\t45.03819\tArmenia, AN\t12.226079\t-69.06009\tNetherlands Antilles, AO\t-11.202692\t17.873886\tAngola, AQ\t-75.25098\t-0.071389\tAntarctica, AR\t-38.416096\t-63.616673\tArgentina, AS\t-14.270972\t-170.13222\tAmerican Samoa, AT\t47.51623\t14.550072\tAustria, AU\t-25.274399\t133.77513\tAustralia, AW\t12.52111\t-69.96834\tAruba, AZ\t40.143105\t47.576927\tAzerbaijan, BA\t43.915886\t17.679075\tBosnia and Herzegovina, BB\t13.193887\t-59.543198\tBarbados, BD\t23.684994\t90.35633\tBangladesh, BE\t50.503887\t4.469936\tBelgium, BF\t12.238333\t-1.561593\tBurkina Faso, BG\t42.733883\t25.48583\tBulgaria, BH\t25.930414\t50.63777\tBahrain, BI\t-3.373056\t29.918886\tBurundi, BJ\t9.30769\t2.315834\tBenin, BM\t32.321384\t-64.75737\tBermuda, BN\t4.535277\t114.72767\tBrunei, BO\t-16.290154\t-63.588654\tBolivia]\r\n    28\r\n\r\n\r\n\r\nThe class where I read the file and store the objects in the arraylist:\r\n\r\n    import java.util.*;\r\n    \r\n    \r\n    public class ArrayListTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;Country&gt; countries = new ArrayList&lt;Country&gt;();\r\n    \t\ttry {\r\n    \t\t\treadData(&quot;.//Data//CountriesGPS.txt&quot;, countries);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n                    \r\n              \r\n    \t\tSystem.out.println(countries.toString());\r\n    \t\tSystem.out.println(countries.size());\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic static void readData(String fileName, ArrayList &lt;Country&gt; countries) throws Exception {\r\n    \t\tjava.io.File file = new java.io.File(fileName);\t\r\n    \t\tScanner input = new Scanner(file);\r\n    \t\tinput.nextLine();\r\n    \r\n    \t\twhile (input.hasNext()) {\r\n                            \r\n                            \r\n                            Scanner in = new Scanner(input.nextLine());\r\n    \t\t\tin.useDelimiter(&quot;\\t&quot;);\r\n                            \r\n    \t\t\tString ID = in.next();\r\n    \t\t\tfloat latitude = in.nextFloat();\r\n    \t\t\tfloat longitude\t= in.nextFloat();\r\n    \t\t\tString name = in.next();\r\n    \t\t\t\r\n                         \r\n                            \r\n    \t\t\tcountries.add(new Country(ID,  latitude,  longitude,  name));\r\n    \t\t}\r\n    \t\t input.close();\r\n    \t}\r\n           \r\n    }\r\n\r\n\r\nThe class of the objects that should be stored in the array:\r\n\r\n    public class Country {\r\n        String country;\r\n        float latitude;\r\n        float longitude;\r\n        String name;\r\n    \r\n        public Country(String country, float latitude, float longitude, String name) {\r\n            this.country = country;\r\n            this.latitude = latitude;\r\n            this.longitude = longitude;\r\n            this.name = name;\r\n        }\r\n    \r\n        \tpublic String toString () { \r\n    \t\t//Returns a tab-separated string containing the main fields \r\n    \t\treturn country + &quot;\\t&quot;  + latitude + &quot;\\t&quot;  + longitude + &quot;\\t&quot;  + name;\r\n    \r\n    \t} \r\n\r\n\r\n\r\n\r\nThe text file:\r\n\r\n    country\tlatitude \tlongitude \tname\r\n    AD\t42.546245\t1.601554\tAndorra\r\n    AE\t23.424076\t53.847818\tUnited Arab Emirates\r\n    AF\t33.93911\t67.709953\tAfghanistan\r\n    AG\t17.060816\t-61.796428\tAntigua and Barbuda\r\n    AI\t18.220554\t-63.068615\tAnguilla\r\n    AL\t41.153332\t20.168331\tAlbania\r\n    AM\t40.069099\t45.038189\tArmenia\r\n    AN\t12.226079\t-69.060087\tNetherlands Antilles\r\n    AO\t-11.202692\t17.873887\tAngola\r\n    AQ\t-75.250973\t-0.071389\tAntarctica\r\n    AR\t-38.416097\t-63.616672\tArgentina\r\n    AS\t-14.270972\t-170.132217\tAmerican Samoa\r\n    AT\t47.516231\t14.550072\tAustria\r\n    AU\t-25.274398\t133.775136\tAustralia\r\n    AW\t12.52111\t-69.968338\tAruba\r\n    AZ\t40.143105\t47.576927\tAzerbaijan\r\n    BA\t43.915886\t17.679076\tBosnia and Herzegovina\r\n    BB\t13.193887\t-59.543198\tBarbados\r\n    BD\t23.684994\t90.356331\tBangladesh\r\n    BE\t50.503887\t4.469936\tBelgium\r\n    BF\t12.238333\t-1.561593\tBurkina Faso\r\n    BG\t42.733883\t25.48583\tBulgaria\r\n    BH\t25.930414\t50.637772\tBahrain\r\n    BI\t-3.373056\t29.918886\tBurundi\r\n    BJ\t9.30769\t2.315834\tBenin\r\n    BM\t32.321384\t-64.75737\tBermuda\r\n    BN\t4.535277\t114.727669\tBrunei\r\n    BO\t-16.290154\t-63.588653\tBolivia\r\n    BR\t-14.235004\t-51.92528\tBrazil\r\n    BS\t25.03428\t-77.39628\tBahamas\r\n    BT\t27.514162\t90.433601\tBhutan\r\n    BV\t-54.423199\t3.413194\tBouvet Island\r\n    BW\t-22.328474\t24.684866\tBotswana\r\n    BY\t53.709807\t27.953389\tBelarus\r\n    BZ\t17.189877\t-88.49765\tBelize\r\n    CA\t56.130366\t-106.346771\tCanada\r\n    CC\t-12.164165\t96.870956\tCocos [Keeling] Islands\r\n    CD\t-4.038333\t21.758664\tCongo [DRC]\r\n    CF\t6.611111\t20.939444\tCentral African Republic\r\n    CG\t-0.228021\t15.827659\tCongo [Republic]\r\n    CH\t46.818188\t8.227512\tSwitzerland\r\n    CI\t7.539989\t-5.54708\tC&#217;te d&#39;Ivoire\r\n    CK\t-21.236736\t-159.777671\tCook Islands\r\n    CL\t-35.675147\t-71.542969\tChile\r\n    CM\t7.369722\t12.354722\tCameroon\r\n    CN\t35.86166\t104.195397\tChina\r\n    CO\t4.570868\t-74.297333\tColombia\r\n    CR\t9.748917\t-83.753428\tCosta Rica\r\n    CU\t21.521757\t-77.781167\tCuba\r\n    CV\t16.002082\t-24.013197\tCape Verde\r\n    CX\t-10.447525\t105.690449\tChristmas Island\r\n    CY\t35.126413\t33.429859\tCyprus\r\n    CZ\t49.817492\t15.472962\tCzech Republic\r\n    DE\t51.165691\t10.451526\tGermany\r\n    DJ\t11.825138\t42.590275\tDjibouti\r\n    DK\t56.26392\t9.501785\tDenmark\r\n    DM\t15.414999\t-61.370976\tDominica\r\n    DO\t18.735693\t-70.162651\tDominican Republic\r\n    DZ\t28.033886\t1.659626\tAlgeria\r\n    EC\t-1.831239\t-78.183406\tEcuador\r\n    EE\t58.595272\t25.013607\tEstonia\r\n    EG\t26.820553\t30.802498\tEgypt\r\n    EH\t24.215527\t-12.885834\tWestern Sahara\r\n    ER\t15.179384\t39.782334\tEritrea\r\n    ES\t40.463667\t-3.74922\tSpain\r\n    ET\t9.145\t40.489673\tEthiopia\r\n    FI\t61.92411\t25.748151\tFinland\r\n    FJ\t-16.578193\t179.414413\tFiji\r\n    FK\t-51.796253\t-59.523613\tFalkland Islands [Islas Malvinas]\r\n    FM\t7.425554\t150.550812\tMicronesia\r\n    FO\t61.892635\t-6.911806\tFaroe Islands\r\n    FR\t46.227638\t2.213749\tFrance\r\n    GA\t-0.803689\t11.609444\tGabon\r\n    GB\t55.378051\t-3.435973\tUnited Kingdom\r\n    GD\t12.262776\t-61.604171\tGrenada\r\n    GE\t42.315407\t43.356892\tGeorgia\r\n    GF\t3.933889\t-53.125782\tFrench Guiana\r\n    GG\t49.465691\t-2.585278\tGuernsey\r\n    GH\t7.946527\t-1.023194\tGhana\r\n    GI\t36.137741\t-5.345374\tGibraltar\r\n    GL\t71.706936\t-42.604303\tGreenland\r\n    GM\t13.443182\t-15.310139\tGambia\r\n    GN\t9.945587\t-9.696645\tGuinea\r\n    GP\t16.995971\t-62.067641\tGuadeloupe\r\n    GQ\t1.650801\t10.267895\tEquatorial Guinea\r\n    GR\t39.074208\t21.824312\tGreece\r\n    GS\t-54.429579\t-36.587909\tSouth Georgia and the South Sandwich Islands\r\n    GT\t15.783471\t-90.230759\tGuatemala\r\n    GU\t13.444304\t144.793731\tGuam\r\n    GW\t11.803749\t-15.180413\tGuinea-Bissau\r\n    GY\t4.860416\t-58.93018\tGuyana\r\n    GZ\t31.354676\t34.308825\tGaza Strip\r\n    HK\t22.396428\t114.109497\tHong Kong\r\n    HM\t-53.08181\t73.504158\tHeard Island and McDonald Islands\r\n    HN\t15.199999\t-86.241905\tHonduras\r\n    HR\t45.1\t15.2\tCroatia\r\n    HT\t18.971187\t-72.285215\tHaiti\r\n    HU\t47.162494\t19.503304\tHungary\r\n    ID\t-0.789275\t113.921327\tIndonesia\r\n    IE\t53.41291\t-8.24389\tIreland\r\n    IL\t31.046051\t34.851612\tIsrael\r\n    IM\t54.236107\t-4.548056\tIsle of Man\r\n    IN\t20.593684\t78.96288\tIndia\r\n    IO\t-6.343194\t71.876519\tBritish Indian Ocean Territory\r\n    IQ\t33.223191\t43.679291\tIraq\r\n    IR\t32.427908\t53.688046\tIran\r\n    IS\t64.963051\t-19.020835\tIceland\r\n    IT\t41.87194\t12.56738\tItaly\r\n    JE\t49.214439\t-2.13125\tJersey\r\n    JM\t18.109581\t-77.297508\tJamaica\r\n    JO\t30.585164\t36.238414\tJordan\r\n    JP\t36.204824\t138.252924\tJapan\r\n    KE\t-0.023559\t37.906193\tKenya\r\n    KG\t41.20438\t74.766098\tKyrgyzstan\r\n    KH\t12.565679\t104.990963\tCambodia\r\n    KI\t-3.370417\t-168.734039\tKiribati\r\n    KM\t-11.875001\t43.872219\tComoros\r\n    KN\t17.357822\t-62.782998\tSaint Kitts and Nevis\r\n    KP\t40.339852\t127.510093\tNorth Korea\r\n    KR\t35.907757\t127.766922\tSouth Korea\r\n    KW\t29.31166\t47.481766\tKuwait\r\n    KY\t19.513469\t-80.566956\tCayman Islands\r\n    KZ\t48.019573\t66.923684\tKazakhstan\r\n    LA\t19.85627\t102.495496\tLaos\r\n    LB\t33.854721\t35.862285\tLebanon\r\n    LC\t13.909444\t-60.978893\tSaint Lucia\r\n    LI\t47.166\t9.555373\tLiechtenstein\r\n    LK\t7.873054\t80.771797\tSri Lanka\r\n    LR\t6.428055\t-9.429499\tLiberia\r\n    LS\t-29.609988\t28.233608\tLesotho\r\n    LT\t55.169438\t23.881275\tLithuania\r\n    LU\t49.815273\t6.129583\tLuxembourg\r\n    LV\t56.879635\t24.603189\tLatvia\r\n    LY\t26.3351\t17.228331\tLibya\r\n    MA\t31.791702\t-7.09262\tMorocco\r\n    MC\t43.750298\t7.412841\tMonaco\r\n    MD\t47.411631\t28.369885\tMoldova\r\n    ME\t42.708678\t19.37439\tMontenegro\r\n    MG\t-18.766947\t46.869107\tMadagascar\r\n    MH\t7.131474\t171.184478\tMarshall Islands\r\n    MK\t41.608635\t21.745275\tMacedonia [FYROM]\r\n    ML\t17.570692\t-3.996166\tMali\r\n    MM\t21.913965\t95.956223\tMyanmar [Burma]\r\n    MN\t46.862496\t103.846656\tMongolia\r\n    MO\t22.198745\t113.543873\tMacau\r\n    MP\t17.33083\t145.38469\tNorthern Mariana Islands\r\n    MQ\t14.641528\t-61.024174\tMartinique\r\n    MR\t21.00789\t-10.940835\tMauritania\r\n    MS\t16.742498\t-62.187366\tMontserrat\r\n    MT\t35.937496\t14.375416\tMalta\r\n    MU\t-20.348404\t57.552152\tMauritius\r\n    MV\t3.202778\t73.22068\tMaldives\r\n    MW\t-13.254308\t34.301525\tMalawi\r\n    MX\t23.634501\t-102.552784\tMexico\r\n    MY\t4.210484\t101.975766\tMalaysia\r\n    MZ\t-18.665695\t35.529562\tMozambique\r\n    NA\t-22.95764\t18.49041\tNamibia\r\n    NC\t-20.904305\t165.618042\tNew Caledonia\r\n    NE\t17.607789\t8.081666\tNiger\r\n    NF\t-29.040835\t167.954712\tNorfolk Island\r\n    NG\t9.081999\t8.675277\tNigeria\r\n    NI\t12.865416\t-85.207229\tNicaragua\r\n    NL\t52.132633\t5.291266\tNetherlands\r\n    NO\t60.472024\t8.468946\tNorway\r\n    NP\t28.394857\t84.124008\tNepal\r\n    NR\t-0.522778\t166.931503\tNauru\r\n    NU\t-19.054445\t-169.867233\tNiue\r\n    NZ\t-40.900557\t174.885971\tNew Zealand\r\n    OM\t21.512583\t55.923255\tOman\r\n    PA\t8.537981\t-80.782127\tPanama\r\n    PE\t-9.189967\t-75.015152\tPeru\r\n    PF\t-17.679742\t-149.406843\tFrench Polynesia\r\n    PG\t-6.314993\t143.95555\tPapua New Guinea\r\n    PH\t12.879721\t121.774017\tPhilippines\r\n    PK\t30.375321\t69.345116\tPakistan\r\n    PL\t51.919438\t19.145136\tPoland\r\n    PM\t46.941936\t-56.27111\tSaint Pierre and Miquelon\r\n    PN\t-24.703615\t-127.439308\tPitcairn Islands\r\n    PR\t18.220833\t-66.590149\tPuerto Rico\r\n    PS\t31.952162\t35.233154\tPalestinian Territories\r\n    PT\t39.399872\t-8.224454\tPortugal\r\n    PW\t7.51498\t134.58252\tPalau\r\n    PY\t-23.442503\t-58.443832\tParaguay\r\n    QA\t25.354826\t51.183884\tQatar\r\n    RE\t-21.115141\t55.536384\tR&#200;union\r\n    RO\t45.943161\t24.96676\tRomania\r\n    RS\t44.016521\t21.005859\tSerbia\r\n    RU\t61.52401\t105.318756\tRussia\r\n    RW\t-1.940278\t29.873888\tRwanda\r\n    SA\t23.885942\t45.079162\tSaudi Arabia\r\n    SB\t-9.64571\t160.156194\tSolomon Islands\r\n    SC\t-4.679574\t55.491977\tSeychelles\r\n    SD\t12.862807\t30.217636\tSudan\r\n    SE\t60.128161\t18.643501\tSweden\r\n    SG\t1.352083\t103.819836\tSingapore\r\n    SH\t-24.143474\t-10.030696\tSaint Helena\r\n    SI\t46.151241\t14.995463\tSlovenia\r\n    SJ\t77.553604\t23.670272\tSvalbard and Jan Mayen\r\n    SK\t48.669026\t19.699024\tSlovakia\r\n    SL\t8.460555\t-11.779889\tSierra Leone\r\n    SM\t43.94236\t12.457777\tSan Marino\r\n    SN\t14.497401\t-14.452362\tSenegal\r\n    SO\t5.152149\t46.199616\tSomalia\r\n    SR\t3.919305\t-56.027783\tSuriname\r\n    ST\t0.18636\t6.613081\tS„o Tom&#200; and Pr&#204;ncipe\r\n    SV\t13.794185\t-88.89653\tEl Salvador\r\n    SY\t34.802075\t38.996815\tSyria\r\n    SZ\t-26.522503\t31.465866\tSwaziland\r\n    TC\t21.694025\t-71.797928\tTurks and Caicos Islands\r\n    TD\t15.454166\t18.732207\tChad\r\n    TF\t-49.280366\t69.348557\tFrench Southern Territories\r\n    TG\t8.619543\t0.824782\tTogo\r\n    TH\t15.870032\t100.992541\tThailand\r\n    TJ\t38.861034\t71.276093\tTajikistan\r\n    TK\t-8.967363\t-171.855881\tTokelau\r\n    TL\t-8.874217\t125.727539\tTimor-Leste\r\n    TM\t38.969719\t59.556278\tTurkmenistan\r\n    TN\t33.886917\t9.537499\tTunisia\r\n    TO\t-21.178986\t-175.198242\tTonga\r\n    TR\t38.963745\t35.243322\tTurkey\r\n    TT\t10.691803\t-61.222503\tTrinidad and Tobago\r\n    TV\t-7.109535\t177.64933\tTuvalu\r\n    TW\t23.69781\t120.960515\tTaiwan\r\n    TZ\t-6.369028\t34.888822\tTanzania\r\n    UA\t48.379433\t31.16558\tUkraine\r\n    UG\t1.373333\t32.290275\tUganda\r\n    US\t37.09024\t-95.712891\tUnited States\r\n    UY\t-32.522779\t-55.765835\tUruguay\r\n    UZ\t41.377491\t64.585262\tUzbekistan\r\n    VA\t41.902916\t12.453389\tVatican City\r\n    VC\t12.984305\t-61.287228\tSaint Vincent and the Grenadines\r\n    VE\t6.42375\t-66.58973\tVenezuela\r\n    VG\t18.420695\t-64.639968\tBritish Virgin Islands\r\n    VI\t18.335765\t-64.896335\tU.S. Virgin Islands\r\n    VN\t14.058324\t108.277199\tVietnam\r\n    VU\t-15.376706\t166.959158\tVanuatu\r\n    WF\t-13.768752\t-177.156097\tWallis and Futuna\r\n    WS\t-13.759029\t-172.104629\tSamoa\r\n    XK\t42.602636\t20.902977\tKosovo\r\n    YE\t15.552727\t48.516388\tYemen\r\n    YT\t-12.8275\t45.166244\tMayotte\r\n    ZA\t-30.559482\t22.937506\tSouth Africa\r\n    ZM\t-13.133897\t27.849332\tZambia\r\n    ZW\t-19.015438\t29.154857\tZimbabwe\r\n\r\n","title":"java.util.NoSuchElementException of ArrayList from Text file","body":"<p>I am getting an error of iterating text file and storing the result into an arraylist, the error occurs after the iterator reaches line 28 from my text file.</p>\n<p>The error I get:</p>\n<pre><code>java.util.NoSuchElementException\n    at java.base/java.util.Scanner.throwFor(Scanner.java:937)\n    at java.base/java.util.Scanner.next(Scanner.java:1594)\n    at java.base/java.util.Scanner.nextFloat(Scanner.java:2496)\n    at countries.ArrayListTest.readData(ArrayListTest.java:46)\n    at countries.ArrayListTest.main(ArrayListTest.java:20)\n[AD 42.546246   1.601554    Andorra, AE 23.424076   53.847816   United Arab Emirates, AF    33.93911    67.70995    Afghanistan, AG 17.060816   -61.79643   Antigua and Barbuda, AI 18.220554   -63.068615  Anguilla, AL    41.15333    20.168331   Albania, AM 40.0691 45.03819    Armenia, AN 12.226079   -69.06009   Netherlands Antilles, AO    -11.202692  17.873886   Angola, AQ  -75.25098   -0.071389   Antarctica, AR  -38.416096  -63.616673  Argentina, AS   -14.270972  -170.13222  American Samoa, AT  47.51623    14.550072   Austria, AU -25.274399  133.77513   Australia, AW   12.52111    -69.96834   Aruba, AZ   40.143105   47.576927   Azerbaijan, BA  43.915886   17.679075   Bosnia and Herzegovina, BB  13.193887   -59.543198  Barbados, BD    23.684994   90.35633    Bangladesh, BE  50.503887   4.469936    Belgium, BF 12.238333   -1.561593   Burkina Faso, BG    42.733883   25.48583    Bulgaria, BH    25.930414   50.63777    Bahrain, BI -3.373056   29.918886   Burundi, BJ 9.30769 2.315834    Benin, BM   32.321384   -64.75737   Bermuda, BN 4.535277    114.72767   Brunei, BO  -16.290154  -63.588654  Bolivia]\n28\n</code></pre>\n<p>The class where I read the file and store the objects in the arraylist:</p>\n<pre><code>import java.util.*;\n\n\npublic class ArrayListTest {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Country&gt; countries = new ArrayList&lt;Country&gt;();\n        try {\n            readData(&quot;.//Data//CountriesGPS.txt&quot;, countries);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n                \n          \n        System.out.println(countries.toString());\n        System.out.println(countries.size());\n\n    }\n    \n    public static void readData(String fileName, ArrayList &lt;Country&gt; countries) throws Exception {\n        java.io.File file = new java.io.File(fileName); \n        Scanner input = new Scanner(file);\n        input.nextLine();\n\n        while (input.hasNext()) {\n                        \n                        \n                        Scanner in = new Scanner(input.nextLine());\n            in.useDelimiter(&quot;\\t&quot;);\n                        \n            String ID = in.next();\n            float latitude = in.nextFloat();\n            float longitude = in.nextFloat();\n            String name = in.next();\n            \n                     \n                        \n            countries.add(new Country(ID,  latitude,  longitude,  name));\n        }\n         input.close();\n    }\n       \n}\n</code></pre>\n<p>The class of the objects that should be stored in the array:</p>\n<pre><code>public class Country {\n    String country;\n    float latitude;\n    float longitude;\n    String name;\n\n    public Country(String country, float latitude, float longitude, String name) {\n        this.country = country;\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.name = name;\n    }\n\n        public String toString () { \n        //Returns a tab-separated string containing the main fields \n        return country + &quot;\\t&quot;  + latitude + &quot;\\t&quot;  + longitude + &quot;\\t&quot;  + name;\n\n    } \n</code></pre>\n<p>The text file:</p>\n<pre><code>country latitude    longitude   name\nAD  42.546245   1.601554    Andorra\nAE  23.424076   53.847818   United Arab Emirates\nAF  33.93911    67.709953   Afghanistan\nAG  17.060816   -61.796428  Antigua and Barbuda\nAI  18.220554   -63.068615  Anguilla\nAL  41.153332   20.168331   Albania\nAM  40.069099   45.038189   Armenia\nAN  12.226079   -69.060087  Netherlands Antilles\nAO  -11.202692  17.873887   Angola\nAQ  -75.250973  -0.071389   Antarctica\nAR  -38.416097  -63.616672  Argentina\nAS  -14.270972  -170.132217 American Samoa\nAT  47.516231   14.550072   Austria\nAU  -25.274398  133.775136  Australia\nAW  12.52111    -69.968338  Aruba\nAZ  40.143105   47.576927   Azerbaijan\nBA  43.915886   17.679076   Bosnia and Herzegovina\nBB  13.193887   -59.543198  Barbados\nBD  23.684994   90.356331   Bangladesh\nBE  50.503887   4.469936    Belgium\nBF  12.238333   -1.561593   Burkina Faso\nBG  42.733883   25.48583    Bulgaria\nBH  25.930414   50.637772   Bahrain\nBI  -3.373056   29.918886   Burundi\nBJ  9.30769 2.315834    Benin\nBM  32.321384   -64.75737   Bermuda\nBN  4.535277    114.727669  Brunei\nBO  -16.290154  -63.588653  Bolivia\nBR  -14.235004  -51.92528   Brazil\nBS  25.03428    -77.39628   Bahamas\nBT  27.514162   90.433601   Bhutan\nBV  -54.423199  3.413194    Bouvet Island\nBW  -22.328474  24.684866   Botswana\nBY  53.709807   27.953389   Belarus\nBZ  17.189877   -88.49765   Belize\nCA  56.130366   -106.346771 Canada\nCC  -12.164165  96.870956   Cocos [Keeling] Islands\nCD  -4.038333   21.758664   Congo [DRC]\nCF  6.611111    20.939444   Central African Republic\nCG  -0.228021   15.827659   Congo [Republic]\nCH  46.818188   8.227512    Switzerland\nCI  7.539989    -5.54708    CÙte d'Ivoire\nCK  -21.236736  -159.777671 Cook Islands\nCL  -35.675147  -71.542969  Chile\nCM  7.369722    12.354722   Cameroon\nCN  35.86166    104.195397  China\nCO  4.570868    -74.297333  Colombia\nCR  9.748917    -83.753428  Costa Rica\nCU  21.521757   -77.781167  Cuba\nCV  16.002082   -24.013197  Cape Verde\nCX  -10.447525  105.690449  Christmas Island\nCY  35.126413   33.429859   Cyprus\nCZ  49.817492   15.472962   Czech Republic\nDE  51.165691   10.451526   Germany\nDJ  11.825138   42.590275   Djibouti\nDK  56.26392    9.501785    Denmark\nDM  15.414999   -61.370976  Dominica\nDO  18.735693   -70.162651  Dominican Republic\nDZ  28.033886   1.659626    Algeria\nEC  -1.831239   -78.183406  Ecuador\nEE  58.595272   25.013607   Estonia\nEG  26.820553   30.802498   Egypt\nEH  24.215527   -12.885834  Western Sahara\nER  15.179384   39.782334   Eritrea\nES  40.463667   -3.74922    Spain\nET  9.145   40.489673   Ethiopia\nFI  61.92411    25.748151   Finland\nFJ  -16.578193  179.414413  Fiji\nFK  -51.796253  -59.523613  Falkland Islands [Islas Malvinas]\nFM  7.425554    150.550812  Micronesia\nFO  61.892635   -6.911806   Faroe Islands\nFR  46.227638   2.213749    France\nGA  -0.803689   11.609444   Gabon\nGB  55.378051   -3.435973   United Kingdom\nGD  12.262776   -61.604171  Grenada\nGE  42.315407   43.356892   Georgia\nGF  3.933889    -53.125782  French Guiana\nGG  49.465691   -2.585278   Guernsey\nGH  7.946527    -1.023194   Ghana\nGI  36.137741   -5.345374   Gibraltar\nGL  71.706936   -42.604303  Greenland\nGM  13.443182   -15.310139  Gambia\nGN  9.945587    -9.696645   Guinea\nGP  16.995971   -62.067641  Guadeloupe\nGQ  1.650801    10.267895   Equatorial Guinea\nGR  39.074208   21.824312   Greece\nGS  -54.429579  -36.587909  South Georgia and the South Sandwich Islands\nGT  15.783471   -90.230759  Guatemala\nGU  13.444304   144.793731  Guam\nGW  11.803749   -15.180413  Guinea-Bissau\nGY  4.860416    -58.93018   Guyana\nGZ  31.354676   34.308825   Gaza Strip\nHK  22.396428   114.109497  Hong Kong\nHM  -53.08181   73.504158   Heard Island and McDonald Islands\nHN  15.199999   -86.241905  Honduras\nHR  45.1    15.2    Croatia\nHT  18.971187   -72.285215  Haiti\nHU  47.162494   19.503304   Hungary\nID  -0.789275   113.921327  Indonesia\nIE  53.41291    -8.24389    Ireland\nIL  31.046051   34.851612   Israel\nIM  54.236107   -4.548056   Isle of Man\nIN  20.593684   78.96288    India\nIO  -6.343194   71.876519   British Indian Ocean Territory\nIQ  33.223191   43.679291   Iraq\nIR  32.427908   53.688046   Iran\nIS  64.963051   -19.020835  Iceland\nIT  41.87194    12.56738    Italy\nJE  49.214439   -2.13125    Jersey\nJM  18.109581   -77.297508  Jamaica\nJO  30.585164   36.238414   Jordan\nJP  36.204824   138.252924  Japan\nKE  -0.023559   37.906193   Kenya\nKG  41.20438    74.766098   Kyrgyzstan\nKH  12.565679   104.990963  Cambodia\nKI  -3.370417   -168.734039 Kiribati\nKM  -11.875001  43.872219   Comoros\nKN  17.357822   -62.782998  Saint Kitts and Nevis\nKP  40.339852   127.510093  North Korea\nKR  35.907757   127.766922  South Korea\nKW  29.31166    47.481766   Kuwait\nKY  19.513469   -80.566956  Cayman Islands\nKZ  48.019573   66.923684   Kazakhstan\nLA  19.85627    102.495496  Laos\nLB  33.854721   35.862285   Lebanon\nLC  13.909444   -60.978893  Saint Lucia\nLI  47.166  9.555373    Liechtenstein\nLK  7.873054    80.771797   Sri Lanka\nLR  6.428055    -9.429499   Liberia\nLS  -29.609988  28.233608   Lesotho\nLT  55.169438   23.881275   Lithuania\nLU  49.815273   6.129583    Luxembourg\nLV  56.879635   24.603189   Latvia\nLY  26.3351 17.228331   Libya\nMA  31.791702   -7.09262    Morocco\nMC  43.750298   7.412841    Monaco\nMD  47.411631   28.369885   Moldova\nME  42.708678   19.37439    Montenegro\nMG  -18.766947  46.869107   Madagascar\nMH  7.131474    171.184478  Marshall Islands\nMK  41.608635   21.745275   Macedonia [FYROM]\nML  17.570692   -3.996166   Mali\nMM  21.913965   95.956223   Myanmar [Burma]\nMN  46.862496   103.846656  Mongolia\nMO  22.198745   113.543873  Macau\nMP  17.33083    145.38469   Northern Mariana Islands\nMQ  14.641528   -61.024174  Martinique\nMR  21.00789    -10.940835  Mauritania\nMS  16.742498   -62.187366  Montserrat\nMT  35.937496   14.375416   Malta\nMU  -20.348404  57.552152   Mauritius\nMV  3.202778    73.22068    Maldives\nMW  -13.254308  34.301525   Malawi\nMX  23.634501   -102.552784 Mexico\nMY  4.210484    101.975766  Malaysia\nMZ  -18.665695  35.529562   Mozambique\nNA  -22.95764   18.49041    Namibia\nNC  -20.904305  165.618042  New Caledonia\nNE  17.607789   8.081666    Niger\nNF  -29.040835  167.954712  Norfolk Island\nNG  9.081999    8.675277    Nigeria\nNI  12.865416   -85.207229  Nicaragua\nNL  52.132633   5.291266    Netherlands\nNO  60.472024   8.468946    Norway\nNP  28.394857   84.124008   Nepal\nNR  -0.522778   166.931503  Nauru\nNU  -19.054445  -169.867233 Niue\nNZ  -40.900557  174.885971  New Zealand\nOM  21.512583   55.923255   Oman\nPA  8.537981    -80.782127  Panama\nPE  -9.189967   -75.015152  Peru\nPF  -17.679742  -149.406843 French Polynesia\nPG  -6.314993   143.95555   Papua New Guinea\nPH  12.879721   121.774017  Philippines\nPK  30.375321   69.345116   Pakistan\nPL  51.919438   19.145136   Poland\nPM  46.941936   -56.27111   Saint Pierre and Miquelon\nPN  -24.703615  -127.439308 Pitcairn Islands\nPR  18.220833   -66.590149  Puerto Rico\nPS  31.952162   35.233154   Palestinian Territories\nPT  39.399872   -8.224454   Portugal\nPW  7.51498 134.58252   Palau\nPY  -23.442503  -58.443832  Paraguay\nQA  25.354826   51.183884   Qatar\nRE  -21.115141  55.536384   RÈunion\nRO  45.943161   24.96676    Romania\nRS  44.016521   21.005859   Serbia\nRU  61.52401    105.318756  Russia\nRW  -1.940278   29.873888   Rwanda\nSA  23.885942   45.079162   Saudi Arabia\nSB  -9.64571    160.156194  Solomon Islands\nSC  -4.679574   55.491977   Seychelles\nSD  12.862807   30.217636   Sudan\nSE  60.128161   18.643501   Sweden\nSG  1.352083    103.819836  Singapore\nSH  -24.143474  -10.030696  Saint Helena\nSI  46.151241   14.995463   Slovenia\nSJ  77.553604   23.670272   Svalbard and Jan Mayen\nSK  48.669026   19.699024   Slovakia\nSL  8.460555    -11.779889  Sierra Leone\nSM  43.94236    12.457777   San Marino\nSN  14.497401   -14.452362  Senegal\nSO  5.152149    46.199616   Somalia\nSR  3.919305    -56.027783  Suriname\nST  0.18636 6.613081    S„o TomÈ and PrÌncipe\nSV  13.794185   -88.89653   El Salvador\nSY  34.802075   38.996815   Syria\nSZ  -26.522503  31.465866   Swaziland\nTC  21.694025   -71.797928  Turks and Caicos Islands\nTD  15.454166   18.732207   Chad\nTF  -49.280366  69.348557   French Southern Territories\nTG  8.619543    0.824782    Togo\nTH  15.870032   100.992541  Thailand\nTJ  38.861034   71.276093   Tajikistan\nTK  -8.967363   -171.855881 Tokelau\nTL  -8.874217   125.727539  Timor-Leste\nTM  38.969719   59.556278   Turkmenistan\nTN  33.886917   9.537499    Tunisia\nTO  -21.178986  -175.198242 Tonga\nTR  38.963745   35.243322   Turkey\nTT  10.691803   -61.222503  Trinidad and Tobago\nTV  -7.109535   177.64933   Tuvalu\nTW  23.69781    120.960515  Taiwan\nTZ  -6.369028   34.888822   Tanzania\nUA  48.379433   31.16558    Ukraine\nUG  1.373333    32.290275   Uganda\nUS  37.09024    -95.712891  United States\nUY  -32.522779  -55.765835  Uruguay\nUZ  41.377491   64.585262   Uzbekistan\nVA  41.902916   12.453389   Vatican City\nVC  12.984305   -61.287228  Saint Vincent and the Grenadines\nVE  6.42375 -66.58973   Venezuela\nVG  18.420695   -64.639968  British Virgin Islands\nVI  18.335765   -64.896335  U.S. Virgin Islands\nVN  14.058324   108.277199  Vietnam\nVU  -15.376706  166.959158  Vanuatu\nWF  -13.768752  -177.156097 Wallis and Futuna\nWS  -13.759029  -172.104629 Samoa\nXK  42.602636   20.902977   Kosovo\nYE  15.552727   48.516388   Yemen\nYT  -12.8275    45.166244   Mayotte\nZA  -30.559482  22.937506   South Africa\nZM  -13.133897  27.849332   Zambia\nZW  -19.015438  29.154857   Zimbabwe\n</code></pre>\n"},{"tags":["c#","java","algorithm","string","random"],"answers":[{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1250778260,"creation_date":1250777502,"answer_id":1306468,"question_id":1306441,"body_markdown":"You could try implementing a [Markov chain][1] and give it a suitable passage to process. There is a [Java implementation][2] that may work for you.\n\n&gt; This is a sample from interpolating between Genesis in English and Genesis in Spanish (N = 1):\n&gt;\n&gt; In bersaran thelely and avin inder tht teathe m lovig weay waw thod mofin he t thte h fupiteg s o t llissed od ma. lllar t land fingujod maid af de wand tetodamoiz fosu Andesp. ersunen thenas lowhejod whipanirede tifinas Gofuavithila d gi&#243; Y Diche fua Dios co l, liens ly Y crerd&#237;quen ticuesereregos hielase ag&#250;nd veumarbas iarasens larag&#250;n co eruer&#225; laci&#233;luelamag&#250;neren Dien a He. \n\n\n  [1]: http://en.wikipedia.org/wiki/Markov_chain\n  [2]: http://www.teamten.com/lawrence/projects/markov/\n  [3]: https://jgram.dev.java.net/","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>You could try implementing a <a href=\"http://en.wikipedia.org/wiki/Markov_chain\" rel=\"noreferrer\">Markov chain</a> and give it a suitable passage to process. There is a <a href=\"http://www.teamten.com/lawrence/projects/markov/\" rel=\"noreferrer\">Java implementation</a> that may work for you.</p>\n<blockquote>\n<p>This is a sample from interpolating between Genesis in English and Genesis in Spanish (N = 1):</p>\n<p>In bersaran thelely and avin inder tht teathe m lovig weay waw thod mofin he t thte h fupiteg s o t llissed od ma. lllar t land fingujod maid af de wand tetodamoiz fosu Andesp. ersunen thenas lowhejod whipanirede tifinas Gofuavithila d gió Y Diche fua Dios co l, liens ly Y crerdíquen ticuesereregos hielase agúnd veumarbas iarasens laragún co eruerá laciéluelamagúneren Dien a He.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8083,"reputation":366840,"user_id":14343,"accept_rate":78,"display_name":"Ned Batchelder"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1250777502,"creation_date":1250777502,"answer_id":1306469,"question_id":1306441,"body_markdown":"You need to generate random syllables.  The simplest way to do it is to use syllables that are consonant-vowel, or consonant-vowel-consonant.  From a list of consonants and vowels, pick randomly to build syllables, then join the syllables together to make a string.\r\n\r\nKeep in mind your list of consonants shouldn&#39;t be letters that are consonants, but phonemes, so &quot;th&quot;, &quot;st&quot;, &quot;sl&quot;, etc, could be entries in the consonant list.","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>You need to generate random syllables.  The simplest way to do it is to use syllables that are consonant-vowel, or consonant-vowel-consonant.  From a list of consonants and vowels, pick randomly to build syllables, then join the syllables together to make a string.</p>\n\n<p>Keep in mind your list of consonants shouldn't be letters that are consonants, but phonemes, so \"th\", \"st\", \"sl\", etc, could be entries in the consonant list.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1250778664,"creation_date":1250778113,"answer_id":1306537,"question_id":1306441,"body_markdown":"I think this should do what you want:\r\n\r\n[Java Password Generator][1]\r\n\r\nIt has the source code and a permissive license so you can adapt the source code to what you are looking for.\r\n\r\n\r\n  [1]: http://www.multicians.org/thvv/gpw.html","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>I think this should do what you want:</p>\n\n<p><a href=\"http://www.multicians.org/thvv/gpw.html\" rel=\"noreferrer\">Java Password Generator</a></p>\n\n<p>It has the source code and a permissive license so you can adapt the source code to what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1250779139,"creation_date":1250778546,"answer_id":1306581,"question_id":1306441,"body_markdown":"You really should check out **SCIgen**.  It generates entire semi-nonsense scientific papers:  http://pdos.csail.mit.edu/scigen/\r\n\r\nAnd the source is available: it&#39;s released under GPL, and is currently available via anonymous CVS.\r\n","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>You really should check out <strong>SCIgen</strong>.  It generates entire semi-nonsense scientific papers:  <a href=\"http://pdos.csail.mit.edu/scigen/\" rel=\"nofollow noreferrer\">http://pdos.csail.mit.edu/scigen/</a></p>\n\n<p>And the source is available: it's released under GPL, and is currently available via anonymous CVS.</p>\n"},{"tags":[],"owner":{"account_id":35964,"reputation":8112,"user_id":102247,"accept_rate":55,"display_name":"AllenG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250778748,"creation_date":1250778748,"answer_id":1306606,"question_id":1306441,"body_markdown":"I&#39;m not sure exactly what you need this for, but if graphic-layot folks in the print industry have used Lorem Ipsum generators to create text that looks enough like text that your brain processes it as such without actually being readable words.  More info [here][1]\r\n\r\nI don&#39;t know if there&#39;s a web service to which you could subscribe, but there are several sites which will just generate Lorem Ipsum strings for you, so you may be able to use those.\r\n\r\n\r\n  [1]: http://lipsum.com/","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>I'm not sure exactly what you need this for, but if graphic-layot folks in the print industry have used Lorem Ipsum generators to create text that looks enough like text that your brain processes it as such without actually being readable words.  More info <a href=\"http://lipsum.com/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I don't know if there's a web service to which you could subscribe, but there are several sites which will just generate Lorem Ipsum strings for you, so you may be able to use those.</p>\n"},{"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250778750,"creation_date":1250778750,"answer_id":1306607,"question_id":1306441,"body_markdown":"There is a good section on this in [Programming Pearls][1].  It&#39;s online but I&#39;d highly recommend buying the book; One of the best programming books around in my opinion.\r\n\r\n\r\n  [1]: http://www.cs.bell-labs.com/cm/cs/pearls/sec153.html","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>There is a good section on this in <a href=\"http://www.cs.bell-labs.com/cm/cs/pearls/sec153.html\" rel=\"nofollow noreferrer\">Programming Pearls</a>.  It's online but I'd highly recommend buying the book; One of the best programming books around in my opinion.</p>\n"},{"tags":[],"owner":{"account_id":53138,"reputation":1952,"user_id":158825,"display_name":"Chris Judge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1250782310,"creation_date":1250782310,"answer_id":1306995,"question_id":1306441,"body_markdown":"Lots of [Lorem Ipsum][1] generators out there.\r\n\r\n\r\n  [1]: http://www.google.com/search?hl=en&amp;source=hp&amp;q=lorem+ipsum&amp;aq=f&amp;oq=&amp;aqi=n1g10","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>Lots of <a href=\"http://www.google.com/search?hl=en&amp;source=hp&amp;q=lorem+ipsum&amp;aq=f&amp;oq=&amp;aqi=n1g10\" rel=\"nofollow noreferrer\">Lorem Ipsum</a> generators out there.</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1250789207,"creation_date":1250789207,"answer_id":1307683,"question_id":1306441,"body_markdown":"All gets back to why you want this. If you just want &quot;pronounceable gibberish&quot;, I&#39;d think the easiest thing to do would be to generate alternating consonants and vowels. That would be a tiny subset of all pronounceable gibberish, but what&#39;s the goal? To give a little broader range you could create a table of consonant phonemes and vowel phonemes, with the consonant list including not just individual letters like &quot;b&quot; and &quot;d&quot; but also &quot;th&quot;, &quot;br&quot;, and so on, and the vowel list could include &quot;oo&quot; and &quot;ea&quot;, etc. One more step would be to generate syllables instead of letters, with a syllable containing either vowel, consonant-vowel, or consonant-vowel-consonant. That is, loop through creating syllables, then within syllables pick one of the three patterns. You probably want to forbid two vowel-only syllables in a row. (I&#39;m trying to think of an example of that in English. It probably happens, but the only examples I can think of are borrowed from other languages, like &quot;stoa&quot;.)","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>All gets back to why you want this. If you just want \"pronounceable gibberish\", I'd think the easiest thing to do would be to generate alternating consonants and vowels. That would be a tiny subset of all pronounceable gibberish, but what's the goal? To give a little broader range you could create a table of consonant phonemes and vowel phonemes, with the consonant list including not just individual letters like \"b\" and \"d\" but also \"th\", \"br\", and so on, and the vowel list could include \"oo\" and \"ea\", etc. One more step would be to generate syllables instead of letters, with a syllable containing either vowel, consonant-vowel, or consonant-vowel-consonant. That is, loop through creating syllables, then within syllables pick one of the three patterns. You probably want to forbid two vowel-only syllables in a row. (I'm trying to think of an example of that in English. It probably happens, but the only examples I can think of are borrowed from other languages, like \"stoa\".)</p>\n"},{"tags":[],"owner":{"account_id":133167,"reputation":760,"user_id":334323,"accept_rate":80,"display_name":"jfabrizio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635261196,"creation_date":1635261196,"answer_id":69725687,"question_id":1306441,"body_markdown":"I created a Java package [Pronounceable String Generator][1] for generating pronounceable random strings quickly.\r\n\r\nJust create an object `PronounceableStringGenerator` and invoke the method `generate`:\r\n\r\n    PronounceableStringGenerator mg = new PronounceableStringGenerator();\r\n    System.out.println(mg.generate(8));//8 is the length of the generated string \r\n    System.out.println(mg.generate(10));\r\n    System.out.println(mg.generate(6));\r\n\r\n\r\n  [1]: https://github.com/SCAlabUnical/PronounceableStringGenerator/","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>I created a Java package <a href=\"https://github.com/SCAlabUnical/PronounceableStringGenerator/\" rel=\"nofollow noreferrer\">Pronounceable String Generator</a> for generating pronounceable random strings quickly.</p>\n<p>Just create an object <code>PronounceableStringGenerator</code> and invoke the method <code>generate</code>:</p>\n<pre><code>PronounceableStringGenerator mg = new PronounceableStringGenerator();\nSystem.out.println(mg.generate(8));//8 is the length of the generated string \nSystem.out.println(mg.generate(10));\nSystem.out.println(mg.generate(6));\n</code></pre>\n"}],"owner":{"account_id":19197,"reputation":25590,"user_id":44757,"accept_rate":84,"display_name":"Jared"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4583,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":1306537,"answer_count":9,"score":15,"last_activity_date":1635261196,"creation_date":1250777239,"question_id":1306441,"body_markdown":"Generating a truly random string of a given length is a fairly straightforward (and already-well-covered) task.\r\n\r\nHowever; I&#39;d like to generate a &quot;pseudo&quot; random string with the additional constraint that it be relatively easily readable (to a native-English reader.)\r\n\r\nI think another way to say this is to say that the generated string should consist of &quot;recognizable syllables.&quot;  For example, &quot;akdjfwv&quot; is a random string, but it&#39;s not recognizable at all.  &quot;flamyom&quot;; however, is very &quot;recognizable&quot; (even though it&#39;s nonsense.)\r\n\r\nObviously, one could make a long list of &quot;recognizable syllables,&quot; and then randomly select them.\r\n\r\nBut, is there a better way to do something like programmatically generate a &quot;recognizable syllable,&quot; or generate a &quot;syllable&quot; and then test it to see if it&#39;s &quot;recognizable&quot;?\r\n\r\nI can think of several ways to go about this implementation, but if someone has already implemented it (preferrably in Java or C#,) I&#39;d rather re-use their work.\r\n\r\nAny ideas?","title":"How can I generate pseudo-random &quot;readable&quot; strings in Java?","body":"<p>Generating a truly random string of a given length is a fairly straightforward (and already-well-covered) task.</p>\n\n<p>However; I'd like to generate a \"pseudo\" random string with the additional constraint that it be relatively easily readable (to a native-English reader.)</p>\n\n<p>I think another way to say this is to say that the generated string should consist of \"recognizable syllables.\"  For example, \"akdjfwv\" is a random string, but it's not recognizable at all.  \"flamyom\"; however, is very \"recognizable\" (even though it's nonsense.)</p>\n\n<p>Obviously, one could make a long list of \"recognizable syllables,\" and then randomly select them.</p>\n\n<p>But, is there a better way to do something like programmatically generate a \"recognizable syllable,\" or generate a \"syllable\" and then test it to see if it's \"recognizable\"?</p>\n\n<p>I can think of several ways to go about this implementation, but if someone has already implemented it (preferrably in Java or C#,) I'd rather re-use their work.</p>\n\n<p>Any ideas?</p>\n"},{"tags":["java","string","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635260773,"creation_date":1635260773,"answer_id":69725586,"question_id":69724857,"body_markdown":"You will need to use an [ArgumentCaptor][1] as follows:\r\n```java\r\nArgumentCaptor&lt;Email&gt; emailCaptor = \r\n      ArgumentCaptor.forClass(Email.class);\r\nverify(classNameObject, times(1)).sendEmail(emailCaptor.capture());\r\nassertThat(emailCaptor.getValue().getBody())....\r\n```\r\n\r\nKeep in mind that `classNameObject` is the instance of the class that contains `sendEmail` method. With this, you can now assert whatever you want in the Email body property.\r\n\r\n\r\n  [1]: https://www.baeldung.com/mockito-argumentcaptor","title":"Mockito - check if a method call is made with one of the fields containing a certain string","body":"<p>You will need to use an <a href=\"https://www.baeldung.com/mockito-argumentcaptor\" rel=\"nofollow noreferrer\">ArgumentCaptor</a> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArgumentCaptor&lt;Email&gt; emailCaptor = \n      ArgumentCaptor.forClass(Email.class);\nverify(classNameObject, times(1)).sendEmail(emailCaptor.capture());\nassertThat(emailCaptor.getValue().getBody())....\n</code></pre>\n<p>Keep in mind that <code>classNameObject</code> is the instance of the class that contains <code>sendEmail</code> method. With this, you can now assert whatever you want in the Email body property.</p>\n"}],"owner":{"account_id":23149974,"reputation":55,"user_id":17252143,"display_name":"tigh75"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635260773,"creation_date":1635257993,"question_id":69724857,"body_markdown":"I am mocking a class called EmailSender which has a method sendEmail() that takes in an argument of class Email. I am trying to verify that my mockEmailSender will call the sendEmail function once with the expected Email class as such: ```verify(mockEmailSender, times(1)).sendEmail(expectedEmail)``` \r\n\r\n```\r\nclass Email {\r\n   String title;\r\n   List&lt;String&gt; receipients;\r\n   String body;\r\n}\r\n```\r\n\r\nI am initializing the expected Email object like the follow ```Email expectedEmail = Email.builder().setRecipients(//example list).setTitle(&quot;Test title&quot;).setBody(// really long text)```\r\n\r\nHowever, there is a caveat. I also want to add a series of test in which I don&#39;t want to verify that the sendEmail is called with the exact `expectedEmail`. I want to have a series of tests in which each test just checks that a certain substring exists in the body field. For example if the Body field is `&quot;Test email body&quot;`, I want one test to verify that `sendEmail()` is called with the expectedEmail argument with body field containing the substring `&quot;Test&quot;` and not specifically that the body field has to be equal to `&quot;Test email body&quot;` while still making sure that the `title` and `receipient` are exactly equal to what I set. How can I do this in Mockito? \r\n\r\n","title":"Mockito - check if a method call is made with one of the fields containing a certain string","body":"<p>I am mocking a class called EmailSender which has a method sendEmail() that takes in an argument of class Email. I am trying to verify that my mockEmailSender will call the sendEmail function once with the expected Email class as such: <code>verify(mockEmailSender, times(1)).sendEmail(expectedEmail)</code></p>\n<pre><code>class Email {\n   String title;\n   List&lt;String&gt; receipients;\n   String body;\n}\n</code></pre>\n<p>I am initializing the expected Email object like the follow <code>Email expectedEmail = Email.builder().setRecipients(//example list).setTitle(&quot;Test title&quot;).setBody(// really long text)</code></p>\n<p>However, there is a caveat. I also want to add a series of test in which I don't want to verify that the sendEmail is called with the exact <code>expectedEmail</code>. I want to have a series of tests in which each test just checks that a certain substring exists in the body field. For example if the Body field is <code>&quot;Test email body&quot;</code>, I want one test to verify that <code>sendEmail()</code> is called with the expectedEmail argument with body field containing the substring <code>&quot;Test&quot;</code> and not specifically that the body field has to be equal to <code>&quot;Test email body&quot;</code> while still making sure that the <code>title</code> and <code>receipient</code> are exactly equal to what I set. How can I do this in Mockito?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1635163996,"post_id":69707853,"comment_id":123214102,"body_markdown":"Use an HTML parser, such as JSoup.","body":"Use an HTML parser, such as JSoup."},{"owner":{"account_id":7332712,"reputation":2128,"user_id":5585069,"accept_rate":98,"display_name":"KANAYO AUGUSTIN UG"},"score":0,"creation_date":1635164117,"post_id":69707853,"comment_id":123214166,"body_markdown":"@CommonsWare Please can you show me how to do it, I&#39;m still new to Java","body":"@CommonsWare Please can you show me how to do it, I&#39;m still new to Java"}],"answers":[{"tags":[],"owner":{"account_id":7332712,"reputation":2128,"user_id":5585069,"accept_rate":98,"display_name":"KANAYO AUGUSTIN UG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635260548,"creation_date":1635177001,"answer_id":69711119,"question_id":69707853,"body_markdown":"Okay... I was able to figure it out with the help of the comment from @CommonsWare.\r\n\r\nFirst, I had to add the `JSoup` library to my android project then with this code below\r\n\r\n\tString htmlText = Html.toHtml(editText.getText());\r\n\tDocument doc = Jsoup.parse(htmlText, &quot;UTF-8&quot;);\r\n\tElements element = doc.select(&quot;a&quot;).first();\r\n\tString href = element.attr(&quot;href&quot;);","title":"Get URL from a HTML text in Android Java","body":"<p>Okay... I was able to figure it out with the help of the comment from @CommonsWare.</p>\n<p>First, I had to add the <code>JSoup</code> library to my android project then with this code below</p>\n<pre><code>String htmlText = Html.toHtml(editText.getText());\nDocument doc = Jsoup.parse(htmlText, &quot;UTF-8&quot;);\nElements element = doc.select(&quot;a&quot;).first();\nString href = element.attr(&quot;href&quot;);\n</code></pre>\n"}],"owner":{"account_id":7332712,"reputation":2128,"user_id":5585069,"accept_rate":98,"display_name":"KANAYO AUGUSTIN UG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69711119,"answer_count":1,"score":-1,"last_activity_date":1635260548,"creation_date":1635163923,"question_id":69707853,"body_markdown":"    String htmlText = Html.toHtml((Spanned) editText.getText());\r\n    //output of htmlText = &quot;&lt;span style=&quot;background-color:#F9F9F9;&quot;&gt;&lt;b&gt;&lt;a href=&quot;someUrl&quot;&gt;Some Text&lt;/a&gt;&lt;/b&gt;&lt;/span&gt;&quot;\r\n\r\nHow can I get the URL link in the `&lt;a&gt;` tag so that I&#39;ll have something like\r\n\r\n    String urlStr = &quot;someUrl&quot;;","title":"Get URL from a HTML text in Android Java","body":"<pre><code>String htmlText = Html.toHtml((Spanned) editText.getText());\n//output of htmlText = &quot;&lt;span style=&quot;background-color:#F9F9F9;&quot;&gt;&lt;b&gt;&lt;a href=&quot;someUrl&quot;&gt;Some Text&lt;/a&gt;&lt;/b&gt;&lt;/span&gt;&quot;\n</code></pre>\n<p>How can I get the URL link in the <code>&lt;a&gt;</code> tag so that I'll have something like</p>\n<pre><code>String urlStr = &quot;someUrl&quot;;\n</code></pre>\n"},{"tags":["java","smb","ntlm-authentication"],"comments":[{"owner":{"account_id":20970136,"reputation":1,"user_id":15407488,"display_name":"TeluTrix"},"score":0,"creation_date":1635260679,"post_id":69725516,"comment_id":123246557,"body_markdown":"i am getting &quot;cifs.smb.SmbException: Failed to connect&quot;, i googled it and it may be because I have a newer smb than supported (only smb1.0 supported).","body":"i am getting &quot;cifs.smb.SmbException: Failed to connect&quot;, i googled it and it may be because I have a newer smb than supported (only smb1.0 supported)."},{"owner":{"account_id":4640113,"reputation":2872,"user_id":3760216,"accept_rate":36,"display_name":"Sachith Muhandiram"},"score":0,"creation_date":1635262109,"post_id":69725516,"comment_id":123247236,"body_markdown":"Please include all details in the question than in separate comment.","body":"Please include all details in the question than in separate comment."}],"owner":{"account_id":20970136,"reputation":1,"user_id":15407488,"display_name":"TeluTrix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635260484,"creation_date":1635260484,"question_id":69725516,"body_markdown":"I have a username which has an @ in it and I want to establish a smb share connection (host OS: MacOS). \r\nLets say I have:\r\nuser: blabla@bla\r\npass: passw0rd\r\n\r\n    String url = distribution_path;\r\n        NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, user, pass);\r\n        SmbFile dir = new SmbFile(url, auth);\r\n        for (SmbFile f : dir.listFiles())\r\n        {\r\n            System.out.println(f.getName());\r\n        }\r\n","title":"Is there a way to include &quot;@&quot; in the user when establishing a smb connection with NtlmPasswordAuth using Java?","body":"<p>I have a username which has an @ in it and I want to establish a smb share connection (host OS: MacOS).\nLets say I have:\nuser: blabla@bla\npass: passw0rd</p>\n<pre><code>String url = distribution_path;\n    NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(null, user, pass);\n    SmbFile dir = new SmbFile(url, auth);\n    for (SmbFile f : dir.listFiles())\n    {\n        System.out.println(f.getName());\n    }\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","constructor"],"comments":[{"owner":{"account_id":3137088,"reputation":13783,"user_id":2653390,"accept_rate":86,"display_name":"Shashank"},"score":3,"creation_date":1424704416,"post_id":28676796,"comment_id":45646972,"body_markdown":"The syntax to access the outer class instance is `OuterClassName.this`. I don&#39;t understand the rest of your question.","body":"The syntax to access the outer class instance is <code>OuterClassName.this</code>. I don&#39;t understand the rest of your question."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1424704422,"post_id":28676796,"comment_id":45646977,"body_markdown":"Your code sample does not compile.","body":"Your code sample does not compile."}],"answers":[{"tags":[],"owner":{"account_id":30905,"reputation":4702,"user_id":84556,"accept_rate":93,"display_name":"Andrei Vajna II"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1515164609,"creation_date":1424705874,"answer_id":28677418,"question_id":28676796,"body_markdown":"I&#39;ll modify the example a bit, to make it more clear. Consider this class:\r\n\r\n    public class ThisEscape {\r\n    \t\r\n    \tObject someThing;\r\n    \t\r\n    \tpublic ThisEscape(EventSource source) {\r\n    \t\tsource.registerListener(\r\n    \t\t\tnew EventListener() {\r\n    \t\t\t\tpublic void onEvent(Event e) {\r\n    \t\t\t\t\tdoSomething(e, someThing);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\tsomeThing = initTheThing();\r\n    \t}\r\n    }\r\n\r\nBehind the scenes, the anonymous inner class has access to the outer instance. You can tell this, because you can access the instance variable `someThing` and, as Shashank mentioned you can access the outer instance via `ThisEscape.this`.\r\n\r\nThe problem is that by giving the anonymous inner class instance to the outside (in this case the `EventSource` object) it will also carry the ThisEscape instance with it.\r\n\r\nWhat can happen bad with it? Consider this implementation of EventSource below:\r\n\r\n    public class SomeEventSource implements EventSource {\r\n    \t\r\n    \tEventListener listener;\r\n    \t\r\n    \tpublic void registerListener(EventListener listener) {\r\n    \t\tthis.listener = listener;\r\n    \t}\r\n    \t\r\n    \tpublic void processEvent(Event e) {\r\n    \t\tlistener.onEvent(e);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nIn `ThisEscape`&#39;s constructor we register an `EventListener` which will be stored in the `listener` instance variable.\r\n\r\nNow consider two threads. One is calling the `ThisEscape` constructor, while the other calls `processEvent` with some event. Also, let&#39;s say the JVM decides to switch from the first thread to the second one, right after the `source.registerListener` line and right before `someThing = initTheThing()`. The second thread now runs, and it will call the onEvent method, which as you can see, does something with `someThing`. But what is `someThing`? It&#39;s null, because the other thread did not finish initializing the object, so this will (probably) cause a NullPointerException, which is not actually what you want.\r\n\r\nTo sum up: be careful that you don&#39;t escape objects that have not been fully initialized (or in other words, their constructor did not finish yet). One subtle way you could inadvertently do this, is by escaping anonymous inner classes from the constructor, which will implicitly escape the outer instance, which is not fully initialized.","title":"How does `this` reference to an outer class escape through publishing inner class instance?","body":"<p>I'll modify the example a bit, to make it more clear. Consider this class:</p>\n\n<pre><code>public class ThisEscape {\n\n    Object someThing;\n\n    public ThisEscape(EventSource source) {\n        source.registerListener(\n            new EventListener() {\n                public void onEvent(Event e) {\n                    doSomething(e, someThing);\n                }\n            });\n        someThing = initTheThing();\n    }\n}\n</code></pre>\n\n<p>Behind the scenes, the anonymous inner class has access to the outer instance. You can tell this, because you can access the instance variable <code>someThing</code> and, as Shashank mentioned you can access the outer instance via <code>ThisEscape.this</code>.</p>\n\n<p>The problem is that by giving the anonymous inner class instance to the outside (in this case the <code>EventSource</code> object) it will also carry the ThisEscape instance with it.</p>\n\n<p>What can happen bad with it? Consider this implementation of EventSource below:</p>\n\n<pre><code>public class SomeEventSource implements EventSource {\n\n    EventListener listener;\n\n    public void registerListener(EventListener listener) {\n        this.listener = listener;\n    }\n\n    public void processEvent(Event e) {\n        listener.onEvent(e);\n    }\n\n}\n</code></pre>\n\n<p>In <code>ThisEscape</code>'s constructor we register an <code>EventListener</code> which will be stored in the <code>listener</code> instance variable.</p>\n\n<p>Now consider two threads. One is calling the <code>ThisEscape</code> constructor, while the other calls <code>processEvent</code> with some event. Also, let's say the JVM decides to switch from the first thread to the second one, right after the <code>source.registerListener</code> line and right before <code>someThing = initTheThing()</code>. The second thread now runs, and it will call the onEvent method, which as you can see, does something with <code>someThing</code>. But what is <code>someThing</code>? It's null, because the other thread did not finish initializing the object, so this will (probably) cause a NullPointerException, which is not actually what you want.</p>\n\n<p>To sum up: be careful that you don't escape objects that have not been fully initialized (or in other words, their constructor did not finish yet). One subtle way you could inadvertently do this, is by escaping anonymous inner classes from the constructor, which will implicitly escape the outer instance, which is not fully initialized.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424728721,"creation_date":1424707045,"answer_id":28677814,"question_id":28676796,"body_markdown":"The key point here is that it is often easy to forget that an in-lined anonymous object still has a reference to its parent object and that&#39;s how this code fragment is exposing a not-yet-completely-initialised instance of itself.\r\n\r\nImagine `EventSource.registerListener` immediately calls `EventLister.doSomething()`! That `doSomething` will be called on an object whose parent `this` is incomplete.\r\n\r\n    public class ThisEscape {\r\n\r\n        public ThisEscape(EventSource source) {\r\n            // Calling a method\r\n            source.registerListener(\r\n                    // With a new object\r\n                    new EventListener() {\r\n                        // That even does something\r\n                        public void onEvent(Event e) {\r\n                            doSomething(e);\r\n                        }\r\n                    });\r\n            // While construction is still in progress.\r\n        }\r\n    }\r\nDoing it this way would plug the hole.\r\n\r\n    public class TheresNoEscape {\r\n\r\n        public TheresNoEscape(EventSource source) {\r\n            // Calling a method\r\n            source.registerListener(\r\n                    // With a new object - that is static there is no escape.\r\n                    new MyEventListener());\r\n        }\r\n\r\n        private static class MyEventListener {\r\n\r\n            // That even does something\r\n            public void onEvent(Event e) {\r\n                doSomething(e);\r\n            }\r\n        }\r\n    }\r\n","title":"How does `this` reference to an outer class escape through publishing inner class instance?","body":"<p>The key point here is that it is often easy to forget that an in-lined anonymous object still has a reference to its parent object and that's how this code fragment is exposing a not-yet-completely-initialised instance of itself.</p>\n\n<p>Imagine <code>EventSource.registerListener</code> immediately calls <code>EventLister.doSomething()</code>! That <code>doSomething</code> will be called on an object whose parent <code>this</code> is incomplete.</p>\n\n<pre><code>public class ThisEscape {\n\n    public ThisEscape(EventSource source) {\n        // Calling a method\n        source.registerListener(\n                // With a new object\n                new EventListener() {\n                    // That even does something\n                    public void onEvent(Event e) {\n                        doSomething(e);\n                    }\n                });\n        // While construction is still in progress.\n    }\n}\n</code></pre>\n\n<p>Doing it this way would plug the hole.</p>\n\n<pre><code>public class TheresNoEscape {\n\n    public TheresNoEscape(EventSource source) {\n        // Calling a method\n        source.registerListener(\n                // With a new object - that is static there is no escape.\n                new MyEventListener());\n    }\n\n    private static class MyEventListener {\n\n        // That even does something\n        public void onEvent(Event e) {\n            doSomething(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1424747195,"creation_date":1424708474,"answer_id":28678279,"question_id":28676796,"body_markdown":"Please see [this article.][1] There it&#39;s clearly explained what could happen when you let `this` escape. \r\n\r\nAnd here is a [follow-up][2] with further explanations. \r\n\r\nIt&#39;s Heinz Kabutz amazing newsletter, where this and other very interesting topics are discussed. I highly recommend it. \r\n\r\nHere is the sample taken from the links, which show *how* the `this` reference escapes:\r\n\r\n    public class ThisEscape {\r\n      private final int num;\r\n    \r\n      public ThisEscape(EventSource source) {\r\n        source.registerListener(\r\n            new EventListener() {\r\n              public void onEvent(Event e) {\r\n                doSomething(e);\r\n              }\r\n            });\r\n        num = 42;\r\n      }\r\n    \r\n      private void doSomething(Event e) {\r\n        if (num != 42) {\r\n          System.out.println(&quot;Race condition detected at &quot; +\r\n              new Date());\r\n        }\r\n      }\r\n    }\r\n\r\n&gt;When it gets compiled, javac generates two classes. The outer class looks like this:\r\n\r\n    public class ThisEscape {\r\n      private final int num;\r\n    \r\n      public ThisEscape(EventSource source) {\r\n        source.registerListener(new ThisEscape$1(this));\r\n        num = 42;\r\n      }\r\n    \r\n      private void doSomething(Event e) {\r\n        if (num != 42)\r\n          System.out.println(\r\n              &quot;Race condition detected at &quot; + new Date());\r\n      }\r\n    \r\n      static void access$000(ThisEscape _this, Event event) {\r\n        _this.doSomething(event);\r\n      }\r\n    }\r\n\r\n&gt;Next we have the anonymous inner class:\r\n\r\n    class ThisEscape$1 implements EventListener {\r\n      final ThisEscape this$0;\r\n    \r\n      ThisEscape$1(ThisEscape thisescape) {\r\n        this$0 = thisescape;\r\n        super();\r\n      }\r\n    \r\n      public void onEvent(Event e) {\r\n        ThisEscape.access$000(this$0, e);\r\n      }\r\n    }\r\n\r\nHere the anonymous inner class created in the constructor of the outer class is converted to a package-access class that receives a reference to the outer class (the one that is allowing `this` to escape). For the inner class to have access to the attributes and methods of the outer class, a static package-access method is created in the outer class. This is `access$000`.\r\n\r\nThose two articles show both how the actual escaping occurs and what might happen.\r\n\r\nThe &#39;what&#39; is basically a race condition that could lead to a `NullPointerException` or any other exception when attempting to use the object while not yet fully initialized. In the example, if a thread is quick enough, it could happen that it runs the `doSomething()` method while `num` has not yet been correctly initialized to `42`. In the first link there&#39;s a test that shows exactly that.\r\n\r\n**EDIT:**\r\nA few lines regarding how to code against this issue/feature were missing. I can only think about sticking to a (maybe incomplete) set of rules/principles to avoid this problem and others alike:\r\n\r\n - Only call `private` methods from within the constructor\r\n - If you like adrenaline and want to call `protected` methods from within the constructor, do it, but declare these methods as `final`, so that they cannot be overriden by subclasses\r\n - **Never** create inner classes in the constructor, either anonymous, local, static or non-static\r\n - In the constructor, don&#39;t pass `this` directly as an argument to anything \r\n - Avoid any transitive combination of the rules above, i.e. don&#39;t create an anonymous inner class in a `private` or `protected final` method that is invoked from within the constructor\r\n - Use the constructor to just construct an instance of the class, and let it only initialize attributes of the class, either with default values or with provided arguments\r\n\r\nIf you need to do further things, use either the builder or the factory pattern.\r\n\r\n  [1]: http://www.javaspecialists.eu/archive/Issue192.html\r\n  [2]: http://www.javaspecialists.eu/archive/Issue192b.html\r\n","title":"How does `this` reference to an outer class escape through publishing inner class instance?","body":"<p>Please see <a href=\"http://www.javaspecialists.eu/archive/Issue192.html\">this article.</a> There it's clearly explained what could happen when you let <code>this</code> escape. </p>\n\n<p>And here is a <a href=\"http://www.javaspecialists.eu/archive/Issue192b.html\">follow-up</a> with further explanations. </p>\n\n<p>It's Heinz Kabutz amazing newsletter, where this and other very interesting topics are discussed. I highly recommend it. </p>\n\n<p>Here is the sample taken from the links, which show <em>how</em> the <code>this</code> reference escapes:</p>\n\n<pre><code>public class ThisEscape {\n  private final int num;\n\n  public ThisEscape(EventSource source) {\n    source.registerListener(\n        new EventListener() {\n          public void onEvent(Event e) {\n            doSomething(e);\n          }\n        });\n    num = 42;\n  }\n\n  private void doSomething(Event e) {\n    if (num != 42) {\n      System.out.println(\"Race condition detected at \" +\n          new Date());\n    }\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>When it gets compiled, javac generates two classes. The outer class looks like this:</p>\n</blockquote>\n\n<pre><code>public class ThisEscape {\n  private final int num;\n\n  public ThisEscape(EventSource source) {\n    source.registerListener(new ThisEscape$1(this));\n    num = 42;\n  }\n\n  private void doSomething(Event e) {\n    if (num != 42)\n      System.out.println(\n          \"Race condition detected at \" + new Date());\n  }\n\n  static void access$000(ThisEscape _this, Event event) {\n    _this.doSomething(event);\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Next we have the anonymous inner class:</p>\n</blockquote>\n\n<pre><code>class ThisEscape$1 implements EventListener {\n  final ThisEscape this$0;\n\n  ThisEscape$1(ThisEscape thisescape) {\n    this$0 = thisescape;\n    super();\n  }\n\n  public void onEvent(Event e) {\n    ThisEscape.access$000(this$0, e);\n  }\n}\n</code></pre>\n\n<p>Here the anonymous inner class created in the constructor of the outer class is converted to a package-access class that receives a reference to the outer class (the one that is allowing <code>this</code> to escape). For the inner class to have access to the attributes and methods of the outer class, a static package-access method is created in the outer class. This is <code>access$000</code>.</p>\n\n<p>Those two articles show both how the actual escaping occurs and what might happen.</p>\n\n<p>The 'what' is basically a race condition that could lead to a <code>NullPointerException</code> or any other exception when attempting to use the object while not yet fully initialized. In the example, if a thread is quick enough, it could happen that it runs the <code>doSomething()</code> method while <code>num</code> has not yet been correctly initialized to <code>42</code>. In the first link there's a test that shows exactly that.</p>\n\n<p><strong>EDIT:</strong>\nA few lines regarding how to code against this issue/feature were missing. I can only think about sticking to a (maybe incomplete) set of rules/principles to avoid this problem and others alike:</p>\n\n<ul>\n<li>Only call <code>private</code> methods from within the constructor</li>\n<li>If you like adrenaline and want to call <code>protected</code> methods from within the constructor, do it, but declare these methods as <code>final</code>, so that they cannot be overriden by subclasses</li>\n<li><strong>Never</strong> create inner classes in the constructor, either anonymous, local, static or non-static</li>\n<li>In the constructor, don't pass <code>this</code> directly as an argument to anything </li>\n<li>Avoid any transitive combination of the rules above, i.e. don't create an anonymous inner class in a <code>private</code> or <code>protected final</code> method that is invoked from within the constructor</li>\n<li>Use the constructor to just construct an instance of the class, and let it only initialize attributes of the class, either with default values or with provided arguments</li>\n</ul>\n\n<p>If you need to do further things, use either the builder or the factory pattern.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635260203,"creation_date":1635260203,"answer_id":69725430,"question_id":28676796,"body_markdown":"It is my understanding that the issue is **not** that the user can gain access to the escaped `ThisEscape` reference (it is, after all, said to be hidden).  The issue is that because of the way the classes are compiled and executed, the JVM **can** see that reference and start referencing it elsewhere before the constructor has finished building the `ThisEscape` instance. So race conditions can result.\r\n ","title":"How does `this` reference to an outer class escape through publishing inner class instance?","body":"<p>It is my understanding that the issue is <strong>not</strong> that the user can gain access to the escaped <code>ThisEscape</code> reference (it is, after all, said to be hidden).  The issue is that because of the way the classes are compiled and executed, the JVM <strong>can</strong> see that reference and start referencing it elsewhere before the constructor has finished building the <code>ThisEscape</code> instance. So race conditions can result.</p>\n"}],"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4206,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":4,"score":41,"last_activity_date":1635260203,"creation_date":1424704009,"question_id":28676796,"body_markdown":"This was asked slightly differently earlier [but asking for a yes/no answer][1] but I&#39;m looking for the explanation that&#39;s missing from the book (Java Concurrency in Practice), of how this apparent big mistake would be exploited maliciously or accidentally. \r\n\r\n&gt; A final mechanism by which an object or its internal state can be\r\n&gt; published is to publish an inner class instance, as shown in\r\n&gt; ThisEscape in Listing 3.7. When ThisEscape publishes the\r\n&gt; EventListener, it implicitly publishes the enclosing ThisEscape\r\n&gt; instance as well, because *inner class instances contain a hidden\r\n&gt; reference to the enclosing instance*.\r\n&gt; \r\n&gt; Listing 3.7. Implicitly Allowing the this Reference to Escape. Don&#39;t\r\n&gt; do this.\r\n\r\n    public class ThisEscape {\r\n        public ThisEscape(EventSource source) {\r\n            source.registerListener(\r\n                new EventListener() {\r\n                    public void onEvent(Event e) {\r\n                        doSomething(e);\r\n                    }\r\n                });\r\n        }\r\n    }\r\n\r\n&gt;3.2.1. Safe Construction Practices\r\n&gt; \r\n&gt; ThisEscape illustrates an important special case of escape—when the\r\n&gt; this references escapes during construction. When the inner\r\n&gt; EventListener instance is published, so is the enclosing ThisEscape\r\n&gt; instance. But an object is in a predictable, consistent state only\r\n&gt; after its constructor returns, so publishing an object from within its\r\n&gt; constructor can publish an incompletely constructed object. This is\r\n&gt; true even if the publication is the last statement in the constructor.\r\n&gt; If the this reference escapes during construction, the object is\r\n&gt; considered not properly constructed.[8]\r\n&gt; \r\n&gt; [8] More specifically, the this reference should not escape from the\r\n&gt; thread until after the constructor returns. The this reference can be\r\n&gt; stored somewhere by the constructor so long as it is not used by\r\n&gt; another thread until after construction. SafeListener in Listing 3.8\r\n&gt; uses this technique.\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; Do not allow the this reference to escape during construction.\r\n\r\n\r\n**How would someone code against this to get to the OuterClass before it&#39;s finished constructing? What is the `hidden inner class reference` mentioned in italics in the first paragraph?** \r\n\r\n  [1]: https://stackoverflow.com/questions/17045622/am-i-letting-the-this-reference-escape-inner-class-in-constructor-instantiat","title":"How does `this` reference to an outer class escape through publishing inner class instance?","body":"<p>This was asked slightly differently earlier <a href=\"https://stackoverflow.com/questions/17045622/am-i-letting-the-this-reference-escape-inner-class-in-constructor-instantiat\">but asking for a yes/no answer</a> but I'm looking for the explanation that's missing from the book (Java Concurrency in Practice), of how this apparent big mistake would be exploited maliciously or accidentally. </p>\n\n<blockquote>\n  <p>A final mechanism by which an object or its internal state can be\n  published is to publish an inner class instance, as shown in\n  ThisEscape in Listing 3.7. When ThisEscape publishes the\n  EventListener, it implicitly publishes the enclosing ThisEscape\n  instance as well, because <em>inner class instances contain a hidden\n  reference to the enclosing instance</em>.</p>\n  \n  <p>Listing 3.7. Implicitly Allowing the this Reference to Escape. Don't\n  do this.</p>\n</blockquote>\n\n<pre><code>public class ThisEscape {\n    public ThisEscape(EventSource source) {\n        source.registerListener(\n            new EventListener() {\n                public void onEvent(Event e) {\n                    doSomething(e);\n                }\n            });\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>3.2.1. Safe Construction Practices</p>\n  \n  <p>ThisEscape illustrates an important special case of escape—when the\n  this references escapes during construction. When the inner\n  EventListener instance is published, so is the enclosing ThisEscape\n  instance. But an object is in a predictable, consistent state only\n  after its constructor returns, so publishing an object from within its\n  constructor can publish an incompletely constructed object. This is\n  true even if the publication is the last statement in the constructor.\n  If the this reference escapes during construction, the object is\n  considered not properly constructed.[8]</p>\n  \n  <p>[8] More specifically, the this reference should not escape from the\n  thread until after the constructor returns. The this reference can be\n  stored somewhere by the constructor so long as it is not used by\n  another thread until after construction. SafeListener in Listing 3.8\n  uses this technique.</p>\n  \n  <p>Do not allow the this reference to escape during construction.</p>\n</blockquote>\n\n<p><strong>How would someone code against this to get to the OuterClass before it's finished constructing? What is the <code>hidden inner class reference</code> mentioned in italics in the first paragraph?</strong> </p>\n"},{"tags":["java","mysql","hibernate","entity-framework","hibernate-mapping"],"comments":[{"owner":{"account_id":23150613,"reputation":16,"user_id":17252691,"display_name":"Catalin Modan"},"score":0,"creation_date":1635265426,"post_id":69725354,"comment_id":123248669,"body_markdown":"I believe this question was answeared here https://stackoverflow.com/questions/15426736/how-can-i-mark-a-foreign-key-constraint-using-hibernate-annotations","body":"I believe this question was answeared here <a href=\"https://stackoverflow.com/questions/15426736/how-can-i-mark-a-foreign-key-constraint-using-hibernate-annotations\" title=\"how can i mark a foreign key constraint using hibernate annotations\">stackoverflow.com/questions/15426736/&hellip;</a>"},{"owner":{"account_id":7288310,"reputation":1599,"user_id":9726179,"display_name":"Ivo Merchiers"},"score":1,"creation_date":1635421785,"post_id":69725354,"comment_id":123296940,"body_markdown":"Does this answer your question? [How can I mark a foreign key constraint using Hibernate annotations?](https://stackoverflow.com/questions/15426736/how-can-i-mark-a-foreign-key-constraint-using-hibernate-annotations)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15426736/how-can-i-mark-a-foreign-key-constraint-using-hibernate-annotations\">How can I mark a foreign key constraint using Hibernate annotations?</a>"}],"owner":{"account_id":19610891,"reputation":183,"user_id":14353418,"display_name":"Harshit Vijayvargia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635259861,"creation_date":1635259861,"question_id":69725354,"body_markdown":"I have two tables as follows:\r\n\r\ntable1:\r\ncol1, col2, col3, col4\r\n\r\ntable2:\r\nc1, c2, c3, c4\r\n\r\nin table 1, col1 and col2 are primary keys (composite key).\r\nin table 2, c1 and c2 are foreign keys referencing the foreign key in table1.\r\n\r\nhow should I define this mapping in my hibernate pojos ?","title":"I have a composite foreign key in my table, how do i define the mapping in hibernate?","body":"<p>I have two tables as follows:</p>\n<p>table1:\ncol1, col2, col3, col4</p>\n<p>table2:\nc1, c2, c3, c4</p>\n<p>in table 1, col1 and col2 are primary keys (composite key).\nin table 2, c1 and c2 are foreign keys referencing the foreign key in table1.</p>\n<p>how should I define this mapping in my hibernate pojos ?</p>\n"},{"tags":["java","spring-boot","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635259808,"creation_date":1635259532,"answer_id":69725257,"question_id":69724850,"body_markdown":"Just drop the `public void setFrequency(Integer frequency)` method and it will work:\r\n```java\r\npublic class TestModelWithDoubleField {\r\n    private Double frequency;\r\n\r\n    public Double getFrequency(){\r\n        return frequency;\r\n    }\r\n\r\n    public void setFrequency(Double frequency){\r\n        this.frequency = frequency;\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\nSince you can&#39;t drop the `public void setFrequency(Integer frequency)` method, then you can annotate the other setter with `@JsonProperty` defining it as the setter to be used by Jackson:\r\n```java\r\npublic class TestModelWithDoubleField {\r\n    private Double frequency;\r\n\r\n    public Double getFrequency(){\r\n        return frequency;\r\n    }\r\n\r\n    @JsonProperty\r\n    public void setFrequency(Double frequency) {\r\n        this.frequency = frequency;\r\n    }\r\n\r\n    public void setFrequency(Integer frequency) {\r\n        if(frequency != null) {\r\n            setFrequency(new Double(frequency));\r\n        }\r\n    }\r\n}\r\n```","title":"Jackson ObjectMapper converts Integer value to null when mapped to Double type field in POJO","body":"<p>Just drop the <code>public void setFrequency(Integer frequency)</code> method and it will work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestModelWithDoubleField {\n    private Double frequency;\n\n    public Double getFrequency(){\n        return frequency;\n    }\n\n    public void setFrequency(Double frequency){\n        this.frequency = frequency;\n    }\n}\n</code></pre>\n<hr />\n<p>Since you can't drop the <code>public void setFrequency(Integer frequency)</code> method, then you can annotate the other setter with <code>@JsonProperty</code> defining it as the setter to be used by Jackson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestModelWithDoubleField {\n    private Double frequency;\n\n    public Double getFrequency(){\n        return frequency;\n    }\n\n    @JsonProperty\n    public void setFrequency(Double frequency) {\n        this.frequency = frequency;\n    }\n\n    public void setFrequency(Integer frequency) {\n        if(frequency != null) {\n            setFrequency(new Double(frequency));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4107488,"reputation":1052,"user_id":3371051,"display_name":"Pedro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635259542,"creation_date":1635259542,"answer_id":69725260,"question_id":69724850,"body_markdown":"Just add `@JsonProperty(&quot;frequency&quot;)` on the desired setter. You don&#39;t even need `@JsonIgnore` on the other one.\r\n\r\n    public static class TestModelWithDoubleField\r\n    {\r\n      private Double frequency;\r\n\r\n      public Double getFrequency()\r\n      {\r\n          return frequency;\r\n      }\r\n\r\n      /**\r\n       * @param frequency the frequency to set\r\n       */\r\n      @JsonProperty(&quot;frequency&quot;)\r\n      public void setFrequency(Double frequency)\r\n      {\r\n          this.frequency = frequency;\r\n      }\r\n\r\n      /**\r\n       * @param frequency the frequency to set\r\n       */\r\n      public void setFrequency(Integer frequency)\r\n      {\r\n          if(frequency != null)\r\n          {\r\n              setFrequency(new Double(frequency));\r\n          }\r\n      }\r\n    }\r\n","title":"Jackson ObjectMapper converts Integer value to null when mapped to Double type field in POJO","body":"<p>Just add <code>@JsonProperty(&quot;frequency&quot;)</code> on the desired setter. You don't even need <code>@JsonIgnore</code> on the other one.</p>\n<pre><code>public static class TestModelWithDoubleField\n{\n  private Double frequency;\n\n  public Double getFrequency()\n  {\n      return frequency;\n  }\n\n  /**\n   * @param frequency the frequency to set\n   */\n  @JsonProperty(&quot;frequency&quot;)\n  public void setFrequency(Double frequency)\n  {\n      this.frequency = frequency;\n  }\n\n  /**\n   * @param frequency the frequency to set\n   */\n  public void setFrequency(Integer frequency)\n  {\n      if(frequency != null)\n      {\n          setFrequency(new Double(frequency));\n      }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11099552,"reputation":1649,"user_id":8148637,"display_name":"KnockingHeads"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69725260,"answer_count":2,"score":0,"last_activity_date":1635259808,"creation_date":1635257977,"question_id":69724850,"body_markdown":"Please bear with me. I have gone through a lot of links but I am not able to find the solution for my case. I need help.\r\n\r\nNote: I can not change the JSON request (represented in Test as map)\r\n\r\nHere is my POJO:\r\n\r\n```java\r\npublic class TestModelWithDoubleField {\r\n    private Double frequency;\r\n\r\n    public Double getFrequency(){\r\n        return frequency;\r\n    }\r\n\r\n    /**\r\n     * @param frequency the frequency to set\r\n     */\r\n    public void setFrequency(Double frequency) {\r\n        this.frequency = frequency;\r\n    }\r\n\r\n    /**\r\n     * @param frequency the frequency to set\r\n     */\r\n    @JsonIgnore\r\n    public void setFrequency(Integer frequency) {\r\n        if(frequency != null) {\r\n            setFrequency(new Double(frequency));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is the test which is failing:\r\n\r\n```java\r\n@Test\r\npublic void testWithIntegerValueConvertToDoubleFieldInPOJO() throws IOException {\r\n    final Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n    map.put(&quot;frequency&quot;, 900);\r\n    TestModelWithDoubleField pojo = objectMapper.convertValue(map, TestModelWithDoubleField.class);\r\n    Assert.assertNotNull(pojo);\r\n    Assert.assertNotNull(pojo.getFrequency());   //-&gt; This is giving output as null. Hence fails.\r\n}\r\n```\r\n\r\nIn the line `Assert.assertNotNull(pojo.getFrequency());` frequency is null. Hence the test fails.\r\n\r\nI want that it is automatically converted to its Double type.\r\nPutting `@JsonIgnore` on the other setter also didn&#39;t work.\r\n\r\nAny approach to get a valid object out of this map is fine.","title":"Jackson ObjectMapper converts Integer value to null when mapped to Double type field in POJO","body":"<p>Please bear with me. I have gone through a lot of links but I am not able to find the solution for my case. I need help.</p>\n<p>Note: I can not change the JSON request (represented in Test as map)</p>\n<p>Here is my POJO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestModelWithDoubleField {\n    private Double frequency;\n\n    public Double getFrequency(){\n        return frequency;\n    }\n\n    /**\n     * @param frequency the frequency to set\n     */\n    public void setFrequency(Double frequency) {\n        this.frequency = frequency;\n    }\n\n    /**\n     * @param frequency the frequency to set\n     */\n    @JsonIgnore\n    public void setFrequency(Integer frequency) {\n        if(frequency != null) {\n            setFrequency(new Double(frequency));\n        }\n    }\n}\n</code></pre>\n<p>Here is the test which is failing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testWithIntegerValueConvertToDoubleFieldInPOJO() throws IOException {\n    final Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    map.put(&quot;frequency&quot;, 900);\n    TestModelWithDoubleField pojo = objectMapper.convertValue(map, TestModelWithDoubleField.class);\n    Assert.assertNotNull(pojo);\n    Assert.assertNotNull(pojo.getFrequency());   //-&gt; This is giving output as null. Hence fails.\n}\n</code></pre>\n<p>In the line <code>Assert.assertNotNull(pojo.getFrequency());</code> frequency is null. Hence the test fails.</p>\n<p>I want that it is automatically converted to its Double type.\nPutting <code>@JsonIgnore</code> on the other setter also didn't work.</p>\n<p>Any approach to get a valid object out of this map is fine.</p>\n"},{"tags":["java","spring-boot","proxy","spring-aop","strategy-pattern"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634465914,"post_id":69570106,"comment_id":123027258,"body_markdown":"Your use case is interesting and the code instructive, but difficult to reason about without having an [MCVE](https://stackoverflow.com/help/mcve), ideally on GitHub, to execute and see everything in action, because readers need to parse your code in theirs heads including reflective calls etc. BTW, why are you using a method interceptor instead of a normal Spring AOP aspect?","body":"Your use case is interesting and the code instructive, but difficult to reason about without having an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, ideally on GitHub, to execute and see everything in action, because readers need to parse your code in theirs heads including reflective calls etc. BTW, why are you using a method interceptor instead of a normal Spring AOP aspect?"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634466146,"post_id":69570106,"comment_id":123027321,"body_markdown":"I am also unsure what your problem is. You did not clearly describe it. What do you expect to happen and what happens instead? Is your problem that you annotate base class or interface methods and expect the annotations to be inherited by subclasses? Because that would not work due to being a JVM limitation, see [my explanation and native AspectJ workaround here](https://stackoverflow.com/a/42607016/1082681). To me, your approach looks complicated, over-engineered and like an instance on the [XY problem](https://meta.stackexchange.com/a/66378/309898).","body":"I am also unsure what your problem is. You did not clearly describe it. What do you expect to happen and what happens instead? Is your problem that you annotate base class or interface methods and expect the annotations to be inherited by subclasses? Because that would not work due to being a JVM limitation, see <a href=\"https://stackoverflow.com/a/42607016/1082681\">my explanation and native AspectJ workaround here</a>. To me, your approach looks complicated, over-engineered and like an instance on the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>."},{"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"score":0,"creation_date":1634549232,"post_id":69570106,"comment_id":123045430,"body_markdown":"@kriegaex It&#39;s hard to share lots of code, due to company policy. What I can do is add some tests (will follow later).\n\nThe problem is, we use now TestClass as a base class to derive strategy implementations from. But TestClass would be an empty class doing nothing. The better approach, IMO, would be to derive from an interface or abstract class.","body":"@kriegaex It&#39;s hard to share lots of code, due to company policy. What I can do is add some tests (will follow later).  The problem is, we use now TestClass as a base class to derive strategy implementations from. But TestClass would be an empty class doing nothing. The better approach, IMO, would be to derive from an interface or abstract class."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634549470,"post_id":69570106,"comment_id":123045536,"body_markdown":"Did you read the article about MCVE which I linked to? I do not need your original project, I need a minimal version of it reproducing the problem. So your excuse about sharing code and company policy is simply invalid. Condense your use case into a minimal version of it which clearly reproduces the problem. We are talking about your design pattern here, not about confidential code. Besides, you still did not explain what the actual problem is, at least not in a comprehensible way.","body":"Did you read the article about MCVE which I linked to? I do not need your original project, I need a minimal version of it reproducing the problem. So your excuse about sharing code and company policy is simply invalid. Condense your use case into a minimal version of it which clearly reproduces the problem. We are talking about your design pattern here, not about confidential code. Besides, you still did not explain what the actual problem is, at least not in a comprehensible way."},{"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"score":0,"creation_date":1634550260,"post_id":69570106,"comment_id":123045834,"body_markdown":"The description of what this code does, can be found in the comments on ProductCompanyImplSelection.\n\nThe issue is TestClass is just an empty class that does and returns nothing. But I want it to be an interface or an abstract class. Is this possible with Spring AOP / Advisors?\n\nYou can compare it with Service annotation. Where you have an service interface, but can use multiple Service implementations for it. \n\nThe issue here, at runtime Spring complains to have found multiple beans for that interface. We, with this annotation, do this selection on our own based on a security value.","body":"The description of what this code does, can be found in the comments on ProductCompanyImplSelection.  The issue is TestClass is just an empty class that does and returns nothing. But I want it to be an interface or an abstract class. Is this possible with Spring AOP / Advisors?  You can compare it with Service annotation. Where you have an service interface, but can use multiple Service implementations for it.   The issue here, at runtime Spring complains to have found multiple beans for that interface. We, with this annotation, do this selection on our own based on a security value."},{"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"score":0,"creation_date":1634555183,"post_id":69570106,"comment_id":123047743,"body_markdown":"Yes, I read it. It is not about annotation inheritence, but the annotation triggering some functionality (as stated above), hoping that when calling a method on an interface, this functionality gets executed.","body":"Yes, I read it. It is not about annotation inheritence, but the annotation triggering some functionality (as stated above), hoping that when calling a method on an interface, this functionality gets executed."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634564563,"post_id":69570106,"comment_id":123051838,"body_markdown":"An annotation never triggers anything, it just sits there, waiting to be read. So if you wish for an aspect or method interceptor to even know about a method annotation on an overridden parent method or implemented interface method (the JVM doesn&#39;t), you need to either use my native AspectJ solution with ITD in order to quasi inherit the annotation, or you use Spring&#39;s annotation utilities in order to discover the annotation dynamically. But then, the aspect or interceptor will always be executed (inefficient) and you manually have to check if the target method should be handles specially.","body":"An annotation never triggers anything, it just sits there, waiting to be read. So if you wish for an aspect or method interceptor to even know about a method annotation on an overridden parent method or implemented interface method (the JVM doesn&#39;t), you need to either use my native AspectJ solution with ITD in order to quasi inherit the annotation, or you use Spring&#39;s annotation utilities in order to discover the annotation dynamically. But then, the aspect or interceptor will always be executed (inefficient) and you manually have to check if the target method should be handles specially."},{"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"score":0,"creation_date":1634720045,"post_id":69570106,"comment_id":123098189,"body_markdown":"Hmm, yeah that&#39;s a bit what I was afraid of","body":"Hmm, yeah that&#39;s a bit what I was afraid of"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1634722899,"post_id":69570106,"comment_id":123099397,"body_markdown":"No need to be afraid. I can help you. I just need you to contribute the MCVE as a precondition, so I have something to work with. It will also be beneficial for you to extract and condense your problem into an MCVE in order to be able to play with it in isolation. This is what good programmers do in order to maximise learning and solve problems. &#128521;","body":"No need to be afraid. I can help you. I just need you to contribute the MCVE as a precondition, so I have something to work with. It will also be beneficial for you to extract and condense your problem into an MCVE in order to be able to play with it in isolation. This is what good programmers do in order to maximise learning and solve problems. 😉"},{"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"score":0,"creation_date":1634821744,"post_id":69570106,"comment_id":123133493,"body_markdown":"@kriegaex I&#39;ll try to do it this weekend. Some changes have been added, but I&#39;ll update this whole post this weekend.","body":"@kriegaex I&#39;ll try to do it this weekend. Some changes have been added, but I&#39;ll update this whole post this weekend."},{"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"score":0,"creation_date":1634917694,"post_id":69570106,"comment_id":123164420,"body_markdown":"@kriegaex provided MVCE with github repo.","body":"@kriegaex provided MVCE with github repo."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635248139,"creation_date":1635248139,"answer_id":69722361,"question_id":69570106,"body_markdown":"As discussed in [this GitHub issue](https://github.com/nvanhoeck/strategy-pattern-aop/issues/1), I created not one but **three alternative solutions** for you, pushed to distinct branches of my repository fork:\r\n  1. using two marker annotations for strategy methods and default implementation classes + a basic interface implemented by the actual strategies\r\n  2. using two marker annotations for strategy methods and default implementation classes + a base class extended by the actual strategies\r\n  3. using one marker annotation for strategy methods + a basic interface implemented by the actual strategies, matching the default implementation by class name prefix. Even though we save one marker annotation here compared to solution #1, this comes at the cost of being less efficient (more proxies, more aspect executions, dynamic cass name filtering).\r\n\r\nEach solution only uses Spring AOP, i.e. there is no need to use native AspectJ. This comes at a performance cost, but works. The GitHub issue links to the 3 branches implementing each of the solutions mentioned above.","title":"Interface-based strategy pattern with method interceptors","body":"<p>As discussed in <a href=\"https://github.com/nvanhoeck/strategy-pattern-aop/issues/1\" rel=\"nofollow noreferrer\">this GitHub issue</a>, I created not one but <strong>three alternative solutions</strong> for you, pushed to distinct branches of my repository fork:</p>\n<ol>\n<li>using two marker annotations for strategy methods and default implementation classes + a basic interface implemented by the actual strategies</li>\n<li>using two marker annotations for strategy methods and default implementation classes + a base class extended by the actual strategies</li>\n<li>using one marker annotation for strategy methods + a basic interface implemented by the actual strategies, matching the default implementation by class name prefix. Even though we save one marker annotation here compared to solution #1, this comes at the cost of being less efficient (more proxies, more aspect executions, dynamic cass name filtering).</li>\n</ol>\n<p>Each solution only uses Spring AOP, i.e. there is no need to use native AspectJ. This comes at a performance cost, but works. The GitHub issue links to the 3 branches implementing each of the solutions mentioned above.</p>\n"}],"owner":{"account_id":7507527,"reputation":75,"user_id":5703598,"display_name":"Niko"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69722361,"answer_count":1,"score":2,"last_activity_date":1635259802,"creation_date":1634211834,"question_id":69570106,"body_markdown":"We have a situation where we want to apply the strategy pattern based on method level. So we want an interface or abstract class which has methods, and based on your security role you are allowed to execute a different implementation.\r\n\r\nWe use Spring AOP annotations, to execute the functionality to determine which class/functionality should be used:\r\n\r\n**Annotation Class**\r\n\r\n        /**\r\n     * Annotation placed upon a method from a &quot;default&quot; class.\r\n     * This default class can be seen as an abstract class which returns default values.\r\n     * This default class has multiple &quot;siblings&quot; or implementations, based on the product-company in the token.\r\n     * These implementations extend the default class with all its methods and give it its own function-\r\n     * ality, similar like the strategy pattern: https://sourcemaking.com/design_patterns/strategy\r\n     *\r\n     * EG:              TestClass\r\n     *              /       |       \\\r\n     *   AIPTestClass  AIITestClass  AIFTestClass\r\n     *\r\n     * REQUIREMENTS:\r\n     * 1) Have a default class with a base name, eg: TestClass\r\n     * 2) For each possible implementation foresee an implementation, eg: AIPTestClass\r\n     * 3) Add the annotation to the default methods which should have a product-company bound implementation\r\n     * 4) Annotation should be placed in  @Component based classes (or service, controller, ...)\r\n     *\r\n     * Check ProductCompanyBoundImplSelectionInterceptor for how this is handled\r\n     */\r\n    @Inherited\r\n    @Target({METHOD})\r\n    @Retention(RUNTIME)\r\n    public @interface ProductCompanyImplSelection {\r\n    \r\n    }\r\n\r\n\r\n**Base Class to derive the standard methods from**\r\n\r\n    @Component\r\n    public class StrategyPattern {\r\n    \r\n        @ProductCompanyImplSelection\r\n        public String executeMethod(TestObject value, int primitive, String valueString) {\r\n            return null;\r\n        }\r\n    \r\n    }\r\n\r\n**Multiple &quot;Strategy Implementation&quot; Classes**\r\n\r\n    @Component\r\n    public class AIPStrategyPattern {\r\n    \r\n        public String executeMethod(TestObject value, int primitive, String valueString) {\r\n            return &quot;AIP&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n    @Component\r\n    public class AIFStrategyPattern {\r\n    \r\n        public String executeMethod(TestObject value, int primitive, String valueString) {\r\n            return &quot;AIF&quot;;\r\n        }\r\n    \r\n    }\r\n\r\n**Interceptor to define which implementation to be used**\r\n\r\n@Aspect\r\n@Slf4j\r\npublic class ProductCompanyBoundImplSelectionInterceptor implements MethodInterceptor {\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    public ProductCompanyBoundImplSelectionInterceptor(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n    @Override\r\n    public Object invoke(MethodInvocation methodInvocation) throws Throwable {\r\n        String productCompany = getDivision();\r\n\r\n        //Class invocation\r\n        Object executionClass = methodInvocation.getThis();\r\n        Object productCompanySpecificInstance;\r\n        Class&lt;?&gt; productCompanySpecificClass;\r\n        try {\r\n            productCompanySpecificInstance = applicationContext.getBean(\r\n                    productCompany + executionClass.getClass().getSimpleName());\r\n            productCompanySpecificClass = productCompanySpecificInstance.getClass();\r\n        } catch (Exception e) {\r\n            throw new ProductCompanySelectionClassMissingException(\r\n                    &quot;No class implementation found for class &quot; + executionClass.getClass()\r\n                            .getSimpleName() + &quot; and productcompany &quot; + productCompany);\r\n        }\r\n        //method invocation\r\n        String methodName = methodInvocation.getMethod().getName();\r\n        Class&lt;?&gt;[] paramClasses =\r\n                new Class&lt;?&gt;[methodInvocation.getMethod().getParameterTypes().length];\r\n        for (int paramIndex = 0; paramIndex &lt; methodInvocation.getMethod()\r\n                .getParameterTypes().length; paramIndex++) {\r\n            Class&lt;?&gt; parameterType = methodInvocation.getMethod().getParameterTypes()[paramIndex];\r\n            if (parameterType.isPrimitive()) {\r\n                paramClasses[paramIndex] = parameterType;\r\n            } else {\r\n                Class&lt;?&gt; paramClass = Class.forName(parameterType.getName());\r\n                paramClasses[paramIndex] = paramClass;\r\n            }\r\n        }\r\n        Method productCompanySpecificMethod =\r\n                productCompanySpecificClass.getMethod(methodName, paramClasses);\r\n        return productCompanySpecificMethod.invoke(productCompanySpecificInstance,\r\n                methodInvocation.getArguments());\r\n\r\n    }\r\n\r\n    private String getDivision() {\r\n        UsernamePasswordAuthenticationToken authentication =\r\n                (UsernamePasswordAuthenticationToken) SecurityContextHolder.getContext()\r\n                        .getAuthentication();\r\n        AuthenticationDetails details = (AuthenticationDetails) authentication.getDetails();\r\n\r\n        String getDivision = details.getDivision();\r\n        return getDivision;\r\n    }\r\n}\r\n\r\n**Config**\r\n\r\n    @Configuration\r\n    @EnableAspectJAutoProxy\r\n    @ComponentScan(&quot;com.stackoverflowmvce.strategypatternaop.*&quot;)\r\n    public class SpringSecurityAOPConfig {\r\n    \r\n        @Bean\r\n        public Advisor productCompanyBoundImplSelectionAdvisor(ApplicationContext applicationContext) {\r\n            AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\r\n            pointcut.setExpression(\r\n                    &quot;@annotation(com.stackoverflowmvce.strategypatternaop.annotations.ProductCompanyImplSelection)&quot;);\r\n            DefaultPointcutAdvisor pointcutAdvisor =\r\n                    new DefaultPointcutAdvisor(pointcut, new ProductCompanyBoundImplSelectionInterceptor(\r\n                            applicationContext));\r\n            return pointcutAdvisor;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**Test Classes**\r\n@SpringBootTest\r\nclass StrategyPatternAopApplicationTests {\r\n\r\n    @Autowired\r\n    private StrategyPattern baseStrategyPattern;\r\n\r\n    @Test\r\n    void whenDivisionAIP_returnAIPResult() {\r\n        this.assertDivisionStategyIsOk(&quot;AIP&quot;);\r\n    }\r\n\r\n    @Test\r\n    void whenDivisionAIF_returnAIFResult() {\r\n        this.assertDivisionStategyIsOk(&quot;AIF&quot;);\r\n    }\r\n\r\n    @Test\r\n    void whenDivisionAII_notFound_returnException() {\r\n        Assertions.assertThrows(ProductCompanySelectionClassMissingException.class, () -&gt; {\r\n            this.assertDivisionStategyIsOk(&quot;AII&quot;);\r\n        });\r\n\r\n    }\r\n\r\n    private void assertDivisionStategyIsOk(String division) {\r\n        this.setupSecurityContext(division);\r\n        String strategyResult =\r\n                this.baseStrategyPattern.executeMethod(new TestObject(&quot;test&quot;), 0, &quot;TEST&quot;);\r\n        assertThat(division).isEqualTo(strategyResult);\r\n\r\n    }\r\n\r\n    private void setupSecurityContext(String division) {\r\n        SecurityContext context = SecurityContextHolder.getContext();\r\n        UsernamePasswordAuthenticationToken authentication =\r\n                new UsernamePasswordAuthenticationToken(&quot;oid&quot;, null);\r\n        AuthenticationDetails authenticationDetails = new AuthenticationDetails(division);\r\n        authentication.setDetails(authenticationDetails);\r\n        context.setAuthentication(authentication);\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n    }\r\n\r\n}\r\n\r\n\r\nSo what do we want: to replace StrategyPattern class with an Interface or Abstract Class. Now we use a default class which does nothing, which is ugly. \r\n\r\nSo any suggestions how we do this, because the annotations only work with methods which should be executed.\r\n\r\n**EDIT 22/10/2021**\r\n\r\nChanged code to work with Spring @Component auto-detection and ApplicationContext\r\n\r\nFor an MVCE, as suggested by kriegaex, clone following github repo:\r\nhttps://github.com/nvanhoeck/strategy-pattern-aop.git\r\n\r\nThe tests are successful, what we want is that StrategyPattern class becomes an interface and still make this work.","title":"Interface-based strategy pattern with method interceptors","body":"<p>We have a situation where we want to apply the strategy pattern based on method level. So we want an interface or abstract class which has methods, and based on your security role you are allowed to execute a different implementation.</p>\n<p>We use Spring AOP annotations, to execute the functionality to determine which class/functionality should be used:</p>\n<p><strong>Annotation Class</strong></p>\n<pre><code>    /**\n * Annotation placed upon a method from a &quot;default&quot; class.\n * This default class can be seen as an abstract class which returns default values.\n * This default class has multiple &quot;siblings&quot; or implementations, based on the product-company in the token.\n * These implementations extend the default class with all its methods and give it its own function-\n * ality, similar like the strategy pattern: https://sourcemaking.com/design_patterns/strategy\n *\n * EG:              TestClass\n *              /       |       \\\n *   AIPTestClass  AIITestClass  AIFTestClass\n *\n * REQUIREMENTS:\n * 1) Have a default class with a base name, eg: TestClass\n * 2) For each possible implementation foresee an implementation, eg: AIPTestClass\n * 3) Add the annotation to the default methods which should have a product-company bound implementation\n * 4) Annotation should be placed in  @Component based classes (or service, controller, ...)\n *\n * Check ProductCompanyBoundImplSelectionInterceptor for how this is handled\n */\n@Inherited\n@Target({METHOD})\n@Retention(RUNTIME)\npublic @interface ProductCompanyImplSelection {\n\n}\n</code></pre>\n<p><strong>Base Class to derive the standard methods from</strong></p>\n<pre><code>@Component\npublic class StrategyPattern {\n\n    @ProductCompanyImplSelection\n    public String executeMethod(TestObject value, int primitive, String valueString) {\n        return null;\n    }\n\n}\n</code></pre>\n<p><strong>Multiple &quot;Strategy Implementation&quot; Classes</strong></p>\n<pre><code>@Component\npublic class AIPStrategyPattern {\n\n    public String executeMethod(TestObject value, int primitive, String valueString) {\n        return &quot;AIP&quot;;\n    }\n\n}\n\n@Component\npublic class AIFStrategyPattern {\n\n    public String executeMethod(TestObject value, int primitive, String valueString) {\n        return &quot;AIF&quot;;\n    }\n\n}\n</code></pre>\n<p><strong>Interceptor to define which implementation to be used</strong></p>\n<p>@Aspect\n@Slf4j\npublic class ProductCompanyBoundImplSelectionInterceptor implements MethodInterceptor {</p>\n<pre><code>private final ApplicationContext applicationContext;\n\npublic ProductCompanyBoundImplSelectionInterceptor(ApplicationContext applicationContext) {\n    this.applicationContext = applicationContext;\n}\n\n@Override\npublic Object invoke(MethodInvocation methodInvocation) throws Throwable {\n    String productCompany = getDivision();\n\n    //Class invocation\n    Object executionClass = methodInvocation.getThis();\n    Object productCompanySpecificInstance;\n    Class&lt;?&gt; productCompanySpecificClass;\n    try {\n        productCompanySpecificInstance = applicationContext.getBean(\n                productCompany + executionClass.getClass().getSimpleName());\n        productCompanySpecificClass = productCompanySpecificInstance.getClass();\n    } catch (Exception e) {\n        throw new ProductCompanySelectionClassMissingException(\n                &quot;No class implementation found for class &quot; + executionClass.getClass()\n                        .getSimpleName() + &quot; and productcompany &quot; + productCompany);\n    }\n    //method invocation\n    String methodName = methodInvocation.getMethod().getName();\n    Class&lt;?&gt;[] paramClasses =\n            new Class&lt;?&gt;[methodInvocation.getMethod().getParameterTypes().length];\n    for (int paramIndex = 0; paramIndex &lt; methodInvocation.getMethod()\n            .getParameterTypes().length; paramIndex++) {\n        Class&lt;?&gt; parameterType = methodInvocation.getMethod().getParameterTypes()[paramIndex];\n        if (parameterType.isPrimitive()) {\n            paramClasses[paramIndex] = parameterType;\n        } else {\n            Class&lt;?&gt; paramClass = Class.forName(parameterType.getName());\n            paramClasses[paramIndex] = paramClass;\n        }\n    }\n    Method productCompanySpecificMethod =\n            productCompanySpecificClass.getMethod(methodName, paramClasses);\n    return productCompanySpecificMethod.invoke(productCompanySpecificInstance,\n            methodInvocation.getArguments());\n\n}\n\nprivate String getDivision() {\n    UsernamePasswordAuthenticationToken authentication =\n            (UsernamePasswordAuthenticationToken) SecurityContextHolder.getContext()\n                    .getAuthentication();\n    AuthenticationDetails details = (AuthenticationDetails) authentication.getDetails();\n\n    String getDivision = details.getDivision();\n    return getDivision;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Config</strong></p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\n@ComponentScan(&quot;com.stackoverflowmvce.strategypatternaop.*&quot;)\npublic class SpringSecurityAOPConfig {\n\n    @Bean\n    public Advisor productCompanyBoundImplSelectionAdvisor(ApplicationContext applicationContext) {\n        AspectJExpressionPointcut pointcut = new AspectJExpressionPointcut();\n        pointcut.setExpression(\n                &quot;@annotation(com.stackoverflowmvce.strategypatternaop.annotations.ProductCompanyImplSelection)&quot;);\n        DefaultPointcutAdvisor pointcutAdvisor =\n                new DefaultPointcutAdvisor(pointcut, new ProductCompanyBoundImplSelectionInterceptor(\n                        applicationContext));\n        return pointcutAdvisor;\n    }\n\n}\n</code></pre>\n<p><strong>Test Classes</strong>\n@SpringBootTest\nclass StrategyPatternAopApplicationTests {</p>\n<pre><code>@Autowired\nprivate StrategyPattern baseStrategyPattern;\n\n@Test\nvoid whenDivisionAIP_returnAIPResult() {\n    this.assertDivisionStategyIsOk(&quot;AIP&quot;);\n}\n\n@Test\nvoid whenDivisionAIF_returnAIFResult() {\n    this.assertDivisionStategyIsOk(&quot;AIF&quot;);\n}\n\n@Test\nvoid whenDivisionAII_notFound_returnException() {\n    Assertions.assertThrows(ProductCompanySelectionClassMissingException.class, () -&gt; {\n        this.assertDivisionStategyIsOk(&quot;AII&quot;);\n    });\n\n}\n\nprivate void assertDivisionStategyIsOk(String division) {\n    this.setupSecurityContext(division);\n    String strategyResult =\n            this.baseStrategyPattern.executeMethod(new TestObject(&quot;test&quot;), 0, &quot;TEST&quot;);\n    assertThat(division).isEqualTo(strategyResult);\n\n}\n\nprivate void setupSecurityContext(String division) {\n    SecurityContext context = SecurityContextHolder.getContext();\n    UsernamePasswordAuthenticationToken authentication =\n            new UsernamePasswordAuthenticationToken(&quot;oid&quot;, null);\n    AuthenticationDetails authenticationDetails = new AuthenticationDetails(division);\n    authentication.setDetails(authenticationDetails);\n    context.setAuthentication(authentication);\n    SecurityContextHolder.getContext().setAuthentication(authentication);\n}\n</code></pre>\n<p>}</p>\n<p>So what do we want: to replace StrategyPattern class with an Interface or Abstract Class. Now we use a default class which does nothing, which is ugly.</p>\n<p>So any suggestions how we do this, because the annotations only work with methods which should be executed.</p>\n<p><strong>EDIT 22/10/2021</strong></p>\n<p>Changed code to work with Spring @Component auto-detection and ApplicationContext</p>\n<p>For an MVCE, as suggested by kriegaex, clone following github repo:\n<a href=\"https://github.com/nvanhoeck/strategy-pattern-aop.git\" rel=\"nofollow noreferrer\">https://github.com/nvanhoeck/strategy-pattern-aop.git</a></p>\n<p>The tests are successful, what we want is that StrategyPattern class becomes an interface and still make this work.</p>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1635260778,"post_id":69725336,"comment_id":123246612,"body_markdown":"Please don&#39;t post screenshots of your code, or other textual content. Instead post the actual text, and use the formatting tools of Stack Overflow to mark it up.","body":"Please don&#39;t post screenshots of your code, or other textual content. Instead post the actual text, and use the formatting tools of Stack Overflow to mark it up."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635315798,"post_id":69725336,"comment_id":123261062,"body_markdown":"What&#39;s the problem with the highlighted code?","body":"What&#39;s the problem with the highlighted code?"}],"owner":{"account_id":23150271,"reputation":11,"user_id":17252393,"display_name":"Akeel LOL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1635259794,"creation_date":1635259794,"question_id":69725336,"body_markdown":"Data not storing in firebase database. getting this error on android studio run:\r\nW/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\r\nW/GooglePlayServicesUtil: Google Play Store is missing. \r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tx6IS.png","title":"Google Play Store is missing FIREBASE Error not storing data in database","body":"<p>Data not storing in firebase database. getting this error on android studio run:\nW/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\nW/GooglePlayServicesUtil: Google Play Store is missing.</p>\n<p><a href=\"https://i.stack.imgur.com/Tx6IS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":3,"creation_date":1635252652,"post_id":69723360,"comment_id":123242515,"body_markdown":"Please share your `pom.xml`","body":"Please share your <code>pom.xml</code>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635255591,"post_id":69723360,"comment_id":123243965,"body_markdown":"Please check plain command line ...also check if there are some warning during the build...because it could be a network/proxy/firewall issue?","body":"Please check plain command line ...also check if there are some warning during the build...because it could be a network/proxy/firewall issue?"}],"answers":[{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635252604,"creation_date":1635252604,"answer_id":69723439,"question_id":69723360,"body_markdown":"Declarations in [`&lt;dependencyManagement&gt;`](https://maven.apache.org/pom.html#Dependency_Management) do nothing but being a template for the configuration once a dependency is used in `&lt;dependencies&gt;` later on.","title":"The POM is missing, no dependency information available","body":"<p>Declarations in <a href=\"https://maven.apache.org/pom.html#Dependency_Management\" rel=\"nofollow noreferrer\"><code>&lt;dependencyManagement&gt;</code></a> do nothing but being a template for the configuration once a dependency is used in <code>&lt;dependencies&gt;</code> later on.</p>\n"}],"owner":{"account_id":5434943,"reputation":187,"user_id":4324702,"accept_rate":40,"display_name":"surm"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635259656,"creation_date":1635252308,"question_id":69723360,"body_markdown":"Parent pom has dependencyManagement for spring-boot-dependencies version 2.5.4. Still I get this warning for child pom mvn build:  \r\n\r\n&gt; The POM for org.springframework.boot:spring-boot-starter-quartz:jar:2.5.4 is missing, no dependency information available\r\n","title":"The POM is missing, no dependency information available","body":"<p>Parent pom has dependencyManagement for spring-boot-dependencies version 2.5.4. Still I get this warning for child pom mvn build:</p>\n<blockquote>\n<p>The POM for org.springframework.boot:spring-boot-starter-quartz:jar:2.5.4 is missing, no dependency information available</p>\n</blockquote>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":1539681,"reputation":15923,"user_id":1434631,"display_name":"Nermeen"},"down_vote_count":2,"up_vote_count":10,"is_accepted":true,"score":8,"last_activity_date":1354261275,"creation_date":1354261275,"answer_id":13640921,"question_id":13640891,"body_markdown":"override the `onBackPressed` in your login activity, to do nothing..\r\n\r\n    public void onBackPressed() {\r\n        //do nothing\r\n    }","title":"Prevent back button after logout in android","body":"<p>override the <code>onBackPressed</code> in your login activity, to do nothing..</p>\n\n<pre><code>public void onBackPressed() {\n    //do nothing\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":526476,"reputation":27861,"user_id":1790644,"accept_rate":80,"display_name":"Matt Clark"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1354261621,"creation_date":1354261621,"answer_id":13640978,"question_id":13640891,"body_markdown":"    public void onBackPressed(){\r\n        if(appCanClose){\r\n            finish();\r\n        }\r\n    }\r\n\r\nThese functions can exist in both the system framework (used if not in your code), as well as in your code. If you leave it empty, the app will do nothing when the back button gets pressed.\r\n\r\nIn this example, when the boolean value appCanClse is true, the back button will quit the app, if false, the back button wil do nothing. I would make sure the user still has someway to quit the app. :p","title":"Prevent back button after logout in android","body":"<pre><code>public void onBackPressed(){\n    if(appCanClose){\n        finish();\n    }\n}\n</code></pre>\n\n<p>These functions can exist in both the system framework (used if not in your code), as well as in your code. If you leave it empty, the app will do nothing when the back button gets pressed.</p>\n\n<p>In this example, when the boolean value appCanClse is true, the back button will quit the app, if false, the back button wil do nothing. I would make sure the user still has someway to quit the app. :p</p>\n"},{"tags":[],"owner":{"account_id":3676115,"reputation":924,"user_id":3062183,"display_name":"Dean Gurvitz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595684692,"creation_date":1546177068,"answer_id":53978066,"question_id":13640891,"body_markdown":"It seems to me that there are simpler and cleaner solutions than overriding onBackPressed method, as mentioned [here](https://stackoverflow.com/questions/5794506/android-clear-the-back-stack) and [here](https://stackoverflow.com/questions/3007998/on-logout-clear-activity-history-stack-preventing-back-button-from-opening-l/14697271#14697271). \r\n\r\nYou can provide flags when launching a new activity (on login or logout) to simply clear the &quot;back-stack&quot; rather than override the behavior for the back-button:\r\n\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n    startActivity(intent);\r\n\r\nThis is a safer solution that can also be used after you log-in and not just after you log-out.","title":"Prevent back button after logout in android","body":"<p>It seems to me that there are simpler and cleaner solutions than overriding onBackPressed method, as mentioned <a href=\"https://stackoverflow.com/questions/5794506/android-clear-the-back-stack\">here</a> and <a href=\"https://stackoverflow.com/questions/3007998/on-logout-clear-activity-history-stack-preventing-back-button-from-opening-l/14697271#14697271\">here</a>.</p>\n<p>You can provide flags when launching a new activity (on login or logout) to simply clear the &quot;back-stack&quot; rather than override the behavior for the back-button:</p>\n<pre><code>intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\nstartActivity(intent);\n</code></pre>\n<p>This is a safer solution that can also be used after you log-in and not just after you log-out.</p>\n"},{"tags":[],"owner":{"account_id":15559838,"reputation":553,"user_id":11225221,"display_name":"MrinmoyMk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606509883,"creation_date":1606509883,"answer_id":65043673,"question_id":13640891,"body_markdown":"You can do it by just adding this two line of codes\r\n\r\n\r\n    @Override\r\n    public void onBackPressed(){\r\n        \r\n        moveTaskToBack(true);\r\n\r\n    }\r\n\r\nIt will prevent going back to previous activity as well as take the app to background when anyone hits back button","title":"Prevent back button after logout in android","body":"<p>You can do it by just adding this two line of codes</p>\n<pre><code>@Override\npublic void onBackPressed(){\n    \n    moveTaskToBack(true);\n\n}\n</code></pre>\n<p>It will prevent going back to previous activity as well as take the app to background when anyone hits back button</p>\n"},{"tags":[],"owner":{"account_id":11424899,"reputation":1175,"user_id":8375325,"display_name":"Athira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635259542,"creation_date":1635259542,"answer_id":69725261,"question_id":13640891,"body_markdown":"The actual solution is\r\n\r\n    @Override\r\n        public void onBackPressed() {\r\n            super.onBackPressed();\r\n            finishAffinity();\r\n        }\r\n\r\nadd this code in Login Activity. App closes when back button clicked in login page.","title":"Prevent back button after logout in android","body":"<p>The actual solution is</p>\n<pre><code>@Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        finishAffinity();\n    }\n</code></pre>\n<p>add this code in Login Activity. App closes when back button clicked in login page.</p>\n"}],"owner":{"account_id":1152192,"reputation":2654,"user_id":1133655,"accept_rate":73,"display_name":"Smily"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9738,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":13640921,"answer_count":5,"score":5,"last_activity_date":1635259542,"creation_date":1354261145,"question_id":13640891,"body_markdown":"After logout the user is directed to login screen in android. Now, if user clicks on back button of phone it should stay on login screen itself. \r\n\r\nHow can I make it possible in android? &lt;br/&gt;\r\n**I have used following code in my application but it will close my application.** It should stay on the login screen only \r\n\r\n \r\n\r\n    Intent objsignOut = new Intent(getBaseContext(),Hello.class);\r\n    objsignOut.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    startActivity(objsignOut);\r\n\r\nPlease guide me the correct way.","title":"Prevent back button after logout in android","body":"<p>After logout the user is directed to login screen in android. Now, if user clicks on back button of phone it should stay on login screen itself. </p>\n\n<p>How can I make it possible in android? <br/>\n<strong>I have used following code in my application but it will close my application.</strong> It should stay on the login screen only </p>\n\n<pre><code>Intent objsignOut = new Intent(getBaseContext(),Hello.class);\nobjsignOut.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(objsignOut);\n</code></pre>\n\n<p>Please guide me the correct way.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635259503,"creation_date":1635259503,"answer_id":69725249,"question_id":69724799,"body_markdown":"First of all, there is no such thing like &quot;enum with int parameter&quot;. Enum is like any other class: it could have one property, multiple properties or no properties at all. And none of them is considered its main or first parameter.\r\n\r\nBecause of that, we really need to define an interface for acquiring this int value your are interested in, for example:\r\n\r\n```kotlin\r\ninterface MyInterface {\r\n    val myInt: Int\r\n}\r\n\r\nenum class Animal(val maxAge: Int) : MyInterface {\r\n    CAT(15), BIRD(8), HAMSTER(4);\r\n\r\n    override val myInt get() = maxAge\r\n}\r\n```\r\nThen we can use it in `toEnumList()` function. I don&#39;t know your filtering logic, so I just search for an item with the specific int value:\r\n\r\n```kotlin\r\ninline fun &lt;reified E&gt; Int.toEnumList(): List&lt;E&gt; where E : Enum&lt;E&gt;, E: MyInterface =\r\n    enumValues&lt;E&gt;()\r\n        .filter { it.myInt == this@toEnumList }\r\n\r\nfun main() {\r\n    println(8.toEnumList&lt;Animal&gt;()) // [BIRD]\r\n}\r\n```\r\nAlso, this is only my personal opinion, but I&#39;m not sure such extension on `Int` is a good idea. It will clutter code completion feature whenever you do something with integers. And it does not really seem like a feature related to integers, but to enums.","title":"How create generic-extensions function in Kotlin, which parameter is specific enum?","body":"<p>First of all, there is no such thing like &quot;enum with int parameter&quot;. Enum is like any other class: it could have one property, multiple properties or no properties at all. And none of them is considered its main or first parameter.</p>\n<p>Because of that, we really need to define an interface for acquiring this int value your are interested in, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface MyInterface {\n    val myInt: Int\n}\n\nenum class Animal(val maxAge: Int) : MyInterface {\n    CAT(15), BIRD(8), HAMSTER(4);\n\n    override val myInt get() = maxAge\n}\n</code></pre>\n<p>Then we can use it in <code>toEnumList()</code> function. I don't know your filtering logic, so I just search for an item with the specific int value:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>inline fun &lt;reified E&gt; Int.toEnumList(): List&lt;E&gt; where E : Enum&lt;E&gt;, E: MyInterface =\n    enumValues&lt;E&gt;()\n        .filter { it.myInt == this@toEnumList }\n\nfun main() {\n    println(8.toEnumList&lt;Animal&gt;()) // [BIRD]\n}\n</code></pre>\n<p>Also, this is only my personal opinion, but I'm not sure such extension on <code>Int</code> is a good idea. It will clutter code completion feature whenever you do something with integers. And it does not really seem like a feature related to integers, but to enums.</p>\n"}],"owner":{"account_id":23149862,"reputation":11,"user_id":17252047,"display_name":"alandyalbeardness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635259503,"creation_date":1635257827,"question_id":69724799,"body_markdown":"I need to create generic-extension-function from Int to List&lt;E&gt;, where E is some Enum with one Int parameter\r\n\r\nExample, how I imagine it :\r\n\r\n    fun &lt;E: Enum&lt;Int&gt;&gt; Int.toEnumList(): List&lt;E&gt; =\r\n        E.values()\r\n         .filter { /* some logic */ }\r\n         .toList\r\n\r\nand I want a same result-syntax :\r\n\r\n    enum class Animal(val maxAge: Int) {\r\n        CAT(15), BIRD(8), HAMSTER(4)\r\n    }\r\n\r\n    val filteredAnimals = 8.toEnumList()\r\n    // &gt;&gt; [BIRD, HAMSTER]\r\n\r\nHow can I do something like that?","title":"How create generic-extensions function in Kotlin, which parameter is specific enum?","body":"<p>I need to create generic-extension-function from Int to List, where E is some Enum with one Int parameter</p>\n<p>Example, how I imagine it :</p>\n<pre><code>fun &lt;E: Enum&lt;Int&gt;&gt; Int.toEnumList(): List&lt;E&gt; =\n    E.values()\n     .filter { /* some logic */ }\n     .toList\n</code></pre>\n<p>and I want a same result-syntax :</p>\n<pre><code>enum class Animal(val maxAge: Int) {\n    CAT(15), BIRD(8), HAMSTER(4)\n}\n\nval filteredAnimals = 8.toEnumList()\n// &gt;&gt; [BIRD, HAMSTER]\n</code></pre>\n<p>How can I do something like that?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1635212827,"post_id":69716552,"comment_id":123230328,"body_markdown":"Don&#39;t use a for loop.  Use `System.arraycopy` [docs here](https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#arraycopy-java.lang.Object-int-java.lang.Object-int-int-).  This is what it&#39;s for.","body":"Don&#39;t use a for loop.  Use <code>System.arraycopy</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html#arraycopy-java.lang.Object-int-java.lang.Object-int-int-\" rel=\"nofollow noreferrer\">docs here</a>.  This is what it&#39;s for."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635213313,"creation_date":1635213313,"answer_id":69716610,"question_id":69716552,"body_markdown":"arrays are extremely low-level constructs that do not have methods that do this for you. `ArrayList` does which should be used for such a job.\r\n\r\nIf, as purely an academic exercise which should never make it to production, you are intrigued as to how the authors of ArrayList make such a thing:\r\n\r\nBy.. just.. doing it.\r\n\r\nBreak down the steps and perform them all.\r\n\r\n```\r\nStarting state: [5, 7, 8, 9, 10]\r\n Desired state: [5, 6, 7, 8, 9 ]\r\n```\r\n\r\nIn other words, We need to copy 7/8/9 into new positions to make room. Once that is done, we can write the 6.\r\n\r\n```\r\nint[] in = {5, 7, 8, 9, 10};\r\n// Copy starting from index 1 (second number)\r\n// Copy into the same array, at index 2.\r\n// ... and copy 3 numbers.\r\nSystem.arraycopy(in, 1, in, 2, 3);\r\nSystem.out.println(Arrays.toString(in));\r\n// Prints: [5, 7, 7, 8, 9].\r\nin[1] = 6;\r\nSystem.out.println(Arrays.toString(in));\r\n// Prints: [5, 6, 7, 8, 9].\r\n```\r\n","title":"Inserting an Element into an array while moving items to the right","body":"<p>arrays are extremely low-level constructs that do not have methods that do this for you. <code>ArrayList</code> does which should be used for such a job.</p>\n<p>If, as purely an academic exercise which should never make it to production, you are intrigued as to how the authors of ArrayList make such a thing:</p>\n<p>By.. just.. doing it.</p>\n<p>Break down the steps and perform them all.</p>\n<pre><code>Starting state: [5, 7, 8, 9, 10]\n Desired state: [5, 6, 7, 8, 9 ]\n</code></pre>\n<p>In other words, We need to copy 7/8/9 into new positions to make room. Once that is done, we can write the 6.</p>\n<pre><code>int[] in = {5, 7, 8, 9, 10};\n// Copy starting from index 1 (second number)\n// Copy into the same array, at index 2.\n// ... and copy 3 numbers.\nSystem.arraycopy(in, 1, in, 2, 3);\nSystem.out.println(Arrays.toString(in));\n// Prints: [5, 7, 7, 8, 9].\nin[1] = 6;\nSystem.out.println(Arrays.toString(in));\n// Prints: [5, 6, 7, 8, 9].\n</code></pre>\n"}],"owner":{"account_id":21737423,"reputation":35,"user_id":16045224,"display_name":"Braum Holdren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635259300,"creation_date":1635212672,"question_id":69716552,"body_markdown":"So let&#39;s say I have an array: `{5, 7, 8, 9, 10}`. However, I want to insert an element so that the array becomes `{5, 6, 7, 8, 9}` inserting `6` between `5` and `7`, moving `10` out and shifting `9` to the right.\r\n\r\nHow do I use arrays and for loops to solve this problem?","title":"Inserting an Element into an array while moving items to the right","body":"<p>So let's say I have an array: <code>{5, 7, 8, 9, 10}</code>. However, I want to insert an element so that the array becomes <code>{5, 6, 7, 8, 9}</code> inserting <code>6</code> between <code>5</code> and <code>7</code>, moving <code>10</code> out and shifting <code>9</code> to the right.</p>\n<p>How do I use arrays and for loops to solve this problem?</p>\n"},{"tags":["java","multithreading","cpu-usage","thread-dump","disruptor-pattern"],"comments":[{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1401854572,"post_id":24028755,"comment_id":37040815,"body_markdown":"I&#39;m not sure how helpful a single thread dump will be... Perhaps a profiler would work better?","body":"I&#39;m not sure how helpful a single thread dump will be... Perhaps a profiler would work better?"},{"owner":{"account_id":445632,"reputation":2194,"user_id":838204,"accept_rate":62,"display_name":"macemers"},"score":0,"creation_date":1401858875,"post_id":24028755,"comment_id":37042016,"body_markdown":"Which profiler do you suggest?","body":"Which profiler do you suggest?"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1401859250,"post_id":24028755,"comment_id":37042147,"body_markdown":"I&#39;m only familiar with [VisualVM](http://visualvm.java.net/), but it seems to do everything I need it to do. There should be a built-in version for your JDK as the command-line tool `jvisualvm` if you don&#39;t want to download a separate application. The two are really more or less the same thing though.","body":"I&#39;m only familiar with <a href=\"http://visualvm.java.net/\" rel=\"nofollow noreferrer\">VisualVM</a>, but it seems to do everything I need it to do. There should be a built-in version for your JDK as the command-line tool <code>jvisualvm</code> if you don&#39;t want to download a separate application. The two are really more or less the same thing though."},{"owner":{"account_id":445632,"reputation":2194,"user_id":838204,"accept_rate":62,"display_name":"macemers"},"score":0,"creation_date":1401866238,"post_id":24028755,"comment_id":37045133,"body_markdown":"jvisualvm could run in linux command line environment?","body":"jvisualvm could run in linux command line environment?"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1401866326,"post_id":24028755,"comment_id":37045175,"body_markdown":"It should be bundled with the JDK from Java 6 (I think?) and up. Fire up your command line and give it a try (unless you&#39;re talking about a no-GUI command line environment, in which case I don&#39;t think it&#39;ll work)","body":"It should be bundled with the JDK from Java 6 (I think?) and up. Fire up your command line and give it a try (unless you&#39;re talking about a no-GUI command line environment, in which case I don&#39;t think it&#39;ll work)"}],"answers":[{"tags":[],"owner":{"account_id":4560141,"reputation":874,"user_id":3702728,"accept_rate":75,"display_name":"succcubbus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401858926,"creation_date":1401858926,"answer_id":24029528,"question_id":24028755,"body_markdown":"You should have a look at a java profiler. For example VisualVM, which will analyze your CPU and RAM use in real time.","title":"How to analyze thread dumps in Java to minimize high CPU usage","body":"<p>You should have a look at a java profiler. For example VisualVM, which will analyze your CPU and RAM use in real time.</p>\n"},{"tags":[],"owner":{"account_id":2663268,"reputation":6692,"user_id":2302434,"display_name":"Shailesh Aswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422956978,"creation_date":1401860677,"answer_id":24029888,"question_id":24028755,"body_markdown":"&lt;p&gt;High CPU utilization is ok if there is actually some work in progress. i.e. if there are many live threads performing, the net CPU usage for java application will always be at its peak. It is usually instantaneous, i.e. should get normal again when there are no tasks.\r\n&lt;/p&gt;\r\nI would suggest to: &lt;br/&gt;\r\n\r\n&gt;  1. Take multiple thread dumps (3-4) after a fix interval (1-2 seconds) \r\n&gt;      (can use kill command on\r\n&gt;     linux, jstack , jvisualvm, jconsole on all systems with jdk)  \r\n\r\n&gt;  2. execute `ps -mo pid,lwp,stime,time,%cpu,%mem -C java | less` . This will list the lightweight processes under the java application&#39;s process id.&lt;br/&gt;\r\n\r\n&gt;  3. Get the process ids of the processes `LWP` with highest cpu/memory % (as targeted)\r\n\r\n&gt;  4. convert the lwp ids in to hexadecimal values, can use `echo &quot;obase=16; 255&quot; | bc`&lt;br/&gt;\r\n\r\n&gt;  5. Map these hex ids as `nid=&#39;some_hex_vlaue&#39;` in the thread dump to find the details of thread corresponding to high cpu usage.&lt;br&gt;\r\n**e.g**: &quot;main&quot; prio=10 tid=0x00007f54a4006800 `nid=0x79ab` runnable [0x00007f54a8340000]\r\n&gt; \r\n&gt; Now we know the thread/s within the java process with highest\r\n&gt; resource(can be used for both memory/cpu%) usage.\r\n\r\n\r\nI would also recommend to attach your jvm process to `jvisualvm` or `jconsole` and reproduce the problem, this way you can monitor your application’s state at all the time (from normal to issue reproduction) and take snapshots for reference.\r\nBoth are good enough to perform any java threads or memory related profiling.   \r\nhttp://docs.oracle.com/javase/7/docs/technotes/guides/visualvm/   &lt;br/&gt;\r\nhttp://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html\r\n\r\nAnalyzing thread dumps can only point to the problem areas. At times its tricky, usually with high impact, but the cause and fix will be small. \r\nActual cause would usually  be either the way application is coded. i.e. How concurrency is managed. If a process is listening infinitely instead of waiting for notification, deadlocks due to synchronization issues etc or the system environment/external interfaces. i.e. file r/w on disk or remote locations, transfer using a ftp APIs or  may be db operations etc.\r\n\r\nHere is one useful post at dzone: http://architects.dzone.com/articles/how-analyze-java-thread-dumps\r\n\r\nHope it helps.\r\n\r\n","title":"How to analyze thread dumps in Java to minimize high CPU usage","body":"<p>High CPU utilization is ok if there is actually some work in progress. i.e. if there are many live threads performing, the net CPU usage for java application will always be at its peak. It is usually instantaneous, i.e. should get normal again when there are no tasks.\n</p>\n\n<p>I would suggest to: <br/></p>\n\n<blockquote>\n  <ol>\n  <li><p>Take multiple thread dumps (3-4) after a fix interval (1-2 seconds) \n   (can use kill command on\n  linux, jstack , jvisualvm, jconsole on all systems with jdk)  </p></li>\n  <li><p>execute <code>ps -mo pid,lwp,stime,time,%cpu,%mem -C java | less</code> . This will list the lightweight processes under the java application's process id.<br/></p></li>\n  <li><p>Get the process ids of the processes <code>LWP</code> with highest cpu/memory % (as targeted)</p></li>\n  <li><p>convert the lwp ids in to hexadecimal values, can use <code>echo \"obase=16; 255\" | bc</code><br/></p></li>\n  <li><p>Map these hex ids as <code>nid='some_hex_vlaue'</code> in the thread dump to find the details of thread corresponding to high cpu usage.<br>\n  <strong>e.g</strong>: \"main\" prio=10 tid=0x00007f54a4006800 <code>nid=0x79ab</code> runnable [0x00007f54a8340000]</p></li>\n  </ol>\n  \n  <p>Now we know the thread/s within the java process with highest\n  resource(can be used for both memory/cpu%) usage.</p>\n</blockquote>\n\n<p>I would also recommend to attach your jvm process to <code>jvisualvm</code> or <code>jconsole</code> and reproduce the problem, this way you can monitor your application’s state at all the time (from normal to issue reproduction) and take snapshots for reference.\nBoth are good enough to perform any java threads or memory related profiling.<br>\n<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/visualvm/\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/visualvm/</a>   <br/>\n<a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html</a></p>\n\n<p>Analyzing thread dumps can only point to the problem areas. At times its tricky, usually with high impact, but the cause and fix will be small. \nActual cause would usually  be either the way application is coded. i.e. How concurrency is managed. If a process is listening infinitely instead of waiting for notification, deadlocks due to synchronization issues etc or the system environment/external interfaces. i.e. file r/w on disk or remote locations, transfer using a ftp APIs or  may be db operations etc.</p>\n\n<p>Here is one useful post at dzone: <a href=\"http://architects.dzone.com/articles/how-analyze-java-thread-dumps\" rel=\"nofollow\">http://architects.dzone.com/articles/how-analyze-java-thread-dumps</a></p>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":86975,"reputation":1609,"user_id":241506,"display_name":"VMykyt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1413540327,"creation_date":1413473707,"answer_id":26408397,"question_id":24028755,"body_markdown":"Faced exactly the same problem: 100% cpu usage on my machine Intel Core i3-3220 with 16GB memory with one broker (Xmx 2G), one client (Xmx2G) and without any message in a ringbuffer.\r\n\r\nQuick profiling shows that Thread.yield() consumes about 70-80% of cpu.\r\n\r\nIt is turned out the YieldingWaitStrategy is not a proper strategy in my case.\r\nSo in my case quick fix was to set the wait strategy into BlockingWaitStrategy:\r\n\r\n    Disruptor&lt;MessageEvent&gt; disruptor = new Disruptor&lt;MessageEvent&gt;(eventFactory, RING_BUFFER_SIZE, executor, ProducerType.SINGLE, new BlockingWaitStrategy());\r\n\r\n\r\n----------\r\n**UPDATE**\r\n\r\nJProfiler for YieldingWaitStrategy \r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KAOzx.png","title":"How to analyze thread dumps in Java to minimize high CPU usage","body":"<p>Faced exactly the same problem: 100% cpu usage on my machine Intel Core i3-3220 with 16GB memory with one broker (Xmx 2G), one client (Xmx2G) and without any message in a ringbuffer.</p>\n\n<p>Quick profiling shows that Thread.yield() consumes about 70-80% of cpu.</p>\n\n<p>It is turned out the YieldingWaitStrategy is not a proper strategy in my case.\nSo in my case quick fix was to set the wait strategy into BlockingWaitStrategy:</p>\n\n<pre><code>Disruptor&lt;MessageEvent&gt; disruptor = new Disruptor&lt;MessageEvent&gt;(eventFactory, RING_BUFFER_SIZE, executor, ProducerType.SINGLE, new BlockingWaitStrategy());\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>JProfiler for YieldingWaitStrategy \n<img src=\"https://i.stack.imgur.com/KAOzx.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":219006,"reputation":4141,"user_id":475635,"accept_rate":63,"display_name":"Francesco Marchioni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635259262,"creation_date":1635259262,"answer_id":69725186,"question_id":24028755,"body_markdown":"This thread is a bit old however consider that in most recent JDK (f.e. Java 11) the CPU usage is exposed in the Thread Dump. Example:\r\n\r\n    jstack -l 5213 | grep cpu\r\n    &quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=4.88ms elapsed=7027.22s tid=0x0000dedewfewwewe nid=0x3456 waiting on condition  [0x00007f386cc0c000]\r\n\r\nReferences: [Find which Java Thread is hogging your CPU][1]\r\n\r\n\r\n  [1]: http://www.mastertheboss.com/jbossas/monitoring/finding-which-java-threads-are-consuming-your-cpu/","title":"How to analyze thread dumps in Java to minimize high CPU usage","body":"<p>This thread is a bit old however consider that in most recent JDK (f.e. Java 11) the CPU usage is exposed in the Thread Dump. Example:</p>\n<pre><code>jstack -l 5213 | grep cpu\n&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 cpu=4.88ms elapsed=7027.22s tid=0x0000dedewfewwewe nid=0x3456 waiting on condition  [0x00007f386cc0c000]\n</code></pre>\n<p>References: <a href=\"http://www.mastertheboss.com/jbossas/monitoring/finding-which-java-threads-are-consuming-your-cpu/\" rel=\"nofollow noreferrer\">Find which Java Thread is hogging your CPU</a></p>\n"}],"owner":{"account_id":445632,"reputation":2194,"user_id":838204,"accept_rate":62,"display_name":"macemers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11286,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":26408397,"answer_count":4,"score":2,"last_activity_date":1635259262,"creation_date":1401854284,"question_id":24028755,"body_markdown":" I&#39;m trying to read text file and insert into database with `Disruptor`.\r\n\r\nBut I find that the CPU usage is too high (200%, according to `top` command).\r\n\r\nI&#39;m new to performance tuning and thread dump analysis. I don&#39;t know what&#39;s going wrong.\r\n\r\nSo I execute `top -H` and find the two highest threads (both are 99%), and find the thread dump:\r\n\r\n    &quot;main&quot; prio=10 tid=0x00007f54a4006800 nid=0x79ab runnable [0x00007f54a8340000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.lang.Thread.yield(Native Method)\r\n    \tat com.lmax.disruptor.SingleProducerSequencer.next(SingleProducerSequencer.java:104)\r\n    \tat com.lmax.disruptor.SingleProducerSequencer.next(SingleProducerSequencer.java:79)\r\n    \tat com.lmax.disruptor.RingBuffer.next(RingBuffer.java:207)\r\n    \tat com.xxx.xxx.connectivity.quickfixj.FixMessageReceiver.onMessage(FixMessageReceiver.java:105)\r\n    \tat com.xxx.xxx.database.DatabaseService.start(DatabaseService.java:110)\r\n    \tat com.xxx.xxx.database.DatabaseService.main(DatabaseService.java:168)\r\n\r\n\r\n    &quot;pool-2-thread-1&quot; prio=10 tid=0x00007f54a426d800 nid=0x79bc runnable [0x00007f5492a37000]\r\n       java.lang.Thread.State: RUNNABLE\r\n    \tat java.lang.Thread.yield(Native Method)\r\n    \tat com.lmax.disruptor.SingleProducerSequencer.next(SingleProducerSequencer.java:104)\r\n    \tat com.lmax.disruptor.SingleProducerSequencer.next(SingleProducerSequencer.java:79)\r\n    \tat com.lmax.disruptor.RingBuffer.next(RingBuffer.java:207)\r\n    \tat com.cimb.reporting.connectivity.jms.DatabaseEventHandler.publish2DbRingBuffer(DatabaseEventHandler.java:49)\r\n    \tat com.xxx.xxx.connectivity.jms.DatabaseEventHandler.onEvent(DatabaseEventHandler.java:39)\r\n    \tat com.xxx.xxx.connectivity.jms.DatabaseEventHandler.onEvent(DatabaseEventHandler.java:15)\r\n    \tat com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:133)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n\r\n\r\n**Basically these two threads are going to publish data to Disruptor. I create `Disruptor` in this way:**\r\n\r\n\r\n\r\n    Disruptor&lt;TradeEvent&gt; disruptor = new Disruptor&lt;TradeEvent&gt;(TradeEvent.TRADE_EVENT_FACTORY,\r\n    \t\t\t\tproperties.dbRingbufferSize(), Executors.newCachedThreadPool(),\r\n    \t\t\t\tProducerType.SINGLE, new BlockingWaitStrategy());\r\n\r\n\r\nPlease help me and analyze the thread dump to find the root cause of high CPU usage.","title":"How to analyze thread dumps in Java to minimize high CPU usage","body":"<p>I'm trying to read text file and insert into database with <code>Disruptor</code>.</p>\n\n<p>But I find that the CPU usage is too high (200%, according to <code>top</code> command).</p>\n\n<p>I'm new to performance tuning and thread dump analysis. I don't know what's going wrong.</p>\n\n<p>So I execute <code>top -H</code> and find the two highest threads (both are 99%), and find the thread dump:</p>\n\n<pre><code>\"main\" prio=10 tid=0x00007f54a4006800 nid=0x79ab runnable [0x00007f54a8340000]\n   java.lang.Thread.State: RUNNABLE\n    at java.lang.Thread.yield(Native Method)\n    at com.lmax.disruptor.SingleProducerSequencer.next(SingleProducerSequencer.java:104)\n    at com.lmax.disruptor.SingleProducerSequencer.next(SingleProducerSequencer.java:79)\n    at com.lmax.disruptor.RingBuffer.next(RingBuffer.java:207)\n    at com.xxx.xxx.connectivity.quickfixj.FixMessageReceiver.onMessage(FixMessageReceiver.java:105)\n    at com.xxx.xxx.database.DatabaseService.start(DatabaseService.java:110)\n    at com.xxx.xxx.database.DatabaseService.main(DatabaseService.java:168)\n\n\n\"pool-2-thread-1\" prio=10 tid=0x00007f54a426d800 nid=0x79bc runnable [0x00007f5492a37000]\n   java.lang.Thread.State: RUNNABLE\n    at java.lang.Thread.yield(Native Method)\n    at com.lmax.disruptor.SingleProducerSequencer.next(SingleProducerSequencer.java:104)\n    at com.lmax.disruptor.SingleProducerSequencer.next(SingleProducerSequencer.java:79)\n    at com.lmax.disruptor.RingBuffer.next(RingBuffer.java:207)\n    at com.cimb.reporting.connectivity.jms.DatabaseEventHandler.publish2DbRingBuffer(DatabaseEventHandler.java:49)\n    at com.xxx.xxx.connectivity.jms.DatabaseEventHandler.onEvent(DatabaseEventHandler.java:39)\n    at com.xxx.xxx.connectivity.jms.DatabaseEventHandler.onEvent(DatabaseEventHandler.java:15)\n    at com.lmax.disruptor.BatchEventProcessor.run(BatchEventProcessor.java:133)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p><strong>Basically these two threads are going to publish data to Disruptor. I create <code>Disruptor</code> in this way:</strong></p>\n\n<pre><code>Disruptor&lt;TradeEvent&gt; disruptor = new Disruptor&lt;TradeEvent&gt;(TradeEvent.TRADE_EVENT_FACTORY,\n                properties.dbRingbufferSize(), Executors.newCachedThreadPool(),\n                ProducerType.SINGLE, new BlockingWaitStrategy());\n</code></pre>\n\n<p>Please help me and analyze the thread dump to find the root cause of high CPU usage.</p>\n"},{"tags":["java","itext"],"answers":[{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1445933259,"creation_date":1283407378,"answer_id":3624197,"question_id":3623121,"body_markdown":"You need to add the [unicode](http://www.fileformat.info/info/unicode/char/2265/index.htm) for this character. Also make sure that the char is included in the font you use.\r\n\r\n    document.add( new Paragraph(&quot;\\u2265&quot;));","title":"Inserting greater than or equal symbol in to an iText PDF, ie &gt;=","body":"<p>You need to add the <a href=\"http://www.fileformat.info/info/unicode/char/2265/index.htm\" rel=\"nofollow noreferrer\">unicode</a> for this character. Also make sure that the char is included in the font you use.</p>\n\n<pre><code>document.add( new Paragraph(\"\\u2265\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11738231,"reputation":356,"user_id":8591363,"display_name":"Ashok Parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635259205,"creation_date":1635259205,"answer_id":69725166,"question_id":3623121,"body_markdown":"Use the below code for the same. It&#39;s work for me.\r\n\r\n//symbol for greater or equal then\r\n\r\n        \r\n    \r\n    public void process() throws DocumentException, IOException {\r\n        \t\tString dest = &quot;/home/ashok/ashok/tmp/hello.pdf&quot;; \r\n        \t\t\r\n        \t\tBaseFont bfont = BaseFont.createFont(\r\n        \t\t\t        &quot;/home/ashok/ashok/fonts/Cardo-Regular.ttf&quot;,\r\n        \t\t\t        BaseFont.IDENTITY_H,\r\n        \t\t\t        BaseFont.EMBEDDED);\r\n        \t\t  Font font = new Font(bfont, 12);\r\n        \t\t \r\n        \t\ttry {\r\n        \t\t\t Document document=new Document();\r\n                     PdfWriter.getInstance(document,new \r\n                     FileOutputStream(&quot;/home/ashok/ashok/tmp/hello.pdf&quot;));\r\n                     document.open();\r\n    \t\t\t\t\tChunk chunk = new Chunk(&quot;\\u2265&quot;);\r\n    \t\t\t\t\tParagraph p = new Paragraph(&quot;Mathematical Operators are &quot;,font);\r\n    \t\t\t\t\tp.add(chunk);\r\n    \t\t\t\t\tdocument.add(p);\r\n    \t\t\t\t\tp = new Paragraph(&quot;  &quot;,font);\r\n    \t\t\t\t\tchunk = new Chunk(&quot;\\u2264&quot;);\r\n    \t\t\t\t\tp.add(chunk);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tdocument.add(p);\r\n    \t\t\t\t\tdocument.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n        \t \r\n        \t}","title":"Inserting greater than or equal symbol in to an iText PDF, ie &gt;=","body":"<p>Use the below code for the same. It's work for me.</p>\n<p>//symbol for greater or equal then</p>\n<pre><code>public void process() throws DocumentException, IOException {\n            String dest = &quot;/home/ashok/ashok/tmp/hello.pdf&quot;; \n            \n            BaseFont bfont = BaseFont.createFont(\n                        &quot;/home/ashok/ashok/fonts/Cardo-Regular.ttf&quot;,\n                        BaseFont.IDENTITY_H,\n                        BaseFont.EMBEDDED);\n              Font font = new Font(bfont, 12);\n             \n            try {\n                 Document document=new Document();\n                 PdfWriter.getInstance(document,new \n                 FileOutputStream(&quot;/home/ashok/ashok/tmp/hello.pdf&quot;));\n                 document.open();\n                    Chunk chunk = new Chunk(&quot;\\u2265&quot;);\n                    Paragraph p = new Paragraph(&quot;Mathematical Operators are &quot;,font);\n                    p.add(chunk);\n                    document.add(p);\n                    p = new Paragraph(&quot;  &quot;,font);\n                    chunk = new Chunk(&quot;\\u2264&quot;);\n                    p.add(chunk);\n                    \n                    document.add(p);\n                    document.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n         \n        }\n</code></pre>\n"}],"owner":{"account_id":50347,"reputation":7170,"user_id":150172,"accept_rate":82,"display_name":"corydoras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2205,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3624197,"answer_count":2,"score":2,"last_activity_date":1635259205,"creation_date":1283388852,"question_id":3623121,"body_markdown":"Does anyone know an easy way to include the greater than or equal symbol in an iText PDF document without resorting to custom fonts?","title":"Inserting greater than or equal symbol in to an iText PDF, ie &gt;=","body":"<p>Does anyone know an easy way to include the greater than or equal symbol in an iText PDF document without resorting to custom fonts?</p>\n"},{"tags":["java","sql-server","ssl","intellij-idea"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1635230212,"post_id":69718389,"comment_id":123233368,"body_markdown":"Looks like your Java client wants to use TLS 1.0 while the server only supports TLS 1.2. Do you _have_ to use a secured connection for a local database? The DB being local would indicate it&#39;s not a production system anyway. Besides that, we need more info, e.g. the Java version you&#39;re using (not all support TLS 1.2 out-of-the-box) and how you&#39;re trying to establish the connection.","body":"Looks like your Java client wants to use TLS 1.0 while the server only supports TLS 1.2. Do you <i>have</i> to use a secured connection for a local database? The DB being local would indicate it&#39;s not a production system anyway. Besides that, we need more info, e.g. the Java version you&#39;re using (not all support TLS 1.2 out-of-the-box) and how you&#39;re trying to establish the connection."},{"owner":{"account_id":22812901,"reputation":11,"user_id":16963913,"display_name":"El Mehdi Bouddit"},"score":0,"creation_date":1635230521,"post_id":69718389,"comment_id":123233476,"body_markdown":"I am using Java 1.8  . I think a should use a secured connexion because if we take a look at the  part in french it means this : The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. And for the last one , I don&#39;t really understand what you mean by how am I trying to establish the connection ; but what I can say is that I am connecting using a jdbc driver .","body":"I am using Java 1.8  . I think a should use a secured connexion because if we take a look at the  part in french it means this : The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. And for the last one , I don&#39;t really understand what you mean by how am I trying to establish the connection ; but what I can say is that I am connecting using a jdbc driver ."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1635230770,"post_id":69718389,"comment_id":123233556,"body_markdown":"The message states that the secure connection can&#39;t be established due to the TLS version mismatch. Please share the code you&#39;re using to open the connection, i.e. how you&#39;re calling th JDBC driver and which driver you&#39;re using.","body":"The message states that the secure connection can&#39;t be established due to the TLS version mismatch. Please share the code you&#39;re using to open the connection, i.e. how you&#39;re calling th JDBC driver and which driver you&#39;re using."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1635230936,"post_id":69718389,"comment_id":123233611,"body_markdown":"Btw, I misread the message: it&#39;s the _server_ that seems to only support TLS 1.0 while your Java clients only wants TLS 1.2. This might help: https://stackoverflow.com/questions/67246010/the-server-selected-protocol-version-tls10-is-not-accepted-by-client-preferences","body":"Btw, I misread the message: it&#39;s the <i>server</i> that seems to only support TLS 1.0 while your Java clients only wants TLS 1.2. This might help: <a href=\"https://stackoverflow.com/questions/67246010/the-server-selected-protocol-version-tls10-is-not-accepted-by-client-preferences\" title=\"the server selected protocol version tls10 is not accepted by client preferences\">stackoverflow.com/questions/67246010/&hellip;</a>"},{"owner":{"account_id":22812901,"reputation":11,"user_id":16963913,"display_name":"El Mehdi Bouddit"},"score":0,"creation_date":1635231985,"post_id":69718389,"comment_id":123233983,"body_markdown":"I was thinking maybe it&#39;s because I have java 16 and java 13 too , and I checked with my co-worker and he has only java8 so clearly it supports TLS 1.0 . If I&#39;ll try to uninstall them , and keep java8 only.","body":"I was thinking maybe it&#39;s because I have java 16 and java 13 too , and I checked with my co-worker and he has only java8 so clearly it supports TLS 1.0 . If I&#39;ll try to uninstall them , and keep java8 only."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1635232459,"post_id":69718389,"comment_id":123234148,"body_markdown":"You don&#39;t have to uninstall those Java versions. Just check how to re-enable TLS 1.0, think about upgrading your DB server so it supports TLS 1.2 or just do without a secured connection for local tests.","body":"You don&#39;t have to uninstall those Java versions. Just check how to re-enable TLS 1.0, think about upgrading your DB server so it supports TLS 1.2 or just do without a secured connection for local tests."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1635254436,"post_id":69718389,"comment_id":123243384,"body_markdown":"Even SQL Server 2008 (before 2008 R2, even) had support for TLS 1.2. [KB3135244 - TLS 1.2 support for Microsoft SQL Server](https://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe). For the love of Pete, please migrate to a newer version of SQL Server.","body":"Even SQL Server 2008 (before 2008 R2, even) had support for TLS 1.2. <a href=\"https://support.microsoft.com/en-us/topic/kb3135244-tls-1-2-support-for-microsoft-sql-server-e4472ef8-90a9-13c1-e4d8-44aad198cdbe\" rel=\"nofollow noreferrer\">KB3135244 - TLS 1.2 support for Microsoft SQL Server</a>. For the love of Pete, please migrate to a newer version of SQL Server."}],"owner":{"account_id":22812901,"reputation":11,"user_id":16963913,"display_name":"El Mehdi Bouddit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635259023,"answer_count":0,"score":0,"last_activity_date":1635258945,"creation_date":1635229917,"question_id":69718389,"body_markdown":"I am working right now on improving a Java project built using the IntelliJ IDEA, and this project requires connecting to a local database. The problem is that I can&#39;t run it at all because of an exception: \r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Le pilote n&#39;a pas pu &#233;tablir de connexion s&#233;curis&#233;e au serveur SQL Server &#224; l&#39;aide du chiffrement SSL (Secure Sockets Layer). Error: &#171;&#160;The server selected protocol version TLS10 is not accepted by client preferences [TLS12]&#160;&#187;. ClientConnectionId:c1722f06-2f8f-435b-953d-67697967d9a5\r\n\r\nI am guessing it might be linked to IntelliJ settings in my computer because my co-worker copied the project too and it worked perfectly for him.","title":"Problem connecting to a server in a Java project","body":"<p>I am working right now on improving a Java project built using the IntelliJ IDEA, and this project requires connecting to a local database. The problem is that I can't run it at all because of an exception:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Le pilote n'a pas pu établir de connexion sécurisée au serveur SQL Server à l'aide du chiffrement SSL (Secure Sockets Layer). Error: « The server selected protocol version TLS10 is not accepted by client preferences [TLS12] ». ClientConnectionId:c1722f06-2f8f-435b-953d-67697967d9a5\n</code></pre>\n<p>I am guessing it might be linked to IntelliJ settings in my computer because my co-worker copied the project too and it worked perfectly for him.</p>\n"},{"tags":["java","spring","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1632829741,"post_id":69361067,"comment_id":122594245,"body_markdown":"Remove @PrimaryKeyJoinColumn and make sure that you set the Key","body":"Remove @PrimaryKeyJoinColumn and make sure that you set the Key"},{"owner":{"account_id":10262805,"reputation":306,"user_id":7573638,"accept_rate":70,"display_name":"Reza P."},"score":0,"creation_date":1632833541,"post_id":69361067,"comment_id":122595884,"body_markdown":"And try to use `JoinColumn`","body":"And try to use <code>JoinColumn</code>"}],"answers":[{"tags":[],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635258826,"creation_date":1635258826,"answer_id":69725069,"question_id":69361067,"body_markdown":"We don&#39;t need to mention the ```@PrimaryKeyJoinColumn``` annotation. When we are mapping the tables it will create primary key and foreign key. We just need to map properly.   \r\nIn the Client model class you have to create the mapping like below\r\n```\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;key_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Key key;\r\n```\r\nand in the Key model class like this\r\n```\r\n    @OneToOne(mappedBy = &quot;key&quot;)\r\n    private Client client;\r\n```","title":"Hibernate One To One mapping, Foreign Key is NULL","body":"<p>We don't need to mention the <code>@PrimaryKeyJoinColumn</code> annotation. When we are mapping the tables it will create primary key and foreign key. We just need to map properly.<br />\nIn the Client model class you have to create the mapping like below</p>\n<pre><code>    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;key_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Key key;\n</code></pre>\n<p>and in the Key model class like this</p>\n<pre><code>    @OneToOne(mappedBy = &quot;key&quot;)\n    private Client client;\n</code></pre>\n"}],"owner":{"account_id":17931889,"reputation":1,"user_id":13029119,"display_name":"Winterdarth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635258826,"creation_date":1632829219,"question_id":69361067,"body_markdown":"This is my first attempt to map with One to One relation. I have the following entities:\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Client {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Size(max = 100)\r\n    private String name;\r\n\r\n    @Email(message = &quot;Email should be valid&quot;)\r\n    private String email;\r\n\r\n    @OneToOne\r\n    @PrimaryKeyJoinColumn\r\n    private Key key;\r\n}\r\n```\r\n\r\nAND\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Key {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true)\r\n    private UUID number;\r\n\r\n    @OneToOne\r\n    private Client client;\r\n\r\n    public Key(UUID number) {\r\n        this.number = number;\r\n    }\r\n}\r\n```\r\n\r\nThey do not see each other, I get NULL in the foreign key section. There is a solution when using the EntityManager class in the following post:\r\n\r\nhttps://stackoverflow.com/questions/6389058/jpa-hibernate-onetoone-null-in-foreign-key\r\n\r\nUnfortunately, that method doesn&#39;t work for me.\r\n\r\n**Database snapshot:**\r\n\r\n![Database snapshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5LQdN.jpg\r\n\r\nThank you for the answers!","title":"Hibernate One To One mapping, Foreign Key is NULL","body":"<p>This is my first attempt to map with One to One relation. I have the following entities:</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Client {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Size(max = 100)\n    private String name;\n\n    @Email(message = &quot;Email should be valid&quot;)\n    private String email;\n\n    @OneToOne\n    @PrimaryKeyJoinColumn\n    private Key key;\n}\n</code></pre>\n<p>AND</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Key {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true)\n    private UUID number;\n\n    @OneToOne\n    private Client client;\n\n    public Key(UUID number) {\n        this.number = number;\n    }\n}\n</code></pre>\n<p>They do not see each other, I get NULL in the foreign key section. There is a solution when using the EntityManager class in the following post:</p>\n<p><a href=\"https://stackoverflow.com/questions/6389058/jpa-hibernate-onetoone-null-in-foreign-key\">JPA / Hibernate OneToOne Null in foreign key</a></p>\n<p>Unfortunately, that method doesn't work for me.</p>\n<p><strong>Database snapshot:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/5LQdN.jpg\" alt=\"Database snapshot\" /></p>\n<p>Thank you for the answers!</p>\n"},{"tags":["java","sap-commerce-cloud","backoffice"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1590415884,"post_id":62000873,"comment_id":109663645,"body_markdown":"Did you try `ant updatesystem`?","body":"Did you try <code>ant updatesystem</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590414968,"creation_date":1590414968,"answer_id":62003894,"question_id":62000873,"body_markdown":"One of the problem that I am able to see is that the deployment table should be deleted since the best practice is to provide one only when extending the **GenericItem**(when you do not specify a parent this type will be automatically set). So your definition should look like this:\r\n\r\n    &lt;itemtype code=&quot;PromotionBannerCMSComponent&quot; autocreate=&quot;true&quot; generate=&quot;true&quot; extends=&quot;SimpleBannerComponent&quot;\r\n          jaloclass=&quot;my.package.core.jalo.components.PromotionBannerCMSComponent&quot;&gt;\r\n    &lt;description&gt;Promotion banner component&lt;/description&gt;\r\n    &lt;attributes&gt;\r\n        &lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n            &lt;modifiers/&gt;\r\n            &lt;description&gt;Banner name (not unique)&lt;/description&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;title&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Title&lt;/description&gt;\r\n            &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;position&quot; type=&quot;SimpleBannerPositionEnum&quot;&gt;\r\n            &lt;description&gt;Banner position&lt;/description&gt;\r\n            &lt;modifiers optional=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;altText&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Banner alt text&lt;/description&gt;\r\n            &lt;modifiers optional=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;titleSecondary&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Title secondary&lt;/description&gt;\r\n            &lt;persistence type=&quot;property&quot; /&gt;\r\n            &lt;modifiers /&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;urlLoc&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Banner url&lt;/description&gt;\r\n            &lt;persistence type=&quot;property&quot; /&gt;\r\n            &lt;modifiers /&gt;\r\n        &lt;/attribute&gt;\r\n    &lt;/attributes&gt;\r\n&lt;/itemtype&gt;\r\n\r\nTry to initialize the system in order to test this in order to delete the old type and its associated table from the database.","title":"SAP Hybris can&#39;t create custom banner component","body":"<p>One of the problem that I am able to see is that the deployment table should be deleted since the best practice is to provide one only when extending the <strong>GenericItem</strong>(when you do not specify a parent this type will be automatically set). So your definition should look like this:</p>\n\n<pre><code>&lt;itemtype code=\"PromotionBannerCMSComponent\" autocreate=\"true\" generate=\"true\" extends=\"SimpleBannerComponent\"\n      jaloclass=\"my.package.core.jalo.components.PromotionBannerCMSComponent\"&gt;\n&lt;description&gt;Promotion banner component&lt;/description&gt;\n&lt;attributes&gt;\n    &lt;attribute qualifier=\"code\" type=\"java.lang.String\"&gt;\n        &lt;persistence type=\"property\"/&gt;\n        &lt;modifiers/&gt;\n        &lt;description&gt;Banner name (not unique)&lt;/description&gt;\n    &lt;/attribute&gt;\n    &lt;attribute qualifier=\"title\" type=\"localized:java.lang.String\"&gt;\n        &lt;description&gt;Title&lt;/description&gt;\n        &lt;modifiers read=\"true\" write=\"true\" search=\"true\" initial=\"true\"/&gt;\n        &lt;persistence type=\"property\"/&gt;\n    &lt;/attribute&gt;\n    &lt;attribute qualifier=\"position\" type=\"SimpleBannerPositionEnum\"&gt;\n        &lt;description&gt;Banner position&lt;/description&gt;\n        &lt;modifiers optional=\"true\" initial=\"true\"/&gt;\n        &lt;persistence type=\"property\"/&gt;\n    &lt;/attribute&gt;\n    &lt;attribute qualifier=\"altText\" type=\"localized:java.lang.String\"&gt;\n        &lt;description&gt;Banner alt text&lt;/description&gt;\n        &lt;modifiers optional=\"true\" initial=\"true\"/&gt;\n        &lt;persistence type=\"property\"/&gt;\n    &lt;/attribute&gt;\n    &lt;attribute qualifier=\"titleSecondary\" type=\"localized:java.lang.String\"&gt;\n        &lt;description&gt;Title secondary&lt;/description&gt;\n        &lt;persistence type=\"property\" /&gt;\n        &lt;modifiers /&gt;\n    &lt;/attribute&gt;\n    &lt;attribute qualifier=\"urlLoc\" type=\"localized:java.lang.String\"&gt;\n        &lt;description&gt;Banner url&lt;/description&gt;\n        &lt;persistence type=\"property\" /&gt;\n        &lt;modifiers /&gt;\n    &lt;/attribute&gt;\n&lt;/attributes&gt;\n</code></pre>\n\n<p></p>\n\n<p>Try to initialize the system in order to test this in order to delete the old type and its associated table from the database.</p>\n"},{"tags":[],"owner":{"account_id":32579,"reputation":3299,"user_id":90513,"accept_rate":82,"display_name":"geffchang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590416274,"creation_date":1590416274,"answer_id":62004307,"question_id":62000873,"body_markdown":"I tested your code with 1905.13, and it&#39;s working fine. (I needed to adjust the package name and add the SimpleBannerPositionEnum definition) I simply did &quot;ant all&quot; in command-line and &quot;Update running system&quot; during Platform Update (without any extension checked). I&#39;m able to create an instance of PromotionBannerCMSComponent in backoffice.\r\n\r\nHave you tried initializing and see if it works on your side? Otherwise, you may need to share more about the error / stacktrace.","title":"SAP Hybris can&#39;t create custom banner component","body":"<p>I tested your code with 1905.13, and it's working fine. (I needed to adjust the package name and add the SimpleBannerPositionEnum definition) I simply did \"ant all\" in command-line and \"Update running system\" during Platform Update (without any extension checked). I'm able to create an instance of PromotionBannerCMSComponent in backoffice.</p>\n\n<p>Have you tried initializing and see if it works on your side? Otherwise, you may need to share more about the error / stacktrace.</p>\n"},{"tags":[],"owner":{"account_id":3551677,"reputation":219,"user_id":2966401,"accept_rate":67,"display_name":"Stepan Tuhacek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590499747,"creation_date":1590499747,"answer_id":62023267,"question_id":62000873,"body_markdown":"Turns out I had an old deployment table which collided with this component, somehow it didn&#39;t show an error during `ant clean all`.\r\n\r\nSo I run in HAC ` delete from ydeployments where typecode=XX;` (XX is typecode found in HAC) and started over with almost the same deployment, except I removed jaloclass and deployment table description:\r\n```\r\n&lt;itemtype code=&quot;PromotionBannerCMSComponent&quot; autocreate=&quot;true&quot; generate=&quot;true&quot; extends=&quot;SimpleBannerComponent&quot;&gt;\r\n    &lt;description&gt;Promotion banner component&lt;/description&gt;\r\n    &lt;attributes&gt;\r\n        &lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n            &lt;modifiers/&gt;\r\n            &lt;description&gt;Banner name (not unique)&lt;/description&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;title&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Title&lt;/description&gt;\r\n            &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;position&quot; type=&quot;SimpleBannerPositionEnum&quot;&gt;\r\n            &lt;description&gt;Banner position&lt;/description&gt;\r\n            &lt;modifiers optional=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;altText&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Banner alt text&lt;/description&gt;\r\n            &lt;modifiers optional=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;titleSecondary&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Title secondary&lt;/description&gt;\r\n            &lt;persistence type=&quot;property&quot; /&gt;\r\n            &lt;modifiers /&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;urlLoc&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Banner url&lt;/description&gt;\r\n            &lt;persistence type=&quot;property&quot; /&gt;\r\n            &lt;modifiers /&gt;\r\n        &lt;/attribute&gt;\r\n    &lt;/attributes&gt;\r\n&lt;/itemtype&gt;\r\n```","title":"SAP Hybris can&#39;t create custom banner component","body":"<p>Turns out I had an old deployment table which collided with this component, somehow it didn't show an error during <code>ant clean all</code>.</p>\n\n<p>So I run in HAC <code>delete from ydeployments where typecode=XX;</code> (XX is typecode found in HAC) and started over with almost the same deployment, except I removed jaloclass and deployment table description:</p>\n\n<pre><code>&lt;itemtype code=\"PromotionBannerCMSComponent\" autocreate=\"true\" generate=\"true\" extends=\"SimpleBannerComponent\"&gt;\n    &lt;description&gt;Promotion banner component&lt;/description&gt;\n    &lt;attributes&gt;\n        &lt;attribute qualifier=\"code\" type=\"java.lang.String\"&gt;\n            &lt;persistence type=\"property\"/&gt;\n            &lt;modifiers/&gt;\n            &lt;description&gt;Banner name (not unique)&lt;/description&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"title\" type=\"localized:java.lang.String\"&gt;\n            &lt;description&gt;Title&lt;/description&gt;\n            &lt;modifiers read=\"true\" write=\"true\" search=\"true\" initial=\"true\"/&gt;\n            &lt;persistence type=\"property\"/&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"position\" type=\"SimpleBannerPositionEnum\"&gt;\n            &lt;description&gt;Banner position&lt;/description&gt;\n            &lt;modifiers optional=\"true\" initial=\"true\"/&gt;\n            &lt;persistence type=\"property\"/&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"altText\" type=\"localized:java.lang.String\"&gt;\n            &lt;description&gt;Banner alt text&lt;/description&gt;\n            &lt;modifiers optional=\"true\" initial=\"true\"/&gt;\n            &lt;persistence type=\"property\"/&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"titleSecondary\" type=\"localized:java.lang.String\"&gt;\n            &lt;description&gt;Title secondary&lt;/description&gt;\n            &lt;persistence type=\"property\" /&gt;\n            &lt;modifiers /&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"urlLoc\" type=\"localized:java.lang.String\"&gt;\n            &lt;description&gt;Banner url&lt;/description&gt;\n            &lt;persistence type=\"property\" /&gt;\n            &lt;modifiers /&gt;\n        &lt;/attribute&gt;\n    &lt;/attributes&gt;\n&lt;/itemtype&gt;\n</code></pre>\n"}],"owner":{"account_id":3551677,"reputation":219,"user_id":2966401,"accept_rate":67,"display_name":"Stepan Tuhacek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62023267,"answer_count":3,"score":2,"last_activity_date":1635258709,"creation_date":1590403736,"question_id":62000873,"body_markdown":"I want to create custom banner component, extended from `SimpleBannerComponent`. But after I created it, it fails to create in Backoffice, see below.\r\n\r\n1) I added this item to my `*-items.xml` file. \r\n```\r\n&lt;itemtype code=&quot;PromotionBannerCMSComponent&quot; autocreate=&quot;true&quot; generate=&quot;true&quot; extends=&quot;SimpleBannerComponent&quot;\r\n          jaloclass=&quot;my.package.core.jalo.components.PromotionBannerCMSComponent&quot;&gt;\r\n    &lt;description&gt;Promotion banner component&lt;/description&gt;\r\n    &lt;deployment table=&quot;PromotionBanners&quot; typecode=&quot;15301&quot;/&gt;\r\n    &lt;attributes&gt;\r\n        &lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n            &lt;modifiers/&gt;\r\n            &lt;description&gt;Banner name (not unique)&lt;/description&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;title&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Title&lt;/description&gt;\r\n            &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;position&quot; type=&quot;SimpleBannerPositionEnum&quot;&gt;\r\n            &lt;description&gt;Banner position&lt;/description&gt;\r\n            &lt;modifiers optional=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;altText&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Banner alt text&lt;/description&gt;\r\n            &lt;modifiers optional=&quot;true&quot; initial=&quot;true&quot;/&gt;\r\n            &lt;persistence type=&quot;property&quot;/&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;titleSecondary&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Title secondary&lt;/description&gt;\r\n            &lt;persistence type=&quot;property&quot; /&gt;\r\n            &lt;modifiers /&gt;\r\n        &lt;/attribute&gt;\r\n        &lt;attribute qualifier=&quot;urlLoc&quot; type=&quot;localized:java.lang.String&quot;&gt;\r\n            &lt;description&gt;Banner url&lt;/description&gt;\r\n            &lt;persistence type=&quot;property&quot; /&gt;\r\n            &lt;modifiers /&gt;\r\n        &lt;/attribute&gt;\r\n    &lt;/attributes&gt;\r\n&lt;/itemtype&gt;\r\n```\r\n2) I did `ant clean all`, restarted server, I&#39;ve run `HAC -&gt; Update` with my custom extension checked and with `Update running system` also checked. Then I did a server restart again.\r\n\r\n3) I wanted to create the component in the Backoffice `WCMS-&gt;Components-&gt;Add`, but it fails with error - I&#39;ve turned on the `flexible.search.exception.show.query.details` to see it:\r\n```\r\n [ConfigurableFlowController] Object  could not be saved\r\ncom.hybris.cockpitng.dataaccess.facades.object.exceptions.ObjectSavingException: Object  could not be saved\r\n```\r\nand \r\n```\r\nCaused by: de.hybris.platform.servicelayer.exceptions.ModelSavingException: [de.hybris.platform.servicelayer.interceptor.impl.UniqueAttributesInterceptor@716c1b71]: unexpected validator error: SQL search error - Unknown column &#39;item_t0.p_catalogversion&#39; in &#39;where clause&#39; query = &#39;SELECT  item_t0.PK  FROM cmscomponent item_t0 WHERE\r\n.\r\n.\r\n```\r\n\r\nNow I can&#39;t create even the basic SimpleBannerComponent, neither the other components. Is there something wrong with the update? \r\nI&#39;m using Hybris 1811.18.","title":"SAP Hybris can&#39;t create custom banner component","body":"<p>I want to create custom banner component, extended from <code>SimpleBannerComponent</code>. But after I created it, it fails to create in Backoffice, see below.</p>\n\n<p>1) I added this item to my <code>*-items.xml</code> file. </p>\n\n<pre><code>&lt;itemtype code=\"PromotionBannerCMSComponent\" autocreate=\"true\" generate=\"true\" extends=\"SimpleBannerComponent\"\n          jaloclass=\"my.package.core.jalo.components.PromotionBannerCMSComponent\"&gt;\n    &lt;description&gt;Promotion banner component&lt;/description&gt;\n    &lt;deployment table=\"PromotionBanners\" typecode=\"15301\"/&gt;\n    &lt;attributes&gt;\n        &lt;attribute qualifier=\"code\" type=\"java.lang.String\"&gt;\n            &lt;persistence type=\"property\"/&gt;\n            &lt;modifiers/&gt;\n            &lt;description&gt;Banner name (not unique)&lt;/description&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"title\" type=\"localized:java.lang.String\"&gt;\n            &lt;description&gt;Title&lt;/description&gt;\n            &lt;modifiers read=\"true\" write=\"true\" search=\"true\" initial=\"true\"/&gt;\n            &lt;persistence type=\"property\"/&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"position\" type=\"SimpleBannerPositionEnum\"&gt;\n            &lt;description&gt;Banner position&lt;/description&gt;\n            &lt;modifiers optional=\"true\" initial=\"true\"/&gt;\n            &lt;persistence type=\"property\"/&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"altText\" type=\"localized:java.lang.String\"&gt;\n            &lt;description&gt;Banner alt text&lt;/description&gt;\n            &lt;modifiers optional=\"true\" initial=\"true\"/&gt;\n            &lt;persistence type=\"property\"/&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"titleSecondary\" type=\"localized:java.lang.String\"&gt;\n            &lt;description&gt;Title secondary&lt;/description&gt;\n            &lt;persistence type=\"property\" /&gt;\n            &lt;modifiers /&gt;\n        &lt;/attribute&gt;\n        &lt;attribute qualifier=\"urlLoc\" type=\"localized:java.lang.String\"&gt;\n            &lt;description&gt;Banner url&lt;/description&gt;\n            &lt;persistence type=\"property\" /&gt;\n            &lt;modifiers /&gt;\n        &lt;/attribute&gt;\n    &lt;/attributes&gt;\n&lt;/itemtype&gt;\n</code></pre>\n\n<p>2) I did <code>ant clean all</code>, restarted server, I've run <code>HAC -&gt; Update</code> with my custom extension checked and with <code>Update running system</code> also checked. Then I did a server restart again.</p>\n\n<p>3) I wanted to create the component in the Backoffice <code>WCMS-&gt;Components-&gt;Add</code>, but it fails with error - I've turned on the <code>flexible.search.exception.show.query.details</code> to see it:</p>\n\n<pre><code> [ConfigurableFlowController] Object  could not be saved\ncom.hybris.cockpitng.dataaccess.facades.object.exceptions.ObjectSavingException: Object  could not be saved\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Caused by: de.hybris.platform.servicelayer.exceptions.ModelSavingException: [de.hybris.platform.servicelayer.interceptor.impl.UniqueAttributesInterceptor@716c1b71]: unexpected validator error: SQL search error - Unknown column 'item_t0.p_catalogversion' in 'where clause' query = 'SELECT  item_t0.PK  FROM cmscomponent item_t0 WHERE\n.\n.\n</code></pre>\n\n<p>Now I can't create even the basic SimpleBannerComponent, neither the other components. Is there something wrong with the update? \nI'm using Hybris 1811.18.</p>\n"},{"tags":["java","cdi","javabeans","java-ee-8"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634590085,"post_id":69622246,"comment_id":123061358,"body_markdown":"Can&#39;t you inject `List&lt;ListenerBean&gt;`?","body":"Can&#39;t you inject <code>List&lt;ListenerBean&gt;</code>?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1634592159,"post_id":69622246,"comment_id":123061935,"body_markdown":"I believe that, if `ListenerBean` is `@Dependent` and you inject an `Instance&lt;ListenerBean&gt; listenerInstance`, then every time you do `listenerInstance.get()` you get a fresh copy. Make sure to dispose of the instances you get, once you are done with them.","body":"I believe that, if <code>ListenerBean</code> is <code>@Dependent</code> and you inject an <code>Instance&lt;ListenerBean&gt; listenerInstance</code>, then every time you do <code>listenerInstance.get()</code> you get a fresh copy. Make sure to dispose of the instances you get, once you are done with them."},{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":0,"creation_date":1634709450,"post_id":69622246,"comment_id":123094309,"body_markdown":"This sounds like a classic example to use the standard `Event` and `@Observes` instead.","body":"This sounds like a classic example to use the standard <code>Event</code> and <code>@Observes</code> instead."},{"owner":{"account_id":6070986,"reputation":197,"user_id":4739826,"display_name":"dko"},"score":0,"creation_date":1634740027,"post_id":69622246,"comment_id":123107138,"body_markdown":"@chrylis-cautiouslyoptimistic- That&#39;s not a thing... see [post 4009388](https://stackoverflow.com/questions/4009388/inject-list-of-objects-in-cdi-weld)","body":"@chrylis-cautiouslyoptimistic- That&#39;s not a thing... see <a href=\"https://stackoverflow.com/questions/4009388/inject-list-of-objects-in-cdi-weld\">post 4009388</a>"},{"owner":{"account_id":6070986,"reputation":197,"user_id":4739826,"display_name":"dko"},"score":0,"creation_date":1634740080,"post_id":69622246,"comment_id":123107168,"body_markdown":"@NikosParaskevopoulos thank you! I will try this","body":"@NikosParaskevopoulos thank you! I will try this"},{"owner":{"account_id":6070986,"reputation":197,"user_id":4739826,"display_name":"dko"},"score":0,"creation_date":1634740732,"post_id":69622246,"comment_id":123107515,"body_markdown":"@mtj Would this work the same way as Instance? Like `Event&lt;Bean&gt; e` and `e.fire(Bean)` is respective to `Instance&lt;Bean&gt; i` and `i.get()` ? I&#39;m trying to understand from [docs here](https://docs.jboss.org/weld/reference/2.4.0.CR1/en-US/html/events.html)","body":"@mtj Would this work the same way as Instance? Like <code>Event&lt;Bean&gt; e</code> and <code>e.fire(Bean)</code> is respective to <code>Instance&lt;Bean&gt; i</code> and <code>i.get()</code> ? I&#39;m trying to understand from <a href=\"https://docs.jboss.org/weld/reference/2.4.0.CR1/en-US/html/events.html\" rel=\"nofollow noreferrer\">docs here</a>"},{"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"score":0,"creation_date":1634886097,"post_id":69622246,"comment_id":123151401,"body_markdown":"@dko See the answer for an explanation","body":"@dko See the answer for an explanation"}],"answers":[{"tags":[],"owner":{"account_id":6963528,"reputation":6523,"user_id":5342297,"display_name":"Siliarus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1634632355,"creation_date":1634632355,"answer_id":69627504,"question_id":69622246,"body_markdown":"If you need to inject several *different* instances of a `@Dependent` scoped bean, you could do it via [programmatic lookup](https://jakarta.ee/specifications/cdi/2.0/cdi-spec-2.0.html#programmatic_lookup) - in other words via `Instance&lt;T&gt;`.\r\n\r\nEvery bean resolution for a `@Dependent` bean via `Instance` will result in a new bean instance created. Following code illustrates that:\r\n```\r\n@Inject Instance&lt;ListenerBean&gt; instance;\r\n\r\npublic void createMultipleBeanInstances() {\r\n  // bean1 and bean2 are two different instances because the bean is @Dependent\r\n  // you can OFC do this in a cycle and generate as many as you like\r\n  ListenerBean bean1 = instance.get(); \r\n  ListenerBean bean2 = instance.get();\r\n}\r\n```\r\nJust note that dependent beans you create via programmatic lookup have their lifecycle bound to the `Instance` object meaning they will exist so long as does the `Instance`. Given that you `@Inject Instance` into the bean, it will be destroyed along with the bean it was injected into.","title":"Inject several of the Same CDI bean into a class?","body":"<p>If you need to inject several <em>different</em> instances of a <code>@Dependent</code> scoped bean, you could do it via <a href=\"https://jakarta.ee/specifications/cdi/2.0/cdi-spec-2.0.html#programmatic_lookup\" rel=\"nofollow noreferrer\">programmatic lookup</a> - in other words via <code>Instance&lt;T&gt;</code>.</p>\n<p>Every bean resolution for a <code>@Dependent</code> bean via <code>Instance</code> will result in a new bean instance created. Following code illustrates that:</p>\n<pre><code>@Inject Instance&lt;ListenerBean&gt; instance;\n\npublic void createMultipleBeanInstances() {\n  // bean1 and bean2 are two different instances because the bean is @Dependent\n  // you can OFC do this in a cycle and generate as many as you like\n  ListenerBean bean1 = instance.get(); \n  ListenerBean bean2 = instance.get();\n}\n</code></pre>\n<p>Just note that dependent beans you create via programmatic lookup have their lifecycle bound to the <code>Instance</code> object meaning they will exist so long as does the <code>Instance</code>. Given that you <code>@Inject Instance</code> into the bean, it will be destroyed along with the bean it was injected into.</p>\n"},{"tags":[],"owner":{"account_id":7212522,"reputation":3391,"user_id":5506086,"display_name":"mtj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634886073,"creation_date":1634886073,"answer_id":69672592,"question_id":69622246,"body_markdown":"Explanation following my comment. I might be misunderstanding your question though.\r\n\r\nFirst of all, your code looks basically like the implementation of a multicaster: you inject several objects which all implement a common interface to call the same method.\r\n\r\nI think, that in trying to inject the various receiver objects, you basically have an X-Y-problem: does the emitter really need to *know* the receivers, or is it enough, that the event reaches the targets?\r\n\r\nIf I am right with the assumption, that your emitter does not really need to *know* the subscribers, you can simply use the `Event` standard mechanism:\r\n\r\nFirst, define a message (which can carry additional information, but this is not specifically necessary, you just need a class):\r\n\r\n    public class MyMessage {\r\n         // if needed, add some fields\r\n    }\r\n\r\nThen, in your emitter, inject the corresponding event type, and use it to fire the message:\r\n\r\n    @Inject\r\n    private Event&lt;MyMessage&gt; myEvent;  // note: type is message, not the bean\r\n\r\n    ...\r\n\r\n    myEvent.fire(new MyMessage()); // to broadcast the message to everyone who is interested\r\n\r\nIn your subscribers, just @Observe the message:\r\n\r\n\r\n    public void theMethodWeWantCalled(@Observes MyMessage messageObject) {\r\n        // do things here\r\n    }\r\n\r\nThat&#39;s it: no need to couple emitter and subscriber.","title":"Inject several of the Same CDI bean into a class?","body":"<p>Explanation following my comment. I might be misunderstanding your question though.</p>\n<p>First of all, your code looks basically like the implementation of a multicaster: you inject several objects which all implement a common interface to call the same method.</p>\n<p>I think, that in trying to inject the various receiver objects, you basically have an X-Y-problem: does the emitter really need to <em>know</em> the receivers, or is it enough, that the event reaches the targets?</p>\n<p>If I am right with the assumption, that your emitter does not really need to <em>know</em> the subscribers, you can simply use the <code>Event</code> standard mechanism:</p>\n<p>First, define a message (which can carry additional information, but this is not specifically necessary, you just need a class):</p>\n<pre><code>public class MyMessage {\n     // if needed, add some fields\n}\n</code></pre>\n<p>Then, in your emitter, inject the corresponding event type, and use it to fire the message:</p>\n<pre><code>@Inject\nprivate Event&lt;MyMessage&gt; myEvent;  // note: type is message, not the bean\n\n...\n\nmyEvent.fire(new MyMessage()); // to broadcast the message to everyone who is interested\n</code></pre>\n<p>In your subscribers, just @Observe the message:</p>\n<pre><code>public void theMethodWeWantCalled(@Observes MyMessage messageObject) {\n    // do things here\n}\n</code></pre>\n<p>That's it: no need to couple emitter and subscriber.</p>\n"}],"owner":{"account_id":6070986,"reputation":197,"user_id":4739826,"display_name":"dko"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69627504,"answer_count":2,"score":0,"last_activity_date":1635258694,"creation_date":1634589147,"question_id":69622246,"body_markdown":"Currently, I have everything working with one injection of my CDI bean, but I need about 6 to 10 separate instances(?) depending on my inputs. (Ideally, I would like to be able to inject a dynamic number of the same CDI beans depending on how many I need.)\r\n\r\nUnfortunately, I need to have the beans injected since the class depends on another CDI bean. (See the 2.CDI bean class below)\r\n\r\n1. Clients class\r\n``` java\r\n@ApplicationScoped\r\npublic class Clients {\r\n   Publisher pub;\r\n   Subscriber sub;\r\n   @Inject\r\n   ListenerBean listener;\r\n\r\n   public void init(){\r\n      pub = new Publisher();\r\n      sub = new Subscriber(listener);\r\n   }\r\n}\r\n```\r\n2. CDI bean class\r\n``` java\r\n@Dependent\r\npublic class ListenerBean{\r\n   @Inject\r\n   private eventHandler h;\r\n\r\n   public void onMessage(Msg msg){\r\n      h.doesSomething();\r\n   }\r\n}\r\n```\r\n\r\nThe functionality I&#39;m looking for, but not sure what&#39;s available out there. I haven&#39;t found anyone looking to accomplish the same thing.\r\n``` java\r\nfor(Subscriber s: listOfSubscribers){\r\n   @Inject\r\n   ListenerBean l;\r\n   s = new Subscriber(l);\r\n}\r\n\r\n// The only thing I can do right now is\r\n@Inject\r\nListenerBean listener1;\r\n@Inject\r\nListenerBean listener2;\r\n@Inject\r\nListenerBean listener3;\r\n@Inject\r\nListenerBean listener4;\r\n```\r\n\r\n---\r\nEdit: The listeners *do* need to be identifiable. (Calls a setter after injection.) Probably not the best practice but not sure how else to implement this- \r\n* The listeners will listen to different topics (declared by the respective consumer)\r\n* Each listener must handle their messages based off of the topic\r\n``` java\r\n@Inject\r\nListenerBean listener1;\r\nlistener1.setTopic(&quot;TopicA&quot;);\r\n```","title":"Inject several of the Same CDI bean into a class?","body":"<p>Currently, I have everything working with one injection of my CDI bean, but I need about 6 to 10 separate instances(?) depending on my inputs. (Ideally, I would like to be able to inject a dynamic number of the same CDI beans depending on how many I need.)</p>\n<p>Unfortunately, I need to have the beans injected since the class depends on another CDI bean. (See the 2.CDI bean class below)</p>\n<ol>\n<li>Clients class</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class Clients {\n   Publisher pub;\n   Subscriber sub;\n   @Inject\n   ListenerBean listener;\n\n   public void init(){\n      pub = new Publisher();\n      sub = new Subscriber(listener);\n   }\n}\n</code></pre>\n<ol start=\"2\">\n<li>CDI bean class</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Dependent\npublic class ListenerBean{\n   @Inject\n   private eventHandler h;\n\n   public void onMessage(Msg msg){\n      h.doesSomething();\n   }\n}\n</code></pre>\n<p>The functionality I'm looking for, but not sure what's available out there. I haven't found anyone looking to accomplish the same thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(Subscriber s: listOfSubscribers){\n   @Inject\n   ListenerBean l;\n   s = new Subscriber(l);\n}\n\n// The only thing I can do right now is\n@Inject\nListenerBean listener1;\n@Inject\nListenerBean listener2;\n@Inject\nListenerBean listener3;\n@Inject\nListenerBean listener4;\n</code></pre>\n<hr />\n<p>Edit: The listeners <em>do</em> need to be identifiable. (Calls a setter after injection.) Probably not the best practice but not sure how else to implement this-</p>\n<ul>\n<li>The listeners will listen to different topics (declared by the respective consumer)</li>\n<li>Each listener must handle their messages based off of the topic</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\nListenerBean listener1;\nlistener1.setTopic(&quot;TopicA&quot;);\n</code></pre>\n"},{"tags":["java","android","android-studio","androidx"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635257807,"post_id":69724097,"comment_id":123245112,"body_markdown":"Where are/were you using startActivityForResult to upload a file?","body":"Where are/were you using startActivityForResult to upload a file?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635257891,"post_id":69724097,"comment_id":123245161,"body_markdown":"`Here is the code of the file uploading from webviewactivity.java in my android app` Dont think so. That code has nothing to do with uploading of a file. Only with selecting a file. Or taking a picture.","body":"<code>Here is the code of the file uploading from webviewactivity.java in my android app</code> Dont think so. That code has nothing to do with uploading of a file. Only with selecting a file. Or taking a picture."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635258027,"post_id":69724097,"comment_id":123245244,"body_markdown":"`It&#39;s showing me an error that startActivityForResult() is deprecated` That is no error but a warning. All will just work as allways. `and I have to use registerForActivityResult() instead. ` No. That is an advise only.","body":"<code>It&#39;s showing me an error that startActivityForResult() is deprecated</code> That is no error but a warning. All will just work as allways. <code>and I have to use registerForActivityResult() instead. </code> No. That is an advise only."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635258111,"post_id":69724097,"comment_id":123245282,"body_markdown":"`takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));` You cannot use Uri.fromFile() here since Andord N/24. Instead you should use a FileProvider.","body":"<code>takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));</code> You cannot use Uri.fromFile() here since Andord N/24. Instead you should use a FileProvider."}],"answers":[{"tags":[],"owner":{"account_id":18558592,"reputation":1060,"user_id":13523077,"display_name":"Abu Saeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635258584,"creation_date":1635258584,"answer_id":69725012,"question_id":69724097,"body_markdown":"\r\n    ActivityResultLauncher&lt;String&gt; mGetContent;//declare\r\ninitialize `mGetContent` by calling below function\r\n\r\n    private void initializePicker(){\r\n\t\tmGetContent =\r\n\t\t\t\tregisterForActivityResult(new ActivityResultContracts.GetContent(),\r\n\t\t\t\t\t\turi -&gt; {\r\n\t\t\t\t\t\t\tif(uri!=null) {\r\n\t\t\t\t\t\t\t\tnoticeUri = uri;\r\n                                //do your work here or\r\n                                //save the uri in global variable for future use\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\t\tToast.makeText(CROption.this, &quot;No file selected&quot;, Toast.LENGTH_SHORT).show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t}\r\n\r\nstart picker using below line:\r\n\r\n    mGetContent.launch(&quot;application/pdf&quot;)//allow to select only pdf files\r\n\r\n","title":"startActivityForResult in a file uploader showing error after migrating to androix in android studio","body":"<pre><code>ActivityResultLauncher&lt;String&gt; mGetContent;//declare\n</code></pre>\n<p>initialize <code>mGetContent</code> by calling below function</p>\n<pre><code>private void initializePicker(){\n    mGetContent =\n            registerForActivityResult(new ActivityResultContracts.GetContent(),\n                    uri -&gt; {\n                        if(uri!=null) {\n                            noticeUri = uri;\n                            //do your work here or\n                            //save the uri in global variable for future use\n                        }\n                        else{\n                            Toast.makeText(CROption.this, &quot;No file selected&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n}\n</code></pre>\n<p>start picker using below line:</p>\n<pre><code>mGetContent.launch(&quot;application/pdf&quot;)//allow to select only pdf files\n</code></pre>\n"}],"owner":{"account_id":8866910,"reputation":17,"user_id":6621800,"display_name":"Dhrubajyoti Sen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635258584,"creation_date":1635255225,"question_id":69724097,"body_markdown":"    //File manager\r\n            public boolean onShowFileChooser(\r\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\r\n                    FileChooserParams fileChooserParams) {\r\n                if (mUMA != null) {\r\n                    mUMA.onReceiveValue(null);\r\n                }\r\n                mUMA = filePathCallback;\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                if (takePictureIntent.resolveActivity(WebviewActivity.this.getPackageManager()) != null) {\r\n                    File photoFile = null;\r\n                    try {\r\n                        photoFile = createImageFile();\r\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\r\n                    } catch (IOException ex) {\r\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\r\n                    }\r\n                    if (photoFile != null) {\r\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\r\n                    } else {\r\n                        takePictureIntent = null;\r\n                    }\r\n                }\r\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                contentSelectionIntent.setType(&quot;*/*&quot;);\r\n                Intent[] intentArray;\r\n                if (takePictureIntent != null) {\r\n                    intentArray = new Intent[]{takePictureIntent};\r\n                } else {\r\n                    intentArray = new Intent[0];\r\n                }\r\n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\r\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\r\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\r\n                startActivityForResult(chooserIntent, FCR);\r\n                return true;\r\n            }\r\n\r\nHere is the code of the file uploading from webviewactivity.java in my android app. after I have updated my app to androidX in android studio. It&#39;s showing me an error that startActivityForResult() is deprecated function and I have to use registerForActivityResult() instead. I have fixed all the issues created after upgrading to androidX. May be as I am a junior android developer I can not understand how do I fix this issue I have also checked developer.android.com documention for registerForActivityResult() function but I can&#39;t understand How I can use that here and fix the issue as showing is android studio.\r\n\r\nA kind help from any senior is appricated. I have also compiled the app by ignoring this said issue showing in android studio that&#39;s compiled and working in my Smartphone having API level 24 not sure is File Upload will work on API level 29, 30, 31 phones. for your further information I can&#39;t use and Virtual Device since my Laptop is Resource is too low to work with AVD.\r\n\r\nThanks.","title":"startActivityForResult in a file uploader showing error after migrating to androix in android studio","body":"<pre><code>//File manager\n        public boolean onShowFileChooser(\n                WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\n                FileChooserParams fileChooserParams) {\n            if (mUMA != null) {\n                mUMA.onReceiveValue(null);\n            }\n            mUMA = filePathCallback;\n            Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n            if (takePictureIntent.resolveActivity(WebviewActivity.this.getPackageManager()) != null) {\n                File photoFile = null;\n                try {\n                    photoFile = createImageFile();\n                    takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\n                } catch (IOException ex) {\n                    Log.e(TAG, &quot;Image file creation failed&quot;, ex);\n                }\n                if (photoFile != null) {\n                    mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\n                    takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\n                } else {\n                    takePictureIntent = null;\n                }\n            }\n            Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\n            contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\n            contentSelectionIntent.setType(&quot;*/*&quot;);\n            Intent[] intentArray;\n            if (takePictureIntent != null) {\n                intentArray = new Intent[]{takePictureIntent};\n            } else {\n                intentArray = new Intent[0];\n            }\n            Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\n            chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\n            chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\n            chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\n            startActivityForResult(chooserIntent, FCR);\n            return true;\n        }\n</code></pre>\n<p>Here is the code of the file uploading from webviewactivity.java in my android app. after I have updated my app to androidX in android studio. It's showing me an error that startActivityForResult() is deprecated function and I have to use registerForActivityResult() instead. I have fixed all the issues created after upgrading to androidX. May be as I am a junior android developer I can not understand how do I fix this issue I have also checked developer.android.com documention for registerForActivityResult() function but I can't understand How I can use that here and fix the issue as showing is android studio.</p>\n<p>A kind help from any senior is appricated. I have also compiled the app by ignoring this said issue showing in android studio that's compiled and working in my Smartphone having API level 24 not sure is File Upload will work on API level 29, 30, 31 phones. for your further information I can't use and Virtual Device since my Laptop is Resource is too low to work with AVD.</p>\n<p>Thanks.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1635253221,"post_id":69723475,"comment_id":123242789,"body_markdown":"Does that not give the result you&#39;re after? Not exactly seeing what the problem is.","body":"Does that not give the result you&#39;re after? Not exactly seeing what the problem is."},{"owner":{"account_id":11672528,"reputation":190,"user_id":8547143,"display_name":"omnomnom"},"score":0,"creation_date":1635253432,"post_id":69723475,"comment_id":123242882,"body_markdown":"@ernest_k I&#39;m building a listview with the results. I want to have the keyword the string matched with in one of the columns. With the stream API I didn&#39;t find a way to get the keyword. I want to use the stream API because I think it performs better then the for loop for larger lists.","body":"@ernest_k I&#39;m building a listview with the results. I want to have the keyword the string matched with in one of the columns. With the stream API I didn&#39;t find a way to get the keyword. I want to use the stream API because I think it performs better then the for loop for larger lists."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1635253793,"post_id":69723475,"comment_id":123243056,"body_markdown":"The stream API does not perform better than for loops. It&#39;s nuanced, but the default conclusion is the opposite. As for your question, don&#39;t use `anyMatch`, filter and then use `findAny()` to get the result.","body":"The stream API does not perform better than for loops. It&#39;s nuanced, but the default conclusion is the opposite. As for your question, don&#39;t use <code>anyMatch</code>, filter and then use <code>findAny()</code> to get the result."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1635254411,"post_id":69723475,"comment_id":123243373,"body_markdown":"@omnomnom If you are looking for *exact matches*, then you may want to use a `HashSet` instead of a `List`, because it has better lookup performance.","body":"@omnomnom If you are looking for <i>exact matches</i>, then you may want to use a <code>HashSet</code> instead of a <code>List</code>, because it has better lookup performance."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1635254480,"post_id":69723475,"comment_id":123243404,"body_markdown":"@MCEmperor how is a HashSet going to be any better than a List when you want to use String.contains()?","body":"@MCEmperor how is a HashSet going to be any better than a List when you want to use String.contains()?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1635254605,"post_id":69723475,"comment_id":123243471,"body_markdown":"@k314159 Well, I was sleeping when I wrote that comment. I was wired to read `List::contains` instead of `String::contains`.","body":"@k314159 Well, I was sleeping when I wrote that comment. I was wired to read <code>List::contains</code> instead of <code>String::contains</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1635254706,"post_id":69723475,"comment_id":123243516,"body_markdown":"@MCEmperor I&#39;ve noted your edit, which now makes much more sense.","body":"@MCEmperor I&#39;ve noted your edit, which now makes much more sense."}],"answers":[{"tags":[],"owner":{"account_id":9135506,"reputation":527,"user_id":6795324,"display_name":"milt_on"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635253916,"creation_date":1635253673,"answer_id":69723708,"question_id":69723475,"body_markdown":"`anyMatch` returns a boolean\r\n\r\nUsing `.filter()` &amp; `findFirst()` you can retrieve a value. Note that if you use `findFirst()` you get an `Optional&lt;String&gt;` and could either use `ifPresent()` like this:\r\n\r\n```java\r\nkeywords.stream()\r\n\t.filter(keyword -&gt; text.toLowerCase().contains(keyword))\r\n\t.findFirst()\r\n\t.ifPresent(keyWord -&gt; System.out.println(&quot;[2] keyword &gt;&gt;&gt; &quot; + keyWord + &quot; text &gt;&gt;&gt; &quot; + text));\r\n```\r\n\r\nOr with `Optional.isPresent()` &amp; `Optional.get()`:\r\n\r\n```\r\nOptional&lt;String&gt; firstKey = keywords.stream()\r\n\t.filter(keyword -&gt; text.toLowerCase().contains(keyword))\r\n\t.findFirst();\r\n\r\nif (firstKey.isPresent()) {\r\n\tSystem.out.println(&quot;[2] keyword &gt;&gt;&gt; &quot; + firstKey.get() + &quot; | text &gt;&gt;&gt; &quot; + text);\r\n}\r\n```","title":"Need a way to get to get the pattern in a string matched with List.stream().anyMatch()","body":"<p><code>anyMatch</code> returns a boolean</p>\n<p>Using <code>.filter()</code> &amp; <code>findFirst()</code> you can retrieve a value. Note that if you use <code>findFirst()</code> you get an <code>Optional&lt;String&gt;</code> and could either use <code>ifPresent()</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>keywords.stream()\n    .filter(keyword -&gt; text.toLowerCase().contains(keyword))\n    .findFirst()\n    .ifPresent(keyWord -&gt; System.out.println(&quot;[2] keyword &gt;&gt;&gt; &quot; + keyWord + &quot; text &gt;&gt;&gt; &quot; + text));\n</code></pre>\n<p>Or with <code>Optional.isPresent()</code> &amp; <code>Optional.get()</code>:</p>\n<pre><code>Optional&lt;String&gt; firstKey = keywords.stream()\n    .filter(keyword -&gt; text.toLowerCase().contains(keyword))\n    .findFirst();\n\nif (firstKey.isPresent()) {\n    System.out.println(&quot;[2] keyword &gt;&gt;&gt; &quot; + firstKey.get() + &quot; | text &gt;&gt;&gt; &quot; + text);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":153878,"reputation":2055,"user_id":369446,"accept_rate":100,"display_name":"Michael Shopsin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635254009,"creation_date":1635254009,"answer_id":69723781,"question_id":69723475,"body_markdown":"As a less fancy alternative to `stream` there is a nicer `for` syntax in Java 1.6+\r\n\r\n    for(String keyword: keywords) {\r\n        if (text.toLowerCase().contains(keyword)) {\r\n            System.out.println(&quot;keyword &gt;&gt;&gt; &quot; + keyword\r\n                    + &quot;text &gt;&gt;&gt; &quot; + text);\r\n            break;\r\n        }\r\n    }\r\n\r\nI find the `for` syntax easier to read than the `stream` syntax. In a previous job I did a lot of C++ lambda functions with BOOST and the code was hard to parse, and the errors hard to trace.","title":"Need a way to get to get the pattern in a string matched with List.stream().anyMatch()","body":"<p>As a less fancy alternative to <code>stream</code> there is a nicer <code>for</code> syntax in Java 1.6+</p>\n<pre><code>for(String keyword: keywords) {\n    if (text.toLowerCase().contains(keyword)) {\n        System.out.println(&quot;keyword &gt;&gt;&gt; &quot; + keyword\n                + &quot;text &gt;&gt;&gt; &quot; + text);\n        break;\n    }\n}\n</code></pre>\n<p>I find the <code>for</code> syntax easier to read than the <code>stream</code> syntax. In a previous job I did a lot of C++ lambda functions with BOOST and the code was hard to parse, and the errors hard to trace.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635258425,"creation_date":1635258425,"answer_id":69724971,"question_id":69723475,"body_markdown":"Another option would be to print an informational message if the keyword was not found.  This is easily done by moving the `isPresent` test inside the print statement.\r\n\r\n```\r\nList&lt;String&gt; keywords =\r\n\t\tArrays.asList(&quot;now&quot;, &quot;is&quot;, &quot;the&quot;, &quot;time&quot;);\r\nString text = &quot;what are your names?&quot;;\r\n\t\t\r\nOptional&lt;String&gt; opt = keywords.stream()\r\n\t\t\t.filter(keyword -&gt; text\r\n\t\t\t\t\t.toLowerCase().contains(keyword))\r\n\t\t\t.findFirst();\r\n\r\n\r\nSystem.out.println(!opt.isPresent() ? &quot;No keyword was found!&quot; : \r\n\t\t\t\t\t\t\t\t&quot;keyword &gt;&gt;&gt; &quot; + opt.get() \r\n\t\t\t\t\t\t\t\t\t\t+ &quot; text &gt;&gt;&gt; &quot; + text);\r\n```\r\nPrints\r\n```\r\nNo keyword was found!","title":"Need a way to get to get the pattern in a string matched with List.stream().anyMatch()","body":"<p>Another option would be to print an informational message if the keyword was not found.  This is easily done by moving the <code>isPresent</code> test inside the print statement.</p>\n<pre><code>List&lt;String&gt; keywords =\n        Arrays.asList(&quot;now&quot;, &quot;is&quot;, &quot;the&quot;, &quot;time&quot;);\nString text = &quot;what are your names?&quot;;\n        \nOptional&lt;String&gt; opt = keywords.stream()\n            .filter(keyword -&gt; text\n                    .toLowerCase().contains(keyword))\n            .findFirst();\n\n\nSystem.out.println(!opt.isPresent() ? &quot;No keyword was found!&quot; : \n                                &quot;keyword &gt;&gt;&gt; &quot; + opt.get() \n                                        + &quot; text &gt;&gt;&gt; &quot; + text);\n</code></pre>\n<p>Prints</p>\n<pre><code>No keyword was found!\n</code></pre>\n"}],"owner":{"account_id":11672528,"reputation":190,"user_id":8547143,"display_name":"omnomnom"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69723708,"answer_count":3,"score":2,"last_activity_date":1635258425,"creation_date":1635252752,"question_id":69723475,"body_markdown":"I&#39;m matching a list of strings against a list of keywords. The goal is to get a string only one time if it has any of the keywords in it.\r\n\r\nActually I&#39;m doing it with this loop:\r\n\r\n```\r\nfor (int i = 0; i &lt; keywords.size(); i++) {\r\n   if (text.toLowerCase().contains(keywords.get(i))) {\r\n      System.out.println(&quot;keyword &gt;&gt;&gt; &quot; + keywords.get(i)\r\n         + &quot; text &gt;&gt;&gt; &quot; + text);\r\n      break;\r\n   }\r\n}\r\n```\r\n\r\nI like to know if there is a way to get the keyword if I&#39;m using the java stream API like so:\r\n\r\n```\r\nif (keywords.stream().anyMatch(text.toLowerCase()::contains)) {\r\n   System.out.println(&quot;keyword &gt;&gt;&gt; &quot; + &quot;how to get the keyword here&quot;\r\n         + &quot; text &gt;&gt;&gt; &quot; + text);\r\n}\r\n```","title":"Need a way to get to get the pattern in a string matched with List.stream().anyMatch()","body":"<p>I'm matching a list of strings against a list of keywords. The goal is to get a string only one time if it has any of the keywords in it.</p>\n<p>Actually I'm doing it with this loop:</p>\n<pre><code>for (int i = 0; i &lt; keywords.size(); i++) {\n   if (text.toLowerCase().contains(keywords.get(i))) {\n      System.out.println(&quot;keyword &gt;&gt;&gt; &quot; + keywords.get(i)\n         + &quot; text &gt;&gt;&gt; &quot; + text);\n      break;\n   }\n}\n</code></pre>\n<p>I like to know if there is a way to get the keyword if I'm using the java stream API like so:</p>\n<pre><code>if (keywords.stream().anyMatch(text.toLowerCase()::contains)) {\n   System.out.println(&quot;keyword &gt;&gt;&gt; &quot; + &quot;how to get the keyword here&quot;\n         + &quot; text &gt;&gt;&gt; &quot; + text);\n}\n</code></pre>\n"},{"tags":["java","indexing","lucene","hibernate-search"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635256306,"post_id":69723911,"comment_id":123244333,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635257900,"creation_date":1635257900,"answer_id":69724820,"question_id":69723911,"body_markdown":"Hibernate Search doesn&#39;t perform mass indexing on startup. If your application does, it&#39;s probably because of code *you* added to your application.\r\n\r\nYou should just tune that code to only perform mass indexing when you want.\r\n\r\nUsually what I do is add a button to the administration console of my application, to perform mass indexing when I want. And I don&#39;t do it on startup.","title":"Avoiding indexation by Lucene every time Java application is starting","body":"<p>Hibernate Search doesn't perform mass indexing on startup. If your application does, it's probably because of code <em>you</em> added to your application.</p>\n<p>You should just tune that code to only perform mass indexing when you want.</p>\n<p>Usually what I do is add a button to the administration console of my application, to perform mass indexing when I want. And I don't do it on startup.</p>\n"}],"owner":{"account_id":18877165,"reputation":3,"user_id":13770416,"display_name":"Michał G."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69724820,"answer_count":1,"score":0,"last_activity_date":1635257900,"creation_date":1635254497,"question_id":69723911,"body_markdown":"ISSUE: My issue is that indexation done by Lucene in my Java app is taking 50 minutes every time I am restarting the application.\r\n\r\nWHAT I HAVE TRIED: Indices were saved in RAM so I have changed properties to &quot;hibernate.directory.provider=filesystem&quot;. As a result the indices are saved in the HDD location, but unfortunately indexation is still being performed when application is restarting.\r\n\r\nQUESTION: Does anyone know how to avoid overwriting indices by Lucene when restarting the app? My hibernate.search version is 4.4.3.\r\n","title":"Avoiding indexation by Lucene every time Java application is starting","body":"<p>ISSUE: My issue is that indexation done by Lucene in my Java app is taking 50 minutes every time I am restarting the application.</p>\n<p>WHAT I HAVE TRIED: Indices were saved in RAM so I have changed properties to &quot;hibernate.directory.provider=filesystem&quot;. As a result the indices are saved in the HDD location, but unfortunately indexation is still being performed when application is restarting.</p>\n<p>QUESTION: Does anyone know how to avoid overwriting indices by Lucene when restarting the app? My hibernate.search version is 4.4.3.</p>\n"},{"tags":["java","shell","sudo"],"answers":[{"tags":[],"owner":{"account_id":3475447,"reputation":574,"user_id":2908776,"display_name":"jane arc"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1382485788,"creation_date":1382485788,"answer_id":19530325,"question_id":12608293,"body_markdown":"So I am not sure I&#39;d use `$SUDO_ASKPASS` for this. Basically the value of `$SUDO_ASKPASS` is to be an executable that will spit your password to standard out when invoked. So, if your password was &#39;foo&#39;, you could write a shell script as:\r\n\r\n    #!/bin/bash\r\n    echo &#39;foo&#39;\r\n\r\nand place it in `~/bin/pw.sh`. Then you would set the environment variable and execute the command as so:\r\n\r\n    SUDO_ASKPASS=${HOME}/bin/pw.sh sudo shutdown -h now\r\n\r\nthat example assumes that you&#39;re on Darwin; `shutdown` behaves differently on different operating systems.\r\n\r\nA more intelligent way of doing this (and more secure) is to use the `NOPASSWD` argument in `/etc/sudoers`. We would add a line like this:\r\n\r\n    jane ALL=NOPASSWD: /sbin/shutdown\r\n\r\nThis again assumes you&#39;re on a Mac. And that your name is Jane. Change that. This way sudo will not ask for a password when you issue the command `/sbin/shutdown`. The command to (properly) [edit sudoers][1] is `visudo`.\r\n\r\n\r\n  [1]: http://www.sudo.ws/visudo.man.html","title":"How to setup a SUDO_ASKPASS environment variable?","body":"<p>So I am not sure I'd use <code>$SUDO_ASKPASS</code> for this. Basically the value of <code>$SUDO_ASKPASS</code> is to be an executable that will spit your password to standard out when invoked. So, if your password was 'foo', you could write a shell script as:</p>\n\n<pre><code>#!/bin/bash\necho 'foo'\n</code></pre>\n\n<p>and place it in <code>~/bin/pw.sh</code>. Then you would set the environment variable and execute the command as so:</p>\n\n<pre><code>SUDO_ASKPASS=${HOME}/bin/pw.sh sudo shutdown -h now\n</code></pre>\n\n<p>that example assumes that you're on Darwin; <code>shutdown</code> behaves differently on different operating systems.</p>\n\n<p>A more intelligent way of doing this (and more secure) is to use the <code>NOPASSWD</code> argument in <code>/etc/sudoers</code>. We would add a line like this:</p>\n\n<pre><code>jane ALL=NOPASSWD: /sbin/shutdown\n</code></pre>\n\n<p>This again assumes you're on a Mac. And that your name is Jane. Change that. This way sudo will not ask for a password when you issue the command <code>/sbin/shutdown</code>. The command to (properly) <a href=\"http://www.sudo.ws/visudo.man.html\">edit sudoers</a> is <code>visudo</code>.</p>\n"},{"tags":[],"owner":{"account_id":6247495,"reputation":1971,"user_id":4858818,"accept_rate":95,"display_name":"F.M.F."},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635257583,"creation_date":1635257583,"answer_id":69724718,"question_id":12608293,"body_markdown":"**Mac-specific answer:**\r\n\r\nIf you don&#39;t want your clear-text password in some file you can also invoke a GUI prompt to enter the password manually whenever something like `sudo -A ...` is called. To do so create a binary with the following content (taken from [this answer][1]):\r\n\r\n    #!/bin/bash    \r\n    pw=&quot;$(osascript -e &#39;Tell application &quot;System Events&quot; to display dialog &quot;Password:&quot; default answer &quot;&quot; with hidden answer&#39; -e &#39;text returned of result&#39; 2&gt;/dev/null)&quot; &amp;&amp; echo &quot;$pw&quot;\r\n\r\nYou can put it for example in a file called `~/bin/pw.sh`. Then make it executable by executing `chmod +x ~/bin/pw.sh`.\r\n\r\nFinally set the environment variable to point to this file. Therefore put the following into `~/.bashrc` (or `~/.zshrc` if you use Z shell):\r\n\r\n    SUDO_ASKPASS=${HOME}/bin/pw.sh\r\n\r\nFinally test everything by executing `source ~/.bashrc` (or `source ~/.zshrc`) and then `sudo -A ls`.\r\n\r\n  [1]: https://apple.stackexchange.com/a/23514","title":"How to setup a SUDO_ASKPASS environment variable?","body":"<p><strong>Mac-specific answer:</strong></p>\n<p>If you don't want your clear-text password in some file you can also invoke a GUI prompt to enter the password manually whenever something like <code>sudo -A ...</code> is called. To do so create a binary with the following content (taken from <a href=\"https://apple.stackexchange.com/a/23514\">this answer</a>):</p>\n<pre><code>#!/bin/bash    \npw=&quot;$(osascript -e 'Tell application &quot;System Events&quot; to display dialog &quot;Password:&quot; default answer &quot;&quot; with hidden answer' -e 'text returned of result' 2&gt;/dev/null)&quot; &amp;&amp; echo &quot;$pw&quot;\n</code></pre>\n<p>You can put it for example in a file called <code>~/bin/pw.sh</code>. Then make it executable by executing <code>chmod +x ~/bin/pw.sh</code>.</p>\n<p>Finally set the environment variable to point to this file. Therefore put the following into <code>~/.bashrc</code> (or <code>~/.zshrc</code> if you use Z shell):</p>\n<pre><code>SUDO_ASKPASS=${HOME}/bin/pw.sh\n</code></pre>\n<p>Finally test everything by executing <code>source ~/.bashrc</code> (or <code>source ~/.zshrc</code>) and then <code>sudo -A ls</code>.</p>\n"}],"owner":{"account_id":1880014,"reputation":121,"user_id":1700434,"display_name":"user1700434"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19611,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1635257583,"creation_date":1348684804,"question_id":12608293,"body_markdown":"What does setting up a SUDO_ASKPASS environment variable mean? How do you do it? Where do I declare it?\r\n\r\nI am trying to use a shell script to shutoff my computer after a couple of minutes and initiate this script with java.","title":"How to setup a SUDO_ASKPASS environment variable?","body":"<p>What does setting up a SUDO_ASKPASS environment variable mean? How do you do it? Where do I declare it?</p>\n\n<p>I am trying to use a shell script to shutoff my computer after a couple of minutes and initiate this script with java.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":0,"creation_date":1632472604,"post_id":69311604,"comment_id":122506650,"body_markdown":"You could simply add a conditional redirect in `openFinDetailsForm`…?","body":"You could simply add a conditional redirect in <code>openFinDetailsForm</code>…?"},{"owner":{"account_id":14558903,"reputation":1,"user_id":16991394,"display_name":"Joseph"},"score":0,"creation_date":1632473640,"post_id":69311604,"comment_id":122507055,"body_markdown":"@slauth Thank you for your reply. Is there a way to check whether `openFinDetailsForm` is being called from `saveCustomerForm()`?","body":"@slauth Thank you for your reply. Is there a way to check whether <code>openFinDetailsForm</code> is being called from <code>saveCustomerForm()</code>?"},{"owner":{"account_id":9073858,"reputation":2807,"user_id":6756090,"display_name":"slauth"},"score":1,"creation_date":1632474520,"post_id":69311604,"comment_id":122507413,"body_markdown":"I think you should just concentrate on whether the required data is available. In the end you must be storing it somewhere, don&#39;t you? If data is missing, redirect to the start.","body":"I think you should just concentrate on whether the required data is available. In the end you must be storing it somewhere, don&#39;t you? If data is missing, redirect to the start."},{"owner":{"account_id":14558903,"reputation":1,"user_id":16991394,"display_name":"Joseph"},"score":0,"creation_date":1632476925,"post_id":69311604,"comment_id":122508461,"body_markdown":"@slauth yes indeed. The data is stored in an Oracle DB. I will try to check if the form data is available as you mentioned and hopefully it works. Thanks for your help!","body":"@slauth yes indeed. The data is stored in an Oracle DB. I will try to check if the form data is available as you mentioned and hopefully it works. Thanks for your help!"}],"answers":[{"tags":[],"owner":{"account_id":23020582,"reputation":125,"user_id":17141696,"display_name":"Pranay Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635257574,"creation_date":1635257574,"answer_id":69724715,"question_id":69311604,"body_markdown":"First, make sure every field on your user info page should be filled before submitting the form and redirecting to the financial\r\n\r\nGenerate an ID along with the page of user details and if the user details page is filled and submitted then that ID could be generated in your database.\r\n\r\nThen pass that ID as a parameter in your URL of financial detail and in your controller take that as a request parameter, put it in a condition whether it is null or not then pass it with redirection or failing to access without a user detail message.","title":"Is there a way in Spring Boot to restrict access to a certain endpoint unless a form from a previous page is submitted?","body":"<p>First, make sure every field on your user info page should be filled before submitting the form and redirecting to the financial</p>\n<p>Generate an ID along with the page of user details and if the user details page is filled and submitted then that ID could be generated in your database.</p>\n<p>Then pass that ID as a parameter in your URL of financial detail and in your controller take that as a request parameter, put it in a condition whether it is null or not then pass it with redirection or failing to access without a user detail message.</p>\n"}],"owner":{"account_id":14558903,"reputation":1,"user_id":16991394,"display_name":"Joseph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635257574,"creation_date":1632470804,"question_id":69311604,"body_markdown":"Here&#39;s the normal behavior of my Spring Boot application:\r\n\r\nA landing page where the user can fill a form with general information (http://localhost:8085/customers/generalInfo/). Upon submit, the user is redirected to the financial details page (http://localhost:8085/customers/financialDetails) where he can fill another form and submit the results.\r\n\r\nMy Controllers classes are as follows:\r\n\r\nGeneralInfoController.java\r\n\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/customers/generalInfo&quot;)\r\npublic class CustomerController {\r\n\r\n\t@GetMapping\r\n\tpublic String openCustomerForm(Model model) {\r\n\r\n        model.addAttribute(&quot;mainContact&quot;, new MainContact());\r\n\r\n\t\treturn &quot;general-info&quot;; // general-info.html\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/saveInfo&quot;)\r\n\tpublic String saveCustomerForm(@Valid MainContact mainContact, Model model) {\r\n\t\t/*\r\n         *  something\r\n         */\r\n\t\treturn &quot;redirect:/customers/financialDetails&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nfinancialDetailsController.java\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/customers/financialDetails&quot;)\r\npublic class CustomerController {\r\n\r\n\t@GetMapping\r\n\tpublic String openFinDetailsForm(Model model) {\r\n        model.addAttribute(&quot;financialDetails&quot;, new FinancialDetails());\r\n\t\treturn &quot;financial-details&quot;; // financial-details.html\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/saveFinancialDetails&quot;)\r\n\tpublic String saveFinancialForm(@Valid FinancialDetails financialDetails, Model model) {\r\n\t\t/*\r\n         *  something\r\n         */\r\n\t\treturn &quot;redirect:/done&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nMy problem is that I can access the financial details form through http://localhost:8085/customers/financialDetails without even filling the General Information form, which is totally expected. But in my case, I don&#39;t want the user to have access to the &#39;financial details&#39; page unless the &#39;general info&#39; form is filled and submitted.\r\n\r\nI tried to use Spring-boot&#39;s Security. If I explicitly authorize certain endpoints, (which means all other are restricted by default), then the &quot;/customers/financialDetails&quot; endpoint will not be accessible even upon submitting the previous form.(Expected behavior)\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\r\n\t\t\thttp.authorizeRequests()\r\n\t\t\t\t.antMatchers(&quot;/customers/generalInfo&quot;,\r\n\t\t\t\t\t\t\t &quot;/assets/**&quot;,\r\n\t\t\t\t\t\t\t &quot;/common/**&quot;,\r\n\t\t\t\t\t\t\t &quot;/images/**&quot;,\r\n\t\t\t\t\t\t\t &quot;/js/**&quot;,\r\n\t\t\t\t\t\t\t &quot;/styles/**&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t\t.anyRequest().authenticated();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nIn other words, I don&#39;t want the user of this application to be able to access the second form directly from the browser by entering the URL. He should have access to &quot;/customers/generalInfo&quot; and be redirected to &quot;/customers/financialDetails&quot; only when the form is filled and submitted. Is that even achievable in Spring-boot?\r\n","title":"Is there a way in Spring Boot to restrict access to a certain endpoint unless a form from a previous page is submitted?","body":"<p>Here's the normal behavior of my Spring Boot application:</p>\n<p>A landing page where the user can fill a form with general information (http://localhost:8085/customers/generalInfo/). Upon submit, the user is redirected to the financial details page (http://localhost:8085/customers/financialDetails) where he can fill another form and submit the results.</p>\n<p>My Controllers classes are as follows:</p>\n<p>GeneralInfoController.java</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/customers/generalInfo&quot;)\npublic class CustomerController {\n\n    @GetMapping\n    public String openCustomerForm(Model model) {\n\n        model.addAttribute(&quot;mainContact&quot;, new MainContact());\n\n        return &quot;general-info&quot;; // general-info.html\n    }\n    \n    @PostMapping(&quot;/saveInfo&quot;)\n    public String saveCustomerForm(@Valid MainContact mainContact, Model model) {\n        /*\n         *  something\n         */\n        return &quot;redirect:/customers/financialDetails&quot;;\n    }\n}\n</code></pre>\n<p>financialDetailsController.java</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/customers/financialDetails&quot;)\npublic class CustomerController {\n\n    @GetMapping\n    public String openFinDetailsForm(Model model) {\n        model.addAttribute(&quot;financialDetails&quot;, new FinancialDetails());\n        return &quot;financial-details&quot;; // financial-details.html\n    }\n    \n    @PostMapping(&quot;/saveFinancialDetails&quot;)\n    public String saveFinancialForm(@Valid FinancialDetails financialDetails, Model model) {\n        /*\n         *  something\n         */\n        return &quot;redirect:/done&quot;;\n    }\n}\n</code></pre>\n<p>My problem is that I can access the financial details form through http://localhost:8085/customers/financialDetails without even filling the General Information form, which is totally expected. But in my case, I don't want the user to have access to the 'financial details' page unless the 'general info' form is filled and submitted.</p>\n<p>I tried to use Spring-boot's Security. If I explicitly authorize certain endpoints, (which means all other are restricted by default), then the &quot;/customers/financialDetails&quot; endpoint will not be accessible even upon submitting the previous form.(Expected behavior)</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        \n            http.authorizeRequests()\n                .antMatchers(&quot;/customers/generalInfo&quot;,\n                             &quot;/assets/**&quot;,\n                             &quot;/common/**&quot;,\n                             &quot;/images/**&quot;,\n                             &quot;/js/**&quot;,\n                             &quot;/styles/**&quot;)\n                .permitAll()\n                .anyRequest().authenticated();\n    }\n\n}\n</code></pre>\n<p>In other words, I don't want the user of this application to be able to access the second form directly from the browser by entering the URL. He should have access to &quot;/customers/generalInfo&quot; and be redirected to &quot;/customers/financialDetails&quot; only when the form is filled and submitted. Is that even achievable in Spring-boot?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":2,"creation_date":1633436868,"post_id":69450005,"comment_id":122754607,"body_markdown":"you dont show us any of the actions you have described: code for updating, dropping, persisting...","body":"you dont show us any of the actions you have described: code for updating, dropping, persisting..."},{"owner":{"account_id":22271358,"reputation":37,"user_id":16501265,"display_name":"bloodycheri"},"score":0,"creation_date":1633445925,"post_id":69450005,"comment_id":122758913,"body_markdown":"@JAsgarov I edited my inital question with a sample.","body":"@JAsgarov I edited my inital question with a sample."},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1633451387,"post_id":69450005,"comment_id":122761293,"body_markdown":"&quot;Then I update the MainEntity by dropping the above SubEntity and adding a new one with the exact same foo and bar.&quot;  - missing code","body":"&quot;Then I update the MainEntity by dropping the above SubEntity and adding a new one with the exact same foo and bar.&quot;  - missing code"},{"owner":{"account_id":22271358,"reputation":37,"user_id":16501265,"display_name":"bloodycheri"},"score":0,"creation_date":1633503644,"post_id":69450005,"comment_id":122773498,"body_markdown":"@JAsgarov I actually did that by replacing the whole `Set`. See the code below `I try to persist the MainEntity again.`","body":"@JAsgarov I actually did that by replacing the whole <code>Set</code>. See the code below <code>I try to persist the MainEntity again.</code>"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1633523148,"post_id":69450005,"comment_id":122781351,"body_markdown":"try persisting it with empty linkedHashSet first","body":"try persisting it with empty linkedHashSet first"}],"answers":[{"tags":[],"owner":{"account_id":23135493,"reputation":277,"user_id":17239785,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635257320,"creation_date":1635257320,"answer_id":69724659,"question_id":69450005,"body_markdown":"| id   | foo   | bar   | main_entry_id |\r\n|:---: |:-----:| :----:| :-----------: |\r\n| 1    | a     | b     | 1             |\r\n\r\nif you have the table like this with unique foo and bar, first you have to get the ```id``` of the previous entry and set it to the current entry ```id```.  \r\nFor example:  \r\n```\r\nMainEntity mainEntity = new MainEntity();\r\nSubEntity sub = new SubEntity();\r\nsub.setFoo(&quot;a&quot;);\r\nsub.setBar(&quot;b&quot;);\r\nsub.setMainEntity(mainEntity);\r\nmainEntity.setSubEntities(new LinkedHashSet&lt;&gt;(sub));\r\nMainEntity mainEntityResult = entityManager.persist(mainEntity);\r\n\r\nSubEntity anotherSub = new SubEntity();\r\nanotherSub.setFoo(&quot;a&quot;);\r\nanotherSub.setBar(&quot;b&quot;);\r\nanotherSub.setMainEntity(mainEntity);\r\nLong subEntryId = SubEntryService.getIdbyFoo(mainEntityResult.getId()); // create a service to get the id of previous &#39;subEntity&#39;\r\nanotherSub.setId(subEntryId);\r\n\r\nmainEntity.setSubEntities(new LinkedHashSet&lt;&gt;(Arrays.asList(anotherSub)));\r\nentityManager.persist(mainEntity);\r\n```\r\nthe concept is to update already existing entry we have to pass the id of that previous entry","title":"How to both delete and add value from a set","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">id</th>\n<th style=\"text-align: center;\">foo</th>\n<th style=\"text-align: center;\">bar</th>\n<th style=\"text-align: center;\">main_entry_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">1</td>\n<td style=\"text-align: center;\">a</td>\n<td style=\"text-align: center;\">b</td>\n<td style=\"text-align: center;\">1</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>if you have the table like this with unique foo and bar, first you have to get the <code>id</code> of the previous entry and set it to the current entry <code>id</code>.<br />\nFor example:</p>\n<pre><code>MainEntity mainEntity = new MainEntity();\nSubEntity sub = new SubEntity();\nsub.setFoo(&quot;a&quot;);\nsub.setBar(&quot;b&quot;);\nsub.setMainEntity(mainEntity);\nmainEntity.setSubEntities(new LinkedHashSet&lt;&gt;(sub));\nMainEntity mainEntityResult = entityManager.persist(mainEntity);\n\nSubEntity anotherSub = new SubEntity();\nanotherSub.setFoo(&quot;a&quot;);\nanotherSub.setBar(&quot;b&quot;);\nanotherSub.setMainEntity(mainEntity);\nLong subEntryId = SubEntryService.getIdbyFoo(mainEntityResult.getId()); // create a service to get the id of previous 'subEntity'\nanotherSub.setId(subEntryId);\n\nmainEntity.setSubEntities(new LinkedHashSet&lt;&gt;(Arrays.asList(anotherSub)));\nentityManager.persist(mainEntity);\n</code></pre>\n<p>the concept is to update already existing entry we have to pass the id of that previous entry</p>\n"}],"owner":{"account_id":22271358,"reputation":37,"user_id":16501265,"display_name":"bloodycheri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69724659,"answer_count":1,"score":0,"last_activity_date":1635257320,"creation_date":1633434988,"question_id":69450005,"body_markdown":"Considering the following entities:\r\n\r\n    @Entity\r\n    public class MainEntity {\r\n      /*...*/\r\n      @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;mainEntity&quot;)\r\n      private Set&lt;SubEntity&gt; subEntities = new LinkedHashSet&lt;&gt;();\r\n      /*...*/\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Table(uniqueConstraints = {\r\n      @UniqueConstraint(columnNames = {&quot;foo&quot;, &quot;bar&quot;})\r\n    })\r\n    public class SubEntity {\r\n      /*...*/\r\n\r\n      @ManyToOne(optional = false)\r\n      private MainEntity mainEntity;\r\n\r\n      @Column(nullable = false)\r\n      private String foo;\r\n    \r\n       @Column(nullable = false)\r\n      private String bar;\r\n      /*...*/\r\n    }\r\n\r\nI create a new `MainEntity` with 1 `SubEntity` with `{foo:&quot;a&quot;, bar:&quot;b&quot;}` and persist it.\r\n\r\n    MainEntity mainEntity = new MainEntity();\r\n    SubEntity sub = new SubEntity();\r\n    sub.setFoo(&quot;a&quot;);\r\n    sub.setBar(&quot;b&quot;);\r\n    sub.setMainEntity(mainEntity);\r\n    mainEntity.setSubEntities(new LinkedHashSet&lt;&gt;(sub));\r\n    entityManager.persist(mainEntity);\r\n\r\nThen I update the `MainEntity` by dropping the above `SubEntity` and adding a new one with the exact same foo and bar.\r\n\r\nI try to persist the `MainEntity` again.\r\n\r\n    SubEntity anotherSub = new SubEntity();\r\n    anotherSub.setFoo(&quot;a&quot;);\r\n    anotherSub.setBar(&quot;b&quot;);\r\n    anotherSub.setMainEntity(mainEntity);\r\n    // replace\r\n    mainEntity.setSubEntities(new LinkedHashSet&lt;&gt;(Arrays.asList(anotherSub)));\r\n    entityManager.persist(mainEntity); // throws org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n\r\nI expect the initial `SubEntity` to be deleted and a new `SubEntity` to be added.\r\n\r\nHowever, the very first query is adding the new `SubEntity` (before removing the old one) which does not work since there is a SQL unique constraint that is violated because the other `SubEntity` is not deleted yet.\r\n\r\nWhat am I missing?\r\n","title":"How to both delete and add value from a set","body":"<p>Considering the following entities:</p>\n<pre><code>@Entity\npublic class MainEntity {\n  /*...*/\n  @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy = &quot;mainEntity&quot;)\n  private Set&lt;SubEntity&gt; subEntities = new LinkedHashSet&lt;&gt;();\n  /*...*/\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Table(uniqueConstraints = {\n  @UniqueConstraint(columnNames = {&quot;foo&quot;, &quot;bar&quot;})\n})\npublic class SubEntity {\n  /*...*/\n\n  @ManyToOne(optional = false)\n  private MainEntity mainEntity;\n\n  @Column(nullable = false)\n  private String foo;\n\n   @Column(nullable = false)\n  private String bar;\n  /*...*/\n}\n</code></pre>\n<p>I create a new <code>MainEntity</code> with 1 <code>SubEntity</code> with <code>{foo:&quot;a&quot;, bar:&quot;b&quot;}</code> and persist it.</p>\n<pre><code>MainEntity mainEntity = new MainEntity();\nSubEntity sub = new SubEntity();\nsub.setFoo(&quot;a&quot;);\nsub.setBar(&quot;b&quot;);\nsub.setMainEntity(mainEntity);\nmainEntity.setSubEntities(new LinkedHashSet&lt;&gt;(sub));\nentityManager.persist(mainEntity);\n</code></pre>\n<p>Then I update the <code>MainEntity</code> by dropping the above <code>SubEntity</code> and adding a new one with the exact same foo and bar.</p>\n<p>I try to persist the <code>MainEntity</code> again.</p>\n<pre><code>SubEntity anotherSub = new SubEntity();\nanotherSub.setFoo(&quot;a&quot;);\nanotherSub.setBar(&quot;b&quot;);\nanotherSub.setMainEntity(mainEntity);\n// replace\nmainEntity.setSubEntities(new LinkedHashSet&lt;&gt;(Arrays.asList(anotherSub)));\nentityManager.persist(mainEntity); // throws org.hibernate.exception.ConstraintViolationException: could not execute statement\n</code></pre>\n<p>I expect the initial <code>SubEntity</code> to be deleted and a new <code>SubEntity</code> to be added.</p>\n<p>However, the very first query is adding the new <code>SubEntity</code> (before removing the old one) which does not work since there is a SQL unique constraint that is violated because the other <code>SubEntity</code> is not deleted yet.</p>\n<p>What am I missing?</p>\n"},{"tags":["java","loops","for-loop","while-loop"],"answers":[{"tags":[],"owner":{"account_id":6385475,"reputation":98,"user_id":4953535,"display_name":"bgore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635248928,"creation_date":1635245348,"answer_id":69721702,"question_id":69721199,"body_markdown":"the code is great so far. \r\nWhen a user answers a question with an invalid answer you already detect that which is great however what you want to do is re ask the user for input\r\nso if you keep track of if a user has entered a valid or not\r\n\r\n    boolean hasEnteredValidAnswer = false\r\n    while(!hasEnteredValidAnswer) {\r\n        String userAnswer = input.nextLine();\r\n    \r\n        if(&quot;a&quot;.equals(userAnswer) || &quot;b&quot;.equals(userAnswer) || &quot;c&quot;.equals(userAnswer)) {\r\n            hasEnteredValidAnswer = true                    \r\n        }\r\n        else {\r\n            System.out.println(&quot;Invalid input, try again&quot;);\r\n        }\r\n    }","title":"how to let the user answer same question if input is invalid in a quiz","body":"<p>the code is great so far.\nWhen a user answers a question with an invalid answer you already detect that which is great however what you want to do is re ask the user for input\nso if you keep track of if a user has entered a valid or not</p>\n<pre><code>boolean hasEnteredValidAnswer = false\nwhile(!hasEnteredValidAnswer) {\n    String userAnswer = input.nextLine();\n\n    if(&quot;a&quot;.equals(userAnswer) || &quot;b&quot;.equals(userAnswer) || &quot;c&quot;.equals(userAnswer)) {\n        hasEnteredValidAnswer = true                    \n    }\n    else {\n        System.out.println(&quot;Invalid input, try again&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635257268,"creation_date":1635257268,"answer_id":69724643,"question_id":69721199,"body_markdown":"Use a `while` loop INSTEAD of a `for` loop:\r\n\r\n            int i = 0;\r\n            while (i &lt; questionAnswers.length){\r\n                System.out.println(questionAnswers[i].questions);\r\n            \r\n                String userAnswer = input.nextLine();\r\n    \r\n                if(userAnswer.equals(questionAnswers[i].answers)) {            \r\n                    points++;\r\n                    System.out.println(&quot;Correct! Your points:&quot; + points);\r\n                    ++i;\r\n                } else {\r\n                    System.out.println(&quot;Invalid input, try again&quot;);\r\n                    // do not increment i\r\n                }\r\n            }\r\n","title":"how to let the user answer same question if input is invalid in a quiz","body":"<p>Use a <code>while</code> loop INSTEAD of a <code>for</code> loop:</p>\n<pre><code>        int i = 0;\n        while (i &lt; questionAnswers.length){\n            System.out.println(questionAnswers[i].questions);\n        \n            String userAnswer = input.nextLine();\n\n            if(userAnswer.equals(questionAnswers[i].answers)) {            \n                points++;\n                System.out.println(&quot;Correct! Your points:&quot; + points);\n                ++i;\n            } else {\n                System.out.println(&quot;Invalid input, try again&quot;);\n                // do not increment i\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":23147433,"reputation":15,"user_id":17250008,"display_name":"Dragneel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":69724643,"answer_count":2,"score":-3,"last_activity_date":1635257268,"creation_date":1635242936,"question_id":69721199,"body_markdown":"I&#39;m making a quiz-game for my school project. I&#39;m having trouble to let the user answer the same question if the input is invalid. I want to let the user answer the same question when no valid input on all questions.\r\n\r\nhere&#39;s my code so far : \r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class MainClass {\r\n\r\n    public static void main(String[]args) {\r\n    \r\n    \tString quest1 = (&quot;Who founded the company spaceX?\\na: Will Smith\\nb: Elon Musk\\nc: Kevin Hart&quot;);\r\n    \tString quest2 = (&quot;Which sport is the most famous in the world?\\na: Football\\nb: Basketball\\nc: Tennis&quot;);\r\n    \t\r\n    \tquestionsAndAnswers [] questionAnswers = {\t\t\t\r\n    \t\t\tnew questionsAndAnswers(quest1, &quot;b&quot;),\r\n    \t\t\tnew questionsAndAnswers(quest2, &quot;a&quot;)\r\n    \t};\r\n    \r\n    \tdoQuiz(questionAnswers);\r\n    }\r\n\r\n    public static void doQuiz(questionsAndAnswers[] questionAnswers) {\r\n    \t\r\n    \tint points = 0;\r\n    \t\r\n    \tScanner input = new Scanner(System.in);\r\n    \t\r\n    \tboolean looper = true;\r\n    \t\r\n    \twhile (looper) {\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; questionAnswers.length; i++){\r\n    \t\t\tSystem.out.println(questionAnswers[i].questions);\r\n    \t\t\r\n    \t\t\tString userAnswer = input.nextLine();\r\n    \r\n    \t\t\tif(!&quot;a&quot;.equals(userAnswer) &amp;&amp; !&quot;b&quot;.equals(userAnswer) &amp;&amp; !&quot;c&quot;.equals(userAnswer)) {\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(&quot;Invalid input, try again&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\telse if(userAnswer.equals(questionAnswers[i].answers)) {\t\t\t\r\n    \t\t\t\tpoints++;\r\n    \t\t\t\tSystem.out.println(&quot;Correct! Your points:&quot; + points);\r\n    \t\t\t}\r\n    \t\t\tcontinue;\r\n    \t\t}\r\n    \t\tlooper = false;\r\n    \t}\r\n    }\t\r\n}\r\n```\r\n","title":"how to let the user answer same question if input is invalid in a quiz","body":"<p>I'm making a quiz-game for my school project. I'm having trouble to let the user answer the same question if the input is invalid. I want to let the user answer the same question when no valid input on all questions.</p>\n<p>here's my code so far :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class MainClass {\n\n    public static void main(String[]args) {\n    \n        String quest1 = (&quot;Who founded the company spaceX?\\na: Will Smith\\nb: Elon Musk\\nc: Kevin Hart&quot;);\n        String quest2 = (&quot;Which sport is the most famous in the world?\\na: Football\\nb: Basketball\\nc: Tennis&quot;);\n        \n        questionsAndAnswers [] questionAnswers = {          \n                new questionsAndAnswers(quest1, &quot;b&quot;),\n                new questionsAndAnswers(quest2, &quot;a&quot;)\n        };\n    \n        doQuiz(questionAnswers);\n    }\n\n    public static void doQuiz(questionsAndAnswers[] questionAnswers) {\n        \n        int points = 0;\n        \n        Scanner input = new Scanner(System.in);\n        \n        boolean looper = true;\n        \n        while (looper) {\n            \n            for(int i = 0; i &lt; questionAnswers.length; i++){\n                System.out.println(questionAnswers[i].questions);\n            \n                String userAnswer = input.nextLine();\n    \n                if(!&quot;a&quot;.equals(userAnswer) &amp;&amp; !&quot;b&quot;.equals(userAnswer) &amp;&amp; !&quot;c&quot;.equals(userAnswer)) {\n                    \n                    System.out.println(&quot;Invalid input, try again&quot;);\n                    break;\n                }\n                \n                else if(userAnswer.equals(questionAnswers[i].answers)) {            \n                    points++;\n                    System.out.println(&quot;Correct! Your points:&quot; + points);\n                }\n                continue;\n            }\n            looper = false;\n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":2070183,"reputation":91,"user_id":1844850,"display_name":"Hannes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635257113,"creation_date":1635257113,"answer_id":69724604,"question_id":65117091,"body_markdown":"Short Answer: **No.**\r\n\r\nI had the same issue came to the conclusion that this is not possible at the moment. Mainly because intended or not implemented yet, see: https://github.com/eclipse-ee4j/jpa-api/issues/167\r\n\r\nFor the testing I created a repository to find any event I could consumer for the given purpose: https://github.com/HannesRakete/so-jpa-element-collection-events\r\n\r\n## Workaround 1 ##\r\nAdd a @Version for optimistic locking on the parent entity.\r\n\r\n## Workaround 2 ##\r\nMigrate to another association-type, see https://thorben-janssen.com/hibernate-tips-query-elementcollection/","title":"When updating an ElementCollection does it trigger the @PostUpdate of the containing object?","body":"<p>Short Answer: <strong>No.</strong></p>\n<p>I had the same issue came to the conclusion that this is not possible at the moment. Mainly because intended or not implemented yet, see: <a href=\"https://github.com/eclipse-ee4j/jpa-api/issues/167\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jpa-api/issues/167</a></p>\n<p>For the testing I created a repository to find any event I could consumer for the given purpose: <a href=\"https://github.com/HannesRakete/so-jpa-element-collection-events\" rel=\"nofollow noreferrer\">https://github.com/HannesRakete/so-jpa-element-collection-events</a></p>\n<h2>Workaround 1</h2>\n<p>Add a @Version for optimistic locking on the parent entity.</p>\n<h2>Workaround 2</h2>\n<p>Migrate to another association-type, see <a href=\"https://thorben-janssen.com/hibernate-tips-query-elementcollection/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/hibernate-tips-query-elementcollection/</a></p>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69724604,"answer_count":1,"score":3,"last_activity_date":1635257113,"creation_date":1606948090,"question_id":65117091,"body_markdown":"I have an `@ElementCollection Map&lt;User, Long&gt; permissions` in a class.  \r\n\r\n\r\n```\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;als_permission&quot;, joinColumns = @JoinColumn(name = &quot;File&quot;))\r\n    @MapKeyJoinColumn(name = &quot;User&quot;)\r\n    @Column(name = &quot;Permission&quot;)\r\n    @JsonIgnore\r\n    private Map&lt;User, Integer&gt; permissions = new HashMap&lt;&gt;();\r\n\r\n```\r\n\r\nI made some changes on that collection only, and invoke `repo.save(entity)`.  I see the record does get updated, but my `@PostUpdate` handler which is defined in `@EntityListeners` does not appear to be called.\r\n\r\nIs there something I have to put to indicate it?  I am thinking I may need to have some sort of `cascade` somewhere.","title":"When updating an ElementCollection does it trigger the @PostUpdate of the containing object?","body":"<p>I have an <code>@ElementCollection Map&lt;User, Long&gt; permissions</code> in a class.</p>\n<pre><code>    @ElementCollection\n    @CollectionTable(name = &quot;als_permission&quot;, joinColumns = @JoinColumn(name = &quot;File&quot;))\n    @MapKeyJoinColumn(name = &quot;User&quot;)\n    @Column(name = &quot;Permission&quot;)\n    @JsonIgnore\n    private Map&lt;User, Integer&gt; permissions = new HashMap&lt;&gt;();\n\n</code></pre>\n<p>I made some changes on that collection only, and invoke <code>repo.save(entity)</code>.  I see the record does get updated, but my <code>@PostUpdate</code> handler which is defined in <code>@EntityListeners</code> does not appear to be called.</p>\n<p>Is there something I have to put to indicate it?  I am thinking I may need to have some sort of <code>cascade</code> somewhere.</p>\n"},{"tags":["java","android","android-studio","gradle","ant"],"answers":[{"tags":[],"owner":{"account_id":23103529,"reputation":21,"user_id":17212586,"display_name":"sgdsgd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635256806,"creation_date":1635256806,"answer_id":69724518,"question_id":69665243,"body_markdown":"I&#39;m provisionally answering my own question, even though what I&#39;ve got now feels more like a workaround than a good practice, but until someone more experienced chimes in here it is.\r\n\r\nApp B - settings.gradle:\r\n\r\n    [...]\r\n    include &#39;:App_A&#39;\r\n    project(&#39;:App_A&#39;).projectDir = new File(&#39;..\\\\App_A\\\\app&#39;)\r\n    [...]\r\n\r\nApp B - build.gradle:\r\n\r\n    dependencies {\r\n    [...]\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation fileTree(dir: &#39;..\\\\App_A&#39;, include: [&#39;*.jar&#39;])\r\n    implementation project(path: &#39;:App_A&#39;)\r\n    [...]\r\n    }\r\n\r\nThis is assuming both projects have the same root directory, as in:\r\n\r\n    C:\\Android_Projects\\App_A\r\n    C:\\Android_Projects\\App_B\r\n\r\nOtherwise, you can input an absolute path in place of &quot;..&quot; in both gradle files.\r\n\r\nWith that done, your project view of App B in Android Studio will also show a tree structure of the project directory of App A, which is convenient for editing source files of App A while working on App B.\r\nBut you can also open the App A project in a different window of Android Studio, and all changes made there will immediately be reflected in the App B window as well.","title":"Android Studio - Setting up a Project hierarchy that checks source files in real time (Ant style)","body":"<p>I'm provisionally answering my own question, even though what I've got now feels more like a workaround than a good practice, but until someone more experienced chimes in here it is.</p>\n<p>App B - settings.gradle:</p>\n<pre><code>[...]\ninclude ':App_A'\nproject(':App_A').projectDir = new File('..\\\\App_A\\\\app')\n[...]\n</code></pre>\n<p>App B - build.gradle:</p>\n<pre><code>dependencies {\n[...]\nimplementation 'androidx.appcompat:appcompat:1.2.0'\nimplementation fileTree(dir: '..\\\\App_A', include: ['*.jar'])\nimplementation project(path: ':App_A')\n[...]\n}\n</code></pre>\n<p>This is assuming both projects have the same root directory, as in:</p>\n<pre><code>C:\\Android_Projects\\App_A\nC:\\Android_Projects\\App_B\n</code></pre>\n<p>Otherwise, you can input an absolute path in place of &quot;..&quot; in both gradle files.</p>\n<p>With that done, your project view of App B in Android Studio will also show a tree structure of the project directory of App A, which is convenient for editing source files of App A while working on App B.\nBut you can also open the App A project in a different window of Android Studio, and all changes made there will immediately be reflected in the App B window as well.</p>\n"}],"owner":{"account_id":23103529,"reputation":21,"user_id":17212586,"display_name":"sgdsgd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69724518,"answer_count":1,"score":2,"last_activity_date":1635256806,"creation_date":1634832109,"question_id":69665243,"body_markdown":"I&#39;ve got two Android applications (not libraries) on Android Studio: \r\n\r\n - App A can be built and run on its own;\r\n - App B can be built and run on its own, but needs App A as a dependency.\r\n\r\nI&#39;ve currently set up the hierarchy as instructed in [this question][1] (and similar ones), but the result is that the current state of App A was copied inside the App B project folder as a module, so any changes I make inside the actual source files in the project folder of App A are never visible from App B.\r\n\r\nWhat I&#39;d like to achieve is for App B to reference the source files in the App A project folder, and possibly take notice of the changes I make to App A source files in real time without having to manually rebuild/resync anything (i.e. if I delete a referenced variable in App A and save, Android Studio should immediately show the error in App B, etc...).\r\n\r\nBasically how an extremely basic Ant project hierarchy you can set up with a couple clicks in Java IDEs would work.\r\n\r\nHow would I accomplish that in Android Studio?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16588064/how-do-i-add-a-library-project-to-android-studio/16634680#16634680","title":"Android Studio - Setting up a Project hierarchy that checks source files in real time (Ant style)","body":"<p>I've got two Android applications (not libraries) on Android Studio:</p>\n<ul>\n<li>App A can be built and run on its own;</li>\n<li>App B can be built and run on its own, but needs App A as a dependency.</li>\n</ul>\n<p>I've currently set up the hierarchy as instructed in <a href=\"https://stackoverflow.com/questions/16588064/how-do-i-add-a-library-project-to-android-studio/16634680#16634680\">this question</a> (and similar ones), but the result is that the current state of App A was copied inside the App B project folder as a module, so any changes I make inside the actual source files in the project folder of App A are never visible from App B.</p>\n<p>What I'd like to achieve is for App B to reference the source files in the App A project folder, and possibly take notice of the changes I make to App A source files in real time without having to manually rebuild/resync anything (i.e. if I delete a referenced variable in App A and save, Android Studio should immediately show the error in App B, etc...).</p>\n<p>Basically how an extremely basic Ant project hierarchy you can set up with a couple clicks in Java IDEs would work.</p>\n<p>How would I accomplish that in Android Studio?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":153878,"reputation":2055,"user_id":369446,"accept_rate":100,"display_name":"Michael Shopsin"},"score":0,"creation_date":1635254287,"post_id":69723041,"comment_id":123243308,"body_markdown":"Think of the two CSV files as having a relationship based on the `attributeAgentID` so that the information you want in the second CSV is on the rows with the same `attributeAgentID`. There are different ways to go about doing this, try the simplest and slowest first to make sure you have the relationship working.","body":"Think of the two CSV files as having a relationship based on the <code>attributeAgentID</code> so that the information you want in the second CSV is on the rows with the same <code>attributeAgentID</code>. There are different ways to go about doing this, try the simplest and slowest first to make sure you have the relationship working."}],"answers":[{"tags":[],"owner":{"account_id":1546031,"reputation":1931,"user_id":1439560,"display_name":"Huy Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635256755,"creation_date":1635256435,"answer_id":69724423,"question_id":69723041,"body_markdown":"From your code, i assume you can read the csv file and convert to DataObject by each line without problem. \r\n\r\nSo you will have 2 class: Person, PersonActivity for example.\r\n\r\nIf memory is not a problem for now, i suggest the simple way to read person activity and convert it Map. \r\n\r\n    // key is attributeAgentID, value List&lt;PersonActivity&gt;\r\n    // mean each person id have list of activities \r\n    Map&lt;Integer, List&lt;PersonActivity&gt;&gt; getPersonActivityFromCsv(String file);\r\n\r\nSo you just need to update few code when processing list of person:\r\n\r\n    Map&lt;Integer,List&lt;PersonActivity&gt;&gt; map = getPersonActivityFromCsv(&quot;activities.csv&quot;);\r\n    ...\r\n    while(...){\r\n    int attributeAgentID = Integer.parseInt(attributeSpilted[0]);\r\n    \r\n        // Set attributes for agents\r\n        Person person = populationFactory.createPerson(Id.createPersonId(attributeAgentID));\r\n       List&lt;PersonActivity&gt; activities = map.get(attributeAgentID);\r\n       // then do something with list activities here.\r\n     }","title":"Read from one CSV and filter other rows with the same variables in another CSV","body":"<p>From your code, i assume you can read the csv file and convert to DataObject by each line without problem.</p>\n<p>So you will have 2 class: Person, PersonActivity for example.</p>\n<p>If memory is not a problem for now, i suggest the simple way to read person activity and convert it Map.</p>\n<pre><code>// key is attributeAgentID, value List&lt;PersonActivity&gt;\n// mean each person id have list of activities \nMap&lt;Integer, List&lt;PersonActivity&gt;&gt; getPersonActivityFromCsv(String file);\n</code></pre>\n<p>So you just need to update few code when processing list of person:</p>\n<pre><code>Map&lt;Integer,List&lt;PersonActivity&gt;&gt; map = getPersonActivityFromCsv(&quot;activities.csv&quot;);\n...\nwhile(...){\nint attributeAgentID = Integer.parseInt(attributeSpilted[0]);\n\n    // Set attributes for agents\n    Person person = populationFactory.createPerson(Id.createPersonId(attributeAgentID));\n   List&lt;PersonActivity&gt; activities = map.get(attributeAgentID);\n   // then do something with list activities here.\n }\n</code></pre>\n"}],"owner":{"account_id":22161532,"reputation":177,"user_id":16408453,"display_name":"Jingjun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635256755,"creation_date":1635250953,"question_id":69723041,"body_markdown":"I used to use R for data processing and now my new project needs Java, so I apologise if I am asking naive questions. My problem is I want to achieve something like the `filter` in R dplyr. Basically, I now have two CSV files:\r\n\r\nOne is about the _person attribute_, where the first element in each row represents a unique personID:\r\n\r\n```none\r\n1,4CC0D97F9ECC6B1A,MUTSAARD,7,m,7-8,0,0,ACT\r\n2,F6B73020FC552E32,PORTE TERVUEREN,3,m,3-4,3,0,EMP\r\n4,4072878C4683C96F,ALTITUDE 100,4,f,1-2,5,1,EMP\r\n```\r\n\r\nAnother CSV is about _person activities_, where the first element in each row also represents unique personID:\r\n\r\n```none\r\n1,0,0,0,9,34,home,34200,150101.5,176176\r\n1,1,10,34,13,34,leisure,48600,249319.227415549,64034.2890971927\r\n1,2,14,34,14,35,home,600,249319.227415549,64034.2890971927\r\n1,3,15,49,16,19,shopping,58800,281683.200856897,118126.130836235\r\n1,4,18,4,25,0,home,90000,281683.200856897,118126.130836235\r\n2,0,0,0,15,38,home,56400,152056.679999997,170502.339842428\r\n2,1,15,48,24,1,work,86400,153720.999999996,167515.000842442\r\n2,2,24,18,25,0,home,90000,156685.535763012,169194.702448164\r\n4,0,0,0,9,58,home,36000,147758.618000003,167097.459842441\r\n4,1,10,29,14,58,work,54000,147251.000000004,174872.000842412\r\n4,2,15,28,16,28,shopping,59400,144431.419000006,166735.039842444\r\n4,3,16,38,18,38,leisure,67200,146053.041238428,169647.999589575\r\n4,4,18,58,25,0,home,90000,149907.09447342,170229.096090939\r\n```\r\n\r\nWhat I want to do now is to first loop the person attribute and do some coding there, after, I would like to filter the rows with the same personID in the activities CSV and loop those rows with the same personID and do some coding there. \r\n\r\nSo the code I have for now is:\r\n\r\n    BufferedReader attributeReader = new BufferedReader(new FileReader(attributesFile));\r\n    String agent = null;\r\n    while ((agent = attributeReader.readLine()) != null) {\r\n        String[] attributeSpilted = agent.split(&quot;,&quot;);\r\n        int attributeAgentID = Integer.parseInt(attributeSpilted[0]);\r\n\r\n        // Set attributes for agents\r\n        Person person = populationFactory.createPerson(Id.createPersonId(attributeAgentID));\r\n\r\n        // Question: What I should do here to find the activities with the same personID?\r\n\r\n        population.addPerson(person);\r\n    }\r\n\r\nThe question I have is in the code, I get stuck there and unsure about what I should do here to find the activities with the same personID?\r\n\r\n","title":"Read from one CSV and filter other rows with the same variables in another CSV","body":"<p>I used to use R for data processing and now my new project needs Java, so I apologise if I am asking naive questions. My problem is I want to achieve something like the <code>filter</code> in R dplyr. Basically, I now have two CSV files:</p>\n<p>One is about the <em>person attribute</em>, where the first element in each row represents a unique personID:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1,4CC0D97F9ECC6B1A,MUTSAARD,7,m,7-8,0,0,ACT\n2,F6B73020FC552E32,PORTE TERVUEREN,3,m,3-4,3,0,EMP\n4,4072878C4683C96F,ALTITUDE 100,4,f,1-2,5,1,EMP\n</code></pre>\n<p>Another CSV is about <em>person activities</em>, where the first element in each row also represents unique personID:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1,0,0,0,9,34,home,34200,150101.5,176176\n1,1,10,34,13,34,leisure,48600,249319.227415549,64034.2890971927\n1,2,14,34,14,35,home,600,249319.227415549,64034.2890971927\n1,3,15,49,16,19,shopping,58800,281683.200856897,118126.130836235\n1,4,18,4,25,0,home,90000,281683.200856897,118126.130836235\n2,0,0,0,15,38,home,56400,152056.679999997,170502.339842428\n2,1,15,48,24,1,work,86400,153720.999999996,167515.000842442\n2,2,24,18,25,0,home,90000,156685.535763012,169194.702448164\n4,0,0,0,9,58,home,36000,147758.618000003,167097.459842441\n4,1,10,29,14,58,work,54000,147251.000000004,174872.000842412\n4,2,15,28,16,28,shopping,59400,144431.419000006,166735.039842444\n4,3,16,38,18,38,leisure,67200,146053.041238428,169647.999589575\n4,4,18,58,25,0,home,90000,149907.09447342,170229.096090939\n</code></pre>\n<p>What I want to do now is to first loop the person attribute and do some coding there, after, I would like to filter the rows with the same personID in the activities CSV and loop those rows with the same personID and do some coding there.</p>\n<p>So the code I have for now is:</p>\n<pre><code>BufferedReader attributeReader = new BufferedReader(new FileReader(attributesFile));\nString agent = null;\nwhile ((agent = attributeReader.readLine()) != null) {\n    String[] attributeSpilted = agent.split(&quot;,&quot;);\n    int attributeAgentID = Integer.parseInt(attributeSpilted[0]);\n\n    // Set attributes for agents\n    Person person = populationFactory.createPerson(Id.createPersonId(attributeAgentID));\n\n    // Question: What I should do here to find the activities with the same personID?\n\n    population.addPerson(person);\n}\n</code></pre>\n<p>The question I have is in the code, I get stuck there and unsure about what I should do here to find the activities with the same personID?</p>\n"},{"tags":["java","spring","spring-data","spring-profiles"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1467798298,"post_id":38220861,"comment_id":63864225,"body_markdown":"You cannot change the profile at runtime. That is not what profiles are intended for.","body":"You cannot change the profile at runtime. That is not what profiles are intended for."},{"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"score":0,"creation_date":1467798406,"post_id":38220861,"comment_id":63864283,"body_markdown":"@M.Deinum Thank you, so what you think could be the best solution for my situation? Can I implement different DAO classes with different connections?","body":"@M.Deinum Thank you, so what you think could be the best solution for my situation? Can I implement different DAO classes with different connections?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1467798431,"post_id":38220861,"comment_id":63864299,"body_markdown":"Why wouldn&#39;t that be the case... Just configure it.","body":"Why wouldn&#39;t that be the case... Just configure it."}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635256633,"creation_date":1467798034,"question_id":38220861,"body_markdown":"I am working on a batch application developed using Spring. This application have to read on a database and then have to write on another database.\r\n\r\nSo I know that I can create 2 different DAO with 2 different connections but I am trying to do it using Spring profiles. \r\n\r\nSo I have the following situation, I have a configuration file named `databaseConfiguration.xml` that contains the information for the DB connection (I import this file into the main configuration file **applicationContext.xml**):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd\r\n                    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n    \r\n    \r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;tjtJTransactionManager&quot; /&gt;\r\n    \r\n    \t&lt;!-- DB CONNECTIONS: --&gt;\r\n    \t&lt;bean id=&quot;tjtJTransactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;\r\n    \t\tscope=&quot;singleton&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSourcePUC&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- PROFILO DI PRODUZIONE --&gt;\r\n    \t&lt;beans profile=&quot;PROD&quot;&gt;\r\n    \r\n    \t\t&lt;bean id=&quot;dataSourcePUC&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n    \t\t\tdestroy-method=&quot;close&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;net.sourceforge.jtds.jdbc.Driver&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:jtds:sqlserver://XXX.myCompany.YYYY.it:1433/DB_1&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;password&quot; value=&quot;pswd&quot; /&gt;\r\n    \t\t&lt;/bean&gt;\r\n    \r\n    \t&lt;/beans&gt;\r\n    \r\n    \t&lt;!-- PROFILO DI COLLAUDO --&gt;\r\n    \t&lt;beans profile=&quot;COLL&quot;&gt;\r\n    \r\n    \t\t&lt;bean id=&quot;dataSourcePUC&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n    \t\t\tdestroy-method=&quot;close&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;net.sourceforge.jtds.jdbc.Driver&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:jtds:sqlserver://XXXX.MYCOMPANY.YYYY.it:1433/DB_2&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;password&quot; value=&quot;pswd&quot; /&gt;\r\n    \r\n    \t\t&lt;/bean&gt;\r\n    \t\r\n    \t&lt;/beans&gt;\r\n       \r\n    &lt;/beans&gt;\r\n\r\nAs you can see in the previous snippet I am defining 2 different profiles that defines 2 different version of the datasource bean with `id=&quot;dataSourcePUC&quot;` that create the connection to my 2 different database.\r\n\r\nSo, into my `main()` method I do something like this:\r\n\r\n\tGenericXmlApplicationContext context = new GenericXmlApplicationContext();\r\n\tConfigurableEnvironment conf = (ConfigurableEnvironment) context.getEnvironment();\r\n\tconf.setActiveProfiles(&quot;PROD&quot;);\t\r\n\tcontext.load(&quot;applicationContext.xml&quot;);\r\n\tcontext.refresh();\r\n\r\n    pucManager = (PucManager) context.getBean(&quot;pucManager&quot;);  // my DAO\r\n\r\n    // QUERY PERFORMED ON THE DB_1:\r\n    List&lt;TassoRendimentoInterno&gt; tassoRendimentoInternoList = pucManager.getTassoRendimentoInterno();\r\n\t\t\r\n    // THIS SECOND QUERY HAVE TO BE PERFORMED ON THE DB_2\r\n    List&lt;TassoInternoRendimentoFondo&gt; tassoInternoRendimentoFondoList = pucManager.getTassoRendimentoInternoFondo();\r\n\r\n\r\nIn this code snippet first I set the active profile on **PROD** so it is used the **DB_1**, in this way:\r\n\r\n    ConfigurableEnvironment conf = (ConfigurableEnvironment) context.getEnvironment();\r\n    conf.setActiveProfiles(&quot;PROD&quot;);\r\n\r\nIt work fine and the query are performed on this DB.\r\n\r\nThe problem is that I want to perform the second query on the **DB_2**, so before this line:\r\n\r\n    List&lt;TassoInternoRendimentoFondo&gt; tassoInternoRendimentoFondoList = pucManager.getTassoRendimentoInternoFondo();\r\n\r\nI have to set the other profile **COLL**.\r\n\r\nTo do this operation I also have to stop and refresh the context? \r\n\r\nHow can exactly do it? What is the best solution?\r\n\r\n\t\r\n    \r\n","title":"How can I automatically switch to a Spring profile to another one during the execution of an application? (to change the DB on which a DAO work)","body":"<p>I am working on a batch application developed using Spring. This application have to read on a database and then have to write on another database.</p>\n<p>So I know that I can create 2 different DAO with 2 different connections but I am trying to do it using Spring profiles.</p>\n<p>So I have the following situation, I have a configuration file named <code>databaseConfiguration.xml</code> that contains the information for the DB connection (I import this file into the main configuration file <strong>applicationContext.xml</strong>):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jdbc=&quot;http://www.springframework.org/schema/jdbc&quot;\n    xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/jdbc http://www.springframework.org/schema/jdbc/spring-jdbc-3.1.xsd\n                http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\n\n\n    &lt;tx:annotation-driven transaction-manager=&quot;tjtJTransactionManager&quot; /&gt;\n\n    &lt;!-- DB CONNECTIONS: --&gt;\n    &lt;bean id=&quot;tjtJTransactionManager&quot;\n        class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;\n        scope=&quot;singleton&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSourcePUC&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- PROFILO DI PRODUZIONE --&gt;\n    &lt;beans profile=&quot;PROD&quot;&gt;\n\n        &lt;bean id=&quot;dataSourcePUC&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\n            destroy-method=&quot;close&quot;&gt;\n            &lt;property name=&quot;driverClassName&quot; value=&quot;net.sourceforge.jtds.jdbc.Driver&quot; /&gt;\n            &lt;property name=&quot;url&quot; value=&quot;jdbc:jtds:sqlserver://XXX.myCompany.YYYY.it:1433/DB_1&quot; /&gt;\n            &lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\n            &lt;property name=&quot;password&quot; value=&quot;pswd&quot; /&gt;\n        &lt;/bean&gt;\n\n    &lt;/beans&gt;\n\n    &lt;!-- PROFILO DI COLLAUDO --&gt;\n    &lt;beans profile=&quot;COLL&quot;&gt;\n\n        &lt;bean id=&quot;dataSourcePUC&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\n            destroy-method=&quot;close&quot;&gt;\n            &lt;property name=&quot;driverClassName&quot; value=&quot;net.sourceforge.jtds.jdbc.Driver&quot; /&gt;\n            &lt;property name=&quot;url&quot; value=&quot;jdbc:jtds:sqlserver://XXXX.MYCOMPANY.YYYY.it:1433/DB_2&quot; /&gt;\n            &lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\n            &lt;property name=&quot;password&quot; value=&quot;pswd&quot; /&gt;\n\n        &lt;/bean&gt;\n    \n    &lt;/beans&gt;\n   \n&lt;/beans&gt;\n</code></pre>\n<p>As you can see in the previous snippet I am defining 2 different profiles that defines 2 different version of the datasource bean with <code>id=&quot;dataSourcePUC&quot;</code> that create the connection to my 2 different database.</p>\n<p>So, into my <code>main()</code> method I do something like this:</p>\n<pre><code>GenericXmlApplicationContext context = new GenericXmlApplicationContext();\nConfigurableEnvironment conf = (ConfigurableEnvironment) context.getEnvironment();\nconf.setActiveProfiles(&quot;PROD&quot;); \ncontext.load(&quot;applicationContext.xml&quot;);\ncontext.refresh();\n\npucManager = (PucManager) context.getBean(&quot;pucManager&quot;);  // my DAO\n\n// QUERY PERFORMED ON THE DB_1:\nList&lt;TassoRendimentoInterno&gt; tassoRendimentoInternoList = pucManager.getTassoRendimentoInterno();\n    \n// THIS SECOND QUERY HAVE TO BE PERFORMED ON THE DB_2\nList&lt;TassoInternoRendimentoFondo&gt; tassoInternoRendimentoFondoList = pucManager.getTassoRendimentoInternoFondo();\n</code></pre>\n<p>In this code snippet first I set the active profile on <strong>PROD</strong> so it is used the <strong>DB_1</strong>, in this way:</p>\n<pre><code>ConfigurableEnvironment conf = (ConfigurableEnvironment) context.getEnvironment();\nconf.setActiveProfiles(&quot;PROD&quot;);\n</code></pre>\n<p>It work fine and the query are performed on this DB.</p>\n<p>The problem is that I want to perform the second query on the <strong>DB_2</strong>, so before this line:</p>\n<pre><code>List&lt;TassoInternoRendimentoFondo&gt; tassoInternoRendimentoFondoList = pucManager.getTassoRendimentoInternoFondo();\n</code></pre>\n<p>I have to set the other profile <strong>COLL</strong>.</p>\n<p>To do this operation I also have to stop and refresh the context?</p>\n<p>How can exactly do it? What is the best solution?</p>\n"},{"tags":["java","selenium","sorting"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1620402019,"post_id":67437594,"comment_id":119198876,"body_markdown":"How did you retrieve data from website ? Would you share your code for that ?","body":"How did you retrieve data from website ? Would you share your code for that ?"},{"owner":{"account_id":21519344,"reputation":29,"user_id":15860707,"display_name":"Typ"},"score":0,"creation_date":1620405258,"post_id":67437594,"comment_id":119200140,"body_markdown":"Hi I added code. Code similar to 3th answer from:","body":"Hi I added code. Code similar to 3th answer from:"},{"owner":{"account_id":21519344,"reputation":29,"user_id":15860707,"display_name":"Typ"},"score":0,"creation_date":1620405629,"post_id":67437594,"comment_id":119200261,"body_markdown":"[link](https://stackoverflow.com/questions/36950061/how-to-check-webelements-in-webtable-is-sorted-alphabetically-using-selenium-web)","body":"<a href=\"https://stackoverflow.com/questions/36950061/how-to-check-webelements-in-webtable-is-sorted-alphabetically-using-selenium-web\">link</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1620406577,"post_id":67437594,"comment_id":119200553,"body_markdown":"if you want them to match, just run the gathered list through your collections.sort method.  Seems like they are doing a toLower or toUpper in their comparator... on the web site.  That might be by design, but seems like a bug to me.","body":"if you want them to match, just run the gathered list through your collections.sort method.  Seems like they are doing a toLower or toUpper in their comparator... on the web site.  That might be by design, but seems like a bug to me."},{"owner":{"account_id":21519344,"reputation":29,"user_id":15860707,"display_name":"Typ"},"score":0,"creation_date":1620407130,"post_id":67437594,"comment_id":119200763,"body_markdown":"Hi, I did that too is in the code in my post.","body":"Hi, I did that too is in the code in my post."}],"answers":[{"tags":[],"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620456151,"creation_date":1620456151,"answer_id":67444818,"question_id":67437594,"body_markdown":"Please try the below code:\r\n\r\n    \r\n    ArrayList&lt;String&gt; obtainedList = new ArrayList&lt;&gt;(); \r\n    // Get all options\r\n    List&lt;WebElement&gt; elementList= driver.findElements(By.CssSelector(css));\r\n\r\n    // Creating a list to store drop down options\r\n    List options = new ArrayList();\r\n\r\n\r\n    for(WebElement optionElement : elementList)\r\n    {\r\n        obtainedList.add(optionElement.getText());\r\n    }\r\n\r\n      \r\n    System.out.println(&quot;Options in dropdown with Default order :&quot;+obtainedList);\r\n\r\n    // Creating a temp list to sort\r\n    List tempList = new ArrayList(obtainedList);\r\n\r\n    Collections.sort(tempList);\r\n\r\n    System.out.println(&quot;Sorted List &quot;+ tempList);\r\n\r\n    boolean ifSortedAscending = obtainedList.equals(tempList);\r\n\r\n    if(ifSortedAscending)\r\n    {\r\n        System.out.println(&quot;List is sorted&quot;);\r\n    }\r\n    else\r\n        System.out.println(&quot;List is not sorted.&quot;);\r\n\r\n   ","title":"Problem with sorting elements Selenium webdriver java","body":"<p>Please try the below code:</p>\n<pre><code>ArrayList&lt;String&gt; obtainedList = new ArrayList&lt;&gt;(); \n// Get all options\nList&lt;WebElement&gt; elementList= driver.findElements(By.CssSelector(css));\n\n// Creating a list to store drop down options\nList options = new ArrayList();\n\n\nfor(WebElement optionElement : elementList)\n{\n    obtainedList.add(optionElement.getText());\n}\n\n  \nSystem.out.println(&quot;Options in dropdown with Default order :&quot;+obtainedList);\n\n// Creating a temp list to sort\nList tempList = new ArrayList(obtainedList);\n\nCollections.sort(tempList);\n\nSystem.out.println(&quot;Sorted List &quot;+ tempList);\n\nboolean ifSortedAscending = obtainedList.equals(tempList);\n\nif(ifSortedAscending)\n{\n    System.out.println(&quot;List is sorted&quot;);\n}\nelse\n    System.out.println(&quot;List is not sorted.&quot;);\n</code></pre>\n"}],"owner":{"account_id":21519344,"reputation":29,"user_id":15860707,"display_name":"Typ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":1,"score":0,"last_activity_date":1635256506,"creation_date":1620400686,"question_id":67437594,"body_markdown":"I have a problem with sorting web elements, sorted elements from the website are in a different order than elements from my sorted-list.\r\n\r\nResult:\r\nMy sorted String list:\r\n```\r\n[0 0, 1 1, A A, A A, A A, AAAA, AAAA, Cascasc Aaaaa, Jan Jankowski, Jan Janowski, Jan Kon, Jan kowalski, pp]\r\n```\r\n\r\nString List from website:\r\n```\r\n[0 0, 1 1, A A, A A, A A, AAAA, AAAA, Cascasc Aaaaa, Jan Jankowski, Jan Janowski, Jan kowalski, Jan Kon, pp]\r\n```\r\nDifferent order:\r\n\r\n    Jan Kon, Jan kowalski\r\n\r\nMy sorted string list:\r\n```\r\n[0 0, 464 464, A A, A A, a a, a a, a a, a b, a s, aa a, abv sada, ala Janka, ala ola, anna, anna, anna, bankowa]\r\n```\r\n\r\nList from website:\r\n```\r\n[0 0, 464 464, a a, a a, a a, a b, a s, aa a, abv sada, ala Janka, ala ola, anna, anna, anna, bankowa, A A, A A]\r\n```\r\nDifferent order: \r\n\r\n    A A, A A\r\n\r\nCode:\r\n```\r\ngetObtainedList(String css){\r\n    ArrayList&lt;String&gt; obtainedList = new ArrayList&lt;&gt;(); \r\n    List&lt;WebElement&gt; elementList= driver.findElements(By.CssSelector(css));\r\n     for(webElement we:elementList){\r\n       obtainedList.add(we.getText);\r\n     }\r\n    }\r\n    \r\n    getSortedList(List list){\r\n    ArrayList&lt;String&gt; sortedList = new ArrayList&lt;&gt;();   \r\n     for(String s:list){\r\n     sortedList.add(s);\r\n     }\r\n    }\r\n\r\n\r\n    List&lt;String&gt; obtainedList = getObtainedList(cssSelector);\r\n    \r\n    List&lt;String&gt; sortedList = getSortedList(obtainedList);\r\n    Collections.sort(sortedList)\r\n    \r\n    Assert.assertEquals(sortedList, obtainedList)","title":"Problem with sorting elements Selenium webdriver java","body":"<p>I have a problem with sorting web elements, sorted elements from the website are in a different order than elements from my sorted-list.</p>\n<p>Result:\nMy sorted String list:</p>\n<pre><code>[0 0, 1 1, A A, A A, A A, AAAA, AAAA, Cascasc Aaaaa, Jan Jankowski, Jan Janowski, Jan Kon, Jan kowalski, pp]\n</code></pre>\n<p>String List from website:</p>\n<pre><code>[0 0, 1 1, A A, A A, A A, AAAA, AAAA, Cascasc Aaaaa, Jan Jankowski, Jan Janowski, Jan kowalski, Jan Kon, pp]\n</code></pre>\n<p>Different order:</p>\n<pre><code>Jan Kon, Jan kowalski\n</code></pre>\n<p>My sorted string list:</p>\n<pre><code>[0 0, 464 464, A A, A A, a a, a a, a a, a b, a s, aa a, abv sada, ala Janka, ala ola, anna, anna, anna, bankowa]\n</code></pre>\n<p>List from website:</p>\n<pre><code>[0 0, 464 464, a a, a a, a a, a b, a s, aa a, abv sada, ala Janka, ala ola, anna, anna, anna, bankowa, A A, A A]\n</code></pre>\n<p>Different order:</p>\n<pre><code>A A, A A\n</code></pre>\n<p>Code:</p>\n<pre><code>getObtainedList(String css){\n    ArrayList&lt;String&gt; obtainedList = new ArrayList&lt;&gt;(); \n    List&lt;WebElement&gt; elementList= driver.findElements(By.CssSelector(css));\n     for(webElement we:elementList){\n       obtainedList.add(we.getText);\n     }\n    }\n    \n    getSortedList(List list){\n    ArrayList&lt;String&gt; sortedList = new ArrayList&lt;&gt;();   \n     for(String s:list){\n     sortedList.add(s);\n     }\n    }\n\n\n    List&lt;String&gt; obtainedList = getObtainedList(cssSelector);\n    \n    List&lt;String&gt; sortedList = getSortedList(obtainedList);\n    Collections.sort(sortedList)\n    \n    Assert.assertEquals(sortedList, obtainedList)\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1439916513,"post_id":32078074,"comment_id":52052605,"body_markdown":"I can&#39;t reproduce your problem: http://ideone.com/Y6k8U2","body":"I can&#39;t reproduce your problem: <a href=\"http://ideone.com/Y6k8U2\" rel=\"nofollow noreferrer\">ideone.com/Y6k8U2</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1439917911,"post_id":32078074,"comment_id":52053378,"body_markdown":"To see the full array, change your print statements to `System.out.println(Arrays.asList(c1))`","body":"To see the full array, change your print statements to <code>System.out.println(Arrays.asList(c1))</code>"}],"answers":[{"tags":[],"owner":{"account_id":6584848,"reputation":513,"user_id":5087881,"accept_rate":100,"display_name":"Wyatt Lowery"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1439917279,"creation_date":1439916898,"answer_id":32078319,"question_id":32078074,"body_markdown":"In the line,\r\n\r\n    Arrays.sort(c,Collections.reverseOrder());\r\nYou aren&#39;t actually changing the value of the array. Instead, use this line of code to change the array.\r\n\r\n    c1 = Arrays.sort(c,Collections.reverseOrder());\r\n\r\nWhen you are calling just the method Arrays.sort(...), it returns a new array, but doesn&#39;t actually change the array itself. but by changing c1&#39;s values to the return of Arrays.sort(...), the array will change.","title":"Java: Array sorting","body":"<p>In the line,</p>\n\n<pre><code>Arrays.sort(c,Collections.reverseOrder());\n</code></pre>\n\n<p>You aren't actually changing the value of the array. Instead, use this line of code to change the array.</p>\n\n<pre><code>c1 = Arrays.sort(c,Collections.reverseOrder());\n</code></pre>\n\n<p>When you are calling just the method Arrays.sort(...), it returns a new array, but doesn't actually change the array itself. but by changing c1's values to the return of Arrays.sort(...), the array will change.</p>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1439917806,"creation_date":1439916969,"answer_id":32078348,"question_id":32078074,"body_markdown":"Of course you&#39;re getting a different result, you just resorted the one and only array (`c1` and `c` are pointing to the same array).\r\n\r\nI think you&#39;re confused about what `c1=c` does. It doesn&#39;t copy the array.\r\n\r\n**Updated**\r\n\r\nWhat you mean to do is:\r\n\r\n    Integer[] c1 = new Integer[c.length]; // note corrected size\r\n    System.arraycopy(c, 0, c1, 0, c.length);\r\n","title":"Java: Array sorting","body":"<p>Of course you're getting a different result, you just resorted the one and only array (<code>c1</code> and <code>c</code> are pointing to the same array).</p>\n\n<p>I think you're confused about what <code>c1=c</code> does. It doesn't copy the array.</p>\n\n<p><strong>Updated</strong></p>\n\n<p>What you mean to do is:</p>\n\n<pre><code>Integer[] c1 = new Integer[c.length]; // note corrected size\nSystem.arraycopy(c, 0, c1, 0, c.length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6185300,"reputation":1002,"user_id":5235170,"display_name":"McNultyyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439917257,"creation_date":1439917257,"answer_id":32078454,"question_id":32078074,"body_markdown":"Change your second line to:\r\n\r\n    Integer[] c1= new Integer[4];\r\n\r\nIf it is 3 (instead of 4) then there are only 3 spaces in the array; c1[0], c1[1] and c1[2]","title":"Java: Array sorting","body":"<p>Change your second line to:</p>\n\n<pre><code>Integer[] c1= new Integer[4];\n</code></pre>\n\n<p>If it is 3 (instead of 4) then there are only 3 spaces in the array; c1[0], c1[1] and c1[2]</p>\n"},{"tags":[],"owner":{"account_id":6805338,"reputation":148,"user_id":5237272,"display_name":"StackAbstraction"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439919724,"creation_date":1439918329,"answer_id":32078780,"question_id":32078074,"body_markdown":"You forgot to add the values of the array up.  Here is an answer showing the arrays contents step-by-step using the other suggestions for correct copying of arrays and setting c1 to the right length.\r\n\r\n    // Prints out array contents and sum\r\n\tpublic static void printSumArray( Integer[] iArray){\r\n\t\tint iCumulativeSum = 0;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; iArray.length; i++)\r\n\t\t{\r\n\t\t\tSystem.out.print( &quot; &quot; + iArray[i] + &quot; &quot; );\r\n\t\t\tiCumulativeSum += iArray[i];\r\n\t\t}\r\n\t\tSystem.out.println(&quot;  Cumulative Sum = &quot; + iCumulativeSum);\r\n\t}\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger[] c = {3,2,4,1,0};\r\n\t\tInteger[] c1 = new Integer[c.length];\r\n\t\t\r\n\t\tSystem.out.print(&quot;Original Array c:   &quot;);\r\n\t\tprintSumArray(c);\r\n\r\n\t\tArrays.sort(c);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Sorted Array c:     &quot;);\r\n\t\tprintSumArray(c);\r\n\t\t\r\n\t\tSystem.arraycopy(c, 0, c1, 0, c.length);\r\n\t\tArrays.sort(c1,Collections.reverseOrder());\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.print(&quot;Reversed Sorted c1: &quot;);\r\n\t\tprintSumArray(c1);\t\t\r\n\t}\r\n\r\noutput:\r\n    &lt;pre&gt;\r\n    Original Array c:    3  2  4  1  0   Cumulative Sum = 10\r\n    Sorted Array c:      0  1  2  3  4   Cumulative Sum = 10\r\n    Reversed Sorted c1:  4  3  2  1  0   Cumulative Sum = 10 \r\n    &lt;/pre&gt;","title":"Java: Array sorting","body":"<p>You forgot to add the values of the array up.  Here is an answer showing the arrays contents step-by-step using the other suggestions for correct copying of arrays and setting c1 to the right length.</p>\n\n<pre><code>// Prints out array contents and sum\npublic static void printSumArray( Integer[] iArray){\n    int iCumulativeSum = 0;\n\n    for (int i = 0; i &lt; iArray.length; i++)\n    {\n        System.out.print( \" \" + iArray[i] + \" \" );\n        iCumulativeSum += iArray[i];\n    }\n    System.out.println(\"  Cumulative Sum = \" + iCumulativeSum);\n}\n\npublic static void main(String[] args) {\n    Integer[] c = {3,2,4,1,0};\n    Integer[] c1 = new Integer[c.length];\n\n    System.out.print(\"Original Array c:   \");\n    printSumArray(c);\n\n    Arrays.sort(c);\n\n    System.out.print(\"Sorted Array c:     \");\n    printSumArray(c);\n\n    System.arraycopy(c, 0, c1, 0, c.length);\n    Arrays.sort(c1,Collections.reverseOrder());\n\n\n    System.out.print(\"Reversed Sorted c1: \");\n    printSumArray(c1);      \n}\n</code></pre>\n\n<p>output:\n    <pre>\n    Original Array c:    3  2  4  1  0   Cumulative Sum = 10\n    Sorted Array c:      0  1  2  3  4   Cumulative Sum = 10\n    Reversed Sorted c1:  4  3  2  1  0   Cumulative Sum = 10 \n    </pre></p>\n"},{"tags":[],"owner":{"account_id":5287140,"reputation":19,"user_id":4220737,"display_name":"someoneGreat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439982732,"creation_date":1439982732,"answer_id":32093875,"question_id":32078074,"body_markdown":"\r\n\r\n    package sortadd;\r\n    import java.util.*;\r\n    public class Sortadd {\r\n    \r\n        public static void main(String[] args) {\r\n            int temp=0;\r\n          int [] array = {3,2,1};\r\n          int asum=0;\r\n          int dsum=0;\r\n          int sum=0;\r\n          for(int i =0; i&lt;array.length; i++){\r\n              for(int j=i+1;j&lt;array.length; j++){\r\n                  if(array[i]&gt;array[j]){\r\n                      temp=array[i];\r\n                      array[i]=array[j];\r\n                      array[j]=temp;\r\n                  }\r\n              }\r\n          }\r\n          System.out.println(&quot;Ascending&quot;);\r\n          for(int i=0; i&lt;array.length; i++){\r\n              System.out.println(array[i]+&quot; &quot;);\r\n              asum +=array[i];\r\n          }\r\n          for(int i =0; i&lt;array.length; i++){\r\n              for(int j=i+1; j&lt;array.length; j++){\r\n                  if(array[i]&lt;array[j]){\r\n                      temp=array[i];\r\n                      array[i]=array[j];\r\n                      array[j]=temp;\r\n                  }\r\n              }\r\n          }\r\n          System.out.println(&quot;Descending&quot;);\r\n          for(int i =0; i&lt;array.length; i++){\r\n              System.out.println(array[i]+&quot; &quot;);\r\n              dsum+=array[i];\r\n          }\r\n          //sum of sorted ascending and descendin\r\n          sum =asum+dsum;\r\n          System.out.println(&quot;SUM&quot;+sum);\r\n        }\r\n        \r\n    }","title":"Java: Array sorting","body":"<pre><code>package sortadd;\nimport java.util.*;\npublic class Sortadd {\n\n    public static void main(String[] args) {\n        int temp=0;\n      int [] array = {3,2,1};\n      int asum=0;\n      int dsum=0;\n      int sum=0;\n      for(int i =0; i&lt;array.length; i++){\n          for(int j=i+1;j&lt;array.length; j++){\n              if(array[i]&gt;array[j]){\n                  temp=array[i];\n                  array[i]=array[j];\n                  array[j]=temp;\n              }\n          }\n      }\n      System.out.println(\"Ascending\");\n      for(int i=0; i&lt;array.length; i++){\n          System.out.println(array[i]+\" \");\n          asum +=array[i];\n      }\n      for(int i =0; i&lt;array.length; i++){\n          for(int j=i+1; j&lt;array.length; j++){\n              if(array[i]&lt;array[j]){\n                  temp=array[i];\n                  array[i]=array[j];\n                  array[j]=temp;\n              }\n          }\n      }\n      System.out.println(\"Descending\");\n      for(int i =0; i&lt;array.length; i++){\n          System.out.println(array[i]+\" \");\n          dsum+=array[i];\n      }\n      //sum of sorted ascending and descendin\n      sum =asum+dsum;\n      System.out.println(\"SUM\"+sum);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5965787,"reputation":543,"user_id":4689607,"accept_rate":73,"display_name":"Sriram S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440663826,"creation_date":1440663826,"answer_id":32244247,"question_id":32078074,"body_markdown":"   Bellow program works well\r\n      \r\n     public class Solution {\r\n\r\n    static Integer[] c = {3, 2, 4, 1};\r\n    static Integer[] c1 = new Integer[3];\r\n\r\n    public static void main(String arg[]) {\r\n        Arrays.sort(c);\r\n        c1 = c;\r\n\r\n        Arrays.sort(c, Collections.reverseOrder());\r\n        System.out.println(&quot;  Descending = &quot;);\r\n        for (int i = 0; i &lt; c.length; i++) {\r\n             System.out.println(+ c1[i]);\r\n            }\r\n        Arrays.sort(c);\r\n        System.out.println(&quot;Ascending  = &quot; );\r\n        for (int number : c) {\r\n           System.out.println( number);\r\n           }\r\n\r\n        }\r\n      }\r\n   \r\n","title":"Java: Array sorting","body":"<p>Bellow program works well</p>\n\n<pre><code> public class Solution {\n\nstatic Integer[] c = {3, 2, 4, 1};\nstatic Integer[] c1 = new Integer[3];\n\npublic static void main(String arg[]) {\n    Arrays.sort(c);\n    c1 = c;\n\n    Arrays.sort(c, Collections.reverseOrder());\n    System.out.println(\"  Descending = \");\n    for (int i = 0; i &lt; c.length; i++) {\n         System.out.println(+ c1[i]);\n        }\n    Arrays.sort(c);\n    System.out.println(\"Ascending  = \" );\n    for (int number : c) {\n       System.out.println( number);\n       }\n\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":4440512,"reputation":315,"user_id":3615140,"accept_rate":71,"display_name":"Prakash Bala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":32078348,"answer_count":6,"score":0,"last_activity_date":1635256421,"creation_date":1439916203,"question_id":32078074,"body_markdown":"I need to sort an array in ascending and descending order and add its value.\r\n\r\nExample code:\r\n\r\n    Integer[] c={3,2,4,1};\r\n    Integer[] c1= new Integer[3];\r\n    \r\n    Arrays.sort(c);\r\n    \r\n    c1=c;\r\n    \r\n    System.out.print(c1[0]);\r\n    \r\n    Arrays.sort(c,Collections.reverseOrder());\r\n    \r\n    System.out.print(c1[0]); *\\ here I&#39;m getting different result \\*\r\n\r\n","title":"Java: Array sorting","body":"<p>I need to sort an array in ascending and descending order and add its value.</p>\n<p>Example code:</p>\n<pre><code>Integer[] c={3,2,4,1};\nInteger[] c1= new Integer[3];\n\nArrays.sort(c);\n\nc1=c;\n\nSystem.out.print(c1[0]);\n\nArrays.sort(c,Collections.reverseOrder());\n\nSystem.out.print(c1[0]); *\\ here I'm getting different result \\*\n</code></pre>\n"},{"tags":["java","arrays","google-sheets","google-sheets-api"],"comments":[{"owner":{"account_id":7556077,"reputation":402,"user_id":5735629,"display_name":"ZIHAO LIU"},"score":0,"creation_date":1635252606,"post_id":69723133,"comment_id":123242487,"body_markdown":"Could you post more detail such as stack trace.","body":"Could you post more detail such as stack trace."},{"owner":{"account_id":7556077,"reputation":402,"user_id":5735629,"display_name":"ZIHAO LIU"},"score":0,"creation_date":1635252698,"post_id":69723133,"comment_id":123242540,"body_markdown":"try change ``allData.add(Arrays.asList(obj));`` to ``allData.addAll(Arrays.asList(obj));``","body":"try change <code>allData.add(Arrays.asList(obj));</code> to <code>allData.addAll(Arrays.asList(obj));</code>"},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1635257023,"post_id":69723133,"comment_id":123244724,"body_markdown":"I can&#39;t understand why you have the two lists &quot;allData&quot; and &quot;values&quot;. As far as I can see only one is required in your impl","body":"I can&#39;t understand why you have the two lists &quot;allData&quot; and &quot;values&quot;. As far as I can see only one is required in your impl"},{"owner":{"account_id":14694206,"reputation":18740,"user_id":10612011,"display_name":"Iamblichus"},"score":0,"creation_date":1635257418,"post_id":69723133,"comment_id":123244936,"body_markdown":"Can you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)? Where&#39;s `reportParameters` coming from? And which line are you getting the error?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Where&#39;s <code>reportParameters</code> coming from? And which line are you getting the error?"}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635256405,"creation_date":1635256405,"answer_id":69724413,"question_id":69723133,"body_markdown":"```\r\nList&lt;List&lt;Object&gt;&gt; values = reportParameters.getDataSource().getResultSet()\r\n   .stream()\r\n   .map(Arrays::asList)\r\n   .collect(Collectors.toList());\r\n```","title":"How to convert List&lt;Object[]&gt; into List&lt;List&lt;Object&gt;&gt; for GoogleSheet ValueRange","body":"<pre><code>List&lt;List&lt;Object&gt;&gt; values = reportParameters.getDataSource().getResultSet()\n   .stream()\n   .map(Arrays::asList)\n   .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":3642343,"reputation":85,"user_id":3036170,"accept_rate":75,"display_name":"00Shunya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69724413,"answer_count":1,"score":0,"last_activity_date":1635256405,"creation_date":1635251350,"question_id":69723133,"body_markdown":"I am trying to write report from hibernate resultset which returns result as List&lt;Object[]&gt;\r\nIn order to send this data to google sheet API I need to convert it into List&lt;List&lt;Object&gt;&gt;\r\nI have tried several ways but getting following error\r\n\r\n&quot;message&quot; : &quot;Invalid data[1]: Invalid values[1][0]: list_value \r\n\r\nfollowing is the code I tried but no luck\r\n\r\nIt might a very dumb thing to ask here but anyone if possible please help\r\n\r\n```\r\nList&lt;Object&gt; allData = new ArrayList&lt;&gt;();\r\n      List&lt;List&lt;Object&gt;&gt; values = new ArrayList&lt;&gt;();\r\n      for (Object[] obj : reportParameters.getDataSource().getResultSet()){\r\n        allData.add(Arrays.asList(obj));\r\n      }\r\n      values.add(allData);\r\n      ValueRange sheetData = new ValueRange()\r\n          .setValues(values)\r\n          .setRange(&quot;A2&quot;);\r\n      body.add(sheetData);\r\n```","title":"How to convert List&lt;Object[]&gt; into List&lt;List&lt;Object&gt;&gt; for GoogleSheet ValueRange","body":"<p>I am trying to write report from hibernate resultset which returns result as List&lt;Object[]&gt;\nIn order to send this data to google sheet API I need to convert it into List&lt;List&gt;\nI have tried several ways but getting following error</p>\n<p>&quot;message&quot; : &quot;Invalid data[1]: Invalid values[1][0]: list_value</p>\n<p>following is the code I tried but no luck</p>\n<p>It might a very dumb thing to ask here but anyone if possible please help</p>\n<pre><code>List&lt;Object&gt; allData = new ArrayList&lt;&gt;();\n      List&lt;List&lt;Object&gt;&gt; values = new ArrayList&lt;&gt;();\n      for (Object[] obj : reportParameters.getDataSource().getResultSet()){\n        allData.add(Arrays.asList(obj));\n      }\n      values.add(allData);\n      ValueRange sheetData = new ValueRange()\n          .setValues(values)\n          .setRange(&quot;A2&quot;);\n      body.add(sheetData);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","dependency-management"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1634161080,"post_id":69562579,"comment_id":122954717,"body_markdown":"Note: If you&#39;re making the update, you might as well update to the latest (2.5, I believe).","body":"Note: If you&#39;re making the update, you might as well update to the latest (2.5, I believe)."},{"owner":{"account_id":17208073,"reputation":245,"user_id":12458182,"display_name":"Frederick Haug"},"score":0,"creation_date":1634163412,"post_id":69562579,"comment_id":122955312,"body_markdown":"Good point, I was mimicking a project from 2.2.7, so I thought I would keep the dependencies similar as to not let more room for errors. I will update to 2.5.5 and try running it. I got an error when running the app, maybe you can make sense of it?","body":"Good point, I was mimicking a project from 2.2.7, so I thought I would keep the dependencies similar as to not let more room for errors. I will update to 2.5.5 and try running it. I got an error when running the app, maybe you can make sense of it?"},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":0,"creation_date":1634163738,"post_id":69562579,"comment_id":122955389,"body_markdown":"What did your dependencies look like before the change?","body":"What did your dependencies look like before the change?"},{"owner":{"account_id":17208073,"reputation":245,"user_id":12458182,"display_name":"Frederick Haug"},"score":0,"creation_date":1634176756,"post_id":69562579,"comment_id":122957655,"body_markdown":"Before the change I set the spring.version variable to 1.5.3.RELEASE and commented out the migrator dependency.","body":"Before the change I set the spring.version variable to 1.5.3.RELEASE and commented out the migrator dependency."},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":1,"creation_date":1634177349,"post_id":69562579,"comment_id":122957750,"body_markdown":"Does this answer your question? [Spring Boot ClassNotFoundException org.springframework.core.metrics.ApplicationStartup](https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/65046056/spring-boot-classnotfoundexception-org-springframework-core-metrics-applications\">Spring Boot ClassNotFoundException org.springframework.core.metrics.ApplicationStartup</a>"},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":1,"creation_date":1634178477,"post_id":69562579,"comment_id":122957934,"body_markdown":"If none of the proper answers there work let me know and I can take a look tomorrow. Really usually boils down to one of two things: (1) they decided to separate a component into a separate package and you have to add that dependency or (2) there is some old conflicting version of a package lingering causing this.","body":"If none of the proper answers there work let me know and I can take a look tomorrow. Really usually boils down to one of two things: (1) they decided to separate a component into a separate package and you have to add that dependency or (2) there is some old conflicting version of a package lingering causing this."},{"owner":{"account_id":4501373,"reputation":954,"user_id":3659807,"display_name":"Omar Abdel Bari"},"score":0,"creation_date":1634180513,"post_id":69562579,"comment_id":122958203,"body_markdown":"I answered a similar problem like this before with details on the steps. Might be helpful. https://stackoverflow.com/questions/63902860/java-run-sshd-server-error-no-class-def-found/63903248#63903248","body":"I answered a similar problem like this before with details on the steps. Might be helpful. <a href=\"https://stackoverflow.com/questions/63902860/java-run-sshd-server-error-no-class-def-found/63903248#63903248\" title=\"java run sshd server error no class def found\">stackoverflow.com/questions/63902860/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23020582,"reputation":125,"user_id":17141696,"display_name":"Pranay Srivastava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635256218,"creation_date":1635256218,"answer_id":69724354,"question_id":69562579,"body_markdown":"These dependencies are pulled by the Spring Boot core artifact that you declared. That is generally done via the `spring-boot-starter-parent` that you declare as the parent pom of your project.\r\n\r\nIn order to update your project to Spring 5 (the actual released version), you have to update the spring-boot-starter-parent parent declaration from 1.5.3 to 2.X (or the `spring-boot-dependencies` dependency version if you don&#39;t use the starter parent).\r\nYou can indeed read in the release note of Spring Boot 2 that :\r\n\r\nSpring Boot 2.0 builds on and requires Spring Framework 5.\r\n\r\nNote that updating from Spring Boot 1.5.3 to Spring Boot 2 may have as consequence some regressions for your application.\r\nSo you should take care to test carefully your application to identify all of them.\r\nThe Spring-Boot-2.0-Migration-Guide is also a good resource to ease the migration.\r\n\r\nHere is a snippet of what you get by declaring org.springframework.boot:spring-boot-starter:jar:2.0.2.RELEASE as parent of your project \r\n\r\n        $ mvn dependency:tree                                                                       \r\n    [INFO] Scanning for projects...                                                             \r\n    [INFO]                                                                                      \r\n    [INFO] ----------------------------------------------------             \r\n    [INFO] Building demo 0.0.1-SNAPSHOT                                                         \r\n    [INFO] --------------------------------[ jar ]---------------------------------             \r\n    [INFO]                                                                                      \r\n    [INFO] --- maven-dependency-plugin:3.0.2:tree (default-cli) @ demo ---                      \r\n    [INFO] com.example:demo:jar:0.0.1-SNAPSHOT                                                  \r\n    [INFO] +- org.springframework.boot:spring-boot-starter:jar:2.5.5.RELEASE:compile            \r\n    [INFO] |  +- org.springframework.boot:spring-boot:jar:2.5.5.RELEASE:compile                 \r\n    [INFO] |  |  \\- org.springframework:spring-context:jar:5.0.6.RELEASE:compile                \r\n    [INFO] |  |     +- org.springframework:spring-aop:jar:5.0.6.RELEASE:compile                 \r\n    [INFO] |  |     +- org.springframework:spring-beans:jar:5.0.6.RELEASE:compile               \r\n    [INFO] |  |     \\- org.springframework:spring-expression:jar:5.0.6.RELEASE:compile          \r\n    [INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.5.RELEASE:compile   \r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.5.5.RELEASE:compile`\r\n    ... ","title":"Updating Spring Boot dependencies from 1.5.3.RELEASE to 2.2.7.RELEASE breaks Spring App","body":"<p>These dependencies are pulled by the Spring Boot core artifact that you declared. That is generally done via the <code>spring-boot-starter-parent</code> that you declare as the parent pom of your project.</p>\n<p>In order to update your project to Spring 5 (the actual released version), you have to update the spring-boot-starter-parent parent declaration from 1.5.3 to 2.X (or the <code>spring-boot-dependencies</code> dependency version if you don't use the starter parent).\nYou can indeed read in the release note of Spring Boot 2 that :</p>\n<p>Spring Boot 2.0 builds on and requires Spring Framework 5.</p>\n<p>Note that updating from Spring Boot 1.5.3 to Spring Boot 2 may have as consequence some regressions for your application.\nSo you should take care to test carefully your application to identify all of them.\nThe Spring-Boot-2.0-Migration-Guide is also a good resource to ease the migration.</p>\n<p>Here is a snippet of what you get by declaring org.springframework.boot:spring-boot-starter:jar:2.0.2.RELEASE as parent of your project</p>\n<pre><code>    $ mvn dependency:tree                                                                       \n[INFO] Scanning for projects...                                                             \n[INFO]                                                                                      \n[INFO] ----------------------------------------------------             \n[INFO] Building demo 0.0.1-SNAPSHOT                                                         \n[INFO] --------------------------------[ jar ]---------------------------------             \n[INFO]                                                                                      \n[INFO] --- maven-dependency-plugin:3.0.2:tree (default-cli) @ demo ---                      \n[INFO] com.example:demo:jar:0.0.1-SNAPSHOT                                                  \n[INFO] +- org.springframework.boot:spring-boot-starter:jar:2.5.5.RELEASE:compile            \n[INFO] |  +- org.springframework.boot:spring-boot:jar:2.5.5.RELEASE:compile                 \n[INFO] |  |  \\- org.springframework:spring-context:jar:5.0.6.RELEASE:compile                \n[INFO] |  |     +- org.springframework:spring-aop:jar:5.0.6.RELEASE:compile                 \n[INFO] |  |     +- org.springframework:spring-beans:jar:5.0.6.RELEASE:compile               \n[INFO] |  |     \\- org.springframework:spring-expression:jar:5.0.6.RELEASE:compile          \n[INFO] |  +- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.5.RELEASE:compile   \n[INFO] |  +- org.springframework.boot:spring-boot-starter-logging:jar:2.5.5.RELEASE:compile`\n... \n</code></pre>\n"}],"owner":{"account_id":17208073,"reputation":245,"user_id":12458182,"display_name":"Frederick Haug"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69724354,"answer_count":1,"score":0,"last_activity_date":1635256218,"creation_date":1634160878,"question_id":69562579,"body_markdown":"I am new to working with Spring Boot, I have copied a project from 1.5.3 and have the application running with this code for the `spring/application.java`\r\n\r\n```\r\n@SpringBootApplication(scanBasePackages = &quot;com.company&quot;)\r\n@ComponentScan(basePackages = &quot;com.company&quot;)\r\n@EntityScan(basePackages = &quot;com.company&quot;)\r\n@EnableTransactionManagement\r\n@EnableScheduling\r\npublic class Application {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(Application.class);\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // log.info(&quot;Starting up... main args: &quot; + Arrays.asList(args));\r\n        System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);        \r\n        // Runs Orchestration:run(args) via Spring\r\n        new SpringApplicationBuilder(Application.class)\r\n                // .web(WebApplicationType.NONE) &lt;- this part is uncommented in 2.2.7 run\r\n                .run(args);\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nI have a @Component class too that runs after the SpringApplicatoinBuilder is called.\r\n\r\n```\r\n@Component\r\npublic class Orchestration implements CommandLineRunner {\r\n\r\n    @Override\r\n    public void run(String...args) throws Exception {\r\n       // stuff\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I upgrade all of my dependencies from 1.5.3.RELEASE to 2.2.7.RELEASE in the modules pom file, the application seems to not call the Orchestration @Component anymore. I have looked at other examples and brought in the migrator dependency as mentioned in this article https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide. But have not had luck running the Spring App correctly. \r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n      &lt;version&gt;4.3.5.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n &lt;/dependencies&gt;\r\n```\r\n\r\nThe worst part is that I don&#39;t get any compilation or runtime errors so I&#39;m not sure what is incorrect here. Can someone more experienced in Spring 2.2.7 help me with my projects setup?\r\n\r\n\r\nEDIT 10/13/2021 6:18pm \r\nWhen updating to 2.5.5 release I do get an error message at the SpringApplicationBuilder class ...\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:253)\r\n        at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:266)\r\n        at org.springframework.boot.builder.SpringApplicationBuilder.createSpringApplication(SpringApplicationBuilder.java:108)\r\n        at org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;(SpringApplicationBuilder.java:97)\r\n        at com.planalytics.rp.orchestration.spring.Application.main(Application.java:35)\r\n        ... 8 more\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.metrics.ApplicationStartup\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        ... 13 more\r\n```","title":"Updating Spring Boot dependencies from 1.5.3.RELEASE to 2.2.7.RELEASE breaks Spring App","body":"<p>I am new to working with Spring Boot, I have copied a project from 1.5.3 and have the application running with this code for the <code>spring/application.java</code></p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;com.company&quot;)\n@ComponentScan(basePackages = &quot;com.company&quot;)\n@EntityScan(basePackages = &quot;com.company&quot;)\n@EnableTransactionManagement\n@EnableScheduling\npublic class Application {\n\n    private static final Logger log = LoggerFactory.getLogger(Application.class);\n\n\n    public static void main(String[] args) throws Exception {\n        // log.info(&quot;Starting up... main args: &quot; + Arrays.asList(args));\n        System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);        \n        // Runs Orchestration:run(args) via Spring\n        new SpringApplicationBuilder(Application.class)\n                // .web(WebApplicationType.NONE) &lt;- this part is uncommented in 2.2.7 run\n                .run(args);\n\n    }\n\n}\n</code></pre>\n<p>I have a @Component class too that runs after the SpringApplicatoinBuilder is called.</p>\n<pre><code>@Component\npublic class Orchestration implements CommandLineRunner {\n\n    @Override\n    public void run(String...args) throws Exception {\n       // stuff\n    }\n\n}\n</code></pre>\n<p>When I upgrade all of my dependencies from 1.5.3.RELEASE to 2.2.7.RELEASE in the modules pom file, the application seems to not call the Orchestration @Component anymore. I have looked at other examples and brought in the migrator dependency as mentioned in this article <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide</a>. But have not had luck running the Spring App correctly.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n      &lt;version&gt;4.3.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n &lt;/dependencies&gt;\n</code></pre>\n<p>The worst part is that I don't get any compilation or runtime errors so I'm not sure what is incorrect here. Can someone more experienced in Spring 2.2.7 help me with my projects setup?</p>\n<p>EDIT 10/13/2021 6:18pm\nWhen updating to 2.5.5 release I do get an error message at the SpringApplicationBuilder class ...</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/core/metrics/ApplicationStartup\n        at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:253)\n        at org.springframework.boot.SpringApplication.&lt;init&gt;(SpringApplication.java:266)\n        at org.springframework.boot.builder.SpringApplicationBuilder.createSpringApplication(SpringApplicationBuilder.java:108)\n        at org.springframework.boot.builder.SpringApplicationBuilder.&lt;init&gt;(SpringApplicationBuilder.java:97)\n        at com.planalytics.rp.orchestration.spring.Application.main(Application.java:35)\n        ... 8 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.core.metrics.ApplicationStartup\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 13 more\n</code></pre>\n"},{"tags":["java","github","jar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635248830,"post_id":69722501,"comment_id":123240720,"body_markdown":"Learn to use maven or gradle for dependency management.","body":"Learn to use maven or gradle for dependency management."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1635255972,"post_id":69722501,"comment_id":123244154,"body_markdown":"Hint: the real answer is ... to accept that most things you can think of asking here ... have been asked before. Just download the other 2 JARs from the javallier release page, and then follow the instructions in the &quot;duplicated&quot; question answers.","body":"Hint: the real answer is ... to accept that most things you can think of asking here ... have been asked before. Just download the other 2 JARs from the javallier release page, and then follow the instructions in the &quot;duplicated&quot; question answers."}],"answers":[{"tags":[],"owner":{"account_id":20088433,"reputation":71,"user_id":14729508,"display_name":"Alkin Kiroglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635255426,"creation_date":1635255426,"answer_id":69724159,"question_id":69722501,"body_markdown":"Right click on your project -&gt; Click properties at the bottom -&gt; Select Java Build Path on the left -&gt; Select libraries tab -&gt; Click on classpath -&gt; Click Add External Jars Button -&gt; Select the library Jar -&gt; Click open ","title":"Cannot import external library (.jar) to Eclipse project","body":"<p>Right click on your project -&gt; Click properties at the bottom -&gt; Select Java Build Path on the left -&gt; Select libraries tab -&gt; Click on classpath -&gt; Click Add External Jars Button -&gt; Select the library Jar -&gt; Click open</p>\n"}],"owner":{"account_id":23148125,"reputation":1,"user_id":17250611,"display_name":"Gustav g."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635255808,"answer_count":1,"score":0,"last_activity_date":1635255840,"creation_date":1635248661,"question_id":69722501,"body_markdown":"I am having issues adding an external jar library to my project in Eclipse. I downloaded the [javallier](https://github.com/n1analytics/javallier) library from GitHub and added it to my referenced libraries. In my package explorer, it looks like this:\r\n[Picture 1][1]\r\n\r\nSomehow, Eclipse can neither find the source attachment or the Javadoc location:\r\n[Picture 2][2]\r\n\r\nI tried downloading the java source attacher (which somehow I cannot download) and I also tried adding the source attachment manually, yet I do not know where to link it to. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FQN0d.png\r\n  [2]: https://i.stack.imgur.com/V7qLi.png","title":"Cannot import external library (.jar) to Eclipse project","body":"<p>I am having issues adding an external jar library to my project in Eclipse. I downloaded the <a href=\"https://github.com/n1analytics/javallier\" rel=\"nofollow noreferrer\">javallier</a> library from GitHub and added it to my referenced libraries. In my package explorer, it looks like this:\n<a href=\"https://i.stack.imgur.com/FQN0d.png\" rel=\"nofollow noreferrer\">Picture 1</a></p>\n<p>Somehow, Eclipse can neither find the source attachment or the Javadoc location:\n<a href=\"https://i.stack.imgur.com/V7qLi.png\" rel=\"nofollow noreferrer\">Picture 2</a></p>\n<p>I tried downloading the java source attacher (which somehow I cannot download) and I also tried adding the source attachment manually, yet I do not know where to link it to.</p>\n"},{"tags":["java","android","android-recyclerview","adapter"],"answers":[{"tags":[],"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635255623,"creation_date":1635255623,"answer_id":69724206,"question_id":69724095,"body_markdown":"* Use [Glide][1] or [Picasso][2] library\r\n\r\n* They are best in these type of Application\r\n\r\n\r\n  [1]: https://github.com/bumptech/glide\r\n  [2]: https://square.github.io/picasso/","title":"How can I show image in Recyclerview - Recyclerview image display error","body":"<ul>\n<li><p>Use <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">Glide</a> or <a href=\"https://square.github.io/picasso/\" rel=\"nofollow noreferrer\">Picasso</a> library</p>\n</li>\n<li><p>They are best in these type of Application</p>\n</li>\n</ul>\n"}],"owner":{"account_id":22540713,"reputation":23,"user_id":16731303,"display_name":"partizal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69724206,"answer_count":1,"score":1,"last_activity_date":1635255623,"creation_date":1635255219,"question_id":69724095,"body_markdown":"Firstly sorry if my english explanation is bad. My issue is, I am trying to make weather app and I want to show 5 day forecast.I keep the data in arraylist that I pull in api and send to  my adapter class. As you know weahter icons are expressed as string in weather api. such as &quot;010d&quot; is sunny something like that.I am going to show recyclerview that I wrote 5 day forecast. Everything is working but icons doesn&#39;t show. I am sharing codes that I did.\r\n\r\nI am getting data in forecast class \r\nMy forecast class\r\n\r\n     public class forecast extends AppCompatActivity {\r\n\r\n    ActivityResultLauncher&lt;String&gt; permissionLauncher;\r\n    LocationManager locationManager;\r\n    LocationListener locationListener;\r\n\r\n    ImageView forecast_back_icon;\r\n\r\n    RecyclerView recyclerviewforecast;\r\n    String API_KEY_FORECAST;\r\n    String URL_FORECAST;\r\n    Double Latitude,Longitude;\r\n    ArrayList&lt;RecyclerviewModel&gt; arrayList;\r\n    ForecastAdapter forecastAdapter;\r\n\r\n\r\n\r\n     public forecast(){\r\n        super();\r\n     }\r\n\r\n   \r\n    public void init(){\r\n        arrayList = new ArrayList&lt;&gt;();\r\n\r\n        forecast_back_icon = findViewById(R.id.forecast_back_icon);\r\n        recyclerviewforecast = findViewById(R.id.RecyclerviewForecast);\r\n\r\n\r\n        get_forecast_data(Latitude,Longitude);\r\n\r\n        forecast_back_icon();\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_forecast);\r\n\r\n        Intent intent = getIntent();\r\n        Latitude = intent.getDoubleExtra(&quot;lat&quot;,0);\r\n        Longitude = intent.getDoubleExtra(&quot;long&quot;,0);\r\n        System.out.println(&quot;LATİTUDE &quot;+Latitude+&quot; Longitude &quot;+Longitude);\r\n        init();\r\n\r\n\r\n\r\n    }\r\n\r\n    public void forecast_back_icon(){\r\n        forecast_back_icon.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent IntentForecastToMain = new Intent(forecast.this,MainActivity.class);\r\n                startActivity(IntentForecastToMain);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void get_forecast_data(Double Lat, Double Long){\r\n\r\n        //EXAMPLE URL\r\n        //https://api.openweathermap.org/data/2.5/weather?lat={lat}&amp;lon={lon}&amp;appid={API%20key}\r\n        \r\n        API_KEY_FORECAST = &quot;c29ecfafd4a70caad8fee38d6054bfc7&quot;;\r\n        URL_FORECAST = &quot;https://api.openweathermap.org/data/2.5/onecall?lat=&quot;+Lat+&quot;&amp;lon=&quot;+Long+&quot;&amp;exclude=current,minutely,hourly,alerts&amp;appid=&quot;+API_KEY_FORECAST;\r\n        RequestQueue queue = Volley.newRequestQueue(getApplicationContext());\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, URL_FORECAST, null, new Response.Listener&lt;JSONObject&gt;() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n\r\n                try {\r\n\r\n                    JSONArray daily = response.getJSONArray(&quot;daily&quot;);\r\n                    for(int i=0;i&lt;daily.length();i++){\r\n\r\n                        String  temp = daily.getJSONObject(i).getJSONObject(&quot;temp&quot;).getString(&quot;day&quot;);\r\n                        String feels_like = daily.getJSONObject(i).getJSONObject(&quot;feels_like&quot;).getString(&quot;day&quot;);\r\n                        String pressure = daily.getJSONObject(i).getString(&quot;pressure&quot;);\r\n                        String humidity = daily.getJSONObject(i).getString(&quot;humidity&quot;);\r\n                        String wind_speed = daily.getJSONObject(i).getString(&quot;wind_speed&quot;);\r\n                        String icon = daily.getJSONObject(i).getJSONArray(&quot;weather&quot;).getJSONObject(0).getString(&quot;icon&quot;);\r\n                        String description = daily.getJSONObject(i).getJSONArray(&quot;weather&quot;).getJSONObject(0).getString(&quot;description&quot;);\r\n                        arrayList.add(new RecyclerviewModel(temp,humidity,feels_like,pressure,description,wind_speed,icon));\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                catch (JSONException e) {\r\n                    e.printStackTrace();\r\n\r\n                }\r\n                forecastAdapter = new ForecastAdapter(arrayList);\r\n                recyclerviewforecast.setAdapter(forecastAdapter);\r\n                recyclerviewforecast.setLayoutManager(new LinearLayoutManager(forecast.this));\r\n            }\r\n\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n                error.printStackTrace();\r\n            }\r\n        });\r\n        queue.add(request);\r\n        System.out.println(&quot;forecast class arraylist size : --&gt; &quot;+arrayList.size());\r\n    }\r\n\r\n     }\r\n\r\n   \r\n\r\nMy adapter class\r\n\r\n     public class ForecastAdapter extends RecyclerView.Adapter&lt;ForecastAdapter.MyForecastViewHolder&gt; {\r\n\r\n    ArrayList&lt;RecyclerviewModel&gt; ForecastArraylist;\r\n    ForecastDailyIconConverter forecastDailyIconConverter;\r\n\r\n\r\n    public ForecastAdapter(ArrayList&lt;RecyclerviewModel&gt; ForecastArraylist){\r\n        this.ForecastArraylist = ForecastArraylist;\r\n        System.out.println(&quot;ForecastAdapter arraylist size : --- &gt; &quot;+ForecastArraylist.size());\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyForecastViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        RecyclerviewForecastRowBinding recyclerviewForecastRowBinding = RecyclerviewForecastRowBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\r\n        return new MyForecastViewHolder(recyclerviewForecastRowBinding);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyForecastViewHolder holder, int position) {\r\n\r\n        System.out.println(&quot;we are in onbindviewholder.... &quot;);\r\n        Double temperature = Double.parseDouble(ForecastArraylist.get(position).getTemperature()) - 273.15;\r\n        System.out.println(temperature);\r\n        Double feels_like = Double.parseDouble(ForecastArraylist.get(position).getFeels_like()) - 273.15;\r\n\r\n        holder.binding.txtRecyclerviewDay.setText(&quot;day &quot;+(position+1));\r\n        holder.binding.txtRecyclerviewTemp.setText(&quot;temperature:&quot;+temperature.toString().substring(0,4)+&quot;&#176;&quot;);\r\n        holder.binding.txtRecyclerviewFeelslike.setText(&quot;feels like:&quot;+feels_like.toString().substring(0,4)+&quot;&#176;&quot;);\r\n        holder.binding.txtRecyclerviewHumidity.setText(&quot;humidity:%&quot;+ForecastArraylist.get(position).getHumadity());\r\n        holder.binding.txtRecyclerviewPressure.setText(&quot;pressure:&quot;+ForecastArraylist.get(position).getPressure()+&quot;hPa&quot;);\r\n        holder.binding.txtRecyclerviewWindSpeed.setText(&quot;wind speed:&quot;+ForecastArraylist.get(position).getWind_speed()+&quot;km/h&quot;);\r\n        holder.binding.txtRecyclerviewCloud.setText(ForecastArraylist.get(position).getDescription());\r\n        String icon_id = ForecastArraylist.get(position).getId();\r\n\r\n        forecastDailyIconConverter = new ForecastDailyIconConverter();\r\n        int id1 = forecastDailyIconConverter.ConvertIntoNumeric(icon_id);\r\n        load_weather_icon(id1,holder);\r\n\r\n\r\n    }\r\n\r\n    public void load_weather_icon(int id1,MyForecastViewHolder holder){\r\n\r\n        if(id1&gt;=200 &amp;&amp; id1 &lt;= 232){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.thunderstorm);\r\n        }\r\n        else if(id1&gt;=300 &amp;&amp; id1&lt;= 321){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.showerrain);\r\n        }\r\n        else if(id1&gt;=500 &amp;&amp; id1&lt;= 504){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.rain);\r\n        }\r\n        else if(id1 == 511){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.snow);\r\n        }\r\n        else if(id1&gt;=520 &amp;&amp; id1&lt;= 531){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.showerrain);\r\n        }\r\n        else if(id1&gt;=600 &amp;&amp; id1&lt;= 622){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.snow);\r\n        }\r\n        else if(id1&gt;=701 &amp;&amp; id1&lt;= 781){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.mist);\r\n        }\r\n        else if(id1 == 800 ){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.clearsky);\r\n        }\r\n        else if(id1 == 801){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.fewclouds);\r\n        }\r\n        else if(id1 == 802){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.scatteredclouds);\r\n        }\r\n        else if(id1 == 803){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.brokenclouds);\r\n        }\r\n        else if(id1 == 804){\r\n            holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.brokenclouds);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return ForecastArraylist.size();\r\n    }\r\n\r\n    public class MyForecastViewHolder extends RecyclerView.ViewHolder{\r\n        private RecyclerviewForecastRowBinding binding;\r\n\r\n        public MyForecastViewHolder(@NonNull RecyclerviewForecastRowBinding binding) {\r\n            super(binding.getRoot());\r\n            this.binding = binding;\r\n        }\r\n    }\r\n\r\n\r\n     }\r\n\r\nI have tried to write icons in onbindviewholder without load_weather_icon() funct and it hasn&#39;t worked\r\n\r\nMy recyclerview_row xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:weightSum=&quot;100&quot;\r\n    android:background=&quot;#FA8072&quot;\r\n   &gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_weight=&quot;40&quot;\r\n       &gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            &gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_recyclerview_day&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;day:&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                &gt;&lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            &gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_recyclerview_temp&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;temp:&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                &gt;&lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            &gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_recyclerview_feelslike&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;feels like:&quot;\r\n                android:textColor=&quot;@color/white&quot;&gt;&lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5dp&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_recyclerview_pressure&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;pressure:&quot;\r\n                android:textColor=&quot;@color/white&quot;&gt;&lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5dp&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_recyclerview_humidity&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;humidity:&quot;\r\n                android:textColor=&quot;@color/white&quot;&gt;&lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;5dp&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_recyclerview_wind_speed&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;wind speed:&quot;\r\n                android:textColor=&quot;@color/white&quot;&gt;&lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;60&quot;\r\n        android:layout_margin=&quot;5dp&quot;\r\n        android:padding=&quot;5dp&quot;\r\n        android:gravity=&quot;right&quot;\r\n\r\n        android:orientation=&quot;vertical&quot;\r\n        &gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/recyclerview_cloud_img&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;5dp&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n            &gt;&lt;/ImageView&gt;\r\n\r\n       &lt;TextView\r\n           android:layout_width=&quot;match_parent&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:id=&quot;@+id/txt_recyclerview_cloud&quot;\r\n           android:text=&quot;&quot;\r\n           android:gravity=&quot;center&quot;\r\n           android:layout_margin=&quot;5dp&quot;\r\n           android:padding=&quot;5dp&quot;\r\n           android:textColor=&quot;@color/white&quot;\r\n           &gt;&lt;/TextView&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SMy6x.png","title":"How can I show image in Recyclerview - Recyclerview image display error","body":"<p>Firstly sorry if my english explanation is bad. My issue is, I am trying to make weather app and I want to show 5 day forecast.I keep the data in arraylist that I pull in api and send to  my adapter class. As you know weahter icons are expressed as string in weather api. such as &quot;010d&quot; is sunny something like that.I am going to show recyclerview that I wrote 5 day forecast. Everything is working but icons doesn't show. I am sharing codes that I did.</p>\n<p>I am getting data in forecast class\nMy forecast class</p>\n<pre><code> public class forecast extends AppCompatActivity {\n\nActivityResultLauncher&lt;String&gt; permissionLauncher;\nLocationManager locationManager;\nLocationListener locationListener;\n\nImageView forecast_back_icon;\n\nRecyclerView recyclerviewforecast;\nString API_KEY_FORECAST;\nString URL_FORECAST;\nDouble Latitude,Longitude;\nArrayList&lt;RecyclerviewModel&gt; arrayList;\nForecastAdapter forecastAdapter;\n\n\n\n public forecast(){\n    super();\n }\n\n\npublic void init(){\n    arrayList = new ArrayList&lt;&gt;();\n\n    forecast_back_icon = findViewById(R.id.forecast_back_icon);\n    recyclerviewforecast = findViewById(R.id.RecyclerviewForecast);\n\n\n    get_forecast_data(Latitude,Longitude);\n\n    forecast_back_icon();\n\n}\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_forecast);\n\n    Intent intent = getIntent();\n    Latitude = intent.getDoubleExtra(&quot;lat&quot;,0);\n    Longitude = intent.getDoubleExtra(&quot;long&quot;,0);\n    System.out.println(&quot;LATİTUDE &quot;+Latitude+&quot; Longitude &quot;+Longitude);\n    init();\n\n\n\n}\n\npublic void forecast_back_icon(){\n    forecast_back_icon.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent IntentForecastToMain = new Intent(forecast.this,MainActivity.class);\n            startActivity(IntentForecastToMain);\n        }\n    });\n}\n\npublic void get_forecast_data(Double Lat, Double Long){\n\n    //EXAMPLE URL\n    //https://api.openweathermap.org/data/2.5/weather?lat={lat}&amp;lon={lon}&amp;appid={API%20key}\n    \n    API_KEY_FORECAST = &quot;c29ecfafd4a70caad8fee38d6054bfc7&quot;;\n    URL_FORECAST = &quot;https://api.openweathermap.org/data/2.5/onecall?lat=&quot;+Lat+&quot;&amp;lon=&quot;+Long+&quot;&amp;exclude=current,minutely,hourly,alerts&amp;appid=&quot;+API_KEY_FORECAST;\n    RequestQueue queue = Volley.newRequestQueue(getApplicationContext());\n    JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, URL_FORECAST, null, new Response.Listener&lt;JSONObject&gt;() {\n        @Override\n        public void onResponse(JSONObject response) {\n\n            try {\n\n                JSONArray daily = response.getJSONArray(&quot;daily&quot;);\n                for(int i=0;i&lt;daily.length();i++){\n\n                    String  temp = daily.getJSONObject(i).getJSONObject(&quot;temp&quot;).getString(&quot;day&quot;);\n                    String feels_like = daily.getJSONObject(i).getJSONObject(&quot;feels_like&quot;).getString(&quot;day&quot;);\n                    String pressure = daily.getJSONObject(i).getString(&quot;pressure&quot;);\n                    String humidity = daily.getJSONObject(i).getString(&quot;humidity&quot;);\n                    String wind_speed = daily.getJSONObject(i).getString(&quot;wind_speed&quot;);\n                    String icon = daily.getJSONObject(i).getJSONArray(&quot;weather&quot;).getJSONObject(0).getString(&quot;icon&quot;);\n                    String description = daily.getJSONObject(i).getJSONArray(&quot;weather&quot;).getJSONObject(0).getString(&quot;description&quot;);\n                    arrayList.add(new RecyclerviewModel(temp,humidity,feels_like,pressure,description,wind_speed,icon));\n\n                }\n\n            }\n\n            catch (JSONException e) {\n                e.printStackTrace();\n\n            }\n            forecastAdapter = new ForecastAdapter(arrayList);\n            recyclerviewforecast.setAdapter(forecastAdapter);\n            recyclerviewforecast.setLayoutManager(new LinearLayoutManager(forecast.this));\n        }\n\n    }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n\n            error.printStackTrace();\n        }\n    });\n    queue.add(request);\n    System.out.println(&quot;forecast class arraylist size : --&gt; &quot;+arrayList.size());\n}\n\n }\n</code></pre>\n<p>My adapter class</p>\n<pre><code> public class ForecastAdapter extends RecyclerView.Adapter&lt;ForecastAdapter.MyForecastViewHolder&gt; {\n\nArrayList&lt;RecyclerviewModel&gt; ForecastArraylist;\nForecastDailyIconConverter forecastDailyIconConverter;\n\n\npublic ForecastAdapter(ArrayList&lt;RecyclerviewModel&gt; ForecastArraylist){\n    this.ForecastArraylist = ForecastArraylist;\n    System.out.println(&quot;ForecastAdapter arraylist size : --- &gt; &quot;+ForecastArraylist.size());\n}\n\n@NonNull\n@Override\npublic MyForecastViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    RecyclerviewForecastRowBinding recyclerviewForecastRowBinding = RecyclerviewForecastRowBinding.inflate(LayoutInflater.from(parent.getContext()),parent,false);\n    return new MyForecastViewHolder(recyclerviewForecastRowBinding);\n\n}\n\n@Override\npublic void onBindViewHolder(@NonNull MyForecastViewHolder holder, int position) {\n\n    System.out.println(&quot;we are in onbindviewholder.... &quot;);\n    Double temperature = Double.parseDouble(ForecastArraylist.get(position).getTemperature()) - 273.15;\n    System.out.println(temperature);\n    Double feels_like = Double.parseDouble(ForecastArraylist.get(position).getFeels_like()) - 273.15;\n\n    holder.binding.txtRecyclerviewDay.setText(&quot;day &quot;+(position+1));\n    holder.binding.txtRecyclerviewTemp.setText(&quot;temperature:&quot;+temperature.toString().substring(0,4)+&quot;°&quot;);\n    holder.binding.txtRecyclerviewFeelslike.setText(&quot;feels like:&quot;+feels_like.toString().substring(0,4)+&quot;°&quot;);\n    holder.binding.txtRecyclerviewHumidity.setText(&quot;humidity:%&quot;+ForecastArraylist.get(position).getHumadity());\n    holder.binding.txtRecyclerviewPressure.setText(&quot;pressure:&quot;+ForecastArraylist.get(position).getPressure()+&quot;hPa&quot;);\n    holder.binding.txtRecyclerviewWindSpeed.setText(&quot;wind speed:&quot;+ForecastArraylist.get(position).getWind_speed()+&quot;km/h&quot;);\n    holder.binding.txtRecyclerviewCloud.setText(ForecastArraylist.get(position).getDescription());\n    String icon_id = ForecastArraylist.get(position).getId();\n\n    forecastDailyIconConverter = new ForecastDailyIconConverter();\n    int id1 = forecastDailyIconConverter.ConvertIntoNumeric(icon_id);\n    load_weather_icon(id1,holder);\n\n\n}\n\npublic void load_weather_icon(int id1,MyForecastViewHolder holder){\n\n    if(id1&gt;=200 &amp;&amp; id1 &lt;= 232){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.thunderstorm);\n    }\n    else if(id1&gt;=300 &amp;&amp; id1&lt;= 321){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.showerrain);\n    }\n    else if(id1&gt;=500 &amp;&amp; id1&lt;= 504){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.rain);\n    }\n    else if(id1 == 511){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.snow);\n    }\n    else if(id1&gt;=520 &amp;&amp; id1&lt;= 531){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.showerrain);\n    }\n    else if(id1&gt;=600 &amp;&amp; id1&lt;= 622){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.snow);\n    }\n    else if(id1&gt;=701 &amp;&amp; id1&lt;= 781){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.mist);\n    }\n    else if(id1 == 800 ){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.clearsky);\n    }\n    else if(id1 == 801){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.fewclouds);\n    }\n    else if(id1 == 802){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.scatteredclouds);\n    }\n    else if(id1 == 803){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.brokenclouds);\n    }\n    else if(id1 == 804){\n        holder.binding.recyclerviewCloudImg.setBackgroundResource(R.drawable.brokenclouds);\n    }\n}\n\n@Override\npublic int getItemCount() {\n    return ForecastArraylist.size();\n}\n\npublic class MyForecastViewHolder extends RecyclerView.ViewHolder{\n    private RecyclerviewForecastRowBinding binding;\n\n    public MyForecastViewHolder(@NonNull RecyclerviewForecastRowBinding binding) {\n        super(binding.getRoot());\n        this.binding = binding;\n    }\n}\n\n\n }\n</code></pre>\n<p>I have tried to write icons in onbindviewholder without load_weather_icon() funct and it hasn't worked</p>\n<p>My recyclerview_row xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:weightSum=&quot;100&quot;\nandroid:background=&quot;#FA8072&quot;\n</code></pre>\n<blockquote>\n</blockquote>\n<pre><code>&lt;LinearLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;5dp&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;5dp&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:layout_weight=&quot;40&quot;\n   &gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;5dp&quot;\n        &gt;\n        &lt;TextView\n            android:id=&quot;@+id/txt_recyclerview_day&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;day:&quot;\n            android:textColor=&quot;@color/white&quot;\n            &gt;&lt;/TextView&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;5dp&quot;\n        &gt;\n        &lt;TextView\n            android:id=&quot;@+id/txt_recyclerview_temp&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;temp:&quot;\n            android:textColor=&quot;@color/white&quot;\n            &gt;&lt;/TextView&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;5dp&quot;\n        &gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_recyclerview_feelslike&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;feels like:&quot;\n            android:textColor=&quot;@color/white&quot;&gt;&lt;/TextView&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;5dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_recyclerview_pressure&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;pressure:&quot;\n            android:textColor=&quot;@color/white&quot;&gt;&lt;/TextView&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;5dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_recyclerview_humidity&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;humidity:&quot;\n            android:textColor=&quot;@color/white&quot;&gt;&lt;/TextView&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;5dp&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_recyclerview_wind_speed&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;wind speed:&quot;\n            android:textColor=&quot;@color/white&quot;&gt;&lt;/TextView&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_weight=&quot;60&quot;\n    android:layout_margin=&quot;5dp&quot;\n    android:padding=&quot;5dp&quot;\n    android:gravity=&quot;right&quot;\n\n    android:orientation=&quot;vertical&quot;\n    &gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/recyclerview_cloud_img&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;5dp&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        &gt;&lt;/ImageView&gt;\n\n   &lt;TextView\n       android:layout_width=&quot;match_parent&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:id=&quot;@+id/txt_recyclerview_cloud&quot;\n       android:text=&quot;&quot;\n       android:gravity=&quot;center&quot;\n       android:layout_margin=&quot;5dp&quot;\n       android:padding=&quot;5dp&quot;\n       android:textColor=&quot;@color/white&quot;\n       &gt;&lt;/TextView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SMy6x.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","sql","spring","database","jpa"],"answers":[{"tags":[],"owner":{"account_id":14664250,"reputation":31,"user_id":10590533,"display_name":"Bartosz Walusiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635255516,"creation_date":1635255516,"answer_id":69724181,"question_id":69632540,"body_markdown":"I have found a solution in [Specification](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications) thanks to [this question](https://stackoverflow.com/a/61777076).\r\n\r\nA specification is built with a number of predicates, which can either be written manually or extracted from an Example. This means that creating an example makes the specification easier to write and read, and then you can tweak it to have the functionality that examples don&#39;t provide.\r\n\r\nIn my case the function that creates the specification looks like this:\r\n```java\r\npublic Specification&lt;Sale&gt; getSpecFromDatesAndExample(\r\n      final Optional&lt;Timestamp&gt; after,\r\n      final Optional&lt;Timestamp&gt; before,\r\n      final Example&lt;Sale&gt; example\r\n) {\r\n    return (root, query, builder) -&gt; {\r\n\r\n      final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n      after.ifPresent(timestamp -&gt; predicates.add(builder.greaterThan(root.get(&quot;timestamp&quot;), timestamp)));\r\n      before.ifPresent(timestamp -&gt; predicates.add(builder.lessThan(root.get(&quot;timestamp&quot;), timestamp)));\r\n\r\n      predicates.add(QueryByExamplePredicateBuilder.getPredicate(root, builder, example));\r\n\r\n      return builder.and(predicates.toArray(new Predicate[0]));\r\n   };\r\n}\r\n```\r\n..which in turn can be passed into the repository like so:\r\n```java\r\npublic List&lt;SaleDTO&gt; getSales(\r\n      final Pageable pageable,\r\n      final Optional&lt;String&gt; productName,\r\n      final Optional&lt;String&gt; after,\r\n      final Optional&lt;String&gt; before,\r\n      final Optional&lt;Long&gt; customerID,\r\n      final Optional&lt;Long&gt; quantity\r\n)\r\n{\r\nSale example = new Sale();\r\nproductName.ifPresent(example::setProductName);\r\ncustomerID.ifPresent(example::setCustomerID);\r\nquantity.ifPresent(example::setQuantity);\r\n\r\nOptional&lt;Timestamp&gt; afterTimestamp = after.map(Timestamp::valueOf);\r\nOptional&lt;Timestamp&gt; beforeTimestamp = before.map(Timestamp::valueOf);\r\n\r\nList&lt;SaleDTO&gt; saleList = new ArrayList&lt;&gt;();\r\n\r\nreturn this.saleRepository.findAll(getSpecFromDatesAndExample(afterTimestamp, beforeTimestamp, Example.of(example)), pageable);\r\n```","title":"Matching a range of timestamps with JPA&#39;s Query by Example","body":"<p>I have found a solution in <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#specifications\" rel=\"nofollow noreferrer\">Specification</a> thanks to <a href=\"https://stackoverflow.com/a/61777076\">this question</a>.</p>\n<p>A specification is built with a number of predicates, which can either be written manually or extracted from an Example. This means that creating an example makes the specification easier to write and read, and then you can tweak it to have the functionality that examples don't provide.</p>\n<p>In my case the function that creates the specification looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Specification&lt;Sale&gt; getSpecFromDatesAndExample(\n      final Optional&lt;Timestamp&gt; after,\n      final Optional&lt;Timestamp&gt; before,\n      final Example&lt;Sale&gt; example\n) {\n    return (root, query, builder) -&gt; {\n\n      final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n      after.ifPresent(timestamp -&gt; predicates.add(builder.greaterThan(root.get(&quot;timestamp&quot;), timestamp)));\n      before.ifPresent(timestamp -&gt; predicates.add(builder.lessThan(root.get(&quot;timestamp&quot;), timestamp)));\n\n      predicates.add(QueryByExamplePredicateBuilder.getPredicate(root, builder, example));\n\n      return builder.and(predicates.toArray(new Predicate[0]));\n   };\n}\n</code></pre>\n<p>..which in turn can be passed into the repository like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;SaleDTO&gt; getSales(\n      final Pageable pageable,\n      final Optional&lt;String&gt; productName,\n      final Optional&lt;String&gt; after,\n      final Optional&lt;String&gt; before,\n      final Optional&lt;Long&gt; customerID,\n      final Optional&lt;Long&gt; quantity\n)\n{\nSale example = new Sale();\nproductName.ifPresent(example::setProductName);\ncustomerID.ifPresent(example::setCustomerID);\nquantity.ifPresent(example::setQuantity);\n\nOptional&lt;Timestamp&gt; afterTimestamp = after.map(Timestamp::valueOf);\nOptional&lt;Timestamp&gt; beforeTimestamp = before.map(Timestamp::valueOf);\n\nList&lt;SaleDTO&gt; saleList = new ArrayList&lt;&gt;();\n\nreturn this.saleRepository.findAll(getSpecFromDatesAndExample(afterTimestamp, beforeTimestamp, Example.of(example)), pageable);\n</code></pre>\n"}],"owner":{"account_id":14664250,"reputation":31,"user_id":10590533,"display_name":"Bartosz Walusiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69724181,"answer_count":1,"score":1,"last_activity_date":1635255516,"creation_date":1634653022,"question_id":69632540,"body_markdown":"JPA Has a very neat option to query by example as explained here: [Query by Example](https://www.baeldung.com/spring-data-query-by-example).\r\n\r\nIs there any way to use this system to match to a timestamped object between two times?\r\n\r\nFor instance: I have logged sales in a database. I want to fetch all the sales of an item with ID: 7 between 07:00 and 13:00 on the 20th of October 2021.\r\n\r\nIn code terms, creating a query in the repository interface I would write:\r\n```java\r\n@Query(&quot;SELECT s FROM Sale s &quot;\r\n         + &quot;WHERE s.id IS ?1 &quot;\r\n         + &quot;AND s.timestamp &gt; ?2 &quot;\r\n         + &quot;AND s.timestamp &lt; ?3&quot;\r\n)\r\nList&lt;Sale&gt; getSalesForIdBetweenTimestamps(\r\n    Long ID,\r\n    Timestamp after,\r\n    Timestamp before\r\n);\r\n```\r\n\r\n...and then call it from the service, but using example matching I could just call it like so:\r\n```Java\r\nExample&lt;Sale&gt; saleExample = Example.of(new Sale().withID(7));\r\nList&lt;Sale&gt; salesWithID = this.salesRepository.findAll(saleExample);\r\n```\r\n...which looks neater and doesn&#39;t require writing in the repository.\r\n\r\nI know how to provide the example with the ID to find all sales of that item, and I could even create a custom matcher [using this class](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html) to do before and after a **single** time. I can use a different solution by avoiding the entire &quot;Query by Example&quot; system, which is what I&#39;m doing right now, but I would like to use it and can&#39;t figure out how to match between two times.","title":"Matching a range of timestamps with JPA&#39;s Query by Example","body":"<p>JPA Has a very neat option to query by example as explained here: <a href=\"https://www.baeldung.com/spring-data-query-by-example\" rel=\"nofollow noreferrer\">Query by Example</a>.</p>\n<p>Is there any way to use this system to match to a timestamped object between two times?</p>\n<p>For instance: I have logged sales in a database. I want to fetch all the sales of an item with ID: 7 between 07:00 and 13:00 on the 20th of October 2021.</p>\n<p>In code terms, creating a query in the repository interface I would write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;SELECT s FROM Sale s &quot;\n         + &quot;WHERE s.id IS ?1 &quot;\n         + &quot;AND s.timestamp &gt; ?2 &quot;\n         + &quot;AND s.timestamp &lt; ?3&quot;\n)\nList&lt;Sale&gt; getSalesForIdBetweenTimestamps(\n    Long ID,\n    Timestamp after,\n    Timestamp before\n);\n</code></pre>\n<p>...and then call it from the service, but using example matching I could just call it like so:</p>\n<pre><code>Example&lt;Sale&gt; saleExample = Example.of(new Sale().withID(7));\nList&lt;Sale&gt; salesWithID = this.salesRepository.findAll(saleExample);\n</code></pre>\n<p>...which looks neater and doesn't require writing in the repository.</p>\n<p>I know how to provide the example with the ID to find all sales of that item, and I could even create a custom matcher <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/domain/ExampleMatcher.html\" rel=\"nofollow noreferrer\">using this class</a> to do before and after a <strong>single</strong> time. I can use a different solution by avoiding the entire &quot;Query by Example&quot; system, which is what I'm doing right now, but I would like to use it and can't figure out how to match between two times.</p>\n"},{"tags":["java","time","minecraft","wait"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635255392,"creation_date":1635255392,"answer_id":69724151,"question_id":69723887,"body_markdown":"You should NOT use `Thread.sleep()` or something like that on spigot-server because such as you said, it stop the FULL server (and it can make player timed out)\r\n\r\nTo make a timer, use this :\r\n\r\n```java\r\npublic int count = 5;\r\npublic BukkitTask task;\r\n\r\npublic void method() {\r\n   task = Bukkit.getServer().getScheduler().runTaskTimer(MyPlugin.getInstance(), () -&gt; {\r\n      if(count == 0) {\r\n         task.cancel();\r\n         sendtitle(&quot;SusyBaka&quot;);\r\n      } else {\r\n         count--;\r\n         sendtitle(&quot;Start in &quot; + count + &quot; seconds&quot;);\r\n      }\r\n   }, 20, 20); // 20 ticks = 1 second\r\n}\r\n```","title":"Wait a time before do action without stop server","body":"<p>You should NOT use <code>Thread.sleep()</code> or something like that on spigot-server because such as you said, it stop the FULL server (and it can make player timed out)</p>\n<p>To make a timer, use this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int count = 5;\npublic BukkitTask task;\n\npublic void method() {\n   task = Bukkit.getServer().getScheduler().runTaskTimer(MyPlugin.getInstance(), () -&gt; {\n      if(count == 0) {\n         task.cancel();\n         sendtitle(&quot;SusyBaka&quot;);\n      } else {\n         count--;\n         sendtitle(&quot;Start in &quot; + count + &quot; seconds&quot;);\n      }\n   }, 20, 20); // 20 ticks = 1 second\n}\n</code></pre>\n"}],"owner":{"account_id":17868926,"reputation":79,"user_id":12980667,"display_name":"Sysy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69724151,"answer_count":1,"score":1,"last_activity_date":1635255392,"creation_date":1635254406,"question_id":69723887,"body_markdown":"I&#39;m working on a bedwars plugin for minecraft server, everythings work but at the starting i want a 5sec timer before starting the game and show a title on the game, i worked on this code :\r\n```        sendtitle(&quot;5&quot;);\r\n        TimeUnit.SECONDS.sleep(1);\r\n        sendtitle(&quot;4&quot;);\r\n        TimeUnit.SECONDS.sleep(1);\r\n        sendtitle(&quot;3&quot;);\r\n        TimeUnit.SECONDS.sleep(1);\r\n        sendtitle(&quot;2&quot;);\r\n        TimeUnit.SECONDS.sleep(1);\r\n        sendtitle(&quot;1&quot;);\r\n        TimeUnit.SECONDS.sleep(1);\r\n        sendtitle(&quot;SusyBaka&quot;);\r\n```\r\nBut i completly pausing the server, i tried to use multi thread but the title don&#39;t apear, can someone help me ?","title":"Wait a time before do action without stop server","body":"<p>I'm working on a bedwars plugin for minecraft server, everythings work but at the starting i want a 5sec timer before starting the game and show a title on the game, i worked on this code :</p>\n<pre><code>        TimeUnit.SECONDS.sleep(1);\n        sendtitle(&quot;4&quot;);\n        TimeUnit.SECONDS.sleep(1);\n        sendtitle(&quot;3&quot;);\n        TimeUnit.SECONDS.sleep(1);\n        sendtitle(&quot;2&quot;);\n        TimeUnit.SECONDS.sleep(1);\n        sendtitle(&quot;1&quot;);\n        TimeUnit.SECONDS.sleep(1);\n        sendtitle(&quot;SusyBaka&quot;);\n</code></pre>\n<p>But i completly pausing the server, i tried to use multi thread but the title don't apear, can someone help me ?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":1,"creation_date":1635251211,"post_id":69722227,"comment_id":123241836,"body_markdown":"How will you define the pacakges in adavance? By name or something else?","body":"How will you define the pacakges in adavance? By name or something else?"},{"owner":{"account_id":20767305,"reputation":3,"user_id":15250944,"display_name":"jakov"},"score":0,"creation_date":1635253716,"post_id":69722227,"comment_id":123243008,"body_markdown":"Using the package name","body":"Using the package name"}],"answers":[{"tags":[],"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635255308,"creation_date":1635255308,"answer_id":69724123,"question_id":69722227,"body_markdown":"Lets say that you have all the package names in a list of String. Then you can do the following:\r\n\r\n     ArrayList packageList = new ArrayList&lt;String&gt;();// To this list you will add all the package names\r\n     ...\r\n     ...\r\n     ...\r\n      private List&lt;ApplicationInfo&gt; checkForLaunchIntent(List&lt;ApplicationInfo&gt; list) {\r\n        ArrayList&lt;ApplicationInfo&gt; applist = new ArrayList&lt;ApplicationInfo&gt;();\r\n        for (ApplicationInfo info : list) {\r\n            try {\r\n                if (packageList.contains(info.packageName)) {\r\n                    applist.add((ApplicationInfo) info);\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return applist;\r\n    }","title":"Show only a few packages from a list","body":"<p>Lets say that you have all the package names in a list of String. Then you can do the following:</p>\n<pre><code> ArrayList packageList = new ArrayList&lt;String&gt;();// To this list you will add all the package names\n ...\n ...\n ...\n  private List&lt;ApplicationInfo&gt; checkForLaunchIntent(List&lt;ApplicationInfo&gt; list) {\n    ArrayList&lt;ApplicationInfo&gt; applist = new ArrayList&lt;ApplicationInfo&gt;();\n    for (ApplicationInfo info : list) {\n        try {\n            if (packageList.contains(info.packageName)) {\n                applist.add((ApplicationInfo) info);\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    return applist;\n}\n</code></pre>\n"}],"owner":{"account_id":20767305,"reputation":3,"user_id":15250944,"display_name":"jakov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69724123,"answer_count":1,"score":0,"last_activity_date":1635255308,"creation_date":1635247544,"question_id":69722227,"body_markdown":"I want the list to show only a number of apps (packages) that I will define in advance\r\nHow can this be done\r\n\r\nThank you \r\n\r\nMainActivity\r\n-----------\r\n\r\n    public class MainActivity extends ListActivity {\r\n        private PackageManager packageManager = null;\r\n        private List&lt;ApplicationInfo&gt; applist = null;\r\n        private ApplicationAdapter listadaptor = null;\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            packageManager = getPackageManager();\r\n            new LoadApplications().execute();\r\n        }\r\n    \r\n        private List&lt;ApplicationInfo&gt; checkForLaunchIntent(List&lt;ApplicationInfo&gt; list) {\r\n            ArrayList&lt;ApplicationInfo&gt; applist = new ArrayList&lt;ApplicationInfo&gt;();\r\n            for (ApplicationInfo info : list) {\r\n                try {\r\n                    if (null != packageManager.getLaunchIntentForPackage(info.packageName)) {\r\n                        applist.add((ApplicationInfo) info);\r\n                    }\r\n    \r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return applist;\r\n        }\r\n        private class LoadApplications extends AsyncTask&lt;Void, Void, Void&gt; {\r\n            private ProgressDialog progress = null;\r\n            @Override\r\n            protected Void doInBackground(Void... params) {\r\n                applist = checkForLaunchIntent(packageManager.getInstalledApplications(PackageManager.GET_META_DATA));\r\n                listadaptor = new ApplicationAdapter(MainActivity.this, R.layout.row, applist);\r\n                return null;\r\n            }\r\n            @Override\r\n            protected void onCancelled() {\r\n                super.onCancelled();\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void result) {\r\n                setListAdapter(listadaptor);\r\n                progress.dismiss();\r\n                super.onPostExecute(result);\r\n            }\r\n    \r\n            @Override\r\n            protected void onPreExecute() {\r\n                progress = ProgressDialog.show(MainActivity.this, null,\r\n                        &quot;Loading application info...&quot;);\r\n                super.onPreExecute();\r\n            }\r\n            @Override\r\n            protected void onProgressUpdate(Void... values) {\r\n                super.onProgressUpdate(values);\r\n            }\r\n        }\r\n    }\r\n\r\nadapter\r\n-------\r\n\r\n\r\n    public class ApplicationAdapter extends ArrayAdapter&lt;ApplicationInfo&gt; {\r\n    \r\n        private List&lt;ApplicationInfo&gt; appsList = null;\r\n        private Context context;\r\n        private PackageManager packageManager;\r\n        private ArrayList&lt;Boolean&gt; checkList = new ArrayList&lt;Boolean&gt;();\r\n    \r\n        public ApplicationAdapter(Context context, int textViewResourceId, List&lt;ApplicationInfo&gt; appsList) {\r\n            super(context, textViewResourceId, appsList);\r\n            this.context = context;\r\n    \r\n            this.appsList = appsList;\r\n            packageManager = context.getPackageManager();\r\n                checkList.add(false);\r\n            }\r\n    \r\n    \r\n        @Override\r\n        public int getCount() {\r\n            return ((null != appsList) ? appsList.size() : 0);\r\n        }\r\n    \r\n        @Override\r\n        public ApplicationInfo getItem(int position) {\r\n            return ((null != appsList) ? appsList.get(position) : null);\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n            return position;\r\n        }\r\n    \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            View view = convertView;\r\n            if (null == view) {\r\n                LayoutInflater layoutInflater = (LayoutInflater) context\r\n                        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                view = layoutInflater.inflate(R.layout.row, null);\r\n            }\r\n    \r\n            ApplicationInfo data = appsList.get(position);\r\n            if (null != data) {\r\n                TextView appName = (TextView) view.findViewById(R.id.app_name);\r\n                appName.setText(data.loadLabel(packageManager));\r\n            }\r\n            return view;\r\n        }\r\n   ....................................................................................................................................................................................................\r\n","title":"Show only a few packages from a list","body":"<p>I want the list to show only a number of apps (packages) that I will define in advance\nHow can this be done</p>\n<p>Thank you</p>\n<h2>MainActivity</h2>\n<pre><code>public class MainActivity extends ListActivity {\n    private PackageManager packageManager = null;\n    private List&lt;ApplicationInfo&gt; applist = null;\n    private ApplicationAdapter listadaptor = null;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        packageManager = getPackageManager();\n        new LoadApplications().execute();\n    }\n\n    private List&lt;ApplicationInfo&gt; checkForLaunchIntent(List&lt;ApplicationInfo&gt; list) {\n        ArrayList&lt;ApplicationInfo&gt; applist = new ArrayList&lt;ApplicationInfo&gt;();\n        for (ApplicationInfo info : list) {\n            try {\n                if (null != packageManager.getLaunchIntentForPackage(info.packageName)) {\n                    applist.add((ApplicationInfo) info);\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        return applist;\n    }\n    private class LoadApplications extends AsyncTask&lt;Void, Void, Void&gt; {\n        private ProgressDialog progress = null;\n        @Override\n        protected Void doInBackground(Void... params) {\n            applist = checkForLaunchIntent(packageManager.getInstalledApplications(PackageManager.GET_META_DATA));\n            listadaptor = new ApplicationAdapter(MainActivity.this, R.layout.row, applist);\n            return null;\n        }\n        @Override\n        protected void onCancelled() {\n            super.onCancelled();\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n            setListAdapter(listadaptor);\n            progress.dismiss();\n            super.onPostExecute(result);\n        }\n\n        @Override\n        protected void onPreExecute() {\n            progress = ProgressDialog.show(MainActivity.this, null,\n                    &quot;Loading application info...&quot;);\n            super.onPreExecute();\n        }\n        @Override\n        protected void onProgressUpdate(Void... values) {\n            super.onProgressUpdate(values);\n        }\n    }\n}\n</code></pre>\n<h2>adapter</h2>\n<pre><code>public class ApplicationAdapter extends ArrayAdapter&lt;ApplicationInfo&gt; {\n\n    private List&lt;ApplicationInfo&gt; appsList = null;\n    private Context context;\n    private PackageManager packageManager;\n    private ArrayList&lt;Boolean&gt; checkList = new ArrayList&lt;Boolean&gt;();\n\n    public ApplicationAdapter(Context context, int textViewResourceId, List&lt;ApplicationInfo&gt; appsList) {\n        super(context, textViewResourceId, appsList);\n        this.context = context;\n\n        this.appsList = appsList;\n        packageManager = context.getPackageManager();\n            checkList.add(false);\n        }\n\n\n    @Override\n    public int getCount() {\n        return ((null != appsList) ? appsList.size() : 0);\n    }\n\n    @Override\n    public ApplicationInfo getItem(int position) {\n        return ((null != appsList) ? appsList.get(position) : null);\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        View view = convertView;\n        if (null == view) {\n            LayoutInflater layoutInflater = (LayoutInflater) context\n                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            view = layoutInflater.inflate(R.layout.row, null);\n        }\n\n        ApplicationInfo data = appsList.get(position);\n        if (null != data) {\n            TextView appName = (TextView) view.findViewById(R.id.app_name);\n            appName.setText(data.loadLabel(packageManager));\n        }\n        return view;\n    }\n</code></pre>\n<p>....................................................................................................................................................................................................</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1635239283,"post_id":69720297,"comment_id":123236760,"body_markdown":"why use `ListView` ?","body":"why use <code>ListView</code> ?"},{"owner":{"account_id":17175340,"reputation":79,"user_id":12431634,"display_name":"EnCoder2000"},"score":0,"creation_date":1635241509,"post_id":69720297,"comment_id":123237731,"body_markdown":"Because I&#39;m new to android development. What should I use?","body":"Because I&#39;m new to android development. What should I use?"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1635241821,"post_id":69720297,"comment_id":123237890,"body_markdown":"recyclerview is the better alternative, might also help you resolve your issues by notifying it about data changes","body":"recyclerview is the better alternative, might also help you resolve your issues by notifying it about data changes"},{"owner":{"account_id":17175340,"reputation":79,"user_id":12431634,"display_name":"EnCoder2000"},"score":0,"creation_date":1635241956,"post_id":69720297,"comment_id":123237947,"body_markdown":"How do I do that? is it adapter.notifyDataSetChanged?","body":"How do I do that? is it adapter.notifyDataSetChanged?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1635255202,"post_id":69720297,"comment_id":123243770,"body_markdown":"There is **way** too much code in here for us to efficiently help. While there&#39;s always a chance that someone spots the problem, chance of that drastically go up if you can deliver a more focused repro. I recommend reading [how to create a minimal, complete, verifiable example](http://stackoverflow.com/help/mcve) and trying to reproduce the problem in a more limited, isolated setup.","body":"There is <b>way</b> too much code in here for us to efficiently help. While there&#39;s always a chance that someone spots the problem, chance of that drastically go up if you can deliver a more focused repro. I recommend reading <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal, complete, verifiable example</a> and trying to reproduce the problem in a more limited, isolated setup."}],"owner":{"account_id":17175340,"reputation":79,"user_id":12431634,"display_name":"EnCoder2000"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635255100,"creation_date":1635239106,"question_id":69720297,"body_markdown":"I have this very strange bug where I upload an image from the gallery and it clearly works because I can see it in firebase storage and the image&#39;s URL is in Firestore too. For some reason the images are not loading in the list view only after I refresh the app. I tried using startActivityForResult in order to refresh the Homepage activity so the images get loaded. For some reason the onActivityResult is never called so I can&#39;t use that method.\r\n\r\nHomePage.activity\r\n\r\n```\r\npublic class HomePage extends AppCompatActivity implements View.OnClickListener {\r\n    private static final String KEY_FIRSTNAME = &quot;firstName&quot;;\r\n\r\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    String userID = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\n    private DocumentReference docRef = db.collection(&quot;users&quot;).document(userID);\r\n\r\n\r\n    ListView listView;\r\n    ArrayList&lt;Data&gt; dataArrayList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_page);\r\n\r\n\r\n        Button signOut = (Button) findViewById(R.id.signOut);\r\n        Button add_journey = (Button) findViewById(R.id.add_journey);\r\n        signOut.setOnClickListener(this);\r\n        add_journey.setOnClickListener(this);\r\n\r\n        listView = findViewById(R.id.listView);\r\n        dataArrayList = new ArrayList&lt;&gt;();\r\n\r\n        loadDataInListView();\r\n       // loadName();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()){\r\n            case R.id.signOut:\r\n                Intent intent_signOut = new Intent(HomePage.this, MainActivity.class);\r\n                FirebaseAuth.getInstance().signOut();\r\n                startActivity(intent_signOut);\r\n                break;\r\n            case R.id.add_journey:\r\n                Intent intent_add = new Intent(HomePage.this, AddJourney.class);\r\n                startActivity(intent_add);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void loadDataInListView() {\r\n        db.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).get()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        if(!queryDocumentSnapshots.isEmpty()){\r\n                            List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n\r\n                            for(DocumentSnapshot d : list){\r\n                                Data data = d.toObject(Data.class);\r\n\r\n                                dataArrayList.add(data);\r\n                            }\r\n\r\n                            Adapter adapter = new Adapter(HomePage.this, dataArrayList);\r\n\r\n                            listView.setAdapter(adapter);\r\n\r\n                        } else {\r\n                            Toast.makeText(HomePage.this, &quot;No data found in database&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(HomePage.this, &quot;Fail to load data..&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\n\r\nCustomAdapter.java\r\n\r\n```\r\npublic class Adapter extends ArrayAdapter&lt;Data&gt; {\r\n\r\n    public Adapter(@NonNull Context context, ArrayList&lt;Data&gt; dataArrayList) {\r\n        super(context, 0, dataArrayList);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n        View listitemView = convertView;\r\n        if(listitemView == null){\r\n            listitemView = LayoutInflater.from(getContext()).inflate(R.layout.item, parent, false);\r\n        }\r\n\r\n        Data data = getItem(position);\r\n\r\n        TextView title = listitemView.findViewById(R.id.journey_title);\r\n\r\n        ImageView imageView = listitemView.findViewById(R.id.image);\r\n\r\n        title.setText(data.getTitle());\r\n\r\n        Picasso.get().load(data.getImgUrl()).into(imageView);\r\n\r\n        listitemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n               String title = data.getTitle();\r\n               String description = data.getDescription();\r\n               String journeyID = data.getJourneyID();\r\n               String imgUrl = data.getImgUrl();\r\n\r\n               Intent intent = new Intent(getContext(), EditJourney.class);\r\n               intent.putExtra(&quot;title&quot;, title);\r\n               intent.putExtra(&quot;description&quot;, description);\r\n               intent.putExtra(&quot;journeyID&quot;, journeyID);\r\n               intent.putExtra(&quot;imgUrl&quot;, imgUrl);\r\n\r\n               getContext().startActivity(intent);\r\n            }\r\n        });\r\n\r\n        return listitemView;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nAddJourney.java - this is where I press add it redirects me back to Homepage without seeing the images. I can only see the images after refreshing/restarting the app\r\n\r\n```\r\npublic class AddJourney extends AppCompatActivity implements View.OnClickListener {\r\n    private EditText title;\r\n    private EditText description;\r\n    private ImageView journeyIMG;\r\n    private Button uploadCamera;\r\n    private Button uploadGallery;\r\n\r\n    private Button add;\r\n\r\n    String jTitle;\r\n    String jDescription;\r\n    String userID = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n    public static int CODE = 2;\r\n\r\n    FirebaseFirestore fStore = FirebaseFirestore.getInstance();\r\n\r\n    private StorageReference storageReference;\r\n    StorageReference filepath;\r\n    Uri uri;\r\n\r\n    DocumentReference docRef = fStore.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).document();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_add_journey);\r\n\r\n        title = (EditText) findViewById(R.id.title);\r\n        description = (EditText) findViewById(R.id.description);\r\n        journeyIMG = (ImageView) findViewById(R.id.image);\r\n\r\n        add = (Button) findViewById(R.id.add);\r\n        add.setOnClickListener(this);\r\n\r\n        uploadCamera = (Button) findViewById(R.id.upload_camera);\r\n        uploadCamera.setOnClickListener(this);\r\n\r\n        uploadGallery = (Button) findViewById(R.id.upload_gallery);\r\n        uploadGallery.setOnClickListener(this);\r\n\r\n        storageReference = FirebaseStorage.getInstance().getReference();\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n            case R.id.add:\r\n                addJourney();\r\n                Intent intent = new Intent(AddJourney.this, HomePage.class);\r\n                intent.setFlags(0);\r\n                startActivityForResult(intent, 78);\r\n                break;\r\n            case R.id.upload_camera:\r\n                imgCamera();\r\n\r\n                break;\r\n            case R.id.upload_gallery:\r\n                imgGallery();\r\n        }\r\n    }\r\n\r\n    private void imgGallery() {\r\n        Intent pickPhoto = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        startActivityForResult(pickPhoto, 0);\r\n    }\r\n\r\n    private void imgCamera() {\r\n        Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        startActivityForResult(takePicture, 1);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        switch (requestCode) {\r\n            case 0:\r\n                if (resultCode == RESULT_OK) {\r\n                    uri = data.getData();\r\n                    journeyIMG.setImageURI(uri);\r\n\r\n                    filepath = storageReference.child(userID).child(uri.getLastPathSegment());\r\n\r\n                }\r\n                break;\r\n            case 1:\r\n                if (resultCode == RESULT_OK) {\r\n\r\n                    uri = data.getData();\r\n\r\n                    filepath = storageReference.child(userID).child(uri.getLastPathSegment());\r\n\r\n                    break;\r\n                }\r\n        }\r\n    }\r\n\r\n    private void addJourney() {\r\n        jTitle = title.getText().toString();\r\n        jDescription = description.getText().toString();\r\n\r\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n\r\n        data.put(&quot;title&quot;, jTitle);\r\n        data.put(&quot;description&quot;, jDescription);\r\n        data.put(&quot;journeyID&quot;, null);\r\n        data.put(&quot;imgUrl&quot;, null);\r\n\r\n        fStore.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).add(data)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\r\n                    @Override\r\n                    public void onSuccess(DocumentReference documentReference) {\r\n                        Toast.makeText(AddJourney.this, &quot;Successfully added journey!&quot;, Toast.LENGTH_SHORT);\r\n\r\n                        filepath.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                            @Override\r\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                                filepath.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Uri uri) {\r\n                                        fStore.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).document(documentReference.getId()).update(&quot;imgUrl&quot;, uri.toString());\r\n                                    }\r\n                                });\r\n                            }\r\n                        });\r\n\r\n                        fStore.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).document(documentReference.getId()).update(\r\n                                &quot;journeyID&quot;, documentReference.getId());\r\n\r\n                    }\r\n                }).addOnFailureListener(new OnFailureListener() {\r\n            @Override\r\n            public void onFailure(@NonNull Exception e) {\r\n                Toast.makeText(AddJourney.this, &quot;Failed to add data&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nData.java\r\n\r\n```\r\npublic class Data {\r\n    private String title;\r\n    private String imgUrl;\r\n    private String description;\r\n    private String journeyID;\r\n\r\n    public Data(){}\r\n\r\n    public Data(String title, String imgUrl, String journeyID) {\r\n        this.title = title;\r\n        this.imgUrl = imgUrl;\r\n        this.journeyID = journeyID;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getImgUrl() {\r\n        return imgUrl;\r\n    }\r\n\r\n    public void setImgUrl(String imgUrl) {\r\n        this.imgUrl = imgUrl;\r\n    }\r\n\r\n    public String getJourneyID() {\r\n        return journeyID;\r\n    }\r\n\r\n    public void setJourneyID(String journeyID) {\r\n        this.journeyID = journeyID;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n}\r\n```","title":"Image retrieval with Picasso from Firestore","body":"<p>I have this very strange bug where I upload an image from the gallery and it clearly works because I can see it in firebase storage and the image's URL is in Firestore too. For some reason the images are not loading in the list view only after I refresh the app. I tried using startActivityForResult in order to refresh the Homepage activity so the images get loaded. For some reason the onActivityResult is never called so I can't use that method.</p>\n<p>HomePage.activity</p>\n<pre><code>public class HomePage extends AppCompatActivity implements View.OnClickListener {\n    private static final String KEY_FIRSTNAME = &quot;firstName&quot;;\n\n    private FirebaseFirestore db = FirebaseFirestore.getInstance();\n    String userID = FirebaseAuth.getInstance().getCurrentUser().getUid();\n\n    private DocumentReference docRef = db.collection(&quot;users&quot;).document(userID);\n\n\n    ListView listView;\n    ArrayList&lt;Data&gt; dataArrayList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home_page);\n\n\n        Button signOut = (Button) findViewById(R.id.signOut);\n        Button add_journey = (Button) findViewById(R.id.add_journey);\n        signOut.setOnClickListener(this);\n        add_journey.setOnClickListener(this);\n\n        listView = findViewById(R.id.listView);\n        dataArrayList = new ArrayList&lt;&gt;();\n\n        loadDataInListView();\n       // loadName();\n    }\n\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()){\n            case R.id.signOut:\n                Intent intent_signOut = new Intent(HomePage.this, MainActivity.class);\n                FirebaseAuth.getInstance().signOut();\n                startActivity(intent_signOut);\n                break;\n            case R.id.add_journey:\n                Intent intent_add = new Intent(HomePage.this, AddJourney.class);\n                startActivity(intent_add);\n                break;\n        }\n    }\n\n    private void loadDataInListView() {\n        db.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).get()\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                        if(!queryDocumentSnapshots.isEmpty()){\n                            List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n\n                            for(DocumentSnapshot d : list){\n                                Data data = d.toObject(Data.class);\n\n                                dataArrayList.add(data);\n                            }\n\n                            Adapter adapter = new Adapter(HomePage.this, dataArrayList);\n\n                            listView.setAdapter(adapter);\n\n                        } else {\n                            Toast.makeText(HomePage.this, &quot;No data found in database&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                })\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(HomePage.this, &quot;Fail to load data..&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n    }\n}\n</code></pre>\n<p>CustomAdapter.java</p>\n<pre><code>public class Adapter extends ArrayAdapter&lt;Data&gt; {\n\n    public Adapter(@NonNull Context context, ArrayList&lt;Data&gt; dataArrayList) {\n        super(context, 0, dataArrayList);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n        View listitemView = convertView;\n        if(listitemView == null){\n            listitemView = LayoutInflater.from(getContext()).inflate(R.layout.item, parent, false);\n        }\n\n        Data data = getItem(position);\n\n        TextView title = listitemView.findViewById(R.id.journey_title);\n\n        ImageView imageView = listitemView.findViewById(R.id.image);\n\n        title.setText(data.getTitle());\n\n        Picasso.get().load(data.getImgUrl()).into(imageView);\n\n        listitemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n               String title = data.getTitle();\n               String description = data.getDescription();\n               String journeyID = data.getJourneyID();\n               String imgUrl = data.getImgUrl();\n\n               Intent intent = new Intent(getContext(), EditJourney.class);\n               intent.putExtra(&quot;title&quot;, title);\n               intent.putExtra(&quot;description&quot;, description);\n               intent.putExtra(&quot;journeyID&quot;, journeyID);\n               intent.putExtra(&quot;imgUrl&quot;, imgUrl);\n\n               getContext().startActivity(intent);\n            }\n        });\n\n        return listitemView;\n    }\n\n\n\n}\n</code></pre>\n<p>AddJourney.java - this is where I press add it redirects me back to Homepage without seeing the images. I can only see the images after refreshing/restarting the app</p>\n<pre><code>public class AddJourney extends AppCompatActivity implements View.OnClickListener {\n    private EditText title;\n    private EditText description;\n    private ImageView journeyIMG;\n    private Button uploadCamera;\n    private Button uploadGallery;\n\n    private Button add;\n\n    String jTitle;\n    String jDescription;\n    String userID = FirebaseAuth.getInstance().getCurrentUser().getUid();\n    public static int CODE = 2;\n\n    FirebaseFirestore fStore = FirebaseFirestore.getInstance();\n\n    private StorageReference storageReference;\n    StorageReference filepath;\n    Uri uri;\n\n    DocumentReference docRef = fStore.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).document();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_journey);\n\n        title = (EditText) findViewById(R.id.title);\n        description = (EditText) findViewById(R.id.description);\n        journeyIMG = (ImageView) findViewById(R.id.image);\n\n        add = (Button) findViewById(R.id.add);\n        add.setOnClickListener(this);\n\n        uploadCamera = (Button) findViewById(R.id.upload_camera);\n        uploadCamera.setOnClickListener(this);\n\n        uploadGallery = (Button) findViewById(R.id.upload_gallery);\n        uploadGallery.setOnClickListener(this);\n\n        storageReference = FirebaseStorage.getInstance().getReference();\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.add:\n                addJourney();\n                Intent intent = new Intent(AddJourney.this, HomePage.class);\n                intent.setFlags(0);\n                startActivityForResult(intent, 78);\n                break;\n            case R.id.upload_camera:\n                imgCamera();\n\n                break;\n            case R.id.upload_gallery:\n                imgGallery();\n        }\n    }\n\n    private void imgGallery() {\n        Intent pickPhoto = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        startActivityForResult(pickPhoto, 0);\n    }\n\n    private void imgCamera() {\n        Intent takePicture = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        startActivityForResult(takePicture, 1);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        switch (requestCode) {\n            case 0:\n                if (resultCode == RESULT_OK) {\n                    uri = data.getData();\n                    journeyIMG.setImageURI(uri);\n\n                    filepath = storageReference.child(userID).child(uri.getLastPathSegment());\n\n                }\n                break;\n            case 1:\n                if (resultCode == RESULT_OK) {\n\n                    uri = data.getData();\n\n                    filepath = storageReference.child(userID).child(uri.getLastPathSegment());\n\n                    break;\n                }\n        }\n    }\n\n    private void addJourney() {\n        jTitle = title.getText().toString();\n        jDescription = description.getText().toString();\n\n        Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n\n        data.put(&quot;title&quot;, jTitle);\n        data.put(&quot;description&quot;, jDescription);\n        data.put(&quot;journeyID&quot;, null);\n        data.put(&quot;imgUrl&quot;, null);\n\n        fStore.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).add(data)\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentReference&gt;() {\n                    @Override\n                    public void onSuccess(DocumentReference documentReference) {\n                        Toast.makeText(AddJourney.this, &quot;Successfully added journey!&quot;, Toast.LENGTH_SHORT);\n\n                        filepath.putFile(uri).addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                            @Override\n                            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                                filepath.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                                    @Override\n                                    public void onSuccess(Uri uri) {\n                                        fStore.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).document(documentReference.getId()).update(&quot;imgUrl&quot;, uri.toString());\n                                    }\n                                });\n                            }\n                        });\n\n                        fStore.collection(&quot;users&quot;).document(userID).collection(&quot;journeys&quot;).document(documentReference.getId()).update(\n                                &quot;journeyID&quot;, documentReference.getId());\n\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n                Toast.makeText(AddJourney.this, &quot;Failed to add data&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>Data.java</p>\n<pre><code>public class Data {\n    private String title;\n    private String imgUrl;\n    private String description;\n    private String journeyID;\n\n    public Data(){}\n\n    public Data(String title, String imgUrl, String journeyID) {\n        this.title = title;\n        this.imgUrl = imgUrl;\n        this.journeyID = journeyID;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getImgUrl() {\n        return imgUrl;\n    }\n\n    public void setImgUrl(String imgUrl) {\n        this.imgUrl = imgUrl;\n    }\n\n    public String getJourneyID() {\n        return journeyID;\n    }\n\n    public void setJourneyID(String journeyID) {\n        this.journeyID = journeyID;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-mvc"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1634796743,"post_id":69656678,"comment_id":123122911,"body_markdown":"You’re going to need some Jackson annotations.","body":"You’re going to need some Jackson annotations."},{"owner":{"account_id":13766114,"reputation":1780,"user_id":9936828,"display_name":"somethingsomething"},"score":0,"creation_date":1634805147,"post_id":69656678,"comment_id":123126086,"body_markdown":"You might be able to hack this together with a @jsonCreator factory method on MyInterface taking nullable a,c and non nullable b and then instantiate the right class based on what you got. But I&#39;m not sure how spring/jackson play together with kotlin nullability in that situation. Alternatively you can always just get a map of params and then just implement the mapping yourself.","body":"You might be able to hack this together with a @jsonCreator factory method on MyInterface taking nullable a,c and non nullable b and then instantiate the right class based on what you got. But I&#39;m not sure how spring/jackson play together with kotlin nullability in that situation. Alternatively you can always just get a map of params and then just implement the mapping yourself."}],"answers":[{"tags":[],"owner":{"account_id":23020582,"reputation":125,"user_id":17141696,"display_name":"Pranay Srivastava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635255043,"creation_date":1635255043,"answer_id":69724038,"question_id":69656678,"body_markdown":"Usually, when defining a controller in Spring MVC, we decorate its methods with various annotations that specify the request: the URL of the endpoint, the HTTP request method, the path variables, and so on.\r\n\r\nIf we add web request annotations to the controller, they&#39;ll take precedence over the interface&#39;s ones. In other words, Spring interprets the controller interfaces in a way similar to how Java deals with inheritance.\r\n\r\nfor further info please refer to this blog post \r\n[https://www.baeldung.com/spring-interface-driven-controllers][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-interface-driven-controllers","title":"Spring Boot Is it possible to use an interface as controller parameter and let spring use it&#39;s implementation to instantiate it?","body":"<p>Usually, when defining a controller in Spring MVC, we decorate its methods with various annotations that specify the request: the URL of the endpoint, the HTTP request method, the path variables, and so on.</p>\n<p>If we add web request annotations to the controller, they'll take precedence over the interface's ones. In other words, Spring interprets the controller interfaces in a way similar to how Java deals with inheritance.</p>\n<p>for further info please refer to this blog post\n<a href=\"https://www.baeldung.com/spring-interface-driven-controllers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-interface-driven-controllers</a></p>\n"}],"owner":{"account_id":20092286,"reputation":93,"user_id":15081223,"display_name":"underStone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635255043,"creation_date":1634796488,"question_id":69656678,"body_markdown":"```\r\n@RestController\r\n@RequestMapping(&quot;/api/test&quot;)\r\nclass TestController {\r\n\r\n    @GetMapping\r\n    fun findSomething(params: MyInterface) {\r\n        when (params) {\r\n            is FirstImplementation -&gt; doSomeThing()\r\n            is SecondImplementation -&gt; doSomeThing()\r\n        }\r\n    } \r\n}\r\n\r\nsealed interface MyInterface\r\n\r\nclass FirstImplementation(\r\n    val a: String,\r\n    val b: Int,\r\n) : MyInterface\r\n\r\nclass SecondImplementation(\r\n    val b: Int,\r\n    val c: String,\r\n) : MyInterface\r\n\r\n```\r\n\r\ni tried like this, but i got an auto generated aop proxy of the interface, so failed at when expression..","title":"Spring Boot Is it possible to use an interface as controller parameter and let spring use it&#39;s implementation to instantiate it?","body":"<pre><code>@RestController\n@RequestMapping(&quot;/api/test&quot;)\nclass TestController {\n\n    @GetMapping\n    fun findSomething(params: MyInterface) {\n        when (params) {\n            is FirstImplementation -&gt; doSomeThing()\n            is SecondImplementation -&gt; doSomeThing()\n        }\n    } \n}\n\nsealed interface MyInterface\n\nclass FirstImplementation(\n    val a: String,\n    val b: Int,\n) : MyInterface\n\nclass SecondImplementation(\n    val b: Int,\n    val c: String,\n) : MyInterface\n\n</code></pre>\n<p>i tried like this, but i got an auto generated aop proxy of the interface, so failed at when expression..</p>\n"},{"tags":["java","hex","bigdecimal"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635228630,"post_id":69718152,"comment_id":123232878,"body_markdown":"What problems are you having?","body":"What problems are you having?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1635228633,"post_id":69718152,"comment_id":123232881,"body_markdown":"*but I still run into problems* - tell us about your problems Matthew","body":"<i>but I still run into problems</i> - tell us about your problems Matthew"},{"owner":{"account_id":6172135,"reputation":57,"user_id":4810138,"display_name":"Matthew"},"score":0,"creation_date":1635228828,"post_id":69718152,"comment_id":123232927,"body_markdown":"It&#39;s saying the operator &#39;&lt;&#39;  is undefined for the argument types java.math.BigDecimal, java.math.BigDecimal","body":"It&#39;s saying the operator &#39;&lt;&#39;  is undefined for the argument types java.math.BigDecimal, java.math.BigDecimal"},{"owner":{"account_id":6172135,"reputation":57,"user_id":4810138,"display_name":"Matthew"},"score":0,"creation_date":1635228859,"post_id":69718152,"comment_id":123232941,"body_markdown":"and i am writing my BigDecimals like...\n\nBigDecimal a = new BigDecimal(hexString);\nBigDecimal b = new BigDecimal(x);","body":"and i am writing my BigDecimals like...  BigDecimal a = new BigDecimal(hexString); BigDecimal b = new BigDecimal(x);"}],"answers":[{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635229603,"creation_date":1635229603,"answer_id":69718339,"question_id":69718152,"body_markdown":"The BigDecimals are not primitives, thus you can&#39;t use &#39;&lt;&#39;, but they implement Comparable interface. So your code should be something like that :\n\n\n    if (a.compareTo(b) &lt; 0) {\n      ....\n     }\n\n\nSee: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal) ","title":"Comparing a Hex String with a Double","body":"<p>The BigDecimals are not primitives, thus you can't use '&lt;', but they implement Comparable interface. So your code should be something like that :</p>\n<pre><code>if (a.compareTo(b) &lt; 0) {\n  ....\n }\n</code></pre>\n<p>See: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#compareTo(java.math.BigDecimal)</a></p>\n"}],"owner":{"account_id":6172135,"reputation":57,"user_id":4810138,"display_name":"Matthew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635254251,"accepted_answer_id":69718339,"answer_count":1,"score":1,"last_activity_date":1635254853,"creation_date":1635228521,"question_id":69718152,"body_markdown":"I&#39;m trying to compare a Hexadecimal String with a Double in a conditional statement. I have converted the hex string from a byte array.\r\n\r\n    double x = (Math.pow(2, 256));\r\n    byte[] h = null;\r\n    ...\r\n    String hexString = bytesToHex(h); //converts byte array to hex string\r\n    double doubleValueOfHex = Double.valueOf(hexString); //convert hex string to double\r\n\r\nAnd then I want to do something like this...\r\n\r\n    if (doubleValueOfHex &lt; x) {\r\n    ...\r\n    } else {\r\n    ...\r\n\r\nI have tried converting them both to `BigDecimal` but I still run into problems,\r\n\r\nFor instance if i convert `x` and `hexString` to a BigDecimal\r\n\r\n    BigDecimal a = new BigDecimal(hexString);\r\n    BigDecimal b = new BigDecimal(x);\r\n\r\n    if (a &lt; b) {\r\n    ...\r\n    } else {\r\n    ...\r\n\r\nIt only says the operator &#39;&lt;&#39; is undefined for the argument types\r\n\r\nThanks for the help\r\n\r\n\r\n\r\n\r\n","title":"Comparing a Hex String with a Double","body":"<p>I'm trying to compare a Hexadecimal String with a Double in a conditional statement. I have converted the hex string from a byte array.</p>\n<pre><code>double x = (Math.pow(2, 256));\nbyte[] h = null;\n...\nString hexString = bytesToHex(h); //converts byte array to hex string\ndouble doubleValueOfHex = Double.valueOf(hexString); //convert hex string to double\n</code></pre>\n<p>And then I want to do something like this...</p>\n<pre><code>if (doubleValueOfHex &lt; x) {\n...\n} else {\n...\n</code></pre>\n<p>I have tried converting them both to <code>BigDecimal</code> but I still run into problems,</p>\n<p>For instance if i convert <code>x</code> and <code>hexString</code> to a BigDecimal</p>\n<pre><code>BigDecimal a = new BigDecimal(hexString);\nBigDecimal b = new BigDecimal(x);\n\nif (a &lt; b) {\n...\n} else {\n...\n</code></pre>\n<p>It only says the operator '&lt;' is undefined for the argument types</p>\n<p>Thanks for the help</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1635192152,"post_id":69713959,"comment_id":123225903,"body_markdown":"“This is where I need to loop through the balloon hashset” What balloon HashSet?  Nothing in the code in your question indicates a HashSet.  And why would you add objects to a PartyItem list when those objects are already in the list?","body":"“This is where I need to loop through the balloon hashset” What balloon HashSet?  Nothing in the code in your question indicates a HashSet.  And why would you add objects to a PartyItem list when those objects are already in the list?"},{"owner":{"account_id":19647082,"reputation":1,"user_id":14381855,"display_name":"Yankeecandle"},"score":0,"creation_date":1635242276,"post_id":69713959,"comment_id":123238086,"body_markdown":"I have updated the code. I am retrieving the party items from another system, and wish to add the balloon items to a new list.  I have rephrased my question as i feel it would be easier adding the hashset of balloons (which is coming from another system) to an array list which i can then loop through. rather than looping through the hash set. But i cannot get the code to work to achieve this","body":"I have updated the code. I am retrieving the party items from another system, and wish to add the balloon items to a new list.  I have rephrased my question as i feel it would be easier adding the hashset of balloons (which is coming from another system) to an array list which i can then loop through. rather than looping through the hash set. But i cannot get the code to work to achieve this"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1635280710,"post_id":69713959,"comment_id":123254242,"body_markdown":"&quot;class java.util.stream.ReferencePipeline$Head cannot be cast to class java.util.ArrayList&quot; is the result of using streams.  We can’t help you with a problem we can’t see.  Show some actual code you tried, and the actual error produced by that code.  If you’ve tried multiple things, feel free to show each of those things in your question, each accompanied by the error it generated.","body":"&quot;class java.util.stream.ReferencePipeline$Head cannot be cast to class java.util.ArrayList&quot; is the result of using streams.  We can’t help you with a problem we can’t see.  Show some actual code you tried, and the actual error produced by that code.  If you’ve tried multiple things, feel free to show each of those things in your question, each accompanied by the error it generated."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635192166,"creation_date":1635192166,"answer_id":69714101,"question_id":69713959,"body_markdown":"Test if a value is a `Set` and if it is, add all items to your list.\r\n\r\n```java\r\nif (StringUtils.contains(entry.getKey().toString(), &quot;balloon&quot;)\r\n    &amp;&amp; entry.getValue() instanceof Set) {\r\n   myPartyList.addAll((Set)entry.getValue());\r\n}\r\n```","title":"How can I iterate through a hashset within a hashmap?","body":"<p>Test if a value is a <code>Set</code> and if it is, add all items to your list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (StringUtils.contains(entry.getKey().toString(), &quot;balloon&quot;)\n    &amp;&amp; entry.getValue() instanceof Set) {\n   myPartyList.addAll((Set)entry.getValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20088433,"reputation":71,"user_id":14729508,"display_name":"Alkin Kiroglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635254806,"creation_date":1635192847,"answer_id":69714229,"question_id":69713959,"body_markdown":"Instead of iterating through entry just iterate through keys and when you find the balloon get the hashset to iterate through it. \r\n\r\n```java\r\nfor(String key: types.keySet()){\r\n    if(StringUtils.contains(key, &quot;balloon&quot;)){\r\n        for(Object object: types.get(key)){\r\n            //do what you need with object\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n* After your edit it should be like this\r\n\r\n\r\n```java\r\nfor(String key: types.keySet()){\r\n    if(StringUtils.contains(key, &quot;balloon&quot;)){\r\n        ArrayList&lt;Set&lt;PartyItem&gt;&gt; myList = new ArrayList();\r\n        myList.add(types.get(key));\r\n    }\r\n}\r\n```","title":"How can I iterate through a hashset within a hashmap?","body":"<p>Instead of iterating through entry just iterate through keys and when you find the balloon get the hashset to iterate through it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(String key: types.keySet()){\n    if(StringUtils.contains(key, &quot;balloon&quot;)){\n        for(Object object: types.get(key)){\n            //do what you need with object\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>After your edit it should be like this</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>for(String key: types.keySet()){\n    if(StringUtils.contains(key, &quot;balloon&quot;)){\n        ArrayList&lt;Set&lt;PartyItem&gt;&gt; myList = new ArrayList();\n        myList.add(types.get(key));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635195975,"creation_date":1635195975,"answer_id":69714773,"question_id":69713959,"body_markdown":"Usually you structure your hashmap as &lt;key, value&gt; and you access your values via their corresponding keys. But they have to match exactly.\r\nIn your case your hashmap would look like this:\r\n\r\n    Map&lt;String, Object&gt; partyItems = myPartyList.getPartyItems();\r\n    // or maybe even\r\n    Map&lt;String, PartyItem&gt; partyItems = myPartyList.getPartyItems();\r\n\r\nAnd getting the value is as easy as:\r\n\r\n    Object partyItem = partyItems.get(&quot;baloon&quot;);\r\n\r\nIf you are not sure if your paryItems contain a value for your key `baloon` you can check that first:\r\n\r\n    if (partyItems.contains(&quot;baloon&quot;)) {\r\n        Object partyItem = partyItems.get(&quot;baloon&quot;);\r\n    }\r\n\r\nIf you are looking for a part of the key matching `baloon`:\r\n\r\n    List&lt;PartyItem&gt; myFilteredPartyItems = partyItems.entrySet().stream()\r\n        .filter(e -&gt; e.getKey().contains(&quot;baloon&quot;))\r\n        .collect(Collectors.toList()))\r\n\r\nThis is called stream oriented programming (take a look at the [Java Stream API][1]), and if your run at least Java 8 you can use those.\r\nAnd what it does, is turn the entries of the List to a stream, then remove everything which does not contain `baloon` in the key, and turn the resulting stream, which was not removed back to a list.\r\n\r\n[Here][2] you also find a very informative tutorial on how to use streams in Java.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: https://www.baeldung.com/java-8-streams","title":"How can I iterate through a hashset within a hashmap?","body":"<p>Usually you structure your hashmap as &lt;key, value&gt; and you access your values via their corresponding keys. But they have to match exactly.\nIn your case your hashmap would look like this:</p>\n<pre><code>Map&lt;String, Object&gt; partyItems = myPartyList.getPartyItems();\n// or maybe even\nMap&lt;String, PartyItem&gt; partyItems = myPartyList.getPartyItems();\n</code></pre>\n<p>And getting the value is as easy as:</p>\n<pre><code>Object partyItem = partyItems.get(&quot;baloon&quot;);\n</code></pre>\n<p>If you are not sure if your paryItems contain a value for your key <code>baloon</code> you can check that first:</p>\n<pre><code>if (partyItems.contains(&quot;baloon&quot;)) {\n    Object partyItem = partyItems.get(&quot;baloon&quot;);\n}\n</code></pre>\n<p>If you are looking for a part of the key matching <code>baloon</code>:</p>\n<pre><code>List&lt;PartyItem&gt; myFilteredPartyItems = partyItems.entrySet().stream()\n    .filter(e -&gt; e.getKey().contains(&quot;baloon&quot;))\n    .collect(Collectors.toList()))\n</code></pre>\n<p>This is called stream oriented programming (take a look at the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Java Stream API</a>), and if your run at least Java 8 you can use those.\nAnd what it does, is turn the entries of the List to a stream, then remove everything which does not contain <code>baloon</code> in the key, and turn the resulting stream, which was not removed back to a list.</p>\n<p><a href=\"https://www.baeldung.com/java-8-streams\" rel=\"nofollow noreferrer\">Here</a> you also find a very informative tutorial on how to use streams in Java.</p>\n"},{"tags":[],"owner":{"account_id":23136040,"reputation":59,"user_id":17240268,"display_name":"ujjwal dixit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635217492,"creation_date":1635217492,"answer_id":69717019,"question_id":69713959,"body_markdown":"You can iterate like this:\r\n\r\n    for(String key: Map.keySet()){\r\n    if(StringUtils.contains(key, &quot;balloon&quot;)){\r\n       Iterator&lt;String&gt; it = hashMap.get(&quot;balloon&quot;).iterator();\r\n        while(it.hasNext()){\r\n           // your code here\r\n         }\r\n       }\r\n    }","title":"How can I iterate through a hashset within a hashmap?","body":"<p>You can iterate like this:</p>\n<pre><code>for(String key: Map.keySet()){\nif(StringUtils.contains(key, &quot;balloon&quot;)){\n   Iterator&lt;String&gt; it = hashMap.get(&quot;balloon&quot;).iterator();\n    while(it.hasNext()){\n       // your code here\n     }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":19647082,"reputation":1,"user_id":14381855,"display_name":"Yankeecandle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1635254806,"creation_date":1635191431,"question_id":69713959,"body_markdown":"I am trying to iterate through a hashmap which contains 8 entries. However one of these entries is a hashset &#39;balloon&#39; with 2 objects within it. I want to add this to an array list so i can then iterate through it in a for loop/\r\n\r\nFirst part of the code below works, I loop through the hashmap and look for the key I require which is &#39;balloon&#39;. I need help to add the hashset to an array list.\r\nI am getting a casting error when using Collectors.list and stream\r\n\r\n\r\n\r\n     //This is the hashmap I am looping through to find the balloon key\r\n        Map&lt;String, Object&gt; types = System.getPartyItems();\r\n        for (Map.Entry&lt;String, Object&gt; entry : types.entrySet()) {\r\n            if (StringUtils.contains(entry.getKey().toString(), &quot;balloon&quot;)) {\r\n\r\n               //This is where I need to add the balloon hashset to a list to access the entries and values from within.\r\n                    List&lt;PartyItem&gt; myPartyList = new ArrayList&lt;&gt;();\r\n                    myPartyList.add (hash set of balloon objects)\r\n\r\n\r\nDo i need to assign the hash set to a variable before i can set it to the list? Anything I&#39;ve tried I am getting a casting error eg &quot;class java.util.stream.ReferencePipeline$Head cannot be cast to class java.util.ArrayList&quot;\r\nAny help appreciated.\r\nThanks","title":"How can I iterate through a hashset within a hashmap?","body":"<p>I am trying to iterate through a hashmap which contains 8 entries. However one of these entries is a hashset 'balloon' with 2 objects within it. I want to add this to an array list so i can then iterate through it in a for loop/</p>\n<p>First part of the code below works, I loop through the hashmap and look for the key I require which is 'balloon'. I need help to add the hashset to an array list.\nI am getting a casting error when using Collectors.list and stream</p>\n<pre><code> //This is the hashmap I am looping through to find the balloon key\n    Map&lt;String, Object&gt; types = System.getPartyItems();\n    for (Map.Entry&lt;String, Object&gt; entry : types.entrySet()) {\n        if (StringUtils.contains(entry.getKey().toString(), &quot;balloon&quot;)) {\n\n           //This is where I need to add the balloon hashset to a list to access the entries and values from within.\n                List&lt;PartyItem&gt; myPartyList = new ArrayList&lt;&gt;();\n                myPartyList.add (hash set of balloon objects)\n</code></pre>\n<p>Do i need to assign the hash set to a variable before i can set it to the list? Anything I've tried I am getting a casting error eg &quot;class java.util.stream.ReferencePipeline$Head cannot be cast to class java.util.ArrayList&quot;\nAny help appreciated.\nThanks</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1635250040,"post_id":69722776,"comment_id":123241253,"body_markdown":"It&#39;s unclear what you want to do, or what the end result would be. Are you looking for a `short` (16-bit integer) value? Or something else, if so what? The word &quot;append&quot; doesn&#39;t make sense to me in the context of bytes.","body":"It&#39;s unclear what you want to do, or what the end result would be. Are you looking for a <code>short</code> (16-bit integer) value? Or something else, if so what? The word &quot;append&quot; doesn&#39;t make sense to me in the context of bytes."},{"owner":{"account_id":8099621,"reputation":3911,"user_id":6103001,"display_name":"Michał Zaborowski"},"score":0,"creation_date":1635250188,"post_id":69722776,"comment_id":123241330,"body_markdown":"why getting `get(0)`, `get(1)` is a problem? I can provide answer here, but why to ask question instead of simply moving forward? Just go, do your job, and then optimize. If you are at this point - I mean optimizing - please provide more code...","body":"why getting <code>get(0)</code>, <code>get(1)</code> is a problem? I can provide answer here, but why to ask question instead of simply moving forward? Just go, do your job, and then optimize. If you are at this point - I mean optimizing - please provide more code..."},{"owner":{"display_name":"user11333043"},"score":0,"creation_date":1635250191,"post_id":69722776,"comment_id":123241331,"body_markdown":"I apologize. To be more clear: I want to get the first two bytes in that byte array, so I can access the first 16 bits and convert it to integer.","body":"I apologize. To be more clear: I want to get the first two bytes in that byte array, so I can access the first 16 bits and convert it to integer."},{"owner":{"account_id":1434396,"reputation":28043,"user_id":1356107,"accept_rate":79,"display_name":"Tschallacka"},"score":0,"creation_date":1635250192,"post_id":69722776,"comment_id":123241333,"body_markdown":"Your first suggestion, but I&#39;d suggest you read up on how arrays function in Java","body":"Your first suggestion, but I&#39;d suggest you read up on how arrays function in Java"},{"owner":{"account_id":8099621,"reputation":3911,"user_id":6103001,"display_name":"Michał Zaborowski"},"score":0,"creation_date":1635250232,"post_id":69722776,"comment_id":123241350,"body_markdown":"besides that - please provide whole problem - it can be you are looking for solution to the problem that can be avoided...","body":"besides that - please provide whole problem - it can be you are looking for solution to the problem that can be avoided..."},{"owner":{"display_name":"user11333043"},"score":1,"creation_date":1635250275,"post_id":69722776,"comment_id":123241367,"body_markdown":"@MichałZaborowski I should have added more context. I need bit 0-16 to convert it to an integer. I wouldn&#39;t know how to do that if I get byte 0 first and then byte 1, without concatenating them. I was wondering if there is a direct way to get byte 0 TO 1 at once.","body":"@MichałZaborowski I should have added more context. I need bit 0-16 to convert it to an integer. I wouldn&#39;t know how to do that if I get byte 0 first and then byte 1, without concatenating them. I was wondering if there is a direct way to get byte 0 TO 1 at once."},{"owner":{"display_name":"user11333043"},"score":0,"creation_date":1635251208,"post_id":69722776,"comment_id":123241832,"body_markdown":"@Sweeper Thank you for that part!  but the byte array has 4 bytes, I only need to convert the first two. That&#39;s what I didn&#39;t know how to best access","body":"@Sweeper Thank you for that part!  but the byte array has 4 bytes, I only need to convert the first two. That&#39;s what I didn&#39;t know how to best access"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1635251560,"post_id":69722776,"comment_id":123241992,"body_markdown":"@StephM My answer _does_ only access the first two. Is there anything wrong with that? Did you expect it to be in little endian perhaps?","body":"@StephM My answer <i>does</i> only access the first two. Is there anything wrong with that? Did you expect it to be in little endian perhaps?"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635251202,"creation_date":1635251202,"answer_id":69723097,"question_id":69722776,"body_markdown":"You did not specify the order of the bits in your bytes. Depending on whether you want big endian or small endian use\r\n\r\n    int result = ((int)byteArray[1])*256+((int)byteArray[0])\r\n\r\nor\r\n\r\n    int result = ((int)byteArray[2])*256+((int)byteArray[1])\r\n","title":"Access two first bytes in byte array","body":"<p>You did not specify the order of the bits in your bytes. Depending on whether you want big endian or small endian use</p>\n<pre><code>int result = ((int)byteArray[1])*256+((int)byteArray[0])\n</code></pre>\n<p>or</p>\n<pre><code>int result = ((int)byteArray[2])*256+((int)byteArray[1])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1635251497,"creation_date":1635251497,"answer_id":69723166,"question_id":69722776,"body_markdown":"If you want an integer from the first two bytes, just use a [`ByteBuffer`](https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true):\r\n\r\n    // x is of type Short\r\n    val x = ByteBuffer.wrap(byteArray).short\r\n\r\nThis will only read the first two bytes of the array, in big endian order (you can change this with [`order`][1]), or throw an exception if there are fewer than 2 bytes in the array.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html#order-java.nio.ByteOrder-","title":"Access two first bytes in byte array","body":"<p>If you want an integer from the first two bytes, just use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true\" rel=\"noreferrer\"><code>ByteBuffer</code></a>:</p>\n<pre><code>// x is of type Short\nval x = ByteBuffer.wrap(byteArray).short\n</code></pre>\n<p>This will only read the first two bytes of the array, in big endian order (you can change this with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html#order-java.nio.ByteOrder-\" rel=\"noreferrer\"><code>order</code></a>), or throw an exception if there are fewer than 2 bytes in the array.</p>\n"},{"tags":[],"owner":{"account_id":1268903,"reputation":21449,"user_id":1225617,"accept_rate":44,"display_name":"Adam Millerchip"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635254601,"creation_date":1635252342,"answer_id":69723368,"question_id":69722776,"body_markdown":"You can use [destructuring](https://kotlinlang.org/docs/destructuring-declarations.html) to access the first two bytes in an array.\r\n\r\nTo convert them to an integer, you can use [`toInt`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-byte/to-int.html) to convert the first byte, [`shl`](https://kotlinlang.org/docs/basic-types.html#bitwise-operations) to bitshift it left by 8 bits, and then add the 2nd byte.\r\n\r\n    fun main() {\r\n        val byteArray = byteArrayOf(0b00000001, 0b00000010, 0b00000011)\r\n        val (firstByte, secondByte) = byteArray.toUByteArray()\r\n        val firstTwoBytes = (firstByte.toInt() shl 8) + secondByte.toInt()\r\n        println(firstByte)      // 00000001\r\n        println(secondByte)     // 00000010\r\n        println(firstTwoBytes)  // 0000000100000010\r\n    }\r\n\r\nOutput:\r\n\r\n    1\r\n    2\r\n    258\r\n\r\nI am converting the signed byte array `toUByteArray()` here, because `toInt()` preserves the numeric value of the signed bytes, meaning negative bytes would produce negative integers, which is not what you want if you are only concerned with the raw bits. Using unsigned bytes is what you really want here.\r\n\r\nIf you wanted to avoid converting the whole array, you could convert only the first two bytes by doing this instead:\r\n\r\n    val firstTwoBytes = (firstByte.toUByte().toInt() shl 8) + secondByte.toUByte().toInt()\r\n\r\n","title":"Access two first bytes in byte array","body":"<p>You can use <a href=\"https://kotlinlang.org/docs/destructuring-declarations.html\" rel=\"nofollow noreferrer\">destructuring</a> to access the first two bytes in an array.</p>\n<p>To convert them to an integer, you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-byte/to-int.html\" rel=\"nofollow noreferrer\"><code>toInt</code></a> to convert the first byte, <a href=\"https://kotlinlang.org/docs/basic-types.html#bitwise-operations\" rel=\"nofollow noreferrer\"><code>shl</code></a> to bitshift it left by 8 bits, and then add the 2nd byte.</p>\n<pre><code>fun main() {\n    val byteArray = byteArrayOf(0b00000001, 0b00000010, 0b00000011)\n    val (firstByte, secondByte) = byteArray.toUByteArray()\n    val firstTwoBytes = (firstByte.toInt() shl 8) + secondByte.toInt()\n    println(firstByte)      // 00000001\n    println(secondByte)     // 00000010\n    println(firstTwoBytes)  // 0000000100000010\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1\n2\n258\n</code></pre>\n<p>I am converting the signed byte array <code>toUByteArray()</code> here, because <code>toInt()</code> preserves the numeric value of the signed bytes, meaning negative bytes would produce negative integers, which is not what you want if you are only concerned with the raw bits. Using unsigned bytes is what you really want here.</p>\n<p>If you wanted to avoid converting the whole array, you could convert only the first two bytes by doing this instead:</p>\n<pre><code>val firstTwoBytes = (firstByte.toUByte().toInt() shl 8) + secondByte.toUByte().toInt()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635252865,"creation_date":1635252865,"answer_id":69723504,"question_id":69722776,"body_markdown":"**Big Endian**\r\n```java\r\nbyte[] bytes = new byte[] { 1, 2, 3, 4 };\r\nint shorty = ((bytes[0] &amp; 0xFF) &lt;&lt; 8) | (bytes[1] &amp; 0xFF);\r\n```\r\n\r\n**Little Endian**\r\n```java\r\nbyte[] bytes = new byte[] { 1, 2, 3, 4 };\r\nint shorty = ((bytes[1] &amp; 0xFF) &lt;&lt; 8) | (bytes[0] &amp; 0xFF);\r\n```","title":"Access two first bytes in byte array","body":"<p><strong>Big Endian</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = new byte[] { 1, 2, 3, 4 };\nint shorty = ((bytes[0] &amp; 0xFF) &lt;&lt; 8) | (bytes[1] &amp; 0xFF);\n</code></pre>\n<p><strong>Little Endian</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] bytes = new byte[] { 1, 2, 3, 4 };\nint shorty = ((bytes[1] &amp; 0xFF) &lt;&lt; 8) | (bytes[0] &amp; 0xFF);\n</code></pre>\n"}],"owner":{"display_name":"user11333043"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1580,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69723166,"answer_count":4,"score":1,"last_activity_date":1635254601,"creation_date":1635249814,"question_id":69722776,"body_markdown":"I have a variable of type ByteArray:\r\n\r\n    val byteArray: ByteArray?\r\n\r\nI am currently accessing its first byte, indexing it as follows: byteArray[0]. I want to be able to get the first two bytes on this byte array. Should I get byte 0 and 1 and then append, or can I do byteArray[0:1] somehow? I am very new to Java and Kotlin and any guidance is appreciated.\r\n\r\nI need to be able to get the first two bytes , so then I can get bits 0 to 16 and convert it to an integer. \r\nI use this to convert bytes to binary string:\r\n\r\n      `String.format(&quot;%8s&quot;, Integer.toBinaryString(inByte &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;);`\r\n","title":"Access two first bytes in byte array","body":"<p>I have a variable of type ByteArray:</p>\n<pre><code>val byteArray: ByteArray?\n</code></pre>\n<p>I am currently accessing its first byte, indexing it as follows: byteArray[0]. I want to be able to get the first two bytes on this byte array. Should I get byte 0 and 1 and then append, or can I do byteArray[0:1] somehow? I am very new to Java and Kotlin and any guidance is appreciated.</p>\n<p>I need to be able to get the first two bytes , so then I can get bits 0 to 16 and convert it to an integer.\nI use this to convert bytes to binary string:</p>\n<pre><code>  `String.format(&quot;%8s&quot;, Integer.toBinaryString(inByte &amp; 0xFF)).replace(' ', '0');`\n</code></pre>\n"},{"tags":["java","batch-processing","jboss-eap-7","jberet"],"comments":[{"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"score":1,"creation_date":1635247953,"post_id":69722098,"comment_id":123240357,"body_markdown":"Is your application a batch processing app using jberet? If so, can you give more details as to the jobs, amount of job executions, job repository, etc.","body":"Is your application a batch processing app using jberet? If so, can you give more details as to the jobs, amount of job executions, job repository, etc."},{"owner":{"account_id":5368033,"reputation":325,"user_id":4277316,"accept_rate":56,"display_name":"julien carax"},"score":0,"creation_date":1635248318,"post_id":69722098,"comment_id":123240511,"body_markdown":"Yes I do around 21 batch jobs running in the application. I have configured the job repository to use JDBC so it uses my DB. And the amount of job executions vary from 1 to 2600. But there are several batch jobs where the job execution is above 1500.","body":"Yes I do around 21 batch jobs running in the application. I have configured the job repository to use JDBC so it uses my DB. And the amount of job executions vary from 1 to 2600. But there are several batch jobs where the job execution is above 1500."}],"answers":[{"tags":[],"owner":{"account_id":5368033,"reputation":325,"user_id":4277316,"accept_rate":56,"display_name":"julien carax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635254482,"creation_date":1635254482,"answer_id":69723907,"question_id":69722098,"body_markdown":"I found the issue, apparently jberet was internally trying to fetch details about the job executions from the table(JDBC repository). And since there was a lot of rows in that table, the committed heap size would run out. \r\n\r\nAfter I deleted rows from that table, the server looks stable and everything runs smoothly. I wonder how the server handles a large load since it is constantly trying to fetch that data. Is there an alternate to the solution?","title":"Jboss EAP 7.4.1 configuration issues","body":"<p>I found the issue, apparently jberet was internally trying to fetch details about the job executions from the table(JDBC repository). And since there was a lot of rows in that table, the committed heap size would run out.</p>\n<p>After I deleted rows from that table, the server looks stable and everything runs smoothly. I wonder how the server handles a large load since it is constantly trying to fetch that data. Is there an alternate to the solution?</p>\n"}],"owner":{"account_id":5368033,"reputation":325,"user_id":4277316,"accept_rate":56,"display_name":"julien carax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69723907,"answer_count":1,"score":0,"last_activity_date":1635254482,"creation_date":1635246954,"question_id":69722098,"body_markdown":"I am trying to bring one of the environments EAP 7.0 to EAP7.4.1 and I have managed to migrate one of the environments successfully. However, on one of the environments, as soon as I start EAP after upgrade in the domain mode, the server runs out of memory with the error below:\r\n\r\n    &gt; &quot;WFLYCTL0030: No resource definition is registered for address [\r\n    &gt;     (\\&quot;host\\&quot; =&gt; \\&quot;somehost-server-1\\&quot;),\r\n    &gt;     (\\&quot;server\\&quot; =&gt; \\&quot;server-1\\&quot;),\r\n    &gt;     (\\&quot;core-service\\&quot; =&gt; \\&quot;platform-mbean\\&quot;),\r\n    &gt;     (\\&quot;type\\&quot; =&gt; \\&quot;operating-system\\&quot;) ]&quot;\r\n\r\nI have tried to copy the exact configuration as the other environment where EAP is running smoothly and find no difference. I couldn&#39;t find any help if I try to find this error, all I can see is that it has something to do with the Monitoring service of Jboss EAP. Can someone help?","title":"Jboss EAP 7.4.1 configuration issues","body":"<p>I am trying to bring one of the environments EAP 7.0 to EAP7.4.1 and I have managed to migrate one of the environments successfully. However, on one of the environments, as soon as I start EAP after upgrade in the domain mode, the server runs out of memory with the error below:</p>\n<pre><code>&gt; &quot;WFLYCTL0030: No resource definition is registered for address [\n&gt;     (\\&quot;host\\&quot; =&gt; \\&quot;somehost-server-1\\&quot;),\n&gt;     (\\&quot;server\\&quot; =&gt; \\&quot;server-1\\&quot;),\n&gt;     (\\&quot;core-service\\&quot; =&gt; \\&quot;platform-mbean\\&quot;),\n&gt;     (\\&quot;type\\&quot; =&gt; \\&quot;operating-system\\&quot;) ]&quot;\n</code></pre>\n<p>I have tried to copy the exact configuration as the other environment where EAP is running smoothly and find no difference. I couldn't find any help if I try to find this error, all I can see is that it has something to do with the Monitoring service of Jboss EAP. Can someone help?</p>\n"},{"tags":["java","list","swing","awt"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1635255405,"post_id":69723831,"comment_id":123243877,"body_markdown":"*&quot;I wish to make a tic tac toe game where each square is an object&quot;* Use a 3x3 `GridLayout` of `JButton` components. Here is a [basic implementation](https://stackoverflow.com/a/67302034/418556) of what I mean.","body":"<i>&quot;I wish to make a tic tac toe game where each square is an object&quot;</i> Use a 3x3 <code>GridLayout</code> of <code>JButton</code> components. Here is a <a href=\"https://stackoverflow.com/a/67302034/418556\">basic implementation</a> of what I mean."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1635258062,"post_id":69723831,"comment_id":123245260,"body_markdown":"*my old graphics disappearing still persists* - you need to understand how layout managers work. The default layout of the JFrame is a BorderLayout. You can only add a single component to the `BorderLayout.CENTER` which is the default when you don&#39;t specify a constraint. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) for more information. Your painting code is wrong. Read the section on [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html). Keep a link to the tutorial handy for Swing basics.","body":"<i>my old graphics disappearing still persists</i> - you need to understand how layout managers work. The default layout of the JFrame is a BorderLayout. You can only add a single component to the <code>BorderLayout.CENTER</code> which is the default when you don&#39;t specify a constraint. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> for more information. Your painting code is wrong. Read the section on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a>. Keep a link to the tutorial handy for Swing basics."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1635258140,"post_id":69723831,"comment_id":123245295,"body_markdown":"Your ArrayList does nothing and is not needed. Why would you create an ArrayList to hold components when you only ever have a single component? Using existing components (JButton) is definitely an easier way to start to learn Swing.","body":"Your ArrayList does nothing and is not needed. Why would you create an ArrayList to hold components when you only ever have a single component? Using existing components (JButton) is definitely an easier way to start to learn Swing."}],"owner":{"account_id":20641145,"reputation":11,"user_id":15153786,"display_name":"Plamen Tsanev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635254209,"creation_date":1635254209,"question_id":69723831,"body_markdown":"When I came across this problem at first I found out that I could just store everything I wish to display in a list and then display it from that list, problem is I am not really sure how that is done since the problem of my old graphics disappearing still persists.\r\nHere are the 2 files I am having a problem with\r\nMain file:\r\n       \r\n     import javax.swing.*;\r\n     import java.awt.*;\r\n     import java.util.ArrayList;\r\n\r\n     public class probvam extends JPanel {\r\n     public static void Game(){\r\n        JFrame window = new JFrame();\r\n       \r\n        window.add(new Field(0, 0, 560/3, 560/3));\r\n        window.add(new Field(560/3, 0, 560/3, 560/3));\r\n\r\n        window.setTitle(&quot;zvunqt mi po iphona&quot;);\r\n        window.setSize(560, 560);\r\n        window.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        window.setVisible(true);\r\n    }\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Game();\r\n\r\n    }\r\n    }\r\n\r\nAnd the second file containing the list and paint method:\r\n       \r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.util.ArrayList;\r\n\r\n    public class Field extends JPanel{\r\n    public ArrayList&lt;Field&gt; ground = new ArrayList&lt;&gt;();\r\n\r\n    int width, height, x, y;\r\n\r\n    public Field(int x, int y, int w, int h) {\r\n        this.width = w;\r\n        this.height = h;\r\n        this.x = x;\r\n        this.y = y;\r\n        ground.add(this);\r\n\r\n    }\r\n    @Override\r\n    public void paintComponent (Graphics g){\r\n        for(Field f: ground){\r\n            g.drawRect(f.x, f.y, f.width, f.height);\r\n        }\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\nThe idea of this is to get it to display 9 rectangles as their own objects as I wish to make a tic tac toe game where each square is an object but I cant seem to display them all at the same time. The paint function is really a pain.\r\n\r\n\r\n","title":"Display objects from a list in Java AWT","body":"<p>When I came across this problem at first I found out that I could just store everything I wish to display in a list and then display it from that list, problem is I am not really sure how that is done since the problem of my old graphics disappearing still persists.\nHere are the 2 files I am having a problem with\nMain file:</p>\n<pre><code> import javax.swing.*;\n import java.awt.*;\n import java.util.ArrayList;\n\n public class probvam extends JPanel {\n public static void Game(){\n    JFrame window = new JFrame();\n   \n    window.add(new Field(0, 0, 560/3, 560/3));\n    window.add(new Field(560/3, 0, 560/3, 560/3));\n\n    window.setTitle(&quot;zvunqt mi po iphona&quot;);\n    window.setSize(560, 560);\n    window.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    window.setVisible(true);\n}\n\n\n\npublic static void main(String[] args) {\n\n    Game();\n\n}\n}\n</code></pre>\n<p>And the second file containing the list and paint method:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.util.ArrayList;\n\npublic class Field extends JPanel{\npublic ArrayList&lt;Field&gt; ground = new ArrayList&lt;&gt;();\n\nint width, height, x, y;\n\npublic Field(int x, int y, int w, int h) {\n    this.width = w;\n    this.height = h;\n    this.x = x;\n    this.y = y;\n    ground.add(this);\n\n}\n@Override\npublic void paintComponent (Graphics g){\n    for(Field f: ground){\n        g.drawRect(f.x, f.y, f.width, f.height);\n    }\n}\n\n\n}\n</code></pre>\n<p>The idea of this is to get it to display 9 rectangles as their own objects as I wish to make a tic tac toe game where each square is an object but I cant seem to display them all at the same time. The paint function is really a pain.</p>\n"},{"tags":["java","jms","messaging"],"answers":[{"tags":[],"owner":{"account_id":1692104,"reputation":3160,"user_id":1554255,"display_name":"Andrey Borisov"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1635254196,"creation_date":1343320515,"answer_id":11673930,"question_id":11673361,"body_markdown":"Please check this [one][1] *(Wayback Machine link used as article went offline since 2020)*\r\n \r\nWith `AUTO_ACKNOWLEDGE` mode the acknowledgment is always the last thing to happen implicitly after the `onMessage()` handler returns. The client receiving the messages can get finer-grained control over the delivery of guaranteed messages by specifying the `CLIENT_ACKNOWLEDGE` mode on the consuming session.\r\n\r\nThe use of `CLIENT_ACKNOWLEDGE` allows the application to control when the acknowledgment is sent. For example, an application can acknowledge a message - thereby relieving the JMS provider of its duty - and perform further processing of the data represented by the message. The key to this is the acknowledge() method on the Message object, as shown in Listing 1.\r\n\r\nThe `acknowledge()` method informs the JMS provider that the message has been successfully received by the consumer. This method throws an exception to the client if a provider failure occurs during the acknowledgment process. The provider failure results in the message being retained by the JMS server for redelivery.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20191101094431/http://www2.sys-con.com:80/itsg/virtualcd/Java/archives/0604/chappell/index.html","title":"JMS AUTO_ACKNOWLEDGE when is it acknowledged?","body":"<p>Please check this <a href=\"https://web.archive.org/web/20191101094431/http://www2.sys-con.com:80/itsg/virtualcd/Java/archives/0604/chappell/index.html\" rel=\"nofollow noreferrer\">one</a> <em>(Wayback Machine link used as article went offline since 2020)</em></p>\n<p>With <code>AUTO_ACKNOWLEDGE</code> mode the acknowledgment is always the last thing to happen implicitly after the <code>onMessage()</code> handler returns. The client receiving the messages can get finer-grained control over the delivery of guaranteed messages by specifying the <code>CLIENT_ACKNOWLEDGE</code> mode on the consuming session.</p>\n<p>The use of <code>CLIENT_ACKNOWLEDGE</code> allows the application to control when the acknowledgment is sent. For example, an application can acknowledge a message - thereby relieving the JMS provider of its duty - and perform further processing of the data represented by the message. The key to this is the acknowledge() method on the Message object, as shown in Listing 1.</p>\n<p>The <code>acknowledge()</code> method informs the JMS provider that the message has been successfully received by the consumer. This method throws an exception to the client if a provider failure occurs during the acknowledgment process. The provider failure results in the message being retained by the JMS server for redelivery.</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1450338086,"creation_date":1450337354,"answer_id":34328929,"question_id":11673361,"body_markdown":" **CLIENT_ACKNOWLEDGE**   \r\nWith this acknowledgment mode, the client acknowledges a consumed message by calling the message&#39;s acknowledge method.   \r\n\r\n    Session session = connection.createSession(false, Session.CLIENT_ACKNOWLEDGE);\r\n    ...\r\n    msg = (TextMessage) consumer.receive();\r\n    //acknowledge\r\n    msg.acknowledge();\r\n\r\n **AUTO_ACKNOWLEDGE**   \r\nWith this acknowledgment mode, the session automatically acknowledges a client&#39;s receipt of a message either when the session has successfully returned from a call to receive or when the message listener the session has called to process the message successfully returns.  \r\n\r\n    Session session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\r\n\r\n[source][1]   \r\n[Best example][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/jms/Session.html\r\n  [2]: http://examples.javacodegeeks.com/enterprise-java/jms/jms-client-example/\r\n ","title":"JMS AUTO_ACKNOWLEDGE when is it acknowledged?","body":"<p><strong>CLIENT_ACKNOWLEDGE</strong><br>\nWith this acknowledgment mode, the client acknowledges a consumed message by calling the message's acknowledge method.   </p>\n\n<pre><code>Session session = connection.createSession(false, Session.CLIENT_ACKNOWLEDGE);\n...\nmsg = (TextMessage) consumer.receive();\n//acknowledge\nmsg.acknowledge();\n</code></pre>\n\n<p><strong>AUTO_ACKNOWLEDGE</strong><br>\nWith this acknowledgment mode, the session automatically acknowledges a client's receipt of a message either when the session has successfully returned from a call to receive or when the message listener the session has called to process the message successfully returns.  </p>\n\n<pre><code>Session session = connection.createSession(false,Session.AUTO_ACKNOWLEDGE);\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javaee/7/api/javax/jms/Session.html\" rel=\"noreferrer\">source</a><br>\n<a href=\"http://examples.javacodegeeks.com/enterprise-java/jms/jms-client-example/\" rel=\"noreferrer\">Best example</a></p>\n"}],"owner":{"account_id":476901,"reputation":2441,"user_id":888059,"accept_rate":88,"display_name":"Reid Mac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47842,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":11673930,"answer_count":2,"score":32,"last_activity_date":1635254196,"creation_date":1343318493,"question_id":11673361,"body_markdown":"I have tried to google this, but have not been successful. If I am using `AUTO_ACKNOWLEDGE`, and I have a consumer client written in Java, when is the message acknowledged? I am using a `MessageListener` which contains an `onMessage` method. Is the acknowledgement sent back to the server before `onMessage` or after `onMessage` completes or at some other point? Thanks in advance for any help anyone is able to provide!","title":"JMS AUTO_ACKNOWLEDGE when is it acknowledged?","body":"<p>I have tried to google this, but have not been successful. If I am using <code>AUTO_ACKNOWLEDGE</code>, and I have a consumer client written in Java, when is the message acknowledged? I am using a <code>MessageListener</code> which contains an <code>onMessage</code> method. Is the acknowledgement sent back to the server before <code>onMessage</code> or after <code>onMessage</code> completes or at some other point? Thanks in advance for any help anyone is able to provide!</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":28858,"reputation":1279,"user_id":77431,"accept_rate":69,"display_name":"NevilleDNZ"},"score":0,"creation_date":1497657438,"post_id":12913453,"comment_id":76187007,"body_markdown":"Could this be the root cause? A bypassed call to fxdriver.modals.clearFlag_ ... cf. https://stackoverflow.com/questions/44568402/how-do-i-manually-mouse-dismiss-a-javascript-alert-and-get-back-the-the-body-o/44592827#44592827","body":"Could this be the root cause? A bypassed call to fxdriver.modals.clearFlag_ ... cf. <a href=\"https://stackoverflow.com/questions/44568402/how-do-i-manually-mouse-dismiss-a-javascript-alert-and-get-back-the-the-body-o/44592827#44592827\" title=\"how do i manually mouse dismiss a javascript alert and get back the the body o\">stackoverflow.com/questions/44568402/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1494330056,"creation_date":1350388802,"answer_id":12914222,"question_id":12913453,"body_markdown":"I found this portion of documentation on your issue:\r\nThis may be useful for other people as well:\r\n\r\n \r\n\r\nv2.25.0\r\n\r\n=======\r\n\r\nWebDriver:\r\n\r\n  * Added API for dealing with BASIC and DIGEST authentication\r\n\r\n    dialogs. Currently not implemented in any drivers.\r\n\r\n  * Warn users that the IE driver will no longer use the DLL in the\r\n\r\n    next release.\r\n\r\n  * Deprecated browser specific WebElement subclasses.\r\n\r\n  * Added support for &quot;requiredCapabilities&quot; to the remote webdrivers\r\n\r\n    and implemented basic support for these in the firefox\r\n\r\n    driver. Failure to fulfull a required capability will cause a\r\n\r\n    SessionNotCreatedException to be thrown.\r\n\r\n  * **Added the ability to determine how unhandled alerts should be\r\n    handled. This is handled by the &quot;unexpectedAlertBehaviour&quot;\r\n    capability, which can be one of &quot;accept&quot;, &quot;dismiss&quot; or\r\n    &quot;ignore&quot;. Java code should use the UnexpectedAlertBehaviour\r\n    enum. This is only implemented in Firefox for now.**\r\n\r\n  * Allow native events to be configured in Firefox and\r\n\r\n    (experimentally) in IE using the &quot;nativeEvents&quot; capability.\r\n\r\n  * Updated supported versions of Firefox to 17.\r\n\r\n.....\r\n\r\n Whole list provided [here][1]\r\n\r\n\r\nAn here is the [source][2] \r\n\r\n    package org.openqa.selenium;\r\n    \r\n        public enum UnexpectedAlertBehaviour {\r\n        \r\n          ACCEPT (&quot;accept&quot;),\r\n          DISMISS (&quot;dismiss&quot;),\r\n          IGNORE (&quot;ignore&quot;)\r\n          ;\r\n          \r\n          private String text;\r\n        \r\n          private UnexpectedAlertBehaviour(String text) {\r\n            this.text = text;\r\n          }\r\n        \r\n          @Override\r\n          public String toString() {\r\n            return String.valueOf(text);\r\n          }\r\n          \r\n          public static UnexpectedAlertBehaviour fromString(String text) {\r\n            if (text != null) {\r\n              for (UnexpectedAlertBehaviour b : UnexpectedAlertBehaviour.values()) {\r\n                if (text.equalsIgnoreCase(b.text)) {\r\n                  return b;\r\n                }\r\n              }\r\n            }\r\n            return null;\r\n          }\r\n        }\r\n\r\nAs I see you use unexpectedAlertBehaviour to decide whether alert is unhandled and if it is so, you&#39;ll decide how to handle it.\r\n\r\nI suppose it should be something like (my assumption):\r\n\r\n    try{\r\n    alert.accept();\r\n    }\r\n    \r\n    catch(org.openqa.selenium.UnexpectedAlertBehaviour){\r\n    ///...blablabla\r\n    }\r\n\r\n  [1]: https://groups.google.com/forum/#!msg/webdriver/RJ31baCFTfk/Ng-Lxw2yv1gJ\r\n  [2]: http://code.google.com/p/selenium/source/browse/trunk/java/client/src/org/openqa/selenium/UnexpectedAlertBehaviour.java?r=17237\r\n\r\n","title":"How to handle an Alert with &quot;UnexpectedAlertBehaviour&quot; capability in Selenium?","body":"<p>I found this portion of documentation on your issue:\nThis may be useful for other people as well:</p>\n\n<p>v2.25.0</p>\n\n<p>=======</p>\n\n<p>WebDriver:</p>\n\n<ul>\n<li><p>Added API for dealing with BASIC and DIGEST authentication</p>\n\n<p>dialogs. Currently not implemented in any drivers.</p></li>\n<li><p>Warn users that the IE driver will no longer use the DLL in the</p>\n\n<p>next release.</p></li>\n<li><p>Deprecated browser specific WebElement subclasses.</p></li>\n<li><p>Added support for \"requiredCapabilities\" to the remote webdrivers</p>\n\n<p>and implemented basic support for these in the firefox</p>\n\n<p>driver. Failure to fulfull a required capability will cause a</p>\n\n<p>SessionNotCreatedException to be thrown.</p></li>\n<li><p><strong>Added the ability to determine how unhandled alerts should be\nhandled. This is handled by the \"unexpectedAlertBehaviour\"\ncapability, which can be one of \"accept\", \"dismiss\" or\n\"ignore\". Java code should use the UnexpectedAlertBehaviour\nenum. This is only implemented in Firefox for now.</strong></p></li>\n<li><p>Allow native events to be configured in Firefox and</p>\n\n<p>(experimentally) in IE using the \"nativeEvents\" capability.</p></li>\n<li><p>Updated supported versions of Firefox to 17.</p></li>\n</ul>\n\n<p>.....</p>\n\n<p>Whole list provided <a href=\"https://groups.google.com/forum/#!msg/webdriver/RJ31baCFTfk/Ng-Lxw2yv1gJ\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>An here is the <a href=\"http://code.google.com/p/selenium/source/browse/trunk/java/client/src/org/openqa/selenium/UnexpectedAlertBehaviour.java?r=17237\" rel=\"nofollow noreferrer\">source</a> </p>\n\n<pre><code>package org.openqa.selenium;\n\n    public enum UnexpectedAlertBehaviour {\n\n      ACCEPT (\"accept\"),\n      DISMISS (\"dismiss\"),\n      IGNORE (\"ignore\")\n      ;\n\n      private String text;\n\n      private UnexpectedAlertBehaviour(String text) {\n        this.text = text;\n      }\n\n      @Override\n      public String toString() {\n        return String.valueOf(text);\n      }\n\n      public static UnexpectedAlertBehaviour fromString(String text) {\n        if (text != null) {\n          for (UnexpectedAlertBehaviour b : UnexpectedAlertBehaviour.values()) {\n            if (text.equalsIgnoreCase(b.text)) {\n              return b;\n            }\n          }\n        }\n        return null;\n      }\n    }\n</code></pre>\n\n<p>As I see you use unexpectedAlertBehaviour to decide whether alert is unhandled and if it is so, you'll decide how to handle it.</p>\n\n<p>I suppose it should be something like (my assumption):</p>\n\n<pre><code>try{\nalert.accept();\n}\n\ncatch(org.openqa.selenium.UnexpectedAlertBehaviour){\n///...blablabla\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":122228,"reputation":61,"user_id":315914,"display_name":"zzzzzzz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352354530,"creation_date":1352354530,"answer_id":13283377,"question_id":12913453,"body_markdown":"It is a CapabilityType, so you have to express it in the DesiredCapabilities that you pass when creating the driver.  In Python I added this behavior to my FireFox drivers using this code:\r\n\r\n            selenium.webdriver.DesiredCapabilities.FIREFOX[&quot;unexpectedAlertBehaviour&quot;] = &quot;accept&quot;\r\n\r\nI haven&#39;t tested this Java but in theory it should work:\r\n\r\n    DesiredCapabilities cap = new DesiredCapabailities();\r\n    cap.setPreference(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR, \r\n       org.openqa.selenium.UnexpectedAlertBehaviour.ACCEPT);\r\n    WebDriver driver = new FirefoxDriver(cap);","title":"How to handle an Alert with &quot;UnexpectedAlertBehaviour&quot; capability in Selenium?","body":"<p>It is a CapabilityType, so you have to express it in the DesiredCapabilities that you pass when creating the driver.  In Python I added this behavior to my FireFox drivers using this code:</p>\n\n<pre><code>        selenium.webdriver.DesiredCapabilities.FIREFOX[\"unexpectedAlertBehaviour\"] = \"accept\"\n</code></pre>\n\n<p>I haven't tested this Java but in theory it should work:</p>\n\n<pre><code>DesiredCapabilities cap = new DesiredCapabailities();\ncap.setPreference(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR, \n   org.openqa.selenium.UnexpectedAlertBehaviour.ACCEPT);\nWebDriver driver = new FirefoxDriver(cap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4628129,"reputation":378,"user_id":3751335,"display_name":"Praveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403162442,"creation_date":1403158061,"answer_id":24299792,"question_id":12913453,"body_markdown":"Try to do like this:\r\n\r\n    DesiredCapabilities ff = DesiredCapabilities.firefox();\r\n    ff.setCapability(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR\tUnexpectedAlertBehaviour.ACCEPT);","title":"How to handle an Alert with &quot;UnexpectedAlertBehaviour&quot; capability in Selenium?","body":"<p>Try to do like this:</p>\n\n<pre><code>DesiredCapabilities ff = DesiredCapabilities.firefox();\nff.setCapability(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR  UnexpectedAlertBehaviour.ACCEPT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2891884,"reputation":1986,"user_id":2480481,"display_name":"m3nda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457014648,"creation_date":1433852632,"answer_id":30731973,"question_id":12913453,"body_markdown":"To manage any of the errors you can got, you only have to put into a try/block using the `Exception NAMEERROR` like this: \r\n\r\n    from selenium.common.exceptions import UnexpectedAlertBehaviour\r\n    from selenium.common.exceptions import UnexpectedAlertPresentException\r\n    try:\r\n      var = driver.some_function()\r\n      return True\r\n    except UnexpectedAlertBehaviour:\r\n      print &quot;We have raised the UnexpectedAlertBehaviour&quot;\r\n      return False\r\n    except UnexpectedAlertPresentException:\r\n      print &quot;UnexpectedAlertPresentException&quot;\r\n      return False\r\n\r\nI know this code is not in Java, but the basis is the same. Try/Catch with name of exception. You can see an example of this on my post of the alerts() handling [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17576148/webdriver-error-no-alert-is-present-after-unexpectedalertpresentexception-is/30725963#30725963","title":"How to handle an Alert with &quot;UnexpectedAlertBehaviour&quot; capability in Selenium?","body":"<p>To manage any of the errors you can got, you only have to put into a try/block using the <code>Exception NAMEERROR</code> like this: </p>\n\n<pre><code>from selenium.common.exceptions import UnexpectedAlertBehaviour\nfrom selenium.common.exceptions import UnexpectedAlertPresentException\ntry:\n  var = driver.some_function()\n  return True\nexcept UnexpectedAlertBehaviour:\n  print \"We have raised the UnexpectedAlertBehaviour\"\n  return False\nexcept UnexpectedAlertPresentException:\n  print \"UnexpectedAlertPresentException\"\n  return False\n</code></pre>\n\n<p>I know this code is not in Java, but the basis is the same. Try/Catch with name of exception. You can see an example of this on my post of the alerts() handling <a href=\"https://stackoverflow.com/questions/17576148/webdriver-error-no-alert-is-present-after-unexpectedalertpresentexception-is/30725963#30725963\">here</a></p>\n"},{"tags":[],"owner":{"account_id":6826664,"reputation":3829,"user_id":5252192,"accept_rate":75,"display_name":"Amir Hossein Baghernezad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615653657,"creation_date":1615653657,"answer_id":66616018,"question_id":12913453,"body_markdown":"If you are using Selenium with NodeJS then you can use `options.setAlertBehavior(UserPromptHandler.ACCEPT)`.  \r\n\r\nFull example (Typescript):\r\n\r\n```js\r\n\r\nimport { Builder } from &#39;selenium-webdriver&#39;;\r\nimport { Options } from &#39;selenium-webdriver/chrome&#39;;\r\nimport { UserPromptHandler } from &#39;selenium-webdriver/lib/capabilities&#39;;\r\n\r\n(async () =&gt; {\r\n    let options = new Options()\r\n    options.addArguments(`--user-data-dir=./profile`)\r\n    options.addArguments(`--no-sandbox`)\r\n    options.windowSize({ width: 1280, height: 720 })\r\n    options.setAlertBehavior(UserPromptHandler.ACCEPT)\r\n    let driver = await new Builder().forBrowser(&#39;chrome&#39;).setChromeOptions(options).build();\r\n})()\r\n```\r\n\r\nYou don&#39;t need to look for anything related to **DesiredCapabilities** or **Capabilities**, you can fill that value with `options` variable.","title":"How to handle an Alert with &quot;UnexpectedAlertBehaviour&quot; capability in Selenium?","body":"<p>If you are using Selenium with NodeJS then you can use <code>options.setAlertBehavior(UserPromptHandler.ACCEPT)</code>.</p>\n<p>Full example (Typescript):</p>\n<pre class=\"lang-js prettyprint-override\"><code>\nimport { Builder } from 'selenium-webdriver';\nimport { Options } from 'selenium-webdriver/chrome';\nimport { UserPromptHandler } from 'selenium-webdriver/lib/capabilities';\n\n(async () =&gt; {\n    let options = new Options()\n    options.addArguments(`--user-data-dir=./profile`)\n    options.addArguments(`--no-sandbox`)\n    options.windowSize({ width: 1280, height: 720 })\n    options.setAlertBehavior(UserPromptHandler.ACCEPT)\n    let driver = await new Builder().forBrowser('chrome').setChromeOptions(options).build();\n})()\n</code></pre>\n<p>You don't need to look for anything related to <strong>DesiredCapabilities</strong> or <strong>Capabilities</strong>, you can fill that value with <code>options</code> variable.</p>\n"}],"owner":{"account_id":1927261,"reputation":2149,"user_id":1737407,"accept_rate":82,"display_name":"hoang nguyen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35676,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":12914222,"answer_count":5,"score":6,"last_activity_date":1635253309,"creation_date":1350386018,"question_id":12913453,"body_markdown":"In selenium framework 2.25, I see that we have the UnexpectedAlertBehaviour enum type, but I don&#39;t know how to use it.","title":"How to handle an Alert with &quot;UnexpectedAlertBehaviour&quot; capability in Selenium?","body":"<p>In selenium framework 2.25, I see that we have the UnexpectedAlertBehaviour enum type, but I don't know how to use it.</p>\n"},{"tags":["java","discord","discord-jda","java-17"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635253148,"creation_date":1635253148,"answer_id":69723576,"question_id":69720890,"body_markdown":"You can only send direct messages if you share a server with the user and the user does not have you blocked. You need to send the direct message *before* banning/kicking the user.\r\n\r\nExample:\r\n\r\n```java\r\nuser.openPrivateChannel()\r\n  .flatMap(channel -&gt; channel.sendMessage(&quot;you are banned&quot;)) // send a message to the channel\r\n  .mapToResult() // this means the next flatMap runs on success and error signals\r\n  .flatMap(result -&gt; guild.ban(member)) // then ban the member\r\n  .queue(); // queue the chain of actions\r\n```","title":"JDA: The bot does not dm the user once they have been ban","body":"<p>You can only send direct messages if you share a server with the user and the user does not have you blocked. You need to send the direct message <em>before</em> banning/kicking the user.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>user.openPrivateChannel()\n  .flatMap(channel -&gt; channel.sendMessage(&quot;you are banned&quot;)) // send a message to the channel\n  .mapToResult() // this means the next flatMap runs on success and error signals\n  .flatMap(result -&gt; guild.ban(member)) // then ban the member\n  .queue(); // queue the chain of actions\n</code></pre>\n"}],"owner":{"account_id":21036905,"reputation":67,"user_id":15460157,"display_name":"Yusuf.I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69723576,"answer_count":1,"score":0,"last_activity_date":1635253148,"creation_date":1635241735,"question_id":69720890,"body_markdown":"when i banned the member they were no messaged in there dms even thought the users dm were open.\r\n\r\nthe code is here \r\n\r\n    public static void kickUser(@NotNull Member member, @NotNull Member author,\r\n                @NotNull String reason, long userId, @NotNull SlashCommandEvent event) {\r\n            String guildName = event.getGuild().getName();\r\n            event.getJDA()\r\n                .openPrivateChannelById(userId)\r\n                .flatMap(channel -&gt; channel.sendMessage(\r\n                        &quot;&quot;&quot;\r\n                                Hey there, sorry to tell you but unfortunately you have been kicked from the guild %s.\r\n                                If you think this was a mistake, please contact a moderator or admin of the guild.\r\n                                he reason for the kick is: %s\r\n                                &quot;&quot;&quot;\r\n                            .formatted(guildName, reason)))\r\n                .queue(null,\r\n                        throwable -&gt; logger.info(\r\n                                &quot;I could not dm the user &#39;{}&#39; to inform them that they were kicked. {}&quot;,\r\n                                userId, throwable));\r\n\r\n            event.getGuild()\r\n                .kick(member, reason)\r\n                .flatMap(v -&gt; event.reply(member.getUser().getAsTag() + &quot; was kicked by &quot;\r\n                        + author.getUser().getAsTag() + &quot; for: &quot; + reason))\r\n                .queue();\r\n\r\n            logger.info(&quot; &#39;{} ({})&#39; kicked the user &#39;{} ({})&#39; due to reason being &#39;{}&#39;&quot;,\r\n                    author.getUser().getAsTag(), author.getIdLong(), member.getUser().getAsTag(),\r\n                    userId, reason);\r\n        }\r\n\r\nthe error messages says it could not dm the user even though there dms were open","title":"JDA: The bot does not dm the user once they have been ban","body":"<p>when i banned the member they were no messaged in there dms even thought the users dm were open.</p>\n<p>the code is here</p>\n<pre><code>public static void kickUser(@NotNull Member member, @NotNull Member author,\n            @NotNull String reason, long userId, @NotNull SlashCommandEvent event) {\n        String guildName = event.getGuild().getName();\n        event.getJDA()\n            .openPrivateChannelById(userId)\n            .flatMap(channel -&gt; channel.sendMessage(\n                    &quot;&quot;&quot;\n                            Hey there, sorry to tell you but unfortunately you have been kicked from the guild %s.\n                            If you think this was a mistake, please contact a moderator or admin of the guild.\n                            he reason for the kick is: %s\n                            &quot;&quot;&quot;\n                        .formatted(guildName, reason)))\n            .queue(null,\n                    throwable -&gt; logger.info(\n                            &quot;I could not dm the user '{}' to inform them that they were kicked. {}&quot;,\n                            userId, throwable));\n\n        event.getGuild()\n            .kick(member, reason)\n            .flatMap(v -&gt; event.reply(member.getUser().getAsTag() + &quot; was kicked by &quot;\n                    + author.getUser().getAsTag() + &quot; for: &quot; + reason))\n            .queue();\n\n        logger.info(&quot; '{} ({})' kicked the user '{} ({})' due to reason being '{}'&quot;,\n                author.getUser().getAsTag(), author.getIdLong(), member.getUser().getAsTag(),\n                userId, reason);\n    }\n</code></pre>\n<p>the error messages says it could not dm the user even though there dms were open</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1340381,"reputation":7826,"user_id":1282166,"accept_rate":66,"display_name":"Shudy"},"score":0,"creation_date":1635246247,"post_id":69721824,"comment_id":123239683,"body_markdown":"Hi @James, please, add more details from which classes do you want to call this method,where is this method, etc..\n\nPaste the need of the other files, so we can help you","body":"Hi @James, please, add more details from which classes do you want to call this method,where is this method, etc..  Paste the need of the other files, so we can help you"},{"owner":{"account_id":14539684,"reputation":334,"user_id":10501799,"display_name":"James"},"score":0,"creation_date":1635247056,"post_id":69721824,"comment_id":123239992,"body_markdown":"hi @Shudy   i have updated question with code. my main issue is i dont get access to view from method called outside from its class","body":"hi @Shudy   i have updated question with code. my main issue is i dont get access to view from method called outside from its class"},{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":0,"creation_date":1635247530,"post_id":69721824,"comment_id":123240186,"body_markdown":"Follow this Link : https://stackoverflow.com/a/34951687/11138845","body":"Follow this Link : <a href=\"https://stackoverflow.com/a/34951687/11138845\">stackoverflow.com/a/34951687/11138845</a>"}],"answers":[{"tags":[],"owner":{"account_id":18388078,"reputation":11,"user_id":15738517,"display_name":"last_shadow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635253128,"creation_date":1635253128,"answer_id":69723572,"question_id":69721824,"body_markdown":"you can&#39;t call a graphical interface that way because blank extends from activity so you need to have the interaction with the layout.\r\n\r\nWhat you could do is create a fragment with your own layout and embed it in different activities.\r\n\r\nYou could use a fragment that contains a button and this load it in your activities, for this you must create a framelayout within the layout of your activity where your fragment will be visible. \r\n\r\n**activity layout**\r\n\r\n[enter image description here][1]\r\n\r\n\r\n**Now you must create a fragment that contains a button**\r\n\r\n[enter image description here][2]\r\n\r\n**Now you must load this fragment in your activity** (if at some point you don&#39;t need it anymore you can empty the framelayout or make it invisible)\r\n\r\n[enter image description here][3]\r\n\r\nIn this way you can use the same button in different activities\r\n\r\n  [1]: https://i.stack.imgur.com/KZt3j.jpg\r\n  [2]: https://i.stack.imgur.com/5ZF4J.jpg\r\n  [3]: https://i.stack.imgur.com/auP85.jpg","title":"How to update Button visibility from another class?","body":"<p>you can't call a graphical interface that way because blank extends from activity so you need to have the interaction with the layout.</p>\n<p>What you could do is create a fragment with your own layout and embed it in different activities.</p>\n<p>You could use a fragment that contains a button and this load it in your activities, for this you must create a framelayout within the layout of your activity where your fragment will be visible.</p>\n<p><strong>activity layout</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KZt3j.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>Now you must create a fragment that contains a button</strong></p>\n<p><a href=\"https://i.stack.imgur.com/5ZF4J.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><strong>Now you must load this fragment in your activity</strong> (if at some point you don't need it anymore you can empty the framelayout or make it invisible)</p>\n<p><a href=\"https://i.stack.imgur.com/auP85.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>In this way you can use the same button in different activities</p>\n"}],"owner":{"account_id":14539684,"reputation":334,"user_id":10501799,"display_name":"James"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635253128,"creation_date":1635245796,"question_id":69721824,"body_markdown":"I want to call this function from another class.\r\n\r\nHow do I call it from another classs?.\r\n\r\nIt&#161;ss not possible to achieve using normal function call, as I am not getting access to the view of the main function.\r\n\r\n\r\n     public class Blank  extends Activity\r\n    {\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_call);\r\n            Button buttonHangup = (Button) findViewById(R.id.buttonHangup);\r\n            Button buttonHanup2=(Button) findViewById(R.id.buttonHangup2);\r\n            }\r\n     \r\n        public void bringBack(){\r\n    \r\n            Button buttonHangup = (Button) findViewById(R.id.buttonHangup);\r\n            Button buttonHanup2=(Button) findViewById(R.id.buttonHangup2);\r\n            buttonHangup.setText(&quot;Hangup no ok &quot;);\r\n            buttonHanup2.setVisibility(View.VISIBLE);\r\n    \r\n        }\r\n  \r\n    \r\n    }\r\n\r\n\r\nhow can i call this bringback function from another class as its not allowed to call using normal method call ...as i dont get access to button view from another class \r\neg  \r\n\r\n     Blank bl =new Blank();\r\n         bl.bringback()\r\n\r\nit wont work as i dont get access to button view ..\r\n","title":"How to update Button visibility from another class?","body":"<p>I want to call this function from another class.</p>\n<p>How do I call it from another classs?.</p>\n<p>It¡ss not possible to achieve using normal function call, as I am not getting access to the view of the main function.</p>\n<pre><code> public class Blank  extends Activity\n{\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_call);\n        Button buttonHangup = (Button) findViewById(R.id.buttonHangup);\n        Button buttonHanup2=(Button) findViewById(R.id.buttonHangup2);\n        }\n \n    public void bringBack(){\n\n        Button buttonHangup = (Button) findViewById(R.id.buttonHangup);\n        Button buttonHanup2=(Button) findViewById(R.id.buttonHangup2);\n        buttonHangup.setText(&quot;Hangup no ok &quot;);\n        buttonHanup2.setVisibility(View.VISIBLE);\n\n    }\n\n\n}\n</code></pre>\n<p>how can i call this bringback function from another class as its not allowed to call using normal method call ...as i dont get access to button view from another class\neg</p>\n<pre><code> Blank bl =new Blank();\n     bl.bringback()\n</code></pre>\n<p>it wont work as i dont get access to button view ..</p>\n"},{"tags":["java","rabbitmq","spring-amqp","spring-rabbit"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1635170006,"post_id":69688841,"comment_id":123216957,"body_markdown":"It was a very long time ago (corrected many years before the DMLC was created) - why do you need more information?","body":"It was a very long time ago (corrected many years before the DMLC was created) - why do you need more information?"},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1635232103,"post_id":69688841,"comment_id":123234025,"body_markdown":"I&#39;m a little curious about this change.&#129316;","body":"I&#39;m a little curious about this change.🤤"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635253093,"creation_date":1635253093,"answer_id":69723561,"question_id":69688841,"body_markdown":"I don&#39;t recall which version of `amqp-client` improved the threading, but it was around the time I joined the project (10+ years ago). \r\n\r\nIt just took us a few years to get around to rewriting the container (in 2016).\r\n\r\nWe kept the legacy SMLC as well as it still has some benefits, such as consumer-side batching.\r\n\r\nSee [Choosing a Container](https://docs.spring.io/spring-amqp/docs/current/reference/html/#choose-container).","title":"What kind of threading model changes led to DMLC","body":"<p>I don't recall which version of <code>amqp-client</code> improved the threading, but it was around the time I joined the project (10+ years ago).</p>\n<p>It just took us a few years to get around to rewriting the container (in 2016).</p>\n<p>We kept the legacy SMLC as well as it still has some benefits, such as consumer-side batching.</p>\n<p>See <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#choose-container\" rel=\"nofollow noreferrer\">Choosing a Container</a>.</p>\n"}],"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69723561,"answer_count":1,"score":0,"last_activity_date":1635253093,"creation_date":1634997714,"question_id":69688841,"body_markdown":"The doc explains why DMLC was introduced in version 2: \r\nhttps://docs.spring.io/spring-amqp/reference/html/#choose-container\r\n\r\n&gt;  This architecture was required because, in early versions of the RabbitMQ client, multiple concurrent deliveries were not possible. Newer versions of the client have a revised threading model and can now support concurrency. This has allowed the introduction of the DMLC where the listener is now invoked directly on the RabbitMQ Client thread. Its architecture is, therefore, actually “simpler” than the SMLC. \r\n\r\nAs mentioned in the doc:  _a revised threading model and can now support concurrency_. \r\n\r\nCan I simply understand it like this:\r\n\r\nThe previous version of the client will not make concurrent calls to the ```handleDelivery``` method, so we need to use a queue : just put the message in the queue and wait for other thread to consume, so ```handleDelivery``` method will return immediately to avoid blocking subsequent delivery, but the new version of the rabbit client will call the ```handleDelivery``` method concurrently, so there is no need to use an queue to support concurrency.\r\n\r\nCan someone explain in more detail about what kind of threading model changes led to DMLC?\r\n\r\n\r\n","title":"What kind of threading model changes led to DMLC","body":"<p>The doc explains why DMLC was introduced in version 2:\n<a href=\"https://docs.spring.io/spring-amqp/reference/html/#choose-container\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/reference/html/#choose-container</a></p>\n<blockquote>\n<p>This architecture was required because, in early versions of the RabbitMQ client, multiple concurrent deliveries were not possible. Newer versions of the client have a revised threading model and can now support concurrency. This has allowed the introduction of the DMLC where the listener is now invoked directly on the RabbitMQ Client thread. Its architecture is, therefore, actually “simpler” than the SMLC.</p>\n</blockquote>\n<p>As mentioned in the doc:  <em>a revised threading model and can now support concurrency</em>.</p>\n<p>Can I simply understand it like this:</p>\n<p>The previous version of the client will not make concurrent calls to the <code>handleDelivery</code> method, so we need to use a queue : just put the message in the queue and wait for other thread to consume, so <code>handleDelivery</code> method will return immediately to avoid blocking subsequent delivery, but the new version of the rabbit client will call the <code>handleDelivery</code> method concurrently, so there is no need to use an queue to support concurrency.</p>\n<p>Can someone explain in more detail about what kind of threading model changes led to DMLC?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8082,"page":1910,"page_size":100}
